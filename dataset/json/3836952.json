[{"id":109094220,"iid":3076,"project_id":3836952,"title":"SCORU: WASM: Tickify module initialization","description":"`Eval.init` from the WebAssembly reference interpreter needs to be tickify. It has a significant time complexity cost and must be broken up.\n\n!5552 introduces lazy vectors instead of list for the module fields, which are then converted into list in `init`, then back to lazy vectors. Tickification can remove these conversions roundtrip by directly going from lazy vector to lazy vector, and evaluate the fields as small steps.\n\nRemaining:\n- Remove all uses of to_list\/concat\/of_list from `Eval.init`","state":"closed","created_at":1653475848155,"updated_at":1662562308133,"closed_at":1662562308116,"closed_by":{"id":7921723,"username":"lthms","name":"Thomas Letan","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/7921723\/avatar.png","web_url":"https:\/\/gitlab.com\/lthms"},"labels":["scoru"],"milestone":{"id":2725830,"iid":107,"project_id":3836952,"title":"(OKR 2022Q3 - 2.1) SCORU Wasm - Small Ticks","description":"\r\n# Goal\r\n\r\nCompletion of this milestone allows to enable SCORU + Wasm on mainnet.\r\n\r\n### Background\r\n\r\nThe goal of this milestone is to complete the implementation of the Wasm PVM and obtain confidence that:\r\n\r\n1. Layer 1 is safe: The WASM PVM cannot be used to attack the layer-1  by exploiting unbound computation time.\r\n2. Layer 2 is safe: The WASM PVM produces execution step within the SCORU size limit.\r\n3. Correctness: The WASM PVM implements WASM semantics. Limitations and restriction are documented.\r\n\r\n\r\n#### Stuck state\r\n\r\nCritical failure conditions in the PVM (\"assert false\" situations) is responded to by placing the PVM in a stuck state, where it no longer advances meaningfully, similar to a \"bluescreen of death\". \r\n\r\nTogether with #2198 and #3561, we enforce that the worst outcome of  stuck state is an asset-lockup situation, not an arbitrary-withdrawal situation.\r\n\r\n\r\n#### Breaking changes\r\n\r\nWe will need to prioritize carefully the remaining work, such that\r\n\r\n1. We have a WASM PVM working in mid-September.\r\n2. Missing features of the WASM PVM can be implemented without completely breaking originated rollup.\r\n3. Any breaking change needs to be backed-up by a migration plan.\r\n\r\nEstimate: 12pw\r\n\r\n\r\n# Current work\/MRs\r\n- Gas metering for compute-step function #3548 @ole.kruger\r\n- Tickify module initialization #3076 @lthms \r\n- Non-recursive admin instructions #3606 @hans.hoglund \r\n- Nominal gast cost of proof verification #3164 @yrg \r\n\r\n# Breakdown\r\n\r\n<details>\r\n<summary>Work to be reevaluated<\/summary>\r\n\r\n## L1 can control L2 semantics divergence\r\n\r\nThe goal of these tasks was to provide safe guard for ensuring a L2 tick cannot be underevaluated from the perspective of the L1 gas consumption.\r\n\r\nThe methods explored are not satisfactory, and we believe there are other means to achieve this goal, in particular the hardening of the L2 implementation.\r\n\r\n- [ ] Gas metering for compute-step function in WASM PVM #3548\r\n- [ ] Nominal gast cost of proof verification #3164 (handle in %\"Smart Contract Rollup Hardening?)\r\n\r\n## Test-suite conformance\r\n\r\nThis can be re-explore during the stabilization period, but if we have a large number of testing kernels, this is probably not necessary\/of high priority.\r\n\r\n- [ ] Instrument the WASM test-suite to do a decode-eval-encode loop during parsing #3500 \r\n\r\n<\/details>\r\n\r\n## PVM Life cycle and correctness\r\n- [x] Handling all inputs per commitment !6698\r\n\r\n\r\n## Small-step decode and initialization\r\n\r\n- [X] Add merkleized representation of parser state #3150 !5891 \r\n- [X] Add merkleized representation of the parsed AST #3149\r\n- [X] Scoru_wasm: Parser state encodings !5891 \r\n- [x] Merkleization of the parser's input #3224 \r\n- [x] Tickify module initialization #3076\r\n- [x] Tickify linking #3786 \r\n- [x] Non-recursive admin instructions #3606\r\n\r\nOnce this is all done, then we close this:\r\n\r\n- [x] Ensure \"unsafe\" functions are never used inside the PVM #3378\r\n\r\n<details>\r\n<summary>Done<\/summary>\r\n\r\n## Error handling\r\n- [x] lib_lazy_containers + lib_webassembly: make exceptions distinguishable (improves error reporting) !6097\r\n- [X] **lib_scoru_wasm: disallow exceptions in entry-point functions #3448** !6101 !6097\r\n\r\n<\/details>\r\n\r\n## Code quality (Critical)\r\n- [X] Factor out module-registry from AST func nodes #3492 Nice to have \ud83d\udc76\r\n- [X] Lib_webassembly: cleanup deadcode #3334 Code quality \ud83c\udf1f Nice to have \ud83d\udc76\r\n- [x] WASM PVM: Simplify decoding logic for WASM PVM #3444\r\n\r\n## Documentation\r\n- [x] Document version of spec and subset\/additions #3117 doc \r\n\r\n<details>\r\n<summary>To be revisited when the remaining tasks are done<\/summary>\r\n\r\n## Code quality (Nice-to-Have)\r\n- [ ] WASM: Follow up items for lazy-containers #3535 \r\n- [ ] Increase the message size limit for faster loading #3361 \r\n- [ ] Use ppx_deriving.show for AST pretty-printer #3456 \r\n- [ ] Lib_webassembly: fix unused variables #3304 \r\n- [ ] Single source of truth for function types #3396 \r\n- [ ] More compact output proofs #3237 \r\n- [ ] WASM Parser: refactoring of duplicated code #3120 \r\n- [ ] Wasm PVM: Remove duplication in input proofs #3091 \r\n- [ ] Binary parsing: Reuse a unique lazy stack #3569 \r\n- [ ] Drop locations from AST #3566 \r\n- [ ] Increase confidence in Interpreter_encodings boilerplate #3565 \r\n- [ ] SCORU WASM: Derive AST generators #3511 \r\n- [ ] Lib_scoru_wasm: Improve wasm encoding schema with named fields #3469 \r\n- [ ] Use library function for Assert.false and replicate #3532\r\n- [ ] Add generators for vector instructions #3455\r\n- [ ] Add tests for corner cases in Chunked_byte_vector #3085\r\n- [ ] Test tree encoding with official Wasm test suite #3570\r\n\r\n<\/details>\r\n","state":"closed","created_at":"2022-08-04T17:13:44.166Z","updated_at":"2022-11-16T08:34:25.529Z","due_date":"2022-09-16","start_date":"2022-08-12","expired":true,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/107"},"assignees":[{"id":7921723,"username":"lthms","name":"Thomas Letan","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/7921723\/avatar.png","web_url":"https:\/\/gitlab.com\/lthms"}],"author":{"id":10768348,"username":"ole.kruger","name":"Ole Kr\u00fcger","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/10768348\/avatar.png","web_url":"https:\/\/gitlab.com\/ole.kruger"},"type":"ISSUE","assignee":{"id":7921723,"username":"lthms","name":"Thomas Letan","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/7921723\/avatar.png","web_url":"https:\/\/gitlab.com\/lthms"},"user_notes_count":5,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":"2022-08-24","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/3076","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3076","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3076\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3076\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#3076","relative":"#3076","full":"tezos\/tezos#3076"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":95278232,"iid":1884,"project_id":3836952,"title":"Make tezos-proxy-server honor \/chains\/main\/block\/head\/header","description":"`Tezos Commons` is willing to use `tezos-proxy-server` in their deployment. Their main target is to use it for `run_operations`, which works already :muscle:. However, they were surprised that it is not serving `\/chains\/main\/block\/head\/header` too.\n\nIndeed `tezos-proxy-server` doesn't serve it, because it is registered in a resto `Directory` in `block_directory.ml` while the proxy server serves `Plugin.RPC.rpc_services`. If we were to do this, it would go something like:\n\n```diff\n--- a\/src\/proto_alpha\/lib_client\/proxy.ml\n+++ b\/src\/proto_alpha\/lib_client\/proxy.ml\n@@ -163,6 +163,28 @@ let init_env_rpc_context (_printer : Tezos_client_base.Client_context.printer)\n   initial_context proxy_builder rpc_context mode chain block >>= fun context ->\n   return {Tezos_protocol_environment.block_hash; block_header = shell; context}\n \n+let block_services_dir (rpc_context : RPC_context.json) =\n+  let open Protocol in\n+  let module Directory = Resto_directory.Make (RPC_encoding) in\n+  let rpc_context = new Protocol_client_context.wrap_rpc_context rpc_context in\n+  let open Tezos_shell_services in\n+  let path =\n+    let open Tezos_rpc.RPC_path in\n+    prefix Block_services.chain_path Block_services.path\n+  in\n+  let service =\n+    Tezos_rpc.RPC_service.prefix path Block_services.Empty.S.header\n+  in\n+  Directory.register Directory.empty service (fun (((), chain), block) ->\n+      let res =\n+        Protocol_client_context.Alpha_block_services.header\n+          rpc_context\n+          ~chain\n+          ~block\n+          ()\n+      in\n+      assert false)\n+\n```\n\nor exposing `proxy.ml`'s `proxy_block_header` function in some way.","state":"closed","created_at":1634039654627,"updated_at":1662043350544,"closed_at":1662043350517,"closed_by":{"id":5738128,"username":"smelc","name":"Cl\u00e9ment Hurlin","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/5738128\/avatar.png","web_url":"https:\/\/gitlab.com\/smelc"},"labels":["Nice to have \ud83d\udc76","proxy"],"milestone":{"id":2244729,"iid":42,"project_id":3836952,"title":"(OKR 2022Q3 - 3.5) Light mode v2 + Proxy\/Light pimping","description":"## Roadmap\r\n\r\n_In this roadmap, the _support people_ are devs that can help us on specific topics\/are knowledgeable about what we do; so that I (@smelc) am not a bottleneck._\r\n\r\nAll 3 objectives have been completely implemented. For the record below; we have left how we proceeded.\r\n\r\n- Optional, for @smelc: #2380, requires sync with the cache people (@yrg, @Saroupille). Sync happened on January 27th. There seems to be no problem with the cache. Read-write control with !4300 seems fine.\r\n- Do #2385 - `Test Proxy_context's delegation` first, it's a nice onboarding test task, ongoing here by @LitchiPi: https:\/\/gitlab.com\/tezos\/tezos\/-\/commits\/timcer@test_proxy_context. Support people: @sventimir \r\n- In parallel to #2385, #2391 - `Refactoring: pack args of functions of src\/proto_*\/lib_client\/proxy.ml into a record` can be done. It's a small onboarding task that on the required path. Support people: @richard.bonichon done\r\n- Then possibly do #2381 - `test Proxy_context, fix Proxy_context.{list, fold}`, a more advanced test task that requires changing `Proxy_context`. Support people: @sventimir, @samoht \r\n- After #2391 above, do #2430 - `tezos-proxy-server: add --data-dir option` which prepares for the central piece this objective is about. done\r\n- The central MR is https:\/\/gitlab.com\/tezos\/tezos\/-\/merge_requests\/4684. Once it is merged we can deem this objective finished.\r\n\r\nObjective 2 has been completely implemented:\r\n\r\n- We discussed with the Irmin people on January 24th, they explained us the new proof APIs from Irmin 2.10. These APIs seem to be more powerful than what we need, guidance is required to do the right thing :copyright:\r\n- We need https:\/\/gitlab.com\/tezos\/tezos\/-\/merge_requests\/4086 merged\r\n- We also need https:\/\/gitlab.com\/tezos\/tezos\/-\/merge_requests\/4307\r\n- And then ideally, we can reuse https:\/\/gitlab.com\/tezos\/tezos\/-\/merge_requests\/4449 (which builds on top of the two previous ones)\r\n- Roughly half of the work has been done in this branch: [smelc@merkle-proofs-for-light-mode-v2](https:\/\/gitlab.com\/nomadic-labs\/tezos\/-\/commits\/smelc@merkle-proofs-for-light-mode-v2). This PoC needs to be rebased and tests to be adapted. But the heavy lifting in `lib_context` and `lib_proxy` has been done.\r\n- Final version of the work is https:\/\/gitlab.com\/tezos\/tezos\/-\/merge_requests\/5535\r\n\r\n## Objective 1: make [tezos-proxy-server](https:\/\/tezos.gitlab.io\/user\/proxy-server.html) capable of using a node's data-dir instead of RPCs done\r\n\r\nThis objective consists of:\r\n\r\n- Adding a new `--data-dir` option to `tezos-proxy-server`, exclusive with `--endpoint` (see `.\/tezos-proxy-server --help` at tezos\/tezos root for doc). This will require changing `src\/bin_proxy_server` and `src\/lib_proxy_server_config`.\r\n- Implementing this flag means passing a different `M.proxy_delegate` to [Proxy_context.empty](https:\/\/gitlab.com\/tezos\/tezos\/-\/blob\/934c9b97c847293f3cf08651c9b3b35514467505\/src\/lib_protocol_environment\/proxy_context.ml#L272). This new implementation should be backed by a `Shell_context` that reads the `data-dir` like the baker does in [baking_simulator.ml](https:\/\/gitlab.com\/tezos\/tezos\/-\/blob\/934c9b97c847293f3cf08651c9b3b35514467505\/src\/proto_alpha\/lib_delegate\/baking_simulator.ml#L68)\r\n\r\n## Objective 2: Light mode v2\r\n\r\nThe current version of `tezos-client` `--mode light` doesn't use true Merkle proofs. It uses shallow trees. However, since Irmin 2.8 in Fall 2021, shallow trees are barely working and hereby make the light mode rely on a dirty hack visible in [lib_proxy\/local_context.ml](https:\/\/gitlab.com\/tezos\/tezos\/-\/blob\/4af5c52fded819bf910dd02968be47fbf6650eb2\/src\/lib_proxy\/local_context.ml#L48). The point of this project is to make this right again, hereby having a robust light mode again. The use of shallow trees is visible in:\r\n\r\n- The type of trees: [merkle_tree](https:\/\/gitlab.com\/tezos\/tezos\/-\/blob\/1f091e90686aa74083b071e8a1ba36299cde9635\/src\/lib_shell_services\/block_services.ml#L254)\r\n- The code that builds such trees: [merkle_tree t leaf_kind key](https:\/\/gitlab.com\/tezos\/tezos\/-\/blob\/1f091e90686aa74083b071e8a1ba36299cde9635\/src\/lib_context\/context.ml#L325)\r\n\r\nIn the latter function, if `leaf_kind` ([definition here](https:\/\/gitlab.com\/tezos\/tezos\/-\/blob\/1f091e90686aa74083b071e8a1ba36299cde9635\/src\/lib_shell_services\/block_services.ml#L257)) is `Hole`, a merkle tree like this will be returned when querying `\/a\/b2\/c`:\r\n\r\n```\r\n    hash_a\r\n   \/     \\\r\nhash_b1   hash_b2\r\n            \\\r\n           hash_c\r\n```\r\n\r\nIn this context, a true Merkle proof would be to return `hash(hash_a, hash(hash_b1, hash(hash_b2, hash_c)))`. In this new version of the light mode, the resulting hash would still be the same as the hash of the tree returned by `merkle_tree t leaf_kind key` with `leaf_kind` being `Raw_context`, which has this shape:\r\n\r\n```\r\n    hash_a\r\n   \/     \\\r\nhash_b1   hash_b2\r\n            \\\r\n           raw_context containing data of c\r\n```\r\n\r\nwhere raw_context is [this type](https:\/\/gitlab.com\/tezos\/tezos\/-\/blob\/1f091e90686aa74083b071e8a1ba36299cde9635\/src\/lib_shell_services\/block_services.ml#L187).\r\n\r\nOnce true Merkle proofs are returned, the algorithm that checks that the tree obtained from one `tezos-node` with `leaf_kind=Raw_context` matches with the trees obtained from many `tezos-node` with `leaf_kind=Hole` can be simplified. This algorithm, that right now checks for [tree inclusion](https:\/\/gitlab.com\/tezos\/tezos\/-\/blob\/1f091e90686aa74083b071e8a1ba36299cde9635\/src\/lib_proxy\/light_internal.ml#L218), will have to compute the Merkle hash of the tree obtained with `leaf_kind=Raw_context` and check it matches the incoming Merkle hashes.\r\n\r\nTo do this, we will use the new `proofs` API that Irmin provided in [release 2.10](https:\/\/github.com\/mirage\/irmin\/releases\/tag\/2.10.0) and which happens to have been merged recently in tezos\/tezos: https:\/\/gitlab.com\/tezos\/tezos\/-\/merge_requests\/4138. From afar, it looks like this will go as follows:\r\n\r\n1. Use the new proof producing facility of Irmin to implement function `merkle_tree` in [src\/lib_context\/context.ml](https:\/\/gitlab.com\/tezos\/tezos\/-\/blob\/3e0b16f703abbbde091c1c30d1e9b25290607a52\/src\/lib_context\/context.ml#L359).\r\n1. Update the light mode internal to use the new Irmin proofs starting [here in src\/lib_proxy\/light_core.ml](https:\/\/gitlab.com\/tezos\/tezos\/-\/blob\/3e0b16f703abbbde091c1c30d1e9b25290607a52\/src\/lib_proxy\/light_core.ml#L208). This will allow to replace the custom shallow tree validation algorithm with Irmin's own proof verification system.\r\n\r\n## Objective 3 (optional): Proxy\/light mode pimping\r\n\r\nContext: the light mode is a specialized instance of the proxy mode. Hence, enhancements to the proxy mode below also affect the light mode.\r\n\r\n### Fix the proxy mode implementation\r\n\r\nDone in https:\/\/gitlab.com\/tezos\/tezos\/-\/merge_requests\/4628\r\n\r\nThe proxy mode implementation is incorrect for enumerating functions like `list` and `fold` because the corresponding implementation does not query the distant endpoint. This is visible [here](https:\/\/gitlab.com\/tezos\/tezos\/-\/blob\/1f091e90686aa74083b071e8a1ba36299cde9635\/src\/lib_protocol_environment\/proxy_context.ml#L185). This function should use the available `t.proxy` value (of type `M.proxy_delegate option`) to query the distant endpoint.\r\n\r\nThis implementation was written wrong because it was written when an API was extended (and so the proxy mode had to provide it), but it was never tested in the context of the proxy mode.\r\n\r\nThere are tests witnessing this issue: https:\/\/gitlab.com\/tezos\/tezos\/-\/merge_requests\/3438\/diffs#4b8ec5237158a5810d201d05a82c8b7d9b292c4f. This was discovered in the context of https:\/\/gitlab.com\/tezos\/tezos\/-\/merge_requests\/3421 (which wanted to make use of these new functions).\r\n\r\n## ~~Out of scope objective: Clarify when a RPC request uses the light mode or not~~ deemed irrelevant\r\n\r\n~~Even with `--mode light`, not all requests make use of the light mode capability, because the light mode intercepts the requests to the low-level storage. If a request does not use the low-level storage, then it won't benefit of the light mode. We should try to see whether we can rewrite some high-level commands so that they are more likely to go through the light mode when it is activated.~~","state":"closed","created_at":"2021-09-22T08:31:43.499Z","updated_at":"2022-10-03T14:32:45.581Z","due_date":"2022-10-03","start_date":"2022-01-17","expired":true,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/42"},"assignees":[],"author":{"id":5738128,"username":"smelc","name":"Cl\u00e9ment Hurlin","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/5738128\/avatar.png","web_url":"https:\/\/gitlab.com\/smelc"},"type":"ISSUE","assignee":null,"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/1884","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":24,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/1884","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/1884\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/1884\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#1884","relative":"#1884","full":"tezos\/tezos#1884"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":95043610,"iid":1873,"project_id":3836952,"title":"Small merge requests are encouraged, but this is not documented","description":"There is consensus in the merge team to favor small merge requests. However, this is not stated in the documentation; and this caused confusion in the past. Also, it happened that small merge requests introducing dead code were rejected because this policy was not well known enough.","state":"closed","created_at":1633613016887,"updated_at":1634032979331,"closed_at":1634032979316,"closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/8770486\/avatar.png","web_url":"https:\/\/gitlab.com\/nomadic-margebot"},"labels":["doc \ud83d\udcd6"],"milestone":{"id":2239221,"iid":41,"project_id":3836952,"title":"Merge Stream Speedup","description":"# Mission\r\n\r\nCurate and coordinate the stream of merge requests coming into the repo. Help the community improve the MR process.\r\n\r\n- Provide assistance with the social and software engineering techniques required to accelerate progress of MRs.\r\n- Supervise the open (non-draft) MRs to ensure that the right actions are being taken; advise.\r\n- Educate the developer community about how to work faster by working better.\r\n- Assist with removing blockers.\r\n- Assist with notifying blocking persons that they are a bottleneck.\r\n- Improve and augment the documentation about the MR process for Tezos core.\r\n- ~~Regularly publish metrics and status ([example](https:\/\/docs.google.com\/spreadsheets\/d\/1eMiIsBQ4J_U0dQpCLWADglQubCNKDQGQEnTQrILQ_Fw\/edit?usp=sharing)) to the community so that it can respond and improve.~~ _This goal was removed since @smelc is assigned to this at 50% instead of the initial 100%._\r\n- Actually perform MR reviews\/approvals where appropriate.\r\n- Coordinate with and alert personnel working on CI in the case of problems that affect the flow of MRs.\r\n- Help MR authors understand their responsibilities.\r\n\r\n# Crew members, Nov 15th 2021 -> Dec 3rd (end)\r\n\r\n- Cl\u00e9ment Hurlin, [@smelc](https:\/\/gitlab.com\/smelc), DRI, 50%\r\n  - Accelerate progress of MRs\r\n  - Identify blockers, ping people, prioritize MRs so that blockers are acted on first\r\n  - Augment the documentation regarding the MR process (see MR tab below)\r\n  - Perform reviews, approve, upgrade approvals\r\n  - Advice MR authors, citing a lot the documentation to spread knowledge\r\n\r\n# Crew members, from Sept 20th 2021 (start) to Nov 14th 2021\r\n\r\n- Cl\u00e9ment Hurlin, [@smelc](https:\/\/gitlab.com\/smelc), DRI, 50%\r\n  - Accelerate progress of MRs\r\n  - Identify blockers, ping people, prioritize MRs so that blockers are acted on first\r\n  - Augment the documentation regarding the MR process (see MR tab below)\r\n  - Perform reviews, approve, upgrade approvals\r\n  - Advice MR authors, citing a lot the documentation to spread knowledge\r\n- Rapha\u00ebl Cauderlier, [@rafoo_](https:\/\/gitlab.com\/rafoo_)\r\n  - Perform reviews, approve\r\n  - Work on MRs that have languished for too long\r\n  - ~~Define metrics, implement them~~ (see above)\r\n  - Advice MR authors, citing a lot the documentation to spread knowledge\r\n- Victor Allombert, [@vect0r](https:\/\/gitlab.com\/vect0r)\r\n  - Perform reviews, approve\r\n  - Advice MR authors, citing a lot the documentation to spread knowledge\r\n\r\n# Our activity\r\n\r\n* Our dispatching activity is tracked in [tezos-merge-statuses\/-\/commits](https:\/\/gitlab.com\/smelc\/tezos-merge-statuses\/-\/commits\/main).\r\n* We wrote a script to drive our action: https:\/\/gitlab.com\/smelc\/tezos_merge_team_scripts\r\n\r\n# End of Mission\r\n\r\nThe initial project (with three members) lasted from September 20th 2021 to November 14th 2021. It was a time-boxed project with a fixed end date (since the acceptance criteria are subjective).\r\n\r\nStarting November 15th 2021, this project only member is @smelc and the objective is to maintain tezos\/tezos good health MR-wise and continue spreading best practices.","state":"closed","created_at":"2021-09-18T19:24:14.805Z","updated_at":"2021-12-03T14:09:26.002Z","due_date":"2021-12-04","start_date":"2021-09-20","expired":true,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/41"},"assignees":[],"author":{"id":5738128,"username":"smelc","name":"Cl\u00e9ment Hurlin","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/5738128\/avatar.png","web_url":"https:\/\/gitlab.com\/smelc"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/1873","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/1873","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/1873\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/1873\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#1873","relative":"#1873","full":"tezos\/tezos#1873"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":126542462,"iid":5429,"project_id":3836952,"title":"Gossipsub: Remove peers from the mesh and fanout on unsubscribe","description":"Remove peers from the topic mesh when the peer unsubscribes from the topic, as done in the [rust implementation](https:\/\/github.com\/libp2p\/rust-libp2p\/blob\/b7ba0f728633c1c0e0bc67339e5b5002bb9adb0f\/protocols\/gossipsub\/src\/behaviour.rs#L2029).\n\nAdditionally, we remove the peers from the fanout on unsubscribe. This is not done in go\/rust (they wait until the next heartbeat for the fanout to be cleaned) but we do it in unsusbcribe as it makese sense and is more consistent with the cleaning of mesh on unsubscribe.","state":"closed","created_at":1681296528850,"updated_at":1681459826839,"closed_at":1681459826809,"closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/8770486\/avatar.png","web_url":"https:\/\/gitlab.com\/nomadic-margebot"},"labels":["DAL"],"milestone":{"id":3005814,"iid":192,"project_id":3836952,"title":"DAL: Implementing gossipsub","description":"This milestone is part of the DAL design described in [this document](https:\/\/hackmd.io\/@p-cUv0l5RNaDKBCowZ0IzA\/HJgFgSzpo). \r\n\r\n### Motivation\r\n\r\nThe current Octez P2P library implements two protocols:\r\n- One to instantiate a secure channel with another peer on top of the TCP protocol\r\n- One to implement a gossip algorithm with peer discovery\r\n\r\nThe first protocol fits the needs of the DAL, but the second does not. The technical solution chosen was to implement another gossip algorithm called [gossipsub](https:\/\/github.com\/libp2p\/specs\/tree\/master\/pubsub\/gossipsub). The DAL design document explains and argue why this algorithm fits to the needs of the DAL.\r\n\r\n### Scope\r\n\r\nThis milestone is part of the OKR **Design for P2P that supports sampling**.\r\n\r\n### Design\r\n\r\nRefer to this [subsection](https:\/\/hackmd.io\/@p-cUv0l5RNaDKBCowZ0IzA\/HJgFgSzpo\/https%3A%2F%2Fhackmd.io%2FUQuA_59QRdOjU47fGM9CsQ%23Topological-constraints#Integrating-gossipsub-in-the-Tezos-codebase) of the DAL design document.\r\n\r\n### Work breakdown\r\n\r\nCheckout the [Meeting notes](https:\/\/hackmd.io\/LLe-SedVSeqknK2ghF8tQw)","state":"active","created_at":"2023-02-27T09:42:42.776Z","updated_at":"2023-04-18T12:24:54.395Z","due_date":"2023-05-26","start_date":"2023-02-27","expired":false,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/192"},"assignees":[{"id":11214295,"username":"linoscope","name":"Lin Oshitani","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/11214295\/avatar.png","web_url":"https:\/\/gitlab.com\/linoscope"}],"author":{"id":11214295,"username":"linoscope","name":"Lin Oshitani","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/11214295\/avatar.png","web_url":"https:\/\/gitlab.com\/linoscope"},"type":"ISSUE","assignee":{"id":11214295,"username":"linoscope","name":"Lin Oshitani","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/11214295\/avatar.png","web_url":"https:\/\/gitlab.com\/linoscope"},"user_notes_count":1,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/5429","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":100,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/5429","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/5429\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/5429\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#5429","relative":"#5429","full":"tezos\/tezos#5429"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":126049644,"iid":5305,"project_id":3836952,"title":"Gossipsub: Only graft peers that subscribed to a topic","description":"We should have the invariant that any time a peer asked to graft us, we should know he subscribed to this topic.","state":"closed","created_at":1680251301264,"updated_at":1681755434326,"closed_at":1681755434291,"closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/8770486\/avatar.png","web_url":"https:\/\/gitlab.com\/nomadic-margebot"},"labels":[],"milestone":{"id":3005814,"iid":192,"project_id":3836952,"title":"DAL: Implementing gossipsub","description":"This milestone is part of the DAL design described in [this document](https:\/\/hackmd.io\/@p-cUv0l5RNaDKBCowZ0IzA\/HJgFgSzpo). \r\n\r\n### Motivation\r\n\r\nThe current Octez P2P library implements two protocols:\r\n- One to instantiate a secure channel with another peer on top of the TCP protocol\r\n- One to implement a gossip algorithm with peer discovery\r\n\r\nThe first protocol fits the needs of the DAL, but the second does not. The technical solution chosen was to implement another gossip algorithm called [gossipsub](https:\/\/github.com\/libp2p\/specs\/tree\/master\/pubsub\/gossipsub). The DAL design document explains and argue why this algorithm fits to the needs of the DAL.\r\n\r\n### Scope\r\n\r\nThis milestone is part of the OKR **Design for P2P that supports sampling**.\r\n\r\n### Design\r\n\r\nRefer to this [subsection](https:\/\/hackmd.io\/@p-cUv0l5RNaDKBCowZ0IzA\/HJgFgSzpo\/https%3A%2F%2Fhackmd.io%2FUQuA_59QRdOjU47fGM9CsQ%23Topological-constraints#Integrating-gossipsub-in-the-Tezos-codebase) of the DAL design document.\r\n\r\n### Work breakdown\r\n\r\nCheckout the [Meeting notes](https:\/\/hackmd.io\/LLe-SedVSeqknK2ghF8tQw)","state":"active","created_at":"2023-02-27T09:42:42.776Z","updated_at":"2023-04-18T12:24:54.395Z","due_date":"2023-05-26","start_date":"2023-02-27","expired":false,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/192"},"assignees":[{"id":11214295,"username":"linoscope","name":"Lin Oshitani","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/11214295\/avatar.png","web_url":"https:\/\/gitlab.com\/linoscope"}],"author":{"id":5263657,"username":"Saroupille","name":"Fran\u00e7ois Thir\u00e9","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/dcecc9a8d97b503a3d28025c9b78e8ab?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/Saroupille"},"type":"ISSUE","assignee":{"id":11214295,"username":"linoscope","name":"Lin Oshitani","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/11214295\/avatar.png","web_url":"https:\/\/gitlab.com\/linoscope"},"user_notes_count":3,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/5305","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":100,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/5305","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/5305\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/5305\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#5305","relative":"#5305","full":"tezos\/tezos#5305"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":125947472,"iid":5275,"project_id":3836952,"title":"[GS\/Automaton] add a Already_published case in [`Publish] output","description":"Currently, we have one case for `handle_publish`: We don't check if the message is already known. We should add a case `Already_published` for the case where the message is already published","state":"closed","created_at":1680095839167,"updated_at":1680271803434,"closed_at":1680271803402,"closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/8770486\/avatar.png","web_url":"https:\/\/gitlab.com\/nomadic-margebot"},"labels":["DAL"],"milestone":{"id":3005814,"iid":192,"project_id":3836952,"title":"DAL: Implementing gossipsub","description":"This milestone is part of the DAL design described in [this document](https:\/\/hackmd.io\/@p-cUv0l5RNaDKBCowZ0IzA\/HJgFgSzpo). \r\n\r\n### Motivation\r\n\r\nThe current Octez P2P library implements two protocols:\r\n- One to instantiate a secure channel with another peer on top of the TCP protocol\r\n- One to implement a gossip algorithm with peer discovery\r\n\r\nThe first protocol fits the needs of the DAL, but the second does not. The technical solution chosen was to implement another gossip algorithm called [gossipsub](https:\/\/github.com\/libp2p\/specs\/tree\/master\/pubsub\/gossipsub). The DAL design document explains and argue why this algorithm fits to the needs of the DAL.\r\n\r\n### Scope\r\n\r\nThis milestone is part of the OKR **Design for P2P that supports sampling**.\r\n\r\n### Design\r\n\r\nRefer to this [subsection](https:\/\/hackmd.io\/@p-cUv0l5RNaDKBCowZ0IzA\/HJgFgSzpo\/https%3A%2F%2Fhackmd.io%2FUQuA_59QRdOjU47fGM9CsQ%23Topological-constraints#Integrating-gossipsub-in-the-Tezos-codebase) of the DAL design document.\r\n\r\n### Work breakdown\r\n\r\nCheckout the [Meeting notes](https:\/\/hackmd.io\/LLe-SedVSeqknK2ghF8tQw)","state":"active","created_at":"2023-02-27T09:42:42.776Z","updated_at":"2023-04-18T12:24:54.395Z","due_date":"2023-05-26","start_date":"2023-02-27","expired":false,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/192"},"assignees":[],"author":{"id":1517950,"username":"iguerNL","name":"Mohamed IGUERNLALA","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/1517950\/avatar.png","web_url":"https:\/\/gitlab.com\/iguerNL"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/5275","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":100,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/5275","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/5275\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/5275\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#5275","relative":"#5275","full":"tezos\/tezos#5275"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":125933482,"iid":5269,"project_id":3836952,"title":"Gossipsub: Fix logic for publishing to direct peers","description":"From https:\/\/gitlab.com\/tezos\/tezos\/-\/merge_requests\/8248#note_1332465561\n\n> In our implementation, the `direct` peers are only considered in the case where\n>\n> * mesh is empty for the topic.\n> * fanout is empty for the topic.\n>\n>(i.e. the `match fanout_opt with | None ->` case above)\n>\n> But in the go implementation, the message is published to the `direct` peers regardless of the `mesh`\/`fanout` emptiness: https:\/\/github.com\/libp2p\/go-libp2p-pubsub\/blob\/56c0e6c5c9dfcc6cd3214e59ef19456dc0171574\/gossipsub.go#L997","state":"closed","created_at":1680075159392,"updated_at":1681780201278,"closed_at":1681780201253,"closed_by":{"id":11214295,"username":"linoscope","name":"Lin Oshitani","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/11214295\/avatar.png","web_url":"https:\/\/gitlab.com\/linoscope"},"labels":[],"milestone":{"id":3005814,"iid":192,"project_id":3836952,"title":"DAL: Implementing gossipsub","description":"This milestone is part of the DAL design described in [this document](https:\/\/hackmd.io\/@p-cUv0l5RNaDKBCowZ0IzA\/HJgFgSzpo). \r\n\r\n### Motivation\r\n\r\nThe current Octez P2P library implements two protocols:\r\n- One to instantiate a secure channel with another peer on top of the TCP protocol\r\n- One to implement a gossip algorithm with peer discovery\r\n\r\nThe first protocol fits the needs of the DAL, but the second does not. The technical solution chosen was to implement another gossip algorithm called [gossipsub](https:\/\/github.com\/libp2p\/specs\/tree\/master\/pubsub\/gossipsub). The DAL design document explains and argue why this algorithm fits to the needs of the DAL.\r\n\r\n### Scope\r\n\r\nThis milestone is part of the OKR **Design for P2P that supports sampling**.\r\n\r\n### Design\r\n\r\nRefer to this [subsection](https:\/\/hackmd.io\/@p-cUv0l5RNaDKBCowZ0IzA\/HJgFgSzpo\/https%3A%2F%2Fhackmd.io%2FUQuA_59QRdOjU47fGM9CsQ%23Topological-constraints#Integrating-gossipsub-in-the-Tezos-codebase) of the DAL design document.\r\n\r\n### Work breakdown\r\n\r\nCheckout the [Meeting notes](https:\/\/hackmd.io\/LLe-SedVSeqknK2ghF8tQw)","state":"active","created_at":"2023-02-27T09:42:42.776Z","updated_at":"2023-04-18T12:24:54.395Z","due_date":"2023-05-26","start_date":"2023-02-27","expired":false,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/192"},"assignees":[{"id":11214295,"username":"linoscope","name":"Lin Oshitani","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/11214295\/avatar.png","web_url":"https:\/\/gitlab.com\/linoscope"}],"author":{"id":11214295,"username":"linoscope","name":"Lin Oshitani","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/11214295\/avatar.png","web_url":"https:\/\/gitlab.com\/linoscope"},"type":"ISSUE","assignee":{"id":11214295,"username":"linoscope","name":"Lin Oshitani","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/11214295\/avatar.png","web_url":"https:\/\/gitlab.com\/linoscope"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/5269","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":100,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/5269","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/5269\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/5269\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#5269","relative":"#5269","full":"tezos\/tezos#5269"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":125875704,"iid":5251,"project_id":3836952,"title":"[GS Automaton] clarify\/improve Heartbeat output for prune","description":"The automaton currently outputs values of the following type for heartbeat:\n```ocaml\n    | Heartbeat : {\n        (* topics per peer to graft to *)\n        to_graft : Topic.Set.t Peer.Map.t;\n        (* topics per peer to prune from *)\n        to_prune : Topic.Set.t Peer.Map.t;\n        (* set of peers for which peer exchange (PX) will not be proposed *)\n        noPX_peers : Peer.Set.t;\n      }\n        -> [`Heartbeat] output\n```\n\nIt seems that the information contained in `to_prune` field don't allow to call `handle_prune`, which requires inputs of type:\n```ocaml\n  type prune = {\n    peer : Peer.t;\n    topic : Topic.t;\n    px : Peer.t Seq.t;\n    backoff : span;\n  }\n```\n\nIn fact, fields `px : Peer.t Seq.t;` and `backoff` (per \"peer and topic\" ?) are missing\n\nSee which function needs to be modified: heartbeat or prune?","state":"closed","created_at":1679990527538,"updated_at":1680782800306,"closed_at":1680782800249,"closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/8770486\/avatar.png","web_url":"https:\/\/gitlab.com\/nomadic-margebot"},"labels":["DAL","state::in-review"],"milestone":{"id":3005814,"iid":192,"project_id":3836952,"title":"DAL: Implementing gossipsub","description":"This milestone is part of the DAL design described in [this document](https:\/\/hackmd.io\/@p-cUv0l5RNaDKBCowZ0IzA\/HJgFgSzpo). \r\n\r\n### Motivation\r\n\r\nThe current Octez P2P library implements two protocols:\r\n- One to instantiate a secure channel with another peer on top of the TCP protocol\r\n- One to implement a gossip algorithm with peer discovery\r\n\r\nThe first protocol fits the needs of the DAL, but the second does not. The technical solution chosen was to implement another gossip algorithm called [gossipsub](https:\/\/github.com\/libp2p\/specs\/tree\/master\/pubsub\/gossipsub). The DAL design document explains and argue why this algorithm fits to the needs of the DAL.\r\n\r\n### Scope\r\n\r\nThis milestone is part of the OKR **Design for P2P that supports sampling**.\r\n\r\n### Design\r\n\r\nRefer to this [subsection](https:\/\/hackmd.io\/@p-cUv0l5RNaDKBCowZ0IzA\/HJgFgSzpo\/https%3A%2F%2Fhackmd.io%2FUQuA_59QRdOjU47fGM9CsQ%23Topological-constraints#Integrating-gossipsub-in-the-Tezos-codebase) of the DAL design document.\r\n\r\n### Work breakdown\r\n\r\nCheckout the [Meeting notes](https:\/\/hackmd.io\/LLe-SedVSeqknK2ghF8tQw)","state":"active","created_at":"2023-02-27T09:42:42.776Z","updated_at":"2023-04-18T12:24:54.395Z","due_date":"2023-05-26","start_date":"2023-02-27","expired":false,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/192"},"assignees":[{"id":2923010,"username":"eugenz","name":"Eugen Zalinescu","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/2923010\/avatar.png","web_url":"https:\/\/gitlab.com\/eugenz"}],"author":{"id":1517950,"username":"iguerNL","name":"Mohamed IGUERNLALA","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/1517950\/avatar.png","web_url":"https:\/\/gitlab.com\/iguerNL"},"type":"ISSUE","assignee":{"id":2923010,"username":"eugenz","name":"Eugen Zalinescu","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/2923010\/avatar.png","web_url":"https:\/\/gitlab.com\/eugenz"},"user_notes_count":3,"merge_requests_count":2,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/5251","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":100,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/5251","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/5251\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/5251\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#5251","relative":"#5251","full":"tezos\/tezos#5251"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":125648644,"iid":5200,"project_id":3836952,"title":"[GS worker] implement sending messages to peers","description":"","state":"closed","created_at":1679512388113,"updated_at":1681742949756,"closed_at":1681742949738,"closed_by":{"id":1517950,"username":"iguerNL","name":"Mohamed IGUERNLALA","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/1517950\/avatar.png","web_url":"https:\/\/gitlab.com\/iguerNL"},"labels":["DAL"],"milestone":{"id":3005814,"iid":192,"project_id":3836952,"title":"DAL: Implementing gossipsub","description":"This milestone is part of the DAL design described in [this document](https:\/\/hackmd.io\/@p-cUv0l5RNaDKBCowZ0IzA\/HJgFgSzpo). \r\n\r\n### Motivation\r\n\r\nThe current Octez P2P library implements two protocols:\r\n- One to instantiate a secure channel with another peer on top of the TCP protocol\r\n- One to implement a gossip algorithm with peer discovery\r\n\r\nThe first protocol fits the needs of the DAL, but the second does not. The technical solution chosen was to implement another gossip algorithm called [gossipsub](https:\/\/github.com\/libp2p\/specs\/tree\/master\/pubsub\/gossipsub). The DAL design document explains and argue why this algorithm fits to the needs of the DAL.\r\n\r\n### Scope\r\n\r\nThis milestone is part of the OKR **Design for P2P that supports sampling**.\r\n\r\n### Design\r\n\r\nRefer to this [subsection](https:\/\/hackmd.io\/@p-cUv0l5RNaDKBCowZ0IzA\/HJgFgSzpo\/https%3A%2F%2Fhackmd.io%2FUQuA_59QRdOjU47fGM9CsQ%23Topological-constraints#Integrating-gossipsub-in-the-Tezos-codebase) of the DAL design document.\r\n\r\n### Work breakdown\r\n\r\nCheckout the [Meeting notes](https:\/\/hackmd.io\/LLe-SedVSeqknK2ghF8tQw)","state":"active","created_at":"2023-02-27T09:42:42.776Z","updated_at":"2023-04-18T12:24:54.395Z","due_date":"2023-05-26","start_date":"2023-02-27","expired":false,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/192"},"assignees":[],"author":{"id":1517950,"username":"iguerNL","name":"Mohamed IGUERNLALA","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/1517950\/avatar.png","web_url":"https:\/\/gitlab.com\/iguerNL"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/5200","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":100,"blocking_issues_count":0,"has_tasks":true,"task_status":"","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/5200","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/5200\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/5200\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#5200","relative":"#5200","full":"tezos\/tezos#5200"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":125616372,"iid":5191,"project_id":3836952,"title":"[GS worker] handle join and leave in apply","description":"","state":"closed","created_at":1679473917331,"updated_at":1680873831259,"closed_at":1680873831218,"closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/8770486\/avatar.png","web_url":"https:\/\/gitlab.com\/nomadic-margebot"},"labels":["DAL"],"milestone":{"id":3005814,"iid":192,"project_id":3836952,"title":"DAL: Implementing gossipsub","description":"This milestone is part of the DAL design described in [this document](https:\/\/hackmd.io\/@p-cUv0l5RNaDKBCowZ0IzA\/HJgFgSzpo). \r\n\r\n### Motivation\r\n\r\nThe current Octez P2P library implements two protocols:\r\n- One to instantiate a secure channel with another peer on top of the TCP protocol\r\n- One to implement a gossip algorithm with peer discovery\r\n\r\nThe first protocol fits the needs of the DAL, but the second does not. The technical solution chosen was to implement another gossip algorithm called [gossipsub](https:\/\/github.com\/libp2p\/specs\/tree\/master\/pubsub\/gossipsub). The DAL design document explains and argue why this algorithm fits to the needs of the DAL.\r\n\r\n### Scope\r\n\r\nThis milestone is part of the OKR **Design for P2P that supports sampling**.\r\n\r\n### Design\r\n\r\nRefer to this [subsection](https:\/\/hackmd.io\/@p-cUv0l5RNaDKBCowZ0IzA\/HJgFgSzpo\/https%3A%2F%2Fhackmd.io%2FUQuA_59QRdOjU47fGM9CsQ%23Topological-constraints#Integrating-gossipsub-in-the-Tezos-codebase) of the DAL design document.\r\n\r\n### Work breakdown\r\n\r\nCheckout the [Meeting notes](https:\/\/hackmd.io\/LLe-SedVSeqknK2ghF8tQw)","state":"active","created_at":"2023-02-27T09:42:42.776Z","updated_at":"2023-04-18T12:24:54.395Z","due_date":"2023-05-26","start_date":"2023-02-27","expired":false,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/192"},"assignees":[{"id":1517950,"username":"iguerNL","name":"Mohamed IGUERNLALA","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/1517950\/avatar.png","web_url":"https:\/\/gitlab.com\/iguerNL"}],"author":{"id":1517950,"username":"iguerNL","name":"Mohamed IGUERNLALA","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/1517950\/avatar.png","web_url":"https:\/\/gitlab.com\/iguerNL"},"type":"ISSUE","assignee":{"id":1517950,"username":"iguerNL","name":"Mohamed IGUERNLALA","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/1517950\/avatar.png","web_url":"https:\/\/gitlab.com\/iguerNL"},"user_notes_count":0,"merge_requests_count":2,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/5191","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":100,"blocking_issues_count":0,"has_tasks":true,"task_status":"","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/5191","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/5191\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/5191\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#5191","relative":"#5191","full":"tezos\/tezos#5191"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":125527415,"iid":5171,"project_id":3836952,"title":"[GS worker] implement worker shutdown","description":"See current implementation of function shutdown in gossipsub_worker.ml\n\nAlso unsubscribe from callbacks when shutting down the worker?\n\nAlso see discussion in https:\/\/gitlab.com\/tezos\/tezos\/-\/merge_requests\/8116#note_1323535456","state":"closed","created_at":1679307655672,"updated_at":1681385530098,"closed_at":1681385530056,"closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/8770486\/avatar.png","web_url":"https:\/\/gitlab.com\/nomadic-margebot"},"labels":["DAL"],"milestone":{"id":3005814,"iid":192,"project_id":3836952,"title":"DAL: Implementing gossipsub","description":"This milestone is part of the DAL design described in [this document](https:\/\/hackmd.io\/@p-cUv0l5RNaDKBCowZ0IzA\/HJgFgSzpo). \r\n\r\n### Motivation\r\n\r\nThe current Octez P2P library implements two protocols:\r\n- One to instantiate a secure channel with another peer on top of the TCP protocol\r\n- One to implement a gossip algorithm with peer discovery\r\n\r\nThe first protocol fits the needs of the DAL, but the second does not. The technical solution chosen was to implement another gossip algorithm called [gossipsub](https:\/\/github.com\/libp2p\/specs\/tree\/master\/pubsub\/gossipsub). The DAL design document explains and argue why this algorithm fits to the needs of the DAL.\r\n\r\n### Scope\r\n\r\nThis milestone is part of the OKR **Design for P2P that supports sampling**.\r\n\r\n### Design\r\n\r\nRefer to this [subsection](https:\/\/hackmd.io\/@p-cUv0l5RNaDKBCowZ0IzA\/HJgFgSzpo\/https%3A%2F%2Fhackmd.io%2FUQuA_59QRdOjU47fGM9CsQ%23Topological-constraints#Integrating-gossipsub-in-the-Tezos-codebase) of the DAL design document.\r\n\r\n### Work breakdown\r\n\r\nCheckout the [Meeting notes](https:\/\/hackmd.io\/LLe-SedVSeqknK2ghF8tQw)","state":"active","created_at":"2023-02-27T09:42:42.776Z","updated_at":"2023-04-18T12:24:54.395Z","due_date":"2023-05-26","start_date":"2023-02-27","expired":false,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/192"},"assignees":[],"author":{"id":1517950,"username":"iguerNL","name":"Mohamed IGUERNLALA","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/1517950\/avatar.png","web_url":"https:\/\/gitlab.com\/iguerNL"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/5171","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":100,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/5171","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/5171\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/5171\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#5171","relative":"#5171","full":"tezos\/tezos#5171"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":125526330,"iid":5168,"project_id":3836952,"title":"[GS Worker] implement the notion of P2P messages","description":"P2p messages handler relies on a Codec to encode\/decode messages to\/from bytes. The current implementation of messages and Codec is dummy (for typechecking).","state":"closed","created_at":1679306210374,"updated_at":1680665174258,"closed_at":1680665174239,"closed_by":{"id":1517950,"username":"iguerNL","name":"Mohamed IGUERNLALA","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/1517950\/avatar.png","web_url":"https:\/\/gitlab.com\/iguerNL"},"labels":["DAL"],"milestone":{"id":3005814,"iid":192,"project_id":3836952,"title":"DAL: Implementing gossipsub","description":"This milestone is part of the DAL design described in [this document](https:\/\/hackmd.io\/@p-cUv0l5RNaDKBCowZ0IzA\/HJgFgSzpo). \r\n\r\n### Motivation\r\n\r\nThe current Octez P2P library implements two protocols:\r\n- One to instantiate a secure channel with another peer on top of the TCP protocol\r\n- One to implement a gossip algorithm with peer discovery\r\n\r\nThe first protocol fits the needs of the DAL, but the second does not. The technical solution chosen was to implement another gossip algorithm called [gossipsub](https:\/\/github.com\/libp2p\/specs\/tree\/master\/pubsub\/gossipsub). The DAL design document explains and argue why this algorithm fits to the needs of the DAL.\r\n\r\n### Scope\r\n\r\nThis milestone is part of the OKR **Design for P2P that supports sampling**.\r\n\r\n### Design\r\n\r\nRefer to this [subsection](https:\/\/hackmd.io\/@p-cUv0l5RNaDKBCowZ0IzA\/HJgFgSzpo\/https%3A%2F%2Fhackmd.io%2FUQuA_59QRdOjU47fGM9CsQ%23Topological-constraints#Integrating-gossipsub-in-the-Tezos-codebase) of the DAL design document.\r\n\r\n### Work breakdown\r\n\r\nCheckout the [Meeting notes](https:\/\/hackmd.io\/LLe-SedVSeqknK2ghF8tQw)","state":"active","created_at":"2023-02-27T09:42:42.776Z","updated_at":"2023-04-18T12:24:54.395Z","due_date":"2023-05-26","start_date":"2023-02-27","expired":false,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/192"},"assignees":[{"id":1517950,"username":"iguerNL","name":"Mohamed IGUERNLALA","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/1517950\/avatar.png","web_url":"https:\/\/gitlab.com\/iguerNL"}],"author":{"id":1517950,"username":"iguerNL","name":"Mohamed IGUERNLALA","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/1517950\/avatar.png","web_url":"https:\/\/gitlab.com\/iguerNL"},"type":"ISSUE","assignee":{"id":1517950,"username":"iguerNL","name":"Mohamed IGUERNLALA","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/1517950\/avatar.png","web_url":"https:\/\/gitlab.com\/iguerNL"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/5168","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":100,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/5168","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/5168\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/5168\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#5168","relative":"#5168","full":"tezos\/tezos#5168"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":125519992,"iid":5164,"project_id":3836952,"title":"[GS worker] handle Received_message application","description":"","state":"closed","created_at":1679299075358,"updated_at":1681326734648,"closed_at":1681326734613,"closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/8770486\/avatar.png","web_url":"https:\/\/gitlab.com\/nomadic-margebot"},"labels":["DAL"],"milestone":{"id":3005814,"iid":192,"project_id":3836952,"title":"DAL: Implementing gossipsub","description":"This milestone is part of the DAL design described in [this document](https:\/\/hackmd.io\/@p-cUv0l5RNaDKBCowZ0IzA\/HJgFgSzpo). \r\n\r\n### Motivation\r\n\r\nThe current Octez P2P library implements two protocols:\r\n- One to instantiate a secure channel with another peer on top of the TCP protocol\r\n- One to implement a gossip algorithm with peer discovery\r\n\r\nThe first protocol fits the needs of the DAL, but the second does not. The technical solution chosen was to implement another gossip algorithm called [gossipsub](https:\/\/github.com\/libp2p\/specs\/tree\/master\/pubsub\/gossipsub). The DAL design document explains and argue why this algorithm fits to the needs of the DAL.\r\n\r\n### Scope\r\n\r\nThis milestone is part of the OKR **Design for P2P that supports sampling**.\r\n\r\n### Design\r\n\r\nRefer to this [subsection](https:\/\/hackmd.io\/@p-cUv0l5RNaDKBCowZ0IzA\/HJgFgSzpo\/https%3A%2F%2Fhackmd.io%2FUQuA_59QRdOjU47fGM9CsQ%23Topological-constraints#Integrating-gossipsub-in-the-Tezos-codebase) of the DAL design document.\r\n\r\n### Work breakdown\r\n\r\nCheckout the [Meeting notes](https:\/\/hackmd.io\/LLe-SedVSeqknK2ghF8tQw)","state":"active","created_at":"2023-02-27T09:42:42.776Z","updated_at":"2023-04-18T12:24:54.395Z","due_date":"2023-05-26","start_date":"2023-02-27","expired":false,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/192"},"assignees":[],"author":{"id":1517950,"username":"iguerNL","name":"Mohamed IGUERNLALA","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/1517950\/avatar.png","web_url":"https:\/\/gitlab.com\/iguerNL"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":2,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/5164","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":100,"blocking_issues_count":0,"has_tasks":true,"task_status":"","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/5164","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/5164\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/5164\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#5164","relative":"#5164","full":"tezos\/tezos#5164"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":125519972,"iid":5163,"project_id":3836952,"title":"[GS worker] handle Send_message application","description":"","state":"closed","created_at":1679299031880,"updated_at":1681742989908,"closed_at":1681742989880,"closed_by":{"id":1517950,"username":"iguerNL","name":"Mohamed IGUERNLALA","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/1517950\/avatar.png","web_url":"https:\/\/gitlab.com\/iguerNL"},"labels":["DAL"],"milestone":{"id":3005814,"iid":192,"project_id":3836952,"title":"DAL: Implementing gossipsub","description":"This milestone is part of the DAL design described in [this document](https:\/\/hackmd.io\/@p-cUv0l5RNaDKBCowZ0IzA\/HJgFgSzpo). \r\n\r\n### Motivation\r\n\r\nThe current Octez P2P library implements two protocols:\r\n- One to instantiate a secure channel with another peer on top of the TCP protocol\r\n- One to implement a gossip algorithm with peer discovery\r\n\r\nThe first protocol fits the needs of the DAL, but the second does not. The technical solution chosen was to implement another gossip algorithm called [gossipsub](https:\/\/github.com\/libp2p\/specs\/tree\/master\/pubsub\/gossipsub). The DAL design document explains and argue why this algorithm fits to the needs of the DAL.\r\n\r\n### Scope\r\n\r\nThis milestone is part of the OKR **Design for P2P that supports sampling**.\r\n\r\n### Design\r\n\r\nRefer to this [subsection](https:\/\/hackmd.io\/@p-cUv0l5RNaDKBCowZ0IzA\/HJgFgSzpo\/https%3A%2F%2Fhackmd.io%2FUQuA_59QRdOjU47fGM9CsQ%23Topological-constraints#Integrating-gossipsub-in-the-Tezos-codebase) of the DAL design document.\r\n\r\n### Work breakdown\r\n\r\nCheckout the [Meeting notes](https:\/\/hackmd.io\/LLe-SedVSeqknK2ghF8tQw)","state":"active","created_at":"2023-02-27T09:42:42.776Z","updated_at":"2023-04-18T12:24:54.395Z","due_date":"2023-05-26","start_date":"2023-02-27","expired":false,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/192"},"assignees":[],"author":{"id":1517950,"username":"iguerNL","name":"Mohamed IGUERNLALA","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/1517950\/avatar.png","web_url":"https:\/\/gitlab.com\/iguerNL"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/5163","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":100,"blocking_issues_count":0,"has_tasks":true,"task_status":"","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/5163","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/5163\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/5163\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#5163","relative":"#5163","full":"tezos\/tezos#5163"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":125519939,"iid":5162,"project_id":3836952,"title":"[GS worker] handle Publish_message output","description":"","state":"closed","created_at":1679298956529,"updated_at":1681742990186,"closed_at":1680639816366,"closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/8770486\/avatar.png","web_url":"https:\/\/gitlab.com\/nomadic-margebot"},"labels":["DAL"],"milestone":{"id":3005814,"iid":192,"project_id":3836952,"title":"DAL: Implementing gossipsub","description":"This milestone is part of the DAL design described in [this document](https:\/\/hackmd.io\/@p-cUv0l5RNaDKBCowZ0IzA\/HJgFgSzpo). \r\n\r\n### Motivation\r\n\r\nThe current Octez P2P library implements two protocols:\r\n- One to instantiate a secure channel with another peer on top of the TCP protocol\r\n- One to implement a gossip algorithm with peer discovery\r\n\r\nThe first protocol fits the needs of the DAL, but the second does not. The technical solution chosen was to implement another gossip algorithm called [gossipsub](https:\/\/github.com\/libp2p\/specs\/tree\/master\/pubsub\/gossipsub). The DAL design document explains and argue why this algorithm fits to the needs of the DAL.\r\n\r\n### Scope\r\n\r\nThis milestone is part of the OKR **Design for P2P that supports sampling**.\r\n\r\n### Design\r\n\r\nRefer to this [subsection](https:\/\/hackmd.io\/@p-cUv0l5RNaDKBCowZ0IzA\/HJgFgSzpo\/https%3A%2F%2Fhackmd.io%2FUQuA_59QRdOjU47fGM9CsQ%23Topological-constraints#Integrating-gossipsub-in-the-Tezos-codebase) of the DAL design document.\r\n\r\n### Work breakdown\r\n\r\nCheckout the [Meeting notes](https:\/\/hackmd.io\/LLe-SedVSeqknK2ghF8tQw)","state":"active","created_at":"2023-02-27T09:42:42.776Z","updated_at":"2023-04-18T12:24:54.395Z","due_date":"2023-05-26","start_date":"2023-02-27","expired":false,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/192"},"assignees":[],"author":{"id":1517950,"username":"iguerNL","name":"Mohamed IGUERNLALA","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/1517950\/avatar.png","web_url":"https:\/\/gitlab.com\/iguerNL"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":2,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/5162","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":100,"blocking_issues_count":0,"has_tasks":true,"task_status":"","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/5162","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/5162\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/5162\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#5162","relative":"#5162","full":"tezos\/tezos#5162"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":125519897,"iid":5161,"project_id":3836952,"title":"[GS worker] handle Disconnection output","description":"","state":"closed","created_at":1679298884566,"updated_at":1680898129746,"closed_at":1680898129714,"closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/8770486\/avatar.png","web_url":"https:\/\/gitlab.com\/nomadic-margebot"},"labels":["DAL"],"milestone":{"id":3005814,"iid":192,"project_id":3836952,"title":"DAL: Implementing gossipsub","description":"This milestone is part of the DAL design described in [this document](https:\/\/hackmd.io\/@p-cUv0l5RNaDKBCowZ0IzA\/HJgFgSzpo). \r\n\r\n### Motivation\r\n\r\nThe current Octez P2P library implements two protocols:\r\n- One to instantiate a secure channel with another peer on top of the TCP protocol\r\n- One to implement a gossip algorithm with peer discovery\r\n\r\nThe first protocol fits the needs of the DAL, but the second does not. The technical solution chosen was to implement another gossip algorithm called [gossipsub](https:\/\/github.com\/libp2p\/specs\/tree\/master\/pubsub\/gossipsub). The DAL design document explains and argue why this algorithm fits to the needs of the DAL.\r\n\r\n### Scope\r\n\r\nThis milestone is part of the OKR **Design for P2P that supports sampling**.\r\n\r\n### Design\r\n\r\nRefer to this [subsection](https:\/\/hackmd.io\/@p-cUv0l5RNaDKBCowZ0IzA\/HJgFgSzpo\/https%3A%2F%2Fhackmd.io%2FUQuA_59QRdOjU47fGM9CsQ%23Topological-constraints#Integrating-gossipsub-in-the-Tezos-codebase) of the DAL design document.\r\n\r\n### Work breakdown\r\n\r\nCheckout the [Meeting notes](https:\/\/hackmd.io\/LLe-SedVSeqknK2ghF8tQw)","state":"active","created_at":"2023-02-27T09:42:42.776Z","updated_at":"2023-04-18T12:24:54.395Z","due_date":"2023-05-26","start_date":"2023-02-27","expired":false,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/192"},"assignees":[{"id":1517950,"username":"iguerNL","name":"Mohamed IGUERNLALA","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/1517950\/avatar.png","web_url":"https:\/\/gitlab.com\/iguerNL"}],"author":{"id":1517950,"username":"iguerNL","name":"Mohamed IGUERNLALA","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/1517950\/avatar.png","web_url":"https:\/\/gitlab.com\/iguerNL"},"type":"ISSUE","assignee":{"id":1517950,"username":"iguerNL","name":"Mohamed IGUERNLALA","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/1517950\/avatar.png","web_url":"https:\/\/gitlab.com\/iguerNL"},"user_notes_count":0,"merge_requests_count":2,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/5161","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":100,"blocking_issues_count":0,"has_tasks":true,"task_status":"","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/5161","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/5161\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/5161\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#5161","relative":"#5161","full":"tezos\/tezos#5161"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":125519879,"iid":5160,"project_id":3836952,"title":"[GS worker] handle New_connection output","description":"","state":"closed","created_at":1679298843636,"updated_at":1680881436356,"closed_at":1680881436282,"closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/8770486\/avatar.png","web_url":"https:\/\/gitlab.com\/nomadic-margebot"},"labels":["DAL"],"milestone":{"id":3005814,"iid":192,"project_id":3836952,"title":"DAL: Implementing gossipsub","description":"This milestone is part of the DAL design described in [this document](https:\/\/hackmd.io\/@p-cUv0l5RNaDKBCowZ0IzA\/HJgFgSzpo). \r\n\r\n### Motivation\r\n\r\nThe current Octez P2P library implements two protocols:\r\n- One to instantiate a secure channel with another peer on top of the TCP protocol\r\n- One to implement a gossip algorithm with peer discovery\r\n\r\nThe first protocol fits the needs of the DAL, but the second does not. The technical solution chosen was to implement another gossip algorithm called [gossipsub](https:\/\/github.com\/libp2p\/specs\/tree\/master\/pubsub\/gossipsub). The DAL design document explains and argue why this algorithm fits to the needs of the DAL.\r\n\r\n### Scope\r\n\r\nThis milestone is part of the OKR **Design for P2P that supports sampling**.\r\n\r\n### Design\r\n\r\nRefer to this [subsection](https:\/\/hackmd.io\/@p-cUv0l5RNaDKBCowZ0IzA\/HJgFgSzpo\/https%3A%2F%2Fhackmd.io%2FUQuA_59QRdOjU47fGM9CsQ%23Topological-constraints#Integrating-gossipsub-in-the-Tezos-codebase) of the DAL design document.\r\n\r\n### Work breakdown\r\n\r\nCheckout the [Meeting notes](https:\/\/hackmd.io\/LLe-SedVSeqknK2ghF8tQw)","state":"active","created_at":"2023-02-27T09:42:42.776Z","updated_at":"2023-04-18T12:24:54.395Z","due_date":"2023-05-26","start_date":"2023-02-27","expired":false,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/192"},"assignees":[{"id":1517950,"username":"iguerNL","name":"Mohamed IGUERNLALA","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/1517950\/avatar.png","web_url":"https:\/\/gitlab.com\/iguerNL"}],"author":{"id":1517950,"username":"iguerNL","name":"Mohamed IGUERNLALA","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/1517950\/avatar.png","web_url":"https:\/\/gitlab.com\/iguerNL"},"type":"ISSUE","assignee":{"id":1517950,"username":"iguerNL","name":"Mohamed IGUERNLALA","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/1517950\/avatar.png","web_url":"https:\/\/gitlab.com\/iguerNL"},"user_notes_count":0,"merge_requests_count":2,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/5160","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":100,"blocking_issues_count":0,"has_tasks":true,"task_status":"","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/5160","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/5160\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/5160\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#5160","relative":"#5160","full":"tezos\/tezos#5160"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":125519853,"iid":5159,"project_id":3836952,"title":"[GS worker] handle Heartbeat output","description":"","state":"closed","created_at":1679298785747,"updated_at":1681483921708,"closed_at":1681483921679,"closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/8770486\/avatar.png","web_url":"https:\/\/gitlab.com\/nomadic-margebot"},"labels":["DAL"],"milestone":{"id":3005814,"iid":192,"project_id":3836952,"title":"DAL: Implementing gossipsub","description":"This milestone is part of the DAL design described in [this document](https:\/\/hackmd.io\/@p-cUv0l5RNaDKBCowZ0IzA\/HJgFgSzpo). \r\n\r\n### Motivation\r\n\r\nThe current Octez P2P library implements two protocols:\r\n- One to instantiate a secure channel with another peer on top of the TCP protocol\r\n- One to implement a gossip algorithm with peer discovery\r\n\r\nThe first protocol fits the needs of the DAL, but the second does not. The technical solution chosen was to implement another gossip algorithm called [gossipsub](https:\/\/github.com\/libp2p\/specs\/tree\/master\/pubsub\/gossipsub). The DAL design document explains and argue why this algorithm fits to the needs of the DAL.\r\n\r\n### Scope\r\n\r\nThis milestone is part of the OKR **Design for P2P that supports sampling**.\r\n\r\n### Design\r\n\r\nRefer to this [subsection](https:\/\/hackmd.io\/@p-cUv0l5RNaDKBCowZ0IzA\/HJgFgSzpo\/https%3A%2F%2Fhackmd.io%2FUQuA_59QRdOjU47fGM9CsQ%23Topological-constraints#Integrating-gossipsub-in-the-Tezos-codebase) of the DAL design document.\r\n\r\n### Work breakdown\r\n\r\nCheckout the [Meeting notes](https:\/\/hackmd.io\/LLe-SedVSeqknK2ghF8tQw)","state":"active","created_at":"2023-02-27T09:42:42.776Z","updated_at":"2023-04-18T12:24:54.395Z","due_date":"2023-05-26","start_date":"2023-02-27","expired":false,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/192"},"assignees":[{"id":1517950,"username":"iguerNL","name":"Mohamed IGUERNLALA","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/1517950\/avatar.png","web_url":"https:\/\/gitlab.com\/iguerNL"}],"author":{"id":1517950,"username":"iguerNL","name":"Mohamed IGUERNLALA","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/1517950\/avatar.png","web_url":"https:\/\/gitlab.com\/iguerNL"},"type":"ISSUE","assignee":{"id":1517950,"username":"iguerNL","name":"Mohamed IGUERNLALA","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/1517950\/avatar.png","web_url":"https:\/\/gitlab.com\/iguerNL"},"user_notes_count":0,"merge_requests_count":2,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/5159","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":100,"blocking_issues_count":0,"has_tasks":true,"task_status":"","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/5159","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/5159\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/5159\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#5159","relative":"#5159","full":"tezos\/tezos#5159"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":125274294,"iid":5134,"project_id":3836952,"title":"Gossipsub: get_peers should not return peers that are waiting for expiration","description":"In our implementation, `connection.expire` is used to keep the `connection` in the `connections` for a while after `remove_peer`.\n\nSince peers with a non-none `connections.expire` is a removed peer which is wating for being expired, we shouldn't return them in the `get_peers` function [here](https:\/\/gitlab.com\/tezos\/tezos\/blob\/de253082858204509d4e91c9c079736abaf8d440\/src\/lib_gossipsub\/tezos_gossipsub.ml#L653).","state":"closed","created_at":1678851428623,"updated_at":1681202275423,"closed_at":1681202275370,"closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/8770486\/avatar.png","web_url":"https:\/\/gitlab.com\/nomadic-margebot"},"labels":["state::in-progress"],"milestone":{"id":3005814,"iid":192,"project_id":3836952,"title":"DAL: Implementing gossipsub","description":"This milestone is part of the DAL design described in [this document](https:\/\/hackmd.io\/@p-cUv0l5RNaDKBCowZ0IzA\/HJgFgSzpo). \r\n\r\n### Motivation\r\n\r\nThe current Octez P2P library implements two protocols:\r\n- One to instantiate a secure channel with another peer on top of the TCP protocol\r\n- One to implement a gossip algorithm with peer discovery\r\n\r\nThe first protocol fits the needs of the DAL, but the second does not. The technical solution chosen was to implement another gossip algorithm called [gossipsub](https:\/\/github.com\/libp2p\/specs\/tree\/master\/pubsub\/gossipsub). The DAL design document explains and argue why this algorithm fits to the needs of the DAL.\r\n\r\n### Scope\r\n\r\nThis milestone is part of the OKR **Design for P2P that supports sampling**.\r\n\r\n### Design\r\n\r\nRefer to this [subsection](https:\/\/hackmd.io\/@p-cUv0l5RNaDKBCowZ0IzA\/HJgFgSzpo\/https%3A%2F%2Fhackmd.io%2FUQuA_59QRdOjU47fGM9CsQ%23Topological-constraints#Integrating-gossipsub-in-the-Tezos-codebase) of the DAL design document.\r\n\r\n### Work breakdown\r\n\r\nCheckout the [Meeting notes](https:\/\/hackmd.io\/LLe-SedVSeqknK2ghF8tQw)","state":"active","created_at":"2023-02-27T09:42:42.776Z","updated_at":"2023-04-18T12:24:54.395Z","due_date":"2023-05-26","start_date":"2023-02-27","expired":false,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/192"},"assignees":[{"id":2923010,"username":"eugenz","name":"Eugen Zalinescu","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/2923010\/avatar.png","web_url":"https:\/\/gitlab.com\/eugenz"}],"author":{"id":11214295,"username":"linoscope","name":"Lin Oshitani","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/11214295\/avatar.png","web_url":"https:\/\/gitlab.com\/linoscope"},"type":"ISSUE","assignee":{"id":2923010,"username":"eugenz","name":"Eugen Zalinescu","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/2923010\/avatar.png","web_url":"https:\/\/gitlab.com\/eugenz"},"user_notes_count":3,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/5134","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":100,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/5134","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/5134\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/5134\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#5134","relative":"#5134","full":"tezos\/tezos#5134"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":125099090,"iid":5095,"project_id":3836952,"title":"Gossipsub: backoff and connection clearing","description":"In the Go implementation:\n* `RemovePeer` removes the peers from the state, but does not update the backoffs at all\n* the backoffs are removed independently from `RemovePeer`, based on time alone, during heartbeat\n\nIn our implementation:\n* `RemovePeer` sets an expiring time for the connection, using the `retain_duration` constant\n*  the backoffs **and** the connection are possibly removed (based on their expiring times) during the heartbeat; in particular, a connection is removed only if there are no backoffs associated.\n\nI opened this issue to :\n- check that this makes sense\n- see whether there are obvious simplifications","state":"closed","created_at":1678451832719,"updated_at":1681202275444,"closed_at":1681202275383,"closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/8770486\/avatar.png","web_url":"https:\/\/gitlab.com\/nomadic-margebot"},"labels":["DAL","state::in-progress"],"milestone":{"id":3005814,"iid":192,"project_id":3836952,"title":"DAL: Implementing gossipsub","description":"This milestone is part of the DAL design described in [this document](https:\/\/hackmd.io\/@p-cUv0l5RNaDKBCowZ0IzA\/HJgFgSzpo). \r\n\r\n### Motivation\r\n\r\nThe current Octez P2P library implements two protocols:\r\n- One to instantiate a secure channel with another peer on top of the TCP protocol\r\n- One to implement a gossip algorithm with peer discovery\r\n\r\nThe first protocol fits the needs of the DAL, but the second does not. The technical solution chosen was to implement another gossip algorithm called [gossipsub](https:\/\/github.com\/libp2p\/specs\/tree\/master\/pubsub\/gossipsub). The DAL design document explains and argue why this algorithm fits to the needs of the DAL.\r\n\r\n### Scope\r\n\r\nThis milestone is part of the OKR **Design for P2P that supports sampling**.\r\n\r\n### Design\r\n\r\nRefer to this [subsection](https:\/\/hackmd.io\/@p-cUv0l5RNaDKBCowZ0IzA\/HJgFgSzpo\/https%3A%2F%2Fhackmd.io%2FUQuA_59QRdOjU47fGM9CsQ%23Topological-constraints#Integrating-gossipsub-in-the-Tezos-codebase) of the DAL design document.\r\n\r\n### Work breakdown\r\n\r\nCheckout the [Meeting notes](https:\/\/hackmd.io\/LLe-SedVSeqknK2ghF8tQw)","state":"active","created_at":"2023-02-27T09:42:42.776Z","updated_at":"2023-04-18T12:24:54.395Z","due_date":"2023-05-26","start_date":"2023-02-27","expired":false,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/192"},"assignees":[{"id":3222789,"username":"igarnier","name":"Ilias Garnier","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3222789\/avatar.png","web_url":"https:\/\/gitlab.com\/igarnier"}],"author":{"id":2923010,"username":"eugenz","name":"Eugen Zalinescu","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/2923010\/avatar.png","web_url":"https:\/\/gitlab.com\/eugenz"},"type":"ISSUE","assignee":{"id":3222789,"username":"igarnier","name":"Ilias Garnier","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3222789\/avatar.png","web_url":"https:\/\/gitlab.com\/igarnier"},"user_notes_count":3,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/5095","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":50,"blocking_issues_count":1,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/5095","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/5095\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/5095\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#5095","relative":"#5095","full":"tezos\/tezos#5095"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":124884495,"iid":5066,"project_id":3836952,"title":"Gossipsub: prepare gossip messages during heartbeat","description":"","state":"closed","created_at":1678197902458,"updated_at":1680885318215,"closed_at":1680885318187,"closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/8770486\/avatar.png","web_url":"https:\/\/gitlab.com\/nomadic-margebot"},"labels":["DAL","state::in-review"],"milestone":{"id":3005814,"iid":192,"project_id":3836952,"title":"DAL: Implementing gossipsub","description":"This milestone is part of the DAL design described in [this document](https:\/\/hackmd.io\/@p-cUv0l5RNaDKBCowZ0IzA\/HJgFgSzpo). \r\n\r\n### Motivation\r\n\r\nThe current Octez P2P library implements two protocols:\r\n- One to instantiate a secure channel with another peer on top of the TCP protocol\r\n- One to implement a gossip algorithm with peer discovery\r\n\r\nThe first protocol fits the needs of the DAL, but the second does not. The technical solution chosen was to implement another gossip algorithm called [gossipsub](https:\/\/github.com\/libp2p\/specs\/tree\/master\/pubsub\/gossipsub). The DAL design document explains and argue why this algorithm fits to the needs of the DAL.\r\n\r\n### Scope\r\n\r\nThis milestone is part of the OKR **Design for P2P that supports sampling**.\r\n\r\n### Design\r\n\r\nRefer to this [subsection](https:\/\/hackmd.io\/@p-cUv0l5RNaDKBCowZ0IzA\/HJgFgSzpo\/https%3A%2F%2Fhackmd.io%2FUQuA_59QRdOjU47fGM9CsQ%23Topological-constraints#Integrating-gossipsub-in-the-Tezos-codebase) of the DAL design document.\r\n\r\n### Work breakdown\r\n\r\nCheckout the [Meeting notes](https:\/\/hackmd.io\/LLe-SedVSeqknK2ghF8tQw)","state":"active","created_at":"2023-02-27T09:42:42.776Z","updated_at":"2023-04-18T12:24:54.395Z","due_date":"2023-05-26","start_date":"2023-02-27","expired":false,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/192"},"assignees":[{"id":2923010,"username":"eugenz","name":"Eugen Zalinescu","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/2923010\/avatar.png","web_url":"https:\/\/gitlab.com\/eugenz"}],"author":{"id":2923010,"username":"eugenz","name":"Eugen Zalinescu","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/2923010\/avatar.png","web_url":"https:\/\/gitlab.com\/eugenz"},"type":"ISSUE","assignee":{"id":2923010,"username":"eugenz","name":"Eugen Zalinescu","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/2923010\/avatar.png","web_url":"https:\/\/gitlab.com\/eugenz"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/5066","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":100,"blocking_issues_count":0,"has_tasks":true,"task_status":"","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/5066","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/5066\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/5066\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#5066","relative":"#5066","full":"tezos\/tezos#5066"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":124570375,"iid":5009,"project_id":3836952,"title":"Gossipsub: Score check is missing for IHave control message","description":"The following discussion from !7594 should be addressed:\n\n- [ ] @linoscope started a [discussion](https:\/\/gitlab.com\/tezos\/tezos\/-\/merge_requests\/7594#note_1296475507): \n\n    > Missing score check in this `handle` too.","state":"closed","created_at":1677690158105,"updated_at":1681301736175,"closed_at":1681301736153,"closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/8770486\/avatar.png","web_url":"https:\/\/gitlab.com\/nomadic-margebot"},"labels":[],"milestone":{"id":3005814,"iid":192,"project_id":3836952,"title":"DAL: Implementing gossipsub","description":"This milestone is part of the DAL design described in [this document](https:\/\/hackmd.io\/@p-cUv0l5RNaDKBCowZ0IzA\/HJgFgSzpo). \r\n\r\n### Motivation\r\n\r\nThe current Octez P2P library implements two protocols:\r\n- One to instantiate a secure channel with another peer on top of the TCP protocol\r\n- One to implement a gossip algorithm with peer discovery\r\n\r\nThe first protocol fits the needs of the DAL, but the second does not. The technical solution chosen was to implement another gossip algorithm called [gossipsub](https:\/\/github.com\/libp2p\/specs\/tree\/master\/pubsub\/gossipsub). The DAL design document explains and argue why this algorithm fits to the needs of the DAL.\r\n\r\n### Scope\r\n\r\nThis milestone is part of the OKR **Design for P2P that supports sampling**.\r\n\r\n### Design\r\n\r\nRefer to this [subsection](https:\/\/hackmd.io\/@p-cUv0l5RNaDKBCowZ0IzA\/HJgFgSzpo\/https%3A%2F%2Fhackmd.io%2FUQuA_59QRdOjU47fGM9CsQ%23Topological-constraints#Integrating-gossipsub-in-the-Tezos-codebase) of the DAL design document.\r\n\r\n### Work breakdown\r\n\r\nCheckout the [Meeting notes](https:\/\/hackmd.io\/LLe-SedVSeqknK2ghF8tQw)","state":"active","created_at":"2023-02-27T09:42:42.776Z","updated_at":"2023-04-18T12:24:54.395Z","due_date":"2023-05-26","start_date":"2023-02-27","expired":false,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/192"},"assignees":[{"id":11214295,"username":"linoscope","name":"Lin Oshitani","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/11214295\/avatar.png","web_url":"https:\/\/gitlab.com\/linoscope"}],"author":{"id":5263657,"username":"Saroupille","name":"Fran\u00e7ois Thir\u00e9","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/dcecc9a8d97b503a3d28025c9b78e8ab?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/Saroupille"},"type":"ISSUE","assignee":{"id":11214295,"username":"linoscope","name":"Lin Oshitani","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/11214295\/avatar.png","web_url":"https:\/\/gitlab.com\/linoscope"},"user_notes_count":1,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/5009","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":100,"blocking_issues_count":0,"has_tasks":false,"task_status":null,"_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/5009","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/5009\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/5009\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#5009","relative":"#5009","full":"tezos\/tezos#5009"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":124570310,"iid":5008,"project_id":3836952,"title":"Gossipsub: Score check is missing for IWant","description":"The following discussion from !7594 should be addressed:\n\n- [ ] @linoscope started a [discussion](https:\/\/gitlab.com\/tezos\/tezos\/-\/merge_requests\/7594#note_1296353868): \n\n    > The score check is missing ([go implementation](https:\/\/github.com\/libp2p\/go-libp2p-pubsub\/blob\/56c0e6c5c9dfcc6cd3214e59ef19456dc0171574\/gossipsub.go#L699))","state":"closed","created_at":1677690050571,"updated_at":1681301736190,"closed_at":1681301736160,"closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/8770486\/avatar.png","web_url":"https:\/\/gitlab.com\/nomadic-margebot"},"labels":[],"milestone":{"id":3005814,"iid":192,"project_id":3836952,"title":"DAL: Implementing gossipsub","description":"This milestone is part of the DAL design described in [this document](https:\/\/hackmd.io\/@p-cUv0l5RNaDKBCowZ0IzA\/HJgFgSzpo). \r\n\r\n### Motivation\r\n\r\nThe current Octez P2P library implements two protocols:\r\n- One to instantiate a secure channel with another peer on top of the TCP protocol\r\n- One to implement a gossip algorithm with peer discovery\r\n\r\nThe first protocol fits the needs of the DAL, but the second does not. The technical solution chosen was to implement another gossip algorithm called [gossipsub](https:\/\/github.com\/libp2p\/specs\/tree\/master\/pubsub\/gossipsub). The DAL design document explains and argue why this algorithm fits to the needs of the DAL.\r\n\r\n### Scope\r\n\r\nThis milestone is part of the OKR **Design for P2P that supports sampling**.\r\n\r\n### Design\r\n\r\nRefer to this [subsection](https:\/\/hackmd.io\/@p-cUv0l5RNaDKBCowZ0IzA\/HJgFgSzpo\/https%3A%2F%2Fhackmd.io%2FUQuA_59QRdOjU47fGM9CsQ%23Topological-constraints#Integrating-gossipsub-in-the-Tezos-codebase) of the DAL design document.\r\n\r\n### Work breakdown\r\n\r\nCheckout the [Meeting notes](https:\/\/hackmd.io\/LLe-SedVSeqknK2ghF8tQw)","state":"active","created_at":"2023-02-27T09:42:42.776Z","updated_at":"2023-04-18T12:24:54.395Z","due_date":"2023-05-26","start_date":"2023-02-27","expired":false,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/192"},"assignees":[{"id":11214295,"username":"linoscope","name":"Lin Oshitani","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/11214295\/avatar.png","web_url":"https:\/\/gitlab.com\/linoscope"}],"author":{"id":5263657,"username":"Saroupille","name":"Fran\u00e7ois Thir\u00e9","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/dcecc9a8d97b503a3d28025c9b78e8ab?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/Saroupille"},"type":"ISSUE","assignee":{"id":11214295,"username":"linoscope","name":"Lin Oshitani","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/11214295\/avatar.png","web_url":"https:\/\/gitlab.com\/linoscope"},"user_notes_count":1,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/5008","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":100,"blocking_issues_count":0,"has_tasks":false,"task_status":null,"_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/5008","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/5008\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/5008\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#5008","relative":"#5008","full":"tezos\/tezos#5008"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":124570183,"iid":5007,"project_id":3836952,"title":"Gossipsub: Grafting with negative score","description":"The following discussion from !7594 should be addressed:\n\n- [ ] @linoscope started a [discussion](https:\/\/gitlab.com\/tezos\/tezos\/-\/merge_requests\/7594#note_1296319510):  (+1 comment)\n\n    > We are missing the score check ([go implmenetation](https:\/\/github.com\/libp2p\/go-libp2p-pubsub\/blob\/56c0e6c5c9dfcc6cd3214e59ef19456dc0171574\/gossipsub.go#L801)). Feel free to address in a future issue, but let's be careful not to forget.","state":"closed","created_at":1677689866456,"updated_at":1680355462913,"closed_at":1680355462887,"closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/8770486\/avatar.png","web_url":"https:\/\/gitlab.com\/nomadic-margebot"},"labels":[],"milestone":{"id":3005814,"iid":192,"project_id":3836952,"title":"DAL: Implementing gossipsub","description":"This milestone is part of the DAL design described in [this document](https:\/\/hackmd.io\/@p-cUv0l5RNaDKBCowZ0IzA\/HJgFgSzpo). \r\n\r\n### Motivation\r\n\r\nThe current Octez P2P library implements two protocols:\r\n- One to instantiate a secure channel with another peer on top of the TCP protocol\r\n- One to implement a gossip algorithm with peer discovery\r\n\r\nThe first protocol fits the needs of the DAL, but the second does not. The technical solution chosen was to implement another gossip algorithm called [gossipsub](https:\/\/github.com\/libp2p\/specs\/tree\/master\/pubsub\/gossipsub). The DAL design document explains and argue why this algorithm fits to the needs of the DAL.\r\n\r\n### Scope\r\n\r\nThis milestone is part of the OKR **Design for P2P that supports sampling**.\r\n\r\n### Design\r\n\r\nRefer to this [subsection](https:\/\/hackmd.io\/@p-cUv0l5RNaDKBCowZ0IzA\/HJgFgSzpo\/https%3A%2F%2Fhackmd.io%2FUQuA_59QRdOjU47fGM9CsQ%23Topological-constraints#Integrating-gossipsub-in-the-Tezos-codebase) of the DAL design document.\r\n\r\n### Work breakdown\r\n\r\nCheckout the [Meeting notes](https:\/\/hackmd.io\/LLe-SedVSeqknK2ghF8tQw)","state":"active","created_at":"2023-02-27T09:42:42.776Z","updated_at":"2023-04-18T12:24:54.395Z","due_date":"2023-05-26","start_date":"2023-02-27","expired":false,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/192"},"assignees":[],"author":{"id":5263657,"username":"Saroupille","name":"Fran\u00e7ois Thir\u00e9","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/dcecc9a8d97b503a3d28025c9b78e8ab?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/Saroupille"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/5007","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":100,"blocking_issues_count":0,"has_tasks":false,"task_status":null,"_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/5007","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/5007\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/5007\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#5007","relative":"#5007","full":"tezos\/tezos#5007"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":124569284,"iid":5006,"project_id":3836952,"title":"Gossipsub: Implement backoff for pruning","description":"The backoff computation while pruning a peer is not done yet.","state":"closed","created_at":1677688983216,"updated_at":1680853022108,"closed_at":1680853022078,"closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/8770486\/avatar.png","web_url":"https:\/\/gitlab.com\/nomadic-margebot"},"labels":[],"milestone":{"id":3005814,"iid":192,"project_id":3836952,"title":"DAL: Implementing gossipsub","description":"This milestone is part of the DAL design described in [this document](https:\/\/hackmd.io\/@p-cUv0l5RNaDKBCowZ0IzA\/HJgFgSzpo). \r\n\r\n### Motivation\r\n\r\nThe current Octez P2P library implements two protocols:\r\n- One to instantiate a secure channel with another peer on top of the TCP protocol\r\n- One to implement a gossip algorithm with peer discovery\r\n\r\nThe first protocol fits the needs of the DAL, but the second does not. The technical solution chosen was to implement another gossip algorithm called [gossipsub](https:\/\/github.com\/libp2p\/specs\/tree\/master\/pubsub\/gossipsub). The DAL design document explains and argue why this algorithm fits to the needs of the DAL.\r\n\r\n### Scope\r\n\r\nThis milestone is part of the OKR **Design for P2P that supports sampling**.\r\n\r\n### Design\r\n\r\nRefer to this [subsection](https:\/\/hackmd.io\/@p-cUv0l5RNaDKBCowZ0IzA\/HJgFgSzpo\/https%3A%2F%2Fhackmd.io%2FUQuA_59QRdOjU47fGM9CsQ%23Topological-constraints#Integrating-gossipsub-in-the-Tezos-codebase) of the DAL design document.\r\n\r\n### Work breakdown\r\n\r\nCheckout the [Meeting notes](https:\/\/hackmd.io\/LLe-SedVSeqknK2ghF8tQw)","state":"active","created_at":"2023-02-27T09:42:42.776Z","updated_at":"2023-04-18T12:24:54.395Z","due_date":"2023-05-26","start_date":"2023-02-27","expired":false,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/192"},"assignees":[{"id":11214295,"username":"linoscope","name":"Lin Oshitani","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/11214295\/avatar.png","web_url":"https:\/\/gitlab.com\/linoscope"}],"author":{"id":5263657,"username":"Saroupille","name":"Fran\u00e7ois Thir\u00e9","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/dcecc9a8d97b503a3d28025c9b78e8ab?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/Saroupille"},"type":"ISSUE","assignee":{"id":11214295,"username":"linoscope","name":"Lin Oshitani","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/11214295\/avatar.png","web_url":"https:\/\/gitlab.com\/linoscope"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/5006","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":100,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/5006","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/5006\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/5006\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#5006","relative":"#5006","full":"tezos\/tezos#5006"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":123288159,"iid":4801,"project_id":3836952,"title":"Node\/logs: remove sections from default stdout logs","description":"Section are not useful to the user and still occupy a lot of place in the default stdout logs.\nDefault filedescriptor sink already stores sections, so we can safely remove them from stdout logs.","state":"closed","created_at":1675861922609,"updated_at":1676491431765,"closed_at":1676491431453,"closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/8770486\/avatar.png","web_url":"https:\/\/gitlab.com\/nomadic-margebot"},"labels":["Improve UX","logging","node \ud83d\udda5"],"milestone":{"id":2942255,"iid":157,"project_id":3836952,"title":"Better node logs","description":"The goal of this milestone is to improve default node logs UX\r\n\r\nhttps:\/\/codimd.nomadic-labs.com\/WNWdW2CqRzyiVUePbOhnrg","state":"closed","created_at":"2023-01-12T13:33:22.523Z","updated_at":"2023-02-20T16:28:33.354Z","due_date":"2023-02-28","start_date":"2023-01-08","expired":true,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/157"},"assignees":[{"id":5407179,"username":"remyzorg","name":"R\u00e9my El Siba\u00efe","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/5407179\/avatar.png","web_url":"https:\/\/gitlab.com\/remyzorg"}],"author":{"id":5407179,"username":"remyzorg","name":"R\u00e9my El Siba\u00efe","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/5407179\/avatar.png","web_url":"https:\/\/gitlab.com\/remyzorg"},"type":"ISSUE","assignee":{"id":5407179,"username":"remyzorg","name":"R\u00e9my El Siba\u00efe","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/5407179\/avatar.png","web_url":"https:\/\/gitlab.com\/remyzorg"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/4801","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/4801","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/4801\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/4801\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#4801","relative":"#4801","full":"tezos\/tezos#4801"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":123015056,"iid":4768,"project_id":3836952,"title":"Node logs: activate daily-logs by default on disk","description":"","state":"closed","created_at":1675440334443,"updated_at":1676379826730,"closed_at":1676379826714,"closed_by":{"id":5407179,"username":"remyzorg","name":"R\u00e9my El Siba\u00efe","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/5407179\/avatar.png","web_url":"https:\/\/gitlab.com\/remyzorg"},"labels":["Improve UX","logging","node \ud83d\udda5"],"milestone":{"id":2942255,"iid":157,"project_id":3836952,"title":"Better node logs","description":"The goal of this milestone is to improve default node logs UX\r\n\r\nhttps:\/\/codimd.nomadic-labs.com\/WNWdW2CqRzyiVUePbOhnrg","state":"closed","created_at":"2023-01-12T13:33:22.523Z","updated_at":"2023-02-20T16:28:33.354Z","due_date":"2023-02-28","start_date":"2023-01-08","expired":true,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/157"},"assignees":[{"id":5407179,"username":"remyzorg","name":"R\u00e9my El Siba\u00efe","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/5407179\/avatar.png","web_url":"https:\/\/gitlab.com\/remyzorg"}],"author":{"id":5407179,"username":"remyzorg","name":"R\u00e9my El Siba\u00efe","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/5407179\/avatar.png","web_url":"https:\/\/gitlab.com\/remyzorg"},"type":"ISSUE","assignee":{"id":5407179,"username":"remyzorg","name":"R\u00e9my El Siba\u00efe","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/5407179\/avatar.png","web_url":"https:\/\/gitlab.com\/remyzorg"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/4768","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":true,"task_status":"","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/4768","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/4768\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/4768\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#4768","relative":"#4768","full":"tezos\/tezos#4768"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":122477585,"iid":4686,"project_id":3836952,"title":"Remove pytest framework","description":"","state":"closed","created_at":1674727570709,"updated_at":1678091534469,"closed_at":1678091534410,"closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/8770486\/avatar.png","web_url":"https:\/\/gitlab.com\/nomadic-margebot"},"labels":["CI \u2699","doc \ud83d\udcd6","python  \ud83d\udc0d","state::in-progress","test \u2692","tests::pytest"],"milestone":{"id":2929075,"iid":155,"project_id":3836952,"title":"Py2ml#3: Keep on slogging","description":"See https:\/\/hackmd.io\/fwsV80pYT5OYKf0biYz9nA\r\n\r\nOwner: @arvidnl\r\n\r\nGoal: Translate remaining Python tests to OCaml\r\n\r\nAcceptance criteria: all remaining python tests are rewritten in OCaml.","state":"closed","created_at":"2023-01-03T12:39:45.938Z","updated_at":"2023-03-06T08:55:02.419Z","due_date":"2023-03-31","start_date":"2023-01-01","expired":true,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/155"},"assignees":[],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/4686","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":8,"blocking_issues_count":0,"has_tasks":true,"task_status":"","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/4686","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/4686\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/4686\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#4686","relative":"#4686","full":"tezos\/tezos#4686"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":122432229,"iid":4677,"project_id":3836952,"title":"lib_store: higher level of verbosity for a few events","description":"```\n2023-01-24T14:31:21.199-00:00 [validator.blockprechecked_block] prechecked block BMHjBfXHWQs2S93kcRtVcXsMskmvSqHaaLuB8pU2rJTgwFbQQwm\n2023-01-24T14:31:21.199-00:00 [node.storestore_prechecked_block] prechecked block   BMHjBfXHWQs2S93kcRtVcXsMskmvSqHaaLuB8pU2rJTgwFbQQwm (level: 31) was stored\n2023-01-24T14:31:21.214-00:00 [node.storestore_block] block BMHjBfXHWQs2S93kcRtVcXsMskmvSqHaaLuB8pU2rJTgwFbQQwm (level: 31) was   stored\n2023-01-24T14:31:21.214-00:00 [validator.blockvalidation_success] block BMHjBfXHWQs2S93kcRtVcXsMskmvSqHaaLuB8pU2rJTgwFbQQwm validated   Request pushed on 2023-01-24T14:31:21.182-00:00, treated in 8.306us, completed in 31.838ms\n2023-01-24T14:31:21.215-00:00 [node.storeset_head] BMHjBfXHWQs2S93kcRtVcXsMskmvSqHaaLuB8pU2rJTgwFbQQwm (level: 31) set as new   head\n2023-01-24T14:31:21.216-00:00 [validator.chainhead_increment] Update current head to BMHjBfXHWQs2S93kcRtVcXsMskmvSqHaaLuB8pU2rJTgwFbQQwm   (level 31, timestamp 2022-10-13T16:06:50-00:00, fitness   02::0000001f::::ffffffff::00000000), same branch\n```\n\nStore events creates a lot of noise when treating a block. These events should probably be in `Debug` instead of `Info`.","state":"closed","created_at":1674656835217,"updated_at":1675867505402,"closed_at":1675331425357,"closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/8770486\/avatar.png","web_url":"https:\/\/gitlab.com\/nomadic-margebot"},"labels":["Improve UX","logging","node \ud83d\udda5"],"milestone":null,"assignees":[{"id":5407179,"username":"remyzorg","name":"R\u00e9my El Siba\u00efe","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/5407179\/avatar.png","web_url":"https:\/\/gitlab.com\/remyzorg"}],"author":{"id":5407179,"username":"remyzorg","name":"R\u00e9my El Siba\u00efe","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/5407179\/avatar.png","web_url":"https:\/\/gitlab.com\/remyzorg"},"type":"ISSUE","assignee":{"id":5407179,"username":"remyzorg","name":"R\u00e9my El Siba\u00efe","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/5407179\/avatar.png","web_url":"https:\/\/gitlab.com\/remyzorg"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/4677","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/4677","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/4677\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/4677\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#4677","relative":"#4677","full":"tezos\/tezos#4677"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":122431624,"iid":4676,"project_id":3836952,"title":"File-descriptor sink: missing dot between section and event name","description":"fixed by https:\/\/gitlab.com\/tezos\/tezos\/-\/merge_requests\/7494\n\n```\n2023-01-24T14:37:11.559-00:00 [validator.chainhead_increment] Update current head to BMHUKJJdXtPEipwTM5SsxRQCE76qbbWnsXibA75sYY6shNcsUJU   (level 10009, timestamp 2022-10-15T19:23:45-00:00, fitness   02::00002719::::ffffffff::00000001), same branch\n```\n\n```\n2023-01-25T09:49:00.128-00:00 [validator.chain.head_increment] Update current head to BMJNPjiw1DkYn3NXoo6D4UQwBpyDT3rz7zmJ2mANWwxU9YFC1wn   (level 563573, timestamp 2023-01-24T14:22:35-00:00, fitness   02::00089975::::ffffffff::00000000), same branch\n```\n\n`validator.chainhead_increment` -> `validator.chain.head_increment`","state":"closed","created_at":1674656496976,"updated_at":1674656848337,"closed_at":1674656505697,"closed_by":{"id":5407179,"username":"remyzorg","name":"R\u00e9my El Siba\u00efe","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/5407179\/avatar.png","web_url":"https:\/\/gitlab.com\/remyzorg"},"labels":["Improve UX","logging","node \ud83d\udda5"],"milestone":{"id":2942255,"iid":157,"project_id":3836952,"title":"Better node logs","description":"The goal of this milestone is to improve default node logs UX\r\n\r\nhttps:\/\/codimd.nomadic-labs.com\/WNWdW2CqRzyiVUePbOhnrg","state":"closed","created_at":"2023-01-12T13:33:22.523Z","updated_at":"2023-02-20T16:28:33.354Z","due_date":"2023-02-28","start_date":"2023-01-08","expired":true,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/157"},"assignees":[{"id":5407179,"username":"remyzorg","name":"R\u00e9my El Siba\u00efe","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/5407179\/avatar.png","web_url":"https:\/\/gitlab.com\/remyzorg"}],"author":{"id":5407179,"username":"remyzorg","name":"R\u00e9my El Siba\u00efe","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/5407179\/avatar.png","web_url":"https:\/\/gitlab.com\/remyzorg"},"type":"ISSUE","assignee":{"id":5407179,"username":"remyzorg","name":"R\u00e9my El Siba\u00efe","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/5407179\/avatar.png","web_url":"https:\/\/gitlab.com\/remyzorg"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/4676","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/4676","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/4676\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/4676\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#4676","relative":"#4676","full":"tezos\/tezos#4676"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":122304482,"iid":4660,"project_id":3836952,"title":"Logging: add an option enabling rotation of file-descriptor sinks on a daily basis","description":"\nGoal: cut a lot of things from the stdout logging without worrying of debugging\n\n- Add options to file-based sinks to be limited by time\n- option: `rotation-days=N`","state":"closed","created_at":1674482702310,"updated_at":1674673645515,"closed_at":1674673645494,"closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/8770486\/avatar.png","web_url":"https:\/\/gitlab.com\/nomadic-margebot"},"labels":["Improve UX","logging","node \ud83d\udda5"],"milestone":{"id":2942255,"iid":157,"project_id":3836952,"title":"Better node logs","description":"The goal of this milestone is to improve default node logs UX\r\n\r\nhttps:\/\/codimd.nomadic-labs.com\/WNWdW2CqRzyiVUePbOhnrg","state":"closed","created_at":"2023-01-12T13:33:22.523Z","updated_at":"2023-02-20T16:28:33.354Z","due_date":"2023-02-28","start_date":"2023-01-08","expired":true,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/157"},"assignees":[{"id":5407179,"username":"remyzorg","name":"R\u00e9my El Siba\u00efe","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/5407179\/avatar.png","web_url":"https:\/\/gitlab.com\/remyzorg"}],"author":{"id":5407179,"username":"remyzorg","name":"R\u00e9my El Siba\u00efe","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/5407179\/avatar.png","web_url":"https:\/\/gitlab.com\/remyzorg"},"type":"ISSUE","assignee":{"id":5407179,"username":"remyzorg","name":"R\u00e9my El Siba\u00efe","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/5407179\/avatar.png","web_url":"https:\/\/gitlab.com\/remyzorg"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":"2023-01-30","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/4660","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/4660","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/4660\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/4660\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#4660","relative":"#4660","full":"tezos\/tezos#4660"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":121760700,"iid":4599,"project_id":3836952,"title":"Node logs: simplify bootstrap logs","description":"Already done in a previous [non-merged request](https:\/\/gitlab.com\/tezos\/tezos\/-\/merge_requests\/2344\/diffs?commit_id=1916f683d6b0ed705543b3fc42bcd249e970a122).\n\n```\nDec  4 11:54:19.581 - node.validator.bootstrap_pipeline: fetching branch of about 10499 blocks from peer\nDec  4 11:54:19.581 - node.validator.bootstrap_pipeline:   idqrpoSMD3XKbsN5U8wqyT2d4SLfgv in 98 steps\n```\n\nThe section is extremely long and the wording is could be simplified.\nThe solution could be the following one.\n\n```\nDec  4 14:34:25.754 - bootstrap: fetching ~11741 blocks from peer ids9jAYxv8h4kWTi6swki3fXfTEUG1 in 100 steps\n```","state":"closed","created_at":1673631912031,"updated_at":1675867121741,"closed_at":1675867121720,"closed_by":{"id":5407179,"username":"remyzorg","name":"R\u00e9my El Siba\u00efe","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/5407179\/avatar.png","web_url":"https:\/\/gitlab.com\/remyzorg"},"labels":["Improve UX","logging","node \ud83d\udda5"],"milestone":{"id":2942255,"iid":157,"project_id":3836952,"title":"Better node logs","description":"The goal of this milestone is to improve default node logs UX\r\n\r\nhttps:\/\/codimd.nomadic-labs.com\/WNWdW2CqRzyiVUePbOhnrg","state":"closed","created_at":"2023-01-12T13:33:22.523Z","updated_at":"2023-02-20T16:28:33.354Z","due_date":"2023-02-28","start_date":"2023-01-08","expired":true,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/157"},"assignees":[],"author":{"id":5407179,"username":"remyzorg","name":"R\u00e9my El Siba\u00efe","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/5407179\/avatar.png","web_url":"https:\/\/gitlab.com\/remyzorg"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/4599","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/4599","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/4599\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/4599\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#4599","relative":"#4599","full":"tezos\/tezos#4599"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":121759462,"iid":4598,"project_id":3836952,"title":"lib_shell:\u00a0set higher verbosity level for a few recurrent events","description":"Peers disconnection and precheck of blocks are seen as not useful to the user.\nWe would like to put it to `info` instead of `notice`","state":"closed","created_at":1673630910644,"updated_at":1676634653392,"closed_at":1676634653363,"closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/8770486\/avatar.png","web_url":"https:\/\/gitlab.com\/nomadic-margebot"},"labels":["Improve UX","logging","node \ud83d\udda5"],"milestone":{"id":2942255,"iid":157,"project_id":3836952,"title":"Better node logs","description":"The goal of this milestone is to improve default node logs UX\r\n\r\nhttps:\/\/codimd.nomadic-labs.com\/WNWdW2CqRzyiVUePbOhnrg","state":"closed","created_at":"2023-01-12T13:33:22.523Z","updated_at":"2023-02-20T16:28:33.354Z","due_date":"2023-02-28","start_date":"2023-01-08","expired":true,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/157"},"assignees":[{"id":5407179,"username":"remyzorg","name":"R\u00e9my El Siba\u00efe","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/5407179\/avatar.png","web_url":"https:\/\/gitlab.com\/remyzorg"}],"author":{"id":5407179,"username":"remyzorg","name":"R\u00e9my El Siba\u00efe","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/5407179\/avatar.png","web_url":"https:\/\/gitlab.com\/remyzorg"},"type":"ISSUE","assignee":{"id":5407179,"username":"remyzorg","name":"R\u00e9my El Siba\u00efe","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/5407179\/avatar.png","web_url":"https:\/\/gitlab.com\/remyzorg"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/4598","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/4598","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/4598\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/4598\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#4598","relative":"#4598","full":"tezos\/tezos#4598"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":121662378,"iid":4582,"project_id":3836952,"title":"Node logs: shortens request status size in various events","description":"```\nJan  6 14:33:10.900 - validator.block: block BLkhtA81uak1SxxCDCVMXEnXCKsJcFLajVT84ZjrFKbxAaJUL4E validated\nJan  6 14:33:10.900 - validator.block:   Request pushed on 2023-01-06T13:33:10.853-00:00, treated in 153us, completed in 45.531ms\n```\n\nIn various places, we print the request status of some Requests to workers. It is a way to know how much time an operation took (like block validation).\nHowever, it is hardly understandable by the user. \n\n- The `Request pushed` part gives no information to people with no knowledge of worker interface. \n- It is the same for the push time, on which Hour information is by the way not consistent with the log time\n- `treated` is the time elapsed between the request submission to a worker and the beginning of its _treatment_. It doesn't seem to be of any help to someone that is not looking to debug a particular worker implementation \n\n### Proposed solution\n\nSimplify the printing of the status in various places. Prevalidator and Block validator probably don't need the full printing and we could reduce the display to the `completed` information. In such a situation, the above display would become\n\n```\nJan  6 14:33:10.900 - validator.block: block BLkhtA81uak1SxxCDCVMXEnXCKsJcFLajVT84ZjrFKbxAaJUL4E validated (45.531ms)\n```","state":"closed","created_at":1673530638085,"updated_at":1674555622368,"closed_at":1674555622189,"closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/8770486\/avatar.png","web_url":"https:\/\/gitlab.com\/nomadic-margebot"},"labels":["Improve UX","logging","node \ud83d\udda5","shell"],"milestone":{"id":2942255,"iid":157,"project_id":3836952,"title":"Better node logs","description":"The goal of this milestone is to improve default node logs UX\r\n\r\nhttps:\/\/codimd.nomadic-labs.com\/WNWdW2CqRzyiVUePbOhnrg","state":"closed","created_at":"2023-01-12T13:33:22.523Z","updated_at":"2023-02-20T16:28:33.354Z","due_date":"2023-02-28","start_date":"2023-01-08","expired":true,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/157"},"assignees":[{"id":5407179,"username":"remyzorg","name":"R\u00e9my El Siba\u00efe","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/5407179\/avatar.png","web_url":"https:\/\/gitlab.com\/remyzorg"}],"author":{"id":5407179,"username":"remyzorg","name":"R\u00e9my El Siba\u00efe","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/5407179\/avatar.png","web_url":"https:\/\/gitlab.com\/remyzorg"},"type":"ISSUE","assignee":{"id":5407179,"username":"remyzorg","name":"R\u00e9my El Siba\u00efe","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/5407179\/avatar.png","web_url":"https:\/\/gitlab.com\/remyzorg"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":"2023-01-16","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/4582","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/4582","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/4582\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/4582\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#4582","relative":"#4582","full":"tezos\/tezos#4582"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":121662278,"iid":4581,"project_id":3836952,"title":"Node logs: remove block properties (timestamp and fitness)","description":"```\nJan  6 14:33:10.920 - validator.chain: Update current head to BLkhtA81uak1SxxCDCVMXEnXCKsJcFLajVT84ZjrFKbxAaJUL4E\nJan  6 14:33:10.920 - validator.chain:   (level 462824, timestamp 2023-01-06T13:33:10-00:00, fitness\nJan  6 14:33:10.920 - validator.chain:   02::00070fe8::::ffffffff::00000000), same branch\n```\n\nIn some events advertizing new blocks, some properties are seen as obscure, and can even be found from elsewhere, like the `fitness` or the `timestamp`. Also they are probably not greppable, not especially useful for a developper. (Could the fitness be replaced by priority instead ?)\n\n- timestamp\n  - _Regarding the Update current head to message, I think it worth keeping the timestamp. Indeed, it is easy to know if your node is \"up to date\" while looking at it (if last block timestamp is very recent). The level requires a third party to get the \"is my node synced\" information._\n  - we could replace by `4ms ago` which is shorter than `timestamp 2023-01-06T13:33:10-00:00\n  - we keep only one unit (year month s ms )\n  - is there a case where the timestamp is very different from the log date ?\n  - don't display timestamp if close to current date ?\n\n- fitness: ensure if useful or not (feedback: + Albin Romain), fitness can be found with the block hash.","state":"closed","created_at":1673530507037,"updated_at":1676643658167,"closed_at":1676643658107,"closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/8770486\/avatar.png","web_url":"https:\/\/gitlab.com\/nomadic-margebot"},"labels":["Improve UX","node \ud83d\udda5","shell"],"milestone":{"id":2942255,"iid":157,"project_id":3836952,"title":"Better node logs","description":"The goal of this milestone is to improve default node logs UX\r\n\r\nhttps:\/\/codimd.nomadic-labs.com\/WNWdW2CqRzyiVUePbOhnrg","state":"closed","created_at":"2023-01-12T13:33:22.523Z","updated_at":"2023-02-20T16:28:33.354Z","due_date":"2023-02-28","start_date":"2023-01-08","expired":true,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/157"},"assignees":[{"id":5407179,"username":"remyzorg","name":"R\u00e9my El Siba\u00efe","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/5407179\/avatar.png","web_url":"https:\/\/gitlab.com\/remyzorg"}],"author":{"id":5407179,"username":"remyzorg","name":"R\u00e9my El Siba\u00efe","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/5407179\/avatar.png","web_url":"https:\/\/gitlab.com\/remyzorg"},"type":"ISSUE","assignee":{"id":5407179,"username":"remyzorg","name":"R\u00e9my El Siba\u00efe","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/5407179\/avatar.png","web_url":"https:\/\/gitlab.com\/remyzorg"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":"2023-01-15","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/4581","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/4581","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/4581\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/4581\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#4581","relative":"#4581","full":"tezos\/tezos#4581"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":121161542,"iid":4502,"project_id":3836952,"title":"Translate pytest `test_contract_opcodes.py`","description":"Estimated translation time: 23 hours","state":"closed","created_at":1672750033823,"updated_at":1676529479639,"closed_at":1676529479606,"closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/8770486\/avatar.png","web_url":"https:\/\/gitlab.com\/nomadic-margebot"},"labels":["python  \ud83d\udc0d","state::in-review","test \u2692","tests::tezt"],"milestone":{"id":2929075,"iid":155,"project_id":3836952,"title":"Py2ml#3: Keep on slogging","description":"See https:\/\/hackmd.io\/fwsV80pYT5OYKf0biYz9nA\r\n\r\nOwner: @arvidnl\r\n\r\nGoal: Translate remaining Python tests to OCaml\r\n\r\nAcceptance criteria: all remaining python tests are rewritten in OCaml.","state":"closed","created_at":"2023-01-03T12:39:45.938Z","updated_at":"2023-03-06T08:55:02.419Z","due_date":"2023-03-31","start_date":"2023-01-01","expired":true,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/155"},"assignees":[{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"type":"ISSUE","assignee":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/4502","time_stats":{"time_estimate":82800,"total_time_spent":0,"human_time_estimate":"23h","human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":23,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/4502","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/4502\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/4502\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#4502","relative":"#4502","full":"tezos\/tezos#4502"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":121161541,"iid":4501,"project_id":3836952,"title":"Translate pytest `test_contract_onchain_opcodes.py`","description":"Estimated translation time:53 hours.","state":"closed","created_at":1672750033573,"updated_at":1676448681253,"closed_at":1676448681235,"closed_by":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"labels":["python  \ud83d\udc0d","state::in-review","test \u2692","tests::tezt"],"milestone":{"id":2929075,"iid":155,"project_id":3836952,"title":"Py2ml#3: Keep on slogging","description":"See https:\/\/hackmd.io\/fwsV80pYT5OYKf0biYz9nA\r\n\r\nOwner: @arvidnl\r\n\r\nGoal: Translate remaining Python tests to OCaml\r\n\r\nAcceptance criteria: all remaining python tests are rewritten in OCaml.","state":"closed","created_at":"2023-01-03T12:39:45.938Z","updated_at":"2023-03-06T08:55:02.419Z","due_date":"2023-03-31","start_date":"2023-01-01","expired":true,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/155"},"assignees":[{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"type":"ISSUE","assignee":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/4501","time_stats":{"time_estimate":190800,"total_time_spent":0,"human_time_estimate":"53h","human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":53,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/4501","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/4501\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/4501\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#4501","relative":"#4501","full":"tezos\/tezos#4501"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":121161540,"iid":4500,"project_id":3836952,"title":"Translate pytest `test_contract_macros.py`","description":"Estimated translation time: 20 hours.","state":"closed","created_at":1672750033337,"updated_at":1676380767390,"closed_at":1676380767301,"closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/8770486\/avatar.png","web_url":"https:\/\/gitlab.com\/nomadic-margebot"},"labels":["python  \ud83d\udc0d","state::in-review","test \u2692","tests::tezt"],"milestone":{"id":2929075,"iid":155,"project_id":3836952,"title":"Py2ml#3: Keep on slogging","description":"See https:\/\/hackmd.io\/fwsV80pYT5OYKf0biYz9nA\r\n\r\nOwner: @arvidnl\r\n\r\nGoal: Translate remaining Python tests to OCaml\r\n\r\nAcceptance criteria: all remaining python tests are rewritten in OCaml.","state":"closed","created_at":"2023-01-03T12:39:45.938Z","updated_at":"2023-03-06T08:55:02.419Z","due_date":"2023-03-31","start_date":"2023-01-01","expired":true,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/155"},"assignees":[{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"type":"ISSUE","assignee":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/4500","time_stats":{"time_estimate":72000,"total_time_spent":0,"human_time_estimate":"20h","human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":20,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/4500","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/4500\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/4500\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#4500","relative":"#4500","full":"tezos\/tezos#4500"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":121161539,"iid":4499,"project_id":3836952,"title":"Translate pytest `test_contract_baker.py`","description":"Estimated translation time:  2 hours.","state":"closed","created_at":1672750033147,"updated_at":1675417933798,"closed_at":1675417933775,"closed_by":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"labels":["python  \ud83d\udc0d","state::in-review","test \u2692","tests::tezt"],"milestone":{"id":2929075,"iid":155,"project_id":3836952,"title":"Py2ml#3: Keep on slogging","description":"See https:\/\/hackmd.io\/fwsV80pYT5OYKf0biYz9nA\r\n\r\nOwner: @arvidnl\r\n\r\nGoal: Translate remaining Python tests to OCaml\r\n\r\nAcceptance criteria: all remaining python tests are rewritten in OCaml.","state":"closed","created_at":"2023-01-03T12:39:45.938Z","updated_at":"2023-03-06T08:55:02.419Z","due_date":"2023-03-31","start_date":"2023-01-01","expired":true,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/155"},"assignees":[{"id":1718826,"username":"lykimquyen","name":"lykimquyen","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/e6366ed868934e6ce5ab7eccb3dac23b?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/lykimquyen"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"type":"ISSUE","assignee":{"id":1718826,"username":"lykimquyen","name":"lykimquyen","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/e6366ed868934e6ce5ab7eccb3dac23b?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/lykimquyen"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/4499","time_stats":{"time_estimate":7200,"total_time_spent":0,"human_time_estimate":"2h","human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/4499","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/4499\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/4499\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#4499","relative":"#4499","full":"tezos\/tezos#4499"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":121161537,"iid":4498,"project_id":3836952,"title":"Translate pytest `test_contract_annotations.py`","description":"Estimated translation time:  5 hours.","state":"closed","created_at":1672750032316,"updated_at":1675255139547,"closed_at":1675255139519,"closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/8770486\/avatar.png","web_url":"https:\/\/gitlab.com\/nomadic-margebot"},"labels":["python  \ud83d\udc0d","state::in-review","test \u2692","tests::tezt"],"milestone":{"id":2929075,"iid":155,"project_id":3836952,"title":"Py2ml#3: Keep on slogging","description":"See https:\/\/hackmd.io\/fwsV80pYT5OYKf0biYz9nA\r\n\r\nOwner: @arvidnl\r\n\r\nGoal: Translate remaining Python tests to OCaml\r\n\r\nAcceptance criteria: all remaining python tests are rewritten in OCaml.","state":"closed","created_at":"2023-01-03T12:39:45.938Z","updated_at":"2023-03-06T08:55:02.419Z","due_date":"2023-03-31","start_date":"2023-01-01","expired":true,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/155"},"assignees":[{"id":10774865,"username":"xf6","name":"X","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/e10670647075a14ad41bb15234785f64?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/xf6"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"type":"ISSUE","assignee":{"id":10774865,"username":"xf6","name":"X","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/e10670647075a14ad41bb15234785f64?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/xf6"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/4498","time_stats":{"time_estimate":18000,"total_time_spent":0,"human_time_estimate":"5h","human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/4498","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/4498\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/4498\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#4498","relative":"#4498","full":"tezos\/tezos#4498"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":116884253,"iid":4011,"project_id":3836952,"title":"EVM on WASM: mock host functions for store_move and store_copy","description":"# Goal\n\nImplement mock versions of the `store_move` and `store_copy` functions also available on the host through the WASM PVM.","state":"closed","created_at":1665740391788,"updated_at":1667302922635,"closed_at":1667302922592,"closed_by":{"id":11403341,"username":"thomas.pecseli","name":"Thomas Pecseli","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/3775b505539832eeb48b4a781ed3dcd7?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/thomas.pecseli"},"labels":[],"milestone":{"id":2730112,"iid":109,"project_id":3836952,"title":"EVM on WASM: Storage","description":"# Goal\r\n\r\nThe TX- and EVM- kernel uses WASM PVM storage for storing contract code and data.\r\n\r\n## Context\r\n\r\nThe WASM PVM has a limit on RAM\/volatile memory of 4GB. In time, the TX- and EVM- kernel may have to store way more data than that once contracts get created and run. \r\n\r\nAlso, we are not able to store data in RAM across calls to `kernel_next`.\r\n\r\nWe have \"special\" host functions for copy and move, that exploit Irmin functionality as exposed by the WASM PVM. They should be much faster than doing this by simply reading\/writing\/deleting. Such functions will come in handy when implementing transaction creation, commit, and rollback.\r\n\r\nThis milestone depends on WASM PVM milestone 105: https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/105.\r\n\r\n## Implementation\r\n\r\n- [X] Host functions for reading-from-\/writing-to- durable storage. Implemented in WASM PVM. See the [SCORU Wasm - Output and Durable Storage](https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/105#tab-issues) milestone.\r\n- [X] Interface to those host functions implemented in the WASM kernel as *safe* Rust functions wrapping the *unsafe* host functions.\r\n\r\n### Ethereum storage interface\r\n\r\n- [ ] Loading and storing contract code (there are several use cases for loading contract code - see below).\r\n- [ ] Loading and storing contract data\r\n- [ ] Loading and storing basic account data (Ethereum Yellow Paper section 4)\r\n- [ ] Loading and storing blocks (including block hash, gas price, et.c.)\r\n- [X] Transaction stack with commit and revert\r\n\r\n## Confidence\r\n\r\n- [X] Testing of host functions (if not done when implemented in WASM PVM)\r\n- [X] Test mock runtime host function implementation\r\n- [ ] Unit testing of all Ethereum storage interface functions","state":"closed","created_at":"2022-08-09T09:53:29.156Z","updated_at":"2023-04-20T13:31:39.481Z","due_date":null,"start_date":null,"expired":false,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/109"},"assignees":[{"id":11403341,"username":"thomas.pecseli","name":"Thomas Pecseli","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/3775b505539832eeb48b4a781ed3dcd7?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/thomas.pecseli"}],"author":{"id":11403341,"username":"thomas.pecseli","name":"Thomas Pecseli","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/3775b505539832eeb48b4a781ed3dcd7?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/thomas.pecseli"},"type":"ISSUE","assignee":{"id":11403341,"username":"thomas.pecseli","name":"Thomas Pecseli","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/3775b505539832eeb48b4a781ed3dcd7?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/thomas.pecseli"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/4011","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/4011","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/4011\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/4011\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#4011","relative":"#4011","full":"tezos\/tezos#4011"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":116884160,"iid":4010,"project_id":3836952,"title":"EVM on WASM: store_move and store_copy","description":"## Goal\n\nImplement kernel side of `store_move` and `store_copy`. Functions already available through the WASM PVM. We need to add them to the host runtime interface in Rust.","state":"closed","created_at":1665740285683,"updated_at":1667302922597,"closed_at":1667302922564,"closed_by":{"id":11403341,"username":"thomas.pecseli","name":"Thomas Pecseli","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/3775b505539832eeb48b4a781ed3dcd7?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/thomas.pecseli"},"labels":[],"milestone":{"id":2730112,"iid":109,"project_id":3836952,"title":"EVM on WASM: Storage","description":"# Goal\r\n\r\nThe TX- and EVM- kernel uses WASM PVM storage for storing contract code and data.\r\n\r\n## Context\r\n\r\nThe WASM PVM has a limit on RAM\/volatile memory of 4GB. In time, the TX- and EVM- kernel may have to store way more data than that once contracts get created and run. \r\n\r\nAlso, we are not able to store data in RAM across calls to `kernel_next`.\r\n\r\nWe have \"special\" host functions for copy and move, that exploit Irmin functionality as exposed by the WASM PVM. They should be much faster than doing this by simply reading\/writing\/deleting. Such functions will come in handy when implementing transaction creation, commit, and rollback.\r\n\r\nThis milestone depends on WASM PVM milestone 105: https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/105.\r\n\r\n## Implementation\r\n\r\n- [X] Host functions for reading-from-\/writing-to- durable storage. Implemented in WASM PVM. See the [SCORU Wasm - Output and Durable Storage](https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/105#tab-issues) milestone.\r\n- [X] Interface to those host functions implemented in the WASM kernel as *safe* Rust functions wrapping the *unsafe* host functions.\r\n\r\n### Ethereum storage interface\r\n\r\n- [ ] Loading and storing contract code (there are several use cases for loading contract code - see below).\r\n- [ ] Loading and storing contract data\r\n- [ ] Loading and storing basic account data (Ethereum Yellow Paper section 4)\r\n- [ ] Loading and storing blocks (including block hash, gas price, et.c.)\r\n- [X] Transaction stack with commit and revert\r\n\r\n## Confidence\r\n\r\n- [X] Testing of host functions (if not done when implemented in WASM PVM)\r\n- [X] Test mock runtime host function implementation\r\n- [ ] Unit testing of all Ethereum storage interface functions","state":"closed","created_at":"2022-08-09T09:53:29.156Z","updated_at":"2023-04-20T13:31:39.481Z","due_date":null,"start_date":null,"expired":false,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/109"},"assignees":[{"id":11403341,"username":"thomas.pecseli","name":"Thomas Pecseli","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/3775b505539832eeb48b4a781ed3dcd7?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/thomas.pecseli"}],"author":{"id":11403341,"username":"thomas.pecseli","name":"Thomas Pecseli","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/3775b505539832eeb48b4a781ed3dcd7?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/thomas.pecseli"},"type":"ISSUE","assignee":{"id":11403341,"username":"thomas.pecseli","name":"Thomas Pecseli","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/3775b505539832eeb48b4a781ed3dcd7?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/thomas.pecseli"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/4010","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/4010","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/4010\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/4010\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#4010","relative":"#4010","full":"tezos\/tezos#4010"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":116462276,"iid":3967,"project_id":3836952,"title":"Translate pytest `test_voting.py`","description":"estimated translation time: 12 hours","state":"closed","created_at":1665145014427,"updated_at":1673971042509,"closed_at":1673971042477,"closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/8770486\/avatar.png","web_url":"https:\/\/gitlab.com\/nomadic-margebot"},"labels":["python  \ud83d\udc0d","state::in-review","test \u2692","tests::pytest"],"milestone":{"id":2929075,"iid":155,"project_id":3836952,"title":"Py2ml#3: Keep on slogging","description":"See https:\/\/hackmd.io\/fwsV80pYT5OYKf0biYz9nA\r\n\r\nOwner: @arvidnl\r\n\r\nGoal: Translate remaining Python tests to OCaml\r\n\r\nAcceptance criteria: all remaining python tests are rewritten in OCaml.","state":"closed","created_at":"2023-01-03T12:39:45.938Z","updated_at":"2023-03-06T08:55:02.419Z","due_date":"2023-03-31","start_date":"2023-01-01","expired":true,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/155"},"assignees":[{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"type":"ISSUE","assignee":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"user_notes_count":1,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/3967","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":12,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3967","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3967\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3967\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#3967","relative":"#3967","full":"tezos\/tezos#3967"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":116462275,"iid":3966,"project_id":3836952,"title":"Translate pytest `test_tls.py`","description":"estimated translation time: 2 hours","state":"closed","created_at":1665145014326,"updated_at":1673863673540,"closed_at":1673863673516,"closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/8770486\/avatar.png","web_url":"https:\/\/gitlab.com\/nomadic-margebot"},"labels":["python  \ud83d\udc0d","state::in-review","test \u2692","tests::pytest"],"milestone":{"id":2929075,"iid":155,"project_id":3836952,"title":"Py2ml#3: Keep on slogging","description":"See https:\/\/hackmd.io\/fwsV80pYT5OYKf0biYz9nA\r\n\r\nOwner: @arvidnl\r\n\r\nGoal: Translate remaining Python tests to OCaml\r\n\r\nAcceptance criteria: all remaining python tests are rewritten in OCaml.","state":"closed","created_at":"2023-01-03T12:39:45.938Z","updated_at":"2023-03-06T08:55:02.419Z","due_date":"2023-03-31","start_date":"2023-01-01","expired":true,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/155"},"assignees":[{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"type":"ISSUE","assignee":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"user_notes_count":1,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/3966","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3966","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3966\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3966\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#3966","relative":"#3966","full":"tezos\/tezos#3966"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":116462274,"iid":3965,"project_id":3836952,"title":"Translate pytest `test_proto_demo_noops_manual_bake.py`","description":"estimated translation time: 4 hours","state":"closed","created_at":1665145014203,"updated_at":1675268434685,"closed_at":1675268434659,"closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/8770486\/avatar.png","web_url":"https:\/\/gitlab.com\/nomadic-margebot"},"labels":["python  \ud83d\udc0d","state::in-review","test \u2692","tests::pytest"],"milestone":{"id":2929075,"iid":155,"project_id":3836952,"title":"Py2ml#3: Keep on slogging","description":"See https:\/\/hackmd.io\/fwsV80pYT5OYKf0biYz9nA\r\n\r\nOwner: @arvidnl\r\n\r\nGoal: Translate remaining Python tests to OCaml\r\n\r\nAcceptance criteria: all remaining python tests are rewritten in OCaml.","state":"closed","created_at":"2023-01-03T12:39:45.938Z","updated_at":"2023-03-06T08:55:02.419Z","due_date":"2023-03-31","start_date":"2023-01-01","expired":true,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/155"},"assignees":[{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"type":"ISSUE","assignee":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"user_notes_count":1,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/3965","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3965","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3965\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3965\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#3965","relative":"#3965","full":"tezos\/tezos#3965"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":116462273,"iid":3964,"project_id":3836952,"title":"Translate pytest `test_proto_demo_counter.py`","description":"estimated translation time: 4 hours","state":"closed","created_at":1665145014094,"updated_at":1675268434743,"closed_at":1675268434719,"closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/8770486\/avatar.png","web_url":"https:\/\/gitlab.com\/nomadic-margebot"},"labels":["python  \ud83d\udc0d","state::in-review","test \u2692","tests::pytest"],"milestone":{"id":2929075,"iid":155,"project_id":3836952,"title":"Py2ml#3: Keep on slogging","description":"See https:\/\/hackmd.io\/fwsV80pYT5OYKf0biYz9nA\r\n\r\nOwner: @arvidnl\r\n\r\nGoal: Translate remaining Python tests to OCaml\r\n\r\nAcceptance criteria: all remaining python tests are rewritten in OCaml.","state":"closed","created_at":"2023-01-03T12:39:45.938Z","updated_at":"2023-03-06T08:55:02.419Z","due_date":"2023-03-31","start_date":"2023-01-01","expired":true,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/155"},"assignees":[{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"type":"ISSUE","assignee":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/3964","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3964","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3964\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3964\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#3964","relative":"#3964","full":"tezos\/tezos#3964"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":116462272,"iid":3963,"project_id":3836952,"title":"Translate pytest `test_p2p.py`","description":"estimated translation time: 6 hours","state":"closed","created_at":1665145013995,"updated_at":1677665547021,"closed_at":1677665546991,"closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/8770486\/avatar.png","web_url":"https:\/\/gitlab.com\/nomadic-margebot"},"labels":["python  \ud83d\udc0d","state::in-review","test \u2692","tests::pytest"],"milestone":{"id":2929075,"iid":155,"project_id":3836952,"title":"Py2ml#3: Keep on slogging","description":"See https:\/\/hackmd.io\/fwsV80pYT5OYKf0biYz9nA\r\n\r\nOwner: @arvidnl\r\n\r\nGoal: Translate remaining Python tests to OCaml\r\n\r\nAcceptance criteria: all remaining python tests are rewritten in OCaml.","state":"closed","created_at":"2023-01-03T12:39:45.938Z","updated_at":"2023-03-06T08:55:02.419Z","due_date":"2023-03-31","start_date":"2023-01-01","expired":true,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/155"},"assignees":[{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"type":"ISSUE","assignee":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/3963","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3963","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3963\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3963\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#3963","relative":"#3963","full":"tezos\/tezos#3963"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":116462271,"iid":3962,"project_id":3836952,"title":"Translate pytest `test_openapi.py`","description":"estimated translation time: ? hours","state":"closed","created_at":1665145013883,"updated_at":1673885616589,"closed_at":1673885616569,"closed_by":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"labels":["python  \ud83d\udc0d","state::in-review","test \u2692","tests::pytest"],"milestone":{"id":2929075,"iid":155,"project_id":3836952,"title":"Py2ml#3: Keep on slogging","description":"See https:\/\/hackmd.io\/fwsV80pYT5OYKf0biYz9nA\r\n\r\nOwner: @arvidnl\r\n\r\nGoal: Translate remaining Python tests to OCaml\r\n\r\nAcceptance criteria: all remaining python tests are rewritten in OCaml.","state":"closed","created_at":"2023-01-03T12:39:45.938Z","updated_at":"2023-03-06T08:55:02.419Z","due_date":"2023-03-31","start_date":"2023-01-01","expired":true,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/155"},"assignees":[{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"type":"ISSUE","assignee":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/3962","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3962","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3962\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3962\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#3962","relative":"#3962","full":"tezos\/tezos#3962"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":116462270,"iid":3961,"project_id":3836952,"title":"Translate pytest `test_nonce_seed_revelation.py`","description":"estimated translation time: 6 hours","state":"closed","created_at":1665145013776,"updated_at":1674203374690,"closed_at":1674203374666,"closed_by":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"labels":["python  \ud83d\udc0d","state::in-review","test \u2692","tests::pytest"],"milestone":{"id":2929075,"iid":155,"project_id":3836952,"title":"Py2ml#3: Keep on slogging","description":"See https:\/\/hackmd.io\/fwsV80pYT5OYKf0biYz9nA\r\n\r\nOwner: @arvidnl\r\n\r\nGoal: Translate remaining Python tests to OCaml\r\n\r\nAcceptance criteria: all remaining python tests are rewritten in OCaml.","state":"closed","created_at":"2023-01-03T12:39:45.938Z","updated_at":"2023-03-06T08:55:02.419Z","due_date":"2023-03-31","start_date":"2023-01-01","expired":true,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/155"},"assignees":[{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"type":"ISSUE","assignee":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/3961","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3961","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3961\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3961\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#3961","relative":"#3961","full":"tezos\/tezos#3961"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":116462269,"iid":3960,"project_id":3836952,"title":"Translate pytest `test_multiple_transfers.py`","description":"estimated translation time: 6 hours","state":"closed","created_at":1665145013669,"updated_at":1674043314043,"closed_at":1674043313998,"closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/8770486\/avatar.png","web_url":"https:\/\/gitlab.com\/nomadic-margebot"},"labels":["python  \ud83d\udc0d","state::in-review","test \u2692","tests::pytest"],"milestone":{"id":2929075,"iid":155,"project_id":3836952,"title":"Py2ml#3: Keep on slogging","description":"See https:\/\/hackmd.io\/fwsV80pYT5OYKf0biYz9nA\r\n\r\nOwner: @arvidnl\r\n\r\nGoal: Translate remaining Python tests to OCaml\r\n\r\nAcceptance criteria: all remaining python tests are rewritten in OCaml.","state":"closed","created_at":"2023-01-03T12:39:45.938Z","updated_at":"2023-03-06T08:55:02.419Z","due_date":"2023-03-31","start_date":"2023-01-01","expired":true,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/155"},"assignees":[{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"type":"ISSUE","assignee":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/3960","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3960","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3960\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3960\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#3960","relative":"#3960","full":"tezos\/tezos#3960"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":116462268,"iid":3959,"project_id":3836952,"title":"Translate pytest `test_multinode_storage_reconstruction.py`","description":"estimated translation time: 8 hours","state":"closed","created_at":1665145013490,"updated_at":1676295939285,"closed_at":1676295939257,"closed_by":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"labels":["python  \ud83d\udc0d","state::in-review","test \u2692","tests::pytest"],"milestone":{"id":2929075,"iid":155,"project_id":3836952,"title":"Py2ml#3: Keep on slogging","description":"See https:\/\/hackmd.io\/fwsV80pYT5OYKf0biYz9nA\r\n\r\nOwner: @arvidnl\r\n\r\nGoal: Translate remaining Python tests to OCaml\r\n\r\nAcceptance criteria: all remaining python tests are rewritten in OCaml.","state":"closed","created_at":"2023-01-03T12:39:45.938Z","updated_at":"2023-03-06T08:55:02.419Z","due_date":"2023-03-31","start_date":"2023-01-01","expired":true,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/155"},"assignees":[{"id":2785935,"username":"vect0r","name":"Victor Allombert","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/4079830590fea3fdda40a89e6ddfb7e3?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/vect0r"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"type":"ISSUE","assignee":{"id":2785935,"username":"vect0r","name":"Victor Allombert","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/4079830590fea3fdda40a89e6ddfb7e3?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/vect0r"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/3959","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":8,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3959","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3959\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3959\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#3959","relative":"#3959","full":"tezos\/tezos#3959"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":116462267,"iid":3958,"project_id":3836952,"title":"Translate pytest `test_mempool.py`","description":"estimated translation time: 4 hours","state":"closed","created_at":1665145013386,"updated_at":1673284963838,"closed_at":1673284963806,"closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/8770486\/avatar.png","web_url":"https:\/\/gitlab.com\/nomadic-margebot"},"labels":["python  \ud83d\udc0d","state::in-review","test \u2692","tests::pytest"],"milestone":{"id":2929075,"iid":155,"project_id":3836952,"title":"Py2ml#3: Keep on slogging","description":"See https:\/\/hackmd.io\/fwsV80pYT5OYKf0biYz9nA\r\n\r\nOwner: @arvidnl\r\n\r\nGoal: Translate remaining Python tests to OCaml\r\n\r\nAcceptance criteria: all remaining python tests are rewritten in OCaml.","state":"closed","created_at":"2023-01-03T12:39:45.938Z","updated_at":"2023-03-06T08:55:02.419Z","due_date":"2023-03-31","start_date":"2023-01-01","expired":true,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/155"},"assignees":[{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"type":"ISSUE","assignee":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"user_notes_count":1,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/3958","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3958","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3958\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3958\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#3958","relative":"#3958","full":"tezos\/tezos#3958"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":116462266,"iid":3957,"project_id":3836952,"title":"Translate pytest `test_many_nodes.py`","description":"estimated translation time: 4 hours","state":"closed","created_at":1665145013235,"updated_at":1675773002706,"closed_at":1675773002643,"closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/8770486\/avatar.png","web_url":"https:\/\/gitlab.com\/nomadic-margebot"},"labels":["python  \ud83d\udc0d","state::in-review","test \u2692","tests::pytest"],"milestone":{"id":2929075,"iid":155,"project_id":3836952,"title":"Py2ml#3: Keep on slogging","description":"See https:\/\/hackmd.io\/fwsV80pYT5OYKf0biYz9nA\r\n\r\nOwner: @arvidnl\r\n\r\nGoal: Translate remaining Python tests to OCaml\r\n\r\nAcceptance criteria: all remaining python tests are rewritten in OCaml.","state":"closed","created_at":"2023-01-03T12:39:45.938Z","updated_at":"2023-03-06T08:55:02.419Z","due_date":"2023-03-31","start_date":"2023-01-01","expired":true,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/155"},"assignees":[{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"type":"ISSUE","assignee":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/3957","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3957","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3957\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3957\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#3957","relative":"#3957","full":"tezos\/tezos#3957"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":116462265,"iid":3956,"project_id":3836952,"title":"Translate pytest `test_many_bakers.py`","description":"estimated translation time: 2 hours","state":"closed","created_at":1665145013121,"updated_at":1675773002665,"closed_at":1675773002641,"closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/8770486\/avatar.png","web_url":"https:\/\/gitlab.com\/nomadic-margebot"},"labels":["python  \ud83d\udc0d","state::in-review","test \u2692","tests::pytest"],"milestone":{"id":2929075,"iid":155,"project_id":3836952,"title":"Py2ml#3: Keep on slogging","description":"See https:\/\/hackmd.io\/fwsV80pYT5OYKf0biYz9nA\r\n\r\nOwner: @arvidnl\r\n\r\nGoal: Translate remaining Python tests to OCaml\r\n\r\nAcceptance criteria: all remaining python tests are rewritten in OCaml.","state":"closed","created_at":"2023-01-03T12:39:45.938Z","updated_at":"2023-03-06T08:55:02.419Z","due_date":"2023-03-31","start_date":"2023-01-01","expired":true,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/155"},"assignees":[{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"type":"ISSUE","assignee":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/3956","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3956","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3956\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3956\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#3956","relative":"#3956","full":"tezos\/tezos#3956"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":116462264,"iid":3955,"project_id":3836952,"title":"Translate pytest `test_fork.py`","description":"estimated translation time: 4 hours","state":"closed","created_at":1665145012974,"updated_at":1677226427721,"closed_at":1677226427691,"closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/8770486\/avatar.png","web_url":"https:\/\/gitlab.com\/nomadic-margebot"},"labels":["python  \ud83d\udc0d","state::in-review","test \u2692","tests::pytest"],"milestone":{"id":2929075,"iid":155,"project_id":3836952,"title":"Py2ml#3: Keep on slogging","description":"See https:\/\/hackmd.io\/fwsV80pYT5OYKf0biYz9nA\r\n\r\nOwner: @arvidnl\r\n\r\nGoal: Translate remaining Python tests to OCaml\r\n\r\nAcceptance criteria: all remaining python tests are rewritten in OCaml.","state":"closed","created_at":"2023-01-03T12:39:45.938Z","updated_at":"2023-03-06T08:55:02.419Z","due_date":"2023-03-31","start_date":"2023-01-01","expired":true,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/155"},"assignees":[{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"type":"ISSUE","assignee":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"user_notes_count":1,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/3955","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3955","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3955\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3955\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#3955","relative":"#3955","full":"tezos\/tezos#3955"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":116462263,"iid":3954,"project_id":3836952,"title":"Translate pytest `test_forge_block.py`","description":"estimated translation time: 2 hours","state":"closed","created_at":1665145012860,"updated_at":1671677401468,"closed_at":1671677401450,"closed_by":{"id":1718826,"username":"lykimquyen","name":"lykimquyen","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/e6366ed868934e6ce5ab7eccb3dac23b?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/lykimquyen"},"labels":["python  \ud83d\udc0d","state::in-review","test \u2692","tests::pytest"],"milestone":{"id":2751442,"iid":121,"project_id":3836952,"title":"(OKR 2022Q4) - Py2ml#2: Translate slow and leftover pytests to OCaml","description":"See https:\/\/hackmd.io\/fwsV80pYT5OYKf0biYz9nA\r\n\r\nOwner: @arvidnl \r\n\r\nGoal: Translate slow and leftover pytests to OCaml\r\n\r\nAcceptance criteria: slow and leftover pytests are rewritten in OCaml. \r\n\r\n(Follow-up of https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/97#tab-issues)","state":"closed","created_at":"2022-08-25T16:13:55.407Z","updated_at":"2023-01-11T12:19:14.344Z","due_date":"2022-12-31","start_date":"2022-10-02","expired":true,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/121"},"assignees":[{"id":1718826,"username":"lykimquyen","name":"lykimquyen","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/e6366ed868934e6ce5ab7eccb3dac23b?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/lykimquyen"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"type":"ISSUE","assignee":{"id":1718826,"username":"lykimquyen","name":"lykimquyen","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/e6366ed868934e6ce5ab7eccb3dac23b?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/lykimquyen"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/3954","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3954","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3954\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3954\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#3954","relative":"#3954","full":"tezos\/tezos#3954"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":116462262,"iid":3953,"project_id":3836952,"title":"Translate pytest `test_cors.py`","description":"estimated translation time: 4 hours","state":"closed","created_at":1665145012764,"updated_at":1671108618556,"closed_at":1671108618450,"closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/8770486\/avatar.png","web_url":"https:\/\/gitlab.com\/nomadic-margebot"},"labels":["python  \ud83d\udc0d","state::in-review","test \u2692","tests::pytest"],"milestone":{"id":2751442,"iid":121,"project_id":3836952,"title":"(OKR 2022Q4) - Py2ml#2: Translate slow and leftover pytests to OCaml","description":"See https:\/\/hackmd.io\/fwsV80pYT5OYKf0biYz9nA\r\n\r\nOwner: @arvidnl \r\n\r\nGoal: Translate slow and leftover pytests to OCaml\r\n\r\nAcceptance criteria: slow and leftover pytests are rewritten in OCaml. \r\n\r\n(Follow-up of https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/97#tab-issues)","state":"closed","created_at":"2022-08-25T16:13:55.407Z","updated_at":"2023-01-11T12:19:14.344Z","due_date":"2022-12-31","start_date":"2022-10-02","expired":true,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/121"},"assignees":[{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"type":"ISSUE","assignee":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/3953","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3953","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3953\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3953\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#3953","relative":"#3953","full":"tezos\/tezos#3953"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":116462261,"iid":3952,"project_id":3836952,"title":"Translate pytest `test_client_without_node.py`","description":"estimated translation time: 16 hours","state":"closed","created_at":1665145012662,"updated_at":1676561425705,"closed_at":1676561425660,"closed_by":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"labels":["python  \ud83d\udc0d","state::in-review","test \u2692","tests::pytest"],"milestone":{"id":2929075,"iid":155,"project_id":3836952,"title":"Py2ml#3: Keep on slogging","description":"See https:\/\/hackmd.io\/fwsV80pYT5OYKf0biYz9nA\r\n\r\nOwner: @arvidnl\r\n\r\nGoal: Translate remaining Python tests to OCaml\r\n\r\nAcceptance criteria: all remaining python tests are rewritten in OCaml.","state":"closed","created_at":"2023-01-03T12:39:45.938Z","updated_at":"2023-03-06T08:55:02.419Z","due_date":"2023-03-31","start_date":"2023-01-01","expired":true,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/155"},"assignees":[{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"type":"ISSUE","assignee":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/3952","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":16,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3952","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3952\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3952\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#3952","relative":"#3952","full":"tezos\/tezos#3952"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":116462260,"iid":3951,"project_id":3836952,"title":"Translate pytest `test_client.py`","description":"estimated translation time: 2 hours","state":"closed","created_at":1665145012507,"updated_at":1676297773655,"closed_at":1676297773575,"closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/8770486\/avatar.png","web_url":"https:\/\/gitlab.com\/nomadic-margebot"},"labels":["python  \ud83d\udc0d","state::in-review","test \u2692","tests::pytest"],"milestone":{"id":2929075,"iid":155,"project_id":3836952,"title":"Py2ml#3: Keep on slogging","description":"See https:\/\/hackmd.io\/fwsV80pYT5OYKf0biYz9nA\r\n\r\nOwner: @arvidnl\r\n\r\nGoal: Translate remaining Python tests to OCaml\r\n\r\nAcceptance criteria: all remaining python tests are rewritten in OCaml.","state":"closed","created_at":"2023-01-03T12:39:45.938Z","updated_at":"2023-03-06T08:55:02.419Z","due_date":"2023-03-31","start_date":"2023-01-01","expired":true,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/155"},"assignees":[{"id":1718826,"username":"lykimquyen","name":"lykimquyen","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/e6366ed868934e6ce5ab7eccb3dac23b?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/lykimquyen"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"type":"ISSUE","assignee":{"id":1718826,"username":"lykimquyen","name":"lykimquyen","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/e6366ed868934e6ce5ab7eccb3dac23b?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/lykimquyen"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/3951","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3951","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3951\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3951\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#3951","relative":"#3951","full":"tezos\/tezos#3951"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":116462259,"iid":3950,"project_id":3836952,"title":"Translate pytest `test_binaries.py`","description":"estimated translation time: 2 hours","state":"closed","created_at":1665145012395,"updated_at":1675900021402,"closed_at":1675900021363,"closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/8770486\/avatar.png","web_url":"https:\/\/gitlab.com\/nomadic-margebot"},"labels":["python  \ud83d\udc0d","state::in-review","test \u2692","tests::pytest"],"milestone":{"id":2929075,"iid":155,"project_id":3836952,"title":"Py2ml#3: Keep on slogging","description":"See https:\/\/hackmd.io\/fwsV80pYT5OYKf0biYz9nA\r\n\r\nOwner: @arvidnl\r\n\r\nGoal: Translate remaining Python tests to OCaml\r\n\r\nAcceptance criteria: all remaining python tests are rewritten in OCaml.","state":"closed","created_at":"2023-01-03T12:39:45.938Z","updated_at":"2023-03-06T08:55:02.419Z","due_date":"2023-03-31","start_date":"2023-01-01","expired":true,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/155"},"assignees":[{"id":4790646,"username":"germanD","name":"Germ\u00e1n Delbianco","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4790646\/avatar.png","web_url":"https:\/\/gitlab.com\/germanD"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"type":"ISSUE","assignee":{"id":4790646,"username":"germanD","name":"Germ\u00e1n Delbianco","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4790646\/avatar.png","web_url":"https:\/\/gitlab.com\/germanD"},"user_notes_count":2,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/3950","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3950","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3950\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3950\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#3950","relative":"#3950","full":"tezos\/tezos#3950"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":116462258,"iid":3949,"project_id":3836952,"title":"Translate pytest `test_basic.py`","description":"estimated translation time: 22 hours","state":"closed","created_at":1665145012287,"updated_at":1674029972297,"closed_at":1674029972276,"closed_by":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"labels":["python  \ud83d\udc0d","state::in-review","test \u2692","tests::pytest"],"milestone":{"id":2929075,"iid":155,"project_id":3836952,"title":"Py2ml#3: Keep on slogging","description":"See https:\/\/hackmd.io\/fwsV80pYT5OYKf0biYz9nA\r\n\r\nOwner: @arvidnl\r\n\r\nGoal: Translate remaining Python tests to OCaml\r\n\r\nAcceptance criteria: all remaining python tests are rewritten in OCaml.","state":"closed","created_at":"2023-01-03T12:39:45.938Z","updated_at":"2023-03-06T08:55:02.419Z","due_date":"2023-03-31","start_date":"2023-01-01","expired":true,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/155"},"assignees":[{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"type":"ISSUE","assignee":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/3949","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":22,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3949","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3949\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3949\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#3949","relative":"#3949","full":"tezos\/tezos#3949"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":116462257,"iid":3948,"project_id":3836952,"title":"Translate pytest `test_baker_operations_cli_options.py`","description":"estimated translation time: 14 hours","state":"closed","created_at":1665145012082,"updated_at":1674491988739,"closed_at":1674491988661,"closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/8770486\/avatar.png","web_url":"https:\/\/gitlab.com\/nomadic-margebot"},"labels":["python  \ud83d\udc0d","state::in-review","test \u2692","tests::pytest"],"milestone":{"id":2929075,"iid":155,"project_id":3836952,"title":"Py2ml#3: Keep on slogging","description":"See https:\/\/hackmd.io\/fwsV80pYT5OYKf0biYz9nA\r\n\r\nOwner: @arvidnl\r\n\r\nGoal: Translate remaining Python tests to OCaml\r\n\r\nAcceptance criteria: all remaining python tests are rewritten in OCaml.","state":"closed","created_at":"2023-01-03T12:39:45.938Z","updated_at":"2023-03-06T08:55:02.419Z","due_date":"2023-03-31","start_date":"2023-01-01","expired":true,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/155"},"assignees":[{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"type":"ISSUE","assignee":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/3948","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":14,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3948","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3948\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3948\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#3948","relative":"#3948","full":"tezos\/tezos#3948"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":116462256,"iid":3947,"project_id":3836952,"title":"Translate pytest `test_accuser.py`","description":"estimated translation time: 4 hours","state":"closed","created_at":1665145011981,"updated_at":1672921787483,"closed_at":1672921787455,"closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/8770486\/avatar.png","web_url":"https:\/\/gitlab.com\/nomadic-margebot"},"labels":["python  \ud83d\udc0d","state::in-review","test \u2692","tests::pytest"],"milestone":{"id":2929075,"iid":155,"project_id":3836952,"title":"Py2ml#3: Keep on slogging","description":"See https:\/\/hackmd.io\/fwsV80pYT5OYKf0biYz9nA\r\n\r\nOwner: @arvidnl\r\n\r\nGoal: Translate remaining Python tests to OCaml\r\n\r\nAcceptance criteria: all remaining python tests are rewritten in OCaml.","state":"closed","created_at":"2023-01-03T12:39:45.938Z","updated_at":"2023-03-06T08:55:02.419Z","due_date":"2023-03-31","start_date":"2023-01-01","expired":true,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/155"},"assignees":[{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"type":"ISSUE","assignee":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"user_notes_count":1,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/3947","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3947","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3947\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3947\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#3947","relative":"#3947","full":"tezos\/tezos#3947"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":116462255,"iid":3946,"project_id":3836952,"title":"Translate pytest `test_programs.py`","description":"estimated translation time: 4 hours","state":"closed","created_at":1665145011876,"updated_at":1668772362197,"closed_at":1668772362170,"closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/8770486\/avatar.png","web_url":"https:\/\/gitlab.com\/nomadic-margebot"},"labels":["python  \ud83d\udc0d","state::in-review","test \u2692","tests::pytest"],"milestone":{"id":2751442,"iid":121,"project_id":3836952,"title":"(OKR 2022Q4) - Py2ml#2: Translate slow and leftover pytests to OCaml","description":"See https:\/\/hackmd.io\/fwsV80pYT5OYKf0biYz9nA\r\n\r\nOwner: @arvidnl \r\n\r\nGoal: Translate slow and leftover pytests to OCaml\r\n\r\nAcceptance criteria: slow and leftover pytests are rewritten in OCaml. \r\n\r\n(Follow-up of https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/97#tab-issues)","state":"closed","created_at":"2022-08-25T16:13:55.407Z","updated_at":"2023-01-11T12:19:14.344Z","due_date":"2022-12-31","start_date":"2022-10-02","expired":true,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/121"},"assignees":[],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/3946","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3946","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3946\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3946\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#3946","relative":"#3946","full":"tezos\/tezos#3946"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":116462254,"iid":3945,"project_id":3836952,"title":"Translate pytest `test_liquidity_baking.py`","description":"estimated translation time: 12 hours","state":"closed","created_at":1665145011739,"updated_at":1671417144024,"closed_at":1671417143996,"closed_by":{"id":1718826,"username":"lykimquyen","name":"lykimquyen","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/e6366ed868934e6ce5ab7eccb3dac23b?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/lykimquyen"},"labels":["python  \ud83d\udc0d","state::in-review","test \u2692","tests::pytest"],"milestone":{"id":2751442,"iid":121,"project_id":3836952,"title":"(OKR 2022Q4) - Py2ml#2: Translate slow and leftover pytests to OCaml","description":"See https:\/\/hackmd.io\/fwsV80pYT5OYKf0biYz9nA\r\n\r\nOwner: @arvidnl \r\n\r\nGoal: Translate slow and leftover pytests to OCaml\r\n\r\nAcceptance criteria: slow and leftover pytests are rewritten in OCaml. \r\n\r\n(Follow-up of https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/97#tab-issues)","state":"closed","created_at":"2022-08-25T16:13:55.407Z","updated_at":"2023-01-11T12:19:14.344Z","due_date":"2022-12-31","start_date":"2022-10-02","expired":true,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/121"},"assignees":[{"id":1718826,"username":"lykimquyen","name":"lykimquyen","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/e6366ed868934e6ce5ab7eccb3dac23b?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/lykimquyen"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"type":"ISSUE","assignee":{"id":1718826,"username":"lykimquyen","name":"lykimquyen","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/e6366ed868934e6ce5ab7eccb3dac23b?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/lykimquyen"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/3945","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":12,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3945","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3945\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3945\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#3945","relative":"#3945","full":"tezos\/tezos#3945"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":116462252,"iid":3944,"project_id":3836952,"title":"Translate pytest `test_multisig.py`","description":"estimated translation time: 24 hours","state":"closed","created_at":1665145011614,"updated_at":1675150322794,"closed_at":1675150322563,"closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/8770486\/avatar.png","web_url":"https:\/\/gitlab.com\/nomadic-margebot"},"labels":["python  \ud83d\udc0d","state::in-review","test \u2692","tests::pytest"],"milestone":{"id":2929075,"iid":155,"project_id":3836952,"title":"Py2ml#3: Keep on slogging","description":"See https:\/\/hackmd.io\/fwsV80pYT5OYKf0biYz9nA\r\n\r\nOwner: @arvidnl\r\n\r\nGoal: Translate remaining Python tests to OCaml\r\n\r\nAcceptance criteria: all remaining python tests are rewritten in OCaml.","state":"closed","created_at":"2023-01-03T12:39:45.938Z","updated_at":"2023-03-06T08:55:02.419Z","due_date":"2023-03-31","start_date":"2023-01-01","expired":true,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/155"},"assignees":[{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"type":"ISSUE","assignee":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/3944","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":24,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3944","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3944\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3944\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#3944","relative":"#3944","full":"tezos\/tezos#3944"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":116462251,"iid":3943,"project_id":3836952,"title":"Translate pytest `test_fa12.py`","description":"estimated translation time: 16 hours","state":"closed","created_at":1665145011432,"updated_at":1669386472828,"closed_at":1669386472805,"closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/8770486\/avatar.png","web_url":"https:\/\/gitlab.com\/nomadic-margebot"},"labels":["python  \ud83d\udc0d","state::in-review","test \u2692","tests::pytest"],"milestone":{"id":2751442,"iid":121,"project_id":3836952,"title":"(OKR 2022Q4) - Py2ml#2: Translate slow and leftover pytests to OCaml","description":"See https:\/\/hackmd.io\/fwsV80pYT5OYKf0biYz9nA\r\n\r\nOwner: @arvidnl \r\n\r\nGoal: Translate slow and leftover pytests to OCaml\r\n\r\nAcceptance criteria: slow and leftover pytests are rewritten in OCaml. \r\n\r\n(Follow-up of https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/97#tab-issues)","state":"closed","created_at":"2022-08-25T16:13:55.407Z","updated_at":"2023-01-11T12:19:14.344Z","due_date":"2022-12-31","start_date":"2022-10-02","expired":true,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/121"},"assignees":[{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"type":"ISSUE","assignee":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/3943","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":16,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3943","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3943\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3943\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#3943","relative":"#3943","full":"tezos\/tezos#3943"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":116461025,"iid":3942,"project_id":3836952,"title":"Continue \"Translate the churny pytests `test_contract.py`\"","description":"Estimated translation time: 50 hours\n\nContinuation of #3633 \n\n - [x] `TestManager` (@arvidnl !7056)\n - [x] `TestScriptHashMultiple` (~@linoscope !6840~, @arvidnl !7039)\n - [x] `TestContracts` (@rdavison !6625)\n - [x] `TestContractTypeChecking` (@rdavison !6503)\n - [x] `TestChainId` (@rdavison !6436)\n - [x] `TestExecutionOrdering` (@linoscope https:\/\/gitlab.com\/tezos\/tezos\/-\/merge_requests\/7053\/)\n - [x] `TestNonRegression` (@xf6 !6616) \n - [x] `TestView` (@xf6 !6314)\n - [x] `TestTypecheck` (@lykimquyen  !6381)\n - [x] `TestBigMapToSelf` (@lykimquyen  !6325)\n - [x] `TestNormalize` (@linoscope !6394)\n - [x] `TestGasBound` (@lykimquyen !6684) \n - [x] `TestScriptHashOrigination` (@lykimquyen !6627)\n - [x] `TestComparables` (@lykimquyen !6614)\n - [x] `TestBadAnnotation` (@lykimquyen !6642) \n - [x] `TestOrderInTopLevelDoesNotMatter` (@linoscope !6604)\n - [x] `TestMiniScenarios`(@lykimquyen !6711) \n     - [x] `TestMiniScenarios` splits the test case entrypoints (@lykimquyen !6785) \n - [x] `TestScriptHashRegression` (@arvidnl !6636)","state":"closed","created_at":1665143471990,"updated_at":1673277217887,"closed_at":1671180746730,"closed_by":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"labels":["python  \ud83d\udc0d","state::in-review","test \u2692","tests::pytest"],"milestone":{"id":2751442,"iid":121,"project_id":3836952,"title":"(OKR 2022Q4) - Py2ml#2: Translate slow and leftover pytests to OCaml","description":"See https:\/\/hackmd.io\/fwsV80pYT5OYKf0biYz9nA\r\n\r\nOwner: @arvidnl \r\n\r\nGoal: Translate slow and leftover pytests to OCaml\r\n\r\nAcceptance criteria: slow and leftover pytests are rewritten in OCaml. \r\n\r\n(Follow-up of https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/97#tab-issues)","state":"closed","created_at":"2022-08-25T16:13:55.407Z","updated_at":"2023-01-11T12:19:14.344Z","due_date":"2022-12-31","start_date":"2022-10-02","expired":true,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/121"},"assignees":[{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"type":"ISSUE","assignee":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"user_notes_count":1,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/3942","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":19,"completed_count":19},"weight":50,"blocking_issues_count":0,"has_tasks":false,"task_status":null,"_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3942","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3942\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3942\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#3942","relative":"#3942","full":"tezos\/tezos#3942"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":113675088,"iid":3639,"project_id":3836952,"title":"Translate the slow pytests `test_sapling.py`","description":" estimated translation time: ~~20~~ 40 hours","state":"closed","created_at":1661240772699,"updated_at":1672670473958,"closed_at":1672670473916,"closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/8770486\/avatar.png","web_url":"https:\/\/gitlab.com\/nomadic-margebot"},"labels":["python  \ud83d\udc0d","state::in-review","test \u2692","tests::pytest"],"milestone":{"id":2751442,"iid":121,"project_id":3836952,"title":"(OKR 2022Q4) - Py2ml#2: Translate slow and leftover pytests to OCaml","description":"See https:\/\/hackmd.io\/fwsV80pYT5OYKf0biYz9nA\r\n\r\nOwner: @arvidnl \r\n\r\nGoal: Translate slow and leftover pytests to OCaml\r\n\r\nAcceptance criteria: slow and leftover pytests are rewritten in OCaml. \r\n\r\n(Follow-up of https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/97#tab-issues)","state":"closed","created_at":"2022-08-25T16:13:55.407Z","updated_at":"2023-01-11T12:19:14.344Z","due_date":"2022-12-31","start_date":"2022-10-02","expired":true,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/121"},"assignees":[{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"type":"ISSUE","assignee":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"user_notes_count":1,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/3639","time_stats":{"time_estimate":72000,"total_time_spent":0,"human_time_estimate":"20h","human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":40,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3639","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3639\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3639\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#3639","relative":"#3639","full":"tezos\/tezos#3639"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":113675087,"iid":3638,"project_id":3836952,"title":"Translate the slow pytests `test_migration.py`","description":" estimated translation time: ~~3~~ 6 hours","state":"closed","created_at":1661240772580,"updated_at":1668756279478,"closed_at":1668756279456,"closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/8770486\/avatar.png","web_url":"https:\/\/gitlab.com\/nomadic-margebot"},"labels":["python  \ud83d\udc0d","state::in-review","test \u2692","tests::pytest"],"milestone":{"id":2751442,"iid":121,"project_id":3836952,"title":"(OKR 2022Q4) - Py2ml#2: Translate slow and leftover pytests to OCaml","description":"See https:\/\/hackmd.io\/fwsV80pYT5OYKf0biYz9nA\r\n\r\nOwner: @arvidnl \r\n\r\nGoal: Translate slow and leftover pytests to OCaml\r\n\r\nAcceptance criteria: slow and leftover pytests are rewritten in OCaml. \r\n\r\n(Follow-up of https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/97#tab-issues)","state":"closed","created_at":"2022-08-25T16:13:55.407Z","updated_at":"2023-01-11T12:19:14.344Z","due_date":"2022-12-31","start_date":"2022-10-02","expired":true,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/121"},"assignees":[{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"type":"ISSUE","assignee":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"user_notes_count":1,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/3638","time_stats":{"time_estimate":10800,"total_time_spent":0,"human_time_estimate":"3h","human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3638","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3638\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3638\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#3638","relative":"#3638","full":"tezos\/tezos#3638"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":113675086,"iid":3637,"project_id":3836952,"title":"Translate the slow pytests `test_baker_endorser.py`","description":" estimated translation time: ~~2~~ 4 hours","state":"closed","created_at":1661240772496,"updated_at":1669035249505,"closed_at":1669035249483,"closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/8770486\/avatar.png","web_url":"https:\/\/gitlab.com\/nomadic-margebot"},"labels":["python  \ud83d\udc0d","state::in-review","test \u2692","tests::pytest"],"milestone":{"id":2751442,"iid":121,"project_id":3836952,"title":"(OKR 2022Q4) - Py2ml#2: Translate slow and leftover pytests to OCaml","description":"See https:\/\/hackmd.io\/fwsV80pYT5OYKf0biYz9nA\r\n\r\nOwner: @arvidnl \r\n\r\nGoal: Translate slow and leftover pytests to OCaml\r\n\r\nAcceptance criteria: slow and leftover pytests are rewritten in OCaml. \r\n\r\n(Follow-up of https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/97#tab-issues)","state":"closed","created_at":"2022-08-25T16:13:55.407Z","updated_at":"2023-01-11T12:19:14.344Z","due_date":"2022-12-31","start_date":"2022-10-02","expired":true,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/121"},"assignees":[{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"type":"ISSUE","assignee":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"user_notes_count":1,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/3637","time_stats":{"time_estimate":7200,"total_time_spent":0,"human_time_estimate":"2h","human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3637","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3637\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3637\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#3637","relative":"#3637","full":"tezos\/tezos#3637"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":113675085,"iid":3636,"project_id":3836952,"title":"Translate the churny pytests `test_voting_full.py`","description":" estimated translation time: ~~4~~ 8 hours","state":"closed","created_at":1661240772416,"updated_at":1673432890591,"closed_at":1673432890559,"closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/8770486\/avatar.png","web_url":"https:\/\/gitlab.com\/nomadic-margebot"},"labels":["python  \ud83d\udc0d","state::to-do","test \u2692","tests::pytest"],"milestone":{"id":2929075,"iid":155,"project_id":3836952,"title":"Py2ml#3: Keep on slogging","description":"See https:\/\/hackmd.io\/fwsV80pYT5OYKf0biYz9nA\r\n\r\nOwner: @arvidnl\r\n\r\nGoal: Translate remaining Python tests to OCaml\r\n\r\nAcceptance criteria: all remaining python tests are rewritten in OCaml.","state":"closed","created_at":"2023-01-03T12:39:45.938Z","updated_at":"2023-03-06T08:55:02.419Z","due_date":"2023-03-31","start_date":"2023-01-01","expired":true,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/155"},"assignees":[{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"type":"ISSUE","assignee":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"user_notes_count":5,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/3636","time_stats":{"time_estimate":14400,"total_time_spent":0,"human_time_estimate":"4h","human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":8,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3636","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3636\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3636\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#3636","relative":"#3636","full":"tezos\/tezos#3636"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":113675084,"iid":3635,"project_id":3836952,"title":"Translate the churny pytests `test_rpc.py`","description":" estimated translation time: 2 hours","state":"closed","created_at":1661240772335,"updated_at":1664295190877,"closed_at":1664295190724,"closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/8770486\/avatar.png","web_url":"https:\/\/gitlab.com\/nomadic-margebot"},"labels":["python  \ud83d\udc0d","state::in-review","test \u2692","tests::pytest"],"milestone":{"id":2710630,"iid":97,"project_id":3836952,"title":"(OKR 2022Q3 - 1.4) - Py2ml#1: Flaky and churny Python tests are rewritten in OCaml","description":"See [(OKR 2022Q3 - 1.4)](https:\/\/hackmd.io\/TQq1pPimTbaBcWC2QkCH8Q)\r\n\r\nOwner: @arvidnl \r\n\r\nGoal: Translate flaky and churny Python tests to OCaml\r\n\r\nAcceptance criteria: flaky and churny python tests are rewritten in OCaml. \r\n\r\n(I've reduced to scope from all tests to flaky&churny given the resources at hand, follow-up milestone is %121).","state":"closed","created_at":"2022-07-25T09:43:43.865Z","updated_at":"2022-11-08T08:26:50.801Z","due_date":"2022-09-30","start_date":"2022-08-22","expired":true,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/97"},"assignees":[{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"type":"ISSUE","assignee":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":"2022-09-23","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/3635","time_stats":{"time_estimate":7200,"total_time_spent":0,"human_time_estimate":"2h","human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3635","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3635\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3635\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#3635","relative":"#3635","full":"tezos\/tezos#3635"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":113675083,"iid":3634,"project_id":3836952,"title":"Translate the churny pytests `test_per_block_votes.py`","description":" estimated translation time: 4 hours","state":"closed","created_at":1661240772248,"updated_at":1662540541672,"closed_at":1661957002863,"closed_by":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"labels":["python  \ud83d\udc0d","test \u2692","tests::pytest"],"milestone":{"id":2710630,"iid":97,"project_id":3836952,"title":"(OKR 2022Q3 - 1.4) - Py2ml#1: Flaky and churny Python tests are rewritten in OCaml","description":"See [(OKR 2022Q3 - 1.4)](https:\/\/hackmd.io\/TQq1pPimTbaBcWC2QkCH8Q)\r\n\r\nOwner: @arvidnl \r\n\r\nGoal: Translate flaky and churny Python tests to OCaml\r\n\r\nAcceptance criteria: flaky and churny python tests are rewritten in OCaml. \r\n\r\n(I've reduced to scope from all tests to flaky&churny given the resources at hand, follow-up milestone is %121).","state":"closed","created_at":"2022-07-25T09:43:43.865Z","updated_at":"2022-11-08T08:26:50.801Z","due_date":"2022-09-30","start_date":"2022-08-22","expired":true,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/97"},"assignees":[{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"type":"ISSUE","assignee":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2022-09-23","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/3634","time_stats":{"time_estimate":14400,"total_time_spent":0,"human_time_estimate":"4h","human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3634","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3634\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3634\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#3634","relative":"#3634","full":"tezos\/tezos#3634"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":113675082,"iid":3633,"project_id":3836952,"title":"Start \"Translate the churny pytests `test_contract.py`\"","description":" estimated translation time: 48 hours (before split with #3942)\n\n - [x] `TestTypecheckingErrors` (@jaiyalas !6536, 1hr)\n - [x] `TestTZIP4View` (@lykimquyen  !6326) \n - [x] `TestSelfAddressTransfer` (@lykimquyen !6437) \n - [x] `TestBadIndentation` (@jaiyalas !6324)\n - [x] `TestOriginateContractFromContract` (@linoscope: https:\/\/gitlab.com\/tezos\/tezos\/-\/merge_requests\/6382)\n - [x] `TestCreateRemoveTickets` (@linoscope !6105)\n - [x] `TestSendTicketsInBigMap` (@linoscope !6105)","state":"closed","created_at":1661240772165,"updated_at":1666879363537,"closed_at":1666879363474,"closed_by":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"labels":["python  \ud83d\udc0d","state::in-review","test \u2692","tests::pytest"],"milestone":{"id":2710630,"iid":97,"project_id":3836952,"title":"(OKR 2022Q3 - 1.4) - Py2ml#1: Flaky and churny Python tests are rewritten in OCaml","description":"See [(OKR 2022Q3 - 1.4)](https:\/\/hackmd.io\/TQq1pPimTbaBcWC2QkCH8Q)\r\n\r\nOwner: @arvidnl \r\n\r\nGoal: Translate flaky and churny Python tests to OCaml\r\n\r\nAcceptance criteria: flaky and churny python tests are rewritten in OCaml. \r\n\r\n(I've reduced to scope from all tests to flaky&churny given the resources at hand, follow-up milestone is %121).","state":"closed","created_at":"2022-07-25T09:43:43.865Z","updated_at":"2022-11-08T08:26:50.801Z","due_date":"2022-09-30","start_date":"2022-08-22","expired":true,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/97"},"assignees":[{"id":912701,"username":"jaiyalas","name":"YunYan","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/5561cb5ef9d1e7b9bedf5f3af373a01a?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/jaiyalas"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"type":"ISSUE","assignee":{"id":912701,"username":"jaiyalas","name":"YunYan","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/5561cb5ef9d1e7b9bedf5f3af373a01a?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/jaiyalas"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2022-09-30","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/3633","time_stats":{"time_estimate":172800,"total_time_spent":0,"human_time_estimate":"48h","human_total_time_spent":null},"task_completion_status":{"count":7,"completed_count":7},"weight":48,"blocking_issues_count":0,"has_tasks":false,"task_status":null,"_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3633","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3633\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3633\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#3633","relative":"#3633","full":"tezos\/tezos#3633"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":113675081,"iid":3632,"project_id":3836952,"title":"Translate the churny pytests `test_mockup.py`","description":" estimated translation time: 14 hours","state":"closed","created_at":1661240772068,"updated_at":1666877844716,"closed_at":1666877844674,"closed_by":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"labels":["python  \ud83d\udc0d","state::in-review","test \u2692","tests::pytest"],"milestone":{"id":2710630,"iid":97,"project_id":3836952,"title":"(OKR 2022Q3 - 1.4) - Py2ml#1: Flaky and churny Python tests are rewritten in OCaml","description":"See [(OKR 2022Q3 - 1.4)](https:\/\/hackmd.io\/TQq1pPimTbaBcWC2QkCH8Q)\r\n\r\nOwner: @arvidnl \r\n\r\nGoal: Translate flaky and churny Python tests to OCaml\r\n\r\nAcceptance criteria: flaky and churny python tests are rewritten in OCaml. \r\n\r\n(I've reduced to scope from all tests to flaky&churny given the resources at hand, follow-up milestone is %121).","state":"closed","created_at":"2022-07-25T09:43:43.865Z","updated_at":"2022-11-08T08:26:50.801Z","due_date":"2022-09-30","start_date":"2022-08-22","expired":true,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/97"},"assignees":[{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"type":"ISSUE","assignee":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2022-09-16","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/3632","time_stats":{"time_estimate":50400,"total_time_spent":0,"human_time_estimate":"14h","human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":14,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3632","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3632\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3632\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#3632","relative":"#3632","full":"tezos\/tezos#3632"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":113675080,"iid":3631,"project_id":3836952,"title":"Translate the flaky pytests `test_per_block_votes.py`","description":" estimated translation time: 4 hours","state":"closed","created_at":1661240771961,"updated_at":1662654423517,"closed_at":1662654423495,"closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/8770486\/avatar.png","web_url":"https:\/\/gitlab.com\/nomadic-margebot"},"labels":["python  \ud83d\udc0d","state::in-review","test \u2692","tests::pytest"],"milestone":{"id":2710630,"iid":97,"project_id":3836952,"title":"(OKR 2022Q3 - 1.4) - Py2ml#1: Flaky and churny Python tests are rewritten in OCaml","description":"See [(OKR 2022Q3 - 1.4)](https:\/\/hackmd.io\/TQq1pPimTbaBcWC2QkCH8Q)\r\n\r\nOwner: @arvidnl \r\n\r\nGoal: Translate flaky and churny Python tests to OCaml\r\n\r\nAcceptance criteria: flaky and churny python tests are rewritten in OCaml. \r\n\r\n(I've reduced to scope from all tests to flaky&churny given the resources at hand, follow-up milestone is %121).","state":"closed","created_at":"2022-07-25T09:43:43.865Z","updated_at":"2022-11-08T08:26:50.801Z","due_date":"2022-09-30","start_date":"2022-08-22","expired":true,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/97"},"assignees":[{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"type":"ISSUE","assignee":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":"2022-09-02","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/3631","time_stats":{"time_estimate":14400,"total_time_spent":0,"human_time_estimate":"4h","human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3631","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3631\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3631\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#3631","relative":"#3631","full":"tezos\/tezos#3631"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":113675079,"iid":3630,"project_id":3836952,"title":"Translate the flaky pytests `test_injection.py`","description":" estimated translation time: 2 hours","state":"closed","created_at":1661240771773,"updated_at":1662710562980,"closed_at":1662710562948,"closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/8770486\/avatar.png","web_url":"https:\/\/gitlab.com\/nomadic-margebot"},"labels":["python  \ud83d\udc0d","state::in-review","test \u2692","tests::pytest"],"milestone":{"id":2710630,"iid":97,"project_id":3836952,"title":"(OKR 2022Q3 - 1.4) - Py2ml#1: Flaky and churny Python tests are rewritten in OCaml","description":"See [(OKR 2022Q3 - 1.4)](https:\/\/hackmd.io\/TQq1pPimTbaBcWC2QkCH8Q)\r\n\r\nOwner: @arvidnl \r\n\r\nGoal: Translate flaky and churny Python tests to OCaml\r\n\r\nAcceptance criteria: flaky and churny python tests are rewritten in OCaml. \r\n\r\n(I've reduced to scope from all tests to flaky&churny given the resources at hand, follow-up milestone is %121).","state":"closed","created_at":"2022-07-25T09:43:43.865Z","updated_at":"2022-11-08T08:26:50.801Z","due_date":"2022-09-30","start_date":"2022-08-22","expired":true,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/97"},"assignees":[{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"type":"ISSUE","assignee":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"user_notes_count":2,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":"2022-09-02","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/3630","time_stats":{"time_estimate":7200,"total_time_spent":0,"human_time_estimate":"2h","human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3630","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3630\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3630\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#3630","relative":"#3630","full":"tezos\/tezos#3630"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":113675078,"iid":3629,"project_id":3836952,"title":"Translate the flaky pytests `test_bootstrap.py`","description":" estimated translation time: 5 hours","state":"closed","created_at":1661240771658,"updated_at":1662652692324,"closed_at":1662652692270,"closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/8770486\/avatar.png","web_url":"https:\/\/gitlab.com\/nomadic-margebot"},"labels":["python  \ud83d\udc0d","state::in-review","test \u2692","tests::pytest"],"milestone":{"id":2710630,"iid":97,"project_id":3836952,"title":"(OKR 2022Q3 - 1.4) - Py2ml#1: Flaky and churny Python tests are rewritten in OCaml","description":"See [(OKR 2022Q3 - 1.4)](https:\/\/hackmd.io\/TQq1pPimTbaBcWC2QkCH8Q)\r\n\r\nOwner: @arvidnl \r\n\r\nGoal: Translate flaky and churny Python tests to OCaml\r\n\r\nAcceptance criteria: flaky and churny python tests are rewritten in OCaml. \r\n\r\n(I've reduced to scope from all tests to flaky&churny given the resources at hand, follow-up milestone is %121).","state":"closed","created_at":"2022-07-25T09:43:43.865Z","updated_at":"2022-11-08T08:26:50.801Z","due_date":"2022-09-30","start_date":"2022-08-22","expired":true,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/97"},"assignees":[{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"type":"ISSUE","assignee":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"user_notes_count":2,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":"2022-09-02","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/3629","time_stats":{"time_estimate":18000,"total_time_spent":0,"human_time_estimate":"5h","human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3629","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3629\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3629\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#3629","relative":"#3629","full":"tezos\/tezos#3629"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":113675077,"iid":3628,"project_id":3836952,"title":"Translate the flaky pytests `test_tenderbake*.py`","description":"estimated translation time: 14 hours\n\n - [x] test_tenderbake_bakers_restart.py (~~!6320~~ !6523)\n - [x] test_tenderbake_incremental_start.py (~~!6320~~ !6523)\n - [x] test_tenderbake_long_dynamic_bake.py (!6300)\n - [x] test_tenderbake_manual_bake.py (https:\/\/gitlab.com\/tezos\/tezos\/-\/merge_requests\/6345\/)\n - [x] test_tenderbake.py (!5245)","state":"closed","created_at":1661240771520,"updated_at":1665142730367,"closed_at":1665064982081,"closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/8770486\/avatar.png","web_url":"https:\/\/gitlab.com\/nomadic-margebot"},"labels":["python  \ud83d\udc0d","state::in-review","test \u2692","tests::pytest"],"milestone":{"id":2710630,"iid":97,"project_id":3836952,"title":"(OKR 2022Q3 - 1.4) - Py2ml#1: Flaky and churny Python tests are rewritten in OCaml","description":"See [(OKR 2022Q3 - 1.4)](https:\/\/hackmd.io\/TQq1pPimTbaBcWC2QkCH8Q)\r\n\r\nOwner: @arvidnl \r\n\r\nGoal: Translate flaky and churny Python tests to OCaml\r\n\r\nAcceptance criteria: flaky and churny python tests are rewritten in OCaml. \r\n\r\n(I've reduced to scope from all tests to flaky&churny given the resources at hand, follow-up milestone is %121).","state":"closed","created_at":"2022-07-25T09:43:43.865Z","updated_at":"2022-11-08T08:26:50.801Z","due_date":"2022-09-30","start_date":"2022-08-22","expired":true,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/97"},"assignees":[{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"type":"ISSUE","assignee":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4414596\/avatar.png","web_url":"https:\/\/gitlab.com\/arvidnl"},"user_notes_count":5,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":"2022-09-09","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/3628","time_stats":{"time_estimate":50400,"total_time_spent":0,"human_time_estimate":"14h","human_total_time_spent":null},"task_completion_status":{"count":5,"completed_count":5},"weight":14,"blocking_issues_count":0,"has_tasks":false,"task_status":null,"_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3628","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3628\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3628\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#3628","relative":"#3628","full":"tezos\/tezos#3628"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":113413415,"iid":3583,"project_id":3836952,"title":"EVM on WASM: Add TX kernel functionality to EVM kernel","description":"The EVM kernel must be able to handle deposits, transactions and withdrawals just like the TX kernel. Add a new transaction type, `EVMtransaction`, that encapsulates an EVM contract call. The contents of this transaction is not so important for this ticket, only that it is there and that is used to dispatch to a `handle_evm_call` function.\n\nIntegrating with the TX kernel got complicated. The actual implementation of transaction _handling_ (as compared to the rest of the TX kernel structure) has been moved to issue: https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/3698\n\nThis ticket is about porting the structure of the TX kernel to the EVM kernel including data types and splitting and\/or amending those data types where needed for EVM transaction handling. Transaction verification of TX kernel transactions is complicated by interleaved EVM transactions and moved to the issue linked above.","state":"closed","created_at":1660750906804,"updated_at":1662126536552,"closed_at":1662126536523,"closed_by":{"id":11403341,"username":"thomas.pecseli","name":"Thomas Pecseli","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/3775b505539832eeb48b4a781ed3dcd7?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/thomas.pecseli"},"labels":[],"milestone":{"id":2729229,"iid":108,"project_id":3836952,"title":"EVM on WASM: Run EVM interpreter from kernel","description":"## Goal\r\n\r\nRun EVM contract(s) with an EVM interpreter compiled to WASM. Interpreter is called from the `kernel_next` function in the WASM kernel (this implies limited access to `std` library as per transactions kernel).\r\n\r\n### Success\r\n\r\nWe can run an EVM interpreter from `kernel_next` where:\r\n1. Compiling\/linking the EVM interpreter doesn't need anything from Rust `std` (with exceptions allowed in the kernel) or other functionality not supported by the WASM PVM (eg, floating point operations, random numbers).\r\n2. Full support for current EVM instruction set.\r\n3. We can intercept contract calls so that we can later implement *precompiles*.\r\n4. We get log output from contract calls.\r\n\r\n## Knowledge gathering\r\n\r\n- [X] List of all current EVM instructions we need to support. See [this list of instructions](https:\/\/www.evm.codes\/).\r\n- [X] Detailed list of all EVM instructions and opcodes that require information from outside the EVM interpreter. An EVM contract can access information such as block hash, block number, timestamp, proof-of-work difficulty, et.c. We'll need to provide this data to the EVM interpreter, and we have to choose an interpreter that allows us to support this. A list has been compiled [here](https:\/\/www.notion.so\/trilitech\/Special-EVM-instructions-de43f750a758428091ddcd81023213c9). \r\n- [ ] Overview of up coming Ethereum EIPs and how the affect instruction semantics (move to proof-of-stake et.c.).\r\n\r\n## Implementation\r\n\r\n- [X] A crate in the workspace of the WASM kernel for the EVM kernel.\r\n    + Setup basic Rust\/Cargo files for the EVM kernel #3547 \r\n- [X] Add transaction kernel functionality to EVM kernel, with one additional transaction type: EVM contract calls (dummy handler).\r\n    + Add TX kernel to EVM kernel #3583\r\n- [X] Add EVM interpreter to EVM kernel\r\n    + Use SputnikVM to handle EVM contract calls. #3549\r\n    + Use `geth` to handle EVM contract calls. #3550\r\n- [X] Call precompiled contract as an EVM contract.\r\n    + A simple precompiled contract computing identity function and write to log #3552\r\n- [ ] Confidence that the EVM interpreter is _completely_ correct.\r\n    + Set up `geth` for use as reference (and document how to do so) #3558\r\n    + Run standard tests on EVM kernel #3555\r\n\r\n## Confidence\r\n\r\n- [X] Test of simple contract calls\r\n- [X] Test of contract calling other contracts\r\n- [X] Test log output\r\n- [X] Test contract call intercept\r\n- [ ] EVM test suite.\r\n\r\n## Further reading\r\n\r\nSee page in notion: https:\/\/www.notion.so\/trilitech\/EVM-on-WASM-on-Rollups-8d6ab0840ad24199aa46735bf5787189\r\n","state":"closed","created_at":"2022-08-08T16:01:19.594Z","updated_at":"2023-04-20T13:31:28.142Z","due_date":null,"start_date":null,"expired":false,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/108"},"assignees":[{"id":11403341,"username":"thomas.pecseli","name":"Thomas Pecseli","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/3775b505539832eeb48b4a781ed3dcd7?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/thomas.pecseli"}],"author":{"id":11403341,"username":"thomas.pecseli","name":"Thomas Pecseli","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/3775b505539832eeb48b4a781ed3dcd7?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/thomas.pecseli"},"type":"ISSUE","assignee":{"id":11403341,"username":"thomas.pecseli","name":"Thomas Pecseli","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/3775b505539832eeb48b4a781ed3dcd7?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/thomas.pecseli"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":"2022-08-25","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/3583","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3583","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3583\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3583\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#3583","relative":"#3583","full":"tezos\/tezos#3583"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":113283576,"iid":3560,"project_id":3836952,"title":"SCORU: Add tezt test that runs a large number of evaluation ticks","description":"(disabbled by default).","state":"closed","created_at":1660560473835,"updated_at":1663094068083,"closed_at":1663094067989,"closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/8770486\/avatar.png","web_url":"https:\/\/gitlab.com\/nomadic-margebot"},"labels":[],"milestone":{"id":2777728,"iid":133,"project_id":3836952,"title":"SCORU WASM: Protocol M","description":"Following the beginning of the stabilization period, we will focus our effort on asserting the correctness of the WASM PVM wrt. tick size. This means writing tests, finding adversarial inputs, etc.\r\n\r\nBugs will be found, but no feature shall be added.","state":"active","created_at":"2022-09-13T11:26:08.477Z","updated_at":"2023-01-16T14:44:15.542Z","due_date":"2023-01-16","start_date":"2022-09-16","expired":true,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/133"},"assignees":[],"author":{"id":9031131,"username":"hans.hoglund","name":"Hans Hoglund","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/9031131\/avatar.png","web_url":"https:\/\/gitlab.com\/hans.hoglund"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/3560","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3560","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3560\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3560\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#3560","relative":"#3560","full":"tezos\/tezos#3560"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":113283078,"iid":3559,"project_id":3836952,"title":"EVM on WASM: Run time for large\/long transaction on EVM","description":"Goal: find number of WASM instructions needed to run the largest EVM transaction.\n\nThings to figure out and do in this issue:\n- [x] How large is the \"the largest\" EVM transaction. Can we find this by looking at Ethereum history?\n- [x] How much gas was spent on said transaction?\n- [x] Write a contract that burns this amount of gas doing whatever.\n- [x] How many WASM ticks are needed to run that transaction with the EVM interpreter we integrate with `kernel_next`?\n\nBeware:\n- Running the contract is only part of the transaction. After the transaction succeeds, the result needs to be written to permanent storage.\n- Price (in WASM ticks and EVM gas) of storage interaction.","state":"closed","created_at":1660559505563,"updated_at":1667828506212,"closed_at":1667828506194,"closed_by":{"id":11403341,"username":"thomas.pecseli","name":"Thomas Pecseli","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/3775b505539832eeb48b4a781ed3dcd7?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/thomas.pecseli"},"labels":[],"milestone":{"id":2729229,"iid":108,"project_id":3836952,"title":"EVM on WASM: Run EVM interpreter from kernel","description":"## Goal\r\n\r\nRun EVM contract(s) with an EVM interpreter compiled to WASM. Interpreter is called from the `kernel_next` function in the WASM kernel (this implies limited access to `std` library as per transactions kernel).\r\n\r\n### Success\r\n\r\nWe can run an EVM interpreter from `kernel_next` where:\r\n1. Compiling\/linking the EVM interpreter doesn't need anything from Rust `std` (with exceptions allowed in the kernel) or other functionality not supported by the WASM PVM (eg, floating point operations, random numbers).\r\n2. Full support for current EVM instruction set.\r\n3. We can intercept contract calls so that we can later implement *precompiles*.\r\n4. We get log output from contract calls.\r\n\r\n## Knowledge gathering\r\n\r\n- [X] List of all current EVM instructions we need to support. See [this list of instructions](https:\/\/www.evm.codes\/).\r\n- [X] Detailed list of all EVM instructions and opcodes that require information from outside the EVM interpreter. An EVM contract can access information such as block hash, block number, timestamp, proof-of-work difficulty, et.c. We'll need to provide this data to the EVM interpreter, and we have to choose an interpreter that allows us to support this. A list has been compiled [here](https:\/\/www.notion.so\/trilitech\/Special-EVM-instructions-de43f750a758428091ddcd81023213c9). \r\n- [ ] Overview of up coming Ethereum EIPs and how the affect instruction semantics (move to proof-of-stake et.c.).\r\n\r\n## Implementation\r\n\r\n- [X] A crate in the workspace of the WASM kernel for the EVM kernel.\r\n    + Setup basic Rust\/Cargo files for the EVM kernel #3547 \r\n- [X] Add transaction kernel functionality to EVM kernel, with one additional transaction type: EVM contract calls (dummy handler).\r\n    + Add TX kernel to EVM kernel #3583\r\n- [X] Add EVM interpreter to EVM kernel\r\n    + Use SputnikVM to handle EVM contract calls. #3549\r\n    + Use `geth` to handle EVM contract calls. #3550\r\n- [X] Call precompiled contract as an EVM contract.\r\n    + A simple precompiled contract computing identity function and write to log #3552\r\n- [ ] Confidence that the EVM interpreter is _completely_ correct.\r\n    + Set up `geth` for use as reference (and document how to do so) #3558\r\n    + Run standard tests on EVM kernel #3555\r\n\r\n## Confidence\r\n\r\n- [X] Test of simple contract calls\r\n- [X] Test of contract calling other contracts\r\n- [X] Test log output\r\n- [X] Test contract call intercept\r\n- [ ] EVM test suite.\r\n\r\n## Further reading\r\n\r\nSee page in notion: https:\/\/www.notion.so\/trilitech\/EVM-on-WASM-on-Rollups-8d6ab0840ad24199aa46735bf5787189\r\n","state":"closed","created_at":"2022-08-08T16:01:19.594Z","updated_at":"2023-04-20T13:31:28.142Z","due_date":null,"start_date":null,"expired":false,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/108"},"assignees":[{"id":11403341,"username":"thomas.pecseli","name":"Thomas Pecseli","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/3775b505539832eeb48b4a781ed3dcd7?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/thomas.pecseli"}],"author":{"id":11403341,"username":"thomas.pecseli","name":"Thomas Pecseli","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/3775b505539832eeb48b4a781ed3dcd7?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/thomas.pecseli"},"type":"ISSUE","assignee":{"id":11403341,"username":"thomas.pecseli","name":"Thomas Pecseli","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/3775b505539832eeb48b4a781ed3dcd7?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/thomas.pecseli"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/3559","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":4},"weight":3,"blocking_issues_count":0,"has_tasks":false,"task_status":null,"_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3559","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3559\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3559\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#3559","relative":"#3559","full":"tezos\/tezos#3559"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":113210136,"iid":3554,"project_id":3836952,"title":"SCORU: Wasm: Tezt test using test kernel (computation only)","description":"Goal: There is a tezt test that uses the L2 client to\n- Originate a Wasm SCORU\n- Load the test kernel (computation only)\n- Evaluate at least 2 `kernel_main` invocations.","state":"closed","created_at":1660319660021,"updated_at":1663169567497,"closed_at":1662557494033,"closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/8770486\/avatar.png","web_url":"https:\/\/gitlab.com\/nomadic-margebot"},"labels":[],"milestone":{"id":2725830,"iid":107,"project_id":3836952,"title":"(OKR 2022Q3 - 2.1) SCORU Wasm - Small Ticks","description":"\r\n# Goal\r\n\r\nCompletion of this milestone allows to enable SCORU + Wasm on mainnet.\r\n\r\n### Background\r\n\r\nThe goal of this milestone is to complete the implementation of the Wasm PVM and obtain confidence that:\r\n\r\n1. Layer 1 is safe: The WASM PVM cannot be used to attack the layer-1  by exploiting unbound computation time.\r\n2. Layer 2 is safe: The WASM PVM produces execution step within the SCORU size limit.\r\n3. Correctness: The WASM PVM implements WASM semantics. Limitations and restriction are documented.\r\n\r\n\r\n#### Stuck state\r\n\r\nCritical failure conditions in the PVM (\"assert false\" situations) is responded to by placing the PVM in a stuck state, where it no longer advances meaningfully, similar to a \"bluescreen of death\". \r\n\r\nTogether with #2198 and #3561, we enforce that the worst outcome of  stuck state is an asset-lockup situation, not an arbitrary-withdrawal situation.\r\n\r\n\r\n#### Breaking changes\r\n\r\nWe will need to prioritize carefully the remaining work, such that\r\n\r\n1. We have a WASM PVM working in mid-September.\r\n2. Missing features of the WASM PVM can be implemented without completely breaking originated rollup.\r\n3. Any breaking change needs to be backed-up by a migration plan.\r\n\r\nEstimate: 12pw\r\n\r\n\r\n# Current work\/MRs\r\n- Gas metering for compute-step function #3548 @ole.kruger\r\n- Tickify module initialization #3076 @lthms \r\n- Non-recursive admin instructions #3606 @hans.hoglund \r\n- Nominal gast cost of proof verification #3164 @yrg \r\n\r\n# Breakdown\r\n\r\n<details>\r\n<summary>Work to be reevaluated<\/summary>\r\n\r\n## L1 can control L2 semantics divergence\r\n\r\nThe goal of these tasks was to provide safe guard for ensuring a L2 tick cannot be underevaluated from the perspective of the L1 gas consumption.\r\n\r\nThe methods explored are not satisfactory, and we believe there are other means to achieve this goal, in particular the hardening of the L2 implementation.\r\n\r\n- [ ] Gas metering for compute-step function in WASM PVM #3548\r\n- [ ] Nominal gast cost of proof verification #3164 (handle in %\"Smart Contract Rollup Hardening?)\r\n\r\n## Test-suite conformance\r\n\r\nThis can be re-explore during the stabilization period, but if we have a large number of testing kernels, this is probably not necessary\/of high priority.\r\n\r\n- [ ] Instrument the WASM test-suite to do a decode-eval-encode loop during parsing #3500 \r\n\r\n<\/details>\r\n\r\n## PVM Life cycle and correctness\r\n- [x] Handling all inputs per commitment !6698\r\n\r\n\r\n## Small-step decode and initialization\r\n\r\n- [X] Add merkleized representation of parser state #3150 !5891 \r\n- [X] Add merkleized representation of the parsed AST #3149\r\n- [X] Scoru_wasm: Parser state encodings !5891 \r\n- [x] Merkleization of the parser's input #3224 \r\n- [x] Tickify module initialization #3076\r\n- [x] Tickify linking #3786 \r\n- [x] Non-recursive admin instructions #3606\r\n\r\nOnce this is all done, then we close this:\r\n\r\n- [x] Ensure \"unsafe\" functions are never used inside the PVM #3378\r\n\r\n<details>\r\n<summary>Done<\/summary>\r\n\r\n## Error handling\r\n- [x] lib_lazy_containers + lib_webassembly: make exceptions distinguishable (improves error reporting) !6097\r\n- [X] **lib_scoru_wasm: disallow exceptions in entry-point functions #3448** !6101 !6097\r\n\r\n<\/details>\r\n\r\n## Code quality (Critical)\r\n- [X] Factor out module-registry from AST func nodes #3492 Nice to have \ud83d\udc76\r\n- [X] Lib_webassembly: cleanup deadcode #3334 Code quality \ud83c\udf1f Nice to have \ud83d\udc76\r\n- [x] WASM PVM: Simplify decoding logic for WASM PVM #3444\r\n\r\n## Documentation\r\n- [x] Document version of spec and subset\/additions #3117 doc \r\n\r\n<details>\r\n<summary>To be revisited when the remaining tasks are done<\/summary>\r\n\r\n## Code quality (Nice-to-Have)\r\n- [ ] WASM: Follow up items for lazy-containers #3535 \r\n- [ ] Increase the message size limit for faster loading #3361 \r\n- [ ] Use ppx_deriving.show for AST pretty-printer #3456 \r\n- [ ] Lib_webassembly: fix unused variables #3304 \r\n- [ ] Single source of truth for function types #3396 \r\n- [ ] More compact output proofs #3237 \r\n- [ ] WASM Parser: refactoring of duplicated code #3120 \r\n- [ ] Wasm PVM: Remove duplication in input proofs #3091 \r\n- [ ] Binary parsing: Reuse a unique lazy stack #3569 \r\n- [ ] Drop locations from AST #3566 \r\n- [ ] Increase confidence in Interpreter_encodings boilerplate #3565 \r\n- [ ] SCORU WASM: Derive AST generators #3511 \r\n- [ ] Lib_scoru_wasm: Improve wasm encoding schema with named fields #3469 \r\n- [ ] Use library function for Assert.false and replicate #3532\r\n- [ ] Add generators for vector instructions #3455\r\n- [ ] Add tests for corner cases in Chunked_byte_vector #3085\r\n- [ ] Test tree encoding with official Wasm test suite #3570\r\n\r\n<\/details>\r\n","state":"closed","created_at":"2022-08-04T17:13:44.166Z","updated_at":"2022-11-16T08:34:25.529Z","due_date":"2022-09-16","start_date":"2022-08-12","expired":true,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/107"},"assignees":[{"id":9031131,"username":"hans.hoglund","name":"Hans Hoglund","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/9031131\/avatar.png","web_url":"https:\/\/gitlab.com\/hans.hoglund"}],"author":{"id":9031131,"username":"hans.hoglund","name":"Hans Hoglund","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/9031131\/avatar.png","web_url":"https:\/\/gitlab.com\/hans.hoglund"},"type":"ISSUE","assignee":{"id":9031131,"username":"hans.hoglund","name":"Hans Hoglund","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/9031131\/avatar.png","web_url":"https:\/\/gitlab.com\/hans.hoglund"},"user_notes_count":1,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/3554","time_stats":{"time_estimate":28800,"total_time_spent":0,"human_time_estimate":"8h","human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3554","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3554\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3554\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#3554","relative":"#3554","full":"tezos\/tezos#3554"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":113210135,"iid":3553,"project_id":3836952,"title":"SCORU: Wasm: Tezt test using test kernel (computation and input)","description":"Goal: There is a tezt test that uses the L2 client to\n- Originate a Wasm SCORU\n- Load the test kernel (input feature enabled)\n- Evaluate at least 2 `kernel_main` invocations.","state":"closed","created_at":1660319655537,"updated_at":1673879465262,"closed_at":1673879465225,"closed_by":{"id":7921723,"username":"lthms","name":"Thomas Letan","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/7921723\/avatar.png","web_url":"https:\/\/gitlab.com\/lthms"},"labels":[],"milestone":{"id":2777728,"iid":133,"project_id":3836952,"title":"SCORU WASM: Protocol M","description":"Following the beginning of the stabilization period, we will focus our effort on asserting the correctness of the WASM PVM wrt. tick size. This means writing tests, finding adversarial inputs, etc.\r\n\r\nBugs will be found, but no feature shall be added.","state":"active","created_at":"2022-09-13T11:26:08.477Z","updated_at":"2023-01-16T14:44:15.542Z","due_date":"2023-01-16","start_date":"2022-09-16","expired":true,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/133"},"assignees":[{"id":9031131,"username":"hans.hoglund","name":"Hans Hoglund","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/9031131\/avatar.png","web_url":"https:\/\/gitlab.com\/hans.hoglund"}],"author":{"id":9031131,"username":"hans.hoglund","name":"Hans Hoglund","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/9031131\/avatar.png","web_url":"https:\/\/gitlab.com\/hans.hoglund"},"type":"ISSUE","assignee":{"id":9031131,"username":"hans.hoglund","name":"Hans Hoglund","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/9031131\/avatar.png","web_url":"https:\/\/gitlab.com\/hans.hoglund"},"user_notes_count":4,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/3553","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3553","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3553\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3553\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#3553","relative":"#3553","full":"tezos\/tezos#3553"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":113210047,"iid":3552,"project_id":3836952,"title":"EVM  on WASM: EVM precompiled contract","description":"Write one precompiled contract for the EVM interpreter: the identity function. The contract should write the _call data_ to the _return data_. Also, have the contract write a message to the evm- _and_ the kernel- log.\n\nTest:\n- Have the EVM interpreter call a contract that calls the build in contract","state":"closed","created_at":1660319513141,"updated_at":1680255230061,"closed_at":1680255230037,"closed_by":{"id":11403341,"username":"thomas.pecseli","name":"Thomas Pecseli","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/3775b505539832eeb48b4a781ed3dcd7?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/thomas.pecseli"},"labels":[],"milestone":{"id":2736953,"iid":114,"project_id":3836952,"title":"EVM on WASM: backlog","description":"Add issues to this milestone as they appear duing work on other issues\/milestones related to EVM on WASM. If an issue doesn't fit on a particular milestone, then put it here.","state":"closed","created_at":"2022-08-15T12:50:51.573Z","updated_at":"2023-04-20T13:38:45.982Z","due_date":null,"start_date":null,"expired":false,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/114"},"assignees":[],"author":{"id":11403341,"username":"thomas.pecseli","name":"Thomas Pecseli","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/3775b505539832eeb48b4a781ed3dcd7?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/thomas.pecseli"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/3552","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3552","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3552\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3552\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#3552","relative":"#3552","full":"tezos\/tezos#3552"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":113209443,"iid":3551,"project_id":3836952,"title":"EVM on WASM: common trait for encapsulating EVM interpreter","description":"Encapsulate SputnikVM and Geth in each their struct. Each struct should implement one common trait\/interface that allows for\n- calling contracts\n- providing precompiles\n- interfacing with storage and transactions.\n- intercepting `LOGx` instruction execution so that logs are not just part of the transaction, but also written to kernel log.","state":"closed","created_at":1660318632575,"updated_at":1664291537290,"closed_at":1664291118116,"closed_by":{"id":11403341,"username":"thomas.pecseli","name":"Thomas Pecseli","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/3775b505539832eeb48b4a781ed3dcd7?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/thomas.pecseli"},"labels":[],"milestone":{"id":2729229,"iid":108,"project_id":3836952,"title":"EVM on WASM: Run EVM interpreter from kernel","description":"## Goal\r\n\r\nRun EVM contract(s) with an EVM interpreter compiled to WASM. Interpreter is called from the `kernel_next` function in the WASM kernel (this implies limited access to `std` library as per transactions kernel).\r\n\r\n### Success\r\n\r\nWe can run an EVM interpreter from `kernel_next` where:\r\n1. Compiling\/linking the EVM interpreter doesn't need anything from Rust `std` (with exceptions allowed in the kernel) or other functionality not supported by the WASM PVM (eg, floating point operations, random numbers).\r\n2. Full support for current EVM instruction set.\r\n3. We can intercept contract calls so that we can later implement *precompiles*.\r\n4. We get log output from contract calls.\r\n\r\n## Knowledge gathering\r\n\r\n- [X] List of all current EVM instructions we need to support. See [this list of instructions](https:\/\/www.evm.codes\/).\r\n- [X] Detailed list of all EVM instructions and opcodes that require information from outside the EVM interpreter. An EVM contract can access information such as block hash, block number, timestamp, proof-of-work difficulty, et.c. We'll need to provide this data to the EVM interpreter, and we have to choose an interpreter that allows us to support this. A list has been compiled [here](https:\/\/www.notion.so\/trilitech\/Special-EVM-instructions-de43f750a758428091ddcd81023213c9). \r\n- [ ] Overview of up coming Ethereum EIPs and how the affect instruction semantics (move to proof-of-stake et.c.).\r\n\r\n## Implementation\r\n\r\n- [X] A crate in the workspace of the WASM kernel for the EVM kernel.\r\n    + Setup basic Rust\/Cargo files for the EVM kernel #3547 \r\n- [X] Add transaction kernel functionality to EVM kernel, with one additional transaction type: EVM contract calls (dummy handler).\r\n    + Add TX kernel to EVM kernel #3583\r\n- [X] Add EVM interpreter to EVM kernel\r\n    + Use SputnikVM to handle EVM contract calls. #3549\r\n    + Use `geth` to handle EVM contract calls. #3550\r\n- [X] Call precompiled contract as an EVM contract.\r\n    + A simple precompiled contract computing identity function and write to log #3552\r\n- [ ] Confidence that the EVM interpreter is _completely_ correct.\r\n    + Set up `geth` for use as reference (and document how to do so) #3558\r\n    + Run standard tests on EVM kernel #3555\r\n\r\n## Confidence\r\n\r\n- [X] Test of simple contract calls\r\n- [X] Test of contract calling other contracts\r\n- [X] Test log output\r\n- [X] Test contract call intercept\r\n- [ ] EVM test suite.\r\n\r\n## Further reading\r\n\r\nSee page in notion: https:\/\/www.notion.so\/trilitech\/EVM-on-WASM-on-Rollups-8d6ab0840ad24199aa46735bf5787189\r\n","state":"closed","created_at":"2022-08-08T16:01:19.594Z","updated_at":"2023-04-20T13:31:28.142Z","due_date":null,"start_date":null,"expired":false,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/108"},"assignees":[],"author":{"id":11403341,"username":"thomas.pecseli","name":"Thomas Pecseli","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/3775b505539832eeb48b4a781ed3dcd7?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/thomas.pecseli"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/3551","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3551","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3551\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3551\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#3551","relative":"#3551","full":"tezos\/tezos#3551"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":113206519,"iid":3550,"project_id":3836952,"title":"EVM on WASM: Integrate with Geth","description":"Goal is to integrate with an EVM interpreter so we can check and see if it is useful for our purpose. This issue is about checking geth.\n\nRequirements:\n- supports most recent version of EVM instruction set (if it doesn't, then something is very wrong); and,\n- supports _precompiles_ in a way where we can define additional precompiles ourselves (not just the standard nine precompiles); and,\n- doesn't require features from Rust `std` that we don't already use.\n- capture execution of `LOGx` instructions.\n\nTests:\n- some test contracts that return successfully\n- some test contracts that fail - toplevel `REVERT` or using the standard invalid instruction.","state":"closed","created_at":1660317599581,"updated_at":1664291127674,"closed_at":1664291127649,"closed_by":{"id":11403341,"username":"thomas.pecseli","name":"Thomas Pecseli","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/3775b505539832eeb48b4a781ed3dcd7?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/thomas.pecseli"},"labels":[],"milestone":{"id":2729229,"iid":108,"project_id":3836952,"title":"EVM on WASM: Run EVM interpreter from kernel","description":"## Goal\r\n\r\nRun EVM contract(s) with an EVM interpreter compiled to WASM. Interpreter is called from the `kernel_next` function in the WASM kernel (this implies limited access to `std` library as per transactions kernel).\r\n\r\n### Success\r\n\r\nWe can run an EVM interpreter from `kernel_next` where:\r\n1. Compiling\/linking the EVM interpreter doesn't need anything from Rust `std` (with exceptions allowed in the kernel) or other functionality not supported by the WASM PVM (eg, floating point operations, random numbers).\r\n2. Full support for current EVM instruction set.\r\n3. We can intercept contract calls so that we can later implement *precompiles*.\r\n4. We get log output from contract calls.\r\n\r\n## Knowledge gathering\r\n\r\n- [X] List of all current EVM instructions we need to support. See [this list of instructions](https:\/\/www.evm.codes\/).\r\n- [X] Detailed list of all EVM instructions and opcodes that require information from outside the EVM interpreter. An EVM contract can access information such as block hash, block number, timestamp, proof-of-work difficulty, et.c. We'll need to provide this data to the EVM interpreter, and we have to choose an interpreter that allows us to support this. A list has been compiled [here](https:\/\/www.notion.so\/trilitech\/Special-EVM-instructions-de43f750a758428091ddcd81023213c9). \r\n- [ ] Overview of up coming Ethereum EIPs and how the affect instruction semantics (move to proof-of-stake et.c.).\r\n\r\n## Implementation\r\n\r\n- [X] A crate in the workspace of the WASM kernel for the EVM kernel.\r\n    + Setup basic Rust\/Cargo files for the EVM kernel #3547 \r\n- [X] Add transaction kernel functionality to EVM kernel, with one additional transaction type: EVM contract calls (dummy handler).\r\n    + Add TX kernel to EVM kernel #3583\r\n- [X] Add EVM interpreter to EVM kernel\r\n    + Use SputnikVM to handle EVM contract calls. #3549\r\n    + Use `geth` to handle EVM contract calls. #3550\r\n- [X] Call precompiled contract as an EVM contract.\r\n    + A simple precompiled contract computing identity function and write to log #3552\r\n- [ ] Confidence that the EVM interpreter is _completely_ correct.\r\n    + Set up `geth` for use as reference (and document how to do so) #3558\r\n    + Run standard tests on EVM kernel #3555\r\n\r\n## Confidence\r\n\r\n- [X] Test of simple contract calls\r\n- [X] Test of contract calling other contracts\r\n- [X] Test log output\r\n- [X] Test contract call intercept\r\n- [ ] EVM test suite.\r\n\r\n## Further reading\r\n\r\nSee page in notion: https:\/\/www.notion.so\/trilitech\/EVM-on-WASM-on-Rollups-8d6ab0840ad24199aa46735bf5787189\r\n","state":"closed","created_at":"2022-08-08T16:01:19.594Z","updated_at":"2023-04-20T13:31:28.142Z","due_date":null,"start_date":null,"expired":false,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/108"},"assignees":[],"author":{"id":11403341,"username":"thomas.pecseli","name":"Thomas Pecseli","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/3775b505539832eeb48b4a781ed3dcd7?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/thomas.pecseli"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/3550","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3550","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3550\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3550\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#3550","relative":"#3550","full":"tezos\/tezos#3550"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":113200456,"iid":3549,"project_id":3836952,"title":"EVM on WASM: Integrate with SputnikVM","description":"Goal is to integrate with an EVM interpreter so we can check and see if it is useful for our purpose. This issue is about using SputnikVM.\n\nRequirements:\n- supports most recent version of EVM instruction set; and,\n- supports _precompiles_; and,\n- doesn't require features from Rust `std` that we don't already use.\n- capture execution of `LOGx` instructions.\n\nAlternatives:\n- original: https:\/\/github.com\/ETCDEVTeam\/sputnikvm (probably out of date)\n- used by polkadot: https:\/\/github.com\/rust-blockchain\/evm\/ (fork still with active maintenance)\n- any other version of SputnikVM you can find\n\nTest:\n- run contracts with both old\/original and new EVM instructions\n- some test contract calls must succeed.\n- add some test contract calls, with contracts that fail.","state":"closed","created_at":1660316100044,"updated_at":1664289906898,"closed_at":1663940749739,"closed_by":{"id":11403341,"username":"thomas.pecseli","name":"Thomas Pecseli","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/3775b505539832eeb48b4a781ed3dcd7?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/thomas.pecseli"},"labels":[],"milestone":{"id":2729229,"iid":108,"project_id":3836952,"title":"EVM on WASM: Run EVM interpreter from kernel","description":"## Goal\r\n\r\nRun EVM contract(s) with an EVM interpreter compiled to WASM. Interpreter is called from the `kernel_next` function in the WASM kernel (this implies limited access to `std` library as per transactions kernel).\r\n\r\n### Success\r\n\r\nWe can run an EVM interpreter from `kernel_next` where:\r\n1. Compiling\/linking the EVM interpreter doesn't need anything from Rust `std` (with exceptions allowed in the kernel) or other functionality not supported by the WASM PVM (eg, floating point operations, random numbers).\r\n2. Full support for current EVM instruction set.\r\n3. We can intercept contract calls so that we can later implement *precompiles*.\r\n4. We get log output from contract calls.\r\n\r\n## Knowledge gathering\r\n\r\n- [X] List of all current EVM instructions we need to support. See [this list of instructions](https:\/\/www.evm.codes\/).\r\n- [X] Detailed list of all EVM instructions and opcodes that require information from outside the EVM interpreter. An EVM contract can access information such as block hash, block number, timestamp, proof-of-work difficulty, et.c. We'll need to provide this data to the EVM interpreter, and we have to choose an interpreter that allows us to support this. A list has been compiled [here](https:\/\/www.notion.so\/trilitech\/Special-EVM-instructions-de43f750a758428091ddcd81023213c9). \r\n- [ ] Overview of up coming Ethereum EIPs and how the affect instruction semantics (move to proof-of-stake et.c.).\r\n\r\n## Implementation\r\n\r\n- [X] A crate in the workspace of the WASM kernel for the EVM kernel.\r\n    + Setup basic Rust\/Cargo files for the EVM kernel #3547 \r\n- [X] Add transaction kernel functionality to EVM kernel, with one additional transaction type: EVM contract calls (dummy handler).\r\n    + Add TX kernel to EVM kernel #3583\r\n- [X] Add EVM interpreter to EVM kernel\r\n    + Use SputnikVM to handle EVM contract calls. #3549\r\n    + Use `geth` to handle EVM contract calls. #3550\r\n- [X] Call precompiled contract as an EVM contract.\r\n    + A simple precompiled contract computing identity function and write to log #3552\r\n- [ ] Confidence that the EVM interpreter is _completely_ correct.\r\n    + Set up `geth` for use as reference (and document how to do so) #3558\r\n    + Run standard tests on EVM kernel #3555\r\n\r\n## Confidence\r\n\r\n- [X] Test of simple contract calls\r\n- [X] Test of contract calling other contracts\r\n- [X] Test log output\r\n- [X] Test contract call intercept\r\n- [ ] EVM test suite.\r\n\r\n## Further reading\r\n\r\nSee page in notion: https:\/\/www.notion.so\/trilitech\/EVM-on-WASM-on-Rollups-8d6ab0840ad24199aa46735bf5787189\r\n","state":"closed","created_at":"2022-08-08T16:01:19.594Z","updated_at":"2023-04-20T13:31:28.142Z","due_date":null,"start_date":null,"expired":false,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/108"},"assignees":[{"id":11403341,"username":"thomas.pecseli","name":"Thomas Pecseli","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/3775b505539832eeb48b4a781ed3dcd7?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/thomas.pecseli"}],"author":{"id":11403341,"username":"thomas.pecseli","name":"Thomas Pecseli","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/3775b505539832eeb48b4a781ed3dcd7?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/thomas.pecseli"},"type":"ISSUE","assignee":{"id":11403341,"username":"thomas.pecseli","name":"Thomas Pecseli","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/3775b505539832eeb48b4a781ed3dcd7?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/thomas.pecseli"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":"2022-08-29","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/3549","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3549","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3549\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3549\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#3549","relative":"#3549","full":"tezos\/tezos#3549"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":113193382,"iid":3547,"project_id":3836952,"title":"EVM on WASM: EVM kernel crate","description":"Add a new sub-project to the trili\/kernel gitlab project. It should\n- have name `evm_kernel`; and,\n- contain a `Cargo.toml`, and a `lib.rs` file; and,\n- have a `kernel_next` function (defined using the `kernel_entry` macro); and, \n- a \"cache\" type.","state":"closed","created_at":1660314354649,"updated_at":1661338540046,"closed_at":1661338540026,"closed_by":{"id":11403341,"username":"thomas.pecseli","name":"Thomas Pecseli","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/3775b505539832eeb48b4a781ed3dcd7?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/thomas.pecseli"},"labels":[],"milestone":{"id":2729229,"iid":108,"project_id":3836952,"title":"EVM on WASM: Run EVM interpreter from kernel","description":"## Goal\r\n\r\nRun EVM contract(s) with an EVM interpreter compiled to WASM. Interpreter is called from the `kernel_next` function in the WASM kernel (this implies limited access to `std` library as per transactions kernel).\r\n\r\n### Success\r\n\r\nWe can run an EVM interpreter from `kernel_next` where:\r\n1. Compiling\/linking the EVM interpreter doesn't need anything from Rust `std` (with exceptions allowed in the kernel) or other functionality not supported by the WASM PVM (eg, floating point operations, random numbers).\r\n2. Full support for current EVM instruction set.\r\n3. We can intercept contract calls so that we can later implement *precompiles*.\r\n4. We get log output from contract calls.\r\n\r\n## Knowledge gathering\r\n\r\n- [X] List of all current EVM instructions we need to support. See [this list of instructions](https:\/\/www.evm.codes\/).\r\n- [X] Detailed list of all EVM instructions and opcodes that require information from outside the EVM interpreter. An EVM contract can access information such as block hash, block number, timestamp, proof-of-work difficulty, et.c. We'll need to provide this data to the EVM interpreter, and we have to choose an interpreter that allows us to support this. A list has been compiled [here](https:\/\/www.notion.so\/trilitech\/Special-EVM-instructions-de43f750a758428091ddcd81023213c9). \r\n- [ ] Overview of up coming Ethereum EIPs and how the affect instruction semantics (move to proof-of-stake et.c.).\r\n\r\n## Implementation\r\n\r\n- [X] A crate in the workspace of the WASM kernel for the EVM kernel.\r\n    + Setup basic Rust\/Cargo files for the EVM kernel #3547 \r\n- [X] Add transaction kernel functionality to EVM kernel, with one additional transaction type: EVM contract calls (dummy handler).\r\n    + Add TX kernel to EVM kernel #3583\r\n- [X] Add EVM interpreter to EVM kernel\r\n    + Use SputnikVM to handle EVM contract calls. #3549\r\n    + Use `geth` to handle EVM contract calls. #3550\r\n- [X] Call precompiled contract as an EVM contract.\r\n    + A simple precompiled contract computing identity function and write to log #3552\r\n- [ ] Confidence that the EVM interpreter is _completely_ correct.\r\n    + Set up `geth` for use as reference (and document how to do so) #3558\r\n    + Run standard tests on EVM kernel #3555\r\n\r\n## Confidence\r\n\r\n- [X] Test of simple contract calls\r\n- [X] Test of contract calling other contracts\r\n- [X] Test log output\r\n- [X] Test contract call intercept\r\n- [ ] EVM test suite.\r\n\r\n## Further reading\r\n\r\nSee page in notion: https:\/\/www.notion.so\/trilitech\/EVM-on-WASM-on-Rollups-8d6ab0840ad24199aa46735bf5787189\r\n","state":"closed","created_at":"2022-08-08T16:01:19.594Z","updated_at":"2023-04-20T13:31:28.142Z","due_date":null,"start_date":null,"expired":false,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/108"},"assignees":[{"id":11403341,"username":"thomas.pecseli","name":"Thomas Pecseli","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/3775b505539832eeb48b4a781ed3dcd7?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/thomas.pecseli"}],"author":{"id":11403341,"username":"thomas.pecseli","name":"Thomas Pecseli","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/3775b505539832eeb48b4a781ed3dcd7?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/thomas.pecseli"},"type":"ISSUE","assignee":{"id":11403341,"username":"thomas.pecseli","name":"Thomas Pecseli","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/3775b505539832eeb48b4a781ed3dcd7?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/thomas.pecseli"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":"2022-08-25","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/3547","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3547","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3547\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3547\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#3547","relative":"#3547","full":"tezos\/tezos#3547"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":113123525,"iid":3537,"project_id":3836952,"title":"Add integration test for inputs","description":"Goal: There is a above the Protocol level test that loads a [Test kernel] that that has input feature flag enabled and feeds at least 10 inputs.\n\nFor similar tests, see `src\/proto_alpha\/lib_protocol\/test\/integration\/test_sc_rollup_wasm.ml`, especially `should_boot_computation_kernel` (above Protocol).\n\nSomewhat related:\nhttps:\/\/gitlab.com\/tezos\/tezos\/-\/merge_requests\/6208","state":"closed","created_at":1660211880836,"updated_at":1670346157691,"closed_at":1670346157672,"closed_by":{"id":7921723,"username":"lthms","name":"Thomas Letan","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/7921723\/avatar.png","web_url":"https:\/\/gitlab.com\/lthms"},"labels":[],"milestone":{"id":2777728,"iid":133,"project_id":3836952,"title":"SCORU WASM: Protocol M","description":"Following the beginning of the stabilization period, we will focus our effort on asserting the correctness of the WASM PVM wrt. tick size. This means writing tests, finding adversarial inputs, etc.\r\n\r\nBugs will be found, but no feature shall be added.","state":"active","created_at":"2022-09-13T11:26:08.477Z","updated_at":"2023-01-16T14:44:15.542Z","due_date":"2023-01-16","start_date":"2022-09-16","expired":true,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/133"},"assignees":[{"id":9031131,"username":"hans.hoglund","name":"Hans Hoglund","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/9031131\/avatar.png","web_url":"https:\/\/gitlab.com\/hans.hoglund"}],"author":{"id":9031131,"username":"hans.hoglund","name":"Hans Hoglund","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/9031131\/avatar.png","web_url":"https:\/\/gitlab.com\/hans.hoglund"},"type":"ISSUE","assignee":{"id":9031131,"username":"hans.hoglund","name":"Hans Hoglund","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/9031131\/avatar.png","web_url":"https:\/\/gitlab.com\/hans.hoglund"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/3537","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3537","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3537\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3537\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#3537","relative":"#3537","full":"tezos\/tezos#3537"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":112048779,"iid":3448,"project_id":3836952,"title":"lib_scoru_wasm: disallow exceptions in entry-point functions","description":"See also [team meeting notes](https:\/\/www.notion.so\/trilitech\/Meeting-Notes-a744673f343b4e328bf5bf14536c614d#6bbf9ac486ad452c9e5353c85cf3bac2)\n\nRemove the mention of exceptions from `lib_scoru_wasm` `Make` signature. Add `try_with` or similar to catch exceptions and put the machine in a stuck state instead.\n\nThe machine is stuck whenever there is an error state in state tree accessible from `get_info`. A stuck PVM should not advance (meaningfully) but will increment the tick counter (only).\n\nOptional: add another case to `Protocol.Sc_rollup_wasm.status` and propagate.\n\n## Context \n\nThe top-interface exposed in `lib_scoru_wasm` (e.g. `Make`) is called from the Protocol, where Ocaml exceptions are avoided by conventions. We must therefore catch and wrap Ocaml exceptions either in `Sc_rollup_wasm` or in `lib_scoru_wasm` (or both, defensively).\n\nWe nonetheless need to deal with:\n\n- Non-recoverable errors caused by bugs in PVM\n- User errors such as posting a syntactically invalid kernel\n\nIn the PMV 1 milestone we're not implementing a fallback mechanism, just putting the machine in a stuck state - though we should try to be future-compatible with error recovery. \n\nNote that internally in `lib_scoru_wasm` we can still use exceptions or error return values - but they should not propagate to the top-level.","state":"closed","created_at":1658501509931,"updated_at":1662049419172,"closed_at":1662049419146,"closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/8770486\/avatar.png","web_url":"https:\/\/gitlab.com\/nomadic-margebot"},"labels":[],"milestone":{"id":2725830,"iid":107,"project_id":3836952,"title":"(OKR 2022Q3 - 2.1) SCORU Wasm - Small Ticks","description":"\r\n# Goal\r\n\r\nCompletion of this milestone allows to enable SCORU + Wasm on mainnet.\r\n\r\n### Background\r\n\r\nThe goal of this milestone is to complete the implementation of the Wasm PVM and obtain confidence that:\r\n\r\n1. Layer 1 is safe: The WASM PVM cannot be used to attack the layer-1  by exploiting unbound computation time.\r\n2. Layer 2 is safe: The WASM PVM produces execution step within the SCORU size limit.\r\n3. Correctness: The WASM PVM implements WASM semantics. Limitations and restriction are documented.\r\n\r\n\r\n#### Stuck state\r\n\r\nCritical failure conditions in the PVM (\"assert false\" situations) is responded to by placing the PVM in a stuck state, where it no longer advances meaningfully, similar to a \"bluescreen of death\". \r\n\r\nTogether with #2198 and #3561, we enforce that the worst outcome of  stuck state is an asset-lockup situation, not an arbitrary-withdrawal situation.\r\n\r\n\r\n#### Breaking changes\r\n\r\nWe will need to prioritize carefully the remaining work, such that\r\n\r\n1. We have a WASM PVM working in mid-September.\r\n2. Missing features of the WASM PVM can be implemented without completely breaking originated rollup.\r\n3. Any breaking change needs to be backed-up by a migration plan.\r\n\r\nEstimate: 12pw\r\n\r\n\r\n# Current work\/MRs\r\n- Gas metering for compute-step function #3548 @ole.kruger\r\n- Tickify module initialization #3076 @lthms \r\n- Non-recursive admin instructions #3606 @hans.hoglund \r\n- Nominal gast cost of proof verification #3164 @yrg \r\n\r\n# Breakdown\r\n\r\n<details>\r\n<summary>Work to be reevaluated<\/summary>\r\n\r\n## L1 can control L2 semantics divergence\r\n\r\nThe goal of these tasks was to provide safe guard for ensuring a L2 tick cannot be underevaluated from the perspective of the L1 gas consumption.\r\n\r\nThe methods explored are not satisfactory, and we believe there are other means to achieve this goal, in particular the hardening of the L2 implementation.\r\n\r\n- [ ] Gas metering for compute-step function in WASM PVM #3548\r\n- [ ] Nominal gast cost of proof verification #3164 (handle in %\"Smart Contract Rollup Hardening?)\r\n\r\n## Test-suite conformance\r\n\r\nThis can be re-explore during the stabilization period, but if we have a large number of testing kernels, this is probably not necessary\/of high priority.\r\n\r\n- [ ] Instrument the WASM test-suite to do a decode-eval-encode loop during parsing #3500 \r\n\r\n<\/details>\r\n\r\n## PVM Life cycle and correctness\r\n- [x] Handling all inputs per commitment !6698\r\n\r\n\r\n## Small-step decode and initialization\r\n\r\n- [X] Add merkleized representation of parser state #3150 !5891 \r\n- [X] Add merkleized representation of the parsed AST #3149\r\n- [X] Scoru_wasm: Parser state encodings !5891 \r\n- [x] Merkleization of the parser's input #3224 \r\n- [x] Tickify module initialization #3076\r\n- [x] Tickify linking #3786 \r\n- [x] Non-recursive admin instructions #3606\r\n\r\nOnce this is all done, then we close this:\r\n\r\n- [x] Ensure \"unsafe\" functions are never used inside the PVM #3378\r\n\r\n<details>\r\n<summary>Done<\/summary>\r\n\r\n## Error handling\r\n- [x] lib_lazy_containers + lib_webassembly: make exceptions distinguishable (improves error reporting) !6097\r\n- [X] **lib_scoru_wasm: disallow exceptions in entry-point functions #3448** !6101 !6097\r\n\r\n<\/details>\r\n\r\n## Code quality (Critical)\r\n- [X] Factor out module-registry from AST func nodes #3492 Nice to have \ud83d\udc76\r\n- [X] Lib_webassembly: cleanup deadcode #3334 Code quality \ud83c\udf1f Nice to have \ud83d\udc76\r\n- [x] WASM PVM: Simplify decoding logic for WASM PVM #3444\r\n\r\n## Documentation\r\n- [x] Document version of spec and subset\/additions #3117 doc \r\n\r\n<details>\r\n<summary>To be revisited when the remaining tasks are done<\/summary>\r\n\r\n## Code quality (Nice-to-Have)\r\n- [ ] WASM: Follow up items for lazy-containers #3535 \r\n- [ ] Increase the message size limit for faster loading #3361 \r\n- [ ] Use ppx_deriving.show for AST pretty-printer #3456 \r\n- [ ] Lib_webassembly: fix unused variables #3304 \r\n- [ ] Single source of truth for function types #3396 \r\n- [ ] More compact output proofs #3237 \r\n- [ ] WASM Parser: refactoring of duplicated code #3120 \r\n- [ ] Wasm PVM: Remove duplication in input proofs #3091 \r\n- [ ] Binary parsing: Reuse a unique lazy stack #3569 \r\n- [ ] Drop locations from AST #3566 \r\n- [ ] Increase confidence in Interpreter_encodings boilerplate #3565 \r\n- [ ] SCORU WASM: Derive AST generators #3511 \r\n- [ ] Lib_scoru_wasm: Improve wasm encoding schema with named fields #3469 \r\n- [ ] Use library function for Assert.false and replicate #3532\r\n- [ ] Add generators for vector instructions #3455\r\n- [ ] Add tests for corner cases in Chunked_byte_vector #3085\r\n- [ ] Test tree encoding with official Wasm test suite #3570\r\n\r\n<\/details>\r\n","state":"closed","created_at":"2022-08-04T17:13:44.166Z","updated_at":"2022-11-16T08:34:25.529Z","due_date":"2022-09-16","start_date":"2022-08-12","expired":true,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/107"},"assignees":[{"id":3121862,"username":"picdc","name":"Pierrick Couderc","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/50ac1fdb34a902ba5f7f25816487ff84?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/picdc"}],"author":{"id":9031131,"username":"hans.hoglund","name":"Hans Hoglund","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/9031131\/avatar.png","web_url":"https:\/\/gitlab.com\/hans.hoglund"},"type":"ISSUE","assignee":{"id":3121862,"username":"picdc","name":"Pierrick Couderc","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/50ac1fdb34a902ba5f7f25816487ff84?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/picdc"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/3448","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3448","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3448\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3448\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#3448","relative":"#3448","full":"tezos\/tezos#3448"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":111904378,"iid":3434,"project_id":3836952,"title":"[DAL]: Remove the functor for the cryptographic primitive","description":"The functor exposed by the cryptographic primitives add a lot of complexity. Since the parameters have no type and are only constants, the functor can be replaced with an explicit state that encapsulates those constants. \n\nThis is handled in !5907\n\n\\spent 2d","state":"closed","created_at":1658307198967,"updated_at":1662506955709,"closed_at":1658418112116,"closed_by":{"id":5263657,"username":"Saroupille","name":"Fran\u00e7ois Thir\u00e9","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/dcecc9a8d97b503a3d28025c9b78e8ab?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/Saroupille"},"labels":["DAL"],"milestone":{"id":2562622,"iid":78,"project_id":3836952,"title":"(OKR 2022Q3 - 2.1) - Data-Availibility Layer (DAL): Integration with Smart Rollups","description":"Related: [(OKR 2022Q3 - 2.1)](https:\/\/hackmd.io\/HLoGjZyKSeuNXxvbnSEcVQ?view#Key-results-for-DAL)\r\n\r\nThis milestone in the first milestone for the DAL project for which is describe [here](https:\/\/nomadic-labs.gitlab.io\/das-design\/). The objective is to have a minimal integration with Smart Rollups so that when Smart rollups are activated in some protocol, they will be compatible with the DAL. To do so, we have split this milestone in various tasks:\r\n\r\n# Development plan:\r\n\r\n- **Task A L1 integration of slots\/shards**: This task should ensure the slot management provided by the `L1` works as expected.\r\n- **Task B L1 integration with the cryptograhic primtives**: This task should ensure the crypograhic primitives works as expected with the `L1`.\r\n- **Task C SCORU integration of the DAL**: \r\n   - **Task C1**: The rollup node should understand the logic of slots and slots headers\r\n   - **Task C2**: The refutation game should take into accounts the new ticks added by the DAL\r\n- **Task C SCORU integration of the DAL**: We should ensure the SCORU understand the DAL, in particular for the refutatons.\r\n- **Task D The DAL daemon**: This task should ensure the daemon can store shards.\r\n\r\n- Task A\r\n    - [x] handling the slot availability (depending on the endorsers)\r\n    - [x] handling the slot assignment\r\n    - [x] Slots header can be mocked\r\n    - [x] Slots can be mocked\r\n- Task B \r\n    - [x] Task A is merged\r\n    - [x] Vendorise cryptographic primitive\r\n    - [x] Separate the cryptographic primitives for the shell and the protocol\r\n    - [x] Include cryptographic primitives into the environment\r\n    - [x] Compute slot headers (Kate commitments) from blob\r\n    - [x] Ensure slots can be split and reconstructed correctly\r\n    - [x] Provide a safe way to compute the trusted setup\r\n    - [x] Ensure the validity of slot headers\r\n- Task C1\r\n    - [x] Task A is merged \r\n    - [x] Being able for a SCORU to subscribe to one or several slots\r\n    - [x] Provide a first version for the framing protocol\r\n    - [x] Rollup node should be able to apply a slot declared available\r\n    - [x] Rollup node should be able to refute bad commitments related to the importation of the inbox\r\n- Task C2\r\n    - [x] The core of the refutation game logic to refute a page is merged\r\n    - [x] The DAL refutation should be integrated for SCORU\r\n- Task D \r\n    - [x] Task A is merged\r\n    - [x] Split a slot and reconstruct a slot from shards\r\n    - [x] Monitor the head's node\r\n    - [x] Being able to stream slot\/slot headers to enable communications between DAL nodes\r\n\r\n# Design document \r\n\r\n- https:\/\/nomadic-labs.gitlab.io\/das-design\r\n- https:\/\/hackmd.io\/g8l2M47eR1eN2WNB-m_6Rg\r\n\r\n","state":"closed","created_at":"2022-04-12T12:27:12.337Z","updated_at":"2022-11-28T22:03:04.149Z","due_date":"2022-11-30","start_date":"2022-04-11","expired":true,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/78"},"assignees":[{"id":5407179,"username":"remyzorg","name":"R\u00e9my El Siba\u00efe","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/5407179\/avatar.png","web_url":"https:\/\/gitlab.com\/remyzorg"}],"author":{"id":5263657,"username":"Saroupille","name":"Fran\u00e7ois Thir\u00e9","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/dcecc9a8d97b503a3d28025c9b78e8ab?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/Saroupille"},"type":"ISSUE","assignee":{"id":5407179,"username":"remyzorg","name":"R\u00e9my El Siba\u00efe","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/5407179\/avatar.png","web_url":"https:\/\/gitlab.com\/remyzorg"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2022-07-21","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/3434","time_stats":{"time_estimate":57600,"total_time_spent":0,"human_time_estimate":"16h","human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":10,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3434","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3434\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3434\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#3434","relative":"#3434","full":"tezos\/tezos#3434"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":111514659,"iid":3395,"project_id":3836952,"title":"Make 1-module assumption explicit and test that it works with host functions","description":"The following discussion from !5744 should be addressed:\n\n- [ ] @hans.hoglund started a [discussion](https:\/\/gitlab.com\/tezos\/tezos\/-\/merge_requests\/5744#note_1014886493):  (+3 comments)\n\n    > If we ever add support for >1 modules we'll need to be careful to look up the blocks in the correct module instance.\n    > \n    > The current state is OK, but perhaps worth adding a warning somewhere.","state":"closed","created_at":1657633890562,"updated_at":1664869687241,"closed_at":1664869687227,"closed_by":{"id":3121862,"username":"picdc","name":"Pierrick Couderc","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/50ac1fdb34a902ba5f7f25816487ff84?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/picdc"},"labels":[],"milestone":{"id":2725830,"iid":107,"project_id":3836952,"title":"(OKR 2022Q3 - 2.1) SCORU Wasm - Small Ticks","description":"\r\n# Goal\r\n\r\nCompletion of this milestone allows to enable SCORU + Wasm on mainnet.\r\n\r\n### Background\r\n\r\nThe goal of this milestone is to complete the implementation of the Wasm PVM and obtain confidence that:\r\n\r\n1. Layer 1 is safe: The WASM PVM cannot be used to attack the layer-1  by exploiting unbound computation time.\r\n2. Layer 2 is safe: The WASM PVM produces execution step within the SCORU size limit.\r\n3. Correctness: The WASM PVM implements WASM semantics. Limitations and restriction are documented.\r\n\r\n\r\n#### Stuck state\r\n\r\nCritical failure conditions in the PVM (\"assert false\" situations) is responded to by placing the PVM in a stuck state, where it no longer advances meaningfully, similar to a \"bluescreen of death\". \r\n\r\nTogether with #2198 and #3561, we enforce that the worst outcome of  stuck state is an asset-lockup situation, not an arbitrary-withdrawal situation.\r\n\r\n\r\n#### Breaking changes\r\n\r\nWe will need to prioritize carefully the remaining work, such that\r\n\r\n1. We have a WASM PVM working in mid-September.\r\n2. Missing features of the WASM PVM can be implemented without completely breaking originated rollup.\r\n3. Any breaking change needs to be backed-up by a migration plan.\r\n\r\nEstimate: 12pw\r\n\r\n\r\n# Current work\/MRs\r\n- Gas metering for compute-step function #3548 @ole.kruger\r\n- Tickify module initialization #3076 @lthms \r\n- Non-recursive admin instructions #3606 @hans.hoglund \r\n- Nominal gast cost of proof verification #3164 @yrg \r\n\r\n# Breakdown\r\n\r\n<details>\r\n<summary>Work to be reevaluated<\/summary>\r\n\r\n## L1 can control L2 semantics divergence\r\n\r\nThe goal of these tasks was to provide safe guard for ensuring a L2 tick cannot be underevaluated from the perspective of the L1 gas consumption.\r\n\r\nThe methods explored are not satisfactory, and we believe there are other means to achieve this goal, in particular the hardening of the L2 implementation.\r\n\r\n- [ ] Gas metering for compute-step function in WASM PVM #3548\r\n- [ ] Nominal gast cost of proof verification #3164 (handle in %\"Smart Contract Rollup Hardening?)\r\n\r\n## Test-suite conformance\r\n\r\nThis can be re-explore during the stabilization period, but if we have a large number of testing kernels, this is probably not necessary\/of high priority.\r\n\r\n- [ ] Instrument the WASM test-suite to do a decode-eval-encode loop during parsing #3500 \r\n\r\n<\/details>\r\n\r\n## PVM Life cycle and correctness\r\n- [x] Handling all inputs per commitment !6698\r\n\r\n\r\n## Small-step decode and initialization\r\n\r\n- [X] Add merkleized representation of parser state #3150 !5891 \r\n- [X] Add merkleized representation of the parsed AST #3149\r\n- [X] Scoru_wasm: Parser state encodings !5891 \r\n- [x] Merkleization of the parser's input #3224 \r\n- [x] Tickify module initialization #3076\r\n- [x] Tickify linking #3786 \r\n- [x] Non-recursive admin instructions #3606\r\n\r\nOnce this is all done, then we close this:\r\n\r\n- [x] Ensure \"unsafe\" functions are never used inside the PVM #3378\r\n\r\n<details>\r\n<summary>Done<\/summary>\r\n\r\n## Error handling\r\n- [x] lib_lazy_containers + lib_webassembly: make exceptions distinguishable (improves error reporting) !6097\r\n- [X] **lib_scoru_wasm: disallow exceptions in entry-point functions #3448** !6101 !6097\r\n\r\n<\/details>\r\n\r\n## Code quality (Critical)\r\n- [X] Factor out module-registry from AST func nodes #3492 Nice to have \ud83d\udc76\r\n- [X] Lib_webassembly: cleanup deadcode #3334 Code quality \ud83c\udf1f Nice to have \ud83d\udc76\r\n- [x] WASM PVM: Simplify decoding logic for WASM PVM #3444\r\n\r\n## Documentation\r\n- [x] Document version of spec and subset\/additions #3117 doc \r\n\r\n<details>\r\n<summary>To be revisited when the remaining tasks are done<\/summary>\r\n\r\n## Code quality (Nice-to-Have)\r\n- [ ] WASM: Follow up items for lazy-containers #3535 \r\n- [ ] Increase the message size limit for faster loading #3361 \r\n- [ ] Use ppx_deriving.show for AST pretty-printer #3456 \r\n- [ ] Lib_webassembly: fix unused variables #3304 \r\n- [ ] Single source of truth for function types #3396 \r\n- [ ] More compact output proofs #3237 \r\n- [ ] WASM Parser: refactoring of duplicated code #3120 \r\n- [ ] Wasm PVM: Remove duplication in input proofs #3091 \r\n- [ ] Binary parsing: Reuse a unique lazy stack #3569 \r\n- [ ] Drop locations from AST #3566 \r\n- [ ] Increase confidence in Interpreter_encodings boilerplate #3565 \r\n- [ ] SCORU WASM: Derive AST generators #3511 \r\n- [ ] Lib_scoru_wasm: Improve wasm encoding schema with named fields #3469 \r\n- [ ] Use library function for Assert.false and replicate #3532\r\n- [ ] Add generators for vector instructions #3455\r\n- [ ] Add tests for corner cases in Chunked_byte_vector #3085\r\n- [ ] Test tree encoding with official Wasm test suite #3570\r\n\r\n<\/details>\r\n","state":"closed","created_at":"2022-08-04T17:13:44.166Z","updated_at":"2022-11-16T08:34:25.529Z","due_date":"2022-09-16","start_date":"2022-08-12","expired":true,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/107"},"assignees":[],"author":{"id":9031131,"username":"hans.hoglund","name":"Hans Hoglund","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/9031131\/avatar.png","web_url":"https:\/\/gitlab.com\/hans.hoglund"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/3395","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"task_status":null,"_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3395","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3395\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3395\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#3395","relative":"#3395","full":"tezos\/tezos#3395"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":111463618,"iid":3390,"project_id":3836952,"title":"[DAL]: Allow the build of a safe trusted setup into the code base","description":"Currently, an unsafe trusted setup is build using parameter constants. To make it safer, the trusted setup should be computed from a file (whose size is more than `100` MB). This raises several integration questions.","state":"closed","created_at":1657552439178,"updated_at":1662506955825,"closed_at":1658820787560,"closed_by":{"id":5263657,"username":"Saroupille","name":"Fran\u00e7ois Thir\u00e9","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/dcecc9a8d97b503a3d28025c9b78e8ab?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/Saroupille"},"labels":["DAL"],"milestone":{"id":2562622,"iid":78,"project_id":3836952,"title":"(OKR 2022Q3 - 2.1) - Data-Availibility Layer (DAL): Integration with Smart Rollups","description":"Related: [(OKR 2022Q3 - 2.1)](https:\/\/hackmd.io\/HLoGjZyKSeuNXxvbnSEcVQ?view#Key-results-for-DAL)\r\n\r\nThis milestone in the first milestone for the DAL project for which is describe [here](https:\/\/nomadic-labs.gitlab.io\/das-design\/). The objective is to have a minimal integration with Smart Rollups so that when Smart rollups are activated in some protocol, they will be compatible with the DAL. To do so, we have split this milestone in various tasks:\r\n\r\n# Development plan:\r\n\r\n- **Task A L1 integration of slots\/shards**: This task should ensure the slot management provided by the `L1` works as expected.\r\n- **Task B L1 integration with the cryptograhic primtives**: This task should ensure the crypograhic primitives works as expected with the `L1`.\r\n- **Task C SCORU integration of the DAL**: \r\n   - **Task C1**: The rollup node should understand the logic of slots and slots headers\r\n   - **Task C2**: The refutation game should take into accounts the new ticks added by the DAL\r\n- **Task C SCORU integration of the DAL**: We should ensure the SCORU understand the DAL, in particular for the refutatons.\r\n- **Task D The DAL daemon**: This task should ensure the daemon can store shards.\r\n\r\n- Task A\r\n    - [x] handling the slot availability (depending on the endorsers)\r\n    - [x] handling the slot assignment\r\n    - [x] Slots header can be mocked\r\n    - [x] Slots can be mocked\r\n- Task B \r\n    - [x] Task A is merged\r\n    - [x] Vendorise cryptographic primitive\r\n    - [x] Separate the cryptographic primitives for the shell and the protocol\r\n    - [x] Include cryptographic primitives into the environment\r\n    - [x] Compute slot headers (Kate commitments) from blob\r\n    - [x] Ensure slots can be split and reconstructed correctly\r\n    - [x] Provide a safe way to compute the trusted setup\r\n    - [x] Ensure the validity of slot headers\r\n- Task C1\r\n    - [x] Task A is merged \r\n    - [x] Being able for a SCORU to subscribe to one or several slots\r\n    - [x] Provide a first version for the framing protocol\r\n    - [x] Rollup node should be able to apply a slot declared available\r\n    - [x] Rollup node should be able to refute bad commitments related to the importation of the inbox\r\n- Task C2\r\n    - [x] The core of the refutation game logic to refute a page is merged\r\n    - [x] The DAL refutation should be integrated for SCORU\r\n- Task D \r\n    - [x] Task A is merged\r\n    - [x] Split a slot and reconstruct a slot from shards\r\n    - [x] Monitor the head's node\r\n    - [x] Being able to stream slot\/slot headers to enable communications between DAL nodes\r\n\r\n# Design document \r\n\r\n- https:\/\/nomadic-labs.gitlab.io\/das-design\r\n- https:\/\/hackmd.io\/g8l2M47eR1eN2WNB-m_6Rg\r\n\r\n","state":"closed","created_at":"2022-04-12T12:27:12.337Z","updated_at":"2022-11-28T22:03:04.149Z","due_date":"2022-11-30","start_date":"2022-04-11","expired":true,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/78"},"assignees":[{"id":5263657,"username":"Saroupille","name":"Fran\u00e7ois Thir\u00e9","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/dcecc9a8d97b503a3d28025c9b78e8ab?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/Saroupille"}],"author":{"id":5263657,"username":"Saroupille","name":"Fran\u00e7ois Thir\u00e9","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/dcecc9a8d97b503a3d28025c9b78e8ab?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/Saroupille"},"type":"ISSUE","assignee":{"id":5263657,"username":"Saroupille","name":"Fran\u00e7ois Thir\u00e9","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/dcecc9a8d97b503a3d28025c9b78e8ab?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/Saroupille"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/3390","time_stats":{"time_estimate":0,"total_time_spent":57600,"human_time_estimate":null,"human_total_time_spent":"16h"},"task_completion_status":{"count":0,"completed_count":0},"weight":10,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3390","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3390\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3390\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#3390","relative":"#3390","full":"tezos\/tezos#3390"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":111452870,"iid":3387,"project_id":3836952,"title":"WASM: intricated typechecking during parsing and evaluation","description":"During parsing and evaluation, some form of validation \/ typechecking is done which makes the parser \/ evaluator convoluted and non tickifiable without tricks. The testsuite rely on these tests at this specific stage of the parsing \/ evaluation routine, therefore it cannot happen later. Especially, some modules in the testsuite are syntactically invalid since the test is supposed to fail during the parsing.\n\n- Decode: local variables https:\/\/gitlab.com\/tezos\/tezos\/-\/merge_requests\/5610#note_1008186757\n\n- Decode: no free variables in functions\n\n- Eval: checking type equality at call site when importing module","state":"closed","created_at":1657541359799,"updated_at":1663070247122,"closed_at":1663070247101,"closed_by":{"id":7921723,"username":"lthms","name":"Thomas Letan","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/7921723\/avatar.png","web_url":"https:\/\/gitlab.com\/lthms"},"labels":[],"milestone":{"id":2725830,"iid":107,"project_id":3836952,"title":"(OKR 2022Q3 - 2.1) SCORU Wasm - Small Ticks","description":"\r\n# Goal\r\n\r\nCompletion of this milestone allows to enable SCORU + Wasm on mainnet.\r\n\r\n### Background\r\n\r\nThe goal of this milestone is to complete the implementation of the Wasm PVM and obtain confidence that:\r\n\r\n1. Layer 1 is safe: The WASM PVM cannot be used to attack the layer-1  by exploiting unbound computation time.\r\n2. Layer 2 is safe: The WASM PVM produces execution step within the SCORU size limit.\r\n3. Correctness: The WASM PVM implements WASM semantics. Limitations and restriction are documented.\r\n\r\n\r\n#### Stuck state\r\n\r\nCritical failure conditions in the PVM (\"assert false\" situations) is responded to by placing the PVM in a stuck state, where it no longer advances meaningfully, similar to a \"bluescreen of death\". \r\n\r\nTogether with #2198 and #3561, we enforce that the worst outcome of  stuck state is an asset-lockup situation, not an arbitrary-withdrawal situation.\r\n\r\n\r\n#### Breaking changes\r\n\r\nWe will need to prioritize carefully the remaining work, such that\r\n\r\n1. We have a WASM PVM working in mid-September.\r\n2. Missing features of the WASM PVM can be implemented without completely breaking originated rollup.\r\n3. Any breaking change needs to be backed-up by a migration plan.\r\n\r\nEstimate: 12pw\r\n\r\n\r\n# Current work\/MRs\r\n- Gas metering for compute-step function #3548 @ole.kruger\r\n- Tickify module initialization #3076 @lthms \r\n- Non-recursive admin instructions #3606 @hans.hoglund \r\n- Nominal gast cost of proof verification #3164 @yrg \r\n\r\n# Breakdown\r\n\r\n<details>\r\n<summary>Work to be reevaluated<\/summary>\r\n\r\n## L1 can control L2 semantics divergence\r\n\r\nThe goal of these tasks was to provide safe guard for ensuring a L2 tick cannot be underevaluated from the perspective of the L1 gas consumption.\r\n\r\nThe methods explored are not satisfactory, and we believe there are other means to achieve this goal, in particular the hardening of the L2 implementation.\r\n\r\n- [ ] Gas metering for compute-step function in WASM PVM #3548\r\n- [ ] Nominal gast cost of proof verification #3164 (handle in %\"Smart Contract Rollup Hardening?)\r\n\r\n## Test-suite conformance\r\n\r\nThis can be re-explore during the stabilization period, but if we have a large number of testing kernels, this is probably not necessary\/of high priority.\r\n\r\n- [ ] Instrument the WASM test-suite to do a decode-eval-encode loop during parsing #3500 \r\n\r\n<\/details>\r\n\r\n## PVM Life cycle and correctness\r\n- [x] Handling all inputs per commitment !6698\r\n\r\n\r\n## Small-step decode and initialization\r\n\r\n- [X] Add merkleized representation of parser state #3150 !5891 \r\n- [X] Add merkleized representation of the parsed AST #3149\r\n- [X] Scoru_wasm: Parser state encodings !5891 \r\n- [x] Merkleization of the parser's input #3224 \r\n- [x] Tickify module initialization #3076\r\n- [x] Tickify linking #3786 \r\n- [x] Non-recursive admin instructions #3606\r\n\r\nOnce this is all done, then we close this:\r\n\r\n- [x] Ensure \"unsafe\" functions are never used inside the PVM #3378\r\n\r\n<details>\r\n<summary>Done<\/summary>\r\n\r\n## Error handling\r\n- [x] lib_lazy_containers + lib_webassembly: make exceptions distinguishable (improves error reporting) !6097\r\n- [X] **lib_scoru_wasm: disallow exceptions in entry-point functions #3448** !6101 !6097\r\n\r\n<\/details>\r\n\r\n## Code quality (Critical)\r\n- [X] Factor out module-registry from AST func nodes #3492 Nice to have \ud83d\udc76\r\n- [X] Lib_webassembly: cleanup deadcode #3334 Code quality \ud83c\udf1f Nice to have \ud83d\udc76\r\n- [x] WASM PVM: Simplify decoding logic for WASM PVM #3444\r\n\r\n## Documentation\r\n- [x] Document version of spec and subset\/additions #3117 doc \r\n\r\n<details>\r\n<summary>To be revisited when the remaining tasks are done<\/summary>\r\n\r\n## Code quality (Nice-to-Have)\r\n- [ ] WASM: Follow up items for lazy-containers #3535 \r\n- [ ] Increase the message size limit for faster loading #3361 \r\n- [ ] Use ppx_deriving.show for AST pretty-printer #3456 \r\n- [ ] Lib_webassembly: fix unused variables #3304 \r\n- [ ] Single source of truth for function types #3396 \r\n- [ ] More compact output proofs #3237 \r\n- [ ] WASM Parser: refactoring of duplicated code #3120 \r\n- [ ] Wasm PVM: Remove duplication in input proofs #3091 \r\n- [ ] Binary parsing: Reuse a unique lazy stack #3569 \r\n- [ ] Drop locations from AST #3566 \r\n- [ ] Increase confidence in Interpreter_encodings boilerplate #3565 \r\n- [ ] SCORU WASM: Derive AST generators #3511 \r\n- [ ] Lib_scoru_wasm: Improve wasm encoding schema with named fields #3469 \r\n- [ ] Use library function for Assert.false and replicate #3532\r\n- [ ] Add generators for vector instructions #3455\r\n- [ ] Add tests for corner cases in Chunked_byte_vector #3085\r\n- [ ] Test tree encoding with official Wasm test suite #3570\r\n\r\n<\/details>\r\n","state":"closed","created_at":"2022-08-04T17:13:44.166Z","updated_at":"2022-11-16T08:34:25.529Z","due_date":"2022-09-16","start_date":"2022-08-12","expired":true,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/107"},"assignees":[],"author":{"id":3121862,"username":"picdc","name":"Pierrick Couderc","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/50ac1fdb34a902ba5f7f25816487ff84?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/picdc"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/3387","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3387","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3387\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3387\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#3387","relative":"#3387","full":"tezos\/tezos#3387"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":111354919,"iid":3378,"project_id":3836952,"title":"SCORU\/WASM: Ensure \"unsafe\" functions are never used inside the PVM","description":"The interpreter can rely on unsafe or unstable functions that are only used in the executable part, for the testsuite or debugging.\n\n- `Lazy_map.loaded_bindings` and `Lazy_vector.loaded_bindings` can be one of these functions (see discussion https:\/\/gitlab.com\/tezos\/tezos\/-\/merge_requests\/5552#note_1017555842).\n\n- Other functions like this include `Lazy_vector.{to_string,pp}` and `Lazy_map.{to_string,pp}` and any function whose docstring says \"witness to internal mutation\"\n\n- `Valid` assumes the AST is always fully loaded.\n\n- `Encode` assumes the AST is always fully loaded.\n\n- `Free` loads vectors entirely, hence would produce huge proofs if used in the PVM. It should only be part of `Valid` and never used in the PVM, except for one specific part that is used in the parser (#3387)\n\n- Various AST printing functions relies on `loaded_bindings`, and are only used by the final binary to produce debug traces.\n\n- Pretty printing of lazy containers exposes internals and should bnot be used by the PVM\n\nWe need a way to ensure these functions are never called in the PVM, either by linting, tests and\/or packagin. One possible suggestion can be found in https:\/\/gitlab.com\/tezos\/tezos\/-\/merge_requests\/5552#note_1017690451","state":"closed","created_at":1657270824441,"updated_at":1662731729594,"closed_at":1662731729577,"closed_by":{"id":7921723,"username":"lthms","name":"Thomas Letan","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/7921723\/avatar.png","web_url":"https:\/\/gitlab.com\/lthms"},"labels":[],"milestone":{"id":2725830,"iid":107,"project_id":3836952,"title":"(OKR 2022Q3 - 2.1) SCORU Wasm - Small Ticks","description":"\r\n# Goal\r\n\r\nCompletion of this milestone allows to enable SCORU + Wasm on mainnet.\r\n\r\n### Background\r\n\r\nThe goal of this milestone is to complete the implementation of the Wasm PVM and obtain confidence that:\r\n\r\n1. Layer 1 is safe: The WASM PVM cannot be used to attack the layer-1  by exploiting unbound computation time.\r\n2. Layer 2 is safe: The WASM PVM produces execution step within the SCORU size limit.\r\n3. Correctness: The WASM PVM implements WASM semantics. Limitations and restriction are documented.\r\n\r\n\r\n#### Stuck state\r\n\r\nCritical failure conditions in the PVM (\"assert false\" situations) is responded to by placing the PVM in a stuck state, where it no longer advances meaningfully, similar to a \"bluescreen of death\". \r\n\r\nTogether with #2198 and #3561, we enforce that the worst outcome of  stuck state is an asset-lockup situation, not an arbitrary-withdrawal situation.\r\n\r\n\r\n#### Breaking changes\r\n\r\nWe will need to prioritize carefully the remaining work, such that\r\n\r\n1. We have a WASM PVM working in mid-September.\r\n2. Missing features of the WASM PVM can be implemented without completely breaking originated rollup.\r\n3. Any breaking change needs to be backed-up by a migration plan.\r\n\r\nEstimate: 12pw\r\n\r\n\r\n# Current work\/MRs\r\n- Gas metering for compute-step function #3548 @ole.kruger\r\n- Tickify module initialization #3076 @lthms \r\n- Non-recursive admin instructions #3606 @hans.hoglund \r\n- Nominal gast cost of proof verification #3164 @yrg \r\n\r\n# Breakdown\r\n\r\n<details>\r\n<summary>Work to be reevaluated<\/summary>\r\n\r\n## L1 can control L2 semantics divergence\r\n\r\nThe goal of these tasks was to provide safe guard for ensuring a L2 tick cannot be underevaluated from the perspective of the L1 gas consumption.\r\n\r\nThe methods explored are not satisfactory, and we believe there are other means to achieve this goal, in particular the hardening of the L2 implementation.\r\n\r\n- [ ] Gas metering for compute-step function in WASM PVM #3548\r\n- [ ] Nominal gast cost of proof verification #3164 (handle in %\"Smart Contract Rollup Hardening?)\r\n\r\n## Test-suite conformance\r\n\r\nThis can be re-explore during the stabilization period, but if we have a large number of testing kernels, this is probably not necessary\/of high priority.\r\n\r\n- [ ] Instrument the WASM test-suite to do a decode-eval-encode loop during parsing #3500 \r\n\r\n<\/details>\r\n\r\n## PVM Life cycle and correctness\r\n- [x] Handling all inputs per commitment !6698\r\n\r\n\r\n## Small-step decode and initialization\r\n\r\n- [X] Add merkleized representation of parser state #3150 !5891 \r\n- [X] Add merkleized representation of the parsed AST #3149\r\n- [X] Scoru_wasm: Parser state encodings !5891 \r\n- [x] Merkleization of the parser's input #3224 \r\n- [x] Tickify module initialization #3076\r\n- [x] Tickify linking #3786 \r\n- [x] Non-recursive admin instructions #3606\r\n\r\nOnce this is all done, then we close this:\r\n\r\n- [x] Ensure \"unsafe\" functions are never used inside the PVM #3378\r\n\r\n<details>\r\n<summary>Done<\/summary>\r\n\r\n## Error handling\r\n- [x] lib_lazy_containers + lib_webassembly: make exceptions distinguishable (improves error reporting) !6097\r\n- [X] **lib_scoru_wasm: disallow exceptions in entry-point functions #3448** !6101 !6097\r\n\r\n<\/details>\r\n\r\n## Code quality (Critical)\r\n- [X] Factor out module-registry from AST func nodes #3492 Nice to have \ud83d\udc76\r\n- [X] Lib_webassembly: cleanup deadcode #3334 Code quality \ud83c\udf1f Nice to have \ud83d\udc76\r\n- [x] WASM PVM: Simplify decoding logic for WASM PVM #3444\r\n\r\n## Documentation\r\n- [x] Document version of spec and subset\/additions #3117 doc \r\n\r\n<details>\r\n<summary>To be revisited when the remaining tasks are done<\/summary>\r\n\r\n## Code quality (Nice-to-Have)\r\n- [ ] WASM: Follow up items for lazy-containers #3535 \r\n- [ ] Increase the message size limit for faster loading #3361 \r\n- [ ] Use ppx_deriving.show for AST pretty-printer #3456 \r\n- [ ] Lib_webassembly: fix unused variables #3304 \r\n- [ ] Single source of truth for function types #3396 \r\n- [ ] More compact output proofs #3237 \r\n- [ ] WASM Parser: refactoring of duplicated code #3120 \r\n- [ ] Wasm PVM: Remove duplication in input proofs #3091 \r\n- [ ] Binary parsing: Reuse a unique lazy stack #3569 \r\n- [ ] Drop locations from AST #3566 \r\n- [ ] Increase confidence in Interpreter_encodings boilerplate #3565 \r\n- [ ] SCORU WASM: Derive AST generators #3511 \r\n- [ ] Lib_scoru_wasm: Improve wasm encoding schema with named fields #3469 \r\n- [ ] Use library function for Assert.false and replicate #3532\r\n- [ ] Add generators for vector instructions #3455\r\n- [ ] Add tests for corner cases in Chunked_byte_vector #3085\r\n- [ ] Test tree encoding with official Wasm test suite #3570\r\n\r\n<\/details>\r\n","state":"closed","created_at":"2022-08-04T17:13:44.166Z","updated_at":"2022-11-16T08:34:25.529Z","due_date":"2022-09-16","start_date":"2022-08-12","expired":true,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/107"},"assignees":[],"author":{"id":3121862,"username":"picdc","name":"Pierrick Couderc","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/50ac1fdb34a902ba5f7f25816487ff84?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/picdc"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/3378","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3378","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3378\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3378\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#3378","relative":"#3378","full":"tezos\/tezos#3378"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":111253699,"iid":3366,"project_id":3836952,"title":"SCORU: Wasm: Show that proof size is bounded","description":"Goal: We have enough confidence that tick size bounds are not exceeded by Wasm PVM to enable the feature in mainnet.\n\nNeeds to be supported by \"pen-and-paper\" reasoning or better (fuzz-testing alone is not enouggh).\n\n- [ ] `Decode.find_vec'` and `Decode.find_single'`, see discussion https:\/\/gitlab.com\/tezos\/tezos\/-\/merge_requests\/5552#note_1013344663","state":"closed","created_at":1657110716226,"updated_at":1673876528607,"closed_at":1673876528586,"closed_by":{"id":7921723,"username":"lthms","name":"Thomas Letan","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/7921723\/avatar.png","web_url":"https:\/\/gitlab.com\/lthms"},"labels":["Nice to have \ud83d\udc76"],"milestone":{"id":2777728,"iid":133,"project_id":3836952,"title":"SCORU WASM: Protocol M","description":"Following the beginning of the stabilization period, we will focus our effort on asserting the correctness of the WASM PVM wrt. tick size. This means writing tests, finding adversarial inputs, etc.\r\n\r\nBugs will be found, but no feature shall be added.","state":"active","created_at":"2022-09-13T11:26:08.477Z","updated_at":"2023-01-16T14:44:15.542Z","due_date":"2023-01-16","start_date":"2022-09-16","expired":true,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/133"},"assignees":[],"author":{"id":9031131,"username":"hans.hoglund","name":"Hans Hoglund","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/9031131\/avatar.png","web_url":"https:\/\/gitlab.com\/hans.hoglund"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/3366","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"task_status":null,"_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3366","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3366\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3366\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#3366","relative":"#3366","full":"tezos\/tezos#3366"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":111183937,"iid":3361,"project_id":3836952,"title":"SCORU: Increase the message size limit","description":"This is a change that is necessary for the WASM PVM to be supplied with so-called string chunks, targeted to be of 4,096 bytes. The size limit is itself set to 4,096 bytes, which prevents a user to supply additional information with these chunks (e.g., a signature).","state":"closed","created_at":1657021362880,"updated_at":1668095153256,"closed_at":1668095153239,"closed_by":{"id":7921723,"username":"lthms","name":"Thomas Letan","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/7921723\/avatar.png","web_url":"https:\/\/gitlab.com\/lthms"},"labels":["scoru"],"milestone":{"id":2725830,"iid":107,"project_id":3836952,"title":"(OKR 2022Q3 - 2.1) SCORU Wasm - Small Ticks","description":"\r\n# Goal\r\n\r\nCompletion of this milestone allows to enable SCORU + Wasm on mainnet.\r\n\r\n### Background\r\n\r\nThe goal of this milestone is to complete the implementation of the Wasm PVM and obtain confidence that:\r\n\r\n1. Layer 1 is safe: The WASM PVM cannot be used to attack the layer-1  by exploiting unbound computation time.\r\n2. Layer 2 is safe: The WASM PVM produces execution step within the SCORU size limit.\r\n3. Correctness: The WASM PVM implements WASM semantics. Limitations and restriction are documented.\r\n\r\n\r\n#### Stuck state\r\n\r\nCritical failure conditions in the PVM (\"assert false\" situations) is responded to by placing the PVM in a stuck state, where it no longer advances meaningfully, similar to a \"bluescreen of death\". \r\n\r\nTogether with #2198 and #3561, we enforce that the worst outcome of  stuck state is an asset-lockup situation, not an arbitrary-withdrawal situation.\r\n\r\n\r\n#### Breaking changes\r\n\r\nWe will need to prioritize carefully the remaining work, such that\r\n\r\n1. We have a WASM PVM working in mid-September.\r\n2. Missing features of the WASM PVM can be implemented without completely breaking originated rollup.\r\n3. Any breaking change needs to be backed-up by a migration plan.\r\n\r\nEstimate: 12pw\r\n\r\n\r\n# Current work\/MRs\r\n- Gas metering for compute-step function #3548 @ole.kruger\r\n- Tickify module initialization #3076 @lthms \r\n- Non-recursive admin instructions #3606 @hans.hoglund \r\n- Nominal gast cost of proof verification #3164 @yrg \r\n\r\n# Breakdown\r\n\r\n<details>\r\n<summary>Work to be reevaluated<\/summary>\r\n\r\n## L1 can control L2 semantics divergence\r\n\r\nThe goal of these tasks was to provide safe guard for ensuring a L2 tick cannot be underevaluated from the perspective of the L1 gas consumption.\r\n\r\nThe methods explored are not satisfactory, and we believe there are other means to achieve this goal, in particular the hardening of the L2 implementation.\r\n\r\n- [ ] Gas metering for compute-step function in WASM PVM #3548\r\n- [ ] Nominal gast cost of proof verification #3164 (handle in %\"Smart Contract Rollup Hardening?)\r\n\r\n## Test-suite conformance\r\n\r\nThis can be re-explore during the stabilization period, but if we have a large number of testing kernels, this is probably not necessary\/of high priority.\r\n\r\n- [ ] Instrument the WASM test-suite to do a decode-eval-encode loop during parsing #3500 \r\n\r\n<\/details>\r\n\r\n## PVM Life cycle and correctness\r\n- [x] Handling all inputs per commitment !6698\r\n\r\n\r\n## Small-step decode and initialization\r\n\r\n- [X] Add merkleized representation of parser state #3150 !5891 \r\n- [X] Add merkleized representation of the parsed AST #3149\r\n- [X] Scoru_wasm: Parser state encodings !5891 \r\n- [x] Merkleization of the parser's input #3224 \r\n- [x] Tickify module initialization #3076\r\n- [x] Tickify linking #3786 \r\n- [x] Non-recursive admin instructions #3606\r\n\r\nOnce this is all done, then we close this:\r\n\r\n- [x] Ensure \"unsafe\" functions are never used inside the PVM #3378\r\n\r\n<details>\r\n<summary>Done<\/summary>\r\n\r\n## Error handling\r\n- [x] lib_lazy_containers + lib_webassembly: make exceptions distinguishable (improves error reporting) !6097\r\n- [X] **lib_scoru_wasm: disallow exceptions in entry-point functions #3448** !6101 !6097\r\n\r\n<\/details>\r\n\r\n## Code quality (Critical)\r\n- [X] Factor out module-registry from AST func nodes #3492 Nice to have \ud83d\udc76\r\n- [X] Lib_webassembly: cleanup deadcode #3334 Code quality \ud83c\udf1f Nice to have \ud83d\udc76\r\n- [x] WASM PVM: Simplify decoding logic for WASM PVM #3444\r\n\r\n## Documentation\r\n- [x] Document version of spec and subset\/additions #3117 doc \r\n\r\n<details>\r\n<summary>To be revisited when the remaining tasks are done<\/summary>\r\n\r\n## Code quality (Nice-to-Have)\r\n- [ ] WASM: Follow up items for lazy-containers #3535 \r\n- [ ] Increase the message size limit for faster loading #3361 \r\n- [ ] Use ppx_deriving.show for AST pretty-printer #3456 \r\n- [ ] Lib_webassembly: fix unused variables #3304 \r\n- [ ] Single source of truth for function types #3396 \r\n- [ ] More compact output proofs #3237 \r\n- [ ] WASM Parser: refactoring of duplicated code #3120 \r\n- [ ] Wasm PVM: Remove duplication in input proofs #3091 \r\n- [ ] Binary parsing: Reuse a unique lazy stack #3569 \r\n- [ ] Drop locations from AST #3566 \r\n- [ ] Increase confidence in Interpreter_encodings boilerplate #3565 \r\n- [ ] SCORU WASM: Derive AST generators #3511 \r\n- [ ] Lib_scoru_wasm: Improve wasm encoding schema with named fields #3469 \r\n- [ ] Use library function for Assert.false and replicate #3532\r\n- [ ] Add generators for vector instructions #3455\r\n- [ ] Add tests for corner cases in Chunked_byte_vector #3085\r\n- [ ] Test tree encoding with official Wasm test suite #3570\r\n\r\n<\/details>\r\n","state":"closed","created_at":"2022-08-04T17:13:44.166Z","updated_at":"2022-11-16T08:34:25.529Z","due_date":"2022-09-16","start_date":"2022-08-12","expired":true,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/107"},"assignees":[],"author":{"id":7921723,"username":"lthms","name":"Thomas Letan","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/7921723\/avatar.png","web_url":"https:\/\/gitlab.com\/lthms"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/3361","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3361","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3361\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3361\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#3361","relative":"#3361","full":"tezos\/tezos#3361"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":109663096,"iid":3159,"project_id":3836952,"title":"SCORU: Wasm: Add kernel loading logic to PVM","description":" \n## Goal\n\nExtend the Wasm rollup state with `\/parse_state\/input`, which stores a Merkelized list, or `Chunked_byte_vector` and a field `booter`, storing a `Public_key_hash.t`.\n\nDuring origination, the originator sends the `booter` and an optional initial boot sector chunk.\n\nWhen the machine is in preboot, incoming inbox messages are parsed as `{ next_boot_sector_chunk : string, signature : Signature.t }`. The signature is checked and the chunk is appended to the boot sector.\n\nWhenever `next_boot_sector_chunk` is empty, the boot state is moved from `Loading` to `Parsing`, then proceeds with the normal boot process.\n\n\n## Alternative\n\nPut this logic in the SCORU protocol https:\/\/hackmd.io\/ugX9U_CPTXOeB3Tk7ZPgFA?view. \n\nBelieved to be more involved due to storage.\n\n\n## Context\nDuring work on https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/86#tab-issues it has become clear that realistic kernels are not going to be smaller than ~2MB, which is in conflict with the (block-driven) size limits imposed in https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/3054.\n\nThis could be worked around with self-upgradable kernels, but this is out of scope for https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/83#tab-issues, hence we lack the capability to test realistically sized kernels. We here work around this by adding \"append boot sector\" logic in the Wasm rollup itself.\n\nOn finishing https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/83#tab-issues this logic can be moved from L1 to Kernel code if desired.\n\n### Data structure\nWe need lazy append. That is (append M N) where proof size is O(log M*N), and better than O(N).\n\nMerkle list might be tricky, because consuming from the front means rewriting the entire KV structure for that list within the tree. Morally you need a reverse-linked merkle list.\n\nYou can't use Irmin move opeerations, as with the set\/get pattern, indeed you risk not recognizing the shallow move in set and rewriting the entire structure. The easiest solution is probably an indexed map of pages, boxed with an offset for the parser state.","state":"closed","created_at":1654536091968,"updated_at":1657640041049,"closed_at":1657640040968,"closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/8770486\/avatar.png","web_url":"https:\/\/gitlab.com\/nomadic-margebot"},"labels":[],"milestone":{"id":2583096,"iid":83,"project_id":3836952,"title":"(OKR 2022Q3 - 2.1) SCORU WebAssembly PVM I","description":"[Design doc](https:\/\/www.notion.so\/trilitech\/WASM-Rollup-0d2a996db2d8484fb87615bf5a96914d) | [Meeting notes](https:\/\/www.notion.so\/trilitech\/Meeting-Notes-a744673f343b4e328bf5bf14536c614d) | Slack: `tezos-dev#scoru-wasm-pvm`\r\n\r\n\r\n### Goal\r\n\r\nA SCORU Wasm rollup running the TX kernel deployed on Mondaynet. An L2 node processes inputs and creates commitments.\r\n\r\n### Related milestones\r\n\r\n- https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/107\r\n- https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/105\r\n- https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/88#tab-issues\r\n- https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/86\r\n- https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/84\r\n\r\n## Current Work\/MRs\r\n(none)\r\n\r\n## Overview\r\n\r\n### Reference interpreter integration\r\n- [X] Integrate into Tezos repository #2917 !5178\r\n- [X] Build in CI !5256\r\n- [X] Expose step function !5529 \r\n- [X] Expose step function in Protocol Env  #3090 #3095  !5482 !5563\r\n- [X] Implement PVM signature in Protocol #2963 !5416\r\n- [X] Port to `Lwt` !5511 !5613 !5658 !5684 \r\n\r\n### Shallow representation\r\n- [X] Shallow map\/vector utility type !5558 !5481\r\n- [X] Shallow memory\r\n- [X] Shallow tables\r\n- [X] Shallow element segments  #2961 !5408\r\n- [X] Shallow Data segments #2961 !5408 #3165 !5495\r\n- [X] **Shallow AST** #3149 !5552 !5610 !5574 !5744 !5890\r\n- [X] **Tree encode\/Decode**\r\n  - [x] Encode\/decode framework with roundtips !5892\r\n  - [X] Decoder utils !5550 !5755\r\n  - [X] Decode `module_inst` #3080 !5484 \r\n  - [X] **Encode `module_inst`** #3081 !5874\r\n  - [X] **Decode `Eval.config`** #3082 !5978 \r\n    - [x] Explicit indirect module references #3458 !5991\r\n  - [X] **Encode `Eval.config`** #3083 !5978\r\n    - [x] Explicit indirect module references #3458 !5991\r\n  - [X] **Encode\/decode parser state** #3150 !5891\r\n- [X] Support moving subtrees #3508 !6050 \r\n- [X] Provide a top-level implementation of the WASM PVM !6037 \r\n\r\n\r\n### Loading\r\n- [X] Small-step kernel loading #3159 !5654 **!5887**\r\n\r\n### Parsing\/Binary decode #3096\r\n- [X] Rewrite in continuation-passing style #3122 !5418\r\n- [X] Small-step UTF-8 parsing #3174 !5502\r\n\r\n### Initialization\r\n- ~Small-step initialization~ #3076 !5712 \r\n- [X] **Initialization** !6037\r\n\r\n### Evaluation\r\n- ~Small-step evaluation~ (wrap `Eval.step`) #3326\r\n- [X] **Evaluation** !6037\r\n\r\n### Host functions\r\n- [X] Input: PVM should use `lib_scoru_wasm` !5563\r\n- [X] Input - Host Function to consume from buffer #3092 !5517 \r\n- [x] Input write to add to buffer #3226 **5895**\r\n- [X] Output: PVM should use `lib_scoru_wasm` !5563 \r\n- ~Non-reboot yield~ Yield tree rewriting #3157 !5712 \r\n- [X] **Implement top-level interface in `lib_scoru_wasm`** !5654 !5992 !6037\r\n\r\n### E2E Demo\r\n- [X] End to end demo #3505 \r\n\r\n### Confidence\r\n- [X] Standard Wasm test suite passing #3012 !5319\r\n","state":"closed","created_at":"2022-04-27T09:02:58.454Z","updated_at":"2022-09-09T14:37:13.253Z","due_date":"2022-07-31","start_date":"2022-05-01","expired":true,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/83"},"assignees":[{"id":11403341,"username":"thomas.pecseli","name":"Thomas Pecseli","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/3775b505539832eeb48b4a781ed3dcd7?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/thomas.pecseli"}],"author":{"id":9031131,"username":"hans.hoglund","name":"Hans Hoglund","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/9031131\/avatar.png","web_url":"https:\/\/gitlab.com\/hans.hoglund"},"type":"ISSUE","assignee":{"id":11403341,"username":"thomas.pecseli","name":"Thomas Pecseli","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/3775b505539832eeb48b4a781ed3dcd7?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/thomas.pecseli"},"user_notes_count":3,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/3159","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":0,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3159","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3159\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3159\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#3159","relative":"#3159","full":"tezos\/tezos#3159"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":109644533,"iid":3157,"project_id":3836952,"title":"SCORU: Wasm PVM: Handle the right number of inputs per commitment","description":"Goal: The Wasm PVM handles the right number of inputs per commitment.\n\nA commitment period is split into L parts, each corresponding to an inbox level with a non-zero amount of messages.\n\nFor each part of the commitment period, `kernel_next` may be called up to N (tbd) times.\nAfter which, the PVM defaults to consecutively reading inputs from L1 until reading an input from a subsequent inbox level. The loop continues after that. \n\nThis means each section of the commitment period, has a phase to process the previously accumulated and a phase to gather inputs for the next loop.","state":"closed","created_at":1654516549434,"updated_at":1668524913208,"closed_at":1668524912959,"closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/8770486\/avatar.png","web_url":"https:\/\/gitlab.com\/nomadic-margebot"},"labels":["priority::high","scoru"],"milestone":{"id":2725830,"iid":107,"project_id":3836952,"title":"(OKR 2022Q3 - 2.1) SCORU Wasm - Small Ticks","description":"\r\n# Goal\r\n\r\nCompletion of this milestone allows to enable SCORU + Wasm on mainnet.\r\n\r\n### Background\r\n\r\nThe goal of this milestone is to complete the implementation of the Wasm PVM and obtain confidence that:\r\n\r\n1. Layer 1 is safe: The WASM PVM cannot be used to attack the layer-1  by exploiting unbound computation time.\r\n2. Layer 2 is safe: The WASM PVM produces execution step within the SCORU size limit.\r\n3. Correctness: The WASM PVM implements WASM semantics. Limitations and restriction are documented.\r\n\r\n\r\n#### Stuck state\r\n\r\nCritical failure conditions in the PVM (\"assert false\" situations) is responded to by placing the PVM in a stuck state, where it no longer advances meaningfully, similar to a \"bluescreen of death\". \r\n\r\nTogether with #2198 and #3561, we enforce that the worst outcome of  stuck state is an asset-lockup situation, not an arbitrary-withdrawal situation.\r\n\r\n\r\n#### Breaking changes\r\n\r\nWe will need to prioritize carefully the remaining work, such that\r\n\r\n1. We have a WASM PVM working in mid-September.\r\n2. Missing features of the WASM PVM can be implemented without completely breaking originated rollup.\r\n3. Any breaking change needs to be backed-up by a migration plan.\r\n\r\nEstimate: 12pw\r\n\r\n\r\n# Current work\/MRs\r\n- Gas metering for compute-step function #3548 @ole.kruger\r\n- Tickify module initialization #3076 @lthms \r\n- Non-recursive admin instructions #3606 @hans.hoglund \r\n- Nominal gast cost of proof verification #3164 @yrg \r\n\r\n# Breakdown\r\n\r\n<details>\r\n<summary>Work to be reevaluated<\/summary>\r\n\r\n## L1 can control L2 semantics divergence\r\n\r\nThe goal of these tasks was to provide safe guard for ensuring a L2 tick cannot be underevaluated from the perspective of the L1 gas consumption.\r\n\r\nThe methods explored are not satisfactory, and we believe there are other means to achieve this goal, in particular the hardening of the L2 implementation.\r\n\r\n- [ ] Gas metering for compute-step function in WASM PVM #3548\r\n- [ ] Nominal gast cost of proof verification #3164 (handle in %\"Smart Contract Rollup Hardening?)\r\n\r\n## Test-suite conformance\r\n\r\nThis can be re-explore during the stabilization period, but if we have a large number of testing kernels, this is probably not necessary\/of high priority.\r\n\r\n- [ ] Instrument the WASM test-suite to do a decode-eval-encode loop during parsing #3500 \r\n\r\n<\/details>\r\n\r\n## PVM Life cycle and correctness\r\n- [x] Handling all inputs per commitment !6698\r\n\r\n\r\n## Small-step decode and initialization\r\n\r\n- [X] Add merkleized representation of parser state #3150 !5891 \r\n- [X] Add merkleized representation of the parsed AST #3149\r\n- [X] Scoru_wasm: Parser state encodings !5891 \r\n- [x] Merkleization of the parser's input #3224 \r\n- [x] Tickify module initialization #3076\r\n- [x] Tickify linking #3786 \r\n- [x] Non-recursive admin instructions #3606\r\n\r\nOnce this is all done, then we close this:\r\n\r\n- [x] Ensure \"unsafe\" functions are never used inside the PVM #3378\r\n\r\n<details>\r\n<summary>Done<\/summary>\r\n\r\n## Error handling\r\n- [x] lib_lazy_containers + lib_webassembly: make exceptions distinguishable (improves error reporting) !6097\r\n- [X] **lib_scoru_wasm: disallow exceptions in entry-point functions #3448** !6101 !6097\r\n\r\n<\/details>\r\n\r\n## Code quality (Critical)\r\n- [X] Factor out module-registry from AST func nodes #3492 Nice to have \ud83d\udc76\r\n- [X] Lib_webassembly: cleanup deadcode #3334 Code quality \ud83c\udf1f Nice to have \ud83d\udc76\r\n- [x] WASM PVM: Simplify decoding logic for WASM PVM #3444\r\n\r\n## Documentation\r\n- [x] Document version of spec and subset\/additions #3117 doc \r\n\r\n<details>\r\n<summary>To be revisited when the remaining tasks are done<\/summary>\r\n\r\n## Code quality (Nice-to-Have)\r\n- [ ] WASM: Follow up items for lazy-containers #3535 \r\n- [ ] Increase the message size limit for faster loading #3361 \r\n- [ ] Use ppx_deriving.show for AST pretty-printer #3456 \r\n- [ ] Lib_webassembly: fix unused variables #3304 \r\n- [ ] Single source of truth for function types #3396 \r\n- [ ] More compact output proofs #3237 \r\n- [ ] WASM Parser: refactoring of duplicated code #3120 \r\n- [ ] Wasm PVM: Remove duplication in input proofs #3091 \r\n- [ ] Binary parsing: Reuse a unique lazy stack #3569 \r\n- [ ] Drop locations from AST #3566 \r\n- [ ] Increase confidence in Interpreter_encodings boilerplate #3565 \r\n- [ ] SCORU WASM: Derive AST generators #3511 \r\n- [ ] Lib_scoru_wasm: Improve wasm encoding schema with named fields #3469 \r\n- [ ] Use library function for Assert.false and replicate #3532\r\n- [ ] Add generators for vector instructions #3455\r\n- [ ] Add tests for corner cases in Chunked_byte_vector #3085\r\n- [ ] Test tree encoding with official Wasm test suite #3570\r\n\r\n<\/details>\r\n","state":"closed","created_at":"2022-08-04T17:13:44.166Z","updated_at":"2022-11-16T08:34:25.529Z","due_date":"2022-09-16","start_date":"2022-08-12","expired":true,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/107"},"assignees":[{"id":3121862,"username":"picdc","name":"Pierrick Couderc","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/50ac1fdb34a902ba5f7f25816487ff84?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/picdc"}],"author":{"id":9031131,"username":"hans.hoglund","name":"Hans Hoglund","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/9031131\/avatar.png","web_url":"https:\/\/gitlab.com\/hans.hoglund"},"type":"ISSUE","assignee":{"id":3121862,"username":"picdc","name":"Pierrick Couderc","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/50ac1fdb34a902ba5f7f25816487ff84?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/picdc"},"user_notes_count":13,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":"2022-09-20","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/3157","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3157","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3157\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3157\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#3157","relative":"#3157","full":"tezos\/tezos#3157"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":109443263,"iid":3124,"project_id":3836952,"title":"Wasm PVM: Test for booting\/computing and checking size","description":"Goal: Add tests on top of `Sc_rollup_wasm` that\n\n- Boots and computes the VM using a predefined boot sector and input.\n- Runs the VM to some point, providing input.\n- Generates proofs and check that they fit within the size limit","state":"closed","created_at":1654087139185,"updated_at":1663761991327,"closed_at":1663761991294,"closed_by":{"id":7921723,"username":"lthms","name":"Thomas Letan","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/7921723\/avatar.png","web_url":"https:\/\/gitlab.com\/lthms"},"labels":["state::in-progress"],"milestone":{"id":2725830,"iid":107,"project_id":3836952,"title":"(OKR 2022Q3 - 2.1) SCORU Wasm - Small Ticks","description":"\r\n# Goal\r\n\r\nCompletion of this milestone allows to enable SCORU + Wasm on mainnet.\r\n\r\n### Background\r\n\r\nThe goal of this milestone is to complete the implementation of the Wasm PVM and obtain confidence that:\r\n\r\n1. Layer 1 is safe: The WASM PVM cannot be used to attack the layer-1  by exploiting unbound computation time.\r\n2. Layer 2 is safe: The WASM PVM produces execution step within the SCORU size limit.\r\n3. Correctness: The WASM PVM implements WASM semantics. Limitations and restriction are documented.\r\n\r\n\r\n#### Stuck state\r\n\r\nCritical failure conditions in the PVM (\"assert false\" situations) is responded to by placing the PVM in a stuck state, where it no longer advances meaningfully, similar to a \"bluescreen of death\". \r\n\r\nTogether with #2198 and #3561, we enforce that the worst outcome of  stuck state is an asset-lockup situation, not an arbitrary-withdrawal situation.\r\n\r\n\r\n#### Breaking changes\r\n\r\nWe will need to prioritize carefully the remaining work, such that\r\n\r\n1. We have a WASM PVM working in mid-September.\r\n2. Missing features of the WASM PVM can be implemented without completely breaking originated rollup.\r\n3. Any breaking change needs to be backed-up by a migration plan.\r\n\r\nEstimate: 12pw\r\n\r\n\r\n# Current work\/MRs\r\n- Gas metering for compute-step function #3548 @ole.kruger\r\n- Tickify module initialization #3076 @lthms \r\n- Non-recursive admin instructions #3606 @hans.hoglund \r\n- Nominal gast cost of proof verification #3164 @yrg \r\n\r\n# Breakdown\r\n\r\n<details>\r\n<summary>Work to be reevaluated<\/summary>\r\n\r\n## L1 can control L2 semantics divergence\r\n\r\nThe goal of these tasks was to provide safe guard for ensuring a L2 tick cannot be underevaluated from the perspective of the L1 gas consumption.\r\n\r\nThe methods explored are not satisfactory, and we believe there are other means to achieve this goal, in particular the hardening of the L2 implementation.\r\n\r\n- [ ] Gas metering for compute-step function in WASM PVM #3548\r\n- [ ] Nominal gast cost of proof verification #3164 (handle in %\"Smart Contract Rollup Hardening?)\r\n\r\n## Test-suite conformance\r\n\r\nThis can be re-explore during the stabilization period, but if we have a large number of testing kernels, this is probably not necessary\/of high priority.\r\n\r\n- [ ] Instrument the WASM test-suite to do a decode-eval-encode loop during parsing #3500 \r\n\r\n<\/details>\r\n\r\n## PVM Life cycle and correctness\r\n- [x] Handling all inputs per commitment !6698\r\n\r\n\r\n## Small-step decode and initialization\r\n\r\n- [X] Add merkleized representation of parser state #3150 !5891 \r\n- [X] Add merkleized representation of the parsed AST #3149\r\n- [X] Scoru_wasm: Parser state encodings !5891 \r\n- [x] Merkleization of the parser's input #3224 \r\n- [x] Tickify module initialization #3076\r\n- [x] Tickify linking #3786 \r\n- [x] Non-recursive admin instructions #3606\r\n\r\nOnce this is all done, then we close this:\r\n\r\n- [x] Ensure \"unsafe\" functions are never used inside the PVM #3378\r\n\r\n<details>\r\n<summary>Done<\/summary>\r\n\r\n## Error handling\r\n- [x] lib_lazy_containers + lib_webassembly: make exceptions distinguishable (improves error reporting) !6097\r\n- [X] **lib_scoru_wasm: disallow exceptions in entry-point functions #3448** !6101 !6097\r\n\r\n<\/details>\r\n\r\n## Code quality (Critical)\r\n- [X] Factor out module-registry from AST func nodes #3492 Nice to have \ud83d\udc76\r\n- [X] Lib_webassembly: cleanup deadcode #3334 Code quality \ud83c\udf1f Nice to have \ud83d\udc76\r\n- [x] WASM PVM: Simplify decoding logic for WASM PVM #3444\r\n\r\n## Documentation\r\n- [x] Document version of spec and subset\/additions #3117 doc \r\n\r\n<details>\r\n<summary>To be revisited when the remaining tasks are done<\/summary>\r\n\r\n## Code quality (Nice-to-Have)\r\n- [ ] WASM: Follow up items for lazy-containers #3535 \r\n- [ ] Increase the message size limit for faster loading #3361 \r\n- [ ] Use ppx_deriving.show for AST pretty-printer #3456 \r\n- [ ] Lib_webassembly: fix unused variables #3304 \r\n- [ ] Single source of truth for function types #3396 \r\n- [ ] More compact output proofs #3237 \r\n- [ ] WASM Parser: refactoring of duplicated code #3120 \r\n- [ ] Wasm PVM: Remove duplication in input proofs #3091 \r\n- [ ] Binary parsing: Reuse a unique lazy stack #3569 \r\n- [ ] Drop locations from AST #3566 \r\n- [ ] Increase confidence in Interpreter_encodings boilerplate #3565 \r\n- [ ] SCORU WASM: Derive AST generators #3511 \r\n- [ ] Lib_scoru_wasm: Improve wasm encoding schema with named fields #3469 \r\n- [ ] Use library function for Assert.false and replicate #3532\r\n- [ ] Add generators for vector instructions #3455\r\n- [ ] Add tests for corner cases in Chunked_byte_vector #3085\r\n- [ ] Test tree encoding with official Wasm test suite #3570\r\n\r\n<\/details>\r\n","state":"closed","created_at":"2022-08-04T17:13:44.166Z","updated_at":"2022-11-16T08:34:25.529Z","due_date":"2022-09-16","start_date":"2022-08-12","expired":true,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/107"},"assignees":[],"author":{"id":9031131,"username":"hans.hoglund","name":"Hans Hoglund","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/9031131\/avatar.png","web_url":"https:\/\/gitlab.com\/hans.hoglund"},"type":"ISSUE","assignee":null,"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2022-09-16","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/3124","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3124","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3124\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3124\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#3124","relative":"#3124","full":"tezos\/tezos#3124"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":109313844,"iid":3091,"project_id":3836952,"title":"Wasm PVM: Remove duplication in input proofs","description":"The following discussion from !5416 should be addressed:\n\n- [ ] @hans.hoglund started a [discussion](https:\/\/gitlab.com\/tezos\/tezos\/-\/merge_requests\/5416#note_964475159): \n\n    > ```suggestion:-4+0\n    >     (* TODO:\n    >        The tree proof contains enough information to derive given and requested.\n    >        Get rid of the duplication by writing the projection functions and\n    >        removing the [given] and [requested] fields.\n    >     *)\n    > ```\n\nThis should improve the size of input proofs by a factor of ~2.","state":"closed","created_at":1653914393486,"updated_at":1663577623350,"closed_at":1663577623156,"closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/8770486\/avatar.png","web_url":"https:\/\/gitlab.com\/nomadic-margebot"},"labels":[],"milestone":{"id":2552886,"iid":75,"project_id":3836952,"title":"(OKR 2022Q3 - 2.1) Smart Contract Rollup Hardening","description":"# Overview\r\n- [ ] Adapt L2 node to WASM\r\n  - [x] Instantiate the functor with WASM PVM #3411 \r\n  - [x] Include WASM in existing Tezt tests #3412 \r\n  - [ ] Add interesting messages for WASM in Tezt tests #3413 \r\n  - [ ] Add WASM kernel Tezt tests #3415 \r\n- [ ] Carbonate all SCORU operations (owner: @naih) https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/3290\r\n- [ ] Audit of constants (owner: @vch9)\r\n- [ ] Write refutation game tests (owner: @vch9) https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/3075\r\n- [ ] Process all follow-up issues from SCORU milestone 1 (owner: @yrg)\r\n   - [x] Critical issues\r\n   - [ ] High-priority issues\r\n   - [ ] Other issues\r\n- [ ] Test rollup persistence across Tezos protocol upgrade (owner: @sribaroud)\r\n- [ ] Develop enough stress tests to gain confidence about the security and the safety of Layer 1 (owner: @iguerNL)\r\n- [ ] Measure performance and optimize if needed (owner: @yrg)","state":"closed","created_at":"2022-04-06T08:51:42.962Z","updated_at":"2022-10-25T05:34:43.955Z","due_date":"2022-09-30","start_date":"2022-05-02","expired":true,"web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/milestones\/75"},"assignees":[{"id":8556680,"username":"vch9","name":"Valentin Chaboche","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/8556680\/avatar.png","web_url":"https:\/\/gitlab.com\/vch9"}],"author":{"id":9031131,"username":"hans.hoglund","name":"Hans Hoglund","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/9031131\/avatar.png","web_url":"https:\/\/gitlab.com\/hans.hoglund"},"type":"ISSUE","assignee":{"id":8556680,"username":"vch9","name":"Valentin Chaboche","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/8556680\/avatar.png","web_url":"https:\/\/gitlab.com\/vch9"},"user_notes_count":8,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":"2022-09-13","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/tezos\/tezos\/-\/issues\/3091","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"task_status":null,"_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3091","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3091\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952\/issues\/3091\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/3836952","closed_as_duplicate_of":null},"references":{"short":"#3091","relative":"#3091","full":"tezos\/tezos#3091"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null}]