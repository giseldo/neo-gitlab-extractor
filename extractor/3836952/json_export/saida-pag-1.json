[{"id":126542462,"iid":5429,"project_id":3836952,"title":"Gossipsub: Remove peers from the mesh and fanout on unsubscribe","description":"Remove peers from the topic mesh when the peer unsubscribes from the topic, as done in the [rust implementation](https://github.com/libp2p/rust-libp2p/blob/b7ba0f728633c1c0e0bc67339e5b5002bb9adb0f/protocols/gossipsub/src/behaviour.rs#L2029).\n\nAdditionally, we remove the peers from the fanout on unsubscribe. This is not done in go/rust (they wait until the next heartbeat for the fanout to be cleaned) but we do it in unsusbcribe as it makese sense and is more consistent with the cleaning of mesh on unsubscribe.","state":"closed","created_at":"2023-04-12T10:48:48.850Z","updated_at":"2023-04-14T08:10:26.839Z","closed_at":"2023-04-14T08:10:26.809Z","closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8770486/avatar.png","web_url":"https://gitlab.com/nomadic-margebot"},"labels":["DAL"],"milestone":{"id":3005814,"iid":192,"project_id":3836952,"title":"DAL: Implementing gossipsub","description":"This milestone is part of the DAL design described in [this document](https://hackmd.io/@p-cUv0l5RNaDKBCowZ0IzA/HJgFgSzpo). \r\n\r\n### Motivation\r\n\r\nThe current Octez P2P library implements two protocols:\r\n- One to instantiate a secure channel with another peer on top of the TCP protocol\r\n- One to implement a gossip algorithm with peer discovery\r\n\r\nThe first protocol fits the needs of the DAL, but the second does not. The technical solution chosen was to implement another gossip algorithm called [gossipsub](https://github.com/libp2p/specs/tree/master/pubsub/gossipsub). The DAL design document explains and argue why this algorithm fits to the needs of the DAL.\r\n\r\n### Scope\r\n\r\nThis milestone is part of the OKR **Design for P2P that supports sampling**.\r\n\r\n### Design\r\n\r\nRefer to this [subsection](https://hackmd.io/@p-cUv0l5RNaDKBCowZ0IzA/HJgFgSzpo/https%3A%2F%2Fhackmd.io%2FUQuA_59QRdOjU47fGM9CsQ%23Topological-constraints#Integrating-gossipsub-in-the-Tezos-codebase) of the DAL design document.\r\n\r\n### Work breakdown\r\n\r\nCheckout the [Meeting notes](https://hackmd.io/LLe-SedVSeqknK2ghF8tQw)","state":"active","created_at":"2023-02-27T09:42:42.776Z","updated_at":"2023-04-18T12:24:54.395Z","due_date":"2023-05-26","start_date":"2023-02-27","expired":false,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/192"},"assignees":[{"id":11214295,"username":"linoscope","name":"Lin Oshitani","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11214295/avatar.png","web_url":"https://gitlab.com/linoscope"}],"author":{"id":11214295,"username":"linoscope","name":"Lin Oshitani","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11214295/avatar.png","web_url":"https://gitlab.com/linoscope"},"type":"ISSUE","assignee":{"id":11214295,"username":"linoscope","name":"Lin Oshitani","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11214295/avatar.png","web_url":"https://gitlab.com/linoscope"},"user_notes_count":1,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/5429","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":100,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/5429","notes":"https://gitlab.com/api/v4/projects/3836952/issues/5429/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/5429/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#5429","relative":"#5429","full":"tezos/tezos#5429"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":126049644,"iid":5305,"project_id":3836952,"title":"Gossipsub: Only graft peers that subscribed to a topic","description":"We should have the invariant that any time a peer asked to graft us, we should know he subscribed to this topic.","state":"closed","created_at":"2023-03-31T08:28:21.264Z","updated_at":"2023-04-17T18:17:14.326Z","closed_at":"2023-04-17T18:17:14.291Z","closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8770486/avatar.png","web_url":"https://gitlab.com/nomadic-margebot"},"labels":[],"milestone":{"id":3005814,"iid":192,"project_id":3836952,"title":"DAL: Implementing gossipsub","description":"This milestone is part of the DAL design described in [this document](https://hackmd.io/@p-cUv0l5RNaDKBCowZ0IzA/HJgFgSzpo). \r\n\r\n### Motivation\r\n\r\nThe current Octez P2P library implements two protocols:\r\n- One to instantiate a secure channel with another peer on top of the TCP protocol\r\n- One to implement a gossip algorithm with peer discovery\r\n\r\nThe first protocol fits the needs of the DAL, but the second does not. The technical solution chosen was to implement another gossip algorithm called [gossipsub](https://github.com/libp2p/specs/tree/master/pubsub/gossipsub). The DAL design document explains and argue why this algorithm fits to the needs of the DAL.\r\n\r\n### Scope\r\n\r\nThis milestone is part of the OKR **Design for P2P that supports sampling**.\r\n\r\n### Design\r\n\r\nRefer to this [subsection](https://hackmd.io/@p-cUv0l5RNaDKBCowZ0IzA/HJgFgSzpo/https%3A%2F%2Fhackmd.io%2FUQuA_59QRdOjU47fGM9CsQ%23Topological-constraints#Integrating-gossipsub-in-the-Tezos-codebase) of the DAL design document.\r\n\r\n### Work breakdown\r\n\r\nCheckout the [Meeting notes](https://hackmd.io/LLe-SedVSeqknK2ghF8tQw)","state":"active","created_at":"2023-02-27T09:42:42.776Z","updated_at":"2023-04-18T12:24:54.395Z","due_date":"2023-05-26","start_date":"2023-02-27","expired":false,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/192"},"assignees":[{"id":11214295,"username":"linoscope","name":"Lin Oshitani","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11214295/avatar.png","web_url":"https://gitlab.com/linoscope"}],"author":{"id":5263657,"username":"Saroupille","name":"François Thiré","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dcecc9a8d97b503a3d28025c9b78e8ab?s=80\u0026d=identicon","web_url":"https://gitlab.com/Saroupille"},"type":"ISSUE","assignee":{"id":11214295,"username":"linoscope","name":"Lin Oshitani","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11214295/avatar.png","web_url":"https://gitlab.com/linoscope"},"user_notes_count":3,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/5305","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":100,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/5305","notes":"https://gitlab.com/api/v4/projects/3836952/issues/5305/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/5305/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#5305","relative":"#5305","full":"tezos/tezos#5305"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":125947472,"iid":5275,"project_id":3836952,"title":"[GS/Automaton] add a Already_published case in [`Publish] output","description":"Currently, we have one case for `handle_publish`: We don't check if the message is already known. We should add a case `Already_published` for the case where the message is already published","state":"closed","created_at":"2023-03-29T13:17:19.167Z","updated_at":"2023-03-31T14:10:03.434Z","closed_at":"2023-03-31T14:10:03.402Z","closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8770486/avatar.png","web_url":"https://gitlab.com/nomadic-margebot"},"labels":["DAL"],"milestone":{"id":3005814,"iid":192,"project_id":3836952,"title":"DAL: Implementing gossipsub","description":"This milestone is part of the DAL design described in [this document](https://hackmd.io/@p-cUv0l5RNaDKBCowZ0IzA/HJgFgSzpo). \r\n\r\n### Motivation\r\n\r\nThe current Octez P2P library implements two protocols:\r\n- One to instantiate a secure channel with another peer on top of the TCP protocol\r\n- One to implement a gossip algorithm with peer discovery\r\n\r\nThe first protocol fits the needs of the DAL, but the second does not. The technical solution chosen was to implement another gossip algorithm called [gossipsub](https://github.com/libp2p/specs/tree/master/pubsub/gossipsub). The DAL design document explains and argue why this algorithm fits to the needs of the DAL.\r\n\r\n### Scope\r\n\r\nThis milestone is part of the OKR **Design for P2P that supports sampling**.\r\n\r\n### Design\r\n\r\nRefer to this [subsection](https://hackmd.io/@p-cUv0l5RNaDKBCowZ0IzA/HJgFgSzpo/https%3A%2F%2Fhackmd.io%2FUQuA_59QRdOjU47fGM9CsQ%23Topological-constraints#Integrating-gossipsub-in-the-Tezos-codebase) of the DAL design document.\r\n\r\n### Work breakdown\r\n\r\nCheckout the [Meeting notes](https://hackmd.io/LLe-SedVSeqknK2ghF8tQw)","state":"active","created_at":"2023-02-27T09:42:42.776Z","updated_at":"2023-04-18T12:24:54.395Z","due_date":"2023-05-26","start_date":"2023-02-27","expired":false,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/192"},"assignees":[],"author":{"id":1517950,"username":"iguerNL","name":"Mohamed IGUERNLALA","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1517950/avatar.png","web_url":"https://gitlab.com/iguerNL"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/5275","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":100,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/5275","notes":"https://gitlab.com/api/v4/projects/3836952/issues/5275/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/5275/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#5275","relative":"#5275","full":"tezos/tezos#5275"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":125933482,"iid":5269,"project_id":3836952,"title":"Gossipsub: Fix logic for publishing to direct peers","description":"From https://gitlab.com/tezos/tezos/-/merge_requests/8248#note_1332465561\n\n\u003e In our implementation, the `direct` peers are only considered in the case where\n\u003e\n\u003e * mesh is empty for the topic.\n\u003e * fanout is empty for the topic.\n\u003e\n\u003e(i.e. the `match fanout_opt with | None -\u003e` case above)\n\u003e\n\u003e But in the go implementation, the message is published to the `direct` peers regardless of the `mesh`/`fanout` emptiness: https://github.com/libp2p/go-libp2p-pubsub/blob/56c0e6c5c9dfcc6cd3214e59ef19456dc0171574/gossipsub.go#L997","state":"closed","created_at":"2023-03-29T07:32:39.392Z","updated_at":"2023-04-18T01:10:01.278Z","closed_at":"2023-04-18T01:10:01.253Z","closed_by":{"id":11214295,"username":"linoscope","name":"Lin Oshitani","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11214295/avatar.png","web_url":"https://gitlab.com/linoscope"},"labels":[],"milestone":{"id":3005814,"iid":192,"project_id":3836952,"title":"DAL: Implementing gossipsub","description":"This milestone is part of the DAL design described in [this document](https://hackmd.io/@p-cUv0l5RNaDKBCowZ0IzA/HJgFgSzpo). \r\n\r\n### Motivation\r\n\r\nThe current Octez P2P library implements two protocols:\r\n- One to instantiate a secure channel with another peer on top of the TCP protocol\r\n- One to implement a gossip algorithm with peer discovery\r\n\r\nThe first protocol fits the needs of the DAL, but the second does not. The technical solution chosen was to implement another gossip algorithm called [gossipsub](https://github.com/libp2p/specs/tree/master/pubsub/gossipsub). The DAL design document explains and argue why this algorithm fits to the needs of the DAL.\r\n\r\n### Scope\r\n\r\nThis milestone is part of the OKR **Design for P2P that supports sampling**.\r\n\r\n### Design\r\n\r\nRefer to this [subsection](https://hackmd.io/@p-cUv0l5RNaDKBCowZ0IzA/HJgFgSzpo/https%3A%2F%2Fhackmd.io%2FUQuA_59QRdOjU47fGM9CsQ%23Topological-constraints#Integrating-gossipsub-in-the-Tezos-codebase) of the DAL design document.\r\n\r\n### Work breakdown\r\n\r\nCheckout the [Meeting notes](https://hackmd.io/LLe-SedVSeqknK2ghF8tQw)","state":"active","created_at":"2023-02-27T09:42:42.776Z","updated_at":"2023-04-18T12:24:54.395Z","due_date":"2023-05-26","start_date":"2023-02-27","expired":false,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/192"},"assignees":[{"id":11214295,"username":"linoscope","name":"Lin Oshitani","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11214295/avatar.png","web_url":"https://gitlab.com/linoscope"}],"author":{"id":11214295,"username":"linoscope","name":"Lin Oshitani","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11214295/avatar.png","web_url":"https://gitlab.com/linoscope"},"type":"ISSUE","assignee":{"id":11214295,"username":"linoscope","name":"Lin Oshitani","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11214295/avatar.png","web_url":"https://gitlab.com/linoscope"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/5269","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":100,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/5269","notes":"https://gitlab.com/api/v4/projects/3836952/issues/5269/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/5269/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#5269","relative":"#5269","full":"tezos/tezos#5269"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":125875704,"iid":5251,"project_id":3836952,"title":"[GS Automaton] clarify/improve Heartbeat output for prune","description":"The automaton currently outputs values of the following type for heartbeat:\n```ocaml\n    | Heartbeat : {\n        (* topics per peer to graft to *)\n        to_graft : Topic.Set.t Peer.Map.t;\n        (* topics per peer to prune from *)\n        to_prune : Topic.Set.t Peer.Map.t;\n        (* set of peers for which peer exchange (PX) will not be proposed *)\n        noPX_peers : Peer.Set.t;\n      }\n        -\u003e [`Heartbeat] output\n```\n\nIt seems that the information contained in `to_prune` field don't allow to call `handle_prune`, which requires inputs of type:\n```ocaml\n  type prune = {\n    peer : Peer.t;\n    topic : Topic.t;\n    px : Peer.t Seq.t;\n    backoff : span;\n  }\n```\n\nIn fact, fields `px : Peer.t Seq.t;` and `backoff` (per \"peer and topic\" ?) are missing\n\nSee which function needs to be modified: heartbeat or prune?","state":"closed","created_at":"2023-03-28T08:02:07.538Z","updated_at":"2023-04-06T12:06:40.306Z","closed_at":"2023-04-06T12:06:40.249Z","closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8770486/avatar.png","web_url":"https://gitlab.com/nomadic-margebot"},"labels":["DAL","state::in-review"],"milestone":{"id":3005814,"iid":192,"project_id":3836952,"title":"DAL: Implementing gossipsub","description":"This milestone is part of the DAL design described in [this document](https://hackmd.io/@p-cUv0l5RNaDKBCowZ0IzA/HJgFgSzpo). \r\n\r\n### Motivation\r\n\r\nThe current Octez P2P library implements two protocols:\r\n- One to instantiate a secure channel with another peer on top of the TCP protocol\r\n- One to implement a gossip algorithm with peer discovery\r\n\r\nThe first protocol fits the needs of the DAL, but the second does not. The technical solution chosen was to implement another gossip algorithm called [gossipsub](https://github.com/libp2p/specs/tree/master/pubsub/gossipsub). The DAL design document explains and argue why this algorithm fits to the needs of the DAL.\r\n\r\n### Scope\r\n\r\nThis milestone is part of the OKR **Design for P2P that supports sampling**.\r\n\r\n### Design\r\n\r\nRefer to this [subsection](https://hackmd.io/@p-cUv0l5RNaDKBCowZ0IzA/HJgFgSzpo/https%3A%2F%2Fhackmd.io%2FUQuA_59QRdOjU47fGM9CsQ%23Topological-constraints#Integrating-gossipsub-in-the-Tezos-codebase) of the DAL design document.\r\n\r\n### Work breakdown\r\n\r\nCheckout the [Meeting notes](https://hackmd.io/LLe-SedVSeqknK2ghF8tQw)","state":"active","created_at":"2023-02-27T09:42:42.776Z","updated_at":"2023-04-18T12:24:54.395Z","due_date":"2023-05-26","start_date":"2023-02-27","expired":false,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/192"},"assignees":[{"id":2923010,"username":"eugenz","name":"Eugen Zalinescu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2923010/avatar.png","web_url":"https://gitlab.com/eugenz"}],"author":{"id":1517950,"username":"iguerNL","name":"Mohamed IGUERNLALA","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1517950/avatar.png","web_url":"https://gitlab.com/iguerNL"},"type":"ISSUE","assignee":{"id":2923010,"username":"eugenz","name":"Eugen Zalinescu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2923010/avatar.png","web_url":"https://gitlab.com/eugenz"},"user_notes_count":3,"merge_requests_count":2,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/5251","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":100,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/5251","notes":"https://gitlab.com/api/v4/projects/3836952/issues/5251/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/5251/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#5251","relative":"#5251","full":"tezos/tezos#5251"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":125648644,"iid":5200,"project_id":3836952,"title":"[GS worker] implement sending messages to peers","description":"","state":"closed","created_at":"2023-03-22T19:13:08.113Z","updated_at":"2023-04-17T14:49:09.756Z","closed_at":"2023-04-17T14:49:09.738Z","closed_by":{"id":1517950,"username":"iguerNL","name":"Mohamed IGUERNLALA","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1517950/avatar.png","web_url":"https://gitlab.com/iguerNL"},"labels":["DAL"],"milestone":{"id":3005814,"iid":192,"project_id":3836952,"title":"DAL: Implementing gossipsub","description":"This milestone is part of the DAL design described in [this document](https://hackmd.io/@p-cUv0l5RNaDKBCowZ0IzA/HJgFgSzpo). \r\n\r\n### Motivation\r\n\r\nThe current Octez P2P library implements two protocols:\r\n- One to instantiate a secure channel with another peer on top of the TCP protocol\r\n- One to implement a gossip algorithm with peer discovery\r\n\r\nThe first protocol fits the needs of the DAL, but the second does not. The technical solution chosen was to implement another gossip algorithm called [gossipsub](https://github.com/libp2p/specs/tree/master/pubsub/gossipsub). The DAL design document explains and argue why this algorithm fits to the needs of the DAL.\r\n\r\n### Scope\r\n\r\nThis milestone is part of the OKR **Design for P2P that supports sampling**.\r\n\r\n### Design\r\n\r\nRefer to this [subsection](https://hackmd.io/@p-cUv0l5RNaDKBCowZ0IzA/HJgFgSzpo/https%3A%2F%2Fhackmd.io%2FUQuA_59QRdOjU47fGM9CsQ%23Topological-constraints#Integrating-gossipsub-in-the-Tezos-codebase) of the DAL design document.\r\n\r\n### Work breakdown\r\n\r\nCheckout the [Meeting notes](https://hackmd.io/LLe-SedVSeqknK2ghF8tQw)","state":"active","created_at":"2023-02-27T09:42:42.776Z","updated_at":"2023-04-18T12:24:54.395Z","due_date":"2023-05-26","start_date":"2023-02-27","expired":false,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/192"},"assignees":[],"author":{"id":1517950,"username":"iguerNL","name":"Mohamed IGUERNLALA","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1517950/avatar.png","web_url":"https://gitlab.com/iguerNL"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/5200","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":100,"blocking_issues_count":0,"has_tasks":true,"task_status":"","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/5200","notes":"https://gitlab.com/api/v4/projects/3836952/issues/5200/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/5200/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#5200","relative":"#5200","full":"tezos/tezos#5200"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":125616372,"iid":5191,"project_id":3836952,"title":"[GS worker] handle join and leave in apply","description":"","state":"closed","created_at":"2023-03-22T08:31:57.331Z","updated_at":"2023-04-07T13:23:51.259Z","closed_at":"2023-04-07T13:23:51.218Z","closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8770486/avatar.png","web_url":"https://gitlab.com/nomadic-margebot"},"labels":["DAL"],"milestone":{"id":3005814,"iid":192,"project_id":3836952,"title":"DAL: Implementing gossipsub","description":"This milestone is part of the DAL design described in [this document](https://hackmd.io/@p-cUv0l5RNaDKBCowZ0IzA/HJgFgSzpo). \r\n\r\n### Motivation\r\n\r\nThe current Octez P2P library implements two protocols:\r\n- One to instantiate a secure channel with another peer on top of the TCP protocol\r\n- One to implement a gossip algorithm with peer discovery\r\n\r\nThe first protocol fits the needs of the DAL, but the second does not. The technical solution chosen was to implement another gossip algorithm called [gossipsub](https://github.com/libp2p/specs/tree/master/pubsub/gossipsub). The DAL design document explains and argue why this algorithm fits to the needs of the DAL.\r\n\r\n### Scope\r\n\r\nThis milestone is part of the OKR **Design for P2P that supports sampling**.\r\n\r\n### Design\r\n\r\nRefer to this [subsection](https://hackmd.io/@p-cUv0l5RNaDKBCowZ0IzA/HJgFgSzpo/https%3A%2F%2Fhackmd.io%2FUQuA_59QRdOjU47fGM9CsQ%23Topological-constraints#Integrating-gossipsub-in-the-Tezos-codebase) of the DAL design document.\r\n\r\n### Work breakdown\r\n\r\nCheckout the [Meeting notes](https://hackmd.io/LLe-SedVSeqknK2ghF8tQw)","state":"active","created_at":"2023-02-27T09:42:42.776Z","updated_at":"2023-04-18T12:24:54.395Z","due_date":"2023-05-26","start_date":"2023-02-27","expired":false,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/192"},"assignees":[{"id":1517950,"username":"iguerNL","name":"Mohamed IGUERNLALA","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1517950/avatar.png","web_url":"https://gitlab.com/iguerNL"}],"author":{"id":1517950,"username":"iguerNL","name":"Mohamed IGUERNLALA","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1517950/avatar.png","web_url":"https://gitlab.com/iguerNL"},"type":"ISSUE","assignee":{"id":1517950,"username":"iguerNL","name":"Mohamed IGUERNLALA","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1517950/avatar.png","web_url":"https://gitlab.com/iguerNL"},"user_notes_count":0,"merge_requests_count":2,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/5191","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":100,"blocking_issues_count":0,"has_tasks":true,"task_status":"","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/5191","notes":"https://gitlab.com/api/v4/projects/3836952/issues/5191/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/5191/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#5191","relative":"#5191","full":"tezos/tezos#5191"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":125527415,"iid":5171,"project_id":3836952,"title":"[GS worker] implement worker shutdown","description":"See current implementation of function shutdown in gossipsub_worker.ml\n\nAlso unsubscribe from callbacks when shutting down the worker?\n\nAlso see discussion in https://gitlab.com/tezos/tezos/-/merge_requests/8116#note_1323535456","state":"closed","created_at":"2023-03-20T10:20:55.672Z","updated_at":"2023-04-13T11:32:10.098Z","closed_at":"2023-04-13T11:32:10.056Z","closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8770486/avatar.png","web_url":"https://gitlab.com/nomadic-margebot"},"labels":["DAL"],"milestone":{"id":3005814,"iid":192,"project_id":3836952,"title":"DAL: Implementing gossipsub","description":"This milestone is part of the DAL design described in [this document](https://hackmd.io/@p-cUv0l5RNaDKBCowZ0IzA/HJgFgSzpo). \r\n\r\n### Motivation\r\n\r\nThe current Octez P2P library implements two protocols:\r\n- One to instantiate a secure channel with another peer on top of the TCP protocol\r\n- One to implement a gossip algorithm with peer discovery\r\n\r\nThe first protocol fits the needs of the DAL, but the second does not. The technical solution chosen was to implement another gossip algorithm called [gossipsub](https://github.com/libp2p/specs/tree/master/pubsub/gossipsub). The DAL design document explains and argue why this algorithm fits to the needs of the DAL.\r\n\r\n### Scope\r\n\r\nThis milestone is part of the OKR **Design for P2P that supports sampling**.\r\n\r\n### Design\r\n\r\nRefer to this [subsection](https://hackmd.io/@p-cUv0l5RNaDKBCowZ0IzA/HJgFgSzpo/https%3A%2F%2Fhackmd.io%2FUQuA_59QRdOjU47fGM9CsQ%23Topological-constraints#Integrating-gossipsub-in-the-Tezos-codebase) of the DAL design document.\r\n\r\n### Work breakdown\r\n\r\nCheckout the [Meeting notes](https://hackmd.io/LLe-SedVSeqknK2ghF8tQw)","state":"active","created_at":"2023-02-27T09:42:42.776Z","updated_at":"2023-04-18T12:24:54.395Z","due_date":"2023-05-26","start_date":"2023-02-27","expired":false,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/192"},"assignees":[],"author":{"id":1517950,"username":"iguerNL","name":"Mohamed IGUERNLALA","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1517950/avatar.png","web_url":"https://gitlab.com/iguerNL"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/5171","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":100,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/5171","notes":"https://gitlab.com/api/v4/projects/3836952/issues/5171/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/5171/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#5171","relative":"#5171","full":"tezos/tezos#5171"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":125526330,"iid":5168,"project_id":3836952,"title":"[GS Worker] implement the notion of P2P messages","description":"P2p messages handler relies on a Codec to encode/decode messages to/from bytes. The current implementation of messages and Codec is dummy (for typechecking).","state":"closed","created_at":"2023-03-20T09:56:50.374Z","updated_at":"2023-04-05T03:26:14.258Z","closed_at":"2023-04-05T03:26:14.239Z","closed_by":{"id":1517950,"username":"iguerNL","name":"Mohamed IGUERNLALA","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1517950/avatar.png","web_url":"https://gitlab.com/iguerNL"},"labels":["DAL"],"milestone":{"id":3005814,"iid":192,"project_id":3836952,"title":"DAL: Implementing gossipsub","description":"This milestone is part of the DAL design described in [this document](https://hackmd.io/@p-cUv0l5RNaDKBCowZ0IzA/HJgFgSzpo). \r\n\r\n### Motivation\r\n\r\nThe current Octez P2P library implements two protocols:\r\n- One to instantiate a secure channel with another peer on top of the TCP protocol\r\n- One to implement a gossip algorithm with peer discovery\r\n\r\nThe first protocol fits the needs of the DAL, but the second does not. The technical solution chosen was to implement another gossip algorithm called [gossipsub](https://github.com/libp2p/specs/tree/master/pubsub/gossipsub). The DAL design document explains and argue why this algorithm fits to the needs of the DAL.\r\n\r\n### Scope\r\n\r\nThis milestone is part of the OKR **Design for P2P that supports sampling**.\r\n\r\n### Design\r\n\r\nRefer to this [subsection](https://hackmd.io/@p-cUv0l5RNaDKBCowZ0IzA/HJgFgSzpo/https%3A%2F%2Fhackmd.io%2FUQuA_59QRdOjU47fGM9CsQ%23Topological-constraints#Integrating-gossipsub-in-the-Tezos-codebase) of the DAL design document.\r\n\r\n### Work breakdown\r\n\r\nCheckout the [Meeting notes](https://hackmd.io/LLe-SedVSeqknK2ghF8tQw)","state":"active","created_at":"2023-02-27T09:42:42.776Z","updated_at":"2023-04-18T12:24:54.395Z","due_date":"2023-05-26","start_date":"2023-02-27","expired":false,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/192"},"assignees":[{"id":1517950,"username":"iguerNL","name":"Mohamed IGUERNLALA","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1517950/avatar.png","web_url":"https://gitlab.com/iguerNL"}],"author":{"id":1517950,"username":"iguerNL","name":"Mohamed IGUERNLALA","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1517950/avatar.png","web_url":"https://gitlab.com/iguerNL"},"type":"ISSUE","assignee":{"id":1517950,"username":"iguerNL","name":"Mohamed IGUERNLALA","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1517950/avatar.png","web_url":"https://gitlab.com/iguerNL"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/5168","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":100,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/5168","notes":"https://gitlab.com/api/v4/projects/3836952/issues/5168/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/5168/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#5168","relative":"#5168","full":"tezos/tezos#5168"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":125519992,"iid":5164,"project_id":3836952,"title":"[GS worker] handle Received_message application","description":"","state":"closed","created_at":"2023-03-20T07:57:55.358Z","updated_at":"2023-04-12T19:12:14.648Z","closed_at":"2023-04-12T19:12:14.613Z","closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8770486/avatar.png","web_url":"https://gitlab.com/nomadic-margebot"},"labels":["DAL"],"milestone":{"id":3005814,"iid":192,"project_id":3836952,"title":"DAL: Implementing gossipsub","description":"This milestone is part of the DAL design described in [this document](https://hackmd.io/@p-cUv0l5RNaDKBCowZ0IzA/HJgFgSzpo). \r\n\r\n### Motivation\r\n\r\nThe current Octez P2P library implements two protocols:\r\n- One to instantiate a secure channel with another peer on top of the TCP protocol\r\n- One to implement a gossip algorithm with peer discovery\r\n\r\nThe first protocol fits the needs of the DAL, but the second does not. The technical solution chosen was to implement another gossip algorithm called [gossipsub](https://github.com/libp2p/specs/tree/master/pubsub/gossipsub). The DAL design document explains and argue why this algorithm fits to the needs of the DAL.\r\n\r\n### Scope\r\n\r\nThis milestone is part of the OKR **Design for P2P that supports sampling**.\r\n\r\n### Design\r\n\r\nRefer to this [subsection](https://hackmd.io/@p-cUv0l5RNaDKBCowZ0IzA/HJgFgSzpo/https%3A%2F%2Fhackmd.io%2FUQuA_59QRdOjU47fGM9CsQ%23Topological-constraints#Integrating-gossipsub-in-the-Tezos-codebase) of the DAL design document.\r\n\r\n### Work breakdown\r\n\r\nCheckout the [Meeting notes](https://hackmd.io/LLe-SedVSeqknK2ghF8tQw)","state":"active","created_at":"2023-02-27T09:42:42.776Z","updated_at":"2023-04-18T12:24:54.395Z","due_date":"2023-05-26","start_date":"2023-02-27","expired":false,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/192"},"assignees":[],"author":{"id":1517950,"username":"iguerNL","name":"Mohamed IGUERNLALA","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1517950/avatar.png","web_url":"https://gitlab.com/iguerNL"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":2,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/5164","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":100,"blocking_issues_count":0,"has_tasks":true,"task_status":"","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/5164","notes":"https://gitlab.com/api/v4/projects/3836952/issues/5164/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/5164/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#5164","relative":"#5164","full":"tezos/tezos#5164"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":125519972,"iid":5163,"project_id":3836952,"title":"[GS worker] handle Send_message application","description":"","state":"closed","created_at":"2023-03-20T07:57:11.880Z","updated_at":"2023-04-17T14:49:49.908Z","closed_at":"2023-04-17T14:49:49.880Z","closed_by":{"id":1517950,"username":"iguerNL","name":"Mohamed IGUERNLALA","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1517950/avatar.png","web_url":"https://gitlab.com/iguerNL"},"labels":["DAL"],"milestone":{"id":3005814,"iid":192,"project_id":3836952,"title":"DAL: Implementing gossipsub","description":"This milestone is part of the DAL design described in [this document](https://hackmd.io/@p-cUv0l5RNaDKBCowZ0IzA/HJgFgSzpo). \r\n\r\n### Motivation\r\n\r\nThe current Octez P2P library implements two protocols:\r\n- One to instantiate a secure channel with another peer on top of the TCP protocol\r\n- One to implement a gossip algorithm with peer discovery\r\n\r\nThe first protocol fits the needs of the DAL, but the second does not. The technical solution chosen was to implement another gossip algorithm called [gossipsub](https://github.com/libp2p/specs/tree/master/pubsub/gossipsub). The DAL design document explains and argue why this algorithm fits to the needs of the DAL.\r\n\r\n### Scope\r\n\r\nThis milestone is part of the OKR **Design for P2P that supports sampling**.\r\n\r\n### Design\r\n\r\nRefer to this [subsection](https://hackmd.io/@p-cUv0l5RNaDKBCowZ0IzA/HJgFgSzpo/https%3A%2F%2Fhackmd.io%2FUQuA_59QRdOjU47fGM9CsQ%23Topological-constraints#Integrating-gossipsub-in-the-Tezos-codebase) of the DAL design document.\r\n\r\n### Work breakdown\r\n\r\nCheckout the [Meeting notes](https://hackmd.io/LLe-SedVSeqknK2ghF8tQw)","state":"active","created_at":"2023-02-27T09:42:42.776Z","updated_at":"2023-04-18T12:24:54.395Z","due_date":"2023-05-26","start_date":"2023-02-27","expired":false,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/192"},"assignees":[],"author":{"id":1517950,"username":"iguerNL","name":"Mohamed IGUERNLALA","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1517950/avatar.png","web_url":"https://gitlab.com/iguerNL"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/5163","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":100,"blocking_issues_count":0,"has_tasks":true,"task_status":"","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/5163","notes":"https://gitlab.com/api/v4/projects/3836952/issues/5163/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/5163/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#5163","relative":"#5163","full":"tezos/tezos#5163"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":125519939,"iid":5162,"project_id":3836952,"title":"[GS worker] handle Publish_message output","description":"","state":"closed","created_at":"2023-03-20T07:55:56.529Z","updated_at":"2023-04-17T14:49:50.186Z","closed_at":"2023-04-04T20:23:36.366Z","closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8770486/avatar.png","web_url":"https://gitlab.com/nomadic-margebot"},"labels":["DAL"],"milestone":{"id":3005814,"iid":192,"project_id":3836952,"title":"DAL: Implementing gossipsub","description":"This milestone is part of the DAL design described in [this document](https://hackmd.io/@p-cUv0l5RNaDKBCowZ0IzA/HJgFgSzpo). \r\n\r\n### Motivation\r\n\r\nThe current Octez P2P library implements two protocols:\r\n- One to instantiate a secure channel with another peer on top of the TCP protocol\r\n- One to implement a gossip algorithm with peer discovery\r\n\r\nThe first protocol fits the needs of the DAL, but the second does not. The technical solution chosen was to implement another gossip algorithm called [gossipsub](https://github.com/libp2p/specs/tree/master/pubsub/gossipsub). The DAL design document explains and argue why this algorithm fits to the needs of the DAL.\r\n\r\n### Scope\r\n\r\nThis milestone is part of the OKR **Design for P2P that supports sampling**.\r\n\r\n### Design\r\n\r\nRefer to this [subsection](https://hackmd.io/@p-cUv0l5RNaDKBCowZ0IzA/HJgFgSzpo/https%3A%2F%2Fhackmd.io%2FUQuA_59QRdOjU47fGM9CsQ%23Topological-constraints#Integrating-gossipsub-in-the-Tezos-codebase) of the DAL design document.\r\n\r\n### Work breakdown\r\n\r\nCheckout the [Meeting notes](https://hackmd.io/LLe-SedVSeqknK2ghF8tQw)","state":"active","created_at":"2023-02-27T09:42:42.776Z","updated_at":"2023-04-18T12:24:54.395Z","due_date":"2023-05-26","start_date":"2023-02-27","expired":false,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/192"},"assignees":[],"author":{"id":1517950,"username":"iguerNL","name":"Mohamed IGUERNLALA","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1517950/avatar.png","web_url":"https://gitlab.com/iguerNL"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":2,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/5162","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":100,"blocking_issues_count":0,"has_tasks":true,"task_status":"","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/5162","notes":"https://gitlab.com/api/v4/projects/3836952/issues/5162/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/5162/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#5162","relative":"#5162","full":"tezos/tezos#5162"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":125519897,"iid":5161,"project_id":3836952,"title":"[GS worker] handle Disconnection output","description":"","state":"closed","created_at":"2023-03-20T07:54:44.566Z","updated_at":"2023-04-07T20:08:49.746Z","closed_at":"2023-04-07T20:08:49.714Z","closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8770486/avatar.png","web_url":"https://gitlab.com/nomadic-margebot"},"labels":["DAL"],"milestone":{"id":3005814,"iid":192,"project_id":3836952,"title":"DAL: Implementing gossipsub","description":"This milestone is part of the DAL design described in [this document](https://hackmd.io/@p-cUv0l5RNaDKBCowZ0IzA/HJgFgSzpo). \r\n\r\n### Motivation\r\n\r\nThe current Octez P2P library implements two protocols:\r\n- One to instantiate a secure channel with another peer on top of the TCP protocol\r\n- One to implement a gossip algorithm with peer discovery\r\n\r\nThe first protocol fits the needs of the DAL, but the second does not. The technical solution chosen was to implement another gossip algorithm called [gossipsub](https://github.com/libp2p/specs/tree/master/pubsub/gossipsub). The DAL design document explains and argue why this algorithm fits to the needs of the DAL.\r\n\r\n### Scope\r\n\r\nThis milestone is part of the OKR **Design for P2P that supports sampling**.\r\n\r\n### Design\r\n\r\nRefer to this [subsection](https://hackmd.io/@p-cUv0l5RNaDKBCowZ0IzA/HJgFgSzpo/https%3A%2F%2Fhackmd.io%2FUQuA_59QRdOjU47fGM9CsQ%23Topological-constraints#Integrating-gossipsub-in-the-Tezos-codebase) of the DAL design document.\r\n\r\n### Work breakdown\r\n\r\nCheckout the [Meeting notes](https://hackmd.io/LLe-SedVSeqknK2ghF8tQw)","state":"active","created_at":"2023-02-27T09:42:42.776Z","updated_at":"2023-04-18T12:24:54.395Z","due_date":"2023-05-26","start_date":"2023-02-27","expired":false,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/192"},"assignees":[{"id":1517950,"username":"iguerNL","name":"Mohamed IGUERNLALA","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1517950/avatar.png","web_url":"https://gitlab.com/iguerNL"}],"author":{"id":1517950,"username":"iguerNL","name":"Mohamed IGUERNLALA","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1517950/avatar.png","web_url":"https://gitlab.com/iguerNL"},"type":"ISSUE","assignee":{"id":1517950,"username":"iguerNL","name":"Mohamed IGUERNLALA","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1517950/avatar.png","web_url":"https://gitlab.com/iguerNL"},"user_notes_count":0,"merge_requests_count":2,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/5161","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":100,"blocking_issues_count":0,"has_tasks":true,"task_status":"","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/5161","notes":"https://gitlab.com/api/v4/projects/3836952/issues/5161/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/5161/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#5161","relative":"#5161","full":"tezos/tezos#5161"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":125519879,"iid":5160,"project_id":3836952,"title":"[GS worker] handle New_connection output","description":"","state":"closed","created_at":"2023-03-20T07:54:03.636Z","updated_at":"2023-04-07T15:30:36.356Z","closed_at":"2023-04-07T15:30:36.282Z","closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8770486/avatar.png","web_url":"https://gitlab.com/nomadic-margebot"},"labels":["DAL"],"milestone":{"id":3005814,"iid":192,"project_id":3836952,"title":"DAL: Implementing gossipsub","description":"This milestone is part of the DAL design described in [this document](https://hackmd.io/@p-cUv0l5RNaDKBCowZ0IzA/HJgFgSzpo). \r\n\r\n### Motivation\r\n\r\nThe current Octez P2P library implements two protocols:\r\n- One to instantiate a secure channel with another peer on top of the TCP protocol\r\n- One to implement a gossip algorithm with peer discovery\r\n\r\nThe first protocol fits the needs of the DAL, but the second does not. The technical solution chosen was to implement another gossip algorithm called [gossipsub](https://github.com/libp2p/specs/tree/master/pubsub/gossipsub). The DAL design document explains and argue why this algorithm fits to the needs of the DAL.\r\n\r\n### Scope\r\n\r\nThis milestone is part of the OKR **Design for P2P that supports sampling**.\r\n\r\n### Design\r\n\r\nRefer to this [subsection](https://hackmd.io/@p-cUv0l5RNaDKBCowZ0IzA/HJgFgSzpo/https%3A%2F%2Fhackmd.io%2FUQuA_59QRdOjU47fGM9CsQ%23Topological-constraints#Integrating-gossipsub-in-the-Tezos-codebase) of the DAL design document.\r\n\r\n### Work breakdown\r\n\r\nCheckout the [Meeting notes](https://hackmd.io/LLe-SedVSeqknK2ghF8tQw)","state":"active","created_at":"2023-02-27T09:42:42.776Z","updated_at":"2023-04-18T12:24:54.395Z","due_date":"2023-05-26","start_date":"2023-02-27","expired":false,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/192"},"assignees":[{"id":1517950,"username":"iguerNL","name":"Mohamed IGUERNLALA","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1517950/avatar.png","web_url":"https://gitlab.com/iguerNL"}],"author":{"id":1517950,"username":"iguerNL","name":"Mohamed IGUERNLALA","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1517950/avatar.png","web_url":"https://gitlab.com/iguerNL"},"type":"ISSUE","assignee":{"id":1517950,"username":"iguerNL","name":"Mohamed IGUERNLALA","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1517950/avatar.png","web_url":"https://gitlab.com/iguerNL"},"user_notes_count":0,"merge_requests_count":2,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/5160","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":100,"blocking_issues_count":0,"has_tasks":true,"task_status":"","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/5160","notes":"https://gitlab.com/api/v4/projects/3836952/issues/5160/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/5160/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#5160","relative":"#5160","full":"tezos/tezos#5160"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":125519853,"iid":5159,"project_id":3836952,"title":"[GS worker] handle Heartbeat output","description":"","state":"closed","created_at":"2023-03-20T07:53:05.747Z","updated_at":"2023-04-14T14:52:01.708Z","closed_at":"2023-04-14T14:52:01.679Z","closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8770486/avatar.png","web_url":"https://gitlab.com/nomadic-margebot"},"labels":["DAL"],"milestone":{"id":3005814,"iid":192,"project_id":3836952,"title":"DAL: Implementing gossipsub","description":"This milestone is part of the DAL design described in [this document](https://hackmd.io/@p-cUv0l5RNaDKBCowZ0IzA/HJgFgSzpo). \r\n\r\n### Motivation\r\n\r\nThe current Octez P2P library implements two protocols:\r\n- One to instantiate a secure channel with another peer on top of the TCP protocol\r\n- One to implement a gossip algorithm with peer discovery\r\n\r\nThe first protocol fits the needs of the DAL, but the second does not. The technical solution chosen was to implement another gossip algorithm called [gossipsub](https://github.com/libp2p/specs/tree/master/pubsub/gossipsub). The DAL design document explains and argue why this algorithm fits to the needs of the DAL.\r\n\r\n### Scope\r\n\r\nThis milestone is part of the OKR **Design for P2P that supports sampling**.\r\n\r\n### Design\r\n\r\nRefer to this [subsection](https://hackmd.io/@p-cUv0l5RNaDKBCowZ0IzA/HJgFgSzpo/https%3A%2F%2Fhackmd.io%2FUQuA_59QRdOjU47fGM9CsQ%23Topological-constraints#Integrating-gossipsub-in-the-Tezos-codebase) of the DAL design document.\r\n\r\n### Work breakdown\r\n\r\nCheckout the [Meeting notes](https://hackmd.io/LLe-SedVSeqknK2ghF8tQw)","state":"active","created_at":"2023-02-27T09:42:42.776Z","updated_at":"2023-04-18T12:24:54.395Z","due_date":"2023-05-26","start_date":"2023-02-27","expired":false,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/192"},"assignees":[{"id":1517950,"username":"iguerNL","name":"Mohamed IGUERNLALA","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1517950/avatar.png","web_url":"https://gitlab.com/iguerNL"}],"author":{"id":1517950,"username":"iguerNL","name":"Mohamed IGUERNLALA","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1517950/avatar.png","web_url":"https://gitlab.com/iguerNL"},"type":"ISSUE","assignee":{"id":1517950,"username":"iguerNL","name":"Mohamed IGUERNLALA","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1517950/avatar.png","web_url":"https://gitlab.com/iguerNL"},"user_notes_count":0,"merge_requests_count":2,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/5159","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":100,"blocking_issues_count":0,"has_tasks":true,"task_status":"","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/5159","notes":"https://gitlab.com/api/v4/projects/3836952/issues/5159/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/5159/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#5159","relative":"#5159","full":"tezos/tezos#5159"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":125274294,"iid":5134,"project_id":3836952,"title":"Gossipsub: get_peers should not return peers that are waiting for expiration","description":"In our implementation, `connection.expire` is used to keep the `connection` in the `connections` for a while after `remove_peer`.\n\nSince peers with a non-none `connections.expire` is a removed peer which is wating for being expired, we shouldn't return them in the `get_peers` function [here](https://gitlab.com/tezos/tezos/blob/de253082858204509d4e91c9c079736abaf8d440/src/lib_gossipsub/tezos_gossipsub.ml#L653).","state":"closed","created_at":"2023-03-15T03:37:08.623Z","updated_at":"2023-04-11T08:37:55.423Z","closed_at":"2023-04-11T08:37:55.370Z","closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8770486/avatar.png","web_url":"https://gitlab.com/nomadic-margebot"},"labels":["state::in-progress"],"milestone":{"id":3005814,"iid":192,"project_id":3836952,"title":"DAL: Implementing gossipsub","description":"This milestone is part of the DAL design described in [this document](https://hackmd.io/@p-cUv0l5RNaDKBCowZ0IzA/HJgFgSzpo). \r\n\r\n### Motivation\r\n\r\nThe current Octez P2P library implements two protocols:\r\n- One to instantiate a secure channel with another peer on top of the TCP protocol\r\n- One to implement a gossip algorithm with peer discovery\r\n\r\nThe first protocol fits the needs of the DAL, but the second does not. The technical solution chosen was to implement another gossip algorithm called [gossipsub](https://github.com/libp2p/specs/tree/master/pubsub/gossipsub). The DAL design document explains and argue why this algorithm fits to the needs of the DAL.\r\n\r\n### Scope\r\n\r\nThis milestone is part of the OKR **Design for P2P that supports sampling**.\r\n\r\n### Design\r\n\r\nRefer to this [subsection](https://hackmd.io/@p-cUv0l5RNaDKBCowZ0IzA/HJgFgSzpo/https%3A%2F%2Fhackmd.io%2FUQuA_59QRdOjU47fGM9CsQ%23Topological-constraints#Integrating-gossipsub-in-the-Tezos-codebase) of the DAL design document.\r\n\r\n### Work breakdown\r\n\r\nCheckout the [Meeting notes](https://hackmd.io/LLe-SedVSeqknK2ghF8tQw)","state":"active","created_at":"2023-02-27T09:42:42.776Z","updated_at":"2023-04-18T12:24:54.395Z","due_date":"2023-05-26","start_date":"2023-02-27","expired":false,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/192"},"assignees":[{"id":2923010,"username":"eugenz","name":"Eugen Zalinescu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2923010/avatar.png","web_url":"https://gitlab.com/eugenz"}],"author":{"id":11214295,"username":"linoscope","name":"Lin Oshitani","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11214295/avatar.png","web_url":"https://gitlab.com/linoscope"},"type":"ISSUE","assignee":{"id":2923010,"username":"eugenz","name":"Eugen Zalinescu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2923010/avatar.png","web_url":"https://gitlab.com/eugenz"},"user_notes_count":3,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/5134","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":100,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/5134","notes":"https://gitlab.com/api/v4/projects/3836952/issues/5134/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/5134/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#5134","relative":"#5134","full":"tezos/tezos#5134"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":125099090,"iid":5095,"project_id":3836952,"title":"Gossipsub: backoff and connection clearing","description":"In the Go implementation:\n* `RemovePeer` removes the peers from the state, but does not update the backoffs at all\n* the backoffs are removed independently from `RemovePeer`, based on time alone, during heartbeat\n\nIn our implementation:\n* `RemovePeer` sets an expiring time for the connection, using the `retain_duration` constant\n*  the backoffs **and** the connection are possibly removed (based on their expiring times) during the heartbeat; in particular, a connection is removed only if there are no backoffs associated.\n\nI opened this issue to :\n- check that this makes sense\n- see whether there are obvious simplifications","state":"closed","created_at":"2023-03-10T12:37:12.719Z","updated_at":"2023-04-11T08:37:55.444Z","closed_at":"2023-04-11T08:37:55.383Z","closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8770486/avatar.png","web_url":"https://gitlab.com/nomadic-margebot"},"labels":["DAL","state::in-progress"],"milestone":{"id":3005814,"iid":192,"project_id":3836952,"title":"DAL: Implementing gossipsub","description":"This milestone is part of the DAL design described in [this document](https://hackmd.io/@p-cUv0l5RNaDKBCowZ0IzA/HJgFgSzpo). \r\n\r\n### Motivation\r\n\r\nThe current Octez P2P library implements two protocols:\r\n- One to instantiate a secure channel with another peer on top of the TCP protocol\r\n- One to implement a gossip algorithm with peer discovery\r\n\r\nThe first protocol fits the needs of the DAL, but the second does not. The technical solution chosen was to implement another gossip algorithm called [gossipsub](https://github.com/libp2p/specs/tree/master/pubsub/gossipsub). The DAL design document explains and argue why this algorithm fits to the needs of the DAL.\r\n\r\n### Scope\r\n\r\nThis milestone is part of the OKR **Design for P2P that supports sampling**.\r\n\r\n### Design\r\n\r\nRefer to this [subsection](https://hackmd.io/@p-cUv0l5RNaDKBCowZ0IzA/HJgFgSzpo/https%3A%2F%2Fhackmd.io%2FUQuA_59QRdOjU47fGM9CsQ%23Topological-constraints#Integrating-gossipsub-in-the-Tezos-codebase) of the DAL design document.\r\n\r\n### Work breakdown\r\n\r\nCheckout the [Meeting notes](https://hackmd.io/LLe-SedVSeqknK2ghF8tQw)","state":"active","created_at":"2023-02-27T09:42:42.776Z","updated_at":"2023-04-18T12:24:54.395Z","due_date":"2023-05-26","start_date":"2023-02-27","expired":false,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/192"},"assignees":[{"id":3222789,"username":"igarnier","name":"Ilias Garnier","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3222789/avatar.png","web_url":"https://gitlab.com/igarnier"}],"author":{"id":2923010,"username":"eugenz","name":"Eugen Zalinescu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2923010/avatar.png","web_url":"https://gitlab.com/eugenz"},"type":"ISSUE","assignee":{"id":3222789,"username":"igarnier","name":"Ilias Garnier","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3222789/avatar.png","web_url":"https://gitlab.com/igarnier"},"user_notes_count":3,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/5095","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":50,"blocking_issues_count":1,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/5095","notes":"https://gitlab.com/api/v4/projects/3836952/issues/5095/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/5095/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#5095","relative":"#5095","full":"tezos/tezos#5095"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":124884495,"iid":5066,"project_id":3836952,"title":"Gossipsub: prepare gossip messages during heartbeat","description":"","state":"closed","created_at":"2023-03-07T14:05:02.458Z","updated_at":"2023-04-07T16:35:18.215Z","closed_at":"2023-04-07T16:35:18.187Z","closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8770486/avatar.png","web_url":"https://gitlab.com/nomadic-margebot"},"labels":["DAL","state::in-review"],"milestone":{"id":3005814,"iid":192,"project_id":3836952,"title":"DAL: Implementing gossipsub","description":"This milestone is part of the DAL design described in [this document](https://hackmd.io/@p-cUv0l5RNaDKBCowZ0IzA/HJgFgSzpo). \r\n\r\n### Motivation\r\n\r\nThe current Octez P2P library implements two protocols:\r\n- One to instantiate a secure channel with another peer on top of the TCP protocol\r\n- One to implement a gossip algorithm with peer discovery\r\n\r\nThe first protocol fits the needs of the DAL, but the second does not. The technical solution chosen was to implement another gossip algorithm called [gossipsub](https://github.com/libp2p/specs/tree/master/pubsub/gossipsub). The DAL design document explains and argue why this algorithm fits to the needs of the DAL.\r\n\r\n### Scope\r\n\r\nThis milestone is part of the OKR **Design for P2P that supports sampling**.\r\n\r\n### Design\r\n\r\nRefer to this [subsection](https://hackmd.io/@p-cUv0l5RNaDKBCowZ0IzA/HJgFgSzpo/https%3A%2F%2Fhackmd.io%2FUQuA_59QRdOjU47fGM9CsQ%23Topological-constraints#Integrating-gossipsub-in-the-Tezos-codebase) of the DAL design document.\r\n\r\n### Work breakdown\r\n\r\nCheckout the [Meeting notes](https://hackmd.io/LLe-SedVSeqknK2ghF8tQw)","state":"active","created_at":"2023-02-27T09:42:42.776Z","updated_at":"2023-04-18T12:24:54.395Z","due_date":"2023-05-26","start_date":"2023-02-27","expired":false,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/192"},"assignees":[{"id":2923010,"username":"eugenz","name":"Eugen Zalinescu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2923010/avatar.png","web_url":"https://gitlab.com/eugenz"}],"author":{"id":2923010,"username":"eugenz","name":"Eugen Zalinescu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2923010/avatar.png","web_url":"https://gitlab.com/eugenz"},"type":"ISSUE","assignee":{"id":2923010,"username":"eugenz","name":"Eugen Zalinescu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2923010/avatar.png","web_url":"https://gitlab.com/eugenz"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/5066","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":100,"blocking_issues_count":0,"has_tasks":true,"task_status":"","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/5066","notes":"https://gitlab.com/api/v4/projects/3836952/issues/5066/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/5066/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#5066","relative":"#5066","full":"tezos/tezos#5066"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":124570375,"iid":5009,"project_id":3836952,"title":"Gossipsub: Score check is missing for IHave control message","description":"The following discussion from !7594 should be addressed:\n\n- [ ] @linoscope started a [discussion](https://gitlab.com/tezos/tezos/-/merge_requests/7594#note_1296475507): \n\n    \u003e Missing score check in this `handle` too.","state":"closed","created_at":"2023-03-01T17:02:38.105Z","updated_at":"2023-04-12T12:15:36.175Z","closed_at":"2023-04-12T12:15:36.153Z","closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8770486/avatar.png","web_url":"https://gitlab.com/nomadic-margebot"},"labels":[],"milestone":{"id":3005814,"iid":192,"project_id":3836952,"title":"DAL: Implementing gossipsub","description":"This milestone is part of the DAL design described in [this document](https://hackmd.io/@p-cUv0l5RNaDKBCowZ0IzA/HJgFgSzpo). \r\n\r\n### Motivation\r\n\r\nThe current Octez P2P library implements two protocols:\r\n- One to instantiate a secure channel with another peer on top of the TCP protocol\r\n- One to implement a gossip algorithm with peer discovery\r\n\r\nThe first protocol fits the needs of the DAL, but the second does not. The technical solution chosen was to implement another gossip algorithm called [gossipsub](https://github.com/libp2p/specs/tree/master/pubsub/gossipsub). The DAL design document explains and argue why this algorithm fits to the needs of the DAL.\r\n\r\n### Scope\r\n\r\nThis milestone is part of the OKR **Design for P2P that supports sampling**.\r\n\r\n### Design\r\n\r\nRefer to this [subsection](https://hackmd.io/@p-cUv0l5RNaDKBCowZ0IzA/HJgFgSzpo/https%3A%2F%2Fhackmd.io%2FUQuA_59QRdOjU47fGM9CsQ%23Topological-constraints#Integrating-gossipsub-in-the-Tezos-codebase) of the DAL design document.\r\n\r\n### Work breakdown\r\n\r\nCheckout the [Meeting notes](https://hackmd.io/LLe-SedVSeqknK2ghF8tQw)","state":"active","created_at":"2023-02-27T09:42:42.776Z","updated_at":"2023-04-18T12:24:54.395Z","due_date":"2023-05-26","start_date":"2023-02-27","expired":false,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/192"},"assignees":[{"id":11214295,"username":"linoscope","name":"Lin Oshitani","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11214295/avatar.png","web_url":"https://gitlab.com/linoscope"}],"author":{"id":5263657,"username":"Saroupille","name":"François Thiré","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dcecc9a8d97b503a3d28025c9b78e8ab?s=80\u0026d=identicon","web_url":"https://gitlab.com/Saroupille"},"type":"ISSUE","assignee":{"id":11214295,"username":"linoscope","name":"Lin Oshitani","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11214295/avatar.png","web_url":"https://gitlab.com/linoscope"},"user_notes_count":1,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/5009","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":100,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/5009","notes":"https://gitlab.com/api/v4/projects/3836952/issues/5009/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/5009/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#5009","relative":"#5009","full":"tezos/tezos#5009"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":124570310,"iid":5008,"project_id":3836952,"title":"Gossipsub: Score check is missing for IWant","description":"The following discussion from !7594 should be addressed:\n\n- [ ] @linoscope started a [discussion](https://gitlab.com/tezos/tezos/-/merge_requests/7594#note_1296353868): \n\n    \u003e The score check is missing ([go implementation](https://github.com/libp2p/go-libp2p-pubsub/blob/56c0e6c5c9dfcc6cd3214e59ef19456dc0171574/gossipsub.go#L699))","state":"closed","created_at":"2023-03-01T17:00:50.571Z","updated_at":"2023-04-12T12:15:36.190Z","closed_at":"2023-04-12T12:15:36.160Z","closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8770486/avatar.png","web_url":"https://gitlab.com/nomadic-margebot"},"labels":[],"milestone":{"id":3005814,"iid":192,"project_id":3836952,"title":"DAL: Implementing gossipsub","description":"This milestone is part of the DAL design described in [this document](https://hackmd.io/@p-cUv0l5RNaDKBCowZ0IzA/HJgFgSzpo). \r\n\r\n### Motivation\r\n\r\nThe current Octez P2P library implements two protocols:\r\n- One to instantiate a secure channel with another peer on top of the TCP protocol\r\n- One to implement a gossip algorithm with peer discovery\r\n\r\nThe first protocol fits the needs of the DAL, but the second does not. The technical solution chosen was to implement another gossip algorithm called [gossipsub](https://github.com/libp2p/specs/tree/master/pubsub/gossipsub). The DAL design document explains and argue why this algorithm fits to the needs of the DAL.\r\n\r\n### Scope\r\n\r\nThis milestone is part of the OKR **Design for P2P that supports sampling**.\r\n\r\n### Design\r\n\r\nRefer to this [subsection](https://hackmd.io/@p-cUv0l5RNaDKBCowZ0IzA/HJgFgSzpo/https%3A%2F%2Fhackmd.io%2FUQuA_59QRdOjU47fGM9CsQ%23Topological-constraints#Integrating-gossipsub-in-the-Tezos-codebase) of the DAL design document.\r\n\r\n### Work breakdown\r\n\r\nCheckout the [Meeting notes](https://hackmd.io/LLe-SedVSeqknK2ghF8tQw)","state":"active","created_at":"2023-02-27T09:42:42.776Z","updated_at":"2023-04-18T12:24:54.395Z","due_date":"2023-05-26","start_date":"2023-02-27","expired":false,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/192"},"assignees":[{"id":11214295,"username":"linoscope","name":"Lin Oshitani","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11214295/avatar.png","web_url":"https://gitlab.com/linoscope"}],"author":{"id":5263657,"username":"Saroupille","name":"François Thiré","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dcecc9a8d97b503a3d28025c9b78e8ab?s=80\u0026d=identicon","web_url":"https://gitlab.com/Saroupille"},"type":"ISSUE","assignee":{"id":11214295,"username":"linoscope","name":"Lin Oshitani","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11214295/avatar.png","web_url":"https://gitlab.com/linoscope"},"user_notes_count":1,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/5008","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":100,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/5008","notes":"https://gitlab.com/api/v4/projects/3836952/issues/5008/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/5008/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#5008","relative":"#5008","full":"tezos/tezos#5008"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":124570183,"iid":5007,"project_id":3836952,"title":"Gossipsub: Grafting with negative score","description":"The following discussion from !7594 should be addressed:\n\n- [ ] @linoscope started a [discussion](https://gitlab.com/tezos/tezos/-/merge_requests/7594#note_1296319510):  (+1 comment)\n\n    \u003e We are missing the score check ([go implmenetation](https://github.com/libp2p/go-libp2p-pubsub/blob/56c0e6c5c9dfcc6cd3214e59ef19456dc0171574/gossipsub.go#L801)). Feel free to address in a future issue, but let's be careful not to forget.","state":"closed","created_at":"2023-03-01T16:57:46.456Z","updated_at":"2023-04-01T13:24:22.913Z","closed_at":"2023-04-01T13:24:22.887Z","closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8770486/avatar.png","web_url":"https://gitlab.com/nomadic-margebot"},"labels":[],"milestone":{"id":3005814,"iid":192,"project_id":3836952,"title":"DAL: Implementing gossipsub","description":"This milestone is part of the DAL design described in [this document](https://hackmd.io/@p-cUv0l5RNaDKBCowZ0IzA/HJgFgSzpo). \r\n\r\n### Motivation\r\n\r\nThe current Octez P2P library implements two protocols:\r\n- One to instantiate a secure channel with another peer on top of the TCP protocol\r\n- One to implement a gossip algorithm with peer discovery\r\n\r\nThe first protocol fits the needs of the DAL, but the second does not. The technical solution chosen was to implement another gossip algorithm called [gossipsub](https://github.com/libp2p/specs/tree/master/pubsub/gossipsub). The DAL design document explains and argue why this algorithm fits to the needs of the DAL.\r\n\r\n### Scope\r\n\r\nThis milestone is part of the OKR **Design for P2P that supports sampling**.\r\n\r\n### Design\r\n\r\nRefer to this [subsection](https://hackmd.io/@p-cUv0l5RNaDKBCowZ0IzA/HJgFgSzpo/https%3A%2F%2Fhackmd.io%2FUQuA_59QRdOjU47fGM9CsQ%23Topological-constraints#Integrating-gossipsub-in-the-Tezos-codebase) of the DAL design document.\r\n\r\n### Work breakdown\r\n\r\nCheckout the [Meeting notes](https://hackmd.io/LLe-SedVSeqknK2ghF8tQw)","state":"active","created_at":"2023-02-27T09:42:42.776Z","updated_at":"2023-04-18T12:24:54.395Z","due_date":"2023-05-26","start_date":"2023-02-27","expired":false,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/192"},"assignees":[],"author":{"id":5263657,"username":"Saroupille","name":"François Thiré","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dcecc9a8d97b503a3d28025c9b78e8ab?s=80\u0026d=identicon","web_url":"https://gitlab.com/Saroupille"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/5007","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":100,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/5007","notes":"https://gitlab.com/api/v4/projects/3836952/issues/5007/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/5007/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#5007","relative":"#5007","full":"tezos/tezos#5007"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":124569284,"iid":5006,"project_id":3836952,"title":"Gossipsub: Implement backoff for pruning","description":"The backoff computation while pruning a peer is not done yet.","state":"closed","created_at":"2023-03-01T16:43:03.216Z","updated_at":"2023-04-07T07:37:02.108Z","closed_at":"2023-04-07T07:37:02.078Z","closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8770486/avatar.png","web_url":"https://gitlab.com/nomadic-margebot"},"labels":[],"milestone":{"id":3005814,"iid":192,"project_id":3836952,"title":"DAL: Implementing gossipsub","description":"This milestone is part of the DAL design described in [this document](https://hackmd.io/@p-cUv0l5RNaDKBCowZ0IzA/HJgFgSzpo). \r\n\r\n### Motivation\r\n\r\nThe current Octez P2P library implements two protocols:\r\n- One to instantiate a secure channel with another peer on top of the TCP protocol\r\n- One to implement a gossip algorithm with peer discovery\r\n\r\nThe first protocol fits the needs of the DAL, but the second does not. The technical solution chosen was to implement another gossip algorithm called [gossipsub](https://github.com/libp2p/specs/tree/master/pubsub/gossipsub). The DAL design document explains and argue why this algorithm fits to the needs of the DAL.\r\n\r\n### Scope\r\n\r\nThis milestone is part of the OKR **Design for P2P that supports sampling**.\r\n\r\n### Design\r\n\r\nRefer to this [subsection](https://hackmd.io/@p-cUv0l5RNaDKBCowZ0IzA/HJgFgSzpo/https%3A%2F%2Fhackmd.io%2FUQuA_59QRdOjU47fGM9CsQ%23Topological-constraints#Integrating-gossipsub-in-the-Tezos-codebase) of the DAL design document.\r\n\r\n### Work breakdown\r\n\r\nCheckout the [Meeting notes](https://hackmd.io/LLe-SedVSeqknK2ghF8tQw)","state":"active","created_at":"2023-02-27T09:42:42.776Z","updated_at":"2023-04-18T12:24:54.395Z","due_date":"2023-05-26","start_date":"2023-02-27","expired":false,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/192"},"assignees":[{"id":11214295,"username":"linoscope","name":"Lin Oshitani","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11214295/avatar.png","web_url":"https://gitlab.com/linoscope"}],"author":{"id":5263657,"username":"Saroupille","name":"François Thiré","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dcecc9a8d97b503a3d28025c9b78e8ab?s=80\u0026d=identicon","web_url":"https://gitlab.com/Saroupille"},"type":"ISSUE","assignee":{"id":11214295,"username":"linoscope","name":"Lin Oshitani","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11214295/avatar.png","web_url":"https://gitlab.com/linoscope"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/5006","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":100,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/5006","notes":"https://gitlab.com/api/v4/projects/3836952/issues/5006/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/5006/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#5006","relative":"#5006","full":"tezos/tezos#5006"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":123288159,"iid":4801,"project_id":3836952,"title":"Node/logs: remove sections from default stdout logs","description":"Section are not useful to the user and still occupy a lot of place in the default stdout logs.\nDefault filedescriptor sink already stores sections, so we can safely remove them from stdout logs.","state":"closed","created_at":"2023-02-08T13:12:02.609Z","updated_at":"2023-02-15T20:03:51.765Z","closed_at":"2023-02-15T20:03:51.453Z","closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8770486/avatar.png","web_url":"https://gitlab.com/nomadic-margebot"},"labels":["Improve UX","logging","node 🖥"],"milestone":{"id":2942255,"iid":157,"project_id":3836952,"title":"Better node logs","description":"The goal of this milestone is to improve default node logs UX\r\n\r\nhttps://codimd.nomadic-labs.com/WNWdW2CqRzyiVUePbOhnrg","state":"closed","created_at":"2023-01-12T13:33:22.523Z","updated_at":"2023-02-20T16:28:33.354Z","due_date":"2023-02-28","start_date":"2023-01-08","expired":true,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/157"},"assignees":[{"id":5407179,"username":"remyzorg","name":"Rémy El Sibaïe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5407179/avatar.png","web_url":"https://gitlab.com/remyzorg"}],"author":{"id":5407179,"username":"remyzorg","name":"Rémy El Sibaïe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5407179/avatar.png","web_url":"https://gitlab.com/remyzorg"},"type":"ISSUE","assignee":{"id":5407179,"username":"remyzorg","name":"Rémy El Sibaïe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5407179/avatar.png","web_url":"https://gitlab.com/remyzorg"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/4801","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/4801","notes":"https://gitlab.com/api/v4/projects/3836952/issues/4801/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/4801/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#4801","relative":"#4801","full":"tezos/tezos#4801"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":123015056,"iid":4768,"project_id":3836952,"title":"Node logs: activate daily-logs by default on disk","description":"","state":"closed","created_at":"2023-02-03T16:05:34.443Z","updated_at":"2023-02-14T13:03:46.730Z","closed_at":"2023-02-14T13:03:46.714Z","closed_by":{"id":5407179,"username":"remyzorg","name":"Rémy El Sibaïe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5407179/avatar.png","web_url":"https://gitlab.com/remyzorg"},"labels":["Improve UX","logging","node 🖥"],"milestone":{"id":2942255,"iid":157,"project_id":3836952,"title":"Better node logs","description":"The goal of this milestone is to improve default node logs UX\r\n\r\nhttps://codimd.nomadic-labs.com/WNWdW2CqRzyiVUePbOhnrg","state":"closed","created_at":"2023-01-12T13:33:22.523Z","updated_at":"2023-02-20T16:28:33.354Z","due_date":"2023-02-28","start_date":"2023-01-08","expired":true,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/157"},"assignees":[{"id":5407179,"username":"remyzorg","name":"Rémy El Sibaïe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5407179/avatar.png","web_url":"https://gitlab.com/remyzorg"}],"author":{"id":5407179,"username":"remyzorg","name":"Rémy El Sibaïe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5407179/avatar.png","web_url":"https://gitlab.com/remyzorg"},"type":"ISSUE","assignee":{"id":5407179,"username":"remyzorg","name":"Rémy El Sibaïe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5407179/avatar.png","web_url":"https://gitlab.com/remyzorg"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/4768","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":true,"task_status":"","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/4768","notes":"https://gitlab.com/api/v4/projects/3836952/issues/4768/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/4768/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#4768","relative":"#4768","full":"tezos/tezos#4768"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":122477585,"iid":4686,"project_id":3836952,"title":"Remove pytest framework","description":"","state":"closed","created_at":"2023-01-26T10:06:10.709Z","updated_at":"2023-03-06T08:32:14.469Z","closed_at":"2023-03-06T08:32:14.410Z","closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8770486/avatar.png","web_url":"https://gitlab.com/nomadic-margebot"},"labels":["CI ⚙","doc 📖","python  🐍","state::in-progress","test ⚒","tests::pytest"],"milestone":{"id":2929075,"iid":155,"project_id":3836952,"title":"Py2ml#3: Keep on slogging","description":"See https://hackmd.io/fwsV80pYT5OYKf0biYz9nA\r\n\r\nOwner: @arvidnl\r\n\r\nGoal: Translate remaining Python tests to OCaml\r\n\r\nAcceptance criteria: all remaining python tests are rewritten in OCaml.","state":"closed","created_at":"2023-01-03T12:39:45.938Z","updated_at":"2023-03-06T08:55:02.419Z","due_date":"2023-03-31","start_date":"2023-01-01","expired":true,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/155"},"assignees":[],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/4686","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":8,"blocking_issues_count":0,"has_tasks":true,"task_status":"","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/4686","notes":"https://gitlab.com/api/v4/projects/3836952/issues/4686/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/4686/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#4686","relative":"#4686","full":"tezos/tezos#4686"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":122432229,"iid":4677,"project_id":3836952,"title":"lib_store: higher level of verbosity for a few events","description":"```\n2023-01-24T14:31:21.199-00:00 [validator.blockprechecked_block] prechecked block BMHjBfXHWQs2S93kcRtVcXsMskmvSqHaaLuB8pU2rJTgwFbQQwm\n2023-01-24T14:31:21.199-00:00 [node.storestore_prechecked_block] prechecked block   BMHjBfXHWQs2S93kcRtVcXsMskmvSqHaaLuB8pU2rJTgwFbQQwm (level: 31) was stored\n2023-01-24T14:31:21.214-00:00 [node.storestore_block] block BMHjBfXHWQs2S93kcRtVcXsMskmvSqHaaLuB8pU2rJTgwFbQQwm (level: 31) was   stored\n2023-01-24T14:31:21.214-00:00 [validator.blockvalidation_success] block BMHjBfXHWQs2S93kcRtVcXsMskmvSqHaaLuB8pU2rJTgwFbQQwm validated   Request pushed on 2023-01-24T14:31:21.182-00:00, treated in 8.306us, completed in 31.838ms\n2023-01-24T14:31:21.215-00:00 [node.storeset_head] BMHjBfXHWQs2S93kcRtVcXsMskmvSqHaaLuB8pU2rJTgwFbQQwm (level: 31) set as new   head\n2023-01-24T14:31:21.216-00:00 [validator.chainhead_increment] Update current head to BMHjBfXHWQs2S93kcRtVcXsMskmvSqHaaLuB8pU2rJTgwFbQQwm   (level 31, timestamp 2022-10-13T16:06:50-00:00, fitness   02::0000001f::::ffffffff::00000000), same branch\n```\n\nStore events creates a lot of noise when treating a block. These events should probably be in `Debug` instead of `Info`.","state":"closed","created_at":"2023-01-25T14:27:15.217Z","updated_at":"2023-02-08T14:45:05.402Z","closed_at":"2023-02-02T09:50:25.357Z","closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8770486/avatar.png","web_url":"https://gitlab.com/nomadic-margebot"},"labels":["Improve UX","logging","node 🖥"],"milestone":null,"assignees":[{"id":5407179,"username":"remyzorg","name":"Rémy El Sibaïe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5407179/avatar.png","web_url":"https://gitlab.com/remyzorg"}],"author":{"id":5407179,"username":"remyzorg","name":"Rémy El Sibaïe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5407179/avatar.png","web_url":"https://gitlab.com/remyzorg"},"type":"ISSUE","assignee":{"id":5407179,"username":"remyzorg","name":"Rémy El Sibaïe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5407179/avatar.png","web_url":"https://gitlab.com/remyzorg"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/4677","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/4677","notes":"https://gitlab.com/api/v4/projects/3836952/issues/4677/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/4677/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#4677","relative":"#4677","full":"tezos/tezos#4677"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":122431624,"iid":4676,"project_id":3836952,"title":"File-descriptor sink: missing dot between section and event name","description":"fixed by https://gitlab.com/tezos/tezos/-/merge_requests/7494\n\n```\n2023-01-24T14:37:11.559-00:00 [validator.chainhead_increment] Update current head to BMHUKJJdXtPEipwTM5SsxRQCE76qbbWnsXibA75sYY6shNcsUJU   (level 10009, timestamp 2022-10-15T19:23:45-00:00, fitness   02::00002719::::ffffffff::00000001), same branch\n```\n\n```\n2023-01-25T09:49:00.128-00:00 [validator.chain.head_increment] Update current head to BMJNPjiw1DkYn3NXoo6D4UQwBpyDT3rz7zmJ2mANWwxU9YFC1wn   (level 563573, timestamp 2023-01-24T14:22:35-00:00, fitness   02::00089975::::ffffffff::00000000), same branch\n```\n\n`validator.chainhead_increment` -\u003e `validator.chain.head_increment`","state":"closed","created_at":"2023-01-25T14:21:36.976Z","updated_at":"2023-01-25T14:27:28.337Z","closed_at":"2023-01-25T14:21:45.697Z","closed_by":{"id":5407179,"username":"remyzorg","name":"Rémy El Sibaïe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5407179/avatar.png","web_url":"https://gitlab.com/remyzorg"},"labels":["Improve UX","logging","node 🖥"],"milestone":{"id":2942255,"iid":157,"project_id":3836952,"title":"Better node logs","description":"The goal of this milestone is to improve default node logs UX\r\n\r\nhttps://codimd.nomadic-labs.com/WNWdW2CqRzyiVUePbOhnrg","state":"closed","created_at":"2023-01-12T13:33:22.523Z","updated_at":"2023-02-20T16:28:33.354Z","due_date":"2023-02-28","start_date":"2023-01-08","expired":true,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/157"},"assignees":[{"id":5407179,"username":"remyzorg","name":"Rémy El Sibaïe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5407179/avatar.png","web_url":"https://gitlab.com/remyzorg"}],"author":{"id":5407179,"username":"remyzorg","name":"Rémy El Sibaïe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5407179/avatar.png","web_url":"https://gitlab.com/remyzorg"},"type":"ISSUE","assignee":{"id":5407179,"username":"remyzorg","name":"Rémy El Sibaïe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5407179/avatar.png","web_url":"https://gitlab.com/remyzorg"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/4676","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/4676","notes":"https://gitlab.com/api/v4/projects/3836952/issues/4676/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/4676/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#4676","relative":"#4676","full":"tezos/tezos#4676"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":122304482,"iid":4660,"project_id":3836952,"title":"Logging: add an option enabling rotation of file-descriptor sinks on a daily basis","description":"\nGoal: cut a lot of things from the stdout logging without worrying of debugging\n\n- Add options to file-based sinks to be limited by time\n- option: `rotation-days=N`","state":"closed","created_at":"2023-01-23T14:05:02.310Z","updated_at":"2023-01-25T19:07:25.515Z","closed_at":"2023-01-25T19:07:25.494Z","closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8770486/avatar.png","web_url":"https://gitlab.com/nomadic-margebot"},"labels":["Improve UX","logging","node 🖥"],"milestone":{"id":2942255,"iid":157,"project_id":3836952,"title":"Better node logs","description":"The goal of this milestone is to improve default node logs UX\r\n\r\nhttps://codimd.nomadic-labs.com/WNWdW2CqRzyiVUePbOhnrg","state":"closed","created_at":"2023-01-12T13:33:22.523Z","updated_at":"2023-02-20T16:28:33.354Z","due_date":"2023-02-28","start_date":"2023-01-08","expired":true,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/157"},"assignees":[{"id":5407179,"username":"remyzorg","name":"Rémy El Sibaïe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5407179/avatar.png","web_url":"https://gitlab.com/remyzorg"}],"author":{"id":5407179,"username":"remyzorg","name":"Rémy El Sibaïe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5407179/avatar.png","web_url":"https://gitlab.com/remyzorg"},"type":"ISSUE","assignee":{"id":5407179,"username":"remyzorg","name":"Rémy El Sibaïe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5407179/avatar.png","web_url":"https://gitlab.com/remyzorg"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":"2023-01-30","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/4660","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/4660","notes":"https://gitlab.com/api/v4/projects/3836952/issues/4660/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/4660/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#4660","relative":"#4660","full":"tezos/tezos#4660"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":121760700,"iid":4599,"project_id":3836952,"title":"Node logs: simplify bootstrap logs","description":"Already done in a previous [non-merged request](https://gitlab.com/tezos/tezos/-/merge_requests/2344/diffs?commit_id=1916f683d6b0ed705543b3fc42bcd249e970a122).\n\n```\nDec  4 11:54:19.581 - node.validator.bootstrap_pipeline: fetching branch of about 10499 blocks from peer\nDec  4 11:54:19.581 - node.validator.bootstrap_pipeline:   idqrpoSMD3XKbsN5U8wqyT2d4SLfgv in 98 steps\n```\n\nThe section is extremely long and the wording is could be simplified.\nThe solution could be the following one.\n\n```\nDec  4 14:34:25.754 - bootstrap: fetching ~11741 blocks from peer ids9jAYxv8h4kWTi6swki3fXfTEUG1 in 100 steps\n```","state":"closed","created_at":"2023-01-13T17:45:12.031Z","updated_at":"2023-02-08T14:38:41.741Z","closed_at":"2023-02-08T14:38:41.720Z","closed_by":{"id":5407179,"username":"remyzorg","name":"Rémy El Sibaïe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5407179/avatar.png","web_url":"https://gitlab.com/remyzorg"},"labels":["Improve UX","logging","node 🖥"],"milestone":{"id":2942255,"iid":157,"project_id":3836952,"title":"Better node logs","description":"The goal of this milestone is to improve default node logs UX\r\n\r\nhttps://codimd.nomadic-labs.com/WNWdW2CqRzyiVUePbOhnrg","state":"closed","created_at":"2023-01-12T13:33:22.523Z","updated_at":"2023-02-20T16:28:33.354Z","due_date":"2023-02-28","start_date":"2023-01-08","expired":true,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/157"},"assignees":[],"author":{"id":5407179,"username":"remyzorg","name":"Rémy El Sibaïe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5407179/avatar.png","web_url":"https://gitlab.com/remyzorg"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/4599","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/4599","notes":"https://gitlab.com/api/v4/projects/3836952/issues/4599/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/4599/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#4599","relative":"#4599","full":"tezos/tezos#4599"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":121759462,"iid":4598,"project_id":3836952,"title":"lib_shell: set higher verbosity level for a few recurrent events","description":"Peers disconnection and precheck of blocks are seen as not useful to the user.\nWe would like to put it to `info` instead of `notice`","state":"closed","created_at":"2023-01-13T17:28:30.644Z","updated_at":"2023-02-17T11:50:53.392Z","closed_at":"2023-02-17T11:50:53.363Z","closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8770486/avatar.png","web_url":"https://gitlab.com/nomadic-margebot"},"labels":["Improve UX","logging","node 🖥"],"milestone":{"id":2942255,"iid":157,"project_id":3836952,"title":"Better node logs","description":"The goal of this milestone is to improve default node logs UX\r\n\r\nhttps://codimd.nomadic-labs.com/WNWdW2CqRzyiVUePbOhnrg","state":"closed","created_at":"2023-01-12T13:33:22.523Z","updated_at":"2023-02-20T16:28:33.354Z","due_date":"2023-02-28","start_date":"2023-01-08","expired":true,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/157"},"assignees":[{"id":5407179,"username":"remyzorg","name":"Rémy El Sibaïe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5407179/avatar.png","web_url":"https://gitlab.com/remyzorg"}],"author":{"id":5407179,"username":"remyzorg","name":"Rémy El Sibaïe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5407179/avatar.png","web_url":"https://gitlab.com/remyzorg"},"type":"ISSUE","assignee":{"id":5407179,"username":"remyzorg","name":"Rémy El Sibaïe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5407179/avatar.png","web_url":"https://gitlab.com/remyzorg"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/4598","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/4598","notes":"https://gitlab.com/api/v4/projects/3836952/issues/4598/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/4598/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#4598","relative":"#4598","full":"tezos/tezos#4598"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":121662378,"iid":4582,"project_id":3836952,"title":"Node logs: shortens request status size in various events","description":"```\nJan  6 14:33:10.900 - validator.block: block BLkhtA81uak1SxxCDCVMXEnXCKsJcFLajVT84ZjrFKbxAaJUL4E validated\nJan  6 14:33:10.900 - validator.block:   Request pushed on 2023-01-06T13:33:10.853-00:00, treated in 153us, completed in 45.531ms\n```\n\nIn various places, we print the request status of some Requests to workers. It is a way to know how much time an operation took (like block validation).\nHowever, it is hardly understandable by the user. \n\n- The `Request pushed` part gives no information to people with no knowledge of worker interface. \n- It is the same for the push time, on which Hour information is by the way not consistent with the log time\n- `treated` is the time elapsed between the request submission to a worker and the beginning of its _treatment_. It doesn't seem to be of any help to someone that is not looking to debug a particular worker implementation \n\n### Proposed solution\n\nSimplify the printing of the status in various places. Prevalidator and Block validator probably don't need the full printing and we could reduce the display to the `completed` information. In such a situation, the above display would become\n\n```\nJan  6 14:33:10.900 - validator.block: block BLkhtA81uak1SxxCDCVMXEnXCKsJcFLajVT84ZjrFKbxAaJUL4E validated (45.531ms)\n```","state":"closed","created_at":"2023-01-12T13:37:18.085Z","updated_at":"2023-01-24T10:20:22.368Z","closed_at":"2023-01-24T10:20:22.189Z","closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8770486/avatar.png","web_url":"https://gitlab.com/nomadic-margebot"},"labels":["Improve UX","logging","node 🖥","shell"],"milestone":{"id":2942255,"iid":157,"project_id":3836952,"title":"Better node logs","description":"The goal of this milestone is to improve default node logs UX\r\n\r\nhttps://codimd.nomadic-labs.com/WNWdW2CqRzyiVUePbOhnrg","state":"closed","created_at":"2023-01-12T13:33:22.523Z","updated_at":"2023-02-20T16:28:33.354Z","due_date":"2023-02-28","start_date":"2023-01-08","expired":true,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/157"},"assignees":[{"id":5407179,"username":"remyzorg","name":"Rémy El Sibaïe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5407179/avatar.png","web_url":"https://gitlab.com/remyzorg"}],"author":{"id":5407179,"username":"remyzorg","name":"Rémy El Sibaïe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5407179/avatar.png","web_url":"https://gitlab.com/remyzorg"},"type":"ISSUE","assignee":{"id":5407179,"username":"remyzorg","name":"Rémy El Sibaïe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5407179/avatar.png","web_url":"https://gitlab.com/remyzorg"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":"2023-01-16","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/4582","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/4582","notes":"https://gitlab.com/api/v4/projects/3836952/issues/4582/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/4582/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#4582","relative":"#4582","full":"tezos/tezos#4582"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":121662278,"iid":4581,"project_id":3836952,"title":"Node logs: remove block properties (timestamp and fitness)","description":"```\nJan  6 14:33:10.920 - validator.chain: Update current head to BLkhtA81uak1SxxCDCVMXEnXCKsJcFLajVT84ZjrFKbxAaJUL4E\nJan  6 14:33:10.920 - validator.chain:   (level 462824, timestamp 2023-01-06T13:33:10-00:00, fitness\nJan  6 14:33:10.920 - validator.chain:   02::00070fe8::::ffffffff::00000000), same branch\n```\n\nIn some events advertizing new blocks, some properties are seen as obscure, and can even be found from elsewhere, like the `fitness` or the `timestamp`. Also they are probably not greppable, not especially useful for a developper. (Could the fitness be replaced by priority instead ?)\n\n- timestamp\n  - _Regarding the Update current head to message, I think it worth keeping the timestamp. Indeed, it is easy to know if your node is \"up to date\" while looking at it (if last block timestamp is very recent). The level requires a third party to get the \"is my node synced\" information._\n  - we could replace by `4ms ago` which is shorter than `timestamp 2023-01-06T13:33:10-00:00\n  - we keep only one unit (year month s ms )\n  - is there a case where the timestamp is very different from the log date ?\n  - don't display timestamp if close to current date ?\n\n- fitness: ensure if useful or not (feedback: + Albin Romain), fitness can be found with the block hash.","state":"closed","created_at":"2023-01-12T13:35:07.037Z","updated_at":"2023-02-17T14:20:58.167Z","closed_at":"2023-02-17T14:20:58.107Z","closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8770486/avatar.png","web_url":"https://gitlab.com/nomadic-margebot"},"labels":["Improve UX","node 🖥","shell"],"milestone":{"id":2942255,"iid":157,"project_id":3836952,"title":"Better node logs","description":"The goal of this milestone is to improve default node logs UX\r\n\r\nhttps://codimd.nomadic-labs.com/WNWdW2CqRzyiVUePbOhnrg","state":"closed","created_at":"2023-01-12T13:33:22.523Z","updated_at":"2023-02-20T16:28:33.354Z","due_date":"2023-02-28","start_date":"2023-01-08","expired":true,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/157"},"assignees":[{"id":5407179,"username":"remyzorg","name":"Rémy El Sibaïe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5407179/avatar.png","web_url":"https://gitlab.com/remyzorg"}],"author":{"id":5407179,"username":"remyzorg","name":"Rémy El Sibaïe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5407179/avatar.png","web_url":"https://gitlab.com/remyzorg"},"type":"ISSUE","assignee":{"id":5407179,"username":"remyzorg","name":"Rémy El Sibaïe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5407179/avatar.png","web_url":"https://gitlab.com/remyzorg"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":"2023-01-15","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/4581","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/4581","notes":"https://gitlab.com/api/v4/projects/3836952/issues/4581/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/4581/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#4581","relative":"#4581","full":"tezos/tezos#4581"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":121161542,"iid":4502,"project_id":3836952,"title":"Translate pytest `test_contract_opcodes.py`","description":"Estimated translation time: 23 hours","state":"closed","created_at":"2023-01-03T12:47:13.823Z","updated_at":"2023-02-16T06:37:59.639Z","closed_at":"2023-02-16T06:37:59.606Z","closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8770486/avatar.png","web_url":"https://gitlab.com/nomadic-margebot"},"labels":["python  🐍","state::in-review","test ⚒","tests::tezt"],"milestone":{"id":2929075,"iid":155,"project_id":3836952,"title":"Py2ml#3: Keep on slogging","description":"See https://hackmd.io/fwsV80pYT5OYKf0biYz9nA\r\n\r\nOwner: @arvidnl\r\n\r\nGoal: Translate remaining Python tests to OCaml\r\n\r\nAcceptance criteria: all remaining python tests are rewritten in OCaml.","state":"closed","created_at":"2023-01-03T12:39:45.938Z","updated_at":"2023-03-06T08:55:02.419Z","due_date":"2023-03-31","start_date":"2023-01-01","expired":true,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/155"},"assignees":[{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"type":"ISSUE","assignee":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/4502","time_stats":{"time_estimate":82800,"total_time_spent":0,"human_time_estimate":"23h","human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":23,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/4502","notes":"https://gitlab.com/api/v4/projects/3836952/issues/4502/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/4502/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#4502","relative":"#4502","full":"tezos/tezos#4502"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":121161541,"iid":4501,"project_id":3836952,"title":"Translate pytest `test_contract_onchain_opcodes.py`","description":"Estimated translation time:53 hours.","state":"closed","created_at":"2023-01-03T12:47:13.573Z","updated_at":"2023-02-15T08:11:21.253Z","closed_at":"2023-02-15T08:11:21.235Z","closed_by":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"labels":["python  🐍","state::in-review","test ⚒","tests::tezt"],"milestone":{"id":2929075,"iid":155,"project_id":3836952,"title":"Py2ml#3: Keep on slogging","description":"See https://hackmd.io/fwsV80pYT5OYKf0biYz9nA\r\n\r\nOwner: @arvidnl\r\n\r\nGoal: Translate remaining Python tests to OCaml\r\n\r\nAcceptance criteria: all remaining python tests are rewritten in OCaml.","state":"closed","created_at":"2023-01-03T12:39:45.938Z","updated_at":"2023-03-06T08:55:02.419Z","due_date":"2023-03-31","start_date":"2023-01-01","expired":true,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/155"},"assignees":[{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"type":"ISSUE","assignee":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/4501","time_stats":{"time_estimate":190800,"total_time_spent":0,"human_time_estimate":"53h","human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":53,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/4501","notes":"https://gitlab.com/api/v4/projects/3836952/issues/4501/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/4501/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#4501","relative":"#4501","full":"tezos/tezos#4501"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":121161540,"iid":4500,"project_id":3836952,"title":"Translate pytest `test_contract_macros.py`","description":"Estimated translation time: 20 hours.","state":"closed","created_at":"2023-01-03T12:47:13.337Z","updated_at":"2023-02-14T13:19:27.390Z","closed_at":"2023-02-14T13:19:27.301Z","closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8770486/avatar.png","web_url":"https://gitlab.com/nomadic-margebot"},"labels":["python  🐍","state::in-review","test ⚒","tests::tezt"],"milestone":{"id":2929075,"iid":155,"project_id":3836952,"title":"Py2ml#3: Keep on slogging","description":"See https://hackmd.io/fwsV80pYT5OYKf0biYz9nA\r\n\r\nOwner: @arvidnl\r\n\r\nGoal: Translate remaining Python tests to OCaml\r\n\r\nAcceptance criteria: all remaining python tests are rewritten in OCaml.","state":"closed","created_at":"2023-01-03T12:39:45.938Z","updated_at":"2023-03-06T08:55:02.419Z","due_date":"2023-03-31","start_date":"2023-01-01","expired":true,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/155"},"assignees":[{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"type":"ISSUE","assignee":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/4500","time_stats":{"time_estimate":72000,"total_time_spent":0,"human_time_estimate":"20h","human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":20,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/4500","notes":"https://gitlab.com/api/v4/projects/3836952/issues/4500/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/4500/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#4500","relative":"#4500","full":"tezos/tezos#4500"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":121161539,"iid":4499,"project_id":3836952,"title":"Translate pytest `test_contract_baker.py`","description":"Estimated translation time:  2 hours.","state":"closed","created_at":"2023-01-03T12:47:13.147Z","updated_at":"2023-02-03T09:52:13.798Z","closed_at":"2023-02-03T09:52:13.775Z","closed_by":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"labels":["python  🐍","state::in-review","test ⚒","tests::tezt"],"milestone":{"id":2929075,"iid":155,"project_id":3836952,"title":"Py2ml#3: Keep on slogging","description":"See https://hackmd.io/fwsV80pYT5OYKf0biYz9nA\r\n\r\nOwner: @arvidnl\r\n\r\nGoal: Translate remaining Python tests to OCaml\r\n\r\nAcceptance criteria: all remaining python tests are rewritten in OCaml.","state":"closed","created_at":"2023-01-03T12:39:45.938Z","updated_at":"2023-03-06T08:55:02.419Z","due_date":"2023-03-31","start_date":"2023-01-01","expired":true,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/155"},"assignees":[{"id":1718826,"username":"lykimquyen","name":"lykimquyen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/e6366ed868934e6ce5ab7eccb3dac23b?s=80\u0026d=identicon","web_url":"https://gitlab.com/lykimquyen"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"type":"ISSUE","assignee":{"id":1718826,"username":"lykimquyen","name":"lykimquyen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/e6366ed868934e6ce5ab7eccb3dac23b?s=80\u0026d=identicon","web_url":"https://gitlab.com/lykimquyen"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/4499","time_stats":{"time_estimate":7200,"total_time_spent":0,"human_time_estimate":"2h","human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/4499","notes":"https://gitlab.com/api/v4/projects/3836952/issues/4499/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/4499/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#4499","relative":"#4499","full":"tezos/tezos#4499"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":121161537,"iid":4498,"project_id":3836952,"title":"Translate pytest `test_contract_annotations.py`","description":"Estimated translation time:  5 hours.","state":"closed","created_at":"2023-01-03T12:47:12.316Z","updated_at":"2023-02-01T12:38:59.547Z","closed_at":"2023-02-01T12:38:59.519Z","closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8770486/avatar.png","web_url":"https://gitlab.com/nomadic-margebot"},"labels":["python  🐍","state::in-review","test ⚒","tests::tezt"],"milestone":{"id":2929075,"iid":155,"project_id":3836952,"title":"Py2ml#3: Keep on slogging","description":"See https://hackmd.io/fwsV80pYT5OYKf0biYz9nA\r\n\r\nOwner: @arvidnl\r\n\r\nGoal: Translate remaining Python tests to OCaml\r\n\r\nAcceptance criteria: all remaining python tests are rewritten in OCaml.","state":"closed","created_at":"2023-01-03T12:39:45.938Z","updated_at":"2023-03-06T08:55:02.419Z","due_date":"2023-03-31","start_date":"2023-01-01","expired":true,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/155"},"assignees":[{"id":10774865,"username":"xf6","name":"X","state":"active","avatar_url":"https://secure.gravatar.com/avatar/e10670647075a14ad41bb15234785f64?s=80\u0026d=identicon","web_url":"https://gitlab.com/xf6"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"type":"ISSUE","assignee":{"id":10774865,"username":"xf6","name":"X","state":"active","avatar_url":"https://secure.gravatar.com/avatar/e10670647075a14ad41bb15234785f64?s=80\u0026d=identicon","web_url":"https://gitlab.com/xf6"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/4498","time_stats":{"time_estimate":18000,"total_time_spent":0,"human_time_estimate":"5h","human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/4498","notes":"https://gitlab.com/api/v4/projects/3836952/issues/4498/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/4498/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#4498","relative":"#4498","full":"tezos/tezos#4498"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":116884253,"iid":4011,"project_id":3836952,"title":"EVM on WASM: mock host functions for store_move and store_copy","description":"# Goal\n\nImplement mock versions of the `store_move` and `store_copy` functions also available on the host through the WASM PVM.","state":"closed","created_at":"2022-10-14T09:39:51.788Z","updated_at":"2022-11-01T11:42:02.635Z","closed_at":"2022-11-01T11:42:02.592Z","closed_by":{"id":11403341,"username":"thomas.pecseli","name":"Thomas Pecseli","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3775b505539832eeb48b4a781ed3dcd7?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomas.pecseli"},"labels":[],"milestone":{"id":2730112,"iid":109,"project_id":3836952,"title":"EVM on WASM: Storage","description":"# Goal\r\n\r\nThe TX- and EVM- kernel uses WASM PVM storage for storing contract code and data.\r\n\r\n## Context\r\n\r\nThe WASM PVM has a limit on RAM/volatile memory of 4GB. In time, the TX- and EVM- kernel may have to store way more data than that once contracts get created and run. \r\n\r\nAlso, we are not able to store data in RAM across calls to `kernel_next`.\r\n\r\nWe have \"special\" host functions for copy and move, that exploit Irmin functionality as exposed by the WASM PVM. They should be much faster than doing this by simply reading/writing/deleting. Such functions will come in handy when implementing transaction creation, commit, and rollback.\r\n\r\nThis milestone depends on WASM PVM milestone 105: https://gitlab.com/tezos/tezos/-/milestones/105.\r\n\r\n## Implementation\r\n\r\n- [X] Host functions for reading-from-/writing-to- durable storage. Implemented in WASM PVM. See the [SCORU Wasm - Output and Durable Storage](https://gitlab.com/tezos/tezos/-/milestones/105#tab-issues) milestone.\r\n- [X] Interface to those host functions implemented in the WASM kernel as *safe* Rust functions wrapping the *unsafe* host functions.\r\n\r\n### Ethereum storage interface\r\n\r\n- [ ] Loading and storing contract code (there are several use cases for loading contract code - see below).\r\n- [ ] Loading and storing contract data\r\n- [ ] Loading and storing basic account data (Ethereum Yellow Paper section 4)\r\n- [ ] Loading and storing blocks (including block hash, gas price, et.c.)\r\n- [X] Transaction stack with commit and revert\r\n\r\n## Confidence\r\n\r\n- [X] Testing of host functions (if not done when implemented in WASM PVM)\r\n- [X] Test mock runtime host function implementation\r\n- [ ] Unit testing of all Ethereum storage interface functions","state":"closed","created_at":"2022-08-09T09:53:29.156Z","updated_at":"2023-04-20T13:31:39.481Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/109"},"assignees":[{"id":11403341,"username":"thomas.pecseli","name":"Thomas Pecseli","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3775b505539832eeb48b4a781ed3dcd7?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomas.pecseli"}],"author":{"id":11403341,"username":"thomas.pecseli","name":"Thomas Pecseli","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3775b505539832eeb48b4a781ed3dcd7?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomas.pecseli"},"type":"ISSUE","assignee":{"id":11403341,"username":"thomas.pecseli","name":"Thomas Pecseli","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3775b505539832eeb48b4a781ed3dcd7?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomas.pecseli"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/4011","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/4011","notes":"https://gitlab.com/api/v4/projects/3836952/issues/4011/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/4011/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#4011","relative":"#4011","full":"tezos/tezos#4011"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":116884160,"iid":4010,"project_id":3836952,"title":"EVM on WASM: store_move and store_copy","description":"## Goal\n\nImplement kernel side of `store_move` and `store_copy`. Functions already available through the WASM PVM. We need to add them to the host runtime interface in Rust.","state":"closed","created_at":"2022-10-14T09:38:05.683Z","updated_at":"2022-11-01T11:42:02.597Z","closed_at":"2022-11-01T11:42:02.564Z","closed_by":{"id":11403341,"username":"thomas.pecseli","name":"Thomas Pecseli","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3775b505539832eeb48b4a781ed3dcd7?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomas.pecseli"},"labels":[],"milestone":{"id":2730112,"iid":109,"project_id":3836952,"title":"EVM on WASM: Storage","description":"# Goal\r\n\r\nThe TX- and EVM- kernel uses WASM PVM storage for storing contract code and data.\r\n\r\n## Context\r\n\r\nThe WASM PVM has a limit on RAM/volatile memory of 4GB. In time, the TX- and EVM- kernel may have to store way more data than that once contracts get created and run. \r\n\r\nAlso, we are not able to store data in RAM across calls to `kernel_next`.\r\n\r\nWe have \"special\" host functions for copy and move, that exploit Irmin functionality as exposed by the WASM PVM. They should be much faster than doing this by simply reading/writing/deleting. Such functions will come in handy when implementing transaction creation, commit, and rollback.\r\n\r\nThis milestone depends on WASM PVM milestone 105: https://gitlab.com/tezos/tezos/-/milestones/105.\r\n\r\n## Implementation\r\n\r\n- [X] Host functions for reading-from-/writing-to- durable storage. Implemented in WASM PVM. See the [SCORU Wasm - Output and Durable Storage](https://gitlab.com/tezos/tezos/-/milestones/105#tab-issues) milestone.\r\n- [X] Interface to those host functions implemented in the WASM kernel as *safe* Rust functions wrapping the *unsafe* host functions.\r\n\r\n### Ethereum storage interface\r\n\r\n- [ ] Loading and storing contract code (there are several use cases for loading contract code - see below).\r\n- [ ] Loading and storing contract data\r\n- [ ] Loading and storing basic account data (Ethereum Yellow Paper section 4)\r\n- [ ] Loading and storing blocks (including block hash, gas price, et.c.)\r\n- [X] Transaction stack with commit and revert\r\n\r\n## Confidence\r\n\r\n- [X] Testing of host functions (if not done when implemented in WASM PVM)\r\n- [X] Test mock runtime host function implementation\r\n- [ ] Unit testing of all Ethereum storage interface functions","state":"closed","created_at":"2022-08-09T09:53:29.156Z","updated_at":"2023-04-20T13:31:39.481Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/109"},"assignees":[{"id":11403341,"username":"thomas.pecseli","name":"Thomas Pecseli","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3775b505539832eeb48b4a781ed3dcd7?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomas.pecseli"}],"author":{"id":11403341,"username":"thomas.pecseli","name":"Thomas Pecseli","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3775b505539832eeb48b4a781ed3dcd7?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomas.pecseli"},"type":"ISSUE","assignee":{"id":11403341,"username":"thomas.pecseli","name":"Thomas Pecseli","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3775b505539832eeb48b4a781ed3dcd7?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomas.pecseli"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/4010","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/4010","notes":"https://gitlab.com/api/v4/projects/3836952/issues/4010/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/4010/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#4010","relative":"#4010","full":"tezos/tezos#4010"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":116462276,"iid":3967,"project_id":3836952,"title":"Translate pytest `test_voting.py`","description":"estimated translation time: 12 hours","state":"closed","created_at":"2022-10-07T12:16:54.427Z","updated_at":"2023-01-17T15:57:22.509Z","closed_at":"2023-01-17T15:57:22.477Z","closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8770486/avatar.png","web_url":"https://gitlab.com/nomadic-margebot"},"labels":["python  🐍","state::in-review","test ⚒","tests::pytest"],"milestone":{"id":2929075,"iid":155,"project_id":3836952,"title":"Py2ml#3: Keep on slogging","description":"See https://hackmd.io/fwsV80pYT5OYKf0biYz9nA\r\n\r\nOwner: @arvidnl\r\n\r\nGoal: Translate remaining Python tests to OCaml\r\n\r\nAcceptance criteria: all remaining python tests are rewritten in OCaml.","state":"closed","created_at":"2023-01-03T12:39:45.938Z","updated_at":"2023-03-06T08:55:02.419Z","due_date":"2023-03-31","start_date":"2023-01-01","expired":true,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/155"},"assignees":[{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"type":"ISSUE","assignee":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"user_notes_count":1,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/3967","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":12,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/3967","notes":"https://gitlab.com/api/v4/projects/3836952/issues/3967/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/3967/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#3967","relative":"#3967","full":"tezos/tezos#3967"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":116462275,"iid":3966,"project_id":3836952,"title":"Translate pytest `test_tls.py`","description":"estimated translation time: 2 hours","state":"closed","created_at":"2022-10-07T12:16:54.326Z","updated_at":"2023-01-16T10:07:53.540Z","closed_at":"2023-01-16T10:07:53.516Z","closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8770486/avatar.png","web_url":"https://gitlab.com/nomadic-margebot"},"labels":["python  🐍","state::in-review","test ⚒","tests::pytest"],"milestone":{"id":2929075,"iid":155,"project_id":3836952,"title":"Py2ml#3: Keep on slogging","description":"See https://hackmd.io/fwsV80pYT5OYKf0biYz9nA\r\n\r\nOwner: @arvidnl\r\n\r\nGoal: Translate remaining Python tests to OCaml\r\n\r\nAcceptance criteria: all remaining python tests are rewritten in OCaml.","state":"closed","created_at":"2023-01-03T12:39:45.938Z","updated_at":"2023-03-06T08:55:02.419Z","due_date":"2023-03-31","start_date":"2023-01-01","expired":true,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/155"},"assignees":[{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"type":"ISSUE","assignee":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"user_notes_count":1,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/3966","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/3966","notes":"https://gitlab.com/api/v4/projects/3836952/issues/3966/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/3966/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#3966","relative":"#3966","full":"tezos/tezos#3966"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":116462274,"iid":3965,"project_id":3836952,"title":"Translate pytest `test_proto_demo_noops_manual_bake.py`","description":"estimated translation time: 4 hours","state":"closed","created_at":"2022-10-07T12:16:54.203Z","updated_at":"2023-02-01T16:20:34.685Z","closed_at":"2023-02-01T16:20:34.659Z","closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8770486/avatar.png","web_url":"https://gitlab.com/nomadic-margebot"},"labels":["python  🐍","state::in-review","test ⚒","tests::pytest"],"milestone":{"id":2929075,"iid":155,"project_id":3836952,"title":"Py2ml#3: Keep on slogging","description":"See https://hackmd.io/fwsV80pYT5OYKf0biYz9nA\r\n\r\nOwner: @arvidnl\r\n\r\nGoal: Translate remaining Python tests to OCaml\r\n\r\nAcceptance criteria: all remaining python tests are rewritten in OCaml.","state":"closed","created_at":"2023-01-03T12:39:45.938Z","updated_at":"2023-03-06T08:55:02.419Z","due_date":"2023-03-31","start_date":"2023-01-01","expired":true,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/155"},"assignees":[{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"type":"ISSUE","assignee":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"user_notes_count":1,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/3965","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/3965","notes":"https://gitlab.com/api/v4/projects/3836952/issues/3965/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/3965/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#3965","relative":"#3965","full":"tezos/tezos#3965"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":116462273,"iid":3964,"project_id":3836952,"title":"Translate pytest `test_proto_demo_counter.py`","description":"estimated translation time: 4 hours","state":"closed","created_at":"2022-10-07T12:16:54.094Z","updated_at":"2023-02-01T16:20:34.743Z","closed_at":"2023-02-01T16:20:34.719Z","closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8770486/avatar.png","web_url":"https://gitlab.com/nomadic-margebot"},"labels":["python  🐍","state::in-review","test ⚒","tests::pytest"],"milestone":{"id":2929075,"iid":155,"project_id":3836952,"title":"Py2ml#3: Keep on slogging","description":"See https://hackmd.io/fwsV80pYT5OYKf0biYz9nA\r\n\r\nOwner: @arvidnl\r\n\r\nGoal: Translate remaining Python tests to OCaml\r\n\r\nAcceptance criteria: all remaining python tests are rewritten in OCaml.","state":"closed","created_at":"2023-01-03T12:39:45.938Z","updated_at":"2023-03-06T08:55:02.419Z","due_date":"2023-03-31","start_date":"2023-01-01","expired":true,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/155"},"assignees":[{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"type":"ISSUE","assignee":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/3964","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/3964","notes":"https://gitlab.com/api/v4/projects/3836952/issues/3964/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/3964/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#3964","relative":"#3964","full":"tezos/tezos#3964"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":116462272,"iid":3963,"project_id":3836952,"title":"Translate pytest `test_p2p.py`","description":"estimated translation time: 6 hours","state":"closed","created_at":"2022-10-07T12:16:53.995Z","updated_at":"2023-03-01T10:12:27.021Z","closed_at":"2023-03-01T10:12:26.991Z","closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8770486/avatar.png","web_url":"https://gitlab.com/nomadic-margebot"},"labels":["python  🐍","state::in-review","test ⚒","tests::pytest"],"milestone":{"id":2929075,"iid":155,"project_id":3836952,"title":"Py2ml#3: Keep on slogging","description":"See https://hackmd.io/fwsV80pYT5OYKf0biYz9nA\r\n\r\nOwner: @arvidnl\r\n\r\nGoal: Translate remaining Python tests to OCaml\r\n\r\nAcceptance criteria: all remaining python tests are rewritten in OCaml.","state":"closed","created_at":"2023-01-03T12:39:45.938Z","updated_at":"2023-03-06T08:55:02.419Z","due_date":"2023-03-31","start_date":"2023-01-01","expired":true,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/155"},"assignees":[{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"type":"ISSUE","assignee":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/3963","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/3963","notes":"https://gitlab.com/api/v4/projects/3836952/issues/3963/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/3963/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#3963","relative":"#3963","full":"tezos/tezos#3963"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":116462271,"iid":3962,"project_id":3836952,"title":"Translate pytest `test_openapi.py`","description":"estimated translation time: ? hours","state":"closed","created_at":"2022-10-07T12:16:53.883Z","updated_at":"2023-01-16T16:13:36.589Z","closed_at":"2023-01-16T16:13:36.569Z","closed_by":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"labels":["python  🐍","state::in-review","test ⚒","tests::pytest"],"milestone":{"id":2929075,"iid":155,"project_id":3836952,"title":"Py2ml#3: Keep on slogging","description":"See https://hackmd.io/fwsV80pYT5OYKf0biYz9nA\r\n\r\nOwner: @arvidnl\r\n\r\nGoal: Translate remaining Python tests to OCaml\r\n\r\nAcceptance criteria: all remaining python tests are rewritten in OCaml.","state":"closed","created_at":"2023-01-03T12:39:45.938Z","updated_at":"2023-03-06T08:55:02.419Z","due_date":"2023-03-31","start_date":"2023-01-01","expired":true,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/155"},"assignees":[{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"type":"ISSUE","assignee":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/3962","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/3962","notes":"https://gitlab.com/api/v4/projects/3836952/issues/3962/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/3962/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#3962","relative":"#3962","full":"tezos/tezos#3962"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":116462270,"iid":3961,"project_id":3836952,"title":"Translate pytest `test_nonce_seed_revelation.py`","description":"estimated translation time: 6 hours","state":"closed","created_at":"2022-10-07T12:16:53.776Z","updated_at":"2023-01-20T08:29:34.690Z","closed_at":"2023-01-20T08:29:34.666Z","closed_by":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"labels":["python  🐍","state::in-review","test ⚒","tests::pytest"],"milestone":{"id":2929075,"iid":155,"project_id":3836952,"title":"Py2ml#3: Keep on slogging","description":"See https://hackmd.io/fwsV80pYT5OYKf0biYz9nA\r\n\r\nOwner: @arvidnl\r\n\r\nGoal: Translate remaining Python tests to OCaml\r\n\r\nAcceptance criteria: all remaining python tests are rewritten in OCaml.","state":"closed","created_at":"2023-01-03T12:39:45.938Z","updated_at":"2023-03-06T08:55:02.419Z","due_date":"2023-03-31","start_date":"2023-01-01","expired":true,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/155"},"assignees":[{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"type":"ISSUE","assignee":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/3961","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/3961","notes":"https://gitlab.com/api/v4/projects/3836952/issues/3961/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/3961/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#3961","relative":"#3961","full":"tezos/tezos#3961"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":116462269,"iid":3960,"project_id":3836952,"title":"Translate pytest `test_multiple_transfers.py`","description":"estimated translation time: 6 hours","state":"closed","created_at":"2022-10-07T12:16:53.669Z","updated_at":"2023-01-18T12:01:54.043Z","closed_at":"2023-01-18T12:01:53.998Z","closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8770486/avatar.png","web_url":"https://gitlab.com/nomadic-margebot"},"labels":["python  🐍","state::in-review","test ⚒","tests::pytest"],"milestone":{"id":2929075,"iid":155,"project_id":3836952,"title":"Py2ml#3: Keep on slogging","description":"See https://hackmd.io/fwsV80pYT5OYKf0biYz9nA\r\n\r\nOwner: @arvidnl\r\n\r\nGoal: Translate remaining Python tests to OCaml\r\n\r\nAcceptance criteria: all remaining python tests are rewritten in OCaml.","state":"closed","created_at":"2023-01-03T12:39:45.938Z","updated_at":"2023-03-06T08:55:02.419Z","due_date":"2023-03-31","start_date":"2023-01-01","expired":true,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/155"},"assignees":[{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"type":"ISSUE","assignee":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/3960","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/3960","notes":"https://gitlab.com/api/v4/projects/3836952/issues/3960/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/3960/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#3960","relative":"#3960","full":"tezos/tezos#3960"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":116462268,"iid":3959,"project_id":3836952,"title":"Translate pytest `test_multinode_storage_reconstruction.py`","description":"estimated translation time: 8 hours","state":"closed","created_at":"2022-10-07T12:16:53.490Z","updated_at":"2023-02-13T13:45:39.285Z","closed_at":"2023-02-13T13:45:39.257Z","closed_by":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"labels":["python  🐍","state::in-review","test ⚒","tests::pytest"],"milestone":{"id":2929075,"iid":155,"project_id":3836952,"title":"Py2ml#3: Keep on slogging","description":"See https://hackmd.io/fwsV80pYT5OYKf0biYz9nA\r\n\r\nOwner: @arvidnl\r\n\r\nGoal: Translate remaining Python tests to OCaml\r\n\r\nAcceptance criteria: all remaining python tests are rewritten in OCaml.","state":"closed","created_at":"2023-01-03T12:39:45.938Z","updated_at":"2023-03-06T08:55:02.419Z","due_date":"2023-03-31","start_date":"2023-01-01","expired":true,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/155"},"assignees":[{"id":2785935,"username":"vect0r","name":"Victor Allombert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4079830590fea3fdda40a89e6ddfb7e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vect0r"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"type":"ISSUE","assignee":{"id":2785935,"username":"vect0r","name":"Victor Allombert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4079830590fea3fdda40a89e6ddfb7e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vect0r"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/3959","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":8,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/3959","notes":"https://gitlab.com/api/v4/projects/3836952/issues/3959/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/3959/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#3959","relative":"#3959","full":"tezos/tezos#3959"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":116462267,"iid":3958,"project_id":3836952,"title":"Translate pytest `test_mempool.py`","description":"estimated translation time: 4 hours","state":"closed","created_at":"2022-10-07T12:16:53.386Z","updated_at":"2023-01-09T17:22:43.838Z","closed_at":"2023-01-09T17:22:43.806Z","closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8770486/avatar.png","web_url":"https://gitlab.com/nomadic-margebot"},"labels":["python  🐍","state::in-review","test ⚒","tests::pytest"],"milestone":{"id":2929075,"iid":155,"project_id":3836952,"title":"Py2ml#3: Keep on slogging","description":"See https://hackmd.io/fwsV80pYT5OYKf0biYz9nA\r\n\r\nOwner: @arvidnl\r\n\r\nGoal: Translate remaining Python tests to OCaml\r\n\r\nAcceptance criteria: all remaining python tests are rewritten in OCaml.","state":"closed","created_at":"2023-01-03T12:39:45.938Z","updated_at":"2023-03-06T08:55:02.419Z","due_date":"2023-03-31","start_date":"2023-01-01","expired":true,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/155"},"assignees":[{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"type":"ISSUE","assignee":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"user_notes_count":1,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/3958","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/3958","notes":"https://gitlab.com/api/v4/projects/3836952/issues/3958/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/3958/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#3958","relative":"#3958","full":"tezos/tezos#3958"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":116462266,"iid":3957,"project_id":3836952,"title":"Translate pytest `test_many_nodes.py`","description":"estimated translation time: 4 hours","state":"closed","created_at":"2022-10-07T12:16:53.235Z","updated_at":"2023-02-07T12:30:02.706Z","closed_at":"2023-02-07T12:30:02.643Z","closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8770486/avatar.png","web_url":"https://gitlab.com/nomadic-margebot"},"labels":["python  🐍","state::in-review","test ⚒","tests::pytest"],"milestone":{"id":2929075,"iid":155,"project_id":3836952,"title":"Py2ml#3: Keep on slogging","description":"See https://hackmd.io/fwsV80pYT5OYKf0biYz9nA\r\n\r\nOwner: @arvidnl\r\n\r\nGoal: Translate remaining Python tests to OCaml\r\n\r\nAcceptance criteria: all remaining python tests are rewritten in OCaml.","state":"closed","created_at":"2023-01-03T12:39:45.938Z","updated_at":"2023-03-06T08:55:02.419Z","due_date":"2023-03-31","start_date":"2023-01-01","expired":true,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/155"},"assignees":[{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"type":"ISSUE","assignee":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/3957","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/3957","notes":"https://gitlab.com/api/v4/projects/3836952/issues/3957/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/3957/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#3957","relative":"#3957","full":"tezos/tezos#3957"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":116462265,"iid":3956,"project_id":3836952,"title":"Translate pytest `test_many_bakers.py`","description":"estimated translation time: 2 hours","state":"closed","created_at":"2022-10-07T12:16:53.121Z","updated_at":"2023-02-07T12:30:02.665Z","closed_at":"2023-02-07T12:30:02.641Z","closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8770486/avatar.png","web_url":"https://gitlab.com/nomadic-margebot"},"labels":["python  🐍","state::in-review","test ⚒","tests::pytest"],"milestone":{"id":2929075,"iid":155,"project_id":3836952,"title":"Py2ml#3: Keep on slogging","description":"See https://hackmd.io/fwsV80pYT5OYKf0biYz9nA\r\n\r\nOwner: @arvidnl\r\n\r\nGoal: Translate remaining Python tests to OCaml\r\n\r\nAcceptance criteria: all remaining python tests are rewritten in OCaml.","state":"closed","created_at":"2023-01-03T12:39:45.938Z","updated_at":"2023-03-06T08:55:02.419Z","due_date":"2023-03-31","start_date":"2023-01-01","expired":true,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/155"},"assignees":[{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"type":"ISSUE","assignee":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/3956","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/3956","notes":"https://gitlab.com/api/v4/projects/3836952/issues/3956/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/3956/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#3956","relative":"#3956","full":"tezos/tezos#3956"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":116462264,"iid":3955,"project_id":3836952,"title":"Translate pytest `test_fork.py`","description":"estimated translation time: 4 hours","state":"closed","created_at":"2022-10-07T12:16:52.974Z","updated_at":"2023-02-24T08:13:47.721Z","closed_at":"2023-02-24T08:13:47.691Z","closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8770486/avatar.png","web_url":"https://gitlab.com/nomadic-margebot"},"labels":["python  🐍","state::in-review","test ⚒","tests::pytest"],"milestone":{"id":2929075,"iid":155,"project_id":3836952,"title":"Py2ml#3: Keep on slogging","description":"See https://hackmd.io/fwsV80pYT5OYKf0biYz9nA\r\n\r\nOwner: @arvidnl\r\n\r\nGoal: Translate remaining Python tests to OCaml\r\n\r\nAcceptance criteria: all remaining python tests are rewritten in OCaml.","state":"closed","created_at":"2023-01-03T12:39:45.938Z","updated_at":"2023-03-06T08:55:02.419Z","due_date":"2023-03-31","start_date":"2023-01-01","expired":true,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/155"},"assignees":[{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"type":"ISSUE","assignee":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"user_notes_count":1,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/3955","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/3955","notes":"https://gitlab.com/api/v4/projects/3836952/issues/3955/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/3955/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#3955","relative":"#3955","full":"tezos/tezos#3955"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":116462263,"iid":3954,"project_id":3836952,"title":"Translate pytest `test_forge_block.py`","description":"estimated translation time: 2 hours","state":"closed","created_at":"2022-10-07T12:16:52.860Z","updated_at":"2022-12-22T02:50:01.468Z","closed_at":"2022-12-22T02:50:01.450Z","closed_by":{"id":1718826,"username":"lykimquyen","name":"lykimquyen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/e6366ed868934e6ce5ab7eccb3dac23b?s=80\u0026d=identicon","web_url":"https://gitlab.com/lykimquyen"},"labels":["python  🐍","state::in-review","test ⚒","tests::pytest"],"milestone":{"id":2751442,"iid":121,"project_id":3836952,"title":"(OKR 2022Q4) - Py2ml#2: Translate slow and leftover pytests to OCaml","description":"See https://hackmd.io/fwsV80pYT5OYKf0biYz9nA\r\n\r\nOwner: @arvidnl \r\n\r\nGoal: Translate slow and leftover pytests to OCaml\r\n\r\nAcceptance criteria: slow and leftover pytests are rewritten in OCaml. \r\n\r\n(Follow-up of https://gitlab.com/tezos/tezos/-/milestones/97#tab-issues)","state":"closed","created_at":"2022-08-25T16:13:55.407Z","updated_at":"2023-01-11T12:19:14.344Z","due_date":"2022-12-31","start_date":"2022-10-02","expired":true,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/121"},"assignees":[{"id":1718826,"username":"lykimquyen","name":"lykimquyen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/e6366ed868934e6ce5ab7eccb3dac23b?s=80\u0026d=identicon","web_url":"https://gitlab.com/lykimquyen"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"type":"ISSUE","assignee":{"id":1718826,"username":"lykimquyen","name":"lykimquyen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/e6366ed868934e6ce5ab7eccb3dac23b?s=80\u0026d=identicon","web_url":"https://gitlab.com/lykimquyen"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/3954","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/3954","notes":"https://gitlab.com/api/v4/projects/3836952/issues/3954/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/3954/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#3954","relative":"#3954","full":"tezos/tezos#3954"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":116462262,"iid":3953,"project_id":3836952,"title":"Translate pytest `test_cors.py`","description":"estimated translation time: 4 hours","state":"closed","created_at":"2022-10-07T12:16:52.764Z","updated_at":"2022-12-15T12:50:18.556Z","closed_at":"2022-12-15T12:50:18.450Z","closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8770486/avatar.png","web_url":"https://gitlab.com/nomadic-margebot"},"labels":["python  🐍","state::in-review","test ⚒","tests::pytest"],"milestone":{"id":2751442,"iid":121,"project_id":3836952,"title":"(OKR 2022Q4) - Py2ml#2: Translate slow and leftover pytests to OCaml","description":"See https://hackmd.io/fwsV80pYT5OYKf0biYz9nA\r\n\r\nOwner: @arvidnl \r\n\r\nGoal: Translate slow and leftover pytests to OCaml\r\n\r\nAcceptance criteria: slow and leftover pytests are rewritten in OCaml. \r\n\r\n(Follow-up of https://gitlab.com/tezos/tezos/-/milestones/97#tab-issues)","state":"closed","created_at":"2022-08-25T16:13:55.407Z","updated_at":"2023-01-11T12:19:14.344Z","due_date":"2022-12-31","start_date":"2022-10-02","expired":true,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/121"},"assignees":[{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"type":"ISSUE","assignee":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/3953","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/3953","notes":"https://gitlab.com/api/v4/projects/3836952/issues/3953/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/3953/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#3953","relative":"#3953","full":"tezos/tezos#3953"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":116462261,"iid":3952,"project_id":3836952,"title":"Translate pytest `test_client_without_node.py`","description":"estimated translation time: 16 hours","state":"closed","created_at":"2022-10-07T12:16:52.662Z","updated_at":"2023-02-16T15:30:25.705Z","closed_at":"2023-02-16T15:30:25.660Z","closed_by":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"labels":["python  🐍","state::in-review","test ⚒","tests::pytest"],"milestone":{"id":2929075,"iid":155,"project_id":3836952,"title":"Py2ml#3: Keep on slogging","description":"See https://hackmd.io/fwsV80pYT5OYKf0biYz9nA\r\n\r\nOwner: @arvidnl\r\n\r\nGoal: Translate remaining Python tests to OCaml\r\n\r\nAcceptance criteria: all remaining python tests are rewritten in OCaml.","state":"closed","created_at":"2023-01-03T12:39:45.938Z","updated_at":"2023-03-06T08:55:02.419Z","due_date":"2023-03-31","start_date":"2023-01-01","expired":true,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/155"},"assignees":[{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"type":"ISSUE","assignee":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/3952","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":16,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/3952","notes":"https://gitlab.com/api/v4/projects/3836952/issues/3952/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/3952/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#3952","relative":"#3952","full":"tezos/tezos#3952"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":116462260,"iid":3951,"project_id":3836952,"title":"Translate pytest `test_client.py`","description":"estimated translation time: 2 hours","state":"closed","created_at":"2022-10-07T12:16:52.507Z","updated_at":"2023-02-13T14:16:13.655Z","closed_at":"2023-02-13T14:16:13.575Z","closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8770486/avatar.png","web_url":"https://gitlab.com/nomadic-margebot"},"labels":["python  🐍","state::in-review","test ⚒","tests::pytest"],"milestone":{"id":2929075,"iid":155,"project_id":3836952,"title":"Py2ml#3: Keep on slogging","description":"See https://hackmd.io/fwsV80pYT5OYKf0biYz9nA\r\n\r\nOwner: @arvidnl\r\n\r\nGoal: Translate remaining Python tests to OCaml\r\n\r\nAcceptance criteria: all remaining python tests are rewritten in OCaml.","state":"closed","created_at":"2023-01-03T12:39:45.938Z","updated_at":"2023-03-06T08:55:02.419Z","due_date":"2023-03-31","start_date":"2023-01-01","expired":true,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/155"},"assignees":[{"id":1718826,"username":"lykimquyen","name":"lykimquyen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/e6366ed868934e6ce5ab7eccb3dac23b?s=80\u0026d=identicon","web_url":"https://gitlab.com/lykimquyen"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"type":"ISSUE","assignee":{"id":1718826,"username":"lykimquyen","name":"lykimquyen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/e6366ed868934e6ce5ab7eccb3dac23b?s=80\u0026d=identicon","web_url":"https://gitlab.com/lykimquyen"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/3951","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/3951","notes":"https://gitlab.com/api/v4/projects/3836952/issues/3951/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/3951/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#3951","relative":"#3951","full":"tezos/tezos#3951"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":116462259,"iid":3950,"project_id":3836952,"title":"Translate pytest `test_binaries.py`","description":"estimated translation time: 2 hours","state":"closed","created_at":"2022-10-07T12:16:52.395Z","updated_at":"2023-02-08T23:47:01.402Z","closed_at":"2023-02-08T23:47:01.363Z","closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8770486/avatar.png","web_url":"https://gitlab.com/nomadic-margebot"},"labels":["python  🐍","state::in-review","test ⚒","tests::pytest"],"milestone":{"id":2929075,"iid":155,"project_id":3836952,"title":"Py2ml#3: Keep on slogging","description":"See https://hackmd.io/fwsV80pYT5OYKf0biYz9nA\r\n\r\nOwner: @arvidnl\r\n\r\nGoal: Translate remaining Python tests to OCaml\r\n\r\nAcceptance criteria: all remaining python tests are rewritten in OCaml.","state":"closed","created_at":"2023-01-03T12:39:45.938Z","updated_at":"2023-03-06T08:55:02.419Z","due_date":"2023-03-31","start_date":"2023-01-01","expired":true,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/155"},"assignees":[{"id":4790646,"username":"germanD","name":"Germán Delbianco","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4790646/avatar.png","web_url":"https://gitlab.com/germanD"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"type":"ISSUE","assignee":{"id":4790646,"username":"germanD","name":"Germán Delbianco","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4790646/avatar.png","web_url":"https://gitlab.com/germanD"},"user_notes_count":2,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/3950","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/3950","notes":"https://gitlab.com/api/v4/projects/3836952/issues/3950/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/3950/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#3950","relative":"#3950","full":"tezos/tezos#3950"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":116462258,"iid":3949,"project_id":3836952,"title":"Translate pytest `test_basic.py`","description":"estimated translation time: 22 hours","state":"closed","created_at":"2022-10-07T12:16:52.287Z","updated_at":"2023-01-18T08:19:32.297Z","closed_at":"2023-01-18T08:19:32.276Z","closed_by":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"labels":["python  🐍","state::in-review","test ⚒","tests::pytest"],"milestone":{"id":2929075,"iid":155,"project_id":3836952,"title":"Py2ml#3: Keep on slogging","description":"See https://hackmd.io/fwsV80pYT5OYKf0biYz9nA\r\n\r\nOwner: @arvidnl\r\n\r\nGoal: Translate remaining Python tests to OCaml\r\n\r\nAcceptance criteria: all remaining python tests are rewritten in OCaml.","state":"closed","created_at":"2023-01-03T12:39:45.938Z","updated_at":"2023-03-06T08:55:02.419Z","due_date":"2023-03-31","start_date":"2023-01-01","expired":true,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/155"},"assignees":[{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"type":"ISSUE","assignee":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/3949","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":22,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/3949","notes":"https://gitlab.com/api/v4/projects/3836952/issues/3949/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/3949/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#3949","relative":"#3949","full":"tezos/tezos#3949"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":116462257,"iid":3948,"project_id":3836952,"title":"Translate pytest `test_baker_operations_cli_options.py`","description":"estimated translation time: 14 hours","state":"closed","created_at":"2022-10-07T12:16:52.082Z","updated_at":"2023-01-23T16:39:48.739Z","closed_at":"2023-01-23T16:39:48.661Z","closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8770486/avatar.png","web_url":"https://gitlab.com/nomadic-margebot"},"labels":["python  🐍","state::in-review","test ⚒","tests::pytest"],"milestone":{"id":2929075,"iid":155,"project_id":3836952,"title":"Py2ml#3: Keep on slogging","description":"See https://hackmd.io/fwsV80pYT5OYKf0biYz9nA\r\n\r\nOwner: @arvidnl\r\n\r\nGoal: Translate remaining Python tests to OCaml\r\n\r\nAcceptance criteria: all remaining python tests are rewritten in OCaml.","state":"closed","created_at":"2023-01-03T12:39:45.938Z","updated_at":"2023-03-06T08:55:02.419Z","due_date":"2023-03-31","start_date":"2023-01-01","expired":true,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/155"},"assignees":[{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"type":"ISSUE","assignee":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/3948","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":14,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/3948","notes":"https://gitlab.com/api/v4/projects/3836952/issues/3948/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/3948/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#3948","relative":"#3948","full":"tezos/tezos#3948"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":116462256,"iid":3947,"project_id":3836952,"title":"Translate pytest `test_accuser.py`","description":"estimated translation time: 4 hours","state":"closed","created_at":"2022-10-07T12:16:51.981Z","updated_at":"2023-01-05T12:29:47.483Z","closed_at":"2023-01-05T12:29:47.455Z","closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8770486/avatar.png","web_url":"https://gitlab.com/nomadic-margebot"},"labels":["python  🐍","state::in-review","test ⚒","tests::pytest"],"milestone":{"id":2929075,"iid":155,"project_id":3836952,"title":"Py2ml#3: Keep on slogging","description":"See https://hackmd.io/fwsV80pYT5OYKf0biYz9nA\r\n\r\nOwner: @arvidnl\r\n\r\nGoal: Translate remaining Python tests to OCaml\r\n\r\nAcceptance criteria: all remaining python tests are rewritten in OCaml.","state":"closed","created_at":"2023-01-03T12:39:45.938Z","updated_at":"2023-03-06T08:55:02.419Z","due_date":"2023-03-31","start_date":"2023-01-01","expired":true,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/155"},"assignees":[{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"type":"ISSUE","assignee":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"user_notes_count":1,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/3947","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/3947","notes":"https://gitlab.com/api/v4/projects/3836952/issues/3947/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/3947/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#3947","relative":"#3947","full":"tezos/tezos#3947"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":116462255,"iid":3946,"project_id":3836952,"title":"Translate pytest `test_programs.py`","description":"estimated translation time: 4 hours","state":"closed","created_at":"2022-10-07T12:16:51.876Z","updated_at":"2022-11-18T11:52:42.197Z","closed_at":"2022-11-18T11:52:42.170Z","closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8770486/avatar.png","web_url":"https://gitlab.com/nomadic-margebot"},"labels":["python  🐍","state::in-review","test ⚒","tests::pytest"],"milestone":{"id":2751442,"iid":121,"project_id":3836952,"title":"(OKR 2022Q4) - Py2ml#2: Translate slow and leftover pytests to OCaml","description":"See https://hackmd.io/fwsV80pYT5OYKf0biYz9nA\r\n\r\nOwner: @arvidnl \r\n\r\nGoal: Translate slow and leftover pytests to OCaml\r\n\r\nAcceptance criteria: slow and leftover pytests are rewritten in OCaml. \r\n\r\n(Follow-up of https://gitlab.com/tezos/tezos/-/milestones/97#tab-issues)","state":"closed","created_at":"2022-08-25T16:13:55.407Z","updated_at":"2023-01-11T12:19:14.344Z","due_date":"2022-12-31","start_date":"2022-10-02","expired":true,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/121"},"assignees":[],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/3946","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/3946","notes":"https://gitlab.com/api/v4/projects/3836952/issues/3946/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/3946/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#3946","relative":"#3946","full":"tezos/tezos#3946"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":116462254,"iid":3945,"project_id":3836952,"title":"Translate pytest `test_liquidity_baking.py`","description":"estimated translation time: 12 hours","state":"closed","created_at":"2022-10-07T12:16:51.739Z","updated_at":"2022-12-19T02:32:24.024Z","closed_at":"2022-12-19T02:32:23.996Z","closed_by":{"id":1718826,"username":"lykimquyen","name":"lykimquyen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/e6366ed868934e6ce5ab7eccb3dac23b?s=80\u0026d=identicon","web_url":"https://gitlab.com/lykimquyen"},"labels":["python  🐍","state::in-review","test ⚒","tests::pytest"],"milestone":{"id":2751442,"iid":121,"project_id":3836952,"title":"(OKR 2022Q4) - Py2ml#2: Translate slow and leftover pytests to OCaml","description":"See https://hackmd.io/fwsV80pYT5OYKf0biYz9nA\r\n\r\nOwner: @arvidnl \r\n\r\nGoal: Translate slow and leftover pytests to OCaml\r\n\r\nAcceptance criteria: slow and leftover pytests are rewritten in OCaml. \r\n\r\n(Follow-up of https://gitlab.com/tezos/tezos/-/milestones/97#tab-issues)","state":"closed","created_at":"2022-08-25T16:13:55.407Z","updated_at":"2023-01-11T12:19:14.344Z","due_date":"2022-12-31","start_date":"2022-10-02","expired":true,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/121"},"assignees":[{"id":1718826,"username":"lykimquyen","name":"lykimquyen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/e6366ed868934e6ce5ab7eccb3dac23b?s=80\u0026d=identicon","web_url":"https://gitlab.com/lykimquyen"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"type":"ISSUE","assignee":{"id":1718826,"username":"lykimquyen","name":"lykimquyen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/e6366ed868934e6ce5ab7eccb3dac23b?s=80\u0026d=identicon","web_url":"https://gitlab.com/lykimquyen"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/3945","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":12,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/3945","notes":"https://gitlab.com/api/v4/projects/3836952/issues/3945/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/3945/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#3945","relative":"#3945","full":"tezos/tezos#3945"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":116462252,"iid":3944,"project_id":3836952,"title":"Translate pytest `test_multisig.py`","description":"estimated translation time: 24 hours","state":"closed","created_at":"2022-10-07T12:16:51.614Z","updated_at":"2023-01-31T07:32:02.794Z","closed_at":"2023-01-31T07:32:02.563Z","closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8770486/avatar.png","web_url":"https://gitlab.com/nomadic-margebot"},"labels":["python  🐍","state::in-review","test ⚒","tests::pytest"],"milestone":{"id":2929075,"iid":155,"project_id":3836952,"title":"Py2ml#3: Keep on slogging","description":"See https://hackmd.io/fwsV80pYT5OYKf0biYz9nA\r\n\r\nOwner: @arvidnl\r\n\r\nGoal: Translate remaining Python tests to OCaml\r\n\r\nAcceptance criteria: all remaining python tests are rewritten in OCaml.","state":"closed","created_at":"2023-01-03T12:39:45.938Z","updated_at":"2023-03-06T08:55:02.419Z","due_date":"2023-03-31","start_date":"2023-01-01","expired":true,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/155"},"assignees":[{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"type":"ISSUE","assignee":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/3944","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":24,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/3944","notes":"https://gitlab.com/api/v4/projects/3836952/issues/3944/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/3944/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#3944","relative":"#3944","full":"tezos/tezos#3944"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":116462251,"iid":3943,"project_id":3836952,"title":"Translate pytest `test_fa12.py`","description":"estimated translation time: 16 hours","state":"closed","created_at":"2022-10-07T12:16:51.432Z","updated_at":"2022-11-25T14:27:52.828Z","closed_at":"2022-11-25T14:27:52.805Z","closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8770486/avatar.png","web_url":"https://gitlab.com/nomadic-margebot"},"labels":["python  🐍","state::in-review","test ⚒","tests::pytest"],"milestone":{"id":2751442,"iid":121,"project_id":3836952,"title":"(OKR 2022Q4) - Py2ml#2: Translate slow and leftover pytests to OCaml","description":"See https://hackmd.io/fwsV80pYT5OYKf0biYz9nA\r\n\r\nOwner: @arvidnl \r\n\r\nGoal: Translate slow and leftover pytests to OCaml\r\n\r\nAcceptance criteria: slow and leftover pytests are rewritten in OCaml. \r\n\r\n(Follow-up of https://gitlab.com/tezos/tezos/-/milestones/97#tab-issues)","state":"closed","created_at":"2022-08-25T16:13:55.407Z","updated_at":"2023-01-11T12:19:14.344Z","due_date":"2022-12-31","start_date":"2022-10-02","expired":true,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/121"},"assignees":[{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"type":"ISSUE","assignee":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/3943","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":16,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/3943","notes":"https://gitlab.com/api/v4/projects/3836952/issues/3943/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/3943/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#3943","relative":"#3943","full":"tezos/tezos#3943"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":116461025,"iid":3942,"project_id":3836952,"title":"Continue \"Translate the churny pytests `test_contract.py`\"","description":"Estimated translation time: 50 hours\n\nContinuation of #3633 \n\n - [x] `TestManager` (@arvidnl !7056)\n - [x] `TestScriptHashMultiple` (~@linoscope !6840~, @arvidnl !7039)\n - [x] `TestContracts` (@rdavison !6625)\n - [x] `TestContractTypeChecking` (@rdavison !6503)\n - [x] `TestChainId` (@rdavison !6436)\n - [x] `TestExecutionOrdering` (@linoscope https://gitlab.com/tezos/tezos/-/merge_requests/7053/)\n - [x] `TestNonRegression` (@xf6 !6616) \n - [x] `TestView` (@xf6 !6314)\n - [x] `TestTypecheck` (@lykimquyen  !6381)\n - [x] `TestBigMapToSelf` (@lykimquyen  !6325)\n - [x] `TestNormalize` (@linoscope !6394)\n - [x] `TestGasBound` (@lykimquyen !6684) \n - [x] `TestScriptHashOrigination` (@lykimquyen !6627)\n - [x] `TestComparables` (@lykimquyen !6614)\n - [x] `TestBadAnnotation` (@lykimquyen !6642) \n - [x] `TestOrderInTopLevelDoesNotMatter` (@linoscope !6604)\n - [x] `TestMiniScenarios`(@lykimquyen !6711) \n     - [x] `TestMiniScenarios` splits the test case entrypoints (@lykimquyen !6785) \n - [x] `TestScriptHashRegression` (@arvidnl !6636)","state":"closed","created_at":"2022-10-07T11:51:11.990Z","updated_at":"2023-01-09T15:13:37.887Z","closed_at":"2022-12-16T08:52:26.730Z","closed_by":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"labels":["python  🐍","state::in-review","test ⚒","tests::pytest"],"milestone":{"id":2751442,"iid":121,"project_id":3836952,"title":"(OKR 2022Q4) - Py2ml#2: Translate slow and leftover pytests to OCaml","description":"See https://hackmd.io/fwsV80pYT5OYKf0biYz9nA\r\n\r\nOwner: @arvidnl \r\n\r\nGoal: Translate slow and leftover pytests to OCaml\r\n\r\nAcceptance criteria: slow and leftover pytests are rewritten in OCaml. \r\n\r\n(Follow-up of https://gitlab.com/tezos/tezos/-/milestones/97#tab-issues)","state":"closed","created_at":"2022-08-25T16:13:55.407Z","updated_at":"2023-01-11T12:19:14.344Z","due_date":"2022-12-31","start_date":"2022-10-02","expired":true,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/121"},"assignees":[{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"type":"ISSUE","assignee":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"user_notes_count":1,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/3942","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":19,"completed_count":19},"weight":50,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/3942","notes":"https://gitlab.com/api/v4/projects/3836952/issues/3942/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/3942/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#3942","relative":"#3942","full":"tezos/tezos#3942"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":113675088,"iid":3639,"project_id":3836952,"title":"Translate the slow pytests `test_sapling.py`","description":" estimated translation time: ~~20~~ 40 hours","state":"closed","created_at":"2022-08-23T07:46:12.699Z","updated_at":"2023-01-02T14:41:13.958Z","closed_at":"2023-01-02T14:41:13.916Z","closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8770486/avatar.png","web_url":"https://gitlab.com/nomadic-margebot"},"labels":["python  🐍","state::in-review","test ⚒","tests::pytest"],"milestone":{"id":2751442,"iid":121,"project_id":3836952,"title":"(OKR 2022Q4) - Py2ml#2: Translate slow and leftover pytests to OCaml","description":"See https://hackmd.io/fwsV80pYT5OYKf0biYz9nA\r\n\r\nOwner: @arvidnl \r\n\r\nGoal: Translate slow and leftover pytests to OCaml\r\n\r\nAcceptance criteria: slow and leftover pytests are rewritten in OCaml. \r\n\r\n(Follow-up of https://gitlab.com/tezos/tezos/-/milestones/97#tab-issues)","state":"closed","created_at":"2022-08-25T16:13:55.407Z","updated_at":"2023-01-11T12:19:14.344Z","due_date":"2022-12-31","start_date":"2022-10-02","expired":true,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/121"},"assignees":[{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"type":"ISSUE","assignee":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"user_notes_count":1,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/3639","time_stats":{"time_estimate":72000,"total_time_spent":0,"human_time_estimate":"20h","human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":40,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/3639","notes":"https://gitlab.com/api/v4/projects/3836952/issues/3639/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/3639/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#3639","relative":"#3639","full":"tezos/tezos#3639"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":113675087,"iid":3638,"project_id":3836952,"title":"Translate the slow pytests `test_migration.py`","description":" estimated translation time: ~~3~~ 6 hours","state":"closed","created_at":"2022-08-23T07:46:12.580Z","updated_at":"2022-11-18T07:24:39.478Z","closed_at":"2022-11-18T07:24:39.456Z","closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8770486/avatar.png","web_url":"https://gitlab.com/nomadic-margebot"},"labels":["python  🐍","state::in-review","test ⚒","tests::pytest"],"milestone":{"id":2751442,"iid":121,"project_id":3836952,"title":"(OKR 2022Q4) - Py2ml#2: Translate slow and leftover pytests to OCaml","description":"See https://hackmd.io/fwsV80pYT5OYKf0biYz9nA\r\n\r\nOwner: @arvidnl \r\n\r\nGoal: Translate slow and leftover pytests to OCaml\r\n\r\nAcceptance criteria: slow and leftover pytests are rewritten in OCaml. \r\n\r\n(Follow-up of https://gitlab.com/tezos/tezos/-/milestones/97#tab-issues)","state":"closed","created_at":"2022-08-25T16:13:55.407Z","updated_at":"2023-01-11T12:19:14.344Z","due_date":"2022-12-31","start_date":"2022-10-02","expired":true,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/121"},"assignees":[{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"type":"ISSUE","assignee":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"user_notes_count":1,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/3638","time_stats":{"time_estimate":10800,"total_time_spent":0,"human_time_estimate":"3h","human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/3638","notes":"https://gitlab.com/api/v4/projects/3836952/issues/3638/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/3638/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#3638","relative":"#3638","full":"tezos/tezos#3638"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":113675086,"iid":3637,"project_id":3836952,"title":"Translate the slow pytests `test_baker_endorser.py`","description":" estimated translation time: ~~2~~ 4 hours","state":"closed","created_at":"2022-08-23T07:46:12.496Z","updated_at":"2022-11-21T12:54:09.505Z","closed_at":"2022-11-21T12:54:09.483Z","closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8770486/avatar.png","web_url":"https://gitlab.com/nomadic-margebot"},"labels":["python  🐍","state::in-review","test ⚒","tests::pytest"],"milestone":{"id":2751442,"iid":121,"project_id":3836952,"title":"(OKR 2022Q4) - Py2ml#2: Translate slow and leftover pytests to OCaml","description":"See https://hackmd.io/fwsV80pYT5OYKf0biYz9nA\r\n\r\nOwner: @arvidnl \r\n\r\nGoal: Translate slow and leftover pytests to OCaml\r\n\r\nAcceptance criteria: slow and leftover pytests are rewritten in OCaml. \r\n\r\n(Follow-up of https://gitlab.com/tezos/tezos/-/milestones/97#tab-issues)","state":"closed","created_at":"2022-08-25T16:13:55.407Z","updated_at":"2023-01-11T12:19:14.344Z","due_date":"2022-12-31","start_date":"2022-10-02","expired":true,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/121"},"assignees":[{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"type":"ISSUE","assignee":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"user_notes_count":1,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/3637","time_stats":{"time_estimate":7200,"total_time_spent":0,"human_time_estimate":"2h","human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/3637","notes":"https://gitlab.com/api/v4/projects/3836952/issues/3637/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/3637/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#3637","relative":"#3637","full":"tezos/tezos#3637"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":113675085,"iid":3636,"project_id":3836952,"title":"Translate the churny pytests `test_voting_full.py`","description":" estimated translation time: ~~4~~ 8 hours","state":"closed","created_at":"2022-08-23T07:46:12.416Z","updated_at":"2023-01-11T10:28:10.591Z","closed_at":"2023-01-11T10:28:10.559Z","closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8770486/avatar.png","web_url":"https://gitlab.com/nomadic-margebot"},"labels":["python  🐍","state::to-do","test ⚒","tests::pytest"],"milestone":{"id":2929075,"iid":155,"project_id":3836952,"title":"Py2ml#3: Keep on slogging","description":"See https://hackmd.io/fwsV80pYT5OYKf0biYz9nA\r\n\r\nOwner: @arvidnl\r\n\r\nGoal: Translate remaining Python tests to OCaml\r\n\r\nAcceptance criteria: all remaining python tests are rewritten in OCaml.","state":"closed","created_at":"2023-01-03T12:39:45.938Z","updated_at":"2023-03-06T08:55:02.419Z","due_date":"2023-03-31","start_date":"2023-01-01","expired":true,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/155"},"assignees":[{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"type":"ISSUE","assignee":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"user_notes_count":5,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/3636","time_stats":{"time_estimate":14400,"total_time_spent":0,"human_time_estimate":"4h","human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":8,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/3636","notes":"https://gitlab.com/api/v4/projects/3836952/issues/3636/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/3636/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#3636","relative":"#3636","full":"tezos/tezos#3636"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":113675084,"iid":3635,"project_id":3836952,"title":"Translate the churny pytests `test_rpc.py`","description":" estimated translation time: 2 hours","state":"closed","created_at":"2022-08-23T07:46:12.335Z","updated_at":"2022-09-27T16:13:10.877Z","closed_at":"2022-09-27T16:13:10.724Z","closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8770486/avatar.png","web_url":"https://gitlab.com/nomadic-margebot"},"labels":["python  🐍","state::in-review","test ⚒","tests::pytest"],"milestone":{"id":2710630,"iid":97,"project_id":3836952,"title":"(OKR 2022Q3 - 1.4) - Py2ml#1: Flaky and churny Python tests are rewritten in OCaml","description":"See [(OKR 2022Q3 - 1.4)](https://hackmd.io/TQq1pPimTbaBcWC2QkCH8Q)\r\n\r\nOwner: @arvidnl \r\n\r\nGoal: Translate flaky and churny Python tests to OCaml\r\n\r\nAcceptance criteria: flaky and churny python tests are rewritten in OCaml. \r\n\r\n(I've reduced to scope from all tests to flaky\u0026churny given the resources at hand, follow-up milestone is %121).","state":"closed","created_at":"2022-07-25T09:43:43.865Z","updated_at":"2022-11-08T08:26:50.801Z","due_date":"2022-09-30","start_date":"2022-08-22","expired":true,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/97"},"assignees":[{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"type":"ISSUE","assignee":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":"2022-09-23","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/3635","time_stats":{"time_estimate":7200,"total_time_spent":0,"human_time_estimate":"2h","human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/3635","notes":"https://gitlab.com/api/v4/projects/3836952/issues/3635/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/3635/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#3635","relative":"#3635","full":"tezos/tezos#3635"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":113675083,"iid":3634,"project_id":3836952,"title":"Translate the churny pytests `test_per_block_votes.py`","description":" estimated translation time: 4 hours","state":"closed","created_at":"2022-08-23T07:46:12.248Z","updated_at":"2022-09-07T08:49:01.672Z","closed_at":"2022-08-31T14:43:22.863Z","closed_by":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"labels":["python  🐍","test ⚒","tests::pytest"],"milestone":{"id":2710630,"iid":97,"project_id":3836952,"title":"(OKR 2022Q3 - 1.4) - Py2ml#1: Flaky and churny Python tests are rewritten in OCaml","description":"See [(OKR 2022Q3 - 1.4)](https://hackmd.io/TQq1pPimTbaBcWC2QkCH8Q)\r\n\r\nOwner: @arvidnl \r\n\r\nGoal: Translate flaky and churny Python tests to OCaml\r\n\r\nAcceptance criteria: flaky and churny python tests are rewritten in OCaml. \r\n\r\n(I've reduced to scope from all tests to flaky\u0026churny given the resources at hand, follow-up milestone is %121).","state":"closed","created_at":"2022-07-25T09:43:43.865Z","updated_at":"2022-11-08T08:26:50.801Z","due_date":"2022-09-30","start_date":"2022-08-22","expired":true,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/97"},"assignees":[{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"type":"ISSUE","assignee":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2022-09-23","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/3634","time_stats":{"time_estimate":14400,"total_time_spent":0,"human_time_estimate":"4h","human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/3634","notes":"https://gitlab.com/api/v4/projects/3836952/issues/3634/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/3634/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#3634","relative":"#3634","full":"tezos/tezos#3634"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":113675082,"iid":3633,"project_id":3836952,"title":"Start \"Translate the churny pytests `test_contract.py`\"","description":" estimated translation time: 48 hours (before split with #3942)\n\n - [x] `TestTypecheckingErrors` (@jaiyalas !6536, 1hr)\n - [x] `TestTZIP4View` (@lykimquyen  !6326) \n - [x] `TestSelfAddressTransfer` (@lykimquyen !6437) \n - [x] `TestBadIndentation` (@jaiyalas !6324)\n - [x] `TestOriginateContractFromContract` (@linoscope: https://gitlab.com/tezos/tezos/-/merge_requests/6382)\n - [x] `TestCreateRemoveTickets` (@linoscope !6105)\n - [x] `TestSendTicketsInBigMap` (@linoscope !6105)","state":"closed","created_at":"2022-08-23T07:46:12.165Z","updated_at":"2022-10-27T14:02:43.537Z","closed_at":"2022-10-27T14:02:43.474Z","closed_by":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"labels":["python  🐍","state::in-review","test ⚒","tests::pytest"],"milestone":{"id":2710630,"iid":97,"project_id":3836952,"title":"(OKR 2022Q3 - 1.4) - Py2ml#1: Flaky and churny Python tests are rewritten in OCaml","description":"See [(OKR 2022Q3 - 1.4)](https://hackmd.io/TQq1pPimTbaBcWC2QkCH8Q)\r\n\r\nOwner: @arvidnl \r\n\r\nGoal: Translate flaky and churny Python tests to OCaml\r\n\r\nAcceptance criteria: flaky and churny python tests are rewritten in OCaml. \r\n\r\n(I've reduced to scope from all tests to flaky\u0026churny given the resources at hand, follow-up milestone is %121).","state":"closed","created_at":"2022-07-25T09:43:43.865Z","updated_at":"2022-11-08T08:26:50.801Z","due_date":"2022-09-30","start_date":"2022-08-22","expired":true,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/97"},"assignees":[{"id":912701,"username":"jaiyalas","name":"YunYan","state":"active","avatar_url":"https://secure.gravatar.com/avatar/5561cb5ef9d1e7b9bedf5f3af373a01a?s=80\u0026d=identicon","web_url":"https://gitlab.com/jaiyalas"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"type":"ISSUE","assignee":{"id":912701,"username":"jaiyalas","name":"YunYan","state":"active","avatar_url":"https://secure.gravatar.com/avatar/5561cb5ef9d1e7b9bedf5f3af373a01a?s=80\u0026d=identicon","web_url":"https://gitlab.com/jaiyalas"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2022-09-30","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/3633","time_stats":{"time_estimate":172800,"total_time_spent":0,"human_time_estimate":"48h","human_total_time_spent":null},"task_completion_status":{"count":7,"completed_count":7},"weight":48,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/3633","notes":"https://gitlab.com/api/v4/projects/3836952/issues/3633/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/3633/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#3633","relative":"#3633","full":"tezos/tezos#3633"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":113675081,"iid":3632,"project_id":3836952,"title":"Translate the churny pytests `test_mockup.py`","description":" estimated translation time: 14 hours","state":"closed","created_at":"2022-08-23T07:46:12.068Z","updated_at":"2022-10-27T13:37:24.716Z","closed_at":"2022-10-27T13:37:24.674Z","closed_by":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"labels":["python  🐍","state::in-review","test ⚒","tests::pytest"],"milestone":{"id":2710630,"iid":97,"project_id":3836952,"title":"(OKR 2022Q3 - 1.4) - Py2ml#1: Flaky and churny Python tests are rewritten in OCaml","description":"See [(OKR 2022Q3 - 1.4)](https://hackmd.io/TQq1pPimTbaBcWC2QkCH8Q)\r\n\r\nOwner: @arvidnl \r\n\r\nGoal: Translate flaky and churny Python tests to OCaml\r\n\r\nAcceptance criteria: flaky and churny python tests are rewritten in OCaml. \r\n\r\n(I've reduced to scope from all tests to flaky\u0026churny given the resources at hand, follow-up milestone is %121).","state":"closed","created_at":"2022-07-25T09:43:43.865Z","updated_at":"2022-11-08T08:26:50.801Z","due_date":"2022-09-30","start_date":"2022-08-22","expired":true,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/97"},"assignees":[{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"type":"ISSUE","assignee":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2022-09-16","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/3632","time_stats":{"time_estimate":50400,"total_time_spent":0,"human_time_estimate":"14h","human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":14,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/3632","notes":"https://gitlab.com/api/v4/projects/3836952/issues/3632/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/3632/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#3632","relative":"#3632","full":"tezos/tezos#3632"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":113675080,"iid":3631,"project_id":3836952,"title":"Translate the flaky pytests `test_per_block_votes.py`","description":" estimated translation time: 4 hours","state":"closed","created_at":"2022-08-23T07:46:11.961Z","updated_at":"2022-09-08T16:27:03.517Z","closed_at":"2022-09-08T16:27:03.495Z","closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8770486/avatar.png","web_url":"https://gitlab.com/nomadic-margebot"},"labels":["python  🐍","state::in-review","test ⚒","tests::pytest"],"milestone":{"id":2710630,"iid":97,"project_id":3836952,"title":"(OKR 2022Q3 - 1.4) - Py2ml#1: Flaky and churny Python tests are rewritten in OCaml","description":"See [(OKR 2022Q3 - 1.4)](https://hackmd.io/TQq1pPimTbaBcWC2QkCH8Q)\r\n\r\nOwner: @arvidnl \r\n\r\nGoal: Translate flaky and churny Python tests to OCaml\r\n\r\nAcceptance criteria: flaky and churny python tests are rewritten in OCaml. \r\n\r\n(I've reduced to scope from all tests to flaky\u0026churny given the resources at hand, follow-up milestone is %121).","state":"closed","created_at":"2022-07-25T09:43:43.865Z","updated_at":"2022-11-08T08:26:50.801Z","due_date":"2022-09-30","start_date":"2022-08-22","expired":true,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/97"},"assignees":[{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"type":"ISSUE","assignee":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":"2022-09-02","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/3631","time_stats":{"time_estimate":14400,"total_time_spent":0,"human_time_estimate":"4h","human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/3631","notes":"https://gitlab.com/api/v4/projects/3836952/issues/3631/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/3631/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#3631","relative":"#3631","full":"tezos/tezos#3631"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":113675079,"iid":3630,"project_id":3836952,"title":"Translate the flaky pytests `test_injection.py`","description":" estimated translation time: 2 hours","state":"closed","created_at":"2022-08-23T07:46:11.773Z","updated_at":"2022-09-09T08:02:42.980Z","closed_at":"2022-09-09T08:02:42.948Z","closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8770486/avatar.png","web_url":"https://gitlab.com/nomadic-margebot"},"labels":["python  🐍","state::in-review","test ⚒","tests::pytest"],"milestone":{"id":2710630,"iid":97,"project_id":3836952,"title":"(OKR 2022Q3 - 1.4) - Py2ml#1: Flaky and churny Python tests are rewritten in OCaml","description":"See [(OKR 2022Q3 - 1.4)](https://hackmd.io/TQq1pPimTbaBcWC2QkCH8Q)\r\n\r\nOwner: @arvidnl \r\n\r\nGoal: Translate flaky and churny Python tests to OCaml\r\n\r\nAcceptance criteria: flaky and churny python tests are rewritten in OCaml. \r\n\r\n(I've reduced to scope from all tests to flaky\u0026churny given the resources at hand, follow-up milestone is %121).","state":"closed","created_at":"2022-07-25T09:43:43.865Z","updated_at":"2022-11-08T08:26:50.801Z","due_date":"2022-09-30","start_date":"2022-08-22","expired":true,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/97"},"assignees":[{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"type":"ISSUE","assignee":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"user_notes_count":2,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":"2022-09-02","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/3630","time_stats":{"time_estimate":7200,"total_time_spent":0,"human_time_estimate":"2h","human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/3630","notes":"https://gitlab.com/api/v4/projects/3836952/issues/3630/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/3630/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#3630","relative":"#3630","full":"tezos/tezos#3630"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":113675078,"iid":3629,"project_id":3836952,"title":"Translate the flaky pytests `test_bootstrap.py`","description":" estimated translation time: 5 hours","state":"closed","created_at":"2022-08-23T07:46:11.658Z","updated_at":"2022-09-08T15:58:12.324Z","closed_at":"2022-09-08T15:58:12.270Z","closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8770486/avatar.png","web_url":"https://gitlab.com/nomadic-margebot"},"labels":["python  🐍","state::in-review","test ⚒","tests::pytest"],"milestone":{"id":2710630,"iid":97,"project_id":3836952,"title":"(OKR 2022Q3 - 1.4) - Py2ml#1: Flaky and churny Python tests are rewritten in OCaml","description":"See [(OKR 2022Q3 - 1.4)](https://hackmd.io/TQq1pPimTbaBcWC2QkCH8Q)\r\n\r\nOwner: @arvidnl \r\n\r\nGoal: Translate flaky and churny Python tests to OCaml\r\n\r\nAcceptance criteria: flaky and churny python tests are rewritten in OCaml. \r\n\r\n(I've reduced to scope from all tests to flaky\u0026churny given the resources at hand, follow-up milestone is %121).","state":"closed","created_at":"2022-07-25T09:43:43.865Z","updated_at":"2022-11-08T08:26:50.801Z","due_date":"2022-09-30","start_date":"2022-08-22","expired":true,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/97"},"assignees":[{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"type":"ISSUE","assignee":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"user_notes_count":2,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":"2022-09-02","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/3629","time_stats":{"time_estimate":18000,"total_time_spent":0,"human_time_estimate":"5h","human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/3629","notes":"https://gitlab.com/api/v4/projects/3836952/issues/3629/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/3629/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#3629","relative":"#3629","full":"tezos/tezos#3629"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":113675077,"iid":3628,"project_id":3836952,"title":"Translate the flaky pytests `test_tenderbake*.py`","description":"estimated translation time: 14 hours\n\n - [x] test_tenderbake_bakers_restart.py (~~!6320~~ !6523)\n - [x] test_tenderbake_incremental_start.py (~~!6320~~ !6523)\n - [x] test_tenderbake_long_dynamic_bake.py (!6300)\n - [x] test_tenderbake_manual_bake.py (https://gitlab.com/tezos/tezos/-/merge_requests/6345/)\n - [x] test_tenderbake.py (!5245)","state":"closed","created_at":"2022-08-23T07:46:11.520Z","updated_at":"2022-10-07T11:38:50.367Z","closed_at":"2022-10-06T14:03:02.081Z","closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8770486/avatar.png","web_url":"https://gitlab.com/nomadic-margebot"},"labels":["python  🐍","state::in-review","test ⚒","tests::pytest"],"milestone":{"id":2710630,"iid":97,"project_id":3836952,"title":"(OKR 2022Q3 - 1.4) - Py2ml#1: Flaky and churny Python tests are rewritten in OCaml","description":"See [(OKR 2022Q3 - 1.4)](https://hackmd.io/TQq1pPimTbaBcWC2QkCH8Q)\r\n\r\nOwner: @arvidnl \r\n\r\nGoal: Translate flaky and churny Python tests to OCaml\r\n\r\nAcceptance criteria: flaky and churny python tests are rewritten in OCaml. \r\n\r\n(I've reduced to scope from all tests to flaky\u0026churny given the resources at hand, follow-up milestone is %121).","state":"closed","created_at":"2022-07-25T09:43:43.865Z","updated_at":"2022-11-08T08:26:50.801Z","due_date":"2022-09-30","start_date":"2022-08-22","expired":true,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/97"},"assignees":[{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"}],"author":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"type":"ISSUE","assignee":{"id":4414596,"username":"arvidnl","name":"Arvid Jakobsson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4414596/avatar.png","web_url":"https://gitlab.com/arvidnl"},"user_notes_count":5,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":"2022-09-09","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/3628","time_stats":{"time_estimate":50400,"total_time_spent":0,"human_time_estimate":"14h","human_total_time_spent":null},"task_completion_status":{"count":5,"completed_count":5},"weight":14,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/3628","notes":"https://gitlab.com/api/v4/projects/3836952/issues/3628/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/3628/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#3628","relative":"#3628","full":"tezos/tezos#3628"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":113413415,"iid":3583,"project_id":3836952,"title":"EVM on WASM: Add TX kernel functionality to EVM kernel","description":"The EVM kernel must be able to handle deposits, transactions and withdrawals just like the TX kernel. Add a new transaction type, `EVMtransaction`, that encapsulates an EVM contract call. The contents of this transaction is not so important for this ticket, only that it is there and that is used to dispatch to a `handle_evm_call` function.\n\nIntegrating with the TX kernel got complicated. The actual implementation of transaction _handling_ (as compared to the rest of the TX kernel structure) has been moved to issue: https://gitlab.com/tezos/tezos/-/issues/3698\n\nThis ticket is about porting the structure of the TX kernel to the EVM kernel including data types and splitting and/or amending those data types where needed for EVM transaction handling. Transaction verification of TX kernel transactions is complicated by interleaved EVM transactions and moved to the issue linked above.","state":"closed","created_at":"2022-08-17T15:41:46.804Z","updated_at":"2022-09-02T13:48:56.552Z","closed_at":"2022-09-02T13:48:56.523Z","closed_by":{"id":11403341,"username":"thomas.pecseli","name":"Thomas Pecseli","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3775b505539832eeb48b4a781ed3dcd7?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomas.pecseli"},"labels":[],"milestone":{"id":2729229,"iid":108,"project_id":3836952,"title":"EVM on WASM: Run EVM interpreter from kernel","description":"## Goal\r\n\r\nRun EVM contract(s) with an EVM interpreter compiled to WASM. Interpreter is called from the `kernel_next` function in the WASM kernel (this implies limited access to `std` library as per transactions kernel).\r\n\r\n### Success\r\n\r\nWe can run an EVM interpreter from `kernel_next` where:\r\n1. Compiling/linking the EVM interpreter doesn't need anything from Rust `std` (with exceptions allowed in the kernel) or other functionality not supported by the WASM PVM (eg, floating point operations, random numbers).\r\n2. Full support for current EVM instruction set.\r\n3. We can intercept contract calls so that we can later implement *precompiles*.\r\n4. We get log output from contract calls.\r\n\r\n## Knowledge gathering\r\n\r\n- [X] List of all current EVM instructions we need to support. See [this list of instructions](https://www.evm.codes/).\r\n- [X] Detailed list of all EVM instructions and opcodes that require information from outside the EVM interpreter. An EVM contract can access information such as block hash, block number, timestamp, proof-of-work difficulty, et.c. We'll need to provide this data to the EVM interpreter, and we have to choose an interpreter that allows us to support this. A list has been compiled [here](https://www.notion.so/trilitech/Special-EVM-instructions-de43f750a758428091ddcd81023213c9). \r\n- [ ] Overview of up coming Ethereum EIPs and how the affect instruction semantics (move to proof-of-stake et.c.).\r\n\r\n## Implementation\r\n\r\n- [X] A crate in the workspace of the WASM kernel for the EVM kernel.\r\n    + Setup basic Rust/Cargo files for the EVM kernel #3547 \r\n- [X] Add transaction kernel functionality to EVM kernel, with one additional transaction type: EVM contract calls (dummy handler).\r\n    + Add TX kernel to EVM kernel #3583\r\n- [X] Add EVM interpreter to EVM kernel\r\n    + Use SputnikVM to handle EVM contract calls. #3549\r\n    + Use `geth` to handle EVM contract calls. #3550\r\n- [X] Call precompiled contract as an EVM contract.\r\n    + A simple precompiled contract computing identity function and write to log #3552\r\n- [ ] Confidence that the EVM interpreter is _completely_ correct.\r\n    + Set up `geth` for use as reference (and document how to do so) #3558\r\n    + Run standard tests on EVM kernel #3555\r\n\r\n## Confidence\r\n\r\n- [X] Test of simple contract calls\r\n- [X] Test of contract calling other contracts\r\n- [X] Test log output\r\n- [X] Test contract call intercept\r\n- [ ] EVM test suite.\r\n\r\n## Further reading\r\n\r\nSee page in notion: https://www.notion.so/trilitech/EVM-on-WASM-on-Rollups-8d6ab0840ad24199aa46735bf5787189\r\n","state":"closed","created_at":"2022-08-08T16:01:19.594Z","updated_at":"2023-04-20T13:31:28.142Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/108"},"assignees":[{"id":11403341,"username":"thomas.pecseli","name":"Thomas Pecseli","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3775b505539832eeb48b4a781ed3dcd7?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomas.pecseli"}],"author":{"id":11403341,"username":"thomas.pecseli","name":"Thomas Pecseli","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3775b505539832eeb48b4a781ed3dcd7?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomas.pecseli"},"type":"ISSUE","assignee":{"id":11403341,"username":"thomas.pecseli","name":"Thomas Pecseli","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3775b505539832eeb48b4a781ed3dcd7?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomas.pecseli"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":"2022-08-25","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/3583","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/3583","notes":"https://gitlab.com/api/v4/projects/3836952/issues/3583/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/3583/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#3583","relative":"#3583","full":"tezos/tezos#3583"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":113283576,"iid":3560,"project_id":3836952,"title":"SCORU: Add tezt test that runs a large number of evaluation ticks","description":"(disabbled by default).","state":"closed","created_at":"2022-08-15T10:47:53.835Z","updated_at":"2022-09-13T18:34:28.083Z","closed_at":"2022-09-13T18:34:27.989Z","closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8770486/avatar.png","web_url":"https://gitlab.com/nomadic-margebot"},"labels":[],"milestone":{"id":2777728,"iid":133,"project_id":3836952,"title":"SCORU WASM: Protocol M","description":"Following the beginning of the stabilization period, we will focus our effort on asserting the correctness of the WASM PVM wrt. tick size. This means writing tests, finding adversarial inputs, etc.\r\n\r\nBugs will be found, but no feature shall be added.","state":"active","created_at":"2022-09-13T11:26:08.477Z","updated_at":"2023-01-16T14:44:15.542Z","due_date":"2023-01-16","start_date":"2022-09-16","expired":true,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/133"},"assignees":[],"author":{"id":9031131,"username":"hans.hoglund","name":"Hans Hoglund","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9031131/avatar.png","web_url":"https://gitlab.com/hans.hoglund"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/3560","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/3560","notes":"https://gitlab.com/api/v4/projects/3836952/issues/3560/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/3560/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#3560","relative":"#3560","full":"tezos/tezos#3560"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":113283078,"iid":3559,"project_id":3836952,"title":"EVM on WASM: Run time for large/long transaction on EVM","description":"Goal: find number of WASM instructions needed to run the largest EVM transaction.\n\nThings to figure out and do in this issue:\n- [x] How large is the \"the largest\" EVM transaction. Can we find this by looking at Ethereum history?\n- [x] How much gas was spent on said transaction?\n- [x] Write a contract that burns this amount of gas doing whatever.\n- [x] How many WASM ticks are needed to run that transaction with the EVM interpreter we integrate with `kernel_next`?\n\nBeware:\n- Running the contract is only part of the transaction. After the transaction succeeds, the result needs to be written to permanent storage.\n- Price (in WASM ticks and EVM gas) of storage interaction.","state":"closed","created_at":"2022-08-15T10:31:45.563Z","updated_at":"2022-11-07T13:41:46.212Z","closed_at":"2022-11-07T13:41:46.194Z","closed_by":{"id":11403341,"username":"thomas.pecseli","name":"Thomas Pecseli","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3775b505539832eeb48b4a781ed3dcd7?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomas.pecseli"},"labels":[],"milestone":{"id":2729229,"iid":108,"project_id":3836952,"title":"EVM on WASM: Run EVM interpreter from kernel","description":"## Goal\r\n\r\nRun EVM contract(s) with an EVM interpreter compiled to WASM. Interpreter is called from the `kernel_next` function in the WASM kernel (this implies limited access to `std` library as per transactions kernel).\r\n\r\n### Success\r\n\r\nWe can run an EVM interpreter from `kernel_next` where:\r\n1. Compiling/linking the EVM interpreter doesn't need anything from Rust `std` (with exceptions allowed in the kernel) or other functionality not supported by the WASM PVM (eg, floating point operations, random numbers).\r\n2. Full support for current EVM instruction set.\r\n3. We can intercept contract calls so that we can later implement *precompiles*.\r\n4. We get log output from contract calls.\r\n\r\n## Knowledge gathering\r\n\r\n- [X] List of all current EVM instructions we need to support. See [this list of instructions](https://www.evm.codes/).\r\n- [X] Detailed list of all EVM instructions and opcodes that require information from outside the EVM interpreter. An EVM contract can access information such as block hash, block number, timestamp, proof-of-work difficulty, et.c. We'll need to provide this data to the EVM interpreter, and we have to choose an interpreter that allows us to support this. A list has been compiled [here](https://www.notion.so/trilitech/Special-EVM-instructions-de43f750a758428091ddcd81023213c9). \r\n- [ ] Overview of up coming Ethereum EIPs and how the affect instruction semantics (move to proof-of-stake et.c.).\r\n\r\n## Implementation\r\n\r\n- [X] A crate in the workspace of the WASM kernel for the EVM kernel.\r\n    + Setup basic Rust/Cargo files for the EVM kernel #3547 \r\n- [X] Add transaction kernel functionality to EVM kernel, with one additional transaction type: EVM contract calls (dummy handler).\r\n    + Add TX kernel to EVM kernel #3583\r\n- [X] Add EVM interpreter to EVM kernel\r\n    + Use SputnikVM to handle EVM contract calls. #3549\r\n    + Use `geth` to handle EVM contract calls. #3550\r\n- [X] Call precompiled contract as an EVM contract.\r\n    + A simple precompiled contract computing identity function and write to log #3552\r\n- [ ] Confidence that the EVM interpreter is _completely_ correct.\r\n    + Set up `geth` for use as reference (and document how to do so) #3558\r\n    + Run standard tests on EVM kernel #3555\r\n\r\n## Confidence\r\n\r\n- [X] Test of simple contract calls\r\n- [X] Test of contract calling other contracts\r\n- [X] Test log output\r\n- [X] Test contract call intercept\r\n- [ ] EVM test suite.\r\n\r\n## Further reading\r\n\r\nSee page in notion: https://www.notion.so/trilitech/EVM-on-WASM-on-Rollups-8d6ab0840ad24199aa46735bf5787189\r\n","state":"closed","created_at":"2022-08-08T16:01:19.594Z","updated_at":"2023-04-20T13:31:28.142Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/108"},"assignees":[{"id":11403341,"username":"thomas.pecseli","name":"Thomas Pecseli","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3775b505539832eeb48b4a781ed3dcd7?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomas.pecseli"}],"author":{"id":11403341,"username":"thomas.pecseli","name":"Thomas Pecseli","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3775b505539832eeb48b4a781ed3dcd7?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomas.pecseli"},"type":"ISSUE","assignee":{"id":11403341,"username":"thomas.pecseli","name":"Thomas Pecseli","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3775b505539832eeb48b4a781ed3dcd7?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomas.pecseli"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/3559","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":4},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/3559","notes":"https://gitlab.com/api/v4/projects/3836952/issues/3559/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/3559/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#3559","relative":"#3559","full":"tezos/tezos#3559"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":113210136,"iid":3554,"project_id":3836952,"title":"SCORU: Wasm: Tezt test using test kernel (computation only)","description":"Goal: There is a tezt test that uses the L2 client to\n- Originate a Wasm SCORU\n- Load the test kernel (computation only)\n- Evaluate at least 2 `kernel_main` invocations.","state":"closed","created_at":"2022-08-12T15:54:20.021Z","updated_at":"2022-09-14T15:32:47.497Z","closed_at":"2022-09-07T13:31:34.033Z","closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8770486/avatar.png","web_url":"https://gitlab.com/nomadic-margebot"},"labels":[],"milestone":{"id":2725830,"iid":107,"project_id":3836952,"title":"(OKR 2022Q3 - 2.1) SCORU Wasm - Small Ticks","description":"\r\n# Goal\r\n\r\nCompletion of this milestone allows to enable SCORU + Wasm on mainnet.\r\n\r\n### Background\r\n\r\nThe goal of this milestone is to complete the implementation of the Wasm PVM and obtain confidence that:\r\n\r\n1. Layer 1 is safe: The WASM PVM cannot be used to attack the layer-1  by exploiting unbound computation time.\r\n2. Layer 2 is safe: The WASM PVM produces execution step within the SCORU size limit.\r\n3. Correctness: The WASM PVM implements WASM semantics. Limitations and restriction are documented.\r\n\r\n\r\n#### Stuck state\r\n\r\nCritical failure conditions in the PVM (\"assert false\" situations) is responded to by placing the PVM in a stuck state, where it no longer advances meaningfully, similar to a \"bluescreen of death\". \r\n\r\nTogether with #2198 and #3561, we enforce that the worst outcome of  stuck state is an asset-lockup situation, not an arbitrary-withdrawal situation.\r\n\r\n\r\n#### Breaking changes\r\n\r\nWe will need to prioritize carefully the remaining work, such that\r\n\r\n1. We have a WASM PVM working in mid-September.\r\n2. Missing features of the WASM PVM can be implemented without completely breaking originated rollup.\r\n3. Any breaking change needs to be backed-up by a migration plan.\r\n\r\nEstimate: 12pw\r\n\r\n\r\n# Current work/MRs\r\n- Gas metering for compute-step function #3548 @ole.kruger\r\n- Tickify module initialization #3076 @lthms \r\n- Non-recursive admin instructions #3606 @hans.hoglund \r\n- Nominal gast cost of proof verification #3164 @yrg \r\n\r\n# Breakdown\r\n\r\n\u003cdetails\u003e\r\n\u003csummary\u003eWork to be reevaluated\u003c/summary\u003e\r\n\r\n## L1 can control L2 semantics divergence\r\n\r\nThe goal of these tasks was to provide safe guard for ensuring a L2 tick cannot be underevaluated from the perspective of the L1 gas consumption.\r\n\r\nThe methods explored are not satisfactory, and we believe there are other means to achieve this goal, in particular the hardening of the L2 implementation.\r\n\r\n- [ ] Gas metering for compute-step function in WASM PVM #3548\r\n- [ ] Nominal gast cost of proof verification #3164 (handle in %\"Smart Contract Rollup Hardening?)\r\n\r\n## Test-suite conformance\r\n\r\nThis can be re-explore during the stabilization period, but if we have a large number of testing kernels, this is probably not necessary/of high priority.\r\n\r\n- [ ] Instrument the WASM test-suite to do a decode-eval-encode loop during parsing #3500 \r\n\r\n\u003c/details\u003e\r\n\r\n## PVM Life cycle and correctness\r\n- [x] Handling all inputs per commitment !6698\r\n\r\n\r\n## Small-step decode and initialization\r\n\r\n- [X] Add merkleized representation of parser state #3150 !5891 \r\n- [X] Add merkleized representation of the parsed AST #3149\r\n- [X] Scoru_wasm: Parser state encodings !5891 \r\n- [x] Merkleization of the parser's input #3224 \r\n- [x] Tickify module initialization #3076\r\n- [x] Tickify linking #3786 \r\n- [x] Non-recursive admin instructions #3606\r\n\r\nOnce this is all done, then we close this:\r\n\r\n- [x] Ensure \"unsafe\" functions are never used inside the PVM #3378\r\n\r\n\u003cdetails\u003e\r\n\u003csummary\u003eDone\u003c/summary\u003e\r\n\r\n## Error handling\r\n- [x] lib_lazy_containers + lib_webassembly: make exceptions distinguishable (improves error reporting) !6097\r\n- [X] **lib_scoru_wasm: disallow exceptions in entry-point functions #3448** !6101 !6097\r\n\r\n\u003c/details\u003e\r\n\r\n## Code quality (Critical)\r\n- [X] Factor out module-registry from AST func nodes #3492 Nice to have 👶\r\n- [X] Lib_webassembly: cleanup deadcode #3334 Code quality 🌟 Nice to have 👶\r\n- [x] WASM PVM: Simplify decoding logic for WASM PVM #3444\r\n\r\n## Documentation\r\n- [x] Document version of spec and subset/additions #3117 doc \r\n\r\n\u003cdetails\u003e\r\n\u003csummary\u003eTo be revisited when the remaining tasks are done\u003c/summary\u003e\r\n\r\n## Code quality (Nice-to-Have)\r\n- [ ] WASM: Follow up items for lazy-containers #3535 \r\n- [ ] Increase the message size limit for faster loading #3361 \r\n- [ ] Use ppx_deriving.show for AST pretty-printer #3456 \r\n- [ ] Lib_webassembly: fix unused variables #3304 \r\n- [ ] Single source of truth for function types #3396 \r\n- [ ] More compact output proofs #3237 \r\n- [ ] WASM Parser: refactoring of duplicated code #3120 \r\n- [ ] Wasm PVM: Remove duplication in input proofs #3091 \r\n- [ ] Binary parsing: Reuse a unique lazy stack #3569 \r\n- [ ] Drop locations from AST #3566 \r\n- [ ] Increase confidence in Interpreter_encodings boilerplate #3565 \r\n- [ ] SCORU WASM: Derive AST generators #3511 \r\n- [ ] Lib_scoru_wasm: Improve wasm encoding schema with named fields #3469 \r\n- [ ] Use library function for Assert.false and replicate #3532\r\n- [ ] Add generators for vector instructions #3455\r\n- [ ] Add tests for corner cases in Chunked_byte_vector #3085\r\n- [ ] Test tree encoding with official Wasm test suite #3570\r\n\r\n\u003c/details\u003e\r\n","state":"closed","created_at":"2022-08-04T17:13:44.166Z","updated_at":"2022-11-16T08:34:25.529Z","due_date":"2022-09-16","start_date":"2022-08-12","expired":true,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/107"},"assignees":[{"id":9031131,"username":"hans.hoglund","name":"Hans Hoglund","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9031131/avatar.png","web_url":"https://gitlab.com/hans.hoglund"}],"author":{"id":9031131,"username":"hans.hoglund","name":"Hans Hoglund","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9031131/avatar.png","web_url":"https://gitlab.com/hans.hoglund"},"type":"ISSUE","assignee":{"id":9031131,"username":"hans.hoglund","name":"Hans Hoglund","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9031131/avatar.png","web_url":"https://gitlab.com/hans.hoglund"},"user_notes_count":1,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/3554","time_stats":{"time_estimate":28800,"total_time_spent":0,"human_time_estimate":"8h","human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/3554","notes":"https://gitlab.com/api/v4/projects/3836952/issues/3554/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/3554/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#3554","relative":"#3554","full":"tezos/tezos#3554"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":113210135,"iid":3553,"project_id":3836952,"title":"SCORU: Wasm: Tezt test using test kernel (computation and input)","description":"Goal: There is a tezt test that uses the L2 client to\n- Originate a Wasm SCORU\n- Load the test kernel (input feature enabled)\n- Evaluate at least 2 `kernel_main` invocations.","state":"closed","created_at":"2022-08-12T15:54:15.537Z","updated_at":"2023-01-16T14:31:05.262Z","closed_at":"2023-01-16T14:31:05.225Z","closed_by":{"id":7921723,"username":"lthms","name":"Thomas Letan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7921723/avatar.png","web_url":"https://gitlab.com/lthms"},"labels":[],"milestone":{"id":2777728,"iid":133,"project_id":3836952,"title":"SCORU WASM: Protocol M","description":"Following the beginning of the stabilization period, we will focus our effort on asserting the correctness of the WASM PVM wrt. tick size. This means writing tests, finding adversarial inputs, etc.\r\n\r\nBugs will be found, but no feature shall be added.","state":"active","created_at":"2022-09-13T11:26:08.477Z","updated_at":"2023-01-16T14:44:15.542Z","due_date":"2023-01-16","start_date":"2022-09-16","expired":true,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/133"},"assignees":[{"id":9031131,"username":"hans.hoglund","name":"Hans Hoglund","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9031131/avatar.png","web_url":"https://gitlab.com/hans.hoglund"}],"author":{"id":9031131,"username":"hans.hoglund","name":"Hans Hoglund","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9031131/avatar.png","web_url":"https://gitlab.com/hans.hoglund"},"type":"ISSUE","assignee":{"id":9031131,"username":"hans.hoglund","name":"Hans Hoglund","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9031131/avatar.png","web_url":"https://gitlab.com/hans.hoglund"},"user_notes_count":4,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/3553","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/3553","notes":"https://gitlab.com/api/v4/projects/3836952/issues/3553/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/3553/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#3553","relative":"#3553","full":"tezos/tezos#3553"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":113210047,"iid":3552,"project_id":3836952,"title":"EVM  on WASM: EVM precompiled contract","description":"Write one precompiled contract for the EVM interpreter: the identity function. The contract should write the _call data_ to the _return data_. Also, have the contract write a message to the evm- _and_ the kernel- log.\n\nTest:\n- Have the EVM interpreter call a contract that calls the build in contract","state":"closed","created_at":"2022-08-12T15:51:53.141Z","updated_at":"2023-03-31T09:33:50.061Z","closed_at":"2023-03-31T09:33:50.037Z","closed_by":{"id":11403341,"username":"thomas.pecseli","name":"Thomas Pecseli","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3775b505539832eeb48b4a781ed3dcd7?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomas.pecseli"},"labels":[],"milestone":{"id":2736953,"iid":114,"project_id":3836952,"title":"EVM on WASM: backlog","description":"Add issues to this milestone as they appear duing work on other issues/milestones related to EVM on WASM. If an issue doesn't fit on a particular milestone, then put it here.","state":"closed","created_at":"2022-08-15T12:50:51.573Z","updated_at":"2023-04-20T13:38:45.982Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/114"},"assignees":[],"author":{"id":11403341,"username":"thomas.pecseli","name":"Thomas Pecseli","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3775b505539832eeb48b4a781ed3dcd7?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomas.pecseli"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/3552","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/3552","notes":"https://gitlab.com/api/v4/projects/3836952/issues/3552/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/3552/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#3552","relative":"#3552","full":"tezos/tezos#3552"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":113209443,"iid":3551,"project_id":3836952,"title":"EVM on WASM: common trait for encapsulating EVM interpreter","description":"Encapsulate SputnikVM and Geth in each their struct. Each struct should implement one common trait/interface that allows for\n- calling contracts\n- providing precompiles\n- interfacing with storage and transactions.\n- intercepting `LOGx` instruction execution so that logs are not just part of the transaction, but also written to kernel log.","state":"closed","created_at":"2022-08-12T15:37:12.575Z","updated_at":"2022-09-27T15:12:17.290Z","closed_at":"2022-09-27T15:05:18.116Z","closed_by":{"id":11403341,"username":"thomas.pecseli","name":"Thomas Pecseli","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3775b505539832eeb48b4a781ed3dcd7?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomas.pecseli"},"labels":[],"milestone":{"id":2729229,"iid":108,"project_id":3836952,"title":"EVM on WASM: Run EVM interpreter from kernel","description":"## Goal\r\n\r\nRun EVM contract(s) with an EVM interpreter compiled to WASM. Interpreter is called from the `kernel_next` function in the WASM kernel (this implies limited access to `std` library as per transactions kernel).\r\n\r\n### Success\r\n\r\nWe can run an EVM interpreter from `kernel_next` where:\r\n1. Compiling/linking the EVM interpreter doesn't need anything from Rust `std` (with exceptions allowed in the kernel) or other functionality not supported by the WASM PVM (eg, floating point operations, random numbers).\r\n2. Full support for current EVM instruction set.\r\n3. We can intercept contract calls so that we can later implement *precompiles*.\r\n4. We get log output from contract calls.\r\n\r\n## Knowledge gathering\r\n\r\n- [X] List of all current EVM instructions we need to support. See [this list of instructions](https://www.evm.codes/).\r\n- [X] Detailed list of all EVM instructions and opcodes that require information from outside the EVM interpreter. An EVM contract can access information such as block hash, block number, timestamp, proof-of-work difficulty, et.c. We'll need to provide this data to the EVM interpreter, and we have to choose an interpreter that allows us to support this. A list has been compiled [here](https://www.notion.so/trilitech/Special-EVM-instructions-de43f750a758428091ddcd81023213c9). \r\n- [ ] Overview of up coming Ethereum EIPs and how the affect instruction semantics (move to proof-of-stake et.c.).\r\n\r\n## Implementation\r\n\r\n- [X] A crate in the workspace of the WASM kernel for the EVM kernel.\r\n    + Setup basic Rust/Cargo files for the EVM kernel #3547 \r\n- [X] Add transaction kernel functionality to EVM kernel, with one additional transaction type: EVM contract calls (dummy handler).\r\n    + Add TX kernel to EVM kernel #3583\r\n- [X] Add EVM interpreter to EVM kernel\r\n    + Use SputnikVM to handle EVM contract calls. #3549\r\n    + Use `geth` to handle EVM contract calls. #3550\r\n- [X] Call precompiled contract as an EVM contract.\r\n    + A simple precompiled contract computing identity function and write to log #3552\r\n- [ ] Confidence that the EVM interpreter is _completely_ correct.\r\n    + Set up `geth` for use as reference (and document how to do so) #3558\r\n    + Run standard tests on EVM kernel #3555\r\n\r\n## Confidence\r\n\r\n- [X] Test of simple contract calls\r\n- [X] Test of contract calling other contracts\r\n- [X] Test log output\r\n- [X] Test contract call intercept\r\n- [ ] EVM test suite.\r\n\r\n## Further reading\r\n\r\nSee page in notion: https://www.notion.so/trilitech/EVM-on-WASM-on-Rollups-8d6ab0840ad24199aa46735bf5787189\r\n","state":"closed","created_at":"2022-08-08T16:01:19.594Z","updated_at":"2023-04-20T13:31:28.142Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/108"},"assignees":[],"author":{"id":11403341,"username":"thomas.pecseli","name":"Thomas Pecseli","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3775b505539832eeb48b4a781ed3dcd7?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomas.pecseli"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/3551","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/3551","notes":"https://gitlab.com/api/v4/projects/3836952/issues/3551/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/3551/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#3551","relative":"#3551","full":"tezos/tezos#3551"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":113206519,"iid":3550,"project_id":3836952,"title":"EVM on WASM: Integrate with Geth","description":"Goal is to integrate with an EVM interpreter so we can check and see if it is useful for our purpose. This issue is about checking geth.\n\nRequirements:\n- supports most recent version of EVM instruction set (if it doesn't, then something is very wrong); and,\n- supports _precompiles_ in a way where we can define additional precompiles ourselves (not just the standard nine precompiles); and,\n- doesn't require features from Rust `std` that we don't already use.\n- capture execution of `LOGx` instructions.\n\nTests:\n- some test contracts that return successfully\n- some test contracts that fail - toplevel `REVERT` or using the standard invalid instruction.","state":"closed","created_at":"2022-08-12T15:19:59.581Z","updated_at":"2022-09-27T15:05:27.674Z","closed_at":"2022-09-27T15:05:27.649Z","closed_by":{"id":11403341,"username":"thomas.pecseli","name":"Thomas Pecseli","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3775b505539832eeb48b4a781ed3dcd7?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomas.pecseli"},"labels":[],"milestone":{"id":2729229,"iid":108,"project_id":3836952,"title":"EVM on WASM: Run EVM interpreter from kernel","description":"## Goal\r\n\r\nRun EVM contract(s) with an EVM interpreter compiled to WASM. Interpreter is called from the `kernel_next` function in the WASM kernel (this implies limited access to `std` library as per transactions kernel).\r\n\r\n### Success\r\n\r\nWe can run an EVM interpreter from `kernel_next` where:\r\n1. Compiling/linking the EVM interpreter doesn't need anything from Rust `std` (with exceptions allowed in the kernel) or other functionality not supported by the WASM PVM (eg, floating point operations, random numbers).\r\n2. Full support for current EVM instruction set.\r\n3. We can intercept contract calls so that we can later implement *precompiles*.\r\n4. We get log output from contract calls.\r\n\r\n## Knowledge gathering\r\n\r\n- [X] List of all current EVM instructions we need to support. See [this list of instructions](https://www.evm.codes/).\r\n- [X] Detailed list of all EVM instructions and opcodes that require information from outside the EVM interpreter. An EVM contract can access information such as block hash, block number, timestamp, proof-of-work difficulty, et.c. We'll need to provide this data to the EVM interpreter, and we have to choose an interpreter that allows us to support this. A list has been compiled [here](https://www.notion.so/trilitech/Special-EVM-instructions-de43f750a758428091ddcd81023213c9). \r\n- [ ] Overview of up coming Ethereum EIPs and how the affect instruction semantics (move to proof-of-stake et.c.).\r\n\r\n## Implementation\r\n\r\n- [X] A crate in the workspace of the WASM kernel for the EVM kernel.\r\n    + Setup basic Rust/Cargo files for the EVM kernel #3547 \r\n- [X] Add transaction kernel functionality to EVM kernel, with one additional transaction type: EVM contract calls (dummy handler).\r\n    + Add TX kernel to EVM kernel #3583\r\n- [X] Add EVM interpreter to EVM kernel\r\n    + Use SputnikVM to handle EVM contract calls. #3549\r\n    + Use `geth` to handle EVM contract calls. #3550\r\n- [X] Call precompiled contract as an EVM contract.\r\n    + A simple precompiled contract computing identity function and write to log #3552\r\n- [ ] Confidence that the EVM interpreter is _completely_ correct.\r\n    + Set up `geth` for use as reference (and document how to do so) #3558\r\n    + Run standard tests on EVM kernel #3555\r\n\r\n## Confidence\r\n\r\n- [X] Test of simple contract calls\r\n- [X] Test of contract calling other contracts\r\n- [X] Test log output\r\n- [X] Test contract call intercept\r\n- [ ] EVM test suite.\r\n\r\n## Further reading\r\n\r\nSee page in notion: https://www.notion.so/trilitech/EVM-on-WASM-on-Rollups-8d6ab0840ad24199aa46735bf5787189\r\n","state":"closed","created_at":"2022-08-08T16:01:19.594Z","updated_at":"2023-04-20T13:31:28.142Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/108"},"assignees":[],"author":{"id":11403341,"username":"thomas.pecseli","name":"Thomas Pecseli","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3775b505539832eeb48b4a781ed3dcd7?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomas.pecseli"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/3550","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/3550","notes":"https://gitlab.com/api/v4/projects/3836952/issues/3550/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/3550/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#3550","relative":"#3550","full":"tezos/tezos#3550"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":113200456,"iid":3549,"project_id":3836952,"title":"EVM on WASM: Integrate with SputnikVM","description":"Goal is to integrate with an EVM interpreter so we can check and see if it is useful for our purpose. This issue is about using SputnikVM.\n\nRequirements:\n- supports most recent version of EVM instruction set; and,\n- supports _precompiles_; and,\n- doesn't require features from Rust `std` that we don't already use.\n- capture execution of `LOGx` instructions.\n\nAlternatives:\n- original: https://github.com/ETCDEVTeam/sputnikvm (probably out of date)\n- used by polkadot: https://github.com/rust-blockchain/evm/ (fork still with active maintenance)\n- any other version of SputnikVM you can find\n\nTest:\n- run contracts with both old/original and new EVM instructions\n- some test contract calls must succeed.\n- add some test contract calls, with contracts that fail.","state":"closed","created_at":"2022-08-12T14:55:00.044Z","updated_at":"2022-09-27T14:45:06.898Z","closed_at":"2022-09-23T13:45:49.739Z","closed_by":{"id":11403341,"username":"thomas.pecseli","name":"Thomas Pecseli","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3775b505539832eeb48b4a781ed3dcd7?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomas.pecseli"},"labels":[],"milestone":{"id":2729229,"iid":108,"project_id":3836952,"title":"EVM on WASM: Run EVM interpreter from kernel","description":"## Goal\r\n\r\nRun EVM contract(s) with an EVM interpreter compiled to WASM. Interpreter is called from the `kernel_next` function in the WASM kernel (this implies limited access to `std` library as per transactions kernel).\r\n\r\n### Success\r\n\r\nWe can run an EVM interpreter from `kernel_next` where:\r\n1. Compiling/linking the EVM interpreter doesn't need anything from Rust `std` (with exceptions allowed in the kernel) or other functionality not supported by the WASM PVM (eg, floating point operations, random numbers).\r\n2. Full support for current EVM instruction set.\r\n3. We can intercept contract calls so that we can later implement *precompiles*.\r\n4. We get log output from contract calls.\r\n\r\n## Knowledge gathering\r\n\r\n- [X] List of all current EVM instructions we need to support. See [this list of instructions](https://www.evm.codes/).\r\n- [X] Detailed list of all EVM instructions and opcodes that require information from outside the EVM interpreter. An EVM contract can access information such as block hash, block number, timestamp, proof-of-work difficulty, et.c. We'll need to provide this data to the EVM interpreter, and we have to choose an interpreter that allows us to support this. A list has been compiled [here](https://www.notion.so/trilitech/Special-EVM-instructions-de43f750a758428091ddcd81023213c9). \r\n- [ ] Overview of up coming Ethereum EIPs and how the affect instruction semantics (move to proof-of-stake et.c.).\r\n\r\n## Implementation\r\n\r\n- [X] A crate in the workspace of the WASM kernel for the EVM kernel.\r\n    + Setup basic Rust/Cargo files for the EVM kernel #3547 \r\n- [X] Add transaction kernel functionality to EVM kernel, with one additional transaction type: EVM contract calls (dummy handler).\r\n    + Add TX kernel to EVM kernel #3583\r\n- [X] Add EVM interpreter to EVM kernel\r\n    + Use SputnikVM to handle EVM contract calls. #3549\r\n    + Use `geth` to handle EVM contract calls. #3550\r\n- [X] Call precompiled contract as an EVM contract.\r\n    + A simple precompiled contract computing identity function and write to log #3552\r\n- [ ] Confidence that the EVM interpreter is _completely_ correct.\r\n    + Set up `geth` for use as reference (and document how to do so) #3558\r\n    + Run standard tests on EVM kernel #3555\r\n\r\n## Confidence\r\n\r\n- [X] Test of simple contract calls\r\n- [X] Test of contract calling other contracts\r\n- [X] Test log output\r\n- [X] Test contract call intercept\r\n- [ ] EVM test suite.\r\n\r\n## Further reading\r\n\r\nSee page in notion: https://www.notion.so/trilitech/EVM-on-WASM-on-Rollups-8d6ab0840ad24199aa46735bf5787189\r\n","state":"closed","created_at":"2022-08-08T16:01:19.594Z","updated_at":"2023-04-20T13:31:28.142Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/108"},"assignees":[{"id":11403341,"username":"thomas.pecseli","name":"Thomas Pecseli","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3775b505539832eeb48b4a781ed3dcd7?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomas.pecseli"}],"author":{"id":11403341,"username":"thomas.pecseli","name":"Thomas Pecseli","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3775b505539832eeb48b4a781ed3dcd7?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomas.pecseli"},"type":"ISSUE","assignee":{"id":11403341,"username":"thomas.pecseli","name":"Thomas Pecseli","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3775b505539832eeb48b4a781ed3dcd7?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomas.pecseli"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":"2022-08-29","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/3549","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/3549","notes":"https://gitlab.com/api/v4/projects/3836952/issues/3549/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/3549/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#3549","relative":"#3549","full":"tezos/tezos#3549"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":113193382,"iid":3547,"project_id":3836952,"title":"EVM on WASM: EVM kernel crate","description":"Add a new sub-project to the trili/kernel gitlab project. It should\n- have name `evm_kernel`; and,\n- contain a `Cargo.toml`, and a `lib.rs` file; and,\n- have a `kernel_next` function (defined using the `kernel_entry` macro); and, \n- a \"cache\" type.","state":"closed","created_at":"2022-08-12T14:25:54.649Z","updated_at":"2022-08-24T10:55:40.046Z","closed_at":"2022-08-24T10:55:40.026Z","closed_by":{"id":11403341,"username":"thomas.pecseli","name":"Thomas Pecseli","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3775b505539832eeb48b4a781ed3dcd7?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomas.pecseli"},"labels":[],"milestone":{"id":2729229,"iid":108,"project_id":3836952,"title":"EVM on WASM: Run EVM interpreter from kernel","description":"## Goal\r\n\r\nRun EVM contract(s) with an EVM interpreter compiled to WASM. Interpreter is called from the `kernel_next` function in the WASM kernel (this implies limited access to `std` library as per transactions kernel).\r\n\r\n### Success\r\n\r\nWe can run an EVM interpreter from `kernel_next` where:\r\n1. Compiling/linking the EVM interpreter doesn't need anything from Rust `std` (with exceptions allowed in the kernel) or other functionality not supported by the WASM PVM (eg, floating point operations, random numbers).\r\n2. Full support for current EVM instruction set.\r\n3. We can intercept contract calls so that we can later implement *precompiles*.\r\n4. We get log output from contract calls.\r\n\r\n## Knowledge gathering\r\n\r\n- [X] List of all current EVM instructions we need to support. See [this list of instructions](https://www.evm.codes/).\r\n- [X] Detailed list of all EVM instructions and opcodes that require information from outside the EVM interpreter. An EVM contract can access information such as block hash, block number, timestamp, proof-of-work difficulty, et.c. We'll need to provide this data to the EVM interpreter, and we have to choose an interpreter that allows us to support this. A list has been compiled [here](https://www.notion.so/trilitech/Special-EVM-instructions-de43f750a758428091ddcd81023213c9). \r\n- [ ] Overview of up coming Ethereum EIPs and how the affect instruction semantics (move to proof-of-stake et.c.).\r\n\r\n## Implementation\r\n\r\n- [X] A crate in the workspace of the WASM kernel for the EVM kernel.\r\n    + Setup basic Rust/Cargo files for the EVM kernel #3547 \r\n- [X] Add transaction kernel functionality to EVM kernel, with one additional transaction type: EVM contract calls (dummy handler).\r\n    + Add TX kernel to EVM kernel #3583\r\n- [X] Add EVM interpreter to EVM kernel\r\n    + Use SputnikVM to handle EVM contract calls. #3549\r\n    + Use `geth` to handle EVM contract calls. #3550\r\n- [X] Call precompiled contract as an EVM contract.\r\n    + A simple precompiled contract computing identity function and write to log #3552\r\n- [ ] Confidence that the EVM interpreter is _completely_ correct.\r\n    + Set up `geth` for use as reference (and document how to do so) #3558\r\n    + Run standard tests on EVM kernel #3555\r\n\r\n## Confidence\r\n\r\n- [X] Test of simple contract calls\r\n- [X] Test of contract calling other contracts\r\n- [X] Test log output\r\n- [X] Test contract call intercept\r\n- [ ] EVM test suite.\r\n\r\n## Further reading\r\n\r\nSee page in notion: https://www.notion.so/trilitech/EVM-on-WASM-on-Rollups-8d6ab0840ad24199aa46735bf5787189\r\n","state":"closed","created_at":"2022-08-08T16:01:19.594Z","updated_at":"2023-04-20T13:31:28.142Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/108"},"assignees":[{"id":11403341,"username":"thomas.pecseli","name":"Thomas Pecseli","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3775b505539832eeb48b4a781ed3dcd7?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomas.pecseli"}],"author":{"id":11403341,"username":"thomas.pecseli","name":"Thomas Pecseli","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3775b505539832eeb48b4a781ed3dcd7?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomas.pecseli"},"type":"ISSUE","assignee":{"id":11403341,"username":"thomas.pecseli","name":"Thomas Pecseli","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3775b505539832eeb48b4a781ed3dcd7?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomas.pecseli"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":"2022-08-25","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/3547","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/3547","notes":"https://gitlab.com/api/v4/projects/3836952/issues/3547/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/3547/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#3547","relative":"#3547","full":"tezos/tezos#3547"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":113123525,"iid":3537,"project_id":3836952,"title":"Add integration test for inputs","description":"Goal: There is a above the Protocol level test that loads a [Test kernel] that that has input feature flag enabled and feeds at least 10 inputs.\n\nFor similar tests, see `src/proto_alpha/lib_protocol/test/integration/test_sc_rollup_wasm.ml`, especially `should_boot_computation_kernel` (above Protocol).\n\nSomewhat related:\nhttps://gitlab.com/tezos/tezos/-/merge_requests/6208","state":"closed","created_at":"2022-08-11T09:58:00.836Z","updated_at":"2022-12-06T17:02:37.691Z","closed_at":"2022-12-06T17:02:37.672Z","closed_by":{"id":7921723,"username":"lthms","name":"Thomas Letan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7921723/avatar.png","web_url":"https://gitlab.com/lthms"},"labels":[],"milestone":{"id":2777728,"iid":133,"project_id":3836952,"title":"SCORU WASM: Protocol M","description":"Following the beginning of the stabilization period, we will focus our effort on asserting the correctness of the WASM PVM wrt. tick size. This means writing tests, finding adversarial inputs, etc.\r\n\r\nBugs will be found, but no feature shall be added.","state":"active","created_at":"2022-09-13T11:26:08.477Z","updated_at":"2023-01-16T14:44:15.542Z","due_date":"2023-01-16","start_date":"2022-09-16","expired":true,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/133"},"assignees":[{"id":9031131,"username":"hans.hoglund","name":"Hans Hoglund","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9031131/avatar.png","web_url":"https://gitlab.com/hans.hoglund"}],"author":{"id":9031131,"username":"hans.hoglund","name":"Hans Hoglund","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9031131/avatar.png","web_url":"https://gitlab.com/hans.hoglund"},"type":"ISSUE","assignee":{"id":9031131,"username":"hans.hoglund","name":"Hans Hoglund","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9031131/avatar.png","web_url":"https://gitlab.com/hans.hoglund"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/3537","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/3537","notes":"https://gitlab.com/api/v4/projects/3836952/issues/3537/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/3537/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#3537","relative":"#3537","full":"tezos/tezos#3537"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":112048779,"iid":3448,"project_id":3836952,"title":"lib_scoru_wasm: disallow exceptions in entry-point functions","description":"See also [team meeting notes](https://www.notion.so/trilitech/Meeting-Notes-a744673f343b4e328bf5bf14536c614d#6bbf9ac486ad452c9e5353c85cf3bac2)\n\nRemove the mention of exceptions from `lib_scoru_wasm` `Make` signature. Add `try_with` or similar to catch exceptions and put the machine in a stuck state instead.\n\nThe machine is stuck whenever there is an error state in state tree accessible from `get_info`. A stuck PVM should not advance (meaningfully) but will increment the tick counter (only).\n\nOptional: add another case to `Protocol.Sc_rollup_wasm.status` and propagate.\n\n## Context \n\nThe top-interface exposed in `lib_scoru_wasm` (e.g. `Make`) is called from the Protocol, where Ocaml exceptions are avoided by conventions. We must therefore catch and wrap Ocaml exceptions either in `Sc_rollup_wasm` or in `lib_scoru_wasm` (or both, defensively).\n\nWe nonetheless need to deal with:\n\n- Non-recoverable errors caused by bugs in PVM\n- User errors such as posting a syntactically invalid kernel\n\nIn the PMV 1 milestone we're not implementing a fallback mechanism, just putting the machine in a stuck state - though we should try to be future-compatible with error recovery. \n\nNote that internally in `lib_scoru_wasm` we can still use exceptions or error return values - but they should not propagate to the top-level.","state":"closed","created_at":"2022-07-22T14:51:49.931Z","updated_at":"2022-09-01T16:23:39.172Z","closed_at":"2022-09-01T16:23:39.146Z","closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8770486/avatar.png","web_url":"https://gitlab.com/nomadic-margebot"},"labels":[],"milestone":{"id":2725830,"iid":107,"project_id":3836952,"title":"(OKR 2022Q3 - 2.1) SCORU Wasm - Small Ticks","description":"\r\n# Goal\r\n\r\nCompletion of this milestone allows to enable SCORU + Wasm on mainnet.\r\n\r\n### Background\r\n\r\nThe goal of this milestone is to complete the implementation of the Wasm PVM and obtain confidence that:\r\n\r\n1. Layer 1 is safe: The WASM PVM cannot be used to attack the layer-1  by exploiting unbound computation time.\r\n2. Layer 2 is safe: The WASM PVM produces execution step within the SCORU size limit.\r\n3. Correctness: The WASM PVM implements WASM semantics. Limitations and restriction are documented.\r\n\r\n\r\n#### Stuck state\r\n\r\nCritical failure conditions in the PVM (\"assert false\" situations) is responded to by placing the PVM in a stuck state, where it no longer advances meaningfully, similar to a \"bluescreen of death\". \r\n\r\nTogether with #2198 and #3561, we enforce that the worst outcome of  stuck state is an asset-lockup situation, not an arbitrary-withdrawal situation.\r\n\r\n\r\n#### Breaking changes\r\n\r\nWe will need to prioritize carefully the remaining work, such that\r\n\r\n1. We have a WASM PVM working in mid-September.\r\n2. Missing features of the WASM PVM can be implemented without completely breaking originated rollup.\r\n3. Any breaking change needs to be backed-up by a migration plan.\r\n\r\nEstimate: 12pw\r\n\r\n\r\n# Current work/MRs\r\n- Gas metering for compute-step function #3548 @ole.kruger\r\n- Tickify module initialization #3076 @lthms \r\n- Non-recursive admin instructions #3606 @hans.hoglund \r\n- Nominal gast cost of proof verification #3164 @yrg \r\n\r\n# Breakdown\r\n\r\n\u003cdetails\u003e\r\n\u003csummary\u003eWork to be reevaluated\u003c/summary\u003e\r\n\r\n## L1 can control L2 semantics divergence\r\n\r\nThe goal of these tasks was to provide safe guard for ensuring a L2 tick cannot be underevaluated from the perspective of the L1 gas consumption.\r\n\r\nThe methods explored are not satisfactory, and we believe there are other means to achieve this goal, in particular the hardening of the L2 implementation.\r\n\r\n- [ ] Gas metering for compute-step function in WASM PVM #3548\r\n- [ ] Nominal gast cost of proof verification #3164 (handle in %\"Smart Contract Rollup Hardening?)\r\n\r\n## Test-suite conformance\r\n\r\nThis can be re-explore during the stabilization period, but if we have a large number of testing kernels, this is probably not necessary/of high priority.\r\n\r\n- [ ] Instrument the WASM test-suite to do a decode-eval-encode loop during parsing #3500 \r\n\r\n\u003c/details\u003e\r\n\r\n## PVM Life cycle and correctness\r\n- [x] Handling all inputs per commitment !6698\r\n\r\n\r\n## Small-step decode and initialization\r\n\r\n- [X] Add merkleized representation of parser state #3150 !5891 \r\n- [X] Add merkleized representation of the parsed AST #3149\r\n- [X] Scoru_wasm: Parser state encodings !5891 \r\n- [x] Merkleization of the parser's input #3224 \r\n- [x] Tickify module initialization #3076\r\n- [x] Tickify linking #3786 \r\n- [x] Non-recursive admin instructions #3606\r\n\r\nOnce this is all done, then we close this:\r\n\r\n- [x] Ensure \"unsafe\" functions are never used inside the PVM #3378\r\n\r\n\u003cdetails\u003e\r\n\u003csummary\u003eDone\u003c/summary\u003e\r\n\r\n## Error handling\r\n- [x] lib_lazy_containers + lib_webassembly: make exceptions distinguishable (improves error reporting) !6097\r\n- [X] **lib_scoru_wasm: disallow exceptions in entry-point functions #3448** !6101 !6097\r\n\r\n\u003c/details\u003e\r\n\r\n## Code quality (Critical)\r\n- [X] Factor out module-registry from AST func nodes #3492 Nice to have 👶\r\n- [X] Lib_webassembly: cleanup deadcode #3334 Code quality 🌟 Nice to have 👶\r\n- [x] WASM PVM: Simplify decoding logic for WASM PVM #3444\r\n\r\n## Documentation\r\n- [x] Document version of spec and subset/additions #3117 doc \r\n\r\n\u003cdetails\u003e\r\n\u003csummary\u003eTo be revisited when the remaining tasks are done\u003c/summary\u003e\r\n\r\n## Code quality (Nice-to-Have)\r\n- [ ] WASM: Follow up items for lazy-containers #3535 \r\n- [ ] Increase the message size limit for faster loading #3361 \r\n- [ ] Use ppx_deriving.show for AST pretty-printer #3456 \r\n- [ ] Lib_webassembly: fix unused variables #3304 \r\n- [ ] Single source of truth for function types #3396 \r\n- [ ] More compact output proofs #3237 \r\n- [ ] WASM Parser: refactoring of duplicated code #3120 \r\n- [ ] Wasm PVM: Remove duplication in input proofs #3091 \r\n- [ ] Binary parsing: Reuse a unique lazy stack #3569 \r\n- [ ] Drop locations from AST #3566 \r\n- [ ] Increase confidence in Interpreter_encodings boilerplate #3565 \r\n- [ ] SCORU WASM: Derive AST generators #3511 \r\n- [ ] Lib_scoru_wasm: Improve wasm encoding schema with named fields #3469 \r\n- [ ] Use library function for Assert.false and replicate #3532\r\n- [ ] Add generators for vector instructions #3455\r\n- [ ] Add tests for corner cases in Chunked_byte_vector #3085\r\n- [ ] Test tree encoding with official Wasm test suite #3570\r\n\r\n\u003c/details\u003e\r\n","state":"closed","created_at":"2022-08-04T17:13:44.166Z","updated_at":"2022-11-16T08:34:25.529Z","due_date":"2022-09-16","start_date":"2022-08-12","expired":true,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/107"},"assignees":[{"id":3121862,"username":"picdc","name":"Pierrick Couderc","state":"active","avatar_url":"https://secure.gravatar.com/avatar/50ac1fdb34a902ba5f7f25816487ff84?s=80\u0026d=identicon","web_url":"https://gitlab.com/picdc"}],"author":{"id":9031131,"username":"hans.hoglund","name":"Hans Hoglund","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9031131/avatar.png","web_url":"https://gitlab.com/hans.hoglund"},"type":"ISSUE","assignee":{"id":3121862,"username":"picdc","name":"Pierrick Couderc","state":"active","avatar_url":"https://secure.gravatar.com/avatar/50ac1fdb34a902ba5f7f25816487ff84?s=80\u0026d=identicon","web_url":"https://gitlab.com/picdc"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/3448","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/3448","notes":"https://gitlab.com/api/v4/projects/3836952/issues/3448/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/3448/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#3448","relative":"#3448","full":"tezos/tezos#3448"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":111904378,"iid":3434,"project_id":3836952,"title":"[DAL]: Remove the functor for the cryptographic primitive","description":"The functor exposed by the cryptographic primitives add a lot of complexity. Since the parameters have no type and are only constants, the functor can be replaced with an explicit state that encapsulates those constants. \n\nThis is handled in !5907\n\n\\spent 2d","state":"closed","created_at":"2022-07-20T08:53:18.967Z","updated_at":"2022-09-06T23:29:15.709Z","closed_at":"2022-07-21T15:41:52.116Z","closed_by":{"id":5263657,"username":"Saroupille","name":"François Thiré","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dcecc9a8d97b503a3d28025c9b78e8ab?s=80\u0026d=identicon","web_url":"https://gitlab.com/Saroupille"},"labels":["DAL"],"milestone":{"id":2562622,"iid":78,"project_id":3836952,"title":"(OKR 2022Q3 - 2.1) - Data-Availibility Layer (DAL): Integration with Smart Rollups","description":"Related: [(OKR 2022Q3 - 2.1)](https://hackmd.io/HLoGjZyKSeuNXxvbnSEcVQ?view#Key-results-for-DAL)\r\n\r\nThis milestone in the first milestone for the DAL project for which is describe [here](https://nomadic-labs.gitlab.io/das-design/). The objective is to have a minimal integration with Smart Rollups so that when Smart rollups are activated in some protocol, they will be compatible with the DAL. To do so, we have split this milestone in various tasks:\r\n\r\n# Development plan:\r\n\r\n- **Task A L1 integration of slots/shards**: This task should ensure the slot management provided by the `L1` works as expected.\r\n- **Task B L1 integration with the cryptograhic primtives**: This task should ensure the crypograhic primitives works as expected with the `L1`.\r\n- **Task C SCORU integration of the DAL**: \r\n   - **Task C1**: The rollup node should understand the logic of slots and slots headers\r\n   - **Task C2**: The refutation game should take into accounts the new ticks added by the DAL\r\n- **Task C SCORU integration of the DAL**: We should ensure the SCORU understand the DAL, in particular for the refutatons.\r\n- **Task D The DAL daemon**: This task should ensure the daemon can store shards.\r\n\r\n- Task A\r\n    - [x] handling the slot availability (depending on the endorsers)\r\n    - [x] handling the slot assignment\r\n    - [x] Slots header can be mocked\r\n    - [x] Slots can be mocked\r\n- Task B \r\n    - [x] Task A is merged\r\n    - [x] Vendorise cryptographic primitive\r\n    - [x] Separate the cryptographic primitives for the shell and the protocol\r\n    - [x] Include cryptographic primitives into the environment\r\n    - [x] Compute slot headers (Kate commitments) from blob\r\n    - [x] Ensure slots can be split and reconstructed correctly\r\n    - [x] Provide a safe way to compute the trusted setup\r\n    - [x] Ensure the validity of slot headers\r\n- Task C1\r\n    - [x] Task A is merged \r\n    - [x] Being able for a SCORU to subscribe to one or several slots\r\n    - [x] Provide a first version for the framing protocol\r\n    - [x] Rollup node should be able to apply a slot declared available\r\n    - [x] Rollup node should be able to refute bad commitments related to the importation of the inbox\r\n- Task C2\r\n    - [x] The core of the refutation game logic to refute a page is merged\r\n    - [x] The DAL refutation should be integrated for SCORU\r\n- Task D \r\n    - [x] Task A is merged\r\n    - [x] Split a slot and reconstruct a slot from shards\r\n    - [x] Monitor the head's node\r\n    - [x] Being able to stream slot/slot headers to enable communications between DAL nodes\r\n\r\n# Design document \r\n\r\n- https://nomadic-labs.gitlab.io/das-design\r\n- https://hackmd.io/g8l2M47eR1eN2WNB-m_6Rg\r\n\r\n","state":"closed","created_at":"2022-04-12T12:27:12.337Z","updated_at":"2022-11-28T22:03:04.149Z","due_date":"2022-11-30","start_date":"2022-04-11","expired":true,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/78"},"assignees":[{"id":5407179,"username":"remyzorg","name":"Rémy El Sibaïe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5407179/avatar.png","web_url":"https://gitlab.com/remyzorg"}],"author":{"id":5263657,"username":"Saroupille","name":"François Thiré","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dcecc9a8d97b503a3d28025c9b78e8ab?s=80\u0026d=identicon","web_url":"https://gitlab.com/Saroupille"},"type":"ISSUE","assignee":{"id":5407179,"username":"remyzorg","name":"Rémy El Sibaïe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5407179/avatar.png","web_url":"https://gitlab.com/remyzorg"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2022-07-21","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/3434","time_stats":{"time_estimate":57600,"total_time_spent":0,"human_time_estimate":"16h","human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":10,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/3434","notes":"https://gitlab.com/api/v4/projects/3836952/issues/3434/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/3434/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#3434","relative":"#3434","full":"tezos/tezos#3434"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":111514659,"iid":3395,"project_id":3836952,"title":"Make 1-module assumption explicit and test that it works with host functions","description":"The following discussion from !5744 should be addressed:\n\n- [ ] @hans.hoglund started a [discussion](https://gitlab.com/tezos/tezos/-/merge_requests/5744#note_1014886493):  (+3 comments)\n\n    \u003e If we ever add support for \u003e1 modules we'll need to be careful to look up the blocks in the correct module instance.\n    \u003e \n    \u003e The current state is OK, but perhaps worth adding a warning somewhere.","state":"closed","created_at":"2022-07-12T13:51:30.562Z","updated_at":"2022-10-04T07:48:07.241Z","closed_at":"2022-10-04T07:48:07.227Z","closed_by":{"id":3121862,"username":"picdc","name":"Pierrick Couderc","state":"active","avatar_url":"https://secure.gravatar.com/avatar/50ac1fdb34a902ba5f7f25816487ff84?s=80\u0026d=identicon","web_url":"https://gitlab.com/picdc"},"labels":[],"milestone":{"id":2725830,"iid":107,"project_id":3836952,"title":"(OKR 2022Q3 - 2.1) SCORU Wasm - Small Ticks","description":"\r\n# Goal\r\n\r\nCompletion of this milestone allows to enable SCORU + Wasm on mainnet.\r\n\r\n### Background\r\n\r\nThe goal of this milestone is to complete the implementation of the Wasm PVM and obtain confidence that:\r\n\r\n1. Layer 1 is safe: The WASM PVM cannot be used to attack the layer-1  by exploiting unbound computation time.\r\n2. Layer 2 is safe: The WASM PVM produces execution step within the SCORU size limit.\r\n3. Correctness: The WASM PVM implements WASM semantics. Limitations and restriction are documented.\r\n\r\n\r\n#### Stuck state\r\n\r\nCritical failure conditions in the PVM (\"assert false\" situations) is responded to by placing the PVM in a stuck state, where it no longer advances meaningfully, similar to a \"bluescreen of death\". \r\n\r\nTogether with #2198 and #3561, we enforce that the worst outcome of  stuck state is an asset-lockup situation, not an arbitrary-withdrawal situation.\r\n\r\n\r\n#### Breaking changes\r\n\r\nWe will need to prioritize carefully the remaining work, such that\r\n\r\n1. We have a WASM PVM working in mid-September.\r\n2. Missing features of the WASM PVM can be implemented without completely breaking originated rollup.\r\n3. Any breaking change needs to be backed-up by a migration plan.\r\n\r\nEstimate: 12pw\r\n\r\n\r\n# Current work/MRs\r\n- Gas metering for compute-step function #3548 @ole.kruger\r\n- Tickify module initialization #3076 @lthms \r\n- Non-recursive admin instructions #3606 @hans.hoglund \r\n- Nominal gast cost of proof verification #3164 @yrg \r\n\r\n# Breakdown\r\n\r\n\u003cdetails\u003e\r\n\u003csummary\u003eWork to be reevaluated\u003c/summary\u003e\r\n\r\n## L1 can control L2 semantics divergence\r\n\r\nThe goal of these tasks was to provide safe guard for ensuring a L2 tick cannot be underevaluated from the perspective of the L1 gas consumption.\r\n\r\nThe methods explored are not satisfactory, and we believe there are other means to achieve this goal, in particular the hardening of the L2 implementation.\r\n\r\n- [ ] Gas metering for compute-step function in WASM PVM #3548\r\n- [ ] Nominal gast cost of proof verification #3164 (handle in %\"Smart Contract Rollup Hardening?)\r\n\r\n## Test-suite conformance\r\n\r\nThis can be re-explore during the stabilization period, but if we have a large number of testing kernels, this is probably not necessary/of high priority.\r\n\r\n- [ ] Instrument the WASM test-suite to do a decode-eval-encode loop during parsing #3500 \r\n\r\n\u003c/details\u003e\r\n\r\n## PVM Life cycle and correctness\r\n- [x] Handling all inputs per commitment !6698\r\n\r\n\r\n## Small-step decode and initialization\r\n\r\n- [X] Add merkleized representation of parser state #3150 !5891 \r\n- [X] Add merkleized representation of the parsed AST #3149\r\n- [X] Scoru_wasm: Parser state encodings !5891 \r\n- [x] Merkleization of the parser's input #3224 \r\n- [x] Tickify module initialization #3076\r\n- [x] Tickify linking #3786 \r\n- [x] Non-recursive admin instructions #3606\r\n\r\nOnce this is all done, then we close this:\r\n\r\n- [x] Ensure \"unsafe\" functions are never used inside the PVM #3378\r\n\r\n\u003cdetails\u003e\r\n\u003csummary\u003eDone\u003c/summary\u003e\r\n\r\n## Error handling\r\n- [x] lib_lazy_containers + lib_webassembly: make exceptions distinguishable (improves error reporting) !6097\r\n- [X] **lib_scoru_wasm: disallow exceptions in entry-point functions #3448** !6101 !6097\r\n\r\n\u003c/details\u003e\r\n\r\n## Code quality (Critical)\r\n- [X] Factor out module-registry from AST func nodes #3492 Nice to have 👶\r\n- [X] Lib_webassembly: cleanup deadcode #3334 Code quality 🌟 Nice to have 👶\r\n- [x] WASM PVM: Simplify decoding logic for WASM PVM #3444\r\n\r\n## Documentation\r\n- [x] Document version of spec and subset/additions #3117 doc \r\n\r\n\u003cdetails\u003e\r\n\u003csummary\u003eTo be revisited when the remaining tasks are done\u003c/summary\u003e\r\n\r\n## Code quality (Nice-to-Have)\r\n- [ ] WASM: Follow up items for lazy-containers #3535 \r\n- [ ] Increase the message size limit for faster loading #3361 \r\n- [ ] Use ppx_deriving.show for AST pretty-printer #3456 \r\n- [ ] Lib_webassembly: fix unused variables #3304 \r\n- [ ] Single source of truth for function types #3396 \r\n- [ ] More compact output proofs #3237 \r\n- [ ] WASM Parser: refactoring of duplicated code #3120 \r\n- [ ] Wasm PVM: Remove duplication in input proofs #3091 \r\n- [ ] Binary parsing: Reuse a unique lazy stack #3569 \r\n- [ ] Drop locations from AST #3566 \r\n- [ ] Increase confidence in Interpreter_encodings boilerplate #3565 \r\n- [ ] SCORU WASM: Derive AST generators #3511 \r\n- [ ] Lib_scoru_wasm: Improve wasm encoding schema with named fields #3469 \r\n- [ ] Use library function for Assert.false and replicate #3532\r\n- [ ] Add generators for vector instructions #3455\r\n- [ ] Add tests for corner cases in Chunked_byte_vector #3085\r\n- [ ] Test tree encoding with official Wasm test suite #3570\r\n\r\n\u003c/details\u003e\r\n","state":"closed","created_at":"2022-08-04T17:13:44.166Z","updated_at":"2022-11-16T08:34:25.529Z","due_date":"2022-09-16","start_date":"2022-08-12","expired":true,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/107"},"assignees":[],"author":{"id":9031131,"username":"hans.hoglund","name":"Hans Hoglund","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9031131/avatar.png","web_url":"https://gitlab.com/hans.hoglund"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/3395","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/3395","notes":"https://gitlab.com/api/v4/projects/3836952/issues/3395/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/3395/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#3395","relative":"#3395","full":"tezos/tezos#3395"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":111463618,"iid":3390,"project_id":3836952,"title":"[DAL]: Allow the build of a safe trusted setup into the code base","description":"Currently, an unsafe trusted setup is build using parameter constants. To make it safer, the trusted setup should be computed from a file (whose size is more than `100` MB). This raises several integration questions.","state":"closed","created_at":"2022-07-11T15:13:59.178Z","updated_at":"2022-09-06T23:29:15.825Z","closed_at":"2022-07-26T07:33:07.560Z","closed_by":{"id":5263657,"username":"Saroupille","name":"François Thiré","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dcecc9a8d97b503a3d28025c9b78e8ab?s=80\u0026d=identicon","web_url":"https://gitlab.com/Saroupille"},"labels":["DAL"],"milestone":{"id":2562622,"iid":78,"project_id":3836952,"title":"(OKR 2022Q3 - 2.1) - Data-Availibility Layer (DAL): Integration with Smart Rollups","description":"Related: [(OKR 2022Q3 - 2.1)](https://hackmd.io/HLoGjZyKSeuNXxvbnSEcVQ?view#Key-results-for-DAL)\r\n\r\nThis milestone in the first milestone for the DAL project for which is describe [here](https://nomadic-labs.gitlab.io/das-design/). The objective is to have a minimal integration with Smart Rollups so that when Smart rollups are activated in some protocol, they will be compatible with the DAL. To do so, we have split this milestone in various tasks:\r\n\r\n# Development plan:\r\n\r\n- **Task A L1 integration of slots/shards**: This task should ensure the slot management provided by the `L1` works as expected.\r\n- **Task B L1 integration with the cryptograhic primtives**: This task should ensure the crypograhic primitives works as expected with the `L1`.\r\n- **Task C SCORU integration of the DAL**: \r\n   - **Task C1**: The rollup node should understand the logic of slots and slots headers\r\n   - **Task C2**: The refutation game should take into accounts the new ticks added by the DAL\r\n- **Task C SCORU integration of the DAL**: We should ensure the SCORU understand the DAL, in particular for the refutatons.\r\n- **Task D The DAL daemon**: This task should ensure the daemon can store shards.\r\n\r\n- Task A\r\n    - [x] handling the slot availability (depending on the endorsers)\r\n    - [x] handling the slot assignment\r\n    - [x] Slots header can be mocked\r\n    - [x] Slots can be mocked\r\n- Task B \r\n    - [x] Task A is merged\r\n    - [x] Vendorise cryptographic primitive\r\n    - [x] Separate the cryptographic primitives for the shell and the protocol\r\n    - [x] Include cryptographic primitives into the environment\r\n    - [x] Compute slot headers (Kate commitments) from blob\r\n    - [x] Ensure slots can be split and reconstructed correctly\r\n    - [x] Provide a safe way to compute the trusted setup\r\n    - [x] Ensure the validity of slot headers\r\n- Task C1\r\n    - [x] Task A is merged \r\n    - [x] Being able for a SCORU to subscribe to one or several slots\r\n    - [x] Provide a first version for the framing protocol\r\n    - [x] Rollup node should be able to apply a slot declared available\r\n    - [x] Rollup node should be able to refute bad commitments related to the importation of the inbox\r\n- Task C2\r\n    - [x] The core of the refutation game logic to refute a page is merged\r\n    - [x] The DAL refutation should be integrated for SCORU\r\n- Task D \r\n    - [x] Task A is merged\r\n    - [x] Split a slot and reconstruct a slot from shards\r\n    - [x] Monitor the head's node\r\n    - [x] Being able to stream slot/slot headers to enable communications between DAL nodes\r\n\r\n# Design document \r\n\r\n- https://nomadic-labs.gitlab.io/das-design\r\n- https://hackmd.io/g8l2M47eR1eN2WNB-m_6Rg\r\n\r\n","state":"closed","created_at":"2022-04-12T12:27:12.337Z","updated_at":"2022-11-28T22:03:04.149Z","due_date":"2022-11-30","start_date":"2022-04-11","expired":true,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/78"},"assignees":[{"id":5263657,"username":"Saroupille","name":"François Thiré","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dcecc9a8d97b503a3d28025c9b78e8ab?s=80\u0026d=identicon","web_url":"https://gitlab.com/Saroupille"}],"author":{"id":5263657,"username":"Saroupille","name":"François Thiré","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dcecc9a8d97b503a3d28025c9b78e8ab?s=80\u0026d=identicon","web_url":"https://gitlab.com/Saroupille"},"type":"ISSUE","assignee":{"id":5263657,"username":"Saroupille","name":"François Thiré","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dcecc9a8d97b503a3d28025c9b78e8ab?s=80\u0026d=identicon","web_url":"https://gitlab.com/Saroupille"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/3390","time_stats":{"time_estimate":0,"total_time_spent":57600,"human_time_estimate":null,"human_total_time_spent":"16h"},"task_completion_status":{"count":0,"completed_count":0},"weight":10,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/3390","notes":"https://gitlab.com/api/v4/projects/3836952/issues/3390/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/3390/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#3390","relative":"#3390","full":"tezos/tezos#3390"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":111452870,"iid":3387,"project_id":3836952,"title":"WASM: intricated typechecking during parsing and evaluation","description":"During parsing and evaluation, some form of validation / typechecking is done which makes the parser / evaluator convoluted and non tickifiable without tricks. The testsuite rely on these tests at this specific stage of the parsing / evaluation routine, therefore it cannot happen later. Especially, some modules in the testsuite are syntactically invalid since the test is supposed to fail during the parsing.\n\n- Decode: local variables https://gitlab.com/tezos/tezos/-/merge_requests/5610#note_1008186757\n\n- Decode: no free variables in functions\n\n- Eval: checking type equality at call site when importing module","state":"closed","created_at":"2022-07-11T12:09:19.799Z","updated_at":"2022-09-13T11:57:27.122Z","closed_at":"2022-09-13T11:57:27.101Z","closed_by":{"id":7921723,"username":"lthms","name":"Thomas Letan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7921723/avatar.png","web_url":"https://gitlab.com/lthms"},"labels":[],"milestone":{"id":2725830,"iid":107,"project_id":3836952,"title":"(OKR 2022Q3 - 2.1) SCORU Wasm - Small Ticks","description":"\r\n# Goal\r\n\r\nCompletion of this milestone allows to enable SCORU + Wasm on mainnet.\r\n\r\n### Background\r\n\r\nThe goal of this milestone is to complete the implementation of the Wasm PVM and obtain confidence that:\r\n\r\n1. Layer 1 is safe: The WASM PVM cannot be used to attack the layer-1  by exploiting unbound computation time.\r\n2. Layer 2 is safe: The WASM PVM produces execution step within the SCORU size limit.\r\n3. Correctness: The WASM PVM implements WASM semantics. Limitations and restriction are documented.\r\n\r\n\r\n#### Stuck state\r\n\r\nCritical failure conditions in the PVM (\"assert false\" situations) is responded to by placing the PVM in a stuck state, where it no longer advances meaningfully, similar to a \"bluescreen of death\". \r\n\r\nTogether with #2198 and #3561, we enforce that the worst outcome of  stuck state is an asset-lockup situation, not an arbitrary-withdrawal situation.\r\n\r\n\r\n#### Breaking changes\r\n\r\nWe will need to prioritize carefully the remaining work, such that\r\n\r\n1. We have a WASM PVM working in mid-September.\r\n2. Missing features of the WASM PVM can be implemented without completely breaking originated rollup.\r\n3. Any breaking change needs to be backed-up by a migration plan.\r\n\r\nEstimate: 12pw\r\n\r\n\r\n# Current work/MRs\r\n- Gas metering for compute-step function #3548 @ole.kruger\r\n- Tickify module initialization #3076 @lthms \r\n- Non-recursive admin instructions #3606 @hans.hoglund \r\n- Nominal gast cost of proof verification #3164 @yrg \r\n\r\n# Breakdown\r\n\r\n\u003cdetails\u003e\r\n\u003csummary\u003eWork to be reevaluated\u003c/summary\u003e\r\n\r\n## L1 can control L2 semantics divergence\r\n\r\nThe goal of these tasks was to provide safe guard for ensuring a L2 tick cannot be underevaluated from the perspective of the L1 gas consumption.\r\n\r\nThe methods explored are not satisfactory, and we believe there are other means to achieve this goal, in particular the hardening of the L2 implementation.\r\n\r\n- [ ] Gas metering for compute-step function in WASM PVM #3548\r\n- [ ] Nominal gast cost of proof verification #3164 (handle in %\"Smart Contract Rollup Hardening?)\r\n\r\n## Test-suite conformance\r\n\r\nThis can be re-explore during the stabilization period, but if we have a large number of testing kernels, this is probably not necessary/of high priority.\r\n\r\n- [ ] Instrument the WASM test-suite to do a decode-eval-encode loop during parsing #3500 \r\n\r\n\u003c/details\u003e\r\n\r\n## PVM Life cycle and correctness\r\n- [x] Handling all inputs per commitment !6698\r\n\r\n\r\n## Small-step decode and initialization\r\n\r\n- [X] Add merkleized representation of parser state #3150 !5891 \r\n- [X] Add merkleized representation of the parsed AST #3149\r\n- [X] Scoru_wasm: Parser state encodings !5891 \r\n- [x] Merkleization of the parser's input #3224 \r\n- [x] Tickify module initialization #3076\r\n- [x] Tickify linking #3786 \r\n- [x] Non-recursive admin instructions #3606\r\n\r\nOnce this is all done, then we close this:\r\n\r\n- [x] Ensure \"unsafe\" functions are never used inside the PVM #3378\r\n\r\n\u003cdetails\u003e\r\n\u003csummary\u003eDone\u003c/summary\u003e\r\n\r\n## Error handling\r\n- [x] lib_lazy_containers + lib_webassembly: make exceptions distinguishable (improves error reporting) !6097\r\n- [X] **lib_scoru_wasm: disallow exceptions in entry-point functions #3448** !6101 !6097\r\n\r\n\u003c/details\u003e\r\n\r\n## Code quality (Critical)\r\n- [X] Factor out module-registry from AST func nodes #3492 Nice to have 👶\r\n- [X] Lib_webassembly: cleanup deadcode #3334 Code quality 🌟 Nice to have 👶\r\n- [x] WASM PVM: Simplify decoding logic for WASM PVM #3444\r\n\r\n## Documentation\r\n- [x] Document version of spec and subset/additions #3117 doc \r\n\r\n\u003cdetails\u003e\r\n\u003csummary\u003eTo be revisited when the remaining tasks are done\u003c/summary\u003e\r\n\r\n## Code quality (Nice-to-Have)\r\n- [ ] WASM: Follow up items for lazy-containers #3535 \r\n- [ ] Increase the message size limit for faster loading #3361 \r\n- [ ] Use ppx_deriving.show for AST pretty-printer #3456 \r\n- [ ] Lib_webassembly: fix unused variables #3304 \r\n- [ ] Single source of truth for function types #3396 \r\n- [ ] More compact output proofs #3237 \r\n- [ ] WASM Parser: refactoring of duplicated code #3120 \r\n- [ ] Wasm PVM: Remove duplication in input proofs #3091 \r\n- [ ] Binary parsing: Reuse a unique lazy stack #3569 \r\n- [ ] Drop locations from AST #3566 \r\n- [ ] Increase confidence in Interpreter_encodings boilerplate #3565 \r\n- [ ] SCORU WASM: Derive AST generators #3511 \r\n- [ ] Lib_scoru_wasm: Improve wasm encoding schema with named fields #3469 \r\n- [ ] Use library function for Assert.false and replicate #3532\r\n- [ ] Add generators for vector instructions #3455\r\n- [ ] Add tests for corner cases in Chunked_byte_vector #3085\r\n- [ ] Test tree encoding with official Wasm test suite #3570\r\n\r\n\u003c/details\u003e\r\n","state":"closed","created_at":"2022-08-04T17:13:44.166Z","updated_at":"2022-11-16T08:34:25.529Z","due_date":"2022-09-16","start_date":"2022-08-12","expired":true,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/107"},"assignees":[],"author":{"id":3121862,"username":"picdc","name":"Pierrick Couderc","state":"active","avatar_url":"https://secure.gravatar.com/avatar/50ac1fdb34a902ba5f7f25816487ff84?s=80\u0026d=identicon","web_url":"https://gitlab.com/picdc"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/3387","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/3387","notes":"https://gitlab.com/api/v4/projects/3836952/issues/3387/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/3387/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#3387","relative":"#3387","full":"tezos/tezos#3387"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":111354919,"iid":3378,"project_id":3836952,"title":"SCORU/WASM: Ensure \"unsafe\" functions are never used inside the PVM","description":"The interpreter can rely on unsafe or unstable functions that are only used in the executable part, for the testsuite or debugging.\n\n- `Lazy_map.loaded_bindings` and `Lazy_vector.loaded_bindings` can be one of these functions (see discussion https://gitlab.com/tezos/tezos/-/merge_requests/5552#note_1017555842).\n\n- Other functions like this include `Lazy_vector.{to_string,pp}` and `Lazy_map.{to_string,pp}` and any function whose docstring says \"witness to internal mutation\"\n\n- `Valid` assumes the AST is always fully loaded.\n\n- `Encode` assumes the AST is always fully loaded.\n\n- `Free` loads vectors entirely, hence would produce huge proofs if used in the PVM. It should only be part of `Valid` and never used in the PVM, except for one specific part that is used in the parser (#3387)\n\n- Various AST printing functions relies on `loaded_bindings`, and are only used by the final binary to produce debug traces.\n\n- Pretty printing of lazy containers exposes internals and should bnot be used by the PVM\n\nWe need a way to ensure these functions are never called in the PVM, either by linting, tests and/or packagin. One possible suggestion can be found in https://gitlab.com/tezos/tezos/-/merge_requests/5552#note_1017690451","state":"closed","created_at":"2022-07-08T09:00:24.441Z","updated_at":"2022-09-09T13:55:29.594Z","closed_at":"2022-09-09T13:55:29.577Z","closed_by":{"id":7921723,"username":"lthms","name":"Thomas Letan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7921723/avatar.png","web_url":"https://gitlab.com/lthms"},"labels":[],"milestone":{"id":2725830,"iid":107,"project_id":3836952,"title":"(OKR 2022Q3 - 2.1) SCORU Wasm - Small Ticks","description":"\r\n# Goal\r\n\r\nCompletion of this milestone allows to enable SCORU + Wasm on mainnet.\r\n\r\n### Background\r\n\r\nThe goal of this milestone is to complete the implementation of the Wasm PVM and obtain confidence that:\r\n\r\n1. Layer 1 is safe: The WASM PVM cannot be used to attack the layer-1  by exploiting unbound computation time.\r\n2. Layer 2 is safe: The WASM PVM produces execution step within the SCORU size limit.\r\n3. Correctness: The WASM PVM implements WASM semantics. Limitations and restriction are documented.\r\n\r\n\r\n#### Stuck state\r\n\r\nCritical failure conditions in the PVM (\"assert false\" situations) is responded to by placing the PVM in a stuck state, where it no longer advances meaningfully, similar to a \"bluescreen of death\". \r\n\r\nTogether with #2198 and #3561, we enforce that the worst outcome of  stuck state is an asset-lockup situation, not an arbitrary-withdrawal situation.\r\n\r\n\r\n#### Breaking changes\r\n\r\nWe will need to prioritize carefully the remaining work, such that\r\n\r\n1. We have a WASM PVM working in mid-September.\r\n2. Missing features of the WASM PVM can be implemented without completely breaking originated rollup.\r\n3. Any breaking change needs to be backed-up by a migration plan.\r\n\r\nEstimate: 12pw\r\n\r\n\r\n# Current work/MRs\r\n- Gas metering for compute-step function #3548 @ole.kruger\r\n- Tickify module initialization #3076 @lthms \r\n- Non-recursive admin instructions #3606 @hans.hoglund \r\n- Nominal gast cost of proof verification #3164 @yrg \r\n\r\n# Breakdown\r\n\r\n\u003cdetails\u003e\r\n\u003csummary\u003eWork to be reevaluated\u003c/summary\u003e\r\n\r\n## L1 can control L2 semantics divergence\r\n\r\nThe goal of these tasks was to provide safe guard for ensuring a L2 tick cannot be underevaluated from the perspective of the L1 gas consumption.\r\n\r\nThe methods explored are not satisfactory, and we believe there are other means to achieve this goal, in particular the hardening of the L2 implementation.\r\n\r\n- [ ] Gas metering for compute-step function in WASM PVM #3548\r\n- [ ] Nominal gast cost of proof verification #3164 (handle in %\"Smart Contract Rollup Hardening?)\r\n\r\n## Test-suite conformance\r\n\r\nThis can be re-explore during the stabilization period, but if we have a large number of testing kernels, this is probably not necessary/of high priority.\r\n\r\n- [ ] Instrument the WASM test-suite to do a decode-eval-encode loop during parsing #3500 \r\n\r\n\u003c/details\u003e\r\n\r\n## PVM Life cycle and correctness\r\n- [x] Handling all inputs per commitment !6698\r\n\r\n\r\n## Small-step decode and initialization\r\n\r\n- [X] Add merkleized representation of parser state #3150 !5891 \r\n- [X] Add merkleized representation of the parsed AST #3149\r\n- [X] Scoru_wasm: Parser state encodings !5891 \r\n- [x] Merkleization of the parser's input #3224 \r\n- [x] Tickify module initialization #3076\r\n- [x] Tickify linking #3786 \r\n- [x] Non-recursive admin instructions #3606\r\n\r\nOnce this is all done, then we close this:\r\n\r\n- [x] Ensure \"unsafe\" functions are never used inside the PVM #3378\r\n\r\n\u003cdetails\u003e\r\n\u003csummary\u003eDone\u003c/summary\u003e\r\n\r\n## Error handling\r\n- [x] lib_lazy_containers + lib_webassembly: make exceptions distinguishable (improves error reporting) !6097\r\n- [X] **lib_scoru_wasm: disallow exceptions in entry-point functions #3448** !6101 !6097\r\n\r\n\u003c/details\u003e\r\n\r\n## Code quality (Critical)\r\n- [X] Factor out module-registry from AST func nodes #3492 Nice to have 👶\r\n- [X] Lib_webassembly: cleanup deadcode #3334 Code quality 🌟 Nice to have 👶\r\n- [x] WASM PVM: Simplify decoding logic for WASM PVM #3444\r\n\r\n## Documentation\r\n- [x] Document version of spec and subset/additions #3117 doc \r\n\r\n\u003cdetails\u003e\r\n\u003csummary\u003eTo be revisited when the remaining tasks are done\u003c/summary\u003e\r\n\r\n## Code quality (Nice-to-Have)\r\n- [ ] WASM: Follow up items for lazy-containers #3535 \r\n- [ ] Increase the message size limit for faster loading #3361 \r\n- [ ] Use ppx_deriving.show for AST pretty-printer #3456 \r\n- [ ] Lib_webassembly: fix unused variables #3304 \r\n- [ ] Single source of truth for function types #3396 \r\n- [ ] More compact output proofs #3237 \r\n- [ ] WASM Parser: refactoring of duplicated code #3120 \r\n- [ ] Wasm PVM: Remove duplication in input proofs #3091 \r\n- [ ] Binary parsing: Reuse a unique lazy stack #3569 \r\n- [ ] Drop locations from AST #3566 \r\n- [ ] Increase confidence in Interpreter_encodings boilerplate #3565 \r\n- [ ] SCORU WASM: Derive AST generators #3511 \r\n- [ ] Lib_scoru_wasm: Improve wasm encoding schema with named fields #3469 \r\n- [ ] Use library function for Assert.false and replicate #3532\r\n- [ ] Add generators for vector instructions #3455\r\n- [ ] Add tests for corner cases in Chunked_byte_vector #3085\r\n- [ ] Test tree encoding with official Wasm test suite #3570\r\n\r\n\u003c/details\u003e\r\n","state":"closed","created_at":"2022-08-04T17:13:44.166Z","updated_at":"2022-11-16T08:34:25.529Z","due_date":"2022-09-16","start_date":"2022-08-12","expired":true,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/107"},"assignees":[],"author":{"id":3121862,"username":"picdc","name":"Pierrick Couderc","state":"active","avatar_url":"https://secure.gravatar.com/avatar/50ac1fdb34a902ba5f7f25816487ff84?s=80\u0026d=identicon","web_url":"https://gitlab.com/picdc"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/3378","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/3378","notes":"https://gitlab.com/api/v4/projects/3836952/issues/3378/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/3378/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#3378","relative":"#3378","full":"tezos/tezos#3378"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":111253699,"iid":3366,"project_id":3836952,"title":"SCORU: Wasm: Show that proof size is bounded","description":"Goal: We have enough confidence that tick size bounds are not exceeded by Wasm PVM to enable the feature in mainnet.\n\nNeeds to be supported by \"pen-and-paper\" reasoning or better (fuzz-testing alone is not enouggh).\n\n- [ ] `Decode.find_vec'` and `Decode.find_single'`, see discussion https://gitlab.com/tezos/tezos/-/merge_requests/5552#note_1013344663","state":"closed","created_at":"2022-07-06T12:31:56.226Z","updated_at":"2023-01-16T13:42:08.607Z","closed_at":"2023-01-16T13:42:08.586Z","closed_by":{"id":7921723,"username":"lthms","name":"Thomas Letan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7921723/avatar.png","web_url":"https://gitlab.com/lthms"},"labels":["Nice to have 👶"],"milestone":{"id":2777728,"iid":133,"project_id":3836952,"title":"SCORU WASM: Protocol M","description":"Following the beginning of the stabilization period, we will focus our effort on asserting the correctness of the WASM PVM wrt. tick size. This means writing tests, finding adversarial inputs, etc.\r\n\r\nBugs will be found, but no feature shall be added.","state":"active","created_at":"2022-09-13T11:26:08.477Z","updated_at":"2023-01-16T14:44:15.542Z","due_date":"2023-01-16","start_date":"2022-09-16","expired":true,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/133"},"assignees":[],"author":{"id":9031131,"username":"hans.hoglund","name":"Hans Hoglund","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9031131/avatar.png","web_url":"https://gitlab.com/hans.hoglund"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/3366","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/3366","notes":"https://gitlab.com/api/v4/projects/3836952/issues/3366/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/3366/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#3366","relative":"#3366","full":"tezos/tezos#3366"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":111183937,"iid":3361,"project_id":3836952,"title":"SCORU: Increase the message size limit","description":"This is a change that is necessary for the WASM PVM to be supplied with so-called string chunks, targeted to be of 4,096 bytes. The size limit is itself set to 4,096 bytes, which prevents a user to supply additional information with these chunks (e.g., a signature).","state":"closed","created_at":"2022-07-05T11:42:42.880Z","updated_at":"2022-11-10T15:45:53.256Z","closed_at":"2022-11-10T15:45:53.239Z","closed_by":{"id":7921723,"username":"lthms","name":"Thomas Letan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7921723/avatar.png","web_url":"https://gitlab.com/lthms"},"labels":["scoru"],"milestone":{"id":2725830,"iid":107,"project_id":3836952,"title":"(OKR 2022Q3 - 2.1) SCORU Wasm - Small Ticks","description":"\r\n# Goal\r\n\r\nCompletion of this milestone allows to enable SCORU + Wasm on mainnet.\r\n\r\n### Background\r\n\r\nThe goal of this milestone is to complete the implementation of the Wasm PVM and obtain confidence that:\r\n\r\n1. Layer 1 is safe: The WASM PVM cannot be used to attack the layer-1  by exploiting unbound computation time.\r\n2. Layer 2 is safe: The WASM PVM produces execution step within the SCORU size limit.\r\n3. Correctness: The WASM PVM implements WASM semantics. Limitations and restriction are documented.\r\n\r\n\r\n#### Stuck state\r\n\r\nCritical failure conditions in the PVM (\"assert false\" situations) is responded to by placing the PVM in a stuck state, where it no longer advances meaningfully, similar to a \"bluescreen of death\". \r\n\r\nTogether with #2198 and #3561, we enforce that the worst outcome of  stuck state is an asset-lockup situation, not an arbitrary-withdrawal situation.\r\n\r\n\r\n#### Breaking changes\r\n\r\nWe will need to prioritize carefully the remaining work, such that\r\n\r\n1. We have a WASM PVM working in mid-September.\r\n2. Missing features of the WASM PVM can be implemented without completely breaking originated rollup.\r\n3. Any breaking change needs to be backed-up by a migration plan.\r\n\r\nEstimate: 12pw\r\n\r\n\r\n# Current work/MRs\r\n- Gas metering for compute-step function #3548 @ole.kruger\r\n- Tickify module initialization #3076 @lthms \r\n- Non-recursive admin instructions #3606 @hans.hoglund \r\n- Nominal gast cost of proof verification #3164 @yrg \r\n\r\n# Breakdown\r\n\r\n\u003cdetails\u003e\r\n\u003csummary\u003eWork to be reevaluated\u003c/summary\u003e\r\n\r\n## L1 can control L2 semantics divergence\r\n\r\nThe goal of these tasks was to provide safe guard for ensuring a L2 tick cannot be underevaluated from the perspective of the L1 gas consumption.\r\n\r\nThe methods explored are not satisfactory, and we believe there are other means to achieve this goal, in particular the hardening of the L2 implementation.\r\n\r\n- [ ] Gas metering for compute-step function in WASM PVM #3548\r\n- [ ] Nominal gast cost of proof verification #3164 (handle in %\"Smart Contract Rollup Hardening?)\r\n\r\n## Test-suite conformance\r\n\r\nThis can be re-explore during the stabilization period, but if we have a large number of testing kernels, this is probably not necessary/of high priority.\r\n\r\n- [ ] Instrument the WASM test-suite to do a decode-eval-encode loop during parsing #3500 \r\n\r\n\u003c/details\u003e\r\n\r\n## PVM Life cycle and correctness\r\n- [x] Handling all inputs per commitment !6698\r\n\r\n\r\n## Small-step decode and initialization\r\n\r\n- [X] Add merkleized representation of parser state #3150 !5891 \r\n- [X] Add merkleized representation of the parsed AST #3149\r\n- [X] Scoru_wasm: Parser state encodings !5891 \r\n- [x] Merkleization of the parser's input #3224 \r\n- [x] Tickify module initialization #3076\r\n- [x] Tickify linking #3786 \r\n- [x] Non-recursive admin instructions #3606\r\n\r\nOnce this is all done, then we close this:\r\n\r\n- [x] Ensure \"unsafe\" functions are never used inside the PVM #3378\r\n\r\n\u003cdetails\u003e\r\n\u003csummary\u003eDone\u003c/summary\u003e\r\n\r\n## Error handling\r\n- [x] lib_lazy_containers + lib_webassembly: make exceptions distinguishable (improves error reporting) !6097\r\n- [X] **lib_scoru_wasm: disallow exceptions in entry-point functions #3448** !6101 !6097\r\n\r\n\u003c/details\u003e\r\n\r\n## Code quality (Critical)\r\n- [X] Factor out module-registry from AST func nodes #3492 Nice to have 👶\r\n- [X] Lib_webassembly: cleanup deadcode #3334 Code quality 🌟 Nice to have 👶\r\n- [x] WASM PVM: Simplify decoding logic for WASM PVM #3444\r\n\r\n## Documentation\r\n- [x] Document version of spec and subset/additions #3117 doc \r\n\r\n\u003cdetails\u003e\r\n\u003csummary\u003eTo be revisited when the remaining tasks are done\u003c/summary\u003e\r\n\r\n## Code quality (Nice-to-Have)\r\n- [ ] WASM: Follow up items for lazy-containers #3535 \r\n- [ ] Increase the message size limit for faster loading #3361 \r\n- [ ] Use ppx_deriving.show for AST pretty-printer #3456 \r\n- [ ] Lib_webassembly: fix unused variables #3304 \r\n- [ ] Single source of truth for function types #3396 \r\n- [ ] More compact output proofs #3237 \r\n- [ ] WASM Parser: refactoring of duplicated code #3120 \r\n- [ ] Wasm PVM: Remove duplication in input proofs #3091 \r\n- [ ] Binary parsing: Reuse a unique lazy stack #3569 \r\n- [ ] Drop locations from AST #3566 \r\n- [ ] Increase confidence in Interpreter_encodings boilerplate #3565 \r\n- [ ] SCORU WASM: Derive AST generators #3511 \r\n- [ ] Lib_scoru_wasm: Improve wasm encoding schema with named fields #3469 \r\n- [ ] Use library function for Assert.false and replicate #3532\r\n- [ ] Add generators for vector instructions #3455\r\n- [ ] Add tests for corner cases in Chunked_byte_vector #3085\r\n- [ ] Test tree encoding with official Wasm test suite #3570\r\n\r\n\u003c/details\u003e\r\n","state":"closed","created_at":"2022-08-04T17:13:44.166Z","updated_at":"2022-11-16T08:34:25.529Z","due_date":"2022-09-16","start_date":"2022-08-12","expired":true,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/107"},"assignees":[],"author":{"id":7921723,"username":"lthms","name":"Thomas Letan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7921723/avatar.png","web_url":"https://gitlab.com/lthms"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/3361","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/3361","notes":"https://gitlab.com/api/v4/projects/3836952/issues/3361/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/3361/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#3361","relative":"#3361","full":"tezos/tezos#3361"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":109663096,"iid":3159,"project_id":3836952,"title":"SCORU: Wasm: Add kernel loading logic to PVM","description":" \n## Goal\n\nExtend the Wasm rollup state with `/parse_state/input`, which stores a Merkelized list, or `Chunked_byte_vector` and a field `booter`, storing a `Public_key_hash.t`.\n\nDuring origination, the originator sends the `booter` and an optional initial boot sector chunk.\n\nWhen the machine is in preboot, incoming inbox messages are parsed as `{ next_boot_sector_chunk : string, signature : Signature.t }`. The signature is checked and the chunk is appended to the boot sector.\n\nWhenever `next_boot_sector_chunk` is empty, the boot state is moved from `Loading` to `Parsing`, then proceeds with the normal boot process.\n\n\n## Alternative\n\nPut this logic in the SCORU protocol https://hackmd.io/ugX9U_CPTXOeB3Tk7ZPgFA?view. \n\nBelieved to be more involved due to storage.\n\n\n## Context\nDuring work on https://gitlab.com/tezos/tezos/-/milestones/86#tab-issues it has become clear that realistic kernels are not going to be smaller than ~2MB, which is in conflict with the (block-driven) size limits imposed in https://gitlab.com/tezos/tezos/-/issues/3054.\n\nThis could be worked around with self-upgradable kernels, but this is out of scope for https://gitlab.com/tezos/tezos/-/milestones/83#tab-issues, hence we lack the capability to test realistically sized kernels. We here work around this by adding \"append boot sector\" logic in the Wasm rollup itself.\n\nOn finishing https://gitlab.com/tezos/tezos/-/milestones/83#tab-issues this logic can be moved from L1 to Kernel code if desired.\n\n### Data structure\nWe need lazy append. That is (append M N) where proof size is O(log M*N), and better than O(N).\n\nMerkle list might be tricky, because consuming from the front means rewriting the entire KV structure for that list within the tree. Morally you need a reverse-linked merkle list.\n\nYou can't use Irmin move opeerations, as with the set/get pattern, indeed you risk not recognizing the shallow move in set and rewriting the entire structure. The easiest solution is probably an indexed map of pages, boxed with an offset for the parser state.","state":"closed","created_at":"2022-06-06T17:21:31.968Z","updated_at":"2022-07-12T15:34:01.049Z","closed_at":"2022-07-12T15:34:00.968Z","closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8770486/avatar.png","web_url":"https://gitlab.com/nomadic-margebot"},"labels":[],"milestone":{"id":2583096,"iid":83,"project_id":3836952,"title":"(OKR 2022Q3 - 2.1) SCORU WebAssembly PVM I","description":"[Design doc](https://www.notion.so/trilitech/WASM-Rollup-0d2a996db2d8484fb87615bf5a96914d) | [Meeting notes](https://www.notion.so/trilitech/Meeting-Notes-a744673f343b4e328bf5bf14536c614d) | Slack: `tezos-dev#scoru-wasm-pvm`\r\n\r\n\r\n### Goal\r\n\r\nA SCORU Wasm rollup running the TX kernel deployed on Mondaynet. An L2 node processes inputs and creates commitments.\r\n\r\n### Related milestones\r\n\r\n- https://gitlab.com/tezos/tezos/-/milestones/107\r\n- https://gitlab.com/tezos/tezos/-/milestones/105\r\n- https://gitlab.com/tezos/tezos/-/milestones/88#tab-issues\r\n- https://gitlab.com/tezos/tezos/-/milestones/86\r\n- https://gitlab.com/tezos/tezos/-/milestones/84\r\n\r\n## Current Work/MRs\r\n(none)\r\n\r\n## Overview\r\n\r\n### Reference interpreter integration\r\n- [X] Integrate into Tezos repository #2917 !5178\r\n- [X] Build in CI !5256\r\n- [X] Expose step function !5529 \r\n- [X] Expose step function in Protocol Env  #3090 #3095  !5482 !5563\r\n- [X] Implement PVM signature in Protocol #2963 !5416\r\n- [X] Port to `Lwt` !5511 !5613 !5658 !5684 \r\n\r\n### Shallow representation\r\n- [X] Shallow map/vector utility type !5558 !5481\r\n- [X] Shallow memory\r\n- [X] Shallow tables\r\n- [X] Shallow element segments  #2961 !5408\r\n- [X] Shallow Data segments #2961 !5408 #3165 !5495\r\n- [X] **Shallow AST** #3149 !5552 !5610 !5574 !5744 !5890\r\n- [X] **Tree encode/Decode**\r\n  - [x] Encode/decode framework with roundtips !5892\r\n  - [X] Decoder utils !5550 !5755\r\n  - [X] Decode `module_inst` #3080 !5484 \r\n  - [X] **Encode `module_inst`** #3081 !5874\r\n  - [X] **Decode `Eval.config`** #3082 !5978 \r\n    - [x] Explicit indirect module references #3458 !5991\r\n  - [X] **Encode `Eval.config`** #3083 !5978\r\n    - [x] Explicit indirect module references #3458 !5991\r\n  - [X] **Encode/decode parser state** #3150 !5891\r\n- [X] Support moving subtrees #3508 !6050 \r\n- [X] Provide a top-level implementation of the WASM PVM !6037 \r\n\r\n\r\n### Loading\r\n- [X] Small-step kernel loading #3159 !5654 **!5887**\r\n\r\n### Parsing/Binary decode #3096\r\n- [X] Rewrite in continuation-passing style #3122 !5418\r\n- [X] Small-step UTF-8 parsing #3174 !5502\r\n\r\n### Initialization\r\n- ~Small-step initialization~ #3076 !5712 \r\n- [X] **Initialization** !6037\r\n\r\n### Evaluation\r\n- ~Small-step evaluation~ (wrap `Eval.step`) #3326\r\n- [X] **Evaluation** !6037\r\n\r\n### Host functions\r\n- [X] Input: PVM should use `lib_scoru_wasm` !5563\r\n- [X] Input - Host Function to consume from buffer #3092 !5517 \r\n- [x] Input write to add to buffer #3226 **5895**\r\n- [X] Output: PVM should use `lib_scoru_wasm` !5563 \r\n- ~Non-reboot yield~ Yield tree rewriting #3157 !5712 \r\n- [X] **Implement top-level interface in `lib_scoru_wasm`** !5654 !5992 !6037\r\n\r\n### E2E Demo\r\n- [X] End to end demo #3505 \r\n\r\n### Confidence\r\n- [X] Standard Wasm test suite passing #3012 !5319\r\n","state":"closed","created_at":"2022-04-27T09:02:58.454Z","updated_at":"2022-09-09T14:37:13.253Z","due_date":"2022-07-31","start_date":"2022-05-01","expired":true,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/83"},"assignees":[{"id":11403341,"username":"thomas.pecseli","name":"Thomas Pecseli","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3775b505539832eeb48b4a781ed3dcd7?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomas.pecseli"}],"author":{"id":9031131,"username":"hans.hoglund","name":"Hans Hoglund","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9031131/avatar.png","web_url":"https://gitlab.com/hans.hoglund"},"type":"ISSUE","assignee":{"id":11403341,"username":"thomas.pecseli","name":"Thomas Pecseli","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3775b505539832eeb48b4a781ed3dcd7?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomas.pecseli"},"user_notes_count":3,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/3159","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":0,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/3159","notes":"https://gitlab.com/api/v4/projects/3836952/issues/3159/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/3159/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#3159","relative":"#3159","full":"tezos/tezos#3159"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":109644533,"iid":3157,"project_id":3836952,"title":"SCORU: Wasm PVM: Handle the right number of inputs per commitment","description":"Goal: The Wasm PVM handles the right number of inputs per commitment.\n\nA commitment period is split into L parts, each corresponding to an inbox level with a non-zero amount of messages.\n\nFor each part of the commitment period, `kernel_next` may be called up to N (tbd) times.\nAfter which, the PVM defaults to consecutively reading inputs from L1 until reading an input from a subsequent inbox level. The loop continues after that. \n\nThis means each section of the commitment period, has a phase to process the previously accumulated and a phase to gather inputs for the next loop.","state":"closed","created_at":"2022-06-06T11:55:49.434Z","updated_at":"2022-11-15T15:08:33.208Z","closed_at":"2022-11-15T15:08:32.959Z","closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8770486/avatar.png","web_url":"https://gitlab.com/nomadic-margebot"},"labels":["priority::high","scoru"],"milestone":{"id":2725830,"iid":107,"project_id":3836952,"title":"(OKR 2022Q3 - 2.1) SCORU Wasm - Small Ticks","description":"\r\n# Goal\r\n\r\nCompletion of this milestone allows to enable SCORU + Wasm on mainnet.\r\n\r\n### Background\r\n\r\nThe goal of this milestone is to complete the implementation of the Wasm PVM and obtain confidence that:\r\n\r\n1. Layer 1 is safe: The WASM PVM cannot be used to attack the layer-1  by exploiting unbound computation time.\r\n2. Layer 2 is safe: The WASM PVM produces execution step within the SCORU size limit.\r\n3. Correctness: The WASM PVM implements WASM semantics. Limitations and restriction are documented.\r\n\r\n\r\n#### Stuck state\r\n\r\nCritical failure conditions in the PVM (\"assert false\" situations) is responded to by placing the PVM in a stuck state, where it no longer advances meaningfully, similar to a \"bluescreen of death\". \r\n\r\nTogether with #2198 and #3561, we enforce that the worst outcome of  stuck state is an asset-lockup situation, not an arbitrary-withdrawal situation.\r\n\r\n\r\n#### Breaking changes\r\n\r\nWe will need to prioritize carefully the remaining work, such that\r\n\r\n1. We have a WASM PVM working in mid-September.\r\n2. Missing features of the WASM PVM can be implemented without completely breaking originated rollup.\r\n3. Any breaking change needs to be backed-up by a migration plan.\r\n\r\nEstimate: 12pw\r\n\r\n\r\n# Current work/MRs\r\n- Gas metering for compute-step function #3548 @ole.kruger\r\n- Tickify module initialization #3076 @lthms \r\n- Non-recursive admin instructions #3606 @hans.hoglund \r\n- Nominal gast cost of proof verification #3164 @yrg \r\n\r\n# Breakdown\r\n\r\n\u003cdetails\u003e\r\n\u003csummary\u003eWork to be reevaluated\u003c/summary\u003e\r\n\r\n## L1 can control L2 semantics divergence\r\n\r\nThe goal of these tasks was to provide safe guard for ensuring a L2 tick cannot be underevaluated from the perspective of the L1 gas consumption.\r\n\r\nThe methods explored are not satisfactory, and we believe there are other means to achieve this goal, in particular the hardening of the L2 implementation.\r\n\r\n- [ ] Gas metering for compute-step function in WASM PVM #3548\r\n- [ ] Nominal gast cost of proof verification #3164 (handle in %\"Smart Contract Rollup Hardening?)\r\n\r\n## Test-suite conformance\r\n\r\nThis can be re-explore during the stabilization period, but if we have a large number of testing kernels, this is probably not necessary/of high priority.\r\n\r\n- [ ] Instrument the WASM test-suite to do a decode-eval-encode loop during parsing #3500 \r\n\r\n\u003c/details\u003e\r\n\r\n## PVM Life cycle and correctness\r\n- [x] Handling all inputs per commitment !6698\r\n\r\n\r\n## Small-step decode and initialization\r\n\r\n- [X] Add merkleized representation of parser state #3150 !5891 \r\n- [X] Add merkleized representation of the parsed AST #3149\r\n- [X] Scoru_wasm: Parser state encodings !5891 \r\n- [x] Merkleization of the parser's input #3224 \r\n- [x] Tickify module initialization #3076\r\n- [x] Tickify linking #3786 \r\n- [x] Non-recursive admin instructions #3606\r\n\r\nOnce this is all done, then we close this:\r\n\r\n- [x] Ensure \"unsafe\" functions are never used inside the PVM #3378\r\n\r\n\u003cdetails\u003e\r\n\u003csummary\u003eDone\u003c/summary\u003e\r\n\r\n## Error handling\r\n- [x] lib_lazy_containers + lib_webassembly: make exceptions distinguishable (improves error reporting) !6097\r\n- [X] **lib_scoru_wasm: disallow exceptions in entry-point functions #3448** !6101 !6097\r\n\r\n\u003c/details\u003e\r\n\r\n## Code quality (Critical)\r\n- [X] Factor out module-registry from AST func nodes #3492 Nice to have 👶\r\n- [X] Lib_webassembly: cleanup deadcode #3334 Code quality 🌟 Nice to have 👶\r\n- [x] WASM PVM: Simplify decoding logic for WASM PVM #3444\r\n\r\n## Documentation\r\n- [x] Document version of spec and subset/additions #3117 doc \r\n\r\n\u003cdetails\u003e\r\n\u003csummary\u003eTo be revisited when the remaining tasks are done\u003c/summary\u003e\r\n\r\n## Code quality (Nice-to-Have)\r\n- [ ] WASM: Follow up items for lazy-containers #3535 \r\n- [ ] Increase the message size limit for faster loading #3361 \r\n- [ ] Use ppx_deriving.show for AST pretty-printer #3456 \r\n- [ ] Lib_webassembly: fix unused variables #3304 \r\n- [ ] Single source of truth for function types #3396 \r\n- [ ] More compact output proofs #3237 \r\n- [ ] WASM Parser: refactoring of duplicated code #3120 \r\n- [ ] Wasm PVM: Remove duplication in input proofs #3091 \r\n- [ ] Binary parsing: Reuse a unique lazy stack #3569 \r\n- [ ] Drop locations from AST #3566 \r\n- [ ] Increase confidence in Interpreter_encodings boilerplate #3565 \r\n- [ ] SCORU WASM: Derive AST generators #3511 \r\n- [ ] Lib_scoru_wasm: Improve wasm encoding schema with named fields #3469 \r\n- [ ] Use library function for Assert.false and replicate #3532\r\n- [ ] Add generators for vector instructions #3455\r\n- [ ] Add tests for corner cases in Chunked_byte_vector #3085\r\n- [ ] Test tree encoding with official Wasm test suite #3570\r\n\r\n\u003c/details\u003e\r\n","state":"closed","created_at":"2022-08-04T17:13:44.166Z","updated_at":"2022-11-16T08:34:25.529Z","due_date":"2022-09-16","start_date":"2022-08-12","expired":true,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/107"},"assignees":[{"id":3121862,"username":"picdc","name":"Pierrick Couderc","state":"active","avatar_url":"https://secure.gravatar.com/avatar/50ac1fdb34a902ba5f7f25816487ff84?s=80\u0026d=identicon","web_url":"https://gitlab.com/picdc"}],"author":{"id":9031131,"username":"hans.hoglund","name":"Hans Hoglund","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9031131/avatar.png","web_url":"https://gitlab.com/hans.hoglund"},"type":"ISSUE","assignee":{"id":3121862,"username":"picdc","name":"Pierrick Couderc","state":"active","avatar_url":"https://secure.gravatar.com/avatar/50ac1fdb34a902ba5f7f25816487ff84?s=80\u0026d=identicon","web_url":"https://gitlab.com/picdc"},"user_notes_count":13,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":"2022-09-20","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/3157","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/3157","notes":"https://gitlab.com/api/v4/projects/3836952/issues/3157/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/3157/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#3157","relative":"#3157","full":"tezos/tezos#3157"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":109443263,"iid":3124,"project_id":3836952,"title":"Wasm PVM: Test for booting/computing and checking size","description":"Goal: Add tests on top of `Sc_rollup_wasm` that\n\n- Boots and computes the VM using a predefined boot sector and input.\n- Runs the VM to some point, providing input.\n- Generates proofs and check that they fit within the size limit","state":"closed","created_at":"2022-06-01T12:38:59.185Z","updated_at":"2022-09-21T12:06:31.327Z","closed_at":"2022-09-21T12:06:31.294Z","closed_by":{"id":7921723,"username":"lthms","name":"Thomas Letan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7921723/avatar.png","web_url":"https://gitlab.com/lthms"},"labels":["state::in-progress"],"milestone":{"id":2725830,"iid":107,"project_id":3836952,"title":"(OKR 2022Q3 - 2.1) SCORU Wasm - Small Ticks","description":"\r\n# Goal\r\n\r\nCompletion of this milestone allows to enable SCORU + Wasm on mainnet.\r\n\r\n### Background\r\n\r\nThe goal of this milestone is to complete the implementation of the Wasm PVM and obtain confidence that:\r\n\r\n1. Layer 1 is safe: The WASM PVM cannot be used to attack the layer-1  by exploiting unbound computation time.\r\n2. Layer 2 is safe: The WASM PVM produces execution step within the SCORU size limit.\r\n3. Correctness: The WASM PVM implements WASM semantics. Limitations and restriction are documented.\r\n\r\n\r\n#### Stuck state\r\n\r\nCritical failure conditions in the PVM (\"assert false\" situations) is responded to by placing the PVM in a stuck state, where it no longer advances meaningfully, similar to a \"bluescreen of death\". \r\n\r\nTogether with #2198 and #3561, we enforce that the worst outcome of  stuck state is an asset-lockup situation, not an arbitrary-withdrawal situation.\r\n\r\n\r\n#### Breaking changes\r\n\r\nWe will need to prioritize carefully the remaining work, such that\r\n\r\n1. We have a WASM PVM working in mid-September.\r\n2. Missing features of the WASM PVM can be implemented without completely breaking originated rollup.\r\n3. Any breaking change needs to be backed-up by a migration plan.\r\n\r\nEstimate: 12pw\r\n\r\n\r\n# Current work/MRs\r\n- Gas metering for compute-step function #3548 @ole.kruger\r\n- Tickify module initialization #3076 @lthms \r\n- Non-recursive admin instructions #3606 @hans.hoglund \r\n- Nominal gast cost of proof verification #3164 @yrg \r\n\r\n# Breakdown\r\n\r\n\u003cdetails\u003e\r\n\u003csummary\u003eWork to be reevaluated\u003c/summary\u003e\r\n\r\n## L1 can control L2 semantics divergence\r\n\r\nThe goal of these tasks was to provide safe guard for ensuring a L2 tick cannot be underevaluated from the perspective of the L1 gas consumption.\r\n\r\nThe methods explored are not satisfactory, and we believe there are other means to achieve this goal, in particular the hardening of the L2 implementation.\r\n\r\n- [ ] Gas metering for compute-step function in WASM PVM #3548\r\n- [ ] Nominal gast cost of proof verification #3164 (handle in %\"Smart Contract Rollup Hardening?)\r\n\r\n## Test-suite conformance\r\n\r\nThis can be re-explore during the stabilization period, but if we have a large number of testing kernels, this is probably not necessary/of high priority.\r\n\r\n- [ ] Instrument the WASM test-suite to do a decode-eval-encode loop during parsing #3500 \r\n\r\n\u003c/details\u003e\r\n\r\n## PVM Life cycle and correctness\r\n- [x] Handling all inputs per commitment !6698\r\n\r\n\r\n## Small-step decode and initialization\r\n\r\n- [X] Add merkleized representation of parser state #3150 !5891 \r\n- [X] Add merkleized representation of the parsed AST #3149\r\n- [X] Scoru_wasm: Parser state encodings !5891 \r\n- [x] Merkleization of the parser's input #3224 \r\n- [x] Tickify module initialization #3076\r\n- [x] Tickify linking #3786 \r\n- [x] Non-recursive admin instructions #3606\r\n\r\nOnce this is all done, then we close this:\r\n\r\n- [x] Ensure \"unsafe\" functions are never used inside the PVM #3378\r\n\r\n\u003cdetails\u003e\r\n\u003csummary\u003eDone\u003c/summary\u003e\r\n\r\n## Error handling\r\n- [x] lib_lazy_containers + lib_webassembly: make exceptions distinguishable (improves error reporting) !6097\r\n- [X] **lib_scoru_wasm: disallow exceptions in entry-point functions #3448** !6101 !6097\r\n\r\n\u003c/details\u003e\r\n\r\n## Code quality (Critical)\r\n- [X] Factor out module-registry from AST func nodes #3492 Nice to have 👶\r\n- [X] Lib_webassembly: cleanup deadcode #3334 Code quality 🌟 Nice to have 👶\r\n- [x] WASM PVM: Simplify decoding logic for WASM PVM #3444\r\n\r\n## Documentation\r\n- [x] Document version of spec and subset/additions #3117 doc \r\n\r\n\u003cdetails\u003e\r\n\u003csummary\u003eTo be revisited when the remaining tasks are done\u003c/summary\u003e\r\n\r\n## Code quality (Nice-to-Have)\r\n- [ ] WASM: Follow up items for lazy-containers #3535 \r\n- [ ] Increase the message size limit for faster loading #3361 \r\n- [ ] Use ppx_deriving.show for AST pretty-printer #3456 \r\n- [ ] Lib_webassembly: fix unused variables #3304 \r\n- [ ] Single source of truth for function types #3396 \r\n- [ ] More compact output proofs #3237 \r\n- [ ] WASM Parser: refactoring of duplicated code #3120 \r\n- [ ] Wasm PVM: Remove duplication in input proofs #3091 \r\n- [ ] Binary parsing: Reuse a unique lazy stack #3569 \r\n- [ ] Drop locations from AST #3566 \r\n- [ ] Increase confidence in Interpreter_encodings boilerplate #3565 \r\n- [ ] SCORU WASM: Derive AST generators #3511 \r\n- [ ] Lib_scoru_wasm: Improve wasm encoding schema with named fields #3469 \r\n- [ ] Use library function for Assert.false and replicate #3532\r\n- [ ] Add generators for vector instructions #3455\r\n- [ ] Add tests for corner cases in Chunked_byte_vector #3085\r\n- [ ] Test tree encoding with official Wasm test suite #3570\r\n\r\n\u003c/details\u003e\r\n","state":"closed","created_at":"2022-08-04T17:13:44.166Z","updated_at":"2022-11-16T08:34:25.529Z","due_date":"2022-09-16","start_date":"2022-08-12","expired":true,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/107"},"assignees":[],"author":{"id":9031131,"username":"hans.hoglund","name":"Hans Hoglund","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9031131/avatar.png","web_url":"https://gitlab.com/hans.hoglund"},"type":"ISSUE","assignee":null,"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2022-09-16","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/3124","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/3124","notes":"https://gitlab.com/api/v4/projects/3836952/issues/3124/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/3124/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#3124","relative":"#3124","full":"tezos/tezos#3124"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":109313844,"iid":3091,"project_id":3836952,"title":"Wasm PVM: Remove duplication in input proofs","description":"The following discussion from !5416 should be addressed:\n\n- [ ] @hans.hoglund started a [discussion](https://gitlab.com/tezos/tezos/-/merge_requests/5416#note_964475159): \n\n    \u003e ```suggestion:-4+0\n    \u003e     (* TODO:\n    \u003e        The tree proof contains enough information to derive given and requested.\n    \u003e        Get rid of the duplication by writing the projection functions and\n    \u003e        removing the [given] and [requested] fields.\n    \u003e     *)\n    \u003e ```\n\nThis should improve the size of input proofs by a factor of ~2.","state":"closed","created_at":"2022-05-30T12:39:53.486Z","updated_at":"2022-09-19T08:53:43.350Z","closed_at":"2022-09-19T08:53:43.156Z","closed_by":{"id":8770486,"username":"nomadic-margebot","name":"Marge Bot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8770486/avatar.png","web_url":"https://gitlab.com/nomadic-margebot"},"labels":[],"milestone":{"id":2552886,"iid":75,"project_id":3836952,"title":"(OKR 2022Q3 - 2.1) Smart Contract Rollup Hardening","description":"# Overview\r\n- [ ] Adapt L2 node to WASM\r\n  - [x] Instantiate the functor with WASM PVM #3411 \r\n  - [x] Include WASM in existing Tezt tests #3412 \r\n  - [ ] Add interesting messages for WASM in Tezt tests #3413 \r\n  - [ ] Add WASM kernel Tezt tests #3415 \r\n- [ ] Carbonate all SCORU operations (owner: @naih) https://gitlab.com/tezos/tezos/-/issues/3290\r\n- [ ] Audit of constants (owner: @vch9)\r\n- [ ] Write refutation game tests (owner: @vch9) https://gitlab.com/tezos/tezos/-/issues/3075\r\n- [ ] Process all follow-up issues from SCORU milestone 1 (owner: @yrg)\r\n   - [x] Critical issues\r\n   - [ ] High-priority issues\r\n   - [ ] Other issues\r\n- [ ] Test rollup persistence across Tezos protocol upgrade (owner: @sribaroud)\r\n- [ ] Develop enough stress tests to gain confidence about the security and the safety of Layer 1 (owner: @iguerNL)\r\n- [ ] Measure performance and optimize if needed (owner: @yrg)","state":"closed","created_at":"2022-04-06T08:51:42.962Z","updated_at":"2022-10-25T05:34:43.955Z","due_date":"2022-09-30","start_date":"2022-05-02","expired":true,"web_url":"https://gitlab.com/tezos/tezos/-/milestones/75"},"assignees":[{"id":8556680,"username":"vch9","name":"Valentin Chaboche","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8556680/avatar.png","web_url":"https://gitlab.com/vch9"}],"author":{"id":9031131,"username":"hans.hoglund","name":"Hans Hoglund","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9031131/avatar.png","web_url":"https://gitlab.com/hans.hoglund"},"type":"ISSUE","assignee":{"id":8556680,"username":"vch9","name":"Valentin Chaboche","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8556680/avatar.png","web_url":"https://gitlab.com/vch9"},"user_notes_count":8,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":"2022-09-13","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/tezos/tezos/-/issues/3091","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/3836952/issues/3091","notes":"https://gitlab.com/api/v4/projects/3836952/issues/3091/notes","award_emoji":"https://gitlab.com/api/v4/projects/3836952/issues/3091/award_emoji","project":"https://gitlab.com/api/v4/projects/3836952","closed_as_duplicate_of":null},"references":{"short":"#3091","relative":"#3091","full":"tezos/tezos#3091"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null}]