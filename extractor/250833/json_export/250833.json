[{"id":110480239,"iid":29128,"project_id":250833,"title":"Refactor the creation of the job temporary file path","description":"## Summary\n\nThis issue is extracted from https:\/\/gitlab.com\/gitlab-org\/gitlab\/-\/issues\/29407\n\nFrom the comments https:\/\/gitlab.com\/gitlab-org\/gitlab\/-\/issues\/29407#note_947110258 and https:\/\/gitlab.com\/gitlab-org\/gitlab\/-\/issues\/29407#note_989127953\n\n| Step | Status |\n| ------ | ------ |\n| 1. GitLab: Stop expanding file variables when sending to Runner | https:\/\/gitlab.com\/gitlab-org\/gitlab\/-\/issues\/365859 |\n| **2. Runner: Refactor the creation of the job temporary file path** | :point_left: You are here |\n| 3. Fix file variables in Runner | https:\/\/gitlab.com\/gitlab-org\/gitlab\/-\/issues\/29407 |\n\n## Technical proposal\n\nfrom: https:\/\/gitlab.com\/gitlab-org\/gitlab\/-\/issues\/29407#note_935276800\n\nExtract creation of the job temporary file path from the `ShellWriter` interface.\n\nThe path depends on the job data. Until it needs to be printed, there is nothing shell-dependent that needs to be considered.\n\nI think that we should have the code that creates that path moved to the `common.Build` structure, and the `ShellWriter` implementations should focus on how to present the path and how to prepare the environment during the script execution for file creation there (like calling a shell\/os dependent command to create a directory where temporary files are stored).","state":"closed","created_at":1655821247897,"updated_at":1671059239012,"closed_at":1670521991645,"closed_by":{"id":11925179,"username":"avonbertoldi","name":"Axel von Bertoldi","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/11925179\/avatar.png","web_url":"https:\/\/gitlab.com\/avonbertoldi"},"labels":["Category:Runner Core","backend","devops::verify","group::runner","priority::2","section::ops","severity::3","type::bug","workflow::in dev"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/82"},"assignees":[{"id":11925179,"username":"avonbertoldi","name":"Axel von Bertoldi","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/11925179\/avatar.png","web_url":"https:\/\/gitlab.com\/avonbertoldi"}],"author":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/514662\/avatar.png","web_url":"https:\/\/gitlab.com\/furkanayhan"},"type":"ISSUE","assignee":{"id":11925179,"username":"avonbertoldi","name":"Axel von Bertoldi","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/11925179\/avatar.png","web_url":"https:\/\/gitlab.com\/avonbertoldi"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-runner\/-\/issues\/29128","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/250833\/issues\/29128","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/250833\/issues\/29128\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/250833\/issues\/29128\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/250833","closed_as_duplicate_of":null},"references":{"short":"#29128","relative":"#29128","full":"gitlab-org\/gitlab-runner#29128"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":46310187,"iid":26346,"project_id":250833,"title":"[UI\/UX] Add option in CI\/CD settings for variable expansion","description":"## Description\n\nIn the .gitlab-ci.yml file, a user can define a variable and use it in another variable definition within the same `.gitlab-ci.yml` file. gitlab-org\/gitlab-runner#1809\n\nUsers also need to be able to allow nested variables through the applications' UI.\n\n## Proposal\n\n**[:star: SEE PROTOTYPES ON FIGMA :star:](https:\/\/www.figma.com\/file\/TNu09pr4KX4dqxtQ1Tslvs\/Runner-Usability-improvements?node-id=406%3A767)**\n\n* Under project `Settings > CI\/CD > Variables`, we will add an option for users to enable\/disable nested variables in the ci file.\n* ~frontend - A checkbox button is added to the section.\n  * The option is **not** selected by default.\n* ~frontend - Users need to click the `save changes` button to apply their option.\n  * A feedback notification is displayed using the ~\"component:toast\" - https:\/\/design.gitlab.com\/components\/toast\/\n  * https:\/\/design.gitlab.com\/product-foundations\/saving-and-feedback\n* ~\"Technical Writing\" - The ~\"UI text\" of the Variables section will also be updated.\n\n### Permissions and Security\n\nPermissions should be consistent with the existing permissions structure regarding which roles can access project settings https:\/\/docs.gitlab.com\/ee\/user\/permissions.html#project-members-permissions\n\n* [ ] Members with no access (0) should not be able access the project settings\n* [ ] Guest (10) members should not be able to access the project settings\n* [ ] Reporter (20) members should not be able to access the project settings\n* [ ] Developer (30) members should be able to access the project settings\n* [ ] Maintainer (40) members should be able to see and interact with the option in the project settings\n* [ ] Owner (50) members should be able to see and interact with the option in the project settings\n\n### Documentation\n\nWe should update https:\/\/docs.gitlab.com\/ee\/ci\/variables\/\n\n## Links to related issues and merge requests \/ references\n\ngitlab-org\/gitlab-runner#1809\n\ngitlab-org\/gitlab-runner#26345","state":"closed","created_at":1592382768164,"updated_at":1680285225276,"closed_at":1632149850966,"closed_by":{"id":4228834,"username":"DarrenEastman","name":"Darren Eastman","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4228834\/avatar.png","web_url":"https:\/\/gitlab.com\/DarrenEastman"},"labels":["SUS::FY22 Q1 - Incomplete","Stretch","Technical Writing","UI text","UX","UX FY21-Q4","[Deprecated] Category:Runner","devops::verify","frontend","group::runner","section::ops","type::feature","workflow::ready for development"],"milestone":null,"assignees":[{"id":3079878,"username":"rayana","name":"Rayana Verissimo","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3079878\/avatar.png","web_url":"https:\/\/gitlab.com\/rayana"}],"author":{"id":4965836,"username":"lraykov","name":"Lyubomir Raykov","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4965836\/avatar.png","web_url":"https:\/\/gitlab.com\/lraykov"},"type":"ISSUE","assignee":{"id":3079878,"username":"rayana","name":"Rayana Verissimo","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3079878\/avatar.png","web_url":"https:\/\/gitlab.com\/rayana"},"user_notes_count":38,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-runner\/-\/issues\/26346","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"task_status":null,"_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/250833\/issues\/26346","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/250833\/issues\/26346\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/250833\/issues\/26346\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/250833","closed_as_duplicate_of":null},"references":{"short":"#26346","relative":"#26346","full":"gitlab-org\/gitlab-runner#26346"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5114.0,"epic":{"id":174239,"iid":5114,"title":"Workflow Design (Verify: Testing & Runner)","url":"\/groups\/gitlab-org\/-\/epics\/5114","group_id":9970},"iteration":null,"health_status":null},{"id":45170631,"iid":26307,"project_id":250833,"title":"Pass `multi_build_steps` as a Runner Feature when requesting a job","description":"Issue https:\/\/gitlab.com\/gitlab-org\/gitlab\/-\/issues\/199250 exposes a new `.gitlab-ci.yml` syntax for creation of releases, using the [releaser-cli](https:\/\/gitlab.com\/gitlab-org\/release-cli). \n\n```yaml\nrelease_job: {\n  stage: 'release',\n  only: 'tags',\n  script: ['make changelog | tee release_changelog.txt'],\n  release: {\n     name: 'Release $CI_COMMIT_SHA',\n     description: 'Created using the release-cli $EXTRA_DESCRIPTION',\n     tag_name: 'release-$CI_COMMIT_SHA',\n     ref: '$CI_COMMIT_SHA'\n  }\n```\n\nThe Runner then calls the `releaser-cli` with this command line:\n\n```bash\nrelease-cli create --name \"Release $CI_COMMIT_SHA\" --description \"Created using the release-cli $EXTRA_DESCRIPTION\" --tag-name \"release-$CI_COMMIT_SHA\" --ref \"$CI_COMMIT_SHA\"\n```\n\n\nThe Runner has already been extended with [this MR](https:\/\/gitlab.com\/gitlab-org\/gitlab-runner\/-\/issues\/6409). An additional change in required to pass the supported runner features to Rails.\n\nA new feature called `multi_build_steps` has been created, and this needs to be passed to the `POST \/api\/v4\/jobs\/request` endpoint, populating the `:features` field.\n\nPlease also see this note https:\/\/gitlab.com\/gitlab-org\/gitlab\/-\/merge_requests\/27810#note_361591716\n\n> Runner is passing features supported when requesting a job - https:\/\/gitlab.com\/gitlab-org\/gitlab\/-\/blob\/df71d756e4955b98bbb4add5cf43cd27c09cc6c7\/lib\/api\/runner.rb#L101 and then `Ci::RegisterJobService` is checking can the runner support the selected job - https:\/\/gitlab.com\/gitlab-org\/gitlab\/-\/blob\/df71d756e4955b98bbb4add5cf43cd27c09cc6c7\/app\/services\/ci\/register_job_service.rb#L104. In case it's not the job is dropped with *\"Your runner is outdated, please upgrade your runner\"* failure reason.","state":"closed","created_at":1592310787895,"updated_at":1595204340976,"closed_at":1593170011560,"closed_by":{"id":4903108,"username":"ggeorgiev_gitlab","name":"Georgi N. Georgiev","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/892be3a3ffa8e0484a9208823c7cc66e?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/ggeorgiev_gitlab"},"labels":["Category:Release Orchestration","GitLab Release CLI","[Deprecated] Category:Runner","backend","devops::release [DEPRECATED]","group::runner","type::feature","workflow::in review"],"milestone":{"id":1233746,"iid":49,"group_id":9970,"title":"13.2","description":"https:\/\/about.gitlab.com\/releases\/2020\/07\/22\/gitlab-13-2-released\/","state":"closed","created_at":"2020-04-09T17:28:01.032Z","updated_at":"2022-04-13T14:48:24.167Z","due_date":"2020-07-17","start_date":"2020-06-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/49"},"assignees":[{"id":4391348,"username":"sean_carroll","name":"Sean Carroll","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4391348\/avatar.png","web_url":"https:\/\/gitlab.com\/sean_carroll"},{"id":4965836,"username":"lraykov","name":"Lyubomir Raykov","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4965836\/avatar.png","web_url":"https:\/\/gitlab.com\/lraykov"}],"author":{"id":4391348,"username":"sean_carroll","name":"Sean Carroll","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4391348\/avatar.png","web_url":"https:\/\/gitlab.com\/sean_carroll"},"type":"ISSUE","assignee":{"id":4391348,"username":"sean_carroll","name":"Sean Carroll","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4391348\/avatar.png","web_url":"https:\/\/gitlab.com\/sean_carroll"},"user_notes_count":22,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-runner\/-\/issues\/26307","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/250833\/issues\/26307","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/250833\/issues\/26307\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/250833\/issues\/26307\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/250833","closed_as_duplicate_of":null},"references":{"short":"#26307","relative":"#26307","full":"gitlab-org\/gitlab-runner#26307"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2510.0,"epic":{"id":18384,"iid":2510,"title":"Release generation from `.gitlab-ci.yml` via API call","url":"\/groups\/gitlab-org\/-\/epics\/2510","group_id":9970,"human_readable_end_date":"Jan 17, 2021","human_readable_timestamp":"<strong>Past due<\/strong>"},"iteration":null,"health_status":null},{"id":33554642,"iid":25425,"project_id":250833,"title":"Add integration test for Docker executor to check each step is executed","description":"### Overview\n\nIn https:\/\/gitlab.com\/gitlab-org\/gitlab\/-\/issues\/215037 we had a ~regression where the `after_script` was not running inside of the docker executor. This has shown a test gap in out integration tests for the Docker executor, we aren't making sure that each section\/stage of the job is being executed.\n\n### Proposal\n\nUpdate tests like [`TestDockerCommandSuccessRun`](https:\/\/gitlab.com\/gitlab-org\/gitlab-runner\/-\/blob\/dae4647d17825dd2b43c0d6a1e7ad919150be88a\/executors\/docker\/docker_command_test.go#L68-77),  [`TestDockerCommandBuildFail`](https:\/\/gitlab.com\/gitlab-org\/gitlab-runner\/-\/blob\/dae4647d17825dd2b43c0d6a1e7ad919150be88a\/executors\/docker\/docker_command_test.go#L215) and validate that each stage runs:\n\n- before_script\n- script\n- after_script\n\nOther steps should be validated in a follow-up issue https:\/\/gitlab.com\/gitlab-org\/gitlab-runner\/-\/issues\/26839","state":"closed","created_at":1587450635845,"updated_at":1598628968190,"closed_at":1598580892846,"closed_by":{"id":4082686,"username":"jaime","name":"Jaime Martinez","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4082686\/avatar.png","web_url":"https:\/\/gitlab.com\/jaime"},"labels":["Category:Release Orchestration","[Deprecated] Category:Runner","[deprecated] Accepting merge requests","backstage [DEPRECATED]","cicd::active","devops::verify","maintenance::refactor","test","workflow::in review"],"milestone":{"id":1233753,"iid":51,"group_id":9970,"title":"13.4","description":"https:\/\/about.gitlab.com\/releases\/2020\/09\/22\/gitlab-13-4-released\/","state":"closed","created_at":"2020-04-09T17:39:21.662Z","updated_at":"2022-04-13T14:50:33.769Z","due_date":"2020-09-17","start_date":"2020-08-18","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/51"},"assignees":[{"id":4082686,"username":"jaime","name":"Jaime Martinez","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4082686\/avatar.png","web_url":"https:\/\/gitlab.com\/jaime"}],"author":{"id":210928,"username":"steveazz","name":"Steve Azzopardi","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/4a5eeed7ec5c80642df9ee708bb496d7?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/steveazz"},"type":"ISSUE","assignee":{"id":4082686,"username":"jaime","name":"Jaime Martinez","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/4082686\/avatar.png","web_url":"https:\/\/gitlab.com\/jaime"},"user_notes_count":22,"merge_requests_count":13,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-runner\/-\/issues\/25425","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/250833\/issues\/25425","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/250833\/issues\/25425\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/250833\/issues\/25425\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/250833","closed_as_duplicate_of":null},"references":{"short":"#25425","relative":"#25425","full":"gitlab-org\/gitlab-runner#25425"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17857428,"iid":3948,"project_id":250833,"title":"Implement session endpoint to proxy build services requests","description":"As a part of https:\/\/gitlab.com\/gitlab-org\/gitlab-ee\/issues\/5276 we need to implement extend the build session and add a new endpoint that will be able to proxy requests coming from Rails-Workhorse to a specific service running in the build.\n\nThe endpoint will be something like `\/session\/uuid\/proxy\/<build|or|service-name>\/<port>\/<requested-uri>`.\n\nThis proxy mechanism should be able to be bi-directional. In this situation, we would need to handle websocket connections automatically. If the request is not a websocket one the proxy would act as an unidirectional reverse proxy.","state":"closed","created_at":1548956713383,"updated_at":1565164805021,"closed_at":1558628653166,"closed_by":{"id":215818,"username":"tmaczukin","name":"Tomasz Maczukin","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/0a9a99b9665ab7eda2cd7bffd54b1836?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/tmaczukin"},"labels":["Category:Web IDE","Create [DEPRECATED]","Deliverable","[Deprecated] Category:Runner","backend","devops::create","group::editor","workflow::in review"],"milestone":{"id":693518,"iid":33,"group_id":9970,"title":"12.0","description":"https:\/\/about.gitlab.com\/releases\/2019\/06\/22\/gitlab-12-0-released\/","state":"closed","created_at":"2018-10-30T16:47:37.975Z","updated_at":"2020-04-22T19:51:03.475Z","due_date":"2019-06-22","start_date":"2019-05-08","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/33"},"assignees":[{"id":955795,"username":"fjsanpedro","name":"Francisco Javier L\u00f3pez (ex-Gitlab)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/955795\/avatar.png","web_url":"https:\/\/gitlab.com\/fjsanpedro"}],"author":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier L\u00f3pez (ex-Gitlab)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/955795\/avatar.png","web_url":"https:\/\/gitlab.com\/fjsanpedro"},"type":"ISSUE","assignee":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier L\u00f3pez (ex-Gitlab)","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/955795\/avatar.png","web_url":"https:\/\/gitlab.com\/fjsanpedro"},"user_notes_count":1,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-runner\/-\/issues\/3948","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/250833\/issues\/3948","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/250833\/issues\/3948\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/250833\/issues\/3948\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/250833","closed_as_duplicate_of":null},"references":{"short":"#3948","relative":"#3948","full":"gitlab-org\/gitlab-runner#3948"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":167.0,"epic":{"id":301,"iid":167,"title":"Server side evaluation in the Web IDE","url":"\/groups\/gitlab-org\/-\/epics\/167","group_id":9970,"human_readable_end_date":"Jul 22, 2019","human_readable_timestamp":"<strong>Past due<\/strong>"},"iteration":null,"health_status":null},{"id":13138276,"iid":3467,"project_id":250833,"title":"Add support for interactive web terminal to Docker executor","description":"## Description\n\nSo far we have added support in the interactive web terminal for `kubernetes` and `shell` executors; this issue adds support for the `docker` executor, which is used both by onsite installations on extensively on gitlab.com. This is purely a limitation of the runner and no other systems should be involved.\n\n## Proposal\n\nHave the docker executor implement the `InteractiveTerminal` and `Conn` interface from the `terminal` package. Use [`gitlab-terminal`](https:\/\/gitlab.com\/gitlab-org\/gitlab-terminal) to proxy connection to the WebSocket, issue for [`gitlab-terminal`](https:\/\/gitlab.com\/gitlab-org\/gitlab-terminal) to add support can be found in gitlab-org\/gitlab-terminal#3\n\n### Keep container runner when terminal attached \n\nBy design, docker will stop the container when the pid 1 is finished. Meaning when the script has finished running it will stop the container, which is not what we want if the user is connected to the terminal, we want to keep the container running. Doing this requires behavioural changes to the docker executor inside of the runner, which are listed blow.\n\n#### Add `tail -f \/dev\/null`\n\nAdding `tail -f \/dev\/null` at the end of the script will keep the container running forever and then the runner is responsible of stoping the container either when the user closes the terminal connection, or the main script as finished. \n\nPros:\n\n- Don't change current runner behaviour\n\nCons:\n\n- If `tail` is not present in the container this will not work\n- Will be quite hard to know when to kill the container if the user is connected, or if the script is still running (since the script will run forever)\n\n### Run container in detached mode \n\nFor certain containers, it is possible to keep the container running by doing the following `docker run -t -d centos` this will the container running since the default command is `bash`. After we start the container like that we will execute the script via `docker exec` and then stop the container when the `exec` is done or when the terminal connection is closed\/timed out\n\nPros:\n\n- Cleaner solution\n- No hacks\n- Same flow as the kubernetes executor\n\nCons:\n\n- Changing workflow of runner \n\n## Limitation of Docker executor\n\nFor the Docker executor, as soon as the build script is finished (meaning what the user specified to run in `.gitlab-ci.yml`) the terminal will close. So:\n\n- Build starts\n- User connect to terminal, build script is running at the same time\n- Build script finished\n\nNow, normally what would happen is the timeout countdown starts ticking (this works for k8s and shell executors). For Docker, this will close immediately. The reason for that is a technical one on how docker behaves by default.\n\nAs direct result it would be, for the Docker executor, the terminal is only available while the build is running.\n\nThis will be resolved via https:\/\/gitlab.com\/gitlab-org\/gitlab-runner\/issues\/3605, giving users a way to enable this behavior.\n\n## Links to related issues and merge requests \/ references\n\ngitlab-org\/gitlab-ce#25990\n\ngitlab-org\/gitlab-terminal#3","state":"closed","created_at":1533048077460,"updated_at":1680285695644,"closed_at":1539013776295,"closed_by":{"id":215818,"username":"tmaczukin","name":"Tomasz Maczukin","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/0a9a99b9665ab7eda2cd7bffd54b1836?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/tmaczukin"},"labels":["Deliverable","devops::verify","direction"],"milestone":{"id":567670,"iid":19,"group_id":9970,"title":"11.4","description":"","state":"closed","created_at":"2018-06-14T17:31:41.249Z","updated_at":"2018-12-20T06:49:55.749Z","due_date":"2018-10-22","start_date":"2018-09-08","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/19"},"assignees":[{"id":210928,"username":"steveazz","name":"Steve Azzopardi","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/4a5eeed7ec5c80642df9ee708bb496d7?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/steveazz"}],"author":{"id":210928,"username":"steveazz","name":"Steve Azzopardi","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/4a5eeed7ec5c80642df9ee708bb496d7?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/steveazz"},"type":"ISSUE","assignee":{"id":210928,"username":"steveazz","name":"Steve Azzopardi","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/4a5eeed7ec5c80642df9ee708bb496d7?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/steveazz"},"user_notes_count":9,"merge_requests_count":2,"upvotes":15,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-runner\/-\/issues\/3467","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/250833\/issues\/3467","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/250833\/issues\/3467\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/250833\/issues\/3467\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/250833","closed_as_duplicate_of":null},"references":{"short":"#3467","relative":"#3467","full":"gitlab-org\/gitlab-runner#3467"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":337.0,"epic":{"id":991,"iid":337,"title":"Interactive web terminals for CI\/CD shell, k8s, and docker jobs","url":"\/groups\/gitlab-org\/-\/epics\/337","group_id":9970,"human_readable_end_date":"Oct 22, 2018","human_readable_timestamp":"<strong>Past due<\/strong>"},"iteration":null,"health_status":null},{"id":8275481,"iid":2994,"project_id":250833,"title":"Updates for Documentation - Autoscaling","description":"Based on https:\/\/gitlab.com\/gitlab-org\/gitlab-runner\/blob\/master\/docs\/install\/autoscaling.md\n\n## docs\/install\/autoscaling.md\n\n* The link at `GitLab Runner installation documentation` goes to the GitLab repository (not relevant here), but should go to https:\/\/docs.gitlab.com\/runner\/install\/\n* Docker Registry and Cache Server may not only be relevant when running in autoscaling. I would suggest to move it to a separate page\n\nOriginal issue: https:\/\/gitlab.com\/gitlab-org\/gitlab-runner\/issues\/2531","state":"closed","created_at":1513687395648,"updated_at":1521132516279,"closed_at":1521132516277,"closed_by":null,"labels":["[deprecated] Accepting merge requests","documentation"],"milestone":{"id":424944,"iid":9,"group_id":9970,"title":"10.7","description":"","state":"closed","created_at":"2017-12-06T16:45:41.880Z","updated_at":"2018-05-11T15:04:03.492Z","due_date":"2018-04-22","start_date":"2018-03-08","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/9"},"assignees":[{"id":3585,"username":"axil","name":"Achilleas Pipinellis","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3585\/avatar.png","web_url":"https:\/\/gitlab.com\/axil"}],"author":{"id":419655,"username":"markglenfletcher","name":"Mark Fletcher","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/419655\/avatar.png","web_url":"https:\/\/gitlab.com\/markglenfletcher"},"type":"ISSUE","assignee":{"id":3585,"username":"axil","name":"Achilleas Pipinellis","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/3585\/avatar.png","web_url":"https:\/\/gitlab.com\/axil"},"user_notes_count":1,"merge_requests_count":2,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-runner\/-\/issues\/2994","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/250833\/issues\/2994","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/250833\/issues\/2994\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/250833\/issues\/2994\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/250833","closed_as_duplicate_of":null},"references":{"short":"#2994","relative":"#2994","full":"gitlab-org\/gitlab-runner#2994"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":5786639,"iid":2538,"project_id":250833,"title":"\/cache volume is always added to volumes list","description":"### Summary\n\nWhen adding additional volumes via `register --docker-volume`, \/cache is still added, even if a different volume for \/cache is submitted.\n\n### Steps to reproduce\n\nrun the register command in --non-interactive mode and append `--docker-volumes \/srv\/gitlab-runner\/cache:\/cache`\n\ncheck the created config.toml\n\n`volumes = [\"\/srv\/gitlab-runner\/cache:\/cache\", \"\/cache\"]`\n\n\n### What is the current *bug* behavior?\n\nsee \"steps to reproduce\"\n\n### What is the expected *correct* behavior?\n\ngitlab-runner either automatically detects that \/cache is already provided in a volume and doesn't add it a second time, or (since this might be hard to detect) at least offers a switch that disables automatically adding this volume, maybe with a warning attached that the user then must provide the volume mount point manually.\n\n### Relevant logs and\/or screenshots\n\nThe offending code seems to be at\nhttps:\/\/gitlab.com\/gitlab-org\/gitlab-runner\/blob\/master\/commands\/register.go#L108\n\n`s.Docker.Volumes = append(s.Docker.Volumes, \"\/cache\")`\n\nThere are no checks if it is even necessary and no way to disable this.\n\n### Possible fixes\n\n- Manually edit the config file after generation, removing the \"\/cache\" entry (my current workaround, not a good solution)\n- Add a switch to give a more precise location for the \"\/cache\" volume.\n- Add a switch to disable automatically adding \"\/cache\" to the volumes list.\n- Automatically detect if a \"\/cache\" volume is provided already by --docker-volumes and don't add \"\/cache\" in these cases.","state":"closed","created_at":1497962940678,"updated_at":1656917428005,"closed_at":1516378835966,"closed_by":null,"labels":["[deprecated] Accepting merge requests","executor::docker","type::bug"],"milestone":null,"assignees":[],"author":{"id":1134476,"username":"markusteufelberger","name":"Markus Teufelberger","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/7197a3dd198bfad98ed84381f45c5550?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/markusteufelberger"},"type":"ISSUE","assignee":null,"user_notes_count":8,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-runner\/-\/issues\/2538","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/250833\/issues\/2538","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/250833\/issues\/2538\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/250833\/issues\/2538\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/250833","closed_as_duplicate_of":null},"references":{"short":"#2538","relative":"#2538","full":"gitlab-org\/gitlab-runner#2538"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":5742599,"iid":2531,"project_id":250833,"title":"Updates for Documentation - Docker","description":"Based on https:\/\/gitlab.com\/gitlab-org\/gitlab-runner\/blob\/master\/docs\/install\/docker.md\n\n## docs\/install\/docker.md\n\n* mounting docker containers as data volume is not anymore state of the art. Use `$ docker volume` to create a volume\n* The syntax for docker `$ docker run` is outdated (as of version `17.03`) Use `$ docker container run`\n* Mounting docker sockets: you mention the same `$ docker run` command twice in the chapter `## Docker image installation and configuration`\n","state":"closed","created_at":1497733567098,"updated_at":1680285527811,"closed_at":1524289299215,"closed_by":{"id":1786152,"username":"gitlab-bot","name":"\ud83e\udd16 GitLab Bot \ud83e\udd16","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/1786152\/avatar.png","web_url":"https:\/\/gitlab.com\/gitlab-bot"},"labels":["[deprecated] Accepting merge requests","auto closed","auto updated","awaiting feedback","documentation"],"milestone":null,"assignees":[],"author":{"id":357032,"username":"tmaier","name":"Tobias L. Maier","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/3a1ae760fb12e90137ec01a19334c3ca?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/tmaier"},"type":"ISSUE","assignee":null,"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-runner\/-\/issues\/2531","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/250833\/issues\/2531","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/250833\/issues\/2531\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/250833\/issues\/2531\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/250833","closed_as_duplicate_of":null},"references":{"short":"#2531","relative":"#2531","full":"gitlab-org\/gitlab-runner#2531"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":3950176,"iid":2045,"project_id":250833,"title":"allow access at registration time  to be able to the runner active: false","description":"## Description\r\n\r\nWe should add another improvement that will set active: false attribute for a registered Runner on GitLab's side. But this would need first an update in GitLab CI API in here https:\/\/gitlab.com\/gitlab-org\/gitlab-ce\/blob\/v8.15.0\/lib\/ci\/api\/runners.rb#L32.\r\n\r\n## Proposal\r\n\r\n--active=false or --active=true ( default)\r\n\r\n## Links to related issues and merge requests \/ references\r\n\r\n> Please paste a link of the related issues or\/and merge requests","state":"closed","created_at":1484239798305,"updated_at":1526030231636,"closed_at":1526030230805,"closed_by":{"id":12452,"username":"ayufan","name":"Kamil Trzci\u0144ski","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/7a285e30f35d72526fb0954e8fe7cefa?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/ayufan"},"labels":["Deliverable","type::feature"],"milestone":{"id":362887,"iid":5,"group_id":9970,"title":"11.0","description":"https:\/\/about.gitlab.com\/releases\/2018\/06\/22\/gitlab-11-0-released","state":"closed","created_at":"2017-08-22T11:26:37.313Z","updated_at":"2020-04-27T16:31:06.794Z","due_date":"2018-06-22","start_date":"2018-05-07","expired":true,"web_url":"https:\/\/gitlab.com\/groups\/gitlab-org\/-\/milestones\/5"},"assignees":[{"id":215818,"username":"tmaczukin","name":"Tomasz Maczukin","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/0a9a99b9665ab7eda2cd7bffd54b1836?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/tmaczukin"}],"author":{"id":251171,"username":"stephen.cooke.psycle","name":"Stephen Cooke","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/8093cdd8d0c546e254eb279aacebaa41?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/stephen.cooke.psycle"},"type":"ISSUE","assignee":{"id":215818,"username":"tmaczukin","name":"Tomasz Maczukin","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/0a9a99b9665ab7eda2cd7bffd54b1836?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/tmaczukin"},"user_notes_count":4,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-runner\/-\/issues\/2045","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/250833\/issues\/2045","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/250833\/issues\/2045\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/250833\/issues\/2045\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/250833","closed_as_duplicate_of":null},"references":{"short":"#2045","relative":"#2045","full":"gitlab-org\/gitlab-runner#2045"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":2554342,"iid":1466,"project_id":250833,"title":"Aliases for services docker images","description":"We're really enjoying using GitLab CI with the container registry feature. However, we are struggling to use the \"services\" feature with our internally-defined docker images (from the GitLab container registry and another registry).\r\n\r\nWe need to be able to use services where the image names are long and complicated, e.g.:\r\n\r\n```yaml\r\njob:\r\n    image: git.example.com:9999\/group\/project-a:latest\r\n    services:\r\n        - other-registry.example.com:9999\/group\/project-b:1.0\r\n        - git.example.com:9999\/group-b\/project-c:develop\r\n```\r\n\r\nIt would really help if we could specify network aliases for each of these services (docker-compose allows something like this) e.g.:\r\n\r\n```yaml\r\njob:\r\n    image: git.example.com:9999\/group\/project-a:latest\r\n    services:\r\n        - backend:git.example.com:9999\/group\/project-b:1.0\r\n        - db:git.example.com:9999\/group-b\/project-c:develop\r\n    script:\r\n        - curl http:\/\/backend\r\n        - curl http:\/\/db\r\n```\r\n","state":"closed","created_at":1467367235715,"updated_at":1508953527442,"closed_at":1500488107187,"closed_by":null,"labels":["Deliverable","executor::docker","high priority"],"milestone":{"id":305236,"iid":29,"project_id":250833,"title":"9.4","description":"","state":"closed","created_at":"2017-04-26T13:01:26.891Z","updated_at":"2018-01-16T12:44:57.772Z","due_date":"2017-07-22","start_date":"2017-06-07","expired":true,"web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-runner\/-\/milestones\/29"},"assignees":[{"id":215818,"username":"tmaczukin","name":"Tomasz Maczukin","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/0a9a99b9665ab7eda2cd7bffd54b1836?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/tmaczukin"}],"author":{"id":401936,"username":"LeoHuckvale","name":"Leo","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/401936\/avatar.png","web_url":"https:\/\/gitlab.com\/LeoHuckvale"},"type":"ISSUE","assignee":{"id":215818,"username":"tmaczukin","name":"Tomasz Maczukin","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/0a9a99b9665ab7eda2cd7bffd54b1836?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/tmaczukin"},"user_notes_count":10,"merge_requests_count":1,"upvotes":22,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-runner\/-\/issues\/1466","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":9,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/250833\/issues\/1466","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/250833\/issues\/1466\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/250833\/issues\/1466\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/250833","closed_as_duplicate_of":null},"references":{"short":"#1466","relative":"#1466","full":"gitlab-org\/gitlab-runner#1466"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":1176191,"iid":1069,"project_id":250833,"title":"If cache was enabled once, disabling has no effect","description":"We're using 1.0.2 runners. When I had `cache` enabled for a job it **always** restores the cache, even if I remove the cache setting from the job.\r\n\r\nLooks like the runner finds the cache and restores it, no matter what.\r\n\r\nOnly workaround for me: Move the project to a new runner.","state":"closed","created_at":1454976189346,"updated_at":1490193359037,"closed_at":null,"closed_by":null,"labels":["type::bug"],"milestone":{"id":35371,"iid":8,"project_id":250833,"title":"v1.1","description":"","state":"closed","created_at":"2015-12-14T15:03:49.680Z","updated_at":"2016-08-08T10:03:13.906Z","due_date":"2016-03-07","start_date":null,"expired":true,"web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-runner\/-\/milestones\/8"},"assignees":[{"id":12452,"username":"ayufan","name":"Kamil Trzci\u0144ski","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/7a285e30f35d72526fb0954e8fe7cefa?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/ayufan"}],"author":{"id":171002,"username":"t-munk","name":"Tobias Munk","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/9dd30558d5ef44388bd5325c11734fd0?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/t-munk"},"type":"ISSUE","assignee":{"id":12452,"username":"ayufan","name":"Kamil Trzci\u0144ski","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/7a285e30f35d72526fb0954e8fe7cefa?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/ayufan"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-runner\/-\/issues\/1069","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/250833\/issues\/1069","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/250833\/issues\/1069\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/250833\/issues\/1069\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/250833","closed_as_duplicate_of":null},"references":{"short":"#1069","relative":"#1069","full":"gitlab-org\/gitlab-runner#1069"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":675385,"iid":281,"project_id":250833,"title":"When to use register, verify, restart, and install","description":"If I make changes to `\/etc\/gitlab-runner\/config.toml` what do I need to do to make sure the runner\r\npicks up these changes?\r\n\r\nAlso, the first time I start the runner, do I just need to use `gitlab-ci-multi-runner register -c \/etc\/gitlab-runner\/config.toml`?","state":"closed","created_at":1447610887441,"updated_at":1580399485016,"closed_at":1532496007386,"closed_by":{"id":1786152,"username":"gitlab-bot","name":"\ud83e\udd16 GitLab Bot \ud83e\udd16","state":"active","avatar_url":"https:\/\/gitlab.com\/uploads\/-\/system\/user\/avatar\/1786152\/avatar.png","web_url":"https:\/\/gitlab.com\/gitlab-bot"},"labels":["auto closed","auto updated","awaiting feedback","configuration files","documentation"],"milestone":null,"assignees":[],"author":{"id":173953,"username":"saulshanabrook","name":"Saul Shanabrook","state":"active","avatar_url":"https:\/\/secure.gravatar.com\/avatar\/639864af1118b200b9de3765c2daa651?s=80&d=identicon","web_url":"https:\/\/gitlab.com\/saulshanabrook"},"type":"ISSUE","assignee":null,"user_notes_count":9,"merge_requests_count":0,"upvotes":8,"downvotes":1,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https:\/\/gitlab.com\/gitlab-org\/gitlab-runner\/-\/issues\/281","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https:\/\/gitlab.com\/api\/v4\/projects\/250833\/issues\/281","notes":"https:\/\/gitlab.com\/api\/v4\/projects\/250833\/issues\/281\/notes","award_emoji":"https:\/\/gitlab.com\/api\/v4\/projects\/250833\/issues\/281\/award_emoji","project":"https:\/\/gitlab.com\/api\/v4\/projects\/250833","closed_as_duplicate_of":null},"references":{"short":"#281","relative":"#281","full":"gitlab-org\/gitlab-runner#281"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null}]