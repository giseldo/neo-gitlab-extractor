[{"id":110783356,"iid":1863,"project_id":12584701,"title":"Support SGDbOps tolerations on the web console","description":"When #1707 is done, the web console should support for setting up SGDbOps tolerations.\n\n**Acceptance Criteria:**\n\n* [x] Support adding tolerations to any type of SGDbOps on the web console.\n* [x] List the toleration info on the op summary\n* [x] List the toleration info on the op details\n* [x] Test the implementation","state":"closed","created_at":"2022-06-27T17:07:00.301Z","updated_at":"2022-07-11T11:03:46.347Z","closed_at":"2022-07-08T12:03:32.118Z","closed_by":{"id":4461750,"username":"ldgarcia","name":"Luis Garcia","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4461750/avatar.png","web_url":"https://gitlab.com/ldgarcia"},"labels":["Feature Request","StackGres","target_version::1.3.0-beta1","team::UI","workflow::In Review"],"milestone":{"id":2574404,"iid":18,"group_id":3102997,"title":"StackGres 1.3.0-beta1","description":"Codename \"**BYOPE: Bring your own Postgres extension**\"","state":"active","created_at":"2022-04-21T08:27:13.726Z","updated_at":"2022-10-18T07:34:00.411Z","due_date":"2022-07-27","start_date":"2022-05-17","expired":true,"web_url":"https://gitlab.com/groups/ongresinc/-/milestones/18"},"assignees":[{"id":3344912,"username":"osaletsk","name":"Olesya Saletska","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3344912/avatar.png","web_url":"https://gitlab.com/osaletsk"}],"author":{"id":4461750,"username":"ldgarcia","name":"Luis Garcia","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4461750/avatar.png","web_url":"https://gitlab.com/ldgarcia"},"type":"ISSUE","assignee":{"id":3344912,"username":"osaletsk","name":"Olesya Saletska","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3344912/avatar.png","web_url":"https://gitlab.com/osaletsk"},"user_notes_count":2,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/ongresinc/stackgres/-/issues/1863","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":4},"weight":12,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/12584701/issues/1863","notes":"https://gitlab.com/api/v4/projects/12584701/issues/1863/notes","award_emoji":"https://gitlab.com/api/v4/projects/12584701/issues/1863/award_emoji","project":"https://gitlab.com/api/v4/projects/12584701","closed_as_duplicate_of":null},"references":{"short":"#1863","relative":"#1863","full":"ongresinc/stackgres#1863"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":36,"epic":{"id":540857,"iid":36,"title":"[StackGres][UI]Support for backend features","url":"/groups/ongresinc/-/epics/36","group_id":3102997,"human_readable_end_date":"Aug 31, 2023","human_readable_timestamp":"\u003cstrong\u003e4\u003c/strong\u003e months remaining"},"iteration":{"id":55724,"iid":29,"sequence":29,"group_id":3102997,"title":"SG1.3-BETA1","description":"","state":3,"created_at":"2022-05-11T16:32:13.590Z","updated_at":"2022-07-02T00:05:02.185Z","start_date":"2022-05-15","due_date":"2022-07-01","web_url":"https://gitlab.com/groups/ongresinc/-/iterations/55724"},"health_status":null},{"id":110756642,"iid":1860,"project_id":12584701,"title":"Change backup ConrJob concurrencyPolicy to Forbid","description":"When the automatic backup scheduling is too aggressive the backup Job are created in parallel. There is not really a good reason to run backups in parallel so we should avoid that.\n\n## Implementation plan\n\nChange CronJob field `.spec.concurrencyPolicy` to `Forbid`\n\n## Acceptance Criteria\n\n* [ ] Implement the change\n* [ ] Tests","state":"closed","created_at":"2022-06-27T09:56:10.017Z","updated_at":"2022-08-22T09:18:04.713Z","closed_at":"2022-07-29T17:34:08.916Z","closed_by":{"id":2650051,"username":"jorsol","name":"Jorge Solórzano","state":"active","avatar_url":"https://secure.gravatar.com/avatar/1aa38ab39a9a9e7ada1e8ea86442debe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jorsol"},"labels":["Security Feature","StackGres","priority::P1","target_version::1.3.0","team::DEV","workflow::In Review"],"milestone":{"id":2712673,"iid":19,"group_id":3102997,"title":"StackGres 1.3.0","description":"","state":"active","created_at":"2022-07-26T11:10:26.597Z","updated_at":"2022-10-18T07:38:00.783Z","due_date":"2022-08-23","start_date":"2022-07-17","expired":true,"web_url":"https://gitlab.com/groups/ongresinc/-/milestones/19"},"assignees":[{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"}],"author":{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"},"type":"ISSUE","assignee":{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/ongresinc/stackgres/-/issues/1860","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":8,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/12584701/issues/1860","notes":"https://gitlab.com/api/v4/projects/12584701/issues/1860/notes","award_emoji":"https://gitlab.com/api/v4/projects/12584701/issues/1860/award_emoji","project":"https://gitlab.com/api/v4/projects/12584701","closed_as_duplicate_of":null},"references":{"short":"#1860","relative":"#1860","full":"ongresinc/stackgres#1860"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110508474,"iid":1854,"project_id":12584701,"title":"Support OIDC Auth for the AdminUI","description":"\u003c!--\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"Feature Request\" label.\n\nIssue tracker:\n\n- https://gitlab.com/ongresinc/stackgres/-/issues?label_name=Feature%20Request \nand verify the issue you're about to submit isn't a duplicate.\n--\u003e\n\n### Problem to solve\n\nWe would like to use KeyCloak as an OIDC provider for Web Console Auth\n\n### Further details\n\nContext: https://stackgres.slack.com/archives/C014UGLAD9R/p1655845008957569\n\nWe are wanting to avoid using Kubernetes Secrets to enable auth to the web console. Being able to leverage an OIDC provider, in our case KeyCloak, would be killer.\n\n### Proposal\n\n\u003c!-- How could we going to solve the problem? --\u003e\n\n### Testing\n\n\u003c!-- What risks does this change pose? How might it affect the quality of the product?  --\u003e\n\n\n## Acceptance Criteria\n\u003c!-- Acceptance Criteria, Definition of Done, describe the expected output --\u003e\n\n\n### Links / references","state":"closed","created_at":"2022-06-21T21:18:36.954Z","updated_at":"2022-08-01T11:50:38.808Z","closed_at":"2022-07-27T14:14:31.184Z","closed_by":{"id":2650051,"username":"jorsol","name":"Jorge Solórzano","state":"active","avatar_url":"https://secure.gravatar.com/avatar/1aa38ab39a9a9e7ada1e8ea86442debe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jorsol"},"labels":["StackGres","priority::P1","team::DEV","week-6","workflow::In Review"],"milestone":{"id":2574404,"iid":18,"group_id":3102997,"title":"StackGres 1.3.0-beta1","description":"Codename \"**BYOPE: Bring your own Postgres extension**\"","state":"active","created_at":"2022-04-21T08:27:13.726Z","updated_at":"2022-10-18T07:34:00.411Z","due_date":"2022-07-27","start_date":"2022-05-17","expired":true,"web_url":"https://gitlab.com/groups/ongresinc/-/milestones/18"},"assignees":[{"id":2650051,"username":"jorsol","name":"Jorge Solórzano","state":"active","avatar_url":"https://secure.gravatar.com/avatar/1aa38ab39a9a9e7ada1e8ea86442debe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jorsol"}],"author":{"id":606068,"username":"pobrien","name":"Patrick O'Brien","state":"active","avatar_url":"https://secure.gravatar.com/avatar/603c4e46fcf8eda14141f1b86697effe?s=80\u0026d=identicon","web_url":"https://gitlab.com/pobrien"},"type":"ISSUE","assignee":{"id":2650051,"username":"jorsol","name":"Jorge Solórzano","state":"active","avatar_url":"https://secure.gravatar.com/avatar/1aa38ab39a9a9e7ada1e8ea86442debe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jorsol"},"user_notes_count":7,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/ongresinc/stackgres/-/issues/1854","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":40,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12584701/issues/1854","notes":"https://gitlab.com/api/v4/projects/12584701/issues/1854/notes","award_emoji":"https://gitlab.com/api/v4/projects/12584701/issues/1854/award_emoji","project":"https://gitlab.com/api/v4/projects/12584701","closed_as_duplicate_of":null},"references":{"short":"#1854","relative":"#1854","full":"ongresinc/stackgres#1854"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":110428371,"iid":1853,"project_id":12584701,"title":"Manual backups shouldnt delete the job when done","description":"Backups started from the SGBackupConfig ( aka automatic backups ) don't clean the Job when completed, so logs can be reviewed afterwards, when starting a backup from the UI ( aka Manual backups ) the job is cleaned when the backup is completed, that is very annoying, the only way is to get the logs is to wait for them in real time, not a good option if the process takes long, much better to simply not clean job, so log can be reviewed later..","state":"closed","created_at":"2022-06-20T15:55:29.889Z","updated_at":"2022-07-01T11:52:36.495Z","closed_at":"2022-07-01T11:52:36.476Z","closed_by":{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"},"labels":["Feature Request","Security Feature","priority::P1","target_version::1.2.1","team::DEV","workflow::In Review"],"milestone":{"id":1173337,"iid":8,"group_id":3102997,"title":"StackGres 1.2","description":"Codename \"**Always win by not losing even a bit!**\"","state":"active","created_at":"2020-02-28T12:35:42.962Z","updated_at":"2022-06-20T10:51:50.965Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/ongresinc/-/milestones/8"},"assignees":[{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"}],"author":{"id":8699009,"username":"IJOL","name":"IJOL","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbb2a9166bf303a05de87cddfb6c813a?s=80\u0026d=identicon","web_url":"https://gitlab.com/IJOL"},"type":"ISSUE","assignee":{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"},"user_notes_count":0,"merge_requests_count":2,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/ongresinc/stackgres/-/issues/1853","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12584701/issues/1853","notes":"https://gitlab.com/api/v4/projects/12584701/issues/1853/notes","award_emoji":"https://gitlab.com/api/v4/projects/12584701/issues/1853/award_emoji","project":"https://gitlab.com/api/v4/projects/12584701","closed_as_duplicate_of":null},"references":{"short":"#1853","relative":"#1853","full":"ongresinc/stackgres#1853"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":{"id":55724,"iid":29,"sequence":29,"group_id":3102997,"title":"SG1.3-BETA1","description":"","state":3,"created_at":"2022-05-11T16:32:13.590Z","updated_at":"2022-07-02T00:05:02.185Z","start_date":"2022-05-15","due_date":"2022-07-01","web_url":"https://gitlab.com/groups/ongresinc/-/iterations/55724"},"health_status":null},{"id":110424243,"iid":1851,"project_id":12584701,"title":"Edit SGPostgresConfig form should only list custom parameters","description":"### Summary\n\nWhen editing an SGPostgresConfig from the web console, the form shows all the parameters on the configuration, including the default values which have not been set by the user, but by StackGres.\n\n![image](/uploads/ed367bd9779c447502e6d4e29289b0a2/image.png)\n\n\n### Expected Behaviour\n\nThe form should only list parameters which have been explicitly set by the user.\n\n\n- StackGres version: `1.2.0`","state":"closed","created_at":"2022-06-20T15:07:50.622Z","updated_at":"2023-03-13T16:15:00.759Z","closed_at":"2023-03-06T16:21:00.148Z","closed_by":{"id":4461750,"username":"ldgarcia","name":"Luis Garcia","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4461750/avatar.png","web_url":"https://gitlab.com/ldgarcia"},"labels":["Feature Request","StackGres","priority::P1","target_version::1.5.0-beta1","team::UI","workflow::In Review"],"milestone":{"id":2862339,"iid":26,"group_id":3102997,"title":"StackGres 1.5.0-beta1","description":"","state":"closed","created_at":"2022-11-07T12:56:24.317Z","updated_at":"2023-04-10T09:22:14.974Z","due_date":"2023-03-28","start_date":"2022-11-14","expired":true,"web_url":"https://gitlab.com/groups/ongresinc/-/milestones/26"},"assignees":[{"id":3344912,"username":"osaletsk","name":"Olesya Saletska","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3344912/avatar.png","web_url":"https://gitlab.com/osaletsk"}],"author":{"id":4461750,"username":"ldgarcia","name":"Luis Garcia","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4461750/avatar.png","web_url":"https://gitlab.com/ldgarcia"},"type":"ISSUE","assignee":{"id":3344912,"username":"osaletsk","name":"Olesya Saletska","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3344912/avatar.png","web_url":"https://gitlab.com/osaletsk"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/ongresinc/stackgres/-/issues/1851","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":12,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12584701/issues/1851","notes":"https://gitlab.com/api/v4/projects/12584701/issues/1851/notes","award_emoji":"https://gitlab.com/api/v4/projects/12584701/issues/1851/award_emoji","project":"https://gitlab.com/api/v4/projects/12584701","closed_as_duplicate_of":null},"references":{"short":"#1851","relative":"#1851","full":"ongresinc/stackgres#1851"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":37,"epic":{"id":540872,"iid":37,"title":"[StackGres][UI] UI native features","url":"/groups/ongresinc/-/epics/37","group_id":3102997,"human_readable_end_date":"May 8, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":{"id":55724,"iid":29,"sequence":29,"group_id":3102997,"title":"SG1.3-BETA1","description":"","state":3,"created_at":"2022-05-11T16:32:13.590Z","updated_at":"2022-07-02T00:05:02.185Z","start_date":"2022-05-15","due_date":"2022-07-01","web_url":"https://gitlab.com/groups/ongresinc/-/iterations/55724"},"health_status":null},{"id":110252827,"iid":1846,"project_id":12584701,"title":"Simplify action buttons names on CRD Details","description":"### Summary\nCRDs Details views have a row of action buttons: `Edit`, `Clone`, and `Delete`. All those buttons are followed by the CRD Kind. This makes the actions section very verbose, specially on the Configurations:\n- `Edit Configuration`\n- `Clone Configuration`\n- `Delete Configuration`\n\nSince there are more action items on that same row, we should simplify the naming of these buttons. We propose removing the CRD Kind and leave just the action itself: `Edit`, `Clone`, and `Delete`.\n\nFurthermore, on the Cluster Details view, the `Clone` button is actually named `Clone Cluster Configuration`. We propose renaming it to just `Clone`, because:\n1. When the User clicks on `Clone Cluster Configuration`, a warning appears explaining that what's being cloned is the Cluster Configuration.\n2. On the List views, all `Clone` icons are identical for all Kinds, and this has never felt misleading.\n\n### Environment\n- StackGres version: 1\\.2.0\n\n### Relevant logs and/or screenshots\n![Screenshot_2022-06-16_at_18.51.41](/uploads/19e91e1cec8197d0305f4c6999e7581e/Screenshot_2022-06-16_at_18.51.41.png)\n![Screenshot_2022-06-16_at_18.51.49](/uploads/ac3743bc296cebe7d174f05abc79bdf0/Screenshot_2022-06-16_at_18.51.49.png)","state":"closed","created_at":"2022-06-16T17:10:07.653Z","updated_at":"2022-07-11T11:03:06.998Z","closed_at":"2022-06-30T11:33:41.176Z","closed_by":{"id":3344912,"username":"osaletsk","name":"Olesya Saletska","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3344912/avatar.png","web_url":"https://gitlab.com/osaletsk"},"labels":["Bug","StackGres","priority::P1","target_version::1.3.0-beta1","team::UI","workflow::In Review"],"milestone":{"id":2574404,"iid":18,"group_id":3102997,"title":"StackGres 1.3.0-beta1","description":"Codename \"**BYOPE: Bring your own Postgres extension**\"","state":"active","created_at":"2022-04-21T08:27:13.726Z","updated_at":"2022-10-18T07:34:00.411Z","due_date":"2022-07-27","start_date":"2022-05-17","expired":true,"web_url":"https://gitlab.com/groups/ongresinc/-/milestones/18"},"assignees":[{"id":3344912,"username":"osaletsk","name":"Olesya Saletska","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3344912/avatar.png","web_url":"https://gitlab.com/osaletsk"}],"author":{"id":3344912,"username":"osaletsk","name":"Olesya Saletska","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3344912/avatar.png","web_url":"https://gitlab.com/osaletsk"},"type":"ISSUE","assignee":{"id":3344912,"username":"osaletsk","name":"Olesya Saletska","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3344912/avatar.png","web_url":"https://gitlab.com/osaletsk"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/ongresinc/stackgres/-/issues/1846","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12584701/issues/1846","notes":"https://gitlab.com/api/v4/projects/12584701/issues/1846/notes","award_emoji":"https://gitlab.com/api/v4/projects/12584701/issues/1846/award_emoji","project":"https://gitlab.com/api/v4/projects/12584701","closed_as_duplicate_of":null},"references":{"short":"#1846","relative":"#1846","full":"ongresinc/stackgres#1846"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":26,"epic":{"id":534991,"iid":26,"title":"[StackGres][UI] Bugs","url":"/groups/ongresinc/-/epics/26","group_id":3102997,"human_readable_end_date":"May 8, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":{"id":55724,"iid":29,"sequence":29,"group_id":3102997,"title":"SG1.3-BETA1","description":"","state":3,"created_at":"2022-05-11T16:32:13.590Z","updated_at":"2022-07-02T00:05:02.185Z","start_date":"2022-05-15","due_date":"2022-07-01","web_url":"https://gitlab.com/groups/ongresinc/-/iterations/55724"},"health_status":null},{"id":110251894,"iid":1845,"project_id":12584701,"title":"Add button to go back to List view on Cluster Details","description":"### Summary\nCRDs Details on the Web Console include a button to go back to the full List of resources of the same kind. This button exists on all CRDs except the Cluster. \n\n### Environment\n- StackGres version: 1\\.2.0","state":"closed","created_at":"2022-06-16T16:45:05.621Z","updated_at":"2022-07-11T11:03:28.632Z","closed_at":"2022-07-04T10:40:13.703Z","closed_by":{"id":3344912,"username":"osaletsk","name":"Olesya Saletska","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3344912/avatar.png","web_url":"https://gitlab.com/osaletsk"},"labels":["Bug","StackGres","priority::P1","target_version::1.3.0-beta1","team::UI","workflow::In Review"],"milestone":{"id":2574404,"iid":18,"group_id":3102997,"title":"StackGres 1.3.0-beta1","description":"Codename \"**BYOPE: Bring your own Postgres extension**\"","state":"active","created_at":"2022-04-21T08:27:13.726Z","updated_at":"2022-10-18T07:34:00.411Z","due_date":"2022-07-27","start_date":"2022-05-17","expired":true,"web_url":"https://gitlab.com/groups/ongresinc/-/milestones/18"},"assignees":[{"id":3344912,"username":"osaletsk","name":"Olesya Saletska","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3344912/avatar.png","web_url":"https://gitlab.com/osaletsk"}],"author":{"id":3344912,"username":"osaletsk","name":"Olesya Saletska","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3344912/avatar.png","web_url":"https://gitlab.com/osaletsk"},"type":"ISSUE","assignee":{"id":3344912,"username":"osaletsk","name":"Olesya Saletska","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3344912/avatar.png","web_url":"https://gitlab.com/osaletsk"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/ongresinc/stackgres/-/issues/1845","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12584701/issues/1845","notes":"https://gitlab.com/api/v4/projects/12584701/issues/1845/notes","award_emoji":"https://gitlab.com/api/v4/projects/12584701/issues/1845/award_emoji","project":"https://gitlab.com/api/v4/projects/12584701","closed_as_duplicate_of":null},"references":{"short":"#1845","relative":"#1845","full":"ongresinc/stackgres#1845"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":26,"epic":{"id":534991,"iid":26,"title":"[StackGres][UI] Bugs","url":"/groups/ongresinc/-/epics/26","group_id":3102997,"human_readable_end_date":"May 8, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":{"id":55724,"iid":29,"sequence":29,"group_id":3102997,"title":"SG1.3-BETA1","description":"","state":3,"created_at":"2022-05-11T16:32:13.590Z","updated_at":"2022-07-02T00:05:02.185Z","start_date":"2022-05-15","due_date":"2022-07-01","web_url":"https://gitlab.com/groups/ongresinc/-/iterations/55724"},"health_status":null},{"id":110247195,"iid":1844,"project_id":12584701,"title":"Pods can't start in Namespaces with Resource Quotas","description":"\u003c!--\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"Bug\" label.\n\nIssue tracker:\n\n- https://gitlab.com/ongresinc/stackgres/-/issues?label_name=Bug\n\nand verify the issue you're about to submit isn't a duplicate.\n--\u003e\n### Summary\n\nIn Namespaces with ResourceQuotas assigned, the StatefulSet cannot start pods because not all containers have requests and limits set.\n\n### Current Behaviour \n\nPods fail to create because not all containers have requests and limits set.\n\n#### Steps to reproduce\n\n1. Create a Namespace\n2. Create a ResourceQuota\n\n```yaml\n\napiVersion: v1\nkind: ResourceQuota\nmetadata:\n  labels:\n    app.kubernetes.io/instance: ttd-namespaces\n  name: kpop-test-quota\n  namespace: kpop-test\nspec:\n  hard:\n    limits.cpu: 2\n    limits.memory: 4Gi\n    requests.cpu: 1\n    requests.memory: 2Gi\n```\n\n3. Create a Cluster\n4. Inspect the StatefulSet\n\n### Expected Behaviour\n\nThe pods should be able to be scheduled.\n\n### Possible Solution\n\nAll containers (including initContainers) should have requests and limits set.\n\n### Environment\n\n- StackGres version:\n\u003c!-- if you have used helm, you can use:  `helm get notes -n stackgres stackgres-operator` \nmore generic: `kubectl get deployments -n stackgres stackgres-operator --template '{{ printf \"%s\\n\" (index .spec.template.spec.containers 0).image }}'`\n--\u003e\n- Kubernetes version: 1.19-1.21\n- Cloud provider or hardware configuration: EKS\n\n\n### Relevant logs and/or screenshots\n\n```\n  Warning  FailedCreate  4s (x104 over 42h)  statefulset-controller  create Pod pobrien-test-0 in StatefulSet pobrien-test failed error: pods \"pobrien-test-0\" is forbidden: failed quota: kpop-test-quota: must specify limits.cpu,limits.memory,requests.cpu,requests.memory\n```","state":"closed","created_at":"2022-06-16T15:12:09.408Z","updated_at":"2022-07-12T16:13:17.026Z","closed_at":"2022-07-12T16:13:16.981Z","closed_by":{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"},"labels":["Security Feature","StackGres","priority::P1","target_version::1.3.0-beta1","team::DEV","week-5","week-6","workflow::In Progress"],"milestone":{"id":2574404,"iid":18,"group_id":3102997,"title":"StackGres 1.3.0-beta1","description":"Codename \"**BYOPE: Bring your own Postgres extension**\"","state":"active","created_at":"2022-04-21T08:27:13.726Z","updated_at":"2022-10-18T07:34:00.411Z","due_date":"2022-07-27","start_date":"2022-05-17","expired":true,"web_url":"https://gitlab.com/groups/ongresinc/-/milestones/18"},"assignees":[{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"}],"author":{"id":606068,"username":"pobrien","name":"Patrick O'Brien","state":"active","avatar_url":"https://secure.gravatar.com/avatar/603c4e46fcf8eda14141f1b86697effe?s=80\u0026d=identicon","web_url":"https://gitlab.com/pobrien"},"type":"ISSUE","assignee":{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"},"user_notes_count":3,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/ongresinc/stackgres/-/issues/1844","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":8,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12584701/issues/1844","notes":"https://gitlab.com/api/v4/projects/12584701/issues/1844/notes","award_emoji":"https://gitlab.com/api/v4/projects/12584701/issues/1844/award_emoji","project":"https://gitlab.com/api/v4/projects/12584701","closed_as_duplicate_of":null},"references":{"short":"#1844","relative":"#1844","full":"ongresinc/stackgres#1844"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":{"id":55724,"iid":29,"sequence":29,"group_id":3102997,"title":"SG1.3-BETA1","description":"","state":3,"created_at":"2022-05-11T16:32:13.590Z","updated_at":"2022-07-02T00:05:02.185Z","start_date":"2022-05-15","due_date":"2022-07-01","web_url":"https://gitlab.com/groups/ongresinc/-/iterations/55724"},"health_status":null},{"id":110244908,"iid":1843,"project_id":12584701,"title":"Add in the UI support to the new minor PG version 14.4","description":"We need to add support to a new minor version. PostgreSQL version 14.4.\n\nWe need also to add an expressive warning for each minor previous release in the 14 major. The reason is that this minor versions could generate a data corruption and different bugs that are fixed and we should be clear that is dangerous.\n\nAcceptance criteria:\n- [x] Add the support to the new minor release.\n- [x] Create the Warning messages for the UI.","state":"closed","created_at":"2022-06-16T14:31:18.795Z","updated_at":"2023-01-18T06:06:38.023Z","closed_at":"2023-01-17T14:57:01.697Z","closed_by":{"id":4461750,"username":"ldgarcia","name":"Luis Garcia","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4461750/avatar.png","web_url":"https://gitlab.com/ldgarcia"},"labels":["StackGres","priority::P1","target_version::1.5.0-beta1","team::UI","workflow::In Progress"],"milestone":{"id":2862339,"iid":26,"group_id":3102997,"title":"StackGres 1.5.0-beta1","description":"","state":"closed","created_at":"2022-11-07T12:56:24.317Z","updated_at":"2023-04-10T09:22:14.974Z","due_date":"2023-03-28","start_date":"2022-11-14","expired":true,"web_url":"https://gitlab.com/groups/ongresinc/-/milestones/26"},"assignees":[{"id":4461750,"username":"ldgarcia","name":"Luis Garcia","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4461750/avatar.png","web_url":"https://gitlab.com/ldgarcia"}],"author":{"id":11413385,"username":"jose_oss_pg","name":"Jose OSS","state":"active","avatar_url":"https://secure.gravatar.com/avatar/78f8fd6c4000e196bfc0de8432f5fed5?s=80\u0026d=identicon","web_url":"https://gitlab.com/jose_oss_pg"},"type":"ISSUE","assignee":{"id":4461750,"username":"ldgarcia","name":"Luis Garcia","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4461750/avatar.png","web_url":"https://gitlab.com/ldgarcia"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/ongresinc/stackgres/-/issues/1843","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":2},"weight":4,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/12584701/issues/1843","notes":"https://gitlab.com/api/v4/projects/12584701/issues/1843/notes","award_emoji":"https://gitlab.com/api/v4/projects/12584701/issues/1843/award_emoji","project":"https://gitlab.com/api/v4/projects/12584701","closed_as_duplicate_of":null},"references":{"short":"#1843","relative":"#1843","full":"ongresinc/stackgres#1843"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":38,"epic":{"id":540881,"iid":38,"title":"[StackGres][UI]Documentation","url":"/groups/ongresinc/-/epics/38","group_id":3102997,"human_readable_end_date":"May 8, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":{"id":55724,"iid":29,"sequence":29,"group_id":3102997,"title":"SG1.3-BETA1","description":"","state":3,"created_at":"2022-05-11T16:32:13.590Z","updated_at":"2022-07-02T00:05:02.185Z","start_date":"2022-05-15","due_date":"2022-07-01","web_url":"https://gitlab.com/groups/ongresinc/-/iterations/55724"},"health_status":null},{"id":110196135,"iid":1841,"project_id":12584701,"title":"Support cert-manager Certificates for the Stackgres Operator","description":"\u003c!--\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"Feature Request\" label.\n\nIssue tracker:\n\n- https://gitlab.com/ongresinc/stackgres/-/issues?label_name=Feature%20Request \nand verify the issue you're about to submit isn't a duplicate.\n--\u003e\n\n### Problem to solve\n\nWe would like to use [cert-manager](https://cert-manager.io/) issued TLS certificates instead of passing our own in via values.yaml or using a self-signed certificate.\n\n### Further details\n\nThis would considerably ease Operations on our side as we already have a working cert-manager installation in all of our clusters.\n\n### Proposal\n\nI think the first step would be to generate the self-signed certificates as a `kubernetes.io/tls` Secret that matches the format that cert-manager creates:\n\n```\napiVersion: v1\ndata:\n  ca.crt: \u003cca-cert\u003e\n  tls.crt: \u003ctls-cert\u003e\n  tls.key: \u003ctls-key\u003e\nkind: Secret\nmetadata:\n  annotations:\n  name: test-tls-cert\n  namespace: test\ntype: kubernetes.io/tls\n```\n\nAfter that I believe we would want a flag in values.yaml that would allow us to easily turn off cert generation:\n\n```\ncert:\n  auto_generate: true\n```\n\nI think we would also probably want to be able to name the Secret that would get volume mounted?\n\nIf you know of a workaround here I am all ears. I searched through the docs and Issues and couldn't find anything relevant.\n\n### Testing\n\n\u003c!-- What risks does this change pose? How might it affect the quality of the product?  --\u003e\n\n\n## Acceptance Criteria\n\n* [x] Allow to use an already existent secrets for both operator and REST API\n* [x] Add a flag in order to create cert manager custom resources that allow to create the operator secret automatically\n* [x] Tests\n### Links / references","state":"closed","created_at":"2022-06-15T21:32:03.094Z","updated_at":"2023-01-27T13:20:20.656Z","closed_at":"2022-07-07T22:30:21.811Z","closed_by":{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"},"labels":["Feature Request","StackGres","priority::P1","target_version::1.3.0-beta1","team::DEV","week-5","week-6","workflow::In Review"],"milestone":{"id":2574404,"iid":18,"group_id":3102997,"title":"StackGres 1.3.0-beta1","description":"Codename \"**BYOPE: Bring your own Postgres extension**\"","state":"active","created_at":"2022-04-21T08:27:13.726Z","updated_at":"2022-10-18T07:34:00.411Z","due_date":"2022-07-27","start_date":"2022-05-17","expired":true,"web_url":"https://gitlab.com/groups/ongresinc/-/milestones/18"},"assignees":[{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"}],"author":{"id":606068,"username":"pobrien","name":"Patrick O'Brien","state":"active","avatar_url":"https://secure.gravatar.com/avatar/603c4e46fcf8eda14141f1b86697effe?s=80\u0026d=identicon","web_url":"https://gitlab.com/pobrien"},"type":"ISSUE","assignee":{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"},"user_notes_count":4,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/ongresinc/stackgres/-/issues/1841","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":16,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/12584701/issues/1841","notes":"https://gitlab.com/api/v4/projects/12584701/issues/1841/notes","award_emoji":"https://gitlab.com/api/v4/projects/12584701/issues/1841/award_emoji","project":"https://gitlab.com/api/v4/projects/12584701","closed_as_duplicate_of":null},"references":{"short":"#1841","relative":"#1841","full":"ongresinc/stackgres#1841"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":{"id":55724,"iid":29,"sequence":29,"group_id":3102997,"title":"SG1.3-BETA1","description":"","state":3,"created_at":"2022-05-11T16:32:13.590Z","updated_at":"2022-07-02T00:05:02.185Z","start_date":"2022-05-15","due_date":"2022-07-01","web_url":"https://gitlab.com/groups/ongresinc/-/iterations/55724"},"health_status":null},{"id":110108366,"iid":1839,"project_id":12584701,"title":"Cluster bootstrap completed event is updated continuously","description":"### Summary\n\nCluster bootstrap completed event is updated continuously.\n\n```\nNormal  ClusterBootstrapCompleted    8s (x178 over 28m)  cluster-controller  Cluster bootstrap completed                                                                                              \n```\n\n#### Steps to reproduce\n\n1. Create a cluster\n\n### Expected Behaviour\n\nCluster bootstrap completed event is create once.\n\n### Environment\n\n- StackGres version: 1.2.0\n- Kubernetes version: ?\n- Cloud provider or hardware configuration: ?","state":"closed","created_at":"2022-06-14T16:06:51.483Z","updated_at":"2022-07-22T14:52:42.936Z","closed_at":"2022-07-22T14:38:20.139Z","closed_by":{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"},"labels":["Bug","StackGres","target_version::1.3.0-beta1","team::DEV","workflow::In Progress"],"milestone":{"id":2574404,"iid":18,"group_id":3102997,"title":"StackGres 1.3.0-beta1","description":"Codename \"**BYOPE: Bring your own Postgres extension**\"","state":"active","created_at":"2022-04-21T08:27:13.726Z","updated_at":"2022-10-18T07:34:00.411Z","due_date":"2022-07-27","start_date":"2022-05-17","expired":true,"web_url":"https://gitlab.com/groups/ongresinc/-/milestones/18"},"assignees":[{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"}],"author":{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"},"type":"ISSUE","assignee":{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/ongresinc/stackgres/-/issues/1839","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12584701/issues/1839","notes":"https://gitlab.com/api/v4/projects/12584701/issues/1839/notes","award_emoji":"https://gitlab.com/api/v4/projects/12584701/issues/1839/award_emoji","project":"https://gitlab.com/api/v4/projects/12584701","closed_as_duplicate_of":null},"references":{"short":"#1839","relative":"#1839","full":"ongresinc/stackgres#1839"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":{"id":55724,"iid":29,"sequence":29,"group_id":3102997,"title":"SG1.3-BETA1","description":"","state":3,"created_at":"2022-05-11T16:32:13.590Z","updated_at":"2022-07-02T00:05:02.185Z","start_date":"2022-05-15","due_date":"2022-07-01","web_url":"https://gitlab.com/groups/ongresinc/-/iterations/55724"},"health_status":null},{"id":110099182,"iid":1838,"project_id":12584701,"title":"Resource name not shown on breadcrumbs","description":"### Summary\n\nWhen browsing any resource on the web console, the breadcrumbs do not include the name of the requested resource.\n\n![image](/uploads/487e33bb2206767e8c4f71463a870cbf/image.png)\n\n\n#### Steps to reproduce\n\n- Enter the web console\n- Select any resource and click on its name to see its details\n- On the resource details screen the name is not included on the breadcrumbs\n\n\n\n### Environment\n\n- StackGres version: `1.2.0`","state":"closed","created_at":"2022-06-14T14:02:03.667Z","updated_at":"2022-09-07T11:06:07.604Z","closed_at":"2022-09-05T16:13:19.958Z","closed_by":{"id":3344912,"username":"osaletsk","name":"Olesya Saletska","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3344912/avatar.png","web_url":"https://gitlab.com/osaletsk"},"labels":["Bug","StackGres","priority::P1","target_version::1.4.0-beta1","team::UI","workflow::In Review"],"milestone":{"id":2734475,"iid":20,"group_id":3102997,"title":"StackGres 1.4.0-beta1","description":"","state":"active","created_at":"2022-08-12T08:58:43.213Z","updated_at":"2022-10-03T18:20:42.056Z","due_date":"2022-10-10","start_date":"2022-08-22","expired":true,"web_url":"https://gitlab.com/groups/ongresinc/-/milestones/20"},"assignees":[{"id":4461750,"username":"ldgarcia","name":"Luis Garcia","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4461750/avatar.png","web_url":"https://gitlab.com/ldgarcia"}],"author":{"id":4461750,"username":"ldgarcia","name":"Luis Garcia","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4461750/avatar.png","web_url":"https://gitlab.com/ldgarcia"},"type":"ISSUE","assignee":{"id":4461750,"username":"ldgarcia","name":"Luis Garcia","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4461750/avatar.png","web_url":"https://gitlab.com/ldgarcia"},"user_notes_count":1,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/ongresinc/stackgres/-/issues/1838","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12584701/issues/1838","notes":"https://gitlab.com/api/v4/projects/12584701/issues/1838/notes","award_emoji":"https://gitlab.com/api/v4/projects/12584701/issues/1838/award_emoji","project":"https://gitlab.com/api/v4/projects/12584701","closed_as_duplicate_of":null},"references":{"short":"#1838","relative":"#1838","full":"ongresinc/stackgres#1838"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":26,"epic":{"id":534991,"iid":26,"title":"[StackGres][UI] Bugs","url":"/groups/ongresinc/-/epics/26","group_id":3102997,"human_readable_end_date":"May 8, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":110098121,"iid":1837,"project_id":12584701,"title":"Missing service status on SGCluster and SGDistributedLogs details","description":"### Summary\n\nWhen listing services details for SGClusters and SGDistributedLogs, there's no distinction between enabled and disabled services, which might be misleading.\n\n![image](/uploads/e9519916330549568b0103557933f35f/image.png)\n\n![image](/uploads/73fbf5964287dbb112bbfae355beade4/image.png)\n\n\n#### Steps to reproduce\n\n* Enter the web console\n* Create an SGCluster or an SGDistributedLog disabling either the Primary or Replicas service\n* Enter the resource details\n* The service is shown regardless of its status, but the later is not shown at all\n\n\n### Expected Behaviour\n\nServices statuses should always be shown\n\n\n### Environment\n\n- StackGres version: `1.2.0`","state":"closed","created_at":"2022-06-14T13:52:16.928Z","updated_at":"2022-07-19T15:38:40.695Z","closed_at":"2022-07-19T15:38:40.668Z","closed_by":{"id":3344912,"username":"osaletsk","name":"Olesya Saletska","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3344912/avatar.png","web_url":"https://gitlab.com/osaletsk"},"labels":["Bug","StackGres","priority::P1","target_version::1.3.0-beta1","team::UI","week-2","workflow::In Review"],"milestone":{"id":2574404,"iid":18,"group_id":3102997,"title":"StackGres 1.3.0-beta1","description":"Codename \"**BYOPE: Bring your own Postgres extension**\"","state":"active","created_at":"2022-04-21T08:27:13.726Z","updated_at":"2022-10-18T07:34:00.411Z","due_date":"2022-07-27","start_date":"2022-05-17","expired":true,"web_url":"https://gitlab.com/groups/ongresinc/-/milestones/18"},"assignees":[{"id":3344912,"username":"osaletsk","name":"Olesya Saletska","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3344912/avatar.png","web_url":"https://gitlab.com/osaletsk"}],"author":{"id":4461750,"username":"ldgarcia","name":"Luis Garcia","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4461750/avatar.png","web_url":"https://gitlab.com/ldgarcia"},"type":"ISSUE","assignee":{"id":3344912,"username":"osaletsk","name":"Olesya Saletska","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3344912/avatar.png","web_url":"https://gitlab.com/osaletsk"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/ongresinc/stackgres/-/issues/1837","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12584701/issues/1837","notes":"https://gitlab.com/api/v4/projects/12584701/issues/1837/notes","award_emoji":"https://gitlab.com/api/v4/projects/12584701/issues/1837/award_emoji","project":"https://gitlab.com/api/v4/projects/12584701","closed_as_duplicate_of":null},"references":{"short":"#1837","relative":"#1837","full":"ongresinc/stackgres#1837"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":26,"epic":{"id":534991,"iid":26,"title":"[StackGres][UI] Bugs","url":"/groups/ongresinc/-/epics/26","group_id":3102997,"human_readable_end_date":"May 8, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":{"id":55724,"iid":29,"sequence":29,"group_id":3102997,"title":"SG1.3-BETA1","description":"","state":3,"created_at":"2022-05-11T16:32:13.590Z","updated_at":"2022-07-02T00:05:02.185Z","start_date":"2022-05-15","due_date":"2022-07-01","web_url":"https://gitlab.com/groups/ongresinc/-/iterations/55724"},"health_status":null},{"id":110036659,"iid":1836,"project_id":12584701,"title":"Change text of Close Details button","description":"### Summary\nOn the web console, CRD details sections have a `Close Details` button. The `Close Details` button redirects to the List view of the parent Kind. The text of the button can be misleading, since the User may think it literally closes the details view, in the sense of it redirects back to the previous page. The text of the button should be improved to make it clear it will show the List view of the parent Kind. \n\nText proposal: `Go to [kind] List`\n\n### Environment\n- StackGres version: 1\\.2.0","state":"closed","created_at":"2022-06-13T15:32:04.139Z","updated_at":"2022-07-11T11:03:05.609Z","closed_at":"2022-06-17T08:27:19.327Z","closed_by":{"id":3344912,"username":"osaletsk","name":"Olesya Saletska","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3344912/avatar.png","web_url":"https://gitlab.com/osaletsk"},"labels":["Bug","StackGres","priority::P1","target_version::1.3.0-beta1","team::UI","workflow::In Review"],"milestone":{"id":2574404,"iid":18,"group_id":3102997,"title":"StackGres 1.3.0-beta1","description":"Codename \"**BYOPE: Bring your own Postgres extension**\"","state":"active","created_at":"2022-04-21T08:27:13.726Z","updated_at":"2022-10-18T07:34:00.411Z","due_date":"2022-07-27","start_date":"2022-05-17","expired":true,"web_url":"https://gitlab.com/groups/ongresinc/-/milestones/18"},"assignees":[{"id":3344912,"username":"osaletsk","name":"Olesya Saletska","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3344912/avatar.png","web_url":"https://gitlab.com/osaletsk"}],"author":{"id":3344912,"username":"osaletsk","name":"Olesya Saletska","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3344912/avatar.png","web_url":"https://gitlab.com/osaletsk"},"type":"ISSUE","assignee":{"id":3344912,"username":"osaletsk","name":"Olesya Saletska","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3344912/avatar.png","web_url":"https://gitlab.com/osaletsk"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/ongresinc/stackgres/-/issues/1836","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12584701/issues/1836","notes":"https://gitlab.com/api/v4/projects/12584701/issues/1836/notes","award_emoji":"https://gitlab.com/api/v4/projects/12584701/issues/1836/award_emoji","project":"https://gitlab.com/api/v4/projects/12584701","closed_as_duplicate_of":null},"references":{"short":"#1836","relative":"#1836","full":"ongresinc/stackgres#1836"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":26,"epic":{"id":534991,"iid":26,"title":"[StackGres][UI] Bugs","url":"/groups/ongresinc/-/epics/26","group_id":3102997,"human_readable_end_date":"May 8, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":{"id":55724,"iid":29,"sequence":29,"group_id":3102997,"title":"SG1.3-BETA1","description":"","state":3,"created_at":"2022-05-11T16:32:13.590Z","updated_at":"2022-07-02T00:05:02.185Z","start_date":"2022-05-15","due_date":"2022-07-01","web_url":"https://gitlab.com/groups/ongresinc/-/iterations/55724"},"health_status":null},{"id":110021894,"iid":1835,"project_id":12584701,"title":"Boolean specs in negative should be expressed in positive","description":"### Summary\nOn the web console, there are boolean specs that are expressed in negative (e.g. `Disable Metrics Exporter`, `No Kill Backend`). Some of them are expressed in a 'reverse' manner (in positive, i.e. `Metrics Exporter`), but others are not. All specs expressed in negative should be expressed in positive.\n\n### Environment\n- StackGres version: 1\\.2.0","state":"closed","created_at":"2022-06-13T11:36:22.122Z","updated_at":"2022-07-27T07:12:18.035Z","closed_at":"2022-07-27T07:12:17.886Z","closed_by":{"id":4461750,"username":"ldgarcia","name":"Luis Garcia","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4461750/avatar.png","web_url":"https://gitlab.com/ldgarcia"},"labels":["Bug","StackGres","priority::P1","target_version::1.3.0-beta1","team::UI","workflow::In Review"],"milestone":{"id":2574404,"iid":18,"group_id":3102997,"title":"StackGres 1.3.0-beta1","description":"Codename \"**BYOPE: Bring your own Postgres extension**\"","state":"active","created_at":"2022-04-21T08:27:13.726Z","updated_at":"2022-10-18T07:34:00.411Z","due_date":"2022-07-27","start_date":"2022-05-17","expired":true,"web_url":"https://gitlab.com/groups/ongresinc/-/milestones/18"},"assignees":[{"id":3344912,"username":"osaletsk","name":"Olesya Saletska","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3344912/avatar.png","web_url":"https://gitlab.com/osaletsk"}],"author":{"id":3344912,"username":"osaletsk","name":"Olesya Saletska","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3344912/avatar.png","web_url":"https://gitlab.com/osaletsk"},"type":"ISSUE","assignee":{"id":3344912,"username":"osaletsk","name":"Olesya Saletska","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3344912/avatar.png","web_url":"https://gitlab.com/osaletsk"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/ongresinc/stackgres/-/issues/1835","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":8,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12584701/issues/1835","notes":"https://gitlab.com/api/v4/projects/12584701/issues/1835/notes","award_emoji":"https://gitlab.com/api/v4/projects/12584701/issues/1835/award_emoji","project":"https://gitlab.com/api/v4/projects/12584701","closed_as_duplicate_of":null},"references":{"short":"#1835","relative":"#1835","full":"ongresinc/stackgres#1835"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":26,"epic":{"id":534991,"iid":26,"title":"[StackGres][UI] Bugs","url":"/groups/ongresinc/-/epics/26","group_id":3102997,"human_readable_end_date":"May 8, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":{"id":55724,"iid":29,"sequence":29,"group_id":3102997,"title":"SG1.3-BETA1","description":"","state":3,"created_at":"2022-05-11T16:32:13.590Z","updated_at":"2022-07-02T00:05:02.185Z","start_date":"2022-05-15","due_date":"2022-07-01","web_url":"https://gitlab.com/groups/ongresinc/-/iterations/55724"},"health_status":null},{"id":110021056,"iid":1834,"project_id":12584701,"title":"Wait Timeout on Repack databases appears empty","description":"### Summary\nWhen adding databases to a Repack operation, the `Wait Timeout` field appears empty on all databases after the first one.\n\n#### Steps to reproduce\n1. Go to `Create DbOps` and select `Repack`.\n2. Enable `Database Specific Options`.\n3. Add a new database.\n4. The `Wait Timeout` field of the new database appears empty.\n\n### Expected Behaviour\nThe default value of `Wait Timeout` should be `Inherit from global settings`.\n\n### Environment\n- StackGres version: 1\\.2.0\n\n### Relevant logs and/or screenshots\n![Screenshot_2022-06-13_at_12.30.53](/uploads/49ea9802dab5b558b3c0635e294e665b/Screenshot_2022-06-13_at_12.30.53.png)","state":"closed","created_at":"2022-06-13T11:20:06.336Z","updated_at":"2022-07-20T17:28:21.866Z","closed_at":"2022-07-20T17:28:21.833Z","closed_by":{"id":4461750,"username":"ldgarcia","name":"Luis Garcia","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4461750/avatar.png","web_url":"https://gitlab.com/ldgarcia"},"labels":["Bug","StackGres","priority::P1","target_version::1.3.0-beta1","team::UI","workflow::In Review"],"milestone":{"id":2574404,"iid":18,"group_id":3102997,"title":"StackGres 1.3.0-beta1","description":"Codename \"**BYOPE: Bring your own Postgres extension**\"","state":"active","created_at":"2022-04-21T08:27:13.726Z","updated_at":"2022-10-18T07:34:00.411Z","due_date":"2022-07-27","start_date":"2022-05-17","expired":true,"web_url":"https://gitlab.com/groups/ongresinc/-/milestones/18"},"assignees":[{"id":3344912,"username":"osaletsk","name":"Olesya Saletska","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3344912/avatar.png","web_url":"https://gitlab.com/osaletsk"}],"author":{"id":3344912,"username":"osaletsk","name":"Olesya Saletska","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3344912/avatar.png","web_url":"https://gitlab.com/osaletsk"},"type":"ISSUE","assignee":{"id":3344912,"username":"osaletsk","name":"Olesya Saletska","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3344912/avatar.png","web_url":"https://gitlab.com/osaletsk"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/ongresinc/stackgres/-/issues/1834","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12584701/issues/1834","notes":"https://gitlab.com/api/v4/projects/12584701/issues/1834/notes","award_emoji":"https://gitlab.com/api/v4/projects/12584701/issues/1834/award_emoji","project":"https://gitlab.com/api/v4/projects/12584701","closed_as_duplicate_of":null},"references":{"short":"#1834","relative":"#1834","full":"ongresinc/stackgres#1834"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":26,"epic":{"id":534991,"iid":26,"title":"[StackGres][UI] Bugs","url":"/groups/ongresinc/-/epics/26","group_id":3102997,"human_readable_end_date":"May 8, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":{"id":55724,"iid":29,"sequence":29,"group_id":3102997,"title":"SG1.3-BETA1","description":"","state":3,"created_at":"2022-05-11T16:32:13.590Z","updated_at":"2022-07-02T00:05:02.185Z","start_date":"2022-05-15","due_date":"2022-07-01","web_url":"https://gitlab.com/groups/ongresinc/-/iterations/55724"},"health_status":null},{"id":109930967,"iid":1830,"project_id":12584701,"title":"Fix specs display on details views","description":"### Summary\nSome specs of the details view need to be fixed:\n- Major Version Upgrade details: Backup Path appears even if it has no value.\n- Cluster details: Cluster Pod Anti Affinity only appears if disabled.\n- Logs Server details: Cluster Pod Anti Affinity only appears if disabled. \n\n### Environment\n- StackGres version: 1\\.2.0","state":"closed","created_at":"2022-06-10T15:57:05.338Z","updated_at":"2022-07-11T11:02:49.329Z","closed_at":"2022-06-15T17:01:21.465Z","closed_by":{"id":3344912,"username":"osaletsk","name":"Olesya Saletska","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3344912/avatar.png","web_url":"https://gitlab.com/osaletsk"},"labels":["Bug","StackGres","priority::P1","target_version::1.3.0-beta1","team::UI","workflow::In Review"],"milestone":{"id":2574404,"iid":18,"group_id":3102997,"title":"StackGres 1.3.0-beta1","description":"Codename \"**BYOPE: Bring your own Postgres extension**\"","state":"active","created_at":"2022-04-21T08:27:13.726Z","updated_at":"2022-10-18T07:34:00.411Z","due_date":"2022-07-27","start_date":"2022-05-17","expired":true,"web_url":"https://gitlab.com/groups/ongresinc/-/milestones/18"},"assignees":[{"id":3344912,"username":"osaletsk","name":"Olesya Saletska","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3344912/avatar.png","web_url":"https://gitlab.com/osaletsk"}],"author":{"id":3344912,"username":"osaletsk","name":"Olesya Saletska","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3344912/avatar.png","web_url":"https://gitlab.com/osaletsk"},"type":"ISSUE","assignee":{"id":3344912,"username":"osaletsk","name":"Olesya Saletska","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3344912/avatar.png","web_url":"https://gitlab.com/osaletsk"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/ongresinc/stackgres/-/issues/1830","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12584701/issues/1830","notes":"https://gitlab.com/api/v4/projects/12584701/issues/1830/notes","award_emoji":"https://gitlab.com/api/v4/projects/12584701/issues/1830/award_emoji","project":"https://gitlab.com/api/v4/projects/12584701","closed_as_duplicate_of":null},"references":{"short":"#1830","relative":"#1830","full":"ongresinc/stackgres#1830"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":26,"epic":{"id":534991,"iid":26,"title":"[StackGres][UI] Bugs","url":"/groups/ongresinc/-/epics/26","group_id":3102997,"human_readable_end_date":"May 8, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":{"id":55724,"iid":29,"sequence":29,"group_id":3102997,"title":"SG1.3-BETA1","description":"","state":3,"created_at":"2022-05-11T16:32:13.590Z","updated_at":"2022-07-02T00:05:02.185Z","start_date":"2022-05-15","due_date":"2022-07-01","web_url":"https://gitlab.com/groups/ongresinc/-/iterations/55724"},"health_status":null},{"id":109844025,"iid":1826,"project_id":12584701,"title":"Close Details should return to previous screen","description":"### Summary\n`Close Details` button redirects to the List view of the CRD, instead of showing the previous screen.\n\n\n#### Steps to reproduce\n1. Go to any Cluster Details.\n2. Click on the eye icon of any CRD (e.g. the Instance Profile).\n3. The eye icon opens the Details view of that specific CRD (in this case, the details of the Instance Profile).\n4. Click on `Close Details`.\n5. The User is redirected to the List view of that CRD (in this case, the Instance Profiles List), instead of returning to the previous screen (in this case, Cluster Details).\n\n### Expected Behaviour\nWhen clicked on `Close Details` the details should close and show the previous screen.\n\n### Possible Solution\nMake `Close Details` behave as the `Cancel` button on the forms.\n\n### Environment\n\n- StackGres version: 1\\.2.0","state":"closed","created_at":"2022-06-09T12:13:47.242Z","updated_at":"2022-07-11T11:02:48.085Z","closed_at":"2022-06-13T15:37:57.530Z","closed_by":{"id":3344912,"username":"osaletsk","name":"Olesya Saletska","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3344912/avatar.png","web_url":"https://gitlab.com/osaletsk"},"labels":["Bug","StackGres","priority::P1","target_version::1.3.0-beta1","team::UI","workflow::In Progress"],"milestone":{"id":2574404,"iid":18,"group_id":3102997,"title":"StackGres 1.3.0-beta1","description":"Codename \"**BYOPE: Bring your own Postgres extension**\"","state":"active","created_at":"2022-04-21T08:27:13.726Z","updated_at":"2022-10-18T07:34:00.411Z","due_date":"2022-07-27","start_date":"2022-05-17","expired":true,"web_url":"https://gitlab.com/groups/ongresinc/-/milestones/18"},"assignees":[{"id":3344912,"username":"osaletsk","name":"Olesya Saletska","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3344912/avatar.png","web_url":"https://gitlab.com/osaletsk"}],"author":{"id":3344912,"username":"osaletsk","name":"Olesya Saletska","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3344912/avatar.png","web_url":"https://gitlab.com/osaletsk"},"type":"ISSUE","assignee":{"id":3344912,"username":"osaletsk","name":"Olesya Saletska","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3344912/avatar.png","web_url":"https://gitlab.com/osaletsk"},"user_notes_count":1,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/ongresinc/stackgres/-/issues/1826","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12584701/issues/1826","notes":"https://gitlab.com/api/v4/projects/12584701/issues/1826/notes","award_emoji":"https://gitlab.com/api/v4/projects/12584701/issues/1826/award_emoji","project":"https://gitlab.com/api/v4/projects/12584701","closed_as_duplicate_of":null},"references":{"short":"#1826","relative":"#1826","full":"ongresinc/stackgres#1826"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":26,"epic":{"id":534991,"iid":26,"title":"[StackGres][UI] Bugs","url":"/groups/ongresinc/-/epics/26","group_id":3102997,"human_readable_end_date":"May 8, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":{"id":55724,"iid":29,"sequence":29,"group_id":3102997,"title":"SG1.3-BETA1","description":"","state":3,"created_at":"2022-05-11T16:32:13.590Z","updated_at":"2022-07-02T00:05:02.185Z","start_date":"2022-05-15","due_date":"2022-07-01","web_url":"https://gitlab.com/groups/ongresinc/-/iterations/55724"},"health_status":null},{"id":109653188,"iid":1814,"project_id":12584701,"title":"Support topologySpreadConstraints for SGCluster","description":"### Problem to solve\n\nSupport [`topologySpreadConstraints`](https://kubernetes.io/docs/concepts/workloads/pods/pod-topology-spread-constraints/) in the `SGCluster` custom resource.\n\n### Proposal\n\nProposed section to map to `.spec.template.spec.topologySpreadConstraints` section of generated `StatefulSet`:\n\n```yaml\napiVersion: stackgres.io/v1\nkind: SGCluster\nspec:\n  pods:\n    scheduling:\n      topologySpreadConstraints: [ \u003cobject\u003e ] # the same as https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.22/#topologyspreadconstraint-v1-core\n```\n\n## Acceptance Criteria\n\n* [ ] Implement the change in the SGCluster CRD\n* [ ] Implement the change in the REST API\n* [ ] Tests\n* [ ] Documentation\n\n### Links / references\n\n* https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.22/#topologyspreadconstraint-v1-core","state":"closed","created_at":"2022-06-06T14:24:03.527Z","updated_at":"2022-10-21T08:23:22.395Z","closed_at":"2022-10-20T13:52:05.334Z","closed_by":{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"},"labels":["Feature Request","StackGres","target_version::1.4.0-beta1","team::DEV","workflow::In Progress"],"milestone":{"id":2734475,"iid":20,"group_id":3102997,"title":"StackGres 1.4.0-beta1","description":"","state":"active","created_at":"2022-08-12T08:58:43.213Z","updated_at":"2022-10-03T18:20:42.056Z","due_date":"2022-10-10","start_date":"2022-08-22","expired":true,"web_url":"https://gitlab.com/groups/ongresinc/-/milestones/20"},"assignees":[{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"}],"author":{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"},"type":"ISSUE","assignee":{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"},"user_notes_count":0,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/ongresinc/stackgres/-/issues/1814","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":0},"weight":8,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/12584701/issues/1814","notes":"https://gitlab.com/api/v4/projects/12584701/issues/1814/notes","award_emoji":"https://gitlab.com/api/v4/projects/12584701/issues/1814/award_emoji","project":"https://gitlab.com/api/v4/projects/12584701","closed_as_duplicate_of":null},"references":{"short":"#1814","relative":"#1814","full":"ongresinc/stackgres#1814"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":109648195,"iid":1813,"project_id":12584701,"title":"Remove support for StackGres 1.0","description":"Remove support for StackGres version 1.0. In particular:\n\n* [ ] Remove code that support StackGres version 1.0 in the reconciliation cycle.\n* [ ] Remove code that support StackGres version 1.0 in the webhooks.\n* [ ] Remove code that support StackGres version 1.0 in the E2E tests.\n* [ ] When upgrading the helm chart from StackGres 1.0 an error will be showed and the upgrade must fail.\n* [ ] Upgrading from StackGres 1.0 or any other previous version, including alpha and beta version may be performed if value `forceUpgradeFromUnsupportedVersion` is set to `true`. The message when trying to upgrade from an unsupported version have to mention that it is possible to perform the upgrade using the `forceUpgradeFromUnsupportedVersion` value but has the drawback that the cluster will not be reconciled anymore and some operation may stop working until the user performs a security upgrade database operation.","state":"closed","created_at":"2022-06-06T13:12:52.194Z","updated_at":"2022-07-11T11:03:06.797Z","closed_at":"2022-06-27T18:01:56.429Z","closed_by":{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"},"labels":["StackGres","priority::P1","target_version::1.3.0-beta1","team::DEV","week-3","week-4","workflow::In Review"],"milestone":{"id":2574404,"iid":18,"group_id":3102997,"title":"StackGres 1.3.0-beta1","description":"Codename \"**BYOPE: Bring your own Postgres extension**\"","state":"active","created_at":"2022-04-21T08:27:13.726Z","updated_at":"2022-10-18T07:34:00.411Z","due_date":"2022-07-27","start_date":"2022-05-17","expired":true,"web_url":"https://gitlab.com/groups/ongresinc/-/milestones/18"},"assignees":[{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"}],"author":{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"},"type":"ISSUE","assignee":{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/ongresinc/stackgres/-/issues/1813","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":5,"completed_count":0},"weight":8,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/12584701/issues/1813","notes":"https://gitlab.com/api/v4/projects/12584701/issues/1813/notes","award_emoji":"https://gitlab.com/api/v4/projects/12584701/issues/1813/award_emoji","project":"https://gitlab.com/api/v4/projects/12584701","closed_as_duplicate_of":null},"references":{"short":"#1813","relative":"#1813","full":"ongresinc/stackgres#1813"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":{"id":55724,"iid":29,"sequence":29,"group_id":3102997,"title":"SG1.3-BETA1","description":"","state":3,"created_at":"2022-05-11T16:32:13.590Z","updated_at":"2022-07-02T00:05:02.185Z","start_date":"2022-05-15","due_date":"2022-07-01","web_url":"https://gitlab.com/groups/ongresinc/-/iterations/55724"},"health_status":null},{"id":109645391,"iid":1812,"project_id":12584701,"title":"Unify switches texts on forms","description":"### Summary\nWe should unify switches texts. Right now we use ON/OFF and YES/NO. We should use `ENABLE: YES/NO` in all switches on all forms.\n\n### Environment\n\n- StackGres version: 1\\.2.0\n\n### Relevant logs and/or screenshots\n![image-1](/uploads/181d84bb8c2e7bc362213b976c679f8c/image-1.png)","state":"closed","created_at":"2022-06-06T12:17:57.184Z","updated_at":"2022-09-07T11:06:07.086Z","closed_at":"2022-08-29T16:59:34.785Z","closed_by":{"id":3344912,"username":"osaletsk","name":"Olesya Saletska","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3344912/avatar.png","web_url":"https://gitlab.com/osaletsk"},"labels":["QA","StackGres","priority::P1","target_version::1.3.0-RC1","team::UI","workflow::In Review"],"milestone":{"id":2734475,"iid":20,"group_id":3102997,"title":"StackGres 1.4.0-beta1","description":"","state":"active","created_at":"2022-08-12T08:58:43.213Z","updated_at":"2022-10-03T18:20:42.056Z","due_date":"2022-10-10","start_date":"2022-08-22","expired":true,"web_url":"https://gitlab.com/groups/ongresinc/-/milestones/20"},"assignees":[{"id":3344912,"username":"osaletsk","name":"Olesya Saletska","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3344912/avatar.png","web_url":"https://gitlab.com/osaletsk"}],"author":{"id":3344912,"username":"osaletsk","name":"Olesya Saletska","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3344912/avatar.png","web_url":"https://gitlab.com/osaletsk"},"type":"ISSUE","assignee":{"id":3344912,"username":"osaletsk","name":"Olesya Saletska","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3344912/avatar.png","web_url":"https://gitlab.com/osaletsk"},"user_notes_count":2,"merge_requests_count":2,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/ongresinc/stackgres/-/issues/1812","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":8,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12584701/issues/1812","notes":"https://gitlab.com/api/v4/projects/12584701/issues/1812/notes","award_emoji":"https://gitlab.com/api/v4/projects/12584701/issues/1812/award_emoji","project":"https://gitlab.com/api/v4/projects/12584701","closed_as_duplicate_of":null},"references":{"short":"#1812","relative":"#1812","full":"ongresinc/stackgres#1812"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":26,"epic":{"id":534991,"iid":26,"title":"[StackGres][UI] Bugs","url":"/groups/ongresinc/-/epics/26","group_id":3102997,"human_readable_end_date":"May 8, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":{"id":55724,"iid":29,"sequence":29,"group_id":3102997,"title":"SG1.3-BETA1","description":"","state":3,"created_at":"2022-05-11T16:32:13.590Z","updated_at":"2022-07-02T00:05:02.185Z","start_date":"2022-05-15","due_date":"2022-07-01","web_url":"https://gitlab.com/groups/ongresinc/-/iterations/55724"},"health_status":null},{"id":109641754,"iid":1811,"project_id":12584701,"title":"Namespaces Overview header appears when logged out but won't show on login","description":"### Summary\n\nOn the web console, when users log in successfully, they are taken to the \"Namespaces Overview\" section, but there's no header shown on top of the namespaces' cards.\n\n![image](/uploads/bf7a6c906846650088506e86272fa544/image.png)\n\n\nAlso, once the user has navigated through different sections and goes back to the \"Namespaces Overview\". If the user logs out of the web console, the \"Namespaces Overview\" header still appears on top of the login form.\n\n![image](/uploads/ac61c7ca3d1d73b0e21220ceec010bcc/image.png)\n\n\n\n#### Steps to reproduce\n\n- Login to the web console\n- The \"Namespaces Overview\" section loads with no header on top (which is wrong)\n- Navigate to any other section \n- Head back to the \"Namespaces Overview\" section by clicking on the StackGres logo\n- The \"Namespaces Overview\" header appears (which is right)\n- Logout of the web console\n- The \"Namespaces Overview\" header still appears (which is wrong)\n\n\n### Expected Behaviour\n\nThe behavior on every header on the web console should be consistent. They should always appear when logged in and should never be shown when logged out\n\n\n### Environment\n\n- StackGres version: `1.2.0`","state":"closed","created_at":"2022-06-06T10:58:50.023Z","updated_at":"2022-07-11T11:02:28.673Z","closed_at":"2022-06-10T13:29:43.390Z","closed_by":{"id":4461750,"username":"ldgarcia","name":"Luis Garcia","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4461750/avatar.png","web_url":"https://gitlab.com/ldgarcia"},"labels":["Bug","StackGres","priority::P1","target_version::1.3.0-beta1","team::UI","workflow::In Review"],"milestone":{"id":2574404,"iid":18,"group_id":3102997,"title":"StackGres 1.3.0-beta1","description":"Codename \"**BYOPE: Bring your own Postgres extension**\"","state":"active","created_at":"2022-04-21T08:27:13.726Z","updated_at":"2022-10-18T07:34:00.411Z","due_date":"2022-07-27","start_date":"2022-05-17","expired":true,"web_url":"https://gitlab.com/groups/ongresinc/-/milestones/18"},"assignees":[{"id":4461750,"username":"ldgarcia","name":"Luis Garcia","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4461750/avatar.png","web_url":"https://gitlab.com/ldgarcia"}],"author":{"id":4461750,"username":"ldgarcia","name":"Luis Garcia","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4461750/avatar.png","web_url":"https://gitlab.com/ldgarcia"},"type":"ISSUE","assignee":{"id":4461750,"username":"ldgarcia","name":"Luis Garcia","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4461750/avatar.png","web_url":"https://gitlab.com/ldgarcia"},"user_notes_count":0,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/ongresinc/stackgres/-/issues/1811","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12584701/issues/1811","notes":"https://gitlab.com/api/v4/projects/12584701/issues/1811/notes","award_emoji":"https://gitlab.com/api/v4/projects/12584701/issues/1811/award_emoji","project":"https://gitlab.com/api/v4/projects/12584701","closed_as_duplicate_of":null},"references":{"short":"#1811","relative":"#1811","full":"ongresinc/stackgres#1811"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":26,"epic":{"id":534991,"iid":26,"title":"[StackGres][UI] Bugs","url":"/groups/ongresinc/-/epics/26","group_id":3102997,"human_readable_end_date":"May 8, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":{"id":55724,"iid":29,"sequence":29,"group_id":3102997,"title":"SG1.3-BETA1","description":"","state":3,"created_at":"2022-05-11T16:32:13.590Z","updated_at":"2022-07-02T00:05:02.185Z","start_date":"2022-05-15","due_date":"2022-07-01","web_url":"https://gitlab.com/groups/ongresinc/-/iterations/55724"},"health_status":null},{"id":109569116,"iid":1807,"project_id":12584701,"title":"Review and adjust tooltips that won't match reverse-logic specs on the web console","description":"## Summary\n\nOn the web console, when showing boolean specs which are related to disabling options like `disableMetricsExporter` or `disableClusterPodAntiaffinity`, the UI acts in a \"reverse\" manner, in the sense that to \"disable\" the corresponding spec you must set the value to false.\n\n![image](/uploads/e27915d6f1f5af80a1d1567e72dd5f26/image.png)\n\nFor such reasons, some tooltips might not match properly the information shown on the web console:\n\n![image](/uploads/bc8dbdfcfb2215197ce3bba95e9939ca/image.png)\n\n\n## Proposed Solution\n\nWe should review such specs and their corresponding tooltips and rewrite on the web console those who do not match.\n\n\n## Acceptance criteria\n\n- [ ] Implement the proposed solution","state":"closed","created_at":"2022-06-03T15:37:20.291Z","updated_at":"2022-07-11T11:02:29.918Z","closed_at":"2022-06-08T14:39:27.446Z","closed_by":{"id":4461750,"username":"ldgarcia","name":"Luis Garcia","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4461750/avatar.png","web_url":"https://gitlab.com/ldgarcia"},"labels":["Bug","StackGres","priority::P1","target_version::1.3.0-beta1","team::UI","workflow::In Review"],"milestone":{"id":2574404,"iid":18,"group_id":3102997,"title":"StackGres 1.3.0-beta1","description":"Codename \"**BYOPE: Bring your own Postgres extension**\"","state":"active","created_at":"2022-04-21T08:27:13.726Z","updated_at":"2022-10-18T07:34:00.411Z","due_date":"2022-07-27","start_date":"2022-05-17","expired":true,"web_url":"https://gitlab.com/groups/ongresinc/-/milestones/18"},"assignees":[{"id":3344912,"username":"osaletsk","name":"Olesya Saletska","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3344912/avatar.png","web_url":"https://gitlab.com/osaletsk"}],"author":{"id":4461750,"username":"ldgarcia","name":"Luis Garcia","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4461750/avatar.png","web_url":"https://gitlab.com/ldgarcia"},"type":"ISSUE","assignee":{"id":3344912,"username":"osaletsk","name":"Olesya Saletska","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3344912/avatar.png","web_url":"https://gitlab.com/osaletsk"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/ongresinc/stackgres/-/issues/1807","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/12584701/issues/1807","notes":"https://gitlab.com/api/v4/projects/12584701/issues/1807/notes","award_emoji":"https://gitlab.com/api/v4/projects/12584701/issues/1807/award_emoji","project":"https://gitlab.com/api/v4/projects/12584701","closed_as_duplicate_of":null},"references":{"short":"#1807","relative":"#1807","full":"ongresinc/stackgres#1807"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":26,"epic":{"id":534991,"iid":26,"title":"[StackGres][UI] Bugs","url":"/groups/ongresinc/-/epics/26","group_id":3102997,"human_readable_end_date":"May 8, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":{"id":55724,"iid":29,"sequence":29,"group_id":3102997,"title":"SG1.3-BETA1","description":"","state":3,"created_at":"2022-05-11T16:32:13.590Z","updated_at":"2022-07-02T00:05:02.185Z","start_date":"2022-05-15","due_date":"2022-07-01","web_url":"https://gitlab.com/groups/ongresinc/-/iterations/55724"},"health_status":null},{"id":109518872,"iid":1806,"project_id":12584701,"title":"Pods and time range selectors missing on monitoring tab","description":"### Summary\n\nPods and time range selector missing on monitoring tab\n\n![image](/uploads/0d641e6aa7bd1f79453e33292f014c22/image.png)\n\n\n\n#### Steps to reproduce\n\n- Enter the web console\n- Select any cluster with one or more active pods\n- Enter the \"Monitoring\" tab\n- The \"Time Range\" and \"Pods\" dropdown selectors are not shown\n\n### Expected Behaviour\n\nBoth dropdown selectors should appear on the right side of the cluster tabs\n\n\n### Possible Solution\n\n- The code for such selectors is missing after the changes introduced on https://gitlab.com/ongresinc/stackgres/-/merge_requests/1084\n\n### Environment\n\n- StackGres version: `1.2.0`","state":"closed","created_at":"2022-06-02T16:17:57.143Z","updated_at":"2022-07-11T11:02:07.159Z","closed_at":"2022-06-07T12:02:39.327Z","closed_by":{"id":3344912,"username":"osaletsk","name":"Olesya Saletska","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3344912/avatar.png","web_url":"https://gitlab.com/osaletsk"},"labels":["Bug","Bug::reproducible","StackGres","priority::P1","target_version::1.3.0-beta1","team::UI","workflow::In Review"],"milestone":{"id":2574404,"iid":18,"group_id":3102997,"title":"StackGres 1.3.0-beta1","description":"Codename \"**BYOPE: Bring your own Postgres extension**\"","state":"active","created_at":"2022-04-21T08:27:13.726Z","updated_at":"2022-10-18T07:34:00.411Z","due_date":"2022-07-27","start_date":"2022-05-17","expired":true,"web_url":"https://gitlab.com/groups/ongresinc/-/milestones/18"},"assignees":[{"id":4461750,"username":"ldgarcia","name":"Luis Garcia","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4461750/avatar.png","web_url":"https://gitlab.com/ldgarcia"}],"author":{"id":4461750,"username":"ldgarcia","name":"Luis Garcia","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4461750/avatar.png","web_url":"https://gitlab.com/ldgarcia"},"type":"ISSUE","assignee":{"id":4461750,"username":"ldgarcia","name":"Luis Garcia","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4461750/avatar.png","web_url":"https://gitlab.com/ldgarcia"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/ongresinc/stackgres/-/issues/1806","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12584701/issues/1806","notes":"https://gitlab.com/api/v4/projects/12584701/issues/1806/notes","award_emoji":"https://gitlab.com/api/v4/projects/12584701/issues/1806/award_emoji","project":"https://gitlab.com/api/v4/projects/12584701","closed_as_duplicate_of":null},"references":{"short":"#1806","relative":"#1806","full":"ongresinc/stackgres#1806"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":26,"epic":{"id":534991,"iid":26,"title":"[StackGres][UI] Bugs","url":"/groups/ongresinc/-/epics/26","group_id":3102997,"human_readable_end_date":"May 8, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":109506041,"iid":1805,"project_id":12584701,"title":"Grafana tab is visible even if Monitoring is not enabled","description":"### Summary\nGrafana tab is visible even if Monitoring is not available. \n\nThis happens when clusters are created without enabling `prometheusAutobind`, which causes the tab to appear and show all graphs with \"No data\" messages on them\n\n### Environment\n- StackGres version: 1.2.0\n\n### Relevant logs and/or screenshots\n![image](/uploads/0cfe4b3033c8a14c4ce30bfd78407477/image.png)","state":"closed","created_at":"2022-06-02T13:00:54.358Z","updated_at":"2022-07-19T06:06:15.224Z","closed_at":"2022-07-18T09:01:05.603Z","closed_by":{"id":4461750,"username":"ldgarcia","name":"Luis Garcia","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4461750/avatar.png","web_url":"https://gitlab.com/ldgarcia"},"labels":["Bug","Discussion","StackGres","Triage","priority::P1","target_version::1.3.0-beta1","team::UI"],"milestone":{"id":2574404,"iid":18,"group_id":3102997,"title":"StackGres 1.3.0-beta1","description":"Codename \"**BYOPE: Bring your own Postgres extension**\"","state":"active","created_at":"2022-04-21T08:27:13.726Z","updated_at":"2022-10-18T07:34:00.411Z","due_date":"2022-07-27","start_date":"2022-05-17","expired":true,"web_url":"https://gitlab.com/groups/ongresinc/-/milestones/18"},"assignees":[],"author":{"id":3344912,"username":"osaletsk","name":"Olesya Saletska","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3344912/avatar.png","web_url":"https://gitlab.com/osaletsk"},"type":"ISSUE","assignee":null,"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/ongresinc/stackgres/-/issues/1805","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12584701/issues/1805","notes":"https://gitlab.com/api/v4/projects/12584701/issues/1805/notes","award_emoji":"https://gitlab.com/api/v4/projects/12584701/issues/1805/award_emoji","project":"https://gitlab.com/api/v4/projects/12584701","closed_as_duplicate_of":null},"references":{"short":"#1805","relative":"#1805","full":"ongresinc/stackgres#1805"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":26,"epic":{"id":534991,"iid":26,"title":"[StackGres][UI] Bugs","url":"/groups/ongresinc/-/epics/26","group_id":3102997,"human_readable_end_date":"May 8, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":{"id":55724,"iid":29,"sequence":29,"group_id":3102997,"title":"SG1.3-BETA1","description":"","state":3,"created_at":"2022-05-11T16:32:13.590Z","updated_at":"2022-07-02T00:05:02.185Z","start_date":"2022-05-15","due_date":"2022-07-01","web_url":"https://gitlab.com/groups/ongresinc/-/iterations/55724"},"health_status":null},{"id":109429338,"iid":1802,"project_id":12584701,"title":"Update and improve the UI Connection Info popup","description":"Current pop-up looks like this:\n\n![image](/uploads/f49c7a1427b4fbe1283fa2b9807aeec0/image.png)\n\nThere are two ideas to update/improve here:\n\n* ~The DNS proposed is still using the legacy `${clusterName}-primary` DNS name. Should be replaced by the now current `${clusterName}`.~ (will fixed by #1868)\n* If the cluster is created with the Babelfish flavor, an additional text should appear to explain how to connect via the SQL Server protocol. The command should look like `kubectl -n ${namespace} run usql --rm -it --image ongres/postgres-util --restart=Never -- usql --password ms://babelfish@${clusterName}:1433` and include information on how to retrieve the secret (`kubectl -n ${namespace} get secret ${clusterName} --template '{{ printf \"%s\" (index .data \"babelfish-password\" | base64decode) }}'`)\n\nAcceptance criteria:\n* [x] Implement the change","state":"closed","created_at":"2022-06-01T08:30:54.488Z","updated_at":"2022-07-11T11:03:46.528Z","closed_at":"2022-07-04T10:24:46.709Z","closed_by":{"id":3344912,"username":"osaletsk","name":"Olesya Saletska","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3344912/avatar.png","web_url":"https://gitlab.com/osaletsk"},"labels":["Bug","Feature Request","StackGres","priority::P1","target_version::1.3.0-beta1","team::UI","workflow::In Review"],"milestone":{"id":2574404,"iid":18,"group_id":3102997,"title":"StackGres 1.3.0-beta1","description":"Codename \"**BYOPE: Bring your own Postgres extension**\"","state":"active","created_at":"2022-04-21T08:27:13.726Z","updated_at":"2022-10-18T07:34:00.411Z","due_date":"2022-07-27","start_date":"2022-05-17","expired":true,"web_url":"https://gitlab.com/groups/ongresinc/-/milestones/18"},"assignees":[{"id":4461750,"username":"ldgarcia","name":"Luis Garcia","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4461750/avatar.png","web_url":"https://gitlab.com/ldgarcia"}],"author":{"id":2483568,"username":"ahachete","name":"Alvaro Hernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/5af6a3c5c96061774cc52fd45ba305da?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahachete"},"type":"ISSUE","assignee":{"id":4461750,"username":"ldgarcia","name":"Luis Garcia","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4461750/avatar.png","web_url":"https://gitlab.com/ldgarcia"},"user_notes_count":5,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/ongresinc/stackgres/-/issues/1802","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":1},"weight":4,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/12584701/issues/1802","notes":"https://gitlab.com/api/v4/projects/12584701/issues/1802/notes","award_emoji":"https://gitlab.com/api/v4/projects/12584701/issues/1802/award_emoji","project":"https://gitlab.com/api/v4/projects/12584701","closed_as_duplicate_of":null},"references":{"short":"#1802","relative":"#1802","full":"ongresinc/stackgres#1802"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":26,"epic":{"id":534991,"iid":26,"title":"[StackGres][UI] Bugs","url":"/groups/ongresinc/-/epics/26","group_id":3102997,"human_readable_end_date":"May 8, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":{"id":55724,"iid":29,"sequence":29,"group_id":3102997,"title":"SG1.3-BETA1","description":"","state":3,"created_at":"2022-05-11T16:32:13.590Z","updated_at":"2022-07-02T00:05:02.185Z","start_date":"2022-05-15","due_date":"2022-07-01","web_url":"https://gitlab.com/groups/ongresinc/-/iterations/55724"},"health_status":null},{"id":109204776,"iid":1797,"project_id":12584701,"title":"Namespace selector won't stay open","description":"### Summary\n\nSometimes, after navigating through different sections of the web console, when clicking the namespace selector on the sidebar, it won't remain open.\n\n![namespace-error](/uploads/38399c76e954410726b6b977f1f67824/namespace-error.mov)\n\n\n#### Steps to reproduce\n\n- Enter the web console\n- Navigate to any section on any namespace\n- Go to Namespaces Overview (click on StackGres logo)\n- Navigate to any section on any namespace\n- Click on the namespace selector on the sidebar\n\n### Expected Behaviour\n\nThe behavior on the namespace selector should be consistent and it should remain open when toggling such mode.\n\n\n### Environment\n\n- StackGres version: `1.2.0`","state":"closed","created_at":"2022-05-27T09:14:52.325Z","updated_at":"2022-07-11T11:02:28.325Z","closed_at":"2022-06-08T07:52:28.854Z","closed_by":{"id":4461750,"username":"ldgarcia","name":"Luis Garcia","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4461750/avatar.png","web_url":"https://gitlab.com/ldgarcia"},"labels":["Bug","StackGres","priority::P1","target_version::1.3.0-beta1","team::UI","workflow::In Review"],"milestone":{"id":2574404,"iid":18,"group_id":3102997,"title":"StackGres 1.3.0-beta1","description":"Codename \"**BYOPE: Bring your own Postgres extension**\"","state":"active","created_at":"2022-04-21T08:27:13.726Z","updated_at":"2022-10-18T07:34:00.411Z","due_date":"2022-07-27","start_date":"2022-05-17","expired":true,"web_url":"https://gitlab.com/groups/ongresinc/-/milestones/18"},"assignees":[{"id":4461750,"username":"ldgarcia","name":"Luis Garcia","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4461750/avatar.png","web_url":"https://gitlab.com/ldgarcia"}],"author":{"id":4461750,"username":"ldgarcia","name":"Luis Garcia","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4461750/avatar.png","web_url":"https://gitlab.com/ldgarcia"},"type":"ISSUE","assignee":{"id":4461750,"username":"ldgarcia","name":"Luis Garcia","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4461750/avatar.png","web_url":"https://gitlab.com/ldgarcia"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/ongresinc/stackgres/-/issues/1797","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12584701/issues/1797","notes":"https://gitlab.com/api/v4/projects/12584701/issues/1797/notes","award_emoji":"https://gitlab.com/api/v4/projects/12584701/issues/1797/award_emoji","project":"https://gitlab.com/api/v4/projects/12584701","closed_as_duplicate_of":null},"references":{"short":"#1797","relative":"#1797","full":"ongresinc/stackgres#1797"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":26,"epic":{"id":534991,"iid":26,"title":"[StackGres][UI] Bugs","url":"/groups/ongresinc/-/epics/26","group_id":3102997,"human_readable_end_date":"May 8, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":{"id":55724,"iid":29,"sequence":29,"group_id":3102997,"title":"SG1.3-BETA1","description":"","state":3,"created_at":"2022-05-11T16:32:13.590Z","updated_at":"2022-07-02T00:05:02.185Z","start_date":"2022-05-15","due_date":"2022-07-01","web_url":"https://gitlab.com/groups/ongresinc/-/iterations/55724"},"health_status":null},{"id":109201197,"iid":1796,"project_id":12584701,"title":"Backups Job show some permission errors in the log","description":"### Summary\n\nBackups Job show some permission errors in the log\n\n### Current Behaviour \n\nPermission errors are showed in the logs\n\n#### Steps to reproduce\n\n1. Create a cluster with backup config in a namespace\n2. Create a cluster with backup config in another namespace\n3. Create a backup for the first cluster\n4. Create a backup for the second cluster\n\n### Expected Behaviour\n\nPermission errors are not showed in the logs\n\n### Environment\n\n- StackGres version: 1.2.0\n- Kubernetes version: ?\n- Cloud provider or hardware configuration: ?\n\n### Relevant logs and/or screenshots\n\n```\nLock acquired\nError from server (Forbidden): sgbackups.stackgres.io is forbidden: User \"system:serviceaccount:ndb-stage1:ndb-metadata-store-stage-backup\" cannot list resource \"sgbackups\" in API group \"stackgres.io\" in the namespace \"ndb-dev2\"\nError from server (Forbidden): sgbackups.stackgres.io is forbidden: User \"system:serviceaccount:ndb-stage1:ndb-metadata-store-stage-backup\" cannot list resource \"sgbackups\" in API group \"stackgres.io\" in the namespace \"ndb-dev3\"\nCreating backup CR\napiVersion: stackgres.io/v1\nkind: SGBackup\nmetadata:\n  annotations:\n    scheduled-backup: \"true\"\n    stackgres.io/operatorVersion: 1.2.0-SNAPSHOT\n  creationTimestamp: \"2022-05-18T00:00:08Z\"\n  generation: 1\n  name: ndb-metadata-store-stage-2022-05-18-00-00-07\n  namespace: ndb-stage1\n  resourceVersion: \"58474934\"\n  uid: 8588c36a-d51c-49fc-9479-40c93d36dfbc\nspec:\n  managedLifecycle: true\n  sgCluster: ndb-metadata-store-stage\nstatus:\n  process:\n    jobPod: ndb-metadata-store-stage-backup-27547200--1-f4ljp\n    status: Running\n  sgBackupConfig:\n    baseBackups:\n      compression: lz4\n    storage:\n      s3:\n        awsCredentials:\n          secretKeySelectors:\n            accessKeyId:\n              key: accessKeyId\n              name: eks-backup-bucket-secret\n            secretAccessKey:\n              key: secretAccessKey\n              name: eks-backup-bucket-secret\n        bucket: era-stackgres-backup\n      type: s3\nRetrieving primary and replica\nPrimary is pod/ndb-metadata-store-stage-0\nReplica not found, primary will be used for cleanups\nPerforming backup\nBackup completed\nExtracting pg_controldata\nExtraction of pg_controldata completed\nRetain backups\nCheck if backup base_000000010000000000000004 has to be retained and will retain 3 backups\nMark base_000000010000000000000004 as permanent and will retain 2 more backups\nINFO: 2022/05/18 00:00:15.029810 Retrieving previous related backups to be marked: toPermanent=true\nINFO: 2022/05/18 00:00:15.310107 Retrieved backups to be marked, marking: [base_000000010000000000000004]\nCleaning up impermanent backups\nINFO: 2022/05/18 00:00:15.856539 retrieving permanent objects\nINFO: 2022/05/18 00:00:16.027291 Found permanent objects: backups=map[base_000000010000000000000004:true], wals=map[000000010000000000000004:true]\nINFO: 2022/05/18 00:00:16.186865 Start delete\nINFO: 2022/05/18 00:00:16.369698 Objects in folder:\nINFO: 2022/05/18 00:00:16.369744 \twill be deleted: wal_005/000000010000000000000001.lz4\nINFO: 2022/05/18 00:00:16.369752 \twill be deleted: wal_005/000000010000000000000002.lz4\nINFO: 2022/05/18 00:00:16.369759 \twill be deleted: wal_005/000000010000000000000003.lz4\nCheck if backup base_000000010000000000000004 has to be set permanent or impermanent\nMark base_000000010000000000000004 as impermanent\nINFO: 2022/05/18 00:00:17.458217 Retrieving previous related backups to be marked: toPermanent=false\nINFO: 2022/05/18 00:00:17.602567 retrieving permanent objects\nINFO: 2022/05/18 00:00:17.863245 Retrieved backups to be marked, marking: [base_000000010000000000000004]\nReconciliation of backups completed\nListing existing backups\nUpdating backup CR as completed\nsgbackup.stackgres.io/ndb-metadata-store-stage-2022-05-18-00-00-07 patched\nBackup CR updated as completed\nReconcile backup CRs\nReconciliation of backup CRs completed\nLock released\n```","state":"closed","created_at":"2022-05-27T08:00:04.448Z","updated_at":"2022-08-09T18:41:54.758Z","closed_at":"2022-08-09T18:41:54.699Z","closed_by":{"id":682120,"username":"gelias","name":"Guilherme Elias","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/682120/avatar.png","web_url":"https://gitlab.com/gelias"},"labels":["Bug","StackGres","priority::P1","sprint::2022-S29-0509-0529","target_version::1.3.0-RC1","team::DEV","workflow::In Review"],"milestone":{"id":2712673,"iid":19,"group_id":3102997,"title":"StackGres 1.3.0","description":"","state":"active","created_at":"2022-07-26T11:10:26.597Z","updated_at":"2022-10-18T07:38:00.783Z","due_date":"2022-08-23","start_date":"2022-07-17","expired":true,"web_url":"https://gitlab.com/groups/ongresinc/-/milestones/19"},"assignees":[{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"}],"author":{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"},"type":"ISSUE","assignee":{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"},"user_notes_count":1,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/ongresinc/stackgres/-/issues/1796","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":8,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12584701/issues/1796","notes":"https://gitlab.com/api/v4/projects/12584701/issues/1796/notes","award_emoji":"https://gitlab.com/api/v4/projects/12584701/issues/1796/award_emoji","project":"https://gitlab.com/api/v4/projects/12584701","closed_as_duplicate_of":null},"references":{"short":"#1796","relative":"#1796","full":"ongresinc/stackgres#1796"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":{"id":55724,"iid":29,"sequence":29,"group_id":3102997,"title":"SG1.3-BETA1","description":"","state":3,"created_at":"2022-05-11T16:32:13.590Z","updated_at":"2022-07-02T00:05:02.185Z","start_date":"2022-05-15","due_date":"2022-07-01","web_url":"https://gitlab.com/groups/ongresinc/-/iterations/55724"},"health_status":null},{"id":109167697,"iid":1791,"project_id":12584701,"title":"Details about Distributed logs configuration not shown in logs server section","description":"### Summary\n\nIn a cluster with distributed logs configured in a different namespace of the SGCluster, the information is not show in the Logs servers section. \n\n![image](/uploads/4a6c85e656ae2c56e915733478194684/image.png)\n\nBut the configuration exist(SGCluster configurations): \n\n![image](/uploads/38a9358ae7015efdb716f53d70b87b68/image.png)\n\n\nand it is working: \n\n![image](/uploads/4a4afa5929a3fd7b94f4d5889a828561/image.png)\n\nif you go to `/namespace/SGDistributedLogs/monitoring.distributedlogs`: \n\n![image](/uploads/301cbee8a031223d780b224b17275aa1/image.png)\n\n\n#### Steps to reproduce\n\n1- Configure a SGCluster with a SGDistributed logs in a different namespace: \n\n```\napiVersion: stackgres.io/v1\nkind: SGDistributedLogs\nmetadata:\n  name: distributedlogs\n  namespace: monitoring\nspec:\n  persistentVolume:\n    size: 100Gi\n```\n\n2. Add to the SGCluster definition: \n\n```\n distributedLogs:\n    sgDistributedLogs: 'monitoring.distributedlogs'\n    retention: \"15 days\"\n```\n3. Then check the UI Logs server section.\n\n### Expected Behaviour\n\nThe UI show information about the SGDistributedlogs configured in the Cluster. \n\n### Possible Solution\n\nFor the UI the Logs Servers section information should be global and not namespace dependent. \n\n### Environment\n\n- StackGres version: 1.2.0\n- Kubernetes version: 1.21\n- Cloud provider or hardware configuration: GKE\n\n\n### Relevant logs and/or screenshots\n```\nkubectl get pods -n monitoring distributedlogs-0 \n\nNAME                READY   STATUS    RESTARTS   AGE\ndistributedlogs-0   3/3     Running   0          23h\n```","state":"closed","created_at":"2022-05-26T15:36:17.431Z","updated_at":"2022-07-11T11:02:29.569Z","closed_at":"2022-06-09T11:26:24.143Z","closed_by":{"id":3344912,"username":"osaletsk","name":"Olesya Saletska","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3344912/avatar.png","web_url":"https://gitlab.com/osaletsk"},"labels":["Bug","Bug::reproducible","StackGres","priority::P1","sprint::2022-S29-0509-0529","target_version::1.3.0-beta1","team::UI","workflow::In Review"],"milestone":{"id":2574404,"iid":18,"group_id":3102997,"title":"StackGres 1.3.0-beta1","description":"Codename \"**BYOPE: Bring your own Postgres extension**\"","state":"active","created_at":"2022-04-21T08:27:13.726Z","updated_at":"2022-10-18T07:34:00.411Z","due_date":"2022-07-27","start_date":"2022-05-17","expired":true,"web_url":"https://gitlab.com/groups/ongresinc/-/milestones/18"},"assignees":[{"id":4461750,"username":"ldgarcia","name":"Luis Garcia","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4461750/avatar.png","web_url":"https://gitlab.com/ldgarcia"}],"author":{"id":2780522,"username":"kadaffy","name":"Kadaffy Talavera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2780522/avatar.png","web_url":"https://gitlab.com/kadaffy"},"type":"ISSUE","assignee":{"id":4461750,"username":"ldgarcia","name":"Luis Garcia","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4461750/avatar.png","web_url":"https://gitlab.com/ldgarcia"},"user_notes_count":1,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/ongresinc/stackgres/-/issues/1791","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12584701/issues/1791","notes":"https://gitlab.com/api/v4/projects/12584701/issues/1791/notes","award_emoji":"https://gitlab.com/api/v4/projects/12584701/issues/1791/award_emoji","project":"https://gitlab.com/api/v4/projects/12584701","closed_as_duplicate_of":null},"references":{"short":"#1791","relative":"#1791","full":"ongresinc/stackgres#1791"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":26,"epic":{"id":534991,"iid":26,"title":"[StackGres][UI] Bugs","url":"/groups/ongresinc/-/epics/26","group_id":3102997,"human_readable_end_date":"May 8, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":{"id":55724,"iid":29,"sequence":29,"group_id":3102997,"title":"SG1.3-BETA1","description":"","state":3,"created_at":"2022-05-11T16:32:13.590Z","updated_at":"2022-07-02T00:05:02.185Z","start_date":"2022-05-15","due_date":"2022-07-01","web_url":"https://gitlab.com/groups/ongresinc/-/iterations/55724"},"health_status":null},{"id":109163975,"iid":1790,"project_id":12584701,"title":"Lower the initial param autovacuum_work_mem","description":"The objective of this change is lower the amount of memory allocated to the parameter: `autovacuum_work_mem` to the value 512 MB. Currently, our initial setup is 2 GB.\n\nFor reference: https://postgresqlco.nf/doc/en/param/autovacuum_work_mem/\n\n\n**Acceptance criteria:**\n- [ ] Set the new lower value \n- [ ] Test the new default config","state":"closed","created_at":"2022-05-26T14:14:44.252Z","updated_at":"2022-08-01T14:05:07.890Z","closed_at":"2022-08-01T14:05:07.849Z","closed_by":{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"},"labels":["Security Feature","StackGres","priority::P1","team::DEV","workflow::In Review"],"milestone":{"id":2712673,"iid":19,"group_id":3102997,"title":"StackGres 1.3.0","description":"","state":"active","created_at":"2022-07-26T11:10:26.597Z","updated_at":"2022-10-18T07:38:00.783Z","due_date":"2022-08-23","start_date":"2022-07-17","expired":true,"web_url":"https://gitlab.com/groups/ongresinc/-/milestones/19"},"assignees":[{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"}],"author":{"id":11413385,"username":"jose_oss_pg","name":"Jose OSS","state":"active","avatar_url":"https://secure.gravatar.com/avatar/78f8fd6c4000e196bfc0de8432f5fed5?s=80\u0026d=identicon","web_url":"https://gitlab.com/jose_oss_pg"},"type":"ISSUE","assignee":{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"},"user_notes_count":1,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/ongresinc/stackgres/-/issues/1790","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/12584701/issues/1790","notes":"https://gitlab.com/api/v4/projects/12584701/issues/1790/notes","award_emoji":"https://gitlab.com/api/v4/projects/12584701/issues/1790/award_emoji","project":"https://gitlab.com/api/v4/projects/12584701","closed_as_duplicate_of":null},"references":{"short":"#1790","relative":"#1790","full":"ongresinc/stackgres#1790"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":{"id":55724,"iid":29,"sequence":29,"group_id":3102997,"title":"SG1.3-BETA1","description":"","state":3,"created_at":"2022-05-11T16:32:13.590Z","updated_at":"2022-07-02T00:05:02.185Z","start_date":"2022-05-15","due_date":"2022-07-01","web_url":"https://gitlab.com/groups/ongresinc/-/iterations/55724"},"health_status":null},{"id":109152094,"iid":1789,"project_id":12584701,"title":"Remove support for 1.0","description":"Remove support for version 1.0 of StackGres\n\n## Acceptance Criteria\n\n* [ ] Remove the version 1.0 from `StackGresVersion` and `Components` classes\n* [ ] Remove all the code that is specifically handling the 1.0 version (conciliation, conversion, validation and mutation)\n* [ ] Remove all 1.0 E2E tests","state":"closed","created_at":"2022-05-26T10:16:29.955Z","updated_at":"2022-07-11T11:02:29.214Z","closed_at":"2022-06-13T10:50:20.909Z","closed_by":{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"},"labels":["StackGres","priority::P1","sprint::2022-S29-0509-0529","target_version::1.3.0-beta1","team::DEV","workflow::Ready"],"milestone":{"id":2574404,"iid":18,"group_id":3102997,"title":"StackGres 1.3.0-beta1","description":"Codename \"**BYOPE: Bring your own Postgres extension**\"","state":"active","created_at":"2022-04-21T08:27:13.726Z","updated_at":"2022-10-18T07:34:00.411Z","due_date":"2022-07-27","start_date":"2022-05-17","expired":true,"web_url":"https://gitlab.com/groups/ongresinc/-/milestones/18"},"assignees":[],"author":{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/ongresinc/stackgres/-/issues/1789","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/12584701/issues/1789","notes":"https://gitlab.com/api/v4/projects/12584701/issues/1789/notes","award_emoji":"https://gitlab.com/api/v4/projects/12584701/issues/1789/award_emoji","project":"https://gitlab.com/api/v4/projects/12584701","closed_as_duplicate_of":null},"references":{"short":"#1789","relative":"#1789","full":"ongresinc/stackgres#1789"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":{"id":55724,"iid":29,"sequence":29,"group_id":3102997,"title":"SG1.3-BETA1","description":"","state":3,"created_at":"2022-05-11T16:32:13.590Z","updated_at":"2022-07-02T00:05:02.185Z","start_date":"2022-05-15","due_date":"2022-07-01","web_url":"https://gitlab.com/groups/ongresinc/-/iterations/55724"},"health_status":null},{"id":109118887,"iid":1784,"project_id":12584701,"title":"Monitoring tab is empty when there are no active pods","description":"### Summary\n\nWhen there are no active pods for a cluster, the monitoring tab appears empty with no information whatsoever.\n\n![image](/uploads/88aa9ee41e56ae8c73eb390787811240/image.png)\n\n\n\n#### Steps to reproduce\n\n- Enter the web console\n- Look for any cluster which has no active pods\n- Enter the \"Monitoring\" tab\n- The tab shows no content\n\n### Expected Behaviour\n\n- If there is no actual data or reports coming from Grafana, there should be some kind of message shown to the user\n\n\n### Environment\n\n- StackGres version: `1.2.0`\n\n\n### Acceptance criteria\n\n* [x] Fix the bug","state":"closed","created_at":"2022-05-25T17:03:31.313Z","updated_at":"2022-07-11T11:02:03.578Z","closed_at":"2022-06-02T16:01:55.050Z","closed_by":{"id":4461750,"username":"ldgarcia","name":"Luis Garcia","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4461750/avatar.png","web_url":"https://gitlab.com/ldgarcia"},"labels":["Bug","StackGres","priority::P1","sprint::2021-S12-0517-0606","target_version::1.3.0-beta1","team::UI"],"milestone":{"id":2574404,"iid":18,"group_id":3102997,"title":"StackGres 1.3.0-beta1","description":"Codename \"**BYOPE: Bring your own Postgres extension**\"","state":"active","created_at":"2022-04-21T08:27:13.726Z","updated_at":"2022-10-18T07:34:00.411Z","due_date":"2022-07-27","start_date":"2022-05-17","expired":true,"web_url":"https://gitlab.com/groups/ongresinc/-/milestones/18"},"assignees":[{"id":4461750,"username":"ldgarcia","name":"Luis Garcia","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4461750/avatar.png","web_url":"https://gitlab.com/ldgarcia"}],"author":{"id":4461750,"username":"ldgarcia","name":"Luis Garcia","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4461750/avatar.png","web_url":"https://gitlab.com/ldgarcia"},"type":"ISSUE","assignee":{"id":4461750,"username":"ldgarcia","name":"Luis Garcia","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4461750/avatar.png","web_url":"https://gitlab.com/ldgarcia"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/ongresinc/stackgres/-/issues/1784","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":1},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/12584701/issues/1784","notes":"https://gitlab.com/api/v4/projects/12584701/issues/1784/notes","award_emoji":"https://gitlab.com/api/v4/projects/12584701/issues/1784/award_emoji","project":"https://gitlab.com/api/v4/projects/12584701","closed_as_duplicate_of":null},"references":{"short":"#1784","relative":"#1784","full":"ongresinc/stackgres#1784"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":26,"epic":{"id":534991,"iid":26,"title":"[StackGres][UI] Bugs","url":"/groups/ongresinc/-/epics/26","group_id":3102997,"human_readable_end_date":"May 8, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":{"id":55724,"iid":29,"sequence":29,"group_id":3102997,"title":"SG1.3-BETA1","description":"","state":3,"created_at":"2022-05-11T16:32:13.590Z","updated_at":"2022-07-02T00:05:02.185Z","start_date":"2022-05-15","due_date":"2022-07-01","web_url":"https://gitlab.com/groups/ongresinc/-/iterations/55724"},"health_status":null},{"id":109101992,"iid":1779,"project_id":12584701,"title":"Not Found appears on top of Header on Details views","description":"### Summary\nWhen requesting details of a non-existing CRD, the Not Found section appears on top of the Header section. \nThis only happens on the Details views.\n\n#### Steps to reproduce\n1. Modify the URL of any Details view to point to a non-existing CRD.\n2. The Not Found section will appear on top of the Header.\n\n### Expected Behaviour\nThe Header section should not be displayed on Not Found.\n\n### Environment\n- StackGres version: 1.2.0\n\n### Relevant logs and/or screenshots\n![Screenshot_2022-05-25_at_14.49.34](/uploads/b81ed861e2de5e48d54065df60c8ad6f/Screenshot_2022-05-25_at_14.49.34.png)\n\n\nAcceptance criteria:\n - [x] Implement the feature.\n - [x] Create tests","state":"closed","created_at":"2022-05-25T13:09:33.782Z","updated_at":"2022-07-11T11:02:27.518Z","closed_at":"2022-06-09T10:38:55.715Z","closed_by":{"id":3344912,"username":"osaletsk","name":"Olesya Saletska","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3344912/avatar.png","web_url":"https://gitlab.com/osaletsk"},"labels":["Bug","StackGres","priority::P1","target_version::1.3.0-beta1","team::UI","workflow::In Review"],"milestone":{"id":2574404,"iid":18,"group_id":3102997,"title":"StackGres 1.3.0-beta1","description":"Codename \"**BYOPE: Bring your own Postgres extension**\"","state":"active","created_at":"2022-04-21T08:27:13.726Z","updated_at":"2022-10-18T07:34:00.411Z","due_date":"2022-07-27","start_date":"2022-05-17","expired":true,"web_url":"https://gitlab.com/groups/ongresinc/-/milestones/18"},"assignees":[{"id":4461750,"username":"ldgarcia","name":"Luis Garcia","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4461750/avatar.png","web_url":"https://gitlab.com/ldgarcia"}],"author":{"id":3344912,"username":"osaletsk","name":"Olesya Saletska","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3344912/avatar.png","web_url":"https://gitlab.com/osaletsk"},"type":"ISSUE","assignee":{"id":4461750,"username":"ldgarcia","name":"Luis Garcia","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4461750/avatar.png","web_url":"https://gitlab.com/ldgarcia"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/ongresinc/stackgres/-/issues/1779","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":2},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/12584701/issues/1779","notes":"https://gitlab.com/api/v4/projects/12584701/issues/1779/notes","award_emoji":"https://gitlab.com/api/v4/projects/12584701/issues/1779/award_emoji","project":"https://gitlab.com/api/v4/projects/12584701","closed_as_duplicate_of":null},"references":{"short":"#1779","relative":"#1779","full":"ongresinc/stackgres#1779"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":26,"epic":{"id":534991,"iid":26,"title":"[StackGres][UI] Bugs","url":"/groups/ongresinc/-/epics/26","group_id":3102997,"human_readable_end_date":"May 8, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":{"id":55724,"iid":29,"sequence":29,"group_id":3102997,"title":"SG1.3-BETA1","description":"","state":3,"created_at":"2022-05-11T16:32:13.590Z","updated_at":"2022-07-02T00:05:02.185Z","start_date":"2022-05-15","due_date":"2022-07-01","web_url":"https://gitlab.com/groups/ongresinc/-/iterations/55724"},"health_status":null},{"id":109053786,"iid":1778,"project_id":12584701,"title":"Error message for pods scheduling is repeated during SGCluster creation","description":"### Summary\n\nWhen creating an SGCluster with errors on the `operator` spec for `spec.pods.scheduling.tolerations`, the text for the error message coming from the REST API is repeated.\n\n- How it looks on the web console:\n\n![image](/uploads/8b37c232f17f4d311e1c5fc982cd9d0e/image.png)\n\n\n- How it comes on the REST API response:\n\n```\n{\n   \"type\":\"https://stackgres.io/doc/1.2-dev/api/responses/error#constraint-violation\",\n   \"title\":\"Some fields do not comply with the syntactic rules\",\n   \"detail\":\"operator must be Exists when key is empty.\\noperator must be Exists when key is empty.\",\n   \"status\":422,\n   \"fields\":[\n      \"spec.pods.scheduling.tolerations[0].key\",\n      \"spec.pods.scheduling.tolerations[0].operator\"\n   ]\n}\n``` \n\n\n#### Steps to reproduce\n\n- Enter the web console\n- Enter the Create Cluster form\n- Try to create a cluster with a toleration with no key set\n\n\n### Expected Behaviour\n\n- The text should only appear once on the REST API response\n\n\n\n### Environment\n\n- StackGres version: `1.2.0`","state":"closed","created_at":"2022-05-24T17:53:42.571Z","updated_at":"2022-08-04T10:16:07.141Z","closed_at":"2022-08-04T10:16:07.116Z","closed_by":{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"},"labels":["Bug","StackGres","priority::P1","target_version::1.3.0-RC1","team::DEV","workflow::In Review"],"milestone":{"id":2712673,"iid":19,"group_id":3102997,"title":"StackGres 1.3.0","description":"","state":"active","created_at":"2022-07-26T11:10:26.597Z","updated_at":"2022-10-18T07:38:00.783Z","due_date":"2022-08-23","start_date":"2022-07-17","expired":true,"web_url":"https://gitlab.com/groups/ongresinc/-/milestones/19"},"assignees":[{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"}],"author":{"id":4461750,"username":"ldgarcia","name":"Luis Garcia","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4461750/avatar.png","web_url":"https://gitlab.com/ldgarcia"},"type":"ISSUE","assignee":{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"},"user_notes_count":3,"merge_requests_count":2,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/ongresinc/stackgres/-/issues/1778","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12584701/issues/1778","notes":"https://gitlab.com/api/v4/projects/12584701/issues/1778/notes","award_emoji":"https://gitlab.com/api/v4/projects/12584701/issues/1778/award_emoji","project":"https://gitlab.com/api/v4/projects/12584701","closed_as_duplicate_of":null},"references":{"short":"#1778","relative":"#1778","full":"ongresinc/stackgres#1778"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":19,"epic":{"id":531539,"iid":19,"title":"[StackGres][Dev]Bugs","url":"/groups/ongresinc/-/epics/19","group_id":3102997,"human_readable_end_date":"May 8, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":108970705,"iid":1775,"project_id":12584701,"title":"Implement \"ManagedSQL\" as a new SGScripts CRD.","description":"The description on the task is on the epic#18.\n\nThe goal is to implement \"ManagedSQL\" as a new SGScripts CRD.\n\nThe implementation is defined on the epic \u002618\n\n**Acceptance criteria:**\n- [ ] Implement the feature\n- [ ] Create the tests\n- [ ] Add the docuementation","state":"closed","created_at":"2022-05-23T11:32:59.969Z","updated_at":"2022-07-11T11:02:49.141Z","closed_at":"2022-06-13T15:37:05.793Z","closed_by":{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"},"labels":["StackGres","priority::P1","sprint::2022-S29-0509-0529","target_version::1.3.0-beta1","team::DEV","week-1","week-2","week-3","workflow::In Progress"],"milestone":{"id":2574404,"iid":18,"group_id":3102997,"title":"StackGres 1.3.0-beta1","description":"Codename \"**BYOPE: Bring your own Postgres extension**\"","state":"active","created_at":"2022-04-21T08:27:13.726Z","updated_at":"2022-10-18T07:34:00.411Z","due_date":"2022-07-27","start_date":"2022-05-17","expired":true,"web_url":"https://gitlab.com/groups/ongresinc/-/milestones/18"},"assignees":[{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"}],"author":{"id":11413385,"username":"jose_oss_pg","name":"Jose OSS","state":"active","avatar_url":"https://secure.gravatar.com/avatar/78f8fd6c4000e196bfc0de8432f5fed5?s=80\u0026d=identicon","web_url":"https://gitlab.com/jose_oss_pg"},"type":"ISSUE","assignee":{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/ongresinc/stackgres/-/issues/1775","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":0},"weight":24,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/12584701/issues/1775","notes":"https://gitlab.com/api/v4/projects/12584701/issues/1775/notes","award_emoji":"https://gitlab.com/api/v4/projects/12584701/issues/1775/award_emoji","project":"https://gitlab.com/api/v4/projects/12584701","closed_as_duplicate_of":null},"references":{"short":"#1775","relative":"#1775","full":"ongresinc/stackgres#1775"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":18,"epic":{"id":528652,"iid":18,"title":"[StackGres][Dev]Implement \"ManagedSQL\" as a new SGScripts CRD referenced by SGCluster","url":"/groups/ongresinc/-/epics/18","group_id":3102997,"human_readable_end_date":"Jul 27, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":{"id":55724,"iid":29,"sequence":29,"group_id":3102997,"title":"SG1.3-BETA1","description":"","state":3,"created_at":"2022-05-11T16:32:13.590Z","updated_at":"2022-07-02T00:05:02.185Z","start_date":"2022-05-15","due_date":"2022-07-01","web_url":"https://gitlab.com/groups/ongresinc/-/iterations/55724"},"health_status":null},{"id":108961749,"iid":1773,"project_id":12584701,"title":"Default boundaries for version binder are not the latest and oldest","description":"\nDefault boundaries for version binder are not the latest and oldest\n\n\n## Implementation plan\n\nSet latest and oldest as default boundaries for version binder\n\n## Acceptance Criteria\n\n* [ ] All tests pass","state":"closed","created_at":"2022-05-23T09:25:12.630Z","updated_at":"2022-07-11T10:59:01.615Z","closed_at":"2022-05-24T19:45:02.679Z","closed_by":{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"},"labels":["Bug","StackGres","priority::P1","sprint::2022-S29-0509-0529","target_version::1.3.0-beta1","team::DEV","week-1","workflow::In Progress"],"milestone":{"id":2574404,"iid":18,"group_id":3102997,"title":"StackGres 1.3.0-beta1","description":"Codename \"**BYOPE: Bring your own Postgres extension**\"","state":"active","created_at":"2022-04-21T08:27:13.726Z","updated_at":"2022-10-18T07:34:00.411Z","due_date":"2022-07-27","start_date":"2022-05-17","expired":true,"web_url":"https://gitlab.com/groups/ongresinc/-/milestones/18"},"assignees":[{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"}],"author":{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"},"type":"ISSUE","assignee":{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"},"user_notes_count":2,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/ongresinc/stackgres/-/issues/1773","time_stats":{"time_estimate":0,"total_time_spent":1800,"human_time_estimate":null,"human_total_time_spent":"30m"},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/12584701/issues/1773","notes":"https://gitlab.com/api/v4/projects/12584701/issues/1773/notes","award_emoji":"https://gitlab.com/api/v4/projects/12584701/issues/1773/award_emoji","project":"https://gitlab.com/api/v4/projects/12584701","closed_as_duplicate_of":null},"references":{"short":"#1773","relative":"#1773","full":"ongresinc/stackgres#1773"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":{"id":55724,"iid":29,"sequence":29,"group_id":3102997,"title":"SG1.3-BETA1","description":"","state":3,"created_at":"2022-05-11T16:32:13.590Z","updated_at":"2022-07-02T00:05:02.185Z","start_date":"2022-05-15","due_date":"2022-07-01","web_url":"https://gitlab.com/groups/ongresinc/-/iterations/55724"},"health_status":null},{"id":108874949,"iid":1771,"project_id":12584701,"title":"View Connection Info is not styled for clusters with no active pods","description":"### Summary\nWhen no pods are available yet for a cluster, the `View Connection Info` popup appears unstyled.\n\n#### Steps to reproduce\n1. Go to a cluster that has no active pods.\n2. Click on `View Connection Info`.\n3. A popup appears, but it is not styled.\n\n### Expected Behaviour\nThe same styles should be applied, no matter if pods are available or not.\n\n### Environment\n\n- StackGres version: `1.2.0`\n\n### Relevant logs and/or screenshots\n![Screenshot_2022-05-20_at_15.08.17](/uploads/598c5584dbc7e1b8105c5ae17cf057ea/Screenshot_2022-05-20_at_15.08.17.png)","state":"closed","created_at":"2022-05-20T13:10:46.919Z","updated_at":"2022-07-11T10:59:03.228Z","closed_at":"2022-05-25T13:18:39.265Z","closed_by":{"id":3344912,"username":"osaletsk","name":"Olesya Saletska","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3344912/avatar.png","web_url":"https://gitlab.com/osaletsk"},"labels":["Bug","StackGres","priority::P1","sprint::2022-S29-0509-0529","target_version::1.3.0-beta1","team::UI","workflow::In Review"],"milestone":{"id":2574404,"iid":18,"group_id":3102997,"title":"StackGres 1.3.0-beta1","description":"Codename \"**BYOPE: Bring your own Postgres extension**\"","state":"active","created_at":"2022-04-21T08:27:13.726Z","updated_at":"2022-10-18T07:34:00.411Z","due_date":"2022-07-27","start_date":"2022-05-17","expired":true,"web_url":"https://gitlab.com/groups/ongresinc/-/milestones/18"},"assignees":[{"id":3344912,"username":"osaletsk","name":"Olesya Saletska","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3344912/avatar.png","web_url":"https://gitlab.com/osaletsk"}],"author":{"id":3344912,"username":"osaletsk","name":"Olesya Saletska","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3344912/avatar.png","web_url":"https://gitlab.com/osaletsk"},"type":"ISSUE","assignee":{"id":3344912,"username":"osaletsk","name":"Olesya Saletska","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3344912/avatar.png","web_url":"https://gitlab.com/osaletsk"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/ongresinc/stackgres/-/issues/1771","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12584701/issues/1771","notes":"https://gitlab.com/api/v4/projects/12584701/issues/1771/notes","award_emoji":"https://gitlab.com/api/v4/projects/12584701/issues/1771/award_emoji","project":"https://gitlab.com/api/v4/projects/12584701","closed_as_duplicate_of":null},"references":{"short":"#1771","relative":"#1771","full":"ongresinc/stackgres#1771"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108747185,"iid":1768,"project_id":12584701,"title":"Parameter max_wal_senders not applied during cluster creation","description":"### Summary\n\nParameter [`max_wal_senders`](https://postgresqlco.nf/doc/en/param/max_wal_senders/) is not applied on a new SGCluster.\n\n#### Steps to reproduce\n\n1. Create a SGPostgresConfig with `max_wal_senders` set to 50\n2. Create an SGCluster referencing the above configuration\n\n### Expected Behaviour\n\nParameter [`max_wal_senders`](https://postgresqlco.nf/doc/en/param/max_wal_senders/) is applied to the new SGCluster.\n\n### Environment\n\n- StackGres version: 1.1.0\n- Kubernetes version: ?\n- Cloud provider or hardware configuration: ?\n\nAcceptance criteria:\n- [ ] Fix the bug\n- [ ] Create the test","state":"closed","created_at":"2022-05-18T13:28:19.464Z","updated_at":"2022-07-15T14:35:06.036Z","closed_at":"2022-07-14T13:46:27.665Z","closed_by":{"id":682120,"username":"gelias","name":"Guilherme Elias","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/682120/avatar.png","web_url":"https://gitlab.com/gelias"},"labels":["Bug","StackGres","priority::P1","sprint::2022-S29-0509-0529","target_version::1.3.0-beta1","team::DEV","workflow::In Progress"],"milestone":{"id":2574404,"iid":18,"group_id":3102997,"title":"StackGres 1.3.0-beta1","description":"Codename \"**BYOPE: Bring your own Postgres extension**\"","state":"active","created_at":"2022-04-21T08:27:13.726Z","updated_at":"2022-10-18T07:34:00.411Z","due_date":"2022-07-27","start_date":"2022-05-17","expired":true,"web_url":"https://gitlab.com/groups/ongresinc/-/milestones/18"},"assignees":[{"id":682120,"username":"gelias","name":"Guilherme Elias","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/682120/avatar.png","web_url":"https://gitlab.com/gelias"}],"author":{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"},"type":"ISSUE","assignee":{"id":682120,"username":"gelias","name":"Guilherme Elias","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/682120/avatar.png","web_url":"https://gitlab.com/gelias"},"user_notes_count":1,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/ongresinc/stackgres/-/issues/1768","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/12584701/issues/1768","notes":"https://gitlab.com/api/v4/projects/12584701/issues/1768/notes","award_emoji":"https://gitlab.com/api/v4/projects/12584701/issues/1768/award_emoji","project":"https://gitlab.com/api/v4/projects/12584701","closed_as_duplicate_of":null},"references":{"short":"#1768","relative":"#1768","full":"ongresinc/stackgres#1768"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":19,"epic":{"id":531539,"iid":19,"title":"[StackGres][Dev]Bugs","url":"/groups/ongresinc/-/epics/19","group_id":3102997,"human_readable_end_date":"May 8, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":108509222,"iid":1758,"project_id":12584701,"title":"\"Create Resource\" option available on SGCluster form when user has no permissions","description":"### Summary\n\nWhen creating an SGCluster from the web console, it is possible for users to create configurations and other resources by clicking on the \"Create New\" from the dropdown selectors. Even for users who have no permission to create the specified resource, this option is still available.\n\n![image](/uploads/2924367c98757bd40731804acb52bacb/image.png)\n\n\n#### Steps to reproduce\n\n- Create a user with permissions to create SGClusters but no permissions to create dependencies (SGInstanceProfiles, SGPostgresConfigs, etc.)\n- Log in to the web console with the specified user\n- Enter the Create Cluster form\n- Toggle the corresponding dependencies dropdown\n- The option to create the dependency will appear even though it shouldn't\n\n### Expected Behaviour\n\nThere should be no CTAs on the web console for operations the user is not allowed to do\n\n### Possible Solution\n\nValidate RBAC permissions before loading the \"create\" option\n\n### Environment\n\n- StackGres version: `1.2.0-RC`","state":"closed","created_at":"2022-05-13T13:07:31.229Z","updated_at":"2022-07-11T10:59:02.450Z","closed_at":"2022-06-01T08:26:29.429Z","closed_by":{"id":4461750,"username":"ldgarcia","name":"Luis Garcia","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4461750/avatar.png","web_url":"https://gitlab.com/ldgarcia"},"labels":["Bug","StackGres","priority::P1","sprint::2022-S29-0509-0529","target_version::1.3.0-beta1","team::UI","week-1","week-2","workflow::In Review"],"milestone":{"id":2574404,"iid":18,"group_id":3102997,"title":"StackGres 1.3.0-beta1","description":"Codename \"**BYOPE: Bring your own Postgres extension**\"","state":"active","created_at":"2022-04-21T08:27:13.726Z","updated_at":"2022-10-18T07:34:00.411Z","due_date":"2022-07-27","start_date":"2022-05-17","expired":true,"web_url":"https://gitlab.com/groups/ongresinc/-/milestones/18"},"assignees":[{"id":4461750,"username":"ldgarcia","name":"Luis Garcia","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4461750/avatar.png","web_url":"https://gitlab.com/ldgarcia"}],"author":{"id":4461750,"username":"ldgarcia","name":"Luis Garcia","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4461750/avatar.png","web_url":"https://gitlab.com/ldgarcia"},"type":"ISSUE","assignee":{"id":4461750,"username":"ldgarcia","name":"Luis Garcia","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4461750/avatar.png","web_url":"https://gitlab.com/ldgarcia"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/ongresinc/stackgres/-/issues/1758","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12584701/issues/1758","notes":"https://gitlab.com/api/v4/projects/12584701/issues/1758/notes","award_emoji":"https://gitlab.com/api/v4/projects/12584701/issues/1758/award_emoji","project":"https://gitlab.com/api/v4/projects/12584701","closed_as_duplicate_of":null},"references":{"short":"#1758","relative":"#1758","full":"ongresinc/stackgres#1758"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":{"id":55396,"iid":28,"sequence":28,"group_id":3102997,"title":"Iteration S29","description":"","state":3,"created_at":"2022-05-09T08:16:01.372Z","updated_at":"2022-05-14T00:05:02.181Z","start_date":"2022-05-09","due_date":"2022-05-13","web_url":"https://gitlab.com/groups/ongresinc/-/iterations/55396"},"health_status":null},{"id":108508402,"iid":1757,"project_id":12584701,"title":"Allow to start cluster pods in parallel","description":"### Problem to solve\n\nSGCluster Pods are started using the [OrderedReady management policy of the StatefulSet](https://kubernetes.io/docs/concepts/workloads/controllers/statefulset/#orderedready-pod-management). In some scenario a user may want to spin up a cluster and his replicas as soon as possible by starting them in parallel using the [Parallel management policy of the StatefulSet](https://kubernetes.io/docs/concepts/workloads/controllers/statefulset/#parallel-pod-management). This may also benefit the CI/CD pipepline (see #630)\n\n### Proposal\n\nAdd property `.spec.pods.managementPolicy` that default to `OrderedReady` and can be also set to `Parallel`\n\n### Testing\n\nSet the default as Parallel for testing\n\n## Acceptance Criteria\n\n* [x] Implement the feature\n* [x] Set the feature behavior as default in tests\n* [ ] Review and merge !1112","state":"closed","created_at":"2022-05-13T12:51:33.081Z","updated_at":"2022-07-11T11:03:26.676Z","closed_at":"2022-07-04T15:38:14.670Z","closed_by":{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"},"labels":["Feature Request","StackGres","sprint::2022-S29-0509-0529","target_version::1.3.0-beta1","team::DEV","workflow::In Review"],"milestone":{"id":2574404,"iid":18,"group_id":3102997,"title":"StackGres 1.3.0-beta1","description":"Codename \"**BYOPE: Bring your own Postgres extension**\"","state":"active","created_at":"2022-04-21T08:27:13.726Z","updated_at":"2022-10-18T07:34:00.411Z","due_date":"2022-07-27","start_date":"2022-05-17","expired":true,"web_url":"https://gitlab.com/groups/ongresinc/-/milestones/18"},"assignees":[{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"}],"author":{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"},"type":"ISSUE","assignee":{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"},"user_notes_count":4,"merge_requests_count":2,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/ongresinc/stackgres/-/issues/1757","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":2},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/12584701/issues/1757","notes":"https://gitlab.com/api/v4/projects/12584701/issues/1757/notes","award_emoji":"https://gitlab.com/api/v4/projects/12584701/issues/1757/award_emoji","project":"https://gitlab.com/api/v4/projects/12584701","closed_as_duplicate_of":null},"references":{"short":"#1757","relative":"#1757","full":"ongresinc/stackgres#1757"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":{"id":55396,"iid":28,"sequence":28,"group_id":3102997,"title":"Iteration S29","description":"","state":3,"created_at":"2022-05-09T08:16:01.372Z","updated_at":"2022-05-14T00:05:02.181Z","start_date":"2022-05-09","due_date":"2022-05-13","web_url":"https://gitlab.com/groups/ongresinc/-/iterations/55396"},"health_status":null},{"id":108507890,"iid":1756,"project_id":12584701,"title":"Cluster cloning fails when scripts include references to configMaps","description":"### Summary\n\nThe web console implements cloning configurations for a SGCluster.\n\nEven though the cloning process works fine, there might be cases on which the cluster to clone contains references to configMaps, which causes the request to fail because of extra information included in the payload.\n\n![image](/uploads/278d9f73b71a09fe9b9456356ff6b226/image.png)\n\n\nThe reason why this fails is because the request includes both, the reference to the configMap and the script associated to it. The later shouldn't be included on the payload.\n\n```\n   \"spec\":{\n      ...\n      \"initialData\":{\n         \"scripts\":[\n            {\n               \"name\":\"map\",\n               \"database\":\"db\",\n               \"scriptFrom\":{\n                  \"configMapScript\":\"CREATE USER pguser2 WITH PASSWORD 'pguser2';\",\n                  \"configMapKeyRef\":{\n                     \"key\":\"script-key\",\n                     \"name\":\"script-configmap\"\n                  }\n               }\n            }\n         ]\n      }\n      ...\n   },\n```\n\n\n#### Steps to reproduce\n\n- Enter the web console\n- Create any cluster with script references to configMaps\n- Clone the created cluster\n- An error like the one on the image above will appear\n\n### Expected Behaviour\n\nThe cloning should work fine even when referencing configMaps\n\n### Possible Solution\n\nRemove the additional `configMapScript` property from the payload\n\n### Environment\n\n- StackGres version: `1.2.0`","state":"closed","created_at":"2022-05-13T12:42:41.932Z","updated_at":"2022-07-11T10:59:02.011Z","closed_at":"2022-05-26T16:40:03.127Z","closed_by":{"id":4461750,"username":"ldgarcia","name":"Luis Garcia","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4461750/avatar.png","web_url":"https://gitlab.com/ldgarcia"},"labels":["Bug","StackGres","priority::P1","sprint::2022-S29-0509-0529","target_version::1.3.0-beta1","team::UI","workflow::In Review"],"milestone":{"id":2574404,"iid":18,"group_id":3102997,"title":"StackGres 1.3.0-beta1","description":"Codename \"**BYOPE: Bring your own Postgres extension**\"","state":"active","created_at":"2022-04-21T08:27:13.726Z","updated_at":"2022-10-18T07:34:00.411Z","due_date":"2022-07-27","start_date":"2022-05-17","expired":true,"web_url":"https://gitlab.com/groups/ongresinc/-/milestones/18"},"assignees":[{"id":4461750,"username":"ldgarcia","name":"Luis Garcia","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4461750/avatar.png","web_url":"https://gitlab.com/ldgarcia"}],"author":{"id":4461750,"username":"ldgarcia","name":"Luis Garcia","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4461750/avatar.png","web_url":"https://gitlab.com/ldgarcia"},"type":"ISSUE","assignee":{"id":4461750,"username":"ldgarcia","name":"Luis Garcia","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4461750/avatar.png","web_url":"https://gitlab.com/ldgarcia"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/ongresinc/stackgres/-/issues/1756","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12584701/issues/1756","notes":"https://gitlab.com/api/v4/projects/12584701/issues/1756/notes","award_emoji":"https://gitlab.com/api/v4/projects/12584701/issues/1756/award_emoji","project":"https://gitlab.com/api/v4/projects/12584701","closed_as_duplicate_of":null},"references":{"short":"#1756","relative":"#1756","full":"ongresinc/stackgres#1756"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":{"id":55396,"iid":28,"sequence":28,"group_id":3102997,"title":"Iteration S29","description":"","state":3,"created_at":"2022-05-09T08:16:01.372Z","updated_at":"2022-05-14T00:05:02.181Z","start_date":"2022-05-09","due_date":"2022-05-13","web_url":"https://gitlab.com/groups/ongresinc/-/iterations/55396"},"health_status":null},{"id":108424538,"iid":1753,"project_id":12584701,"title":"Improve operator helm chart install / upgrade times","description":"Currentrly the operator helm chart takes between 1 and 2 minutes regardless the fact that it needs to update CRDs or not (it always update them) or it has to recreate the certificate or not (it always recreate the certificate). Also the secret for the Web Console user is recreated regardless of the fact that it already exists or not.\n\n## Implementation plan\n\nDetect if CRDs exists and are already upgraded to the latest version by annotating them using the helm chart version. If the CRDs already exists and they are all annotated with the latest version they are considered to be valid.\n Create a flag in order to indicate that the certificate have to be created and in such case\n\n## Acceptance Criteria\n\n* [x] Implement skip of CRD upgrade\n* [x] Implement skip of certificate upgrade\n* [x] Implement skip of Web Console secret upgrade","state":"closed","created_at":"2022-05-12T09:20:29.472Z","updated_at":"2022-07-11T10:59:03.888Z","closed_at":"2022-05-25T10:19:33.545Z","closed_by":{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"},"labels":["Discussion","Refactor","StackGres","priority::P1","sprint::2022-S29-0509-0529","target_version::1.3.0-beta1","team::DEV","workflow::In Review"],"milestone":{"id":2574404,"iid":18,"group_id":3102997,"title":"StackGres 1.3.0-beta1","description":"Codename \"**BYOPE: Bring your own Postgres extension**\"","state":"active","created_at":"2022-04-21T08:27:13.726Z","updated_at":"2022-10-18T07:34:00.411Z","due_date":"2022-07-27","start_date":"2022-05-17","expired":true,"web_url":"https://gitlab.com/groups/ongresinc/-/milestones/18"},"assignees":[{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"}],"author":{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"},"type":"ISSUE","assignee":{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"},"user_notes_count":1,"merge_requests_count":2,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/ongresinc/stackgres/-/issues/1753","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/12584701/issues/1753","notes":"https://gitlab.com/api/v4/projects/12584701/issues/1753/notes","award_emoji":"https://gitlab.com/api/v4/projects/12584701/issues/1753/award_emoji","project":"https://gitlab.com/api/v4/projects/12584701","closed_as_duplicate_of":null},"references":{"short":"#1753","relative":"#1753","full":"ongresinc/stackgres#1753"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":{"id":55396,"iid":28,"sequence":28,"group_id":3102997,"title":"Iteration S29","description":"","state":3,"created_at":"2022-05-09T08:16:01.372Z","updated_at":"2022-05-14T00:05:02.181Z","start_date":"2022-05-09","due_date":"2022-05-13","web_url":"https://gitlab.com/groups/ongresinc/-/iterations/55396"},"health_status":null},{"id":108356624,"iid":1751,"project_id":12584701,"title":"Prevent showing multiple notifications for the same error message","description":"### Summary\n\nWhenever there's an error response coming from the REST API, the web console shows a notification related to it. \n\nThere might be cases where a `502 Bad Gateway` error affects the whole set of requests made to the API, which generates several notifications with the exact same message.\n\n![image](/uploads/933add537f99c8cfa44e98e6beee6c5c/image.png) \n\n\n### Expected Behaviour\n\nIf there is more than one message with the exact same info, only one message should be shown to the user.\n\n### Environment\n\n- StackGres version: `1.1.0`\n\n**Acceptance criteria:**\n- [x] Fix the bug","state":"closed","created_at":"2022-05-11T09:20:29.284Z","updated_at":"2022-07-11T10:58:59.917Z","closed_at":"2022-05-25T11:51:00.638Z","closed_by":{"id":4461750,"username":"ldgarcia","name":"Luis Garcia","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4461750/avatar.png","web_url":"https://gitlab.com/ldgarcia"},"labels":["Bug","StackGres","affected_version::1.1.0","priority::P1","target_version::1.3.0-beta1","team::UI","workflow::In Review"],"milestone":{"id":2574404,"iid":18,"group_id":3102997,"title":"StackGres 1.3.0-beta1","description":"Codename \"**BYOPE: Bring your own Postgres extension**\"","state":"active","created_at":"2022-04-21T08:27:13.726Z","updated_at":"2022-10-18T07:34:00.411Z","due_date":"2022-07-27","start_date":"2022-05-17","expired":true,"web_url":"https://gitlab.com/groups/ongresinc/-/milestones/18"},"assignees":[{"id":4461750,"username":"ldgarcia","name":"Luis Garcia","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4461750/avatar.png","web_url":"https://gitlab.com/ldgarcia"}],"author":{"id":4461750,"username":"ldgarcia","name":"Luis Garcia","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4461750/avatar.png","web_url":"https://gitlab.com/ldgarcia"},"type":"ISSUE","assignee":{"id":4461750,"username":"ldgarcia","name":"Luis Garcia","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4461750/avatar.png","web_url":"https://gitlab.com/ldgarcia"},"user_notes_count":1,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/ongresinc/stackgres/-/issues/1751","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":1},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/12584701/issues/1751","notes":"https://gitlab.com/api/v4/projects/12584701/issues/1751/notes","award_emoji":"https://gitlab.com/api/v4/projects/12584701/issues/1751/award_emoji","project":"https://gitlab.com/api/v4/projects/12584701","closed_as_duplicate_of":null},"references":{"short":"#1751","relative":"#1751","full":"ongresinc/stackgres#1751"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108255015,"iid":1748,"project_id":12584701,"title":"Add missing resources to the can-i REST API endpoint","description":"### Summary\n\nThe `/stackgres/can-i` REST API endpoint does not return permissions for the following resources:\n\n- stats\n- events\n- logs\n- pod/exec\n\nSome permission dependencies related to those resources are required by the web console in order to ensure proper access restrictions.\n\n\n#### Steps to reproduce\n\n1. Call the `/stackgres/can-i` REST API endpoint\n2. The response won't include any of the resources listed above\n\n\n### Expected Behaviour\n\nThe `/stackgres/can-i` REST API endpoint returns permissions for every resource directly accesible via the REST API\n\n\n### Possible Solution\n\nAdd `events`, `stats`, `logs` and `pod/exec` to the list of resources for which permissions are returned in the `caniList()` method of the class `RbacResource`.\n\n### Environment\n\n- StackGres version: 1.2.0\n- Kubernetes version: ?\n- Cloud provider or hardware configuration: ?","state":"closed","created_at":"2022-05-09T15:34:10.590Z","updated_at":"2022-07-20T06:06:43.719Z","closed_at":"2022-07-19T16:46:15.468Z","closed_by":{"id":682120,"username":"gelias","name":"Guilherme Elias","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/682120/avatar.png","web_url":"https://gitlab.com/gelias"},"labels":["Bug","StackGres","priority::P1","sprint::2022-S29-0509-0529","target_version::1.3.0-beta1","team::DEV","workflow::In Review"],"milestone":{"id":2574404,"iid":18,"group_id":3102997,"title":"StackGres 1.3.0-beta1","description":"Codename \"**BYOPE: Bring your own Postgres extension**\"","state":"active","created_at":"2022-04-21T08:27:13.726Z","updated_at":"2022-10-18T07:34:00.411Z","due_date":"2022-07-27","start_date":"2022-05-17","expired":true,"web_url":"https://gitlab.com/groups/ongresinc/-/milestones/18"},"assignees":[{"id":682120,"username":"gelias","name":"Guilherme Elias","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/682120/avatar.png","web_url":"https://gitlab.com/gelias"}],"author":{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"},"type":"ISSUE","assignee":{"id":682120,"username":"gelias","name":"Guilherme Elias","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/682120/avatar.png","web_url":"https://gitlab.com/gelias"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/ongresinc/stackgres/-/issues/1748","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12584701/issues/1748","notes":"https://gitlab.com/api/v4/projects/12584701/issues/1748/notes","award_emoji":"https://gitlab.com/api/v4/projects/12584701/issues/1748/award_emoji","project":"https://gitlab.com/api/v4/projects/12584701","closed_as_duplicate_of":null},"references":{"short":"#1748","relative":"#1748","full":"ongresinc/stackgres#1748"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":19,"epic":{"id":531539,"iid":19,"title":"[StackGres][Dev]Bugs","url":"/groups/ongresinc/-/epics/19","group_id":3102997,"human_readable_end_date":"May 8, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":{"id":55724,"iid":29,"sequence":29,"group_id":3102997,"title":"SG1.3-BETA1","description":"","state":3,"created_at":"2022-05-11T16:32:13.590Z","updated_at":"2022-07-02T00:05:02.185Z","start_date":"2022-05-15","due_date":"2022-07-01","web_url":"https://gitlab.com/groups/ongresinc/-/iterations/55724"},"health_status":null},{"id":107281751,"iid":1735,"project_id":12584701,"title":"Web console won't match field validations on repeaters","description":"### Summary\n\nWhen receiving error responses for POST/PUT requests made to the REST API, the web console might receive information about the fields that caused the error. In such cases, the web console highlights the input with a red border, letting the user know which fields are causing the issue.\n\nThis works fine for single fields which appear only once on the form, but when matching fields contained inside repeaters, the web console does not consider the index of the field coming from the REST API response.\n\n\n### Expected Behaviour\n\nWeb console should match the index of the field coming from the REST API response.\n\n\n### Environment\n\n- StackGres version: `1.1.0`\n\n**Acceptance criteria:**\n- [x] Fix the bug\n- [x] Create a test","state":"closed","created_at":"2022-04-27T10:03:50.604Z","updated_at":"2022-07-11T10:59:02.994Z","closed_at":"2022-05-26T16:27:52.610Z","closed_by":{"id":4461750,"username":"ldgarcia","name":"Luis Garcia","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4461750/avatar.png","web_url":"https://gitlab.com/ldgarcia"},"labels":["Bug","StackGres","affected_version::1.1.0","priority::P1","target_version::1.3.0-beta1","team::UI","week-1","workflow::In Review"],"milestone":{"id":2574404,"iid":18,"group_id":3102997,"title":"StackGres 1.3.0-beta1","description":"Codename \"**BYOPE: Bring your own Postgres extension**\"","state":"active","created_at":"2022-04-21T08:27:13.726Z","updated_at":"2022-10-18T07:34:00.411Z","due_date":"2022-07-27","start_date":"2022-05-17","expired":true,"web_url":"https://gitlab.com/groups/ongresinc/-/milestones/18"},"assignees":[{"id":4461750,"username":"ldgarcia","name":"Luis Garcia","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4461750/avatar.png","web_url":"https://gitlab.com/ldgarcia"}],"author":{"id":4461750,"username":"ldgarcia","name":"Luis Garcia","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4461750/avatar.png","web_url":"https://gitlab.com/ldgarcia"},"type":"ISSUE","assignee":{"id":4461750,"username":"ldgarcia","name":"Luis Garcia","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4461750/avatar.png","web_url":"https://gitlab.com/ldgarcia"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/ongresinc/stackgres/-/issues/1735","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":2},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/12584701/issues/1735","notes":"https://gitlab.com/api/v4/projects/12584701/issues/1735/notes","award_emoji":"https://gitlab.com/api/v4/projects/12584701/issues/1735/award_emoji","project":"https://gitlab.com/api/v4/projects/12584701","closed_as_duplicate_of":null},"references":{"short":"#1735","relative":"#1735","full":"ongresinc/stackgres#1735"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":107280310,"iid":1733,"project_id":12584701,"title":"Backup creation should fail validation if the referenced cluster is not configured for backups and is not a copy of another backup","description":"\n### Summary\n\nCreating a cluster without any backup config allow to create backup from the Web Console and they only show a `pending` state without showing any validation message. \n\n![image](/uploads/a78a5318f9b646f8442bb5bf6ac3f2df/image.png)\n\n![image](/uploads/4de8ef65f55ccad6d0d01966506930f2/image.png)\n\nK8s events shows the validation message:\n\n```\n0s          Warning   BackupConfigFailed                sgbackup/test-backup-1                                         Missing SGBackupConfig for cluster demo-db.demo-db\n0s          Warning   BackupConfigFailed                sgbackup/test-backup-1                                         Backup reconciliation cycle failed: SGBackup demo-db/test-backup-1 target SGCluster demo-db without a SGBackupConfig\n\n```\n\nWeb console events also does not show any backups events:\n\n![image](/uploads/2a40cbb24d2e00dfb7909f83d8b53a8e/image.png)\n\n#### Steps to reproduce\n\n1- Create a SGCluster without a Backup Config\n\n2- Create a Backup from the Web console \n\n3- Check the state from the Web Console\n\n4- Check the k8s Events\n\n### Expected Behaviour\n\nWeb console showing a message indicating that Backup config is missing.  \n\n### Possible Solution\n\nCheck that a `SGBackupConfig` is referenced by the associated `SGCluster` in the validating webhook during creation of any `SGBackup` that does not have section `status.sgBackupConfig` defined. If, in such case, there is no `SGBackupConfig` reference in the associated `SGCluster` a validation error is returned saying \"To create a backup you must first configure the SGCluster for backups\".\n\n### Environment\n\n- StackGres version: 1.2.0-beta1\n\u003c!-- if you have used helm, you can use:  `helm get notes -n stackgres stackgres-operator` \nmore generic: `kubectl get deployments -n stackgres stackgres-operator --template '{{ printf \"%s\\n\" (index .spec.template.spec.containers 0).image }}'`\n--\u003e\n- Kubernetes version: 1.21\n\u003c!--(use `kubectl version`) --\u003e\n- Cloud provider or hardware configuration: Minikube\n\n\n### Relevant logs and/or screenshots\n\n\u003c!-- (Paste any relevant logs - please use code blocks (```) to format console output,\nlogs, and code as it's very hard to read otherwise.) --\u003e","state":"closed","created_at":"2022-04-27T09:39:19.652Z","updated_at":"2022-08-10T18:02:09.547Z","closed_at":"2022-08-10T18:02:09.452Z","closed_by":{"id":682120,"username":"gelias","name":"Guilherme Elias","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/682120/avatar.png","web_url":"https://gitlab.com/gelias"},"labels":["Bug","Bug::reproducible","StackGres","affected_version::1.2.0-beta1","priority::P1","sprint::2022-S29-0509-0529","target_version::1.3.0-RC1","team::DEV","workflow::In Review"],"milestone":{"id":2712673,"iid":19,"group_id":3102997,"title":"StackGres 1.3.0","description":"","state":"active","created_at":"2022-07-26T11:10:26.597Z","updated_at":"2022-10-18T07:38:00.783Z","due_date":"2022-08-23","start_date":"2022-07-17","expired":true,"web_url":"https://gitlab.com/groups/ongresinc/-/milestones/19"},"assignees":[{"id":682120,"username":"gelias","name":"Guilherme Elias","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/682120/avatar.png","web_url":"https://gitlab.com/gelias"}],"author":{"id":2780522,"username":"kadaffy","name":"Kadaffy Talavera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2780522/avatar.png","web_url":"https://gitlab.com/kadaffy"},"type":"ISSUE","assignee":{"id":682120,"username":"gelias","name":"Guilherme Elias","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/682120/avatar.png","web_url":"https://gitlab.com/gelias"},"user_notes_count":8,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/ongresinc/stackgres/-/issues/1733","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":8,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12584701/issues/1733","notes":"https://gitlab.com/api/v4/projects/12584701/issues/1733/notes","award_emoji":"https://gitlab.com/api/v4/projects/12584701/issues/1733/award_emoji","project":"https://gitlab.com/api/v4/projects/12584701","closed_as_duplicate_of":null},"references":{"short":"#1733","relative":"#1733","full":"ongresinc/stackgres#1733"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":107136105,"iid":1732,"project_id":12584701,"title":"Certificate Singing Request does not return the certificate after approval in EKS 1.22","description":"Using EKS 1.22 the certified is approved but not issued:\n\n```\n❯ kubectl get csr -n stackgres\nNAME                 AGE     SIGNERNAME                      REQUESTOR                                                 \nstackgres-operator   2m39s   kubernetes.io/kubelet-serving   system:serviceaccount:stackgres:stackgres-operator-init   \u003cnone\u003e              Approved\n```\n\n```\nkubectl version\nClient Version: version.Info{Major:\"1\", Minor:\"23\", GitVersion:\"v1.23.5\", GitCommit:\"c285e781331a3785a7f436042c65c5641ce8a9e9\", GitTreeState:\"clean\", BuildDate:\"2022-03-16T15:51:05Z\", GoVersion:\"go1.17.8\", Compiler:\"gc\", Platform:\"darwin/arm64\"}\nServer Version: version.Info{Major:\"1\", Minor:\"22+\", GitVersion:\"v1.22.6-eks-7d68063\", GitCommit:\"f24e667e49fb137336f7b064dba897beed639bad\", GitTreeState:\"clean\", BuildDate:\"2022-02-23T19:29:12Z\", GoVersion:\"go1.16.12\", Compiler:\"gc\", Platform:\"linux/amd64\"}\n```\n\n**Acceptance criteria:**\n- [ ] Fix the issue","state":"closed","created_at":"2022-04-25T12:38:44.955Z","updated_at":"2022-11-09T06:07:17.880Z","closed_at":"2022-11-08T13:13:16.420Z","closed_by":{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"},"labels":["Bug","StackGres","affected_version::1.0.0","priority::P2","target_version::1.4.0-RC1","team::DEV","workflow::In Review"],"milestone":{"id":2839402,"iid":25,"group_id":3102997,"title":"StackGres 1.4.0-RC1","description":"","state":"active","created_at":"2022-10-20T12:50:40.205Z","updated_at":"2022-10-20T12:50:40.205Z","due_date":"2022-11-08","start_date":"2022-10-20","expired":true,"web_url":"https://gitlab.com/groups/ongresinc/-/milestones/25"},"assignees":[{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"}],"author":{"id":682120,"username":"gelias","name":"Guilherme Elias","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/682120/avatar.png","web_url":"https://gitlab.com/gelias"},"type":"ISSUE","assignee":{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"},"user_notes_count":4,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/ongresinc/stackgres/-/issues/1732","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/12584701/issues/1732","notes":"https://gitlab.com/api/v4/projects/12584701/issues/1732/notes","award_emoji":"https://gitlab.com/api/v4/projects/12584701/issues/1732/award_emoji","project":"https://gitlab.com/api/v4/projects/12584701","closed_as_duplicate_of":null},"references":{"short":"#1732","relative":"#1732","full":"ongresinc/stackgres#1732"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":19,"epic":{"id":531539,"iid":19,"title":"[StackGres][Dev]Bugs","url":"/groups/ongresinc/-/epics/19","group_id":3102997,"human_readable_end_date":"May 8, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":106960975,"iid":1725,"project_id":12584701,"title":"Upgrade E2E framework to use kind 0.14.0","description":"The following discussion from !1089 should be addressed:\n\n- [ ] @jorsol started a [discussion](https://gitlab.com/ongresinc/stackgres/-/merge_requests/1089#note_919378721):  (+1 comment)\n\n    \u003e Ideally use 1.18.20 that resolve a regression introduced in 1.18.19\n\nAcceptance criteria \n- [  ] execute upgrade","state":"closed","created_at":"2022-04-21T10:12:10.325Z","updated_at":"2022-07-11T11:03:09.290Z","closed_at":"2022-06-27T12:53:55.382Z","closed_by":{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"},"labels":["StackGres","Tests","priority::P1","sprint::2022-S29-0509-0529","target_version::1.3.0-beta1","team::DEV","week-3","week-4","workflow::In Review"],"milestone":{"id":2574404,"iid":18,"group_id":3102997,"title":"StackGres 1.3.0-beta1","description":"Codename \"**BYOPE: Bring your own Postgres extension**\"","state":"active","created_at":"2022-04-21T08:27:13.726Z","updated_at":"2022-10-18T07:34:00.411Z","due_date":"2022-07-27","start_date":"2022-05-17","expired":true,"web_url":"https://gitlab.com/groups/ongresinc/-/milestones/18"},"assignees":[{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"}],"author":{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"},"type":"ISSUE","assignee":{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"},"user_notes_count":1,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/ongresinc/stackgres/-/issues/1725","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":8,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/12584701/issues/1725","notes":"https://gitlab.com/api/v4/projects/12584701/issues/1725/notes","award_emoji":"https://gitlab.com/api/v4/projects/12584701/issues/1725/award_emoji","project":"https://gitlab.com/api/v4/projects/12584701","closed_as_duplicate_of":null},"references":{"short":"#1725","relative":"#1725","full":"ongresinc/stackgres#1725"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":{"id":55724,"iid":29,"sequence":29,"group_id":3102997,"title":"SG1.3-BETA1","description":"","state":3,"created_at":"2022-05-11T16:32:13.590Z","updated_at":"2022-07-02T00:05:02.185Z","start_date":"2022-05-15","due_date":"2022-07-01","web_url":"https://gitlab.com/groups/ongresinc/-/iterations/55724"},"health_status":null},{"id":106134901,"iid":1707,"project_id":12584701,"title":"Tolerations for SGDbOps","description":"\u003c!--\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"Feature Request\" label.\n\nIssue tracker:\n\n- https://gitlab.com/ongresinc/stackgres/-/issues?label_name=Feature%20Request \nand verify the issue you're about to submit isn't a duplicate.\n--\u003e\n\n### Problem to solve\n\nCurrently, we are running StackGres Cluster on our k8s cluster where all the nodes have taints. There is a need to add taints to even the pods for SGDbOps.\nCurrently, this is not supported and it would be helpful to add these tolerations to all the SGDbOps.\n\n\n\n### Further details\n\n\u003c!-- Include use cases, benefits, and/or goals --\u003e\nConsider a case where all the nodes are tainted in a cluster and we need to run SGDbOps on this cluster.\n\n### Proposal\n\n\u003c!-- How could we going to solve the problem? --\u003e\nPlease add tolerations capability for SGDbOps.\n\nSGCluster example:\n\n```yaml\nsgCluster:\nscheduling:\n  tolerations:\n    items:\n      key:\n      operator:\n      value:\n      effect:\n      tolerationSeconds:\n```\n\n### Testing\n\n\u003c!-- What risks does this change pose? How might it affect the quality of the product?  --\u003e\nSeems like a minor change that wouldn't affect the functionality much.\n\n\n**Acceptance Criteria:**\n- [ ] Able to add tolerations to any type of SGDbOps.\n- [ ] Update documentation of the CRD\n- [ ] Test the implementation","state":"closed","created_at":"2022-04-06T00:54:57.563Z","updated_at":"2022-07-11T11:03:06.366Z","closed_at":"2022-07-01T09:43:16.805Z","closed_by":{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"},"labels":["Feature Request","StackGres","priority::P1","target_version::1.3.0-beta1","team::DEV","week-1","workflow::In Review"],"milestone":{"id":2574404,"iid":18,"group_id":3102997,"title":"StackGres 1.3.0-beta1","description":"Codename \"**BYOPE: Bring your own Postgres extension**\"","state":"active","created_at":"2022-04-21T08:27:13.726Z","updated_at":"2022-10-18T07:34:00.411Z","due_date":"2022-07-27","start_date":"2022-05-17","expired":true,"web_url":"https://gitlab.com/groups/ongresinc/-/milestones/18"},"assignees":[{"id":682120,"username":"gelias","name":"Guilherme Elias","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/682120/avatar.png","web_url":"https://gitlab.com/gelias"}],"author":{"id":11263522,"username":"deepak.s.nalore","name":"Deepak S","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a726b302399c8c4d5de40c10fb3306b4?s=80\u0026d=identicon","web_url":"https://gitlab.com/deepak.s.nalore"},"type":"ISSUE","assignee":{"id":682120,"username":"gelias","name":"Guilherme Elias","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/682120/avatar.png","web_url":"https://gitlab.com/gelias"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/ongresinc/stackgres/-/issues/1707","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":0},"weight":16,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/12584701/issues/1707","notes":"https://gitlab.com/api/v4/projects/12584701/issues/1707/notes","award_emoji":"https://gitlab.com/api/v4/projects/12584701/issues/1707/award_emoji","project":"https://gitlab.com/api/v4/projects/12584701","closed_as_duplicate_of":null},"references":{"short":"#1707","relative":"#1707","full":"ongresinc/stackgres#1707"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":{"id":55724,"iid":29,"sequence":29,"group_id":3102997,"title":"SG1.3-BETA1","description":"","state":3,"created_at":"2022-05-11T16:32:13.590Z","updated_at":"2022-07-02T00:05:02.185Z","start_date":"2022-05-15","due_date":"2022-07-01","web_url":"https://gitlab.com/groups/ongresinc/-/iterations/55724"},"health_status":null},{"id":105464612,"iid":1690,"project_id":12584701,"title":"Enhance Web Console's usability/discoverability of the \"enable monitoring\" option when creating a cluster","description":"Monitoring is one of the most important features you may want from a Postgres cluster. In SG it is not enabled by default, and that's probably fine. It also depends on the user installing the optional dependencies that the user requires for monitoring, and we don't have much control over that.\n\nHowever, if you have installed the dependencies, discovering how to enable monitoring for the cluster is not immediate. It is \"hidden\" under `Advanced options` and then `Sidecars`. Not very intuitive.\n\nIt actually makes sense where it is, since it requires deploying a sidecar. However, we should *also* make it more accessible. Therefore I propose to add in the main screen, `Cluster` section, at the bottom, a simple checkbox with the following text and tooltip:\n\n* Text: _Enable monitoring_\n* Tooltip: _StackGres supports enabling automatic monitoring for your Postgres cluster, but you need to provide or install the [Prometheus stack as a pre-requisite](https://stackgres.io/doc/latest/install/prerequisites/monitoring/). Then, check this option to configure automatically sending metrics to the Prometheus stack_.\n\nThis won't change anything under the `Sidecars` section, other than the enabled/disabled status in both the `Cluster` and `Sidecars` section needs to stay in sync.\n\n**Acceptance criteria:**\n- [x] Adapt the UI to attend the request\n- [x] Tests of the implementation","state":"closed","created_at":"2022-03-24T21:59:42.488Z","updated_at":"2022-07-11T11:02:27.155Z","closed_at":"2022-06-08T07:12:36.377Z","closed_by":{"id":4461750,"username":"ldgarcia","name":"Luis Garcia","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4461750/avatar.png","web_url":"https://gitlab.com/ldgarcia"},"labels":["Design","StackGres","priority::P1","sprint::2022-S29-0509-0529","target_version::1.3.0-beta1","team::UI","week-1","workflow::In Review"],"milestone":{"id":2574404,"iid":18,"group_id":3102997,"title":"StackGres 1.3.0-beta1","description":"Codename \"**BYOPE: Bring your own Postgres extension**\"","state":"active","created_at":"2022-04-21T08:27:13.726Z","updated_at":"2022-10-18T07:34:00.411Z","due_date":"2022-07-27","start_date":"2022-05-17","expired":true,"web_url":"https://gitlab.com/groups/ongresinc/-/milestones/18"},"assignees":[{"id":3344912,"username":"osaletsk","name":"Olesya Saletska","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3344912/avatar.png","web_url":"https://gitlab.com/osaletsk"}],"author":{"id":2483568,"username":"ahachete","name":"Alvaro Hernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/5af6a3c5c96061774cc52fd45ba305da?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahachete"},"type":"ISSUE","assignee":{"id":3344912,"username":"osaletsk","name":"Olesya Saletska","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3344912/avatar.png","web_url":"https://gitlab.com/osaletsk"},"user_notes_count":4,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/ongresinc/stackgres/-/issues/1690","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":2},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/12584701/issues/1690","notes":"https://gitlab.com/api/v4/projects/12584701/issues/1690/notes","award_emoji":"https://gitlab.com/api/v4/projects/12584701/issues/1690/award_emoji","project":"https://gitlab.com/api/v4/projects/12584701","closed_as_duplicate_of":null},"references":{"short":"#1690","relative":"#1690","full":"ongresinc/stackgres#1690"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":37,"epic":{"id":540872,"iid":37,"title":"[StackGres][UI] UI native features","url":"/groups/ongresinc/-/epics/37","group_id":3102997,"human_readable_end_date":"May 8, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":{"id":55396,"iid":28,"sequence":28,"group_id":3102997,"title":"Iteration S29","description":"","state":3,"created_at":"2022-05-09T08:16:01.372Z","updated_at":"2022-05-14T00:05:02.181Z","start_date":"2022-05-09","due_date":"2022-05-13","web_url":"https://gitlab.com/groups/ongresinc/-/iterations/55396"},"health_status":null},{"id":105038385,"iid":1672,"project_id":12584701,"title":"Annotations, affinity, tolerations, and nodeSelector to be added in operator helm chart","description":"Requesting a change to the operator helm chart.\n\nThe helm chart is missing these scheduling properties (affinity, tolerations and nodeSelector) and the ability to add annotations to Pods, Services and ServiceAccounts.\n\nThese are required if it is preferred for the StackGres operator to be deployed to a particular node only or for any special configuration that some tools or cloud environments provide.\n\n# Proposal\n\nAdd the following sections to the operator helm chart `values.yaml`\n\n```yaml\noperator:\n  annotations: {}\n  service:\n    annotations: {}\n  serviceAccount:\n    annotations: {}\n  affinity: {}\n  tolerations: {}\n  nodeSelector: {}\nrestapi:\n  annotations: {}\n  service:\n    annotations: {}\n  serviceAccount:\n    annotations: {}\n  affinity: {}\n  tolerations: {}\n  nodeSelector: {}\njobs:\n  annotations: {}\n  service:\n    annotations: {}\n  serviceAccount:\n    annotations: {}\n  affinity: {}\n  tolerations: {}\n  nodeSelector: {}\n```\n\n**Acceptance criteria:**\n- [x] Add the node property on the helm chart\n- [ ] Update the documentation on the CRD\n- [ ] Test the implementation","state":"closed","created_at":"2022-03-18T01:52:03.202Z","updated_at":"2022-07-11T11:03:07.858Z","closed_at":"2022-06-23T18:45:12.498Z","closed_by":{"id":682120,"username":"gelias","name":"Guilherme Elias","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/682120/avatar.png","web_url":"https://gitlab.com/gelias"},"labels":["Discussion","Feature Request","priority::P1","sprint::2022-S29-0509-0529","target_version::1.3.0-beta1","team::DEV","week-3","week-4","workflow::In Progress"],"milestone":{"id":2574404,"iid":18,"group_id":3102997,"title":"StackGres 1.3.0-beta1","description":"Codename \"**BYOPE: Bring your own Postgres extension**\"","state":"active","created_at":"2022-04-21T08:27:13.726Z","updated_at":"2022-10-18T07:34:00.411Z","due_date":"2022-07-27","start_date":"2022-05-17","expired":true,"web_url":"https://gitlab.com/groups/ongresinc/-/milestones/18"},"assignees":[{"id":682120,"username":"gelias","name":"Guilherme Elias","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/682120/avatar.png","web_url":"https://gitlab.com/gelias"}],"author":{"id":11143950,"username":"rajali","name":"Ali Rajput","state":"active","avatar_url":"https://secure.gravatar.com/avatar/899817b05abc3abe8409dd02ffd88f66?s=80\u0026d=identicon","web_url":"https://gitlab.com/rajali"},"type":"ISSUE","assignee":{"id":682120,"username":"gelias","name":"Guilherme Elias","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/682120/avatar.png","web_url":"https://gitlab.com/gelias"},"user_notes_count":6,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/ongresinc/stackgres/-/issues/1672","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":1},"weight":8,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/12584701/issues/1672","notes":"https://gitlab.com/api/v4/projects/12584701/issues/1672/notes","award_emoji":"https://gitlab.com/api/v4/projects/12584701/issues/1672/award_emoji","project":"https://gitlab.com/api/v4/projects/12584701","closed_as_duplicate_of":null},"references":{"short":"#1672","relative":"#1672","full":"ongresinc/stackgres#1672"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":{"id":55396,"iid":28,"sequence":28,"group_id":3102997,"title":"Iteration S29","description":"","state":3,"created_at":"2022-05-09T08:16:01.372Z","updated_at":"2022-05-14T00:05:02.181Z","start_date":"2022-05-09","due_date":"2022-05-13","web_url":"https://gitlab.com/groups/ongresinc/-/iterations/55396"},"health_status":null},{"id":104379545,"iid":1653,"project_id":12584701,"title":"Validate cloning of resources from the web console when the resource contains references to secrets","description":"### The Problem\n\nThe web console implements cloning features for most of the CRDs supported by StackGres.\n\nEven though the cloning process works fine, there might be cases on which the resource to clone contains references to secrets which cannot be accessed from the REST API, so it is quite possible that the cloned resource does not take into account such specs.\n\n\n### The Request\n\nWe should validate what would happen for such cases and, if needed, create an issue to implement any adjustments that might be needed to let the user know about such limitations during the cloning process.\n\n**Acceptance criteria:**\n- [x] Make a POC to verify there is a bug","state":"closed","created_at":"2022-03-08T11:37:00.602Z","updated_at":"2022-07-11T10:58:44.976Z","closed_at":"2022-05-13T12:44:02.361Z","closed_by":{"id":4461750,"username":"ldgarcia","name":"Luis Garcia","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4461750/avatar.png","web_url":"https://gitlab.com/ldgarcia"},"labels":["QA","StackGres","priority::P1","target_version::1.3.0-beta1","team::UI","workflow::In Progress"],"milestone":{"id":2574404,"iid":18,"group_id":3102997,"title":"StackGres 1.3.0-beta1","description":"Codename \"**BYOPE: Bring your own Postgres extension**\"","state":"active","created_at":"2022-04-21T08:27:13.726Z","updated_at":"2022-10-18T07:34:00.411Z","due_date":"2022-07-27","start_date":"2022-05-17","expired":true,"web_url":"https://gitlab.com/groups/ongresinc/-/milestones/18"},"assignees":[{"id":4461750,"username":"ldgarcia","name":"Luis Garcia","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4461750/avatar.png","web_url":"https://gitlab.com/ldgarcia"}],"author":{"id":4461750,"username":"ldgarcia","name":"Luis Garcia","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4461750/avatar.png","web_url":"https://gitlab.com/ldgarcia"},"type":"ISSUE","assignee":{"id":4461750,"username":"ldgarcia","name":"Luis Garcia","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4461750/avatar.png","web_url":"https://gitlab.com/ldgarcia"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/ongresinc/stackgres/-/issues/1653","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":1},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/12584701/issues/1653","notes":"https://gitlab.com/api/v4/projects/12584701/issues/1653/notes","award_emoji":"https://gitlab.com/api/v4/projects/12584701/issues/1653/award_emoji","project":"https://gitlab.com/api/v4/projects/12584701","closed_as_duplicate_of":null},"references":{"short":"#1653","relative":"#1653","full":"ongresinc/stackgres#1653"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":{"id":55396,"iid":28,"sequence":28,"group_id":3102997,"title":"Iteration S29","description":"","state":3,"created_at":"2022-05-09T08:16:01.372Z","updated_at":"2022-05-14T00:05:02.181Z","start_date":"2022-05-09","due_date":"2022-05-13","web_url":"https://gitlab.com/groups/ongresinc/-/iterations/55396"},"health_status":null},{"id":102047019,"iid":1591,"project_id":12584701,"title":"Allow specify loadBalancerIP for postgres services","description":"### Problem to solve\n\nCurrently, it is not possible to specify a custom load balancer IP for the Postgres services, the idea of this is to be able to set a custom load balancer IP for R/W and R/O connections, this also allows to keep the same IP in case if it's necessary to recreate the services.\n\n### Proposal\n\nIn the SGCluster services section allows to add a custom load balancer IP (SGCluster and DistributedLogs)\n\n```yaml\npostgresServices:\n    primary:\n      type: LoadBalancer\n      loadBalancerIP: 80.11.12.10\n    replicas:\n      type: LoadBalancer\n      loadBalancerIP: 80.11.12.11\n```\n\nAnd generate a service like: \n\n```yaml\napiVersion: v1\nkind: Service\nmetadata:\n  name: my-cluster\nspec:\n  selector:\n    app: StackGresCluster\n    cluster-name: my-cluster\n    role: master\n  ports:\n    - name: pgport\n      protocol: TCP\n      port: 5432\n      targetPort: pgport\n  loadBalancerIP: 80.11.12.10\n```\n\n### Links / references\n\nhttps://kubernetes.io/docs/concepts/services-networking/service/#loadbalancer\n\n**Acceptance criteria:**\n- [x] Implement the CRDs (SGCluster and DistributedLogs) \n- [x] Implement the change on the REST API(SGCluster and DistributedLogs)\n- [x] Implement the change on the cluster demo helm chart(SGCluster and DistributedLogs)\n- [ ] Create an Issue for the UI @jose_oss_pg todo\n- [x] Create tests\n- [x] Documentation(SGCluster and DistributedLogs)","state":"closed","created_at":"2022-02-08T09:51:25.210Z","updated_at":"2022-07-11T11:03:07.453Z","closed_at":"2022-06-28T11:58:48.832Z","closed_by":{"id":682120,"username":"gelias","name":"Guilherme Elias","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/682120/avatar.png","web_url":"https://gitlab.com/gelias"},"labels":["Feature Request","StackGres","priority::P1","sprint::2022-S29-0509-0529","target_version::1.3.0-beta1","team::DEV","workflow::In Progress"],"milestone":{"id":2574404,"iid":18,"group_id":3102997,"title":"StackGres 1.3.0-beta1","description":"Codename \"**BYOPE: Bring your own Postgres extension**\"","state":"active","created_at":"2022-04-21T08:27:13.726Z","updated_at":"2022-10-18T07:34:00.411Z","due_date":"2022-07-27","start_date":"2022-05-17","expired":true,"web_url":"https://gitlab.com/groups/ongresinc/-/milestones/18"},"assignees":[{"id":682120,"username":"gelias","name":"Guilherme Elias","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/682120/avatar.png","web_url":"https://gitlab.com/gelias"}],"author":{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"},"type":"ISSUE","assignee":{"id":682120,"username":"gelias","name":"Guilherme Elias","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/682120/avatar.png","web_url":"https://gitlab.com/gelias"},"user_notes_count":3,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/ongresinc/stackgres/-/issues/1591","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":5},"weight":16,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/12584701/issues/1591","notes":"https://gitlab.com/api/v4/projects/12584701/issues/1591/notes","award_emoji":"https://gitlab.com/api/v4/projects/12584701/issues/1591/award_emoji","project":"https://gitlab.com/api/v4/projects/12584701","closed_as_duplicate_of":null},"references":{"short":"#1591","relative":"#1591","full":"ongresinc/stackgres#1591"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":{"id":55396,"iid":28,"sequence":28,"group_id":3102997,"title":"Iteration S29","description":"","state":3,"created_at":"2022-05-09T08:16:01.372Z","updated_at":"2022-05-14T00:05:02.181Z","start_date":"2022-05-09","due_date":"2022-05-13","web_url":"https://gitlab.com/groups/ongresinc/-/iterations/55396"},"health_status":null},{"id":101997159,"iid":1589,"project_id":12584701,"title":"Support cascading, remote and WAL-based SGCluster replication on the web console","description":"Once we're done with #864 / #1547, we must add support for cascading, remote and WAL-based SGCluster replication specs as proposed on #866\n\n**Acceptance criteria:**\n- [ ] Define and implement the UI changes\n- [ ] Create tests","state":"closed","created_at":"2022-02-07T13:17:11.547Z","updated_at":"2022-10-25T06:06:34.607Z","closed_at":"2022-10-24T11:16:23.727Z","closed_by":{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"},"labels":["Feature Request","StackGres","priority::P1","sprint::2022-S29-0509-0529","target_version::1.4.0-RC1","team::UI","workflow::Ready"],"milestone":{"id":2839402,"iid":25,"group_id":3102997,"title":"StackGres 1.4.0-RC1","description":"","state":"active","created_at":"2022-10-20T12:50:40.205Z","updated_at":"2022-10-20T12:50:40.205Z","due_date":"2022-11-08","start_date":"2022-10-20","expired":true,"web_url":"https://gitlab.com/groups/ongresinc/-/milestones/25"},"assignees":[],"author":{"id":4461750,"username":"ldgarcia","name":"Luis Garcia","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4461750/avatar.png","web_url":"https://gitlab.com/ldgarcia"},"type":"ISSUE","assignee":null,"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/ongresinc/stackgres/-/issues/1589","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":16,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/12584701/issues/1589","notes":"https://gitlab.com/api/v4/projects/12584701/issues/1589/notes","award_emoji":"https://gitlab.com/api/v4/projects/12584701/issues/1589/award_emoji","project":"https://gitlab.com/api/v4/projects/12584701","closed_as_duplicate_of":null},"references":{"short":"#1589","relative":"#1589","full":"ongresinc/stackgres#1589"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":36,"epic":{"id":540857,"iid":36,"title":"[StackGres][UI]Support for backend features","url":"/groups/ongresinc/-/epics/36","group_id":3102997,"human_readable_end_date":"Aug 31, 2023","human_readable_timestamp":"\u003cstrong\u003e4\u003c/strong\u003e months remaining"},"iteration":{"id":55724,"iid":29,"sequence":29,"group_id":3102997,"title":"SG1.3-BETA1","description":"","state":3,"created_at":"2022-05-11T16:32:13.590Z","updated_at":"2022-07-02T00:05:02.185Z","start_date":"2022-05-15","due_date":"2022-07-01","web_url":"https://gitlab.com/groups/ongresinc/-/iterations/55724"},"health_status":null},{"id":101233260,"iid":1565,"project_id":12584701,"title":"Support SGObjectStorage CRD on the web console","description":"The web console should support management of SGObjectStorage CRDs. This resource is, basically, the sub-object of `SGBackupConfig.storage`.\n\nA new entry on the sidebar should be included, with the corresponding icon/links/actions for such new resource.\n\n**Acceptance criteria:**\n- [x] Development of the feature\n- [x] Test the feature","state":"closed","created_at":"2022-01-25T16:23:27.688Z","updated_at":"2022-07-11T11:03:06.563Z","closed_at":"2022-06-27T21:12:37.490Z","closed_by":{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"},"labels":["Feature Request","StackGres","priority::P1","target_version::1.3.0-beta1","team::UI","workflow::In Progress"],"milestone":{"id":2574404,"iid":18,"group_id":3102997,"title":"StackGres 1.3.0-beta1","description":"Codename \"**BYOPE: Bring your own Postgres extension**\"","state":"active","created_at":"2022-04-21T08:27:13.726Z","updated_at":"2022-10-18T07:34:00.411Z","due_date":"2022-07-27","start_date":"2022-05-17","expired":true,"web_url":"https://gitlab.com/groups/ongresinc/-/milestones/18"},"assignees":[{"id":4461750,"username":"ldgarcia","name":"Luis Garcia","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4461750/avatar.png","web_url":"https://gitlab.com/ldgarcia"}],"author":{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"},"type":"ISSUE","assignee":{"id":4461750,"username":"ldgarcia","name":"Luis Garcia","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4461750/avatar.png","web_url":"https://gitlab.com/ldgarcia"},"user_notes_count":4,"merge_requests_count":2,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/ongresinc/stackgres/-/issues/1565","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":2},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/12584701/issues/1565","notes":"https://gitlab.com/api/v4/projects/12584701/issues/1565/notes","award_emoji":"https://gitlab.com/api/v4/projects/12584701/issues/1565/award_emoji","project":"https://gitlab.com/api/v4/projects/12584701","closed_as_duplicate_of":null},"references":{"short":"#1565","relative":"#1565","full":"ongresinc/stackgres#1565"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":36,"epic":{"id":540857,"iid":36,"title":"[StackGres][UI]Support for backend features","url":"/groups/ongresinc/-/epics/36","group_id":3102997,"human_readable_end_date":"Aug 31, 2023","human_readable_timestamp":"\u003cstrong\u003e4\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":101231211,"iid":1564,"project_id":12584701,"title":"Create SGObjectStorage CRD","description":"Related to #862.\n\nThis issue only require the following feature:\n\n* Create an `SGObjectStorage` CRD extracting the model from `SGBackupConfig` `.spec.storage` into the field `.spec` of the new `SGObjectStorage`.\n* Add endpoints in the REST API to list, get, create, patch and delete `SGObjectStorage`.\n\n**Acceptance criteria:**\n- [x] Implement the CRD\n- [x] Implement REST API\n- [x] Document the implementation\n- [x] Test the implementation","state":"closed","created_at":"2022-01-25T15:52:13.506Z","updated_at":"2022-07-11T11:03:09.689Z","closed_at":"2022-06-27T21:12:37.625Z","closed_by":{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"},"labels":["Feature Request","StackGres","priority::P1","sprint::2022-S24-0124-0213","target_version::1.3.0-beta1","team::DEV","week-1","week-2","week-3","week-4","workflow::In Review"],"milestone":{"id":2574404,"iid":18,"group_id":3102997,"title":"StackGres 1.3.0-beta1","description":"Codename \"**BYOPE: Bring your own Postgres extension**\"","state":"active","created_at":"2022-04-21T08:27:13.726Z","updated_at":"2022-10-18T07:34:00.411Z","due_date":"2022-07-27","start_date":"2022-05-17","expired":true,"web_url":"https://gitlab.com/groups/ongresinc/-/milestones/18"},"assignees":[{"id":2650051,"username":"jorsol","name":"Jorge Solórzano","state":"active","avatar_url":"https://secure.gravatar.com/avatar/1aa38ab39a9a9e7ada1e8ea86442debe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jorsol"}],"author":{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"},"type":"ISSUE","assignee":{"id":2650051,"username":"jorsol","name":"Jorge Solórzano","state":"active","avatar_url":"https://secure.gravatar.com/avatar/1aa38ab39a9a9e7ada1e8ea86442debe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jorsol"},"user_notes_count":8,"merge_requests_count":2,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/ongresinc/stackgres/-/issues/1564","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":4},"weight":24,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/12584701/issues/1564","notes":"https://gitlab.com/api/v4/projects/12584701/issues/1564/notes","award_emoji":"https://gitlab.com/api/v4/projects/12584701/issues/1564/award_emoji","project":"https://gitlab.com/api/v4/projects/12584701","closed_as_duplicate_of":null},"references":{"short":"#1564","relative":"#1564","full":"ongresinc/stackgres#1564"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":{"id":42155,"iid":23,"sequence":23,"group_id":3102997,"title":"Iteration S24","description":null,"state":3,"created_at":"2021-12-07T16:39:55.838Z","updated_at":"2022-02-14T00:05:02.254Z","start_date":"2022-01-24","due_date":"2022-02-13","web_url":"https://gitlab.com/groups/ongresinc/-/iterations/42155"},"health_status":null},{"id":100837004,"iid":1546,"project_id":12584701,"title":"Support new backup configuration in SGCluster on the web console","description":"When #862 is done, apply the following proposed spec on the SGCluster CRD:\n\n```yaml\nspec:\n  configurations:\n    sgBackupConfig: \u003cstring\u003e # this does not change bu will be deprecated and mutually exclusive with `backups` field.\n    backups:\n    - path: \u003cstring\u003e\n      compression: \u003cstring\u003e\n      cronSchedule: \u003cstring\u003e\n      performance:\n        maxDiskBandwitdh: \u003cinteger\u003e\n        maxNetworkBandwitdh: \u003cinteger\u003e\n        uploadDiskConcurrency: \u003cinteger\u003e\n      retention: \u003cinteger\u003e\n      sgObjectStorage: \u003cstring\u003e # name of an SGObjectStorage in the same namespace\n```\n\n**Implementation plan:**\n\n- [ ] Detail the CRUD model for this CRD.\n\n**Acceptance criteria:**\n- [x] Implement the CRUD.\n- [x] Implement some tests.","state":"closed","created_at":"2022-01-18T12:28:28.758Z","updated_at":"2022-07-11T11:03:09.482Z","closed_at":"2022-06-27T21:12:37.268Z","closed_by":{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"},"labels":["Feature Request","StackGres","priority::P1","target_version::1.3.0-beta1","team::UI","workflow::In Review"],"milestone":{"id":2574404,"iid":18,"group_id":3102997,"title":"StackGres 1.3.0-beta1","description":"Codename \"**BYOPE: Bring your own Postgres extension**\"","state":"active","created_at":"2022-04-21T08:27:13.726Z","updated_at":"2022-10-18T07:34:00.411Z","due_date":"2022-07-27","start_date":"2022-05-17","expired":true,"web_url":"https://gitlab.com/groups/ongresinc/-/milestones/18"},"assignees":[{"id":4461750,"username":"ldgarcia","name":"Luis Garcia","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4461750/avatar.png","web_url":"https://gitlab.com/ldgarcia"}],"author":{"id":4461750,"username":"ldgarcia","name":"Luis Garcia","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4461750/avatar.png","web_url":"https://gitlab.com/ldgarcia"},"type":"ISSUE","assignee":{"id":4461750,"username":"ldgarcia","name":"Luis Garcia","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4461750/avatar.png","web_url":"https://gitlab.com/ldgarcia"},"user_notes_count":1,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/ongresinc/stackgres/-/issues/1546","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":2},"weight":16,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/12584701/issues/1546","notes":"https://gitlab.com/api/v4/projects/12584701/issues/1546/notes","award_emoji":"https://gitlab.com/api/v4/projects/12584701/issues/1546/award_emoji","project":"https://gitlab.com/api/v4/projects/12584701","closed_as_duplicate_of":null},"references":{"short":"#1546","relative":"#1546","full":"ongresinc/stackgres#1546"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":36,"epic":{"id":540857,"iid":36,"title":"[StackGres][UI]Support for backend features","url":"/groups/ongresinc/-/epics/36","group_id":3102997,"human_readable_end_date":"Aug 31, 2023","human_readable_timestamp":"\u003cstrong\u003e4\u003c/strong\u003e months remaining"},"iteration":{"id":55396,"iid":28,"sequence":28,"group_id":3102997,"title":"Iteration S29","description":"","state":3,"created_at":"2022-05-09T08:16:01.372Z","updated_at":"2022-05-14T00:05:02.181Z","start_date":"2022-05-09","due_date":"2022-05-13","web_url":"https://gitlab.com/groups/ongresinc/-/iterations/55396"},"health_status":null},{"id":100784327,"iid":1545,"project_id":12584701,"title":"Support ManagedSQL operation on the web console","description":"When #970 is done, the web console should include ManagedSQL in the SGDbOps list. The operation specs details are yet to be defined on #970","state":"closed","created_at":"2022-01-17T15:35:01.785Z","updated_at":"2022-07-22T14:52:42.886Z","closed_at":"2022-07-22T14:38:19.046Z","closed_by":{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"},"labels":["Feature Request","StackGres","priority::P1","sprint::2022-S29-0509-0529","target_version::1.3.0-beta1","team::UI","workflow::In Review"],"milestone":{"id":2574404,"iid":18,"group_id":3102997,"title":"StackGres 1.3.0-beta1","description":"Codename \"**BYOPE: Bring your own Postgres extension**\"","state":"active","created_at":"2022-04-21T08:27:13.726Z","updated_at":"2022-10-18T07:34:00.411Z","due_date":"2022-07-27","start_date":"2022-05-17","expired":true,"web_url":"https://gitlab.com/groups/ongresinc/-/milestones/18"},"assignees":[{"id":4461750,"username":"ldgarcia","name":"Luis Garcia","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4461750/avatar.png","web_url":"https://gitlab.com/ldgarcia"}],"author":{"id":4461750,"username":"ldgarcia","name":"Luis Garcia","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4461750/avatar.png","web_url":"https://gitlab.com/ldgarcia"},"type":"ISSUE","assignee":{"id":4461750,"username":"ldgarcia","name":"Luis Garcia","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4461750/avatar.png","web_url":"https://gitlab.com/ldgarcia"},"user_notes_count":2,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/ongresinc/stackgres/-/issues/1545","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":24,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12584701/issues/1545","notes":"https://gitlab.com/api/v4/projects/12584701/issues/1545/notes","award_emoji":"https://gitlab.com/api/v4/projects/12584701/issues/1545/award_emoji","project":"https://gitlab.com/api/v4/projects/12584701","closed_as_duplicate_of":null},"references":{"short":"#1545","relative":"#1545","full":"ongresinc/stackgres#1545"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":36,"epic":{"id":540857,"iid":36,"title":"[StackGres][UI]Support for backend features","url":"/groups/ongresinc/-/epics/36","group_id":3102997,"human_readable_end_date":"Aug 31, 2023","human_readable_timestamp":"\u003cstrong\u003e4\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":100131128,"iid":1532,"project_id":12584701,"title":"Set default log_statement value to none for SGPostgresConfig","description":"Default `log_statement` value is set to `ddl` when creating an `SGPostgresConfig`. With such configuration value users passwords will be logged during creation or modification of users. This is a security flaw allowing someone with access to the database logs to see users credentials if the statement is not protected by setting `log_statement` to `none` for local session prior execution of any of those commands. \n\n## Implementation plan\n\nSet default `log_statement` to `none` for `SGPostgresConfig`.","state":"closed","created_at":"2022-01-05T08:49:52.719Z","updated_at":"2022-08-02T06:07:02.980Z","closed_at":"2022-08-01T14:05:07.852Z","closed_by":{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"},"labels":["Security Feature","StackGres","priority::P1","sprint::2022-S29-0509-0529","target_version::1.3.0","team::DEV","workflow::In Review"],"milestone":{"id":2712673,"iid":19,"group_id":3102997,"title":"StackGres 1.3.0","description":"","state":"active","created_at":"2022-07-26T11:10:26.597Z","updated_at":"2022-10-18T07:38:00.783Z","due_date":"2022-08-23","start_date":"2022-07-17","expired":true,"web_url":"https://gitlab.com/groups/ongresinc/-/milestones/19"},"assignees":[{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"}],"author":{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"},"type":"ISSUE","assignee":{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"},"user_notes_count":0,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/ongresinc/stackgres/-/issues/1532","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12584701/issues/1532","notes":"https://gitlab.com/api/v4/projects/12584701/issues/1532/notes","award_emoji":"https://gitlab.com/api/v4/projects/12584701/issues/1532/award_emoji","project":"https://gitlab.com/api/v4/projects/12584701","closed_as_duplicate_of":null},"references":{"short":"#1532","relative":"#1532","full":"ongresinc/stackgres#1532"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":97570645,"iid":1454,"project_id":12584701,"title":"Allow specify resources to assign to Distributedlogs pods","description":"\n### Problem to solve\n\nCurrently, it is not possible to specify the amount of resources assigned to distributed logs pod. \n\n### Further details\n\nSome environments generate a lot of logs and log database grow very fast and getting information from the logs becomes very slow. \n\n### Proposal\n\nAllow apply an `SGInstanceProfile` to Distributed logs and also an `SGPostgresConfig`. \n\n```yaml\napiVersion: stackgres.io/v1\nkind: SGDistributedLogs\nmetadata:\n  name: distributedlogs\nspec:\n  sgInstanceProfile: 'size-m'\n  configurations:\n    sgPostgresConfig: 'pgconfig'\n  persistentVolume:\n    size: 100Gi\n```\n\n## Acceptance Criteria\n\n- [ ] Implement the feature in the CRD\n- [ ] Implement the logic in the mutating and validating webhook similar to the one existing for `SGCluster` CRD\n- [ ] Implement the change in the REST API\n- [ ] Add tests","state":"closed","created_at":"2021-11-18T16:42:34.437Z","updated_at":"2022-07-16T06:03:51.415Z","closed_at":"2022-07-12T16:13:16.959Z","closed_by":{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"},"labels":["Feature Request","StackGres","priority::P1","sprint::2022-S29-0509-0529","target_version::1.3.0-beta1","team::DEV","week-5","week-6","workflow::In Progress"],"milestone":{"id":2574404,"iid":18,"group_id":3102997,"title":"StackGres 1.3.0-beta1","description":"Codename \"**BYOPE: Bring your own Postgres extension**\"","state":"active","created_at":"2022-04-21T08:27:13.726Z","updated_at":"2022-10-18T07:34:00.411Z","due_date":"2022-07-27","start_date":"2022-05-17","expired":true,"web_url":"https://gitlab.com/groups/ongresinc/-/milestones/18"},"assignees":[{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"}],"author":{"id":2780522,"username":"kadaffy","name":"Kadaffy Talavera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2780522/avatar.png","web_url":"https://gitlab.com/kadaffy"},"type":"ISSUE","assignee":{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"},"user_notes_count":6,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/ongresinc/stackgres/-/issues/1454","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/12584701/issues/1454","notes":"https://gitlab.com/api/v4/projects/12584701/issues/1454/notes","award_emoji":"https://gitlab.com/api/v4/projects/12584701/issues/1454/award_emoji","project":"https://gitlab.com/api/v4/projects/12584701","closed_as_duplicate_of":null},"references":{"short":"#1454","relative":"#1454","full":"ongresinc/stackgres#1454"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":24,"epic":{"id":533319,"iid":24,"title":"[StackGres][Dev]Reliability","url":"/groups/ongresinc/-/epics/24","group_id":3102997,"human_readable_end_date":"May 8, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":{"id":55724,"iid":29,"sequence":29,"group_id":3102997,"title":"SG1.3-BETA1","description":"","state":3,"created_at":"2022-05-11T16:32:13.590Z","updated_at":"2022-07-02T00:05:02.185Z","start_date":"2022-05-15","due_date":"2022-07-01","web_url":"https://gitlab.com/groups/ongresinc/-/iterations/55724"},"health_status":null},{"id":96943073,"iid":1437,"project_id":12584701,"title":"Set default_toast_compression=lz4 on PostgreSQL 14's default config","description":"Based on the benchmarks on this [post](https://www.postgresql.fastware.com/blog/what-is-the-new-lz4-toast-compression-in-postgresql-14) I consider LZ4 highly beneficial compared to PGLZ.\n\nFor this reason I'd propose making it the default TOAST compression algorithm for Postgres 14, adding to our default configuration (only for v14 and future later versions) [`default_toast_compression=lz4`](https://postgresqlco.nf/doc/en/param/default_toast_compression/).","state":"closed","created_at":"2021-11-08T14:41:13.179Z","updated_at":"2022-10-21T08:23:22.815Z","closed_at":"2022-10-20T13:52:05.317Z","closed_by":{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"},"labels":["Automating Operations","Discussion","Feature Request","StackGres","priority::P2","small_change","sprint::2022-S29-0509-0529","target_version::1.3.0-RC1","team::DEV","workflow::In Progress"],"milestone":{"id":2734475,"iid":20,"group_id":3102997,"title":"StackGres 1.4.0-beta1","description":"","state":"active","created_at":"2022-08-12T08:58:43.213Z","updated_at":"2022-10-03T18:20:42.056Z","due_date":"2022-10-10","start_date":"2022-08-22","expired":true,"web_url":"https://gitlab.com/groups/ongresinc/-/milestones/20"},"assignees":[{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"}],"author":{"id":2483568,"username":"ahachete","name":"Alvaro Hernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/5af6a3c5c96061774cc52fd45ba305da?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahachete"},"type":"ISSUE","assignee":{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"},"user_notes_count":0,"merge_requests_count":2,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/ongresinc/stackgres/-/issues/1437","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12584701/issues/1437","notes":"https://gitlab.com/api/v4/projects/12584701/issues/1437/notes","award_emoji":"https://gitlab.com/api/v4/projects/12584701/issues/1437/award_emoji","project":"https://gitlab.com/api/v4/projects/12584701","closed_as_duplicate_of":null},"references":{"short":"#1437","relative":"#1437","full":"ongresinc/stackgres#1437"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":95371922,"iid":1376,"project_id":12584701,"title":"benchmark is missing jq and kubectl","description":"\u003c!--\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"Bug\" label.\n\nIssue tracker:\n\n- https://gitlab.com/ongresinc/stackgres/-/issues?label_name=Bug\n\nand verify the issue you're about to submit isn't a duplicate.\n--\u003e\n### Summary\n\n\u003c!--(Summarize the bug encountered concisely)--\u003e\n\nWhen running a benchmark with SGDBOps, it keeps complaining about the missing `kubectl` and `jq` tools.\n\n### Current Behaviour \n\n\n#### Steps to reproduce\n\n1. create a cluster with pg 12, like below:\n\n```yaml\napiVersion: stackgres.io/v1\nkind: SGCluster\nmetadata:\n  name: backup-test\n  namespace: default\nspec:\n  instances: 2\n  pods:\n    persistentVolume:\n      size: 10Gi\n      storageClass: gp2\n  postgres:\n    version: \"12.8\"\n```\n\n1. wait for the cluster be up and running\n1. create the sgdbops:\n\n```yaml\napiVersion: stackgres.io/v1\nkind: SGDbOps\nmetadata:\n  name: database-fill\n  namespace: default\nspec:\n  benchmark:\n    pgbench:\n      concurrentClients: 1\n      databaseSize: 8Gi\n      duration: P0DT0H1M0S\n      threads: 1\n      usePreparedStatements: false\n    type: pgbench\n  maxRetries: 0\n  op: benchmark\n  sgCluster: backup-test\n```\n\n\nWhen checking the logs, lots of messages like this appears:\n\n```\n++ kubectl get '' -n '' '' -o json\n/usr/local/bin/shell-utils: line 142: kubectl: command not found\n+ RESULT=\n++ jq -R .\n/usr/local/bin/shell-utils: line 143: jq: command not found\n++ printf %s 'Database pgbench_6166fbe8 created'\n```\n\nWhen checking the job, I've found that is using the images below:\n\n```\n❯ kubectl get jobs.batch database-fill-benchmark-fea9f890aa0a46dd-0 -o json | gojq '.spec.template.spec.initContainers |map( { name: .name, image: .image })'\n[\n  {\n    \"image\": \"docker.io/ongres/kubectl:v1.19.14-build-6.6\",\n    \"name\": \"set-dbops-running\"\n  }\n]\n\n❯ kubectl get jobs.batch database-fill-benchmark-fea9f890aa0a46dd-0 -o json | gojq '.spec.template.spec.containers |map( { name: .name, image: .image })'\n[\n  {\n    \"image\": \"docker.io/ongres/patroni:v2.1.1-pg12.8-build-6.6\",\n    \"name\": \"run-dbops\"\n  },\n  {\n    \"image\": \"docker.io/ongres/kubectl:v1.19.14-build-6.6\",\n    \"name\": \"set-dbops-result\"\n  }\n]\n```\n\n### Expected Behaviour\n\nNo errors from `kubectl` or `jq`.\n\n\n### Possible Solution\n\nSince both `postgres-util` and `patroni` doesn't have the binaries installed will be necessary to use another image.\n\nUse the `kubectl` image or mount/copy the binaries from it.\n\n```\n❯ docker run --rm -it docker.io/ongres/kubectl:v1.19.14-build-6.6 bash\nbash-4.4$ jq --version\njq-1.5\nbash-4.4$ kubectl version\nClient Version: version.Info{Major:\"1\", Minor:\"19\", GitVersion:\"v1.19.14\", GitCommit:\"0fd2b5afdfe3134d6e1531365fdb37dd11f54d1c\", GitTreeState:\"clean\", BuildDate:\"2021-08-11T18:07:41Z\", GoVersion:\"go1.15.15\", Compiler:\"gc\", Platform:\"linux/amd64\"}\nThe connection to the server localhost:8080 was refused - did you specify the right host or port?\n```\n\n### Environment\n\n- StackGres version: \n\n```\n❯ kubectl get deployments -n stackgres stackgres-operator --template '{{ printf \"%s\\n\" (index .spec.template.spec.containers 0).image }}'\nstackgres/operator:1.0.0-RC1\n```\n\u003c!-- if you have used helm, you can use:  `helm get notes -n stackgres stackgres-operator` \nmore generic: `kubectl get deployments -n stackgres stackgres-operator --template '{{ printf \"%s\\n\" (index .spec.template.spec.containers 0).image }}'`\n--\u003e\n- Kubernetes version:\n\n```\n❯ kubectl version\nClient Version: version.Info{Major:\"1\", Minor:\"22\", GitVersion:\"v1.22.0\", GitCommit:\"c2b5237ccd9c0f1d600d3072634ca66cefdf272f\", GitTreeState:\"clean\", BuildDate:\"2021-08-04T17:56:19Z\", GoVersion:\"go1.16.6\", Compiler:\"gc\", Platform:\"darwin/amd64\"}\nServer Version: version.Info{Major:\"1\", Minor:\"20+\", GitVersion:\"v1.20.7-eks-d88609\", GitCommit:\"d886092805d5cc3a47ed5cf0c43de38ce442dfcb\", GitTreeState:\"clean\", BuildDate:\"2021-07-31T00:29:12Z\", GoVersion:\"go1.15.12\", Compiler:\"gc\", Platform:\"linux/amd64\"}\nWARNING: version difference between client (1.22) and server (1.20) exceeds the supported minor version skew of +/-1\n```\n\n\u003c!--(use `kubectl version`) --\u003e\n- Cloud provider or hardware configuration: AWS with EKS\n\n\n### Relevant logs and/or screenshots\n\n\u003c!-- (Paste any relevant logs - please use code blocks (```) to format console output,\nlogs, and code as it's very hard to read otherwise.) --\u003e\n\n* [dbops-full-log.txt](/uploads/d50c6e60d7e370fc720b2088c4562680/dbops-full-log.txt)\n* [cluster-objects.yaml](/uploads/7ca1789084f84b2793fd59f5afa18d6e/cluster-objects.yaml)\n\n**Acceptance criteria:**\n- [ ] Fix the bug \n- [ ] create the test","state":"closed","created_at":"2021-10-13T16:12:16.150Z","updated_at":"2022-08-04T07:34:57.253Z","closed_at":"2022-08-04T07:34:57.149Z","closed_by":{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"},"labels":["Bug","Day-2 Operations","StackGres","priority::P1","sprint::2022-S29-0509-0529","target_version::1.3.0-RC1","team::DEV","workflow::In Progress"],"milestone":{"id":2712673,"iid":19,"group_id":3102997,"title":"StackGres 1.3.0","description":"","state":"active","created_at":"2022-07-26T11:10:26.597Z","updated_at":"2022-10-18T07:38:00.783Z","due_date":"2022-08-23","start_date":"2022-07-17","expired":true,"web_url":"https://gitlab.com/groups/ongresinc/-/milestones/19"},"assignees":[{"id":682120,"username":"gelias","name":"Guilherme Elias","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/682120/avatar.png","web_url":"https://gitlab.com/gelias"}],"author":{"id":1535852,"username":"sebawebber","name":"Sebastian Webber","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1535852/avatar.png","web_url":"https://gitlab.com/sebawebber"},"type":"ISSUE","assignee":{"id":682120,"username":"gelias","name":"Guilherme Elias","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/682120/avatar.png","web_url":"https://gitlab.com/gelias"},"user_notes_count":1,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/ongresinc/stackgres/-/issues/1376","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":16,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/12584701/issues/1376","notes":"https://gitlab.com/api/v4/projects/12584701/issues/1376/notes","award_emoji":"https://gitlab.com/api/v4/projects/12584701/issues/1376/award_emoji","project":"https://gitlab.com/api/v4/projects/12584701","closed_as_duplicate_of":null},"references":{"short":"#1376","relative":"#1376","full":"ongresinc/stackgres#1376"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":19,"epic":{"id":531539,"iid":19,"title":"[StackGres][Dev]Bugs","url":"/groups/ongresinc/-/epics/19","group_id":3102997,"human_readable_end_date":"May 8, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":90026365,"iid":1202,"project_id":12584701,"title":"Refactor and improve unit test data fixtures","description":"We have many files in the `test-util` module.\n\nWe want to have test classes to:\n\n* Load such files with strong typing (e.g. return a `StackGresCluster` class instance)\n* Enumerate all the available fixtures for ease of use\n* Reuse the fixture data instance in all the StackGres Java modules\n* Introduce fixture variations easier to be placed using code instead to create a full copy of JSON file with small differences\n\nOther possible uses:\n\n* Generate random values by default depending on the fixture (since random values should be used or not depending on the test usage of the fixture)\n\n# Proposition\n\nMove JSON files in the `common` module and wrap them in fixture classes. Make the `common` module install the `test-jar` package following this guide: https://maven.apache.org/guides/mini/guide-attached-tests.html","state":"closed","created_at":"2021-07-09T13:03:13.142Z","updated_at":"2022-08-01T10:44:34.027Z","closed_at":"2022-08-01T10:44:34.006Z","closed_by":{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"},"labels":["Discussion","Refactor","StackGres","Tests","priority::P1","sprint::2022-S29-0509-0529","target_version::1.3.0-RC1","team::DEV","workflow::In Review"],"milestone":{"id":2712673,"iid":19,"group_id":3102997,"title":"StackGres 1.3.0","description":"","state":"active","created_at":"2022-07-26T11:10:26.597Z","updated_at":"2022-10-18T07:38:00.783Z","due_date":"2022-08-23","start_date":"2022-07-17","expired":true,"web_url":"https://gitlab.com/groups/ongresinc/-/milestones/19"},"assignees":[{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"}],"author":{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"},"type":"ISSUE","assignee":{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"},"user_notes_count":2,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/ongresinc/stackgres/-/issues/1202","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12584701/issues/1202","notes":"https://gitlab.com/api/v4/projects/12584701/issues/1202/notes","award_emoji":"https://gitlab.com/api/v4/projects/12584701/issues/1202/award_emoji","project":"https://gitlab.com/api/v4/projects/12584701","closed_as_duplicate_of":null},"references":{"short":"#1202","relative":"#1202","full":"ongresinc/stackgres#1202"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":{"id":55396,"iid":28,"sequence":28,"group_id":3102997,"title":"Iteration S29","description":"","state":3,"created_at":"2022-05-09T08:16:01.372Z","updated_at":"2022-05-14T00:05:02.181Z","start_date":"2022-05-09","due_date":"2022-05-13","web_url":"https://gitlab.com/groups/ongresinc/-/iterations/55396"},"health_status":null},{"id":85763678,"iid":970,"project_id":12584701,"title":"Implement \"ManagedSQL\" as a new SGScripts CRD referenced by SGCluster","description":"We want more and more to offer a fully-featured GitOps approach to managing Postgres databases.\n\nOne such areas that are not fully covered is managing a database DDL, or even more generic, managing a database with SQL. While you'd normally interact with a database with a CLI or GUI client, having the ability to programmatically maintain database DDL with a CRD is a well justified use-case. The current ability to execute operations by a component of the operator make this system very powerful for programmatic creation and update of DDL.\n\nThis issue aims to capture this and define a new CRD, called `SGScripts`, to be added to StackGres' set of CRDs. This would allow to \"define in YAML\" commands to execute on a cluster.\n\nNote that it won't be a goal to support DDL migrations, deltas and others --that would be relied on the user or other external tools. If any edit is performed to the `SGScripts`, it will be blindly re-executed. If it is deleted, no action will be executed.\n\nThe internal spec of the CRD would be very similar to the actual [`initialData.scripts`](https://stackgres.io/doc/latest/reference/crd/sgcluster/#scripts-configuration) spec:\n\n```yaml\n  - name: $scriptName\n    database: $dbname #optional, default to 'postgres'\n    scriptFrom | script: read the script from either a ConfigMap, Secret or inline.\n  - name: ...\n    ...\n```\n\nThere is some overlap with the `spec.initialData.scripts` section of the `SGCluster` and for this reason the intermediary CRD called `SGScripts` will be created in order to be used as a reference by both `SGCluster` (and in the future `SGDbOps`). Section `spec.initialData.scripts` of the `SGCluster` will be deprecated and the new array field `spec.managedSQL.sgScripts` will be added in order to reference an array of `SGScripts` instances. `SGScripts` CRD will have the following model:\n\n```yaml\napiVersion: stackgres.io/v1beta1\nkind: SGScripts\nspec:\n  managedVersions: \u003cboolean\u003e # If `true` the versions will be managed by the operator automatically. The user will still be able to update them. `true` by default.\n  continueOnError: \u003cboolean\u003e # if true, when any entry fail will not prevent subsequent entries from being executed. `false` by default.\n  scripts:\n  - name: \u003cstring\u003e # Optional. Does not determine order of execution but creates a label to identify this script externally (like in events and logs).\n    id: \u003cinteger\u003e # The id is immutable and must be unique across all the script entries. It is replaced by the operator and  and is used to identify the script for the whole life of the `SGScript` object.\n    version: \u003cinteger\u003e # The version of the script. Set to `1` by default.\n    database: \u003cstring\u003e # Database where the script is executed. Defaults to the `postgres` database\n    user: \u003cstring\u003e # User that will execute the script. Defaults to the `postgres` user\n    wrapInTransaction: \u003cstring\u003e # Wrap the script in a transaction using the specified transaction mode (`NONE` (The default, means that the script will not be wrapped in a transaction), `READ COMMITTED`, `REPEATABLE READ` and `SERIALIZABLE`).\n    storeStatusInDatabase: \u003cboolean\u003e # When specified `inTransaction` field must not to be set to `null` or `NONE` and the script execution will include storing the status of the execution of this script in the table `managed_sql.status` that will be created in the specified `database`. This will avoid an operation that fails partially to be unrecoverable requiring the intervention from the user. This is `false` by default.\n    retryOnError: \u003cboolean\u003e # if true it retries to execute the script entry with an exponential back-off algorithm limited to 5 minutes with a variation of 1 minute. Default is false.\n    script: \u003cstring\u003e # Raw SQL script to execute. This field is mutually exclusive with\n     `scriptFrom` field.\n    scriptFrom:\n      configMapKeyRef:\n        name: \u003cstring\u003e # The name of the ConfigMap that contains the SQL script to execute.\n        key: \u003cstring\u003e # The key name within the ConfigMap that contains the SQL script to execute.\n      secretKeyRef:\n        name: \u003cstring\u003e # The name of the Secret that contains the SQL script to execute.\n        key: \u003cstring\u003e # The key name within the Secret that contains the SQL script to execute.\nstatus:\n  scripts:\n    - id: \u003cinteger\u003e # Identify the associated script entry with the same value in the `id` field. \n      hash: \u003cstring\u003e # Hash of the value of the ConfigMap or Secret referenced by `scriptFrom.configMapKeyRef` and `scriptFrom.secretKeyRef` respectively.\n```\n\nHowever, old `spec.initialData.scripts` section of the `SGCluster` was intended to be run only once, and only if a backup is not restored. We instead allow all referenced `SGScripts` from field `.spec.managedSQL.sgScripts` to be modified and to be applied \"live\" to the `SGCluster`. The new `version` field will allow to detect if script have to be executed and will be managed by the operator (default) or manually if the `.spec.managedVersions` is set to `false`. When `.spec.managedVersions` is set to `true` in the `SGScripts` following rules will apply:\n\n* Initially set version to 1.\n* Secret or ConfigMap values hash is stored in the `SGScripts` `.status.scripts[].hash` section\n* When an inline value is changed the version will be automatically incremented by 1.\n* When a Secret or a ConfigMap is changed, the operator reconciliation cycle will update the hash and the version will be automatically incremented by 1.\n* User will still be able to increment the value manually if needed.\n\nHere is the proposed change to `SGCluster` in order to reference an array of `SGScripts` and maintain the status of applied `SGScripts`:\n\n```yaml\napiVersion: stackgres.io/v1\nkind: SGCluster\nspec:\n  managedSQL:\n    continueOnSGScriptsError: \u003cboolean\u003e # if true, when any entry of any `SGScripts` fail will not prevent subsequent `SGScripts` from being executed. `false` by default.\n    sgScripts:\n    - id: \u003cinteger\u003e # The id is immutable and must be unique across all the `SGScript` entries. It is replaced by the operator and is used to identify the `SGScript` entry. \n      name: \u003cstring\u003e # a reference to an `SGScript`\nstatus:\n  managedSQL:\n    sgScripts:\n    - id: \u003cinteger\u003e # Identify the associated `SGScript` entry with the same value in the `id` field. \n      startedAt: \u003cstring\u003e # ISO-8601 datetime of when the script execution has been started. Will be reset each time the referenced `SGScripts` will be re-applied.\n      failedAt: \u003cstring\u003e # ISO-8601 datetime of when the script execution had failed (mutually exclusive with `completedAt`). Will be reset each time the referenced `SGScripts` will be re-applied.\n      completedAt: \u003cstring\u003e # ISO-8601 datetime of when the script execution had completed (mutually exclusive with `failedAt`). Will be reset each time the referenced `SGScripts` will be re-applied.\n      scripts:\n      - id: \u003cinteger\u003e # Identify the associated script entry with the same value in the `id` field. \n        version: \u003cinteger\u003e # The latest version applied\n        intents: \u003cinteger\u003e # Indicates the number of intents or failures occurred\n        failureCode: \u003cstring\u003e # If failed, the error code of the failure. See also https://www.postgresql.org/docs/current/errcodes-appendix.html\n        failure: \u003cstring\u003e # If failed, a message of the failure\n```\n\nThe user will be able to add or replace any entry of the `.spec.managedSQL.sgScripts` array in the `SGCluster`. When replacing a value the associated status entry will also be emptied as it was never executed. \n\nThe order of execution and rules of the execution flow will be as follow:\n\n* Each `SGScripts` will run in sequence one after another following the order of the `.spec.managedSQL.\n* If any entry of any `SGScripts` fails next `SGScripts` will not be executed unless `.spec.managedSQL.continueOnSGScriptsError` is set to `true` in `SGCluster`.\n* An entry of an `SGScripts` that has not been executed will be executed only if there are no other previous entry (following the array order) of the same `SGScripts` that has not been executed.\n* If execution of an `SGScripts`'s entry fail no subsequent entries will be executed. Execution of subsequent entries is performed when previous entry execution failed only if field `.spec.continueOnError` is set to `true` in `SGScripts`.\n* If any entry of an `SGScripts` has been already executed it will not be re-executed even if it failed.\n* An entry is detected as \"not being executed\" if the entry version is missing from the status or different than the entry version in the status. \n\nThis is inspired by the original ideas by @stoetti1 and subsequent discussion on #956.\n\n**Acceptance criteria:**\n\n- [ ] Implement the feature, TODO raise to epic and create sub epics. Epic measured in 10 days to accomplish.\nSub tasks:\n   - [ ] #1545 The UI part. to be evaluated.\n   - [x] Creating a CRD to implement sgcripts.\n   - [x] Adapting webhooks and rest API.\n   - [x] Tests CRD\n   - [x] Documentation CRD\n   - [x] Implement applying the SQL\n   - [x] Implement migrating from `.spec.initialData.scripts`\n   - [x] Implement the test and documentation.","state":"closed","created_at":"2021-04-22T17:48:50.636Z","updated_at":"2022-07-24T06:06:50.878Z","closed_at":"2022-07-22T14:38:20.533Z","closed_by":{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"},"labels":["Discussion","Feature Request","StackGres","priority::P1","target_version::1.3.0-beta1","team::DEV","week-1","week-2","week-3","week-4","week-5","week-6","workflow::In Review"],"milestone":{"id":2574404,"iid":18,"group_id":3102997,"title":"StackGres 1.3.0-beta1","description":"Codename \"**BYOPE: Bring your own Postgres extension**\"","state":"active","created_at":"2022-04-21T08:27:13.726Z","updated_at":"2022-10-18T07:34:00.411Z","due_date":"2022-07-27","start_date":"2022-05-17","expired":true,"web_url":"https://gitlab.com/groups/ongresinc/-/milestones/18"},"assignees":[{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"}],"author":{"id":2483568,"username":"ahachete","name":"Alvaro Hernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/5af6a3c5c96061774cc52fd45ba305da?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahachete"},"type":"ISSUE","assignee":{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"},"user_notes_count":53,"merge_requests_count":1,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/ongresinc/stackgres/-/issues/970","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":9,"completed_count":7},"weight":24,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/12584701/issues/970","notes":"https://gitlab.com/api/v4/projects/12584701/issues/970/notes","award_emoji":"https://gitlab.com/api/v4/projects/12584701/issues/970/award_emoji","project":"https://gitlab.com/api/v4/projects/12584701","closed_as_duplicate_of":null},"references":{"short":"#970","relative":"#970","full":"ongresinc/stackgres#970"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":{"id":55396,"iid":28,"sequence":28,"group_id":3102997,"title":"Iteration S29","description":"","state":3,"created_at":"2022-05-09T08:16:01.372Z","updated_at":"2022-05-14T00:05:02.181Z","start_date":"2022-05-09","due_date":"2022-05-13","web_url":"https://gitlab.com/groups/ongresinc/-/iterations/55396"},"health_status":null},{"id":79593823,"iid":862,"project_id":12584701,"title":"Use SGObjectStorage CRD for Postgres base backup and WAL storage","description":"The proposed CRD is basically a small evolution over the currently existing [`SGBackupConfig.storage` subobject](https://stackgres.io/doc/latest/reference/crd/sgbackupconfig/#storage-configuration). The main goal of extracting it into a separate CRD is for being able to re-use and reference it from different contexts.\n\nThis would enable to support clusters initialized from a Postgres backup and WAL archive. Having a CRD that references this archive, there could be two use cases perfectly supported by this CRD:\n* A user wants to have a cluster replicating from the archive, and there's an existing CRD representing that archive within the same K8s cluster (and namespace). In this case, a reference to the existing CRD should be enough.\n* A user wants to have a cluster replicating from the archive, on a different K8s cluster (i.e. a DR scenario). In this case, a local (to the destination K8s cluster) CRD needs to be created, but could have the same or similar contents from the source CRD, which could be easily copied, and then referenced.\n\nThe proposed name for this new CRD is `SGObjectStorage`.\n\nMore precisely, this change would imply the following changes:\n1. ~~Extract the `storage` subobject from the `SGBackupConfig` CRD and \"upgrade\" it to a full CRD called `SGObjectStorage`.~~ (See #1564)\n1. ~~Change the `SGBackupConfig` to include a new property, `.spec.sgObjectStorage`, that will become a reference to the new CRD.~~\n1. \u003cdel\u003eAdd a new property to the new CRD, called `SGObjectStorage.mode`, which will be an enum with possible values `RW, RO`. This would be useful for standby clusters, which might be provided with more restricted user access credentials\u003c/del\u003e.\n1. Create the section `.spec.configurations.backups` with an array (only allowed to have just 1 element) that will replace the field `.spec.configurations.sgBackupConfig` including a reference to an `SGObjectStorage` and the other properties of `SGBackupConfig`.\n1. Deprecate the field `.spec.configurations.sgBackupConfig` in `SGCluster` CRD and forbid create new `SGCluster` using such field.\n1. Deprecate `SGBackupConfig` CRD and forbid creation of `SGBackupConfig` CRs. \n\nNote that this scheme also allows for creating standby clusters processing WALs from an object storage that might not be the original source one, but possibly one replicated in other region (eg. an S3 bucket replicated to another S3 bucket on another region), in which case source and destination CRDs will only differ on the bucket name and region (and potentially, user credentials).\n\nAlso note that this issue doesn't deal with how to modify a `SGCluster` to support standby cluster creation. That will be addressed on a separate issue (see #866).\n\n\u003cdel\u003eIdeally, some strong validation support should be built into the operator to validate access credentials when creating the CRD (i.e., validate that we can read or read and write to the object storage). This will improve the current user experience of creating an invalid `SGBackupConfig`\u003c/del\u003e.\n\nProposed change to `SGCluster`:\n\n```yaml\nspec:\n  configurations:\n    backupPath: \u003cstring\u003e\n    sgBackupConfig: \u003cstring\u003e # this does not change but will be deprecated and mutually exclusive with `backups` field.\n    backups: # The backups is an array that can contain at most 1 element to allow in the future specify multiple backup configuration so that backup may be stored on multiple storages.\n    - path: \u003cstring\u003e\n      compression: \u003cstring\u003e\n      cronSchedule: \u003cstring\u003e\n      performance:\n        maxDiskBandwitdh: \u003cinteger\u003e\n        maxNetworkBandwitdh: \u003cinteger\u003e\n        uploadDiskConcurrency: \u003cinteger\u003e\n      retention: \u003cinteger\u003e\n      sgObjectStorage: \u003cstring\u003e # name of an SGObjectStorage in the same namespace\n```\n\n**Acceptance criteria:**\n- [x] Implement a mutating webhook in order to migrate from `SGBackupConfig` + backupPath to `SGObjectStorage` + new backups section in `SGCluster`\n- [x] Implement a validating webhook in order to disallow usage of `SGBackupConfig` in `SGCluster`","state":"closed","created_at":"2021-02-23T01:04:45.175Z","updated_at":"2022-07-11T11:03:08.641Z","closed_at":"2022-06-27T21:12:37.774Z","closed_by":{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"},"labels":["Discussion","Feature Request","StackGres","priority::P1","sprint::2022-S29-0509-0529","target_version::1.3.0-beta1","team::DEV","week-1","week-2","week-3","week-4","workflow::In Review"],"milestone":{"id":2574404,"iid":18,"group_id":3102997,"title":"StackGres 1.3.0-beta1","description":"Codename \"**BYOPE: Bring your own Postgres extension**\"","state":"active","created_at":"2022-04-21T08:27:13.726Z","updated_at":"2022-10-18T07:34:00.411Z","due_date":"2022-07-27","start_date":"2022-05-17","expired":true,"web_url":"https://gitlab.com/groups/ongresinc/-/milestones/18"},"assignees":[{"id":2650051,"username":"jorsol","name":"Jorge Solórzano","state":"active","avatar_url":"https://secure.gravatar.com/avatar/1aa38ab39a9a9e7ada1e8ea86442debe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jorsol"}],"author":{"id":2483568,"username":"ahachete","name":"Alvaro Hernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/5af6a3c5c96061774cc52fd45ba305da?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahachete"},"type":"ISSUE","assignee":{"id":2650051,"username":"jorsol","name":"Jorge Solórzano","state":"active","avatar_url":"https://secure.gravatar.com/avatar/1aa38ab39a9a9e7ada1e8ea86442debe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jorsol"},"user_notes_count":21,"merge_requests_count":2,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/ongresinc/stackgres/-/issues/862","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":2},"weight":24,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/12584701/issues/862","notes":"https://gitlab.com/api/v4/projects/12584701/issues/862/notes","award_emoji":"https://gitlab.com/api/v4/projects/12584701/issues/862/award_emoji","project":"https://gitlab.com/api/v4/projects/12584701","closed_as_duplicate_of":null},"references":{"short":"#862","relative":"#862","full":"ongresinc/stackgres#862"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":{"id":55396,"iid":28,"sequence":28,"group_id":3102997,"title":"Iteration S29","description":"","state":3,"created_at":"2022-05-09T08:16:01.372Z","updated_at":"2022-05-14T00:05:02.181Z","start_date":"2022-05-09","due_date":"2022-05-13","web_url":"https://gitlab.com/groups/ongresinc/-/iterations/55396"},"health_status":null},{"id":78219415,"iid":820,"project_id":12584701,"title":"Allow specify request and limit in sginstanceprofile for non-production","description":"Currently sginstanceprofile only allow to specify a single value for cpu and memory that will be used for both request and limit each of those resources.\n\nSome non-production environment requires to specify both to make it possible to create a cluster that can be deployed in node with less resources and are not critical environment.\n\nProposed change for the `SGInstanceProfile` CRD to allow to specify a request for resources different from the limit:\n\n```yaml\napiVersion: stackgres.io/v1\nkind: SGInstanceProfile\nspec:\n  cpu: \u003cstring\u003e # CPU(s) (cores) limit for every Pod of an `SGCluster`. Please note that\n     # every Pod contains not only the `patroni` (Patroni and Postgres) container, but\n     # several other sidecar containers. While the majority of the resources are\n     # devoted to the main Postgres container, some CPU is needed for the\n     # sidecars.\n     # \n     # The number of cores set is applied only to the `patroni` container of each Pod while the\n     # other sidecars will not be subjected to any resource restriction.\n     # \n     # A minimum of 2 cores is recommended.\n  memory: \u003cstring\u003e # RAM limit for every Pod of an `SGCluster`. The suffix `Mi` or `Gi`\n     # specifies Mebibytes or Gibibytes, respectively. Please note that every\n     # Pod contains not only the `patroni` (Patroni and Postgres) container, but several\n     # other sidecar containers. While the majority of the resources are devoted\n     # to the main Postgres container, some RAM is needed for the sidecars.\n     # \n     # The amount of RAM set is applied only to the `patroni` container of each Pod while the\n     # other sidecars will not be subjected to any resource restriction.\n     # \n     # A minimum of 2-4Gi is recommended.\n  requests:\n    cpu: \u003cstring\u003e # CPU(s) (cores) requested for every Pod of an `SGCluster`. Please note that\n       # every Pod contains not only the `patroni` (Patroni and Postgres) container, but\n       # several other sidecar containers. While the majority of the resources are\n       # devoted to the main Postgres container, some CPU is needed for the\n       # sidecars.\n       # \n       # The number of cores set is applied only to the `patroni` container of each Pod while the\n       # other sidecars will not be subjected to any resource restriction.\n       # \n       # A minimum of 2 cores is recommended.\n       #\n       # If not specified or if field `.spec.nonProductionOptions.enableInstanceProfileRequests`\n       # is not set to `true` in the associated `SGCluster` will be equals to `.spec.cpu`.\n    memory: \u003cstring\u003e # RAM requested for every Pod of an `SGCluster`. The suffix `Mi` or `Gi`\n       # specifies Mebibytes or Gibibytes, respectively. Please note that every\n       # Pod contains not only the `patroni` (Patroni and Postgres) container, but several\n       # other sidecar containers. While the majority of the resources are devoted\n       # to the main Postgres container, some RAM is needed for the sidecars.\n       # \n       # The amount of RAM set is applied only to the `patroni` container of each Pod while the\n       # other sidecars will not be subjected to any resource restriction.\n       # \n       # A minimum of 2-4Gi is recommended.\n       #\n       # If not specified or if field `.spec.nonProductionOptions.enableInstanceProfileRequests`\n       # is not set to `true` in the associated `SGCluster` will be equals to `.spec.memory`.\n```\n\nThe fields `.spec.requests.cpu` and `.spec.requests.memory` will be optional and their values will be the same as respectively `.spec.cpu` and `.spec.memory` if the former are not specified.\n\nA flag `enableInstanceProfileRequests` will be added under section `.spec.nonProductionOptions` in `SGCluster` in order to be able to use the new proposed fields of `SGInstanceProfile`.\n\n```yaml\napiVersion: stackgres.io/v1\nkind: SGCluster\nspec:\n  nonProductionOptions:\n    enableInstanceProfileRequests: \u003cboolean\u003e # If true, will allow to use fields `.spec.requests.cpu` and `.spec.requests.memory` from `SGInstanceProfile`. By default is `false`.\n```\n\n**Acceptance criteria:**\n- [ ] Implement the feature\n- [ ] Test the feature\n- [ ] Create issue for UI @jose_oss_pg TODO","state":"closed","created_at":"2021-02-01T16:15:36.448Z","updated_at":"2022-11-28T11:51:45.254Z","closed_at":"2022-07-22T17:46:54.950Z","closed_by":{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"},"labels":["Discussion","Feature Request","StackGres","priority::P2","sprint::2022-S29-0509-0529","target_version::1.0.0","team::DEV","workflow::Ready"],"milestone":{"id":2574404,"iid":18,"group_id":3102997,"title":"StackGres 1.3.0-beta1","description":"Codename \"**BYOPE: Bring your own Postgres extension**\"","state":"active","created_at":"2022-04-21T08:27:13.726Z","updated_at":"2022-10-18T07:34:00.411Z","due_date":"2022-07-27","start_date":"2022-05-17","expired":true,"web_url":"https://gitlab.com/groups/ongresinc/-/milestones/18"},"assignees":[],"author":{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"},"type":"ISSUE","assignee":null,"user_notes_count":6,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/ongresinc/stackgres/-/issues/820","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":0},"weight":16,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/12584701/issues/820","notes":"https://gitlab.com/api/v4/projects/12584701/issues/820/notes","award_emoji":"https://gitlab.com/api/v4/projects/12584701/issues/820/award_emoji","project":"https://gitlab.com/api/v4/projects/12584701","closed_as_duplicate_of":null},"references":{"short":"#820","relative":"#820","full":"ongresinc/stackgres#820"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":{"id":55396,"iid":28,"sequence":28,"group_id":3102997,"title":"Iteration S29","description":"","state":3,"created_at":"2022-05-09T08:16:01.372Z","updated_at":"2022-05-14T00:05:02.181Z","start_date":"2022-05-09","due_date":"2022-05-13","web_url":"https://gitlab.com/groups/ongresinc/-/iterations/55396"},"health_status":null},{"id":71194118,"iid":673,"project_id":12584701,"title":"Generated prometheus stats services return ambiguous stats","description":"Currently two service are create for each cluster. One points to Envoy port 8008 and other point to Postgres Exporter port 9187:\n\n```shell\n$ kubectl get service -n operator-upgrade-5f60a6c7 | grep 'prometheus'\noperator-upgrade-3-prometheus-envoy               ClusterIP   10.111.97.168    \u003cnone\u003e        8001/TCP            19m\noperator-upgrade-3-prometheus-postgres-exporter   ClusterIP   10.99.148.144    \u003cnone\u003e        9187/TCP            19m\n```\n\nThe service points to every pod in the cluster so that stats returned are from the pod that is routed by the service during the call. This lead to ambiguous result.\n\n```shell\n$ curl -s operator-upgrade-3-prometheus-postgres-exporter:9187/metrics | grep pg_wal_\n# HELP pg_wal_position_bytes Postgres LSN (log sequence number) being generated on primary or replayed on replica (truncated to low 52 bits)\n# TYPE pg_wal_position_bytes counter\npg_wal_position_bytes{server=\"/var/run/postgresql:5432\"} 1.006666e+08\n$ curl -s operator-upgrade-3-prometheus-postgres-exporter:9187/metrics | grep pg_wal_\n# HELP pg_stat_replication_pg_wal_lsn_diff Lag in bytes between master and slave\n# TYPE pg_stat_replication_pg_wal_lsn_diff gauge\npg_stat_replication_pg_wal_lsn_diff{application_name=\"operator-upgrade-3-0\",client_addr=\"127.0.0.1\",server=\"/var/run/postgresql:5432\",slot_name=\"169\",state=\"streaming\"} 0\npg_stat_replication_pg_wal_lsn_diff{application_name=\"operator-upgrade-3-2\",client_addr=\"127.0.0.1\",server=\"/var/run/postgresql:5432\",slot_name=\"168\",state=\"streaming\"} 0\n# HELP pg_wal_position_bytes Postgres LSN (log sequence number) being generated on primary or replayed on replica (truncated to low 52 bits)\n# TYPE pg_wal_position_bytes counter\npg_wal_position_bytes{server=\"/var/run/postgresql:5432\"} 1.006666e+08\n$\n```\n\nThose services are not used currently so the proposal is to only point service to the primary pod.\n\n**Acceptance criteria:**\n- [x] fix the bug \n- [x] Create a test","state":"closed","created_at":"2020-09-15T11:58:25.473Z","updated_at":"2022-09-01T08:47:39.415Z","closed_at":"2022-09-01T08:47:39.344Z","closed_by":{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"},"labels":["Bug","StackGres","priority::P1","sprint::2022-S29-0509-0529","target_version::1.3.0-RC1","team::DEV","workflow::In Progress"],"milestone":{"id":2734475,"iid":20,"group_id":3102997,"title":"StackGres 1.4.0-beta1","description":"","state":"active","created_at":"2022-08-12T08:58:43.213Z","updated_at":"2022-10-03T18:20:42.056Z","due_date":"2022-10-10","start_date":"2022-08-22","expired":true,"web_url":"https://gitlab.com/groups/ongresinc/-/milestones/20"},"assignees":[{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"}],"author":{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"},"type":"ISSUE","assignee":{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"},"user_notes_count":4,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/ongresinc/stackgres/-/issues/673","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":2},"weight":8,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/12584701/issues/673","notes":"https://gitlab.com/api/v4/projects/12584701/issues/673/notes","award_emoji":"https://gitlab.com/api/v4/projects/12584701/issues/673/award_emoji","project":"https://gitlab.com/api/v4/projects/12584701","closed_as_duplicate_of":null},"references":{"short":"#673","relative":"#673","full":"ongresinc/stackgres#673"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":19,"epic":{"id":531539,"iid":19,"title":"[StackGres][Dev]Bugs","url":"/groups/ongresinc/-/epics/19","group_id":3102997,"human_readable_end_date":"May 8, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":71112775,"iid":669,"project_id":12584701,"title":"Validate and integrate into tests OpenShift 4.9+","description":"Acceptance criteria:\n\n- [x] Create the e2e test environment using one of the following options:\n    - Use [Code Ready Containers](https://github.com/code-ready/crc) using a [Google Cloud Nested Virtualization Instance](https://cloud.google.com/compute/docs/instances/nested-virtualization/overview). :white_check_mark: \n    - Use [Rosa](https://docs.openshift.com/rosa/welcome/index.html).\n- [x] all the StackGres e2e tests should pass for the latest stable release\n    - Except operator-demo and ui (due to cypress out of memory bug)","state":"closed","created_at":"2020-09-14T13:12:46.228Z","updated_at":"2022-07-11T11:02:04.856Z","closed_at":"2022-06-01T12:14:51.350Z","closed_by":{"id":2650051,"username":"jorsol","name":"Jorge Solórzano","state":"active","avatar_url":"https://secure.gravatar.com/avatar/1aa38ab39a9a9e7ada1e8ea86442debe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jorsol"},"labels":["QA","StackGres","Tests","priority::P1","sprint::2022-S29-0509-0529","target_version::1.3.0-beta1","team::DEV","week-1","week-2","workflow::In Progress"],"milestone":{"id":2574404,"iid":18,"group_id":3102997,"title":"StackGres 1.3.0-beta1","description":"Codename \"**BYOPE: Bring your own Postgres extension**\"","state":"active","created_at":"2022-04-21T08:27:13.726Z","updated_at":"2022-10-18T07:34:00.411Z","due_date":"2022-07-27","start_date":"2022-05-17","expired":true,"web_url":"https://gitlab.com/groups/ongresinc/-/milestones/18"},"assignees":[{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"}],"author":{"id":2483568,"username":"ahachete","name":"Alvaro Hernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/5af6a3c5c96061774cc52fd45ba305da?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahachete"},"type":"ISSUE","assignee":{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"},"user_notes_count":14,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/ongresinc/stackgres/-/issues/669","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":2},"weight":5,"blocking_issues_count":2,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/12584701/issues/669","notes":"https://gitlab.com/api/v4/projects/12584701/issues/669/notes","award_emoji":"https://gitlab.com/api/v4/projects/12584701/issues/669/award_emoji","project":"https://gitlab.com/api/v4/projects/12584701","closed_as_duplicate_of":null},"references":{"short":"#669","relative":"#669","full":"ongresinc/stackgres#669"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":13,"epic":{"id":520115,"iid":13,"title":"[StackGres][Dev]Openshift integration","url":"/groups/ongresinc/-/epics/13","group_id":3102997,"human_readable_end_date":"May 8, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":{"id":55724,"iid":29,"sequence":29,"group_id":3102997,"title":"SG1.3-BETA1","description":"","state":3,"created_at":"2022-05-11T16:32:13.590Z","updated_at":"2022-07-02T00:05:02.185Z","start_date":"2022-05-15","due_date":"2022-07-01","web_url":"https://gitlab.com/groups/ongresinc/-/iterations/55724"},"health_status":null},{"id":53106182,"iid":538,"project_id":12584701,"title":"Support user-supplied sidecars for SGCluster pods","description":"Some applications might want to access Postgres, or its filesystem, or part of other components, directly (i.e. not through the Postgres wire protocol). For this cases, highly user dependent, we might want to add the possibility to \"inject\" a user sidecar into the SGCluster pods.\n\nThis could potentially imply many options like:\n*  Container image.\n*  Annotations.\n*  Environment variables, config maps?\n*  Inject some additional env vars to the container, like the postgres superuser and password.\n*  Potentially access the Postgres filesystem (PGDATA) and/or the logs, etc.\n*  Resource limits for the user-added sidecar, to control its potential impact.\n\n# Proposal\n\n```yaml\napiVersion: stackgres.io/v1\nkind: SGCluster\nspec:\n  postgresServices:\n    primary:\n      customPorts: # The list of extra ports that will be exposed by the primary service\n      - \u003cServicePort\u003e # See https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.22/#serviceport-v1-core\n    replicas:\n      customPorts: # The list of extra ports that will be exposed by the replicas service\n      - \u003cServicePort\u003e # See https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.22/#serviceport-v1-core\n  pods:\n    customVolumes:\n    - \u003cVolume\u003e # See https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.22/#volume-v1-core\n    customInitContainers:\n    - \u003cContainer\u003e # See https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.22/#container-v1-core\n    customContainers:\n    - \u003cContainer\u003e # See https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.22/#container-v1-core\n```\n\nSections `.spec.postgresServices.primary.customPorts` and `.spec.postgresServices.replicas.customPorts` will allow to expose any custom service defined by a custom sidecars. We may think about renaming section `.spec.postgresServices` to `.spec.services` in a future version of `SGCluster` CRD since we will expose ports from custom containers and user may not want to expose Postgres ports at all but just those of their custom services.\n\nThe `.spec.pods.customContainers[]` and `.spec.pods.customInitContainers[]` are the same as the `Container` object present in the Pod resource under section `.spec.containers[]` and `.spec.initContainers[]`.\n\nThe `.name` field in `Container` object will forbid using any container name that is used by StackGres.\n\n~~We will forbid following fields:\n\n* `.securityContext`: The users of the container will use the main security context and will be replaced by mounting `/etc/passwd`, `/etc/shadow`, `/etc/groups` and `/etc/gshadow`. This will allow to use postgres UNIX socket and the data volume with the same user as postgres. Also it will allow to use the same container in OpenShift with arbitrary user ids.\n* `.stdin`: This will be left unset\n* `.stdinOnce`: This will be left unset\n* `.terminationMessagePath`: This will be left unset\n* `.terminationMessagePolicy`: This will be left unset\n* `.tty`: This will be left unset\n* `.volumeDevices`: This will be left unset since StatefulSet can not work with it.\n* `.resources`: This will be handled by `SGInstanceProfile` (see also #144) and first implementation should be the same as for other containers and init containers other than `patroni`. We will open an issue to implement resources for custom containers.~~\n\n\u003e Instead of forbidding we should document the fields that should not be touch and why. This is a very advanced feature and user that does not know how to define correctly a container and how StackGres internal works will be warned that using such feature may break the cluster in unexpected ways.\n\nWe may ~~also forbid~~ reduce definition of following fields in the UI to make a first implementation easier:\n\n* `.lifecycle`\n* `.startupProbe`\n* `.readinessProbe`\n* `.livenessProbe`\n\nUser will be able to use any volume that is defined in the StatefulSet including the data PV by setting the section `.volumeMounts[]` in `Container` object. To use the custom volumes defined in the section `.spec.pods.customVolumes` the names user in the `.volumeMounts[]` section of `Container` object will have to be prepended by the `custom-` prefix string (this is to avoid collisions). This will be documented properly in the `SGCluster` CRD to specify the names of such container and what they do.\n\nThe `.name` and `.ports[].name` fields of `Container` object as the `.name` and `.targetPort` fields of `ServicePort` object will also be prepended with the `custom-` string prefix to avoid collisions.\n\n## Acceptance Criteria\n\n* [ ] Implement the feature\n* [ ] Create tests\n* [ ] Documentation","state":"closed","created_at":"2020-07-01T17:02:24.786Z","updated_at":"2023-02-28T19:41:31.473Z","closed_at":"2022-10-20T13:52:05.314Z","closed_by":{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"},"labels":["Discussion","Feature Request","StackGres","priority::P2","sprint::2022-S29-0509-0529","target_version::1.4.0-beta1","team::DEV","workflow::In Progress"],"milestone":{"id":2734475,"iid":20,"group_id":3102997,"title":"StackGres 1.4.0-beta1","description":"","state":"active","created_at":"2022-08-12T08:58:43.213Z","updated_at":"2022-10-03T18:20:42.056Z","due_date":"2022-10-10","start_date":"2022-08-22","expired":true,"web_url":"https://gitlab.com/groups/ongresinc/-/milestones/20"},"assignees":[{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"}],"author":{"id":2483568,"username":"ahachete","name":"Alvaro Hernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/5af6a3c5c96061774cc52fd45ba305da?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahachete"},"type":"ISSUE","assignee":{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"},"user_notes_count":14,"merge_requests_count":2,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/ongresinc/stackgres/-/issues/538","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":0},"weight":32,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/12584701/issues/538","notes":"https://gitlab.com/api/v4/projects/12584701/issues/538/notes","award_emoji":"https://gitlab.com/api/v4/projects/12584701/issues/538/award_emoji","project":"https://gitlab.com/api/v4/projects/12584701","closed_as_duplicate_of":null},"references":{"short":"#538","relative":"#538","full":"ongresinc/stackgres#538"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":24,"epic":{"id":533319,"iid":24,"title":"[StackGres][Dev]Reliability","url":"/groups/ongresinc/-/epics/24","group_id":3102997,"human_readable_end_date":"May 8, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":31938948,"iid":331,"project_id":12584701,"title":"Develop pod-local StackGres Controller","description":"Currently, StackGres works as an operator, that runs as a separate pod (from the Postgres cluster pods). From there, it interacts with the Kubernetes API to perform StackGres actions, including creating and destroying pods and many other actions.\n\nHowever, it doesn't have a clear way to interact with the clusters once created. In particular, it has no way to explicitly run commands / take some actions inside of some of the containers of the StackGres pods. And some maintenance operations (like for example reloading configuration files) require to run some commands on those containers.\n\nRather than creating custom scripts, or executing commands with the Kubernetes API, the team has decided to continue leveraging the _sidecar pattern_ and implement this via a sidecar container that will act as a pod-local StackGres controller.\n\nThis controller will expose an HTTP API that the \"main/central\" controller will be called. This would also help to abstract the implementation of how those actions are executed within the pod containers.\n\nSimilarly to other HTTP APIs used by StackGres, this HTTP API will follow [RFC-7807](https://tools.ietf.org/html/rfc7807) for communicating back errors. This pod-local controller will be a separate container, where a Java-developed software compiled to native code via GraalVM will be running.\n\nFor a first implementation, this pod-local controller must implement the following operations. Also suggested implementation details are proposed as part of this issue:\n\n* [ ]  ~~Reload Postgres configuration. Postgres configuration (both `postgresql.conf` and `pg_hba.conf`) is currently handled via Patroni. Patroni stores this configuration as a JSON within and Endpoint annotation --which is backed by K8s etcd--. Whenever it is changed, Patroni propagates these changes to all nodes of the cluster automatically. However, they are not refreshed. Implementation: ideally, Patroni's own HTTP API should be called. It exposes a `POST /reload` method that handles precisely this use case. It may also be an option to execute the command `patronictl reload`, but is less desirable.~~\n\n* [ ]  Reload Pgbouncer configuration. PGbouncer provides a command to reload the configuration (see [RELOAD](http://www.pgbouncer.org/usage.html)) that will perform this task. This requires access to the administrative database of pgbouncer (typically called `pgbouncer`, but this depends on the configuration). Ideally, this may be over localhost using the Postgres protocol, but may happen otherwise. Another possible, although less desirable implementation, is to `kill -HUP` pgbouncer's process, getting the pid from the `pgbouncer.pid` or similar file.\n\n\nOne common issue to these methods is to ensure that the configuration change has been adequately propagated to the pod **before** the reload method is called. There may be a race condition here since propagation of changes via the downward API or annotations on objects is asynchronous with respect to the change operation. One way to avoid this problem is to introduce a version field as part of every configuration, that is monotonically increased whenever any change is performed. Then, the reload operations must also specify which version they are expecting the configuration to be at. The reload mechanism (executed by the pod-local controller) must check that the version of the configuration materialized on the filesystem matches the one requested via the web service; or wait with some retries until it gets updated. Return an error if after several retries that version got never updated.","state":"closed","created_at":"2020-03-12T20:40:34.692Z","updated_at":"2022-11-15T06:07:16.048Z","closed_at":"2022-11-14T12:45:10.165Z","closed_by":{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"},"labels":["Feature Request","StackGres","target_version::1.4.0-RC1","team::DEV","workflow::In Progress"],"milestone":{"id":2839402,"iid":25,"group_id":3102997,"title":"StackGres 1.4.0-RC1","description":"","state":"active","created_at":"2022-10-20T12:50:40.205Z","updated_at":"2022-10-20T12:50:40.205Z","due_date":"2022-11-08","start_date":"2022-10-20","expired":true,"web_url":"https://gitlab.com/groups/ongresinc/-/milestones/25"},"assignees":[{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"}],"author":{"id":2483568,"username":"ahachete","name":"Alvaro Hernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/5af6a3c5c96061774cc52fd45ba305da?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahachete"},"type":"ISSUE","assignee":{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"},"user_notes_count":10,"merge_requests_count":2,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/ongresinc/stackgres/-/issues/331","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/12584701/issues/331","notes":"https://gitlab.com/api/v4/projects/12584701/issues/331/notes","award_emoji":"https://gitlab.com/api/v4/projects/12584701/issues/331/award_emoji","project":"https://gitlab.com/api/v4/projects/12584701","closed_as_duplicate_of":null},"references":{"short":"#331","relative":"#331","full":"ongresinc/stackgres#331"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":24,"epic":{"id":533319,"iid":24,"title":"[StackGres][Dev]Reliability","url":"/groups/ongresinc/-/epics/24","group_id":3102997,"human_readable_end_date":"May 8, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":26732841,"iid":144,"project_id":12584701,"title":"Implement a correct solution for resources of cluster's pods","description":"Currently the cluster is created setting uniquely resources request and limit on the patroni container but a correct solution would be to split the resources limit and request among all containers of the cluster's pods. We should research the correct solution to this problem making sure that:\n\n* Pod total resources limit and request are shared among all containers and the sum of resources limit and request is equals to the one specified in the profile.\n* Pod resources limit and request should be balanced in a way that respect the role of each container. We should make sure each container has the right amount of memory and cpu for it to operate correctly and at best performance possible with that profile configuration.\n* Resources limit and request are correctly specified in the configuration of a profile. Currently we set a value for cpu and memory and use that in both resource limit and request, we should check this is a correct approach.\n\n# Proposal\n\nThis is a proposal to enhance `SGInstanceProfile`  in order to set the resource requirements for containers and init containers and a similar section to include with #820 or implement with this issue if #820 get implemented before this one:\n\n```yaml\napiVersion: stackgres.io/v1\nkind: SGInstanceProfile\nspec:\n  cpu: 16000\n  memory: 64Gi\n  containers:\n    pgbouncer:\n      cpu: 1000\n      memory: 64Mi\n    envoy:\n      cpu: 1000\n      memory: 64Mi\n    prometheus-postgres-exporter:\n      cpu: 1000\n      memory: 8Mi\n    postgres-util:\n      cpu: 1000\n      memory: 8Mi\n    fluent-bit:\n      cpu: 1000\n      memory: 8Mi\n    fluentd:\n      cpu: 4000\n      memory: 2Gi\n    cluster-controller: # Could be applied also to distributedlogs-controller\n      cpu: 1000\n      memory: 512Mi # Fix #1566 to improve this\n  initContainers:\n    setup-arbitrary-user:\n      cpu: 1000\n      memory: 8Mi\n    setup-data-paths:\n      cpu: 1000\n      memory: 8Mi\n    relocate-binaries:\n      cpu: 1000\n      memory: 8Mi\n    setup-scripts:\n      cpu: 1000\n      memory: 8Mi\n    pgbouncer-auth-file:\n      cpu: 1000\n      memory: 8Mi\n    cluster-reconciliation-cycle: # Could be applied also to distributedlogs-reconciliation-cycle\n      cpu: 1000\n      memory: 512Mi # Fix #1566 to improve this\n    major-version-upgrade:\n      cpu: 16000\n      memory: 64Gi\n    reset-patroni:\n      cpu: 1000\n      memory: 8Mi\n```\n\nIf the user do not specify a container sub-section in the `.spec.containers` or `.spec.initContainers` section here are the proposed formulas to calculate the values of such sub-sections on creation of `sGInstanceProfile`:\n\n\u003e Those values may be lowered. Also in those cases the requests may be lower than the limit when it comes to apply this resource requirements to specified containers in order to use the shared CPUs when [CPU manager policy is set to static](https://kubernetes.io/docs/tasks/administer-cluster/cpu-management-policies/#static-policy) in order to be in the `Burstable` group and use the shared pool of CPUs. \n\n* For `pgbouncer`:\n\n  * `cpu` as millicpu: `min(1000, floor(toMillicpu(\".spec.cpu\") / 16))` \n  * `memory` as Mi: `64`\n\nWith `64Mi` PgBouncer should be able to handle 4096 connections. See https://www.pgbouncer.org/features.html\n\n\u003e Low memory requirements (2 kB per connection by default). This is because PgBouncer does not need to see full packets at once.\n\n* For `envoy`:\n\n  * `cpu` as millicpu: `min(4000, floor(toMillicpu(\".spec.cpu\") / 4))` \n  * `memory` as Mi: `64`\n\nScaling connections with pgbench from 1 connection to 100 only add 1Mi of used memory to the 20Mi initially used and with another increment of 11Mi with 1000 connections. If we consider 12Mi each 1000 connections with 64Mi envoy should be able to handle up to 3500 connections.\n\n* For `prometheus-postgres-exporter`:\n\n  * `cpu` as millicpu: `min(1000, floor(toMillicpu(\".spec.cpu\") / 16))` \n  * `memory` as Mi: `8Mi`\n\n* For `postgres-util`:\n\n  * `cpu` as millicpu: `min(1000, floor(toMillicpu(\".spec.cpu\") / 16))` \n  * `memory` as Mi: `8Mi`\n\n* For `fluent-bit`:\n\n  * `cpu` as millicpu: `min(1000, floor(toMillicpu(\".spec.cpu\") / 16))` \n  * `memory` as Mi: `8Mi`\n\n* For `fluentd`:\n\n  * `cpu` as millicpu: `min(4000, floor(toMillicpu(\".spec.cpu\") / 4))` \n  * `memory` as Mi: `2Gi`\n\nMemory usage is quite high. Starting from 512Mi it easily increases to 612Mi with a cluster of 3 instances with low log usage. So `2Gi` seems a quite safe value.\n\nFor `cluster-controller` / `distributedlogs-controller` / `cluster-reconciliation-cycle` / `distributedlogs-reconciliation-cycle`:\n\n  * `cpu` as millicpu: `min(1000, floor(toMillicpu(\".spec.cpu\") / 4))` \n  * `memory` as Mi: `512Mi`\n\nSee #1566.\n\nFor `major-version-upgrade`:\n\n  * `cpu` as millicpu: `toMillicpu(\".spec.cpu\")` \n  * `memory` as Mi: `toMi(\".spec.memory\")`\n\nMajor version upgrade will run `pg_upgrade` command that may or may not require all of that CPU and memory. In any case better to give all the available resources to this container since it runs alone and we may find out a faster alternative that requires more memory and CPU in the future.\n\n* For `prometheus-postgres-exporter` / `postgres-util` / `fluent-bit` / `setup-arbitrary-user` / `setup-data-paths` / `relocate-binaries` / `setup-scripts` / `pgbouncer-auth-file` / `reset-patroni`:\n\n  * `cpu` as millicpu: `toMillicpu(\".spec.cpu\")` \n  * `memory` as Mi: `toMi(\".spec.memory\")`\n\nInit containers may or may not require all of that CPU and memory. In any case better to give all the available resources to any init container since they runs alone.\n\nReference: https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/#how-pods-with-resource-requests-are-scheduled\n\n** Acceptance criteria: **\n- [x] Implement the feature\n- [ ] Implement the changhe in the REST API.\n- [x] create test\n- [ ] Documentation","state":"closed","created_at":"2019-11-05T18:14:36.142Z","updated_at":"2022-11-28T11:51:45.112Z","closed_at":"2022-10-10T14:31:08.308Z","closed_by":{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"},"labels":["Security Feature","StackGres","priority::P1","sprint::2022-S29-0509-0529","target_version::1.3.0-beta1","team::DEV","week-3","week-4","week-5","week-6","workflow::In Progress"],"milestone":{"id":2574404,"iid":18,"group_id":3102997,"title":"StackGres 1.3.0-beta1","description":"Codename \"**BYOPE: Bring your own Postgres extension**\"","state":"active","created_at":"2022-04-21T08:27:13.726Z","updated_at":"2022-10-18T07:34:00.411Z","due_date":"2022-07-27","start_date":"2022-05-17","expired":true,"web_url":"https://gitlab.com/groups/ongresinc/-/milestones/18"},"assignees":[{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"}],"author":{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"},"type":"ISSUE","assignee":{"id":2577634,"username":"teoincontatto","name":"Matteo Melli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2577634/avatar.png","web_url":"https://gitlab.com/teoincontatto"},"user_notes_count":19,"merge_requests_count":1,"upvotes":1,"downvotes":1,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/ongresinc/stackgres/-/issues/144","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":2},"weight":24,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/12584701/issues/144","notes":"https://gitlab.com/api/v4/projects/12584701/issues/144/notes","award_emoji":"https://gitlab.com/api/v4/projects/12584701/issues/144/award_emoji","project":"https://gitlab.com/api/v4/projects/12584701","closed_as_duplicate_of":null},"references":{"short":"#144","relative":"#144","full":"ongresinc/stackgres#144"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":{"id":55724,"iid":29,"sequence":29,"group_id":3102997,"title":"SG1.3-BETA1","description":"","state":3,"created_at":"2022-05-11T16:32:13.590Z","updated_at":"2022-07-02T00:05:02.185Z","start_date":"2022-05-15","due_date":"2022-07-01","web_url":"https://gitlab.com/groups/ongresinc/-/iterations/55724"},"health_status":null}]