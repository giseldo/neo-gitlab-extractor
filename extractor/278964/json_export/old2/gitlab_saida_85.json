[{"id":78704455,"iid":320898,"project_id":278964,"title":"Forecast int4 overflow date for relevant tables","description":"Following the [example](https://gitlab.com/groups/gitlab-org/-/epics/4785#note_499434548) for CI related tables, we'd like to conduct a (repeatable) forecast when we need to expect int4 primary keys to overflow on GitLab.com.\n\nIdeally, this would be easily repeatable, so we can do this in a monthly basis or similar.\n\nSummary Forecast here https://gitlab.com/gitlab-org/gitlab/-/issues/320898#note_514276636","state":"closed","created_at":"2021-02-09T09:47:47.834Z","updated_at":"2022-05-30T15:34:07.363Z","closed_at":"2021-02-23T13:50:35.662Z","closed_by":{"id":1562869,"username":"abrandl","name":"Andreas Brandl","state":"active","avatar_url":"https://secure.gravatar.com/avatar/487c4c74f7e1714b5a270e00d4735e84?s=80\u0026d=identicon","web_url":"https://gitlab.com/abrandl"},"labels":["Category:Database","Deliverable","Engineering Allocation","devops::data_stores","group::database","section::enablement","workflow::in review"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":1562869,"username":"abrandl","name":"Andreas Brandl","state":"active","avatar_url":"https://secure.gravatar.com/avatar/487c4c74f7e1714b5a270e00d4735e84?s=80\u0026d=identicon","web_url":"https://gitlab.com/abrandl"}],"author":{"id":1562869,"username":"abrandl","name":"Andreas Brandl","state":"active","avatar_url":"https://secure.gravatar.com/avatar/487c4c74f7e1714b5a270e00d4735e84?s=80\u0026d=identicon","web_url":"https://gitlab.com/abrandl"},"type":"ISSUE","assignee":{"id":1562869,"username":"abrandl","name":"Andreas Brandl","state":"active","avatar_url":"https://secure.gravatar.com/avatar/487c4c74f7e1714b5a270e00d4735e84?s=80\u0026d=identicon","web_url":"https://gitlab.com/abrandl"},"user_notes_count":20,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/320898","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/320898","notes":"https://gitlab.com/api/v4/projects/278964/issues/320898/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/320898/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#320898","relative":"#320898","full":"gitlab-org/gitlab#320898"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5661,"epic":{"id":231501,"iid":5661,"title":"Primary Key Overflow - Monitoring","url":"/groups/gitlab-org/-/epics/5661","group_id":9970,"human_readable_end_date":"Sep 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":78697101,"iid":320887,"project_id":278964,"title":"Consolidate issue board-related permissions","description":"Currently issue board list permissions are named `read_list`, `admin_list`. For issue boards it's `read_board`, `admin_board`. Now since we have also epic boards, it would be good to rename these permission names to be more explicit so it's clear these permissions are related to issue boards and issue board lists.\n\nMaybe new names could be `read|admin_issue_board` and `read|admin_issue_board_list`.\n\nThe following discussion from !53125 should be addressed:\n\n- [ ] @stanhu started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/53125#note_504607250):  (+2 comments)\n\n    \u003e I was a little confused what `admin_epic_list` meant in this context:\n    \u003e \n    \u003e ![image](/uploads/9f2c720aa633b83fd9f1eacc8f4396e8/image.png)\n    \u003e \n    \u003e It sounds like it could be mistakenly interpreted as privileges to modify this epic list, but I suppose `board list` has the same confusion. \n    \u003e \n    \u003e I'm not sure if I have a better term here: do we mean something like `epic board list`?\n\nUPDATE: this is also related to the discussion about renaming board model - https://gitlab.com/gitlab-org/gitlab/-/issues/321474#note_508489138 so renaming should be consistent","state":"closed","created_at":"2021-02-09T07:50:34.895Z","updated_at":"2021-10-28T14:00:28.155Z","closed_at":"2021-03-04T17:18:27.016Z","closed_by":{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"},"labels":["backend","devops::plan","group::product planning","maintenance::refactor","section::dev","type::maintenance","workflow::in review"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"}],"author":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"type":"ISSUE","assignee":{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/320887","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/320887","notes":"https://gitlab.com/api/v4/projects/278964/issues/320887/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/320887/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#320887","relative":"#320887","full":"gitlab-org/gitlab#320887"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":78696312,"iid":320886,"project_id":278964,"title":"Corpus Management UI - GraphQL/REST/Mocked data proof of concept","description":"## Proof of concept merge request diff\nhttps://gitlab.com/gitlab-org/gitlab/-/merge_requests/53590/diffs\n\n## Proof of concept video demo\nhttps://youtu.be/98H_4xgFMjY\n\n## Goals\n\n- Verify with a Proof of Concept if it is possible to use GraphQL, REST, and mocked data using a single UI/Javascript library.\n\n- Verify that the transport layer can be abstracted in a way that allows easy transition from REST and mocked data to graphQL\n\n## Desired Outcome\n\n- If both goals are validated, then we should be able to build out the desired UI and swap out the mock data for real data very easily. This would be regardless of whatever technology we use to communicate with ~backend.\n\n## Background\n\nThe Corpus Management epic ~backend is in a high level of flux since we are highly dependent on the **Package** team. Endpoint implementation plans are in flux. It is still undetermined if we will use a graphQL or REST endpoint, or both.\n\nWe also want to continue development in the meantime and present users with a UI with mocked data while ~backend development continues.\n\u003c!-- triage-serverless v2 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*The following page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v2 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2021-02-09T07:40:34.652Z","updated_at":"2021-10-13T14:49:31.696Z","closed_at":"2021-02-15T21:09:43.295Z","closed_by":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"labels":["Category:Fuzz Testing","GitLab Ultimate","devops::secure","direction","frontend","fuzzing::coverage","group::dynamic analysis","section::sec","workflow::verification"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"}],"author":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"type":"ISSUE","assignee":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/320886","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/320886","notes":"https://gitlab.com/api/v4/projects/278964/issues/320886/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/320886/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#320886","relative":"#320886","full":"gitlab-org/gitlab#320886"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5017,"epic":{"id":156867,"iid":5017,"title":"Fuzz corpus management interface - initial implementation","url":"/groups/gitlab-org/-/epics/5017","group_id":9970,"human_readable_end_date":"Feb 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":78685621,"iid":320882,"project_id":278964,"title":"Epic Boards show page","description":"Display an Epic Board by visiting `$instance/groups/group/-/epic_boards/1`.\n\nThe following discussion from !53100 should be addressed:\n\n- [ ] @fguibert started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/53100#note_504646811):  (+1 comment)\n\n    \u003e @cablett Just confirming, this doesn't seem to support epic board id in the URL. Do we intend to this in a follow up issue or should handle it here? I'm attempting to implement multiple board switcher because we'll need it when we can create a board (which is coming soon), so we'll need to support id in the URL.\n    \u003e \n    \u003e ![Screenshot_from_2021-02-09_13-33-46](/uploads/f4395ba01b13b2119fc34f980943167a/Screenshot_from_2021-02-09_13-33-46.png)","state":"closed","created_at":"2021-02-09T04:10:45.306Z","updated_at":"2021-11-08T16:07:50.816Z","closed_at":"2021-02-16T22:47:07.572Z","closed_by":{"id":3717078,"username":"cablett","name":"charlie ablett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3717078/avatar.png","web_url":"https://gitlab.com/cablett"},"labels":["Category:Team Planning","backend","boards","devops::plan","feature::addition","frontend","group::product planning","section::dev","type::feature","workflow::in review"],"milestone":{"id":1233760,"iid":56,"group_id":9970,"title":"13.9","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.334Z","updated_at":"2022-04-21T07:21:28.468Z","due_date":"2021-02-17","start_date":"2021-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/56"},"assignees":[],"author":{"id":3717078,"username":"cablett","name":"charlie ablett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3717078/avatar.png","web_url":"https://gitlab.com/cablett"},"type":"ISSUE","assignee":null,"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/320882","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/320882","notes":"https://gitlab.com/api/v4/projects/278964/issues/320882/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/320882/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#320882","relative":"#320882","full":"gitlab-org/gitlab#320882"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5067,"epic":{"id":163256,"iid":5067,"title":"üèó Epic Boards - MVC 1 - Create and View epic boards","url":"/groups/gitlab-org/-/epics/5067","group_id":9970,"human_readable_end_date":"Mar 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":78683125,"iid":320875,"project_id":278964,"title":"FE: Provide an admin setting to automate deactivation of dormant users","description":"## Description\n\nIn GitLab Self-Managed (TODO - _is this correct?_), if a user did not sign in, or has had any activity in 90 days, the administrator will be granted the option to manually deactivate them (docs about this [here](https://docs.gitlab.com/ee/user/admin_area/activating_deactivating_users.html)).\n\nManually deactivating dormant users can be cumbersome.\n\nThis issue deals with adding an admin setting that if toggled on will have the effect of automatically deactivating the _dormant users_ (users with no log-in or activity for the past 90 days).\n\n## Designs\n\nLink with UX discussion: https://gitlab.com/gitlab-org/gitlab/-/issues/282537/designs/deactive_dormant_users.png\n\n![Screenshot_2021-04-09_at_21.49.40](/uploads/f2c303b4b020d289e658a3e7384edb4b/Screenshot_2021-04-09_at_21.49.40.png)\n\n### Setting location\n\nInside of **Admin \u003e Settings \u003e Account and Limit**, right after the **New users set to external** section.\n\n### Text\n\n- **Title:** _Dormant users_\n- **Label:** _Deactivate dormant users after 90 days of inactivity. Users can return to active status by logging into their account. While inactive, a user will not be counted as an active user in the instance. [More information](#)_\n- **Help link URL:** `This URL will be available after the docs MR will get merged`\n\n## Related Back-End issue\n\nhttps://gitlab.com/gitlab-org/gitlab/-/issues/211754","state":"closed","created_at":"2021-02-09T02:22:22.034Z","updated_at":"2022-10-06T14:46:22.382Z","closed_at":"2021-06-11T01:26:07.130Z","closed_by":{"id":3170776,"username":"krasio","name":"Krasimir Angelov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3170776/avatar.png","web_url":"https://gitlab.com/krasio"},"labels":["#field-fyi","Support Priority","[deprecated] Category:Utilization","[deprecated] üçé","customer","devops::fulfillment","frontend","group::utilization","link::child issue","missed:13.12","section::fulfillment","type::feature","workflow::verification"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":3170776,"username":"krasio","name":"Krasimir Angelov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3170776/avatar.png","web_url":"https://gitlab.com/krasio"}],"author":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"type":"ISSUE","assignee":{"id":3170776,"username":"krasio","name":"Krasimir Angelov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3170776/avatar.png","web_url":"https://gitlab.com/krasio"},"user_notes_count":21,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/320875","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/320875","notes":"https://gitlab.com/api/v4/projects/278964/issues/320875/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/320875/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#320875","relative":"#320875","full":"gitlab-org/gitlab#320875"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5519,"epic":{"id":217169,"iid":5519,"title":"[Self-managed] Deactivation of dormant users","url":"/groups/gitlab-org/-/epics/5519","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":78678870,"iid":320861,"project_id":278964,"title":"[Feature flag] Enable integrations_test_webhook_reorder","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## What\n\nRemove the `:integrations_test_webhook_reorder` feature flag.\n\n## Owners\n\n- Team: ~\"group::ecosystem\" \n- Most appropriate slack channel to reach out to: `#g_create_ecosystem`\n- Best individual to reach out to: @.luke \n\n## Expectations\n\n### What are we expecting to happen?\n\nAll test webhooks will use the newest records in their test payloads https://gitlab.com/gitlab-org/gitlab/-/issues/290116#note_490278275. \n\n### What might happen if this goes wrong?\n\nError when fetching the record for the payload.\n\n### What can we monitor to detect problems with this?\n\n- Grafana rails controller charts\n- Sentry\n\n## Beta groups/projects\n\nIf applicable, any groups/projects that are happy to have this feature turned on early. Some organizations may wish to test big changes they are interested in with a small subset of users ahead of time for example.\n\n- `.luke/public-tests` project\n- `gitlab-org/gitlab` project\n\n## Roll Out Steps\n\n- [x] Enable on staging (`/chatops run feature set integrations_test_webhook_reorder true --staging`)\n- [x] Test on staging\n- [-] Ensure that documentation has been updated\n- [x] Enable on GitLab.com for individual groups/projects listed above and verify behaviour  (`/chatops run feature set --project=gitlab-org/gitlab integrations_test_webhook_reorder true`)\n- [-] Coordinate a time to enable the flag with the SRE oncall and release managers\n  - In `#production` mention `@sre-oncall` and `@release-managers`. Once an SRE on call and Release Manager on call confirm, you can proceed with the rollout\n- [-] Announce on the issue an estimated time this will be enabled on GitLab.com\n- [x] Enable on GitLab.com by running chatops command in `#production` (`/chatops run feature set integrations_test_webhook_reorder true`)\n- [-] Cross post chatops Slack command to `#support_gitlab-com` ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#where-to-run-commands)) and in your team channel\n- [x] Announce on the issue that the flag has been enabled\n- [x] Remove feature flag and add changelog entry\n- [x] After the flag removal is deployed, [clean up the feature flag](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) by running chatops command in `#production` channel\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set integrations_test_webhook_reorder false\n```","state":"closed","created_at":"2021-02-08T23:39:31.995Z","updated_at":"2022-11-22T19:50:43.323Z","closed_at":"2021-02-16T23:19:46.500Z","closed_by":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"labels":["devops::manage","feature flag","feature::enhancement","group::ecosystem [DEPRECATED]","section::dev","type::feature","workflow::verification"],"milestone":{"id":1233760,"iid":56,"group_id":9970,"title":"13.9","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.334Z","updated_at":"2022-04-21T07:21:28.468Z","due_date":"2021-02-17","start_date":"2021-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/56"},"assignees":[{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"}],"author":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"type":"ISSUE","assignee":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/320861","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":8,"completed_count":7},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"7 of 8 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/320861","notes":"https://gitlab.com/api/v4/projects/278964/issues/320861/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/320861/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#320861","relative":"#320861","full":"gitlab-org/gitlab#320861"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":78678345,"iid":320860,"project_id":278964,"title":"Add missing fields to GraphQL Vulnerability","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\nAs part of the effort in this Epic to remove `raw_metadata`, we need to make the existing content available through other means. The following fields have been identified as required: ~~[`category`](https://gitlab.com/gitlab-org/security-products/security-report-schemas/-/blob/810146137239e4340604585a856550d7d42a28e8/src/security-report-format.json#L322-324),~~ [`name`](https://gitlab.com/gitlab-org/security-products/security-report-schemas/-/blob/810146137239e4340604585a856550d7d42a28e8/src/security-report-format.json#L326-328), [`message`](https://gitlab.com/gitlab-org/security-products/security-report-schemas/-/blob/810146137239e4340604585a856550d7d42a28e8/src/security-report-format.json#L330-332), [`links`](https://gitlab.com/gitlab-org/security-products/security-report-schemas/-/blob/810146137239e4340604585a856550d7d42a28e8/src/security-report-format.json#L367-372).\n\n## Relevant links\n\n- Confirmation of fields to be added: https://gitlab.com/gitlab-org/gitlab/-/issues/239193#note_503520056\n- Other missing fields dealt with: https://gitlab.com/gitlab-org/gitlab/-/issues/299904#possible-fixes\n- why `category` shouldn't be added: https://gitlab.com/gitlab-org/gitlab/-/issues/233359\n\n\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [ ] Documentation:\n- [ ] Feature flag:\n- [ ] Performance:\n- [ ] Testing:\n\n\n## Implementation plan\n\u003c!--\nSteps and the parts of the code that will need to get updated. The plan can also\ncall-out responsibilities for other team members or teams.\n--\u003e\n\n- [ ] Update Vulnerability GraphQL response to include new fields with descriptions\n  - [ ] `message`\n  - [ ] `links` (model names : `FindingLink`, `finding_links`)\n\n\n\u003c!--\nWorkflow and other relevant labels\n\n~\"group::\" ~\"Category:\" ~\"GitLab Ultimate\"\n--\u003e\n\u003c!--\nOther settings you might want to include when creating the issue.\n\n--\u003e","state":"closed","created_at":"2021-02-08T23:22:00.725Z","updated_at":"2021-09-29T13:00:23.711Z","closed_at":"2021-09-28T17:50:44.890Z","closed_by":{"id":5721376,"username":"minac","name":"Mehmet Emin INAC","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d8bdee790902422e3554e411a173c7c0?s=80\u0026d=identicon","web_url":"https://gitlab.com/minac"},"labels":["Category:Vulnerability Management","GitLab Ultimate","GraphQL","backend","backend-weight::2","devops::secure","documentation","feature::enhancement","good for new contributors","group::threat insights","section::sec","type::feature","workflow::verification"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":5721376,"username":"minac","name":"Mehmet Emin INAC","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d8bdee790902422e3554e411a173c7c0?s=80\u0026d=identicon","web_url":"https://gitlab.com/minac"}],"author":{"id":480804,"username":"thiagocsf","name":"Thiago Figueir√≥","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480804/avatar.png","web_url":"https://gitlab.com/thiagocsf"},"type":"ISSUE","assignee":{"id":5721376,"username":"minac","name":"Mehmet Emin INAC","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d8bdee790902422e3554e411a173c7c0?s=80\u0026d=identicon","web_url":"https://gitlab.com/minac"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/320860","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":7,"completed_count":0},"weight":2,"blocking_issues_count":1,"has_tasks":true,"task_status":"0 of 7 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/320860","notes":"https://gitlab.com/api/v4/projects/278964/issues/320860/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/320860/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#320860","relative":"#320860","full":"gitlab-org/gitlab#320860"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":78676068,"iid":320858,"project_id":278964,"title":"Clipboard icon for \"copy branch name\" misplaced in Safari","description":"The \"clipboard\" icon in the right sidebar of the merge request page renders oddly in Safari (tested in Safari 14.0.2 and macOS Big Sur 11.1)\n\n| Safari/Webkit | Chrome/Blink |\n|----|----|\n| ![CleanShot_2021-02-05_at_13.18.59_2x](/uploads/5b56f06a69017e4c53bd819f2dc9ffd6/CleanShot_2021-02-05_at_13.18.59_2x.png) | ![CleanShot_2021-02-08_at_16.32.21_2x](/uploads/a6b574b3e43866d72373e1735d71b2e6/CleanShot_2021-02-08_at_16.32.21_2x.png) |","state":"closed","created_at":"2021-02-08T22:35:32.645Z","updated_at":"2021-07-18T07:07:18.430Z","closed_at":"2021-07-07T18:39:38.014Z","closed_by":{"id":853414,"username":"andr3","name":"Andr√© Lu√≠s","state":"active","avatar_url":"https://secure.gravatar.com/avatar/241e39726efb512a29621070ccf26a90?s=80\u0026d=identicon","web_url":"https://gitlab.com/andr3"},"labels":["Category:Code Review Workflow","Deliverable","browser:safari","devops::create","frontend","group::code review","merge requests","priority::3","reproduced on GitLab.com","section::dev","severity::4","type::bug"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":4017300,"username":"jboyson","name":"Justin Boyson","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4017300/avatar.png","web_url":"https://gitlab.com/jboyson"}],"author":{"id":636429,"username":"mikegreiling","name":"Mike Greiling","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/636429/avatar.png","web_url":"https://gitlab.com/mikegreiling"},"type":"ISSUE","assignee":{"id":4017300,"username":"jboyson","name":"Justin Boyson","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4017300/avatar.png","web_url":"https://gitlab.com/jboyson"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/320858","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/320858","notes":"https://gitlab.com/api/v4/projects/278964/issues/320858/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/320858/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#320858","relative":"#320858","full":"gitlab-org/gitlab#320858"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":78673462,"iid":320852,"project_id":278964,"title":"From GraphQL, return API fuzzing CI configuration profile YAML as syntax highlight HTML","description":"# Context\n\nThe backend is responsible for adding syntax highlighting to code snippets before returning them to the frontend. It uses the `Banzai` classes to do so. The initial attempt to add it to the `yaml` field on `AppSec::Fuzzing::Api::ScanProfileType` failed because (for unknown reasons) `Banzai::Renderer` returned the HTML without properly marking it up with the syntax highlighting classes\n\n# Solution\n\n1. Determine how to properly syntax highlight the YAML\n1. Add a new `syntaxHighlitYaml` field to `ScanProfileType` that returns the syntax highlit YAML. Make sure that field is included in the result of `Mutations::AppSec::Fuzzing::Api::CiConfiguration::Create`\n1. Update the frontend to display the formatted result","state":"closed","created_at":"2021-02-08T21:42:21.936Z","updated_at":"2021-06-09T15:41:02.241Z","closed_at":"2021-06-09T15:41:02.178Z","closed_by":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"labels":["Category:Fuzz Testing","GitLab Ultimate","backend","backend-weight::3","devops::secure","frontend","group::dynamic analysis","section::sec","workflow::refinement"],"milestone":{"id":427855,"iid":11,"group_id":9970,"title":"Next 4-7 releases","description":"Bigger issues we plan to ship in the next 4-7 releases, but don't have a designated release yet. \r\n\r\nDO NOT add small changes, bugs, regressions to this milestone.","state":"active","created_at":"2017-12-11T16:26:55.828Z","updated_at":"2018-08-17T11:09:43.594Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/11"},"assignees":[{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"}],"author":{"id":4059128,"username":"avielle","name":"Avielle Wolfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4059128/avatar.png","web_url":"https://gitlab.com/avielle"},"type":"ISSUE","assignee":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"user_notes_count":15,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/320852","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/320852","notes":"https://gitlab.com/api/v4/projects/278964/issues/320852/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/320852/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#320852","relative":"#320852","full":"gitlab-org/gitlab#320852"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4940,"epic":{"id":146555,"iid":4940,"title":"API Fuzz testing configuration","url":"/groups/gitlab-org/-/epics/4940","group_id":9970,"human_readable_end_date":"May 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":78673112,"iid":320851,"project_id":278964,"title":"Track task list status changed in MR description","description":"- [ ] Checked / unchecked a task list item in the description\n\nRelated to https://gitlab.com/gitlab-org/gitlab/-/issues/292830","state":"closed","created_at":"2021-02-08T21:39:18.192Z","updated_at":"2021-02-18T07:07:05.812Z","closed_at":"2021-02-15T16:05:51.149Z","closed_by":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"labels":["Deliverable","backend","devops::create","group::code review","section::dev"],"milestone":{"id":1233760,"iid":56,"group_id":9970,"title":"13.9","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.334Z","updated_at":"2022-04-21T07:21:28.468Z","due_date":"2021-02-17","start_date":"2021-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/56"},"assignees":[{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"}],"author":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"type":"ISSUE","assignee":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/320851","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/320851","notes":"https://gitlab.com/api/v4/projects/278964/issues/320851/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/320851/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#320851","relative":"#320851","full":"gitlab-org/gitlab#320851"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":78671620,"iid":320848,"project_id":278964,"title":"[DevOps Report] Add message explaining this is a beta feature","description":"### Problem to solve\n\nIt is not necessarily clear that DevOps Report is a beta feature.\n\n### Proposal\n\nAs suggested by @pshutsin, add some kind of dismissible alert at the top of the DevOps Report page saying: \"This is a beta feature. It is subject to change at any time, and your configuration is subject to deletion.\"","state":"closed","created_at":"2021-02-08T21:12:44.194Z","updated_at":"2021-02-10T17:23:35.331Z","closed_at":"2021-02-10T15:46:57.212Z","closed_by":{"id":4512390,"username":"djensen","name":"Dan Jensen","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4512390/avatar.png","web_url":"https://gitlab.com/djensen"},"labels":["devops::manage","frontend","group::optimize","section::dev","type::feature","workflow::problem validation"],"milestone":null,"assignees":[],"author":{"id":4512390,"username":"djensen","name":"Dan Jensen","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4512390/avatar.png","web_url":"https://gitlab.com/djensen"},"type":"ISSUE","assignee":null,"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/320848","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/320848","notes":"https://gitlab.com/api/v4/projects/278964/issues/320848/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/320848/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#320848","relative":"#320848","full":"gitlab-org/gitlab#320848"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":78668057,"iid":320836,"project_id":278964,"title":"Repository compare branches feature not showing available branches to select (Compare Git Revisions)","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\n\u003c!-- Summarize the bug encountered concisely. --\u003e\n\nA customer reported that when a user goes to *Repository* \u003e *Compare* on a *Project* the user is unable to select target branches to compare. I tried with a couple of personal repositories and replicated the issue.\n\n### Steps to reproduce\n\n* Open a project\n* Create a branch (not necessary but to illustrate what you should see on *Compare*)\n* Go to *Repository* \u003e *Compare*\n\n\u003c!-- Describe how one can reproduce the issue - this is very important. Please use an ordered list. --\u003e\n\n### Example Project\n\n\u003c!-- If possible, please create an example project here on GitLab.com that exhibits the problematic \nbehavior, and link to it here in the bug report. If you are using an older version of GitLab, this \nwill also determine whether the bug is fixed in a more recent version. --\u003e\n\nhttps://gitlab.com/gitlab-gold/mmora-gold-subgroup/pages-gatsby-jekyll/-/compare?from=master\u0026to=testbranch-001\n\n### What is the current *bug* behavior?\n\nSelection field keep looping not showing any branches\n\n\u003c!-- Describe what actually happens. --\u003e\n\n### What is the expected *correct* behavior?\n\nAbility to select and compare between branches\n\n\u003c!-- Describe what you should see instead. --\u003e\n\n### Relevant logs and/or screenshots\n\n![image](/uploads/3534189ef33e86c523e6320bfa612aff/image.png) This is a screenshot of my web console when refreshing the page\n\u003c!-- Paste any relevant logs - please use code blocks (```) to format console output, logs, and code\n as it's tough to read otherwise. --\u003e\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\n\nThis bug happens on GitLab.com","state":"closed","created_at":"2021-02-08T20:20:30.728Z","updated_at":"2021-02-23T23:41:26.328Z","closed_at":"2021-02-22T17:43:07.571Z","closed_by":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"labels":["Category:Source Code Management","Deliverable","customer","devops::create","frontend","gitlab.com","group::source code","priority::2","regression","regression:13.9","reproduced on GitLab.com","section::dev","severity::2","type::bug","workflow::verification"],"milestone":{"id":1233760,"iid":56,"group_id":9970,"title":"13.9","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.334Z","updated_at":"2022-04-21T07:21:28.468Z","due_date":"2021-02-17","start_date":"2021-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/56"},"assignees":[{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"}],"author":{"id":6426278,"username":"mmora","name":"Mario Mora","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6426278/avatar.png","web_url":"https://gitlab.com/mmora"},"type":"ISSUE","assignee":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"user_notes_count":7,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/320836","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/320836","notes":"https://gitlab.com/api/v4/projects/278964/issues/320836/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/320836/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#320836","relative":"#320836","full":"gitlab-org/gitlab#320836"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":78664062,"iid":320826,"project_id":278964,"title":"Use gitlab utility classes in job_app.vue","description":"In `app/assets/javascripts/jobs/components/job_app.vue` we have serval occurrences of using legacy CSS classes, let's use this issue to replace those classes with gitlab utility classes.","state":"closed","created_at":"2021-02-08T18:56:46.468Z","updated_at":"2021-05-21T18:04:28.733Z","closed_at":"2021-05-21T18:04:28.719Z","closed_by":{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"},"labels":["Category:Continuous Integration","devops::verify","frontend","group::pipeline execution","maintenance::refactor","missed:13.12","priority::4","section::ops","workflow::verification"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"}],"author":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"type":"ISSUE","assignee":{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/320826","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/320826","notes":"https://gitlab.com/api/v4/projects/278964/issues/320826/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/320826/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#320826","relative":"#320826","full":"gitlab-org/gitlab#320826"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":78658542,"iid":320809,"project_id":278964,"title":"Geo: Preflight checks blocked by repository checked status","description":"## Problem\n\nWhen repository checks are enabled, `rake gitlab:geo:check_replication_verification_status` reports `ERROR - Replication is not up-to-date.`, which blocks `gitlab-ctl promotion-preflight-checks` during failover.\n\n## Proposal\n\n* Do not print repository checks during `rake gitlab:geo:check_replication_verification_status`\n* Do not look for 100% complete repository checks during `rake gitlab:geo:check_replication_verification_status` \n* I think we should also remove it from `rake geo:status` until it is more ready as a Geo feature. If we do this as well, then we can just remove it completely from `GeoNodeStatusCheck` without having to be too careful.\n\n## More info\n\nWhen repository checks are enabled the Geo related screens and commands are showing a different result to the checks on a project. \n\nUnder Admin \u003e Projects \u003e \u003cProject Name\u003e\nYou can run a repository check from this page and the result is shown directly next to is as well. Here it shows the check was run and has successfully passed. When viewing the replication status on the Geo side the result is still being shown as never run.\n\n![Screenshot_2021-02-08_at_16.50.32](/uploads/3c83e15644c5791bdbd054e1c5ef6c8f/Screenshot_2021-02-08_at_16.50.32.png)\n\n## Geo Primary Site - Admin Projects Page\n![Screenshot_2021-02-08_at_15.44.44](/uploads/a9a5dc9fe6cb737b0d0c3e67169a94a4/Screenshot_2021-02-08_at_15.44.44.png)\n\n## Geo Secondary Site - Admin Geo Replication Page\n\n![Screenshot_2021-02-08_at_15.39.52](/uploads/4564ff87f7a9e5b7460b8d4f3031e4c2/Screenshot_2021-02-08_at_15.39.52.png)\n\n## Geo Secondary Site - `gitlab-ctl promotion-preflight-checks`\n![Screenshot_2021-02-08_at_17.04.56](/uploads/3a317887fd338d2d976a0a80086db07a/Screenshot_2021-02-08_at_17.04.56.png)","state":"closed","created_at":"2021-02-08T17:08:43.211Z","updated_at":"2021-05-11T20:27:36.400Z","closed_at":"2021-05-06T08:17:07.805Z","closed_by":{"id":3944199,"username":"fzimmer","name":"Fabian Zimmer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3944199/avatar.png","web_url":"https://gitlab.com/fzimmer"},"labels":["devops::systems","group::geo","section::enablement","severity::3","type::bug","workflow::in review"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":787914,"username":"ibaum","name":"Ian Baum","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7c508dc85ddd5049564a95662311543b?s=80\u0026d=identicon","web_url":"https://gitlab.com/ibaum"}],"author":{"id":5722081,"username":"nwestbury","name":"Nick Westbury","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5722081/avatar.png","web_url":"https://gitlab.com/nwestbury"},"type":"ISSUE","assignee":{"id":787914,"username":"ibaum","name":"Ian Baum","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7c508dc85ddd5049564a95662311543b?s=80\u0026d=identicon","web_url":"https://gitlab.com/ibaum"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/320809","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/320809","notes":"https://gitlab.com/api/v4/projects/278964/issues/320809/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/320809/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#320809","relative":"#320809","full":"gitlab-org/gitlab#320809"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":78653067,"iid":320801,"project_id":278964,"title":"Use product_ prefix for group, stage, section attributes in metrics definition","description":"Use product_ prefix for group, stage, section attributes in metrics definition\n\n* Update metrics schema\n* Update exiting metrics\n* Update docs usage metrics dictionary\n* Update dictionary.md","state":"closed","created_at":"2021-02-08T16:01:18.269Z","updated_at":"2021-10-28T14:00:29.157Z","closed_at":"2021-02-09T13:02:58.969Z","closed_by":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"labels":["devops::growth","group::product intelligence","milestone::p1","section::growth","type::maintenance","workflow::verification"],"milestone":{"id":1233760,"iid":56,"group_id":9970,"title":"13.9","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.334Z","updated_at":"2022-04-21T07:21:28.468Z","due_date":"2021-02-17","start_date":"2021-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/56"},"assignees":[{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"}],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2021-02-12","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/320801","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/320801","notes":"https://gitlab.com/api/v4/projects/278964/issues/320801/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/320801/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#320801","relative":"#320801","full":"gitlab-org/gitlab#320801"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5280,"epic":{"id":189641,"iid":5280,"title":"Generate Metrics Dictionary from yml files","url":"/groups/gitlab-org/-/epics/5280","group_id":9970,"human_readable_end_date":"May 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":78652964,"iid":320800,"project_id":278964,"title":"Get gitlab_standard URL from the backend, to be used with frontend events","description":"This is a follow up of #300458 and would create a _bridge_ to pass tracking data from the server to the front. Starting with the [`gitlab_standard`](https://gitlab.com/gitlab-org/iglu/-/blob/master/public/schemas/com.gitlab/gitlab_standard/jsonschema/1-0-3) URL, which's currently hardcoded.\n\n/cc @gitlab-org/growth/product-intelligence/engineers","state":"closed","created_at":"2021-02-08T15:59:23.661Z","updated_at":"2021-02-24T01:13:55.176Z","closed_at":"2021-02-24T01:13:55.126Z","closed_by":{"id":5412956,"username":"agarciatesares","name":"Axel Garc√≠a","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"},"labels":["devops::growth","group::product intelligence","missed:13.9","section::growth","workflow::verification"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":5412956,"username":"agarciatesares","name":"Axel Garc√≠a","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"}],"author":{"id":5412956,"username":"agarciatesares","name":"Axel Garc√≠a","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"},"type":"ISSUE","assignee":{"id":5412956,"username":"agarciatesares","name":"Axel Garc√≠a","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"},"user_notes_count":6,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/320800","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/320800","notes":"https://gitlab.com/api/v4/projects/278964/issues/320800/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/320800/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#320800","relative":"#320800","full":"gitlab-org/gitlab#320800"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5218,"epic":{"id":183240,"iid":5218,"title":"Standardize Snowplow Schema","url":"/groups/gitlab-org/-/epics/5218","group_id":9970,"human_readable_end_date":"Apr 30, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":78647804,"iid":320785,"project_id":278964,"title":"Explicitly document supported versions of package managers and file formats for Dependency Scanning","description":"\u003c!--\n\n* Use this issue template for suggesting new docs or updates to existing docs.\n  Note: Doc work as part of feature development is covered in the Feature Request template.\n\n* For issues related to features of the docs.gitlab.com site, see\n     https://gitlab.com/gitlab-org/gitlab-docs/issues/\n\n* For information about documentation content and process, see\n     https://docs.gitlab.com/ee/development/documentation/ --\u003e\n\n### Problem to solve\n\nAs we support so many different environments it is difficult to stay on the edge and ensure support for latest version. Similar concern applies to old versions that we might not have invested in supporting.\n\nAs a result, it is difficult to identify what is supported and what is not.\n\n### Further details\n\nAny supported language, package manager and file format should be explicitely listed so that we can quickly identify what's a real bug or what is additional feature request to support another version.\n\n### Proposal\n\nExplicitely state the supported versions in the [Supported languages and package managers](https://docs.gitlab.com/ee/user/application_security/dependency_scanning/#supported-languages-and-package-managers) section of our user documentation.\n\n### Implementation plan\n\n- [ ] iterate through downstream tests in [gemnasium](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium) and note current versions of language (if exists in rep) and lockfiles used\n- [ ] iterate through downstream tests in [gemnasium-maven](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-maven) and note java versions supported as well as versions of maven, gradle, sbt\n- [ ] iterate through downstream tests in [gemnasium-python](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-python) and note minor python versions used for python 2 and 3, as well as versions of pip, pipenv, setuptools\n- [ ] iterate through downstream tests in [bundler-audit](https://gitlab.com/gitlab-org/security-products/analyzers/bundler-audit) and note ruby version and bundler version used\n- [ ] iterate through downstream tests in [retire.js](https://gitlab.com/gitlab-org/security-products/analyzers/retire.js) and note and note npm version used\n- [ ] document versions in https://docs.gitlab.com/ee/user/application_security/dependency_scanning/index.html\n\n### Who can address the issue\n\n~\"group::composition analysis\" ~backend team\n\n### Other links/references\n\nhttps://gitlab.com/gitlab-com/www-gitlab-com/-/merge_requests/73443#note_499728858","state":"closed","created_at":"2021-02-08T14:52:35.318Z","updated_at":"2021-11-15T03:21:43.565Z","closed_at":"2021-11-09T06:28:17.996Z","closed_by":{"id":3913516,"username":"NicoleSchwartz","name":"Nicole Schwartz","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3913516/avatar.png","web_url":"https://gitlab.com/NicoleSchwartz"},"labels":["Category:Dependency Scanning","Enterprise Edition","GitLab Ultimate","[deprecated] Accepting merge requests","backend","devops::secure","documentation","group::composition analysis","section::sec","type::feature","workflow::ready for development"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"}],"author":{"id":52092,"username":"gonzoyumo","name":"Olivier Gonzalez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/651e0ff81c3995a05269f7c80895fe89?s=80\u0026d=identicon","web_url":"https://gitlab.com/gonzoyumo"},"type":"ISSUE","assignee":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/320785","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":0},"weight":3,"blocking_issues_count":1,"has_tasks":true,"task_status":"0 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/320785","notes":"https://gitlab.com/api/v4/projects/278964/issues/320785/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/320785/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#320785","relative":"#320785","full":"gitlab-org/gitlab#320785"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":78646799,"iid":320783,"project_id":278964,"title":"[Feature flag] Roll out `ff_external_status_checks`","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## What\n\nEnable and remove the `:compliance_approval_gates` feature flag.\n\n## Owners\n\n- Team: ~\"group::compliance\" \n- Most appropriate slack channel to reach out to: `#g_manage_compliance`\n- Best individual to reach out to: @mwoolf / @rob.hunt \n\n## Expectations\n\n### What are we expecting to happen?\n\n- Allowing customers to start using the external status checks feature and related REST APIs.\n  - [Documentation](https://docs.gitlab.com/ee/user/project/merge_requests/status_checks.html)\n\n### What might happen if this goes wrong?\n\n- This new feature may not work.\n- Blast radius is relatively small:\n  - GitLab Ultimate **only** feature.\n¬† - Only applies to groups that have explictly enabled this feature.\n  - Frontend elements load asyncronously. Won't block MR page.\n\n### What can we monitor to detect problems with this?\n\n- Errors to new external status check APIs\n\n\n## Beta groups/projects\n\nIf applicable, any groups/projects that are happy to have this feature turned on early. Some organizations may wish to test big changes they are interested in with a small subset of users ahead of time for example.\n\n- `gitlab-org/gitlab` project\n- `gitlab-org`/`gitlab-com` groups\n- ...\n\n## Roll Out Steps\n\n- [x] Enable on staging (`/chatops run feature set feature_name true --staging`)\n- [x] Test on staging\n- [x] Ensure that documentation has been updated\n- [x] Enable on GitLab.com for individual groups/projects listed above and verify behaviour  (`/chatops run feature set --project=gitlab-org/gitlab feature_name true`)\n- [x] Coordinate a time to enable the flag with the SRE oncall and release managers\n  - In `#production` mention `@sre-oncall` and `@release-managers`. Once an SRE on call and Release Manager on call confirm, you can proceed with the rollout\n- [ ] Announce on the issue an estimated time this will be enabled on GitLab.com\n- [x] Enable on GitLab.com by running chatops command in `#production` (`/chatops run feature set feature_name true`)\n- [x] Cross post chatops Slack command to `#support_gitlab-com` ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#where-to-run-commands)) and in your team channel\n- [x] Announce on the issue that the flag has been enabled\n- [x] Remove feature flag and add changelog entry\n- [ ] After the flag removal is deployed, [clean up the feature flag](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) by running chatops command in `#production` channel\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set --project=gitlab-org/gitlab feature_name false\n```","state":"closed","created_at":"2021-02-08T14:38:58.031Z","updated_at":"2021-08-11T01:27:35.459Z","closed_at":"2021-07-07T14:34:04.092Z","closed_by":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"labels":["Next Up","backend","devops::manage","feature flag","group::compliance","section::dev","workflow::verification"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"}],"author":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"type":"ISSUE","assignee":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"user_notes_count":17,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/320783","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":12,"completed_count":9},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"9 of 12 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/320783","notes":"https://gitlab.com/api/v4/projects/278964/issues/320783/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/320783/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#320783","relative":"#320783","full":"gitlab-org/gitlab#320783"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3869,"epic":{"id":79474,"iid":3869,"title":"Introduce capability to check external APIs for status in Merge Requests","url":"/groups/gitlab-org/-/epics/3869","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":"on_track"},{"id":78646785,"iid":320782,"project_id":278964,"title":"Add 'deprecated' and 'not_used' to metrics definitions status list","description":"\nProposal to add more options to metrics definition status list.\n\n* `deprecated` indicates that the metric is deprecated and should not be used, planned to be removed, possibly having an issue to remove the metric\n\n* `not_used` indicates that the metric is not used in any dashboard \n\n### Proposal\n\n* Add `deprecated` `not_used` in [JSON metrics schema](https://gitlab.com/gitlab-org/gitlab/-/blob/master/config/metrics/schema.json)\n* Document new statuses https://gitlab.com/gitlab-org/gitlab/-/blob/master/doc/development/usage_ping/metrics_dictionary.md\n\n\n\ncc @gitlab-org/growth/product-intelligence/engineers","state":"closed","created_at":"2021-02-08T14:38:46.312Z","updated_at":"2021-03-02T22:23:28.940Z","closed_at":"2021-03-02T22:22:05.868Z","closed_by":{"id":8013274,"username":"pskorupa","name":"Piotr Skorupa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8013274/avatar.png","web_url":"https://gitlab.com/pskorupa"},"labels":["devops::growth","feature::enhancement","group::product intelligence","milestone::p2","product intelligence::onboarding issue","section::growth","type::feature","workflow::production"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":8013274,"username":"pskorupa","name":"Piotr Skorupa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8013274/avatar.png","web_url":"https://gitlab.com/pskorupa"}],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":{"id":8013274,"username":"pskorupa","name":"Piotr Skorupa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8013274/avatar.png","web_url":"https://gitlab.com/pskorupa"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/320782","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/320782","notes":"https://gitlab.com/api/v4/projects/278964/issues/320782/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/320782/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#320782","relative":"#320782","full":"gitlab-org/gitlab#320782"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5279,"epic":{"id":189497,"iid":5279,"title":"Service Ping 2.0 Enhancements","url":"/groups/gitlab-org/-/epics/5279","group_id":9970,"human_readable_end_date":"Jul 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":78643257,"iid":320777,"project_id":278964,"title":"[Feature flag] Rollout of `clear_status_with_quick_options`","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## What\n\nRemove the `:clear_status_with_quick_options` feature flag ...\n\n## Owners\n\n- Team: Optimize\n- Most appropriate slack channel to reach out to: `#g_manage_optimize`\n- Best individual to reach out to: `ahegyi`\n\n## Expectations\n\n### What are we expecting to happen?\n\n1. Update the status via the API with the `clear_status_after=30_minutes` param.\n2. Wait 30 minutes\n3. Status should be cleared up\n\n### What might happen if this goes wrong?\n\nThe cleanup process runs in a BG job so the end user is not affected directly.\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? Sentry errors reports can alse be useful to review --\u003e\n\n\n## Beta groups/projects\n\nIf applicable, any groups/projects that are happy to have this feature turned on early. Some organizations may wish to test big changes they are interested in with a small subset of users ahead of time for example.\n\n- `gitlab-org/gitlab` project\n- `gitlab-org`/`gitlab-com` groups\n- ...\n\n## Roll Out Steps\n\n- [x] Enable on staging (`/chatops run feature set feature_name true --staging`)\n- [x] Test on staging\n- [ ] Ensure that documentation has been updated\n- [x] Enable on GitLab.com for individual groups/projects listed above and verify behaviour  (`/chatops run feature set --project=gitlab-org/gitlab feature_name true`)\n- [x] Coordinate a time to enable the flag with the SRE oncall and release managers\n  - In `#production` mention `@sre-oncall` and `@release-managers`. Once an SRE on call and Release Manager on call confirm, you can proceed with the rollout\n- [ ] Announce on the issue an estimated time this will be enabled on GitLab.com\n- [x] Enable on GitLab.com by running chatops command in `#production` (`/chatops run feature set feature_name true`)\n- [ ] Cross post chatops Slack command to `#support_gitlab-com` ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#where-to-run-commands)) and in your team channel\n- [ ] Announce on the issue that the flag has been enabled\n- [ ] Remove feature flag and add changelog entry\n- [ ] After the flag removal is deployed, [clean up the feature flag](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) by running chatops command in `#production` channel\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set --project=gitlab-org/gitlab feature_name false\n```","state":"closed","created_at":"2021-02-08T13:51:43.139Z","updated_at":"2021-02-25T11:47:14.509Z","closed_at":"2021-02-25T11:47:14.403Z","closed_by":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"labels":["feature flag","workflow::production"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"}],"author":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"type":"ISSUE","assignee":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/320777","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":12,"completed_count":5},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"5 of 12 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/320777","notes":"https://gitlab.com/api/v4/projects/278964/issues/320777/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/320777/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#320777","relative":"#320777","full":"gitlab-org/gitlab#320777"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":78642846,"iid":320775,"project_id":278964,"title":"Remove legacy storage pages removal logic","description":"See https://gitlab.com/gitlab-org/gitlab/-/merge_requests/53221#note_503872268 and https://gitlab.com/gitlab-org/gitlab/-/merge_requests/53221#note_503872281","state":"closed","created_at":"2021-02-08T13:44:42.835Z","updated_at":"2021-09-18T07:02:10.564Z","closed_at":"2021-09-13T16:28:21.679Z","closed_by":{"id":3379682,"username":"vshushlin","name":"Vladimir Shushlin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3379682/avatar.png","web_url":"https://gitlab.com/vshushlin"},"labels":["Category:Pages","Deliverable","Pages::Object Storage","Release::P1","devops::release","group::release","maintenance::refactor","section::ops","workflow::ready for development"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":3379682,"username":"vshushlin","name":"Vladimir Shushlin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3379682/avatar.png","web_url":"https://gitlab.com/vshushlin"}],"author":{"id":3379682,"username":"vshushlin","name":"Vladimir Shushlin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3379682/avatar.png","web_url":"https://gitlab.com/vshushlin"},"type":"ISSUE","assignee":{"id":3379682,"username":"vshushlin","name":"Vladimir Shushlin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3379682/avatar.png","web_url":"https://gitlab.com/vshushlin"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/320775","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/320775","notes":"https://gitlab.com/api/v4/projects/278964/issues/320775/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/320775/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#320775","relative":"#320775","full":"gitlab-org/gitlab#320775"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6514,"epic":{"id":320001,"iid":6514,"title":"GitLab Pages Post Re-Architecture Cleanup \u0026 Improvements","url":"/groups/gitlab-org/-/epics/6514","group_id":9970},"iteration":null,"health_status":null},{"id":78639272,"iid":320758,"project_id":278964,"title":"Remove merge_request_rebase_nowait_lock feature flag","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## What\n\nRemove the `:merge_request_rebase_nowait_lock` feature flag ...\n\n## Owners\n\n- Team: Code Review\n- Most appropriate slack channel to reach out to: `#g_create_code-review`\n- Best individual to reach out to: NAME\n\n## Expectations\n\n### What are we expecting to happen?\n\n### What might happen if this goes wrong?\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? Sentry errors reports can alse be useful to review --\u003e\n\n\n## Beta groups/projects\n\nIf applicable, any groups/projects that are happy to have this feature turned on early. Some organizations may wish to test big changes they are interested in with a small subset of users ahead of time for example.\n\n- `gitlab-org/gitlab` project\n- `gitlab-org`/`gitlab-com` groups\n- ...\n\n## Roll Out Steps\n\n- [ ] Enable on staging (`/chatops run feature set feature_name true --staging`)\n- [ ] Test on staging\n- [ ] Ensure that documentation has been updated\n- [ ] Enable on GitLab.com for individual groups/projects listed above and verify behaviour  (`/chatops run feature set --project=gitlab-org/gitlab feature_name true`)\n- [ ] Coordinate a time to enable the flag with the SRE oncall and release managers\n  - In `#production` mention `@sre-oncall` and `@release-managers`. Once an SRE on call and Release Manager on call confirm, you can proceed with the rollout\n- [ ] Announce on the issue an estimated time this will be enabled on GitLab.com\n- [ ] Enable on GitLab.com by running chatops command in `#production` (`/chatops run feature set feature_name true`)\n- [ ] Cross post chatops Slack command to `#support_gitlab-com` ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#where-to-run-commands)) and in your team channel\n- [ ] Announce on the issue that the flag has been enabled\n- [ ] Remove feature flag and add changelog entry\n- [ ] After the flag removal is deployed, [clean up the feature flag](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) by running chatops command in `#production` channel\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set --project=gitlab-org/gitlab feature_name false\n```","state":"closed","created_at":"2021-02-08T12:53:48.051Z","updated_at":"2021-03-15T15:27:01.507Z","closed_at":"2021-03-15T15:27:00.607Z","closed_by":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"labels":["backend","devops::create","feature flag","group::code review","section::dev","type::feature"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"}],"author":{"id":4554599,"username":"m_gill","name":"Michelle Gill","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4554599/avatar.png","web_url":"https://gitlab.com/m_gill"},"type":"ISSUE","assignee":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/320758","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":12,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 12 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/320758","notes":"https://gitlab.com/api/v4/projects/278964/issues/320758/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/320758/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#320758","relative":"#320758","full":"gitlab-org/gitlab#320758"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5336,"epic":{"id":196285,"iid":5336,"title":"13.10 Group::Code Review Feature Flag Removal","url":"/groups/gitlab-org/-/epics/5336","group_id":9970,"human_readable_end_date":"Mar 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":78639163,"iid":320756,"project_id":278964,"title":"Remove remove_resolve_note feature flag","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## What\n\nRemove the `:remove_resolve_note` feature flag ...\n\n## Owners\n\n- Team: Code Review\n- Most appropriate slack channel to reach out to: `#g_create_code-review`\n- Best individual to reach out to: NAME\n\n## Expectations\n\n### What are we expecting to happen?\n\n### What might happen if this goes wrong?\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? Sentry errors reports can alse be useful to review --\u003e\n\n\n## Beta groups/projects\n\nIf applicable, any groups/projects that are happy to have this feature turned on early. Some organizations may wish to test big changes they are interested in with a small subset of users ahead of time for example.\n\n- `gitlab-org/gitlab` project\n- `gitlab-org`/`gitlab-com` groups\n- ...\n\n## Roll Out Steps\n\n- [ ] Enable on staging (`/chatops run feature set feature_name true --staging`)\n- [ ] Test on staging\n- [ ] Ensure that documentation has been updated\n- [ ] Enable on GitLab.com for individual groups/projects listed above and verify behaviour  (`/chatops run feature set --project=gitlab-org/gitlab feature_name true`)\n- [ ] Coordinate a time to enable the flag with the SRE oncall and release managers\n  - In `#production` mention `@sre-oncall` and `@release-managers`. Once an SRE on call and Release Manager on call confirm, you can proceed with the rollout\n- [ ] Announce on the issue an estimated time this will be enabled on GitLab.com\n- [ ] Enable on GitLab.com by running chatops command in `#production` (`/chatops run feature set feature_name true`)\n- [ ] Cross post chatops Slack command to `#support_gitlab-com` ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#where-to-run-commands)) and in your team channel\n- [ ] Announce on the issue that the flag has been enabled\n- [ ] Remove feature flag and add changelog entry\n- [ ] After the flag removal is deployed, [clean up the feature flag](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) by running chatops command in `#production` channel\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set --project=gitlab-org/gitlab feature_name false\n```","state":"closed","created_at":"2021-02-08T12:52:56.338Z","updated_at":"2021-03-31T18:30:56.513Z","closed_at":"2021-03-31T18:30:56.404Z","closed_by":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"labels":["Stretch","backend","devops::create","feature flag","group::code review","section::dev","type::feature"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"}],"author":{"id":4554599,"username":"m_gill","name":"Michelle Gill","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4554599/avatar.png","web_url":"https://gitlab.com/m_gill"},"type":"ISSUE","assignee":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/320756","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":12,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 12 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/320756","notes":"https://gitlab.com/api/v4/projects/278964/issues/320756/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/320756/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#320756","relative":"#320756","full":"gitlab-org/gitlab#320756"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5336,"epic":{"id":196285,"iid":5336,"title":"13.10 Group::Code Review Feature Flag Removal","url":"/groups/gitlab-org/-/epics/5336","group_id":9970,"human_readable_end_date":"Mar 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":78639014,"iid":320755,"project_id":278964,"title":"Remove batch_suggestions feature flag","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## What\n\nRemove the `:batch_suggestions` feature flag ...\n\n## Owners\n\n- Team: Code Review\n- Most appropriate slack channel to reach out to: `#g_create_code-review`\n- Best individual to reach out to: NAME\n\n## Expectations\n\n### What are we expecting to happen?\n\n### What might happen if this goes wrong?\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? Sentry errors reports can alse be useful to review --\u003e\n\n\n## Beta groups/projects\n\nIf applicable, any groups/projects that are happy to have this feature turned on early. Some organizations may wish to test big changes they are interested in with a small subset of users ahead of time for example.\n\n- `gitlab-org/gitlab` project\n- `gitlab-org`/`gitlab-com` groups\n- ...\n\n## Roll Out Steps\n\n- [ ] Enable on staging (`/chatops run feature set feature_name true --staging`)\n- [ ] Test on staging\n- [ ] Ensure that documentation has been updated\n- [ ] Enable on GitLab.com for individual groups/projects listed above and verify behaviour  (`/chatops run feature set --project=gitlab-org/gitlab feature_name true`)\n- [ ] Coordinate a time to enable the flag with the SRE oncall and release managers\n  - In `#production` mention `@sre-oncall` and `@release-managers`. Once an SRE on call and Release Manager on call confirm, you can proceed with the rollout\n- [ ] Announce on the issue an estimated time this will be enabled on GitLab.com\n- [ ] Enable on GitLab.com by running chatops command in `#production` (`/chatops run feature set feature_name true`)\n- [ ] Cross post chatops Slack command to `#support_gitlab-com` ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#where-to-run-commands)) and in your team channel\n- [ ] Announce on the issue that the flag has been enabled\n- [ ] Remove feature flag and add changelog entry\n- [ ] After the flag removal is deployed, [clean up the feature flag](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) by running chatops command in `#production` channel\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set --project=gitlab-org/gitlab feature_name false\n```","state":"closed","created_at":"2021-02-08T12:52:05.595Z","updated_at":"2021-03-31T12:22:36.463Z","closed_at":"2021-03-31T12:22:35.979Z","closed_by":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"labels":["Stretch","Technical Writing","backend","devops::create","docs::feature","documentation","feature flag","group::code review","section::dev","type::feature"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"}],"author":{"id":4554599,"username":"m_gill","name":"Michelle Gill","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4554599/avatar.png","web_url":"https://gitlab.com/m_gill"},"type":"ISSUE","assignee":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/320755","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":12,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 12 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/320755","notes":"https://gitlab.com/api/v4/projects/278964/issues/320755/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/320755/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#320755","relative":"#320755","full":"gitlab-org/gitlab#320755"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5336,"epic":{"id":196285,"iid":5336,"title":"13.10 Group::Code Review Feature Flag Removal","url":"/groups/gitlab-org/-/epics/5336","group_id":9970,"human_readable_end_date":"Mar 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":78637521,"iid":320754,"project_id":278964,"title":"Adjust rails custom metrics generator to prefix filename with timestamp","description":"We added a [timestamp prefix to metrics yaml file definitions when importing all metrics form Event Dictionary](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/51974).\n\nThe prefix is added in order to ensure the filenames are unique under a specific directory.\n\nWith this issue we add the timestamp prefix to the metric definition yaml file generator\n\n\n### Proposal:\n\n`Time.now.utc.strftime(\"%Y%m%d%H%M%S\")}_#{file_name}.yml\"`","state":"closed","created_at":"2021-02-08T12:31:05.070Z","updated_at":"2022-03-16T11:45:47.613Z","closed_at":"2021-02-09T13:02:42.382Z","closed_by":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"labels":["devops::growth","feature::enhancement","group::product intelligence","maintenance::workflow","milestone::p2","section::growth","type::maintenance","workflow::verification"],"milestone":{"id":1233760,"iid":56,"group_id":9970,"title":"13.9","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.334Z","updated_at":"2022-04-21T07:21:28.468Z","due_date":"2021-02-17","start_date":"2021-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/56"},"assignees":[{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"}],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2021-02-12","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/320754","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/320754","notes":"https://gitlab.com/api/v4/projects/278964/issues/320754/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/320754/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#320754","relative":"#320754","full":"gitlab-org/gitlab#320754"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5280,"epic":{"id":189641,"iid":5280,"title":"Generate Metrics Dictionary from yml files","url":"/groups/gitlab-org/-/epics/5280","group_id":9970,"human_readable_end_date":"May 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":78634861,"iid":320748,"project_id":278964,"title":"Consider changing the colour of successful pipelines in CI/CD Analytics","description":"### Proposal \n\nI'm always confused when I view my various project's CI/CD analytics screens, because successful pipelines are coloured red, which is traditionally meant to signal danger, or some kind of error or failure.\n\nI've taken a stab at colouring them a random shade of green (GL designers almost certainly have a better palette in mind).\n\nPlease could we look at changing the colour of successful pipelines to be some kind of green, indicating success? The colour green is already used for colour-coding stages and steps in pipelines, so it's reasonable to assume that this is a sensible change.\n\nThanks for taking the time to read through this...\n\n### Before\n\n![Screenshot_2021-02-08_at_13.38.53](/uploads/8631ebba16dd841f8e93a72256c02748/Screenshot_2021-02-08_at_13.38.53.png)\n\n### After\n\n![Screenshot_2021-02-08_at_13.43.01](/uploads/08ce7394ef70aa187ac698b16bdbcfec/Screenshot_2021-02-08_at_13.43.01.png)\n\n------\n\n## Design proposal\nUse `$data-viz-blue-500 #5772ff` for all and `$data-viz-green-700` `#366800` for success","state":"closed","created_at":"2021-02-08T11:47:42.589Z","updated_at":"2021-07-23T07:32:17.505Z","closed_at":"2021-07-15T17:48:17.017Z","closed_by":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"labels":["Category:Continuous Integration","devops::verify","feature::enhancement","frontend","group::pipeline execution","pajamas::build","pd::finished","pipeline analytics","section::ops","type::feature","workflow::production"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"}],"author":{"id":177680,"username":"gee-forr","name":"Gabriel Fortuna","state":"active","avatar_url":"https://secure.gravatar.com/avatar/25b34262c221944933ed0147a01f3074?s=80\u0026d=identicon","web_url":"https://gitlab.com/gee-forr"},"type":"ISSUE","assignee":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"user_notes_count":31,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/320748","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/320748","notes":"https://gitlab.com/api/v4/projects/278964/issues/320748/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/320748/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#320748","relative":"#320748","full":"gitlab-org/gitlab#320748"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":78633407,"iid":320746,"project_id":278964,"title":"Update the Package list item UI - Make action buttons in list items secondary","description":"\u003c!-- This issue template can be used a great starting point for feature requests. The last section \"Release notes\" can be used as a summary of the feature and is also required if you want to have your release post blog MR auto-generated using the release post item generator:  https://about.gitlab.com/handbook/marketing/blog/release-posts/#release-post-item-generator. The remaining sections are the backbone for every feature in GitLab. --\u003e\n\n### Release notes \n\n\u003c!-- What is the problem and solution you're proposing? This content sets the overall vision for the feature and serves as the release notes that will populate in various places, including the [release post blog](https://about.gitlab.com/releases/categories/releases/) and [Gitlab project releases](https://gitlab.com/gitlab-org/gitlab/-/releases). \" --\u003e\n\n### Problem to solve \n\nThe information hierarchy of the delete buttons in each list item of the Package and Container registries is distracting and makes it difficult for users to easily navigate down the page. \n\n### Proposal \n\nTransition the list view action buttons to be secondary button style. This should mean the button is made of a Red Outline and a Red Icon. The background should be white. \n\n\n\n\u003c!--- Use the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n\nConsider adding related issues and epics to this issue. You can also reference the Feature Proposal Template (https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal.md) for additional details to consider adding to this issue. Additionally, as a data oriented organization, when your feature exits planning breakdown, consider adding the `What does success look like, and how can we measure that?` section.\n\nOther sections to consider adding: \n\n### Intended users\n\nWho will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n\n* [Cameron (Compliance Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#cameron-compliance-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager) \n* [Alex (Security Operations Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#alex-security-operations-engineer)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops) \n* [Priyanka (Platform Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#priyanka-platform-engineer)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n\n\n### User experience goal\n\nWhat is the single user experience workflow this problem addresses? \nFor example, \"The user should be able to use the UI/API/.gitlab-ci.yml with GitLab to \u003cperform a specific task\u003e\"\nhttps://about.gitlab.com/handbook/engineering/ux/ux-research-training/user-story-mapping/ \n\n\n### Further details\n\nInclude use cases, benefits, goals, or any other details that will help us understand the problem better. \n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?\nConsider adding checkboxes and expectations of users with certain levels of membership https://docs.gitlab.com/ee/user/permissions.html\n* [ ] Add expected impact to members with no access (0)\n* [ ] Add expected impact to Guest (10) members\n* [ ] Add expected impact to Reporter (20) members\n* [ ] Add expected impact to Developer (30) members \n* [ ] Add expected impact to Maintainer (40) members\n* [ ] Add expected impact to Owner (50) members \n\n### Documentation\n\n See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/workflow.html#for-a-product-change\n\n* Add all known Documentation Requirements in this section. See https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements\n* If this feature requires changing permissions, update the permissions document. See https://docs.gitlab.com/ee/user/permissions.html \n\n### Availability \u0026 Testing\n\nThis section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning \n\n### What does success look like, and how can we measure that?\n\nDefine both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. \n\n### What is the type of buyer?\n\nWhat is the buyer persona for this feature? See https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/buyer-persona/\nIn which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#four-tiers\n\n### Is this a cross-stage feature?\n\nCommunicate if this change will affect multiple Stage Groups or product areas. We recommend always start with the assumption that a feature request will have an impact into another Group. Loop in the most relevant PM and Product Designer from that Group to provide strategic support to help align the Group's broader plan and vision, as well as to avoid UX and technical debt. https://about.gitlab.com/handbook/product/#cross-stage-features --\u003e","state":"closed","created_at":"2021-02-08T11:28:33.375Z","updated_at":"2021-02-24T09:17:45.293Z","closed_at":"2021-02-24T09:17:45.234Z","closed_by":{"id":4584738,"username":"nmezzopera","name":"Nicol√≤ Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"},"labels":["Category:Package Registry","GitLab Core","GitLab Premium","GitLab Ultimate","Package:P2","UI polish","UX","devops::package","frontend","frontend-weight::1","group::package registry","quad-planning::complete-no-action","section::ops","type::feature","workflow::in review"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":4584738,"username":"nmezzopera","name":"Nicol√≤ Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"}],"author":{"id":4265456,"username":"icamacho","name":"Iain Camacho","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4265456/avatar.png","web_url":"https://gitlab.com/icamacho"},"type":"ISSUE","assignee":{"id":4584738,"username":"nmezzopera","name":"Nicol√≤ Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/320746","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/320746","notes":"https://gitlab.com/api/v4/projects/278964/issues/320746/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/320746/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#320746","relative":"#320746","full":"gitlab-org/gitlab#320746"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":78628954,"iid":320739,"project_id":278964,"title":"Redis HLL tracking return 0 if there are no keys for given period","description":"We should not call PFCOUNT operation if there are no keys for the given period.\n\nWe could return 0  if there are no keys for the given period.\n\nhttps://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/usage_data_counters/hll_redis_counter.rb#L154","state":"closed","created_at":"2021-02-08T10:19:43.862Z","updated_at":"2021-10-28T14:00:30.911Z","closed_at":"2021-03-25T14:49:19.819Z","closed_by":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"labels":["devops::growth","group::product intelligence","section::growth","type::maintenance","workflow::in dev"],"milestone":null,"assignees":[{"id":8198564,"username":"rkadam3","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8198564/avatar.png","web_url":"https://gitlab.com/rkadam3"}],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":{"id":8198564,"username":"rkadam3","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8198564/avatar.png","web_url":"https://gitlab.com/rkadam3"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/320739","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/320739","notes":"https://gitlab.com/api/v4/projects/278964/issues/320739/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/320739/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#320739","relative":"#320739","full":"gitlab-org/gitlab#320739"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5157,"epic":{"id":177895,"iid":5157,"title":"Usage Ping Maintenance FY22-Q1","url":"/groups/gitlab-org/-/epics/5157","group_id":9970,"human_readable_end_date":"Apr 30, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":78627794,"iid":320737,"project_id":278964,"title":"Refactor: Add an icon \"size\" prop to the minipipeline component","description":"### Description\n\nCurrently the size of the minipipeline component is determined by the CSS classes that surround the mini pipeline. This depends on CSS classes to be set correctly, while the icons that are rendered have a wrong size attached to them.\n\nMinipipeline in MR Widget, `24px`:\n| |\n| ------ |\n| ![Screen_Shot_2021-02-08_at_11.02.58_AM](/uploads/320c6600bb9c3a6047b63a8f47cf6bdc/Screen_Shot_2021-02-08_at_11.02.58_AM.png) |\n\nMinipipelines in pipelines list, `22px`:\n\n| |\n| ------ |\n| ![Screen_Shot_2021-02-08_at_11.03.05_AM](/uploads/8dd841ff63082b3f253e5e3277d96f54/Screen_Shot_2021-02-08_at_11.03.05_AM.png) |\n\n\n\n### Proposal\n\nAdd a new e.g. `:size=\"22\"` to the stage.vue component (or another similar to it) to remove the CSS classes and pass these values directly to the icon below.\n\n### Discussion\n\nThe following discussion from !53596 should be addressed:\n\n- [ ] @mrincon started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/53596#note_503792227): \n\n    \u003e This size could be made explicit by the mini-pipeline components (stage.vue) so their clients can set the size they need as we do with icons, that way we won't have competing CSS rules.","state":"closed","created_at":"2021-02-08T10:03:59.208Z","updated_at":"2022-05-19T14:29:33.138Z","closed_at":"2022-05-17T15:33:17.897Z","closed_by":{"id":11222776,"username":"bsandlin","name":"Briley  Sandlin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11222776/avatar.png","web_url":"https://gitlab.com/bsandlin"},"labels":["Category:Pipeline Authoring","SUS::Impacting","UI polish","devops::verify","frontend","group::pipeline authoring","maintenance::refactor","onboarding","pipeline graphs","priority::4","section::ops","severity::4","type::maintenance","workflow::in dev"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":11222776,"username":"bsandlin","name":"Briley  Sandlin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11222776/avatar.png","web_url":"https://gitlab.com/bsandlin"}],"author":{"id":1607849,"username":"mrincon","name":"Miguel Rincon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1607849/avatar.png","web_url":"https://gitlab.com/mrincon"},"type":"ISSUE","assignee":{"id":11222776,"username":"bsandlin","name":"Briley  Sandlin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11222776/avatar.png","web_url":"https://gitlab.com/bsandlin"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/320737","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/320737","notes":"https://gitlab.com/api/v4/projects/278964/issues/320737/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/320737/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#320737","relative":"#320737","full":"gitlab-org/gitlab#320737"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6135,"epic":{"id":285131,"iid":6135,"title":"Mini Pipeline Graph - Making CI Navigation Easier","url":"/groups/gitlab-org/-/epics/6135","group_id":9970,"human_readable_end_date":"Nov 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":78611707,"iid":320732,"project_id":278964,"title":"Publish pub-sub events when tunnel connects","description":"https://redis.io/topics/pubsub","state":"closed","created_at":"2021-02-08T06:43:44.701Z","updated_at":"2022-11-13T01:23:46.784Z","closed_at":"2022-11-13T01:23:46.743Z","closed_by":{"id":4855585,"username":"ash2k","name":"Mikhail Mazurskiy","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a3161684bd29f5016064a6c16ccd3bc7?s=80\u0026d=identicon","web_url":"https://gitlab.com/ash2k"},"labels":["Stretch","[deprecated] Accepting merge requests","devops::configure","group::configure","missed:14.10","section::ops","type::feature","workflow::ready for development"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":4855585,"username":"ash2k","name":"Mikhail Mazurskiy","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a3161684bd29f5016064a6c16ccd3bc7?s=80\u0026d=identicon","web_url":"https://gitlab.com/ash2k"},"type":"ISSUE","assignee":null,"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/320732","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/320732","notes":"https://gitlab.com/api/v4/projects/278964/issues/320732/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/320732/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#320732","relative":"#320732","full":"gitlab-org/gitlab#320732"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5528,"epic":{"id":217347,"iid":5528,"title":"CI/CD tunnel","url":"/groups/gitlab-org/-/epics/5528","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":78531235,"iid":301249,"project_id":278964,"title":"Geo: Fail syncs which exceed a timeout","description":"## Problem\n\n1. Sidekiq is shutdown ungracefully, while a sync job is running.\n1. I think even if Sidekiq is restarted, and is able to push the job back onto the queue, the job will fail 3 times and disappear, due to an orphaned lease \n\nSo the job will be stuck in `state` = `started`. ~~This is rare, but possible.~~\n\nI actually got my GDK into this state without trying:\n\n![image](/uploads/bff3da89f63969ec1b1bff44d0f61b16/image.png)\n\n### How to find affected records\n\nReturn the number of PackageFile sync attempts which started more than 8 hours ago:\n\n```\nGeo::PackageFileRegistry.where(\"state = 1 AND last_synced_at \u003c ?\", 8.hours.ago).count\n```\n\nReturn the first PackageFile sync attempt which started more than 8 hours ago:\n\n```\nGeo::PackageFileRegistry.where(\"state = 1 AND last_synced_at \u003c ?\", 8.hours.ago).first\n```\n\n### Workaround\n\nMark all affected registry records as \"failed\". These will be picked up by the background jobs.\n\n```\nGeo::PackageFileRegistry.where(\"state = 1 AND last_synced_at \u003c ?\", 8.hours.ago).update_all(state: 3)\n```\n\n## Proposal\n\nLike [VerificationTimeoutWorker](https://gitlab.com/gitlab-org/gitlab/blob/master/ee/app/workers/geo/verification_timeout_worker.rb#L15), add a `SyncTimeoutWorker`. Which moves things which `started` a long time ago to `failed`.\n\nNote that performance of the worker is not a concern since it would take a very very long time to get many records stuck, since stuck records count against the concurrency limit.","state":"closed","created_at":"2021-02-06T07:33:36.760Z","updated_at":"2021-05-10T19:27:10.466Z","closed_at":"2021-04-02T12:56:31.315Z","closed_by":{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"},"labels":["Enterprise Edition","GitLab Premium","devops::systems","group::geo","section::enablement","severity::3","type::bug"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"}],"author":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"type":"ISSUE","assignee":{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/301249","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/301249","notes":"https://gitlab.com/api/v4/projects/278964/issues/301249/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/301249/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#301249","relative":"#301249","full":"gitlab-org/gitlab#301249"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":78530985,"iid":301247,"project_id":278964,"title":"Geo: Successful sync should cause verification","description":"This is needed to support verification of mutable types, like snippet repos: https://gitlab.com/groups/gitlab-org/-/epics/2810\n\nThis is also needed to support automatic healing of verification failures: https://gitlab.com/gitlab-org/gitlab/-/issues/301244\n\n- [ ] On `state` transition to `success`, transition `verification_state` to `verification_pending`.\n  - [ ] If transitioning *from* `verification_failed` then don't clear `verification_retry_count`, to ensure progressive backoff of syncs-due-to-verification-failures\n\nI extracted this out of https://gitlab.com/gitlab-org/gitlab/-/issues/301244 so that issue could be moved out of https://gitlab.com/groups/gitlab-org/-/epics/1817 if desired.","state":"closed","created_at":"2021-02-06T07:04:39.553Z","updated_at":"2021-06-15T16:48:39.689Z","closed_at":"2021-06-10T07:56:44.511Z","closed_by":{"id":3944199,"username":"fzimmer","name":"Fabian Zimmer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3944199/avatar.png","web_url":"https://gitlab.com/fzimmer"},"labels":["Deliverable","Enterprise Edition","GitLab Premium","devops::systems","feature::addition","group::geo","missed:13.12","section::enablement","type::feature","workflow::in review"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"}],"author":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"type":"ISSUE","assignee":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/301247","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/301247","notes":"https://gitlab.com/api/v4/projects/278964/issues/301247/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/301247/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#301247","relative":"#301247","full":"gitlab-org/gitlab#301247"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2810,"epic":{"id":27925,"iid":2810,"title":"Geo: Self Service Framework - Snippet verification","url":"/groups/gitlab-org/-/epics/2810","group_id":9970,"human_readable_end_date":"May 22, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":78529803,"iid":301244,"project_id":278964,"title":"Geo: Verification failure should cause resync, not retry of verification","description":"## Problem\n\nThe Geo Self-Service Framework verifies PackageFiles but currently it just retries verification if verification failed.\n\nThe behavior of project repos is basically: If verification failed for any reason, then update registry as if sync failed.\n\n* https://gitlab.com/gitlab-org/gitlab/-/blob/v13.8.3-ee/ee/app/services/geo/repository_verification_secondary_service.rb#L51-89\n* https://gitlab.com/gitlab-org/gitlab/-/merge_requests/6759\n\nThis automatic healing behavior is very valuable, and already proven on project repos.\n\n## Proposal\n\nLet's use similar behavior in the SSF.\n\n### To do\n\n- [x] On `verification_state` transition to `verification_failed`, transition `state` to `failed`, setting `retry_count` to `verification_retry_count`, to ensure progressive backoff of syncs-due-to-verification-failures\n- [x] Do https://gitlab.com/gitlab-org/gitlab/-/issues/301247. On `state` transition to `synced`, transition `verification_state` to `verification_pending`\n  - [x] If transitioning *from* `verification_failed` then don't clear `verification_retry_count`, to ensure progressive backoff of syncs-due-to-verification-failures\n\nWhy worry about \"syncs-due-to-verification-failures\"?\n\nE.g. the primary checksum is wrong, so the secondary has persistent sync \"success\" plus verification \"failure\". The naive behavior here would be a verification/sync loop with no progressive backoff. This problem exists for project repos: https://gitlab.com/gitlab-org/gitlab/-/issues/208247","state":"closed","created_at":"2021-02-06T05:44:53.734Z","updated_at":"2022-02-01T20:42:07.018Z","closed_at":"2021-08-02T17:35:53.311Z","closed_by":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"labels":["Deliverable","Enterprise Edition","GitLab Premium","devops::systems","feature::addition","group::geo","missed-deliverable","missed:13.12","missed:14.0","missed:14.1","quad-planning::complete-no-action","section::enablement","type::feature","workflow::verification"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"}],"author":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"type":"ISSUE","assignee":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/301244","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":2,"blocking_issues_count":1,"has_tasks":true,"task_status":"3 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/301244","notes":"https://gitlab.com/api/v4/projects/278964/issues/301244/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/301244/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#301244","relative":"#301244","full":"gitlab-org/gitlab#301244"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2810,"epic":{"id":27925,"iid":2810,"title":"Geo: Self Service Framework - Snippet verification","url":"/groups/gitlab-org/-/epics/2810","group_id":9970,"human_readable_end_date":"May 22, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":78522231,"iid":301236,"project_id":278964,"title":"GitLab.com does not display individual JUnit tests for pipelines when viewing the \"Tests\" tab.","description":"### Summary\nGitlab does not display individual JUnit tests for pipelines when viewing the \"Tests\" tab.\n\n### Steps to reproduce\n1. Create a project with a `.gitlab-ci.yml` file as well as a JUnit `.xml` results file (Example below).\n2. In the `.gitlab-ci.yml` file create a job that sets the junit artifact as the `.xml` file.\n3. Commit and allow job to run.\n4. When job is complete, view the pipeline results.\n5. Click on the `Tests` tab, then click on the job you created in step 2.\n6. No tests are displayed and a error is shown in the Chrome Devtools console.\n\n### Example Project\n\n`gitlab-ci.yml`\n```\nunit-test:\n  stage: test\n  artifacts:\n    reports:\n      junit: example.xml\n  script:\n    - ls\n```\n\n`example.xml`\n```\n\u003c?xml version=\"1.0\" encoding=\"UTF-8\"?\u003e\n\u003ctestsuite name=\"com.example.app.ExampleTest\" tests=\"1\" skipped=\"0\" failures=\"0\" errors=\"0\" time=\"2.607\"\u003e\n  \u003ctestcase name=\"thisIsAnExampleTest\" classname=\"com.example.app.ExampleTest\" time=\"2.514\"/\u003e\n\u003c/testsuite\u003e\n\n```\n\n### What is the current *bug* behavior?\nNo test results are displayed\n\n### What is the expected *correct* behavior?\nGitlab should display each JUnit test that was run. \n\nExample in this Youtube video: (timestamp 6:54)\nhttps://www.youtube.com/watch?v=ik8nYYIGayI\n\n### Relevant logs and/or screenshots\n\n```\nTypeError: Cannot read property 'length' of null         vue.esm.js:1897 \n    at string_utils.js:23\n    at render (friendly_wrap.js:24)\n    at vue.esm.js:3067\n    at $e (vue.esm.js:3240)\n    at vue.esm.js:3431\n    at Ue (vue.esm.js:3362)\n    at t._c (vue.esm.js:3500)\n    at test_suite_table.vue?dc57:1\n    at a.ye [as _l] (vue.esm.js:2639)\n    at a.\u003canonymous\u003e (test_suite_table.vue?dc57:1)\n```\n\n![Capture](/uploads/a0317c2f797630ee24f86a85edf5cb08/Capture.PNG)\n\n### Output of checks\nThis bug happens on GitLab.com\n\n#### Results of GitLab environment info\nN/A\n\n#### Results of GitLab application Check\nN/A\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e","state":"closed","created_at":"2021-02-05T22:02:30.997Z","updated_at":"2022-12-19T15:49:26.180Z","closed_at":"2021-02-17T16:47:07.274Z","closed_by":{"id":3029776,"username":"shampton","name":"Scott Hampton","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3029776/avatar.png","web_url":"https://gitlab.com/shampton"},"labels":["Category:Code Testing and Coverage","devops::verify","group::pipeline insights","priority::2","section::ops","severity::3","type::bug","workflow::production"],"milestone":{"id":1233760,"iid":56,"group_id":9970,"title":"13.9","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.334Z","updated_at":"2022-04-21T07:21:28.468Z","due_date":"2021-02-17","start_date":"2021-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/56"},"assignees":[{"id":3029776,"username":"shampton","name":"Scott Hampton","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3029776/avatar.png","web_url":"https://gitlab.com/shampton"}],"author":{"id":5360167,"username":"sullivan.ross-heb","name":"Ross Sullivan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5360167/avatar.png","web_url":"https://gitlab.com/sullivan.ross-heb"},"type":"ISSUE","assignee":{"id":3029776,"username":"shampton","name":"Scott Hampton","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3029776/avatar.png","web_url":"https://gitlab.com/shampton"},"user_notes_count":14,"merge_requests_count":0,"upvotes":10,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/301236","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/301236","notes":"https://gitlab.com/api/v4/projects/278964/issues/301236/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/301236/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#301236","relative":"#301236","full":"gitlab-org/gitlab#301236"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":78521887,"iid":301232,"project_id":278964,"title":"FE: Allow group owners to remove users from the subscription","description":"This is the ~frontend issue for https://gitlab.com/gitlab-org/gitlab/-/issues/217851#note_502975028\n\n* Designs can be found in the parent issue.","state":"closed","created_at":"2021-02-05T21:47:13.743Z","updated_at":"2021-03-18T17:10:27.221Z","closed_at":"2021-03-12T05:03:08.043Z","closed_by":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"labels":["#field-fyi","Deliverable","devops::fulfillment","frontend","gitlab.com","link::child issue","missed-deliverable","missed:13.9","section::fulfillment","type::feature","workflow::production"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"}],"author":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"type":"ISSUE","assignee":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"user_notes_count":34,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/301232","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/301232","notes":"https://gitlab.com/api/v4/projects/278964/issues/301232/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/301232/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#301232","relative":"#301232","full":"gitlab-org/gitlab#301232"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4547,"epic":{"id":121875,"iid":4547,"title":"GitLab.com Billable Members List","url":"/groups/gitlab-org/-/epics/4547","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":78521069,"iid":301225,"project_id":278964,"title":"Localise messages in DAST Service Objects and Models (i18n)","description":"## Implementation Plan\n\n- [x] [annotate strings in `ee/app/services/app_sec/dast*` using `_`](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/72720)\n- [x] [annotate strings in `ee/app/models` with `dast` namespace](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/72799)\n- [x] regenerate  po files and associated artifacts","state":"closed","created_at":"2021-02-05T21:21:34.507Z","updated_at":"2021-10-27T13:08:21.844Z","closed_at":"2021-10-27T13:08:21.812Z","closed_by":{"id":9430722,"username":"mc_rocha","name":"Marcos Rocha","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9430722/avatar.png","web_url":"https://gitlab.com/mc_rocha"},"labels":["Category:DAST","backend","devops::secure","group::dynamic analysis","maintenance::refactor","section::sec","workflow::in review"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":5749348,"username":"philipcunningham","name":"Philip Cunningham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5749348/avatar.png","web_url":"https://gitlab.com/philipcunningham"},{"id":9430722,"username":"mc_rocha","name":"Marcos Rocha","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9430722/avatar.png","web_url":"https://gitlab.com/mc_rocha"}],"author":{"id":5749348,"username":"philipcunningham","name":"Philip Cunningham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5749348/avatar.png","web_url":"https://gitlab.com/philipcunningham"},"type":"ISSUE","assignee":{"id":5749348,"username":"philipcunningham","name":"Philip Cunningham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5749348/avatar.png","web_url":"https://gitlab.com/philipcunningham"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/301225","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/301225","notes":"https://gitlab.com/api/v4/projects/278964/issues/301225/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/301225/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#301225","relative":"#301225","full":"gitlab-org/gitlab#301225"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":78520785,"iid":301224,"project_id":278964,"title":"Validate context against JSON schema in dev/test environments","description":"As noted in https://gitlab.com/gitlab-org/iglu/-/issues/23, contexts are only validated on the collector, and not on the client side. This could lead to a situation where events can be marked as \"bad\" because one or more of the attributes don't conform to the schema.\n\nOne way to fix this would be to use a JSON schema validator in our tests and/or development environment. This way we can catch validation errors earlier and avoid issues in production.\n\nAs a first iteration from the comments below, we tried using a schema matcher in !60480\n\n/cc @a_akgun","state":"closed","created_at":"2021-02-05T21:11:46.897Z","updated_at":"2022-07-13T16:22:52.355Z","closed_at":"2021-06-01T11:09:33.827Z","closed_by":{"id":8198564,"username":"rkadam3","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8198564/avatar.png","web_url":"https://gitlab.com/rkadam3"},"labels":["backend","devops::growth","group::product intelligence","section::growth","workflow::production"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":8198564,"username":"rkadam3","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8198564/avatar.png","web_url":"https://gitlab.com/rkadam3"}],"author":{"id":4373269,"username":"ali-gitlab","name":"Alishan Ladhani","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4373269/avatar.png","web_url":"https://gitlab.com/ali-gitlab"},"type":"ISSUE","assignee":{"id":8198564,"username":"rkadam3","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8198564/avatar.png","web_url":"https://gitlab.com/rkadam3"},"user_notes_count":16,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/301224","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/301224","notes":"https://gitlab.com/api/v4/projects/278964/issues/301224/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/301224/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#301224","relative":"#301224","full":"gitlab-org/gitlab#301224"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5569,"epic":{"id":223482,"iid":5569,"title":"Snowplow Maintenance","url":"/groups/gitlab-org/-/epics/5569","group_id":9970,"human_readable_end_date":"Jan 31, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":78520520,"iid":301223,"project_id":278964,"title":"Track WIP/Draft change events with usage counters","description":"* [x] Marked MR as a draft\n* [x] Removed draft status from an MR\n\nRelated to #292830","state":"closed","created_at":"2021-02-05T21:01:18.406Z","updated_at":"2021-02-18T07:07:05.856Z","closed_at":"2021-02-11T16:17:48.451Z","closed_by":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"labels":["Deliverable","backend","devops::create","group::code review","section::dev"],"milestone":{"id":1233760,"iid":56,"group_id":9970,"title":"13.9","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.334Z","updated_at":"2022-04-21T07:21:28.468Z","due_date":"2021-02-17","start_date":"2021-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/56"},"assignees":[{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"}],"author":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"type":"ISSUE","assignee":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/301223","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":2},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/301223","notes":"https://gitlab.com/api/v4/projects/278964/issues/301223/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/301223/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#301223","relative":"#301223","full":"gitlab-org/gitlab#301223"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":78515170,"iid":301216,"project_id":278964,"title":"Deprecating SAST_ANALYZER_IMAGE_TAG","description":"\u003c!-- This issue template can be used a great starting point for feature requests. The last section \"Release notes\" can be used as a summary of the feature and is also required if you want to have your release post blog MR auto generated using the release post item generator:  https://about.gitlab.com/handbook/marketing/blog/release-posts/#release-post-item-generator. The remaining sections are the backbone for every feature in GitLab. --\u003e\n\n### Release post content\n\nWith the maturity of GitLab Secure scanning tools, we've needed to add more granularity into our release process. Prior to this release GitLab shared a major version number for [all our analyzers and tools](https://docs.gitlab.com/ee/user/application_security/sast/#supported-languages-and-frameworks). This required all tools to share a major version and prevented the use of [semantic version numbering](https://semver.org/). Beginning in 13.10 GitLab SAST will deprecate the `SAST_ANALYZER_IMAGE_TAG` in our managed SAST.gitlab-ci.yml CI template in favor of `major.minor` tags for each analyzer. \nIf you override or maintain custom versions of `SAST.gitlab-ci.yml` you will want to update your CI templates to stop referencing `SAST_ANALYZER_IMAGE_TAG`. We strongly encourage [inheriting and overriding our managed CI templates](https://docs.gitlab.com/ee/user/application_security/sast/#overriding-sast-jobs) to future proof your CI templates. This change will allow you to instead override with a pinned `major.minor` version to more granular control future analyzer updates. We will remove `SAST_ANALYZER_IMAGE_TAG` with GitLab 14.0, releasing May 22, 2021. \n\n### Problem to solve \n\nGitLab's Secure scanning tools have continued to mature, necessitating our need to add more granularity into our release process. Prior to this release GitLab shared a major version number for [all analyzers and tools used in SAST](https://docs.gitlab.com/ee/user/application_security/sast/#supported-languages-and-frameworks). While this approach provides simplicity for customers, it introduces an unintended coupling between analyzer projects. In short, having one variable to declare the version of analyzers to be utilized forces us to keep the analyzer versions synced rather than allowing the analyzers to be versioned naturally according to new features being introduced over time. We need to undo this coupling.\n\n\u003c!-- What is the user problem you are trying to solve with this issue? --\u003e\n\n### Proposal \n\n\u003c!-- Use this section to explain the feature and how it will work. It can be helpful to add technical details, design proposals, and links to related epics or issues. --\u003e\n\n- [x] Add `SAST_ANALYZER_IMAGE_TAG` as a variable in the `bandit-sast` job. Default its value to `2`.\n- [x] Add `SAST_ANALYZER_IMAGE_TAG` as a variable in the `brakeman-sast` job. Default its value to `2`.\n- [x] Add `SAST_ANALYZER_IMAGE_TAG` as a variable in the `eslint-sast` job. Default its value to `2`.\n- [x] Add `SAST_ANALYZER_IMAGE_TAG` as a variable in the `flawfinder-sast` job. Default its value to `2`.\n- [x] Add `SAST_ANALYZER_IMAGE_TAG` as a variable in the `gosec-sast` job. Default its value to `2`.\n- [x] Add `SAST_ANALYZER_IMAGE_TAG` as a variable in the `kubesec-sast` job. Default its value to `2`.\n- [x] Add `SAST_ANALYZER_IMAGE_TAG` as a variable in the `mobsf-sast` job. Default its value to `2`.\n- [x] Add `SAST_ANALYZER_IMAGE_TAG` as a variable in the `nodejs-scan-sast` job. Default its value to `2`.\n- [x] Add `SAST_ANALYZER_IMAGE_TAG` as a variable in the `phpcs-security-audit-sast` job. Default its value to `2`.\n- [x] Add `SAST_ANALYZER_IMAGE_TAG` as a variable in the `pmd-apex-sast` job. Default its value to `2`.\n- [x] Add `SAST_ANALYZER_IMAGE_TAG` as a variable in the `security-code-scan-sast` job. Default its value to `2`.\n- [x] Add `SAST_ANALYZER_IMAGE_TAG` as a variable in the `semgrep-sast` job. Default its value to `2`.\n- [x] Add `SAST_ANALYZER_IMAGE_TAG` as a variable in the `sobelow-sast` job. Default its value to `2`.\n- [x] Add `SAST_ANALYZER_IMAGE_TAG` as a variable in the `spotbugs-sast` job. Default its value to `2`.\n- [x] Remove `SAST_ANALYZER_IMAGE_TAG` as a global variable from the SAST vendored template.\n\n\u003c!--- Use the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n\nConsider adding related issues and epics to this issue. You can also reference the Feature Proposal Template (https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal.md) for additional details to consider adding to this issue. Additionally, as a data oriented organization, when your feature exits planning breakdown, consider adding the `What does success look like, and how can we measure that?` section.\n\nOther sections to consider adding: \n\n### Intended users\n\nWho will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n\n* [Cameron (Compliance Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#cameron-compliance-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager) \n* [Alex (Security Operations Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#alex-security-operations-engineer)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops) \n* [Priyanka (Platform Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#priyanka-platform-engineer)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n\n\n### User experience goal\n\nWhat is the single user experience workflow this problem addresses? \nFor example, \"The user should be able to use the UI/API/.gitlab-ci.yml with GitLab to \u003cperform a specific task\u003e\"\nhttps://about.gitlab.com/handbook/engineering/ux/ux-research-training/user-story-mapping/ \n\n\n### Further details\n\nInclude use cases, benefits, goals, or any other details that will help us understand the problem better. \n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?\nConsider adding checkboxes and expectations of users with certain levels of membership https://docs.gitlab.com/ee/user/permissions.html\n* [ ] Add expected impact to members with no access (0)\n* [ ] Add expected impact to Guest (10) members\n* [ ] Add expected impact to Reporter (20) members\n* [ ] Add expected impact to Developer (30) members \n* [ ] Add expected impact to Maintainer (40) members\n* [ ] Add expected impact to Owner (50) members \n\n### Documentation\n\n See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/workflow.html#for-a-product-change\n\n* Add all known Documentation Requirements in this section. See https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements\n* If this feature requires changing permissions, update the permissions document. See https://docs.gitlab.com/ee/user/permissions.html \n\n### Availability \u0026 Testing\n\nThis section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning \n\n### What does success look like, and how can we measure that?\n\nDefine both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. \n\n### What is the type of buyer?\n\nWhat is the buyer persona for this feature? See https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/buyer-persona/\nIn which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#four-tiers\n\n### Is this a cross-stage feature?\n\nCommunicate if this change will affect multiple Stage Groups or product areas. We recommend always start with the assumption that a feature request will have an impact into another Group. Loop in the most relevant PM and Product Designer from that Group to provide strategic support to help align the Group's broader plan and vision, as well as to avoid UX and technical debt. https://about.gitlab.com/handbook/product/#cross-stage-features --\u003e","state":"closed","created_at":"2021-02-05T18:28:24.949Z","updated_at":"2021-12-08T22:38:24.360Z","closed_at":"2021-06-07T14:48:41.211Z","closed_by":{"id":5057937,"username":"dsearles","name":"Daniel Paul Searles","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5057937/avatar.png","web_url":"https://gitlab.com/dsearles"},"labels":["Deliverable","GitLab Core","backend","deprecation","devops::secure","group::static analysis","missed-deliverable","missed:13.9","release post item","release post item::in review","section::sec","type::feature","workflow::production"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":5057937,"username":"dsearles","name":"Daniel Paul Searles","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5057937/avatar.png","web_url":"https://gitlab.com/dsearles"}],"author":{"id":5329074,"username":"tmccaslin","name":"Taylor McCaslin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5329074/avatar.png","web_url":"https://gitlab.com/tmccaslin"},"type":"ISSUE","assignee":{"id":5057937,"username":"dsearles","name":"Daniel Paul Searles","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5057937/avatar.png","web_url":"https://gitlab.com/dsearles"},"user_notes_count":18,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/301216","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":21,"completed_count":15},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"15 of 21 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/301216","notes":"https://gitlab.com/api/v4/projects/278964/issues/301216/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/301216/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#301216","relative":"#301216","full":"gitlab-org/gitlab#301216"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5408,"epic":{"id":205427,"iid":5408,"title":"14.0 removals for Static Analysis","url":"/groups/gitlab-org/-/epics/5408","group_id":9970,"human_readable_end_date":"Jun 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":78515123,"iid":301215,"project_id":278964,"title":"Deprecating SAST analyzer SAST_GOSEC_CONFIG variable in favor of custom rulesets","description":"\u003c!-- This issue template can be used a great starting point for feature requests. The last section \"Release notes\" can be used as a summary of the feature and is also required if you want to have your release post blog MR auto generated using the release post item generator:  https://about.gitlab.com/handbook/marketing/blog/release-posts/#release-post-item-generator. The remaining sections are the backbone for every feature in GitLab. --\u003e\n\n### Problem to solve \nWith the release of [SAST Custom Rulesets](https://docs.gitlab.com/ee/user/application_security/sast/#customize-rulesets) in GitLab 13.5 we allow greater flexibility in configuration options for our Go analyzer (GoSec). As a result we no longer plan to support our less flexible [`SAST_GOSEC_CONFIG`](https://docs.gitlab.com/ee/user/application_security/sast/#analyzer-settings) analyzer setting. This variable will be deprecated in GitLab 13.10, and removed in GitLab 14.0. \n\u003c!-- What is the user problem you are trying to solve with this issue? --\u003e\n\n### Proposal \n\n\u003c!-- Use this section to explain the feature and how it will work. It can be helpful to add technical details, design proposals, and links to related epics or issues. --\u003e\n\n- [x] Add deprecation comment within the gosec project's source code.\n- [x] File removal issue for %\"14.0\" | https://gitlab.com/gitlab-org/gitlab/-/issues/328301. \n\n\n\n\u003c!--- Use the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n\nConsider adding related issues and epics to this issue. You can also reference the Feature Proposal Template (https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal.md) for additional details to consider adding to this issue. Additionally, as a data oriented organization, when your feature exits planning breakdown, consider adding the `What does success look like, and how can we measure that?` section.\n\nOther sections to consider adding: \n\n### Intended users\n\nWho will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n\n* [Cameron (Compliance Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#cameron-compliance-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager) \n* [Alex (Security Operations Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#alex-security-operations-engineer)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops) \n* [Priyanka (Platform Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#priyanka-platform-engineer)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n\n\n### User experience goal\n\nWhat is the single user experience workflow this problem addresses? \nFor example, \"The user should be able to use the UI/API/.gitlab-ci.yml with GitLab to \u003cperform a specific task\u003e\"\nhttps://about.gitlab.com/handbook/engineering/ux/ux-research-training/user-story-mapping/ \n\n\n### Further details\n\nInclude use cases, benefits, goals, or any other details that will help us understand the problem better. \n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?\nConsider adding checkboxes and expectations of users with certain levels of membership https://docs.gitlab.com/ee/user/permissions.html\n* [ ] Add expected impact to members with no access (0)\n* [ ] Add expected impact to Guest (10) members\n* [ ] Add expected impact to Reporter (20) members\n* [ ] Add expected impact to Developer (30) members \n* [ ] Add expected impact to Maintainer (40) members\n* [ ] Add expected impact to Owner (50) members \n\n### Documentation\n\n See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/workflow.html#for-a-product-change\n\n* Add all known Documentation Requirements in this section. See https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements\n* If this feature requires changing permissions, update the permissions document. See https://docs.gitlab.com/ee/user/permissions.html \n\n### Availability \u0026 Testing\n\nThis section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning \n\n### What does success look like, and how can we measure that?\n\nDefine both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. \n\n### What is the type of buyer?\n\nWhat is the buyer persona for this feature? See https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/buyer-persona/\nIn which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#four-tiers\n\n### Is this a cross-stage feature?\n\nCommunicate if this change will affect multiple Stage Groups or product areas. We recommend always start with the assumption that a feature request will have an impact into another Group. Loop in the most relevant PM and Product Designer from that Group to provide strategic support to help align the Group's broader plan and vision, as well as to avoid UX and technical debt. https://about.gitlab.com/handbook/product/#cross-stage-features --\u003e","state":"closed","created_at":"2021-02-05T18:27:48.796Z","updated_at":"2021-04-20T14:45:27.641Z","closed_at":"2021-04-20T14:45:27.551Z","closed_by":{"id":3652047,"username":"twoodham","name":"Thomas Woodham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3652047/avatar.png","web_url":"https://gitlab.com/twoodham"},"labels":["Deliverable","GitLab Core","backend","deprecation","devops::secure","group::static analysis","missed-deliverable","missed:13.10","missed:13.9","release post item","release post item::in review","section::sec","type::feature","workflow::in review"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":3652047,"username":"twoodham","name":"Thomas Woodham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3652047/avatar.png","web_url":"https://gitlab.com/twoodham"},{"id":5329074,"username":"tmccaslin","name":"Taylor McCaslin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5329074/avatar.png","web_url":"https://gitlab.com/tmccaslin"}],"author":{"id":5329074,"username":"tmccaslin","name":"Taylor McCaslin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5329074/avatar.png","web_url":"https://gitlab.com/tmccaslin"},"type":"ISSUE","assignee":{"id":3652047,"username":"twoodham","name":"Thomas Woodham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3652047/avatar.png","web_url":"https://gitlab.com/twoodham"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/301215","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":8,"completed_count":2},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 8 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/301215","notes":"https://gitlab.com/api/v4/projects/278964/issues/301215/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/301215/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#301215","relative":"#301215","full":"gitlab-org/gitlab#301215"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5408,"epic":{"id":205427,"iid":5408,"title":"14.0 removals for Static Analysis","url":"/groups/gitlab-org/-/epics/5408","group_id":9970,"human_readable_end_date":"Jun 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":78501371,"iid":301195,"project_id":278964,"title":"Review smart_cobertura_parser Documentation","description":"## Details\n\nThe docs got merged before I could get to them, so we need to take a look and see if we need to make any changes.\n\n## References\n\nMerged MR that introduced documentation requiring review: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/53236#note_501758543\n\nRelated issue(s): https://gitlab.com/gitlab-org/gitlab/-/issues/284822\n\n## Further Details\n\n\u003c!-- Any additional context, questions, or notes for the technical writer. --\u003e","state":"closed","created_at":"2021-02-05T15:07:29.116Z","updated_at":"2021-08-20T10:23:15.358Z","closed_at":"2021-08-20T10:23:15.342Z","closed_by":{"id":4155490,"username":"marcel.amirault","name":"Marcel Amirault","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4155490/avatar.png","web_url":"https://gitlab.com/marcel.amirault"},"labels":["Category:Code Testing and Coverage","Technical Writing","devops::verify","docs::feature","documentation","group::pipeline insights","missed:13.10","missed:13.11","missed:13.12","missed:14.0","section::ops","workflow::ready for development"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":2683848,"username":"eread","name":"Evan Read","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2683848/avatar.png","web_url":"https://gitlab.com/eread"}],"author":{"id":4155490,"username":"marcel.amirault","name":"Marcel Amirault","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4155490/avatar.png","web_url":"https://gitlab.com/marcel.amirault"},"type":"ISSUE","assignee":{"id":2683848,"username":"eread","name":"Evan Read","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2683848/avatar.png","web_url":"https://gitlab.com/eread"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/301195","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/301195","notes":"https://gitlab.com/api/v4/projects/278964/issues/301195/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/301195/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#301195","relative":"#301195","full":"gitlab-org/gitlab#301195"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":78500539,"iid":301193,"project_id":278964,"title":"Migrate app/views/projects/cycle_analytics/show.html.haml from HAML to Vue SFC","description":"See: [app/views/projects/cycle_analytics/show.html.haml](https://gitlab.com/gitlab-org/gitlab/-/blob/7623554aa4e34c1a1b0331d3ed6355e67687943c/app/views/projects/cycle_analytics/show.html.haml)","state":"closed","created_at":"2021-02-05T14:58:01.589Z","updated_at":"2021-09-27T14:31:50.217Z","closed_at":"2021-03-02T08:35:26.795Z","closed_by":{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"},"labels":["Category:Value Stream Management","devops::manage","frontend","group::optimize","maintenance::refactor","priority::1","section::dev","workflow::verification"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"}],"author":{"id":181229,"username":"leipert","name":"Lukas 'Eipi' Eipert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/19a1f1260fa70323f35bc508927921a2?s=80\u0026d=identicon","web_url":"https://gitlab.com/leipert"},"type":"ISSUE","assignee":{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"},"user_notes_count":15,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/301193","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/301193","notes":"https://gitlab.com/api/v4/projects/278964/issues/301193/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/301193/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#301193","relative":"#301193","full":"gitlab-org/gitlab#301193"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5301,"epic":{"id":191958,"iid":5301,"title":"Migrate dynamic HAML Vue templates to SFC","url":"/groups/gitlab-org/-/epics/5301","group_id":9970,"human_readable_end_date":"Sep 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":78499058,"iid":301183,"project_id":278964,"title":"Add job token + deploy token support in NPM dist tags endpoints","description":"### Current situation\n\nLooking at [the shared NPM endpoints](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/api/concerns/packages/npm_endpoints.rb) between the project and instance level, it seems that the metadata endpoint allows users to be authenticated by:\n1. Personal Access Tokens\n1. Deploy Tokens\n1. Job Tokens\n\nThe tags endpoints (those that support `$ npm dist-tags` commands) only allow users authenticated by:\n1. Personal Access Tokens\n\n### Proposal \n\nAll shared endpoints should have the same ways to authenticate.\n\nThus, add:\n* Deploy token authentication\n* Job Tokens authentication\n\nto all NPM tags endpoints.\n\nUse the same approach as we have for [the metadata endpoint](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/api/concerns/packages/npm_endpoints.rb#L112).\n\nThe ~documentation might need an updated too.","state":"closed","created_at":"2021-02-05T14:32:06.525Z","updated_at":"2021-11-02T21:30:18.439Z","closed_at":"2021-11-02T21:30:14.748Z","closed_by":{"id":3799560,"username":"trizzi","name":"Tim Rizzi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3799560/avatar.png","web_url":"https://gitlab.com/trizzi"},"labels":["Category:Package Registry","[deprecated] Accepting merge requests","backend","devops::package","group::package registry","npm Registry","ruby","section::ops","workflow::scheduling"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/301183","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/301183","notes":"https://gitlab.com/api/v4/projects/278964/issues/301183/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/301183/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":"https://gitlab.com/api/v4/projects/278964/issues/258835"},"references":{"short":"#301183","relative":"#301183","full":"gitlab-org/gitlab#301183"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":78494638,"iid":301175,"project_id":278964,"title":"RubyGems Metadata Extraction","description":"## Implementation plan (\\~1-3 MRs)\n\nBased on [initial findings](https://gitlab.com/gitlab-org/gitlab/-/issues/301175#note_505173966) in working with the `Gem` module, these services might fitting into 1-3 MRs.\n\n* [x] `Packages::RubyGems::MetadataExtractionService` - Takes a GemSpec object and a package object and populates the `packages_rubygems_metadata` record for the package. We also rename the package and set the version here.\n* [x] `Packages::RubyGems::CreateDependenciesService` - Takes a GemSpec object and a package object and populates dependencies, associating them with the package.\n* [x] `Packages::RubyGems::CreateGemspecService` - Takes a GemSpec object and a package object and writes to a new PackageFile object that is associated with that package. \n* [x] `Packages::RubyGems::ProcessGemService` - The service responsible for running all of the above services. It takes a package and a package file (the temporary `.gem` file) and by the time it is finished we have fully defined RubyGems package in the registry.\n\n### Notes\n\n* See the linked notes below, but it will be possible to use the `Gem` module to help with the metadata/dependency extraction\n\n### References\n\n* Upload notes are here: https://gitlab.com/gitlab-org/gitlab/-/issues/216517#note_484946959\n* A summary of all routes are listed here: https://gitlab.com/gitlab-org/gitlab/-/issues/216517#note_485886685\n* Main RubyGems issue: https://gitlab.com/gitlab-org/gitlab/-/issues/803\n* Investigation issue: https://gitlab.com/gitlab-org/gitlab/-/issues/216517","state":"closed","created_at":"2021-02-05T13:12:32.759Z","updated_at":"2021-03-29T19:26:45.324Z","closed_at":"2021-03-29T19:26:45.156Z","closed_by":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"labels":["Category:Package Registry","Package:P1","RubyGems Repository","backend","devops::package","feature flag","group::package registry","ruby","section::ops","type::feature","workflow::production"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"}],"author":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"type":"ISSUE","assignee":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"user_notes_count":16,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/301175","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":4},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"4 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/301175","notes":"https://gitlab.com/api/v4/projects/278964/issues/301175/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/301175/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#301175","relative":"#301175","full":"gitlab-org/gitlab#301175"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3200,"epic":{"id":49403,"iid":3200,"title":"Make the RubyGems Repository  generally available (GA)","url":"/groups/gitlab-org/-/epics/3200","group_id":9970,"human_readable_timestamp":"\u003cstrong\u003e758\u003c/strong\u003e days elapsed"},"iteration":null,"health_status":null},{"id":78493631,"iid":301173,"project_id":278964,"title":"Refactor dropdown entries code in template finders","description":"### Summary\n\nAfter https://gitlab.com/gitlab-org/gitlab/-/issues/293854 is implemented, see if we can reduce some of the complexity around the code for generating dropdown entries in the template finders.\n\n### Details\n\nThe following discussion from !52222 should be addressed:\n\n- [ ] @toupeira started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/52222#note_501603881):  (+4 comments)\n\n    \u003e **suggestion (non-blocking):** With the new specs in place, I wanted to check if we can reduce some of the duplication (like here) and general complexity.\n    \u003e \n    \u003e I came up with the following diff, it's pretty large but mostly deleting stuff :sweat_smile:\n    \u003e \n    \u003e The general pattern is:\n    \u003e \n    \u003e - Reuse existing finder code, so we don't need to duplicate that logic.\n    \u003e - Move everything into `TemplateFinder` class methods, so no more `template_names` methods.\n    \u003e - Handle the special case for issues/MRs with an `uncached: true` param on `all_template_names`, instead of aliasing the method.\n    \u003e - I kept the names `all_template_names` / `all_templates_array` for now, but something like `dropdown_entries` / `dropdown_entries_array` would seem much clearer to me.\n    \u003e   - That one use in the API seems redundant, so I reverted that to use the finder directly.\n    \u003e \n    \u003e WDYT about this approach? It would still need some work, e.g. some of the added specs are now redundant, or should be moved into the specs for `TemplateFinder`. And I also might have missed some nuances, but at least the specs in this MR are still passing, so it seems like it should work? :thinking: \n    \u003e \n    \u003e Let me know what you think, if it seems like too big of a change we can also go with the current version, and I'll submit this as a follow-up MR!\n    \u003e \n    \u003e ```diff\n    \u003e diff --git i/app/finders/license_template_finder.rb w/app/finders/license_template_finder.rb\n    \u003e index 02ab6ec5659..4d68b963dc3 100644\n    \u003e --- i/app/finders/license_template_finder.rb\n    \u003e +++ w/app/finders/license_template_finder.rb\n    \u003e @@ -28,10 +28,6 @@ def execute\n    \u003e      end\n    \u003e    end\n    \u003e  \n    \u003e -  def template_names\n    \u003e -    ::Gitlab::Template::BaseTemplate.template_names_by_category(vendored_licenses)\n    \u003e -  end\n    \u003e -\n    \u003e    private\n    \u003e  \n    \u003e    def vendored_licenses\n    \u003e diff --git i/app/finders/template_finder.rb w/app/finders/template_finder.rb\n    \u003e index 36f8d144908..2813cf16bbd 100644\n    \u003e --- i/app/finders/template_finder.rb\n    \u003e +++ w/app/finders/template_finder.rb\n    \u003e @@ -22,16 +22,38 @@ def build(type, project, params = {})\n    \u003e        end\n    \u003e      end\n    \u003e  \n    \u003e -    def all_template_names(project, type)\n    \u003e -      return {} if !VENDORED_TEMPLATES.key?(type.to_s) \u0026\u0026 type.to_s != 'licenses'\n    \u003e +    # Return hashes for template dropdowns, grouped by category.\n    \u003e +    def all_template_names(project, type, params = {})\n    \u003e +      items = build(type, project, params).execute\n    \u003e +      grouped = items.group_by(\u0026:category)\n    \u003e +      categories = grouped.keys\n    \u003e  \n    \u003e -      build(type, project).template_names\n    \u003e +      categories.each_with_object({}) do |category, hash|\n    \u003e +        hash[category] = grouped[category].map do |item|\n    \u003e +          { name: item.name, id: item.key, key: item.key, project_id: item.try(:project_id) }\n    \u003e +        end\n    \u003e +      end\n    \u003e      end\n    \u003e  \n    \u003e +    # Return hashes for template dropdowns, as a flat list.\n    \u003e +    #\n    \u003e      # This is issues and merge requests description templates only.\n    \u003e      # This will be removed once we introduce group level inherited templates\n    \u003e -    def all_template_names_array(project, type)\n    \u003e -      all_template_names(project, type).values.flatten.uniq\n    \u003e +    def all_template_names_array(project, type, params = {})\n    \u003e +      # TODO: here we rely on project.repository caching mechanism. Ideally we would want the template finder to have its\n    \u003e +      # own caching mechanism to avoid the back and forth call jumps between finder and model.\n    \u003e +      #\n    \u003e +      # follow-up issue: https://gitlab.com/gitlab-org/gitlab/-/issues/300279\n    \u003e +      unless params.delete(:uncached)\n    \u003e +        case type.to_s\n    \u003e +        when 'issues'\n    \u003e +          return project\u0026.repository\u0026.issue_template_names || {}\n    \u003e +        when 'merge_requests'\n    \u003e +          return project\u0026.repository\u0026.merge_request_template_names || {}\n    \u003e +        end\n    \u003e +      end\n    \u003e +\n    \u003e +      all_template_names(project, type, params).values.flatten.uniq\n    \u003e      end\n    \u003e    end\n    \u003e  \n    \u003e @@ -55,10 +77,6 @@ def execute\n    \u003e        vendored_templates.all(project)\n    \u003e      end\n    \u003e    end\n    \u003e -\n    \u003e -  def template_names\n    \u003e -    vendored_templates.template_names(project)\n    \u003e -  end\n    \u003e  end\n    \u003e  \n    \u003e  TemplateFinder.prepend_if_ee('::EE::TemplateFinder')\n    \u003e diff --git i/app/models/repository.rb w/app/models/repository.rb\n    \u003e index 27520a01bc7..c5e2143692a 100644\n    \u003e --- i/app/models/repository.rb\n    \u003e +++ w/app/models/repository.rb\n    \u003e @@ -43,7 +43,7 @@ class Repository\n    \u003e                        changelog license_blob license_key gitignore\n    \u003e                        gitlab_ci_yml branch_names tag_names branch_count\n    \u003e                        tag_count avatar exists? root_ref merged_branch_names\n    \u003e -                      has_visible_content? issue_template_names_by_category merge_request_template_names_by_category\n    \u003e +                      has_visible_content? issue_template_names merge_request_template_names\n    \u003e                        user_defined_metrics_dashboard_paths xcode_project? has_ambiguous_refs?).freeze\n    \u003e  \n    \u003e    # Methods that use cache_method but only memoize the value\n    \u003e @@ -60,8 +60,8 @@ class Repository\n    \u003e      gitignore: :gitignore,\n    \u003e      gitlab_ci: :gitlab_ci_yml,\n    \u003e      avatar: :avatar,\n    \u003e -    issue_template: :issue_template_names_by_category,\n    \u003e -    merge_request_template: :merge_request_template_names_by_category,\n    \u003e +    issue_template: :issue_template_names,\n    \u003e +    merge_request_template: :merge_request_template_names,\n    \u003e      metrics_dashboard: :user_defined_metrics_dashboard_paths,\n    \u003e      xcode_config: :xcode_project?\n    \u003e    }.freeze\n    \u003e @@ -573,15 +573,15 @@ def avatar\n    \u003e    cache_method :avatar\n    \u003e  \n    \u003e    # store issue_template_names as hash\n    \u003e -  def issue_template_names_by_category\n    \u003e -    Gitlab::Template::IssueTemplate.internal_template_names(project)\n    \u003e +  def issue_template_names\n    \u003e +    TemplateFinder.all_template_names_array(project, :issues, uncached: true)\n    \u003e    end\n    \u003e -  cache_method :issue_template_names_by_category, fallback: {}\n    \u003e +  cache_method :issue_template_names, fallback: {}\n    \u003e  \n    \u003e -  def merge_request_template_names_by_category\n    \u003e -    Gitlab::Template::MergeRequestTemplate.internal_template_names(project)\n    \u003e +  def merge_request_template_names\n    \u003e +    TemplateFinder.all_template_names_array(project, :merge_requests, uncached: true)\n    \u003e    end\n    \u003e -  cache_method :merge_request_template_names_by_category, fallback: {}\n    \u003e +  cache_method :merge_request_template_names, fallback: {}\n    \u003e  \n    \u003e    def user_defined_metrics_dashboard_paths\n    \u003e      Gitlab::Metrics::Dashboard::RepoDashboardFinder.list_dashboards(project)\n    \u003e diff --git i/ee/app/finders/ee/license_template_finder.rb w/ee/app/finders/ee/license_template_finder.rb\n    \u003e index 5883e308819..fd2005961b6 100644\n    \u003e --- i/ee/app/finders/ee/license_template_finder.rb\n    \u003e +++ w/ee/app/finders/ee/license_template_finder.rb\n    \u003e @@ -25,13 +25,6 @@ def execute\n    \u003e        end\n    \u003e      end\n    \u003e  \n    \u003e -    override :template_names\n    \u003e -    def template_names\n    \u003e -      return super unless custom_templates?\n    \u003e -\n    \u003e -      custom_templates.all_template_names.merge(super)\n    \u003e -    end\n    \u003e -\n    \u003e      private\n    \u003e  \n    \u003e      def custom_templates?\n    \u003e diff --git i/ee/app/finders/ee/template_finder.rb w/ee/app/finders/ee/template_finder.rb\n    \u003e index a606d99a008..ec53a676b13 100644\n    \u003e --- i/ee/app/finders/ee/template_finder.rb\n    \u003e +++ w/ee/app/finders/ee/template_finder.rb\n    \u003e @@ -33,14 +33,5 @@ def execute\n    \u003e          custom_templates.all + super\n    \u003e        end\n    \u003e      end\n    \u003e -\n    \u003e -    override :template_names\n    \u003e -    def template_names\n    \u003e -      return super if custom_templates.nil? || !custom_templates.enabled?\n    \u003e -\n    \u003e -      # on custom templates we do want to fetch all template names as this will iterate through inherited templates\n    \u003e -      # from ancestor group levels\n    \u003e -      custom_templates.all_template_names.merge(super)\n    \u003e -    end\n    \u003e    end\n    \u003e  end\n    \u003e diff --git i/ee/lib/gitlab/custom_file_templates.rb w/ee/lib/gitlab/custom_file_templates.rb\n    \u003e index 61328fbca13..11eece5b453 100644\n    \u003e --- i/ee/lib/gitlab/custom_file_templates.rb\n    \u003e +++ w/ee/lib/gitlab/custom_file_templates.rb\n    \u003e @@ -15,19 +15,6 @@ def enabled?\n    \u003e        instance_enabled? || namespace_enabled?\n    \u003e      end\n    \u003e  \n    \u003e -    def all_template_names\n    \u003e -      template_names = {}\n    \u003e -      namespace_template_projects_hash.flat_map do |namespace, project|\n    \u003e -        template_names[category_for(namespace)] = template_names_for(project).values.flatten\n    \u003e -      end\n    \u003e -\n    \u003e -      if instance_enabled?\n    \u003e -        template_names[_('Instance')] = template_names_for(instance_template_project).values.flatten\n    \u003e -      end\n    \u003e -\n    \u003e -      template_names\n    \u003e -    end\n    \u003e -\n    \u003e      def all\n    \u003e        by_namespace = namespace_template_projects_hash.flat_map do |namespace, project|\n    \u003e          templates_for(project, category_for(namespace))\n    \u003e @@ -89,12 +76,6 @@ def namespace_template_projects_hash\n    \u003e        end\n    \u003e      end\n    \u003e  \n    \u003e -    def template_names_for(project)\n    \u003e -      return [] unless project\n    \u003e -\n    \u003e -      finder.template_names(project)\n    \u003e -    end\n    \u003e -\n    \u003e      def templates_for(project, category)\n    \u003e        return [] unless project\n    \u003e  \n    \u003e diff --git i/ee/spec/finders/template_finder_spec.rb w/ee/spec/finders/template_finder_spec.rb\n    \u003e index cb4d93a1c0f..fee2be65d81 100644\n    \u003e --- i/ee/spec/finders/template_finder_spec.rb\n    \u003e +++ w/ee/spec/finders/template_finder_spec.rb\n    \u003e @@ -71,7 +71,7 @@\n    \u003e      end\n    \u003e    end\n    \u003e  \n    \u003e -  describe '#template_names' do\n    \u003e +  describe '.all_template_names' do\n    \u003e      let_it_be(:template_files) do\n    \u003e        {\n    \u003e          \"Dockerfile/project_dockerfiles_template.dockerfile\" =\u003e \"project_dockerfiles_template content\",\n    \u003e @@ -99,7 +99,7 @@\n    \u003e        group.update_columns(file_template_project_id: group_template_project.id)\n    \u003e      end\n    \u003e  \n    \u003e -    subject(:result) { described_class.new(type, project, params).template_names.values.flatten.map { |el| OpenStruct.new(el) } }\n    \u003e +    subject(:result) { described_class.all_template_names(project, type).values.flatten.map { |el| OpenStruct.new(el) } }\n    \u003e  \n    \u003e      with_them do\n    \u003e        context 'when project has a repository' do\n    \u003e diff --git i/ee/spec/lib/gitlab/custom_file_templates_spec.rb w/ee/spec/lib/gitlab/custom_file_templates_spec.rb\n    \u003e index daea6ce333d..94e36d00469 100644\n    \u003e --- i/ee/spec/lib/gitlab/custom_file_templates_spec.rb\n    \u003e +++ w/ee/spec/lib/gitlab/custom_file_templates_spec.rb\n    \u003e @@ -184,68 +184,4 @@ def be_template(key, category)\n    \u003e        end\n    \u003e      end\n    \u003e    end\n    \u003e -\n    \u003e -  describe '#all_template_names' do\n    \u003e -    where(:template_finder, :type) do\n    \u003e -      Gitlab::Template::CustomDockerfileTemplate  | :dockerfile\n    \u003e -      Gitlab::Template::CustomGitignoreTemplate   | :gitignore\n    \u003e -      Gitlab::Template::CustomGitlabCiYmlTemplate | :gitlab_ci_yml\n    \u003e -      Gitlab::Template::CustomLicenseTemplate     | :license\n    \u003e -    end\n    \u003e -\n    \u003e -    with_them do\n    \u003e -      let(:result) { templates.all_template_names }\n    \u003e -      let(:template_file_names) { result.values.flatten.map { |el| el[:name] } }\n    \u003e -      let(:template_categories) { result.keys }\n    \u003e -\n    \u003e -      before do\n    \u003e -        stub_ee_application_setting(file_template_project: instance_template_project)\n    \u003e -        group.update_columns(file_template_project_id: group_template_project.id)\n    \u003e -      end\n    \u003e -\n    \u003e -      context 'unlicensed' do\n    \u003e -        let(:target_project) { project }\n    \u003e -\n    \u003e -        it { expect(result).to be_empty }\n    \u003e -      end\n    \u003e -\n    \u003e -      context 'licensed' do\n    \u003e -        before do\n    \u003e -          stub_licensed_features(custom_file_templates: true, custom_file_templates_for_namespace: true)\n    \u003e -        end\n    \u003e -\n    \u003e -        context 'in a toplevel group' do\n    \u003e -          let(:target_project) { project }\n    \u003e -\n    \u003e -          it 'has the group names and instance as category' do\n    \u003e -            expect(template_categories).to eq([\"Group #{group.full_name}\", \"Instance\"])\n    \u003e -          end\n    \u003e -\n    \u003e -          it 'orders results from most specific to least specific' do\n    \u003e -            expect(template_file_names).to eq([\"group_#{type}\", \"instance_#{type}\"])\n    \u003e -          end\n    \u003e -        end\n    \u003e -\n    \u003e -        context 'in a subgroup' do\n    \u003e -          let_it_be(:subgroup) { create(:group, parent: group) }\n    \u003e -          let_it_be(:subproject) { create(:project, namespace: subgroup) }\n    \u003e -          let_it_be(:subgroup_template_project) { create(:project, :custom_repo, namespace: subgroup, files: template_files('subgroup')) }\n    \u003e -\n    \u003e -          let(:target_project) { subproject }\n    \u003e -\n    \u003e -          before do\n    \u003e -            subgroup.update_columns(file_template_project_id: subgroup_template_project.id)\n    \u003e -          end\n    \u003e -\n    \u003e -          it 'has the group names and instance as category' do\n    \u003e -            expect(template_categories).to eq([\"Group #{subgroup.full_name}\", \"Group #{group.full_name}\", \"Instance\"])\n    \u003e -          end\n    \u003e -\n    \u003e -          it 'orders results from most specific to least specific' do\n    \u003e -            expect(template_file_names).to eq([\"subgroup_#{type}\", \"group_#{type}\", \"instance_#{type}\"])\n    \u003e -          end\n    \u003e -        end\n    \u003e -      end\n    \u003e -    end\n    \u003e -  end\n    \u003e  end\n    \u003e diff --git i/lib/api/project_templates.rb w/lib/api/project_templates.rb\n    \u003e index f8b5ac65323..19244ed697f 100644\n    \u003e --- i/lib/api/project_templates.rb\n    \u003e +++ w/lib/api/project_templates.rb\n    \u003e @@ -26,7 +26,9 @@ class ProjectTemplates \u003c ::API::Base\n    \u003e          use :pagination\n    \u003e        end\n    \u003e        get ':id/templates/:type' do\n    \u003e -        templates = TemplateFinder.all_template_names_array(user_project, params[:type])\n    \u003e +        templates = TemplateFinder\n    \u003e +          .build(params[:type], user_project)\n    \u003e +          .execute\n    \u003e  \n    \u003e          present paginate(::Kaminari.paginate_array(templates)), with: Entities::TemplatesList\n    \u003e        end\n    \u003e diff --git i/lib/gitlab/template/base_template.rb w/lib/gitlab/template/base_template.rb\n    \u003e index 8dc2023d2cb..950d90308be 100644\n    \u003e --- i/lib/gitlab/template/base_template.rb\n    \u003e +++ w/lib/gitlab/template/base_template.rb\n    \u003e @@ -95,22 +95,6 @@ def category_directory(category)\n    \u003e            File.join(base_dir, categories[category])\n    \u003e          end\n    \u003e  \n    \u003e -        def internal_template_names(project)\n    \u003e -          template_names_by_category(self.all(project))\n    \u003e -        end\n    \u003e -        alias_method :template_names, :internal_template_names\n    \u003e -\n    \u003e -        def template_names_by_category(items)\n    \u003e -          grouped = items.group_by(\u0026:category)\n    \u003e -          categories = grouped.keys\n    \u003e -\n    \u003e -          categories.each_with_object({}) do |category, hash|\n    \u003e -            hash[category] = grouped[category].map do |item|\n    \u003e -              { name: item.name, id: item.key, key: item.key, project_id: item.try(:project_id) }\n    \u003e -            end\n    \u003e -          end\n    \u003e -        end\n    \u003e -\n    \u003e          def template_subsets(project = nil)\n    \u003e            return [] if project \u0026\u0026 !project.repository.exists?\n    \u003e  \n    \u003e diff --git i/lib/gitlab/template/issue_template.rb w/lib/gitlab/template/issue_template.rb\n    \u003e index 3049f43b322..01b191733d4 100644\n    \u003e --- i/lib/gitlab/template/issue_template.rb\n    \u003e +++ w/lib/gitlab/template/issue_template.rb\n    \u003e @@ -15,16 +15,6 @@ def base_dir\n    \u003e          def finder(project)\n    \u003e            Gitlab::Template::Finders::RepoTemplateFinder.new(project, self.base_dir, self.extension, self.categories)\n    \u003e          end\n    \u003e -\n    \u003e -        def template_names(project)\n    \u003e -          return {} unless project\u0026.repository\u0026.exists?\n    \u003e -\n    \u003e -          # here we rely on project.repository caching mechanism. Ideally we would want the template finder to have its\n    \u003e -          # own caching mechanism to avoid the back and forth call jumps between finder and model.\n    \u003e -          #\n    \u003e -          # follow-up issue: https://gitlab.com/gitlab-org/gitlab/-/issues/300279\n    \u003e -          project.repository.issue_template_names_by_category\n    \u003e -        end\n    \u003e        end\n    \u003e      end\n    \u003e    end\n    \u003e diff --git i/lib/gitlab/template/merge_request_template.rb w/lib/gitlab/template/merge_request_template.rb\n    \u003e index 0d4474e0cbf..357b31cd82e 100644\n    \u003e --- i/lib/gitlab/template/merge_request_template.rb\n    \u003e +++ w/lib/gitlab/template/merge_request_template.rb\n    \u003e @@ -15,17 +15,6 @@ def base_dir\n    \u003e          def finder(project)\n    \u003e            Gitlab::Template::Finders::RepoTemplateFinder.new(project, self.base_dir, self.extension, self.categories)\n    \u003e          end\n    \u003e -\n    \u003e -\n    \u003e -        def template_names(project)\n    \u003e -          return {} unless project\u0026.repository\u0026.exists?\n    \u003e -\n    \u003e -          # here we rely on project.repository caching mechanism. Ideally we would want the template finder to have its\n    \u003e -          # own caching mechanism to avoid the back and forth call jumps between finder and model.\n    \u003e -          #\n    \u003e -          # follow-up issue: https://gitlab.com/gitlab-org/gitlab/-/issues/300279\n    \u003e -          project.repository.merge_request_template_names_by_category\n    \u003e -        end\n    \u003e        end\n    \u003e      end\n    \u003e    end\n    \u003e diff --git i/spec/finders/license_template_finder_spec.rb w/spec/finders/license_template_finder_spec.rb\n    \u003e index 754b92faccc..7cda89e0728 100644\n    \u003e --- i/spec/finders/license_template_finder_spec.rb\n    \u003e +++ w/spec/finders/license_template_finder_spec.rb\n    \u003e @@ -53,10 +53,10 @@\n    \u003e      end\n    \u003e    end\n    \u003e  \n    \u003e -  describe '#template_names' do\n    \u003e +  describe '.all_template_names' do\n    \u003e      let(:params) { {} }\n    \u003e  \n    \u003e -    subject(:template_names) { described_class.new(nil, params).template_names }\n    \u003e +    subject(:template_names) { TemplateFinder.all_template_names(nil, :licenses, params) }\n    \u003e  \n    \u003e      let(:categories) { categorised_licenses.keys }\n    \u003e      let(:categorised_licenses) { template_names }\n    \u003e diff --git i/spec/finders/template_finder_spec.rb w/spec/finders/template_finder_spec.rb\n    \u003e index 164975fdfb6..a72813fa032 100644\n    \u003e --- i/spec/finders/template_finder_spec.rb\n    \u003e +++ w/spec/finders/template_finder_spec.rb\n    \u003e @@ -149,11 +149,11 @@\n    \u003e      end\n    \u003e    end\n    \u003e  \n    \u003e -  describe '#template_names' do\n    \u003e +  describe '.all_template_names' do\n    \u003e      let_it_be(:project) { nil }\n    \u003e      let(:params) { {} }\n    \u003e  \n    \u003e -    subject(:result) { described_class.new(type, project, params).template_names.values.flatten.map { |el| OpenStruct.new(el) } }\n    \u003e +    subject(:result) { described_class.all_template_names(project, type, params).values.flatten.map { |el| OpenStruct.new(el) } }\n    \u003e  \n    \u003e      where(:type, :vendored_name) do\n    \u003e        :dockerfiles    | 'Binary'\n    \u003e @@ -228,4 +228,22 @@\n    \u003e        end\n    \u003e      end\n    \u003e    end\n    \u003e +\n    \u003e +  describe '.all_template_names_array' do\n    \u003e +    context 'with cached issuable templates' do\n    \u003e +      let_it_be(:project) { create(:project) }\n    \u003e +\n    \u003e +      before do\n    \u003e +        described_class.all_template_names_array(project, 'issues')\n    \u003e +        described_class.all_template_names_array(project, 'merge_requests')\n    \u003e +      end\n    \u003e +\n    \u003e +      it 'does not call TemplateFinder' do\n    \u003e +        expect(TemplateFinder).not_to receive(:build)\n    \u003e +\n    \u003e +        described_class.all_template_names_array(project, 'issues')\n    \u003e +        described_class.all_template_names_array(project, 'merge_requests')\n    \u003e +      end\n    \u003e +    end\n    \u003e +  end\n    \u003e  end\n    \u003e diff --git i/spec/helpers/issuables_description_templates_helper_spec.rb w/spec/helpers/issuables_description_templates_helper_spec.rb\n    \u003e index 42643b755f8..68ba2598eda 100644\n    \u003e --- i/spec/helpers/issuables_description_templates_helper_spec.rb\n    \u003e +++ w/spec/helpers/issuables_description_templates_helper_spec.rb\n    \u003e @@ -13,22 +13,21 @@\n    \u003e      let_it_be(:group_member) { create(:group_member, :developer, group: parent_group, user: user) }\n    \u003e      let_it_be(:project_member) { create(:project_member, :developer, user: user, project: project) }\n    \u003e  \n    \u003e -    it 'returns empty hash when template type does not exist' do\n    \u003e -      expect(helper.issuable_templates(build(:project), 'non-existent-template-type')).to eq([])\n    \u003e +    it 'raises an error when template type does not exist' do\n    \u003e +      expect do\n    \u003e +        expect(helper.issuable_templates(build(:project), 'non-existent-template-type')).to eq([])\n    \u003e +      end.to raise_error(KeyError)\n    \u003e      end\n    \u003e  \n    \u003e      context 'with cached issuable templates' do\n    \u003e        before do\n    \u003e -        allow(Gitlab::Template::IssueTemplate).to receive(:template_names).and_return({})\n    \u003e -        allow(Gitlab::Template::MergeRequestTemplate).to receive(:template_names).and_return({})\n    \u003e -\n    \u003e          helper.issuable_templates(project, 'issues')\n    \u003e          helper.issuable_templates(project, 'merge_request')\n    \u003e        end\n    \u003e  \n    \u003e        it 'does not call TemplateFinder' do\n    \u003e -        expect(Gitlab::Template::IssueTemplate).not_to receive(:template_names)\n    \u003e -        expect(Gitlab::Template::MergeRequestTemplate).not_to receive(:template_names)\n    \u003e +        expect(TemplateFinder).not_to receive(:build)\n    \u003e +\n    \u003e          helper.issuable_templates(project, 'issues')\n    \u003e          helper.issuable_templates(project, 'merge_request')\n    \u003e        end\n    \u003e diff --git i/spec/models/repository_spec.rb w/spec/models/repository_spec.rb\n    \u003e index 59acada2858..c339046d4c2 100644\n    \u003e --- i/spec/models/repository_spec.rb\n    \u003e +++ w/spec/models/repository_spec.rb\n    \u003e @@ -1948,8 +1948,8 @@ def mock_gitaly(second_response)\n    \u003e          :root_ref,\n    \u003e          :merged_branch_names,\n    \u003e          :has_visible_content?,\n    \u003e -        :issue_template_names_by_category,\n    \u003e -        :merge_request_template_names_by_category,\n    \u003e +        :issue_template_names,\n    \u003e +        :merge_request_template_names,\n    \u003e          :user_defined_metrics_dashboard_paths,\n    \u003e          :xcode_project?,\n    \u003e          :has_ambiguous_refs?\n    \u003e ```\n\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\nRun `package-and-qa` regression job","state":"closed","created_at":"2021-02-05T12:57:41.914Z","updated_at":"2021-10-28T14:00:32.883Z","closed_at":"2021-06-28T13:11:42.162Z","closed_by":{"id":3483274,"username":"acroitor","name":"Alexandru Croitor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/461378ef52c26eec55e6c15ec09bb9ed?s=80\u0026d=identicon","web_url":"https://gitlab.com/acroitor"},"labels":["backend","customer","devops::plan","group::project management","maintenance::refactor","missed:14.0","quad-planning::complete-action","section::dev","type::maintenance","workflow::ready for development"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":3483274,"username":"acroitor","name":"Alexandru Croitor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/461378ef52c26eec55e6c15ec09bb9ed?s=80\u0026d=identicon","web_url":"https://gitlab.com/acroitor"}],"author":{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},"type":"ISSUE","assignee":{"id":3483274,"username":"acroitor","name":"Alexandru Croitor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/461378ef52c26eec55e6c15ec09bb9ed?s=80\u0026d=identicon","web_url":"https://gitlab.com/acroitor"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/301173","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/301173","notes":"https://gitlab.com/api/v4/projects/278964/issues/301173/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/301173/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#301173","relative":"#301173","full":"gitlab-org/gitlab#301173"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":78493413,"iid":301172,"project_id":278964,"title":"Restructure layout of Add approval rule form","description":"### Problem to solve\n\nAs an initial first-step towards https://gitlab.com/gitlab-org/gitlab/-/issues/267511. The existing form doesn't align with the new designs.\n\nWe need to restructure the `Add approval rule` form to conform with these designs but without any of the new features being implemented.\n\n### Proposal\n\nAs a general improvement the form and to make it conform with the new designs, we should:\n\n- Change inputs to be stacked rather than side-by-side\n- Remove bolding from initial input description\n- Look at dropdown icon style\n- Look at adding a search button to the approvers selection list\n\n### Design\n\n|Current UX|üÜï Users or Groups - Default option with 1 approver|\n|---|---|\n|![image](/uploads/e71378aea2180b4984b8cc8fcb43a0e4/image.png)|![Modal](/uploads/ec57c12fd7b0acc8241648856bec1c27/Modal.png)|\n\n### Implementation plan\n\n~frontend - :two:\n\n1. Restructure `ee/app/assets/javascripts/approvals/components/rule_form.vue` following the proposal","state":"closed","created_at":"2021-02-05T12:53:11.566Z","updated_at":"2021-04-13T19:23:01.653Z","closed_at":"2021-03-11T09:11:03.981Z","closed_by":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"labels":["Category:Compliance Management","Enterprise Edition","GitLab Ultimate","devops::manage","frontend","group::compliance","priority::2","section::dev","workflow::verification"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"}],"author":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"type":"ISSUE","assignee":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/301172","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/301172","notes":"https://gitlab.com/api/v4/projects/278964/issues/301172/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/301172/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#301172","relative":"#301172","full":"gitlab-org/gitlab#301172"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3869,"epic":{"id":79474,"iid":3869,"title":"Introduce capability to check external APIs for status in Merge Requests","url":"/groups/gitlab-org/-/epics/3869","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":78473864,"iid":301157,"project_id":278964,"title":"Add documation for Impersonation feature","description":"### Problem to solve\n\nAdd documentation with a screenshot in the Impersonation feature available `Admin Area \u003e Users`\n\n![Screen_Shot_2021-02-05_at_7.01.28_pm](/uploads/38b707c607ef0ef497ef27e086c06801/Screen_Shot_2021-02-05_at_7.01.28_pm.png)\n\n### Further details\n\n### Proposal\n\nAdd documentation for Impersonation feature under https://docs.gitlab.com/ee/user/admin_area/.\n\n### Who can address the issue\n\n\u003c!-- What if any special expertise is required to resolve this issue? --\u003e\n\n### Other links/references\n\n\u003c!-- E.g. related GitLab issues/MRs --\u003e","state":"closed","created_at":"2021-02-05T08:04:43.871Z","updated_at":"2021-02-19T17:38:45.368Z","closed_at":"2021-02-19T17:38:45.297Z","closed_by":{"id":4512390,"username":"djensen","name":"Dan Jensen","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4512390/avatar.png","web_url":"https://gitlab.com/djensen"},"labels":["devops::manage","docs-only","documentation","group::compliance","section::dev","workflow::in review"],"milestone":{"id":1233760,"iid":56,"group_id":9970,"title":"13.9","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.334Z","updated_at":"2022-04-21T07:21:28.468Z","due_date":"2021-02-17","start_date":"2021-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/56"},"assignees":[{"id":4512390,"username":"djensen","name":"Dan Jensen","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4512390/avatar.png","web_url":"https://gitlab.com/djensen"}],"author":{"id":398752,"username":"tancnle","name":"Tan Le","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/398752/avatar.png","web_url":"https://gitlab.com/tancnle"},"type":"ISSUE","assignee":{"id":4512390,"username":"djensen","name":"Dan Jensen","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4512390/avatar.png","web_url":"https://gitlab.com/djensen"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/301157","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/301157","notes":"https://gitlab.com/api/v4/projects/278964/issues/301157/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/301157/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#301157","relative":"#301157","full":"gitlab-org/gitlab#301157"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":78472757,"iid":301154,"project_id":278964,"title":"Internal server error during accessing wiki pages","description":"### Summary\n\nAfter upgrade to current version of Gitlab (13.8.2-ee) some of our Wikis started to misbehave - throwing 500 during access.\n\nThis especially happens in projects affected by https://gitlab.com/gitlab-org/gitlab/-/issues/299301\n\n### Steps to reproduce\n\n\u003c!-- Describe how one can reproduce the issue - this is very important. Please use an ordered list. --\u003e\n\n* Create a wiki with some non-standard characters (in our case - polish names)\n* try to access it\n* 500 appears for some (not all) wikis\n\n\n### What is the current *bug* behavior?\n\nThrowing 500 during access to Wiki pages. What is curious - it is non-deterministic, some of wikis fail on main page, some on accessing second page.\n\n### What is the expected *correct* behavior?\n\nWiki visible without any issues \n### Relevant logs and/or screenshots\n\n\u003c!-- Paste any relevant logs - please use code blocks (```) to format console output, logs, and code\n as it's tough to read otherwise. --\u003e\n```\nCompleted 500 Internal Server Error in 165ms (ActiveRecord: 25.2ms | Elasticsearch: 0.0ms | Allocations: 60336)\n{\"method\":\"GET\",\"path\":\"/(censored)\",\"format\":\"html\",\"controller\":\"Projects::WikisController\",\"action\":\"show\",\"status\":500,\"time\":\"2021-02-05T07:21:21.704Z\",\"params\":[{\"key\":\"namespace_id\",\"value\":\"(censored)\"},{\"key\":\"project_id\",\"value\":\"(censored)\"},{\"key\":\"id\",\"value\":\"home\"}],\"remote_ip\":\"10.30.3.13\",\"user_id\":189,\"username\":\"(censored)\",\"ua\":\"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.96 Safari/537.36\",\"correlation_id\":\"01EXRH25VABKNQ82B7K08120HS\",\"meta.user\":\"(censored)\",\"meta.project\":\"(censored)\",\"meta.root_namespace\":\"(censored)\",\"meta.caller_id\":\"Projects::WikisController#show\",\"meta.remote_ip\":\"10.30.3.13\",\"meta.feature_category\":\"wiki\",\"gitaly_calls\":4,\"gitaly_duration_s\":0.016764,\"redis_calls\":9,\"redis_duration_s\":0.005161,\"redis_read_bytes\":1580,\"redis_write_bytes\":1353,\"redis_cache_calls\":7,\"redis_cache_duration_s\":0.004434,\"redis_cache_read_bytes\":1325,\"redis_cache_write_bytes\":388,\"redis_shared_state_calls\":2,\"redis_shared_state_duration_s\":0.000727,\"redis_shared_state_read_bytes\":255,\"redis_shared_state_write_bytes\":965,\"db_count\":11,\"db_write_count\":0,\"db_cached_count\":1,\"cpu_s\":0.13,\"exception.class\":\"ActionView::Template::Error\",\"exception.message\":\"2:Encoding::UndefinedConversionError: U+0142 from UTF-8 to ASCII-8BIT.\",\"exception.backtrace\":[\"lib/gitlab/git/wraps_gitaly_errors.rb:15:in `rescue in wrapped_gitaly_errors'\",\"lib/gitlab/git/wraps_gitaly_errors.rb:6:in `wrapped_gitaly_errors'\",\"lib/gitlab/git/wiki.rb:116:in `page_versions'\",\"app/models/wiki_page.rb:133:in `versions'\",\"app/models/wiki_page.rb:143:in `last_version'\",\"app/views/shared/wikis/show.html.haml:9\",\"app/controllers/application_controller.rb:125:in `render'\",\"app/controllers/concerns/wiki_actions.rb:82:in `show'\",\"ee/lib/gitlab/ip_address_state.rb:10:in `with'\",\"ee/app/controllers/ee/application_controller.rb:44:in `set_current_ip_address'\",\"app/controllers/application_controller.rb:482:in `set_current_admin'\",\"lib/gitlab/session.rb:11:in `with_session'\",\"app/controllers/application_controller.rb:473:in `set_session_storage'\",\"lib/gitlab/i18n.rb:73:in `with_locale'\",\"lib/gitlab/i18n.rb:79:in `with_user_locale'\",\"app/controllers/application_controller.rb:467:in `set_locale'\",\"lib/gitlab/error_tracking.rb:52:in `with_context'\",\"app/controllers/application_controller.rb:532:in `sentry_context'\",\"app/controllers/application_controller.rb:460:in `block in set_current_context'\",\"lib/gitlab/application_context.rb:56:in `block in use'\",\"lib/gitlab/application_context.rb:56:in `use'\",\"lib/gitlab/application_context.rb:22:in `with_context'\",\"app/controllers/application_controller.rb:451:in `set_current_context'\",\"lib/gitlab/request_profiler/middleware.rb:17:in `call'\",\"lib/gitlab/jira/middleware.rb:19:in `call'\",\"lib/gitlab/middleware/go.rb:20:in `call'\",\"lib/gitlab/etag_caching/middleware.rb:21:in `call'\",\"lib/gitlab/middleware/multipart.rb:172:in `call'\",\"lib/gitlab/middleware/read_only/controller.rb:50:in `call'\",\"lib/gitlab/middleware/read_only.rb:18:in `call'\",\"lib/gitlab/middleware/same_site_cookies.rb:27:in `call'\",\"lib/gitlab/middleware/handle_malformed_strings.rb:21:in `call'\",\"lib/gitlab/middleware/basic_health_check.rb:25:in `call'\",\"lib/gitlab/middleware/handle_ip_spoof_attack_error.rb:25:in `call'\",\"lib/gitlab/middleware/request_context.rb:23:in `call'\",\"config/initializers/fix_local_cache_middleware.rb:9:in `call'\",\"lib/gitlab/metrics/requests_rack_middleware.rb:76:in `call'\",\"lib/gitlab/middleware/release_env.rb:12:in `call'\"],\"db_duration_s\":0.02519,\"view_duration_s\":0.0,\"duration_s\":0.16471}\nActionView::Template::Error (2:Encoding::UndefinedConversionError: U+0142 from UTF-8 to ASCII-8BIT.):\nlib/gitlab/git/wraps_gitaly_errors.rb:15:in `rescue in wrapped_gitaly_errors'\nlib/gitlab/git/wraps_gitaly_errors.rb:6:in `wrapped_gitaly_errors'\nlib/gitlab/error_tracking.rb:52:in `with_context'\nlib/gitlab/middleware/handle_ip_spoof_attack_error.rb:25:in `call'\n```","state":"closed","created_at":"2021-02-05T07:36:47.540Z","updated_at":"2021-02-23T23:42:26.589Z","closed_at":"2021-02-20T07:53:07.321Z","closed_by":{"id":64248,"username":"stanhu","name":"Stan Hu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/64248/stanhu.jpg","web_url":"https://gitlab.com/stanhu"},"labels":["Category:Wiki","customer","devops::create","group::editor","regression","regression:13.8","section::dev","type::bug"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":64248,"username":"stanhu","name":"Stan Hu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/64248/stanhu.jpg","web_url":"https://gitlab.com/stanhu"}],"author":{"id":670675,"username":"blackwebwolf","name":"blackwebwolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/9914b92cf37e8bd02c711afe393f2a9e?s=80\u0026d=identicon","web_url":"https://gitlab.com/blackwebwolf"},"type":"ISSUE","assignee":{"id":64248,"username":"stanhu","name":"Stan Hu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/64248/stanhu.jpg","web_url":"https://gitlab.com/stanhu"},"user_notes_count":19,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/301154","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/301154","notes":"https://gitlab.com/api/v4/projects/278964/issues/301154/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/301154/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#301154","relative":"#301154","full":"gitlab-org/gitlab#301154"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":78470539,"iid":301152,"project_id":278964,"title":"Top level notification dot for \"what's new\" in help menu looks wrong in Safari","description":"The following discussion from !48416 should be addressed:\n\n- [ ] @mikegreiling started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/48416#note_502322077): \n\n    \u003e I just noticed this notification dot appears a bit odd in Safari:\n    \u003e \n    \u003e | Safari | Chrome |\n    \u003e |-----|-----|\n    \u003e | ![safari](/uploads/27116a25c2e737dd00876e730b21e779/safari.png) | ![chrome](/uploads/5815c097ef9518439af7b5f19fdda699/chrome.png) |\n\n/cc @jejacks0n","state":"closed","created_at":"2021-02-05T06:35:57.047Z","updated_at":"2021-12-10T18:20:30.512Z","closed_at":"2021-12-09T19:30:50.500Z","closed_by":{"id":2709171,"username":"jayswain","name":"Jay","state":"active","avatar_url":"https://secure.gravatar.com/avatar/9425e277e593759683640b83676c911c?s=80\u0026d=identicon","web_url":"https://gitlab.com/jayswain"},"labels":["Category:Adoption Experiment","browser:safari","devops::growth","frontend","group::adoption DEPRECATED","missed:13.10","missed:13.12","missed:14.1","missed:14.2","priority::4","section::growth","severity::4","type::bug","workflow::production"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":2709171,"username":"jayswain","name":"Jay","state":"active","avatar_url":"https://secure.gravatar.com/avatar/9425e277e593759683640b83676c911c?s=80\u0026d=identicon","web_url":"https://gitlab.com/jayswain"}],"author":{"id":636429,"username":"mikegreiling","name":"Mike Greiling","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/636429/avatar.png","web_url":"https://gitlab.com/mikegreiling"},"type":"ISSUE","assignee":{"id":2709171,"username":"jayswain","name":"Jay","state":"active","avatar_url":"https://secure.gravatar.com/avatar/9425e277e593759683640b83676c911c?s=80\u0026d=identicon","web_url":"https://gitlab.com/jayswain"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/301152","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/301152","notes":"https://gitlab.com/api/v4/projects/278964/issues/301152/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/301152/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#301152","relative":"#301152","full":"gitlab-org/gitlab#301152"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":78469135,"iid":301149,"project_id":278964,"title":"\"Pending comments\" dropdown in code review escapes some characters incorrectly","description":"I noticed when looking at the \"pending comments\" dropdown for a MR review, the author's name will have double-escaped character encodings. (e.g. for @leipert, `Lukas 'Eipi' Eipert` the header is rendered as `Lukas \u0026#39;Eipi\u0026#39; Eipert's thread`)\n\n![CleanShot_2021-02-04_at_23.42.51_2x](/uploads/0a5b5ed18f0d6d945be5d8561b71c6be/CleanShot_2021-02-04_at_23.42.51_2x.png)","state":"closed","created_at":"2021-02-05T05:47:50.428Z","updated_at":"2021-10-08T09:41:05.910Z","closed_at":"2021-10-08T09:41:05.303Z","closed_by":{"id":181229,"username":"leipert","name":"Lukas 'Eipi' Eipert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/19a1f1260fa70323f35bc508927921a2?s=80\u0026d=identicon","web_url":"https://gitlab.com/leipert"},"labels":["Category:Code Review Workflow","Stretch","UI polish","[deprecated] Accepting merge requests","devops::create","frontend","group::code review","merge requests","priority::4","section::dev","severity::4","type::bug"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[],"author":{"id":636429,"username":"mikegreiling","name":"Mike Greiling","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/636429/avatar.png","web_url":"https://gitlab.com/mikegreiling"},"type":"ISSUE","assignee":null,"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/301149","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/301149","notes":"https://gitlab.com/api/v4/projects/278964/issues/301149/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/301149/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#301149","relative":"#301149","full":"gitlab-org/gitlab#301149"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":78468950,"iid":301148,"project_id":278964,"title":"Cannot find draft MR review comment when returning to page","description":"If you return to a merge request page in which there is an unsubmitted review, the draft comments may not be accessible in certain contexts.\n\nSteps to reproduce:\n\n1. Visit a merge request\n2. Start a review by creating a thread on an existing note which does not already have a thread\n3. Refresh the page\n4. Attempt to access the draft you just created in step 2 by clicking on it within \"pending comments\" dropdown.\n5. Nothing happens\n\n![reproduce-issue-sm](/uploads/1379baa91fb7683c70868cf0eaa51aec/reproduce-issue-sm.mp4)","state":"closed","created_at":"2021-02-05T05:41:58.629Z","updated_at":"2021-06-18T07:07:02.537Z","closed_at":"2021-05-20T15:47:52.180Z","closed_by":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"labels":["Category:Code Review Workflow","Deliverable","approaching-SLO","devops::create","frontend","group::code review","merge requests","missed-SLO","priority::3","section::dev","severity::2","type::bug"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"}],"author":{"id":636429,"username":"mikegreiling","name":"Mike Greiling","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/636429/avatar.png","web_url":"https://gitlab.com/mikegreiling"},"type":"ISSUE","assignee":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/301148","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/301148","notes":"https://gitlab.com/api/v4/projects/278964/issues/301148/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/301148/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#301148","relative":"#301148","full":"gitlab-org/gitlab#301148"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":78466713,"iid":301146,"project_id":278964,"title":"Set 1s timeout on search tab counts","description":"## Problem\n\nAt present when a user performs a search we load their results and then after the page loads we kick off many other searches to show the counts of results for all the tabs they aren't looking at. In most cases the amount of time it takes to load the tabs is considerably longer than loading their search results (eg. issue search may take 1s to load, but notes, blobs, wiki_blobs take 30s to load each). This doesn't seem like a problem on the face of things because they are async loaded after the results are loaded but the problem worsens when the user then performs another search before the tab counts are loaded.\n\nAt this point their new search is now queued behind all the slow tab counts since Elasticsearch limits how many concurrent searches it would perform. And again the problem compounds if they switch tabs or click the next page of results. Every single page load is again queueing up many more count searches which are again ahead of the users main search in Elasticsearch's queue.\n\n## Solution\n\nWe do really want to keep tab counts (discussed a little in https://gitlab.com/gitlab-org/gitlab/-/issues/218565) due to the fact that they help the user decide if it's worth clicking on the tab to see results. People don't want to click on a tab and wait ages for results if it turns out the tab is just going to be empty anyway. But this is actually a self-perpetuating problem because the main reason switching tabs is slow is because of the counts loading in the first place. If we get the searches loading faster then the value of tab counts is lowered.\n\nOne main step we can take in the right direction (short of removing the counts per https://gitlab.com/gitlab-org/gitlab/-/issues/218565 ) is to just set a timeout on count loads. We can set a 1s timeout and then if they don't load quickly you just won't see the tab count. Based on the Elasticsearch timeout implementation you actually get to see a count but it may be smaller than the full count because it stops counting when it hits the timeout.\n\n## Technical notes\n\nI did some benchmarking which shows that setting a 1s timeout makes a big difference in terms of throughput for loading counts. My testing also showed that you still get results but when it times out the response looks like:\n\n```json\n{\n  \"took\": 4393,\n  \"timed_out\": true,\n  \"_shards\": {\n    \"total\": 120,\n    \"successful\": 120,\n    \"skipped\": 0,\n    \"failed\": 0\n  },\n  \"hits\": {\n    \"total\": {\n      \"value\": 10000,\n      \"relation\": \"gte\"\n    },\n    \"max_score\": null,\n    \"hits\": []\n  }\n}\n```\n\nWeirdly though I set the timeout to `1s`, as can be seen in the above response, it often took longer than 1s to timeout, likely due to the async nature of Elasticsearch. Either way it did indeed timeout and did remove the search from the queue quickly thus leading to higher throughput. Furthermore we can see in the above response that we do still get a count in the event of a timeout. That will give us the option to decide if we want to show the partial count to the user (minimal effort) or if we want to detect the timeout and show some indicator to the user that we could not fetch the count.\n\n### Benchmarking\n\n\u003cdetails\u003e\u003csummary\u003ebenchmark-timeout.rb\u003c/summary\u003e\n\n```rb\n#!/usr/bin/env ruby\n\nrequire 'benchmark'\nrequire 'rest-client'\nrequire 'securerandom'\nrequire 'json'\n\nrandom = Random.new(1234) # Constant seed\n\nN = 10\nTERM_WORDS = ['auto', 'devops', 'hello', 'world', 'something', 'queryable', 'searching', 'somethingelse', 'search', 'issue', 'merge']\n\nTERMS = N.times.map do\n  TERM_WORDS.sample(3, random: random).join(\" | \")\nend\n\nCLUSTER_URL = ENV.fetch(\"CLUSTER_URL\")\nINDEX = ENV.fetch(\"INDEX\")\n\nBLOBS_QUERY = '{ \"query\": { \"bool\": { \"must\": [], \"must_not\": [], \"should\": [], \"filter\": [ { \"simple_query_string\": { \"_name\": \"blob:match:search_terms\", \"fields\": [ \"blob.content\", \"blob.file_name\", \"blob.path\" ], \"query\": \"\u003cQUERY\u003e\", \"default_operator\": \"and\" } }, { \"has_parent\": { \"_name\": \"blob:authorized:project\", \"parent_type\": \"project\", \"query\": { \"bool\": { \"should\": [ { \"bool\": { \"filter\": [ { \"terms\": { \"_name\": \"blob:authorized:project:membership:id\", \"id\": [ 13083, 13764, 14022, 14288, 14289, 19776, 20086, 20699, 23081, 27468, 27470, 27726, 29286, 32732, 36743, 72724, 74823, 83282, 95156, 116212, 143237, 145205, 150440, 227582, 250324, 250833, 278964, 280425, 387896, 430285, 443787, 444821, 480929, 554859, 593728, 684698, 730448, 734943, 766015, 818896, 876090, 928825, 931715, 998792, 1075790, 1254421, 1265999, 1329047, 1379171, 1441932, 1470839, 1507906, 1777822, 1794617, 1911766, 1990920, 2009901, 2127625, 2317465, 2337675, 2383700, 2645585, 2645607, 2645621, 2645625, 2651596, 2670515, 2694799, 2715353, 2715372, 2715423, 2716906, 2725567, 2871980, 2890326, 2903741, 2953390, 3010986, 3010998, 3094319, 3101096, 3362933, 3430480, 3466815, 3588247, 3605985, 3631141, 3651684, 3662668, 3698388, 3828396, 3842996, 3843116, 3844141, 3871132, 3871556, 3885956, 3885980, 3933206, 3933372, 3991945, 4108541, 4121724, 4149988, 4157550, 4176070, 4186742, 4262096, 4341757, 4359271, 4456656, 4492386, 4534254, 4542834, 4562632, 4685354, 4793514, 4870361, 4875494, 4894834, 4904157, 4921652, 4949400, 5019307, 5064907, 5191294, 5261717, 5279538, 5382660, 5408708, 5417931, 5420758, 5444181, 5456231, 5457651, 5457755, 5465687, 5467143, 5467277, 5474112, 5509547, 5617895, 5635189, 5647182, 5677844, 5727416, 5737157, 5742170, 5772881, 5777179, 5777819, 5777853, 5777918, 5777939, 5777952, 5777954, 5777976, 5778037, 5778044, 5778056, 5778074, 5778093, 5778095, 5828233, 5849726, 5851774, 5964710, 5976131, 5981322, 5994307, 5996549, 6043225, 6043227, 6047528, 6057676, 6126012, 6130122, 6143038, 6168240, 6185025, 6237085, 6237088, 6237091, 6250233, 6329679, 6374580, 6374588, 6374596, 6388398, 6392811, 6457868, 6523803, 6523862, 6535935, 6802300, 7071043, 7071551, 7145793, 7453181, 7523614, 7524061, 7540679, 7560116, 7560137, 7602162, 7660893, 7682093, 7688358, 7745145, 7750063, 7776928, 7792567, 7937396, 7951712, 7963964, 8057910, 8262564, 8343284, 8362868, 8368695, 8368700, 8377576, 8671969, 8987255, 9045270, 9049889, 9134345, 9149724, 9184510, 9223256, 9223291, 9281155, 9353893, 9358979, 9359704, 9396716, 9438583, 9450192, 9450195, 9450197, 9492132, 9762266, 9870184, 9927571, 10024275, 10071001, 10071132, 10304488, 10400718, 10472408, 10476326, 10506825, 10523039, 10586771, 10614162, 10619765, 10633620, 10747057, 10748426, 10833541, 10846938, 10861561, 10947320, 10947578, 10953870, 10973541, 11015994, 11047304, 11067315, 11080193, 11139665, 11146000, 11173751, 11196060, 11203076, 11229385, 11261137, 11316755, 11317506, 11373038, 11380952, 11432834, 11446522, 11449672, 11511606, 11520423, 11533294, 11574953, 11625232, 11688089, 11745002, 11758351, 11869718, 11880131, 11915984, 11925674, 11925677, 11925682, 11925685, 11925689, 11925692, 11925695, 11925697, 11925699, 11925701, 11925704, 11925705, 11925708, 11925710, 11925713, 11997420, 12006272, 12051231, 12051824, 12075545, 12104213, 12106293, 12138769, 12193672, 12193723, 12233892, 12270872, 12271982, 12271993, 12271995, 12271997, 12272000, 12272001, 12272002, 12272003, 12272004, 12272005, 12272006, 12272007, 12272008, 12272009, 12272010, 12272011, 12272014, 12272015, 12272016, 12272018, 12272019, 12272024, 12272025, 12272030, 12272032, 12272040, 12272049, 12272051, 12272053, 12272056, 12272064, 12272066, 12272071, 12272093, 12272095, 12272119, 12272164, 12272174, 12272200, 12272586, 12272605, 12273972, 12273973, 12273975, 12273978, 12273983, 12273988, 12273995, 12273999, 12274019, 12274036, 12274047, 12274048, 12274049, 12274053, 12274058, 12274059, 12274061, 12274062, 12274065, 12274066, 12274067, 12274068, 12274070, 12274076, 12274078, 12274079, 12274081, 12274089, 12274094, 12274099, 12274104, 12274109, 12274122, 12274127, 12274139, 12274166, 12274192, 12274200, 12274218, 12274295, 12425329, 12446167, 12450931, 12483816, 12507547, 12558964, 12690061, 12724255, 12959103, 13015884, 13017629, 13017904, 13017938, 13017951, 13017970, 13017973, 13017990, 13018004, 13018017, 13053017, 13084505, 13130853, 13142177, 13150952, 13284652, 13327609, 13331704, 13348998, 13362575, 13368043, 13437682, 13453461, 13454093, 13467157, 13473820, 13490286, 13566613, 13584096, 13589474, 13589490, 13590021, 13626558, 13664986, 13672316, 13672681, 13673582, 13673632, 13673686, 13673757, 13673934, 13674085, 13674136, 13675927, 13675979, 13676002, 13676032, 13676096, 13676142, 13676188, 13676249, 13676309, 13676350, 13682597, 13683636, 13740954, 13798059, 13815397, 13822214, 13823180, 13824926, 13831684, 13842214, 13842876, 13922331, 13942461, 13954053, 13997108, 14018700, 14071101, 14097509, 14130725, 14132361, 14146123, 14158369, 14213955, 14217204, 14235835, 14240586, 14290884, 14292404, 14356474, 14372596, 14378266, 14378900, 14392833, 14399034, 14402567, 14404642, 14442567, 14446830, 14477200, 14520336, 14579026, 14588374, 14645774, 14694517, 14707715, 14720460, 14771920, 14785608, 14810991, 14849194, 14853550, 14921629, 15019630, 15032634, 15065439, 15101703, 15112583, 15114652, 15126989, 15158038, 15161313, 15182494, 15191824, 15206937, 15207036, 15208888, 15232184, 15234689, 15291320, 15297693, 15333630, 15363819, 15369510, 15393051, 15412762, 15420077, 15445353, 15445883, 15447440, 15461649, 15486630, 15499610, 15502498, 15572444, 15642544, 15662771, 15665075, 15667093, 15677708, 15683922, 15685819, 15685887, 15685912, 15704133, 15704782, 15710326, 15720150, 15769471, 15769622, 15769659, 15787276, 15815706, 15816248, 15821588, 15822964, 15828516, 15830549, 15841984, 15844807, 15875037, 15926775, 15943672, 15962657, 16110032, 16239404, 16240616, 16247504, 16257114, 16288111, 16297627, 16302012, 16311413, 16379995, 16466244, 16470734, 16488249, 16505341, 16513043, 16549277, 16552062, 16573099, 16590122, 16597098, 16603968, 16613287, 16613296, 16622651, 16683102, 16694332, 16700143, 16706750, 16732333, 16816732, 16819118, 16819125, 16819131, 16819134, 16819140, 16819151, 16819248, 16842968, 16863027, 16873105, 16873326, 16883353, 16895122, 16913647, 17019611, 17022380, 17023897, 17031626, 17035255, 17039597, 17043690, 17050975, 17113313, 17120026, 17130955, 17133307, 17134833, 17136273, 17151529, 17166102, 17169260, 17172530, 17176376, 17181705, 17192985, 17210811, 17245095, 17253921, 17257555, 17271570, 17281958, 17311004, 17325482, 17334694, 17345914, 17349153, 17370206, 17370850, 17370917, 17371314, 17372321, 17373998, 17375753, 17392353, 17407852, 17410444, 17421565, 17429946, 17433833, 17450826, 17471714, 17522813, 17523881, 17530059, 17545989, 17584993, 17616536, 17657269, 17661412, 17661947, 17668435, 17719928, 17720083, 17738687, 17743501, 17747896, 17753367, 17802074, 17816825, 17821569, 17823896, 17842971, 17843116, 17863546, 17875927, 17882005, 17885954, 17894202, 17895630, 17930014, 17960932, 17966464, 17967450, 17967459, 17971433, 17978213, 17987891, 17990319, 17992812, 17994706, 18011059, 18021647, 18026144, 18042963, 18060348, 18113582, 18140840, 18147276, 18147374, 18147399, 18156681, 18157270, 18161573, 18163072, 18163099, 18179066, 18208929, 18250019, 18256369, 18256375, 18256379, 18256394, 18283598, 18284159, 18298876, 18305763, 18307741, 18307889, 18308312, 18313773, 18315938, 18321485, 18331927, 18342819, 18346158, 18347703, 18347716, 18347753, 18347757, 18347776, 18347780, 18347796, 18347808, 18347809, 18347819, 18347820, 18347830, 18347831, 18347833, 18347834, 18347835, 18347836, 18347837, 18347844, 18347848, 18347863, 18347890, 18347935, 18347953, 18348379, 18348449, 18374998, 18406509, 18439881, 18446184, 18449783, 18464659, 18464813, 18466096, 18480370, 18594323, 18594390, 18629149, 18641703, 18650560, 18663049, 18668507, 18716754, 18719477, 18741849, 18759998, 18760252, 18766720, 18766749, 18770944, 18776356, 18789638, 18792504, 18847064, 18855948, 18860383, 18863350, 18875792, 18877555, 18880248, 18893322, 18897919, 18899486, 18899500, 18905432, 18912995, 18920956, 18922546, 18925373, 18943563, 18943607, 18976211, 18977208, 18991900, 19019153, 19028203, 19031064, 19042106, 19043830, 19047934, 19145311, 19155669, 19192813, 19209142, 19245461, 19253018, 19253326, 19256834, 19265543, 19279270, 19288614, 19290493, 19290857, 19310217, 19315261, 19376945, 19380509, 19402176, 19413012, 19413101, 19413496, 19416940, 19438691, 19461377, 19483656, 19486292, 19533665, 19536993, 19551890, 19568296, 19586313, 19594758, 19611351, 19617580, 19655424, 19657914, 19666238, 19668251, 19716327, 19720958, 19722963, 19797387, 19800404, 19815415, 19843335, 19861191, 19871264, 19871573, 19890267, 19904939, 19922160, 19926831, 19928869, 19935960, 19936172, 19936363, 19936368, 19941935, 19969997, 19971311, 19974437, 19985677, 19993243, 20009186, 20014237, 20017176, 20059805, 20081132, 20083979, 20084708, 20085049, 20102452, 20107267, 20110067, 20140116, 20145500, 20162469, 20172887, 20172997, 20190582, 20204282, 20209910, 20233854, 20234539, 20307753, 20326496, 20334170, 20336302, 20337863, 20352787, 20360386, 20376798, 20401626, 20466430, 20468480, 20495907, 20498312, 20510065, 20516845, 20604553, 20623750, 20630561, 20662496, 20666273, 20744986, 20747799, 20773921, 20776072, 20778930, 20785013, 20791019, 20802859, 20803052, 20839085, 20842531, 20850906, 20851082, 20867992, 20904766, 20916876, 20921195, 20973262, 21005471, 21029182, 21055344, 21055409, 21055520, 21055609, 21055767, 21138460, 21186073, 21198535, 21224328, 21250701, 21286161, 21297458, 21324924, 21332563, 21332670, 21333175, 21351796, 21368827, 21375917, 21426890, 21439066, 21454570, 21479276, 21479995, 21483460, 21486653, 21501997, 21503580, 21513228, 21525059, 21531004, 21565866, 21573444, 21582428, 21607123, 21628863, 21635031, 21649753, 21731412, 21731462, 21733688, 21734866, 21740210, 21740473, 21751536, 21751817, 21764500, 21796485, 21808150, 21819002, 21824450, 21877288, 21877506, 21877574, 21939352, 21949381, 21958988, 21967079, 21967100, 22024501, 22031371, 22046463, 22070439, 22111360, 22130851, 22133520, 22200396, 22200599, 22201268, 22201414, 22217400, 22249364, 22304113, 22342780, 22363055, 22382594, 22385109, 22408078, 22409005, 22413016, 22413375, 22414284, 22418898, 22427391, 22432227, 22433156, 22438483, 22441624, 22487050, 22488218, 22488569, 22510111, 22511552, 22517790, 22540162, 22564042, 22564246, 22566258, 22568832, 22574075, 22592843, 22637103, 22679171, 22734535, 22785135, 22795840, 22806496, 22807429, 22810929, 22810940, 22811022, 22847718, 22848448, 22869331, 22874770, 22877515, 22899058, 22907418, 22954041, 22955441, 22955967, 22956868, 22958987, 22963764, 22971355, 22975621, 22976387, 22976557, 22978009, 22978925, 22979053, 22979589, 22979778, 22979980, 22980130, 22991406, 23011180, 23022199, 23041236, 23043633, 23052226, 23069693, 23069956, 23070140, 23070164, 23070377, 23070395, 23101765, 23125600, 23141735, 23156104, 23171098, 23174714, 23176166, 23176783, 23176971, 23203100, 23203118, 23221705, 23221789, 23344605, 23345837, 23365123, 23455079, 23457285, 23465101, 23492503, 23494511, 23495190, 23505725, 23508645, 23510942, 23511999, 23512541, 23517830, 23526204, 23544263, 23545481, 23586678, 23591572, 23597027, 23597850, 23599168, 23601234, 23617987, 23627092, 23690656, 23698027, 23729229, 23730491, 23740056, 23772241, 23809347, 23821898, 23838512, 23854438, 23858731, 23862566, 23892410, 23916841, 23921884, 23924111, 23928229, 23944319, 23949254, 23992030, 23992434, 23992616, 23995504, 23999481, 23999955, 24007929, 24020277, 24020715, 24020847, 24036497, 24036503, 24055623, 24059189, 24075172 ] } }, { \"terms\": { \"_name\": \"blob:authorized:project:repository:enabled_or_private\", \"repository_access_level\": [ 20, 10 ] } } ] } } ] } } } }, { \"term\": { \"type\": { \"_name\": \"doc:is_a:blob\", \"value\": \"blob\" } } } ] } }, \"size\": 0, \"from\": 0, \"sort\": [ \"_score\" ] }'\nWIKI_BLOBS_QUERY = '{ \"query\": { \"bool\": { \"must\": [], \"must_not\": [], \"should\": [], \"filter\": [ { \"simple_query_string\": { \"_name\": \"blob:match:search_terms\", \"fields\": [ \"blob.content\", \"blob.file_name\", \"blob.path\" ], \"query\": \"\u003cQUERY\u003e\", \"default_operator\": \"and\" } }, { \"has_parent\": { \"_name\": \"blob:authorized:project\", \"parent_type\": \"project\", \"query\": { \"bool\": { \"should\": [ { \"bool\": { \"filter\": [ { \"terms\": { \"_name\": \"blob:authorized:project:membership:id\", \"id\": [ 14022, 19776, 20086, 23081, 27468, 27470, 32732, 83282, 95156, 116212, 227582, 387896, 480929, 684698, 730448, 734943, 818896, 876090, 998792, 1379171, 1441932, 1470839, 1507906, 1794617, 1911766, 1990920, 2127625, 2317465, 2383700, 2651596, 2670515, 2725567, 2953390, 3010986, 3010998, 3094319, 3101096, 3362933, 3588247, 3605985, 3631141, 3651684, 3662668, 3842996, 3843116, 3844141, 3871132, 3871556, 3885956, 3885980, 3933206, 3933372, 3991945, 4108541, 4149988, 4157550, 4176070, 4186742, 4262096, 4341757, 4534254, 4542834, 4562632, 4685354, 4793514, 4870361, 4875494, 4894834, 4904157, 4921652, 4949400, 5019307, 5261717, 5408708, 5417931, 5420758, 5456231, 5457651, 5457755, 5465687, 5467143, 5467277, 5474112, 5509547, 5617895, 5635189, 5677844, 5727416, 5737157, 5742170, 5772881, 5777179, 5777819, 5777853, 5777918, 5777939, 5777952, 5777954, 5777976, 5778037, 5778044, 5778056, 5778074, 5778093, 5778095, 5849726, 5851774, 5945915, 5976131, 5981322, 5994307, 5996549, 6043225, 6043227, 6057676, 6143038, 6168240, 6185025, 6237085, 6237091, 6250233, 6374580, 6374588, 6374596, 6388398, 6392811, 6457868, 6523803, 7071043, 7071551, 7145793, 7243435, 7523614, 7524061, 7540679, 7560116, 7560137, 7660893, 7688358, 7745145, 7750063, 7776928, 7792567, 7937396, 7951712, 7963964, 8057910, 8262564, 8343284, 8362868, 8368695, 8368700, 8377576, 8671969, 8987255, 9049889, 9134345, 9184510, 9223256, 9223291, 9281155, 9353893, 9358979, 9359704, 9396716, 9438583, 9450192, 9450195, 9762266, 9870184, 9927571, 10024275, 10071001, 10071132, 10400718, 10476326, 10506825, 10523039, 10586771, 10614162, 10619765, 10633620, 10747057, 10748426, 10833541, 10947320, 10947578, 10953870, 10973541, 11015994, 11047304, 11196060, 11203076, 11229385, 11261137, 11316755, 11317506, 11373038, 11380952, 11432834, 11446522, 11449672, 11511606, 11520423, 11533294, 11574953, 11688089, 11745002, 11758351, 11869718, 11880131, 11915984, 11925674, 11925677, 11925682, 11925685, 11925689, 11925692, 11925695, 11925697, 11925699, 11925701, 11925704, 11925705, 11925708, 11925710, 11925713, 11997420, 12006272, 12051231, 12051824, 12104213, 12106293, 12138769, 12193672, 12193723, 12233892, 12270872, 12271982, 12271993, 12271995, 12271997, 12272000, 12272001, 12272002, 12272003, 12272004, 12272005, 12272006, 12272007, 12272008, 12272009, 12272010, 12272011, 12272014, 12272015, 12272016, 12272018, 12272019, 12272024, 12272025, 12272030, 12272032, 12272040, 12272049, 12272051, 12272053, 12272056, 12272064, 12272066, 12272071, 12272093, 12272095, 12272119, 12272164, 12272174, 12272200, 12272586, 12272605, 12273972, 12273973, 12273975, 12273978, 12273983, 12273988, 12273995, 12273999, 12274019, 12274036, 12274047, 12274048, 12274049, 12274053, 12274058, 12274059, 12274061, 12274062, 12274065, 12274066, 12274067, 12274068, 12274070, 12274076, 12274078, 12274079, 12274081, 12274089, 12274094, 12274099, 12274104, 12274109, 12274122, 12274127, 12274139, 12274166, 12274192, 12274200, 12274218, 12274295, 12425329, 12446167, 12450931, 12483816, 12507547, 12558964, 12690061, 12724255, 12959103, 13015884, 13017629, 13017904, 13017951, 13017970, 13017973, 13017990, 13018004, 13018017, 13053017, 13084505, 13130853, 13142177, 13327609, 13331704, 13348998, 13362575, 13368043, 13437682, 13453461, 13454093, 13467157, 13473820, 13490286, 13584096, 13589474, 13589490, 13590021, 13626558, 13664986, 13672316, 13672681, 13673582, 13673632, 13673686, 13673757, 13673934, 13674085, 13674136, 13675927, 13675979, 13676002, 13676032, 13676096, 13676142, 13676188, 13676249, 13676309, 13676350, 13682597, 13683636, 13798059, 13815397, 13824926, 13831684, 13842214, 13842876, 13922331, 13942461, 13954053, 13997108, 14018700, 14071101, 14097509, 14130725, 14132361, 14146123, 14158369, 14217204, 14235835, 14290884, 14356474, 14372596, 14378900, 14399034, 14402567, 14404642, 14442567, 14446830, 14477200, 14520336, 14579026, 14645774, 14694517, 14720460, 14771920, 14785608, 14810991, 14849194, 14921629, 15019630, 15032634, 15101703, 15112583, 15114652, 15126989, 15158038, 15161313, 15182494, 15191824, 15206937, 15207036, 15234689, 15291320, 15297693, 15363819, 15393051, 15412762, 15420077, 15445353, 15447440, 15461649, 15486630, 15499610, 15502498, 15572444, 15662771, 15665075, 15677708, 15704782, 15710326, 15720150, 15769471, 15769622, 15769659, 15815706, 15816248, 15821588, 15822964, 15828516, 15830549, 15841984, 15844807, 15875037, 15926775, 15943672, 15962657, 16110032, 16247504, 16257114, 16288111, 16297627, 16302012, 16311413, 16379995, 16466244, 16470734, 16488249, 16505341, 16513043, 16549277, 16573099, 16590122, 16597098, 16603968, 16613287, 16613296, 16622651, 16683102, 16694332, 16700143, 16732333, 16816732, 16819118, 16819125, 16819131, 16819134, 16819140, 16819151, 16819248, 16842968, 16873105, 17022380, 17023897, 17031626, 17035255, 17039597, 17043690, 17050975, 17113313, 17120026, 17130955, 17133307, 17134833, 17136273, 17151529, 17166102, 17169260, 17176376, 17181705, 17210811, 17245095, 17253921, 17257555, 17271570, 17281958, 17311004, 17325482, 17334694, 17345914, 17349153, 17370206, 17370850, 17370917, 17371314, 17372321, 17373998, 17375753, 17407852, 17410444, 17421565, 17429946, 17433833, 17450826, 17471714, 17522813, 17523881, 17530059, 17545989, 17584993, 17616536, 17657269, 17661412, 17661947, 17719928, 17720083, 17738687, 17743501, 17747896, 17753367, 17802074, 17816825, 17821569, 17823896, 17842971, 17843116, 17875927, 17882005, 17894202, 17930014, 17960932, 17966464, 17967450, 17967459, 17971433, 17978213, 17987891, 17990319, 17992812, 18021647, 18026144, 18042963, 18060348, 18113582, 18140840, 18147276, 18147374, 18147399, 18156681, 18157270, 18161573, 18163072, 18163099, 18179066, 18208929, 18250019, 18256369, 18256375, 18256379, 18256394, 18283598, 18284159, 18298876, 18305763, 18307741, 18307889, 18308312, 18313773, 18315938, 18321485, 18331927, 18342819, 18346158, 18347703, 18347716, 18347753, 18347757, 18347776, 18347780, 18347796, 18347808, 18347809, 18347819, 18347820, 18347830, 18347831, 18347833, 18347834, 18347835, 18347836, 18347837, 18347844, 18347848, 18347863, 18347890, 18347935, 18347953, 18348379, 18348449, 18374998, 18406509, 18439881, 18446184, 18464813, 18466096, 18480370, 18594323, 18594390, 18641703, 18650560, 18663049, 18668507, 18716754, 18719477, 18741849, 18759998, 18760252, 18766720, 18766749, 18770944, 18776356, 18789638, 18792504, 18847064, 18855948, 18860383, 18863350, 18875792, 18877555, 18880248, 18893322, 18897919, 18899486, 18899500, 18905432, 18912995, 18920956, 18922546, 18943563, 18943607, 18976211, 18977208, 18991900, 19028203, 19031064, 19042106, 19043830, 19145311, 19155669, 19192813, 19209142, 19245461, 19253018, 19253326, 19256834, 19265543, 19279270, 19290493, 19290857, 19310217, 19315261, 19402176, 19413012, 19413101, 19416940, 19438691, 19461377, 19483656, 19486292, 19536993, 19551890, 19568296, 19586313, 19594758, 19611351, 19655424, 19657914, 19666238, 19668251, 19716327, 19720958, 19722963, 19800404, 19815415, 19843335, 19871264, 19871573, 19890267, 19904939, 19922160, 19926831, 19928869, 19936172, 19936363, 19936368, 19941935, 19969997, 19971311, 19974437, 19985677, 19993243, 20009186, 20014237, 20017176, 20059805, 20081132, 20083979, 20084708, 20085049, 20102452, 20107267, 20110067, 20140116, 20145500, 20172887, 20172997, 20190582, 20204282, 20209910, 20233854, 20307753, 20326496, 20352787, 20360386, 20466430, 20468480, 20498312, 20510065, 20516845, 20623750, 20630561, 20662496, 20666273, 20744986, 20747799, 20773921, 20776072, 20778930, 20785013, 20791019, 20802859, 20839085, 20850906, 20867992, 20904766, 20916876, 20921195, 20973262, 21005471, 21055344, 21055409, 21055520, 21055609, 21055767, 21138460, 21186073, 21198535, 21250701, 21286161, 21297458, 21324924, 21332563, 21332670, 21333175, 21368827, 21375917, 21426890, 21439066, 21454570, 21479995, 21483460, 21486653, 21501997, 21503580, 21513228, 21525059, 21531004, 21565866, 21573444, 21607123, 21628863, 21635031, 21649753, 21731412, 21733688, 21740473, 21751536, 21751817, 21764500, 21796485, 21808150, 21819002, 21824450, 21877574, 21939352, 21949381, 21958988, 21967079, 21967100, 22024501, 22031371, 22046463, 22070439, 22130851, 22133520, 22200396, 22200599, 22201268, 22201414, 22249364, 22304113, 22342780, 22363055, 22382594, 22385109, 22408078, 22409005, 22413016, 22413375, 22414284, 22418898, 22427391, 22432227, 22433156, 22438483, 22487050, 22488218, 22488569, 22510111, 22511552, 22517790, 22540162, 22564042, 22564246, 22566258, 22568832, 22574075, 22592843, 22637103, 22679171, 22734535, 22785135, 22795840, 22806496, 22807429, 22810929, 22810940, 22811022, 22847718, 22848448, 22869331, 22874770, 22877515, 22899058, 22907418, 22954041, 22955441, 22955967, 22956868, 22958987, 22963764, 22971355, 22975621, 22976387, 22976557, 22978009, 22978925, 22979053, 22979589, 22979778, 22979980, 22980130, 22991406, 23011180, 23022199, 23041236, 23043633, 23069693, 23069956, 23070140, 23070164, 23070377, 23070395, 23101765, 23125600, 23141735, 23156104, 23174714, 23176166, 23176783, 23176971, 23203100, 23203118, 23221705, 23221789, 23344605, 23365123, 23457285, 23465101, 23492503, 23494511, 23495190, 23505725, 23508645, 23510942, 23511999, 23512541, 23517830, 23526204, 23544263, 23586678, 23591572, 23597027, 23599168, 23601234, 23617987, 23627092, 23690656, 23698027, 23729229, 23730491, 23740056, 23772241, 23809347, 23821898, 23854438, 23858731, 23862566, 23892410, 23916841, 23921884, 23924111, 23928229, 23944319, 23949254, 23992030, 23992434, 23992616, 23995504, 23999955, 24007929, 24020277, 24020715, 24020847, 24036497, 24036503, 24055623, 24059189, 24075172 ] } }, { \"terms\": { \"_name\": \"blob:authorized:project:wiki:enabled_or_private\", \"wiki_access_level\": [ 20, 10 ] } } ] } } ] } } } }, { \"term\": { \"type\": { \"_name\": \"doc:is_a:wiki_blob\", \"value\": \"wiki_blob\" } } } ] } }, \"size\": 0, \"from\": 0, \"sort\": [ \"_score\" ] }'\nNOTES_QUERY = '{ \"query\": { \"bool\": { \"must\": [], \"filter\": [ { \"term\": { \"type\": { \"_name\": \"doc:is_a:note\", \"value\": \"note\" } } }, { \"simple_query_string\": { \"_name\": \"note:match:search_terms\", \"fields\": [ \"note\" ], \"query\": \"\u003cQUERY\u003e\", \"lenient\": true, \"default_operator\": \"and\" } }, { \"bool\": { \"_name\": \"note:authorized\", \"should\": [ { \"bool\": { \"must\": [ { \"has_parent\": { \"parent_type\": \"project\", \"query\": { \"bool\": { \"should\": { \"bool\": { \"_name\": \"note:authorized:project:issues\", \"filter\": [ { \"terms\": { \"_name\": \"note:authorized:project:issues:membership:id\", \"id\": [ 13083, 13764, 14022, 14289, 19776, 20086, 20699, 23081, 27468, 27470, 32732, 36743, 74823, 83282, 95156, 116212, 145205, 150440, 227582, 250324, 250833, 278964, 387896, 430285, 443787, 444821, 480929, 554859, 593728, 684698, 730448, 734943, 766015, 818896, 876090, 928825, 931715, 998792, 1075790, 1254421, 1265999, 1329047, 1379171, 1441932, 1470839, 1507906, 1777822, 1794617, 1911766, 1990920, 2009901, 2127625, 2317465, 2337675, 2383700, 2651596, 2670515, 2725567, 2890326, 2903741, 2953390, 3010986, 3010998, 3094319, 3101096, 3362933, 3395064, 3430480, 3466815, 3588247, 3605985, 3631141, 3651684, 3662668, 3698388, 3828396, 3842996, 3843116, 3844141, 3871132, 3871556, 3885956, 3885980, 3933206, 3933372, 3991945, 4108541, 4149988, 4157550, 4176070, 4262096, 4456656, 4492386, 4534254, 4542834, 4562632, 4685354, 4793514, 4870361, 4875494, 4904157, 4921652, 4949400, 5019307, 5064907, 5191294, 5261717, 5279538, 5351075, 5408708, 5417931, 5420758, 5444181, 5456231, 5457651, 5457755, 5465687, 5467143, 5467277, 5474112, 5509547, 5635189, 5647182, 5677844, 5727416, 5737157, 5772881, 5777179, 5777819, 5777853, 5777918, 5777939, 5777952, 5777954, 5777976, 5778037, 5778044, 5778056, 5778074, 5778093, 5778095, 5828233, 5849726, 5851774, 5945915, 5981322, 5994307, 5996549, 6043225, 6043227, 6057676, 6143038, 6185025, 6250233, 6329679, 6374580, 6374588, 6374596, 6388398, 6457868, 6523803, 6523862, 7071043, 7071551, 7243435, 7453181, 7523614, 7524061, 7540679, 7560116, 7560137, 7602162, 7688358, 7745145, 7750063, 7776928, 7792567, 7937396, 7951712, 7963964, 8057910, 8262564, 8343284, 8362868, 8368695, 8368700, 8377576, 8671969, 8987255, 9049889, 9134345, 9149724, 9172481, 9184510, 9223256, 9223291, 9237774, 9281155, 9353893, 9359704, 9438583, 9492132, 9870184, 9927571, 10024275, 10071001, 10071132, 10304488, 10400718, 10506825, 10523039, 10586771, 10614162, 10619765, 10633620, 10747057, 10748426, 10833541, 10947320, 10947578, 10953870, 10973541, 11015994, 11047304, 11067315, 11080193, 11173751, 11196060, 11203076, 11229385, 11261137, 11316755, 11317506, 11322136, 11373038, 11380952, 11432834, 11446522, 11449672, 11511606, 11520423, 11533294, 11574953, 11688089, 11745002, 11758351, 11869718, 11880131, 11915984, 11925674, 11925677, 11925682, 11925685, 11925689, 11925692, 11925695, 11925697, 11925699, 11925701, 11925704, 11925705, 11925708, 11925710, 11925713, 11997420, 12006272, 12051231, 12051824, 12075545, 12104213, 12106293, 12138769, 12193672, 12193723, 12233892, 12270872, 12271982, 12271993, 12271995, 12271997, 12272000, 12272001, 12272002, 12272003, 12272004, 12272005, 12272006, 12272007, 12272008, 12272009, 12272010, 12272011, 12272014, 12272015, 12272016, 12272018, 12272019, 12272024, 12272025, 12272030, 12272032, 12272040, 12272049, 12272051, 12272053, 12272056, 12272064, 12272066, 12272071, 12272093, 12272095, 12272119, 12272164, 12272174, 12272200, 12272586, 12272605, 12273972, 12273973, 12273975, 12273978, 12273983, 12273988, 12273995, 12273999, 12274019, 12274036, 12274047, 12274048, 12274049, 12274053, 12274058, 12274059, 12274061, 12274062, 12274065, 12274066, 12274067, 12274068, 12274070, 12274076, 12274078, 12274079, 12274081, 12274089, 12274094, 12274099, 12274104, 12274109, 12274122, 12274127, 12274139, 12274166, 12274192, 12274200, 12274218, 12274295, 12425329, 12446167, 12450931, 12483816, 12507547, 12558964, 12690061, 12724255, 12959103, 13015884, 13017629, 13017904, 13017951, 13017970, 13017973, 13017990, 13018004, 13018017, 13053017, 13084505, 13130853, 13142177, 13284652, 13327609, 13331704, 13348998, 13362575, 13368043, 13437682, 13453461, 13454093, 13467157, 13473820, 13490286, 13584096, 13589474, 13589490, 13590021, 13626558, 13664986, 13672316, 13672681, 13673582, 13673632, 13673686, 13673757, 13673934, 13674085, 13674136, 13675927, 13675979, 13676002, 13676032, 13676096, 13676142, 13676188, 13676249, 13676309, 13676350, 13682597, 13683636, 13740954, 13798059, 13815397, 13822214, 13823180, 13824926, 13831684, 13842214, 13842876, 13942461, 13954053, 13997108, 14018700, 14071101, 14097509, 14130725, 14132361, 14146123, 14158369, 14213955, 14217204, 14235835, 14290884, 14292404, 14356474, 14372596, 14378900, 14392833, 14399034, 14402567, 14404642, 14442567, 14446830, 14477200, 14520336, 14579026, 14645774, 14694517, 14707715, 14720460, 14771920, 14785608, 14810991, 14921629, 15019630, 15032634, 15065439, 15101703, 15112583, 15114652, 15126989, 15158038, 15161313, 15182494, 15191824, 15206937, 15207036, 15208888, 15234689, 15291320, 15297693, 15333630, 15363819, 15393051, 15412762, 15420077, 15445353, 15445883, 15447440, 15461649, 15486630, 15499610, 15502498, 15572444, 15642544, 15662771, 15665075, 15667093, 15677708, 15685819, 15685912, 15704782, 15710326, 15720150, 15769471, 15769622, 15769659, 15815706, 15816248, 15821588, 15822964, 15828516, 15841984, 15844807, 15875037, 15926775, 15943672, 15962657, 16110032, 16233736, 16239404, 16240616, 16247504, 16257114, 16288111, 16297627, 16302012, 16311413, 16379995, 16466244, 16470734, 16488249, 16505341, 16549277, 16552062, 16573099, 16590122, 16597098, 16603968, 16613287, 16613296, 16622651, 16694332, 16700143, 16706750, 16732333, 16816732, 16819118, 16819125, 16819131, 16819134, 16819140, 16819151, 16819248, 16842968, 16863027, 16873105, 16913647, 17019611, 17022380, 17023897, 17031626, 17035255, 17039597, 17043690, 17050975, 17113313, 17120026, 17130955, 17133307, 17134833, 17136273, 17151529, 17166102, 17169260, 17176376, 17177253, 17192985, 17245095, 17253921, 17257555, 17271570, 17281958, 17311004, 17325482, 17334694, 17345914, 17349153, 17370206, 17370850, 17370917, 17371314, 17372321, 17373998, 17375753, 17392353, 17407852, 17410444, 17421565, 17429946, 17433833, 17450826, 17471714, 17522813, 17523881, 17530059, 17545989, 17584993, 17616536, 17657269, 17661412, 17661947, 17719928, 17720083, 17738687, 17743501, 17747896, 17753367, 17802074, 17816825, 17821569, 17823896, 17842971, 17843116, 17863546, 17875927, 17882005, 17885954, 17894202, 17930014, 17960932, 17966464, 17967450, 17967459, 17971433, 17978213, 17987891, 17990319, 17992812, 17994706, 18021647, 18026144, 18042963, 18060348, 18113582, 18140840, 18147276, 18147374, 18147399, 18156681, 18157270, 18161573, 18163072, 18163099, 18179066, 18208929, 18250019, 18256369, 18256375, 18256379, 18256394, 18283598, 18284159, 18298876, 18305763, 18307741, 18307889, 18308312, 18313773, 18315938, 18321485, 18331927, 18342819, 18346158, 18347703, 18347716, 18347753, 18347757, 18347776, 18347780, 18347796, 18347808, 18347809, 18347819, 18347820, 18347830, 18347831, 18347833, 18347834, 18347835, 18347836, 18347837, 18347844, 18347848, 18347863, 18347890, 18347935, 18347953, 18348379, 18348449, 18374998, 18406509, 18439881, 18464659, 18464813, 18466096, 18480370, 18594323, 18594390, 18641703, 18650560, 18663049, 18668507, 18716754, 18719477, 18741849, 18759998, 18760252, 18766720, 18766749, 18770944, 18776356, 18789638, 18792504, 18847064, 18855948, 18860383, 18863350, 18875792, 18877555, 18880248, 18893322, 18897919, 18899486, 18899500, 18905432, 18912995, 18920956, 18922546, 18925373, 18943563, 18943607, 18976211, 18977208, 18991900, 19019153, 19028203, 19031064, 19042106, 19043830, 19047934, 19145311, 19155669, 19192813, 19209142, 19245461, 19253018, 19253326, 19256834, 19265543, 19279270, 19290493, 19290857, 19310217, 19315261, 19402176, 19413101, 19416940, 19438691, 19461377, 19483656, 19486292, 19533665, 19536993, 19551890, 19568296, 19586313, 19594758, 19611351, 19617580, 19655424, 19657914, 19666238, 19668251, 19716327, 19720958, 19722963, 19797387, 19800404, 19815415, 19843335, 19861191, 19871264, 19871573, 19890267, 19904939, 19922160, 19926831, 19928869, 19935960, 19936172, 19936363, 19936368, 19941935, 19969997, 19971311, 19974437, 19985677, 19993243, 20009186, 20014237, 20017176, 20059805, 20081132, 20083979, 20084708, 20085049, 20102452, 20107267, 20110067, 20140116, 20145500, 20172887, 20172997, 20190582, 20204282, 20209910, 20233854, 20234539, 20307753, 20326496, 20352787, 20360386, 20376798, 20466430, 20468480, 20498312, 20510065, 20516845, 20623750, 20630561, 20662496, 20666273, 20744986, 20747799, 20773921, 20776072, 20778930, 20785013, 20791019, 20802859, 20803052, 20839085, 20850906, 20867992, 20904766, 20916876, 20921195, 20973262, 21005471, 21029182, 21055344, 21055409, 21055520, 21055609, 21055767, 21138460, 21186073, 21198535, 21250701, 21286161, 21297458, 21324924, 21332563, 21332670, 21333175, 21351796, 21368827, 21375917, 21426890, 21439066, 21454570, 21479995, 21483460, 21486653, 21501997, 21503580, 21513228, 21525059, 21531004, 21565866, 21573444, 21582428, 21607123, 21628863, 21635031, 21649753, 21731412, 21731462, 21733688, 21740473, 21751536, 21751817, 21764500, 21796485, 21808150, 21819002, 21824450, 21877288, 21877506, 21877574, 21939352, 21949381, 21958988, 21967079, 21967100, 22024501, 22031371, 22046463, 22057235, 22070439, 22130851, 22133520, 22200396, 22200599, 22201268, 22201414, 22249364, 22304113, 22342780, 22351703, 22363055, 22382594, 22385109, 22408078, 22409005, 22413016, 22413375, 22414284, 22418898, 22427391, 22432227, 22433156, 22438483, 22487050, 22488218, 22488569, 22510111, 22511552, 22517790, 22540162, 22564042, 22564246, 22566258, 22568832, 22574075, 22592843, 22637103, 22679171, 22734535, 22785135, 22795840, 22806496, 22807429, 22810929, 22810940, 22811022, 22847718, 22848448, 22869331, 22874770, 22877515, 22899058, 22907418, 22954041, 22955441, 22955967, 22956868, 22958987, 22963764, 22971355, 22975621, 22976387, 22976557, 22978009, 22978925, 22979053, 22979589, 22979778, 22979980, 22980130, 22991406, 23011180, 23022199, 23041236, 23043633, 23069693, 23069956, 23070140, 23070164, 23070377, 23070395, 23101765, 23125600, 23141735, 23156104, 23171098, 23174714, 23176166, 23176783, 23176971, 23203100, 23203118, 23221705, 23221789, 23344605, 23365123, 23455079, 23457285, 23465101, 23492503, 23494511, 23495190, 23505725, 23508645, 23510942, 23511999, 23512541, 23517830, 23526204, 23544263, 23545481, 23586678, 23591572, 23597027, 23597850, 23599168, 23601234, 23617987, 23627092, 23690656, 23698027, 23729229, 23730491, 23740056, 23772241, 23809347, 23821898, 23854438, 23858731, 23862566, 23892410, 23916841, 23921884, 23924111, 23928229, 23944319, 23949254, 23992030, 23992434, 23992616, 23995504, 23999481, 23999955, 24007929, 24020277, 24020715, 24020847, 24036497, 24036503, 24055623, 24059189 ] } }, { \"terms\": { \"_name\": \"note:authorized:project:issues:enabled_or_private\", \"issues_access_level\": [ 20, 10 ] } } ] } } } } } }, { \"term\": { \"noteable_type\": { \"_name\": \"note:authorized:noteable:is_a:Issue\", \"value\": \"Issue\" } } } ] } }, { \"bool\": { \"must\": [ { \"has_parent\": { \"parent_type\": \"project\", \"query\": { \"bool\": { \"should\": { \"bool\": { \"_name\": \"note:authorized:project:merge_requests\", \"filter\": [ { \"terms\": { \"_name\": \"note:authorized:project:merge_requests:membership:id\", \"id\": [ 13083, 13764, 14022, 14289, 19776, 20086, 20699, 23081, 27468, 27470, 27726, 32732, 36743, 72724, 74823, 83282, 95156, 116212, 145205, 150440, 227582, 250324, 250833, 278964, 280425, 387896, 430285, 443787, 444821, 480929, 554859, 593728, 684698, 730448, 734943, 766015, 818896, 876090, 928825, 931715, 998792, 1075790, 1254421, 1265999, 1329047, 1379171, 1441932, 1470839, 1507906, 1777822, 1794617, 1911766, 1990920, 2009901, 2127625, 2317465, 2337675, 2383700, 2651596, 2670515, 2694799, 2725567, 2890326, 2903741, 2953390, 3010986, 3010998, 3094319, 3101096, 3362933, 3430480, 3466815, 3588247, 3605985, 3631141, 3651684, 3662668, 3828396, 3842996, 3843116, 3844141, 3871132, 3871556, 3885956, 3885980, 3933206, 3933372, 3991945, 4108541, 4149988, 4157550, 4176070, 4262096, 4341757, 4359271, 4456656, 4492386, 4534254, 4542834, 4562632, 4685354, 4793514, 4870361, 4875494, 4894834, 4904157, 4921652, 4949400, 5019307, 5064907, 5191294, 5261717, 5279538, 5408708, 5417931, 5420758, 5444181, 5456231, 5457651, 5457755, 5465687, 5467143, 5467277, 5474112, 5509547, 5617895, 5635189, 5647182, 5677844, 5727416, 5737157, 5742170, 5772881, 5777179, 5777819, 5777853, 5777918, 5777939, 5777952, 5777954, 5777976, 5778037, 5778044, 5778056, 5778074, 5778093, 5778095, 5828233, 5849726, 5851774, 5964710, 5976131, 5981322, 5994307, 5996549, 6043225, 6043227, 6047528, 6057676, 6126012, 6130122, 6143038, 6168240, 6185025, 6237085, 6237088, 6237091, 6250233, 6329679, 6374580, 6374588, 6374596, 6388398, 6392811, 6457868, 6523803, 6523862, 6535935, 6802300, 7071043, 7071551, 7145793, 7453181, 7523614, 7524061, 7540679, 7560116, 7560137, 7602162, 7660893, 7688358, 7745145, 7750063, 7776928, 7792567, 7937396, 7951712, 7963964, 8057910, 8262564, 8343284, 8362868, 8368695, 8368700, 8377576, 8671969, 8987255, 9049889, 9134345, 9149724, 9184510, 9223256, 9223291, 9281155, 9353893, 9358979, 9359704, 9396716, 9438583, 9450192, 9450195, 9450197, 9492132, 9762266, 9870184, 9927571, 10024275, 10071001, 10071132, 10304488, 10400718, 10472408, 10476326, 10506825, 10523039, 10586771, 10614162, 10619765, 10633620, 10747057, 10748426, 10833541, 10846938, 10861561, 10947320, 10947578, 10953870, 10973541, 11015994, 11047304, 11067315, 11080193, 11139665, 11146000, 11173751, 11196060, 11203076, 11229385, 11261137, 11316755, 11317506, 11373038, 11380952, 11432834, 11446522, 11449672, 11511606, 11520423, 11533294, 11574953, 11625232, 11688089, 11745002, 11758351, 11869718, 11880131, 11915984, 11925674, 11925677, 11925682, 11925685, 11925689, 11925692, 11925695, 11925697, 11925699, 11925701, 11925704, 11925705, 11925708, 11925710, 11925713, 11997420, 12006272, 12051231, 12051824, 12075545, 12104213, 12106293, 12138769, 12193672, 12193723, 12233892, 12270872, 12271982, 12271993, 12271995, 12271997, 12272000, 12272001, 12272002, 12272003, 12272004, 12272005, 12272006, 12272007, 12272008, 12272009, 12272010, 12272011, 12272014, 12272015, 12272016, 12272018, 12272019, 12272024, 12272025, 12272030, 12272032, 12272040, 12272049, 12272051, 12272053, 12272056, 12272064, 12272066, 12272071, 12272093, 12272095, 12272119, 12272164, 12272174, 12272200, 12272586, 12272605, 12273972, 12273973, 12273975, 12273978, 12273983, 12273988, 12273995, 12273999, 12274019, 12274036, 12274047, 12274048, 12274049, 12274053, 12274058, 12274059, 12274061, 12274062, 12274065, 12274066, 12274067, 12274068, 12274070, 12274076, 12274078, 12274079, 12274081, 12274089, 12274094, 12274099, 12274104, 12274109, 12274122, 12274127, 12274139, 12274166, 12274192, 12274200, 12274218, 12274295, 12425329, 12446167, 12450931, 12483816, 12507547, 12558964, 12690061, 12724255, 12959103, 13015884, 13017629, 13017904, 13017938, 13017951, 13017970, 13017973, 13017990, 13018004, 13018017, 13053017, 13084505, 13130853, 13142177, 13150952, 13327609, 13331704, 13348998, 13362575, 13368043, 13437682, 13453461, 13454093, 13467157, 13473820, 13490286, 13566613, 13584096, 13589474, 13589490, 13590021, 13626558, 13664986, 13672316, 13672681, 13673582, 13673632, 13673686, 13673757, 13673934, 13674085, 13674136, 13675927, 13675979, 13676002, 13676032, 13676096, 13676142, 13676188, 13676249, 13676309, 13676350, 13682597, 13683636, 13740954, 13798059, 13815397, 13822214, 13823180, 13824926, 13831684, 13842214, 13842876, 13922331, 13942461, 13954053, 13997108, 14018700, 14071101, 14097509, 14130725, 14132361, 14146123, 14158369, 14213955, 14217204, 14235835, 14240586, 14290884, 14292404, 14356474, 14372596, 14378266, 14378900, 14392833, 14399034, 14402567, 14404642, 14442567, 14446830, 14477200, 14520336, 14579026, 14645774, 14694517, 14720460, 14771920, 14785608, 14810991, 14849194, 14853550, 14921629, 15019630, 15032634, 15065439, 15101703, 15112583, 15114652, 15126989, 15158038, 15161313, 15182494, 15191824, 15206937, 15207036, 15208888, 15232184, 15234689, 15291320, 15297693, 15333630, 15363819, 15369510, 15393051, 15412762, 15420077, 15445353, 15445883, 15447440, 15461649, 15486630, 15499610, 15502498, 15572444, 15642544, 15662771, 15665075, 15667093, 15677708, 15685819, 15685887, 15685912, 15704133, 15704782, 15710326, 15720150, 15769471, 15769622, 15769659, 15787276, 15815706, 15816248, 15821588, 15822964, 15828516, 15830549, 15841984, 15844807, 15875037, 15926775, 15943672, 15962657, 16110032, 16239404, 16240616, 16247504, 16257114, 16288111, 16297627, 16302012, 16311413, 16379995, 16466244, 16470734, 16488249, 16505341, 16513043, 16549277, 16552062, 16573099, 16590122, 16597098, 16603968, 16613287, 16613296, 16622651, 16683102, 16694332, 16700143, 16706750, 16732333, 16816732, 16819118, 16819125, 16819131, 16819134, 16819140, 16819151, 16819248, 16842968, 16863027, 16873105, 16873326, 16883353, 16895122, 16913647, 17019611, 17022380, 17023897, 17031626, 17035255, 17039597, 17043690, 17050975, 17113313, 17120026, 17130955, 17133307, 17134833, 17136273, 17151529, 17166102, 17169260, 17172530, 17176376, 17181705, 17192985, 17210811, 17245095, 17253921, 17257555, 17271570, 17281958, 17311004, 17325482, 17334694, 17345914, 17349153, 17370206, 17370850, 17370917, 17371314, 17372321, 17373998, 17375753, 17392353, 17407852, 17410444, 17421565, 17429946, 17433833, 17450826, 17471714, 17522813, 17523881, 17530059, 17545989, 17584993, 17616536, 17657269, 17661412, 17661947, 17668435, 17719928, 17720083, 17738687, 17743501, 17747896, 17753367, 17802074, 17816825, 17821569, 17823896, 17842971, 17843116, 17863546, 17875927, 17882005, 17885954, 17894202, 17895630, 17930014, 17960932, 17966464, 17967450, 17967459, 17971433, 17978213, 17987891, 17990319, 17992812, 17994706, 18011059, 18021647, 18026144, 18042963, 18060348, 18113582, 18140840, 18147276, 18147374, 18147399, 18156681, 18157270, 18161573, 18163072, 18163099, 18179066, 18208929, 18250019, 18256369, 18256375, 18256379, 18256394, 18283598, 18284159, 18298876, 18305763, 18307741, 18307889, 18308312, 18313773, 18315938, 18321485, 18331927, 18342819, 18346158, 18347703, 18347716, 18347753, 18347757, 18347776, 18347780, 18347796, 18347808, 18347809, 18347819, 18347820, 18347830, 18347831, 18347833, 18347834, 18347835, 18347836, 18347837, 18347844, 18347848, 18347863, 18347890, 18347935, 18347953, 18348379, 18348449, 18374998, 18406509, 18439881, 18446184, 18449783, 18464659, 18464813, 18466096, 18480370, 18594323, 18594390, 18641703, 18650560, 18663049, 18668507, 18716754, 18719477, 18741849, 18759998, 18760252, 18766720, 18766749, 18770944, 18776356, 18789638, 18792504, 18847064, 18855948, 18860383, 18863350, 18875792, 18877555, 18880248, 18893322, 18897919, 18899486, 18899500, 18905432, 18912995, 18920956, 18922546, 18925373, 18943563, 18943607, 18976211, 18977208, 18991900, 19019153, 19028203, 19031064, 19042106, 19043830, 19047934, 19145311, 19155669, 19192813, 19209142, 19245461, 19253018, 19253326, 19256834, 19265543, 19279270, 19288614, 19290493, 19290857, 19310217, 19315261, 19376945, 19380509, 19402176, 19413012, 19413101, 19413496, 19416940, 19438691, 19461377, 19483656, 19486292, 19533665, 19536993, 19551890, 19568296, 19586313, 19594758, 19611351, 19617580, 19655424, 19657914, 19666238, 19668251, 19716327, 19720958, 19722963, 19797387, 19800404, 19815415, 19843335, 19861191, 19871264, 19871573, 19890267, 19904939, 19922160, 19926831, 19928869, 19935960, 19936172, 19936363, 19936368, 19941935, 19969997, 19971311, 19974437, 19985677, 19993243, 20009186, 20014237, 20017176, 20059805, 20081132, 20083979, 20084708, 20085049, 20102452, 20107267, 20110067, 20140116, 20145500, 20162469, 20172887, 20172997, 20190582, 20204282, 20209910, 20233854, 20234539, 20307753, 20326496, 20334170, 20336302, 20337863, 20352787, 20360386, 20376798, 20401626, 20466430, 20468480, 20495907, 20498312, 20510065, 20516845, 20604553, 20623750, 20630561, 20662496, 20666273, 20744986, 20747799, 20773921, 20776072, 20778930, 20785013, 20791019, 20802859, 20803052, 20839085, 20850906, 20851082, 20867992, 20904766, 20916876, 20921195, 20973262, 21005471, 21029182, 21055344, 21055409, 21055520, 21055609, 21055767, 21138460, 21186073, 21198535, 21224328, 21250701, 21286161, 21297458, 21324924, 21332563, 21332670, 21333175, 21351796, 21368827, 21375917, 21426890, 21439066, 21454570, 21479276, 21479995, 21483460, 21486653, 21501997, 21503580, 21513228, 21525059, 21531004, 21565866, 21573444, 21582428, 21607123, 21628863, 21635031, 21649753, 21731412, 21731462, 21733688, 21734866, 21740210, 21740473, 21751536, 21751817, 21764500, 21796485, 21808150, 21819002, 21824450, 21877288, 21877506, 21877574, 21939352, 21949381, 21958988, 21967079, 21967100, 22024501, 22031371, 22046463, 22070439, 22111360, 22130851, 22133520, 22200396, 22200599, 22201268, 22201414, 22217400, 22249364, 22304113, 22342780, 22363055, 22382594, 22385109, 22408078, 22409005, 22413016, 22413375, 22414284, 22418898, 22427391, 22432227, 22433156, 22438483, 22441624, 22487050, 22488218, 22488569, 22510111, 22511552, 22517790, 22540162, 22564042, 22564246, 22566258, 22568832, 22574075, 22592843, 22637103, 22679171, 22734535, 22785135, 22795840, 22806496, 22807429, 22810929, 22810940, 22811022, 22847718, 22848448, 22869331, 22874770, 22877515, 22899058, 22907418, 22954041, 22955441, 22955967, 22956868, 22958987, 22963764, 22971355, 22975621, 22976387, 22976557, 22978009, 22978925, 22979053, 22979589, 22979778, 22979980, 22980130, 22991406, 23011180, 23022199, 23041236, 23043633, 23052226, 23069693, 23069956, 23070140, 23070164, 23070377, 23070395, 23101765, 23125600, 23141735, 23156104, 23171098, 23174714, 23176166, 23176783, 23176971, 23203100, 23203118, 23221705, 23221789, 23344605, 23345837, 23365123, 23455079, 23457285, 23465101, 23492503, 23494511, 23495190, 23505725, 23508645, 23510942, 23511999, 23512541, 23517830, 23526204, 23544263, 23545481, 23586678, 23591572, 23597027, 23597850, 23599168, 23601234, 23617987, 23627092, 23690656, 23698027, 23729229, 23730491, 23740056, 23772241, 23809347, 23821898, 23838512, 23854438, 23858731, 23862566, 23892410, 23916841, 23921884, 23924111, 23928229, 23944319, 23949254, 23992030, 23992434, 23992616, 23995504, 23999481, 23999955, 24007929, 24020277, 24020715, 24020847, 24036497, 24036503, 24055623, 24059189, 24075172 ] } }, { \"terms\": { \"_name\": \"note:authorized:project:merge_requests:enabled_or_private\", \"merge_requests_access_level\": [ 20, 10 ] } } ] } } } } } }, { \"term\": { \"noteable_type\": { \"_name\": \"note:authorized:noteable:is_a:MergeRequest\", \"value\": \"MergeRequest\" } } } ] } }, { \"bool\": { \"must\": [ { \"has_parent\": { \"parent_type\": \"project\", \"query\": { \"bool\": { \"should\": { \"bool\": { \"_name\": \"note:authorized:project:snippets\", \"filter\": [ { \"terms\": { \"_name\": \"note:authorized:project:snippets:membership:id\", \"id\": [ 13083, 278964, 430285, 443787, 1441932, 1911766, 2009901, 2670515, 3362933, 3588247, 3605985, 3631141, 3651684, 3662668, 3828396, 3842996, 3843116, 3844141, 3871132, 3871556, 3885956, 3885980, 3933206, 3933372, 3991945, 4108541, 4149988, 4157550, 4176070, 4262096, 4341757, 4534254, 4542834, 4562632, 4685354, 4793514, 4870361, 4875494, 4894834, 4904157, 4921652, 4949400, 5019307, 5261717, 5408708, 5420758, 5456231, 5457651, 5457755, 5465687, 5467143, 5467277, 5474112, 5509547, 5617895, 5635189, 5677844, 5727416, 5737157, 5742170, 5772881, 5777179, 5777819, 5777853, 5777918, 5777939, 5777952, 5777954, 5777976, 5778037, 5778044, 5778056, 5778074, 5778093, 5778095, 5828233, 5849726, 5851774, 5945915, 5964710, 5976131, 5981322, 5994307, 5996549, 6043225, 6043227, 6057676, 6143038, 6168240, 6185025, 6237085, 6237091, 6250233, 6374580, 6374588, 6374596, 6388398, 6392811, 6523803, 7071043, 7071551, 7145793, 7523614, 7524061, 7540679, 7560116, 7560137, 7660893, 7688358, 7745145, 7750063, 7776928, 7792567, 7937396, 7951712, 7963964, 8057910, 8262564, 8343284, 8362868, 8368695, 8368700, 8377576, 8671969, 8987255, 9049889, 9134345, 9184510, 9223256, 9223291, 9281155, 9353893, 9358979, 9359704, 9396716, 9438583, 9450192, 9450195, 9762266, 9870184, 9927571, 10024275, 10071001, 10071132, 10400718, 10476326, 10506825, 10523039, 10586771, 10619765, 10633620, 10747057, 10748426, 10833541, 10947320, 10947578, 10953870, 10973541, 11015994, 11047304, 11080193, 11196060, 11203076, 11229385, 11261137, 11316755, 11317506, 11373038, 11380952, 11432834, 11446522, 11449672, 11520423, 11533294, 11574953, 11688089, 11745002, 11758351, 11869718, 11880131, 11915984, 11925674, 11925677, 11925682, 11925685, 11925689, 11925692, 11925695, 11925697, 11925699, 11925701, 11925704, 11925705, 11925708, 11925710, 11925713, 11997420, 12006272, 12051231, 12051824, 12104213, 12106293, 12138769, 12193672, 12193723, 12233892, 12270872, 12271982, 12271993, 12271995, 12271997, 12272000, 12272001, 12272002, 12272003, 12272004, 12272005, 12272006, 12272007, 12272008, 12272009, 12272010, 12272011, 12272014, 12272015, 12272016, 12272018, 12272019, 12272024, 12272025, 12272030, 12272032, 12272040, 12272049, 12272051, 12272053, 12272056, 12272064, 12272066, 12272071, 12272093, 12272095, 12272119, 12272164, 12272174, 12272200, 12272586, 12272605, 12273972, 12273973, 12273975, 12273978, 12273983, 12273988, 12273995, 12273999, 12274019, 12274036, 12274047, 12274048, 12274049, 12274053, 12274058, 12274059, 12274061, 12274062, 12274065, 12274066, 12274067, 12274068, 12274070, 12274076, 12274078, 12274079, 12274081, 12274089, 12274094, 12274099, 12274104, 12274109, 12274122, 12274127, 12274139, 12274166, 12274192, 12274200, 12274218, 12274295, 12425329, 12446167, 12450931, 12483816, 12507547, 12558964, 12690061, 12724255, 12959103, 13015884, 13017629, 13017904, 13017951, 13017970, 13017973, 13017990, 13018004, 13018017, 13053017, 13084505, 13130853, 13142177, 13327609, 13331704, 13348998, 13362575, 13368043, 13437682, 13453461, 13467157, 13473820, 13490286, 13584096, 13589474, 13589490, 13590021, 13626558, 13664986, 13672316, 13672681, 13673582, 13673632, 13673686, 13673757, 13673934, 13674085, 13674136, 13675927, 13675979, 13676002, 13676032, 13676096, 13676142, 13676188, 13676249, 13676309, 13676350, 13682597, 13683636, 13798059, 13815397, 13824926, 13831684, 13842214, 13842876, 13922331, 13942461, 13954053, 13997108, 14018700, 14071101, 14097509, 14130725, 14132361, 14146123, 14158369, 14217204, 14235835, 14240586, 14290884, 14356474, 14372596, 14378900, 14392833, 14399034, 14402567, 14404642, 14442567, 14446830, 14477200, 14520336, 14579026, 14645774, 14694517, 14720460, 14771920, 14785608, 14810991, 14921629, 15019630, 15032634, 15101703, 15112583, 15114652, 15126989, 15158038, 15161313, 15182494, 15191824, 15206937, 15207036, 15234689, 15291320, 15297693, 15363819, 15393051, 15412762, 15420077, 15445353, 15447440, 15461649, 15486630, 15499610, 15502498, 15572444, 15662771, 15665075, 15677708, 15704782, 15710326, 15720150, 15769471, 15769622, 15769659, 15815706, 15816248, 15821588, 15822964, 15828516, 15830549, 15841984, 15844807, 15875037, 15926775, 15943672, 15962657, 16110032, 16247504, 16257114, 16288111, 16297627, 16302012, 16311413, 16379995, 16466244, 16470734, 16488249, 16505341, 16513043, 16549277, 16573099, 16590122, 16597098, 16603968, 16613287, 16613296, 16622651, 16683102, 16694332, 16700143, 16732333, 16816732, 16819118, 16819125, 16819131, 16819134, 16819140, 16819151, 16819248, 16842968, 16873105, 17022380, 17023897, 17031626, 17035255, 17039597, 17043690, 17050975, 17113313, 17120026, 17130955, 17133307, 17134833, 17136273, 17151529, 17166102, 17169260, 17176376, 17181705, 17210811, 17245095, 17253921, 17257555, 17271570, 17281958, 17311004, 17325482, 17334694, 17345914, 17349153, 17370206, 17370850, 17370917, 17371314, 17372321, 17373998, 17375753, 17407852, 17410444, 17421565, 17429946, 17433833, 17450826, 17471714, 17522813, 17523881, 17530059, 17545989, 17584993, 17616536, 17657269, 17661412, 17661947, 17668435, 17719928, 17720083, 17738687, 17743501, 17747896, 17753367, 17802074, 17816825, 17821569, 17823896, 17842971, 17843116, 17875927, 17882005, 17894202, 17895630, 17930014, 17960932, 17966464, 17967450, 17967459, 17971433, 17978213, 17987891, 17990319, 17992812, 18021647, 18026144, 18042963, 18060348, 18113582, 18140840, 18147276, 18147374, 18147399, 18156681, 18157270, 18161573, 18163072, 18163099, 18179066, 18208929, 18250019, 18256369, 18256375, 18256379, 18256394, 18283598, 18284159, 18298876, 18305763, 18307741, 18307889, 18308312, 18313773, 18315938, 18321485, 18331927, 18342819, 18346158, 18347703, 18347716, 18347753, 18347757, 18347776, 18347780, 18347796, 18347808, 18347809, 18347819, 18347820, 18347830, 18347831, 18347833, 18347834, 18347835, 18347836, 18347837, 18347844, 18347848, 18347863, 18347890, 18347935, 18347953, 18348379, 18348449, 18374998, 18406509, 18439881, 18464813, 18466096, 18480370, 18594323, 18594390, 18641703, 18650560, 18663049, 18668507, 18716754, 18719477, 18741849, 18759998, 18760252, 18766720, 18766749, 18770944, 18776356, 18789638, 18792504, 18847064, 18855948, 18860383, 18863350, 18875792, 18877555, 18880248, 18893322, 18897919, 18899486, 18899500, 18905432, 18912995, 18920956, 18922546, 18943563, 18943607, 18976211, 18977208, 18991900, 19028203, 19031064, 19042106, 19043830, 19145311, 19155669, 19192813, 19209142, 19245461, 19253018, 19253326, 19256834, 19265543, 19279270, 19290493, 19290857, 19310217, 19315261, 19402176, 19413012, 19413101, 19416940, 19438691, 19461377, 19483656, 19486292, 19536993, 19551890, 19568296, 19586313, 19594758, 19611351, 19655424, 19657914, 19666238, 19668251, 19716327, 19720958, 19722963, 19800404, 19815415, 19843335, 19871264, 19871573, 19890267, 19904939, 19922160, 19926831, 19928869, 19936172, 19936363, 19936368, 19941935, 19969997, 19971311, 19974437, 19985677, 19993243, 20009186, 20014237, 20017176, 20059805, 20081132, 20083979, 20084708, 20085049, 20102452, 20107267, 20110067, 20140116, 20145500, 20172887, 20172997, 20190582, 20204282, 20209910, 20233854, 20307753, 20326496, 20352787, 20360386, 20466430, 20468480, 20498312, 20510065, 20516845, 20623750, 20630561, 20662496, 20666273, 20744986, 20747799, 20773921, 20776072, 20778930, 20785013, 20791019, 20802859, 20839085, 20850906, 20851082, 20867992, 20904766, 20916876, 20921195, 20973262, 21005471, 21029182, 21055344, 21055409, 21055520, 21055609, 21055767, 21138460, 21186073, 21198535, 21250701, 21286161, 21297458, 21324924, 21332563, 21332670, 21333175, 21351796, 21368827, 21375917, 21426890, 21439066, 21454570, 21479995, 21483460, 21486653, 21501997, 21503580, 21513228, 21525059, 21531004, 21565866, 21573444, 21607123, 21628863, 21635031, 21649753, 21731412, 21733688, 21740473, 21751536, 21751817, 21764500, 21796485, 21808150, 21819002, 21824450, 21877574, 21939352, 21949381, 21958988, 21967079, 21967100, 22024501, 22031371, 22046463, 22070439, 22130851, 22133520, 22200396, 22200599, 22201268, 22201414, 22249364, 22304113, 22342780, 22351703, 22363055, 22382594, 22385109, 22408078, 22409005, 22413016, 22413375, 22414284, 22418898, 22427391, 22432227, 22433156, 22438483, 22487050, 22488218, 22488569, 22510111, 22511552, 22517790, 22540162, 22564042, 22564246, 22566258, 22568832, 22574075, 22592843, 22637103, 22679171, 22734535, 22785135, 22795840, 22806496, 22807429, 22810929, 22810940, 22811022, 22847718, 22848448, 22869331, 22874770, 22877515, 22899058, 22907418, 22954041, 22955441, 22955967, 22956868, 22958987, 22963764, 22971355, 22975621, 22976387, 22976557, 22978009, 22978925, 22979053, 22979589, 22979778, 22979980, 22980130, 22991406, 23011180, 23022199, 23041236, 23043633, 23069693, 23069956, 23070140, 23070164, 23070377, 23070395, 23101765, 23125600, 23141735, 23156104, 23174714, 23176166, 23176783, 23176971, 23203100, 23203118, 23221705, 23221789, 23344605, 23365123, 23457285, 23465101, 23492503, 23494511, 23495190, 23505725, 23508645, 23510942, 23511999, 23512541, 23517830, 23526204, 23544263, 23586678, 23591572, 23597027, 23599168, 23601234, 23617987, 23627092, 23690656, 23698027, 23729229, 23730491, 23740056, 23772241, 23809347, 23821898, 23854438, 23858731, 23862566, 23892410, 23916841, 23921884, 23924111, 23928229, 23944319, 23949254, 23992030, 23992434, 23992616, 23995504, 23999955, 24007929, 24020277, 24020715, 24020847, 24036497, 24036503, 24055623, 24059189, 24075172 ] } }, { \"terms\": { \"_name\": \"note:authorized:project:snippets:enabled_or_private\", \"snippets_access_level\": [ 20, 10 ] } } ] } } } } } }, { \"term\": { \"noteable_type\": { \"_name\": \"note:authorized:noteable:is_a:Snippet\", \"value\": \"Snippet\" } } } ] } }, { \"bool\": { \"must\": [ { \"has_parent\": { \"parent_type\": \"project\", \"query\": { \"bool\": { \"should\": { \"bool\": { \"_name\": \"note:authorized:project:repository\", \"filter\": [ { \"terms\": { \"_name\": \"note:authorized:project:repository:membership:id\", \"id\": [ 13083, 13764, 14022, 14288, 14289, 19776, 20086, 20699, 23081, 27468, 27470, 27726, 29286, 32732, 36743, 72724, 74823, 83282, 95156, 116212, 143237, 145205, 150440, 227582, 250324, 250833, 278964, 280425, 387896, 430285, 443787, 444821, 480929, 554859, 593728, 684698, 730448, 734943, 766015, 818896, 876090, 928825, 931715, 998792, 1075790, 1254421, 1265999, 1329047, 1379171, 1441932, 1470839, 1507906, 1777822, 1794617, 1911766, 1990920, 2009901, 2127625, 2317465, 2337675, 2383700, 2645585, 2645607, 2645621, 2645625, 2651596, 2670515, 2694799, 2715353, 2715372, 2715423, 2716906, 2725567, 2871980, 2890326, 2903741, 2953390, 3010986, 3010998, 3094319, 3101096, 3362933, 3430480, 3466815, 3588247, 3605985, 3631141, 3651684, 3662668, 3698388, 3828396, 3842996, 3843116, 3844141, 3871132, 3871556, 3885956, 3885980, 3933206, 3933372, 3991945, 4108541, 4121724, 4149988, 4157550, 4176070, 4186742, 4262096, 4341757, 4359271, 4456656, 4492386, 4534254, 4542834, 4562632, 4685354, 4793514, 4870361, 4875494, 4894834, 4904157, 4921652, 4949400, 5019307, 5064907, 5191294, 5261717, 5279538, 5382660, 5408708, 5417931, 5420758, 5444181, 5456231, 5457651, 5457755, 5465687, 5467143, 5467277, 5474112, 5509547, 5617895, 5635189, 5647182, 5677844, 5727416, 5737157, 5742170, 5772881, 5777179, 5777819, 5777853, 5777918, 5777939, 5777952, 5777954, 5777976, 5778037, 5778044, 5778056, 5778074, 5778093, 5778095, 5828233, 5849726, 5851774, 5964710, 5976131, 5981322, 5994307, 5996549, 6043225, 6043227, 6047528, 6057676, 6126012, 6130122, 6143038, 6168240, 6185025, 6237085, 6237088, 6237091, 6250233, 6329679, 6374580, 6374588, 6374596, 6388398, 6392811, 6457868, 6523803, 6523862, 6535935, 6802300, 7071043, 7071551, 7145793, 7453181, 7523614, 7524061, 7540679, 7560116, 7560137, 7602162, 7660893, 7682093, 7688358, 7745145, 7750063, 7776928, 7792567, 7937396, 7951712, 7963964, 8057910, 8262564, 8343284, 8362868, 8368695, 8368700, 8377576, 8671969, 8987255, 9045270, 9049889, 9134345, 9149724, 9184510, 9223256, 9223291, 9281155, 9353893, 9358979, 9359704, 9396716, 9438583, 9450192, 9450195, 9450197, 9492132, 9762266, 9870184, 9927571, 10024275, 10071001, 10071132, 10304488, 10400718, 10472408, 10476326, 10506825, 10523039, 10586771, 10614162, 10619765, 10633620, 10747057, 10748426, 10833541, 10846938, 10861561, 10947320, 10947578, 10953870, 10973541, 11015994, 11047304, 11067315, 11080193, 11139665, 11146000, 11173751, 11196060, 11203076, 11229385, 11261137, 11316755, 11317506, 11373038, 11380952, 11432834, 11446522, 11449672, 11511606, 11520423, 11533294, 11574953, 11625232, 11688089, 11745002, 11758351, 11869718, 11880131, 11915984, 11925674, 11925677, 11925682, 11925685, 11925689, 11925692, 11925695, 11925697, 11925699, 11925701, 11925704, 11925705, 11925708, 11925710, 11925713, 11997420, 12006272, 12051231, 12051824, 12075545, 12104213, 12106293, 12138769, 12193672, 12193723, 12233892, 12270872, 12271982, 12271993, 12271995, 12271997, 12272000, 12272001, 12272002, 12272003, 12272004, 12272005, 12272006, 12272007, 12272008, 12272009, 12272010, 12272011, 12272014, 12272015, 12272016, 12272018, 12272019, 12272024, 12272025, 12272030, 12272032, 12272040, 12272049, 12272051, 12272053, 12272056, 12272064, 12272066, 12272071, 12272093, 12272095, 12272119, 12272164, 12272174, 12272200, 12272586, 12272605, 12273972, 12273973, 12273975, 12273978, 12273983, 12273988, 12273995, 12273999, 12274019, 12274036, 12274047, 12274048, 12274049, 12274053, 12274058, 12274059, 12274061, 12274062, 12274065, 12274066, 12274067, 12274068, 12274070, 12274076, 12274078, 12274079, 12274081, 12274089, 12274094, 12274099, 12274104, 12274109, 12274122, 12274127, 12274139, 12274166, 12274192, 12274200, 12274218, 12274295, 12425329, 12446167, 12450931, 12483816, 12507547, 12558964, 12690061, 12724255, 12959103, 13015884, 13017629, 13017904, 13017938, 13017951, 13017970, 13017973, 13017990, 13018004, 13018017, 13053017, 13084505, 13130853, 13142177, 13150952, 13284652, 13327609, 13331704, 13348998, 13362575, 13368043, 13437682, 13453461, 13454093, 13467157, 13473820, 13490286, 13566613, 13584096, 13589474, 13589490, 13590021, 13626558, 13664986, 13672316, 13672681, 13673582, 13673632, 13673686, 13673757, 13673934, 13674085, 13674136, 13675927, 13675979, 13676002, 13676032, 13676096, 13676142, 13676188, 13676249, 13676309, 13676350, 13682597, 13683636, 13740954, 13798059, 13815397, 13822214, 13823180, 13824926, 13831684, 13842214, 13842876, 13922331, 13942461, 13954053, 13997108, 14018700, 14071101, 14097509, 14130725, 14132361, 14146123, 14158369, 14213955, 14217204, 14235835, 14240586, 14290884, 14292404, 14356474, 14372596, 14378266, 14378900, 14392833, 14399034, 14402567, 14404642, 14442567, 14446830, 14477200, 14520336, 14579026, 14588374, 14645774, 14694517, 14707715, 14720460, 14771920, 14785608, 14810991, 14849194, 14853550, 14921629, 15019630, 15032634, 15065439, 15101703, 15112583, 15114652, 15126989, 15158038, 15161313, 15182494, 15191824, 15206937, 15207036, 15208888, 15232184, 15234689, 15291320, 15297693, 15333630, 15363819, 15369510, 15393051, 15412762, 15420077, 15445353, 15445883, 15447440, 15461649, 15486630, 15499610, 15502498, 15572444, 15642544, 15662771, 15665075, 15667093, 15677708, 15683922, 15685819, 15685887, 15685912, 15704133, 15704782, 15710326, 15720150, 15769471, 15769622, 15769659, 15787276, 15815706, 15816248, 15821588, 15822964, 15828516, 15830549, 15841984, 15844807, 15875037, 15926775, 15943672, 15962657, 16110032, 16239404, 16240616, 16247504, 16257114, 16288111, 16297627, 16302012, 16311413, 16379995, 16466244, 16470734, 16488249, 16505341, 16513043, 16549277, 16552062, 16573099, 16590122, 16597098, 16603968, 16613287, 16613296, 16622651, 16683102, 16694332, 16700143, 16706750, 16732333, 16816732, 16819118, 16819125, 16819131, 16819134, 16819140, 16819151, 16819248, 16842968, 16863027, 16873105, 16873326, 16883353, 16895122, 16913647, 17019611, 17022380, 17023897, 17031626, 17035255, 17039597, 17043690, 17050975, 17113313, 17120026, 17130955, 17133307, 17134833, 17136273, 17151529, 17166102, 17169260, 17172530, 17176376, 17181705, 17192985, 17210811, 17245095, 17253921, 17257555, 17271570, 17281958, 17311004, 17325482, 17334694, 17345914, 17349153, 17370206, 17370850, 17370917, 17371314, 17372321, 17373998, 17375753, 17392353, 17407852, 17410444, 17421565, 17429946, 17433833, 17450826, 17471714, 17522813, 17523881, 17530059, 17545989, 17584993, 17616536, 17657269, 17661412, 17661947, 17668435, 17719928, 17720083, 17738687, 17743501, 17747896, 17753367, 17802074, 17816825, 17821569, 17823896, 17842971, 17843116, 17863546, 17875927, 17882005, 17885954, 17894202, 17895630, 17930014, 17960932, 17966464, 17967450, 17967459, 17971433, 17978213, 17987891, 17990319, 17992812, 17994706, 18011059, 18021647, 18026144, 18042963, 18060348, 18113582, 18140840, 18147276, 18147374, 18147399, 18156681, 18157270, 18161573, 18163072, 18163099, 18179066, 18208929, 18250019, 18256369, 18256375, 18256379, 18256394, 18283598, 18284159, 18298876, 18305763, 18307741, 18307889, 18308312, 18313773, 18315938, 18321485, 18331927, 18342819, 18346158, 18347703, 18347716, 18347753, 18347757, 18347776, 18347780, 18347796, 18347808, 18347809, 18347819, 18347820, 18347830, 18347831, 18347833, 18347834, 18347835, 18347836, 18347837, 18347844, 18347848, 18347863, 18347890, 18347935, 18347953, 18348379, 18348449, 18374998, 18406509, 18439881, 18446184, 18449783, 18464659, 18464813, 18466096, 18480370, 18594323, 18594390, 18629149, 18641703, 18650560, 18663049, 18668507, 18716754, 18719477, 18741849, 18759998, 18760252, 18766720, 18766749, 18770944, 18776356, 18789638, 18792504, 18847064, 18855948, 18860383, 18863350, 18875792, 18877555, 18880248, 18893322, 18897919, 18899486, 18899500, 18905432, 18912995, 18920956, 18922546, 18925373, 18943563, 18943607, 18976211, 18977208, 18991900, 19019153, 19028203, 19031064, 19042106, 19043830, 19047934, 19145311, 19155669, 19192813, 19209142, 19245461, 19253018, 19253326, 19256834, 19265543, 19279270, 19288614, 19290493, 19290857, 19310217, 19315261, 19376945, 19380509, 19402176, 19413012, 19413101, 19413496, 19416940, 19438691, 19461377, 19483656, 19486292, 19533665, 19536993, 19551890, 19568296, 19586313, 19594758, 19611351, 19617580, 19655424, 19657914, 19666238, 19668251, 19716327, 19720958, 19722963, 19797387, 19800404, 19815415, 19843335, 19861191, 19871264, 19871573, 19890267, 19904939, 19922160, 19926831, 19928869, 19935960, 19936172, 19936363, 19936368, 19941935, 19969997, 19971311, 19974437, 19985677, 19993243, 20009186, 20014237, 20017176, 20059805, 20081132, 20083979, 20084708, 20085049, 20102452, 20107267, 20110067, 20140116, 20145500, 20162469, 20172887, 20172997, 20190582, 20204282, 20209910, 20233854, 20234539, 20307753, 20326496, 20334170, 20336302, 20337863, 20352787, 20360386, 20376798, 20401626, 20466430, 20468480, 20495907, 20498312, 20510065, 20516845, 20604553, 20623750, 20630561, 20662496, 20666273, 20744986, 20747799, 20773921, 20776072, 20778930, 20785013, 20791019, 20802859, 20803052, 20839085, 20842531, 20850906, 20851082, 20867992, 20904766, 20916876, 20921195, 20973262, 21005471, 21029182, 21055344, 21055409, 21055520, 21055609, 21055767, 21138460, 21186073, 21198535, 21224328, 21250701, 21286161, 21297458, 21324924, 21332563, 21332670, 21333175, 21351796, 21368827, 21375917, 21426890, 21439066, 21454570, 21479276, 21479995, 21483460, 21486653, 21501997, 21503580, 21513228, 21525059, 21531004, 21565866, 21573444, 21582428, 21607123, 21628863, 21635031, 21649753, 21731412, 21731462, 21733688, 21734866, 21740210, 21740473, 21751536, 21751817, 21764500, 21796485, 21808150, 21819002, 21824450, 21877288, 21877506, 21877574, 21939352, 21949381, 21958988, 21967079, 21967100, 22024501, 22031371, 22046463, 22070439, 22111360, 22130851, 22133520, 22200396, 22200599, 22201268, 22201414, 22217400, 22249364, 22304113, 22342780, 22363055, 22382594, 22385109, 22408078, 22409005, 22413016, 22413375, 22414284, 22418898, 22427391, 22432227, 22433156, 22438483, 22441624, 22487050, 22488218, 22488569, 22510111, 22511552, 22517790, 22540162, 22564042, 22564246, 22566258, 22568832, 22574075, 22592843, 22637103, 22679171, 22734535, 22785135, 22795840, 22806496, 22807429, 22810929, 22810940, 22811022, 22847718, 22848448, 22869331, 22874770, 22877515, 22899058, 22907418, 22954041, 22955441, 22955967, 22956868, 22958987, 22963764, 22971355, 22975621, 22976387, 22976557, 22978009, 22978925, 22979053, 22979589, 22979778, 22979980, 22980130, 22991406, 23011180, 23022199, 23041236, 23043633, 23052226, 23069693, 23069956, 23070140, 23070164, 23070377, 23070395, 23101765, 23125600, 23141735, 23156104, 23171098, 23174714, 23176166, 23176783, 23176971, 23203100, 23203118, 23221705, 23221789, 23344605, 23345837, 23365123, 23455079, 23457285, 23465101, 23492503, 23494511, 23495190, 23505725, 23508645, 23510942, 23511999, 23512541, 23517830, 23526204, 23544263, 23545481, 23586678, 23591572, 23597027, 23597850, 23599168, 23601234, 23617987, 23627092, 23690656, 23698027, 23729229, 23730491, 23740056, 23772241, 23809347, 23821898, 23838512, 23854438, 23858731, 23862566, 23892410, 23916841, 23921884, 23924111, 23928229, 23944319, 23949254, 23992030, 23992434, 23992616, 23995504, 23999481, 23999955, 24007929, 24020277, 24020715, 24020847, 24036497, 24036503, 24055623, 24059189, 24075172 ] } }, { \"terms\": { \"_name\": \"note:authorized:project:repository:enabled_or_private\", \"repository_access_level\": [ 20, 10 ] } } ] } } } } } }, { \"term\": { \"noteable_type\": { \"_name\": \"note:authorized:noteable:is_a:Commit\", \"value\": \"Commit\" } } } ] } } ] } }, { \"bool\": { \"should\": [ { \"bool\": { \"must\": [ { \"bool\": { \"_name\": \"note:confidentiality:issue:not_confidential\", \"should\": [ { \"bool\": { \"must_not\": [ { \"exists\": { \"field\": \"issue\" } } ] } }, { \"term\": { \"issue.confidential\": false } } ] } }, { \"bool\": { \"_name\": \"note:confidentiality:not_confidential\", \"should\": [ { \"bool\": { \"must_not\": [ { \"exists\": { \"field\": \"confidential\" } } ] } }, { \"term\": { \"confidential\": false } } ] } } ] } }, { \"bool\": { \"must\": [ { \"bool\": { \"should\": [ { \"term\": { \"issue.confidential\": { \"_name\": \"note:confidentiality:issue:confidential\", \"value\": true } } }, { \"term\": { \"confidential\": { \"_name\": \"note:confidentiality:confidential\", \"value\": true } } } ] } }, { \"bool\": { \"should\": [ { \"term\": { \"issue.author_id\": { \"_name\": \"note:confidentiality:as_author\", \"value\": 120073 } } }, { \"term\": { \"issue.assignee_id\": { \"_name\": \"note:confidentiality:as_assignee\", \"value\": 120073 } } }, { \"terms\": { \"_name\": \"note:confidentiality:project:membership:id\", \"project_id\": [ 24075172, 24059189, 24055623, 24036503, 24036497, 24020847, 24020715, 24020277, 24007929, 23999955, 23999481, 23995504, 23992616, 23992434, 23992030, 23949254, 23944319, 23928229, 23924111, 23921884, 23916841, 23892410, 23862566, 23858731, 23854438, 23838512, 23821898, 23809347, 23772241, 23740056, 23730491, 23729229, 23698027, 23690656, 23627092, 23617987, 23601234, 23599168, 23597850, 23597027, 23591572, 23586678, 23545481, 23544263, 23526204, 23517830, 23512541, 23511999, 23510942, 23508645, 23505725, 23495190, 23494511, 23492503, 23465101, 23457285, 23455079, 23365123, 23345837, 23344605, 23221789, 23221705, 23203118, 23203100, 23176971, 23176783, 23176166, 23174714, 23171098, 23156104, 23141735, 23125600, 23101765, 23070395, 23070377, 23070164, 23070140, 23069956, 23069693, 23052226, 23043633, 23041236, 23022199, 23011180, 22991406, 22980130, 22979980, 22979778, 22979589, 22979053, 22978925, 22978009, 22976557, 22976387, 22975621, 22971355, 22963764, 22958987, 22956868, 22955967, 22955441, 22954041, 22907418, 22899058, 22877515, 22874770, 22869331, 22848448, 22847718, 22811022, 22810940, 22810929, 22807429, 22806496, 22795840, 22785135, 22734535, 22679171, 22637103, 22592843, 22574075, 22568832, 22566258, 22564246, 22564042, 22540162, 22517790, 22511552, 22510111, 22488569, 22488218, 22487050, 22441624, 22438483, 22433156, 22432227, 22427391, 22418898, 22414284, 22413375, 22413016, 22409005, 22408078, 22385109, 22382594, 22363055, 22351703, 22342780, 22304113, 22249364, 22217400, 22201414, 22201268, 22200599, 22200396, 22133520, 22130851, 22111360, 22070439, 22057235, 22046463, 22031371, 22024501, 21967100, 21967079, 21958988, 21949381, 21939352, 21919181, 21877574, 21877506, 21877288, 21824450, 21819002, 21808150, 21796485, 21764500, 21751817, 21751536, 21740473, 21740210, 21734866, 21733688, 21731462, 21731412, 21649753, 21635031, 21628863, 21607123, 21582428, 21573444, 21565866, 21531004, 21525059, 21513228, 21503580, 21501997, 21486653, 21483460, 21479995, 21479276, 21454570, 21439066, 21426890, 21375917, 21368827, 21351796, 21333175, 21332670, 21332563, 21324924, 21297458, 21286161, 21250701, 21224328, 21198535, 21186073, 21138460, 21055767, 21055609, 21055520, 21055409, 21055344, 21029182, 21005471, 20973262, 20921195, 20916876, 20904766, 20867992, 20851082, 20850906, 20842531, 20839085, 20803052, 20802859, 20791019, 20785013, 20778930, 20776072, 20773921, 20747799, 20744986, 20666273, 20662496, 20632627, 20632621, 20632503, 20632493, 20632468, 20632461, 20630561, 20623750, 20604553, 20516845, 20510065, 20498312, 20495907, 20468480, 20466430, 20401626, 20376798, 20360386, 20352787, 20337863, 20336302, 20334170, 20326496, 20307753, 20234539, 20233854, 20209910, 20204282, 20190582, 20172997, 20172887, 20162469, 20145500, 20140116, 20110067, 20107267, 20102452, 20085049, 20084708, 20083979, 20081132, 20068713, 20059805, 20017176, 20014237, 20009186, 19993243, 19985677, 19974437, 19971311, 19969997, 19941935, 19936368, 19936363, 19936172, 19935960, 19928869, 19926831, 19922160, 19904939, 19890267, 19871573, 19871264, 19861191, 19843335, 19815415, 19800404, 19797387, 19722963, 19720958, 19716327, 19668251, 19666238, 19657914, 19655424, 19617580, 19611351, 19594758, 19586313, 19568296, 19551890, 19536993, 19533665, 19486292, 19483656, 19461377, 19438691, 19416940, 19413496, 19413101, 19413012, 19402176, 19380509, 19376945, 19315261, 19310217, 19290857, 19290493, 19288614, 19279270, 19265543, 19256834, 19253326, 19253018, 19245461, 19209142, 19192813, 19155669, 19145311, 19047934, 19043830, 19042106, 19031064, 19028203, 19019153, 18991900, 18977208, 18976211, 18943607, 18943563, 18925373, 18922546, 18920956, 18912995, 18905432, 18899500, 18899486, 18897919, 18893322, 18880248, 18877555, 18875792, 18863350, 18860383, 18855948, 18855526, 18847064, 18837720, 18792504, 18789638, 18776356, 18770944, 18766749, 18766720, 18760252, 18759998, 18741849, 18719477, 18716754, 18668507, 18663049, 18650560, 18641703, 18629149, 18594390, 18594323, 18480370, 18466096, 18464813, 18464659, 18449783, 18446184, 18439881, 18406509, 18374998, 18348449, 18348379, 18347953, 18347935, 18347890, 18347863, 18347848, 18347844, 18347837, 18347836, 18347835, 18347834, 18347833, 18347831, 18347830, 18347820, 18347819, 18347809, 18347808, 18347796, 18347780, 18347776, 18347757, 18347753, 18347716, 18347703, 18346158, 18342819, 18331927, 18321485, 18315938, 18313773, 18308312, 18307889, 18307741, 18305763, 18298876, 18284159, 18283598, 18256394, 18256379, 18256375, 18256369, 18250019, 18208929, 18179066, 18163099, 18163072, 18161573, 18157270, 18156681, 18147399, 18147374, 18147276, 18140840, 18113582, 18060348, 18042963, 18026144, 18021647, 18011059, 17994706, 17992812, 17990319, 17987891, 17978213, 17971433, 17967459, 17967450, 17966464, 17960932, 17930014, 17895630, 17894202, 17885954, 17882005, 17875927, 17863546, 17843116, 17842971, 17823896, 17821569, 17816825, 17802074, 17753367, 17747896, 17743501, 17738687, 17720083, 17719928, 17668435, 17661947, 17661412, 17657269, 17616536, 17584993, 17545989, 17530059, 17523881, 17522813, 17471714, 17450826, 17433833, 17429946, 17421565, 17410444, 17407852, 17392353, 17375753, 17373998, 17372321, 17371314, 17370917, 17370850, 17370206, 17349153, 17345914, 17334694, 17325482, 17311004, 17281958, 17271570, 17257555, 17253921, 17245095, 17210811, 17192985, 17181705, 17177253, 17176376, 17172530, 17169260, 17166102, 17151529, 17136273, 17134833, 17133307, 17130955, 17120026, 17113313, 17050975, 17043690, 17039597, 17035255, 17031626, 17023897, 17022380, 17019611, 16913647, 16895122, 16883353, 16873326, 16873105, 16863027, 16842968, 16819248, 16819151, 16819140, 16819134, 16819131, 16819125, 16819118, 16816732, 16732333, 16706750, 16700143, 16694332, 16683102, 16622651, 16613296, 16613287, 16603968, 16597098, 16590122, 16573099, 16552062, 16549277, 16513043, 16505341, 16488249, 16470734, 16466244, 16379995, 16311413, 16302012, 16297627, 16288111, 16257114, 16247504, 16240616, 16239404, 16233736, 16110032, 15962657, 15943672, 15926775, 15875037, 15844807, 15841984, 15841525, 15830549, 15828516, 15822964, 15821588, 15816248, 15815706, 15787276, 15769659, 15769622, 15769471, 15720150, 15710326, 15704782, 15704133, 15685912, 15685887, 15685819, 15683922, 15677708, 15667093, 15665075, 15662771, 15642544, 15572444, 15502498, 15499610, 15486630, 15461649, 15447440, 15445883, 15445353, 15420077, 15412762, 15393051, 15369510, 15363819, 15333630, 15297693, 15291320, 15234689, 15232184, 15208888, 15207036, 15206937, 15191824, 15182494, 15161313, 15158038, 15126989, 15114652, 15112583, 15101703, 15065439, 15032634, 15019630, 14921629, 14853550, 14849194, 14810991, 14785608, 14771920, 14720460, 14707715, 14694517, 14645774, 14588374, 14579026, 14520336, 14477200, 14446830, 14442567, 14404642, 14402567, 14399034, 14392833, 14378900, 14378266, 14372596, 14356474, 14292404, 14290884, 14240586, 14235835, 14217204, 14213955, 14158369, 14146123, 14132361, 14130725, 14097509, 14071101, 14018700, 13997108, 13954053, 13942461, 13922331, 13842876, 13842214, 13831684, 13824926, 13823180, 13822214, 13815397, 13798059, 13740954, 13683636, 13682597, 13676350, 13676309, 13676249, 13676188, 13676142, 13676096, 13676032, 13676002, 13675979, 13675927, 13674136, 13674085, 13673934, 13673757, 13673686, 13673632, 13673582, 13672681, 13672316, 13664986, 13626558, 13590021, 13589490, 13589474, 13584096, 13566613, 13490286, 13473820, 13467157, 13454093, 13453461, 13437682, 13368043, 13362575, 13348998, 13331704, 13327609, 13284652, 13150952, 13142177, 13130853, 13084505, 13053017, 13018017, 13018004, 13017990, 13017973, 13017970, 13017951, 13017938, 13017904, 13017629, 13015884, 12959103, 12724255, 12690061, 12558964, 12507547, 12483816, 12450931, 12446167, 12425329, 12274295, 12274218, 12274200, 12274192, 12274166, 12274139, 12274127, 12274122, 12274109, 12274104, 12274099, 12274094, 12274089, 12274081, 12274079, 12274078, 12274076, 12274070, 12274068, 12274067, 12274066, 12274065, 12274062, 12274061, 12274059, 12274058, 12274053, 12274049, 12274048, 12274047, 12274036, 12274019, 12273999, 12273995, 12273988, 12273983, 12273978, 12273975, 12273973, 12273972, 12272605, 12272586, 12272200, 12272174, 12272164, 12272119, 12272095, 12272093, 12272071, 12272066, 12272064, 12272056, 12272053, 12272051, 12272049, 12272040, 12272032, 12272030, 12272025, 12272024, 12272019, 12272018, 12272016, 12272015, 12272014, 12272011, 12272010, 12272009, 12272008, 12272007, 12272006, 12272005, 12272004, 12272003, 12272002, 12272001, 12272000, 12271997, 12271995, 12271993, 12271982, 12270872, 12233892, 12193723, 12193672, 12138769, 12106293, 12104213, 12075545, 12051824, 12051231, 12006272, 11997420, 11925713, 11925710, 11925708, 11925705, 11925704, 11925701, 11925699, 11925697, 11925695, 11925692, 11925689, 11925685, 11925682, 11925677, 11925674, 11915984, 11880131, 11869718, 11758351, 11745002, 11688089, 11625232, 11574953, 11533294, 11520423, 11511606, 11449672, 11446522, 11432834, 11380952, 11373038, 11322136, 11317506, 11316755, 11261137, 11229385, 11203076, 11196060, 11173751, 11146000, 11139665, 11080193, 11067315, 11047304, 11015994, 10973541, 10953870, 10947578, 10947320, 10861561, 10846938, 10833541, 10748426, 10747057, 10633620, 10619765, 10614162, 10586771, 10523039, 10506825, 10476326, 10472408, 10400718, 10304488, 10071132, 10071001, 10024275, 9927571, 9870184, 9762266, 9492132, 9450197, 9450195, 9450192, 9438583, 9396716, 9359704, 9358979, 9353893, 9281155, 9237774, 9223291, 9223256, 9184510, 9172481, 9149724, 9134345, 9049889, 9045270, 8987255, 8671969, 8377576, 8368700, 8368695, 8362868, 8343284, 8262564, 8057910, 7963964, 7951712, 7937396, 7792567, 7776928, 7750063, 7745145, 7688358, 7682093, 7660893, 7602162, 7560137, 7560116, 7540679, 7524061, 7523614, 7453181, 7243435, 7145793, 7071551, 7071043, 6802300, 6535935, 6523862, 6523803, 6457868, 6392811, 6388398, 6374596, 6374588, 6374580, 6329679, 6250233, 6237091, 6237088, 6237085, 6185025, 6168240, 6143038, 6130122, 6126012, 6057676, 6047528, 6043227, 6043225, 5996549, 5994307, 5981322, 5976131, 5964710, 5945915, 5851774, 5849726, 5828233, 5778095, 5778093, 5778074, 5778056, 5778044, 5778037, 5777976, 5777954, 5777952, 5777939, 5777918, 5777853, 5777819, 5777179, 5772881, 5742170, 5737157, 5727416, 5677844, 5647182, 5635189, 5617895, 5509547, 5474112, 5467277, 5467143, 5465687, 5457755, 5457651, 5456231, 5444181, 5420758, 5417931, 5408708, 5382660, 5351075, 5279538, 5261717, 5191294, 5064907, 5019307, 4949400, 4921652, 4904157, 4894834, 4875494, 4870361, 4793514, 4685354, 4562632, 4542834, 4534254, 4492386, 4456656, 4359271, 4341757, 4262096, 4186742, 4176070, 4157550, 4149988, 4121724, 4108541, 3991945, 3933372, 3933206, 3885980, 3885956, 3871556, 3871132, 3844141, 3843116, 3842996, 3828396, 3698388, 3662668, 3651684, 3631141, 3605985, 3588247, 3466815, 3430480, 3395064, 3362933, 3101096, 3094319, 3010998, 3010986, 2953390, 2903741, 2890326, 2871980, 2725567, 2716906, 2715423, 2715372, 2715353, 2694799, 2670515, 2651596, 2645625, 2645621, 2645607, 2645585, 2383700, 2337675, 2317465, 2127625, 2009901, 1990920, 1911766, 1794617, 1777822, 1507906, 1470839, 1441932, 1379171, 1329047, 1265999, 1254421, 1075790, 998792, 931715, 928825, 876090, 818896, 766015, 734943, 730448, 684698, 593728, 554859, 480929, 444821, 443787, 430285, 387896, 280425, 278964, 250833, 250324, 227582, 150440, 145205, 143237, 116212, 95156, 83282, 74823, 72724, 36743, 32732, 29286, 27726, 27470, 27468, 23081, 20699, 20086, 19776, 14289, 14288, 14022, 13764, 13083 ] } } ] } } ] } } ] } } ] } }, \"size\": 0 }'\n\ndef search(term, query, timeout: nil)\n  query = query.sub(\"\u003cQUERY\u003e\", term)\n\n  url = \"#{CLUSTER_URL}/#{INDEX}/_search\"\n  url += \"?timeout=#{timeout}\" if timeout\n  RestClient::Request.execute(method: :post, url: url, payload: query, headers: {content_type: :json, accept: :json}, timeout: 300)\nend\n\ndef concurrent_searches(timeout: nil)\n  threads = []\n\n  TERMS.each do |term|\n    threads \u003c\u003c Thread.new { search(term, BLOBS_QUERY, timeout: timeout) }\n    threads \u003c\u003c Thread.new { search(term, WIKI_BLOBS_QUERY, timeout: timeout) }\n    threads \u003c\u003c Thread.new { search(term, NOTES_QUERY, timeout: timeout) }\n  end\n\n  threads.each { |thread| thread.join }\nend\n\nBenchmark.bm(40) do |x|\n  x.report(\"no timeout (warmup)\") { concurrent_searches }\n  x.report(\"no timeout\") { concurrent_searches }\n  x.report(\"timeout=1s\") { concurrent_searches(timeout: '1s') }\n  x.report(\"timeout=5s\") { concurrent_searches(timeout: '5s') }\n  x.report(\"timeout=10s\") { concurrent_searches(timeout: '10s') }\nend\n```\n\n\u003c/details\u003e\n\n```\n                                               user     system      total        real\nno timeout (warmup)                        0.442852   0.055740   0.498592 ( 58.505819)\nno timeout                                 0.488786   0.066158   0.554944 ( 51.707479)\ntimeout=1s                                 0.610661   0.066515   0.677176 ( 20.290569)\ntimeout=5s                                 0.415424   0.035180   0.450604 ( 39.979972)\ntimeout=10s                                0.527192   0.054592   0.581784 ( 56.859809)\n```\n\n### Client side timeouts\n\nAt present the default timeouts for our Elasticsearch client are 60s. We can configure this in the admin UI too. But we could have a separate client side default for the count queries. I looked into this too as I wanted to ensure that if the client side times out and closes the connection it would additionally be quickly removed from the queue on the server side and thus quickly free up threads. This seemed to work as hoped and setting a client side timeout of 1s will massively improve throughput even further than the server side timeouts. But it will have the tradeoff that we won't get back a partial count. So it depends if we want the partial count or not as to whether we should use the client side timeout.\n\n\n### More examples of queuing causing problems\n\nThere is more evidence that these counts are causing queuing which is causing slow searches in https://gitlab.com/gitlab-org/gitlab/-/issues/292439#note_499088147 and https://gitlab.com/gitlab-org/gitlab/-/issues/292439#note_478042497","state":"closed","created_at":"2021-02-05T04:02:50.845Z","updated_at":"2022-05-30T17:04:56.315Z","closed_at":"2021-02-16T20:50:49.448Z","closed_by":{"id":4888751,"username":"changzhengliu","name":"Changzheng Liu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4888751/avatar.png","web_url":"https://gitlab.com/changzhengliu"},"labels":["Category:Global Search","SUS::FY22 Q1 - Done","bug::performance","devops::data_stores","group::global search","section::enablement"],"milestone":{"id":1233760,"iid":56,"group_id":9970,"title":"13.9","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.334Z","updated_at":"2022-04-21T07:21:28.468Z","due_date":"2021-02-17","start_date":"2021-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/56"},"assignees":[{"id":120073,"username":"DylanGriffith","name":"Dylan Griffith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/120073/avatar.png","web_url":"https://gitlab.com/DylanGriffith"}],"author":{"id":120073,"username":"DylanGriffith","name":"Dylan Griffith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/120073/avatar.png","web_url":"https://gitlab.com/DylanGriffith"},"type":"ISSUE","assignee":{"id":120073,"username":"DylanGriffith","name":"Dylan Griffith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/120073/avatar.png","web_url":"https://gitlab.com/DylanGriffith"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/301146","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/301146","notes":"https://gitlab.com/api/v4/projects/278964/issues/301146/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/301146/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#301146","relative":"#301146","full":"gitlab-org/gitlab#301146"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5240,"epic":{"id":184767,"iid":5240,"title":"Performance Improvements for Elasticsearch Latency","url":"/groups/gitlab-org/-/epics/5240","group_id":9970,"human_readable_end_date":"Sep 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":78464787,"iid":301142,"project_id":278964,"title":"Replace Namespace#self_and_descendants with linear version","description":"We are now storing the Namespace path from `root_ancestor` to `self` on each Namespace. We will utilize this information to replace each recursive method in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/52999/diffs#diff-content-0839a2056f0f574febc174249d73946c5c0965f1\n\nThis issue is to replace the `Namespace#self_and_descendants` with a linear version.\n\nNote that this work has previously been through [a significant review process](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/36025). Unfortunately the MR grew so large that it is now being split in to multiple MRs for the purpose of deployment.\n\nThis work will sit behind a `use_traversal_ids` feature flag.","state":"closed","created_at":"2021-02-05T02:35:20.275Z","updated_at":"2021-06-08T23:55:09.539Z","closed_at":"2021-06-08T23:55:09.522Z","closed_by":{"id":4092171,"username":"alexpooley","name":"Alex Pooley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4092171/avatar.png","web_url":"https://gitlab.com/alexpooley"},"labels":["SUS::FY22 Q1 - Incomplete","backend","bug::performance","devops::manage","group::authentication and authorization","section::dev","workflow::verification"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":4092171,"username":"alexpooley","name":"Alex Pooley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4092171/avatar.png","web_url":"https://gitlab.com/alexpooley"}],"author":{"id":4092171,"username":"alexpooley","name":"Alex Pooley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4092171/avatar.png","web_url":"https://gitlab.com/alexpooley"},"type":"ISSUE","assignee":{"id":4092171,"username":"alexpooley","name":"Alex Pooley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4092171/avatar.png","web_url":"https://gitlab.com/alexpooley"},"user_notes_count":2,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/301142","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/301142","notes":"https://gitlab.com/api/v4/projects/278964/issues/301142/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/301142/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#301142","relative":"#301142","full":"gitlab-org/gitlab#301142"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5296,"epic":{"id":190836,"iid":5296,"title":"Linear namespace queries","url":"/groups/gitlab-org/-/epics/5296","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":78461972,"iid":301137,"project_id":278964,"title":"Follow-up from \"Use read permissions for DAST GraphQL types\"","description":"The following discussion from !53317 should be addressed:\n\n- [ ] @philipcunningham started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/53317#note_502045501):  (+1 comment)\n\n    \u003e **question**\n    \u003e \n    \u003e one thing that strikes me about this is that it's a bit of shame that the naming diverges for the two symbols. do you think it'd be worth renaming `read_on_demand_scans` to `read_demand_dast_scan` in a follow-up merge request?","state":"closed","created_at":"2021-02-05T00:43:30.492Z","updated_at":"2021-09-14T06:19:07.919Z","closed_at":"2021-09-14T06:19:07.871Z","closed_by":{"id":5749348,"username":"philipcunningham","name":"Philip Cunningham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5749348/avatar.png","web_url":"https://gitlab.com/philipcunningham"},"labels":["Category:DAST","backend","devops::secure","group::dynamic analysis","maintenance::refactor","section::sec"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":5749348,"username":"philipcunningham","name":"Philip Cunningham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5749348/avatar.png","web_url":"https://gitlab.com/philipcunningham"}],"author":{"id":5749348,"username":"philipcunningham","name":"Philip Cunningham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5749348/avatar.png","web_url":"https://gitlab.com/philipcunningham"},"type":"ISSUE","assignee":{"id":5749348,"username":"philipcunningham","name":"Philip Cunningham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5749348/avatar.png","web_url":"https://gitlab.com/philipcunningham"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/301137","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/301137","notes":"https://gitlab.com/api/v4/projects/278964/issues/301137/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/301137/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#301137","relative":"#301137","full":"gitlab-org/gitlab#301137"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":78461692,"iid":301136,"project_id":278964,"title":"Track MR title and desc changes with usage counters","description":"### `MergeRequest::UpdateService` (https://gitlab.com/gitlab-org/gitlab/-/merge_requests/53077)\n\n* [x] Changed the title of the MR\n* [x] Changed the description of the MR","state":"closed","created_at":"2021-02-05T00:30:34.655Z","updated_at":"2021-02-18T07:07:05.924Z","closed_at":"2021-02-05T22:24:38.362Z","closed_by":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"labels":["Deliverable","backend","devops::create","group::code review","section::dev"],"milestone":{"id":1233760,"iid":56,"group_id":9970,"title":"13.9","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.334Z","updated_at":"2022-04-21T07:21:28.468Z","due_date":"2021-02-17","start_date":"2021-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/56"},"assignees":[{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"}],"author":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"type":"ISSUE","assignee":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/301136","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":2},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/301136","notes":"https://gitlab.com/api/v4/projects/278964/issues/301136/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/301136/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#301136","relative":"#301136","full":"gitlab-org/gitlab#301136"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":78460937,"iid":301133,"project_id":278964,"title":"Update docs for Dependency Scanning to link to Application Security section on expected behaviour and configuration of secure scanners","description":"## MR\nhttps://gitlab.com/gitlab-org/gitlab/-/merge_requests/61557\n\n### Problem to solve\n\nCustomers are unsure how our analyzers work and what the job statuses etc mean\n\nwe need to provide, for all scanners, clarity around that, as well as consistency\n\nthen each scanner can link to that area for an explanation of \"how it works by default\"\n\neach scanner can then provide directions to alter that if a user wants.\n\nto do for all scanners (sast, dast etc) nicole will work on and then get engineering approval and then tech writer approval\n\n### Further details\n\n\u003c!--\n* Any concepts, procedures, reference info we could add to make it easier to successfully use GitLab?\n* Include use cases, benefits, and/or goals for this work.\n* If adding content: What audience is it intended for? (What roles and scenarios?)\n  For ideas, see personas at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/ or the persona labels at\n  https://gitlab.com/groups/gitlab-org/-/labels?utf8=%E2%9C%93\u0026subscribed=\u0026search=persona%3A\n--\u003e\n\n### Proposal\n\nCreate a new section in the [Dependency Scanning user documentation](https://docs.gitlab.com/ee/user/application_security/dependency_scanning/), briefly describe the new behavior, and link to the doc section created in https://gitlab.com/gitlab-org/gitlab/-/issues/301123, in the [Application Security user documentation](https://docs.gitlab.com/ee/user/application_security/).\n\nThe new doc section can be named after the one that's been created in Application Security user docs.\n\n### Who can address the issue\n\nNo special skill required\n\n### Other links/references\n\nhttps://gitlab.com/gitlab-org/gitlab/-/issues/324634#implementation-plan","state":"closed","created_at":"2021-02-04T23:51:08.371Z","updated_at":"2021-05-18T07:08:26.821Z","closed_at":"2021-05-17T18:42:33.189Z","closed_by":{"id":52092,"username":"gonzoyumo","name":"Olivier Gonzalez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/651e0ff81c3995a05269f7c80895fe89?s=80\u0026d=identicon","web_url":"https://gitlab.com/gonzoyumo"},"labels":["Category:Dependency Scanning","Deliverable","Enterprise Edition","GitLab Ultimate","backend","deprecation","devops::secure","docs-only","documentation","feature::addition","group::composition analysis","section::sec","type::feature","workflow::verification"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":3913516,"username":"NicoleSchwartz","name":"Nicole Schwartz","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3913516/avatar.png","web_url":"https://gitlab.com/NicoleSchwartz"}],"author":{"id":3913516,"username":"NicoleSchwartz","name":"Nicole Schwartz","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3913516/avatar.png","web_url":"https://gitlab.com/NicoleSchwartz"},"type":"ISSUE","assignee":{"id":3913516,"username":"NicoleSchwartz","name":"Nicole Schwartz","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3913516/avatar.png","web_url":"https://gitlab.com/NicoleSchwartz"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/301133","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/301133","notes":"https://gitlab.com/api/v4/projects/278964/issues/301133/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/301133/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#301133","relative":"#301133","full":"gitlab-org/gitlab#301133"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5334,"epic":{"id":195873,"iid":5334,"title":"Consistency in default behaviour of AST scanners and jobs","url":"/groups/gitlab-org/-/epics/5334","group_id":9970,"human_readable_end_date":"May 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":78460872,"iid":301131,"project_id":278964,"title":"Change default Dependency Scanning templates to make scanning jobs fail (allowed to fail) when vulnerabilities detected","description":"## Problem to solve\n\nOnce all the Dependency Scanning analyzers are updated to exit with a non-zero exit code when vulnerabilities are found, we need to change the [Dependency Scanning CI template](https://gitlab.com/gitlab-org/gitlab/blob/master/lib/gitlab/ci/templates/Security/Dependency-Scanning.gitlab-ci.yml).\n\n## Proposal\n\nChange the [Dependency Scanning CI template](https://gitlab.com/gitlab-org/gitlab/blob/master/lib/gitlab/ci/templates/Security/Dependency-Scanning.gitlab-ci.yml)\n- to enable the new behavior, and make the scanning job exit with a non-zero exit code when vulnerabilities are found \n- to allow the job failure when vulnerabilities are found\n\nThis is done by changing the definition of `.ds-analyzer` in the CI template:\n- update the `variables`, and set the variable that changes the behavior¬†\n- don't set `allow_failure` to `true`, but instead set [allow_failure:exit_codes](https://docs.gitlab.com/ee/ci/yaml/#allow_failureexit_codes) so that it matches the exit code returned when vulnerabilities are found\n\nThe new environment variable that changes the behavior and the new exit codes for when vulnerabilities are found are specified in https://gitlab.com/gitlab-org/gitlab/-/issues/324634#environment-variable.\n\nSee experiment in https://gitlab.com/gitlab-org/security-products/tests/ruby-bundler/-/merge_requests/1264/diffs\n\n## Implementation plan\n\n- [ ] Change the [Dependency Scanning CI template](https://gitlab.com/gitlab-org/gitlab/blob/master/lib/gitlab/ci/templates/Security/Dependency-Scanning.gitlab-ci.yml)\n\n## Links\n\nSee specs in design issue: https://gitlab.com/gitlab-org/gitlab/-/issues/324634#proposal","state":"closed","created_at":"2021-02-04T23:47:38.342Z","updated_at":"2021-05-12T20:27:38.553Z","closed_at":"2021-04-07T22:10:26.531Z","closed_by":{"id":3913516,"username":"NicoleSchwartz","name":"Nicole Schwartz","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3913516/avatar.png","web_url":"https://gitlab.com/NicoleSchwartz"},"labels":["Category:Dependency Scanning","Deliverable","Enterprise Edition","GitLab Ultimate","backend","deprecation","devops::secure","feature::addition","group::composition analysis","release post item::in review","section::sec","type::feature","won't do","wontfix","workflow::ready for development"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":3913516,"username":"NicoleSchwartz","name":"Nicole Schwartz","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3913516/avatar.png","web_url":"https://gitlab.com/NicoleSchwartz"},"type":"ISSUE","assignee":null,"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/301131","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/301131","notes":"https://gitlab.com/api/v4/projects/278964/issues/301131/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/301131/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#301131","relative":"#301131","full":"gitlab-org/gitlab#301131"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5477,"epic":{"id":213997,"iid":5477,"title":"Change Dependency Scanning to error when findings found and add `Job succeeded and there were findings` exit code","url":"/groups/gitlab-org/-/epics/5477","group_id":9970},"iteration":null,"health_status":null},{"id":78460857,"iid":301130,"project_id":278964,"title":"Change retire.js to error when findings found and add \"Job succeeded and there were findings\" exit code","description":"### Problem to solve\n\nFor consistency across Dependency Scanning analyzers, retire.js needs to be changed so that it exits with a non-zero exit code when the scan is successful and vulnerabilities are found, as documented in https://gitlab.com/gitlab-org/gitlab/-/issues/324634#proposal.\n\nThis behavior is enabled by a new environment variable documented in https://gitlab.com/gitlab-org/gitlab/-/issues/324634#environment-variable.\n\nThis analyzer relies on the `command` Go package of the [common](https://gitlab.com/gitlab-org/security-products/analyzers/common) library to implement its `run` command, and this package has moved to [analyzers/command](https://gitlab.com/gitlab-org/security-products/analyzers/command).\n\n### Proposal\n\n- [ ] Use [analyzers/command](https://gitlab.com/gitlab-org/security-products/analyzers/command) instead of the `command` package of [common](https://gitlab.com/gitlab-org/security-products/analyzers/common)\n- [ ] Update to the version of [analyzers/command](https://gitlab.com/gitlab-org/security-products/analyzers/command) that implements the new behavior; implementation issue is https://gitlab.com/gitlab-org/gitlab/-/issues/324946\n\n### Documentation\n\nCovered by https://gitlab.com/gitlab-org/gitlab/-/issues/301133\n\n### Testing\n\n- [ ] Update Secure test projects used for this analyzer project, so that the exit codes are tested\n\n### Other links/references\n\nhttps://gitlab.com/gitlab-org/gitlab/-/issues/324634#implementation-plan","state":"closed","created_at":"2021-02-04T23:46:27.010Z","updated_at":"2021-05-12T20:27:27.883Z","closed_at":"2021-04-07T22:10:04.134Z","closed_by":{"id":3913516,"username":"NicoleSchwartz","name":"Nicole Schwartz","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3913516/avatar.png","web_url":"https://gitlab.com/NicoleSchwartz"},"labels":["Category:Dependency Scanning","Deliverable","Enterprise Edition","GitLab Ultimate","backend","deprecation","devops::secure","feature::addition","group::composition analysis","section::sec","type::feature","won't do","wontfix","workflow::in dev"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":3913516,"username":"NicoleSchwartz","name":"Nicole Schwartz","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3913516/avatar.png","web_url":"https://gitlab.com/NicoleSchwartz"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/301130","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/301130","notes":"https://gitlab.com/api/v4/projects/278964/issues/301130/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/301130/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#301130","relative":"#301130","full":"gitlab-org/gitlab#301130"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5477,"epic":{"id":213997,"iid":5477,"title":"Change Dependency Scanning to error when findings found and add `Job succeeded and there were findings` exit code","url":"/groups/gitlab-org/-/epics/5477","group_id":9970},"iteration":null,"health_status":null},{"id":78460827,"iid":301129,"project_id":278964,"title":"Change bundler-audit to error when findings found and add \"Job succeeded and there were findings\" exit code","description":"### Problem to solve\n\nFor consistency across Dependency Scanning analyzers, bundler-audit needs to be changed so that it exits with a non-zero exit code when the scan is successful and vulnerabilities are found, as documented in https://gitlab.com/gitlab-org/gitlab/-/issues/324634#proposal.\n\nThis behavior is enabled by a new environment variable documented in https://gitlab.com/gitlab-org/gitlab/-/issues/324634#environment-variable.\n\nThis analyzer relies on the `command` Go package of the [common](https://gitlab.com/gitlab-org/security-products/analyzers/common) library to implement its `run` command, and this package has moved to [analyzers/command](https://gitlab.com/gitlab-org/security-products/analyzers/command).\n\n### Proposal\n\n- [ ] Use [analyzers/command](https://gitlab.com/gitlab-org/security-products/analyzers/command) instead of the `command` package of [common](https://gitlab.com/gitlab-org/security-products/analyzers/common)\n- [ ] Update to the version of [analyzers/command](https://gitlab.com/gitlab-org/security-products/analyzers/command) that implements the new behavior; implementation issue is https://gitlab.com/gitlab-org/gitlab/-/issues/324946\n\n### Documentation\n\nCovered by https://gitlab.com/gitlab-org/gitlab/-/issues/301133\n\n### Testing\n\n- [ ] Update Secure test projects used for this analyzer project, so that the exit codes are tested\n\n### Other links/references\n\nhttps://gitlab.com/gitlab-org/gitlab/-/issues/324634#implementation-plan","state":"closed","created_at":"2021-02-04T23:45:51.213Z","updated_at":"2021-05-12T20:27:32.943Z","closed_at":"2021-04-07T22:20:46.711Z","closed_by":{"id":3913516,"username":"NicoleSchwartz","name":"Nicole Schwartz","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3913516/avatar.png","web_url":"https://gitlab.com/NicoleSchwartz"},"labels":["Category:Dependency Scanning","Deliverable","Enterprise Edition","GitLab Ultimate","backend","deprecation","devops::secure","feature::addition","group::composition analysis","section::sec","type::feature","won't do","wontfix","workflow::in dev"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":3913516,"username":"NicoleSchwartz","name":"Nicole Schwartz","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3913516/avatar.png","web_url":"https://gitlab.com/NicoleSchwartz"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/301129","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/301129","notes":"https://gitlab.com/api/v4/projects/278964/issues/301129/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/301129/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#301129","relative":"#301129","full":"gitlab-org/gitlab#301129"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5477,"epic":{"id":213997,"iid":5477,"title":"Change Dependency Scanning to error when findings found and add `Job succeeded and there were findings` exit code","url":"/groups/gitlab-org/-/epics/5477","group_id":9970},"iteration":null,"health_status":null},{"id":78460791,"iid":301128,"project_id":278964,"title":"Change gemnasium-python to error when findings found and add \"Job succeeded and there were findings\" exit code","description":"### Problem to solve\n\nFor consistency across Dependency Scanning analyzers, gemnasium-python needs to be changed so that it exits with a non-zero exit code when the scan is successful and vulnerabilities are found, as documented in https://gitlab.com/gitlab-org/gitlab/-/issues/324634#proposal.\n\nThis behavior is enabled by a new environment variable documented in https://gitlab.com/gitlab-org/gitlab/-/issues/324634#environment-variable.\n\nThis analyzer does NOT rely on the `command` Go package to implement its `run` command. The `run` command is implemented in the `main.go` of the Go project.\n\n### Proposal\n\n- [ ] Change the `Run` function defined in `main.go` to implemented the new behavior, similar to https://gitlab.com/gitlab-org/gitlab/-/issues/324946\n\nThis work is very similar to the one done in https://gitlab.com/gitlab-org/gitlab/-/issues/301126, for the gemnasium project.\n\n### Documentation\n\nCovered by https://gitlab.com/gitlab-org/gitlab/-/issues/301133\n\n### Testing\n\n- [ ] Update Secure test projects used for this analyzer project, so that the exit codes are tested\n\n### Other links/references\n\nhttps://gitlab.com/gitlab-org/gitlab/-/issues/324634#implementation-plan","state":"closed","created_at":"2021-02-04T23:45:06.597Z","updated_at":"2021-05-12T20:27:17.483Z","closed_at":"2021-04-07T22:09:34.076Z","closed_by":{"id":3913516,"username":"NicoleSchwartz","name":"Nicole Schwartz","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3913516/avatar.png","web_url":"https://gitlab.com/NicoleSchwartz"},"labels":["Category:Dependency Scanning","Deliverable","Enterprise Edition","GitLab Ultimate","backend","deprecation","devops::secure","feature::addition","group::composition analysis","section::sec","type::feature","won't do","wontfix","workflow::ready for development"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":3913516,"username":"NicoleSchwartz","name":"Nicole Schwartz","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3913516/avatar.png","web_url":"https://gitlab.com/NicoleSchwartz"},"type":"ISSUE","assignee":null,"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/301128","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/301128","notes":"https://gitlab.com/api/v4/projects/278964/issues/301128/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/301128/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#301128","relative":"#301128","full":"gitlab-org/gitlab#301128"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5477,"epic":{"id":213997,"iid":5477,"title":"Change Dependency Scanning to error when findings found and add `Job succeeded and there were findings` exit code","url":"/groups/gitlab-org/-/epics/5477","group_id":9970},"iteration":null,"health_status":null},{"id":78460753,"iid":301127,"project_id":278964,"title":"Change gemnasium-maven to error when findings found and add \"Job succeeded and there were findings\" exit code","description":"### Problem to solve\n\nFor consistency across Dependency Scanning analyzers, gemnasium-maven needs to be changed so that it exits with a non-zero exit code when the scan is successful and vulnerabilities are found, as documented in https://gitlab.com/gitlab-org/gitlab/-/issues/324634#proposal.\n\nThis behavior is enabled by a new environment variable documented in https://gitlab.com/gitlab-org/gitlab/-/issues/324634#environment-variable.\n\nThis analyzer relies on the `command` Go package of the [common](https://gitlab.com/gitlab-org/security-products/analyzers/common) library to implement its `run` command, and this package has moved to [analyzers/command](https://gitlab.com/gitlab-org/security-products/analyzers/command).\n\nAs a result of https://gitlab.com/gitlab-org/gitlab/-/issues/292952, eventually `gemnasium-maven` will no longer depend on `command`.\n\n### Proposal\n\n- [ ] Use [analyzers/command](https://gitlab.com/gitlab-org/security-products/analyzers/command) instead of the `command` package of [common](https://gitlab.com/gitlab-org/security-products/analyzers/common)\n- [ ] Update to the version of [analyzers/command](https://gitlab.com/gitlab-org/security-products/analyzers/command) that implements the new behavior; implementation issue is https://gitlab.com/gitlab-org/gitlab/-/issues/324946\n\n### Documentation\n\nCovered by https://gitlab.com/gitlab-org/gitlab/-/issues/301133\n\n### Testing\n\n- [ ] Update Secure test projects used for this analyzer project, so that the exit codes are tested\n\n### Other links/references\n\nhttps://gitlab.com/gitlab-org/gitlab/-/issues/324634#implementation-plan","state":"closed","created_at":"2021-02-04T23:43:57.954Z","updated_at":"2021-05-12T20:27:22.593Z","closed_at":"2021-04-07T22:09:09.362Z","closed_by":{"id":3913516,"username":"NicoleSchwartz","name":"Nicole Schwartz","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3913516/avatar.png","web_url":"https://gitlab.com/NicoleSchwartz"},"labels":["Category:Dependency Scanning","Deliverable","Enterprise Edition","GitLab Ultimate","backend","deprecation","devops::secure","feature::addition","group::composition analysis","section::sec","type::feature","won't do","wontfix","workflow::in dev"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":3913516,"username":"NicoleSchwartz","name":"Nicole Schwartz","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3913516/avatar.png","web_url":"https://gitlab.com/NicoleSchwartz"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/301127","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/301127","notes":"https://gitlab.com/api/v4/projects/278964/issues/301127/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/301127/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#301127","relative":"#301127","full":"gitlab-org/gitlab#301127"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5477,"epic":{"id":213997,"iid":5477,"title":"Change Dependency Scanning to error when findings found and add `Job succeeded and there were findings` exit code","url":"/groups/gitlab-org/-/epics/5477","group_id":9970},"iteration":null,"health_status":null},{"id":78460719,"iid":301126,"project_id":278964,"title":"Change gemnasium to error when findings found and add \"Job succeeded and there were findings\" exit code","description":"### Problem to solve\n\nFor consistency across Dependency Scanning analyzers, gemnasium needs to be changed so that it exits with a non-zero exit code when the scan is successful and vulnerabilities are found, as documented in https://gitlab.com/gitlab-org/gitlab/-/issues/324634#proposal.\n\nThis behavior is enabled by a new environment variable documented in https://gitlab.com/gitlab-org/gitlab/-/issues/324634#environment-variable.\n\nThis analyzer does NOT rely on the `command` Go package to implement its `run` command. The `run` command is implemented in the `main.go` of the Go project.\n\n### Proposal\n\n- [ ] Remove dependency on [common](https://gitlab.com/gitlab-org/security-products/analyzers/common) package (this is needed to complete https://gitlab.com/gitlab-org/gitlab/-/issues/301127)\n- [ ] Change the `Run` function defined in `main.go` to implemented the new behavior, similar to https://gitlab.com/gitlab-org/gitlab/-/issues/324946\n\n### Documentation\n\nCovered by https://gitlab.com/gitlab-org/gitlab/-/issues/301133\n\n### Testing\n\n- [ ] Update Secure test projects used for this analyzer project, so that the exit codes are tested\n\n### Other links/references\n\nhttps://gitlab.com/gitlab-org/gitlab/-/issues/324634#implementation-plan","state":"closed","created_at":"2021-02-04T23:42:54.734Z","updated_at":"2021-05-12T20:27:12.213Z","closed_at":"2021-04-07T22:08:39.905Z","closed_by":{"id":3913516,"username":"NicoleSchwartz","name":"Nicole Schwartz","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3913516/avatar.png","web_url":"https://gitlab.com/NicoleSchwartz"},"labels":["Category:Dependency Scanning","Deliverable","Enterprise Edition","GitLab Ultimate","backend","deprecation","devops::secure","feature::addition","group::composition analysis","section::sec","type::feature","won't do","wontfix","workflow::in dev"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":3913516,"username":"NicoleSchwartz","name":"Nicole Schwartz","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3913516/avatar.png","web_url":"https://gitlab.com/NicoleSchwartz"},"type":"ISSUE","assignee":null,"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/301126","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/301126","notes":"https://gitlab.com/api/v4/projects/278964/issues/301126/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/301126/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#301126","relative":"#301126","full":"gitlab-org/gitlab#301126"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5477,"epic":{"id":213997,"iid":5477,"title":"Change Dependency Scanning to error when findings found and add `Job succeeded and there were findings` exit code","url":"/groups/gitlab-org/-/epics/5477","group_id":9970},"iteration":null,"health_status":null},{"id":78460567,"iid":301124,"project_id":278964,"title":"Audit Events: Add merge request settings changes part 1","description":"### Problem to solve \n\nChanges to project merge request settings could cause considerable impact. We would like to track these settings changes in audit events and potentially enable more automation around this area.\n\n### Intended users\n\n* [Cameron (Compliance Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#cameron-compliance-manager)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n\n### User experience goal\n\nUsers can view audit events related the merge request settings changes under `Project \u003e Security \u0026 Compliance \u003e Audit Events`.\n\n### Proposal\n\nCapture audit events when users modify merge request settings via app and API\n- Merge method\n- Merge options\n- Squash commits when merging\n- Merge checks\n- Merge suggestions\n\n\u003cdetails\u003e\n\u003csummary\u003eScreenshot\u003c/summary\u003e\n\n![Screen_Shot_2021-02-05_at_12.30.31_am](/uploads/617c832010b4f004d71875663198c41d/Screen_Shot_2021-02-05_at_12.30.31_am.png)\n\u003c/details\u003e\n\n### Further details\n\n\u003c!-- Include use cases, benefits, goals, or any other details that will help us understand the problem better. --\u003e\n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?\nConsider adding checkboxes and expectations of users with certain levels of membership https://docs.gitlab.com/ee/user/permissions.html\n* [ ] Add expected impact to members with no access (0)\n* [ ] Add expected impact to Guest (10) members\n* [ ] Add expected impact to Reporter (20) members\n* [ ] Add expected impact to Developer (30) members\n* [ ] Add expected impact to Maintainer (40) members\n* [ ] Add expected impact to Owner (50) members --\u003e\n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/workflow.html#for-a-product-change\n\n* Add all known Documentation Requirements in this section. See https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements\n* If this feature requires changing permissions, update the permissions document. See https://docs.gitlab.com/ee/user/permissions.html --\u003e\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\n### Available Tier\n\n~\"GitLab Premium\" \n\n### What does success look like, and how can we measure that?\n\n\u003c!--\nDefine both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this.\n\nCreate tracking issue using the the Snowplow event tracking template. See https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Snowplow%20event%20tracking.md\n--\u003e\n\n### What is the type of buyer?\n\n\u003c!-- What is the buyer persona for this feature? See https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/buyer-persona/\nIn which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#four-tiers --\u003e\n\n### Is this a cross-stage feature?\n\n\u003c!-- Communicate if this change will affect multiple Stage Groups or product areas. We recommend always start with the assumption that a feature request will have an impact into another Group. Loop in the most relevant PM and Product Designer from that Group to provide strategic support to help align the Group's broader plan and vision, as well as to avoid UX and technical debt. https://about.gitlab.com/handbook/product/#cross-stage-features --\u003e\n\n### Links / references\n\n- Current tracking of project changes is done via [`Project::UpdateService`](https://gitlab.com/gitlab-org/gitlab/blob/master/ee/app/services/ee/projects/update_service.rb#L94)\n- Existing audit tracking results in a lot of unnecessary inserts. Every field change create one insert statement. We can leverage on the new [`Audit::Auditor`](https://gitlab.com/gitlab-org/gitlab/blob/master/ee/lib/gitlab/audit/auditor.rb#L22) to do a bulk insert.","state":"closed","created_at":"2021-02-04T23:34:18.481Z","updated_at":"2022-05-02T08:13:23.142Z","closed_at":"2022-04-18T04:28:51.042Z","closed_by":{"id":10467142,"username":"harsimarsandhu","name":"Harsimar Sandhu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10467142/avatar.png","web_url":"https://gitlab.com/harsimarsandhu"},"labels":["Category:Audit Events","GitLab Premium","audit_events::workflow_or_cosmetic_changes","backend","devops::manage","group::compliance","priority::3","section::dev","type::feature","workflow::production"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":10467142,"username":"harsimarsandhu","name":"Harsimar Sandhu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10467142/avatar.png","web_url":"https://gitlab.com/harsimarsandhu"}],"author":{"id":398752,"username":"tancnle","name":"Tan Le","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/398752/avatar.png","web_url":"https://gitlab.com/tancnle"},"type":"ISSUE","assignee":{"id":10467142,"username":"harsimarsandhu","name":"Harsimar Sandhu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10467142/avatar.png","web_url":"https://gitlab.com/harsimarsandhu"},"user_notes_count":18,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/301124","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/301124","notes":"https://gitlab.com/api/v4/projects/278964/issues/301124/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/301124/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#301124","relative":"#301124","full":"gitlab-org/gitlab#301124"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7268,"epic":{"id":403566,"iid":7268,"title":"Comprehensive audit log: Merge Request Approval Auditing","url":"/groups/gitlab-org/-/epics/7268","group_id":9970,"human_readable_end_date":"May 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":78460483,"iid":301123,"project_id":278964,"title":"Update \"application security\" user docs for explaining how jobs work and what statuses mean","description":"### Problem to solve\n\n\nCustomers are unsure how our analyzers work and what the job statuses etc mean\n\nwe need to provide, for all scanners, clarity around that, as well as consistency\n\nthen each scanner can link to that area for an explanation of \"how it works by default\"\n\neach scanner can then provide directions to alter that if a user wants.\n\n### Further details\n\n### Proposal\n\nCreate a new section in the [Application Security user documentation](https://docs.gitlab.com/ee/user/application_security/) to explain the new behavior:\n- a successful job means\n- a failed/allowed to fail scanning job means\n- a failed scanning job means\n\nAlso, make it clear the status of the scanning job depends on vulnerability _findings_. As a result, a job is failed/allowed to fail (warning icon) even if all detected vulnerabilities have been dismissed in the UI.\n\nThis is NOT developer documentation and there's no need to be specific about the exit code.\n\nMR - https://gitlab.com/gitlab-org/gitlab/-/merge_requests/55127\n\n### Who can address the issue\n \nbackend engineers and tech writers\n\n### Other links/references\n\nhttps://gitlab.com/gitlab-org/gitlab/-/issues/324634","state":"closed","created_at":"2021-02-04T23:30:19.251Z","updated_at":"2021-05-03T20:27:00.416Z","closed_at":"2021-05-03T20:27:00.346Z","closed_by":{"id":3913516,"username":"NicoleSchwartz","name":"Nicole Schwartz","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3913516/avatar.png","web_url":"https://gitlab.com/NicoleSchwartz"},"labels":["Enterprise Edition","GitLab Ultimate","Product Management","Technical Writing","all Sec groups","backend","deprecation","devops::secure","docs-only","documentation","feature::addition","group::composition analysis","quad-planning::complete-no-action","section::sec","tw::finished","type::feature","workflow::ready for development"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":3913516,"username":"NicoleSchwartz","name":"Nicole Schwartz","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3913516/avatar.png","web_url":"https://gitlab.com/NicoleSchwartz"}],"author":{"id":3913516,"username":"NicoleSchwartz","name":"Nicole Schwartz","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3913516/avatar.png","web_url":"https://gitlab.com/NicoleSchwartz"},"type":"ISSUE","assignee":{"id":3913516,"username":"NicoleSchwartz","name":"Nicole Schwartz","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3913516/avatar.png","web_url":"https://gitlab.com/NicoleSchwartz"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/301123","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/301123","notes":"https://gitlab.com/api/v4/projects/278964/issues/301123/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/301123/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#301123","relative":"#301123","full":"gitlab-org/gitlab#301123"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5334,"epic":{"id":195873,"iid":5334,"title":"Consistency in default behaviour of AST scanners and jobs","url":"/groups/gitlab-org/-/epics/5334","group_id":9970,"human_readable_end_date":"May 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":78460239,"iid":301121,"project_id":278964,"title":"Sort code quality violations in MR widget by severity","description":"This is an actionable insight from the [UX Department: MRs experience async critique](https://gitlab.com/gitlab-org/ux-research/-/issues/1073) research ([insight][insight]).\n\n### Release Notes\n\nWhen you have set up a project to run a Code Quality Scan it can find dozens to thousands of violations depending on the project. It is hard to find the most critical issues of those to address, even in the smaller view of the Merge Request Widget.\n\nThe Code Quality Merge Request Widget and the Full Report now sort Code Quality violations by Severity. This allows you to quickly see the most important code quality violations that need addressed in the Merge Request Widget or the project overall in the Full Code Quality report.\n\n### What\n\nIn the merge request widget for **code quality**, there is a lot of item duplication. There is no information hierarchy or typography differences.\n\n![image](/uploads/0fccc6275cc678608adbd6fe4c53db37/image.png)\n\n### Why\n\nWith so much duplicated content, it's difficult to focus on what makes each issue different. It also makes it hard to ignore a specific group of similar/identical issues.\n\n### How\n\n* New Code Quality violations should be sorted by severity descending (Highest to lowest - Blocker, critical, major, minor, info)\n* Resolved code quality violations can be sorted the same way and at the bottom of the list.\n\n[insight]: https://dovetailapp.com/projects/14109fbc-dfdd-4204-a54e-9c80ba8b7bba/insights/cd87cae7-4122-4c25-b3ff-62faeab60e7e\n\n### Proposal\n\n1. Introduce severity types in [CodequalityReports](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/ci/reports/codequality_reports.rb)\n2. Add `sorted!` method in `CodequalityReports`\n3. Call `sorted!` when generating the comparison between base and head in [CodequalityReportsComparer](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/ci/reports/codequality_reports_comparer.rb#L8-9)\n\n\n```ruby\nSEVERITY_TYPES = %w(blocker critical major minor info).freeze\n\ndef sorted!\n  sort_by_severity!\n  self\nend\n\ndef sort_by_severity!\n  @degradations = @degradations.sort_by do |_fingerprint, degradation|\n    SEVERITY_TYPES.index(degradation.dig(:severity))\n  end.to_h\nend\n```","state":"closed","created_at":"2021-02-04T23:18:39.730Z","updated_at":"2022-09-23T21:12:05.155Z","closed_at":"2021-04-19T14:16:25.655Z","closed_by":{"id":5251734,"username":"morefice","name":"Max Orefice","state":"active","avatar_url":"https://secure.gravatar.com/avatar/0a910912e24727d7eef579cd047f7651?s=80\u0026d=identicon","web_url":"https://gitlab.com/morefice"},"labels":["Actionable Insight::Product change","Category:Code Quality","Deliverable","SUS::FY22 Q1 - Done","UX","backend","closed::complete","devops::verify","feature::enhancement","group::pipeline insights","merge request widget","release post item::in review","section::ops","type::feature","usability","workflow::feature-flagged"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":1758950,"username":"iamricecake","name":"Erick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1758950/avatar.png","web_url":"https://gitlab.com/iamricecake"}],"author":{"id":4512666,"username":"jheimbuck_gl","name":"James Heimbuck","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8dd2ef9c1cacb6e80d7ca47db6f0ce22?s=80\u0026d=identicon","web_url":"https://gitlab.com/jheimbuck_gl"},"type":"ISSUE","assignee":{"id":1758950,"username":"iamricecake","name":"Erick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1758950/avatar.png","web_url":"https://gitlab.com/iamricecake"},"user_notes_count":15,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/301121","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/301121","notes":"https://gitlab.com/api/v4/projects/278964/issues/301121/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/301121/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#301121","relative":"#301121","full":"gitlab-org/gitlab#301121"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5333,"epic":{"id":195845,"iid":5333,"title":"Code Quality MR Widget Usability improvements","url":"/groups/gitlab-org/-/epics/5333","group_id":9970,"human_readable_end_date":"Apr 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":78457707,"iid":301116,"project_id":278964,"title":"Group push permissions can enforce project-level insecure settings","description":"### Problem to solve\n\nSetting either \"Reject unverified users\" or \"Reject unsigned commits\" at the group level while they are unset on a project makes the corresponding checkbox un-selectable in Project ‚Üí Settings ‚Üí Push Rules and leaves the rule un-enforced on the project.\n\nThe docs are pretty clear that [Group Push Rules](https://docs.gitlab.com/ee/user/group/index.html#group-push-rules) apply to \"newly created projects within the specific group\", but do not mention that existing projects will not be able to change \"Reject unverified users\" or \"Reject unsigned commits\" once the group-level permission is set. This leaves the permissions in an uncertain state, as the unchecked \u0026 dimmed checkbox implies external management but does not apply the ostensible parent setting.\n\nThis is a confusing GUI state since it may not be clear that the group restrictions are not applied when checked at the group level. The checkboxes can only be updated by unchecking the group-level setting, editing the project, then enabling the group setting.\n\n### Steps to reproduce\n\n1. Create a group\n1. Create a project inside the group\n1. Deselect \"Reject unverified users\" \u0026 \"Reject unsigned commits\" in the project in Project ‚Üí Settings ‚Üí Push Rules\n1. Set \"Reject unverified users\" \u0026 \"Reject unsigned commits\" in Push Rules in the parent group\n1. Verify that \"Reject unverified users\" \u0026 \"Reject unsigned commits\" are now locked in \"Off\" state\n1. Push a commit from an unverified user to the project\n1. Verify that the commit completed\n\n### Example Project\n\nhttps://gitlab.com/dharris-pages/permissions/\n\n### What is the current *bug* behavior?\n\nSetting group-level permissions locks the project-level setting, sometimes forcing changing other permissions to update project-level settings.\n\n### What is the expected *correct* behavior?\n\nThe GUI should allow these permissions to be updated or offer to enforce group permissions on all child projects.\n\n### Relevant logs and/or screenshots\n\n### Output of checks\n\nThis bug happens on GitLab.com.\n\n#### Results of GitLab environment info\n\nReproduced on Gitlab.com GitLab Enterprise Edition 13.9.0-pre 0078d8ebe21 \n\n### Proposal\n\n- Stop disabling the 2 project-level inputs (`commit_committer_check` and `reject_unsigned_commits`), regardless of the group-level input value.\n- Add an info tip to the group inputs: \"This will only be used as the default value for new projects. This setting is not enforced and will not affect existing projects in any way.\"\n- Add an explanation to the [push rules documentation](https://docs.gitlab.com/ee/push_rules/push_rules.html#enabling-push-rules).\n\n### Out of scope\n\nUltimately we want the group-level behavior to be enforced, but it has been decided that is too much complexity to pursue right now.\n\n### Related files\n\n- https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/views/shared/push_rules/_commit_committer_check_setting.html.haml\n- https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/views/shared/push_rules/_reject_unsigned_commits_setting.html.haml","state":"closed","created_at":"2021-02-04T21:58:02.003Z","updated_at":"2021-04-19T11:21:36.758Z","closed_at":"2021-04-19T11:21:36.699Z","closed_by":{"id":398752,"username":"tancnle","name":"Tan Le","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/398752/avatar.png","web_url":"https://gitlab.com/tancnle"},"labels":["Category:Authentication and Authorization","approaching-SLO","backend","customer","devops::secure","group::compliance","missed-SLO","permissions","priority::2","severity::2","type::bug","workflow::in review"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":398752,"username":"tancnle","name":"Tan Le","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/398752/avatar.png","web_url":"https://gitlab.com/tancnle"}],"author":{"id":6239198,"username":"duncan_harris","name":"Duncan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6239198/avatar.png","web_url":"https://gitlab.com/duncan_harris"},"type":"ISSUE","assignee":{"id":398752,"username":"tancnle","name":"Tan Le","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/398752/avatar.png","web_url":"https://gitlab.com/tancnle"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/301116","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/301116","notes":"https://gitlab.com/api/v4/projects/278964/issues/301116/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/301116/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#301116","relative":"#301116","full":"gitlab-org/gitlab#301116"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":78454084,"iid":301109,"project_id":278964,"title":"Provide an API for Group Migration","description":"### Problem to solve \n\nFor the Group Migration to be a viable solution for the users who need to script Group migrations, we need to provide an API.\n\n### Proposed Solution \n\nFor the Group Migration to be a viable solution for the users who need to script Group migrations, we need to create a **Group Migration API** that provides the same capabilities as the [Group Export/Import API](https://docs.gitlab.com/ee/api/group_import_export.html).\n\nThis API should allow a user to trigger a migration of an entire group by providing the credentials to the source instance, the source group name, and the destination group name and location.\n\n### Additional considerations\n\n* **Congregate End to End tests** can be used as a regression test control data set for validating the Group Migration API functionality. It currently works with the Group Export/Import API and we have the ability to compare the results to validate the new Group Migration API against the expected results.\n\n### Documentation\n\nFollowing documentation should be updated with the fields added in this issue:\n* [ ] User docs: https://docs.gitlab.com/ee/user/group/import/\n* [ ] Dev docs: https://docs.gitlab.com/ee/development/bulk_import.html\n* [ ] API docs: https://docs.gitlab.com/ee/api/","state":"closed","created_at":"2021-02-04T20:15:46.890Z","updated_at":"2022-03-28T19:16:53.627Z","closed_at":"2021-08-04T08:52:07.478Z","closed_by":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"labels":["Category:Importers","Deliverable","GitLab Core","Importer:GitLab Migration","Next Up","backend","devops::manage","direction","estimation::completed","group::import","milestone::p2","section::dev","type::feature","workflow::verification"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"}],"author":{"id":5247073,"username":"hdelalic","name":"Haris Delaliƒá","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5247073/avatar.png","web_url":"https://gitlab.com/hdelalic"},"type":"ISSUE","assignee":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"user_notes_count":15,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/301109","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/301109","notes":"https://gitlab.com/api/v4/projects/278964/issues/301109/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/301109/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#301109","relative":"#301109","full":"gitlab-org/gitlab#301109"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4619,"epic":{"id":126564,"iid":4619,"title":"Group Migration - Parity with Group Export/Import","url":"/groups/gitlab-org/-/epics/4619","group_id":9970,"human_readable_end_date":"Dec 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":78452584,"iid":301106,"project_id":278964,"title":"[Feature flag] delete flag abort_deleted_project_pipelines","description":"## What\n\nRemove the `:abort_deleted_project_pipelines` feature flag which was released as default enabled.\n\n## Owners\n\n- Team: ~\"group::pipeline execution\" \n- Most appropriate slack channel to reach out to: `#g_pipeline_execution`\n- Best individual to reach out to: @allison.browne\n\n## Roll Out Steps\n\n- [x] Remove feature flag and add changelog entry\n- [x] After the flag removal is deployed, [clean up the feature flag](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) by running chatops command in `#production` channel","state":"closed","created_at":"2021-02-04T19:40:25.615Z","updated_at":"2021-12-16T18:15:03.142Z","closed_at":"2021-12-16T18:15:03.110Z","closed_by":{"id":730684,"username":"drew","name":"drew stachon","state":"active","avatar_url":"https://secure.gravatar.com/avatar/59b7f2c95acd4a085d964f745ead6bdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/drew"},"labels":["Category:Continuous Integration","backend","devops::verify","feature flag","group::pipeline execution","missed:13.10","missed:13.12","section::ops","type::maintenance","workflow::in review"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":730684,"username":"drew","name":"drew stachon","state":"active","avatar_url":"https://secure.gravatar.com/avatar/59b7f2c95acd4a085d964f745ead6bdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/drew"}],"author":{"id":4626651,"username":"allison.browne","name":"Allison Browne","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4bc33904c3bd3f2dce3db4e5af4ad1ae?s=80\u0026d=identicon","web_url":"https://gitlab.com/allison.browne"},"type":"ISSUE","assignee":{"id":730684,"username":"drew","name":"drew stachon","state":"active","avatar_url":"https://secure.gravatar.com/avatar/59b7f2c95acd4a085d964f745ead6bdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/drew"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/301106","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":2},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/301106","notes":"https://gitlab.com/api/v4/projects/278964/issues/301106/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/301106/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#301106","relative":"#301106","full":"gitlab-org/gitlab#301106"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6010,"epic":{"id":271035,"iid":6010,"title":"Verify:Pipeline Execution - Feature Flag cleanup","url":"/groups/gitlab-org/-/epics/6010","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":78450083,"iid":301101,"project_id":278964,"title":"Create MR to update documentation to be correct after the simplified_commit_status_group_name feature flag is removed","description":"### Overview\n\nThere are two locations in our documentation that we should update to ensure correctness once the simplified_commit_status_group_name feature flag is ready to go:\n\nThe following discussions from !52644 should be addressed:\n\n- [ ] @drew started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/52644#note_501843918): \n\n    \u003e Follow-up: Post-merge, update this link to a stable line-link to the commit in master.\n\n- [ ] @drew started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/52644#note_501870031): \n\n    \u003e Follow-up: Replace this screenshot with one that does not include groupings of X/Y-prefixed build names. This will no longer be the case.\n\nRight now the updated regular expression is feature flagged, so we shouldn't update them quite yet. But if and when we commit to the new behavior, we should remove the flag and update all of this documentation.","state":"closed","created_at":"2021-02-04T18:38:52.686Z","updated_at":"2021-04-05T22:17:55.808Z","closed_at":"2021-04-05T22:17:55.718Z","closed_by":{"id":730684,"username":"drew","name":"drew stachon","state":"active","avatar_url":"https://secure.gravatar.com/avatar/59b7f2c95acd4a085d964f745ead6bdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/drew"},"labels":["Category:Code Testing and Coverage","Stretch","devops::verify","documentation","follow-up","group::pipeline insights","section::ops","workflow::production"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":730684,"username":"drew","name":"drew stachon","state":"active","avatar_url":"https://secure.gravatar.com/avatar/59b7f2c95acd4a085d964f745ead6bdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/drew"}],"author":{"id":730684,"username":"drew","name":"drew stachon","state":"active","avatar_url":"https://secure.gravatar.com/avatar/59b7f2c95acd4a085d964f745ead6bdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/drew"},"type":"ISSUE","assignee":{"id":730684,"username":"drew","name":"drew stachon","state":"active","avatar_url":"https://secure.gravatar.com/avatar/59b7f2c95acd4a085d964f745ead6bdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/drew"},"user_notes_count":12,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/301101","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/301101","notes":"https://gitlab.com/api/v4/projects/278964/issues/301101/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/301101/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#301101","relative":"#301101","full":"gitlab-org/gitlab#301101"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":78444911,"iid":301091,"project_id":278964,"title":"Test and document feature flags' behaviour in maintenance mode","description":"Following the conversation with @s_awezec https://gitlab.com/gitlab-org/gitlab/-/issues/300574#note_498671692, we want to test and document the following:\n\n- [ ] How does the feature flags' feature behave in maintenance mode? Are FFs stored in the db or elsewhere (redis?)?\n- [ ] How will GitLab's own feature flag workflow be affected by maintenance mode?","state":"closed","created_at":"2021-02-04T16:50:05.233Z","updated_at":"2021-02-16T22:10:24.151Z","closed_at":"2021-02-10T15:14:43.053Z","closed_by":{"id":5722081,"username":"nwestbury","name":"Nick Westbury","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5722081/avatar.png","web_url":"https://gitlab.com/nwestbury"},"labels":["Enterprise Edition","GitLab Premium","devops::systems","group::geo","section::enablement","workflow::in dev"],"milestone":{"id":1233760,"iid":56,"group_id":9970,"title":"13.9","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.334Z","updated_at":"2022-04-21T07:21:28.468Z","due_date":"2021-02-17","start_date":"2021-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/56"},"assignees":[{"id":5722081,"username":"nwestbury","name":"Nick Westbury","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5722081/avatar.png","web_url":"https://gitlab.com/nwestbury"}],"author":{"id":4158075,"username":"aakriti.gupta","name":"Aakriti Gupta","state":"active","avatar_url":"https://secure.gravatar.com/avatar/992a080bc7d9f8c22ff7186db1c76dbd?s=80\u0026d=identicon","web_url":"https://gitlab.com/aakriti.gupta"},"type":"ISSUE","assignee":{"id":5722081,"username":"nwestbury","name":"Nick Westbury","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5722081/avatar.png","web_url":"https://gitlab.com/nwestbury"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/301091","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/301091","notes":"https://gitlab.com/api/v4/projects/278964/issues/301091/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/301091/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#301091","relative":"#301091","full":"gitlab-org/gitlab#301091"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5232,"epic":{"id":184460,"iid":5232,"title":"Test maintenance mode","url":"/groups/gitlab-org/-/epics/5232","group_id":9970,"human_readable_end_date":"Feb 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":78443430,"iid":301086,"project_id":278964,"title":"Make Danger fails when a feature flag is removed and no changelog is added","description":"This would address the use-case where a feature flag is removed with no changelog, creating potential confusion for users: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/53059#what-does-this-mr-do","state":"closed","created_at":"2021-02-04T16:24:49.577Z","updated_at":"2022-03-16T11:45:50.276Z","closed_at":"2021-02-24T10:26:04.317Z","closed_by":{"id":128633,"username":"rymai","name":"R√©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"labels":["Danger bot","Engineering Productivity","WorkingGroup::FeatureFlagUsage","[deprecated] Accepting merge requests","maintenance::workflow","missed:13.9","priority::2","type::maintenance","workflow::in dev"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":128633,"username":"rymai","name":"R√©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"}],"author":{"id":128633,"username":"rymai","name":"R√©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"type":"ISSUE","assignee":{"id":128633,"username":"rymai","name":"R√©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/301086","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/301086","notes":"https://gitlab.com/api/v4/projects/278964/issues/301086/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/301086/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#301086","relative":"#301086","full":"gitlab-org/gitlab#301086"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":78440544,"iid":301082,"project_id":278964,"title":"[FE] VSA - Add sorting to stage tables","description":"In  https://gitlab.com/gitlab-org/gitlab/-/issues/277380 we're switching to a table layout for individual stages on group level VSA.\n\nLet's add the possibility to sort columns in each of the stage tables.\n\nAdding the sort parameter to the URL is out of scope. There's a [separate issue](https://gitlab.com/gitlab-org/gitlab/-/issues/321079) for adding the sort parameters to the URL.","state":"closed","created_at":"2021-02-04T15:47:55.147Z","updated_at":"2021-05-14T04:02:18.617Z","closed_at":"2021-05-13T08:35:24.196Z","closed_by":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"labels":["GitLab Premium","Technical Writing","devops::manage","documentation","frontend","group::optimize","priority::1","release post item","section::dev","type::feature","workflow::production"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"}],"author":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"type":"ISSUE","assignee":{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"},"user_notes_count":28,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/301082","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/301082","notes":"https://gitlab.com/api/v4/projects/278964/issues/301082/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/301082/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#301082","relative":"#301082","full":"gitlab-org/gitlab#301082"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5272,"epic":{"id":188272,"iid":5272,"title":"[VSA] Usability improvements","url":"/groups/gitlab-org/-/epics/5272","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":78440379,"iid":301080,"project_id":278964,"title":"üé® Design: Ability to select a security policy project for scan execution policy","description":"From Slack:\n\n\u003e the UX needed for this super minimal step won't be much, but we will need a place in the UI where we can associate a Security Policy Project with the Project.  This setting could live in the Project Settings page, or perhaps on the Security \u0026 Configuration -\u003e Configuration page.  Either way, I am hoping that drop down selector would be temporary and only last until we either move to the database or until we auto-create (and hide) the associated Security Policy Project.\n\n![Screen_Shot_2021-02-04_at_9.49.24_AM](/uploads/08ec767b3d08d25ef7f0d3ed1a28ca70/Screen_Shot_2021-02-04_at_9.49.24_AM.png)","state":"closed","created_at":"2021-02-04T15:44:26.277Z","updated_at":"2021-02-09T15:52:56.166Z","closed_at":"2021-02-09T15:37:53.853Z","closed_by":{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},"labels":["UX","devops::govern","group::security policies","section::sec","workflow::design"],"milestone":{"id":1233760,"iid":56,"group_id":9970,"title":"13.9","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.334Z","updated_at":"2022-04-21T07:21:28.468Z","due_date":"2021-02-17","start_date":"2021-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/56"},"assignees":[{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"}],"author":{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},"type":"ISSUE","assignee":{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/301080","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/301080","notes":"https://gitlab.com/api/v4/projects/278964/issues/301080/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/301080/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#301080","relative":"#301080","full":"gitlab-org/gitlab#301080"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5329,"epic":{"id":194821,"iid":5329,"title":"MVC: Project-level DAST Scan Execution Policies (pipeline)","url":"/groups/gitlab-org/-/epics/5329","group_id":9970,"human_readable_end_date":"Oct 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":78434738,"iid":301064,"project_id":278964,"title":"Add types of repository files indexed to documentation","description":"\u003c!--\n\n* Use this issue template for suggesting new docs or updates to existing docs.\n  Note: Doc work as part of feature development is covered in the Feature Request template.\n\n* For issues related to features of the docs.gitlab.com site, see\n     https://gitlab.com/gitlab-org/gitlab-docs/issues/\n\n* For information about documentation content and process, see\n     https://docs.gitlab.com/ee/development/documentation/ --\u003e\n\n### Problem to solve\n\n\u003c!-- Include the following detail as necessary:\n* What product or feature(s) affected?\n* What docs or doc section affected? Include links or paths.\n* Is there a problem with a specific document, or a feature/process that's not addressed sufficiently in docs?\n* Any other ideas or requests?\n--\u003e\n\nThe elasticsearch indexer does not include all file types found in the repository (ex: binary files are not indexed). This information it not found in the documentation.\n\n### Further details\n\n\u003c!--\n* Any concepts, procedures, reference info we could add to make it easier to successfully use GitLab?\n* Include use cases, benefits, and/or goals for this work.\n* If adding content: What audience is it intended for? (What roles and scenarios?)\n  For ideas, see personas at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/ or the persona labels at\n  https://gitlab.com/groups/gitlab-org/-/labels?utf8=%E2%9C%93\u0026subscribed=\u0026search=persona%3A\n--\u003e\n\n### Proposal\n\nWe should add information about what file types are indexed (or excluded) to the [documentation](https://docs.gitlab.com/ee/integration/elasticsearch.html#elasticsearch-repository-indexer)\n\n[Code that checks and skips indexing](https://gitlab.com/gitlab-org/gitlab-elasticsearch-indexer/-/blob/master/indexer/blob.go#L96-98)\n\n\u003c!-- Further specifics for how can we solve the problem. --\u003e\n\n### Who can address the issue\n\n\u003c!-- What if any special expertise is required to resolve this issue? --\u003e\n\nAnyone is welcome to edit the documentation :thumbsup: \n\n### Other links/references\n\n\u003c!-- E.g. related GitLab issues/MRs --\u003e","state":"closed","created_at":"2021-02-04T14:52:14.296Z","updated_at":"2022-05-30T17:04:58.315Z","closed_at":"2021-02-10T14:24:39.925Z","closed_by":{"id":5708766,"username":"terrichu","name":"Terri Chu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5708766/avatar.png","web_url":"https://gitlab.com/terrichu"},"labels":["Category:Global Search","[deprecated] Accepting merge requests","advanced search","devops::data_stores","documentation","group::global search","section::enablement","workflow::ready for development"],"milestone":{"id":1233760,"iid":56,"group_id":9970,"title":"13.9","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.334Z","updated_at":"2022-04-21T07:21:28.468Z","due_date":"2021-02-17","start_date":"2021-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/56"},"assignees":[],"author":{"id":5708766,"username":"terrichu","name":"Terri Chu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5708766/avatar.png","web_url":"https://gitlab.com/terrichu"},"type":"ISSUE","assignee":null,"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/301064","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/301064","notes":"https://gitlab.com/api/v4/projects/278964/issues/301064/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/301064/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#301064","relative":"#301064","full":"gitlab-org/gitlab#301064"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3885,"epic":{"id":80344,"iid":3885,"title":"Global Search Documentation Refresh","url":"/groups/gitlab-org/-/epics/3885","group_id":9970},"iteration":null,"health_status":null},{"id":78429968,"iid":301056,"project_id":278964,"title":"Make the Geo OAuth application trusted by default","description":"When a Geo secondary node is set up, we create a System OAuth application, which is currently untrusted by default.\n\nThis means every user that tries to login on a new secondary will first receive this authorization popup:\n\n![image](/uploads/50813bab8b38f745c833ef088b6a975c/image.png)\n\nConsidering that Geo is actually \"provided by GitLab\", the popup seems unnecessary, and we could set the application as trusted by default.","state":"closed","created_at":"2021-02-04T13:48:31.846Z","updated_at":"2021-04-01T21:36:01.192Z","closed_at":"2021-02-22T21:08:30.554Z","closed_by":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"labels":["Enterprise Edition","GitLab Premium","devops::systems","feature::enhancement","group::geo","missed:13.9","section::enablement","type::feature"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"}],"author":{"id":4375373,"username":"cat","name":"Catalin Irimie","state":"active","avatar_url":"https://secure.gravatar.com/avatar/fd4f68fe3a123d56ac4413dc960b7559?s=80\u0026d=identicon","web_url":"https://gitlab.com/cat"},"type":"ISSUE","assignee":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"user_notes_count":4,"merge_requests_count":0,"upvotes":4,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/301056","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/301056","notes":"https://gitlab.com/api/v4/projects/278964/issues/301056/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/301056/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#301056","relative":"#301056","full":"gitlab-org/gitlab#301056"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":78428514,"iid":301049,"project_id":278964,"title":"QA tests for the dependency proxy","description":"### Proposal \n\nFollow up of https://gitlab.com/gitlab-org/gitlab/-/merge_requests/52805#note_499222532:\n\n\u003e From the ~backend side, we're limited to simulate requests done by a real client. Given all the logic around http headers, it could be worth to have the same QA examples executed with the real `docker` client. Even better, run them with different `docker` versions.\n\nThe idea is to have end to end tests for the dependency proxy in different scenarios:\n* Pulling an image not present in the dependency proxy\n* Pulling an image present in the dependency proxy\n* Pulling an image present but stale in the dependency proxy\n\nIdeally, the above should be test across different versions of `docker` since it can have different behaviors. See https://gitlab.com/gitlab-org/gitlab/-/merge_requests/52805#problem-1-headers.","state":"closed","created_at":"2021-02-04T13:25:15.250Z","updated_at":"2022-10-18T07:06:14.705Z","closed_at":"2021-08-13T09:03:53.780Z","closed_by":{"id":4763342,"username":"svistas","name":"Sofia Vistas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4763342/avatar.png","web_url":"https://gitlab.com/svistas"},"labels":["Category:Dependency Proxy","Deliverable","Package:P1","QA","Quality","backend","devops::package","group::package registry","reliability","section::ops","workflow::production"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":4763342,"username":"svistas","name":"Sofia Vistas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4763342/avatar.png","web_url":"https://gitlab.com/svistas"}],"author":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"type":"ISSUE","assignee":{"id":4763342,"username":"svistas","name":"Sofia Vistas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4763342/avatar.png","web_url":"https://gitlab.com/svistas"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/301049","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/301049","notes":"https://gitlab.com/api/v4/projects/278964/issues/301049/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/301049/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#301049","relative":"#301049","full":"gitlab-org/gitlab#301049"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7715,"epic":{"id":467187,"iid":7715,"title":"Container Registry  \u0026 Dependency Proxy End to End Testing","url":"/groups/gitlab-org/-/epics/7715","group_id":9970,"human_readable_end_date":"May 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":78425275,"iid":301037,"project_id":278964,"title":"Support for a `sort` param for `NotesFinder`","description":"This issue was created from a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/52646#note_500050169).\n\nPreviously `NotesFinder` would [always sort notes by `.fresh`](https://gitlab.com/gitlab-org/gitlab/-/blob/2066f29a476e56e00077de22d6980b4c78eb0db8/app/finders/notes_finder.rb#L33), however, in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/52646 we introduced a change that required `NotesFinder` to order by `id` instead due to performance reasons. We could only achieve this by removing the `.fresh` scope [with `.reorder(nil)`](https://gitlab.com/gitlab-org/gitlab/-/blob/bc7b447c7e50464340e58b6449ee90532fe8bb32/app/services/concerns/integrations/project_test_data.rb#L17) which required disabling a cop.\n\nWe would like to add support for a `sort` param for `NotesFinder`.","state":"closed","created_at":"2021-02-04T12:35:36.309Z","updated_at":"2022-11-22T19:50:49.992Z","closed_at":"2021-04-06T21:23:10.219Z","closed_by":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"labels":["Deliverable","backend","devops::manage","group::ecosystem [DEPRECATED]","maintenance::refactor","missed-deliverable","missed:13.10","section::dev","workflow::verification"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"}],"author":{"id":438961,"username":"splattael","name":"Peter Leitzen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/97c2ff0fc99cc4eede69be9ac238c304?s=80\u0026d=identicon","web_url":"https://gitlab.com/splattael"},"type":"ISSUE","assignee":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/301037","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/301037","notes":"https://gitlab.com/api/v4/projects/278964/issues/301037/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/301037/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#301037","relative":"#301037","full":"gitlab-org/gitlab#301037"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":78423408,"iid":301034,"project_id":278964,"title":"Improve maintenance mode documentation","description":"# Based on suggestions from various groups, here are a few improvements to make to the documentation:\n\n- [x] Add documentation about the featrue flag `:maintenance_mode`\n- [x] Add screenshot of error message in maintenance mode\n- [x] Add output from docker commands\n- [x] If there are [LDAP syncs](https://docs.gitlab.com/ee/administration/auth/ldap/) scheduled for that time they may fail if user creation is disabled. Same for [user creations based on SAML](https://docs.gitlab.com/ee/integration/saml.html#general-setup).\n- [x] [How does the feature flags' feature behave?](https://gitlab.com/gitlab-org/gitlab/-/issues/301091)\n- [x] [Package registries' behaviour](https://gitlab.com/gitlab-org/gitlab/-/issues/299342)\n- [x] Document error message when git push fails on primary and secondary\n- [x] [sending emails to create issue comments or Service Desk issues will not work during maintenance mode](https://gitlab.com/gitlab-org/gitlab/-/issues/299349#note_501781787)\n\n- [x] [add a section about Secure funcationlity not triggering scans in matainence mode.](https://gitlab.com/gitlab-org/gitlab/-/issues/300560#note_499999052)\n- [x] Add how [auto devops and terraform integration](https://gitlab.com/gitlab-org/gitlab/-/issues/300566#note_501925875) depend on CI/CD and are affected in maintenance mode\n- [x] [Exolain the thinking behind blocking writes and the trade-offs](https://gitlab.com/gitlab-org/gitlab/-/issues/300576#note_502639582)\n- [x] [docuemnt that deployments will fail](https://gitlab.com/gitlab-org/gitlab/-/issues/300563#note_501791691)\n\n# Documentation to be updated after more testing is done:\n- [ ] [alerts will be raised](https://gitlab.com/gitlab-org/gitlab/-/issues/300571#note_503532422)\n- [x] [Fuzz testing behaviour](https://gitlab.com/gitlab-org/gitlab/-/issues/300560#note_498640798)\n- [ ] [K8S integration behaviour](https://gitlab.com/gitlab-org/gitlab/-/issues/300571#note_500005031)\n- [ ] [Dependency proxy behaviour](https://gitlab.com/gitlab-org/gitlab/-/issues/300559#note_499861073)","state":"closed","created_at":"2021-02-04T12:03:23.963Z","updated_at":"2021-02-16T22:11:56.522Z","closed_at":"2021-02-15T11:02:56.692Z","closed_by":{"id":4158075,"username":"aakriti.gupta","name":"Aakriti Gupta","state":"active","avatar_url":"https://secure.gravatar.com/avatar/992a080bc7d9f8c22ff7186db1c76dbd?s=80\u0026d=identicon","web_url":"https://gitlab.com/aakriti.gupta"},"labels":["Enterprise Edition","GitLab Premium","devops::systems","group::geo","section::enablement","workflow::in review"],"milestone":{"id":1233760,"iid":56,"group_id":9970,"title":"13.9","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.334Z","updated_at":"2022-04-21T07:21:28.468Z","due_date":"2021-02-17","start_date":"2021-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/56"},"assignees":[{"id":4158075,"username":"aakriti.gupta","name":"Aakriti Gupta","state":"active","avatar_url":"https://secure.gravatar.com/avatar/992a080bc7d9f8c22ff7186db1c76dbd?s=80\u0026d=identicon","web_url":"https://gitlab.com/aakriti.gupta"}],"author":{"id":4158075,"username":"aakriti.gupta","name":"Aakriti Gupta","state":"active","avatar_url":"https://secure.gravatar.com/avatar/992a080bc7d9f8c22ff7186db1c76dbd?s=80\u0026d=identicon","web_url":"https://gitlab.com/aakriti.gupta"},"type":"ISSUE","assignee":{"id":4158075,"username":"aakriti.gupta","name":"Aakriti Gupta","state":"active","avatar_url":"https://secure.gravatar.com/avatar/992a080bc7d9f8c22ff7186db1c76dbd?s=80\u0026d=identicon","web_url":"https://gitlab.com/aakriti.gupta"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/301034","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":16,"completed_count":13},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"13 of 16 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/301034","notes":"https://gitlab.com/api/v4/projects/278964/issues/301034/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/301034/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#301034","relative":"#301034","full":"gitlab-org/gitlab#301034"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2149,"epic":{"id":14636,"iid":2149,"title":"Geo: Create a read-only mode (maintenance mode)","url":"/groups/gitlab-org/-/epics/2149","group_id":9970,"human_readable_end_date":"Feb 21, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":78421432,"iid":301029,"project_id":278964,"title":"Frontend: Remove `mixins/timeago.js` and move its logic to pipelines_list/time_ago.vue","description":"### Problem\n\n![Screen_Shot_2021-02-04_at_12.25.00_PM](/uploads/d8ded0ccade25cabcfcae1b602feebd6/Screen_Shot_2021-02-04_at_12.25.00_PM.png)\n\nThe logic of our duration/\"started at\" column in the pipelines list is spread over two files:\n\n- `app/assets/javascripts/pipelines/components/pipelines_list/time_ago.vue`\n- `app/assets/javascripts/vue_shared/mixins/timeago.js`\n\n**Note:** ~~`mixins/timeago.js` is not used anywhere else.~~ Actually this is widely used.\n\n### Proposal\n\nMove the logic of the mixin into the component.\n\n**Bonus:** `durationFormatted()` could be moved to `datetime_utility.js` to improve its testability and use a more functional approach.","state":"closed","created_at":"2021-02-04T11:29:11.411Z","updated_at":"2022-03-28T13:19:15.375Z","closed_at":"2022-03-28T13:19:15.359Z","closed_by":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"labels":["Category:Continuous Integration","Verify candidate","devops::verify","frontend","group::pipeline execution","missed:14.7","onboarding","priority::2","section::ops","type::maintenance","workflow::production"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"}],"author":{"id":1607849,"username":"mrincon","name":"Miguel Rincon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1607849/avatar.png","web_url":"https://gitlab.com/mrincon"},"type":"ISSUE","assignee":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/301029","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/301029","notes":"https://gitlab.com/api/v4/projects/278964/issues/301029/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/301029/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#301029","relative":"#301029","full":"gitlab-org/gitlab#301029"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":78417213,"iid":301018,"project_id":278964,"title":"Expose collapsed status of epic board lists","description":"Similar to issue board lists, we should be able to store and expose whether an epic board list is collapsed or not per user in GraphQL API.\n\nEdit: This issue is only for the exposing of list state. https://gitlab.com/gitlab-org/gitlab/-/issues/321770 stores the state.\n\nRelated to https://gitlab.com/gitlab-org/gitlab/-/issues/233436#note_501090381","state":"closed","created_at":"2021-02-04T10:17:29.908Z","updated_at":"2021-03-04T16:35:49.230Z","closed_at":"2021-02-25T01:28:41.709Z","closed_by":{"id":3717078,"username":"cablett","name":"charlie ablett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3717078/avatar.png","web_url":"https://gitlab.com/cablett"},"labels":["Next Up","backend","devops::plan","group::product planning","section::dev","workflow::staging"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":3717078,"username":"cablett","name":"charlie ablett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3717078/avatar.png","web_url":"https://gitlab.com/cablett"}],"author":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"type":"ISSUE","assignee":{"id":3717078,"username":"cablett","name":"charlie ablett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3717078/avatar.png","web_url":"https://gitlab.com/cablett"},"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/301018","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/301018","notes":"https://gitlab.com/api/v4/projects/278964/issues/301018/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/301018/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#301018","relative":"#301018","full":"gitlab-org/gitlab#301018"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5069,"epic":{"id":163295,"iid":5069,"title":"üèó Epic Boards - MVC 2 - Re-order and edit boards","url":"/groups/gitlab-org/-/epics/5069","group_id":9970,"human_readable_end_date":"Jun 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":78416876,"iid":301017,"project_id":278964,"title":"Expose epics count for epic board lists","description":"Similar to exposing `issues_count` in GraphQL API for issue board lists, we should expose epics count for epics board lists.\n\nRelated to https://gitlab.com/gitlab-org/gitlab/-/issues/233436#note_501090381","state":"closed","created_at":"2021-02-04T10:13:19.455Z","updated_at":"2021-03-04T16:35:43.277Z","closed_at":"2021-02-28T23:12:08.636Z","closed_by":{"id":3717078,"username":"cablett","name":"charlie ablett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3717078/avatar.png","web_url":"https://gitlab.com/cablett"},"labels":["Next Up","backend","devops::plan","group::product planning","section::dev","workflow::in review"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":3717078,"username":"cablett","name":"charlie ablett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3717078/avatar.png","web_url":"https://gitlab.com/cablett"}],"author":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"type":"ISSUE","assignee":{"id":3717078,"username":"cablett","name":"charlie ablett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3717078/avatar.png","web_url":"https://gitlab.com/cablett"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/301017","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/301017","notes":"https://gitlab.com/api/v4/projects/278964/issues/301017/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/301017/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#301017","relative":"#301017","full":"gitlab-org/gitlab#301017"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5067,"epic":{"id":163256,"iid":5067,"title":"üèó Epic Boards - MVC 1 - Create and View epic boards","url":"/groups/gitlab-org/-/epics/5067","group_id":9970,"human_readable_end_date":"Mar 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":78414638,"iid":301010,"project_id":278964,"title":"Refactor: Delete pipelines_list/blank_state.vue in favor of GlEmptyState","description":"### Problem Statement\n\nThe component:\n\n- `app/assets/javascripts/pipelines/components/pipelines_list/blank_state.vue`\n\nDuplicates the function of `\u003cgl-empty-state\u003e` from `gitlab-ui` and provides a similar interface.\n\n|  |\n| ------ |\n| ![image](/uploads/8090f3eaeb5ab71120e9acc307c74628/image.png) |\n\n### Proposal\n\nRemove this component and replace it with `\u003cgl-empty-state\u003e` where used.\n\nThis component is used in 2 places via a Vue mixin:\n\n- `app/assets/javascripts/commit/pipelines/pipelines_table.vue`\n- `app/assets/javascripts/pipelines/components/pipelines_list/pipelines.vue`\n\nFor this removal I propose:\n\n- Delete `app/assets/javascripts/pipelines/components/pipelines_list/blank_state.vue`\n- Remove it from `app/assets/javascripts/pipelines/mixins/pipelines.js`, where its imported as `SvgBlankState`.\n  - This will reduce the size of the Vue mixin a bit\n- Import `GlEmptyState` **locally** into each of the users:\n  - `app/assets/javascripts/commit/pipelines/pipelines_table.vue`\n  - `app/assets/javascripts/pipelines/components/pipelines_list/pipelines.vue`","state":"closed","created_at":"2021-02-04T09:44:19.983Z","updated_at":"2021-03-17T14:16:55.882Z","closed_at":"2021-03-17T14:16:55.833Z","closed_by":{"id":1607849,"username":"mrincon","name":"Miguel Rincon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1607849/avatar.png","web_url":"https://gitlab.com/mrincon"},"labels":["Category:Continuous Integration","devops::verify","frontend","group::pipeline execution","maintenance::refactor","priority::4","section::ops"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":1607849,"username":"mrincon","name":"Miguel Rincon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1607849/avatar.png","web_url":"https://gitlab.com/mrincon"}],"author":{"id":1607849,"username":"mrincon","name":"Miguel Rincon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1607849/avatar.png","web_url":"https://gitlab.com/mrincon"},"type":"ISSUE","assignee":{"id":1607849,"username":"mrincon","name":"Miguel Rincon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1607849/avatar.png","web_url":"https://gitlab.com/mrincon"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/301010","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/301010","notes":"https://gitlab.com/api/v4/projects/278964/issues/301010/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/301010/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#301010","relative":"#301010","full":"gitlab-org/gitlab#301010"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":78409960,"iid":301005,"project_id":278964,"title":"Add \"Submit Vulnerability\" button to Vulnerability Reports page","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\u003c!--\nA brief explanation of the why, not the what or how. Assume the reader doesn't know the\nbackground and won't have time to dig-up information from comment threads.\n--\u003e\n\nToday, all vulnerability objects are created as a result of detections by our Secure scanners or that of an integrated 3rd-party scanner. However, this limits Vulnerability Management to only those vulnerabilities picked up by currently supported tools. To truly make our Vulnerability Management solution suitable for general-purpose use across an organization's entire SDLC (and possibly beyond), we need to provide users with the ability to manually create vulnerability objects.\n\nRelevant design issues:\n\n|||\n|-|-|\n|Add button|https://gitlab.com/gitlab-org/gitlab/-/issues/204818/designs/b01_project-dashboard_all-cases.png|\n|Popover tooltip|https://gitlab.com/gitlab-org/gitlab/-/issues/204818/designs/z01_new-feature-intro.png|\n\n## Context\n\nOnce https://gitlab.com/gitlab-org/gitlab/-/issues/301003 is complete or at least ready to be used, we'll need to make it linkable from the Vulnerability Reports page. This issue is about adding that button.\n\n- When the user hovers on the button, make sure to display an intro message like designed here: https://gitlab.com/gitlab-org/gitlab/-/issues/204818/designs/z01_new-feature-intro.png\n\n## Relevant links\n\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/204818/)\n- [Desired outcome - mock](https://gitlab.com/gitlab-org/gitlab/-/issues/204818/designs/b01_project-dashboard_all-cases.png) (See the `+ Finding` on top right - this text has been changed in the associated design discussion from `+ Finding` to `Submit Vulnerability`, designs were updates were agreed to be unnecessary).\n\n## Implementation plan\n\u003c!--\nSteps and the parts of the code that will need to get updated. The plan can also\ncall-out responsibilities for other team members or teams.\n--\u003e\n\n- [ ] This work should be done behind a feature flag. The feature flag does not exist yet.\n- [ ] Add the `Submit Vulnerability` button to the vulnerability reports page\n- [ ] As per https://gitlab.com/gitlab-org/gitlab/-/issues/301005#note_678272223, wait till https://gitlab.com/gitlab-org/gitlab/-/issues/333624 is completed in order to proceed with this issue. Adding the link is fairly simple so we'll do it at last when we know that \"Add Manual Vulnerability\" page is working properly.","state":"closed","created_at":"2021-02-04T08:50:25.465Z","updated_at":"2022-03-18T07:03:52.129Z","closed_at":"2022-03-14T06:47:24.741Z","closed_by":{"id":5535246,"username":"svedova","name":"Savas Vedova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535246/avatar.png","web_url":"https://gitlab.com/svedova"},"labels":["Category:Vulnerability Management","Deliverable","GitLab Ultimate","devops::secure","documentation","feature::addition","frontend","group::threat insights","missed-deliverable","missed:14.4","missed:14.5","missed:14.6","missed:14.7","section::sec","type::feature","workflow::verification"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":5535246,"username":"svedova","name":"Savas Vedova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535246/avatar.png","web_url":"https://gitlab.com/svedova"}],"author":{"id":5535246,"username":"svedova","name":"Savas Vedova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535246/avatar.png","web_url":"https://gitlab.com/svedova"},"type":"ISSUE","assignee":{"id":5535246,"username":"svedova","name":"Savas Vedova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535246/avatar.png","web_url":"https://gitlab.com/svedova"},"user_notes_count":28,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/301005","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/301005","notes":"https://gitlab.com/api/v4/projects/278964/issues/301005/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/301005/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#301005","relative":"#301005","full":"gitlab-org/gitlab#301005"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5277,"epic":{"id":188956,"iid":5277,"title":"Manually create a Vulnerability record","url":"/groups/gitlab-org/-/epics/5277","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":78409098,"iid":301003,"project_id":278964,"title":"Create \"add manual vulnerability\" page","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\u003c!--\nA brief explanation of the why, not the what or how. Assume the reader doesn't know the\nbackground and won't have time to dig-up information from comment threads.\n--\u003e\n\nToday, all vulnerability objects are created as a result of detections by our Secure scanners or that of an integrated 3rd-party scanner. However, this limits Vulnerability Management to only those vulnerabilities picked up by currently supported tools. To truly make our Vulnerability Management solution suitable for general-purpose use across an organization's entire SDLC (and possibly beyond), we need to provide users with the ability to manually create vulnerability objects.\n\n## Context\n\nThis issue is about creating a standalone page which is reachable from the Vulnerability Reports page. Here are a few points to keep in mind while developing this: \n\n- Ideally, we want to create a new endpoint for this so that this form is easily linkable.\n- This is a big issue. Consider breaking this up into multiple Merge Requests. Just to give an idea, perhaps consider creating a merge request for each of these sections:\n  - Name \u0026 Description\n  - Details\n  - Identifiers\n  - Evidence\n  - Solution\n- When the form is submitted, it should redirect back to the Vulnerability Report page and display a success toaster like designed here: https://gitlab.com/gitlab-org/gitlab/-/issues/204818/designs/z04_Confirmation-Toast-in-Vuln-Report.png\n\n## Relevant links\n\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/204818/)\n- [Desired outcome - mock](https://gitlab.com/gitlab-org/gitlab/-/issues/204818/designs/m01_Manual-result_first-run-experience.png)\n- [Location field discussion](https://gitlab.com/gitlab-org/gitlab/-/issues/346916#note_774449732)\n\n## Implementation plan\n\u003c!--\nSteps and the parts of the code that will need to get updated. The plan can also\ncall-out responsibilities for other team members or teams.\n--\u003e\n\nHere is an example API call: https://gitlab.com/gitlab-org/gitlab/-/issues/10272#note_651413684\n\n- [x] Create new page for \"add manual vulnerability\" feature\n- [ ] Implement the form in the design **except** for the `Add evidence` section and its respective button and field (since that is tracked in https://gitlab.com/gitlab-org/gitlab/-/issues/333620)\n- [ ] Clicking the Submit button should redirect the user to the vulnerability details page\n- [ ] The Submit button should be enabled at all times. If there are missing required fields when it is clicked, the required fields should be highlighted in red with an error message underneath them, and the page should scroll to the first required field. See this page for an example: https://gitlab.com/groups/new#create-group-pane\n\n||\n|-|\n|![Peek_2021-06-14_16-32](/uploads/81154a6397dab7fb9481bed6d7bd8aa7/Peek_2021-06-14_16-32.gif)|\n\n**NOTE:** This feature will be inaccessible until #301005 is complete. Because we cannot create docs that are inaccessible until the feature is done, **do not** add documentation for this issue.","state":"closed","created_at":"2021-02-04T08:39:35.328Z","updated_at":"2022-04-04T16:34:15.687Z","closed_at":"2022-03-16T14:24:47.248Z","closed_by":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"labels":["Category:Vulnerability Management","GitLab Ultimate","customer","devops::secure","documentation","feature::addition","frontend","group::threat insights","missed:14.4","missed:14.5","missed:14.6","section::sec","type::feature","workflow::verification"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[],"author":{"id":5535246,"username":"svedova","name":"Savas Vedova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535246/avatar.png","web_url":"https://gitlab.com/svedova"},"type":"ISSUE","assignee":null,"user_notes_count":62,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/301003","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":1},"weight":5,"blocking_issues_count":1,"has_tasks":true,"task_status":"1 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/301003","notes":"https://gitlab.com/api/v4/projects/278964/issues/301003/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/301003/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#301003","relative":"#301003","full":"gitlab-org/gitlab#301003"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5277,"epic":{"id":188956,"iid":5277,"title":"Manually create a Vulnerability record","url":"/groups/gitlab-org/-/epics/5277","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":78405649,"iid":300997,"project_id":278964,"title":"[Feature flag] Rollout of `ci_workflow_rules_variables`","description":"## What\n\nRemove the `:ci_workflow_rules_variables` feature flag ...\n\n- Feature issue: #294232\n- Introduced in: !52085\n- Fixed in: !58777\n\nTODOs:\n- Remove redundant methods to just control FF and return a value\n- Remove redundant `merge` and just add value into the hash in `lib/gitlab/web_ide/config/entry/terminal.rb`\n\n## Owners\n\n- Team: ~\"group::pipeline authoring\" \n- Most appropriate slack channel to reach out to: `#g_pipeline-authoring`\n- Best individual to reach out to: @furkanayhan \n\n## Expectations\n\n### What are we expecting to happen?\n\nWe are expecting that users can start using [`workflow:rules:variables`](https://docs.gitlab.com/ee/ci/yaml/README.html#workflowrulesvariables).\n\n### What might happen if this goes wrong?\n\nPipelines may fail to start.\n\n### What can we monitor to detect problems with this?\n\n- We should not see a decrease of 201 response code of `Projects::PipelinesController#create` endpoint: https://log.gprd.gitlab.net/goto/7d638af810e4b002de03d9df7132175c\n- We should not see an increase of pipeline creation errors via `PostReceive`: https://log.gprd.gitlab.net/goto/1f47665f46009eab2b3e142a251ac17c\n  - This metric is not enough itself because it is just a **number**. We should provide a metric like; errors / total number of enqueued workers `PostReceive`. Help?\n  - For now; compare it with: https://log.gprd.gitlab.net/goto/542b35f80796baf5163d870af8796391\n\n## Beta groups/projects\n\nIf applicable, any groups/projects that are happy to have this feature turned on early. Some organizations may wish to test big changes they are interested in with a small subset of users ahead of time for example.\n\n- `gitlab-org/gitlab` project\n- `gitlab-org`/`gitlab-com` groups\n- ...\n\n## Roll Out Steps\n\n- [x] Enable on staging (`/chatops run feature set ci_workflow_rules_variables true --staging`)\n- [x] Test on staging\n- [ ] Ensure that documentation has been updated\n- [x] Enable on GitLab.com for individual groups/projects listed above and verify behaviour  (`/chatops run feature set --project=gitlab-org/gitlab ci_workflow_rules_variables true`)\n- [x] Coordinate a time to enable the flag with the SRE oncall and release managers\n  - In `#production` mention `@sre-oncall` and `@release-managers`. Once an SRE on call and Release Manager on call confirm, you can proceed with the rollout\n- [ ] Announce on the issue an estimated time this will be enabled on GitLab.com\n- [x] Enable on GitLab.com by running chatops command in `#production` (`/chatops run feature set ci_workflow_rules_variables true`)\n- [x] Cross post chatops Slack command to `#support_gitlab-com` ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#where-to-run-commands)) and in your team channel\n- [x] Announce on the issue that the flag has been enabled\n- [x] Remove feature flag and add changelog entry\n- [x] After the flag removal is deployed, [clean up the feature flag](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) by running chatops command in `#production` channel\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set --project=gitlab-org/gitlab ci_workflow_rules_variables false\n```","state":"closed","created_at":"2021-02-04T08:02:10.375Z","updated_at":"2021-10-28T14:00:36.568Z","closed_at":"2021-06-24T11:17:05.004Z","closed_by":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"labels":["Category:Pipeline Authoring","backend","devops::verify","feature flag","group::pipeline authoring","section::ops","type::maintenance","workflow::production"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"}],"author":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"type":"ISSUE","assignee":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"user_notes_count":21,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/300997","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":12,"completed_count":9},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"9 of 12 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/300997","notes":"https://gitlab.com/api/v4/projects/278964/issues/300997/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/300997/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#300997","relative":"#300997","full":"gitlab-org/gitlab#300997"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":78394614,"iid":300986,"project_id":278964,"title":"Roll out and remove : remove_comment_close_reopen feature flag","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## What\n\nRemove the `:remove_comment_close_reopen ` feature flag ...\n\n## Owners\n\n- Team: Code Review\n- Most appropriate slack channel to reach out to: `#g_create_code-review`\n- Best individual to reach out to: NAME\n\n## Expectations\n\n### What are we expecting to happen?\n\n### What might happen if this goes wrong?\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? Sentry errors reports can alse be useful to review --\u003e\n\n\n## Beta groups/projects\n\nIf applicable, any groups/projects that are happy to have this feature turned on early. Some organizations may wish to test big changes they are interested in with a small subset of users ahead of time for example.\n\n- `gitlab-org/gitlab` project\n- `gitlab-org`/`gitlab-com` groups\n- ...\n\n## Roll Out Steps\n\n- [ ] Enable on staging (`/chatops run feature set feature_name true --staging`)\n- [ ] Test on staging\n- [ ] Ensure that documentation has been updated\n- [ ] Enable on GitLab.com for individual groups/projects listed above and verify behaviour  (`/chatops run feature set --project=gitlab-org/gitlab feature_name true`)\n- [ ] Coordinate a time to enable the flag with the SRE oncall and release managers\n  - In `#production` mention `@sre-oncall` and `@release-managers`. Once an SRE on call and Release Manager on call confirm, you can proceed with the rollout\n- [ ] Announce on the issue an estimated time this will be enabled on GitLab.com\n- [ ] Enable on GitLab.com by running chatops command in `#production` (`/chatops run feature set feature_name true`)\n- [ ] Cross post chatops Slack command to `#support_gitlab-com` ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#where-to-run-commands)) and in your team channel\n- [ ] Announce on the issue that the flag has been enabled\n- [ ] Remove feature flag and add changelog entry\n- [ ] After the flag removal is deployed, [clean up the feature flag](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) by running chatops command in `#production` channel\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set --project=gitlab-org/gitlab feature_name false\n```","state":"closed","created_at":"2021-02-04T02:17:16.491Z","updated_at":"2021-02-04T10:58:13.109Z","closed_at":"2021-02-04T10:58:13.005Z","closed_by":{"id":4554599,"username":"m_gill","name":"Michelle Gill","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4554599/avatar.png","web_url":"https://gitlab.com/m_gill"},"labels":["backend","feature flag","group::code review","type::feature"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[],"author":{"id":4554599,"username":"m_gill","name":"Michelle Gill","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4554599/avatar.png","web_url":"https://gitlab.com/m_gill"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/300986","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":12,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 12 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/300986","notes":"https://gitlab.com/api/v4/projects/278964/issues/300986/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/300986/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#300986","relative":"#300986","full":"gitlab-org/gitlab#300986"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":78393603,"iid":300985,"project_id":278964,"title":"Fetch recent issue boards using GraphQL","description":"Recent issue boards are currently fetched using REST in `app/assets/javascripts/boards/components/boards_selector.vue`.\n\nThis data should be made available through a GraphQL query. (endpoint is currently `/boards/recent`).\n\nThe fronted will use 2 separated graphQL queries - one for all boards and one for recent boards. See [discussion](https://gitlab.com/gitlab-org/gitlab/-/issues/300985#note_676721858) for more details","state":"closed","created_at":"2021-02-04T01:28:19.481Z","updated_at":"2022-02-01T11:01:31.990Z","closed_at":"2022-01-21T11:09:15.323Z","closed_by":{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"},"labels":["Category:Team Planning","Next Up","backend","boards","devops::plan","group::product planning","section::dev","type::feature","workflow::verification"],"milestone":null,"assignees":[{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"}],"author":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"type":"ISSUE","assignee":{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"},"user_notes_count":24,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/300985","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/300985","notes":"https://gitlab.com/api/v4/projects/278964/issues/300985/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/300985/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#300985","relative":"#300985","full":"gitlab-org/gitlab#300985"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3900,"epic":{"id":80936,"iid":3900,"title":"Refactor Issue Boards to use GraphQL + VueX","url":"/groups/gitlab-org/-/epics/3900","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":78393241,"iid":300984,"project_id":278964,"title":"JIRA issue links should not use the API URL if it is separately defined","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\n\u003c!-- Summarize the bug encountered concisely. --\u003e\n\nWhen specifying different domains for `Jira API URL` and `Web URL` during , the frontend links on the `JIRA Issues` page of a project use the API URL to link to the issues, which does not work.\n\nSome customers utilize a different API URL (domain) to connect to JIRA, while accessing JIRA frontend on another domain. This was formally introduced as a supported configuration in the long past via https://gitlab.com/gitlab-org/gitlab-foss/-/issues/31448 and https://gitlab.com/gitlab-org/gitlab-foss/-/merge_requests/11707, so this behavior could be considered a ~bug.\n\nThe impact of this makes the JIRA issues links unusable after the integration is successfully setup.\n\n### Steps to reproduce\n\n\u003c!-- Describe how one can reproduce the issue - this is very important. Please use an ordered list. --\u003e\n\nNot trivial, unless within context of an integration/unit test case:\n\n- Setup the JIRA to serve API over one domain, and frontend over another\n- Specify both domains in the configuration instructions at https://docs.gitlab.com/ee/user/project/integrations/jira.html#configure-gitlab\n- Visit the JIRA Issues section of the project\n- Inspect any JIRA Issue link\n\n### Example Project\n\n\u003c!-- If possible, please create an example project here on GitLab.com that exhibits the problematic \nbehavior, and link to it here in the bug report. If you are using an older version of GitLab, this \nwill also determine whether the bug is fixed in a more recent version. --\u003e\n\n_Do not have access to a JIRA account to setup one, currently_\n\n### What is the current *bug* behavior?\n\n\u003c!-- Describe what actually happens. --\u003e\n\nLinks to JIRA issues use the API URL domain name as their base.\n\n### What is the expected *correct* behavior?\n\n\u003c!-- Describe what you should see instead. --\u003e\n\nLinks to JIRA issues should use the Web URL domain name as their base.\n\n### Relevant logs and/or screenshots\n\n\u003c!-- Paste any relevant logs - please use code blocks (```) to format console output, logs, and code\n as it's tough to read otherwise. --\u003e\n\nSome are available on the reporting [Customer's ticket](https://gitlab.zendesk.com/agent/tickets/191856) (internal link)\n\nThe customer's specific setup prohibits direct API access on the web URLs, for security and rate-limiting purposes.\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\nReported over version 13.7.5, but problem continues to exist on master, see investigation below.\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\nNot required. Issue can reproduce on GitLab.com too, see investigation below.\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e\n\nThe underlying issue comes from the frontend JIRA Issue Entity serializer relying manually on the JIRA client definition to retrieve the base URL, instead of using some of the nicer methods that build the issue links correctly: https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/serializers/integrations/jira/issue_entity.rb#L60-95\n\nThe JIRA client naturally favors the API URL over the Web one: https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/models/project_services/jira_service.rb#L435-437 and https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/models/project_services/jira_service.rb#L81-95\n\nMaybe the frontend related bits need to be using a method that will favor the Web URL over the API one: https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/models/project_services/jira_service.rb#L137-139","state":"closed","created_at":"2021-02-04T01:07:15.941Z","updated_at":"2022-11-22T19:50:50.717Z","closed_at":"2021-02-23T15:45:02.107Z","closed_by":{"id":1315742,"username":"arturoherrero","name":"Arturo Herrero","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1315742/avatar.png","web_url":"https://gitlab.com/arturoherrero"},"labels":["Category:Integrations","Integration::Jira","Stretch","backend","customer","devops::manage","group::ecosystem [DEPRECATED]","section::dev","type::bug"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":1315742,"username":"arturoherrero","name":"Arturo Herrero","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1315742/avatar.png","web_url":"https://gitlab.com/arturoherrero"}],"author":{"id":7536567,"username":"hchouraria","name":"Harsh Chouraria","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7536567/avatar.png","web_url":"https://gitlab.com/hchouraria"},"type":"ISSUE","assignee":{"id":1315742,"username":"arturoherrero","name":"Arturo Herrero","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1315742/avatar.png","web_url":"https://gitlab.com/arturoherrero"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/300984","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/300984","notes":"https://gitlab.com/api/v4/projects/278964/issues/300984/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/300984/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#300984","relative":"#300984","full":"gitlab-org/gitlab#300984"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":78388495,"iid":300973,"project_id":278964,"title":"Add ability to CRUD an \"Approval Gate\" approval rule on a Project (FE)","description":"### Problem to solve\n\nThis is the ~frontend implementation issue for the feature described by https://gitlab.com/gitlab-org/gitlab/-/issues/267511.\n\n### Proposal\n\nAdd the ability to choose an \"Approval Gate\" as a type of project approval rule.\n\n### Design\n\n|Current UX|üÜï Users or Groups - Default option with 1 approver|üÜï Approval gate with link (no validation)| üÜï Rule inline with popover |\n|---|---|---|---|\n|![Screenshot_2021-02-18_General___Settings___Gitlab_Org_Gitlab_Shell](/uploads/903e397601711f3f55f80aee6c7e96e0/Screenshot_2021-02-18_General___Settings___Gitlab_Org_Gitlab_Shell.png)|![Approvers__1__-_Default](/uploads/1998e26299f62fd028c0f46ffcaa5e41/Approvers__1__-_Default.png)|![Approval_gate__with_link_](/uploads/74f99fe7ac420e12a86bf5ecdb4b0ee6/Approval_gate__with_link_.png)|![](https://gitlab.com/groups/gitlab-org/-/uploads/6eabf00c813d70d5a4c6968fbabb3f62/image.png)|\n\n### Feature flag\n\nThis will use the same ~\"feature flag\" as https://gitlab.com/gitlab-org/gitlab/-/issues/267511, which is currently `:compliance_approval_gates`\n\n### Implementation plan\n\n~frontend - :three:\n\n`Create` \u0026 `Update`\n\n**Only if the name doesn't match one of the [`READONLY_NAMES`](ee/app/assets/javascripts/approvals/components/rule_form.vue#L14) values. We don't want this appearing on the licence compliance or Vulnerability check add approval rules forms!**\n\n1. Pass the `:compliance_approval_gates` feature flag to the ~frontend \n2. Add new `Approver type` dropdown to `ee/app/assets/javascripts/approvals/components/rule_form.vue`\n    - Options: `Users or groups` and `Approval service API`\n3. On `Users or groups`\n    - Hide input `Add approval gate`\n4. On `Approval service API`\n    - Make sure the store uses the new approval gate rule type on store mutations/actions\n    - Hide inputs `Number of approvals required` and `Add approvers`\n    - Show input `Add approval gate`\n    - Validate `Add approval gate` is a valid URL (maybe `\u003cinput type=\"url\" /\u003e` is easiest)\n5. Add `approvalGate` to store and make sure it is submitted in the right places\n6. Add unit tests to `ee/spec/frontend/approvals/components/rule_form_spec.js`\n7. Update QA test `qa/qa/ee/page/merge_request/new.rb`\n\n`Read`\n\n1. Add a new `approval gate` approval cell to `project_rules.vue`\n1. Hide the approvals required cell when a row item is an `Approval service API` \n1. Add unit tests \u0026 QA tests\n\n`Destroy`\n\n1. The `modal_rule_remove.vue` should call the correct delete action depending on the rule type\n1. Add unit tests \u0026 QA tests","state":"closed","created_at":"2021-02-03T21:49:12.135Z","updated_at":"2021-05-27T10:45:09.096Z","closed_at":"2021-04-15T08:41:46.918Z","closed_by":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"labels":["Category:Compliance Management","Enterprise Edition","GitLab Ultimate","devops::manage","frontend","group::compliance","missed:13.10","priority::2","section::dev","workflow::verification"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"}],"author":{"id":4512390,"username":"djensen","name":"Dan Jensen","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4512390/avatar.png","web_url":"https://gitlab.com/djensen"},"type":"ISSUE","assignee":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/300973","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/300973","notes":"https://gitlab.com/api/v4/projects/278964/issues/300973/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/300973/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#300973","relative":"#300973","full":"gitlab-org/gitlab#300973"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3869,"epic":{"id":79474,"iid":3869,"title":"Introduce capability to check external APIs for status in Merge Requests","url":"/groups/gitlab-org/-/epics/3869","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":"at_risk"},{"id":78387482,"iid":300964,"project_id":278964,"title":"Service Desk email get rejected when you use a project suffix","description":"### Summary\n\nWhen I declare a \"Project name suffix\" (for example \"support\")\nAnd then write an E-Mail to contact-project+\u003cuser/group\u003e-\u003cproject\u003e-support@incoming.gitlab.com it gets rejected\n\n### Steps to reproduce\n\nSteps to reproduce\n1. create a project\n2. enable service desk\n3. declare a \"Project name suffix\"\n4. send an email to the new generated address (contact-project+\u003cuser/group\u003e-\u003cproject\u003e-support@incoming.gitlab.com) to create a ticket\n\n### What is the current *bug* behavior?\n\nEmail get's rejected:\n\n\u003e Unfortunately, your email message to GitLab could not be processed.\n\u003e \n\u003e We couldn't find the project. Please check if there's any typo.\n\n\n### What is the expected *correct* behavior?\n\nService Desk creates a new ticket/ issue\n\n### Relevant logs and/or screenshots\n\n![Es1i_XdXIAgyTj9](/uploads/7db5df2549f831427c43d7995db210e5/Es1i_XdXIAgyTj9.png)\n![Es1jT2CWMAINj9e](/uploads/2b8e4a86c70b57f3ae80c243ea3da31b/Es1jT2CWMAINj9e.png)\n\n### Output of checks\n\nThis bug happens on GitLab.com\n\n### Why is this happening\n\nIn [`ServiceDeskHandler`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/email/handler/service_desk_handler.rb#L65) when we see there is a matching project key, we try to find a project by it `project = Project.find_by_service_desk_project_key(match[:key])`. But the `project_key` is not unique across projects therefore incorrect project can be found. Afterwards, `valid_project_key?(project, match[:slug])` will return `false` which is correct as incorrect project has been found.\n\nWe should ideally search project by its `full_path`. But we get the path in the `slug` form so it is not that easy.\n\nWe use [`Gitlab::Utils.slugify`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/utils.rb#L80) method for that. With this method, eg. `group/test-one` and `group/test/one` paths will be resulting to the same string `group-test-one`.","state":"closed","created_at":"2021-02-03T21:17:42.641Z","updated_at":"2023-01-12T00:33:42.754Z","closed_at":"2021-06-15T18:09:47.834Z","closed_by":{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"},"labels":["Category:Service Desk","Deliverable","backend","devops::plan","group::respond","missed-SLO","priority::2","section::dev","severity::2","type::bug","workflow::verification"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"}],"author":{"id":6158134,"username":"BeowuIf","name":"Beowulf","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6158134/avatar.png","web_url":"https://gitlab.com/BeowuIf"},"type":"ISSUE","assignee":{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"},"user_notes_count":38,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/300964","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/300964","notes":"https://gitlab.com/api/v4/projects/278964/issues/300964/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/300964/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#300964","relative":"#300964","full":"gitlab-org/gitlab#300964"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":78386927,"iid":300961,"project_id":278964,"title":"Impersonation start/stop audit events not appearing on the group-level page","description":"### Problem to solve\n\nAudit Events for \"impersonation start/stop\" are not appearing in the group-level Audit Events page.  Although the impersonation actions are appearing, it would be helpful to show the start/stop as well.\n\n### Proposal\n\nAudit Events for beginning and ending an impersonation session should appear in the group-level audit log when the impersonated user belongs to a group (in addition to the instance-level audit log as they do already).\n\n![image](/uploads/775dd75d911e892f3ad62c01450608dd/image.png)\n\nIn this table, that is represented by the top three rows.\n\n### Proposal note\n\nThis is about showing instance-level AuditEvents in the group-level Audit log, which is closely related to [showing project-level AuditEvents in the group-level Audit log](https://gitlab.com/gitlab-org/gitlab/-/issues/39139).\n\n### Implementation plan\n\n~backend weight :three: \n\n1. [ ] Update ImpersonationAuditEventService to accept an optional `entity`.\n1. [ ] Create a service to create an `ImpersonationEvent` for each `user.groups` in batches as a background job. \n   - [See inserting into tables in batches docs.](https://docs.gitlab.com/ee/development/insert_into_tables_in_batches.html#insert-into-tables-in-batches)\n   - Do this only for a the user's direct memberships, ie exclude inherited subgroups.\n1. [ ] Create a `Started Impersonation` in [`users_controller.rb`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/controllers/ee/admin/users_controller.rb#L34) using the new service.\n1. [ ] Create a `Stopped Impersonation` in [`application_controller.rb`](https://gitlab.com/gitlab-org/gitlab/blob/master/ee/app/controllers/ee/application_controller.rb#L38) using the new service.\n1. [ ] Update [audit events docs](https://docs.gitlab.com/ee/administration/audit_events.html#group-events).\n1. [ ] Update specs.","state":"closed","created_at":"2021-02-03T21:01:27.296Z","updated_at":"2022-03-21T07:27:41.677Z","closed_at":"2022-02-11T08:51:37.447Z","closed_by":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"labels":["Category:Audit Events","OKR","audit_events::user_permissions","backend","devops::manage","group::compliance","priority::3","release post item::in review","section::dev","type::feature","workflow::verification"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"}],"author":{"id":4512390,"username":"djensen","name":"Dan Jensen","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4512390/avatar.png","web_url":"https://gitlab.com/djensen"},"type":"ISSUE","assignee":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"user_notes_count":44,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/300961","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/300961","notes":"https://gitlab.com/api/v4/projects/278964/issues/300961/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/300961/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#300961","relative":"#300961","full":"gitlab-org/gitlab#300961"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5314,"epic":{"id":193787,"iid":5314,"title":"Improve Audit Event Impersonation Experience","url":"/groups/gitlab-org/-/epics/5314","group_id":9970,"human_readable_end_date":"Feb 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":78377678,"iid":300925,"project_id":278964,"title":"Rename `pipelines_actions.vue` to `pipelines_manual_actions_dropdown.vue`","description":"### Problem Description\n\nThe name of the file `app/assets/javascripts/pipelines/components/pipelines_list/pipelines_actions.vue` is very ambiguous and it doesn't clarify what the component does. \n\nThis is the component:\n\n![image](/uploads/1ff26bfe2a7caec47b286cbf24ee9eef/image.png)\n\n### Proposal\n\nRename occurrences of `pipelines_actions.vue` and `PipelinesActionsComponent` in favor of `pipelines_manual_actions_dropdown.vue` and `PipelinesManualActionsDropdown` respectively.\n\n### Original MR\n\nThe following discussion from !53223 should be addressed:\n\n- [ ] @mrincon started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/53223#note_500776903): \n\n    \u003e **To follow up:** This component and file should be renamed to `pipelines_manual_actions_dropdown.vue`.","state":"closed","created_at":"2021-02-03T17:48:07.932Z","updated_at":"2021-02-25T17:51:24.458Z","closed_at":"2021-02-25T17:51:24.394Z","closed_by":{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"},"labels":["Category:Continuous Integration","devops::verify","frontend","group::pipeline execution","maintenance::refactor","priority::1","section::ops","workflow::in review"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"}],"author":{"id":1607849,"username":"mrincon","name":"Miguel Rincon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1607849/avatar.png","web_url":"https://gitlab.com/mrincon"},"type":"ISSUE","assignee":{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"},"user_notes_count":7,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/300925","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/300925","notes":"https://gitlab.com/api/v4/projects/278964/issues/300925/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/300925/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#300925","relative":"#300925","full":"gitlab-org/gitlab#300925"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":78375427,"iid":300918,"project_id":278964,"title":"Create feature flag for Security Orchestration Policies","description":"# Description \n\nFeature flag: New feature flag has to be created (`security_orchestration_policies`) and execute actions from policies only on projects with enabled flag","state":"closed","created_at":"2021-02-03T17:14:40.357Z","updated_at":"2021-02-15T10:33:13.359Z","closed_at":"2021-02-15T10:33:13.313Z","closed_by":{"id":3696420,"username":"caneldem","name":"Can Eldem","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3696420/avatar.png","web_url":"https://gitlab.com/caneldem"},"labels":["Category:Security Policy Management","backend","devops::govern","group::security policies","section::sec","workflow::refinement"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":3696420,"username":"caneldem","name":"Can Eldem","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3696420/avatar.png","web_url":"https://gitlab.com/caneldem"}],"author":{"id":3696420,"username":"caneldem","name":"Can Eldem","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3696420/avatar.png","web_url":"https://gitlab.com/caneldem"},"type":"ISSUE","assignee":{"id":3696420,"username":"caneldem","name":"Can Eldem","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3696420/avatar.png","web_url":"https://gitlab.com/caneldem"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/300918","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/300918","notes":"https://gitlab.com/api/v4/projects/278964/issues/300918/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/300918/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#300918","relative":"#300918","full":"gitlab-org/gitlab#300918"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5329,"epic":{"id":194821,"iid":5329,"title":"MVC: Project-level DAST Scan Execution Policies (pipeline)","url":"/groups/gitlab-org/-/epics/5329","group_id":9970,"human_readable_end_date":"Oct 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":78375274,"iid":300916,"project_id":278964,"title":"Remove serialization code for renamed application setting column `asset_proxy_whitelist`","description":"https://gitlab.com/gitlab-org/gitlab/-/merge_requests/50824 renamed the application setting from `asset_proxy_whitelist` to `asset_proxy_allowlist` and also removed the serialization code from the old column.\n\nThis caused https://gitlab.com/gitlab-com/gl-infra/production/-/issues/3494 because before the migration (renaming the column) the Rails code was trying to use load the new (but not yet existing) and fell back to the old (existing but unserialized) column which returned a YAML string instead of any Array. See https://gitlab.com/gitlab-org/gitlab/-/blob/9f4230b0e639dd2659ddb2edc0aaf37c043d2c84/lib/banzai/filter/asset_proxy_filter.rb#L62-63\n\nTo mitigate this failure https://gitlab.com/gitlab-org/gitlab/-/merge_requests/53272 brought back the serialization code for the old column which should be removed in the next release.","state":"closed","created_at":"2021-02-03T17:11:37.846Z","updated_at":"2021-06-08T00:53:21.186Z","closed_at":"2021-06-08T00:53:08.461Z","closed_by":{"id":398752,"username":"tancnle","name":"Tan Le","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/398752/avatar.png","web_url":"https://gitlab.com/tancnle"},"labels":["backend","devops::manage","group::compliance","maintenance::refactor","section::dev","type::maintenance"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":398752,"username":"tancnle","name":"Tan Le","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/398752/avatar.png","web_url":"https://gitlab.com/tancnle"}],"author":{"id":438961,"username":"splattael","name":"Peter Leitzen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/97c2ff0fc99cc4eede69be9ac238c304?s=80\u0026d=identicon","web_url":"https://gitlab.com/splattael"},"type":"ISSUE","assignee":{"id":398752,"username":"tancnle","name":"Tan Le","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/398752/avatar.png","web_url":"https://gitlab.com/tancnle"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/300916","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/300916","notes":"https://gitlab.com/api/v4/projects/278964/issues/300916/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/300916/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#300916","relative":"#300916","full":"gitlab-org/gitlab#300916"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":78366287,"iid":300902,"project_id":278964,"title":"DAST Site Validation - Add ability to revoke validation - Documentation","description":"Epic - https://gitlab.com/groups/gitlab-org/-/epics/4872\n\n### Propsal\n\n- [x] Document revoke DAST site validation feature\n- [x] Add it to https://docs.gitlab.com/ee/user/application_security/dast/#validate-a-site-profile","state":"closed","created_at":"2021-02-03T14:51:32.839Z","updated_at":"2021-02-08T14:53:46.084Z","closed_at":"2021-02-08T14:53:46.037Z","closed_by":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"labels":["Category:DAST","devops::secure","documentation","group::dynamic analysis","workflow::production"],"milestone":{"id":1233760,"iid":56,"group_id":9970,"title":"13.9","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.334Z","updated_at":"2022-04-21T07:21:28.468Z","due_date":"2021-02-17","start_date":"2021-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/56"},"assignees":[{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"}],"author":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"type":"ISSUE","assignee":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/300902","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":2},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/300902","notes":"https://gitlab.com/api/v4/projects/278964/issues/300902/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/300902/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#300902","relative":"#300902","full":"gitlab-org/gitlab#300902"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4872,"epic":{"id":142299,"iid":4872,"title":"DAST Site Validation - Add ability to revoke validation","url":"/groups/gitlab-org/-/epics/4872","group_id":9970,"human_readable_end_date":"Feb 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":78365340,"iid":300899,"project_id":278964,"title":"Some strings in MR Diffs are printing their namespaces into the UI","description":"The [lines for files that are too large](https://gitlab.com/gitlab-org/gitlab/-/blob/5216d955d73cbf75c5f03b9560fe5e37c0a44874/app/assets/javascripts/diffs/i18n.js#L12-13) are printing the namespace strings into the UI instead of being stripped before showing.","state":"closed","created_at":"2021-02-03T14:40:27.368Z","updated_at":"2021-02-18T02:22:38.792Z","closed_at":"2021-02-18T02:22:38.723Z","closed_by":{"id":4414431,"username":"thomasrandolph","name":"Thomas Randolph","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6462fcd577d8c957abd2dc23956cfbec?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomasrandolph"},"labels":["devops::create","frontend","group::code review","merge requests","section::dev","type::bug","workflow::production"],"milestone":{"id":1233760,"iid":56,"group_id":9970,"title":"13.9","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.334Z","updated_at":"2022-04-21T07:21:28.468Z","due_date":"2021-02-17","start_date":"2021-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/56"},"assignees":[{"id":4414431,"username":"thomasrandolph","name":"Thomas Randolph","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6462fcd577d8c957abd2dc23956cfbec?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomasrandolph"}],"author":{"id":4414431,"username":"thomasrandolph","name":"Thomas Randolph","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6462fcd577d8c957abd2dc23956cfbec?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomasrandolph"},"type":"ISSUE","assignee":{"id":4414431,"username":"thomasrandolph","name":"Thomas Randolph","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6462fcd577d8c957abd2dc23956cfbec?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomasrandolph"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/300899","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/300899","notes":"https://gitlab.com/api/v4/projects/278964/issues/300899/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/300899/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#300899","relative":"#300899","full":"gitlab-org/gitlab#300899"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":78359178,"iid":300892,"project_id":278964,"title":"Rollback button in environment details is not rounded correctly","description":"### Description\n\nVisit an environment details:\n\n1. Visit the list of environments, e.g. https://gitlab.com/gitlab-org/gitlab/-/environments/folders/review?page=1\u0026scope=available\n2. Click on one of the environments.\n3. In the environment actions page the one of the buttons:\n\n![image](/uploads/490bcc062119f44da91951e9d4a73aee/image.png)\n\nThe icon at the corner isn't rounded, the one before it is.\n\n### Original MR note\n\nhttps://gitlab.com/gitlab-org/gitlab/-/merge_requests/53155#note_500273851.","state":"closed","created_at":"2021-02-03T13:17:29.414Z","updated_at":"2021-12-28T17:09:57.567Z","closed_at":"2021-12-28T17:09:57.555Z","closed_by":{"id":1607849,"username":"mrincon","name":"Miguel Rincon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1607849/avatar.png","web_url":"https://gitlab.com/mrincon"},"labels":["Category:Release Orchestration","Release::P3","UI polish","UX","[deprecated] Accepting merge requests","[deprecated] low hanging fruit","cicd::active","devops::release","environments","frontend","group::release","missed:13.10","section::ops","workflow::ready for development"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":1607849,"username":"mrincon","name":"Miguel Rincon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1607849/avatar.png","web_url":"https://gitlab.com/mrincon"},"type":"ISSUE","assignee":null,"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/300892","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/300892","notes":"https://gitlab.com/api/v4/projects/278964/issues/300892/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/300892/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#300892","relative":"#300892","full":"gitlab-org/gitlab#300892"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":78348249,"iid":300877,"project_id":278964,"title":"Schema validation fails during QA for bundler-audit and retire.js: dependency_files field is required","description":"### Summary\n\nReport schema validation error for [bundler-audit](https://gitlab.com/gitlab-org/security-products/analyzers/bundler-audit) and [retire.js](https://gitlab.com/gitlab-org/security-products/analyzers/retire.js) because `dependency_files` field is required by JSON schema for Dependency Scanning (DS) reports.\n\n### Further details\n\nDependency Scanning analyzers [bundler-audit](https://gitlab.com/gitlab-org/security-products/analyzers/bundler-audit) and [retire.js](https://gitlab.com/gitlab-org/security-products/analyzers/retire.js) don't generate a dependency list, so they don't set the `dependency_files` field in the JSON report they generate. However, this field is required. See [JSON schema](https://gitlab.com/gitlab-org/security-products/security-report-schemas/-/blob/v3.0.0/dist/dependency-scanning-report-format.json#L9). We could and should fix the schema to make this field optional, but there's no easy fix because the analyzer generate reports in schema v3.0.0, whereas the latest version of the schemas is v13.0.0.\n- The solution is to upgrade the [report](https://gitlab.com/gitlab-org/security-products/analyzers/report/) package to make it generate reports that validate v13.0.0, and update the analyzer to use this package, but this is a significant effort.\n- A workaround would be to fix v3.0.0 and publish the fix as v3.0.1, but the schemas would have a broken history (inconsistent changelog). Also, we would have to update the `report` package so that it sets the `version` field to v3.0.1, to match the schema version, and this adds to the work.\n\n### Steps to reproduce\n\nTrigger a pipeline in one of the Secure test projects supported by [bundler-audit](https://gitlab.com/gitlab-org/security-products/analyzers/bundler-audit) or [retire.js](https://gitlab.com/gitlab-org/security-products/analyzers/retire.js).\n\n### Example Project\n\nhttps://gitlab.com/gitlab-org/security-products/tests/ruby-bundler/\n\n### What is the current *bug* behavior?\n\nJSON schema validation fails, in the Dependency Scanning QA job:\n\n```\n'dependency_files' is a required property\n```\n\nSee https://gitlab.com/gitlab-org/security-products/tests/ruby-bundler/-/jobs/1003714231\n\n### What is the expected *correct* behavior?\n\nSuccessful schema validation\n\n### Possible fixes\n\n- fix: publish a new version of the Dependency Scanning report schema where `dependency_files` optional, update `report` lib to use that new version, update all 5 Dependency Scanning analyzers =\u003e The way to go.\n- fix: ~~make `dependency_files` optional in JSON schemas v3, publish as v3.0.1, update report lib and analyzers to set `version` field of the report to `3.0.1`; this is a workaround since v3 shouldn't changed.~~ All 5 Dependency Scanning analyzers now create reports in version [v14.0.0](https://gitlab.com/gitlab-org/security-products/security-report-schemas/-/blob/v14.0.0/dist/dependency-scanning-report-format.json) of the report format.\n- workaround: change the `compare_report.sh` script in order to set `dependency_files` to an empty JSON array right before schema validation, when this is a DS report; this workaround would be removed after implementing the proper solution\n   - implemented in https://gitlab.com/gitlab-org/security-products/ci-templates/-/merge_requests/204\n   - ported to image integration tests in https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/-/merge_requests/194\n\n### Implementation plan\n\n- [ ] drop [src/dependency-scanning-report-format.json#L28](https://gitlab.com/gitlab-org/security-products/security-report-schemas/-/blob/v14.0.0/src/dependency-scanning-report-format.json#L28), and publish a new version of the schema where `dependency_files` is optional\n- [ ] update the [analyzers/report](https://gitlab.com/gitlab-org/security-products/analyzers/report) package, and bump to the new version of the schema; this is similar to https://gitlab.com/gitlab-org/security-products/analyzers/report/-/merge_requests/4\n- [ ] update all 5 Dependency Scanning analyzers\n   - update the `analyzers/report` in project dependencies\n   - update the `version` of the expected report, in the `qa/expect` directory\n   - publish new version\n- revert existing workarounds\n   - [ ] remove workaround for job integration tests, implemented in https://gitlab.com/gitlab-org/security-products/ci-templates/-/merge_requests/204\n   - [ ] remove workaround for image integration tests, implemented in https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/-/merge_requests/194\n\n/cc @willmeek @ifrenkel @brytannia","state":"closed","created_at":"2021-02-03T10:16:43.732Z","updated_at":"2022-10-14T08:35:30.641Z","closed_at":"2022-02-14T20:21:34.715Z","closed_by":{"id":52092,"username":"gonzoyumo","name":"Olivier Gonzalez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/651e0ff81c3995a05269f7c80895fe89?s=80\u0026d=identicon","web_url":"https://gitlab.com/gonzoyumo"},"labels":["Category:Dependency Scanning","Enterprise Edition","GitLab Ultimate","[deprecated] Accepting merge requests","backend","blocked","devops::secure","group::composition analysis","maintenance::pipelines","priority::4","section::sec","type::maintenance","won't do","wontfix","workflow::ready for development"],"milestone":null,"assignees":[],"author":{"id":1958785,"username":"fcatteau","name":"Fabien Catteau","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1958785/avatar.png","web_url":"https://gitlab.com/fcatteau"},"type":"ISSUE","assignee":null,"user_notes_count":17,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/300877","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":5,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 5 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/300877","notes":"https://gitlab.com/api/v4/projects/278964/issues/300877/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/300877/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#300877","relative":"#300877","full":"gitlab-org/gitlab#300877"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":78346090,"iid":300874,"project_id":278964,"title":"Change Author to Owner for CICD attributes","description":"### Summary\n\nOn the `/-/settings/ci_cd` page when there are [`Pipeline subscriptions`](https://docs.gitlab.com/ee/ci/multi_project_pipelines.html#trigger-a-pipeline-when-an-upstream-project-is-rebuilt) controls where you can subscribe to other project pipelines:\n\n![image](/uploads/2bda482a8847da8e9f3b25fad2646bb4/image.png)\n\n\nWhen we are displaying the list of subscriptions we show the project's owner as `Author` and with [`user_avatar_without_link`](https://gitlab.com/gitlab-org/gitlab/-/blob/f3d7d0630a992553b917680d718af2f1f36395c4/ee/app/views/projects/settings/subscriptions/_project.html.haml#L6) we show an avatar for it. The problem is that a [project's owner](https://gitlab.com/gitlab-org/gitlab/-/blob/f3d7d0630a992553b917680d718af2f1f36395c4/app/models/project.rb#L1425-1427) is most likely a group, not a user leading to issues like https://gitlab.com/gitlab-org/gitlab/-/issues/300739#note_499989481 when someone changes the `user_avatar_without_link` method. This is bad because the method name suggests that it's argument is always a User instance and it can be customized with user specific attributes.  \n\n### Proposal\n\nChange `Author` to `Owner` and use an appropriate avatar method based on the owner's class:\n\n![image](/uploads/da320fc037f1b81044df17b98d3feb2e/image.png)\n\n```diff\ndiff --git a/ee/app/views/projects/settings/subscriptions/_index.html.haml b/ee/app/views/projects/settings/subscriptions/_index.html.haml\nindex 5635a0db356..03e02ac177e 100644\n--- a/ee/app/views/projects/settings/subscriptions/_index.html.haml\n+++ b/ee/app/views/projects/settings/subscriptions/_index.html.haml\n@@ -19,7 +19,7 @@\n       %thead\n         %tr\n           %th= _(\"Project\")\n-          %th= _(\"Author\")\n+          %th= _(\"Owner\")\n           %th\n       %tbody\n         - @project.upstream_project_subscriptions.each do |subscription|\ndiff --git a/ee/app/views/projects/settings/subscriptions/_project.html.haml b/ee/app/views/projects/settings/subscriptions/_project.html.haml\nindex e8e450d8930..96a7a32ab67 100644\n--- a/ee/app/views/projects/settings/subscriptions/_project.html.haml\n+++ b/ee/app/views/projects/settings/subscriptions/_project.html.haml\n@@ -3,7 +3,7 @@\n   %td\n     = project.name\n   %td\n-    = user_avatar_without_link(user: project.owner, size: 32)\n+    = project.owner.is_a?(User) ? user_avatar_without_link(user: project.owner, size: 32) : group_icon(project.owner)\n     = project.owner.name\n   %td.gl-text-right\n     = link_to project_subscription_path(@project, subscription.id), method: :delete, data: { toggle: 'tooltip', title: tooltip, container: 'body', testid: 'delete-subscription' }, class: \"gl-button btn btn-danger\" do\n```\n\nWe should add an E2E spec for this scenario as well.","state":"closed","created_at":"2021-02-03T09:43:46.591Z","updated_at":"2021-05-18T07:07:23.368Z","closed_at":"2021-05-04T13:57:31.495Z","closed_by":{"id":731181,"username":"mbobin","name":"Marius Bobin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c0a726d6aa37d780309f7b3ea3555a14?s=80\u0026d=identicon","web_url":"https://gitlab.com/mbobin"},"labels":["Category:Continuous Integration","Deliverable","UX","backend","devops::verify","frontend","group::pipeline execution","maintenance::refactor","pd::finished","priority::1","section::ops","severity::1","type::bug","workflow::production"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":731181,"username":"mbobin","name":"Marius Bobin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c0a726d6aa37d780309f7b3ea3555a14?s=80\u0026d=identicon","web_url":"https://gitlab.com/mbobin"}],"author":{"id":731181,"username":"mbobin","name":"Marius Bobin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c0a726d6aa37d780309f7b3ea3555a14?s=80\u0026d=identicon","web_url":"https://gitlab.com/mbobin"},"type":"ISSUE","assignee":{"id":731181,"username":"mbobin","name":"Marius Bobin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c0a726d6aa37d780309f7b3ea3555a14?s=80\u0026d=identicon","web_url":"https://gitlab.com/mbobin"},"user_notes_count":23,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/300874","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/300874","notes":"https://gitlab.com/api/v4/projects/278964/issues/300874/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/300874/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#300874","relative":"#300874","full":"gitlab-org/gitlab#300874"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":78345319,"iid":300872,"project_id":278964,"title":"[UX] Redirect in app trial iteration: Add a message to highlight new security features after users started a trial from the security dashboard","description":"### [Experiment hypothesis](https://gitlab.com/groups/gitlab-org/-/epics/4728#hypothesis)\n\n## Proposed solution\nAdd a message to highlight new security features after users started a trial from the security dashboard.\n\n### Flow\n\n![redirect-popover-confirmation-iteration](/uploads/300cac94236a90e119e65ec249fc4c87/redirect-popover-confirmation-iteration.gif)\n\n#### [üìê Specs](https://www.figma.com/file/YZHfQadDxMlKPU571JhXcK/Redirect-to-trial-feature?node-id=214%3A346)\n\n## How do we measure success?\n\nWe'll measure the impact of the changes on Security features adoption after starting a trial (Secure usage rate) while monitoring conversion rate.\n\n* Current secure usage rate: TBC on results from https://gitlab.com/gitlab-org/gitlab/-/issues/300871\n* Targeted secure usage rate: TBC on results from https://gitlab.com/gitlab-org/gitlab/-/issues/300871","state":"closed","created_at":"2021-02-03T09:33:59.383Z","updated_at":"2021-07-19T13:36:05.829Z","closed_at":"2021-05-12T13:02:22.198Z","closed_by":{"id":4413992,"username":"s_awezec","name":"Sam Awezec","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4413992/avatar.png","web_url":"https://gitlab.com/s_awezec"},"labels":["Category:Conversion Experiment","UX","UX Growth Team","[deprecated] Accepting merge requests","devops::growth","group::acquisition","section::growth","workflow::design"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[],"author":{"id":4412383,"username":"kcomoli","name":"Kevin Comoli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4412383/avatar.png","web_url":"https://gitlab.com/kcomoli"},"type":"ISSUE","assignee":null,"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/300872","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/300872","notes":"https://gitlab.com/api/v4/projects/278964/issues/300872/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/300872/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#300872","relative":"#300872","full":"gitlab-org/gitlab#300872"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4728,"epic":{"id":135334,"iid":4728,"title":"[UX] Redirect in-app trial users to the feature that they requested the trial from","url":"/groups/gitlab-org/-/epics/4728","group_id":9970,"human_readable_end_date":"May 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null}]