[{"id":31443427,"iid":208662,"project_id":278964,"title":"Take Note confidential attribute into account for search","description":"As mentioned in https://gitlab.com/gitlab-org/gitlab/issues/207468#note_295373155 we'll need to ensure that the `confidential` attribute for notes is respected in the same way the `confidential` attribute for issues is, which implies some changes to how the notes search and indexing takes place.\n\nAs an absolute minimum, we could exclude all confidential notes from ES-backed search. \n\nWorks needs to be done on this include:\n\n1. Indexing the new column in Elasticsearch\n1. Updating the spec to cover new permutations of private notes (see `ee/spec/services/search/*_service_spec.rb`)\n1. Update `NoteClassProxy` to make the specs pass (see IssueClassProxy for example of filtering on confidential issue).\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2020-03-02T07:30:06.105Z","updated_at":"2023-01-12T00:34:33.953Z","closed_at":"2020-06-15T19:16:41.930Z","closed_by":{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"},"labels":["Category:Global Search","Category:Service Desk","Enterprise Edition","backend","customer","devops::plan","direction","group::respond","issues","merge requests","type::feature","workflow::verification"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"}],"author":{"id":508743,"username":"jarka","name":"Jarka Ko≈°anov√°","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"},"type":"ISSUE","assignee":{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"},"user_notes_count":6,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/208662","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/208662","notes":"https://gitlab.com/api/v4/projects/278964/issues/208662/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/208662/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#208662","relative":"#208662","full":"gitlab-org/gitlab#208662"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2697,"epic":{"id":22398,"iid":2697,"title":"Allow private comments on all commentable resources","url":"/groups/gitlab-org/-/epics/2697","group_id":9970,"human_readable_end_date":"May 17, 2023","human_readable_timestamp":"\u003cstrong\u003e4\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":31439044,"iid":208655,"project_id":278964,"title":"Annotate non-deployment jobs with `prepare` keyword on `environment:action:` keyword","description":"### Problem to solve \n\nThe current .gitlab-ci.yml environment:action keyword does not accurately represent cases where an environment is not resulting in a deploy job. We are looking to more clearly annotate in the yaml and environment experience the state of non-deployment environment jobs \n\nToday, we have [`environment:action:`](https://docs.gitlab.com/ee/ci/yaml/#environmentaction) keyword in .gitlab-ci.yml that supports `start` and `stop` as the value. If it's not specified, **`start` is used by default**. But this behavior causes some problems in advanced CD scenario.\n\n#### Problem 1: Approvals for deployments\n\nLooking at this blog post https://about.gitlab.com/blog/2020/02/20/protecting-manual-jobs/, it suggests defining two jobs `approve` and `deploy` with the same `environment:name:`. The `approval` job must specify `environment:` keyword because it restricts manual-job permission via [protected environments](https://docs.gitlab.com/ee/ci/environments/protected_environments.html). For example, user has the following .gitlab-ci.yml:\n\n```yml\napprove:\n  stage: approve\n  script: echo\n  environment:\n    name: production\n    url: https://example.com\n  when: manual\n  allow_failure: false\n\ndeploy:\n  stage: deploy\n  script: echo\n  environment:\n    name: production\n    url: https://example.com\n```\n\nThis works as-is, however, it causes a side effect that users see `approve` job as the latest _deployment_ job in [environment/deployment page](https://docs.gitlab.com/ee/ci/environments.html#viewing-environments-and-deployments), which is **not true**. This is because the system recognizes the `appprove` job as `environment:action:start` job, which implies that the job is supposed to start an environment with deploying new code, which again **not true**.\n\n#### Problem 2: Preparation for deployments\n\nAs @caroga pointed out in https://gitlab.com/gitlab-org/gitlab/-/issues/215469#note_331095252, `environment:` keyword could be specified to a job that just _builds_ an docker image for a latter deployment stage. In this case, `environment:` must be specified because [environment-specific variables](https://docs.gitlab.com/ee/ci/variables/#limiting-environment-scopes-of-environment-variables) are used in the build script. For example, user has the following .gitlab-ci.yml:\n\n```yaml\nbuild-review-nginx:\n  script: build_nginx\n  environment:\n    name: review\n\nbuild-review-fpm:\n  script: build_fpm\n  environment:\n    name: review\n```\n\nHowever, it doesn't work as intended because [Limit the pipeline job concurrency](https://docs.gitlab.com/ee/ci/yaml/#resource_group) and [Skip outdated deployment jobs](https://docs.gitlab.com/ee/ci/pipelines/settings.html#skip-outdated-deployment-jobs) features do **NOT** allow to run multiple jobs to run on the same environment concurrently. This is because the system recognizes the `build-review-nginx` and `build-review-fpm` jobs as `environment:action:start` job, which implies that the jobs are supposed to start an environment with deploying new code.\n\nIdeally, since these jobs are just for _prepartion_, it should not be affected by the above features. In other words, these jobs **should run concurrently**.\n\n### Proposal\n\nExpand keywords to `environment:action` to correctly indicate what each job is meant for and annotate jobs that are not resulting in a deployment. \n\n| `environment:action:` | Description | Usage Example |\n| ------ | ------ | ------ |\n| `prepare` | The pipeline job is to prepare for a latter deployment stage | Build a docker image for a k8s cluster used as a production environment |\n| `start` | The pipeline job creates/updates an environment. | Updating a production environment by deploying the code |\n| `stop` | The pipeline job stops an environment. | Terminates a review app by destroying VM|\n\n**Important Note**.\n- Jobs with `action:prepare` shouldn't be affected by [Concurrency Limit](https://docs.gitlab.com/ee/ci/yaml/#resource_group) or [Skip outdated deployment jobs](https://docs.gitlab.com/ee/ci/pipelines/settings.html#skip-outdated-deployment-jobs), since it doesn't modify an environment at all.\n- If `environment:action:` is not specified, `action:start` is selected by default.\n\n#### Example\n\n```yml\napprove:\n  stage: approve\n  script: echo\n  environment:\n    name: production\n    url: https://example.com\n    action: prepare                    # Annotation that this is not a deployment job\n  when: manual\n  allow_failure: false\n```\n\n```yaml\nbuild-review-nginx:\n  script: build_nginx\n  environment:\n    name: review\n    action: prepare                    # Annotation that this is not a deployment job\n\nbuild-review-fpm:\n  script: build_fpm\n  environment:\n    name: review\n    action: prepare                    # Annotation that this is not a deployment job\n```","state":"closed","created_at":"2020-03-02T02:35:56.928Z","updated_at":"2021-09-03T15:44:17.503Z","closed_at":"2020-07-14T14:49:48.590Z","closed_by":{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"},"labels":["Category:Continuous Delivery","Category:Release Orchestration","Deliverable","backend","cicd::active","devops::release","direction","type::feature","workflow::in review"],"milestone":{"id":1233746,"iid":49,"group_id":9970,"title":"13.2","description":"https://about.gitlab.com/releases/2020/07/22/gitlab-13-2-released/","state":"closed","created_at":"2020-04-09T17:28:01.032Z","updated_at":"2022-04-13T14:48:24.167Z","due_date":"2020-07-17","start_date":"2020-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/49"},"assignees":[{"id":3379682,"username":"vshushlin","name":"Vladimir Shushlin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3379682/avatar.png","web_url":"https://gitlab.com/vshushlin"}],"author":{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"},"type":"ISSUE","assignee":{"id":3379682,"username":"vshushlin","name":"Vladimir Shushlin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3379682/avatar.png","web_url":"https://gitlab.com/vshushlin"},"user_notes_count":57,"merge_requests_count":1,"upvotes":5,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/208655","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/208655","notes":"https://gitlab.com/api/v4/projects/278964/issues/208655/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/208655/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#208655","relative":"#208655","full":"gitlab-org/gitlab#208655"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31427997,"iid":208555,"project_id":278964,"title":"`[ci skip]` prefix should not be warned by the bot","description":"`[ci skip]` prefix should not be warned by the bot.\n\n----\n\nThe following discussion from !26233 should be addressed:\n\n- [ ] @gitlab-bot started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/26233#note_296562216):  (+1 comment)\n","state":"closed","created_at":"2020-03-01T12:44:28.234Z","updated_at":"2020-03-11T09:03:29.259Z","closed_at":"2020-03-10T14:53:36.381Z","closed_by":{"id":423915,"username":"godfat","name":"Lin Jen-Shin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8c73dab2ecd23d5b5627a0235ae2f9b1?s=80\u0026d=identicon","web_url":"https://gitlab.com/godfat"},"labels":["Danger bot","Engineering Productivity","ci-build","ep::contributor tooling","type::bug"],"milestone":{"id":1001916,"iid":44,"group_id":9970,"title":"12.9","description":"https://about.gitlab.com/releases/2020/03/22/gitlab-12-9-released","state":"closed","created_at":"2019-09-15T20:54:50.875Z","updated_at":"2020-09-02T11:04:41.671Z","due_date":"2020-03-17","start_date":"2020-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/44"},"assignees":[{"id":128633,"username":"rymai","name":"R√©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"}],"author":{"id":438961,"username":"splattael","name":"Peter Leitzen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/97c2ff0fc99cc4eede69be9ac238c304?s=80\u0026d=identicon","web_url":"https://gitlab.com/splattael"},"type":"ISSUE","assignee":{"id":128633,"username":"rymai","name":"R√©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"user_notes_count":9,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/208555","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/208555","notes":"https://gitlab.com/api/v4/projects/278964/issues/208555/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/208555/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#208555","relative":"#208555","full":"gitlab-org/gitlab#208555"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31423252,"iid":208548,"project_id":278964,"title":"Spec test for error tracking Web UI is not stable","description":"### Summary\n\nSpec test for error tracking Web UI is still not stable.\n\nHad a similar breaking described in #202678 and then fixed it in !24718.\n\n### Steps to reproduce\n\nRun the pipeline for gitlab-org/gitlab on the 1st day of the month.\n\n### Example Project\n\n- Screenshot: https://gitlab.com/gitlab-org/gitlab/-/jobs/455070226/artifacts/file/tmp/capybara/screenshot_2020-03-01-06-58-11.041.png\n- Captured HTML: https://gitlab.com/gitlab-org/gitlab/-/jobs/455070226/artifacts/file/tmp/capybara/screenshot_2020-03-01-06-58-11.041.html\n\n### What is the current *bug* behavior?\n\nJS handles 2020-02-01 as **4 week ago** on 2020-03-01 (the testing day) while Ruby generates 2020-02-01 as 1 month ago of 2020-03-01 (the testing day).\n\n### What is the expected *correct* behavior?\n\nTBD\n\n### Possible fixes\n\nTest with 32 days ago instead of 1 month ago.","state":"closed","created_at":"2020-03-01T08:12:04.855Z","updated_at":"2020-08-18T00:17:37.644Z","closed_at":"2020-03-01T16:23:08.412Z","closed_by":{"id":438961,"username":"splattael","name":"Peter Leitzen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/97c2ff0fc99cc4eede69be9ac238c304?s=80\u0026d=identicon","web_url":"https://gitlab.com/splattael"},"labels":["Community contribution","Quality","ci-build","test","type::bug","workflow::start"],"milestone":{"id":1001916,"iid":44,"group_id":9970,"title":"12.9","description":"https://about.gitlab.com/releases/2020/03/22/gitlab-12-9-released","state":"closed","created_at":"2019-09-15T20:54:50.875Z","updated_at":"2020-09-02T11:04:41.671Z","due_date":"2020-03-17","start_date":"2020-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/44"},"assignees":[{"id":100770,"username":"tnir","name":"Takuya Noguchi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/100770/canstock6553672_288.png","web_url":"https://gitlab.com/tnir"}],"author":{"id":100770,"username":"tnir","name":"Takuya Noguchi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/100770/canstock6553672_288.png","web_url":"https://gitlab.com/tnir"},"type":"ISSUE","assignee":{"id":100770,"username":"tnir","name":"Takuya Noguchi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/100770/canstock6553672_288.png","web_url":"https://gitlab.com/tnir"},"user_notes_count":5,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":"2020-03-08","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/208548","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/208548","notes":"https://gitlab.com/api/v4/projects/278964/issues/208548/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/208548/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#208548","relative":"#208548","full":"gitlab-org/gitlab#208548"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31415954,"iid":208519,"project_id":278964,"title":"Path traversal in FileUploader causes arbitrary file read","description":"**[HackerOne report #807681](https://hackerone.com/reports/807681)** by `nyangawa` on 2020-02-29, assigned to @estrike:\n\n### Summary  \nA path traversal issue in FileUploader can allow an attacker to read any file readable to `git` user in the victim filesystem.\n\n### Steps to reproduce  \nRun the following command and you will get the `.gitlab_shell_secret` of GitLab.com  \n```  \n$ curl https://gitlab.com/[REDACTED]nyangawa-p1/uploads/%2E%2E%2F%2E%2E%2F%2E%2E%2F%2E%2E%2F%2E%2E%2F%2E%2E%2F/.gitlab_shell_secret -i  \nHTTP/1.1 200 OK  \nServer: nginx  \nDate: Sat, 29 Feb 2020 13:05:40 GMT  \nContent-Type: text/plain; charset=utf-8  \nContent-Length: 129  \nAccept-Ranges: bytes  \nCache-Control: max-age=0, private, must-revalidate  \nContent-Disposition: attachment; filename=\".gitlab_shell_secret\"; filename*=UTF-8''.gitlab_shell_secret  \nContent-Transfer-Encoding: binary  \nLast-Modified: Mon, 11 Feb 2019 10:32:36 GMT  \nPragma:   \nReferrer-Policy: strict-origin-when-cross-origin  \nSet-Cookie: domain=.gitlab.com; path=/; expires=Wed, 29 Feb 2040 13:05:40 -0000; secure; HttpOnly  \nX-Content-Type-Options: nosniff  \nX-Download-Options: noopen  \nX-Frame-Options: DENY  \nX-Permitted-Cross-Domain-Policies: none  \nX-Request-Id: UosGaumMFxa  \nX-Runtime: 0.186046  \nX-Ua-Compatible: IE=edge  \nX-Xss-Protection: 1; mode=block  \nStrict-Transport-Security: max-age=31536000  \nReferrer-Policy: strict-origin-when-cross-origin  \nGitLab-LB: fe-13-lb-gprd  \nGitLab-SV: web-26-sv-gprd\n\nREDACTED  \n```\n\n### Examples  \nAs stated above\n\n#### Results of GitLab environment info  \nI tested this on latest GitLab docker image 12.8.1-ee and GitLab.com\n\n## Impact\n\nThe path traversal issue could cause serious data leakage to most self-hosted GitLab instances and GitLab.com","state":"closed","created_at":"2020-02-29T17:55:42.568Z","updated_at":"2022-06-28T06:27:21.257Z","closed_at":"2020-03-04T21:59:33.943Z","closed_by":{"id":4554599,"username":"m_gill","name":"Michelle Gill","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4554599/avatar.png","web_url":"https://gitlab.com/m_gill"},"labels":["Deliverable","HackerOne","backend","devops::create","group::source code","priority::1","security","severity::1","workflow::verification"],"milestone":{"id":1001916,"iid":44,"group_id":9970,"title":"12.9","description":"https://about.gitlab.com/releases/2020/03/22/gitlab-12-9-released","state":"closed","created_at":"2019-09-15T20:54:50.875Z","updated_at":"2020-09-02T11:04:41.671Z","due_date":"2020-03-17","start_date":"2020-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/44"},"assignees":[{"id":2167502,"username":"robotmay_gitlab","name":"Robert May","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2167502/avatar.png","web_url":"https://gitlab.com/robotmay_gitlab"}],"author":{"id":2741139,"username":"gitlab-securitybot","name":"GitLab SecurityBot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2741139/avatar.png","web_url":"https://gitlab.com/gitlab-securitybot"},"type":"ISSUE","assignee":{"id":2167502,"username":"robotmay_gitlab","name":"Robert May","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2167502/avatar.png","web_url":"https://gitlab.com/robotmay_gitlab"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/208519","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/208519","notes":"https://gitlab.com/api/v4/projects/278964/issues/208519/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/208519/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#208519","relative":"#208519","full":"gitlab-org/gitlab#208519"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31414471,"iid":208516,"project_id":278964,"title":"Rename \"Project Services\" in frontend and documentation","description":"As part of https://gitlab.com/groups/gitlab-org/-/epics/2504, we would like to rename all references of \"Project Services\" to \"Integrations\":\n1. Update places in the UI where we refer to `Project Services` (i.e. on `http://gitlab.com/\u003cgroup\u003e/\u003cproject\u003e/-/settings/integrations`)\n1. Update the docs to scrub any reference to this and change to new name","state":"closed","created_at":"2020-02-29T15:55:57.181Z","updated_at":"2022-11-22T20:09:41.754Z","closed_at":"2020-04-03T05:23:03.832Z","closed_by":{"id":4704683,"username":"justin_ho","name":"Justin Ho Tuan Duong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4704683/avatar.png","web_url":"https://gitlab.com/justin_ho"},"labels":["Category:Integrations","devops::manage","documentation","frontend","group::ecosystem [DEPRECATED]","workflow::in review"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":4704683,"username":"justin_ho","name":"Justin Ho Tuan Duong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4704683/avatar.png","web_url":"https://gitlab.com/justin_ho"}],"author":{"id":4704683,"username":"justin_ho","name":"Justin Ho Tuan Duong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4704683/avatar.png","web_url":"https://gitlab.com/justin_ho"},"type":"ISSUE","assignee":{"id":4704683,"username":"justin_ho","name":"Justin Ho Tuan Duong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4704683/avatar.png","web_url":"https://gitlab.com/justin_ho"},"user_notes_count":3,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/208516","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/208516","notes":"https://gitlab.com/api/v4/projects/278964/issues/208516/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/208516/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#208516","relative":"#208516","full":"gitlab-org/gitlab#208516"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2504,"epic":{"id":18352,"iid":2504,"title":"Rename \"Services\" to \"Integrations\"","url":"/groups/gitlab-org/-/epics/2504","group_id":9970},"iteration":null,"health_status":null},{"id":31402910,"iid":208500,"project_id":278964,"title":"Project Creation Using Group Template Defaults Path to Template Path","description":"### Summary\n\nWhen Creating a new project from a group template (might apply to instance as well not sure), the group path defaults to the template location, not the group path that the user is viewing when they click \"New Project\"\n\n### Steps to reproduce\n\n1. From a group click Settings \u003e Permissions, LFS, 2FA \u003e Custom project templates.\n1. Point it to a subgroup with at least one repository.\n1. In the parent group, click New Project.\n1. On the \"Blank project\" page notice that the project URL is correctly set to the group path you were parked on when clicking \"New Project\"\n1. Click \"Create from template\"\n1. Pick the template repository by clicking \"Use template\" next to a template\n1. When you are placed back on the \"Create from template\" page, notice that the group path is now the path to the template group, not the original group you clicked \"Create project\" on.\n1. If you click create, the repository is created in the template group.\n1. Once the repo is created in the wrong place, on GitLab.com it takes 7 days to be removed and appears in the list of templates until removal.\n\n### What is the current *bug* behavior?\n\nWhen template repository is selected, it updates the target path for the new repository to match the template, rather than\n\n### What is the expected *correct* behavior?\n\nThe repository path for the new project should not be updated to the template location when clicking \"Use template\"\n\n\n### Output of checks\n\n This bug happens on GitLab.com\n\n## Proposed solution\n(solution proposal from https://gitlab.com/gitlab-org/gitlab/-/issues/208500#note_951165713)\n\nWhen creating a project from a template mimic the behavior the new blank project just don't pre-fill the group/namespace dropdown when it is not known (see second use case in https://gitlab.com/gitlab-org/gitlab/-/issues/208500#note_920016517):\n| Before | After |\n|--------|-------|\n| ![image](https://gitlab.com/gitlab-org/gitlab/uploads/902b7e99f3be9d3c7f5059a4a1e463d9/image.png) | ![image](https://gitlab.com/gitlab-org/gitlab/uploads/3dfbd06ec307d8e9d4909c164f683366/image.png) |\n\nWhen the user initiates the creation of a new project on a group page (see first use-case in https://gitlab.com/gitlab-org/gitlab/-/issues/208500#note_920016517) pre-fill the group/namespace dropdown with this group. (So that is no change to the current behavior.)\n\n### Related Tests\n* Once bug has been resolved, please remove quarantine tag from `Custom group-level project templates` -\u003e `from default new project path` context in `ee/spec/features/projects/custom_projects_template_spec.rb` and update expected results as needed to match the agreed upon solution","state":"closed","created_at":"2020-02-29T00:17:06.780Z","updated_at":"2022-11-15T07:41:06.253Z","closed_at":"2022-07-12T08:04:08.413Z","closed_by":{"id":11703928,"username":"nradina","name":"Nataliia Radina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11703928/avatar.png","web_url":"https://gitlab.com/nradina"},"labels":["Category:Source Code Management","Deliverable","customer","devops::create","frontend","group::source code","missed-deliverable","missed:15.0","regression","regression:14.6","section::dev","spike","type::bug","workflow::in review"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":11703928,"username":"nradina","name":"Nataliia Radina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11703928/avatar.png","web_url":"https://gitlab.com/nradina"}],"author":{"id":164827,"username":"DarwinJS","name":"DarwinJS","state":"active","avatar_url":"https://secure.gravatar.com/avatar/bbc518d4c5d1859c9c2465e613ea40fa?s=80\u0026d=identicon","web_url":"https://gitlab.com/DarwinJS"},"type":"ISSUE","assignee":{"id":11703928,"username":"nradina","name":"Nataliia Radina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11703928/avatar.png","web_url":"https://gitlab.com/nradina"},"user_notes_count":80,"merge_requests_count":0,"upvotes":11,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/208500","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/208500","notes":"https://gitlab.com/api/v4/projects/278964/issues/208500/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/208500/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#208500","relative":"#208500","full":"gitlab-org/gitlab#208500"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3496,"epic":{"id":62382,"iid":3496,"title":"üêû Template bugs","url":"/groups/gitlab-org/-/epics/3496","group_id":9970,"human_readable_end_date":"Apr 17, 2023","human_readable_timestamp":"\u003cstrong\u003e3\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":31398676,"iid":208479,"project_id":278964,"title":"Requests for SVGs returning 404 in Issues Analytics feature","description":"### Summary\n\nRequests for SVG files, made in the Issues Analytics feature, are returning 404 responses:\n\n- https://assets.gitlab-static.net/assets/illustrations/issues.svg\n- https://assets.gitlab-static.net/assets/illustrations/monitoring/getting_started.svg\n\n### Steps to reproduce\n\n1. Open your browser console\n1. Go to URL\n   1. For issues.svg, go to https://gitlab.com/gitlab-org/gitlab/-/analytics/issues_analytics?scope=all\u0026utf8=%E2%9C%93\u0026state=opened\n   1. For getting_started.svg, go to https://gitlab.com/gitlab-org/gitlab/-/analytics/issues_analytics\n1. In your browser console, notice a 404 response for the request for the SVG file\n\n### What is the current *bug* behavior?\n\nRequests for these SVG files return 404 responses.\n\n### What is the expected *correct* behavior?\n\nRequests for these SVG files return 200 response *or are not made at all*.\n\n### Relevant logs and/or screenshots\n\n![Screen_Shot_2020-02-28_at_2.19.07_PM](/uploads/e3174be97dd7f057fd209aae23180c57/Screen_Shot_2020-02-28_at_2.19.07_PM.png)\n\n### Output of checks\n\nThis bug happens on GitLab.com.\n\n### Possible fixes\n\n- If the SVG files were improperly deleted, restore them\n- If the SVG files were moved, update the app's URLs for them\n- If the SVG files are not used in this feature, eliminate the requests","state":"closed","created_at":"2020-02-28T20:25:58.197Z","updated_at":"2020-03-03T16:08:30.346Z","closed_at":"2020-03-03T07:41:09.246Z","closed_by":{"id":411701,"username":"kushalpandya","name":"Kushal Pandya","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/411701/avatar.png","web_url":"https://gitlab.com/kushalpandya"},"labels":["devops::manage","frontend","group::optimize","severity::4","type::bug","workflow::in dev"],"milestone":{"id":1001916,"iid":44,"group_id":9970,"title":"12.9","description":"https://about.gitlab.com/releases/2020/03/22/gitlab-12-9-released","state":"closed","created_at":"2019-09-15T20:54:50.875Z","updated_at":"2020-09-02T11:04:41.671Z","due_date":"2020-03-17","start_date":"2020-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/44"},"assignees":[{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"}],"author":{"id":4512390,"username":"djensen","name":"Dan Jensen","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4512390/avatar.png","web_url":"https://gitlab.com/djensen"},"type":"ISSUE","assignee":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"user_notes_count":2,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/208479","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/208479","notes":"https://gitlab.com/api/v4/projects/278964/issues/208479/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/208479/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#208479","relative":"#208479","full":"gitlab-org/gitlab#208479"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31397568,"iid":208475,"project_id":278964,"title":"Geo: POC | Present Geo Replicables in a \"single\" view","description":"### Requirements\n\n* [x]  UI in a more generalized state: https://gitlab.com/gitlab-org/gitlab/issues/208470#proposal\n* [ ]  GraphQL API that supports blobs and repositories: https://gitlab.com/groups/gitlab-org/-/epics/2525#proposal\n\n### What and Why\n\nWith the introduction of Geo Self-Service, we will begin to have too many data types to continue to create new \"views\" for each time they are introduced.\n\nThere has been a lot of talk and thought about **how** we can represent important replication information to the users, outside of our typical paginated listing of each data type.\n\nExample of current Geo Replication listing:\n![Screen_Shot_2020-02-28_at_1.37.33_PM](/uploads/6b7e6b269f3a14e173aed2681383b5dc/Screen_Shot_2020-02-28_at_1.37.33_PM.png)\n\nIn opening this issue, my goal is to get all our thoughts in one place to reference as we works towards this end goal.\n\nFrom conversations I've had with different team members, I have a few key takeaways:\n*  This new view should call higher attention to \"non-synced\" items.\n*  Non-synced items should have actionable items on them to help resolve their issues.\n*  Forever expanding the side-nav is not feasible.\n\n@sunjungp had an amazing [sketching activity](https://gitlab.com/gitlab-org/geo-team/discussions/issues/4944) that helps showcase some of our teams ideas as to what this view may look like.\n\n### Proposal\n\n*  Continue gathering data from our key stakeholders around how they _want_ to interact with Geo\n*  As we fledge out Geo Self Service, begin to think about how we can best represent **all** replicable data as well as what is the **most** important to know about the replicable data.\n*  When we are ready, start converting the existing views of Replicable Data (Designs, Projects, Uploads, etc...) into this new Generalized view of all replicable data.\n\n\n### What does success look like?\n\n*  Generalized view that supports existing (and new) functionality for **all** replicable data types.\n*  No longer need to do any additional frontend coding to expose a **new** replicable data type\n*  Users understand why something is failing to sync and what they need to do to fix it in the UI\n\ncc: @geo-team","state":"closed","created_at":"2020-02-28T19:50:38.277Z","updated_at":"2021-04-03T08:38:23.045Z","closed_at":"2020-04-30T21:27:21.974Z","closed_by":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"labels":["Category:Geo Replication","Enterprise Edition","Geo Administration","[deprecated] Accepting merge requests","devops::systems","group::geo","javascript","type::feature"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":4,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/208475","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":1},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/208475","notes":"https://gitlab.com/api/v4/projects/278964/issues/208475/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/208475/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#208475","relative":"#208475","full":"gitlab-org/gitlab#208475"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2525,"epic":{"id":18585,"iid":2525,"title":"Geo: Implement frontend for Self-Service Framework replicables","url":"/groups/gitlab-org/-/epics/2525","group_id":9970,"human_readable_end_date":"Aug 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31396973,"iid":208470,"project_id":278964,"title":"Geo: Implement Package File Frontend for Replication Details","description":"### Requirements:\n\n* [x]  Package File API is implemented: https://gitlab.com/gitlab-org/gitlab/issues/199879\n\n### What and Why\n\nAs a first pass for Geo Self-Service we are focusing on implementing Package Files.  In doing so we need a way to represent the sync information on the ~frontend.\n\nFor this first pass we want to use the same UI as already exists for other supported Geo Replicables.  (I.E: Designs, Projects, and Uploads)\n\nThere is a future goal of redesigning the overall look and interaction of Geo Replicables.  Some ideas around that can be found here on the [Geo Team Sketching Activity](https://gitlab.com/gitlab-org/geo-team/discussions/issues/4944) as well as on the [Issue](https://gitlab.com/gitlab-org/gitlab/issues/208475) tracking the effort.\n\n### Intended users\n\n*  [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n\n### Proposal\n\n*  Generalize the Designs UI to support different replication types\n    *  [Code](https://gitlab.com/gitlab-org/gitlab/-/tree/master/ee/app/assets/javascripts/geo_designs)\n    *  URL: `{gitlab_domain}/admin/geo/designs`\n*  Implement a new route (`{gitlab_domain}/admin/geo/package-files`) and sidebar link (`Admin -\u003e Geo -\u003e Package Files`)\n    *  Utilize Generalized Component(s) above to display both Designs and Package Files respectively\n\n\n### What does success look like?\n\n*  Generalized component is created to allow for future data types to be added if necessary\n*  Geo Designs is hooked up to Generalized component but functionality does not change\n*  Geo Package Files is hooked up to Generalized component and works as expected\n\ncc: @mkozono @fzimmer @rnienaber","state":"closed","created_at":"2020-02-28T19:24:18.180Z","updated_at":"2020-06-24T12:44:05.180Z","closed_at":"2020-06-23T14:33:46.693Z","closed_by":{"id":4584738,"username":"nmezzopera","name":"Nicol√≤ Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"},"labels":["Category:Geo Replication","Deliverable","Enterprise Edition","Geo Administration","devops::systems","frontend","group::geo","javascript","missed-deliverable","missed:12.10","missed:13.1","type::feature","workflow::in review"],"milestone":{"id":1233746,"iid":49,"group_id":9970,"title":"13.2","description":"https://about.gitlab.com/releases/2020/07/22/gitlab-13-2-released/","state":"closed","created_at":"2020-04-09T17:28:01.032Z","updated_at":"2022-04-13T14:48:24.167Z","due_date":"2020-07-17","start_date":"2020-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/49"},"assignees":[{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"}],"author":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"type":"ISSUE","assignee":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"user_notes_count":18,"merge_requests_count":2,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/208470","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":1},"weight":4,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/208470","notes":"https://gitlab.com/api/v4/projects/278964/issues/208470/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/208470/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#208470","relative":"#208470","full":"gitlab-org/gitlab#208470"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2346,"epic":{"id":16453,"iid":2346,"title":"Geo: Self Service Framework - First Implementation for Package File replication","url":"/groups/gitlab-org/-/epics/2346","group_id":9970,"human_readable_end_date":"Jul 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31394534,"iid":208459,"project_id":278964,"title":"Value Stream Analytics load spinner displayed off-center","description":"### Summary\n\nOn the Value Stream Analytics feature, at the instance and group levels, the spinner that appears when selecting a group or project is displayed off-center so there is insufficient whitespace around it.\n\n### Steps to reproduce\n\n1. Go to https://gitlab.com/-/analytics/value_stream_analytics\n1. Click to select a Group and see the spinner is not displayed correctly\n1. Select a group\n1. Click to select a Project and see the spinner is not displayed correctly\n\n### Example Project\n\nhttps://gitlab.com/-/analytics/value_stream_analytics\n\n### What is the current *bug* behavior?\n\nThe spinner is not displayed correctly\n\n### What is the expected *correct* behavior?\n\nThe spinner is displayed correctly.\n\n### Relevant logs and/or screenshots\n\n![Screen_Shot_2020-02-28_at_4.46.03_PM__2_](/uploads/02faa45e6ac51b753f6d41f3ceba0198/Screen_Shot_2020-02-28_at_4.46.03_PM__2_.png)\n\n### Output of checks\n\nThis bug happens on GitLab.com.","state":"closed","created_at":"2020-02-28T17:40:02.192Z","updated_at":"2020-04-06T13:45:39.625Z","closed_at":"2020-04-06T13:45:39.568Z","closed_by":{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"},"labels":["devops::manage","frontend","group::optimize","priority::4","severity::4","type::bug","workflow::verification"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"}],"author":{"id":4512390,"username":"djensen","name":"Dan Jensen","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4512390/avatar.png","web_url":"https://gitlab.com/djensen"},"type":"ISSUE","assignee":{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/208459","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/208459","notes":"https://gitlab.com/api/v4/projects/278964/issues/208459/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/208459/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#208459","relative":"#208459","full":"gitlab-org/gitlab#208459"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31394462,"iid":208458,"project_id":278964,"title":"Migrate `mr_widget_options_spec` to `@vue/test-utils`","description":"## Context\n\nThe following discussion from !26185 should be addressed:\n\n- [ ] @pslaughter started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/26185#note_296278761): \n\n    \u003e **note:** Stubbing out the `console.warn` is needed because this causes Jest to fail and Bootstrap throws some arbitrary \"Cannot find target element\" warnings... Let's create a follow up to move this over to `@vue/test-utils` which will fix this issue :smile:\n\n## Description\n\nMoving to `@vue/test-utils` will probably result in a lot of rewriting... It's important to realize that `shallowMount` might cause us to actually lose some test coverage (since we can't assume that the children are fully covered)... If this is the case, we should probably make sure the children components have proper test coverage as well.","state":"closed","created_at":"2020-02-28T17:37:02.837Z","updated_at":"2021-01-28T18:24:58.825Z","closed_at":"2021-01-28T18:24:58.788Z","closed_by":{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},"labels":["Category:Source Code Management","devops::create","frontend","group::source code","section::dev","unit testing","workflow::verification"],"milestone":{"id":1233760,"iid":56,"group_id":9970,"title":"13.9","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.334Z","updated_at":"2022-04-21T07:21:28.468Z","due_date":"2021-02-17","start_date":"2021-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/56"},"assignees":[{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"}],"author":{"id":2233420,"username":"pslaughter","name":"Paul Slaughter","state":"active","avatar_url":"https://secure.gravatar.com/avatar/631b25421eb206ab44cb2793ef09d881?s=80\u0026d=identicon","web_url":"https://gitlab.com/pslaughter"},"type":"ISSUE","assignee":{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/208458","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/208458","notes":"https://gitlab.com/api/v4/projects/278964/issues/208458/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/208458/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#208458","relative":"#208458","full":"gitlab-org/gitlab#208458"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2445,"epic":{"id":17889,"iid":2445,"title":"Convert Jest specs to use @vue/test-utils","url":"/groups/gitlab-org/-/epics/2445","group_id":9970,"human_readable_end_date":"Feb 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":31393589,"iid":208455,"project_id":278964,"title":"Remove \"Analytics\" suffixes from Analytics sidebar menu items","description":"### Problem to solve\n\nAt both the group level and project level, the Analytics navigation sidebar menu items repeat the word \"Analytics\", like \"Issues Analytics, Repository Analytics, Value Stream Analytics\".  This repetition is distracting, and will be unnecessary after an [\"Analytics\" title has been added](https://gitlab.com/gitlab-org/gitlab/issues/208453).\n\n### Proposal\n\nAfter an [\"Analytics\" title has been added](https://gitlab.com/gitlab-org/gitlab/issues/208453) to the group level and project level Analytics menus, remove the \"Analytics\" suffixes from all feature names in the navigation sidebar menus.\n\n#### Group level\n\n![Group-level_Analytics_sidebar](/uploads/604b0f4b6e517d9fe808e3ed2e2be466/Group-level_Analytics_sidebar.png)\n\n#### Project level\n\n![Project-level_Analytics_sidebar](/uploads/1a6ddbab361d11e89ae4db22b758b060/Project-level_Analytics_sidebar.png)\n\n### Links / references\n\nThis was [discussed](https://gitlab.slack.com/archives/CBFCUM0RX/p1582888275043900) in Slack#s_manage on 2020-02-28.","state":"closed","created_at":"2020-02-28T17:11:49.560Z","updated_at":"2020-05-22T08:42:00.762Z","closed_at":"2020-03-05T15:15:12.191Z","closed_by":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"labels":["devops::manage","estimation::completed","frontend","group::optimize","type::feature","workflow::production"],"milestone":null,"assignees":[{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"}],"author":{"id":4512390,"username":"djensen","name":"Dan Jensen","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4512390/avatar.png","web_url":"https://gitlab.com/djensen"},"type":"ISSUE","assignee":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"user_notes_count":10,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/208455","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/208455","notes":"https://gitlab.com/api/v4/projects/278964/issues/208455/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/208455/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#208455","relative":"#208455","full":"gitlab-org/gitlab#208455"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31393412,"iid":208453,"project_id":278964,"title":"Add title to Analytics sidebar menus","description":"### Problem to solve\n\nNavigation sidebar menus for Analytics were recently added at the [group level](https://gitlab.com/gitlab-org/gitlab/issues/195979) and [project level](https://gitlab.com/gitlab-org/gitlab/issues/38318).  When the sidebar is collapsed, these menus do not include titles (`fly-out-top-item`) like other menus.\n\n### Proposal\n\nAt both the group level and project level, the Analytics menus should have a title of \"Analytics\" (see examples below).  As with other menu titles, this title should be a link to the first available menu item.\n\n#### Group level example\n![Group_level_title](/uploads/23c2b9b3d2812b46751a733b6de59a9e/Group_level_title.png)\n\n#### Project level example\n![Project_level_title](/uploads/dee4c0b2db6b9040ba1803a1a7dad17e/Project_level_title.png)\n\n### Links / references\n\nThis was [discussed](https://gitlab.slack.com/archives/CBFCUM0RX/p1582888275043900) in Slack#s_manage on 2020-02-28.","state":"closed","created_at":"2020-02-28T17:05:26.897Z","updated_at":"2020-05-22T08:41:55.596Z","closed_at":"2020-03-03T12:09:22.541Z","closed_by":{"id":411701,"username":"kushalpandya","name":"Kushal Pandya","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/411701/avatar.png","web_url":"https://gitlab.com/kushalpandya"},"labels":["devops::manage","frontend","group::optimize","type::feature","workflow::production"],"milestone":{"id":1001916,"iid":44,"group_id":9970,"title":"12.9","description":"https://about.gitlab.com/releases/2020/03/22/gitlab-12-9-released","state":"closed","created_at":"2019-09-15T20:54:50.875Z","updated_at":"2020-09-02T11:04:41.671Z","due_date":"2020-03-17","start_date":"2020-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/44"},"assignees":[{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"}],"author":{"id":4512390,"username":"djensen","name":"Dan Jensen","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4512390/avatar.png","web_url":"https://gitlab.com/djensen"},"type":"ISSUE","assignee":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"user_notes_count":5,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/208453","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/208453","notes":"https://gitlab.com/api/v4/projects/278964/issues/208453/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/208453/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#208453","relative":"#208453","full":"gitlab-org/gitlab#208453"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31391115,"iid":208433,"project_id":278964,"title":"Follow-up from \"Add mutation concern to resolve a single issuable\" - Part 2","description":"The following discussion from !25987 should be addressed:\n\n\u003e In a new iteration, this concern could be adapted to be used for epics by replacing the `parent_path` and using `Mutations::ResolvesGroup` instead.","state":"closed","created_at":"2020-02-28T15:49:17.901Z","updated_at":"2020-03-26T15:34:27.911Z","closed_at":"2020-03-26T14:50:25.997Z","closed_by":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"labels":["GraphQL","backend","devops::plan","group::project management","maintenance::refactor","workflow::verification"],"milestone":null,"assignees":[{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"}],"author":{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"},"type":"ISSUE","assignee":{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/208433","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/208433","notes":"https://gitlab.com/api/v4/projects/278964/issues/208433/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/208433/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#208433","relative":"#208433","full":"gitlab-org/gitlab#208433"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31390680,"iid":208431,"project_id":278964,"title":"Follow-up from \"Add mutation concern to resolve a single issuable\"","description":"The following discussion from !25987 should be addressed:\n\n- [x] @egrieff started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/25987#note_295457125):  (+2 comments)\n\n    \u003e Note: I see some strange behaviour in `Resolvers::MergeRequestsResolver` when the result of `Resolvers::ProjectResolver` is empty, so I'll investigate further and add more specs in a follow-up MR.","state":"closed","created_at":"2020-02-28T15:33:48.407Z","updated_at":"2020-03-25T14:06:38.918Z","closed_at":"2020-03-25T13:35:04.254Z","closed_by":{"id":444,"username":"dzaporozhets","name":"Dmytro Zaporozhets (DZ)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/444/avatar.png","web_url":"https://gitlab.com/dzaporozhets"},"labels":["GraphQL","backend","devops::plan","group::project management","maintenance::refactor","workflow::verification"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"}],"author":{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"},"type":"ISSUE","assignee":{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/208431","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":1},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/208431","notes":"https://gitlab.com/api/v4/projects/278964/issues/208431/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/208431/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#208431","relative":"#208431","full":"gitlab-org/gitlab#208431"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31389799,"iid":208425,"project_id":278964,"title":"User without parent group permission cannot assign epic to issue.","description":"### Summary\n\nA user without permission in the group but with permission in the project, cannot assign epic to issue.\n\n### Steps to reproduce\n\n1. Create a group **G**\n2. Create a project **P**\n3. Add an epic (**E**) to **G**\n4. Add a user (**U**) as a member of **P**\n5. Open an issue (**I**) in **P**\n6. After the **I** is open, verify that **E** shows up in the epic drop-down (edit)\n7. Try assigning **E** to **I**\n\n### Example Project\n\nNo can do without paying for Epics here.\n\n### What is the current *bug* behavior?\n\nAssigning/removing an epic form a group the user doesn't have permissions to a project (inside said group) the user has permission results in an error.\n\n### What is the expected *correct* behavior?\n\nThe user should be able to assign the issue to its project's parent group epic. The user can already see the epic regardless of not having access to the group (what makes sense).\n\n### Relevant logs and/or screenshots\n\n![Screenshot__6_](/uploads/e27bc4632f1bd6585d2ec6a6f45cedd2/Screenshot__6_.png)\n\n### Output of checks\n\nUnable to try. Behind the Ultimate wall.\n\n#### Results of GitLab environment info\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\u003cpre\u003e\n\nSystem information\nSystem:         Ubuntu 16.04\nProxy:          no\nCurrent User:   git\nUsing RVM:      no\nRuby Version:   2.6.5p114\nGem Version:    2.7.10\nBundler Version:1.17.3\nRake Version:   12.3.3\nRedis Version:  5.0.7\nGit Version:    2.24.1\nSidekiq Version:5.2.7\nGo Version:     unknown\n\nGitLab information\nVersion:        12.8.1-ee\nRevision:       13bae744d5c\nDirectory:      /opt/gitlab/embedded/service/gitlab-rails\nDB Adapter:     PostgreSQL\nDB Version:     10.12\nURL:            https:// \u003cdo you need it?\u003e\nHTTP Clone URL: https:// \u003cdo you need it?\u003e\nSSH Clone URL:  git@\u003cdo you need it?\u003e:some-group/some-project.git\nElasticsearch:  no\nGeo:            no\nUsing LDAP:     yes\nUsing Omniauth: yes\nOmniauth Providers:\n\nGitLab Shell\nVersion:        11.0.0\nRepository storage paths:\n- default:      /var/opt/gitlab/git-data/repositories\nGitLab Shell path:              /opt/gitlab/embedded/service/gitlab-shell\nGit:            /opt/gitlab/embedded/bin/git\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\nChecking GitLab subtasks ...\n\nChecking GitLab Shell ...\n\nGitLab Shell: ... GitLab Shell version \u003e= 11.0.0 ? ... OK (11.0.0)\nRunning /opt/gitlab/embedded/service/gitlab-shell/bin/check\nInternal API available: OK\nRedis available via internal API: OK\ngitlab-shell self-check successful\n\nChecking GitLab Shell ... Finished\n\nChecking Gitaly ...\n\nGitaly: ... default ... OK\n\nChecking Gitaly ... Finished\n\nChecking Sidekiq ...\n\nSidekiq: ... Running? ... yes\nNumber of Sidekiq processes ... 1\n\nChecking Sidekiq ... Finished\n\nChecking Incoming Email ...\n\nIncoming Email: ... Reply by email is disabled in config/gitlab.yml\n\nChecking Incoming Email ... Finished\n\nChecking LDAP ...\n\nLDAP: ... Server: ldapmain\nLDAP authentication... Success\nLDAP users with access to your GitLab server (only showing the first 100 results)\n        User output sanitized. Found 100 users of 100 limit.\n\nChecking LDAP ... Finished\n\nChecking GitLab App ...\n\nGit configured correctly? ... yes\nDatabase config exists? ... yes\nAll migrations up? ... yes\nDatabase contains orphaned GroupMembers? ... no\nGitLab config exists? ... yes\nGitLab config up to date? ... yes\nLog directory writable? ... yes\nTmp directory writable? ... yes\nUploads directory exists? ... yes\nUploads directory has correct permissions? ... yes\nUploads directory tmp has correct permissions? ... yes\nInit script exists? ... skipped (omnibus-gitlab has no init script)\nInit script up-to-date? ... skipped (omnibus-gitlab has no init script)\nProjects have namespace: ...\n52/1 ... yes\n228/4 ... yes\n52/5 ... yes\n16/56 ... yes\n16/57 ... yes\n16/58 ... yes\n16/59 ... yes\n16/60 ... yes\n15/62 ... yes\n15/63 ... yes\n15/64 ... yes\n15/65 ... yes\n15/66 ... yes\n15/67 ... yes\n15/68 ... yes\n15/69 ... yes\n15/70 ... yes\n15/71 ... yes\n15/72 ... yes\n42/73 ... yes\n42/74 ... yes\n3/76 ... yes\n88/77 ... yes\n88/78 ... yes\n88/79 ... yes\n88/80 ... yes\n88/81 ... yes\n88/82 ... yes\n88/83 ... yes\n88/84 ... yes\n88/85 ... yes\n102/86 ... yes\n101/87 ... yes\n101/216 ... yes\n101/217 ... yes\n101/218 ... yes\n101/219 ... yes\n101/220 ... yes\n101/221 ... yes\n101/222 ... yes\n101/223 ... yes\n101/224 ... yes\n101/225 ... yes\n101/226 ... yes\n101/227 ... yes\n101/228 ... yes\n101/229 ... yes\n101/231 ... yes\n101/232 ... yes\n101/233 ... yes\n101/234 ... yes\n101/235 ... yes\n101/236 ... yes\n101/237 ... yes\n101/238 ... yes\n101/239 ... yes\n101/240 ... yes\n101/241 ... yes\n101/243 ... yes\n101/244 ... yes\n101/245 ... yes\n101/246 ... yes\n101/247 ... yes\n101/248 ... yes\n101/249 ... yes\n101/250 ... yes\n101/251 ... yes\n101/252 ... yes\n101/253 ... yes\n101/254 ... yes\n101/255 ... yes\n101/256 ... yes\n101/257 ... yes\n101/258 ... yes\n101/259 ... yes\n101/260 ... yes\n101/261 ... yes\n101/262 ... yes\n101/263 ... yes\n101/264 ... yes\n101/265 ... yes\n101/266 ... yes\n101/267 ... yes\n114/270 ... yes\n114/271 ... yes\n114/272 ... yes\n114/273 ... yes\n110/274 ... yes\n110/275 ... yes\n110/279 ... yes\n135/281 ... yes\n141/283 ... yes\n141/284 ... yes\n141/285 ... yes\n42/286 ... yes\n101/287 ... yes\n141/288 ... yes\n143/289 ... yes\n143/290 ... yes\n136/291 ... yes\n136/292 ... yes\n101/293 ... yes\n145/294 ... yes\n136/296 ... yes\n136/298 ... yes\n198/299 ... yes\n135/300 ... yes\n42/301 ... yes\n192/303 ... yes\n155/304 ... yes\n155/305 ... yes\n155/306 ... yes\n155/307 ... yes\n155/308 ... yes\n155/309 ... yes\n137/310 ... yes\n192/311 ... yes\n192/312 ... yes\n192/313 ... yes\n135/314 ... yes\n101/315 ... yes\n40/316 ... yes\n193/317 ... yes\n195/318 ... yes\n193/319 ... yes\n193/320 ... yes\n193/321 ... yes\n195/322 ... yes\n138/323 ... yes\n195/324 ... yes\n193/325 ... yes\n193/326 ... yes\n42/327 ... yes\n198/328 ... yes\n198/329 ... yes\n198/330 ... yes\n198/331 ... yes\n198/332 ... yes\n198/333 ... yes\n192/335 ... yes\n192/336 ... yes\n206/338 ... yes\n206/339 ... yes\n206/340 ... yes\n206/341 ... yes\n206/342 ... yes\n206/343 ... yes\n206/344 ... yes\n127/345 ... yes\n137/346 ... yes\n224/347 ... yes\n203/349 ... yes\n227/350 ... yes\n227/351 ... yes\n228/352 ... yes\n231/353 ... yes\n231/354 ... yes\n231/355 ... yes\n224/356 ... yes\n228/357 ... yes\n193/371 ... yes\n234/372 ... yes\n228/374 ... yes\n42/375 ... yes\n228/376 ... yes\n228/377 ... yes\n135/378 ... yes\n228/379 ... yes\nRedis version \u003e= 2.8.0? ... yes\nRuby version \u003e= 2.5.3 ? ... yes (2.6.5)\nGit version \u003e= 2.22.0 ? ... yes (2.24.1)\nGit user has default SSH configuration? ... yes\nActive users: ... 72\nIs authorized keys file accessible? ... yes\nElasticsearch version 5.6 - 6.x? ... skipped (elasticsearch is disabled)\n\nChecking GitLab App ... Finished\n\n\nChecking GitLab subtasks ... Finished\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes","state":"closed","created_at":"2020-02-28T15:03:52.229Z","updated_at":"2021-11-22T12:44:31.953Z","closed_at":"2021-11-22T12:42:54.617Z","closed_by":{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"},"labels":["Category:Portfolio Management","Deliverable","backend","customer","devops::plan","epics","group::product planning","issues","missed-deliverable","missed:14.2","missed:14.3","missed:14.4","priority::3","section::dev","severity::3","type::bug","workflow::verification"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"}],"author":{"id":282670,"username":"GCSBOSS","name":"Guilherme C. Souza","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/282670/avatar.png","web_url":"https://gitlab.com/GCSBOSS"},"type":"ISSUE","assignee":{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"},"user_notes_count":26,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/208425","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/208425","notes":"https://gitlab.com/api/v4/projects/278964/issues/208425/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/208425/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#208425","relative":"#208425","full":"gitlab-org/gitlab#208425"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31389222,"iid":208424,"project_id":278964,"title":"Add skeleton loader to new packages list","description":"### Problem to solve\n\nAdd a skeleton loader to the new packages list component, replacing the existing circle loader.\n\n### Intended users\n\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n\n### Further details\n\nCurrently, the package list uses the old circle loader which will also hide elements like tabs and sort options when loading. Replacing this with the skeleton loader will bring the UI inline with other parts of GitLab whilst also enhancing usability slightly.\n\n### Proposal\n\nUpdate to use the skeleton loader. This will entail:\n\n1. Removing the circle loader\n2. Creating a skeleton loader suitable for package data\n3. Adding this inside the `packages-list` component so other UI elements are visible while loading","state":"closed","created_at":"2020-02-28T14:44:41.703Z","updated_at":"2020-03-06T22:58:05.586Z","closed_at":"2020-03-06T22:58:05.525Z","closed_by":{"id":636429,"username":"mikegreiling","name":"Mike Greiling","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/636429/avatar.png","web_url":"https://gitlab.com/mikegreiling"},"labels":["Category:Package Registry","UX","devops::package","frontend","group::package registry","type::feature"],"milestone":{"id":1001916,"iid":44,"group_id":9970,"title":"12.9","description":"https://about.gitlab.com/releases/2020/03/22/gitlab-12-9-released","state":"closed","created_at":"2019-09-15T20:54:50.875Z","updated_at":"2020-09-02T11:04:41.671Z","due_date":"2020-03-17","start_date":"2020-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/44"},"assignees":[{"id":4087042,"username":"nkipling","name":"Nick Kipling","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4087042/avatar.png","web_url":"https://gitlab.com/nkipling"}],"author":{"id":4087042,"username":"nkipling","name":"Nick Kipling","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4087042/avatar.png","web_url":"https://gitlab.com/nkipling"},"type":"ISSUE","assignee":{"id":4087042,"username":"nkipling","name":"Nick Kipling","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4087042/avatar.png","web_url":"https://gitlab.com/nkipling"},"user_notes_count":2,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/208424","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/208424","notes":"https://gitlab.com/api/v4/projects/278964/issues/208424/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/208424/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#208424","relative":"#208424","full":"gitlab-org/gitlab#208424"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2442,"epic":{"id":17882,"iid":2442,"title":"Update the User Interface (UI) for the package registry to include additional meta data","url":"/groups/gitlab-org/-/epics/2442","group_id":9970,"human_readable_end_date":"Jun 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31388161,"iid":208423,"project_id":278964,"title":"License shown as \"unknown\" when version number contains a space","description":"### Summary\n\nLicense Scanning report shows dependencies with `GPL-2.0-or-later` (in screenshot below) license as \"unknown\" license.\n\n### Steps to reproduce\n\nhttps://gitlab.com/CraigGardener/drupal-license-management-test\n\n### Example Project\n\nhttps://gitlab.com/CraigGardener/drupal-license-management-test\n\n### What is the current *bug* behavior?\n\nLicense Scanning report shows dependencies with `GPL-2.0-or-later` license as \"unknown\" license.\n\n### What is the expected *correct* behavior?\n\n`GPL-2.0-or-later` should show as \"GNU General Public License v2.0 or later\" as per https://spdx.org/licenses/\nInterestingly, `GPL-2.0+` displays as \"GNU General Public License v2.0 or later\" despite being deprecated according to https://spdx.org/licenses/\n\n### Relevant logs and/or screenshots\n\n![Screenshot_2020-02-28_at_14.08.35](/uploads/f951e2f478be3e4b3c8efad506285287/Screenshot_2020-02-28_at_14.08.35.png)\n\n![Screenshot_2020-02-28_at_14.09.18](/uploads/8dfe83ff97b76814cf7cd938073aa986/Screenshot_2020-02-28_at_14.09.18.png)\n\n### Possible fixes\n\nI'll aim to look into this over the next couple of days, but a pointer to relevant code may be appreciated if anyone more familiar with the codebase spots this issue before I get there.\n\n*Note: A merge request to address this has been merged. The work related to this issue is to verify that this is working as expected and that we do not introduce regressions.\n\n### Implementation Plan\n\n* [ ] Add integration test for `drupal/coder`\n* [ ] Add integration test for `drupal/core-composer-scaffold`\n* [ ] Add integration test for `drupal/core-dev`\n* [ ] Add integration test for `drupal/core-project-message`\n* [ ] Add integration test for `drupal/core-recommend`","state":"closed","created_at":"2020-02-28T14:27:30.061Z","updated_at":"2020-09-09T14:57:25.538Z","closed_at":"2020-09-09T14:57:25.499Z","closed_by":{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"},"labels":["Category:License Compliance","Deliverable","Enterprise Edition","GitLab Ultimate","backend","devops::secure","group::composition analysis","priority::2","quad-planning::complete-no-action","section::sec","severity::2","type::bug","workflow::ready for development"],"milestone":{"id":1233753,"iid":51,"group_id":9970,"title":"13.4","description":"https://about.gitlab.com/releases/2020/09/22/gitlab-13-4-released/","state":"closed","created_at":"2020-04-09T17:39:21.662Z","updated_at":"2022-04-13T14:50:33.769Z","due_date":"2020-09-17","start_date":"2020-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/51"},"assignees":[{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"}],"author":{"id":35970,"username":"CraigGardener","name":"Craig Gardener","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3300d1a3e6316bbfd51b4b042ce9c726?s=80\u0026d=identicon","web_url":"https://gitlab.com/CraigGardener"},"type":"ISSUE","assignee":{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"},"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/208423","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":5,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 5 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/208423","notes":"https://gitlab.com/api/v4/projects/278964/issues/208423/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/208423/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#208423","relative":"#208423","full":"gitlab-org/gitlab#208423"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31385984,"iid":208417,"project_id":278964,"title":"Track Import Errors for a single Group Import run","description":"This was raised as a follow up to: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/25619\n\nCurrently we do not report on the `ImportFailure` records that were created for a single import attempt.\n\nThis means that when the group import is successful, but it has sub-relations that fail to import, we still tell the user that import was successful. This is because, when we report on errors to the user we look in `shared.errors` - but errors that are reported through `ImportFailureService` do not log the errors to the `shared` object.\n\nWe should ensure that when we report on errors at the end of the import, we also take into account records that raised an `ImportFailure` so that we can tell the user the import was only partially successful.","state":"closed","created_at":"2020-02-28T13:32:02.309Z","updated_at":"2021-09-20T14:09:11.642Z","closed_at":"2021-09-20T14:09:11.610Z","closed_by":{"id":5247073,"username":"hdelalic","name":"Haris Delaliƒá","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5247073/avatar.png","web_url":"https://gitlab.com/hdelalic"},"labels":["Category:Importers","DEPRECATED_group import","DEPRECATED_import","Importer:Group Export/Import","[deprecated] Accepting merge requests","devops::manage","group::import","section::dev"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":4981524,"username":"jhyson","name":"Josianne Hyson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4981524/avatar.png","web_url":"https://gitlab.com/jhyson"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/208417","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/208417","notes":"https://gitlab.com/api/v4/projects/278964/issues/208417/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/208417/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#208417","relative":"#208417","full":"gitlab-org/gitlab#208417"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3123,"epic":{"id":44064,"iid":3123,"title":"Group Export/Import","url":"/groups/gitlab-org/-/epics/3123","group_id":9970},"iteration":null,"health_status":null},{"id":31382180,"iid":208412,"project_id":278964,"title":"Group Level Wiki: BE Add new group settings to toggle wiki","description":"### Problem to solve\n\n\u003c!-- What problem do we solve? --\u003e\n\nGroup wikis need to be managed in the group settings, just like project wikis:\n\n1. Enable/disable wiki.\n1. Set wiki visibility.\n\n### Intended users\n\n\u003c!-- Who will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/ --\u003e\n\n### Further details\n\n\u003c!-- Include use cases, benefits, and/or goals (contributes to our vision?) --\u003e\n\n### Proposal\n\n\u003c!-- How are we going to solve the problem? Try to include the user journey! https://about.gitlab.com/handbook/journeys/#user-journey --\u003e\n\nThis issue implements the necessary BE changes (adding new fields/models, exposing them through an API).\n\nWe can refactor the existing `ProjectFeature` functionality to support a `GroupFeature`. There was a previous attempt to do this in https://gitlab.com/gitlab-org/gitlab-foss/-/merge_requests/15060.\n\nA breakdown of MRs:\n\n* Database migration !31712\n* Model and validation\n* Extract common logic from `ProjectFeature` !31700 \n* Extract common logic from `Project`\n* Policy class\n* Controller action/helpers\n* Frontend view, JS \u0026 CSS\n\n![image](/uploads/376a4e4b83e487facb751b703080463c/image.png)\n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?--\u003e\n\nGroup wiki settings should only be available to:\n\n- Group owners\n- Group maintainers?\n- Parent group owners/maintainers?\n\nThe visibility levels need to be restricted if the group or a parent group is private/internal.\n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html\nAdd all known Documentation Requirements here, per https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements\nIf this feature requires changing permissions, this document https://docs.gitlab.com/ee/user/permissions.html must be updated accordingly. --\u003e\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\n What risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\n### Links / references","state":"closed","created_at":"2020-02-28T12:06:10.190Z","updated_at":"2022-05-11T19:29:28.866Z","closed_at":"2022-04-14T16:31:05.588Z","closed_by":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier L√≥pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"labels":["Category:Wiki","Deliverable","Enterprise Edition","GitLab Starter","Stretch","UX","backend","customer","devops::create","frontend","group::editor","quad-planning::complete-no-action","section::dev","type::feature"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":955795,"username":"fjsanpedro","name":"Francisco Javier L√≥pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"}],"author":{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},"type":"ISSUE","assignee":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier L√≥pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"user_notes_count":71,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/208412","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/208412","notes":"https://gitlab.com/api/v4/projects/278964/issues/208412/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/208412/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#208412","relative":"#208412","full":"gitlab-org/gitlab#208412"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2782,"epic":{"id":26783,"iid":2782,"title":"[MVC 2] Group-level wiki: Feature parity with project wikis (git, search)","url":"/groups/gitlab-org/-/epics/2782","group_id":9970,"human_readable_end_date":"Apr 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31381888,"iid":208411,"project_id":278964,"title":"`interruptible` does not cancel child pipelines","description":"## Problem\n\nFrom https://gitlab.com/gitlab-org/gitlab/issues/32837#note_293246134\n\n\u003e\u003e\u003e\nwhen using Parent/Child pipelines, interruptible doesn't cancel the child pipeline jobs. It only cancels the parent trigger job and leave the child pipeline running.\n\nThe same issue occurs when canceling the parent pipeline from the UI, parent pipeline cancels however child remains running.\n\u003e\u003e\u003e\n\n## Solution\n\nWe should also cancel the \"interruptible\" jobs of child pipelines when a new commit arrives in the same branch.\n\n### Technical note\n\n* Now, `CancelPendingPipelines` looks for the pipelines that are only from `ci_sources`.\n* We need to modify `auto_cancelable_pipelines` to include child pipelines.","state":"closed","created_at":"2020-02-28T11:55:40.293Z","updated_at":"2022-09-12T18:18:11.501Z","closed_at":"2020-11-17T10:12:33.175Z","closed_by":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"labels":["Category:Continuous Integration","Category:Pipeline Authoring","Deliverable","backend","bridge pipelines","customer","devops::verify","group::pipeline authoring","missed-deliverable","missed:13.5","priority::3","section::ops","severity::3","type::bug","workflow::production"],"milestone":{"id":1233755,"iid":53,"group_id":9970,"title":"13.6","description":"https://about.gitlab.com/releases/2020/11/22/gitlab-13-6-released/","state":"closed","created_at":"2020-04-09T17:39:22.328Z","updated_at":"2022-04-13T14:51:04.376Z","due_date":"2020-11-17","start_date":"2020-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/53"},"assignees":[{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"}],"author":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"type":"ISSUE","assignee":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"user_notes_count":45,"merge_requests_count":0,"upvotes":27,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/208411","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/208411","notes":"https://gitlab.com/api/v4/projects/278964/issues/208411/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/208411/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#208411","relative":"#208411","full":"gitlab-org/gitlab#208411"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":31380832,"iid":208407,"project_id":278964,"title":"Don't pass a single space as a severity in Security Dashboard table row","description":"The following discussions from !25489 should be addressed:\n\n- [ ] @farias-gl started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/25489#note_293069196):  (+3 comments)\n\n    \u003e We usually try to avoid having v-if logic inline. What do you think of creating a new computed prop\n    \u003e \n    \u003e Computed Prop:\n    \u003e ```\n    \u003e hasSeverityBadge(){\n    \u003e  return this.severity \u0026\u0026 this.severity != ' ';\n    \u003e }\n    \u003e ```\n    \u003e \n    \u003e In template:\n    \u003e \n    \u003e ```\n    \u003e \u003cdiv v-if=\"hasSeverityBadge\" class=\"severity-badge gl-text-gray-900\"\u003e\n    \u003e ```\n    \u003e \n    \u003e \n    \u003e Note to maintainer: Not sure why, I didn't have a chance to debug, but when this component is initialized the `severity` prop is a string with a space. I believe this is the reason for \n    \u003e \n    \u003e ```\n    \u003e this.severity != ' ';\n    \u003e ```\n\nSpecifically, this is about cleaning up the tech debt of passing a single space to the severity badge component, done here: https://gitlab.com/gitlab-org/gitlab/-/blob/7c029f070ed4db89a4b36f91fd3a8eac9e1b5864/ee/app/assets/javascripts/security_dashboard/components/security_dashboard_table_row.vue#L45","state":"closed","created_at":"2020-02-28T11:21:40.074Z","updated_at":"2021-02-11T10:04:49.531Z","closed_at":"2021-02-11T10:04:49.477Z","closed_by":{"id":4907528,"username":"dftian","name":"Daniel Tian","state":"active","avatar_url":"https://secure.gravatar.com/avatar/5d7186a64c42708833291afd7749c7b5?s=80\u0026d=identicon","web_url":"https://gitlab.com/dftian"},"labels":["Category:Vulnerability Management","devops::secure","follow-up","frontend","group::threat insights","section::sec","security dashboard","workflow::in review"],"milestone":{"id":1233760,"iid":56,"group_id":9970,"title":"13.9","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.334Z","updated_at":"2022-04-21T07:21:28.468Z","due_date":"2021-02-17","start_date":"2021-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/56"},"assignees":[{"id":4907528,"username":"dftian","name":"Daniel Tian","state":"active","avatar_url":"https://secure.gravatar.com/avatar/5d7186a64c42708833291afd7749c7b5?s=80\u0026d=identicon","web_url":"https://gitlab.com/dftian"}],"author":{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},"type":"ISSUE","assignee":{"id":4907528,"username":"dftian","name":"Daniel Tian","state":"active","avatar_url":"https://secure.gravatar.com/avatar/5d7186a64c42708833291afd7749c7b5?s=80\u0026d=identicon","web_url":"https://gitlab.com/dftian"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/208407","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/208407","notes":"https://gitlab.com/api/v4/projects/278964/issues/208407/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/208407/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#208407","relative":"#208407","full":"gitlab-org/gitlab#208407"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31374349,"iid":208403,"project_id":278964,"title":"Geo - Does not retry uploads marked as successful but missing on the primary","description":"### Summary\n\nCurrently, the `Geo::FileDownloadDispatchWorker` on a Geo secondary node will retry upload files marked as successful but missing on the primary indefinitely if it still has capacity, see: https://gitlab.com/gitlab-org/gitlab/blob/master/ee/app/workers/geo/file_download_dispatch_worker.rb#L64.\n\nWe should rely on the re-verification feature to resync these files as necessary. If the files suddenly appeared on the primary node, then their checksums will change, secondaries will reverify, and mark them for sync.\n\n### Related issues\n\nhttps://sentry.gitlab.net/gitlab/staginggitlabcom/issues/1130708/","state":"closed","created_at":"2020-02-28T09:53:16.060Z","updated_at":"2022-01-20T20:09:31.828Z","closed_at":"2021-12-22T00:24:01.362Z","closed_by":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"labels":["Category:Geo Replication","[deprecated] Accepting merge requests","devops::systems","group::geo","priority::4","section::enablement","severity::4","type::bug"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":402401,"username":"jobbot","name":"Bot","state":"active","avatar_url":"https://secure.gravatar.com/avatar/aaa6738f1ebf25404010884af511b0e7?s=80\u0026d=identicon","web_url":"https://gitlab.com/jobbot"},"type":"ISSUE","assignee":null,"user_notes_count":24,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/208403","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/208403","notes":"https://gitlab.com/api/v4/projects/278964/issues/208403/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/208403/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#208403","relative":"#208403","full":"gitlab-org/gitlab#208403"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31372895,"iid":208401,"project_id":278964,"title":"Value stream analytics - select date range of 1 day","description":"It is no longer possible to select a date range of one day. This is because the daterange picker component doesn't allow selection of the same start and end date. This worked perfectly when dates where being calculated from `00:00` - `00:00`, but will no longer work with them being calculated from `00:00` - `23:59:59`. \n\nRef that introduced this change: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/25885\n\nSomething to take note of at the same time is that when a single day is selected, the text displayed should be singular `1 day` not plural `1 days`.","state":"closed","created_at":"2020-02-28T09:16:56.340Z","updated_at":"2020-04-14T09:01:59.442Z","closed_at":"2020-04-14T09:01:59.393Z","closed_by":{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"},"labels":["devops::manage","estimation::completed","frontend","group::optimize","missed:12.9","severity::4","type::bug","workflow::verification"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"}],"author":{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"},"type":"ISSUE","assignee":{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/208401","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/208401","notes":"https://gitlab.com/api/v4/projects/278964/issues/208401/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/208401/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#208401","relative":"#208401","full":"gitlab-org/gitlab#208401"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31370934,"iid":208397,"project_id":278964,"title":"Unable to download Evidence collection","description":"### Summary\n\nDownloading the Evidence collection on the Releases-page (Project overview -\u003e Releases) leads to a \"Not Found\"-error.\n\nThe problem is that we require a lot of permissions to view release evidence:\n\n```\n    condition(:allowed_to_read_evidence) do\n      can?(:read_release) \u0026\u0026\n        can?(:download_code) \u0026\u0026\n        can?(:read_project) \u0026\u0026\n        can?(:read_milestone) \u0026\u0026\n        can?(:read_issue)\n    end\n```\n\nIf the user can't view one of those, it can't download the release evidence. The easiest way to reproduce this - disable the issue tracker on the project.\n\n### Steps to reproduce\n\n1. Log into Gitlab\n2. Go to \"Project overview\" -\u003e \"Releases\" of any project\n3. Click on the linked file under \"Evidence collection\"\n\n### What is the current *bug* behavior?\n\n\"Not Found\"-error\n\n### What is the expected *correct* behavior?\n\nDownloaded JSON-file\n\n### Relevant logs and/or screenshots\n\nhttps://www.example.com/MYNAMESPACE/MYPROJECT/-/releases/MYTAG/evidence.json\n\n```\nStarted GET \"/MYNAMESPACE/MYPROJECT/-/releases/MYTAG/evidence.json\" for 1.2.3.4 at 2020-02-27 17:54:23 +0100\nProcessing by Projects::ReleasesController#evidence as JSON\n  Parameters: {\"namespace_id\"=\u003e\"MYNAMESPACE\", \"project_id\"=\u003e\"MYPROJECT\", \"tag\"=\u003e\"MYTAG\"}\nFilter chain halted as :authorize_read_release_evidence! rendered or redirected\nCompleted 404 Not Found in 15ms (ActiveRecord: 1.5ms | Elasticsearch: 0.0ms | Allocations: 9755)\n```\n#### Results of GitLab environment info\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\u003cpre\u003e\nSystem information\nSystem:\nCurrent User:   git\nUsing RVM:      no\nRuby Version:   2.6.5p114\nGem Version:    2.7.10\nBundler Version:1.17.3\nRake Version:   12.3.3\nRedis Version:  5.0.7\nGit Version:    2.24.1\nSidekiq Version:5.2.7\nGo Version:     unknown\n\nGitLab information\nVersion:        12.8.1\nRevision:       d18b43a5f5a\nDirectory:      /opt/gitlab/embedded/service/gitlab-rails\nDB Adapter:     PostgreSQL\nDB Version:     11.7\nUsing LDAP:     yes\nUsing Omniauth: yes\nOmniauth Providers:\n\nGitLab Shell\nVersion:        11.0.0\nRepository storage paths:\ndefault:      /var/opt/gitlab/git-data/repositories\nGitLab Shell path:              /opt/gitlab/embedded/service/gitlab-shell\nGit:            /opt/gitlab/embedded/bin/git\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Proposed solution\n\nDon't show release evidence link if the user has no access to view release evidence content.","state":"closed","created_at":"2020-02-28T08:18:33.470Z","updated_at":"2022-09-02T16:52:56.918Z","closed_at":"2021-11-05T17:59:28.009Z","closed_by":{"id":4373269,"username":"ali-gitlab","name":"Alishan Ladhani","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4373269/avatar.png","web_url":"https://gitlab.com/ali-gitlab"},"labels":["Category:Release Evidence","Release::P2","[deprecated] low hanging fruit","awaiting feedback","backend","cicd::active","devops::release","group::release","missed-SLO","priority::2","section::ops","severity::2","type::bug","workflow::verification"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":4373269,"username":"ali-gitlab","name":"Alishan Ladhani","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4373269/avatar.png","web_url":"https://gitlab.com/ali-gitlab"}],"author":{"id":4029128,"username":"alexgit2k","name":"alexgit2k","state":"active","avatar_url":"https://secure.gravatar.com/avatar/5cda583505d78efabd78fc517b2b785c?s=80\u0026d=identicon","web_url":"https://gitlab.com/alexgit2k"},"type":"ISSUE","assignee":{"id":4373269,"username":"ali-gitlab","name":"Alishan Ladhani","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4373269/avatar.png","web_url":"https://gitlab.com/ali-gitlab"},"user_notes_count":31,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/208397","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/208397","notes":"https://gitlab.com/api/v4/projects/278964/issues/208397/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/208397/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#208397","relative":"#208397","full":"gitlab-org/gitlab#208397"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31370595,"iid":208396,"project_id":278964,"title":"Error tracking mobile display is broken","description":"### Summary\n\nWhen opening the error tracking screen on a mobile device, the table layout overflows off the screen.\n\n### Steps to reproduce\n\n1. Connect Sentry \n2. Generate errors \n3. Open error tracking list via mobile / tablet screen(\u003c768px)\n\n### Example Project\n\nhttps://gitlab.com/oregand/blueshinners/-/error_tracking\n\n### What is the current *bug* behavior?\n\nThe error tracking table overflows off the screen to the right. \n\n### What is the expected *correct* behavior?\n\nThe table should be laid out correctly and kept within the view-port. \n\n### Relevant logs and/or screenshots\n\n![Screenshot_2020-02-28_07-59-47](/uploads/3cfba211a618f296a410a67afe5f8b13/Screenshot_2020-02-28_07-59-47.png)\n\n### Output of checks\n\nThis bug happens on GitLab.com\n\n### Possible fixes\n\n1. Fix table layout to be a mobile first approach.","state":"closed","created_at":"2020-02-28T08:07:49.250Z","updated_at":"2020-03-20T08:21:43.413Z","closed_at":"2020-03-20T08:21:43.369Z","closed_by":{"id":1646689,"username":"oregand","name":"David O'Regan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1646689/avatar.png","web_url":"https://gitlab.com/oregand"},"labels":["Filler","devops::monitor","frontend","group::respond","missed:12.9","priority::3","severity::3","type::bug","workflow::in review"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":1646689,"username":"oregand","name":"David O'Regan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1646689/avatar.png","web_url":"https://gitlab.com/oregand"}],"author":{"id":1646689,"username":"oregand","name":"David O'Regan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1646689/avatar.png","web_url":"https://gitlab.com/oregand"},"type":"ISSUE","assignee":{"id":1646689,"username":"oregand","name":"David O'Regan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1646689/avatar.png","web_url":"https://gitlab.com/oregand"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/208396","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/208396","notes":"https://gitlab.com/api/v4/projects/278964/issues/208396/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/208396/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#208396","relative":"#208396","full":"gitlab-org/gitlab#208396"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31367368,"iid":208392,"project_id":278964,"title":"Run `package-and-qa` against merged results","description":"Following up from !26130, where we changed `package-and-qa` to run against `CI_MERGE_REQUEST_SOURCE_BRANCH_SHA`.\n\nIt might be possible to run `package-and-qa` against the merged result, but we need to fetch the ref `refs/merge-requests/:iid/merge` https://gitlab.slack.com/archives/C8HG8D9MY/p1582865165071300?thread_ts=1582858654.071000\u0026cid=C8HG8D9MY\n\n/cc @mlapierre @sliaquat @gl-quality/eng-prod","state":"closed","created_at":"2020-02-28T05:01:38.892Z","updated_at":"2022-11-07T16:13:26.480Z","closed_at":"2022-11-07T16:13:26.427Z","closed_by":{"id":128633,"username":"rymai","name":"R√©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"labels":["Engineering Productivity","QA","Quality","[deprecated] Accepting merge requests","ep::contributor tooling","priority::4"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[],"author":{"id":461042,"username":"caalberts","name":"Albert Salim","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/461042/avatar.png","web_url":"https://gitlab.com/caalberts"},"type":"ISSUE","assignee":null,"user_notes_count":5,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/208392","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/208392","notes":"https://gitlab.com/api/v4/projects/278964/issues/208392/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/208392/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#208392","relative":"#208392","full":"gitlab-org/gitlab#208392"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31365962,"iid":208389,"project_id":278964,"title":"Change the image tag to be the MD5 of assets files in `build-assets-image` and skip image building if the image exists","description":"The following discussion from !26008 should be addressed:\n\n- [ ] Albert started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/26008#note_295803772): \n\n```\n    - time bin/rake gitlab:assets:compile \u003e assets-compile.log 2\u003e\u00261\n    - compile_webpack_assets_if_needed\n    - bin/rake gitlab:assets:fix_urls\n    # TODO: Change the image tag to be the MD5 of assets files and skip image building if the image exists\n    # We'll also need to pass GITLAB_ASSETS_TAG to the trigerred omnibus-gitlab pipeline similarly to how we do it for trigerred CNG pipelines\n```\n\nThe goal is to speed up the `build-assets-image` job by avoiding rebuilding the image if there's already an image with the exact same assets.","state":"closed","created_at":"2020-02-28T03:29:37.968Z","updated_at":"2022-11-24T11:34:54.264Z","closed_at":"2022-11-24T11:34:54.210Z","closed_by":{"id":128633,"username":"rymai","name":"R√©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"labels":["Engineering Productivity","ep::pipeline","maintenance::pipelines","missed:15.5","missed:15.6","type::maintenance","workflow::verification"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":128633,"username":"rymai","name":"R√©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"}],"author":{"id":461042,"username":"caalberts","name":"Albert Salim","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/461042/avatar.png","web_url":"https://gitlab.com/caalberts"},"type":"ISSUE","assignee":{"id":128633,"username":"rymai","name":"R√©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/208389","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/208389","notes":"https://gitlab.com/api/v4/projects/278964/issues/208389/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/208389/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#208389","relative":"#208389","full":"gitlab-org/gitlab#208389"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8584,"epic":{"id":584486,"iid":8584,"title":"GitLab Pipeline Efficiency Rapid Action","url":"/groups/gitlab-org/-/epics/8584","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31365748,"iid":208388,"project_id":278964,"title":"[Design Management] When a design is deleted, remove Todos for that design","description":"This issue was created out of this discussion https://gitlab.com/gitlab-org/gitlab/issues/207200#note_290710243.\n\nWhen a design is deleted we should remove the Todos for that design.\n\n~~**Note that \"deleted\" is referring to the future feature of design \"hard\" deletion, which doesn't exist at time of writing and will be implemented in https://gitlab.com/gitlab-org/gitlab/issues/38048.**~~\n\nUPDATE: Todos should be deleted also for designs which were soft-deleted (archived).\n\n#### Technical Solution (starting point)\n\nWe could look further into the `TodosDestroyer` workers, and service classes under `Todos::Destroy` as it's possible we could follow similar patterns.\n\nThe solution might be:\n* add a new `Todos::Destroy::ArchiveDesign` (or something similar) service, similar to e.g. `Todos::Destroy::ConfidentialIssueService`\n* when a design is soft-deleted, schedule an async job which runs the `Todos::Destroy::ArchiveDesign` - depending whether a design can be un-archived again, we may want to schedule this with a delay or not","state":"closed","created_at":"2020-02-28T03:14:57.299Z","updated_at":"2021-09-29T14:43:19.800Z","closed_at":"2021-09-29T14:43:19.785Z","closed_by":{"id":508743,"username":"jarka","name":"Jarka Ko≈°anov√°","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"},"labels":["Category:Design Management","backend","devops::plan","group::product planning","section::dev","type::feature","workflow::verification"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":508743,"username":"jarka","name":"Jarka Ko≈°anov√°","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"}],"author":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"type":"ISSUE","assignee":{"id":508743,"username":"jarka","name":"Jarka Ko≈°anov√°","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"},"user_notes_count":17,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/208388","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/208388","notes":"https://gitlab.com/api/v4/projects/278964/issues/208388/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/208388/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#208388","relative":"#208388","full":"gitlab-org/gitlab#208388"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3883,"epic":{"id":80243,"iid":3883,"title":"Actually delete designs","url":"/groups/gitlab-org/-/epics/3883","group_id":9970,"human_readable_end_date":"Sep 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31362599,"iid":208368,"project_id":278964,"title":"CI_COMMIT_SHA does not allow for `package-and-qa` to run","description":"### Summary\n\n`package-and-qa` passes down `CI_COMMIT_SHA` which is dynamically generated with after https://gitlab.com/gitlab-org/gitlab/issues/200037\n\n### Steps to reproduce\n\n- Create a merge request in `gitlab-org/gitlab`\n- Run `package-and-qa`\n- See error like \n```\n The following shell command exited with status 128:\n     $ git -c core.autocrlf=false checkout 6d7224ebf5f9e52f0354f38ce8dcf8fb685bdb97 -f -q\n Output:\n     (nothing)\n Error:\n     fatal: reference is not a tree: 6d7224ebf5f9e52f0354f38ce8dcf8fb685bdb97\n```\nwhere 6d7224ebf5f9e52f0354f38ce8dcf8fb685bdb97 is the SHA generated with the pipeline\n\n### Potential Fix\n\nPass down `CI_MERGE_REQUEST_SOURCE_BRANCH_SHA` instead of `CI_COMMIT_SHA` for trigger_build","state":"closed","created_at":"2020-02-27T23:36:39.804Z","updated_at":"2020-02-28T03:54:18.153Z","closed_at":"2020-02-28T03:54:18.100Z","closed_by":{"id":655908,"username":"mlapierre","name":"Mark Lapierre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/655908/avatar.png","web_url":"https://gitlab.com/mlapierre"},"labels":["Engineering Productivity","Quality"],"milestone":{"id":1001916,"iid":44,"group_id":9970,"title":"12.9","description":"https://about.gitlab.com/releases/2020/03/22/gitlab-12-9-released","state":"closed","created_at":"2019-09-15T20:54:50.875Z","updated_at":"2020-09-02T11:04:41.671Z","due_date":"2020-03-17","start_date":"2020-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/44"},"assignees":[{"id":4303148,"username":"kwiebers","name":"Kyle Wiebers","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4303148/avatar.png","web_url":"https://gitlab.com/kwiebers"}],"author":{"id":4303148,"username":"kwiebers","name":"Kyle Wiebers","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4303148/avatar.png","web_url":"https://gitlab.com/kwiebers"},"type":"ISSUE","assignee":{"id":4303148,"username":"kwiebers","name":"Kyle Wiebers","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4303148/avatar.png","web_url":"https://gitlab.com/kwiebers"},"user_notes_count":0,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/208368","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/208368","notes":"https://gitlab.com/api/v4/projects/278964/issues/208368/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/208368/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#208368","relative":"#208368","full":"gitlab-org/gitlab#208368"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31359398,"iid":208359,"project_id":278964,"title":"Follow-up from \"Add unscanned projects: Vuex module\" - pick view model props","description":"## Context\n\nThe following discussion from !24256 should be addressed:\n\n- [ ] @pslaughter started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/24256#note_294723077):  (+3 comments)\n\n    \u003e **question:** Rather than shoving everything we get from the BE into the store, do we know what **specific** props we need? This can be really helpful at controlling the amount of memory a page takes up, especially because Vuex makes everything reactive.","state":"closed","created_at":"2020-02-27T21:07:31.301Z","updated_at":"2020-11-12T23:36:16.831Z","closed_at":"2020-11-12T23:36:12.194Z","closed_by":{"id":5412787,"username":"nmccorrison","name":"Neil McCorrison","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5412787/avatar.png","web_url":"https://gitlab.com/nmccorrison"},"labels":["Category:DAST","backstage [DEPRECATED]","devops::secure","frontend","group::dynamic analysis","maintenance::refactor","section::sec"],"milestone":{"id":1233755,"iid":53,"group_id":9970,"title":"13.6","description":"https://about.gitlab.com/releases/2020/11/22/gitlab-13-6-released/","state":"closed","created_at":"2020-04-09T17:39:22.328Z","updated_at":"2022-04-13T14:51:04.376Z","due_date":"2020-11-17","start_date":"2020-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/53"},"assignees":[],"author":{"id":2233420,"username":"pslaughter","name":"Paul Slaughter","state":"active","avatar_url":"https://secure.gravatar.com/avatar/631b25421eb206ab44cb2793ef09d881?s=80\u0026d=identicon","web_url":"https://gitlab.com/pslaughter"},"type":"ISSUE","assignee":null,"user_notes_count":3,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/208359","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/208359","notes":"https://gitlab.com/api/v4/projects/278964/issues/208359/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/208359/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#208359","relative":"#208359","full":"gitlab-org/gitlab#208359"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31355738,"iid":208330,"project_id":278964,"title":"Clean-ups for Operations \u003e Settings","description":"### List of changes \n\nIn addition to the changes by section, outlined below, we should re-order the presentation of this page to better match the items under Operations. So, the sections should be presented as follows: Metrics, Tracing, Error tracking, Alerts, Incidents, Grafana, Status Page. Grafana and Status Page don't match the current main nav pattern but these will likely get moved within Incidents at some point in the future as part of separate issues. (Existing issue to move Grafana: https://gitlab.com/gitlab-org/gitlab/-/issues/219143.)\n\n### **Alert integrations**\n\n- Change section to be called \"Alerts\". This will also need to be updated in the [docs](https://docs.gitlab.com/ee/operations/incident_management/integrations.html#single-http-endpoint).\n\n- Change \"enabled\" checkmark in table from check-filled to check to match Settings \u003e Integrations \n\n ![Screen_Shot_2021-04-29_at_10.06.36_AM](/uploads/a3c83d800c28a4b38f45f11a65b4b961/Screen_Shot_2021-04-29_at_10.06.36_AM.png)  --\u003e ![Screen_Shot_2021-04-29_at_10.20.17_AM](/uploads/a70b11758689f97b191a50454bc24ad3/Screen_Shot_2021-04-29_at_10.20.17_AM.png) \n\n- Introduce tabs for Current integrations and Integration settings \n- Move alert content from Incidents section into the new Integration settings tab. Will also require updating the [docs](https://docs.gitlab.com/ee/operations/incident_management/paging.html#email-notifications).\n\n| Current integrations tab | Integration settings tab|\n| ------ | ------ |\n| ![New_alerts_section](/uploads/0c932a8c06690d02f5cf6b5c3af4a08b/New_alerts_section.png) | ![Integration_settings](/uploads/ade818d1f7fc9c3bdc7609ce4be0c21d/Integration_settings.png) |\n\n### **Incidents**\n\n- Change intro text to: `Fine-tune incident settings and set up integrations with external tools to help better manage incidents.`\n- Update green save changes button to a primary (blue) button on the first tab\n- Remove the green save changes button in the PagerDuty tab (assuming it can be \"activated\" with just the toggle we don't need the \"save\") \n- Move the current Incident settings tab to the first tab position, as shown here:\n\n![Screen_Shot_2021-04-29_at_11.38.05_AM](/uploads/9d5e38de3a87c2161a2e7e08a2144902/Screen_Shot_2021-04-29_at_11.38.05_AM.png)\n\n### **Metrics dashboard**\n\n- Update heading to Metrics to better match the main nav\n- Update subtext to: `Manage metrics dashboard settings. Learn more.` (Make metrics dashboard lower-case and add a period after learn more)\n- Update green save changes button to blue one.\n\n### **Grafana authentication**\n\n- Add a label to the checkbox to make it consistent with the error tracking checkbox presentation: ![Screen_Shot_2021-04-29_at_10.44.47_AM](/uploads/c0fa94e67fecce6608450132a4a8012b/Screen_Shot_2021-04-29_at_10.44.47_AM.png)\n\n- Update API field help text: ![Screen_Shot_2021-04-29_at_10.43.55_AM](/uploads/e8f05e3fb1f06b7c72abb02f791ad520/Screen_Shot_2021-04-29_at_10.43.55_AM.png)\n\n- Save changes button should be primary rather than success variant\n\n### **Jaeger tracing**\n\n- Change section to be called `Tracing` to match main nav\n- Update help text to: Embed an image of your existing Jaeger server in GitLab. Learn more.\n- It seems like the current empty state and docs page for this feature are out-of-date. Since those changes are outside of the Settings \u003e Operations, this could be tackled separately: https://gitlab.com/gitlab-org/gitlab/-/issues/329563\n\n### **Status page**\n\n- Change help text of the URL field to --\u003e ![Screen_Shot_2021-04-29_at_12.08.52_PM](/uploads/15ea4f24acafae4147f7c5e4d408e98a/Screen_Shot_2021-04-29_at_12.08.52_PM.png) and change the help text link to: http://127.0.0.1:3000/help/operations/incident_management/status_page#configure-gitlab-with-cloud-provider-information\n- Update save changes button from green to blue\n\n### Links / references","state":"closed","created_at":"2020-02-27T18:42:33.943Z","updated_at":"2021-06-04T10:16:58.248Z","closed_at":"2021-06-04T10:16:58.228Z","closed_by":{"id":1646689,"username":"oregand","name":"David O'Regan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1646689/avatar.png","web_url":"https://gitlab.com/oregand"},"labels":["UX","devops::monitor","group::respond","section::ops","workflow::in review"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":1646689,"username":"oregand","name":"David O'Regan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1646689/avatar.png","web_url":"https://gitlab.com/oregand"},{"id":2799498,"username":"ameliabauerly","name":"Amelia Bauerly","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2799498/avatar.png","web_url":"https://gitlab.com/ameliabauerly"}],"author":{"id":2799498,"username":"ameliabauerly","name":"Amelia Bauerly","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2799498/avatar.png","web_url":"https://gitlab.com/ameliabauerly"},"type":"ISSUE","assignee":{"id":1646689,"username":"oregand","name":"David O'Regan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1646689/avatar.png","web_url":"https://gitlab.com/oregand"},"user_notes_count":28,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/208330","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/208330","notes":"https://gitlab.com/api/v4/projects/278964/issues/208330/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/208330/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#208330","relative":"#208330","full":"gitlab-org/gitlab#208330"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31354250,"iid":208322,"project_id":278964,"title":"Remove `build SHA is outdated for this ref` check for pages builds","description":"As can be seen in https://gitlab.com/gitlab-org/gitlab/pipelines/121633442:\n![Screen_Shot_2020-02-27_at_19.01.54](/uploads/3e0657c89efe009b909daba631c7b5a6/Screen_Shot_2020-02-27_at_19.01.54.png)\n\n## Proposed solution\n\nAdd a \"smart\" check when validating the SHA https://gitlab.com/gitlab-org/gitlab/-/issues/208322#note_627360109\n\n```ruby\n def validate_outdated_sha!\n      return if latest?\n\n      if Feature.enabled?(:smart_outdated_pages_check, default_enabled: :yaml)\n        deployed_build_id = project.pages_metadatum\u0026.pages_deployment\u0026.ci_build_id\n\n        return unless deployed_build_id\n        return if deployed_build_id \u003c build.id\n      end\n\n      raise InvalidStateError, 'build SHA is outdated for this ref'\n    end\n\n```","state":"closed","created_at":"2020-02-27T18:03:31.068Z","updated_at":"2022-05-11T07:50:42.839Z","closed_at":"2021-10-06T03:38:27.432Z","closed_by":{"id":4082686,"username":"jaime","name":"Jaime Martinez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4082686/avatar.png","web_url":"https://gitlab.com/jaime"},"labels":["Category:Pages","Release::P3","UX","[deprecated] low hanging fruit","backend","cicd::active","customer","devops::release","frontend","group::release","internal customer","priority::3","section::ops","severity::3","type::bug","workflow::production"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":4082686,"username":"jaime","name":"Jaime Martinez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4082686/avatar.png","web_url":"https://gitlab.com/jaime"}],"author":{"id":128633,"username":"rymai","name":"R√©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"type":"ISSUE","assignee":{"id":4082686,"username":"jaime","name":"Jaime Martinez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4082686/avatar.png","web_url":"https://gitlab.com/jaime"},"user_notes_count":66,"merge_requests_count":0,"upvotes":12,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/208322","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/208322","notes":"https://gitlab.com/api/v4/projects/278964/issues/208322/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/208322/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#208322","relative":"#208322","full":"gitlab-org/gitlab#208322"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31351460,"iid":208315,"project_id":278964,"title":"Import Jira Issues MVC","description":"### Release Notes\n\n```\nfeatures:\n  primary:\n    - name: \"Import Jira issues into GitLab\"\n      available_in: [starter, premium, ultimate]\n      documentation_link: ''\n      image_url: ''\n      reporter: kokeefe\n      stage: plan\n      categories:\n        - 'Issue Tracking'\n      issue_url: 'https://gitlab.com/gitlab-org/gitlab/issues/208315'\n      description: |\n        Migrating from Jira to GitLab has never been easier. Now you can import issues from your Jira project directly to your GitLab project. \n```\n\n### Proposal\n\n* For each JIRA issue in the JIRA project, create a corresponding issue in the GitLab project, with these mappings:\n  * JIRA issue summary -\u003e GitLab issue title\n  * JIRA issue description -\u003e GitLab issue description\n    * Simplified text handling/conversion\n  * GitLab issue author := GitLab user who activates this import process.\n  * Add import meta-data (timestamp, original author, Jira issue Key, etc.) to newly created GitLab issue (append to description or add comment)\n* All other fields and attributes in the GitLab issue are set to as if it was created in the GitLab web UI with nothing beyond the above selected. E.g. the issue is in open state and there are no labels associated\n\n### Important\n\nThis will be the first of several \"plan\" specific importers we will need to build in the foreseeable future. I would architect this in a somewhat generic manner where the core import logic is somewhat isolated and we use vendor specific adapters to extend the base service. No need to over-engineer, but it is worth keeping in mind...\n\n### Implementation details\n\n- This should support both Jira Server and Jira Cloud APIs\n- User will be required to provide their Jira email address, API token, instance URL, and ID or project key. The key is [case sensitive](https://developer.atlassian.com/cloud/jira/platform/rest/v3/#api-rest-api-3-project-projectIdOrKey-get)\n  * They must have `Browse` Project permissions and `Read` App permissions in the Jira project they want to import\n- User must be a GitLab admin or owner\n- Importing can be initiated when creating a project or via an existing project (~\"group::import\" to define where this ought to be located)\n\n### Implementation Breakdown\n\u003e I don't think we need to use the REST API. We will be running these in Sidekiq and those have access to the whole Rails app. So we could create service classes to do this like we do in `lib/gitlab/github_import/importer/issue_importer.rb`. That would save us some overhead of another HTTP call. Also, just wanted to add that we already have the `jira-ruby` gem installed. And we could use that to access Jira's REST API. \n\nFull Notes: https://gitlab.com/gitlab-org/gitlab/issues/208315#note_296151907\n\n- [ ] 1. Entry point experience -- direct to setup Jira Service Integration if not already configured\n- [ ] 2.1 Use installed `jira-ruby` gem to access REST API to pull issues (handle pagination -- currently 100 issues per page)  \n- [ ] 2.2 Parse data and map it to a GitLab like data structure.\n- [ ] 2.3 Make use of Sidekiq / service classes to create the issues\n- [ ] 2.4 Provide some status update mechanism on the progress of the import process\n- [ ] 3. [Update usage ping to collect usage metrics](https://about.gitlab.com/handbook/product/feature-instrumentation/#usage-ping)\n\nEach of these tasks can be worked independently and at the same time with some overlap of 1 and 2.4 if we would store credentials in the same `jira_issue_imports` table\n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?--\u003e\n\n- `Admin` or `Owner` only\n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html\nAdd all known Documentation Requirements here, per https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements\nIf this feature requires changing permissions, this document https://docs.gitlab.com/ee/user/permissions.html must be updated accordingly. --\u003e\n\n- Yes, we will need documentation\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\n What risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\n- We will need to write an end-to-end integration test that verifies Jira API compatibility at all times. i.e. if the Jira API changes, we should fail the build because there is a potential it will break this feature.\n\n### What does success look like, and how can we measure that?\n\n\u003c!-- Define both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. --\u003e\n\n#### Success Metrics\n\nWe should track the following usage metrics:\n- Count of the number of times the importer is used\n- Count of issues imported via the Jira importer\n\n#### Acceptance Criteria\n\n- [ ] The proposal is satisfied\n- [ ] Documentation\n- [ ] Use GitLab-UI\n- [ ] [Usage ping updated to collect usage metrics](https://about.gitlab.com/handbook/product/feature-instrumentation/#usage-ping)\n- [ ] Tests sufficiently implemented to prevent feature failure due to changes in external APIs we do not control\n\n### What is the type of buyer?\n\n- For this initial MVC, we are targeting ~\"GitLab Starter\". As we iterate to support importing epics, this will branch into different tiers such as ~\"GitLab Premium\" \n\n### Working UX\n\n![Jira Import](https://gitlab.com/groups/gitlab-org/-/uploads/8a4baf18d44ed3696a761dc96580d6c0/Jira_Import.png)","state":"closed","created_at":"2020-02-27T16:56:11.281Z","updated_at":"2020-03-19T16:13:30.495Z","closed_at":"2020-03-04T11:11:06.985Z","closed_by":{"id":4418630,"username":"johnhope","name":"John Hope","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4418630/avatar.png","web_url":"https://gitlab.com/johnhope"},"labels":["CEO Interest","Category:Jira Importer","Kickoff Highlight","devops::plan","direction","documentation","group::project management","highlight","planning priority","quad-planning::complete-action","type::feature","workflow::ready for development"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":4478389,"username":"kokeefe","name":"Keanon O'Keefe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4478389/avatar.png","web_url":"https://gitlab.com/kokeefe"}],"author":{"id":4303289,"username":"gweaver","name":"Gabe Weaver","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4303289/avatar.png","web_url":"https://gitlab.com/gweaver"},"type":"ISSUE","assignee":{"id":4478389,"username":"kokeefe","name":"Keanon O'Keefe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4478389/avatar.png","web_url":"https://gitlab.com/kokeefe"},"user_notes_count":47,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/208315","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":11,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 11 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/208315","notes":"https://gitlab.com/api/v4/projects/278964/issues/208315/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/208315/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#208315","relative":"#208315","full":"gitlab-org/gitlab#208315"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2738,"epic":{"id":24595,"iid":2738,"title":"JIRA Importer","url":"/groups/gitlab-org/-/epics/2738","group_id":9970,"human_readable_end_date":"Jun 22, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31345594,"iid":208303,"project_id":278964,"title":"Issues associated with epics are not shown on Epic's page after Project Import","description":"If a project is imported into a group, that has epics and project's issue are referencing that epic - on Epic's Page issue list is empty. However issue counter is correct and shows correct number of issues assigned to an epic. \n\n![image](/uploads/36d20515b9787cceb35db5502a73bc19/image.png)\n\nThis is due to `epic_issue` relation's `relative_position` attribute being `nil`. \n\n`import_export.yml` should include `epic_issue` relation in the export in order to fix this problem.","state":"closed","created_at":"2020-02-27T15:19:42.047Z","updated_at":"2021-05-18T20:46:43.709Z","closed_at":"2020-03-06T18:44:26.501Z","closed_by":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"labels":["DEPRECATED_group import","Importer:Group Export/Import","Next Patch Release","Unplanned","backend","devops::manage","estimation::completed","group::import","priority::2","type::bug","workflow::production"],"milestone":{"id":1001916,"iid":44,"group_id":9970,"title":"12.9","description":"https://about.gitlab.com/releases/2020/03/22/gitlab-12-9-released","state":"closed","created_at":"2019-09-15T20:54:50.875Z","updated_at":"2020-09-02T11:04:41.671Z","due_date":"2020-03-17","start_date":"2020-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/44"},"assignees":[{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"}],"author":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"type":"ISSUE","assignee":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"user_notes_count":3,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/208303","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/208303","notes":"https://gitlab.com/api/v4/projects/278964/issues/208303/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/208303/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#208303","relative":"#208303","full":"gitlab-org/gitlab#208303"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1952,"epic":{"id":12745,"iid":1952,"title":"Group Export/Import API","url":"/groups/gitlab-org/-/epics/1952","group_id":9970,"human_readable_end_date":"Feb 21, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31342779,"iid":208296,"project_id":278964,"title":"It's not possible to set ES replicas to 0","description":"For a small cluster / development environment one might want to set `\"number_of_replicas\": 0` (effectively disabling replication) for an ES index, but it's not possible because of the current validation\n\n```\nvalidates :elasticsearch_replicas,\n          presence: true,\n          numericality: { only_integer: true, greater_than: 0 }\n```\n\nAlso, there is a problem with unassigned shards if we use replica on a single-node cluster\n![Screenshot_2020-02-27_at_17.08.28](/uploads/fc81eccd5c76f2c9b2a73ef10d08fca8/Screenshot_2020-02-27_at_17.08.28.png)","state":"closed","created_at":"2020-02-27T14:09:41.371Z","updated_at":"2022-05-31T11:24:30.077Z","closed_at":"2020-03-03T02:47:36.982Z","closed_by":{"id":2187482,"username":"ashmckenzie","name":"Ash McKenzie","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2187482/avatar.png","web_url":"https://gitlab.com/ashmckenzie"},"labels":["Category:Global Search","[deprecated] Accepting merge requests","advanced search","backend","devops::data_stores","group::global search"],"milestone":{"id":1001916,"iid":44,"group_id":9970,"title":"12.9","description":"https://about.gitlab.com/releases/2020/03/22/gitlab-12-9-released","state":"closed","created_at":"2019-09-15T20:54:50.875Z","updated_at":"2020-09-02T11:04:41.671Z","due_date":"2020-03-17","start_date":"2020-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/44"},"assignees":[],"author":{"id":5054237,"username":"dgruzd","name":"Dmitry Gruzd","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5054237/avatar.png","web_url":"https://gitlab.com/dgruzd"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/208296","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/208296","notes":"https://gitlab.com/api/v4/projects/278964/issues/208296/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/208296/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#208296","relative":"#208296","full":"gitlab-org/gitlab#208296"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31342619,"iid":208294,"project_id":278964,"title":"Merge request child pipeline is not created when using `only:ref`","description":"When using `only:refs` to trigger merge request pipelines, the child pipeline is not created.\n\n```yaml\nfoobar:\n  stage: foobar\n  trigger:\n    include: child-pipeline.yml\n  strategy: depend\n  only:\n    refs:\n      - merge_requests\n```\n\nNo downstream/child pipeline is visible in the UI and the triggering job in the parent pipeline is stuck as pending.\n\nThis occurs because `only:refs:` uses directly `pipeline.source`. For it to work it expects `pipeline.source == :merge_request_event` while for child pipeline `pipeline.source == :parent_pipeline`.\n\n## Workaround\n\nUsing `rules:` instead of `only:` works.\n\n```yaml\nfoobar:\n  stage: foobar\n  trigger:\n    include: child-pipeline.yml\n  strategy: depend\n  rules:\n    - if: $CI_MERGE_REQUEST_ID\n```","state":"closed","created_at":"2020-02-27T14:04:41.697Z","updated_at":"2022-03-07T09:02:26.226Z","closed_at":"2020-07-28T08:57:07.176Z","closed_by":{"id":2243533,"username":"jyavorska","name":"Jason Yavorska","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2243533/avatar.png","web_url":"https://gitlab.com/jyavorska"},"labels":["Category:Continuous Integration","backend","bridge pipelines","devops::verify","group::pipeline execution","onboarding","priority::3","severity::3","type::bug","workflow::in dev"],"milestone":null,"assignees":[{"id":4626651,"username":"allison.browne","name":"Allison Browne","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4bc33904c3bd3f2dce3db4e5af4ad1ae?s=80\u0026d=identicon","web_url":"https://gitlab.com/allison.browne"}],"author":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"type":"ISSUE","assignee":{"id":4626651,"username":"allison.browne","name":"Allison Browne","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4bc33904c3bd3f2dce3db4e5af4ad1ae?s=80\u0026d=identicon","web_url":"https://gitlab.com/allison.browne"},"user_notes_count":2,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/208294","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/208294","notes":"https://gitlab.com/api/v4/projects/278964/issues/208294/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/208294/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#208294","relative":"#208294","full":"gitlab-org/gitlab#208294"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31339243,"iid":208289,"project_id":278964,"title":"Modify regex for Releases API filepath","description":"The following discussions from !25533 should be addressed:\n\n- [ ] @splattael started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/25533#note_293618414):  (+2 comments)\n\n    \u003e We are exposing `filepath_url` but I couldn't find the code where we're exposing `filepath` :mag: :thinking:\n\n- [ ] @splattael started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/25533#note_293618419):  (+2 comments)\n\n    \u003e * Prefer `%r{}` if the regexp contains slashes so we don't have to escape them\n    \u003e * Add `(?: ... )` if we don't need to capture groups which is here the case I believe\n    \u003e \n    \u003e \n    \u003e ```suggestion:-0+0\n    \u003e     FILEPATH_REGEX = %r{\\A/(?:[\\-\\.\\w]+/?)*[\\da-zA-Z]+\\z}.freeze\n    \u003e ```\n    \u003e \n    \u003e * Do we want to prevent directory traversal by disallowing `/../../../../../etc/passwd`? :thinking: \n    \u003e * Do we allow unicode in file path? If not, why not?\n    \u003e * Do we have access to these filepath? If so, could we just check its existence instead of checking via regex? :thinking: \n    \u003e \n    \u003e BTW, did this change slip from the other MR https://gitlab.com/gitlab-org/gitlab/-/merge_requests/25512/diffs#8b3dd8c4ca83f32d16541c8d310f53df90ac97f6_9_9? :thinking:","state":"closed","created_at":"2020-02-27T12:25:58.801Z","updated_at":"2020-07-22T11:08:16.536Z","closed_at":"2020-07-22T11:08:16.501Z","closed_by":{"id":3379682,"username":"vshushlin","name":"Vladimir Shushlin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3379682/avatar.png","web_url":"https://gitlab.com/vshushlin"},"labels":["Category:Release Orchestration","Release::P1","backend","cicd::active","devops::release","maintenance::refactor","workflow::in review"],"milestone":{"id":1233752,"iid":50,"group_id":9970,"title":"13.3","description":"https://about.gitlab.com/releases/2020/08/22/gitlab-13-3-released/","state":"closed","created_at":"2020-04-09T17:39:21.090Z","updated_at":"2022-04-13T14:50:18.976Z","due_date":"2020-08-17","start_date":"2020-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/50"},"assignees":[{"id":3379682,"username":"vshushlin","name":"Vladimir Shushlin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3379682/avatar.png","web_url":"https://gitlab.com/vshushlin"}],"author":{"id":438961,"username":"splattael","name":"Peter Leitzen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/97c2ff0fc99cc4eede69be9ac238c304?s=80\u0026d=identicon","web_url":"https://gitlab.com/splattael"},"type":"ISSUE","assignee":{"id":3379682,"username":"vshushlin","name":"Vladimir Shushlin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3379682/avatar.png","web_url":"https://gitlab.com/vshushlin"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/208289","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/208289","notes":"https://gitlab.com/api/v4/projects/278964/issues/208289/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/208289/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#208289","relative":"#208289","full":"gitlab-org/gitlab#208289"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31336693,"iid":208287,"project_id":278964,"title":"Design: Change Show unchanged lines UI","description":"### Problem\n\n![Screen_Shot_2020-02-27_at_9.19.44_pm](/uploads/e101cb0166bb80c01251c617f8f57cc6/Screen_Shot_2020-02-27_at_9.19.44_pm.png)\n\nI've been frustrated for some time with this `Show unchanged lines` feature because it loads everything. While I was expressing my dislike, I was kindly told by @nick.thomas about the up and down arrows which does exactly what I want. \n\nI felt silly, but I want to blame the UI for not being clear enough :stuck_out_tongue_winking_eye:\n\nI feel we should make it more consistent and clear. I'm thinking something like `‚Üë Show 20 more` and `‚§í Show all` have some background/border color around them.\n\n### Proposal\n\nAfter user research (https://gitlab.com/gitlab-org/gitlab/-/issues/208287#note_390410772), we have laid out some initial first steps to make the current experience better, without significantly altering what's already in place.\n\n1. Swap the expand up/down buttons so that ‚Äúshow more lines above‚Äù appears first, on the left. In the image below, notice that the first button is pointing down. Today, that button appears on the right, so I'm suggesting moving them around.\n1. Add labels for the current icon-only buttons, using `Show` as the verb: `Show 20 lines`.\n1. Change the `Show unchanged lines` label to `Show all unchanged lines`.\n1. Add the `expand` icon to the `Show all unchanged lines`\n\n![image](https://gitlab.com/gitlab-org/gitlab/uploads/5f33d1385f67d4489da0157d7a338182/image.png)","state":"closed","created_at":"2020-02-27T11:23:49.474Z","updated_at":"2022-02-14T15:00:49.526Z","closed_at":"2020-09-02T02:05:25.690Z","closed_by":{"id":4901936,"username":"dskim_gitlab","name":"Sincheol (David) Kim","state":"active","avatar_url":"https://secure.gravatar.com/avatar/84a984a56c54d1d31338678421cecc32?s=80\u0026d=identicon","web_url":"https://gitlab.com/dskim_gitlab"},"labels":["Category:Code Review Workflow","UX","design-weight::2","devops::create","frontend","group::code review","merge requests","missed:13.1","missed:13.3","section::dev","severity::4","type::bug","workflow::in review"],"milestone":{"id":1233753,"iid":51,"group_id":9970,"title":"13.4","description":"https://about.gitlab.com/releases/2020/09/22/gitlab-13-4-released/","state":"closed","created_at":"2020-04-09T17:39:21.662Z","updated_at":"2022-04-13T14:50:33.769Z","due_date":"2020-09-17","start_date":"2020-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/51"},"assignees":[{"id":626804,"username":"pedroms","name":"Pedro Moreira da Silva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c306f087d191ac15549f3c11e3bed321?s=80\u0026d=identicon","web_url":"https://gitlab.com/pedroms"},{"id":4901936,"username":"dskim_gitlab","name":"Sincheol (David) Kim","state":"active","avatar_url":"https://secure.gravatar.com/avatar/84a984a56c54d1d31338678421cecc32?s=80\u0026d=identicon","web_url":"https://gitlab.com/dskim_gitlab"}],"author":{"id":4901936,"username":"dskim_gitlab","name":"Sincheol (David) Kim","state":"active","avatar_url":"https://secure.gravatar.com/avatar/84a984a56c54d1d31338678421cecc32?s=80\u0026d=identicon","web_url":"https://gitlab.com/dskim_gitlab"},"type":"ISSUE","assignee":{"id":626804,"username":"pedroms","name":"Pedro Moreira da Silva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c306f087d191ac15549f3c11e3bed321?s=80\u0026d=identicon","web_url":"https://gitlab.com/pedroms"},"user_notes_count":19,"merge_requests_count":0,"upvotes":4,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/208287","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/208287","notes":"https://gitlab.com/api/v4/projects/278964/issues/208287/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/208287/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#208287","relative":"#208287","full":"gitlab-org/gitlab#208287"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31329566,"iid":208268,"project_id":278964,"title":"Container registry expiration policy: enabled by default for new projects","description":"### Problem to solve\nIn GitLab 12.8, we released the MVC of the Docker tag expiration policies for all new projects. However, currently, the feature is disabled by default. We should be following the Gitlab principle of ['default on'](https://about.gitlab.com/handbook/product/#principles), thereby helping users manage the size of the container registry. \n\n### Intended users\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n\n### Further details\n\n#### Path to supporting ALL projects with the expiration policies\nWe [discussed how to best roll this feature out to all projects](https://www.youtube.com/watch?v=58rDDWFidQo\u0026feature=youtu.be) and have identified that we must:\n\n* [Improve the front-end to let people know that the expiration policy is enabled and will run](https://gitlab.com/gitlab-org/gitlab/issues/208269) **Milestone 12.9**\n* [Enable the feature by default for all new projects for GitLab self-managed](https://gitlab.com/gitlab-org/gitlab/issues/208268) **Milestone 12.10**\n* [Improve performance of the container repository cleanup tags service](https://gitlab.com/gitlab-org/gitlab/issues/208220): **Milestone 12.10**\n* [Introduce throttling to prevent overloading the system for organizations using an external registry](https://gitlab.com/gitlab-org/gitlab/issues/208193) **Milestone 13.0**\n* [Expand Docker tag expiration and retention policies to all existing projects for GitLab self-managed instances](https://gitlab.com/gitlab-org/gitlab/issues/196124) **Milestone 13.1**\n\n#### Enabling the feature for projects created prior to 12.8 for GitLab.com\nFor GitLab.com we can turn on the feature for all existing projects once the performance update is implemented on the container registry side of things in https://gitlab.com/gitlab-org/gitlab/issues/208220. With that improvement, it will be safe for any instance running the GitLab's Container Registry to enable existing projects without having to worry about overloading the background cleanup jobs. \n\n#### Self-managed instances using an external container registry\nFor self-managed instances not running the GitLab container registry, they can enable at their own risk, using the [application setting](https://gitlab.com/gitlab-org/gitlab/-/issues/208735). Then once [throttling](https://gitlab.com/gitlab-org/gitlab/issues/208193) is added, the setting can be removed entirely and all projects can have policies regardless of when they were created without worry.\n\n### Proposal\nFor both self-managed instances AND GitLab.com, enable by default, the Docker tag expiration policies for all new projects, 12.8 forward.  \n\n### Permissions and Security\n- There are no permissions changes required for this issue.\n\n### Documentation\n- There are no documentation changes required for this change.\n\n","state":"closed","created_at":"2020-02-27T08:51:49.368Z","updated_at":"2022-11-26T01:47:02.652Z","closed_at":"2020-04-06T15:01:32.264Z","closed_by":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"labels":["Category:Container Registry","Deliverable","Package:P1","backend","devops::package","direction","group::package registry","ruby","type::feature","workflow::verification"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"}],"author":{"id":4584738,"username":"nmezzopera","name":"Nicol√≤ Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"},"type":"ISSUE","assignee":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"user_notes_count":36,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/208268","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/208268","notes":"https://gitlab.com/api/v4/projects/278964/issues/208268/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/208268/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#208268","relative":"#208268","full":"gitlab-org/gitlab#208268"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2270,"epic":{"id":15539,"iid":2270,"title":"Cleanup policy for tags","url":"/groups/gitlab-org/-/epics/2270","group_id":9970,"human_readable_end_date":"May 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31326296,"iid":208264,"project_id":278964,"title":"Rollout security navbar to users created  2019-11-01","description":"The parent issue can be found [here](https://gitlab.com/gitlab-org/gitlab/issues/34910).","state":"closed","created_at":"2020-02-27T06:34:48.195Z","updated_at":"2020-03-05T18:51:04.796Z","closed_at":"2020-03-05T18:51:04.736Z","closed_by":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"labels":["backstage [DEPRECATED]","devops::growth","experiment::active","group::acquisition","link::child issue"],"milestone":{"id":1001916,"iid":44,"group_id":9970,"title":"12.9","description":"https://about.gitlab.com/releases/2020/03/22/gitlab-12-9-released","state":"closed","created_at":"2019-09-15T20:54:50.875Z","updated_at":"2020-09-02T11:04:41.671Z","due_date":"2020-03-17","start_date":"2020-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/44"},"assignees":[{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"}],"author":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"type":"ISSUE","assignee":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/208264","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/208264","notes":"https://gitlab.com/api/v4/projects/278964/issues/208264/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/208264/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#208264","relative":"#208264","full":"gitlab-org/gitlab#208264"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31323416,"iid":208256,"project_id":278964,"title":"Remove deprecated Rails route to full sized Design Management design in GitLab 13.0","description":"https://gitlab.com/gitlab-org/gitlab/-/merge_requests/25781 changed the Rails route for the app to serve a raw (full-size) Design Management design image. \n\nBecause the old route was exposed in the REST and GraphQL APIs, a redirection from the old route to the new route was added in order to support any clients that had cached the old route, or otherwise were referring to the old route. \n\nThis redirection should be removed in 13.0, which due to being a major release, allows us to make breaking changes.\n\nBefore we make this change, check our logs to see if the deprecated URI has been accessed. We can make a decision then about whether this URI is being accessed on GitLab.com, and whether that influences our decision to remove it.","state":"closed","created_at":"2020-02-27T03:28:37.757Z","updated_at":"2020-12-10T18:58:50.547Z","closed_at":"2020-05-06T23:07:52.083Z","closed_by":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"labels":["Category:Design Management","backend","deprecation","devops::plan","group::product planning"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"}],"author":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"type":"ISSUE","assignee":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/208256","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/208256","notes":"https://gitlab.com/api/v4/projects/278964/issues/208256/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/208256/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#208256","relative":"#208256","full":"gitlab-org/gitlab#208256"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31323043,"iid":208252,"project_id":278964,"title":"Update Dependency Scanning template to allow air-gapped (offline) usage for on-prem instances","description":"### Problem to solve\n\nThe [Dependency-Scanning.gitlab-ci.yml template file](https://gitlab.com/gitlab-org/gitlab/-/blob/ea41f94523184072c10b44d2224bdd1094700a2e/lib/gitlab/ci/templates/Security/Dependency-Scanning.gitlab-ci.yml#L65) currently hardcodes the dependency scanning Docker image to the GitLab container registry:\n\n```\ndocker run \\\n...\n  \"registry.gitlab.com/gitlab-org/security-products/dependency-scanning:$DS_VERSION\" /code\n```\n\nThis means that it's not possible to use Dependency Scanning in an air-gapped (offline) on-prem instance, because the template will always attempt to fetch the Docker image from the remote GitLab container registry at `registry.gitlab.com`.\n\nIn order to support air-gapped (offline) usage, we need to update the [Dependency-Scanning.gitlab-ci.yml template file](https://gitlab.com/gitlab-org/gitlab/-/blob/ea41f94523184072c10b44d2224bdd1094700a2e/lib/gitlab/ci/templates/Security/Dependency-Scanning.gitlab-ci.yml#L65) so that the location of this Docker image can be overridden by a variable.\n\n### Intended users\n\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n\n### Further details\n\nThis change is necessary to allow Dependency Scanning to operate in an air-gapped (offline) installation.\n\n### Proposal\n\nAdd a new variable `SECURITY_SCANNER_IMAGE_PREFIX` to the [Dependency-Scanning.gitlab-ci.yml template file](https://gitlab.com/gitlab-org/gitlab/-/blob/ea41f94523184072c10b44d2224bdd1094700a2e/lib/gitlab/ci/templates/Security/Dependency-Scanning.gitlab-ci.yml#L65) to allow overriding the location of the Dependency Scanning Docker container:\n\n```yaml\nvariables:\n  SECURITY_SCANNER_IMAGE_PREFIX: \"registry.gitlab.com/gitlab-org/security-products\"\n  DS_ANALYZER_IMAGE_PREFIX: \"$SECURITY_SCANNER_IMAGE_PREFIX/analyzers\"\n\ndocker run \\\n  $(propagate_env_vars \\\n    DS_ANALYZER_IMAGES \\\n    ...\n    BUNDLER_AUDIT_ADVISORY_DB_REF_NAME \\\n  ) \\\n  --volume \"$PWD:/code\" \\\n  --volume /var/run/docker.sock:/var/run/docker.sock \\\n  \"$SECURITY_SCANNER_IMAGE_PREFIX/dependency-scanning:$DS_VERSION\" /code\n```\n\n### Documentation\n\nDocumentation will be handled separately\n\n### What does success look like, and how can we measure that?\n\nAfter this change, we should be able to run the Dependency Scanning job using a Dependency Scanning image hosted on a local Docker container registry.\n\n### What is the type of buyer?\n\n~\"Enterprise Edition\" \n\n### Links / references","state":"closed","created_at":"2020-02-27T03:00:10.494Z","updated_at":"2020-04-03T15:54:06.241Z","closed_at":"2020-03-16T08:12:13.061Z","closed_by":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"labels":["Category:Dependency Scanning","Enterprise Edition","Stretch","[deprecated] Accepting merge requests","backend","customer","devops::secure","direction","group::composition analysis","planning priority","secure offline scanning","type::feature","workflow::staging"],"milestone":{"id":1001916,"iid":44,"group_id":9970,"title":"12.9","description":"https://about.gitlab.com/releases/2020/03/22/gitlab-12-9-released","state":"closed","created_at":"2019-09-15T20:54:50.875Z","updated_at":"2020-09-02T11:04:41.671Z","due_date":"2020-03-17","start_date":"2020-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/44"},"assignees":[],"author":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"type":"ISSUE","assignee":null,"user_notes_count":34,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/208252","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/208252","notes":"https://gitlab.com/api/v4/projects/278964/issues/208252/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/208252/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#208252","relative":"#208252","full":"gitlab-org/gitlab#208252"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2011,"epic":{"id":13396,"iid":2011,"title":"Support air-gapped (offline) Dependency Scanning for on-prem instances","url":"/groups/gitlab-org/-/epics/2011","group_id":9970,"human_readable_end_date":"May 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31322956,"iid":208251,"project_id":278964,"title":"ActiveSupport::Multibyte::Unicode#normalize is deprecated","description":"```\nDEPRECATION WARNING: ActiveSupport::Multibyte::Unicode#normalize is deprecated and will be removed from Rails 6.1. Use String#unicode_normalize(:nfc) instead. (called from safe_title at /Users/tkuah/code/ee-gdk/gitlab/app/models/milestone.rb:265)\n```","state":"closed","created_at":"2020-02-27T02:52:26.731Z","updated_at":"2021-05-03T12:55:06.816Z","closed_at":"2021-04-21T09:42:38.069Z","closed_by":{"id":2535118,"username":"tkuah","name":"Thong Kuah","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f7b51bdd49a4914d29504d7ff4c3f7b9?s=80\u0026d=identicon","web_url":"https://gitlab.com/tkuah"},"labels":["rails6.1"],"milestone":null,"assignees":[],"author":{"id":2535118,"username":"tkuah","name":"Thong Kuah","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f7b51bdd49a4914d29504d7ff4c3f7b9?s=80\u0026d=identicon","web_url":"https://gitlab.com/tkuah"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/208251","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/208251","notes":"https://gitlab.com/api/v4/projects/278964/issues/208251/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/208251/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":"https://gitlab.com/api/v4/projects/278964/issues/328517"},"references":{"short":"#208251","relative":"#208251","full":"gitlab-org/gitlab#208251"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5837,"epic":{"id":255779,"iid":5837,"title":"Upgrade to Rails 6.1","url":"/groups/gitlab-org/-/epics/5837","group_id":9970,"human_readable_end_date":"Jun 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31319422,"iid":208242,"project_id":278964,"title":"Scoped label rendering in emails is broken","description":"Before the label style change:\n\n![Screen_Shot_2020-02-27_at_8.54.51_AM](/uploads/8400c5a02fd329fccdb5c8e22ca18d5e/Screen_Shot_2020-02-27_at_8.54.51_AM.png)\n\nAfter:\n\n![Screen_Shot_2020-02-27_at_8.55.17_AM](/uploads/d5334225e2e445aa0d4564258a5ffa72/Screen_Shot_2020-02-27_at_8.55.17_AM.png)\n\nI think the unreadable text is an old bug but the new bug here is that `::` is not rendered anymore and there's no space between them. The color only applies on the first half too because that's our new style, but not sure how we want to render this now.\n\nWe don't really render labels properly in emails even before this change, but now it looks more broken :smile:","state":"closed","created_at":"2020-02-27T00:59:03.496Z","updated_at":"2020-06-23T03:15:24.364Z","closed_at":"2020-04-02T23:12:55.467Z","closed_by":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"labels":["devops::plan","frontend","group::project management","priority::3","severity::3","type::bug","workflow::verification"],"milestone":{"id":1001916,"iid":44,"group_id":9970,"title":"12.9","description":"https://about.gitlab.com/releases/2020/03/22/gitlab-12-9-released","state":"closed","created_at":"2019-09-15T20:54:50.875Z","updated_at":"2020-09-02T11:04:41.671Z","due_date":"2020-03-17","start_date":"2020-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/44"},"assignees":[{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"}],"author":{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"},"type":"ISSUE","assignee":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"user_notes_count":44,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/208242","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/208242","notes":"https://gitlab.com/api/v4/projects/278964/issues/208242/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/208242/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#208242","relative":"#208242","full":"gitlab-org/gitlab#208242"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31310558,"iid":208239,"project_id":278964,"title":"Description diffs are not showing up in MRs","description":"Sample MR: https://gitlab.com/gitlab-com/www-gitlab-com/-/merge_requests/42162\n\n![Screen_Shot_2020-02-27_at_8.03.43_AM](/uploads/8d6fb72b2a53c06dbd572651766e2804/Screen_Shot_2020-02-27_at_8.03.43_AM.png)\n\nThe diff HTML is returned correctly from the backend request so this may be a frontend bug","state":"closed","created_at":"2020-02-27T00:04:48.364Z","updated_at":"2020-10-16T19:49:49.304Z","closed_at":"2020-03-13T15:34:55.798Z","closed_by":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"labels":["[deprecated] Accepting merge requests","devops::plan","frontend","group::product planning","type::bug","workflow::verification"],"milestone":{"id":1001916,"iid":44,"group_id":9970,"title":"12.9","description":"https://about.gitlab.com/releases/2020/03/22/gitlab-12-9-released","state":"closed","created_at":"2019-09-15T20:54:50.875Z","updated_at":"2020-09-02T11:04:41.671Z","due_date":"2020-03-17","start_date":"2020-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/44"},"assignees":[{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"}],"author":{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"},"type":"ISSUE","assignee":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/208239","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/208239","notes":"https://gitlab.com/api/v4/projects/278964/issues/208239/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/208239/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#208239","relative":"#208239","full":"gitlab-org/gitlab#208239"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31307594,"iid":208234,"project_id":278964,"title":"Improve usage data for Leaky Index","description":"Parent Issue : https://gitlab.com/gitlab-org/telemetry/issues/308\n\nContinuation of https://gitlab.com/gitlab-org/gitlab/issues/205281``\n\n```ruby\n\"incident_issues\": -1,\n\n\"labels\": -1,\n\"merge_requests\": -1,\n\n\"ldap_keys\": -1,\n\"template_repositories\": -1,\n```\n","state":"closed","created_at":"2020-02-26T22:18:05.416Z","updated_at":"2020-03-23T07:59:50.128Z","closed_at":"2020-03-23T07:59:50.082Z","closed_by":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"labels":["devops::growth","group::product intelligence","link::child issue","milestone::p2","workflow::in dev"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"}],"author":{"id":2683007,"username":"jeromezng","name":"Jerome Z Ng","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2683007/avatar.png","web_url":"https://gitlab.com/jeromezng"},"type":"ISSUE","assignee":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"user_notes_count":24,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/208234","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/208234","notes":"https://gitlab.com/api/v4/projects/278964/issues/208234/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/208234/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#208234","relative":"#208234","full":"gitlab-org/gitlab#208234"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31307059,"iid":208231,"project_id":278964,"title":"Scoped labels padding is incorrect in labels list","description":"In the labels list:\n\n![Screen_Shot_2020-02-27_at_5.49.42_AM](/uploads/91123b86be2884f5973b65e3141c92f4/Screen_Shot_2020-02-27_at_5.49.42_AM.png)\n\nIn the sidebar:\n\n![Screen_Shot_2020-02-27_at_5.50.20_AM](/uploads/879d1309071cd61a10f80b20e9587321/Screen_Shot_2020-02-27_at_5.50.20_AM.png)\n\nThis is due to:\n\n```css\n.label-list-item .label-name .gl-label-scoped .gl-label-text:last-of-type {\n    padding-right: 22px;\n}\n```\n\nAlso I'm not sure why we added that when we already have `.gl-label-scoped .gl-label-text:last-child` from gitlab-ui CSS that sets the padding.\n\nI think we should remove that CSS rule and fix the markup instead. This happens on the \"non-link\" versions of labels because `:last-child` here would actually be the doc link. So for non-links we should probably still wrap it in a span or something.\n\nOr the other option would be to fix the gitlab-ui CSS so that we use `:last-of-type` instead of `:last-child`\n\ncc @donaldcook @fguibert","state":"closed","created_at":"2020-02-26T21:57:08.203Z","updated_at":"2021-10-04T15:03:00.925Z","closed_at":"2020-03-15T22:12:24.687Z","closed_by":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"labels":["devops::plan","frontend","group::project management","priority::2","severity::4","type::bug","workflow::verification"],"milestone":{"id":1001916,"iid":44,"group_id":9970,"title":"12.9","description":"https://about.gitlab.com/releases/2020/03/22/gitlab-12-9-released","state":"closed","created_at":"2019-09-15T20:54:50.875Z","updated_at":"2020-09-02T11:04:41.671Z","due_date":"2020-03-17","start_date":"2020-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/44"},"assignees":[{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"}],"author":{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"},"type":"ISSUE","assignee":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"user_notes_count":5,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/208231","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/208231","notes":"https://gitlab.com/api/v4/projects/278964/issues/208231/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/208231/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#208231","relative":"#208231","full":"gitlab-org/gitlab#208231"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1038,"epic":{"id":5625,"iid":1038,"title":"Pajamas component: Labels - Integrate","url":"/groups/gitlab-org/-/epics/1038","group_id":9970,"human_readable_end_date":"Mar 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31306574,"iid":208229,"project_id":278964,"title":"Haml scoped labels incorrect text color","description":"If the text on the left side is dark gray, the text on the right side should also be dark gray (per https://gitlab.com/gitlab-org/gitlab-ui/issues/470).\n\nThis logic exists in the `gitlab-ui` component (https://gitlab-org.gitlab.io/gitlab-ui/?path=/story/base-label--scoped) but not the Haml version in `gitlab`.","state":"closed","created_at":"2020-02-26T21:28:51.304Z","updated_at":"2020-03-31T09:38:34.589Z","closed_at":"2020-03-01T23:41:38.353Z","closed_by":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"labels":["devops::plan","frontend","group::project management","type::bug","workflow::verification"],"milestone":{"id":1001916,"iid":44,"group_id":9970,"title":"12.9","description":"https://about.gitlab.com/releases/2020/03/22/gitlab-12-9-released","state":"closed","created_at":"2019-09-15T20:54:50.875Z","updated_at":"2020-09-02T11:04:41.671Z","due_date":"2020-03-17","start_date":"2020-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/44"},"assignees":[{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"}],"author":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"type":"ISSUE","assignee":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/208229","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/208229","notes":"https://gitlab.com/api/v4/projects/278964/issues/208229/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/208229/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#208229","relative":"#208229","full":"gitlab-org/gitlab#208229"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31303386,"iid":208220,"project_id":278964,"title":"Improve performance of the container repository cleanup tags service","description":"### Problem to solve\n\nIn https://gitlab.com/gitlab-org/gitlab/-/merge_requests/23325 we improved the performance of the tag delete API for the frontend (https://gitlab.com/gitlab-org/gitlab/issues/31832). Now that we're rolling out the [Docker Tag Retention \u0026 Expiration Policies](https://gitlab.com/groups/gitlab-org/-/epics/2270) feature, the async tag deletion performance should be improved in the same way.\n\n### Intended users\n\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n\n\n### Further details\n\nThe tag experiration policy feature relies on the `Projects::ContainerRepository::CleanupTagsService` service to delete container repository tags. This service still relies on an old workaround to delete tags by manifest.\n\nIn https://gitlab.com/gitlab-org/gitlab/-/merge_requests/23325 we added the ability to delete tags by name instead of digest, which improved performance by ~80% (see https://gitlab.com/gitlab-org/gitlab/issues/31832#note_289633770).\n\nPlease see https://gitlab.com/gitlab-org/gitlab/-/merge_requests/23325 for more details. \n\n### Proposal\n\nDelete tags by name instead of digest in the `Projects::ContainerRepository::CleanupTagsService` service. This is only possible if the container registry is the GitLab Container Registry. Otherwise tags will be delete in the same way, by digest.\n\n### What does success look like, and how can we measure that?\n\nWe observe a major performance improvement on the async tag deletion. The [Sidekiq Queue Detail Grafana dashboard](https://dashboards.gitlab.net/d/sidekiq-queue-detail/sidekiq-queue-detail?orgId=1\u0026from=now-7d\u0026to=now\u0026var-PROMETHEUS_DS=Global\u0026var-environment=gprd\u0026var-stage=main\u0026var-queue=container_repository:cleanup_container_repository) can be used to track this.\n\n### Links / references","state":"closed","created_at":"2020-02-26T19:30:03.180Z","updated_at":"2022-11-21T10:55:32.568Z","closed_at":"2020-04-01T10:30:07.880Z","closed_by":{"id":5054840,"username":"jdrpereira","name":"Jo√£o Pereira","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5054840/avatar.png","web_url":"https://gitlab.com/jdrpereira"},"labels":["Category:Container Registry","Deliverable","Mechanical Sympathy","Package:P1","backend","bug::performance","container registry expert","devops::package","group::package registry","ruby","type::feature","workflow::production"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":5054840,"username":"jdrpereira","name":"Jo√£o Pereira","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5054840/avatar.png","web_url":"https://gitlab.com/jdrpereira"}],"author":{"id":5054840,"username":"jdrpereira","name":"Jo√£o Pereira","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5054840/avatar.png","web_url":"https://gitlab.com/jdrpereira"},"type":"ISSUE","assignee":{"id":5054840,"username":"jdrpereira","name":"Jo√£o Pereira","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5054840/avatar.png","web_url":"https://gitlab.com/jdrpereira"},"user_notes_count":7,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/208220","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/208220","notes":"https://gitlab.com/api/v4/projects/278964/issues/208220/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/208220/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#208220","relative":"#208220","full":"gitlab-org/gitlab#208220"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2270,"epic":{"id":15539,"iid":2270,"title":"Cleanup policy for tags","url":"/groups/gitlab-org/-/epics/2270","group_id":9970,"human_readable_end_date":"May 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31300949,"iid":208193,"project_id":278964,"title":"Throttling for Cleanup policy for tags","description":"~\"backend-weight::3\" \n\n### Problem to solve\n\nCurrently, the [Cleanup policy for tags](https://docs.gitlab.com/ee/user/packages/container_registry/#managing-project-expiration-policy-through-the-ui) feature is only allowed for projects created after 12.8. \n\nWe would like to turn on the feature for all projects, but there are performance concerns because tag deletion can be slow.\n\n### Intended users\n\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n\n### Further details\n\n### Proposal\n\nWhen we turn on the policy feature for all projects, we need a way to prevent the sidekiq queue from backing up and slowing things to a halt, especially if there are cases when there are large amounts of tags to be cleaned up for a given policy on it's first-time running. To prevent thousands of tags from being queued by one project, we will add throttling to the queue or service. \n\n### Permissions and Security\n\n- There are no permissions changes required for this change. \n\n### Documentation\n\n\n- Add a section to the [Container Registry Admin docs](https://docs.gitlab.com/ee/administration/packages/container_registry.html) that jobs will be throttled and how to troubleshoot when something goes wrong. \n\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\n What risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\n### What does success look like, and how can we measure that?\n\nWe are able to enable container expiration and retention policies for all projects on GitLab.com and self-managed instances regardless of which container registry is being used.\n\n### Other concerns\n\n* Before turning on the expiration policy feature for all projects, please open a scalability issue: https://gitlab.com/gitlab-com/gl-infra/scalability/-/issues/new?issuable_template=Review%20Request\n\n### Links / references\n\n- [Allow certain Sidekiq jobs to be throttled](https://gitlab.com/gitlab-org/gitlab-foss/-/merge_requests/7292)","state":"closed","created_at":"2020-02-26T17:48:59.619Z","updated_at":"2022-02-16T15:00:20.955Z","closed_at":"2020-11-09T17:53:03.242Z","closed_by":{"id":3799560,"username":"trizzi","name":"Tim Rizzi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3799560/avatar.png","web_url":"https://gitlab.com/trizzi"},"labels":["Category:Container Registry","Deliverable","Package:P1","backend","bug::performance","customer","devops::package","feature flag","group::package registry","missed-deliverable","missed:13.4","package:active","quad-planning::complete-no-action","ruby","sec-planning::no-action","section::ops","workflow::production"],"milestone":{"id":1233755,"iid":53,"group_id":9970,"title":"13.6","description":"https://about.gitlab.com/releases/2020/11/22/gitlab-13-6-released/","state":"closed","created_at":"2020-04-09T17:39:22.328Z","updated_at":"2022-04-13T14:51:04.376Z","due_date":"2020-11-17","start_date":"2020-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/53"},"assignees":[{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"}],"author":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"type":"ISSUE","assignee":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"user_notes_count":109,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/208193","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/208193","notes":"https://gitlab.com/api/v4/projects/278964/issues/208193/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/208193/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#208193","relative":"#208193","full":"gitlab-org/gitlab#208193"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2270,"epic":{"id":15539,"iid":2270,"title":"Cleanup policy for tags","url":"/groups/gitlab-org/-/epics/2270","group_id":9970,"human_readable_end_date":"May 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31298573,"iid":208169,"project_id":278964,"title":"Displaying the stopped environments tab with a count of zero","description":"## Question:\n\nWould it be a UX/UI improvement to only show the Environments Stopped tab if there is at least one stopped environment, and remove the tab from the UI if there are no stopped Environments?\n\n## Current:\n\nUnder **Environments**, we always show the `Available` and `Stopped` tabs.  The `Stopped` tab has no stopped environments, and displays a page with a message that we have _no_ environments. \n\n![available-stopped](/uploads/84f881e64963bfccb26205903d3e697b/available-stopped.png)\n\n![image](/uploads/ca3d474aaef8d04588348918c4a40c64/image.png)\n\n## Proposal\n\nWhat it looks like with the `Stopped` tab removed if there are no stopped environments:\n\n![no-stopped](/uploads/762ce91c1bc28d2689d39ef8cf64179a/stopped.png)\n\n\n## Code\n\nThe code to make this change would be pretty simple. In `app/assets/javascripts/environments/mixins/environments_mixin.js` we can change our `tabs` method to check if the stopped count is greater than zero.\n\n```js\n    tabs() {\n      const tabsArray = [\n        {\n          name: s__('Available'),\n          scope: 'available',\n          count: this.state.availableCounter,\n          isActive: this.scope === 'available',\n        },\n      ];\n\n      if (this.state.stoppedCounter \u003e 0) {\n        tabsArray.push({\n          name: s__('Stopped'),\n          scope: 'stopped',\n          count: this.state.stoppedCounter,\n          isActive: this.scope === 'stopped',\n        });\n      }\n\n      return tabsArray;\n    },\n```","state":"closed","created_at":"2020-02-26T16:27:26.328Z","updated_at":"2020-03-02T13:47:08.800Z","closed_at":"2020-03-02T13:03:40.240Z","closed_by":{"id":3079878,"username":"rayana","name":"Rayana Verissimo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3079878/avatar.png","web_url":"https://gitlab.com/rayana"},"labels":["Category:Release Orchestration","UX","devops::release","environments","frontend"],"milestone":null,"assignees":[{"id":4446737,"username":"jakeburden","name":"Jake Burden","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4446737/avatar.png","web_url":"https://gitlab.com/jakeburden"}],"author":{"id":4446737,"username":"jakeburden","name":"Jake Burden","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4446737/avatar.png","web_url":"https://gitlab.com/jakeburden"},"type":"ISSUE","assignee":{"id":4446737,"username":"jakeburden","name":"Jake Burden","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4446737/avatar.png","web_url":"https://gitlab.com/jakeburden"},"user_notes_count":2,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/208169","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/208169","notes":"https://gitlab.com/api/v4/projects/278964/issues/208169/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/208169/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#208169","relative":"#208169","full":"gitlab-org/gitlab#208169"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31297590,"iid":208167,"project_id":278964,"title":"Unable to fork a project within the same namespace via API","description":"@spikeburton reported in https://gitlab.com/gitlab-org/gitlab-foss/issues/40798#note_294739648:\n\nI am now unable to fork a project into a namespace, and am getting a 404 response with the error:\n\n```json\n{\n    \"message\": \"404 Target Namespace Not Found\"\n}\n```\n\nMy payload looks like the following:\n```json\n{\n    \"namespace\": 6535607,\n    \"path\": \"test-fork\",\n    \"name\": \"test-fork\"\n}\n```\n\n### Technical details\n\nTarget namespace is the same as project namespace in report above. It should be a valid namespace if alternative path and name are specified for a fork.\n\n### Proposal\n\n* Allow to fork to the same namespace as project namespace\n* Exclude project namespace from list of possible fork targets for UI (since we don't allow to specify alternative path and name there)","state":"closed","created_at":"2020-02-26T16:09:14.110Z","updated_at":"2020-04-14T12:53:03.584Z","closed_at":"2020-03-03T17:20:59.960Z","closed_by":{"id":1315784,"username":"ifarkas","name":"Imre Farkas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b4dcfa5185b8513751b447d76b069bf6?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifarkas"},"labels":["Category:Authentication and Authorization","devops::manage","group::authentication and authorization","regression","regression:12.8","severity::2","type::bug"],"milestone":{"id":1001916,"iid":44,"group_id":9970,"title":"12.9","description":"https://about.gitlab.com/releases/2020/03/22/gitlab-12-9-released","state":"closed","created_at":"2019-09-15T20:54:50.875Z","updated_at":"2020-09-02T11:04:41.671Z","due_date":"2020-03-17","start_date":"2020-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/44"},"assignees":[{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"}],"author":{"id":64248,"username":"stanhu","name":"Stan Hu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/64248/stanhu.jpg","web_url":"https://gitlab.com/stanhu"},"type":"ISSUE","assignee":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"user_notes_count":15,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/208167","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/208167","notes":"https://gitlab.com/api/v4/projects/278964/issues/208167/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/208167/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#208167","relative":"#208167","full":"gitlab-org/gitlab#208167"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31294606,"iid":208159,"project_id":278964,"title":"[FE] Group-level activity overview: MVC","description":"FE for https://gitlab.com/gitlab-org/gitlab/issues/207164\n\nLet's add a card to the group overview page to display the number of `MRs created` and `Issues created`.\n\n![group_level_activity](/uploads/1f0e040488b290e9436369eb0060a2cc/group_level_activity.png)\n\nAPI has been implemented in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/26460","state":"closed","created_at":"2020-02-26T14:57:13.161Z","updated_at":"2020-05-22T08:42:10.580Z","closed_at":"2020-03-24T14:33:23.855Z","closed_by":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"labels":["Kickoff Highlight","devops::manage","direction","estimation::completed","frontend","group::optimize","priority::1","quad-planning::complete-action","type::feature","workflow::production"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"}],"author":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"type":"ISSUE","assignee":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"user_notes_count":3,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/208159","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/208159","notes":"https://gitlab.com/api/v4/projects/278964/issues/208159/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/208159/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#208159","relative":"#208159","full":"gitlab-org/gitlab#208159"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31292963,"iid":208153,"project_id":278964,"title":"Provide an ability to create anchored link to an issue related issues \u0026 merge requests","description":"### Problem to solve\n\nCurrently there is no way to send a link with MRs related to specific issue OR issues related to specific issue and it would be very convenient in communication.\n\n\u003c!-- What problem do we solve? --\u003e\n\n### Intended users\n\n\u003c!-- Who will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/ --\u003e\n\n### Further details\n\n\n### Proposal\n\n* Add anchors `#related-issues` and `#related-merge-requests` to appropriate HTML blocks so a user can send a link to an issue explicitly focusing corresponding page blocks.\n* This would also require to introduce similar UI on hover as we have for `h1\\2\\3\\x` tags in issue description, so the user can copy link with proper anchor.\n\nSee screenshot:\n![Screenshot_2020-02-26_17.24.58](/uploads/545fddcd2e19229ec9e5ca5415776470/Screenshot_2020-02-26_17.24.58.png)\n\n/cc @donaldcook","state":"closed","created_at":"2020-02-26T14:26:01.811Z","updated_at":"2020-10-16T19:49:49.056Z","closed_at":"2020-03-16T08:44:58.113Z","closed_by":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"labels":["Community contribution","devops::plan","frontend","group::product planning","type::feature"],"milestone":{"id":1001916,"iid":44,"group_id":9970,"title":"12.9","description":"https://about.gitlab.com/releases/2020/03/22/gitlab-12-9-released","state":"closed","created_at":"2019-09-15T20:54:50.875Z","updated_at":"2020-09-02T11:04:41.671Z","due_date":"2020-03-17","start_date":"2020-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/44"},"assignees":[{"id":698506,"username":"gilangmlr","name":"Gilang Gumilar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/698506/avatar.png","web_url":"https://gitlab.com/gilangmlr"}],"author":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"type":"ISSUE","assignee":{"id":698506,"username":"gilangmlr","name":"Gilang Gumilar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/698506/avatar.png","web_url":"https://gitlab.com/gilangmlr"},"user_notes_count":6,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/208153","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/208153","notes":"https://gitlab.com/api/v4/projects/278964/issues/208153/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/208153/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#208153","relative":"#208153","full":"gitlab-org/gitlab#208153"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2032,"epic":{"id":13499,"iid":2032,"title":"Blocking Issue Support","url":"/groups/gitlab-org/-/epics/2032","group_id":9970,"human_readable_end_date":"Mar 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31289565,"iid":208148,"project_id":278964,"title":"Release description markdown not displayed correctly","description":"When i create realease, decription contains some markdown including tables.\nWhen i go to Project overview -\u003e Releases i can see that Description is not displayed correctly, tables has no borders and no spacing, headings has no underlines and so on. When i edit this release description and click preview, markdown is displayed properly. Why it is not so in Releases page?\n\n## Reproduction \n\nView this latest release on https://gitlab.com/rayana/minimal-ruby-app/-/releases \n\n## Proposal\n\nWe need to ensure that the Release description is being rendered as GitLab Flavored Markdown.\nWe have a jQuery method called `$.fn.renderGFM()` which may not be getting executed on the Release description. If we find that `renderGFM` is being called on the Release description, then we may be inadvertently removing the styles somewhere, and will need to fix the regression.","state":"closed","created_at":"2020-02-26T13:08:34.451Z","updated_at":"2020-07-15T08:37:01.283Z","closed_at":"2020-05-21T22:36:20.201Z","closed_by":{"id":493585,"username":"nfriend","name":"Nathan Friend","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cd23f74a33fc7d8dfe081948696551a5?s=80\u0026d=identicon","web_url":"https://gitlab.com/nfriend"},"labels":["Category:Release Orchestration","Release::P1","UX","UX debt","cicd::active","devops::release","frontend","frontend-weight::1","priority::3","severity::3","type::bug","workflow::verification"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":4446737,"username":"jakeburden","name":"Jake Burden","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4446737/avatar.png","web_url":"https://gitlab.com/jakeburden"}],"author":{"id":5342457,"username":"sanjuroo","name":"sanjuroo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7e10373f9b583d9d61cab790fafb6600?s=80\u0026d=identicon","web_url":"https://gitlab.com/sanjuroo"},"type":"ISSUE","assignee":{"id":4446737,"username":"jakeburden","name":"Jake Burden","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4446737/avatar.png","web_url":"https://gitlab.com/jakeburden"},"user_notes_count":10,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/208148","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/208148","notes":"https://gitlab.com/api/v4/projects/278964/issues/208148/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/208148/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#208148","relative":"#208148","full":"gitlab-org/gitlab#208148"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3416,"epic":{"id":59432,"iid":3416,"title":"Release Management UX Debt \u0026 UI Polish","url":"/groups/gitlab-org/-/epics/3416","group_id":9970,"human_readable_end_date":"Nov 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31289074,"iid":208147,"project_id":278964,"title":"Group Level Wiki: BE Support Geo replication","description":"In ~\"group::knowledge\" we've started to work on group wikis for 12.9 (https://gitlab.com/groups/gitlab-org/-/epics/240). There's no timeline on the release yet, but we'll keep it behind a feature flag until it's ready and currently expect that to take a few months.\n\nI saw https://gitlab.com/gitlab-org/gitlab/issues/121589, so I wanted to raise a similar issue for group wikis to discuss any potential challenges with Geo support.\n\nSo far we know:\n\n- Each group can have one wiki repository.\n  - We haven't settled on a path format yet, @brodock suggested going with `@groups/#{hashed_path}/#{hashed_id}.wiki.git` at https://gitlab.com/gitlab-org/gitlab/issues/196053#note_294529826.\n- This is the first repository type on groups.\n  - Other types that we might add in the future are design management repos.\n\n## Activity columns for Geo\n\nFor project wikis, we're updating the `projects.last_repository_updated_at` column both synchronously for changes made through GitLab itself (via web UI or API), as well as a second time asynchronously for all changes made to the wiki repository (via the post-receive hook). This column indicates to Geo that the repository needs to be replicated, though we're also throttling updates to this column in certain cases.\n\nFor group wikis we need to check if we need a similar signaling mechanism for Geo, and we could also consider removing the first synchronous update because we're already doing it in the asynchronous call.\n\nSee discussions at https://gitlab.com/gitlab-org/gitlab/-/merge_requests/37439/diffs#note_405488754 and https://gitlab.com/gitlab-org/gitlab/-/merge_requests/37439/diffs#note_406180066.\n\n/cc @toon @dsatcher","state":"closed","created_at":"2020-02-26T12:57:14.147Z","updated_at":"2022-09-08T13:36:30.234Z","closed_at":"2021-03-15T06:36:42.727Z","closed_by":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier L√≥pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"labels":["Category:Geo Replication","Category:Wiki","Enterprise Edition","GitLab Premium","GitLab Starter","devops::systems","group::editor","section::enablement","type::feature"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":955795,"username":"fjsanpedro","name":"Francisco Javier L√≥pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"}],"author":{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},"type":"ISSUE","assignee":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier L√≥pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"user_notes_count":43,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/208147","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/208147","notes":"https://gitlab.com/api/v4/projects/278964/issues/208147/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/208147/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#208147","relative":"#208147","full":"gitlab-org/gitlab#208147"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2782,"epic":{"id":26783,"iid":2782,"title":"[MVC 2] Group-level wiki: Feature parity with project wikis (git, search)","url":"/groups/gitlab-org/-/epics/2782","group_id":9970,"human_readable_end_date":"Apr 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31282930,"iid":208132,"project_id":278964,"title":"Auto Deploy to ECS (via Auto DevOps)","description":"### Problem to solve\n\n\u003c!-- What problem do we solve? --\u003e\n\nAfter we deliver https://gitlab.com/gitlab-org/gitlab/issues/207962, it would make it easier for us to apply this template for users deploying to AWS.\n\n### Intended users\n\n\u003c!-- Who will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/ --\u003e\n\nUsers deploying to AWS ECS\n\n### Further details\n\n\u003c!-- Include use cases, benefits, and/or goals (contributes to our vision?) --\u003e\n\nOur options are as follows:\n* adding this logic into the existing auto deploy template (which will become very long)\n* Creating a new Auto Deploy to ECS template that will be called from https://gitlab.com/gitlab-org/gitlab/blob/master/lib/gitlab/ci/templates/Auto-DevOps.gitlab-ci.yml as an include\n* Refactoring the Auto Deploy template - to cut it into a new template called `auto deploy to Kubernetes` and create an `auto deploy to ECS `and have both of those called from the auto deploy template with an include (similar to the way Auto-DevOps.gitlab-ci.yml works)\n\n\nIn the future there will also be auto_Deploy to more cloud vendors, so the preferred choice would be to create individual templates that wiykd be called by include from the AutoDeploy template (also avoiding renaming it)\n\n### Proposal\n\n\u003c!-- How are we going to solve the problem? Try to include the user journey! https://about.gitlab.com/handbook/journeys/#user-journey --\u003e\n\nIf a user has defined the following CI/CD variables\n* AWS_ACCESS_KEY_ID\n* AWS_ACCOUNT_ID\n* AWS_REGION\n\nthen the [autoDeploy template](https://gitlab.com/gitlab-org/gitlab/issues/207962) will be initiated from autoDevOps\n\nIn the existing AutoDeploy template there is `kubernetes: active` we would need to except: kubernetes\n\nUse cases:\n\n* We need to make sure that if the user is using Kubernetes - the regular auto DevOps template is initiated.\n* If a user is not using Kubernetes, and is deploying to AWS, this new auto-deploy-to-ECS is initiated \n* If a user is not using Kubernetes and not using AWS, both templates are skipped\n* If a user is using Kubernetes and deploying to AWS - Only run the deploy Kubernetes template\n\nThis may involve a new behind the scenes type for variables called AWS (we will probably also have in the future GCP, Azure and maybe others) \n\nNote: We may need to change the existing auto DevOps template (for K8s) and make it into Auto_Deploy_Kubernetes. yml that will be called by an include from the auto Deploy yml\n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?--\u003e\n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html\nAdd all known Documentation Requirements here, per https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements\nIf this feature requires changing permissions, this document https://docs.gitlab.com/ee/user/permissions.html must be updated accordingly. --\u003e\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\n What risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\n\n### What does success look like, and how can we measure that?\n\n\u003c!-- Define both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. --\u003e\n\n### What is the type of buyer?\n\n\u003c!-- Which leads to: in which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#four-tiers --\u003e\n\n### Links / references","state":"closed","created_at":"2020-02-26T10:25:57.707Z","updated_at":"2022-07-12T23:10:24.786Z","closed_at":"2020-05-18T00:05:44.922Z","closed_by":{"id":2535118,"username":"tkuah","name":"Thong Kuah","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f7b51bdd49a4914d29504d7ff4c3f7b9?s=80\u0026d=identicon","web_url":"https://gitlab.com/tkuah"},"labels":["Alliances - AWS","Category:Continuous Delivery","Deliverable","Release::P1","UX","cicd::active","depth","devops::release","direction","group::release","type::feature","workflow::in review"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":489558,"username":"dimitrieh","name":"Dimitrie Hoekstra","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/489558/avatar.png","web_url":"https://gitlab.com/dimitrieh"},{"id":4192493,"username":"ebaque","name":"Etienne Baqu√©","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"}],"author":{"id":4156460,"username":"ogolowinski","name":"Orit Golowinski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4156460/avatar.png","web_url":"https://gitlab.com/ogolowinski"},"type":"ISSUE","assignee":{"id":489558,"username":"dimitrieh","name":"Dimitrie Hoekstra","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/489558/avatar.png","web_url":"https://gitlab.com/dimitrieh"},"user_notes_count":48,"merge_requests_count":1,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/208132","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/208132","notes":"https://gitlab.com/api/v4/projects/278964/issues/208132/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/208132/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#208132","relative":"#208132","full":"gitlab-org/gitlab#208132"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3897,"epic":{"id":80870,"iid":3897,"title":"Expand AutoDevops for AWS targets","url":"/groups/gitlab-org/-/epics/3897","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31278163,"iid":208126,"project_id":278964,"title":"Design Tab: Replace File Picker with Drag n Drop zone","description":"Relates #39452\n\n## Support Drag-n-drop capabilities on the Design Tab\n\nAs prerequisite for #39452 we need to enable drag-n-drop on that page. To make it work we'll replace the File-Picker with the gitlab `dropzone.vue` implementation.\n\n## Acceptance Criteria\n\n- [x] I can drag-n-drop 1 file into the dropzone\n- [x] I can drag-n-drop 2+ files at once into the dropzone\n- [x] Design follows the suggested design in #39452","state":"closed","created_at":"2020-02-26T08:45:10.892Z","updated_at":"2020-12-10T18:58:51.349Z","closed_at":"2020-03-23T09:52:56.876Z","closed_by":{"id":2950912,"username":"ntepluhina","name":"Natalia Tepluhina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2950912/avatar.png","web_url":"https://gitlab.com/ntepluhina"},"labels":["Category:Design Management","Deliverable","Dogfooding::Build in GitLab","devops::plan","frontend","group::product planning","workflow::production"],"milestone":{"id":1001916,"iid":44,"group_id":9970,"title":"12.9","description":"https://about.gitlab.com/releases/2020/03/22/gitlab-12-9-released","state":"closed","created_at":"2019-09-15T20:54:50.875Z","updated_at":"2020-09-02T11:04:41.671Z","due_date":"2020-03-17","start_date":"2020-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/44"},"assignees":[{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"}],"author":{"id":5068667,"username":"rkuba","name":"Roman Kuba","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5068667/avatar.png","web_url":"https://gitlab.com/rkuba"},"type":"ISSUE","assignee":{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/208126","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/208126","notes":"https://gitlab.com/api/v4/projects/278964/issues/208126/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/208126/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#208126","relative":"#208126","full":"gitlab-org/gitlab#208126"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2582,"epic":{"id":18935,"iid":2582,"title":"üê∂ Design Management dogfooding priority issues","url":"/groups/gitlab-org/-/epics/2582","group_id":9970},"iteration":null,"health_status":null},{"id":31278067,"iid":208124,"project_id":278964,"title":"From discus comment: Review Code Quality doc","description":"A user said that the code quality doc needed review and had some specific issues (https://docs.gitlab.com/ee/user/project/merge_requests/code_quality.html#comment-4802783640):\n\n```\nI honestly have no clue what this even does after reading the page. Is this a replacement for parts or the entirety of SonarQube? Where does one get those Code Climate thingies? Really, you should start the page with a description of the problem that's solved by this feature.\n```\n\nWe should look over this and see how we can improve it. A comment by Mike Lewis:\n\n```\n[...] in the intro we simply link out to the https://codeclimate.com/ home page. Even when you navigate to https://codeclimate.com/quality/ it's unclear what tests we may actually include or generally what to expect from the feature.\n```","state":"closed","created_at":"2020-02-26T08:42:31.147Z","updated_at":"2020-03-10T02:11:19.438Z","closed_at":"2020-03-10T02:11:19.380Z","closed_by":{"id":4155490,"username":"marcel.amirault","name":"Marcel Amirault","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4155490/avatar.png","web_url":"https://gitlab.com/marcel.amirault"},"labels":["Category:Code Quality","Technical Writing","devops::verify","docs::improvement","documentation","group::pipeline insights","workflow::in review"],"milestone":{"id":1001916,"iid":44,"group_id":9970,"title":"12.9","description":"https://about.gitlab.com/releases/2020/03/22/gitlab-12-9-released","state":"closed","created_at":"2019-09-15T20:54:50.875Z","updated_at":"2020-09-02T11:04:41.671Z","due_date":"2020-03-17","start_date":"2020-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/44"},"assignees":[{"id":4512666,"username":"jheimbuck_gl","name":"James Heimbuck","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8dd2ef9c1cacb6e80d7ca47db6f0ce22?s=80\u0026d=identicon","web_url":"https://gitlab.com/jheimbuck_gl"}],"author":{"id":4155490,"username":"marcel.amirault","name":"Marcel Amirault","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4155490/avatar.png","web_url":"https://gitlab.com/marcel.amirault"},"type":"ISSUE","assignee":{"id":4512666,"username":"jheimbuck_gl","name":"James Heimbuck","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8dd2ef9c1cacb6e80d7ca47db6f0ce22?s=80\u0026d=identicon","web_url":"https://gitlab.com/jheimbuck_gl"},"user_notes_count":6,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/208124","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/208124","notes":"https://gitlab.com/api/v4/projects/278964/issues/208124/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/208124/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#208124","relative":"#208124","full":"gitlab-org/gitlab#208124"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31277612,"iid":208120,"project_id":278964,"title":"Remove graphql_resolver_complexity feature flag","description":"Once we make sure that complexity limits work fine with restored [resolver complexity](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/24983) we should remove the flag.\n\nRelated to https://gitlab.com/gitlab-org/gitlab/-/merge_requests/24983#note_286933138","state":"closed","created_at":"2020-02-26T08:29:47.108Z","updated_at":"2020-03-20T15:39:09.845Z","closed_at":"2020-03-20T15:39:09.778Z","closed_by":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"labels":["[deprecated] Accepting merge requests","backend","devops::plan","group::project management","missed:12.9","workflow::in review"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"}],"author":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"type":"ISSUE","assignee":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/208120","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/208120","notes":"https://gitlab.com/api/v4/projects/278964/issues/208120/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/208120/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#208120","relative":"#208120","full":"gitlab-org/gitlab#208120"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31274025,"iid":208114,"project_id":278964,"title":"Follow-up from \"Initial changes for GitLab subscriptions\"","description":"The followup below addresses a few minor style issues (missing a handful of `the`s), and verification questions.\n\nThe following discussions from !21224 should be addressed:\n\n- [x] @marcel.amirault started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/21224#note_294378640): \n\n    \u003e I just want to check, does this mean *all* public projects, or only public open source projects?\n\n- [x] @marcel.amirault started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/21224#note_294378641): \n\n    \u003e ```suggestion:-0+0\n    \u003e - A GitLab subscription is based on the number of users. You will pay more than you should if you renew for too many users, while the renewal will fail if you attempt to renew a subscription for too few users.\n    \u003e ```\n\n- [x] @marcel.amirault started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/21224#note_294378642): \n\n    \u003e The style here seems out of place. Perhaps it should be something like:\n    \u003e \n    \u003e \"It's important to verify who is accessing your system, ... \"?\n\n- [x] @marcel.amirault started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/21224#note_294378645): \n\n    \u003e ```suggestion:-0+0\n    \u003e 1. Log in to the [Customers Portal](https://customers.gitlab.com/customers/sign_in).\n    \u003e ```\n\n- [x] @marcel.amirault started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/21224#note_294378649): \n\n    \u003e ```suggestion:-0+0\n    \u003e 1. Log in to the [GitLab.com](https://gitlab.com) account you want to link to the Customers Portal.\n    \u003e ```\n\n- [x] @marcel.amirault started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/21224#note_294378653): \n\n    \u003e ```suggestion:-0+0\n    \u003e 1. Log in to the [Customers Portal](https://customers.gitlab.com/).\n    \u003e ```\n\n- [x] @marcel.amirault started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/21224#note_294378654): \n\n    \u003e ```suggestion:-0+0\n    \u003e To renew for more users than are currently active in your GitLab.com system, contact our sales team via `renewals@gitlab.com` for assistance as this can't be done in the Customers Portal.\n    \u003e ```\n\n- [x] @marcel.amirault started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/21224#note_294378655): \n\n    \u003e ```suggestion:-0+0\n    \u003e    If you need to change your [GitLab tier](https://about.gitlab.com/pricing/), contact our sales team via `renewals@gitlab.com` for assistance as this can't be done in the Customers Portal.\n    \u003e ```","state":"closed","created_at":"2020-02-26T06:07:39.814Z","updated_at":"2020-03-16T23:48:10.081Z","closed_at":"2020-03-03T06:52:27.045Z","closed_by":{"id":4155490,"username":"marcel.amirault","name":"Marcel Amirault","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4155490/avatar.png","web_url":"https://gitlab.com/marcel.amirault"},"labels":["Technical Writing","devops::fulfillment","devops::growth","docs::improvement","documentation","priority::4"],"milestone":{"id":1001916,"iid":44,"group_id":9970,"title":"12.9","description":"https://about.gitlab.com/releases/2020/03/22/gitlab-12-9-released","state":"closed","created_at":"2019-09-15T20:54:50.875Z","updated_at":"2020-09-02T11:04:41.671Z","due_date":"2020-03-17","start_date":"2020-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/44"},"assignees":[{"id":3658061,"username":"rdickenson","name":"Russell Dickenson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3658061/avatar.png","web_url":"https://gitlab.com/rdickenson"}],"author":{"id":4155490,"username":"marcel.amirault","name":"Marcel Amirault","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4155490/avatar.png","web_url":"https://gitlab.com/marcel.amirault"},"type":"ISSUE","assignee":{"id":3658061,"username":"rdickenson","name":"Russell Dickenson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3658061/avatar.png","web_url":"https://gitlab.com/rdickenson"},"user_notes_count":8,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/208114","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":8,"completed_count":8},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"8 of 8 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/208114","notes":"https://gitlab.com/api/v4/projects/278964/issues/208114/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/208114/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#208114","relative":"#208114","full":"gitlab-org/gitlab#208114"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31268590,"iid":208093,"project_id":278964,"title":"Default vue_issuables_list feature flag to on","description":"Tracking of `:vue_issuables_list` feature flag.\n\nThese issues are waiting verifications on production:\n- [ ] #217569\n- [x] #233725\n\nChecklist:\n- [ ] Default `:vue_issuables_list` to on\n- [ ] Remove `:vue_issuables_list` feature flag code from the codebase\n- [ ] Remove `vue_issuables_list` feature flag via Chatops for production, staging and dev","state":"closed","created_at":"2020-02-25T22:47:13.288Z","updated_at":"2022-05-19T15:45:15.467Z","closed_at":"2021-03-12T20:15:12.709Z","closed_by":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"labels":["devops::plan","frontend","group::project management","issue list","missed:13.1","missed:13.3","missed:13.7","missed:13.8","missed:13.9","section::dev","workflow::in dev"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":5961404,"username":"euko","name":"Eulyeon Ko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5961404/avatar.png","web_url":"https://gitlab.com/euko"}],"author":{"id":4447636,"username":"sstern","name":"Scott Stern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4447636/avatar.png","web_url":"https://gitlab.com/sstern"},"type":"ISSUE","assignee":{"id":5961404,"username":"euko","name":"Eulyeon Ko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5961404/avatar.png","web_url":"https://gitlab.com/euko"},"user_notes_count":17,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/208093","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":5,"completed_count":1},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 5 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/208093","notes":"https://gitlab.com/api/v4/projects/278964/issues/208093/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/208093/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#208093","relative":"#208093","full":"gitlab-org/gitlab#208093"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31267107,"iid":208085,"project_id":278964,"title":"Default Container Scanning job template fails - 401 Unauthorized","description":"### Summary\n\nContainer Scanning job consistently fails when using/including only default template\n\nhttps://gitlab.com/greg/container-scanning/-/jobs/449818330\n\nhttps://gitlab.com/gitlab-org/gitlab/blob/master/lib/gitlab/ci/templates/Security/Container-Scanning.gitlab-ci.yml\n\n### Steps to reproduce\n\n1. Create a project minimal README.md and Dockerfile (example)\n\n1. Add or [include](https://docs.gitlab.com/ee/user/application_security/container_scanning/#configuration) Container Scanning [default job template](https://gitlab.com/gitlab-org/gitlab/blob/master/lib/gitlab/ci/templates/Security/Container-Scanning.gitlab-ci.yml)\n\n1. `container_scanning` job fails\n\n### Example Project\n\nhttps://gitlab.com/greg/container-scanning\n\nReproducible:\n\nhttps://gitlab.com/greg/container-scanning/-/jobs/449818330\nhttps://gitlab.com/greg/container-scanning/-/jobs/449948266\n\n### What is the current *bug* behavior?\n\nContainer Scanning Job fails with 401 Unauthorized\n\n### What is the expected *correct* behavior?\n\nContainer scanning job is successful:\n\nhttps://gitlab.com/greg/container-scanning/-/jobs/449837798\n\n### Relevant logs and/or screenshots\n\n![image](/uploads/ed4d02df80c46e7698a68796f2ee89aa/image.png)\n\n### Output of checks\n\nThis bug happens on GitLab.com (and self-managed running 12.6 and 12.7)\n\n#### Results of container_scanning CI Job trace:\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for CI job trace\u003c/summary\u003e\n\u003cpre\u003e\n\n$ /container-scanner/start.sh\n [INFO] ‚ñ∂ GitLab klar analyzer v2.2.0\n [WARN] ‚ñ∂ Whitelist file with path '/builds/greg/container-scanning/clair-whitelist.yml' does not exist, skipping\n [INFO] ‚ñ∂ DOCKER_USER and DOCKER_PASSWORD environment variables have not been configured. Defaulting to DOCKER_USER=$CI_REGISTRY_USER and DOCKER_PASSWORD=$CI_REGISTRY_PASSWORD\n [INFO] ‚ñ∂ Successfully connected to the vulnerabilities database\n [INFO] ‚ñ∂ Started Clair server process with PID: 16\n [INFO] ‚ñ∂ Waiting for Clair API to start...\n [WARN] ‚ñ∂ Clair API not ready, waiting 2s before retrying. Retry 1 of 10\n [WARN] ‚ñ∂ Clair log contents: \n   {\"Event\":\"running database migrations\",\"Level\":\"info\",\"Location\":\"pgsql.go:216\",\"Time\":\"2020-02-25 18:43:11.196705\"}\n   \n [WARN] ‚ñ∂ Clair log contents: \n   {\"Event\":\"database migration ran successfully\",\"Level\":\"info\",\"Location\":\"pgsql.go:223\",\"Time\":\"2020-02-25 18:43:11.265322\"}\n   \n [WARN] ‚ñ∂ Clair log contents: \n   {\"Event\":\"notifier service is disabled\",\"Level\":\"info\",\"Location\":\"notifier.go:77\",\"Time\":\"2020-02-25 18:43:11.266020\"}\n   \n [WARN] ‚ñ∂ Clair log contents: \n   {\"Event\":\"starting main API\",\"Level\":\"info\",\"Location\":\"api.go:52\",\"Time\":\"2020-02-25 18:43:11.266286\",\"port\":6060}\n   \n [INFO] ‚ñ∂ Clair API started successfully.\n [INFO] ‚ñ∂ Scanning container from registry 'registry.gitlab.com/greg/container-scanning/testbranch:8859b77ba6ec74ef8db412962af4afa7c6358edc' for vulnerabilities with severity level 'Unknown' or higher with klar '2.4.0' and clair 'v2.1.2'\n [INFO] ‚ñ∂ Shutting down Clair server with PID: 16\n [INFO] ‚ñ∂ Clair server shut down successfully\n [ERRO] ‚ñ∂ Error encountered while scanning container 'registry.gitlab.com/greg/container-scanning/testbranch:8859b77ba6ec74ef8db412962af4afa7c6358edc': ----\u003e HTTP REQUEST:\n GET /v2/greg/container-scanning/testbranch/manifests/8859b77ba6ec74ef8db412962af4afa7c6358edc HTTP/1.1\n Host: registry.gitlab.com\n Accept: application/vnd.docker.distribution.manifest.v2+json, application/vnd.docker.distribution.manifest.v1+prettyjws\n Authorization: [REDACTED]\n \u003c---- HTTP RESPONSE:\n HTTP/1.1 401 Unauthorized\n Content-Length: 177\n Content-Type: application/json; charset=utf-8\n Date: Tue, 25 Feb 2020 18:43:13 GMT\n Docker-Distribution-Api-Version: registry/2.0\n Www-Authenticate: Bearer realm=\"https://gitlab.com/jwt/auth\",service=\"container_registry\",scope=\"repository:greg/container-scanning/testbranch:pull\"\n X-Content-Type-Options: nosniff\n {\"errors\":[{\"code\":\"UNAUTHORIZED\",\"message\":\"authentication required\",\"detail\":[{\"Type\":\"repository\",\"Class\":\"\",\"Name\":\"greg/container-scanning/testbranch\",\"Action\":\"pull\"}]}]}\n ----\u003e HTTP REQUEST:\n GET /v2/greg/container-scanning/testbranch/manifests/8859b77ba6ec74ef8db412962af4afa7c6358edc HTTP/1.1\n Host: registry.gitlab.com\n Accept: application/vnd.docker.distribution.manifest.v2+json, application/vnd.docker.distribution.manifest.v1+prettyjws\n Authorization: [REDACTED]\n \u003c---- HTTP RESPONSE:\n HTTP/1.1 401 Unauthorized\n Content-Length: 177\n Content-Type: application/json; charset=utf-8\n Date: Tue, 25 Feb 2020 18:43:13 GMT\n Docker-Distribution-Api-Version: registry/2.0\n Www-Authenticate: Bearer realm=\"https://gitlab.com/jwt/auth\",service=\"container_registry\",scope=\"repository:greg/container-scanning/testbranch:pull\"\n X-Content-Type-Options: nosniff\n {\"errors\":[{\"code\":\"UNAUTHORIZED\",\"message\":\"authentication required\",\"detail\":[{\"Type\":\"repository\",\"Class\":\"\",\"Name\":\"greg/container-scanning/testbranch\",\"Action\":\"pull\"}]}]}\n ----\u003e HTTP REQUEST:\n GET /v2/greg/container-scanning/testbranch/manifests/8859b77ba6ec74ef8db412962af4afa7c6358edc HTTP/1.1\n Host: registry.gitlab.com\n Accept: application/vnd.docker.distribution.manifest.v2+json, application/vnd.docker.distribution.manifest.v1+prettyjws\n Authorization: [REDACTED]\n \u003c---- HTTP RESPONSE:\n HTTP/1.1 404 Not Found\n Content-Length: 130\n Content-Type: application/json; charset=utf-8\n Date: Tue, 25 Feb 2020 18:43:13 GMT\n Docker-Distribution-Api-Version: registry/2.0\n X-Content-Type-Options: nosniff\n {\"errors\":[{\"code\":\"MANIFEST_UNKNOWN\",\"message\":\"manifest unknown\",\"detail\":{\"Tag\":\"8859b77ba6ec74ef8db412962af4afa7c6358edc\"}}]}\n Can't pull fsLayers\n exit status 2\nUploading artifacts...\n00:02\n WARNING: gl-container-scanning-report.json: no matching files \n ERROR: No files to upload                          \n ERROR: Job failed: exit code 2\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n(If you can, link to the line of code that might be responsible for the problem)","state":"closed","created_at":"2020-02-25T21:14:53.498Z","updated_at":"2020-11-13T16:57:00.277Z","closed_at":"2020-03-04T19:35:40.533Z","closed_by":{"id":3645992,"username":"greg","name":"Greg Myers","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3645992/avatar.png","web_url":"https://gitlab.com/greg"},"labels":["Category:Container Scanning","Enterprise Edition","GitLab Ultimate","customer","customer+","devops::secure","group::composition analysis","priority::1","severity::1","type::bug"],"milestone":{"id":1001916,"iid":44,"group_id":9970,"title":"12.9","description":"https://about.gitlab.com/releases/2020/03/22/gitlab-12-9-released","state":"closed","created_at":"2019-09-15T20:54:50.875Z","updated_at":"2020-09-02T11:04:41.671Z","due_date":"2020-03-17","start_date":"2020-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/44"},"assignees":[{"id":3645992,"username":"greg","name":"Greg Myers","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3645992/avatar.png","web_url":"https://gitlab.com/greg"}],"author":{"id":3645992,"username":"greg","name":"Greg Myers","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3645992/avatar.png","web_url":"https://gitlab.com/greg"},"type":"ISSUE","assignee":{"id":3645992,"username":"greg","name":"Greg Myers","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3645992/avatar.png","web_url":"https://gitlab.com/greg"},"user_notes_count":23,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/208085","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/208085","notes":"https://gitlab.com/api/v4/projects/278964/issues/208085/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/208085/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#208085","relative":"#208085","full":"gitlab-org/gitlab#208085"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31266186,"iid":208080,"project_id":278964,"title":"Dependency Proxy fails to pull images from object storage","description":"~\"backend-weight::2\" \n\n### Summary\nThere is an issue with the Dependency Proxy in which images are pulled correctly from Docker Hub, but then not available when attempting to pull from them from the cache. The issue is that GitLab is looking for the blob on local storage when it actually exists in object storage. \n\n### Steps to reproduce\nThanks to @anton for documenting two methods to reproducing this bug:\n\n**Method 1: Via `.gitlab-ci.yml`**\n\n1. Enable object storage for dependency proxies using the below:\n\n   ```ruby\n   gitlab_rails['dependency_proxy_enabled'] = true\n   gitlab_rails['dependency_proxy_object_store_enabled'] = true\n   gitlab_rails['dependency_proxy_object_store_direct_upload'] = true\n   gitlab_rails['dependency_proxy_object_store_background_upload'] = false\n   gitlab_rails['dependency_proxy_object_store_remote_directory'] = \"xxxxxxx\"\n   gitlab_rails['dependency_proxy_object_store_connection'] = {\n      'provider' =\u003e 'AWS',\n      'region' =\u003e 'ap-southeast-2',\n      'aws_access_key_id' =\u003e 'xxxxxxxx',\n      'aws_secret_access_key' =\u003e 'xxxxxxx',\n   }\n   ```\n1. Create a project, with the following inside the `.gitlab-ci.yml` file:\n\n   ```yaml\n   build:\n     image: gitlab.tld/group/dependency_proxy/containers/alpine:latest\n     stage: build\n   script:\n      - echo \"Deploy complete\"\n   ```\n1. Observe that the job completes successfully. At this point, if I check S3, the blobs exist there, and they aren't in local storage.\n\n   ```\n   [0KRunning with gitlab-runner 13.0.0 (c127439c)\n   [0;m[0K  on antons-runner-docker vDxnAt5P\n   [0;msection_start:1591157011:prepare_executor\n   [0K[0K[36;1mPreparing the \"docker\" executor[0;m\n   [0;m[0KUsing Docker executor with image gitlab.tld/group/dependency_proxy/containers/alpine:latest ...\n   [0;m[0KPulling docker image gitlab.tld/group/dependency_proxy/containers/alpine:latest ...\n   [0;m[0KUsing docker image sha256:a24bb4013296f61e89ba57005a7b3e52274d8edd3ae2077d04395f806b63d83e for gitlab.tld/group/dependency_proxy/containers/alpine:latest ...\n   [0;msection_end:1591157021:prepare_executor\n   [0Ksection_start:1591157021:prepare_script\n   [0K[0K[36;1mPreparing environment[0;m\n   [0;mRunning on runner-vdxnat5p-project-246-concurrent-0 via antons-runner01...\n   section_end:1591157023:prepare_script\n   [0Ksection_start:1591157023:get_sources\n   [0K[0K[36;1mGetting source from Git repository[0;m\n   [0;m[32;1mFetching changes with git depth set to 50...[0;m\n   Reinitialized existing Git repository in /builds/group/alpine/.git/\n   From https://gitlab.tld/group/alpine\n   * [new ref]         refs/pipelines/213 -\u003e refs/pipelines/213\n   43e4457..ae7caf0  master             -\u003e origin/master\n   [32;1mChecking out ae7caf0d as master...[0;m\n   \n   [32;1mSkipping Git submodules setup[0;m\n   section_end:1591157024:get_sources\n   [0Ksection_start:1591157024:restore_cache\n   [0K[0K[36;1mRestoring cache[0;m\n   [0;msection_end:1591157026:restore_cache\n   [0Ksection_start:1591157026:download_artifacts\n   [0K[0K[36;1mDownloading artifacts[0;m\n   [0;msection_end:1591157027:download_artifacts\n   [0Ksection_start:1591157027:build_script\n   [0K[0K[36;1mRunning before_script and script[0;m\n   [0;m[32;1m$ echo \"Deploy complete\"[0;m\n   Deploy complete\n   section_end:1591157029:build_script\n   [0Ksection_start:1591157029:after_script\n   [0K[0K[36;1mRunning after_script[0;m\n   [0;msection_end:1591157031:after_script\n   [0Ksection_start:1591157031:archive_cache\n   [0K[0K[36;1mSaving cache[0;m\n   [0;msection_end:1591157033:archive_cache\n   [0Ksection_start:1591157033:upload_artifacts_on_success\n   [0K[0K[36;1mUploading artifacts for successful job[0;m\n   [0;msection_end:1591157035:upload_artifacts_on_success\n   [0K[32;1mJob succeeded\n   [0;m\n   ```\n1. SSH into the runner, and remove the image:\n\n   ```shell\n   # Identify the image ID of gitlab.tld/group/dependency_proxy/containers/alpine:latest\n   docker images -a\n   \n   # Delete the gitlab.tld/group/dependency_proxy/containers/alpine:latest image\n   docker rmi xxxxxxxx\n   ```\n1. Run another pipeline. This time, the docker pull will fail:\n\n   ```\n   [0KRunning with gitlab-runner 13.0.0 (c127439c)\n   [0;m[0K  on antons-runner-docker vDxnAt5P\n   [0;msection_start:1591157306:prepare_executor\n   [0K[0K[36;1mPreparing the \"docker\" executor[0;m\n   [0;m[0KUsing Docker executor with image gitlab.tld/group/dependency_proxy/containers/alpine:latest ...\n   [0;m[0KPulling docker image gitlab.tld/group/dependency_proxy/containers/alpine:latest ...\n   [0;m[31;1mERROR: Preparation failed: Error: No such image: gitlab.tld/group/dependency_proxy/containers/alpine:latest (docker.go:205:0s)\n   [0;m[32;1mWill be retried in 3s ...\n   [0;m[0KUsing Docker executor with image gitlab.tld/group/dependency_proxy/containers/alpine:latest ...\n   [0;m[0KPulling docker image gitlab.tld/group/dependency_proxy/containers/alpine:latest ...\n   [0;m[31;1mERROR: Preparation failed: Error: No such image: gitlab.tld/group/dependency_proxy/containers/alpine:latest (docker.go:205:0s)\n   [0;m[32;1mWill be retried in 3s ...\n   [0;m[0KUsing Docker executor with image gitlab.tld/group/dependency_proxy/containers/alpine:latest ...\n   [0;m[0KPulling docker image gitlab.tld/group/dependency_proxy/containers/alpine:latest ...\n   [0;m[31;1mERROR: Preparation failed: Error: No such image: gitlab.tld/group/dependency_proxy/containers/alpine:latest (docker.go:205:0s)\n   [0;m[32;1mWill be retried in 3s ...\n   [0;msection_end:1591157514:prepare_executor\n   [0K[31;1mERROR: Job failed (system failure): Error: No such image: gitlab.tld/group/dependency_proxy/containers/alpine:latest (docker.go:205:0s)\n   [0;m\n   ```\n\n   The `production_json.log` will have multiple errors like the below, indicating that the blob does not exist on the local storage.\n\n   **The bug here is that GitLab is looking for the blob on local storage, when it actually exists on S3.**\n\n   ```json\n   {\n   \"method\":\"GET\",\n   \"path\":\"/v2/group/dependency_proxy/containers/alpine/blobs/sha256:df20fa9351a15782c64e6dddb2d4a6f50bf6d3688060a34c4014b0d9a752eb4c\",\n   \"format\":\"html\",\n   \"controller\":\"Groups::DependencyProxyForContainersController\",\n   \"action\":\"blob\",\n   \"status\":500,\n   \"time\":\"2020-06-03T04:09:49.987Z\",\n   \"params\":[\n       {\n           \"key\":\"group_id\",\n           \"value\":\"group\"\n       },\n       {\n           \"key\":\"image\",\n           \"value\":\"alpine\"\n       },\n       {\n           \"key\":\"sha\",\n           \"value\":\"sha256:df20fa9351a15782c64e6dddb2d4a6f50bf6d3688060a34c4014b0d9a752eb4c\"\n       }\n   ],\n   \"remote_ip\":\"68.183.186.26\",\n   \"user_id\":null,\n   \"username\":null,\n   \"ua\":\"docker/19.03.9 go/go1.13.10 git-commit/9d988398e7 kernel/4.15.0-58-generic os/linux arch/amd64 UpstreamClient(Go-http-client/1.1)\",\n   \"queue_duration_s\":0.0032,\n   \"correlation_id\":\"nZNw8ZW7PWa\",\n   \"meta.root_namespace\":\"group\",\n   \"meta.caller_id\":\"Groups::DependencyProxyForContainersController#blob\",\n   \"redis_calls\":5,\n   \"redis_duration_s\":0.000756,\n   \"cpu_s\":0.04,\n   \"exception.class\":\"ActionController::MissingFile\",\n   \"exception.message\":\"Cannot read file /var/opt/gitlab/gitlab-rails/shared/dependency_proxy/5e/f6/5ef6fdf32513aa7cd11f72beccf132b9224d33f271471fff402742887a171edf/dependency_proxy/104/files/44/df20fa9351a15782c64e6dddb2d4a6f50bf6d3688060a34c4014b0d9a752eb4c.gz\",\n   \"exception.backtrace\":[\n       \"app/controllers/concerns/send_file_upload.rb:22:in `send_upload'\",\n       \"ee/app/controllers/groups/dependency_proxy_for_containers_controller.rb:27:in `blob'\",\n       \"ee/lib/gitlab/ip_address_state.rb:10:in `with'\",\n       \"ee/app/controllers/ee/application_controller.rb:44:in `set_current_ip_address'\",\n       \"app/controllers/application_controller.rb:496:in `set_current_admin'\",\n       \"lib/gitlab/session.rb:11:in `with_session'\",\n       \"app/controllers/application_controller.rb:487:in `set_session_storage'\",\n       \"app/controllers/application_controller.rb:481:in `set_locale'\",\n       \"lib/gitlab/error_tracking.rb:48:in `with_context'\",\n       \"app/controllers/application_controller.rb:546:in `sentry_context'\",\n       \"app/controllers/application_controller.rb:474:in `block in set_current_context'\",\n       \"lib/gitlab/application_context.rb:52:in `block in use'\",\n       \"lib/gitlab/application_context.rb:52:in `use'\",\n       \"lib/gitlab/application_context.rb:20:in `with_context'\",\n       \"app/controllers/application_controller.rb:467:in `set_current_context'\",\n       \"ee/lib/gitlab/jira/middleware.rb:19:in `call'\"\n   ],\n   \"db_duration_s\":0.00541,\n   \"view_duration_s\":0.0,\n   \"duration_s\":1.0179\n   }\n   ```\n\n   Notice that GitLab thinks the blob is stored in `/var/opt/gitlab/gitlab-rails/shared/dependency_proxy/5e/f6/5ef6fdf32513aa7cd11f72beccf132b9224d33f271471fff402742887a171edf/dependency_proxy/104/files/44/df20fa9351a15782c64e6dddb2d4a6f50bf6d3688060a34c4014b0d9a752eb4c.gz`\n\n   In the Rails console, the blob has a `file_store` of `nil`, and `blob.file` seems to point to local storage:\n\n   ```ruby\n   irb(main):009:0\u003e blob = DependencyProxy::Blob.find(44)\n   =\u003e #\u003cDependencyProxy::Blob id: 44, group_id: 104, created_at: \"2020-06-03 04:03:38\", updated_at: \"2020-06-03 04:03:38\", size: 2797541, file_store: nil, file_name: \"df20fa9351a15782c64e6dddb2d4a6f50bf6d3688060a34c40...\", file: \"df20fa9351a15782c64e6dddb2d4a6f50bf6d3688060a34c40...\"\u003e\n   irb(main):100: 10:0\u003e blob.attributes\n   =\u003e {\"id\"=\u003e44, \"group_id\"=\u003e104, \"created_at\"=\u003eWed, 03 Jun 2020 04:03:38 UTC +00:00, \"updated_at\"=\u003eWed, 03 Jun 2020 04:03:38 UTC +00:00, \"size\"=\u003e2797541, \"file_store\"=\u003enil, \"file_name\"=\u003e\"df20fa9351a15782c64e6dddb2d4a6f50bf6d3688060a34c4014b0d9a752eb4c.gz\", \"file\"=\u003e\"df20fa9351a15782c64e6dddb2d4a6f50bf6d3688060a34c4014b0d9a752eb4c.gz\"}\n   irb(main):011:0\u003e blob.file\n   =\u003e #\u003cDependencyProxy::FileUploader:0x00007f9985d1c678 @model=#\u003cDependencyProxy::Blob id: 44, group_id: 104, created_at: \"2020-06-03 04:03:38\", updated_at: \"2020-06-03 04:03:38\", size: 2797541, file_store: nil, file_name: \"df20fa9351a15782c64e6dddb2d4a6f50bf6d3688060a34c40...\", file: \"df20fa9351a15782c64e6dddb2d4a6f50bf6d3688060a34c40...\"\u003e, @mounted_as=:file, @file=#\u003cCarrierWave::SanitizedFile:0x00007f9985d2b560 @file=\"/var/opt/gitlab/gitlab-rails/shared/dependency_proxy/5e/f6/5ef6fdf32513aa7cd11f72beccf132b9224d33f271471fff402742887a171edf/dependency_proxy/104/files/44/df20fa9351a15782c64e6dddb2d4a6f50bf6d3688060a34c4014b0d9a752eb4c.gz\", @original_filename=nil, @content_type=nil, @content=nil\u003e, @filename=nil, @cache_id=nil, @versions={}, @object_store=1, @storage=#\u003cCarrierWave::Storage::File:0x00007f9985d1c2e0 @uploader=#\u003cDependencyProxy::FileUploader:0x00007f9985d1c678 ...\n   ```\n\n   Notice that the file does not exist in local storage:\n\n   ```shell\n   $ ls /var/opt/gitlab/gitlab-rails/shared/dependency_proxy/5e/f6/5ef6fdf32513aa7cd11f72beccf132b9224d33f271471fff402742887a171edf/dependency_proxy/104/files/44/df20fa9351a15782c64e6dddb2d4a6f50bf6d3688060a34c4014b0d9a752eb4c.gz\n   \n   ls: cannot access '/var/opt/gitlab/gitlab-rails/shared/dependency_proxy/5e/f6/5ef6fdf32513aa7cd11f72beccf132b9224d33f271471fff402742887a171edf/dependency_proxy/104/files/44/df20fa9351a15782c64e6dddb2d4a6f50bf6d3688060a34c4014b0d9a752eb4c.gz': No such file or directory\n   ```\n\n   But it does exist on S3:\n\n   ```shell\n   $ aws s3 ls s3://my-s3-bucket/5e/f6/5ef6fdf32513aa7cd11f72beccf132b9224d33f271471fff402742887a171edf/dependency_proxy/104/files/44/df20fa9351a15782c64e6dddb2d4a6f50bf6d3688060a34c4014b0d9a752eb4c.gz\n   \n   2020-06-03 16:03:40    2797541 df20fa9351a15782c64e6dddb2d4a6f50bf6d3688060a34c4014b0d9a752eb4c.gz\n   ```\n\n---\n\n**Method 2: Via `docker pull`**\n\nYou can also use the following sequence of commands to produce the same error in the production logs:\n\n```shell\n# Pull an image into the dependency proxy for the first time, it should succeed\ndocker pull gitlab.tld/group/dependency_proxy/containers/alpine:latest\n\n# Identify the image ID of gitlab.tld/group/dependency_proxy/containers/alpine:latest\ndocker images -a\n\n# Delete the gitlab.tld/group/dependency_proxy/containers/alpine:latest image\ndocker rmi xxxxxxxx\n\n# Pull the image for the second time\ndocker pull gitlab.tld/group/dependency_proxy/containers/alpine:latest\n```\n\nWhen you pull the image the second time, you will see the output below. The same `ActionController::MissingFile` error will be shown in the production logs as well.\n\n```shell\n$ docker pull gitlab.tld/group/dependency_proxy/containers/alpine:latest\n\nlatest: Pulling from group/dependency_proxy/containers/alpine\ndf20fa9351a1: Downloading\nreceived unexpected HTTP status: 500 Internal Server Error\n```\n\n### Example Project\nhttps://gitlab.com/gitlab-org/ci-cd/package-stage/feature-testing/dependency-proxy\n\n### What is the current *bug* behavior?\n\n### What is the expected *correct* behavior?\n- The image is downloaded successfully","state":"closed","created_at":"2020-02-25T20:30:31.954Z","updated_at":"2020-12-18T07:09:37.696Z","closed_at":"2020-11-24T19:54:06.846Z","closed_by":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"labels":["Category:Dependency Proxy","Deliverable","Package:P1","backend","customer","devops::package","group::package registry","missed-SLO","priority::2","ruby","section::ops","severity::2","type::bug","workflow::ready for development"],"milestone":{"id":1233757,"iid":54,"group_id":9970,"title":"13.7","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:43:14.893Z","updated_at":"2022-04-13T14:51:12.240Z","due_date":"2020-12-17","start_date":"2020-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/54"},"assignees":[{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"}],"author":{"id":3799560,"username":"trizzi","name":"Tim Rizzi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3799560/avatar.png","web_url":"https://gitlab.com/trizzi"},"type":"ISSUE","assignee":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"user_notes_count":18,"merge_requests_count":0,"upvotes":7,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/208080","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/208080","notes":"https://gitlab.com/api/v4/projects/278964/issues/208080/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/208080/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#208080","relative":"#208080","full":"gitlab-org/gitlab#208080"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31264877,"iid":208057,"project_id":278964,"title":"Update content and structure for GitLab Web Editor page","description":"Page contains the following issues:\nhttps://docs.gitlab.com/ee/user/project/repository/web_editor.html#create-a-new-branch\n\n* Outdated screenshots\n* Incorrectly formatted screenshots\n* Overall Document structure can be improved and cleaned up","state":"closed","created_at":"2020-02-25T19:31:24.255Z","updated_at":"2022-11-24T14:05:31.470Z","closed_at":"2022-11-24T13:58:21.320Z","closed_by":{"id":11980591,"username":"ashrafkhamis","name":"Ashraf Khamis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11980591/avatar.png","web_url":"https://gitlab.com/ashrafkhamis"},"labels":["Technical Writing","devops::create","docs-only","docs::improvement","documentation","group::editor","maintenance::refactor","section::dev","severity::4","tw::triaged","type::maintenance","workflow::scheduling"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":11980591,"username":"ashrafkhamis","name":"Ashraf Khamis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11980591/avatar.png","web_url":"https://gitlab.com/ashrafkhamis"}],"author":{"id":5372178,"username":"blitziggy","name":"Morne Snyman","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5372178/avatar.png","web_url":"https://gitlab.com/blitziggy"},"type":"ISSUE","assignee":{"id":11980591,"username":"ashrafkhamis","name":"Ashraf Khamis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11980591/avatar.png","web_url":"https://gitlab.com/ashrafkhamis"},"user_notes_count":11,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/208057","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/208057","notes":"https://gitlab.com/api/v4/projects/278964/issues/208057/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/208057/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#208057","relative":"#208057","full":"gitlab-org/gitlab#208057"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31260714,"iid":207996,"project_id":278964,"title":"Add API endpoint for pipeline bridge jobs","description":"Related to https://gitlab.com/gitlab-org/gitlab/issues/207226\n\n## Problem statement\n\nWhen using `GET /pipelines/:id/jobs`, the response does not list any bridge jobs although the were created successfully.\n\n## Analysis\n\nFrom https://gitlab.com/gitlab-org/gitlab/issues/207226#note_291511965:\n\u003e\u003e\u003e\n\u003e `GET https://gitlab.example.com/api/v4/projects/123/pipelines/12345/jobs`: missing `job2` and `job3` and no reference to the created child-pipelines\n\n* on missing `jobs2` and `jobs3`, this occurs because those are \"trigger\" (also called \"bridge\") jobs and when we serialized jobs for a pipeline we [only collect \"normal\" jobs](https://gitlab.com/gitlab-org/gitlab/-/blob/13967e02d2529657fb70835bc43a74b2bc2a53cf/lib/api/jobs.rb#L65) (those that are executed by the Runner). I think this predates the notion of \"trigger\" jobs. Instead of `pipeline.builds` we should use `pipeline.processables` to include everything. I'm not sure this classifies as ~bug if it was a miss or a ~feature if we had a reason for only returning runnable jobs.\n* on not serializing created child-pipelines: we should definitely render them and perhaps even inside the \"trigger\" jobs (currently missed) so it will be clear which job triggered which child pipeline.\n\n:point_up: this could probably be an issue on its own and it's more complicated: for `/pipelines/:id/jobs` we are using specific preloads and serializer for `Ci::Build`. This won't directly apply to `Ci::Bridge` jobs. We could create a new API endpoint `GET /pipelines/:id/bridges` that instead returns only bridge jobs. This means we could serialize them differently than `Ci::Build` and even include a reference to the downstream pipeline.\n\nOtherwise a more complex solution would be to reuse `GET /pipelines/:id/jobs` and return a list of processables that can be either `Ci::Build` or `Ci::Bridge`. This is like returning polymorphic associations which has a set of complications (e.g. preloading `:job_artifacts` won't work on `Ci::Processable`). I'm not sure we do that or discourage it. - cc @ayufan ?\n\u003e\u003e\u003e\n\n## Proposal\n\nWe could create a new API endpoint `GET /pipelines/:id/bridges` that instead returns only bridge jobs. This means we could serialize them differently than `Ci::Build` and even include a reference to the downstream pipeline.\n\n- pros: very easy to implement\n- cons: clients will need to call 2 endpoints to get all the jobs in a pipeline\n\nold alternative proposal:\n\n\u003cdetails\u003e\n\nIncluding bridge jobs in the existing API endpoint is preferable although a bit more complex.\n\n1. Because we can't simply use `pipeline.processables` as we are preloading specific associations from `Ci::Build`, we may need to do it differently. Maybe `UNION` both `pipeline.builds` and `pipeline.bridges` (to be created) each with their own preloaded associations\n1. in `Entities::Job` serializer we expose job specific attributes (e.g. artifacts) and bridge specific attributes (e.g. downstream pipelines) based on the type\n\n- pros: clients will get all jobs with a single API call, much like the UI\n- cons: complex to implement on many fronts (query, serializers, schema)\n\n\u003c/details\u003e","state":"closed","created_at":"2020-02-25T16:50:56.009Z","updated_at":"2021-01-10T11:28:51.143Z","closed_at":"2020-06-16T10:19:40.090Z","closed_by":{"id":12452,"username":"ayufan","name":"Kamil Trzci≈Ñski","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a285e30f35d72526fb0954e8fe7cefa?s=80\u0026d=identicon","web_url":"https://gitlab.com/ayufan"},"labels":["Category:Continuous Integration","Community contribution","api","backend","customer","devops::verify","group::pipeline execution","missed-SLO","missed:12.10","missed:13.0","priority::2","severity::2","type::bug","workflow::verification"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"}],"author":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"type":"ISSUE","assignee":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"user_notes_count":14,"merge_requests_count":3,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/207996","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/207996","notes":"https://gitlab.com/api/v4/projects/278964/issues/207996/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/207996/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#207996","relative":"#207996","full":"gitlab-org/gitlab#207996"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2750,"epic":{"id":25852,"iid":2750,"title":"Parent-Child Pipeline MVC \u0026 Follow-Ups","url":"/groups/gitlab-org/-/epics/2750","group_id":9970,"human_readable_end_date":"Aug 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":31258659,"iid":207988,"project_id":278964,"title":"Backend: Job ignores previous stage if cancelled and retried","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nA pipeline which uses stages to make sure deployment can't happen without tests can be tricked. As a consequence, deployments / builds are possible even if tests are failing.\n\nIn a stage-based pipeline where `deploy-job` is supposed to depend on `test-job` based on the implicit stage dependencies, it's still possible to retry the `deploy-job` if you cancel it while the `test-job` is running. Retrying the `deploy-job` in this case will simply insert it into the running queue disregarding the status of the `test-job`.\n\n### Steps to reproduce\n\n1. Have a pipeline similar to this:\n```\ntest:\n  stage: test\n  script:\n    - # Tests are running here\ndeploy:\n  stage: deploy\n  script:\n    - # Building and deploying to production\n```\n2. While the test job runs, cancel the deploy job.\n3. Now click \"retry\" on deploy job\n4. The job is directly picked by a runner.\n    - If `dependencies` were set, the job does fail due to missing dependencies. This is ugly but not a dramatic failure\n    - If no dependencies were set, the job just runs trough. This is dramatic\n\n**This can not only happen if you are a rouge user but also inadvertently, e.g. you accidentally cancelled a job and then want to have it back in the pipeline.**\n\n### Example Project\n\nThis CI: https://gitlab.com/PhilLab/testing-private/-/blob/a6514903e34322dc92319fec4fad33e66b3c2259/.gitlab-ci.yml\nLeads to a successful deployment even though the tests failed:\n- https://gitlab.com/PhilLab/testing-private/pipelines/120920659\n\n### What is the current *bug* behavior?\n\nStages which are meant to block subsequent procedures can be jumped over. When a job is restarted, it is not respecting the sequence of stages and waiting to execute only when jobs in the preceding stages have successfully completed.\n\n### What is the expected *correct* behavior?\n\nRetrying the job should not directly start it but insert it back into the usual processing queue.\n\nExpected behavior as noted in the [docs](https://docs.gitlab.com/ee/ci/pipelines/index.html#cicd-pipelines):\n- **If _all_ jobs in a stage succeed, the pipeline moves on to the next stage.**\n- **If _any_ job in a stage fails, the next stage is not (usually) executed and the pipeline ends early**\n\n## Proposal\n\nsolve the problem in the ~backend by not enqueueing the job directly and use `Ci::ProcessPipelineService` which will look at the whole pipeline. If the `deploy` job meets the dependencies it will run, otherwise it will remain in `created` state until the `test` job completes. https://gitlab.com/gitlab-org/gitlab/-/issues/352858\n\nIn https://gitlab.com/gitlab-org/gitlab/-/merge_requests/83730/diffs#note_915332037 we discussed that we should use `Ci::PipelineCreation::StartPipelineService` (to be renamed to `Ci::Pipelines::StartService`) since this service creates a persistent ref (pipeline run prerequisites) and runs `Ci::ProcessPipelineService`. \n\nIn fact, we should use `StartPipelineService` not only in `PlayBuildService` but also in `RetryJobService` and `RetryPipelineService`. Basically any time we resume the pipeline execution.\n\nOnce we do that we should also remove the creation of `persistent_ref` in `Ci::Build` state transition since the `persistent_ref` will be consistently created when we start/resume the pipeline execution and deleted when the pipeline completes.\n\n**Can the same bug exist also with scheduled jobs (`when: delayed`)?**. If so, we would need to run `StartPipelineService` also in `Ci::RunScheduledBuildService`.\n\n\u003c!--- #### User experience specs\n\n When the user clicks \"Retry\" we will show the job in `pending` status until we get the response from BE. If the job cannot be run due to unmet dependencies, we bring the job to its previous status and throw an error. If it can be run, it goes into `running` status.\n- The alert should appear above the pipeline graph if the job is retried from the pipeline graph, and as the page-level alert on any other page where the job can be retried (job page, pipelines list page, MR page, etc.)\n- Error alert text: `[job-name] can't be retried because earlier required jobs have not completed successfully yet.`\n- The error alert should be placed above the pipeline graph and it should be dismissible. ---\u003e\n\n### Output of checks\n\nThis bug happens on GitLab.com\n\n### Possible related issues\n\nI can't link to fixes, but the fix might be in the same realm as some of the other retry bugs:\n- gitlab-org/gitlab#32712\n- gitlab-org/gitlab#37268\n- gitlab-org/gitlab#25321\n- gitlab-org/gitlab#31367\n\n### Testing Consideration\n\nIn terms of testing, let's include a test in the integration level with the FE to test this exact scenario.\n\n1. Create a pipeline with 2 stages.\n2. Run the pipeline.\n3. Cancel the first stage.\n4. Retry the second stage.\n5. Validate that the second stage fails and returns an error.","state":"closed","created_at":"2020-02-25T16:00:02.822Z","updated_at":"2022-12-23T01:07:29.897Z","closed_at":"2022-11-23T06:57:02.516Z","closed_by":{"id":12411397,"username":"tianwenchen","name":"Tianwen Chen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4219e592c672f4bd062add405865f9aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/tianwenchen"},"labels":["Category:Continuous Integration","FY23::Q3","OKR","SUS::Impacting","Stretch","Technical Writing","Track Health Status","UX","Verify candidate","Verify::P3","backend","customer","devops::verify","documentation","group::pipeline execution","missed-SLO","missed-deliverable","missed:14.10","missed:14.7","missed:15.5","missed:15.6","pipeline","pipeline processing","priority::2","quad-planning::complete-no-action","section::ops","security-backlog::valid","severity::2","type::bug","workflow::production"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":12411397,"username":"tianwenchen","name":"Tianwen Chen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4219e592c672f4bd062add405865f9aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/tianwenchen"}],"author":{"id":2201290,"username":"PhilLab","name":"Philipp Hasper","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2201290/avatar.png","web_url":"https://gitlab.com/PhilLab"},"type":"ISSUE","assignee":{"id":12411397,"username":"tianwenchen","name":"Tianwen Chen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4219e592c672f4bd062add405865f9aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/tianwenchen"},"user_notes_count":119,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/207988","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/207988","notes":"https://gitlab.com/api/v4/projects/278964/issues/207988/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/207988/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#207988","relative":"#207988","full":"gitlab-org/gitlab#207988"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5206,"epic":{"id":181139,"iid":5206,"title":"Bugs: Pipelines","url":"/groups/gitlab-org/-/epics/5206","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":"on_track"},{"id":31257063,"iid":207981,"project_id":278964,"title":"Display requirements list","description":"Part of \u00262703, we should allow a user to list requirements they've created.\n\nThis functionality should:\n\n- Be available to ~\"GitLab Ultimate\" customers only;\n- Use GraphQL, and\n- Be behind feature flag `requirements_management`, defaulted to off.","state":"closed","created_at":"2020-02-25T15:17:43.519Z","updated_at":"2020-10-16T19:49:48.518Z","closed_at":"2020-04-03T08:17:21.380Z","closed_by":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"labels":["Technical Writing","backend","devops::plan","direction","documentation","frontend","group::product planning","planning priority","type::feature","workflow::in dev"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":411701,"username":"kushalpandya","name":"Kushal Pandya","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/411701/avatar.png","web_url":"https://gitlab.com/kushalpandya"},{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"}],"author":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"type":"ISSUE","assignee":{"id":411701,"username":"kushalpandya","name":"Kushal Pandya","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/411701/avatar.png","web_url":"https://gitlab.com/kushalpandya"},"user_notes_count":12,"merge_requests_count":4,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/207981","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/207981","notes":"https://gitlab.com/api/v4/projects/278964/issues/207981/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/207981/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#207981","relative":"#207981","full":"gitlab-org/gitlab#207981"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2703,"epic":{"id":23073,"iid":2703,"title":"MVC: Allow users to create requirements","url":"/groups/gitlab-org/-/epics/2703","group_id":9970,"human_readable_end_date":"May 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31254816,"iid":207976,"project_id":278964,"title":"Stop markdown caching of non-markdown Snippet content","description":"### Summary\n\nWhen viewing a Snippet, `Banzai::Renderer#render_field` gets called for the Snippet `title` when rendering the header, which in turn [will call](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/banzai/renderer.rb#L42) `CacheMarkdownField#refresh_markdown_cache` if the `:title` cache is not up to date / does not exist.\n\nThe problem with this, is that the refresh method will then attempt to cache **all** fields on the Snippet, including `content` and treating them as if they're markdown, which is not always the case. \n\nThis means that we are needlessly processing and caching non-markdown content but also causing errors when passing large non-markdown fields to CommonMarker for parsing (see: https://gitlab.com/gitlab-org/gitlab/issues/204894), and the `content_html` field is not even being used when rendering non-markdown Snippets.\n\n### Steps to reproduce\n\n- Create a new snippet with a non-markdown filename, e.g. `my_snippet.rb`\n- View the snippet's `content_html` in DB or rails-console to confirm it was cached, e.g.\n```\u003cp data-sourcepos=\"1:1-1:13\" dir=\"auto\"\u003etest ruby file\u003c/p\u003e```\n\n### What is the current *bug* behavior?\n\n`Snippet.content_html` is populated for non-markdown Snippets\n\n### What is the expected *correct* behavior?\n\n`Snippet.content_html` should not be populated for non-markdown Snippets\n\n### Output of checks\n\nThis bug happens on GitLab.com\n\n### Possible fixes\n\n[`Banzai::Renderer#render_field`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/banzai/renderer.rb#L37) could change to check if the `object` **should** be cached due to it's content, rather than just whether or not it responds to `cached_markdown_fields` and cache is up to date. \n\nWe could add a helper method e.g. `is_markdown_file?` that checks for `object.file_name` and it's file extension, to determine whether or not it is actually [intended to be markdown](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/markup_helper.rb#L7).\n\nWe should probably also ensure that if the file extension changes from markdown to something else, we clear the cached fields to avoid future confusion.","state":"closed","created_at":"2020-02-25T14:31:53.861Z","updated_at":"2020-03-10T15:26:17.944Z","closed_at":"2020-03-10T15:26:17.839Z","closed_by":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"labels":["Category:Snippets","backend","bug::performance","devops::create","group::editor","priority::2","severity::4","type::bug"],"milestone":{"id":1001916,"iid":44,"group_id":9970,"title":"12.9","description":"https://about.gitlab.com/releases/2020/03/22/gitlab-12-9-released","state":"closed","created_at":"2019-09-15T20:54:50.875Z","updated_at":"2020-09-02T11:04:41.671Z","due_date":"2020-03-17","start_date":"2020-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/44"},"assignees":[{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"}],"author":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"type":"ISSUE","assignee":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"user_notes_count":10,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/207976","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/207976","notes":"https://gitlab.com/api/v4/projects/278964/issues/207976/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/207976/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#207976","relative":"#207976","full":"gitlab-org/gitlab#207976"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31254212,"iid":207974,"project_id":278964,"title":"Flatten out/remove old `paths.head/base` from Secure code","description":"@markrian wrote: \n\u003e @leipert, the `\u003creportType\u003e.paths.head` and `\u003creportType\u003e.paths.base` keys can probably be removed as well, right?\n\u003e \n\u003e Looks like the following files still reference these:\n\u003e \n\u003e * https://gitlab.com/gitlab-org/gitlab/blob/9d9afa0bca88e661dc186b41d452c48a566fd64b/ee/app/assets/javascripts/vue_shared/security_reports/store/state.js#L21-22\n\u003e * https://gitlab.com/gitlab-org/gitlab/blob/9d9afa0bca88e661dc186b41d452c48a566fd64b/ee/spec/frontend/vue_shared/security_reports/store/getters_spec.js#L37-38\n\u003e * https://gitlab.com/gitlab-org/gitlab/blob/9d9afa0bca88e661dc186b41d452c48a566fd64b/ee/app/assets/javascripts/vue_shared/security_reports/store/modules/sast/state.js#L3-4","state":"closed","created_at":"2020-02-25T14:13:52.770Z","updated_at":"2021-10-05T15:29:36.933Z","closed_at":"2021-10-05T15:29:36.907Z","closed_by":{"id":7293390,"username":"jannik_lehmann","name":"Jannik Lehmann","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7293390/avatar.png","web_url":"https://gitlab.com/jannik_lehmann"},"labels":["backstage [DEPRECATED]","devops::secure","frontend","maintenance::refactor","section::sec"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":7293390,"username":"jannik_lehmann","name":"Jannik Lehmann","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7293390/avatar.png","web_url":"https://gitlab.com/jannik_lehmann"}],"author":{"id":181229,"username":"leipert","name":"Lukas 'Eipi' Eipert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/19a1f1260fa70323f35bc508927921a2?s=80\u0026d=identicon","web_url":"https://gitlab.com/leipert"},"type":"ISSUE","assignee":{"id":7293390,"username":"jannik_lehmann","name":"Jannik Lehmann","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7293390/avatar.png","web_url":"https://gitlab.com/jannik_lehmann"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/207974","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/207974","notes":"https://gitlab.com/api/v4/projects/278964/issues/207974/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/207974/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#207974","relative":"#207974","full":"gitlab-org/gitlab#207974"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31253666,"iid":207970,"project_id":278964,"title":"Reinstate \"Apply license to selected group\"","description":"https://gitlab.com/gitlab-org/gitlab/-/merge_requests/25126 should be resubmitted since it was reverted by https://gitlab.com/gitlab-org/gitlab/-/merge_requests/25887 after it broke `master` (https://gitlab.com/gitlab-org/gitlab/issues/207961).","state":"closed","created_at":"2020-02-25T13:59:29.304Z","updated_at":"2020-03-18T09:57:44.518Z","closed_at":"2020-02-26T13:01:30.657Z","closed_by":{"id":128633,"username":"rymai","name":"R√©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"labels":["devops::growth","group::activation"],"milestone":{"id":1001916,"iid":44,"group_id":9970,"title":"12.9","description":"https://about.gitlab.com/releases/2020/03/22/gitlab-12-9-released","state":"closed","created_at":"2019-09-15T20:54:50.875Z","updated_at":"2020-09-02T11:04:41.671Z","due_date":"2020-03-17","start_date":"2020-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/44"},"assignees":[{"id":3509693,"username":"nicolasdular","name":"Nicolas Dular","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c4a21f15150c12ddf13fd848597cddd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/nicolasdular"}],"author":{"id":128633,"username":"rymai","name":"R√©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"type":"ISSUE","assignee":{"id":3509693,"username":"nicolasdular","name":"Nicolas Dular","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c4a21f15150c12ddf13fd848597cddd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/nicolasdular"},"user_notes_count":2,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/207970","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/207970","notes":"https://gitlab.com/api/v4/projects/278964/issues/207970/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/207970/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#207970","relative":"#207970","full":"gitlab-org/gitlab#207970"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31252804,"iid":207966,"project_id":278964,"title":"Fix extra border on form legend","description":"The following discussion from !25509 should be addressed:\n\n- [ ] @wortschi started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/25509#note_293792214):  (+2 comments)\n\n    \u003e @ekigbo Great work, FE changes LGTM!\n    \u003e \n    \u003e Unrelated question: Is there an additional border above the input fields? Looks like a minor UI glitch.\n    \u003e \n    \u003e ![Screen_Shot_2020-02-25_at_7.38.54_am](/uploads/b1efcceb0daa624810689b6ec151afb8/Screen_Shot_2020-02-25_at_7.38.54_am.png)\n\nIt looks like the additional border is coming from [this bootstrap_migration.scss](https://gitlab.com/gitlab-org/gitlab/-/blob/b9ca78b31b1f0abe01f82a34b7e35b2ed91edeaf/app/assets/stylesheets/bootstrap_migration.scss#L30) file. It would be good to do some additional testing to make sure there are no valid cases where this is needed.","state":"closed","created_at":"2020-02-25T13:33:58.681Z","updated_at":"2020-03-09T06:08:48.553Z","closed_at":"2020-03-09T06:08:48.503Z","closed_by":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"labels":["UI component","UI polish","bootstrap4","frontend","workflow::in review"],"milestone":{"id":1001916,"iid":44,"group_id":9970,"title":"12.9","description":"https://about.gitlab.com/releases/2020/03/22/gitlab-12-9-released","state":"closed","created_at":"2019-09-15T20:54:50.875Z","updated_at":"2020-09-02T11:04:41.671Z","due_date":"2020-03-17","start_date":"2020-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/44"},"assignees":[{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"}],"author":{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"},"type":"ISSUE","assignee":{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/207966","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/207966","notes":"https://gitlab.com/api/v4/projects/278964/issues/207966/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/207966/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#207966","relative":"#207966","full":"gitlab-org/gitlab#207966"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31244791,"iid":207962,"project_id":278964,"title":"Provide gitlab-ci.yml Template for Deploying to ECS","description":"### Problem to solve\n\n\u003c!-- What problem do we solve? --\u003e\n\nUsers want to deploy to AWS ECS: the way you achieve this is the same amongst different companies and could easily be templatized. Users could then customize the template if they have specific needs/use cases. \n\nAdditional context in product scaling agenda at https://docs.google.com/document/d/1nMJzrDfG7C14WP5v7P226oPFuXkwqIk7bdIT8ai0DNU/edit?ts=5d84fb07\u0026skip_itp2_check=true\u0026pli=1#bookmark=id.46hyirfrtqak\n\n### Intended users\n\n\u003c!-- Who will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/ --\u003e\n\nUsers deploying to AWS ECS\n\n### Why build a .gitlab-ci.yml template before an Auto DevOps template\n\nFollowing the [iteration](https://about.gitlab.com/company/culture/all-remote/values/#iteration) value: \n\n* Having a gitlab-ci.yml template that users can use and customize is valuable on it's own, even if they never use Auto DevOps.\n* It will allow us to receive feedback before offering it as part of Auto DevOps. \n* In addition, there is a risk that connecting it to Auto DevOps might break the Kubernetes flow which needs coordination and careful consideration which may span over a single milestone \n\nThis is the issue to add this as an Auto DevOps composable template https://gitlab.com/gitlab-org/gitlab/issues/208132\n\n### Proposal\n\n\u003c!-- How are we going to solve the problem? Try to include the user journey! https://about.gitlab.com/handbook/journeys/#user-journey --\u003e\n\nCreate a new template (https://gitlab.com/gitlab-org/gitlab/-/tree/master/lib/gitlab/ci/templates) named `deploy to ECS`.\n\nAll of the process described below uses our pre-built image (https://gitlab.com/gitlab-org/gitlab/issues/31167) as the `image:` in order to login to AWS (using the AWS typed environment variables). Any container that is created in order to deploy to ECS will be stored in the `cloud-deploy` project and published for any other use. TODO - we need to ask the Configure team how they manage these kinds of container dependencies between containers and templates within Auto DevOps and do it the same way.\n\nThis iteration assumes a pre-existing cluster, we don't create one on the fly for them. The customer provides us this info via variables.\n\nIteration:\n* [ ] Create a stand-alone gitlab-ci.yml template that deploys to ECS\n  * Build the customer's Docker image\n  * Tag and push the built (customer) docker image to Gitlab's package registry (we will add documentation to add support to ECR, but ECR configuration will not be done automatically by our template). TODO - add what we with digest here.\n  * Create AWS Task to be used for the Docker deploy \n  * Register AWS Task definition with the ECS cluster\n  * Grab revision # of the Task definition using regular bash and grep\n  * Deploy revision using the Docker deploy\n* [ ] Documentation \n\n*Main variables to modify for your account* (for reference see [here](https://github.com/ricktbaker/docker-circleci-ecr-ecs/blob/master/deploy.sh))\n\n* `AWS_ACCOUNT_ID`=XXXXXXXXXXXXXXX\n* `REGION`='us-east-1'\n* `CLUSTER`='test-app'\n* `FAMILY`='test-app'\n* `DOCKER_IMAGE`='test-app'\n* `TASK`='test-app'\n* `SERVICE`='app-service\n\n*Secrets needed: *\n* AWS_ACCESS_KEY_ID\n* AWS_ACCOUNT_ID\n* AWS_REGION\n\n#### Reference\n\n\u003c!-- Include use cases, benefits, and/or goals (contributes to our vision?) --\u003e\n\nWe will use Gitlab's container registry and not Amazon ECR.\n\nYou'll then need to setup ECS.\n\nAn ECS cluster \n\nA Task Definition - variable in the yml [here](https://github.com/ricktbaker/docker-circleci-ecr-ecs/blob/master/.circleci/config.yml)\n\nA Service within the cluster - variable in the yml [here](https://github.com/ricktbaker/docker-circleci-ecr-ecs/blob/master/.circleci/config.yml)\n\nSee the [EC2 Container Service Resources Page](https://aws.amazon.com/ecs/) if you need more help on the above.\n\nYou'll need AWS credentials for the step below that have access to ECS.\n\n![image](/uploads/0ef7043e4c3d1d394fd11baa6013fcac/image.png)\n\n![image](/uploads/546adb5b8aadab311d1dcc6b94cc5f08/image.png)\n\n![image](/uploads/6f30a0e4e5f2815877eeabd6e4352025/image.png)\n\n![image](/uploads/940bc053055acb16bdb7ef5bf56c32af/image.png)\n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?--\u003e\n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html\nAdd all known Documentation Requirements here, per https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements\nIf this feature requires changing permissions, this document https://docs.gitlab.com/ee/user/permissions.html must be updated accordingly. --\u003e\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\n What risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\n(for testing we will use: auto build, auto test and add to that auto deploy to ECS)\n\n\n### What does success look like, and how can we measure that?\n\n\u003c!-- Define both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. --\u003e\n\nWe need to measure the amount of times that this template is used\n\n### What is the type of buyer?\n\n\u003c!-- Which leads to: in which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#four-tiers --\u003e\n\n### Links / references\n\n* https://github.com/ricktbaker/docker-circleci-ecr-ecs/blob/master/.circleci/config.yml\n* https://gitlab.com/gitlab-org/gitlab/tree/master/lib/gitlab/ci/templates\n* https://docs.aws.amazon.com/AmazonECS/latest/developerguide/clusters.html","state":"closed","created_at":"2020-02-25T11:51:59.973Z","updated_at":"2022-07-12T23:10:24.740Z","closed_at":"2020-03-23T13:52:52.304Z","closed_by":{"id":5211906,"username":"csouthard","name":"Chase Southard","state":"active","avatar_url":"https://secure.gravatar.com/avatar/5e2adecb9fa1d32cf007754824aa358f?s=80\u0026d=identicon","web_url":"https://gitlab.com/csouthard"},"labels":["Alliances - AWS","Category:Continuous Delivery","Deliverable","Release::P1","cicd::active","devops::release","direction","group::release","type::feature","workflow::verification"],"milestone":{"id":1001916,"iid":44,"group_id":9970,"title":"12.9","description":"https://about.gitlab.com/releases/2020/03/22/gitlab-12-9-released","state":"closed","created_at":"2019-09-15T20:54:50.875Z","updated_at":"2020-09-02T11:04:41.671Z","due_date":"2020-03-17","start_date":"2020-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/44"},"assignees":[{"id":4192493,"username":"ebaque","name":"Etienne Baqu√©","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"}],"author":{"id":4156460,"username":"ogolowinski","name":"Orit Golowinski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4156460/avatar.png","web_url":"https://gitlab.com/ogolowinski"},"type":"ISSUE","assignee":{"id":4192493,"username":"ebaque","name":"Etienne Baqu√©","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"user_notes_count":55,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/207962","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/207962","notes":"https://gitlab.com/api/v4/projects/278964/issues/207962/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/207962/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#207962","relative":"#207962","full":"gitlab-org/gitlab#207962"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2351,"epic":{"id":16529,"iid":2351,"title":"Streamline AWS Deployments","url":"/groups/gitlab-org/-/epics/2351","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31244075,"iid":207959,"project_id":278964,"title":"Make json-type artifact available in A11y jobs","description":"### Summary\n\nTo support the Accessiblity MR widget in 12.10 https://gitlab.com/gitlab-org/gitlab/issues/39425, we need to make pa11y data available in JSON as a CI job artifact. We currently produce and HTML artifact because it's immediately browseable in Gitlab Pages, but for programmatic use a JSON artifact will be much easier to work with.\n\n### Proposal\n\nRun a `pa11y` scan with the reporter set to `json` as well as `html` The simplest implementation of this will be to run the `pa11y` scan twice, which could be inefficient for a large number of pages but is the MVC that produces the data we want.\n\nWe currently use the plain `pa11y` library, but `pa11y-ci` is available and easy to use as well.","state":"closed","created_at":"2020-02-25T11:46:32.162Z","updated_at":"2020-02-25T15:27:52.571Z","closed_at":"2020-02-25T15:27:13.316Z","closed_by":{"id":730684,"username":"drew","name":"drew stachon","state":"active","avatar_url":"https://secure.gravatar.com/avatar/59b7f2c95acd4a085d964f745ead6bdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/drew"},"labels":["backend","devops::verify","feature::enhancement","group::pipeline insights","type::feature"],"milestone":null,"assignees":[{"id":730684,"username":"drew","name":"drew stachon","state":"active","avatar_url":"https://secure.gravatar.com/avatar/59b7f2c95acd4a085d964f745ead6bdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/drew"}],"author":{"id":730684,"username":"drew","name":"drew stachon","state":"active","avatar_url":"https://secure.gravatar.com/avatar/59b7f2c95acd4a085d964f745ead6bdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/drew"},"type":"ISSUE","assignee":{"id":730684,"username":"drew","name":"drew stachon","state":"active","avatar_url":"https://secure.gravatar.com/avatar/59b7f2c95acd4a085d964f745ead6bdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/drew"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/207959","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/207959","notes":"https://gitlab.com/api/v4/projects/278964/issues/207959/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/207959/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":"https://gitlab.com/api/v4/projects/278964/issues/118856"},"references":{"short":"#207959","relative":"#207959","full":"gitlab-org/gitlab#207959"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31242243,"iid":207954,"project_id":278964,"title":"Allow creation of Requirements via GraphQL","description":"As the second step in \u00262703 we should allow a user to create a requirement.\n\nThis functionality should:\n\n- Be available to ~\"GitLab Ultimate\" customers only;\n- Use GraphQL, and\n- Be behind feature flag `requirements_management`, defaulted to off.\n\nOn the ~frontend, this involves creating a route and a new requirement form.\n\n/cc @mjwood @donaldcook to check GraphQL-first strategy.","state":"closed","created_at":"2020-02-25T11:08:12.193Z","updated_at":"2020-10-16T19:50:13.581Z","closed_at":"2020-04-07T16:17:36.335Z","closed_by":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"labels":["Category:Requirements Management","Enterprise Edition","GitLab Ultimate","GraphQL","backend","devops::plan","direction","frontend","group::product planning","missed:12.9","planning priority","type::feature","workflow::verification"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":411701,"username":"kushalpandya","name":"Kushal Pandya","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/411701/avatar.png","web_url":"https://gitlab.com/kushalpandya"},{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},{"id":5041243,"username":"nickbrandt","name":"Nick Brandt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/96e3036898d44a8ad7063ba07cce0998?s=80\u0026d=identicon","web_url":"https://gitlab.com/nickbrandt"}],"author":{"id":4418630,"username":"johnhope","name":"John Hope","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4418630/avatar.png","web_url":"https://gitlab.com/johnhope"},"type":"ISSUE","assignee":{"id":411701,"username":"kushalpandya","name":"Kushal Pandya","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/411701/avatar.png","web_url":"https://gitlab.com/kushalpandya"},"user_notes_count":10,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/207954","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/207954","notes":"https://gitlab.com/api/v4/projects/278964/issues/207954/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/207954/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#207954","relative":"#207954","full":"gitlab-org/gitlab#207954"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2703,"epic":{"id":23073,"iid":2703,"title":"MVC: Allow users to create requirements","url":"/groups/gitlab-org/-/epics/2703","group_id":9970,"human_readable_end_date":"May 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31242221,"iid":207953,"project_id":278964,"title":"Add project-level Requirement object","description":"The first step of \u00262703 is to create a Requirement model with associated table in the database.\n\nIn it's simplest form, a Requirement should:\n\n- Belong to a project\n- Belong to an author\n- Have a title\n- Have an automatically generated, unique ID\n- Exist in the non-FOSS version of GitLab\n\nThere is currently no requirement for a description or any more complex relationships.\n\n/cc @mjwood @donaldcook","state":"closed","created_at":"2020-02-25T11:07:47.823Z","updated_at":"2020-10-16T19:50:13.379Z","closed_at":"2020-03-12T08:11:00.281Z","closed_by":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"labels":["Category:Requirements Management","Enterprise Edition","backend","devops::plan","group::product planning","type::feature","workflow::verification"],"milestone":{"id":1001916,"iid":44,"group_id":9970,"title":"12.9","description":"https://about.gitlab.com/releases/2020/03/22/gitlab-12-9-released","state":"closed","created_at":"2019-09-15T20:54:50.875Z","updated_at":"2020-09-02T11:04:41.671Z","due_date":"2020-03-17","start_date":"2020-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/44"},"assignees":[{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"}],"author":{"id":4418630,"username":"johnhope","name":"John Hope","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4418630/avatar.png","web_url":"https://gitlab.com/johnhope"},"type":"ISSUE","assignee":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"user_notes_count":8,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/207953","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/207953","notes":"https://gitlab.com/api/v4/projects/278964/issues/207953/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/207953/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#207953","relative":"#207953","full":"gitlab-org/gitlab#207953"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2703,"epic":{"id":23073,"iid":2703,"title":"MVC: Allow users to create requirements","url":"/groups/gitlab-org/-/epics/2703","group_id":9970,"human_readable_end_date":"May 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31240212,"iid":207949,"project_id":278964,"title":"Follow up refactor for: E2e test add custom metric","description":"## Summary\n\n\u003c!--\nPlease briefly describe what part of the code base needs to be refactored.\n--\u003e\nThis is a follow up issue for the refactoring of the work done in the first iteration of [E2e test add custom metric](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/25790) \n\n## Improvements\n\n\u003c!--\nExplain the benefits of refactoring this code.\nSee also https://about.gitlab.com/handbook/values/index.html#say-why-not-just-what\n--\u003e\n* [x]   The test needs to perform CRUD operations, so Update and Delete assertions need to be included\n* [x]  The `alerting_spec.rb` and `cluster_health_spec.rb`should be refactored/merged in a way that they share the same costly setup (the goal is not to add up a lot of time to the test run)\n\n## Risks\n\n\u003c!--\nPlease list features that can break because of this refactoring and how you intend to solve that.\n--\u003e\n\n## Involved components\n\n\u003c!--\nList files or directories that will be changed by the refactoring.\n--\u003e\n*  qa/qa/specs/features/ee/browser_ui/8_monitor/apm/metrics_spec.rb\n*  qa/qa/specs/features/ee/browser_ui/8_monitor/health/alerting_spec.rb\n*  qa/qa/specs/features/ee/browser_ui/8_monitor/health/cluster_health_spec.rb\n*  qa/qa/ee/page/project/operations/metrics/show.rb\n\n\n## Optional: Intended side effects\n\n\u003c!--\nIf the refactoring involves changes apart from the main improvements (such as a better UI), list them here.\nIt may be a good idea to create separate issues and link them here.\n--\u003e\n\n\n## Optional: Missing test coverage\n\n\u003c!--\nIf you are aware of tests that need to be written or adjusted apart from unit tests for the changed components,\nplease list them here.\n--\u003e","state":"closed","created_at":"2020-02-25T10:37:12.524Z","updated_at":"2020-11-16T12:45:05.584Z","closed_at":"2020-05-13T14:06:59.689Z","closed_by":{"id":4763342,"username":"svistas","name":"Sofia Vistas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4763342/avatar.png","web_url":"https://gitlab.com/svistas"},"labels":["Quality","backstage [DEPRECATED]","devops::monitor","group::respond","maintenance::refactor","missed:12.10","workflow::in dev"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":4763342,"username":"svistas","name":"Sofia Vistas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4763342/avatar.png","web_url":"https://gitlab.com/svistas"}],"author":{"id":4763342,"username":"svistas","name":"Sofia Vistas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4763342/avatar.png","web_url":"https://gitlab.com/svistas"},"type":"ISSUE","assignee":{"id":4763342,"username":"svistas","name":"Sofia Vistas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4763342/avatar.png","web_url":"https://gitlab.com/svistas"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/207949","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":2},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/207949","notes":"https://gitlab.com/api/v4/projects/278964/issues/207949/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/207949/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#207949","relative":"#207949","full":"gitlab-org/gitlab#207949"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31239617,"iid":207948,"project_id":278964,"title":"Remove `ci_drop_bridge_on_downstream_errors` feature flag","description":"In %12.9 we introduced a feature flag `ci_drop_bridge_on_downstream_errors` in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/25706.\n\nAfter some time (even a couple of weeks) that https://gitlab.com/gitlab-org/gitlab/-/merge_requests/25706 is deployed we should remove the feature flag and make it default behavior.","state":"closed","created_at":"2020-02-25T10:28:43.308Z","updated_at":"2020-03-26T09:10:24.031Z","closed_at":"2020-03-26T09:10:23.468Z","closed_by":{"id":273486,"username":"jameslopez","name":"James Lopez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/273486/avatar.png","web_url":"https://gitlab.com/jameslopez"},"labels":["Category:Continuous Integration","Verify::P1","backend","backstage [DEPRECATED]","devops::verify","group::pipeline execution","maintenance::refactor","priority::2","severity::2","workflow::in review"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":722076,"username":"matteeyah","name":"Matija ƒåupiƒá","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8bc04cc15e0adba406cf56fecd9d910a?s=80\u0026d=identicon","web_url":"https://gitlab.com/matteeyah"}],"author":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"type":"ISSUE","assignee":{"id":722076,"username":"matteeyah","name":"Matija ƒåupiƒá","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8bc04cc15e0adba406cf56fecd9d910a?s=80\u0026d=identicon","web_url":"https://gitlab.com/matteeyah"},"user_notes_count":6,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/207948","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/207948","notes":"https://gitlab.com/api/v4/projects/278964/issues/207948/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/207948/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#207948","relative":"#207948","full":"gitlab-org/gitlab#207948"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31237935,"iid":207946,"project_id":278964,"title":"`CreatePipelineService#execute!` does not consider `save_on_errors: true`","description":"The current code of `Ci::CreatePipelineService#execute!` method checks if a pipeline is persisted. If so, it considers it valid, otherwise it raises a `CreateError`.\n\n```ruby\ndef execute!(*args, \u0026block)\n  execute(*args, \u0026block).tap do |pipeline|\n    unless pipeline.persisted?\n      raise CreateError, pipeline.error_messages\n    end\n  end\nend\n```\n\nThis logic is not always correct, quite the opposite. By default we use in `save_on_errors: true` which always saves a pipeline, even if it's \"invalid\" (with errors during the creation phase). Checking if a pipeline is persisted only makes sense if using `save_on_errors: false`.\n\nI think we should remove this method entirely and change the code in the only place where it's used today: [`RunPipelineScheduleWorker`](https://gitlab.com/gitlab-org/gitlab/-/blob/88595ff1d32c56162725c9310535ab187ad7cc4b/app/workers/run_pipeline_schedule_worker.rb#L22-27) and `Git::BaseHookService`\n\n\u003cdetails\u003e\u003csummary\u003eDiff to apply (excluding specs to fix):\u003c/summary\u003e\n\n```diff\ndiff --git a/app/services/ci/create_pipeline_service.rb b/app/services/ci/create_pipeline_service.rb\nindex d53e136effb..16f189a3e4c 100644\n--- a/app/services/ci/create_pipeline_service.rb\n+++ b/app/services/ci/create_pipeline_service.rb\n@@ -4,8 +4,6 @@ module Ci\n   class CreatePipelineService \u003c BaseService\n     attr_reader :pipeline, :logger\n\n-    CreateError = Class.new(StandardError)\n-\n     LOG_MAX_DURATION_THRESHOLD = 3.seconds\n     LOG_MAX_PIPELINE_SIZE = 2_000\n     LOG_MAX_CREATION_THRESHOLD = 20.seconds\n@@ -116,17 +114,6 @@ def execute(source, ignore_skip_ci: false, save_on_errors: true, trigger_request\n     end\n     # rubocop: enable Metrics/ParameterLists\n\n-    def execute!(*args, \u0026block)\n-      source = args[0]\n-      params = Hash(args[1])\n-\n-      execute(source, **params, \u0026block).tap do |response|\n-        unless response.payload.persisted?\n-          raise CreateError, pipeline.full_error_messages\n-        end\n-      end\n-    end\n-\n     private\n\n     def commit\ndiff --git a/app/services/git/base_hooks_service.rb b/app/services/git/base_hooks_service.rb\nindex 63f3f73905a..a4687402637 100644\n--- a/app/services/git/base_hooks_service.rb\n+++ b/app/services/git/base_hooks_service.rb\n@@ -53,11 +53,11 @@ def create_events\n     def create_pipelines\n       return unless params.fetch(:create_pipelines, true)\n\n-      Ci::CreatePipelineService\n+      response = Ci::CreatePipelineService\n         .new(project, current_user, pipeline_params)\n-        .execute!(:push, pipeline_options)\n-    rescue Ci::CreatePipelineService::CreateError =\u003e ex\n-      log_pipeline_errors(ex)\n+        .execute(:push, pipeline_options)\n+\n+      log_pipeline_errors(response.message) if response.error?\n     end\n\n     def execute_project_hooks\n@@ -148,14 +148,14 @@ def pipeline_options\n       {}\n     end\n\n-    def log_pipeline_errors(exception)\n+    def log_pipeline_errors(error_message)\n       data = {\n         class: self.class.name,\n         correlation_id: Labkit::Correlation::CorrelationId.current_id.to_s,\n         project_id: project.id,\n         project_path: project.full_path,\n         message: \"Error creating pipeline\",\n-        errors: exception.to_s,\n+        errors: error_message,\n         pipeline_params: sanitized_pipeline_params\n       }\n\ndiff --git a/app/workers/run_pipeline_schedule_worker.rb b/app/workers/run_pipeline_schedule_worker.rb\nindex 35e3e633c70..31cf13b8a8b 100644\n--- a/app/workers/run_pipeline_schedule_worker.rb\n+++ b/app/workers/run_pipeline_schedule_worker.rb\n@@ -21,13 +21,14 @@ def perform(schedule_id, user_id)\n   end\n\n   def run_pipeline_schedule(schedule, user)\n-    Ci::CreatePipelineService.new(schedule.project,\n-                                  user,\n-                                  ref: schedule.ref)\n-      .execute!(:schedule, ignore_skip_ci: true, save_on_errors: false, schedule: schedule)\n-  rescue Ci::CreatePipelineService::CreateError =\u003e e\n-    # This is a user operation error such as corrupted .gitlab-ci.yml. Log the error for debugging purpose.\n-    log_extra_metadata_on_done(:pipeline_creation_error, e)\n+    response = Ci::CreatePipelineService\n+      .new(schedule.project, user, ref: schedule.ref)\n+      .execute(:schedule, ignore_skip_ci: true, save_on_errors: false, schedule: schedule)\n+\n+    if response.error?\n+      # This is a user operation error such as corrupted .gitlab-ci.yml. Log the error for debugging purpose.\n+      log_extra_metadata_on_done(:pipeline_creation_error, response.message)\n+    end\n   rescue StandardError =\u003e e\n     error(schedule, e)\n   end\ndiff --git a/doc/administration/troubleshooting/gitlab_rails_cheat_sheet.md b/doc/administration/troubleshooting/gitlab_rails_cheat_sheet.md\nindex 265c5278fd6..708877cd179 100644\n--- a/doc/administration/troubleshooting/gitlab_rails_cheat_sheet.md\n+++ b/doc/administration/troubleshooting/gitlab_rails_cheat_sheet.md\n@@ -965,7 +965,8 @@ schedule = Ci::PipelineSchedule.find_by(id: \u003cschedule_id\u003e)\n user = User.find_by_username('\u003cusername\u003e')\n\n # Run the schedule\n-ps = Ci::CreatePipelineService.new(schedule.project, user, ref: schedule.ref).execute!(:schedule, ignore_skip_ci: true, save_on_errors: false, schedule: schedule)\n+response = Ci::CreatePipelineService.new(schedule.project, user, ref: schedule.ref).execute(:schedule, ignore_skip_ci: true, save_on_errors: false, schedule: schedule)\n+response.success?\n\n```\n\n\u003c/details\u003e","state":"closed","created_at":"2020-02-25T10:10:46.434Z","updated_at":"2022-11-15T10:03:39.615Z","closed_at":"2022-11-14T13:35:14.172Z","closed_by":{"id":12517745,"username":"Kasia_Misirli","name":"Kasia Misirli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12517745/avatar.png","web_url":"https://gitlab.com/Kasia_Misirli"},"labels":["Category:Continuous Integration","backend","backstage [DEPRECATED]","devops::verify","good for new contributors","group::pipeline execution","maintenance::refactor","onboarding","pipeline processing","priority::4","section::ops","severity::4","type::maintenance","workflow::in dev"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":12517745,"username":"Kasia_Misirli","name":"Kasia Misirli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12517745/avatar.png","web_url":"https://gitlab.com/Kasia_Misirli"}],"author":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"type":"ISSUE","assignee":{"id":12517745,"username":"Kasia_Misirli","name":"Kasia Misirli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12517745/avatar.png","web_url":"https://gitlab.com/Kasia_Misirli"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/207946","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/207946","notes":"https://gitlab.com/api/v4/projects/278964/issues/207946/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/207946/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#207946","relative":"#207946","full":"gitlab-org/gitlab#207946"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31225259,"iid":207934,"project_id":278964,"title":"Embedded snippets numbering and scrolling is off","description":"## Description\n\nWhen embedding a snippet into some HTML by dropping in the script tag, the numbering and scroll area of the snippet is off.\n\n| Demo | Screenshot of small snippet |\n|------|-----------------------------|\n| ![20200225_embed_snippet_bug](/uploads/81232b7adda2730e17792d8c5dc5b6c6/20200225_embed_snippet_bug.mp4) | ![Screen_Shot_2020-02-25_at_12.05.28_AM](/uploads/1b1fc923152308d1abe46145d9ed326f/Screen_Shot_2020-02-25_at_12.05.28_AM.png) |\n\n## Example HTML\n\n```html\n\u003c!DOCTYPE html\u003e\n\u003chtml\u003e\n  \u003chead\u003e\n    \u003ctitle\u003eHello\u003c/title\u003e\n  \u003c/head\u003e\n  \u003cbody\u003e\n    \u003cscript src=\"https://gitlab.com/snippets/1853319.js\"\u003e\u003c/script\u003e\n  \u003c/body\u003e\n\u003c/html\u003e\n```\n\nSimply create a `index.html` file with this content and open in your local browser to see the bug.","state":"closed","created_at":"2020-02-25T06:21:31.582Z","updated_at":"2020-05-20T16:47:04.358Z","closed_at":"2020-05-19T21:31:56.411Z","closed_by":{"id":2233420,"username":"pslaughter","name":"Paul Slaughter","state":"active","avatar_url":"https://secure.gravatar.com/avatar/631b25421eb206ab44cb2793ef09d881?s=80\u0026d=identicon","web_url":"https://gitlab.com/pslaughter"},"labels":["Category:Snippets","Community contribution","devops::create","frontend","group::editor","missed-SLO","priority::2","severity::2","type::bug"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":8700,"username":"kingjan1999","name":"Jan Beckmann","state":"active","avatar_url":"https://secure.gravatar.com/avatar/90d483142d20f5b5691d0c4201e0d627?s=80\u0026d=identicon","web_url":"https://gitlab.com/kingjan1999"}],"author":{"id":2233420,"username":"pslaughter","name":"Paul Slaughter","state":"active","avatar_url":"https://secure.gravatar.com/avatar/631b25421eb206ab44cb2793ef09d881?s=80\u0026d=identicon","web_url":"https://gitlab.com/pslaughter"},"type":"ISSUE","assignee":{"id":8700,"username":"kingjan1999","name":"Jan Beckmann","state":"active","avatar_url":"https://secure.gravatar.com/avatar/90d483142d20f5b5691d0c4201e0d627?s=80\u0026d=identicon","web_url":"https://gitlab.com/kingjan1999"},"user_notes_count":19,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/207934","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/207934","notes":"https://gitlab.com/api/v4/projects/278964/issues/207934/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/207934/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#207934","relative":"#207934","full":"gitlab-org/gitlab#207934"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31224950,"iid":207933,"project_id":278964,"title":"The message \"Please ensure your account's recovery settings are up to date.\" is shown at self-managed instances","description":"### Summary\n\nPeriodic reminder `Please ensure your account's recovery settings are up to date.` was implemented in scope of the MR [Prompt users to double check their account recovery settings](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/23994), issue [Prompt users to double check their account recovery settings](https://gitlab.com/gitlab-org/gitlab/issues/30065). Description of the MR says that it should work only for GitLab.com but it is also shown at self-managed instances.\n\n### Steps to reproduce\n\n- Upgrade your GitLab instance to 12.8\n- Login to UI as any user\n\n### What is the current *bug* behavior?\n\nThe message `Please ensure your account's recovery settings are up to date.` is shown at self-managed instances after the upgrade.\n\n### What is the expected *correct* behavior?\n\nThe message `Please ensure your account's recovery settings are up to date.` should be shown only at GitLab.com, not at self-managed instances.\n\n### Relevant logs and/or screenshots\n\n![recovery_settings_prompt](/uploads/c0442eb91f9258b163e9c2d27f41927d/recovery_settings_prompt.png)\n\n### Output of checks\n\n#### Results of GitLab environment info\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\u003cpre\u003e\n\nSystem information\nSystem:     Ubuntu 16.04\nProxy:      no\nCurrent User:   git\nUsing RVM:  no\nRuby Version:   2.6.5p114\nGem Version:    2.7.10\nBundler Version:1.17.3\nRake Version:   12.3.3\nRedis Version:  5.0.7\nGit Version:    2.24.1\nSidekiq Version:5.2.7\nGo Version: unknown\n\nGitLab information\nVersion:    12.8.1-ee\nRevision:   13bae744d5c\nDirectory:  /opt/gitlab/embedded/service/gitlab-rails\nDB Adapter: PostgreSQL\nDB Version: 10.12\nURL:        https://domain.tld\nHTTP Clone URL: https://domain.tld/some-group/some-project.git\nSSH Clone URL:  git@domain.tld:some-group/some-project.git\nElasticsearch:  no\nGeo:        no\nUsing LDAP: no\nUsing Omniauth: yes\nOmniauth Providers:\n\nGitLab Shell\nVersion:    11.0.0\nRepository storage paths:\n- default:  /var/opt/gitlab/git-data/repositories\nGitLab Shell path:      /opt/gitlab/embedded/service/gitlab-shell\nGit:        /opt/gitlab/embedded/bin/git\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\nChecking GitLab subtasks ...\n\nChecking GitLab Shell ...\n\nGitLab Shell: ... GitLab Shell version \u003e= 11.0.0 ? ... OK (11.0.0)\nRunning /opt/gitlab/embedded/service/gitlab-shell/bin/check\nInternal API available: OK\nRedis available via internal API: OK\ngitlab-shell self-check successful\n\nChecking GitLab Shell ... Finished\n\nChecking Gitaly ...\n\nGitaly: ... default ... OK\n\nChecking Gitaly ... Finished\n\nChecking Sidekiq ...\n\nSidekiq: ... Running? ... yes\nNumber of Sidekiq processes ... 1\n\nChecking Sidekiq ... Finished\n\nChecking Incoming Email ...\n\nIncoming Email: ... Reply by email is disabled in config/gitlab.yml\n\nChecking Incoming Email ... Finished\n\nChecking LDAP ...\n\nLDAP: ... LDAP is disabled in config/gitlab.yml\n\nChecking LDAP ... Finished\n\nChecking GitLab App ...\n\nGit configured correctly? ... yes\nDatabase config exists? ... yes\nAll migrations up? ... yes\nDatabase contains orphaned GroupMembers? ... no\nGitLab config exists? ... yes\nGitLab config up to date? ... yes\nLog directory writable? ... yes\nTmp directory writable? ... yes\nUploads directory exists? ... yes\nUploads directory has correct permissions? ... yes\nUploads directory tmp has correct permissions? ... yes\nInit script exists? ... skipped (omnibus-gitlab has no init script)\nInit script up-to-date? ... skipped (omnibus-gitlab has no init script)\nProjects have namespace: ...\n1/1 ... yes\n1/3 ... yes\n1/4 ... yes\n1/5 ... yes\n41/6 ... yes\n41/7 ... yes\n41/8 ... yes\n41/9 ... yes\n41/10 ... yes\n41/11 ... yes\n42/12 ... yes\n42/13 ... yes\n42/14 ... yes\n42/15 ... yes\n42/16 ... yes\n42/17 ... yes\n43/18 ... yes\n43/19 ... yes\n43/20 ... yes\n43/21 ... yes\n43/22 ... yes\n43/23 ... yes\n44/24 ... yes\n44/25 ... yes\n44/26 ... yes\n44/27 ... yes\n44/28 ... yes\n44/29 ... yes\n44/30 ... yes\n45/31 ... yes\n45/32 ... yes\n45/33 ... yes\n45/34 ... yes\n45/35 ... yes\n45/36 ... yes\n45/37 ... yes\n45/38 ... yes\n45/39 ... yes\n45/40 ... yes\n46/41 ... yes\n46/42 ... yes\n46/43 ... yes\n47/44 ... yes\n47/45 ... yes\n47/46 ... yes\n47/47 ... yes\n47/48 ... yes\n48/49 ... yes\n48/50 ... yes\n48/51 ... yes\n48/52 ... yes\n48/53 ... yes\n49/54 ... yes\n49/55 ... yes\n49/56 ... yes\n1/59 ... yes\n1/64 ... yes\n1/65 ... yes\n50/68 ... yes\n1/69 ... yes\n1/71 ... yes\n1/75 ... yes\n1/76 ... yes\n1/81 ... yes\n1/85 ... yes\n1/86 ... yes\n1/87 ... yes\n41/88 ... yes\n42/89 ... yes\n1/90 ... yes\n41/92 ... yes\n60/93 ... yes\n1/94 ... yes\n1/95 ... yes\n1/96 ... yes\n48/97 ... yes\n1/98 ... yes\n41/99 ... yes\n1/100 ... yes\n57/102 ... yes\n1/104 ... yes\n1/107 ... yes\n1/110 ... yes\n1/112 ... yes\n1/114 ... yes\n1/115 ... yes\nRedis version \u003e= 2.8.0? ... yes\nRuby version \u003e= 2.5.3 ? ... yes (2.6.5)\nGit version \u003e= 2.22.0 ? ... yes (2.24.1)\nGit user has default SSH configuration? ... yes\nActive users: ... 39\nIs authorized keys file accessible? ... yes\nElasticsearch version 5.6 - 6.x? ... skipped (elasticsearch is disabled)\n\nChecking GitLab App ... Finished\n\nChecking GitLab subtasks ... Finished\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n(If you can, link to the line of code that might be responsible for the problem)","state":"closed","created_at":"2020-02-25T06:08:43.415Z","updated_at":"2020-04-21T12:07:25.095Z","closed_at":"2020-04-21T12:07:25.051Z","closed_by":{"id":1230286,"username":"xanf","name":"Illya Klymov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ce4d16557b46210fa57641531b570dd4?s=80\u0026d=identicon","web_url":"https://gitlab.com/xanf"},"labels":["2FA","UX","customer","devops::manage","frontend","group::authentication and authorization","priority::3","type::bug","workflow::production"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":1230286,"username":"xanf","name":"Illya Klymov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ce4d16557b46210fa57641531b570dd4?s=80\u0026d=identicon","web_url":"https://gitlab.com/xanf"}],"author":{"id":1990167,"username":"atanayno","name":"Alexandr Tanayno","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1990167/avatar.png","web_url":"https://gitlab.com/atanayno"},"type":"ISSUE","assignee":{"id":1230286,"username":"xanf","name":"Illya Klymov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ce4d16557b46210fa57641531b570dd4?s=80\u0026d=identicon","web_url":"https://gitlab.com/xanf"},"user_notes_count":15,"merge_requests_count":0,"upvotes":4,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/207933","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/207933","notes":"https://gitlab.com/api/v4/projects/278964/issues/207933/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/207933/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#207933","relative":"#207933","full":"gitlab-org/gitlab#207933"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31221058,"iid":207927,"project_id":278964,"title":"Validate actor/user against CODEOWNERS","description":"### Summary\n\nI discovered this bug while working on #118807. `CODEOWNERS` validations do not properly check the current actor/user for validation, instead returning an error and blocking the action if any file from the current MR diff file paths matches a protected path from `CODEOWNERS`.\n\n### Steps to reproduce\n\n- mark a branch as protected and requiring CODEOWNERS approval (Settings -\u003e Repository -\u003e Protected Branches\n- ensure that `@your_CLI_git_user_name` is marked as a owner of `*`\n- make a change to a file locally, commit, and attempt to push to the protected branch on the remote repository\n\n\n### What is the current *bug* behavior?\n\nCurrent behavior is that this will _fail_ despite your CLI user being marked as a code owner.\n\n### What is the expected *correct* behavior?\n\nThe user's push request should be honored, as they have code owner \"rights\" per `CODEOWNERS`","state":"closed","created_at":"2020-02-25T01:24:28.919Z","updated_at":"2020-05-12T17:19:14.795Z","closed_at":"2020-03-02T12:02:22.757Z","closed_by":{"id":171554,"username":"reprazent","name":"Bob Van Landuyt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/171554/avatar.png","web_url":"https://gitlab.com/reprazent"},"labels":["backend","devops::create","group::source code","type::bug","workflow::in review"],"milestone":{"id":1001916,"iid":44,"group_id":9970,"title":"12.9","description":"https://about.gitlab.com/releases/2020/03/22/gitlab-12-9-released","state":"closed","created_at":"2019-09-15T20:54:50.875Z","updated_at":"2020-09-02T11:04:41.671Z","due_date":"2020-03-17","start_date":"2020-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/44"},"assignees":[{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"}],"author":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"type":"ISSUE","assignee":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"user_notes_count":5,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/207927","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/207927","notes":"https://gitlab.com/api/v4/projects/278964/issues/207927/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/207927/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#207927","relative":"#207927","full":"gitlab-org/gitlab#207927"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31220939,"iid":207925,"project_id":278964,"title":"Build dependencies of gemnasium-python analyzer cause a flaky requirements list","description":"### Summary\n\n`gemnasium-python` dependency `pipenv` has loose constraints on its downstream dependencies (like `virtualenv`, `setuptools`, and potentially others). Because we get no lockfile when using `requirements.txt` these dependencies get updated each time a new version of the analyzer is built. And because of the way we use `pipdeptree` (see [related issue](https://gitlab.com/gitlab-org/gitlab/issues/34763)) these extra dependencies show up in the analyzer's report and cause flaky expectations every time `virtualenv` or `setuptools` change. This happens without any change in either `gemnasium-python`'s or the target project's requirements.\n\nSee [this MR's note](https://gitlab.com/gitlab-org/security-products/tests/python-pip/-/merge_requests/59#note_292605901) for the latest in a series of contributor/maintainer encounters with the issue.\n\n### More detail\n\nCompare the [failing expectation](https://gitlab.com/gitlab-org/security-products/tests/python-pip/-/jobs/446463007) in the pipeline of https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-python/-/merge_requests/47/diffs against [the passing DS job](https://gitlab.com/gitlab-org/security-products/tests/python-pip/pipelines/119300151) for https://gitlab.com/gitlab-org/security-products/tests/python-pip/-/merge_requests/57/diffs.\n\nFor the two cases above: https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-python/-/merge_requests/47/diffs runs against a \"newer\" `gemnasium-python` image (`registry.gitlab.com/gitlab-org/security-products/analyzers/gemnasium-python/tmp:e472108c9bfce12c69acfc42cc0b82a8804fc89f`) while https://gitlab.com/gitlab-org/security-products/tests/python-pip/-/merge_requests/57/diffs runs against the `latest` tagged image: [2.6.0](registry.gitlab.com/gitlab-org/security-products/analyzers/gemnasium-python:2.6.0).\n\nThe `pip install` happens in https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-python/-/merge_requests/47/diffs when the [build commit](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-python/-/jobs/446461791) step runs.\n\n### Steps to reproduce\n\nTo reproduce locally, check out the [python-pip](https://gitlab.com/gitlab-org/security-products/tests/python-pip) project and run the following:\n```\ndocker run --volume \"$PWD\":/code registry.gitlab.com/gitlab-org/security-products/analyzers/gemnasium-python:2.6.0 pip list \u003e /tmp/2.6.0\ndocker run --volume \"$PWD\":/code registry.gitlab.com/gitlab-org/security-products/analyzers/gemnasium-python/tmp:e472108c9bfce12c69acfc42cc0b82a8804fc89f pip list \u003e /tmp/e47210\ndiff /tmp/e47210 /tmp/2.6.0 \n```\n\nThe diff shows a difference in the versions of the installed dependencies (among them: `virtualenv` and `setuptools` as well as their dependencies).\n\n### What is the current *bug* behavior?\n\nDependencies like `setuptools`, `virtualenv` are updated.\n\n### What is the expected *correct* behavior?\n\nThe dependencies shouldn't change unless explicitly updated in `gemnasium-python` (via the `Dockerfile`).\n\n### Possible fixes\n\nThe culprit is [this section](https://github.com/pypa/pipenv/blob/742ae1b99b335ffb6d83a2240035af739cacafff/setup.py#L24) in `pipenv`. It puts very loose constraints on some of its requirements (i.e. setuptools, virtualenv, etc.)\n\nOptions:\n1. Explicitly pre-install the unspecified dependencies by adding something like the following to [the Dockerfile](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-python/-/blob/47f333768c244c3ece69b0fa197dc26b186c1458/Dockerfile#L25): `pip install pipdeptree==0.13.2 virtualenv==16.7.8 setuptools==41.6.0 pipenv==$PIPENV_VERSION` (this is not an optimal fix (see point below) but will reduce/remove the flakiness in python-pip's expectations).\n2. Install `gemnasium-python`'s dependencies in a binary or separate wheel which gets excluded from the report (this is the best fix as it also resolves https://gitlab.com/gitlab-org/gitlab/issues/34763, but we still need to validate whether this can be done effectively).","state":"closed","created_at":"2020-02-25T01:08:59.078Z","updated_at":"2021-01-26T11:50:57.649Z","closed_at":"2020-03-27T03:05:47.024Z","closed_by":{"id":4668304,"username":"ifrenkel","name":"Igor Frenkel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a73e8113c53ac25297ce751e59bbb1d3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifrenkel"},"labels":["Category:Dependency Scanning","Stretch","backend","devops::secure","group::composition analysis","priority::2","severity::3","type::bug"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":4668304,"username":"ifrenkel","name":"Igor Frenkel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a73e8113c53ac25297ce751e59bbb1d3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifrenkel"}],"author":{"id":4668304,"username":"ifrenkel","name":"Igor Frenkel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a73e8113c53ac25297ce751e59bbb1d3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifrenkel"},"type":"ISSUE","assignee":{"id":4668304,"username":"ifrenkel","name":"Igor Frenkel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a73e8113c53ac25297ce751e59bbb1d3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifrenkel"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/207925","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/207925","notes":"https://gitlab.com/api/v4/projects/278964/issues/207925/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/207925/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":"https://gitlab.com/api/v4/projects/278964/issues/34763"},"references":{"short":"#207925","relative":"#207925","full":"gitlab-org/gitlab#207925"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1400,"epic":{"id":7868,"iid":1400,"title":"Improve Dependency Scanning support for Python","url":"/groups/gitlab-org/-/epics/1400","group_id":9970,"human_readable_end_date":"May 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31220066,"iid":207919,"project_id":278964,"title":"Reporter role unable to view pipeline security tab","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nProject members with the role of `Reporter` are unable to view the security tab of a pipeline even though they're able to view specific jobs in the pipeline.\n\n### Steps to reproduce\n\n1. Be a member of a project with the role of `Reporter`.\n1. Run a pipeline that includes a SAST job.\n1. Try to view the `Security` tab of the pipeline and observe that you're not able to.\n1. Try to view the SAST job itself from that pipeline and observe that you're able to.\n\n### Example Project\n\n- [auto-devops-testing](https://gitlab.com/gitlab-gold/auto-devops-testing)\n\n### What is the current *bug* behavior?\n\nThe `Reporter` receives a permissions error when trying to view the `Security` tab of the pipeline.\n\n### What is the expected *correct* behavior?\n\nThe `Reporter` should have access to see the `Security` tab of the pipeline.\n\n### Relevant logs and/or screenshots\n\nViewing the `Security` tab.\n\n![Screenshot_2020-02-24_Pipeline___GitLab_com_-_Gold_Auto_DevOps_Testing](/uploads/566e366776effd53808e654a746f80dd/Screenshot_2020-02-24_Pipeline___GitLab_com_-_Gold_Auto_DevOps_Testing.png)\n\nViewing the SAST job.\n\n![Screenshot_2020-02-24_sast___446791168____Jobs___GitLab_com_-_Gold_Auto_DevOps_Testing](/uploads/e1889f3c13bc0729e380661859f6352f/Screenshot_2020-02-24_sast___446791168____Jobs___GitLab_com_-_Gold_Auto_DevOps_Testing.png)\n\n### Output of checks\n\nThis bug happens on GitLab.com: `12.7.0-pre 4c0f549e311`\n\nThis appears to have been fixed in https://gitlab.com/gitlab-org/gitlab/issues/13247.\n\nZD: https://gitlab.zendesk.com/agent/tickets/148133 (GitLab Internal)","state":"closed","created_at":"2020-02-24T23:38:15.105Z","updated_at":"2020-04-18T07:10:46.571Z","closed_at":"2020-03-31T05:39:44.884Z","closed_by":{"id":3913516,"username":"NicoleSchwartz","name":"Nicole Schwartz","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3913516/avatar.png","web_url":"https://gitlab.com/NicoleSchwartz"},"labels":["Category:Container Scanning","Category:DAST","Category:Dependency Scanning","Category:SAST","Deliverable","Enterprise Edition","backend","customer","devops::secure","group::composition analysis","permissions","priority::2","reproduced on GitLab.com","severity::2","type::bug","workflow::in dev"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"}],"author":{"id":2390023,"username":"tristan","name":"Tristan Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2390023/avatar.png","web_url":"https://gitlab.com/tristan"},"type":"ISSUE","assignee":{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"},"user_notes_count":11,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/207919","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/207919","notes":"https://gitlab.com/api/v4/projects/278964/issues/207919/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/207919/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#207919","relative":"#207919","full":"gitlab-org/gitlab#207919"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31219926,"iid":207917,"project_id":278964,"title":"Document external but package-specific APIs","description":"We currently have APIs implemented (and mounted) under the v4 APIs that are meant for external use but not directly.\n\n## Proposal\n\nDocument these APIs (similar to https://docs.gitlab.com/ee/development/internal_api.html) but clearly state / link to how they are used instead.\n\nE.g.\n\n\u003e # External package APIs\n\u003e \n\u003e These APIs are used by different package manager clients, it is not intended to be used directly. This documentation is intended for people working on the GitLab codebase.\n\u003e \n\u003e ## Authentication\n\u003e \n\u003e ....\n\u003e \n\u003e ### Nuget\n\u003e \n\u003e User facing documentation: https://docs.gitlab.com/ee/user/packages/nuget_repository/\n\u003e \n\u003e Request path, params\n\u003e \n\u003e Response details (if relevant)\n\n## APIs involved:\n\n* `ee/lib/api/conan_packages.rb`\n* `ee/lib/api/maven_packages.rb`\n* `ee/lib/api/npm_packages.rb`\n* `ee/lib/api/nuget_packages.rb`\n\n\n## Links\n\n- https://gitlab.com/gitlab-org/gitlab/issues/35798\n- https://gitlab.com/gitlab-org/gitlab/issues/207811","state":"closed","created_at":"2020-02-24T23:23:16.113Z","updated_at":"2020-10-02T20:26:34.479Z","closed_at":"2020-10-02T20:26:34.108Z","closed_by":{"id":3799560,"username":"trizzi","name":"Tim Rizzi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3799560/avatar.png","web_url":"https://gitlab.com/trizzi"},"labels":["Category:Package Registry","Package Repositories","[deprecated] Accepting merge requests","backstage [DEPRECATED]","devops::package","docs-missing","documentation","group::package registry","section::ops"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":2535118,"username":"tkuah","name":"Thong Kuah","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f7b51bdd49a4914d29504d7ff4c3f7b9?s=80\u0026d=identicon","web_url":"https://gitlab.com/tkuah"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/207917","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/207917","notes":"https://gitlab.com/api/v4/projects/278964/issues/207917/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/207917/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":"https://gitlab.com/api/v4/projects/278964/issues/219419"},"references":{"short":"#207917","relative":"#207917","full":"gitlab-org/gitlab#207917"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4524,"epic":{"id":119852,"iid":4524,"title":"Expand the Packages data model and api","url":"/groups/gitlab-org/-/epics/4524","group_id":9970,"human_readable_end_date":"Jun 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31217369,"iid":207904,"project_id":278964,"title":"License Scanning Returns Non-Precise License Types","description":"On DAST, I ran the license manager and the License Compliance widget returned:\n\n\u003e BSD 4-Clause \"Original\" or \"Old\" License Used by EasyProcess, PyVirtualDisplay, click, idna, and webencodings \n\nHowever, when I looked at my requirements.txt\n\n[`EasyProcess`](https://pypi.python.org/pypi/EasyProcess)`==0.2.7`\n[`PyVirtualDisplay`](https://pypi.python.org/pypi/PyVirtualDisplay)`==0.2.4`\n[`click`](https://pypi.python.org/pypi/click)`==4.0`\n[`idna`](https://pypi.python.org/pypi/idna)`==2.7`\n[`webencodings`](https://pypi.python.org/pypi/webencodings)`==0.5.1`\n\nand researched all the licenses for those dependencies, none of the above dependencies use a BSD 4-Clause license. They all use BSD 2.0 or BSD 3.0\n\nSince BSD 4-Clause has terms that are unacceptable, the inaccuracy in License Compliance required that I view the licenses for each dependency individually. Further, I still can not accept the \"BSD 4-Clause\" license since I do not want to accidentally permit any real BSD 4-Clause licensed software. The above dependencies have not been approved, or rejected and will have to live with a grey dot next to them for now.\n\n### Implementation Plan\n\n* [ ] Remove `BSD` from the list of normalized licenses [here](https://gitlab.com/gitlab-org/security-products/license-management/-/blob/d8b18764499ed0378d5f5caf0d68460c39510cfe/normalized-licenses.yml#L13).\n* [ ] Add integration test for `EasyProcess`\n* [ ] Add integration test for `PyVirtualDisplay`\n* [ ] Add integration test for `click`\n* [ ] Add integration test for `idna`.\n* [ ] Add integration test for `webencodings`\n\n### Testing \n\nEngineer to write unit test to ensure that correct mappings for BSD are used\n\nSET to update license end to end tests with variations on the BSD license","state":"closed","created_at":"2020-02-24T21:25:08.189Z","updated_at":"2020-08-27T16:14:52.510Z","closed_at":"2020-08-27T16:14:52.473Z","closed_by":{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"},"labels":["Category:License Compliance","Deliverable","Enterprise Edition","GitLab Ultimate","backend","devops::secure","group::composition analysis","missed-deliverable","missed:13.3","priority::2","quad-planning::complete-action","severity::1","type::bug","workflow::verification"],"milestone":{"id":1233753,"iid":51,"group_id":9970,"title":"13.4","description":"https://about.gitlab.com/releases/2020/09/22/gitlab-13-4-released/","state":"closed","created_at":"2020-04-09T17:39:21.662Z","updated_at":"2022-04-13T14:50:33.769Z","due_date":"2020-09-17","start_date":"2020-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/51"},"assignees":[{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"}],"author":{"id":4310743,"username":"sethgitlab","name":"Seth Berger","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4310743/avatar.png","web_url":"https://gitlab.com/sethgitlab"},"type":"ISSUE","assignee":{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"},"user_notes_count":15,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/207904","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/207904","notes":"https://gitlab.com/api/v4/projects/278964/issues/207904/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/207904/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#207904","relative":"#207904","full":"gitlab-org/gitlab#207904"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1662,"epic":{"id":10152,"iid":1662,"title":"License Compliance (License Scanning) - Minimal to Viable (again)","url":"/groups/gitlab-org/-/epics/1662","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":31215831,"iid":207898,"project_id":278964,"title":"Issues added to epic via API do are not previewed in Epics and Issues tab on Epic page","description":"### Summary\n\nEditing an issue to add it to an epic via the [Issues API](https://docs.gitlab.com/ee/api/issues.html#edit-issue) causes the issue preview to not show up in the Epics and Issues tab on the Epic page.\n\n### Steps to reproduce\n\n1. Edit an issue vial the API to assign it to an Epic.\n2. Navigate to the Epic and note that the issue is not previewed in the Epics and Issues tab.\n\n### What is the current *bug* behavior?\n\nIssue is not previewed in Epics and Issues tab on Epic page when added to epic via Issues API.\n\n### What is the expected *correct* behavior?\n\nIssue preview should show up.\n\n### Relevant logs and/or screenshots\n\n![epic-missing-issue](/uploads/8ce92b65e864c4d01a430a4005992a41/epic-missing-issue.png)\n\nCustomer issue: https://gitlab.zendesk.com/agent/tickets/148124 (internal use)\n\n\nI verified that this worked in 12.7.x but does not work in 12.8.1. Cache clear did not help.","state":"closed","created_at":"2020-02-24T20:05:43.296Z","updated_at":"2021-11-08T16:54:29.607Z","closed_at":"2020-06-15T19:33:53.373Z","closed_by":{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"},"labels":["Breakdown Sufficient","Category:Portfolio Management","backend","customer","devops::plan","epics","group::product planning","missed-SLO","priority::2","regression","regression:12.8","severity::2","type::bug","workflow::verification"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"}],"author":{"id":1625112,"username":"abuerer1","name":"Aric Buerer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1625112/avatar.png","web_url":"https://gitlab.com/abuerer1"},"type":"ISSUE","assignee":{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"},"user_notes_count":10,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/207898","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/207898","notes":"https://gitlab.com/api/v4/projects/278964/issues/207898/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/207898/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#207898","relative":"#207898","full":"gitlab-org/gitlab#207898"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31215279,"iid":207888,"project_id":278964,"title":"Group Level Wiki: BE Roll out feature flag","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## What\n\nRemove the `:group_wikis` feature flag.\n\n## Owners\n\n- Team: ~\"group::knowledge\" \n- Most appropriate slack channel to reach out to: `#g_create_knowledge`\n- Best individual to reach out to: @toupeira \n\n## Expectations\n\n### What are we expecting to happen?\n\n### What might happen if this goes wrong?\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n\n## Beta groups/projects\n\nIf applicable, any groups/projects that are happy to have this feature turned on early. Some organizations may wish to test big changes they are interested in with a small subset of users ahead of time for example.\n\n- `gitlab-org` group\n\n## Roll Out Steps\n\n- [x] Enable on staging\n- [x] Test on staging: https://gitlab.com/gitlab-org/gitlab/-/issues/214783\n- [x] Ensure that documentation has been updated: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/41672\n- [x] Enable on GitLab.com for individual groups/projects listed above and verify behaviour: https://gitlab.com/gitlab-com/gl-infra/production/-/issues/2817\n- [-] Coordinate a time to enable the flag with `#production` and `#g_delivery` on slack.\n- [-] Announce on the issue an estimated time this will be enabled on GitLab.com\n- [-] Enable on GitLab.com by running chatops command in `#production`\n  - [x] Enabled by default via https://gitlab.com/gitlab-org/gitlab/-/merge_requests/45144, including a changelog entry\n- [-] Cross post chatops slack command to `#support_gitlab-com` and in your team channel\n- [-] Announce on the issue that the flag has been enabled\n- [x] Remove feature flag: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/47291\n- [x] After the flag removal is deployed, [clean up the feature flag](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) by running chatops command in `#production` channel","state":"closed","created_at":"2020-02-24T19:39:58.738Z","updated_at":"2020-12-10T18:55:19.193Z","closed_at":"2020-11-16T11:03:37.804Z","closed_by":{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},"labels":["Category:Wiki","Deliverable","Enterprise Edition","GitLab Starter","backend","devops::create","documentation","feature flag","feature::addition","group::editor","section::dev","type::feature"],"milestone":{"id":1233755,"iid":53,"group_id":9970,"title":"13.6","description":"https://about.gitlab.com/releases/2020/11/22/gitlab-13-6-released/","state":"closed","created_at":"2020-04-09T17:39:22.328Z","updated_at":"2022-04-13T14:51:04.376Z","due_date":"2020-11-17","start_date":"2020-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/53"},"assignees":[{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"}],"author":{"id":4669960,"username":"cdybenko","name":"Christen Dybenko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4669960/avatar.png","web_url":"https://gitlab.com/cdybenko"},"type":"ISSUE","assignee":{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/207888","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":7,"completed_count":7},"weight":1,"blocking_issues_count":1,"has_tasks":true,"task_status":"7 of 7 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/207888","notes":"https://gitlab.com/api/v4/projects/278964/issues/207888/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/207888/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#207888","relative":"#207888","full":"gitlab-org/gitlab#207888"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2214,"epic":{"id":15108,"iid":2214,"title":"[MVC 1] Group-level wiki - Support one wiki at group level","url":"/groups/gitlab-org/-/epics/2214","group_id":9970,"human_readable_end_date":"Nov 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31215275,"iid":207886,"project_id":278964,"title":"Group Level Wiki: BE Add Group Level Import / Export","description":"## Problem to solve\n\nAt the moment, groups can be imported/exported using the API (group import/export, but it's only accessible through an API: https://docs.gitlab.com/ee/api/group_import_export.html#group-importexport-api).\n\nThe current export file does not contain the group wiki.\n\n\n## Proposal\n\nAdapt the current group import/export code to include the group's wiki.\n\n### Additional use case\n\nFor some customers, there may be group wiki data available on the backend that is no longer available in the app. For example, if they started on a trial of Premium then chose not to continue with the plan after their trial expired. We would want to ensure that the API is able to export group wiki data regardless of the user's current plan. If we can do that, we will be able to close out https://gitlab.com/gitlab-org/gitlab/-/issues/296767 as well.","state":"closed","created_at":"2020-02-24T19:39:54.985Z","updated_at":"2021-11-04T13:00:25.015Z","closed_at":"2021-02-11T08:27:39.788Z","closed_by":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier L√≥pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"labels":["Category:Wiki","Deliverable","backend","devops::create","group::editor","section::dev","type::feature"],"milestone":{"id":1233760,"iid":56,"group_id":9970,"title":"13.9","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.334Z","updated_at":"2022-04-21T07:21:28.468Z","due_date":"2021-02-17","start_date":"2021-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/56"},"assignees":[{"id":955795,"username":"fjsanpedro","name":"Francisco Javier L√≥pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"}],"author":{"id":4669960,"username":"cdybenko","name":"Christen Dybenko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4669960/avatar.png","web_url":"https://gitlab.com/cdybenko"},"type":"ISSUE","assignee":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier L√≥pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/207886","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/207886","notes":"https://gitlab.com/api/v4/projects/278964/issues/207886/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/207886/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#207886","relative":"#207886","full":"gitlab-org/gitlab#207886"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2746,"epic":{"id":25009,"iid":2746,"title":"[EPIC] Group-level wiki - Customers can import","url":"/groups/gitlab-org/-/epics/2746","group_id":9970,"human_readable_end_date":"Feb 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31215270,"iid":207883,"project_id":278964,"title":"Group Level Wiki: FE Link to Group wiki in UI","description":"## Problem to solve\n\nNote: **This issue is a child of the Group Level Wiki Implementation Epic**  https://gitlab.com/groups/gitlab-org/-/epics/2214\n\nWe need to expose the new group wikis in the left sidebar.\n\n## Proposal\n\n\u003c!-- How are we going to solve the problem? Try to include the user journey! https://about.gitlab.com/handbook/journeys/#user-journey --\u003e\n\nAdd a `Wiki` section as on projects, with no sub-sections:\n\n![image](/uploads/70888a374ff1a9be4129ff11fa3e85f1/image.png)\n\n### Tentative MR Breakdown\n\nThis should be a small change and can be done in 1 MR.\n\n\n## Intended users\n\nThere are over 600 upvotes on the [original issue](https://gitlab.com/gitlab-org/gitlab/issues/13195). \nUsers of any persona who have access at the Group Level can use and create a wiki. System Administrators and Company Leaders most want to share information across projects.\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n\n\n## Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?--\u003e\n \nOnly show the link if the user has permission to access group wikis.\n\nWe can use the existing policy checks introduced in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/29176, these will also check if the feature flag is enabled.\n\n## Testing\n\n### Testing Approach\n\n* [ ] Add/update feature specs for this.\n\n### Success Criteria\n\n* [ ] Group wikis can be accessed through the sidebar.\n\n### What does success look like, and how can we measure that?\n\n\u003c!-- Define both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. --\u003e\n\n\n### Links / references","state":"closed","created_at":"2020-02-24T19:39:50.027Z","updated_at":"2020-12-10T18:55:20.325Z","closed_at":"2020-07-20T06:03:56.319Z","closed_by":{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"},"labels":["Category:Wiki","Deliverable","Enterprise Edition","GitLab Starter","devops::create","frontend","group::editor","type::feature","workflow::production"],"milestone":{"id":1233746,"iid":49,"group_id":9970,"title":"13.2","description":"https://about.gitlab.com/releases/2020/07/22/gitlab-13-2-released/","state":"closed","created_at":"2020-04-09T17:28:01.032Z","updated_at":"2022-04-13T14:48:24.167Z","due_date":"2020-07-17","start_date":"2020-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/49"},"assignees":[{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"}],"author":{"id":4669960,"username":"cdybenko","name":"Christen Dybenko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4669960/avatar.png","web_url":"https://gitlab.com/cdybenko"},"type":"ISSUE","assignee":{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"},"user_notes_count":27,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/207883","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/207883","notes":"https://gitlab.com/api/v4/projects/278964/issues/207883/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/207883/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#207883","relative":"#207883","full":"gitlab-org/gitlab#207883"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2214,"epic":{"id":15108,"iid":2214,"title":"[MVC 1] Group-level wiki - Support one wiki at group level","url":"/groups/gitlab-org/-/epics/2214","group_id":9970,"human_readable_end_date":"Nov 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31215250,"iid":207872,"project_id":278964,"title":"Group Level Wiki: BE Refactor Wiki Permissions to support Group Level Wiki","description":"## Problem to solve\n\nOur policy objects need to support group wikis.\n\nNote: **This issue is a child of the Group Level Wiki Implementation Epic**  https://gitlab.com/groups/gitlab-org/-/epics/2214\n\n## Proposal\n\n\u003c!-- How are we going to solve the problem? Try to include the user journey! https://about.gitlab.com/handbook/journeys/#user-journey --\u003e\n\n- Introduce new wiki abilities on group objects, reusing as much of the existing project policies as possible.\n- Check if any other project abilities are needed for wikis, that aren't present on groups.\n\nWe want to reuse the same ability names, i.e.:\n\n```ruby\ncan?(user, :read_wiki, project)\ncan?(user, :read_wiki, group)\n\n# rather than\ncan?(user, :read_project_wiki, project)\ncan?(user, :read_group_wiki, group)\n```\n\n### Tentative MR Breakdown\n\nOnly one MR is predicted for now.\n\n## Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?--\u003e\n\n**Role-Based Access Control (RBAC)**\n\n*RBAC* restricts access based on a person's role. Should any Role-Based Access Controls be reviewed or added based on this issue?  `Yes/No`\n\n**Permission Based Access Control**\n\n*Permission Based Access Control* determines the type of access allowed (e.g: Read, Write, Delete, etc). Should any Permission Based Access Controls be reviewed or added based on this issue?  `Yes/No`\n\n\n[More Authentication and Authorization](https://owasp.org/www-project-cheat-sheets/cheatsheets/Access_Control_Cheat_Sheet)\n \n\n\n\n## Documentation (remove if not applicable)\n \n\n\nThis issue does require the creation of documentation.\n- Although there are no additional permissions, it will be necessary to update the Permissions Doc to represent Group Level Wikis.\n\n## Testing\n\n### Testing Approach\nBy taking just a little extra time in our test approach to think about testing in general, we can save hours of work rolling back a release or producing hotfixes. A few areas to consider are boundaries, configuration settings, counts, CRUD,Depth,Soap Operas and Extreme Personalities. More can be found [here](https://about.gitlab.com/handbook/engineering/quality/test-engineering/#heuristic-glossary). \n\nWe will ensure there are multiple tests with different permission configurations to make sure the Web UI, the REST API and GraphQL return the same level of data and avoid data leaks.\n\n* [ ] Analyze the existing project wiki specific tests. Is it covered at the appropriate level?\n* [ ] Adapt existing tests for project wikis to group wikis.\\`\n\n\n### Success Criteria\n\n* [ ] Our existing wiki abilities can be used with either projects or groups.\n\n### Links / references","state":"closed","created_at":"2020-02-24T19:39:28.241Z","updated_at":"2020-12-10T18:55:20.814Z","closed_at":"2020-04-15T16:01:14.842Z","closed_by":{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},"labels":["Category:Wiki","backend","devops::create","documentation","group::editor","quad-planning::complete-action","security-planning","type::feature"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"}],"author":{"id":4669960,"username":"cdybenko","name":"Christen Dybenko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4669960/avatar.png","web_url":"https://gitlab.com/cdybenko"},"type":"ISSUE","assignee":{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/207872","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/207872","notes":"https://gitlab.com/api/v4/projects/278964/issues/207872/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/207872/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#207872","relative":"#207872","full":"gitlab-org/gitlab#207872"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2214,"epic":{"id":15108,"iid":2214,"title":"[MVC 1] Group-level wiki - Support one wiki at group level","url":"/groups/gitlab-org/-/epics/2214","group_id":9970,"human_readable_end_date":"Nov 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31215249,"iid":207871,"project_id":278964,"title":"Group Level Wiki: BE Create a new GitAccessWiki to support Group Wikis","description":"## Problem to solve\n\nWe have a `GitAccessWiki` class which implements permission checks for project wikis. We need to either reuse this for group wikis, or implement a similar class.\n\nNote: **This issue is a child of the Group Level Wiki Implementation Epic**  https://gitlab.com/groups/gitlab-org/-/epics/2214\n\n## Proposal\n\n\u003c!-- How are we going to solve the problem? Try to include the user journey! https://about.gitlab.com/handbook/journeys/#user-journey --\u003e\n\n- Investigate what the project-specific code is in the existing `GitAccessWiki`, and decide on whether we can generalize it or prefer having a custom class for group wikis.\n- Implement the changes.\n\n\n### Tentative MR Breakdown\n\nOnly one MR is predicted for now.\n\n## Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?--\u003e\n\nUse the permissions established in https://gitlab.com/gitlab-org/gitlab/issues/207872.\n\n## Documentation (remove if not applicable)\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html\nAdd all known Documentation Requirements here, per https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements\nIf this feature requires changing permissions, this document https://docs.gitlab.com/ee/user/permissions.html must be updated accordingly. --\u003e\n\n\nThis issue `does / does not` require the creation of documentation.\n\n## Testing\n\n### Testing Approach\n\n* [ ] Analyze the existing project wiki specific tests. Is it covered at the appropriate level?\n* [ ] Adapt existing tests for project wikis to group wikis.`\n \n### Success Criteria\n\n* [ ] We have a tested `GitAccess` class for use with group wikis.\n\n### Links / references","state":"closed","created_at":"2020-02-24T19:39:27.081Z","updated_at":"2020-12-10T18:55:21.371Z","closed_at":"2020-08-03T16:34:35.535Z","closed_by":{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"},"labels":["Category:Wiki","Deliverable","Enterprise Edition","GitLab Starter","backend","devops::create","group::editor","missed-deliverable","missed:13.2","quad-planning::complete-no-action","type::feature","workflow::production"],"milestone":{"id":1233752,"iid":50,"group_id":9970,"title":"13.3","description":"https://about.gitlab.com/releases/2020/08/22/gitlab-13-3-released/","state":"closed","created_at":"2020-04-09T17:39:21.090Z","updated_at":"2022-04-13T14:50:18.976Z","due_date":"2020-08-17","start_date":"2020-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/50"},"assignees":[{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"}],"author":{"id":4669960,"username":"cdybenko","name":"Christen Dybenko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4669960/avatar.png","web_url":"https://gitlab.com/cdybenko"},"type":"ISSUE","assignee":{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"},"user_notes_count":19,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/207871","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/207871","notes":"https://gitlab.com/api/v4/projects/278964/issues/207871/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/207871/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#207871","relative":"#207871","full":"gitlab-org/gitlab#207871"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2214,"epic":{"id":15108,"iid":2214,"title":"[MVC 1] Group-level wiki - Support one wiki at group level","url":"/groups/gitlab-org/-/epics/2214","group_id":9970,"human_readable_end_date":"Nov 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31215248,"iid":207870,"project_id":278964,"title":"Group Level Wiki: BE Add actions to the PostReceive service","description":"## Problem to solve\n\nTo get Git pushes working correctly, we need to adapt the `PostReceive` service for the new group wiki models, and update the actions we perform. For example, calculate the wiki repository size.\n\nNote: **This issue is a child of the Group Level Wiki Implementation Epic**  https://gitlab.com/groups/gitlab-org/-/epics/2214\n\n## Proposal\n\n\u003c!-- How are we going to solve the problem? Try to include the user journey! https://about.gitlab.com/handbook/journeys/#user-journey --\u003e\n\nAdjust `PostReceive` similar to the changes in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/21739.\n\n### Tentative MR Breakdown\n\nOnly one MR is predicted for now.\n\n## Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?--\u003e\n\nUse the permissions established in https://gitlab.com/gitlab-org/gitlab/issues/207872.\n\n## Documentation (remove if not applicable)\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html\nAdd all known Documentation Requirements here, per https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements\nIf this feature requires changing permissions, this document https://docs.gitlab.com/ee/user/permissions.html must be updated accordingly. --\u003e\n\n\nThis issue `does not` require the creation of documentation.\n\n## Testing\n\n### Testing Approach\n\n* [ ] Analyze the existing project wiki specific tests. Is it covered at the appropriate level?\n* [ ] Adapt existing tests for project wikis to group wikis.\n\n### Success Criteria\n\n* [ ] `PostReceive` runs without errors when pushing to a group wiki repository.\n\n### Links / references","state":"closed","created_at":"2020-02-24T19:39:25.744Z","updated_at":"2020-12-10T18:55:21.967Z","closed_at":"2020-09-15T12:41:43.704Z","closed_by":{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},"labels":["Category:Wiki","Deliverable","Enterprise Edition","GitLab Starter","backend","devops::create","group::editor","section::dev","type::feature"],"milestone":{"id":1233753,"iid":51,"group_id":9970,"title":"13.4","description":"https://about.gitlab.com/releases/2020/09/22/gitlab-13-4-released/","state":"closed","created_at":"2020-04-09T17:39:21.662Z","updated_at":"2022-04-13T14:50:33.769Z","due_date":"2020-09-17","start_date":"2020-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/51"},"assignees":[{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"}],"author":{"id":4669960,"username":"cdybenko","name":"Christen Dybenko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4669960/avatar.png","web_url":"https://gitlab.com/cdybenko"},"type":"ISSUE","assignee":{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/207870","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":0},"weight":3,"blocking_issues_count":1,"has_tasks":true,"task_status":"0 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/207870","notes":"https://gitlab.com/api/v4/projects/278964/issues/207870/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/207870/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#207870","relative":"#207870","full":"gitlab-org/gitlab#207870"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2214,"epic":{"id":15108,"iid":2214,"title":"[MVC 1] Group-level wiki - Support one wiki at group level","url":"/groups/gitlab-org/-/epics/2214","group_id":9970,"human_readable_end_date":"Nov 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":31215247,"iid":207869,"project_id":278964,"title":"Group Level Wiki: BE Support Git access for Group Wikis","description":"## Problem to solve\n\nGroup wiki repositories need to be accessible through Git over HTTP and SSH.\n\nNote: **This issue is a child of the Group Level Wiki Implementation Epic**  https://gitlab.com/groups/gitlab-org/-/epics/2214\n\n## Proposal\n\n\u003c!-- How are we going to solve the problem? Try to include the user journey! https://about.gitlab.com/handbook/journeys/#user-journey --\u003e\n\nAdd all necessary Git routes, similar to the changes in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/21739\n:\n- The controllers in `app/controllers/repositories` are used for HTTP access.\n- The `allowed` endpoint in `lib/api/internal/base.rb` is used for SSH access (through gitlab-shell).\n\nLFS support is out of scope for this issue, and will be addressed with https://gitlab.com/gitlab-org/gitlab/-/issues/271569.\n\n## Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?--\u003e\n\nUse the permissions established in https://gitlab.com/gitlab-org/gitlab/issues/207872.\n\n## Documentation (remove if not applicable)\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html\nAdd all known Documentation Requirements here, per https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements\nIf this feature requires changing permissions, this document https://docs.gitlab.com/ee/user/permissions.html must be updated accordingly. --\u003e\n\nUpdate https://docs.gitlab.com/ee/user/group/index.html#group-wikis-limitations\n\n### Success Criteria\n\n* Group wiki repositories can be accessed over HTTP (clone/push)\n* Group wiki repositories can be accessed over SSH (clone/push)","state":"closed","created_at":"2020-02-24T19:39:24.500Z","updated_at":"2021-06-14T16:08:02.874Z","closed_at":"2020-12-16T15:42:08.881Z","closed_by":{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},"labels":["Category:Wiki","Enterprise Edition","GitLab Premium","Stretch","backend","devops::create","group::editor","section::dev","type::feature"],"milestone":{"id":1233757,"iid":54,"group_id":9970,"title":"13.7","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:43:14.893Z","updated_at":"2022-04-13T14:51:12.240Z","due_date":"2020-12-17","start_date":"2020-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/54"},"assignees":[{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"}],"author":{"id":4669960,"username":"cdybenko","name":"Christen Dybenko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4669960/avatar.png","web_url":"https://gitlab.com/cdybenko"},"type":"ISSUE","assignee":{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},"user_notes_count":15,"merge_requests_count":0,"upvotes":5,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/207869","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":3,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/207869","notes":"https://gitlab.com/api/v4/projects/278964/issues/207869/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/207869/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#207869","relative":"#207869","full":"gitlab-org/gitlab#207869"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2782,"epic":{"id":26783,"iid":2782,"title":"[MVC 2] Group-level wiki: Feature parity with project wikis (git, search)","url":"/groups/gitlab-org/-/epics/2782","group_id":9970,"human_readable_end_date":"Apr 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31215246,"iid":207868,"project_id":278964,"title":"Group Level Wiki: BE Add the git routes to allow repository pushes from ssh and http","description":"## Problem to solve\n\nGroup wiki repositories need to be able to receive Git pushes over HTTP and SSH.\n\nNote: **This issue is a child of the Group Level Wiki Implementation Epic**  https://gitlab.com/groups/gitlab-org/-/epics/2214\n\n## Proposal\n\n\u003c!-- How are we going to solve the problem? Try to include the user journey! https://about.gitlab.com/handbook/journeys/#user-journey --\u003e\n\nContinue the work in https://gitlab.com/gitlab-org/gitlab/issues/207865 to implement support for Git pushes.\n\n### Tentative MR Breakdown\n\nOnly one MR is predicted for now.\n\n## Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?--\u003e\n\nUse the permissions established in https://gitlab.com/gitlab-org/gitlab/issues/207872.\n\n## Documentation (remove if not applicable)\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html\nAdd all known Documentation Requirements here, per https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements\nIf this feature requires changing permissions, this document https://docs.gitlab.com/ee/user/permissions.html must be updated accordingly. --\u003e\n\n\nThis issue `does not` require the creation of documentation.\n\n## Testing\n\n### Testing Approach\n\n* [ ] Analyze the existing project wiki specific tests. Is it covered at the appropriate level?\n* [ ] Adapt existing tests for project wikis to group wikis.\n\n### Success Criteria\n\n* [ ] Group wiki repositories can be pushed over HTTP\n* [ ] Group wiki repositories can be pushed over SSH\n\n### Links / references","state":"closed","created_at":"2020-02-24T19:39:23.231Z","updated_at":"2020-12-10T18:55:22.688Z","closed_at":"2020-10-23T12:02:04.602Z","closed_by":{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},"labels":["Category:Wiki","Enterprise Edition","GitLab Starter","[deprecated] Accepting merge requests","backend","devops::create","group::editor","section::dev","type::feature","workflow::ready for development"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":4669960,"username":"cdybenko","name":"Christen Dybenko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4669960/avatar.png","web_url":"https://gitlab.com/cdybenko"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/207868","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/207868","notes":"https://gitlab.com/api/v4/projects/278964/issues/207868/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/207868/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#207868","relative":"#207868","full":"gitlab-org/gitlab#207868"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2782,"epic":{"id":26783,"iid":2782,"title":"[MVC 2] Group-level wiki: Feature parity with project wikis (git, search)","url":"/groups/gitlab-org/-/epics/2782","group_id":9970,"human_readable_end_date":"Apr 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31215142,"iid":207867,"project_id":278964,"title":"Group Level Wiki: BE Refactor Wiki Services to support Group Level Wiki","description":"## Problem to solve\n\nThe service classes for project wikis need to be adapted to also work with group wikis.\n\nNote: **This issue is a child of the Group Level Wiki Implementation Epic**  https://gitlab.com/groups/gitlab-org/-/epics/2214\n\n## Proposal\n\n\u003c!-- How are we going to solve the problem? Try to include the user journey! https://about.gitlab.com/handbook/journeys/#user-journey --\u003e\n\nReview service classes, see if we can simply replace `project` with `container`, or if we need custom handling for project and/or group wikis.\n\n### Tentative MR Breakdown\n\n1. Adapting `BaseService` to accept groups https://gitlab.com/gitlab-org/gitlab/-/merge_requests/30681\n1. Adapting `WikiPage` related services https://gitlab.com/gitlab-org/gitlab/-/merge_requests/31169\n1. Adapting `Wikis::CreateAttachmentService` https://gitlab.com/gitlab-org/gitlab/-/merge_requests/31195\n1. Adapting `WikiPushService` (outside MVP, blocked by #215315)\n1. Geo support (`RepositoryBaseSyncService` and `WikiSyncService`) (outside MVP) https://gitlab.com/gitlab-org/gitlab/-/issues/208147\n\n## Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?--\u003e\n\nUse the permissions established in https://gitlab.com/gitlab-org/gitlab/issues/207872.\n\n## Documentation (remove if not applicable)\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html\nAdd all known Documentation Requirements here, per https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements\nIf this feature requires changing permissions, this document https://docs.gitlab.com/ee/user/permissions.html must be updated accordingly. --\u003e\n\nThis issue `does not` require the creation of documentation.\n\n## Testing\n\n### Testing Approach\n\n* [ ] Analyze the existing project wiki specific tests. Is it covered at the appropriate level?\n* [ ] Adapt existing tests for project wikis to group wikis.\n \n### Success Criteria\n\n* [ ] Service classes for group wikis are working and tested.\n\n### Links / references","state":"closed","created_at":"2020-02-24T19:36:29.238Z","updated_at":"2020-12-10T18:55:23.291Z","closed_at":"2020-05-18T18:40:25.465Z","closed_by":{"id":4669960,"username":"cdybenko","name":"Christen Dybenko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4669960/avatar.png","web_url":"https://gitlab.com/cdybenko"},"labels":["Category:Wiki","Deliverable","Enterprise Edition","GitLab Starter","backend","devops::create","group::editor","quad-planning::complete-no-action","type::feature","workflow::verification"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"}],"author":{"id":4669960,"username":"cdybenko","name":"Christen Dybenko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4669960/avatar.png","web_url":"https://gitlab.com/cdybenko"},"type":"ISSUE","assignee":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/207867","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/207867","notes":"https://gitlab.com/api/v4/projects/278964/issues/207867/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/207867/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#207867","relative":"#207867","full":"gitlab-org/gitlab#207867"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2214,"epic":{"id":15108,"iid":2214,"title":"[MVC 1] Group-level wiki - Support one wiki at group level","url":"/groups/gitlab-org/-/epics/2214","group_id":9970,"human_readable_end_date":"Nov 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31214949,"iid":207865,"project_id":278964,"title":"Group Level Wiki: BE Add basic support for Git routes","description":"## Problem to solve\n\nWe need to able to address group wiki repositories from inside GitLab, so when editing wikis through our UI we can create commits.\n\nNote: **This issue is a child of the Group Level Wiki Implementation Epic**  https://gitlab.com/groups/gitlab-org/-/epics/2214\n\n## Proposal\n\n\u003c!-- How are we going to solve the problem? Try to include the user journey! https://about.gitlab.com/handbook/journeys/#user-journey --\u003e\n\nAdd all required Git routes, similar to the changes in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/21739.\n\nNot all of this is necessary yet, we'll focus on external access over SSH/HTTP in https://gitlab.com/gitlab-org/gitlab/issues/207869.\n\n### Feature Flag\n\nAny user-accessible routes need to be behind a group-level feature flag named `group_wiki`.\n\n### Tentative MR Breakdown\n\nOnly one MR is predicted for now.\n\n## Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?--\u003e\n\nUse the permissions established in https://gitlab.com/gitlab-org/gitlab/issues/207872.\n\n## Documentation (remove if not applicable)\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html\nAdd all known Documentation Requirements here, per https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements\nIf this feature requires changing permissions, this document https://docs.gitlab.com/ee/user/permissions.html must be updated accordingly. --\u003e\n\nThis issue `does not` require the creation of documentation.\n\n## Testing\n\n### Testing Approach\n\n* [ ] Analyze the existing project wiki specific tests. Is it covered at the appropriate level?\n* [ ] Adapt existing tests for project wikis to group wikis.\n \n### Success Criteria\n\n* [ ] Group wiki repositories can be accessed from inside GitLab\n\n### Links / references","state":"closed","created_at":"2020-02-24T19:31:10.921Z","updated_at":"2020-12-10T18:55:23.789Z","closed_at":"2020-05-18T16:49:07.562Z","closed_by":{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},"labels":["Category:Wiki","Deliverable","Enterprise Edition","GitLab Starter","backend","devops::create","group::editor","quad-planning::complete-no-action","security-planning","type::feature"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"}],"author":{"id":4669960,"username":"cdybenko","name":"Christen Dybenko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4669960/avatar.png","web_url":"https://gitlab.com/cdybenko"},"type":"ISSUE","assignee":{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/207865","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/207865","notes":"https://gitlab.com/api/v4/projects/278964/issues/207865/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/207865/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#207865","relative":"#207865","full":"gitlab-org/gitlab#207865"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2214,"epic":{"id":15108,"iid":2214,"title":"[MVC 1] Group-level wiki - Support one wiki at group level","url":"/groups/gitlab-org/-/epics/2214","group_id":9970,"human_readable_end_date":"Nov 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31214696,"iid":207864,"project_id":278964,"title":"Group Level Wiki: BE Refactor Wiki Models to support Group Level Wiki","description":"## Problem to solve\n\nRefactor the existing Wiki Models and create Group Wiki Model.\n\nNote: **This issue is a child of the Group Level Wiki Implementation Epic**  https://gitlab.com/groups/gitlab-org/-/epics/2214\n\n \n\n## Proposal\n\n- Refactor existing models to use idea of container\n- Change code that references those models (like the services)\n- Add new models and share behavior with either modules or inheritance of an abstract class\n  \n\n\n### Tentative MR Breakdown\n\n1. [ ] Refactor `ProjectWiki`\n1. [ ] Refactor `WikiPage`\n\n## Documentation (remove if not applicable)\n \nThis issue does not  require the creation of documentation.\n\n## Testing\n\n### Testing Approach\n\n \n* [ ] Analyze the existing Model Specific tests. Is it covered at the appropriate level? (CRUD specs included)\n* [ ] Adapt existing Model Specific test from Project Wikis to Group Wikis\n\n\n### Success Criteria\n\n* [ ]  None of the existing tests are breaking\n* [ ]  Ability to create a Group Wiki Model with a repository\n* [ ]  End to End Tests have been written (remove if not applicable)\n\n\n### What does success look like, and how can we measure that?\n\nThere is no user interface for this.\n\n\n### Links / references","state":"closed","created_at":"2020-02-24T19:22:42.993Z","updated_at":"2020-12-10T18:55:24.327Z","closed_at":"2020-04-27T14:35:41.994Z","closed_by":{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},"labels":["Category:Wiki","Deliverable","backend","devops::create","group::editor","missed-deliverable","missed:12.10","type::feature","workflow::verification"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"}],"author":{"id":4669960,"username":"cdybenko","name":"Christen Dybenko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4669960/avatar.png","web_url":"https://gitlab.com/cdybenko"},"type":"ISSUE","assignee":{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/207864","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":7,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 7 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/207864","notes":"https://gitlab.com/api/v4/projects/278964/issues/207864/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/207864/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#207864","relative":"#207864","full":"gitlab-org/gitlab#207864"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2214,"epic":{"id":15108,"iid":2214,"title":"[MVC 1] Group-level wiki - Support one wiki at group level","url":"/groups/gitlab-org/-/epics/2214","group_id":9970,"human_readable_end_date":"Nov 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null}]