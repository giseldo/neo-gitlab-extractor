[{"id":74943051,"iid":288015,"project_id":278964,"title":"[ENG] Show more info on hover of trial status in sidebar","description":"Child of #220930.\n\n- [x] Use hover interaction to display a popover with more information in it\n  - Close popover when the user hovers out of the bounds of the widget and/or popover\n- [x] Include buttons to `[Upgrade {group name} to Ultimate]` \u0026 `[Compare plans]`\n- ~~Track which namespaces on in the control vs. experimental cohorts~~\n- ~~Track the view rate of the popover by the experiment group~~\n- ~~Track the view-to-click rate by the experiment group~~\n- ~~Report on the average and median number of views per user or namespace for the experiment group~~\n- ~~Track the trial upgrade rate of the control vs. experimental cohorts~~\n  - ~~Use the `ExperimentSubject`’s `converted_at` column as a shortcut to this data~~\n\n### Additional Notes\n\n* As we’re in the midst of [EoA for Gold, Silver, \u0026 Bronze plans](https://gitlab.com/groups/gitlab-org/-/epics/4838), we’ll also need to pivot the language in the widget \u0026 popover to match the new plans: Premium \u0026 Ultimate.\n* It could be interesting to A/B test the whole sidebar item being clickable as the expected action to take and the sidebar item *not* being clickable but hover-able to show a popover which then has buttons of actions to take","state":"closed","created_at":"2020-11-25T01:23:49.337Z","updated_at":"2021-11-15T20:04:49.389Z","closed_at":"2021-03-03T21:53:44.070Z","closed_by":{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"},"labels":["DEPRECATED Growth-Deliverable","Deliverable","Engineering","devops::growth","group::acquisition","growth experiment","link::child issue","milestone::p1","missed-deliverable","missed:13.9","section::growth"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"}],"author":{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"},"type":"ISSUE","assignee":{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"},"user_notes_count":20,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/288015","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":2},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/288015","notes":"https://gitlab.com/api/v4/projects/278964/issues/288015/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/288015/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#288015","relative":"#288015","full":"gitlab-org/gitlab#288015"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3540,"epic":{"id":64886,"iid":3540,"title":"[ENG] Display active trial status","url":"/groups/gitlab-org/-/epics/3540","group_id":9970,"human_readable_end_date":"Aug 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":74943010,"iid":288014,"project_id":278964,"title":"[ENG] Add current trial status for namespace to sidebar","description":"Child of #220930.\n\n* [x] Create a new experiment feature flag\n* [x] Pivot the experiment on the Group (namespace) rather than User\n* [x] Only include the new sidebar item for **owners** of the Group who are **not** members (of any sort) or guests of any namespace which currently has a **paid** account.\n* No popover on hover, we’ll make the whole sidebar item clickable and take them to the billing page for that namespace\n* [x] Track which namespaces are in the control vs. experimental cohorts – will be taken care of by using `record_experiment_subject(…)` [once that becomes available](https://gitlab.com/gitlab-org/gitlab/-/issues/289941)\n* [-] ~~Track click rate of the info-button – will be handled by a standard Snowplow event~~\n* [-] ~~Track the trial upgrade rate of the control vs. experimental cohorts – will use [the new `record_experiment_conversion_event(…)` helper method](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/47093/diffs#e144dfd347015d2b0549c608b4834441469ac88e_70_70).~~\n\nMoved the last two items to their own issue: #300728","state":"closed","created_at":"2020-11-25T01:21:15.531Z","updated_at":"2021-09-28T22:34:02.605Z","closed_at":"2021-01-11T18:45:05.649Z","closed_by":{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"},"labels":["DEPRECATED Growth-Deliverable","Deliverable","Engineering","devops::growth","group::acquisition","growth experiment","link::child issue","milestone::p1","missed-deliverable","missed:13.6","missed:13.7","section::growth"],"milestone":{"id":1233759,"iid":55,"group_id":9970,"title":"13.8","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:13.983Z","updated_at":"2022-04-13T14:51:23.220Z","due_date":"2021-01-17","start_date":"2020-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/55"},"assignees":[{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"}],"author":{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"},"type":"ISSUE","assignee":{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/288014","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":4},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"4 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/288014","notes":"https://gitlab.com/api/v4/projects/278964/issues/288014/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/288014/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#288014","relative":"#288014","full":"gitlab-org/gitlab#288014"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3540,"epic":{"id":64886,"iid":3540,"title":"[ENG] Display active trial status","url":"/groups/gitlab-org/-/epics/3540","group_id":9970,"human_readable_end_date":"Aug 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":74941300,"iid":288010,"project_id":278964,"title":"Permission errors running dast tests on Linux/docker-machine","description":"### Summary\n\nwhen i try to run `bash_unit test/end-to-end/test-baseline.sh` on my local development machine, or anything that mounts a local directory inside the `dast` container, i get a series of permission errors that prevent the tests from running. \n\nthis appears to be because the `uid` of the current user (`zap`) doesn't match the `uid` of `/zap/wrk/`.\n\n### Steps to reproduce\n\n- [setup `docker-machine` to use `virtual-box`](https://docs.docker.com/machine/drivers/virtualbox/)\n- build `dast` docker image (e.g. `docker build -t dast .`)\n- run test (e.g. `bash_unit test/end-to-end/test-baseline.sh`)\n\n### Relevant logs and/or screenshots\n\n```\n==\u003e test/end-to-end/output/test_baseline_scan_using_t.log \u003c==\ntruncate: cannot open 'zap.out' for writing: Permission denied\ntruncate: cannot open '/output/browserker.log' for writing: Permission denied\ntail: cannot open 'zap.out' for reading: No such file or directory\ntail: no files remaining\ntail: cannot open '/output/browserker.log' for reading: No such file or directory\ntail: no files remaining\n2020-11-24 23:29:55,392 Running DAST v1.33.1 on Python 3.8.6 (default, Sep 25 2020, 09:36:53) [GCC 10.2.0]\n2020-11-24 23:29:55,392 waiting for http://nginx to be available\n2020-11-24 23:29:55,392 Requesting access to http://nginx...\n2020-11-24 23:29:55,394 Starting new HTTP connection (1): nginx:80\n2020-11-24 23:29:55,397 http://nginx:80 \"GET / HTTP/1.1\" 200 345\n2020-11-24 23:29:55,397 writing zap log configuration\n2020-11-24 23:29:55,398 Starting the ZAP Server\n2020-11-24 23:29:55,398 Running ZAP with parameters ['/zap/zap.sh', '-daemon', '-config', 'proxy.reverseProxy.use=1', '-config', 'proxy.reverseProxy.ip=0.0.0.0', '-config', 'proxy.reverseProxy.httpPort=57262', '-dir', '/app/zap', '-config', 'api.disablekey=true', '-config', 'api.addrs.addr.name=.*', '-config', 'api.addrs.addr.regex=true', '-config', 'selenium.firefoxDriver=/usr/bin/geckodriver', '-config', 'spider.maxDuration=1', '-silent', '-config', 'globalalertfilter.filters.filter(0).ruleid=10096', '-config', 'globalalertfilter.filters.filter(0).url=.*', '-config', 'globalalertfilter.filters.filter(0).urlregex=true', '-config', 'globalalertfilter.filters.filter(0).newrisk=-1', '-config', 'globalalertfilter.filters.filter(0).enabled=true']\n2020-11-24 23:29:55,399 Unhandled exception has been thrown, aborting.\nTraceback (most recent call last):\n  File \"/app/src/dast.py\", line 23, in start\n    scan.run()\n  File \"/app/src/scan_script_wrapper.py\", line 43, in run\n    zap_daemon = self.zap_server.start()\n  File \"/app/src/zap_gateway/zap_server.py\", line 50, in start\n    daemon_process = self.system.run(parameters=parameters, output_file_name=ZAPServer.LOG_FILE)\n  File \"/app/src/system.py\", line 51, in run\n    with open(output_file_name, 'w') as out_file:\nPermissionError: [Errno 13] Permission denied: 'zap.out'\n```\n\n### Iteractive Session\n\n#### Observations\n\n- permissions for `/zap` and `/zap/wrk` differ\n- `uid` for `/zap/wrk` differs from `id -u`\n\n#### Container\n\n```\n% docker run -it --rm -v \"${PWD}\":/zap/wrk dast /bin/bash                                                                                                                                                   \nzap@bcd522c1f2ba:/output$ ls -la /zap/wrk/\ntotal 1632\ndrwxr-xr-x 1 browserker staff    1088 Nov 24 06:19 .\ndrwxrwxrwx 1 zap        zap      4096 Nov 24 23:52 ..\n-rw-r--r-- 1 browserker staff     206 Apr 22  2020 .editorconfig\n-rw-r--r-- 1 browserker staff      97 Aug 18 03:57 .flake8\n# snip...\n\nzap@bcd522c1f2ba:/output$ touch /zap/wrk/hello-world.log\ntouch: cannot touch '/zap/wrk/hello-world.log': Permission denied\n\nzap@bcd522c1f2ba:/output$ whoami\nzap\n\nzap@bcd522c1f2ba:~$ ls -la /\ntotal 84\ndrwxr-xr-x   1 root       root       4096 Nov 24 23:52 .\ndrwxr-xr-x   1 root       root       4096 Nov 24 23:52 ..\ndrwxr-xr-x   1 zap        zap        4096 Nov 24 06:15 app\ndrwxr-xr-x   1 browserker browserker 4096 Nov 23 00:11 browserker\ndrwxrwxrwx   1 zap        zap        4096 Nov 24 06:15 output\ndrwxrwxrwx   1 zap        zap        4096 Nov 24 23:52 zap\n# snip...\n\nzap@bcd522c1f2ba:~$ ls -lan /zap\ntotal 5436\ndrwxrwxrwx 1 1001 1001    4096 Nov 24 23:52 .\ndrwxr-xr-x 1    0    0    4096 Nov 24 23:52 ..\n-rw-r--r-- 1 1001 1001    2157 Feb  1  1980 README\ndrwxr-xr-x 2 1001 1001    4096 Feb  1  1980 db\ndrwxr-xr-x 2 1001 1001    4096 Feb  1  1980 lang\ndrwxr-xr-x 2 1001 1001    4096 Feb  1  1980 lib\ndrwxr-xr-x 2 1001 1001    4096 Feb  1  1980 license\ndrwxr-xr-x 2 1001 1001    4096 Nov 23 00:37 plugin\ndrwxr-xr-x 3 1001 1001    4096 Feb  1  1980 scripts\ndrwxr-xr-x 1 1000   50    1088 Nov 24 06:19 wrk\ndrwxr-xr-x 2 1001 1001    4096 Feb  1  1980 xml\n-rw-r--r-- 1 1001 1001 5382810 Feb  1  1980 zap-D-2020-06-30.jar\n-rw-r--r-- 1 1001 1001     206 Feb  1  1980 zap.bat\n-rw-r--r-- 1 1001 1001  123778 Feb  1  1980 zap.ico\n-rwxr-xr-x 1 1001 1001    4187 Feb  1  1980 zap.sh\n\nzap@bcd522c1f2ba:/output$ id -u\n1001\nzap@bcd522c1f2ba:/output$ whoami\nzap\n```","state":"closed","created_at":"2020-11-24T23:53:23.057Z","updated_at":"2020-12-02T22:36:57.554Z","closed_at":"2020-12-02T22:23:56.378Z","closed_by":{"id":5749348,"username":"philipcunningham","name":"Philip Cunningham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5749348/avatar.png","web_url":"https://gitlab.com/philipcunningham"},"labels":["Category:DAST","backend","devops::secure","group::dynamic analysis","priority::2","section::sec","severity::2","type::bug","workflow::in review"],"milestone":{"id":1233757,"iid":54,"group_id":9970,"title":"13.7","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:43:14.893Z","updated_at":"2022-04-13T14:51:12.240Z","due_date":"2020-12-17","start_date":"2020-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/54"},"assignees":[{"id":5749348,"username":"philipcunningham","name":"Philip Cunningham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5749348/avatar.png","web_url":"https://gitlab.com/philipcunningham"}],"author":{"id":5749348,"username":"philipcunningham","name":"Philip Cunningham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5749348/avatar.png","web_url":"https://gitlab.com/philipcunningham"},"type":"ISSUE","assignee":{"id":5749348,"username":"philipcunningham","name":"Philip Cunningham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5749348/avatar.png","web_url":"https://gitlab.com/philipcunningham"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/288010","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/288010","notes":"https://gitlab.com/api/v4/projects/278964/issues/288010/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/288010/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#288010","relative":"#288010","full":"gitlab-org/gitlab#288010"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":74938862,"iid":288006,"project_id":278964,"title":"Web IDE proposes downloading files instead of editing them when they contain non-ASCII characters and extension is not .txt","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nWhen you want to edit a text file, you usually can do it using the Web IDE. But if its extension is not .txt and it contains non-ASCII characters (like the French 'é'), then it proposes you to download it instead of editing it.\n\nThis has first been observed with LaTeX files (.tex extension) with French contents.\n\n### Steps to reproduce\n\nInitial steps (skip these now, and look below!)\n* Have a file whose extension is ~~.tex~~ (other than .txt) in your project.\n* Click on it to edit it.\n* Most of the time, you only can download it instead of editing it in the right pane.\n(For another project of mine, it is systematic. I suspect it is linked with non-ASCII characters like é, è, à, ...)\n\nReal steps: using the Web IDE,\n* create a file, without the extension .txt;\n* type some contents, including a non-ascii character (example: 'é');\n* commit changes;\n* try to edit your file again: you can only download it!\n\n### Example Project\n\nhttps://gitlab.com/mathhainaut/tex-test (and more precisely, the file test3.log containing only the single line: \"A non-ASCII character: é\")\n\n### What is the current *bug* behavior?\n\nButton 'download' in the right pane.\n\n### What is the expected *correct* behavior?\n\nThe text of the file in the right pane (even if there is no syntax highlight!)\n\n### Relevant logs and/or screenshots\n\n![Capture_du_2020-11-24_20-50-09](/uploads/1f333d9725744eaa35d594410f9f1d5e/Capture_du_2020-11-24_20-50-09.png)\n\n### Output of checks\n\nThis bug happens on GitLab.com\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\nAs a first step, just treat ~~.tex~~ text files as .txt files, which are editable. I could edit .tex files by renaming them before, and renaming back after the edition.\n\nAs a final step, finish the treatment of issue #22096  .\n\n~bug ~\"Category:Web IDE\"","state":"closed","created_at":"2020-11-24T22:09:16.127Z","updated_at":"2022-06-06T15:14:28.711Z","closed_at":"2021-08-25T11:30:24.276Z","closed_by":{"id":2398164,"username":"himkp","name":"Himanshu Kapoor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2398164/avatar.png","web_url":"https://gitlab.com/himkp"},"labels":["Category:Web IDE","Deliverable","GitLab Free","auto updated","devops::create","direction","frontend","group::editor","missed-deliverable","missed:14.1","missed:14.2","section::dev","type::bug"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":2398164,"username":"himkp","name":"Himanshu Kapoor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2398164/avatar.png","web_url":"https://gitlab.com/himkp"}],"author":{"id":2183300,"username":"mathhainaut","name":"Math Hainaut","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dfa3bacff64487599452322de8eee31b?s=80\u0026d=identicon","web_url":"https://gitlab.com/mathhainaut"},"type":"ISSUE","assignee":{"id":2398164,"username":"himkp","name":"Himanshu Kapoor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2398164/avatar.png","web_url":"https://gitlab.com/himkp"},"user_notes_count":20,"merge_requests_count":0,"upvotes":9,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/288006","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/288006","notes":"https://gitlab.com/api/v4/projects/278964/issues/288006/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/288006/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#288006","relative":"#288006","full":"gitlab-org/gitlab#288006"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":74937303,"iid":288005,"project_id":278964,"title":"Convert events.id to bigint - Step 2: Finalize background migration and swap columns","description":"`events` is the largest table in GitLab's database that is defined using an integer (`int4`) Primary Key.\n\nWith gitlab-org/gitlab#288004 we have started the process of converting it to `bigint` (`int8`) type.\n\nIn this issue we'll address the second step of the process, for both `push_event_payloads` and `events`:\n1. Ensure background migrations are competed.\n1. Create indexes and FKs using the new columns.\n1. In a single transaction, swap columns:\n    1. Swap column names\n    1. Update rename trigger function\n    1. Swap defaults\n    1. Swap PK constraint\n    1. Rename the rest of the indexes\n    1. Rename FKs\n\nAdditional required steps once the switch is done:\n1. Remove rename triggers\n1. Remove `integer` columns\n1. Remove the temporary columns from the `IMPORT_EXPORT_CONFIG: lib/gitlab/import_export/project/import_export.yml` ([related comment](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/51332#note_482639228) in the MR that introduced the change)\n1. Remove the temporary columns from ignored columns\n\nRelated Tracking Issue: gitlab-org/gitlab#220023\n\nPrevious Implementation Issue: gitlab-org/gitlab#288004","state":"closed","created_at":"2020-11-24T21:24:52.227Z","updated_at":"2022-02-03T09:39:24.032Z","closed_at":"2021-08-31T12:17:04.840Z","closed_by":{"id":3910448,"username":"craig-gomes","name":"Craig Gomes","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3910448/avatar.png","web_url":"https://gitlab.com/craig-gomes"},"labels":[],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":3170776,"username":"krasio","name":"Krasimir Angelov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3170776/avatar.png","web_url":"https://gitlab.com/krasio"}],"author":{"id":1982738,"username":"iroussos","name":"Yannis Roussos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1982738/avatar.png","web_url":"https://gitlab.com/iroussos"},"type":"ISSUE","assignee":{"id":3170776,"username":"krasio","name":"Krasimir Angelov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3170776/avatar.png","web_url":"https://gitlab.com/krasio"},"user_notes_count":46,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/288005","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/288005","notes":"https://gitlab.com/api/v4/projects/278964/issues/288005/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/288005/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#288005","relative":"#288005","full":"gitlab-org/gitlab#288005"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5655,"epic":{"id":231482,"iid":5655,"title":"Address the Primary Key Overflow risk for the events table","url":"/groups/gitlab-org/-/epics/5655","group_id":9970,"human_readable_end_date":"Jun 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":74936120,"iid":288004,"project_id":278964,"title":"Convert events.id to bigint - Step 1: Add new columns and sync data","description":"`events` is the largest table in GitLab's database that is defined using an integer (`int4`) Primary Key.\n\nOn November 24th, we are at 47% capacity used\n\n```\n# select current_date, max(id) as current_max, 2147483647 as max_integer, ((max(id) / 2147483647.0) * 100)::integer as percentage_used from events;\n current_date | current_max | max_integer | percentage_used\n--------------+-------------+-------------+-----------------\n 2020-11-24   |  1003520786 |  2147483647 |              47\n```\n\nThe first step to address the problem is to create a new column of type `bigint`, load all the data by using background jobs from the current `id` column to it and keep them in sync with a trigger.\n\nWe have to also follow the same approach for all tables that reference `events.id`, in this case `push_event_payloads.event_id`\n\nSo the overall process in %13.7 will be as follows:\n   - Create new column `events.new_id`, with `bigint NOT NULL DEFAULT 0`\n   - Install sync triggers (`install_rename_triggers` should work here)\n   - Start background `CopyColumn` jobs (we'll update it to use our new background migration jobs framework if we have not)\n\n   - Same for the column `push_event_payloads.event_id` that references `events.id`\n\nWe'll follow that with a cleanup migration in %13.7 and then add the necessary indexes and swap the PK and FK.\n\nRelated Tracking Issue: gitlab-org/gitlab#220023","state":"closed","created_at":"2020-11-24T21:15:38.240Z","updated_at":"2022-05-30T15:35:10.569Z","closed_at":"2021-04-02T21:52:14.138Z","closed_by":{"id":1982738,"username":"iroussos","name":"Yannis Roussos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1982738/avatar.png","web_url":"https://gitlab.com/iroussos"},"labels":["Category:Database","Deliverable","Engineering Allocation","database","devops::data_stores","group::database","missed-deliverable","missed:13.10","missed:13.9","section::enablement","workflow::staging"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":5297955,"username":"pbair","name":"Patrick Bair","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5297955/avatar.png","web_url":"https://gitlab.com/pbair"}],"author":{"id":1982738,"username":"iroussos","name":"Yannis Roussos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1982738/avatar.png","web_url":"https://gitlab.com/iroussos"},"type":"ISSUE","assignee":{"id":5297955,"username":"pbair","name":"Patrick Bair","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5297955/avatar.png","web_url":"https://gitlab.com/pbair"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/288004","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/288004","notes":"https://gitlab.com/api/v4/projects/278964/issues/288004/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/288004/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#288004","relative":"#288004","full":"gitlab-org/gitlab#288004"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5655,"epic":{"id":231482,"iid":5655,"title":"Address the Primary Key Overflow risk for the events table","url":"/groups/gitlab-org/-/epics/5655","group_id":9970,"human_readable_end_date":"Jun 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":74934821,"iid":288000,"project_id":278964,"title":"Stale test: qa/specs/features/ee/browser_ui/2_plan/epic/epics_management_spec.rb","description":"\u003c!---\nBefore opening a new QA failure issue, make sure to first search for it in the\nQA failures board: https://gitlab.com/groups/gitlab-org/-/boards/1385578\n\nThe issue should have the following:\n\n- The relative path of the failing spec file in the title, e.g. if the login\n  test fails, include `qa/specs/features/browser_ui/1_manage/login/log_in_spec.rb` in the title.\n  This is required so that existing issues can easily be found by searching for the spec file.\n- If the issue is about multiple test failures, include the path for each failing spec file in the description.\n- A link to the failing job.\n- The stack trace from the job's logs in the \"Stack trace\" section below.\n- A screenshot (if available), and HTML capture (if available), in the \"Screenshot / HTML page\" section below.\n---\u003e\n\n### Summary\nhttps://gitlab.com/gitlab-org/gitlab-qa-mirror/-/jobs/870161538 (The first two errors)\n\nTwo tests are stale after a new epic form page was added here https://gitlab.com/gitlab-org/gitlab/-/merge_requests/37126\n\n\n### Stack trace\n\n```\nFailures:\n  1) Plan Epics Management creates a confidential epic\n     Failure/Error:\n       EE::Resource::Epic.fabricate_via_browser_ui! do |epic|\n         epic.title = epic_title\n         epic.confidential = true\n       end\n     \n     Capybara::ElementNotFound:\n       Unable to find css \"[data-qa-selector=\\\"new_epic_button\\\"],.qa-new-epic-button\"\n     # /usr/local/bundle/gems/capybara-3.29.0/lib/capybara/node/finders.rb:296:in `block in synced_resolve'\n     # /usr/local/bundle/gems/capybara-3.29.0/lib/capybara/node/base.rb:83:in `synchronize'\n     # /usr/local/bundle/gems/capybara-3.29.0/lib/capybara/node/finders.rb:287:in `synced_resolve'\n     # /usr/local/bundle/gems/capybara-3.29.0/lib/capybara/node/finders.rb:52:in `find'\n     # /usr/local/bundle/gems/capybara-3.29.0/lib/capybara/session.rb:749:in `block (2 levels) in \u003cclass:Session\u003e'\n     # /usr/local/bundle/gems/capybara-3.29.0/lib/capybara/dsl.rb:51:in `block (2 levels) in \u003cmodule:DSL\u003e'\n     # ./qa/page/base.rb:167:in `click_element'\n     # ./qa/support/page/logging.rb:80:in `click_element'\n     # ./qa/ee/page/group/epic/index.rb:21:in `click_new_epic'\n     # ./qa/ee/resource/epic.rb:35:in `block in fabricate!'\n     # ./qa/scenario/actable.rb:16:in `perform'\n     # ./qa/ee/resource/epic.rb:34:in `fabricate!'\n     # ./qa/resource/base.rb:30:in `block (2 levels) in fabricate_via_browser_ui!'\n     # ./qa/resource/base.rb:135:in `log_fabrication'\n     # ./qa/resource/base.rb:30:in `block in fabricate_via_browser_ui!'\n     # ./qa/resource/base.rb:118:in `do_fabricate!'\n     # ./qa/resource/base.rb:29:in `fabricate_via_browser_ui!'\n     # ./qa/specs/features/ee/browser_ui/2_plan/epic/epics_management_spec.rb:21:in `block (3 levels) in \u003cmodule:QA\u003e'\n     # /usr/local/bundle/gems/rspec-retry-0.6.1/lib/rspec/retry.rb:123:in `block in run'\n     # /usr/local/bundle/gems/rspec-retry-0.6.1/lib/rspec/retry.rb:110:in `loop'\n     # /usr/local/bundle/gems/rspec-retry-0.6.1/lib/rspec/retry.rb:110:in `run'\n     # /usr/local/bundle/gems/rspec-retry-0.6.1/lib/rspec_ext/rspec_ext.rb:12:in `run_with_retry'\n     # ./spec/spec_helper.rb:73:in `block (2 levels) in \u003ctop (required)\u003e'\n     # /usr/local/bundle/gems/rspec-retry-0.6.1/lib/rspec/retry.rb:123:in `block in run'\n     # /usr/local/bundle/gems/rspec-retry-0.6.1/lib/rspec/retry.rb:110:in `loop'\n     # /usr/local/bundle/gems/rspec-retry-0.6.1/lib/rspec/retry.rb:110:in `run'\n     # /usr/local/bundle/gems/rspec-retry-0.6.1/lib/rspec_ext/rspec_ext.rb:12:in `run_with_retry'\n     # /usr/local/bundle/gems/rspec-retry-0.6.1/lib/rspec/retry.rb:37:in `block (2 levels) in setup'\n     # ./qa/specs/runner.rb:71:in `perform'\n     # ./qa/scenario/template.rb:10:in `block in perform'\n     # ./qa/scenario/template.rb:8:in `tap'\n     # ./qa/scenario/template.rb:8:in `perform'\n     # ./qa/scenario/template.rb:35:in `perform'\n     # ./qa/scenario/template.rb:10:in `block in perform'\n     # ./qa/scenario/template.rb:8:in `tap'\n     # ./qa/scenario/template.rb:8:in `perform'\n     # ./qa/scenario/bootable.rb:28:in `launch!'\n  2) Plan Epics Management creates an epic\n     Failure/Error:\n       EE::Resource::Epic.fabricate_via_browser_ui! do |epic|\n         epic.title = epic_title\n       end\n     \n     Capybara::ElementNotFound:\n       Unable to find css \"[data-qa-selector=\\\"new_epic_button\\\"],.qa-new-epic-button\"\n     # /usr/local/bundle/gems/capybara-3.29.0/lib/capybara/node/finders.rb:296:in `block in synced_resolve'\n     # /usr/local/bundle/gems/capybara-3.29.0/lib/capybara/node/base.rb:83:in `synchronize'\n     # /usr/local/bundle/gems/capybara-3.29.0/lib/capybara/node/finders.rb:287:in `synced_resolve'\n     # /usr/local/bundle/gems/capybara-3.29.0/lib/capybara/node/finders.rb:52:in `find'\n     # /usr/local/bundle/gems/capybara-3.29.0/lib/capybara/session.rb:749:in `block (2 levels) in \u003cclass:Session\u003e'\n     # /usr/local/bundle/gems/capybara-3.29.0/lib/capybara/dsl.rb:51:in `block (2 levels) in \u003cmodule:DSL\u003e'\n     # ./qa/page/base.rb:167:in `click_element'\n     # ./qa/support/page/logging.rb:80:in `click_element'\n     # ./qa/ee/page/group/epic/index.rb:21:in `click_new_epic'\n     # ./qa/ee/resource/epic.rb:35:in `block in fabricate!'\n     # ./qa/scenario/actable.rb:16:in `perform'\n     # ./qa/ee/resource/epic.rb:34:in `fabricate!'\n     # ./qa/resource/base.rb:30:in `block (2 levels) in fabricate_via_browser_ui!'\n     # ./qa/resource/base.rb:135:in `log_fabrication'\n     # ./qa/resource/base.rb:30:in `block in fabricate_via_browser_ui!'\n     # ./qa/resource/base.rb:118:in `do_fabricate!'\n     # ./qa/resource/base.rb:29:in `fabricate_via_browser_ui!'\n     # ./qa/specs/features/ee/browser_ui/2_plan/epic/epics_management_spec.rb:12:in `block (3 levels) in \u003cmodule:QA\u003e'\n     # /usr/local/bundle/gems/rspec-retry-0.6.1/lib/rspec/retry.rb:123:in `block in run'\n     # /usr/local/bundle/gems/rspec-retry-0.6.1/lib/rspec/retry.rb:110:in `loop'\n     # /usr/local/bundle/gems/rspec-retry-0.6.1/lib/rspec/retry.rb:110:in `run'\n     # /usr/local/bundle/gems/rspec-retry-0.6.1/lib/rspec_ext/rspec_ext.rb:12:in `run_with_retry'\n     # ./spec/spec_helper.rb:73:in `block (2 levels) in \u003ctop (required)\u003e'\n     # /usr/local/bundle/gems/rspec-retry-0.6.1/lib/rspec/retry.rb:123:in `block in run'\n     # /usr/local/bundle/gems/rspec-retry-0.6.1/lib/rspec/retry.rb:110:in `loop'\n     # /usr/local/bundle/gems/rspec-retry-0.6.1/lib/rspec/retry.rb:110:in `run'\n     # /usr/local/bundle/gems/rspec-retry-0.6.1/lib/rspec_ext/rspec_ext.rb:12:in `run_with_retry'\n     # /usr/local/bundle/gems/rspec-retry-0.6.1/lib/rspec/retry.rb:37:in `block (2 levels) in setup'\n     # ./qa/specs/runner.rb:71:in `perform'\n     # ./qa/scenario/template.rb:10:in `block in perform'\n     # ./qa/scenario/template.rb:8:in `tap'\n     # ./qa/scenario/template.rb:8:in `perform'\n     # ./qa/scenario/template.rb:35:in `perform'\n     # ./qa/scenario/template.rb:10:in `block in perform'\n     # ./qa/scenario/template.rb:8:in `tap'\n     # ./qa/scenario/template.rb:8:in `perform'\n     # ./qa/scenario/bootable.rb:28:in `launch!'\n```\n\n### Screenshot / HTML page\n\n\u003c!--\nAttach the screenshot and HTML snapshot of the page from the job's artifacts:\n1. Download the job's artifacts and unarchive them.\n1. Open the `gitlab-qa-run-2020-*/gitlab-{ce,ee}-qa-*/{,ee}/{api,browser_ui}/\u003cpath to failed test\u003e` folder.\n1. Select the `.png` and `.html` files that appears in the job logs (look for `HTML screenshot: /path/to/html/page.html` / `Image screenshot: `/path/to/html/page.png`).\n1. Drag and drop them here.\n\nNote: You don't need to include a screenshot if the information it contains can be included as text. Include the text instead.\nE.g., error 500/404, \"Retry later\" errors, etc.\n\nIf you include multiple screenshots it can be helpful to hide all but the first in a details/summary element, to avoid excessive scrolling:\n\n\u003cdetails\u003e\u003csummary\u003eExpand for screenshot\u003c/summary\u003e\n  drag and drop the screenshot here\n\u003c/details\u003e\n--\u003e\n\n### Possible fixes\n\n\n\u003c!-- Default due date. --\u003e\n\u003c!-- Base labels. --\u003e\n\u003c!-- Test failure type label, please use just one.--\u003e\n\u003c!--\nChoose the stage that appears in the test path, e.g. ~\"devops::create\" for\n`qa/specs/features/browser_ui/3_create/web_ide/add_file_template_spec.rb`.\n--\u003e\n\u003c!--\nSelect a label for where the failure was found, e.g. if the failure occurred in\na nightly pipeline, select ~\"found:nightly\".\n--\u003e\n\u003c!--\nhttps://about.gitlab.com/handbook/engineering/quality/guidelines/#priorities:\n- ~\"priority::1\": Tests that are needed to verify fundamental GitLab functionality.\n- ~\"priority::2\": Tests that deal with external integrations which may take a longer time to debug and fix.\n--\u003e\n\u003c!-- Select the current milestone if ~\"priority::1\" or the next milestone if ~\"priority::2\". --\u003e","state":"closed","created_at":"2020-11-24T20:36:07.156Z","updated_at":"2020-11-30T16:08:34.835Z","closed_at":"2020-11-30T16:08:34.786Z","closed_by":{"id":3759855,"username":"dchevalier2","name":"Désirée Chevalier","state":"active","avatar_url":"https://secure.gravatar.com/avatar/01a6bd5855d8100057f2dd7edec2aaa2?s=80\u0026d=identicon","web_url":"https://gitlab.com/dchevalier2"},"labels":["QA","Quality","devops::plan","failure::stale-test","found:master","priority::1","section::dev","test"],"milestone":{"id":1233757,"iid":54,"group_id":9970,"title":"13.7","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:43:14.893Z","updated_at":"2022-04-13T14:51:12.240Z","due_date":"2020-12-17","start_date":"2020-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/54"},"assignees":[{"id":3759855,"username":"dchevalier2","name":"Désirée Chevalier","state":"active","avatar_url":"https://secure.gravatar.com/avatar/01a6bd5855d8100057f2dd7edec2aaa2?s=80\u0026d=identicon","web_url":"https://gitlab.com/dchevalier2"}],"author":{"id":3759855,"username":"dchevalier2","name":"Désirée Chevalier","state":"active","avatar_url":"https://secure.gravatar.com/avatar/01a6bd5855d8100057f2dd7edec2aaa2?s=80\u0026d=identicon","web_url":"https://gitlab.com/dchevalier2"},"type":"ISSUE","assignee":{"id":3759855,"username":"dchevalier2","name":"Désirée Chevalier","state":"active","avatar_url":"https://secure.gravatar.com/avatar/01a6bd5855d8100057f2dd7edec2aaa2?s=80\u0026d=identicon","web_url":"https://gitlab.com/dchevalier2"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2020-12-08","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/288000","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/288000","notes":"https://gitlab.com/api/v4/projects/278964/issues/288000/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/288000/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#288000","relative":"#288000","full":"gitlab-org/gitlab#288000"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":74932670,"iid":287992,"project_id":278964,"title":"Geo Status Page 2.0 - Validation (Final)","description":"## Vision\n\nBased on proposal described here: https://gitlab.com/groups/gitlab-org/-/epics/4712#implementation-proposal\u003cbr /\u003e\nCode to ultimately be replaced: https://gitlab.com/gitlab-org/gitlab/-/tree/master/ee/app/assets/javascripts/geo_nodes\n\nThis issue will be the final regression testing session we do for this change.  At this point all legacy code has been removed and we are fully using the new UI.  It will be important we try and catch anything before the end of the milestone this is done so we can avoid a bad regression live.\n\n## What is needed\n\nA couple volunteers to do a small regression testing to ensure everything is behaving as expected.","state":"closed","created_at":"2020-11-24T19:53:34.719Z","updated_at":"2021-05-17T19:18:44.718Z","closed_at":"2021-05-17T19:18:44.706Z","closed_by":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"labels":["UX","devops::systems","frontend","group::geo","section::enablement"],"milestone":null,"assignees":[],"author":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/287992","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/287992","notes":"https://gitlab.com/api/v4/projects/278964/issues/287992/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/287992/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#287992","relative":"#287992","full":"gitlab-org/gitlab#287992"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":74932589,"iid":287986,"project_id":278964,"title":"Geo Status Page 2.0 - Remove Legacy Code","description":"## Vision\n\nBased on proposal described here: https://gitlab.com/groups/gitlab-org/-/epics/4712#implementation-proposal\u003cbr /\u003e\nCode to ultimately be replaced: https://gitlab.com/gitlab-org/gitlab/-/tree/master/ee/app/assets/javascripts/geo_nodes\n\nThis is the grand final you could say. This is where we will remove/take over the legacy code with the code implemented across this Geo Status Page 2.0 effort!\n\n## What is needed\n\nRemoval or Takeover of the following code:\n\n| | Legacy | 2.0\n| ------ | ------ | ------ |\n| Route | `/geo/nodes` | `/geo/status` |\n| Controller | `geo/nodes_controller.rb` | `geo/status_controller.rb` |\n| View | `geo/nodes/index.html.haml` | `geo/status/index.html.haml` |\n| Page | `geo/nodes/index.js` | `geo/status/index.js` |\n| JS Scope | `geo_nodes/` | `geo_status/` |\n\nThis effectively is the end of the technical implementation of Geo Status Page 2.0 :tada:","state":"closed","created_at":"2020-11-24T19:50:32.003Z","updated_at":"2021-04-13T20:19:44.014Z","closed_at":"2021-04-13T20:19:43.971Z","closed_by":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"labels":["backend","devops::systems","frontend","group::geo","javascript","maintenance::refactor","section::enablement"],"milestone":null,"assignees":[],"author":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/287986","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/287986","notes":"https://gitlab.com/api/v4/projects/278964/issues/287986/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/287986/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#287986","relative":"#287986","full":"gitlab-org/gitlab#287986"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4712,"epic":{"id":135048,"iid":4712,"title":"Geo: Implement the new design of the Geo node page","url":"/groups/gitlab-org/-/epics/4712","group_id":9970,"human_readable_end_date":"Jun 22, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":74932210,"iid":287980,"project_id":278964,"title":"Geo Status Page 2.0 - Preview New UI Button","description":"## Vision\n\nBased on proposal described here: https://gitlab.com/groups/gitlab-org/-/epics/4712#implementation-proposal\u003cbr /\u003e\nCode to ultimately be replaced: https://gitlab.com/gitlab-org/gitlab/-/tree/master/ee/app/assets/javascripts/geo_nodes\n\nThis issue will be focused on creating a button that allows users to \"view\" the new Geo UI without a full cutover.  This will allow us to get some regression and user feedback without the need for an emergency revert.  We should expect to leave this for a milestone or two to allow users a chance to see the new UI.\n\n## What is needed\n\n1. Preview New UI Button added to the legacy UI.\n2. The button should navigate to the new UI and operate full featured as if it were live.\n\ncc/ @nhxnguyen","state":"closed","created_at":"2020-11-24T19:41:38.966Z","updated_at":"2021-05-17T19:19:09.369Z","closed_at":"2021-04-09T18:29:22.963Z","closed_by":{"id":4554077,"username":"nhxnguyen","name":"Nick Nguyen","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4554077/avatar.png","web_url":"https://gitlab.com/nhxnguyen"},"labels":["UX","devops::systems","frontend","group::geo","javascript","section::enablement"],"milestone":null,"assignees":[],"author":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/287980","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/287980","notes":"https://gitlab.com/api/v4/projects/278964/issues/287980/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/287980/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#287980","relative":"#287980","full":"gitlab-org/gitlab#287980"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":74932001,"iid":287979,"project_id":278964,"title":"Geo Status Page 2.0 - Validation (w/ Feature Flag)","description":"## Vision\n\nBased on proposal described here: https://gitlab.com/groups/gitlab-org/-/epics/4712#implementation-proposal\u003cbr /\u003e\nCode to ultimately be replaced: https://gitlab.com/gitlab-org/gitlab/-/tree/master/ee/app/assets/javascripts/geo_nodes\n\nThis issue will be a 1st pass at engineer validation on the GDK with feature flag active (`:geo_nodes_beta`).  This will be done by testing via the temporary route `/admin/geo/nodes_beta`.\n\n## What is needed\n\nA couple volunteers to do a small regression testing to ensure everything is behaving as expected.","state":"closed","created_at":"2020-11-24T19:37:42.381Z","updated_at":"2021-06-08T17:53:45.284Z","closed_at":"2021-06-03T16:07:38.464Z","closed_by":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"labels":["UX","devops::systems","frontend","group::geo","missed:13.12","section::enablement","workflow::in review"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"}],"author":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"type":"ISSUE","assignee":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"user_notes_count":6,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/287979","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/287979","notes":"https://gitlab.com/api/v4/projects/278964/issues/287979/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/287979/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#287979","relative":"#287979","full":"gitlab-org/gitlab#287979"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4712,"epic":{"id":135048,"iid":4712,"title":"Geo: Implement the new design of the Geo node page","url":"/groups/gitlab-org/-/epics/4712","group_id":9970,"human_readable_end_date":"Jun 22, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":74931770,"iid":287978,"project_id":278964,"title":"Geo Status Page 2.0 - UI Components","description":"## Vision\n\nBased on proposal described here: https://gitlab.com/groups/gitlab-org/-/epics/4712#implementation-proposal\u003cbr /\u003e\nCode to ultimately be replaced: https://gitlab.com/gitlab-org/gitlab/-/tree/master/ee/app/assets/javascripts/geo_nodes\n\nThis is the issue that contains the most work of this change.  This will be where we implement the UI and hook up the Vuex store to it.  This issue will most likely be implemented through a few MRs that will be listed here when work begins:\n\n## What is needed\n\n1. Primary Node Component\n    - Card Component\n    - Card Header and Actions Component\n    - Core (left side) Details Component\n    - Verification Details Component\n    - Other Details Component   \n\n2. Secondary Node Component(s)\n    - Card Component\n    - Card Header and Actions Component\n    - Core (left side) Details Component\n    - Replication Summary Component\n    - Replication Details Component\n    - Other Details Component\n\nThe goal will be to make these as generic and re-usable as possible.  Using a data-driven approach from the Vuex store should help with this.\n\n## Implementation\n\n- [x] UI Initialization -  https://gitlab.com/gitlab-org/gitlab/-/merge_requests/54857\n- [x] Loading/Empty States - https://gitlab.com/gitlab-org/gitlab/-/merge_requests/54996\n- [x] Collapsable Node Header - https://gitlab.com/gitlab-org/gitlab/-/merge_requests/55399\n- [x] Node Header Details - https://gitlab.com/gitlab-org/gitlab/-/merge_requests/55546\n- [x] Core Node Details - https://gitlab.com/gitlab-org/gitlab/-/merge_requests/55904\n- [x] Primary Node Details - https://gitlab.com/gitlab-org/gitlab/-/merge_requests/55695\n- [x] Node Progress Bars - https://gitlab.com/gitlab-org/gitlab/-/merge_requests/56990\n- [x] Secondary Node Details - https://gitlab.com/gitlab-org/gitlab/-/merge_requests/56154\n- [x] Replication Summary - https://gitlab.com/gitlab-org/gitlab/-/merge_requests/56412\n- [x] Replication Counts - https://gitlab.com/gitlab-org/gitlab/-/merge_requests/57507\n- [x] Replication Details Container - https://gitlab.com/gitlab-org/gitlab/-/merge_requests/56572\n- [x] Replication Details - https://gitlab.com/gitlab-org/gitlab/-/merge_requests/58121","state":"closed","created_at":"2020-11-24T19:32:24.200Z","updated_at":"2021-05-04T15:42:41.716Z","closed_at":"2021-04-29T14:40:16.329Z","closed_by":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"labels":["UX","devops::systems","frontend","group::geo","javascript","missed:13.10","missed:13.11","missed:13.9","section::enablement"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"}],"author":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"type":"ISSUE","assignee":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/287978","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":12,"completed_count":12},"weight":4,"blocking_issues_count":2,"has_tasks":true,"task_status":"12 of 12 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/287978","notes":"https://gitlab.com/api/v4/projects/278964/issues/287978/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/287978/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#287978","relative":"#287978","full":"gitlab-org/gitlab#287978"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4712,"epic":{"id":135048,"iid":4712,"title":"Geo: Implement the new design of the Geo node page","url":"/groups/gitlab-org/-/epics/4712","group_id":9970,"human_readable_end_date":"Jun 22, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":74931293,"iid":287945,"project_id":278964,"title":"Geo Status Page 2.0 - Vuex Store","description":"## Vision\n\nBased on proposal described here: https://gitlab.com/groups/gitlab-org/-/epics/4712#implementation-proposal\u003cbr /\u003e\nCode to ultimately be replaced: https://gitlab.com/gitlab-org/gitlab/-/tree/master/ee/app/assets/javascripts/geo_nodes\n\nThis issue will be focused on creating the Vuex store that mimics the goals and functionality from the current `geo/nodes/store/geo_nodes_store`, `geo/nodes/service/geo_nodes_service.js` and `geo/nodes/event_hub.js`.\n\n## What is needed\n\n1. `index.js` (This will initialize the store).\n2. `actions.js` (This will contain all the actions and should provide similar functionality to `geo/nodes/service/geo_nodes_service.js` and `geo/nodes/event_hub.js`).\n3. `getters.js` (This will contain all the data modeling that is done via `geo/nodes/store/geo_nodes_store`).\n4. `mutations.js` (This will handle the state management provided in `geo/nodes/store/geo_nodes_store`).\n5. `mutation_types.js` (This works in tandem with `mutations.js` to manage all the mutation names).\n6. `state.js` (This will store all the data values previously stored in `geo/nodes/store/geo_nodes_store`).\n\nThis issue is focused on creating the store. There won't be any usage in the UI until the following issue.","state":"closed","created_at":"2020-11-24T19:24:35.861Z","updated_at":"2021-03-01T12:49:22.619Z","closed_at":"2021-02-18T14:32:57.198Z","closed_by":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"labels":["devops::systems","frontend","group::geo","javascript","section::enablement"],"milestone":{"id":1233760,"iid":56,"group_id":9970,"title":"13.9","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.334Z","updated_at":"2022-04-21T07:21:28.468Z","due_date":"2021-02-17","start_date":"2021-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/56"},"assignees":[{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"}],"author":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"type":"ISSUE","assignee":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/287945","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/287945","notes":"https://gitlab.com/api/v4/projects/278964/issues/287945/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/287945/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#287945","relative":"#287945","full":"gitlab-org/gitlab#287945"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4712,"epic":{"id":135048,"iid":4712,"title":"Geo: Implement the new design of the Geo node page","url":"/groups/gitlab-org/-/epics/4712","group_id":9970,"human_readable_end_date":"Jun 22, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":74931005,"iid":287941,"project_id":278964,"title":"Geo Status Page 2.0 - Initialization","description":"## Vision\n\nBased on proposal described here: https://gitlab.com/groups/gitlab-org/-/epics/4712#implementation-proposal\u003cbr /\u003e\nCode to ultimately be replaced: https://gitlab.com/gitlab-org/gitlab/-/tree/master/ee/app/assets/javascripts/geo_nodes\n\nThis issue will be focused on creating a new scope, route, feature flag, and Vue entry point. That will eventually replace the current Geo Nodes Status view.\n\n## What is needed\n\n1. Route (ex. `/geo/nodes_beta`, which will eventually take over `/geo/nodes` during cutover).\n2. Controller (ex. `geo/nodes_beta_controller.rb`, which will eventually take over `geo/nodes_controller.rb` during cutover).\n3. View (ex. `geo/nodes_beta/index.html.haml`, which will eventually take over `geo/nodes/index.html.haml` during cutover).\n4. Page (ex. `geo/nodes_beta/index.js`, which will eventually take over `geo/nodes/index.js` during cutover).\n5. JavaScript Scope (ex. `geo_nodes_beta/`, which will eventually take over `geo_nodes/` during cutover).\n6. Feature Flag (ex. `:geo_nodes_beta`, which will be removed during cutover).\n\nThe route will need to be feature flag hidden until we are ready to expose it to the end users.","state":"closed","created_at":"2020-11-24T19:16:46.090Z","updated_at":"2021-02-10T19:41:03.365Z","closed_at":"2021-01-12T16:43:41.216Z","closed_by":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"labels":["backend","devops::systems","frontend","group::geo","javascript","section::enablement","workflow::in review"],"milestone":{"id":1233759,"iid":55,"group_id":9970,"title":"13.8","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:13.983Z","updated_at":"2022-04-13T14:51:23.220Z","due_date":"2021-01-17","start_date":"2020-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/55"},"assignees":[{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"}],"author":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"type":"ISSUE","assignee":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/287941","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/287941","notes":"https://gitlab.com/api/v4/projects/278964/issues/287941/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/287941/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#287941","relative":"#287941","full":"gitlab-org/gitlab#287941"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4712,"epic":{"id":135048,"iid":4712,"title":"Geo: Implement the new design of the Geo node page","url":"/groups/gitlab-org/-/epics/4712","group_id":9970,"human_readable_end_date":"Jun 22, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":74930757,"iid":287940,"project_id":278964,"title":"Add membership CSV export to root group","description":"### Problem to solve \n\n\u003c!-- What problem do we solve? Try to define the who/what/why of the opportunity as a user story. For example, \"As a (who), I want (what), so I can (why/value).\" --\u003e\n\nIn %\"13.7\" we'll be adding an `export` button to the `admin area` to enable self-managed customers to export a list of all users and their respective group, subgroup, and project memberships. This fulfills an important audit reporting need for compliance-minded customers, but this functionality does not yet exist at the group level to support SaaS customers.\n\n### Intended users\n\n* [Cameron (Compliance Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#cameron-compliance-manager)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n\n### User experience goal\n\n\u003c!-- What is the single user experience workflow this problem addresses?\nFor example, \"The user should be able to use the UI/API/.gitlab-ci.yml with GitLab to \u003cperform a specific task\u003e\"\nhttps://about.gitlab.com/handbook/engineering/ux/ux-research-training/user-story-mapping/ --\u003e\n\nA `group owner` can click an `export` button in `Group` \u003e `Members` to generate a csv file showing the same data in the [self-managed proposal](https://gitlab.com/gitlab-org/gitlab/-/issues/1772#example-output)\n\n### Proposal\n\nAdd an `export` button in `Group` \u003e `Members` to generate a csv file showing the same data in the [self-managed proposal](https://gitlab.com/gitlab-org/gitlab/-/issues/1772#example-output)\n\n![image](/uploads/ec734b59570728b71a89c314411b8c1e/image.png)\n\n### Implementation Plan\n\n* Add \"Export to CSV\" button to root group members list. (~frontend but, ~backend can lead with assistance if neccessary)\n* Clicking that button triggers a background job to generate the CSV and email it to the user who triggered the download. (Group owner)\n  * Inline downloads are potentially too slow when SQL queries are potentially complex.\n* The downloaded CSV list should match the visible content and columns of the members list.\n* **If this proves too difficult due to database constraints** the CSV should contain a list of _all_ members of the group and subgroups.","state":"closed","created_at":"2020-11-24T19:07:18.531Z","updated_at":"2022-04-18T19:23:52.899Z","closed_at":"2021-08-13T13:38:04.057Z","closed_by":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"labels":["Category:Audit Reports [DEPRECATED]","GitLab Premium","Technical Writing","backend","customer","devops::manage","direction","group::compliance","priority::1","release post item::in review","section::dev","type::feature","workflow::verification"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"}],"author":{"id":4748651,"username":"mattgonzales-gitlab","name":"Matt Gonzales (ex-GitLab)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748651/avatar.png","web_url":"https://gitlab.com/mattgonzales-gitlab"},"type":"ISSUE","assignee":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"user_notes_count":36,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/287940","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/287940","notes":"https://gitlab.com/api/v4/projects/278964/issues/287940/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/287940/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#287940","relative":"#287940","full":"gitlab-org/gitlab#287940"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4994,"epic":{"id":151080,"iid":4994,"title":"Credential Inventory Compliance Feature Parity - SaaS","url":"/groups/gitlab-org/-/epics/4994","group_id":9970,"human_readable_end_date":"Aug 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":74928185,"iid":287919,"project_id":278964,"title":"Merge conflicts message isn't displayed when diff_head param isn't passed","description":"The project has `default_merge_ref_for_diffs` enabled. This merge request has conflicts: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/22505/diffs, `master (base)` version is displayed, but there's no message\n\n![merge_ref_head_with_conflicts_message_v13_7](https://gitlab.com/gitlab-org/gitlab/uploads/ab51344b2449826cb3fb1f6135a7f08f/merge_ref_head_with_conflicts_message_v13_7.png)\n\nOne of the possible solutions would be to check here whether `default_merge_ref_for_diffs` FF is enabled: https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/assets/javascripts/diffs/components/app.vue\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2020-11-24T18:00:59.941Z","updated_at":"2022-08-10T16:23:34.156Z","closed_at":"2021-07-15T16:57:12.666Z","closed_by":{"id":4414431,"username":"thomasrandolph","name":"Thomas Randolph","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6462fcd577d8c957abd2dc23956cfbec?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomasrandolph"},"labels":["Deliverable","devops::create","direction","frontend","group::code review","missed:14.0","priority::3","section::dev","severity::3","type::bug","workflow::production"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":4414431,"username":"thomasrandolph","name":"Thomas Randolph","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6462fcd577d8c957abd2dc23956cfbec?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomasrandolph"}],"author":{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"},"type":"ISSUE","assignee":{"id":4414431,"username":"thomasrandolph","name":"Thomas Randolph","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6462fcd577d8c957abd2dc23956cfbec?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomasrandolph"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/287919","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/287919","notes":"https://gitlab.com/api/v4/projects/278964/issues/287919/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/287919/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#287919","relative":"#287919","full":"gitlab-org/gitlab#287919"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4893,"epic":{"id":142729,"iid":4893,"title":"Merge conflicts in diffs","url":"/groups/gitlab-org/-/epics/4893","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":74920128,"iid":287847,"project_id":278964,"title":"Add ability to delete a compliance framework via the groups general settings","description":"Based on the designs/discussions in the [discovery issue](https://gitlab.com/gitlab-org/gitlab/-/issues/231247) and [backend issue](https://gitlab.com/gitlab-org/gitlab/-/issues/255340), this issue is to track the development of the shared color picker component which will be used by the new compliance framework forms and eventually other color picker locations (e.g. labels).\n\nThe form for Compliance Framework Labels should have the following fields:\n\n* **Title:** \\[ e.g. HIPAA, SOX, Internal, Tech Risk, otherCustomLabelName \\]\n  * The labels should allow the use of labels that *look* scoped (use of `::`) but should not implement or leverage any scoped label behavior for now.\n* **Description:** \\[ e.g. \"This label should be applied to projects which are regulated by `HIPAA`\" \\]\n* **Background color:** \n\n## Out of scope:\n\n- [Enforcement / \"regulated\" toggle](https://gitlab.com/gitlab-org/gitlab/-/issues/220190)\n- Force Merge (under ~\"workflow::solution validation\")\n\n## Mockups\n\n|Settings Page|Edit|New|\n|---|---|---|\n| ![Settings___General__New_label_](/uploads/5d4f4448201ed067ea6a776dd4086474/Settings___General__New_label_.png) | ![5](/uploads/4f233ffdfd135023b5cc229670dc53ec/5.png) | ![2](/uploads/59f6637fc3b335b6276394c67c98868b/2.png) |\n\n## Tier\n\nThe ability to create/edit/assign **custom** compliance labels is a ~\"GitLab Premium\" feature.\n\n## Feature flag\n\nThis feature should only be shown if the ~\"feature flag\" `:ff_custom_compliance_frameworks` is set\n\n## Implementation plan\n\n- Add the delete icon button to the list app\n- On click, show a GlModal saying “Are you sure? This will remove the label from all projects which currently have it applied, which may remove other functionality.”\n- On confirmation, use the GraphQL endpoint to delete the framework and show success/failure banner on the page","state":"closed","created_at":"2020-11-24T15:42:51.530Z","updated_at":"2021-02-23T08:33:49.274Z","closed_at":"2021-02-23T08:33:48.807Z","closed_by":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"labels":["Category:Compliance Management","Enterprise Edition","GitLab Premium","devops::manage","frontend","group::compliance","priority::2","section::dev","type::feature","workflow::staging"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"}],"author":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"type":"ISSUE","assignee":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/287847","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/287847","notes":"https://gitlab.com/api/v4/projects/278964/issues/287847/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/287847/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#287847","relative":"#287847","full":"gitlab-org/gitlab#287847"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3156,"epic":{"id":45158,"iid":3156,"title":"Allow group owners to define compliance pipeline configurations at the group level","url":"/groups/gitlab-org/-/epics/3156","group_id":9970,"human_readable_end_date":"Aug 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":74920032,"iid":287846,"project_id":278964,"title":"Create edit compliance framework page","description":"Based on the designs/discussions in the [discovery issue](https://gitlab.com/gitlab-org/gitlab/-/issues/231247) and [backend issue](https://gitlab.com/gitlab-org/gitlab/-/issues/255340), this issue is to track the development of the edit compliance frameworks page.\n\nThe form should have the following fields:\n\n* **Title:** \\[ e.g. HIPAA, SOX, Internal, Tech Risk, otherCustomLabelName \\]\n  * The labels should allow the use of labels that *look* scoped (use of `::`) but should not implement or leverage any scoped label behaviour for now.\n* **Description:** \\[ e.g. \"This label should be applied to projects which are regulated by `HIPAA`\" \\]\n* **Pipeline configuration**\n* **Background color** \n\n## Out of scope:\n\n- [Enforcement / \"regulated\" toggle](https://gitlab.com/gitlab-org/gitlab/-/issues/220190)\n- Force Merge (under ~\"workflow::solution validation\")\n\n## Mockups\n\n|Settings Page|Edit|New|\n|---|---|---|\n| ![Settings___General__New_label_](/uploads/5d4f4448201ed067ea6a776dd4086474/Settings___General__New_label_.png) | ![5](/uploads/4f233ffdfd135023b5cc229670dc53ec/5.png) | ![2](/uploads/59f6637fc3b335b6276394c67c98868b/2.png) |\n\n## Tier\n\nThe ability to create/edit/assign **custom** compliance labels is a ~\"GitLab Premium\" feature.\n\n## Feature flag\n\nThis feature should only be shown if the ~\"feature flag\" `:ff_custom_compliance_frameworks` is set\n\n## Implementation plan\n\n- Create HAML page to edit a framework\n- Add breadcrumbs\n- Add title\n- Add framework form app and add to HAML page, pass framework ID\n- Add the edit icon button to the list app and redirect to this new HAML page\n\n**Thought:** This page requires a GraphQL query to retrieve the form data. Would using `- add_page_startup_graphql_call()` make sense? :thinking:","state":"closed","created_at":"2020-11-24T15:41:05.383Z","updated_at":"2021-04-07T14:49:32.392Z","closed_at":"2021-03-05T15:02:39.735Z","closed_by":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"labels":["Category:Compliance Management","Enterprise Edition","GitLab Premium","devops::manage","frontend","group::compliance","priority::2","section::dev","type::feature","workflow::verification"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"}],"author":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"type":"ISSUE","assignee":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/287846","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/287846","notes":"https://gitlab.com/api/v4/projects/278964/issues/287846/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/287846/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#287846","relative":"#287846","full":"gitlab-org/gitlab#287846"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3156,"epic":{"id":45158,"iid":3156,"title":"Allow group owners to define compliance pipeline configurations at the group level","url":"/groups/gitlab-org/-/epics/3156","group_id":9970,"human_readable_end_date":"Aug 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":74919948,"iid":287845,"project_id":278964,"title":"Create add compliance framework page","description":"Based on the designs/discussions in the [discovery issue](https://gitlab.com/gitlab-org/gitlab/-/issues/231247) and [backend issue](https://gitlab.com/gitlab-org/gitlab/-/issues/255340), this issue is to track the development of the add compliance frameworks page.\n\nThe form should have the following fields:\n\n* **Title:** \\[ e.g. HIPAA, SOX, Internal, Tech Risk, otherCustomLabelName \\]\n  * The labels should allow the use of labels that *look* scoped (use of `::`) but should not implement or leverage any scoped label behaviour for now.\n* **Description:** \\[ e.g. \"This label should be applied to projects which are regulated by `HIPAA`\" \\]\n* **Pipeline configuration**\n* **Background color** \n\n## Out of scope:\n\n- [Enforcement / \"regulated\" toggle](https://gitlab.com/gitlab-org/gitlab/-/issues/220190)\n- Force Merge (under ~\"workflow::solution validation\")\n\n## Mockups\n\n|Settings Page|Edit|New|\n|---|---|---|\n| ![Settings___General__New_label_](/uploads/5d4f4448201ed067ea6a776dd4086474/Settings___General__New_label_.png) | ![5](/uploads/4f233ffdfd135023b5cc229670dc53ec/5.png) | ![2](/uploads/59f6637fc3b335b6276394c67c98868b/2.png) |\n\n## Tier\n\nThe ability to create/edit/assign **custom** compliance labels is a ~\"GitLab Ultimate\" feature.\n\n## Feature flag\n\nThis feature should only be shown if the ~\"feature flag\" `:ff_custom_compliance_frameworks` is set\n\n## Implementation plan\n\n- Create HAML page for a new framework\n- Add breadcrumbs\n- Add title\n- Add framework form app and add to HAML page\n- Add the `Add framework` button to the list view and redirect to this new HAML page","state":"closed","created_at":"2020-11-24T15:39:35.222Z","updated_at":"2022-03-28T19:20:39.573Z","closed_at":"2021-02-25T08:46:49.816Z","closed_by":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"labels":["Category:Compliance Management","Deliverable","Enterprise Edition","GitLab Premium","devops::manage","direction","frontend","group::compliance","missed-deliverable","missed:13.8","priority::2","section::dev","type::feature","workflow::staging"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"}],"author":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"type":"ISSUE","assignee":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/287845","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/287845","notes":"https://gitlab.com/api/v4/projects/278964/issues/287845/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/287845/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#287845","relative":"#287845","full":"gitlab-org/gitlab#287845"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3156,"epic":{"id":45158,"iid":3156,"title":"Allow group owners to define compliance pipeline configurations at the group level","url":"/groups/gitlab-org/-/epics/3156","group_id":9970,"human_readable_end_date":"Aug 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":74919612,"iid":287828,"project_id":278964,"title":"Show available compliance frameworks in the group general settings","description":"Based on the designs/discussions in the [discovery issue](https://gitlab.com/gitlab-org/gitlab/-/issues/231247) and [backend issue](https://gitlab.com/gitlab-org/gitlab/-/issues/255340), this issue is to track the development of the shared color picker component which will be used by the new compliance framework forms and eventually other color picker locations (e.g. labels).\n\nThe form for Compliance Framework Labels should have the following fields:\n\n* **Title:** \\[ e.g. HIPAA, SOX, Internal, Tech Risk, otherCustomLabelName \\]\n  * The labels should allow the use of labels that *look* scoped (use of `::`) but should not implement or leverage any scoped label behavior for now.\n* **Description:** \\[ e.g. \"This label should be applied to projects which are regulated by `HIPAA`\" \\]\n* **Background color:** \n\n## Out of scope:\n\n- [Enforcement / \"regulated\" toggle](https://gitlab.com/gitlab-org/gitlab/-/issues/220190)\n- Force Merge (under ~\"workflow::solution validation\")\n\n## Mockups\n\n|Settings Page|Edit|New|\n|---|---|---|\n| ![Settings___General__New_label_](/uploads/5d4f4448201ed067ea6a776dd4086474/Settings___General__New_label_.png) | ![5](/uploads/4f233ffdfd135023b5cc229670dc53ec/5.png) | ![2](/uploads/59f6637fc3b335b6276394c67c98868b/2.png) |\n\n## Tier\n\nThe ability to create/edit/assign **custom** compliance labels is a ~\"GitLab Ultimate\" feature.\n\n## Feature flag\n\nThis feature should only be shown if the ~\"feature flag\" `:ff_custom_compliance_frameworks` is set\n\n## Implementation plan\n\n- If the ~\"feature flag\" `:ff_custom_compliance_frameworks` is set:\n  - Create list Vue app and add to group general settings with `js-compliance-frameworks-settings` ID\n  - Integrate Apollo client into list app\n  - Add tabs\n  - Create a shared label list component\n  - Create a shared label list item component\n    - Show label and description","state":"closed","created_at":"2020-11-24T15:36:29.008Z","updated_at":"2021-01-11T13:23:40.009Z","closed_at":"2020-12-14T09:10:52.064Z","closed_by":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"labels":["Category:Compliance Management","Enterprise Edition","GitLab Premium","devops::manage","frontend","group::compliance","priority::3","section::dev","type::feature","workflow::staging"],"milestone":{"id":1233757,"iid":54,"group_id":9970,"title":"13.7","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:43:14.893Z","updated_at":"2022-04-13T14:51:12.240Z","due_date":"2020-12-17","start_date":"2020-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/54"},"assignees":[{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"}],"author":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"type":"ISSUE","assignee":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/287828","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/287828","notes":"https://gitlab.com/api/v4/projects/278964/issues/287828/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/287828/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#287828","relative":"#287828","full":"gitlab-org/gitlab#287828"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3156,"epic":{"id":45158,"iid":3156,"title":"Allow group owners to define compliance pipeline configurations at the group level","url":"/groups/gitlab-org/-/epics/3156","group_id":9970,"human_readable_end_date":"Aug 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":74919476,"iid":287827,"project_id":278964,"title":"Create a shared compliance frameworks form app","description":"Based on the designs/discussions in the [discovery issue](https://gitlab.com/gitlab-org/gitlab/-/issues/231247) and [backend issue](https://gitlab.com/gitlab-org/gitlab/-/issues/255340), this issue is to track the development of the shared color picker component which will be used by the new compliance framework forms and eventually other color picker locations (e.g. labels).\n\nThe form for Compliance Framework Labels should have the following fields:\n\n* **Title:** \\[ e.g. HIPAA, SOX, Internal, Tech Risk, otherCustomLabelName \\]\n  * The labels should allow the use of labels that *look* scoped (use of `::`) but should not implement or leverage any scoped label behavior for now.\n* **Description:** \\[ e.g. \"This label should be applied to projects which are regulated by `HIPAA`\" \\]\n* **Background color:** \n\n## Out of scope:\n\n- [Enforcement / \"regulated\" toggle](https://gitlab.com/gitlab-org/gitlab/-/issues/220190)\n- Force Merge (under ~\"workflow::solution validation\")\n\n## Mockups\n\n|Settings Page|Edit|New|\n|---|---|---|\n| ![Settings___General__New_label_](/uploads/5d4f4448201ed067ea6a776dd4086474/Settings___General__New_label_.png) | ![5](/uploads/4f233ffdfd135023b5cc229670dc53ec/5.png) | ![2](/uploads/59f6637fc3b335b6276394c67c98868b/2.png) |\n\n## Tier\n\nThis shared component should not be limited to any one tier. The individual locations it is used may be tiered.\n\n## Implementation plan\n\n- Add form\n  - Integrate Apollo client into form app\n    - Use the client to retrieve form values if an ID is provided\n  - Add title input with description text\n  - Add description input\n  - Add shared colour picker component\n  - Add add (text for button given to app) and cancel buttons\n  - Validate values on blur\n  - Use store to save values and return success/error\n  - Display something went wrong banner\n  - Redirect on success to `/groups/[GROUP/-/edit#js-compliance-frameworks-settings`\n\n**Note:** The following are not included in this form at this time:\n\n- `Settings Enforcement` field will be created in https://gitlab.com/gitlab-org/gitlab/-/issues/220190\n- `Force merge` is still in ~\"workflow::solution validation\" \n- `Compliance pipeline configuration location` field will be created in https://gitlab.com/gitlab-org/gitlab/-/issues/254389","state":"closed","created_at":"2020-11-24T15:33:09.361Z","updated_at":"2022-03-28T19:20:43.429Z","closed_at":"2021-02-02T16:52:43.224Z","closed_by":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"labels":["Category:Compliance Management","Deliverable","devops::manage","direction","frontend","group::compliance","missed-deliverable","missed:13.7","missed:13.8","priority::2","section::dev","type::feature","workflow::in review"],"milestone":{"id":1233760,"iid":56,"group_id":9970,"title":"13.9","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.334Z","updated_at":"2022-04-21T07:21:28.468Z","due_date":"2021-02-17","start_date":"2021-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/56"},"assignees":[{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"}],"author":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"type":"ISSUE","assignee":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/287827","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/287827","notes":"https://gitlab.com/api/v4/projects/278964/issues/287827/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/287827/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#287827","relative":"#287827","full":"gitlab-org/gitlab#287827"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3156,"epic":{"id":45158,"iid":3156,"title":"Allow group owners to define compliance pipeline configurations at the group level","url":"/groups/gitlab-org/-/epics/3156","group_id":9970,"human_readable_end_date":"Aug 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":74919296,"iid":287826,"project_id":278964,"title":"Create a shared color picker component","description":"Based on the designs/discussions in the [discovery issue](https://gitlab.com/gitlab-org/gitlab/-/issues/231247) and [backend issue](https://gitlab.com/gitlab-org/gitlab/-/issues/255340), this issue is to track the development of the shared color picker component which will be used by the new compliance framework forms and eventually other color picker locations (e.g. labels).\n\n## Mockups\n\n|Settings Page|Edit|New|\n|---|---|---|\n| ![Settings___General__New_label_](/uploads/5d4f4448201ed067ea6a776dd4086474/Settings___General__New_label_.png) | ![5](/uploads/4f233ffdfd135023b5cc229670dc53ec/5.png) | ![2](/uploads/59f6637fc3b335b6276394c67c98868b/2.png) |\n\n## Tier\n\nThis shared component should not be limited to any one tier. The individual locations it is used may be tiered.\n\n## Implementation plan\n\n- Create new shared Vue component which has:\n  - A Color input field (requires prefixing `#`)\n    - Shows chosen color on the left-hand side next to the input field\n    - Shows input description below color input\n  - Defines a list of preset colors (taken from existing color picker on labels etc)\n  - Shows preset colors, on click update input and color preview","state":"closed","created_at":"2020-11-24T15:30:08.958Z","updated_at":"2021-06-28T15:02:02.493Z","closed_at":"2020-12-10T13:13:00.319Z","closed_by":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"labels":["Category:Compliance Management","UX FY21-Q4","devops::manage","frontend","group::compliance","priority::1","section::dev","type::feature","workflow::staging"],"milestone":{"id":1233757,"iid":54,"group_id":9970,"title":"13.7","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:43:14.893Z","updated_at":"2022-04-13T14:51:12.240Z","due_date":"2020-12-17","start_date":"2020-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/54"},"assignees":[{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"}],"author":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"type":"ISSUE","assignee":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/287826","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/287826","notes":"https://gitlab.com/api/v4/projects/278964/issues/287826/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/287826/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#287826","relative":"#287826","full":"gitlab-org/gitlab#287826"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3156,"epic":{"id":45158,"iid":3156,"title":"Allow group owners to define compliance pipeline configurations at the group level","url":"/groups/gitlab-org/-/epics/3156","group_id":9970,"human_readable_end_date":"Aug 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":74918819,"iid":287822,"project_id":278964,"title":"Comitting changes to an ambiguous ref doesn't work in single file editor","description":"### Summary\n\nIf you try to commit changes to an ambiguous ref (a branch which shares its name with a tag or vice-versa) in the single file editor, the operation errors out with:\n\n![error](https://gitlab.com/gitlab-org/gitlab/uploads/c77e6380ade1e87227f64a0e8f46fe61/image.png)","state":"closed","created_at":"2020-11-24T15:23:09.150Z","updated_at":"2022-01-31T03:05:43.891Z","closed_at":"2022-01-31T03:05:43.879Z","closed_by":{"id":1786152,"username":"gitlab-bot","name":"🤖 GitLab Bot 🤖","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1786152/avatar.png","web_url":"https://gitlab.com/gitlab-bot"},"labels":["[deprecated] Accepting merge requests","auto closed","backend","devops::create","frontend","group::editor","missed:13.11","missed:13.12","missed:14.0","priority::3","section::dev","severity::3","stale","type::bug","vintage"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":722076,"username":"matteeyah","name":"Matija Čupić","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8bc04cc15e0adba406cf56fecd9d910a?s=80\u0026d=identicon","web_url":"https://gitlab.com/matteeyah"},"type":"ISSUE","assignee":null,"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/287822","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/287822","notes":"https://gitlab.com/api/v4/projects/278964/issues/287822/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/287822/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#287822","relative":"#287822","full":"gitlab-org/gitlab#287822"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":74915690,"iid":287814,"project_id":278964,"title":"Auto-canceling pipelines times out causing pipeline not to be processed","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nCreating this issue after spotting this errors in Sentry https://sentry.gitlab.net/gitlab/gitlabcom/issues/1909105 that were recently introduced.\n\n```\nPG::QueryCanceled: ERROR:  canceling statement due to statement timeout\n```\n\n```sql\nSELECT \"ci_pipelines\".* FROM \"ci_pipelines\" \n  WHERE \"ci_pipelines\".\"project_id\" = $1 \n    AND (\"ci_pipelines\".\"source\" IN ($2, $3, $4, $5, $6, $7, $8, $9, $10, $11) OR \"ci_pipelines\".\"source\" IS NULL) \n    AND \"ci_pipelines\".\"ref\" = $12 \n    AND \"ci_pipelines\".\"id\" NOT IN (\n      WITH RECURSIVE \"base_and_descendants\" AS (\n       (WITH RECURSIVE \"base_and_ancestors\" AS (\n         (SELECT \"ci_pipelines\".* FROM \"ci_pipelines\" WHERE \"ci_pipelines\".\"id\" = $13)\n         UNION\n         (SELECT \"ci_pipelines\".* FROM \"ci_pipelines\", \"base_and_ancestors\", \"ci_sources_pipelines\" \n          WHERE \"ci_sources_pipelines\".\"source_pipeline_id\" = \"ci_pipelines\".\"id\" \n            AND \"ci_sources_pipelines\".\"pipeline_id\" = \"base_and_ancestors\".\"id\" \n            AND \"ci_sources_pipelines\".\"source_project_id\" = \"ci_sources_pipelines\".\"project_id\"\n         )\n       ) SELECT \"ci_pipelines\".* FROM \"base_and_ancestors\" AS \"ci_pipelines\"\n     )\n     UNION\n     (SELECT \"ci_pipelines\".* FROM \"ci_pipelines\", \"base_and_descendants\", \"ci_sources_pipelines\" \n      WHERE \"ci_sources_pipelines\".\"pipeline_id\" = \"ci_pipelines\".\"id\" \n        AND \"ci_sources_pipelines\".\"source_pipeline_id\" = \"base_and_descendants\".\"id\" \n        AND \"ci_sources_pipelines\".\"source_project_id\" = \"ci_sources_pipelines\".\"project_id\"\n     )\n   )\n   SELECT \"id\" FROM \"base_and_descendants\" AS \"ci_pipelines\"\n ) \n AND \"ci_pipelines\".\"sha\" != $14 \n AND (\"ci_pipelines\".\"status\" IN ($15,$16,$17,$18,$19,$20)) \n AND (NOT EXISTS (\n   SELECT \"ci_builds\".* FROM \"ci_builds\" \n   INNER JOIN \"ci_builds_metadata\" ON \"ci_builds_metadata\".\"build_id\" = \"ci_builds\".\"id\" \n   WHERE \"ci_builds\".\"type\" = $21 \n     AND (ci_builds.commit_id = ci_pipelines.id) \n     AND (\"ci_builds\".\"status\" IN ($22,$23,$24)) \n     AND (ci_builds_metadata.id NOT IN (SELECT \"ci_builds_metadata\".\"id\" FROM \"ci_builds_metadata\" WHERE (ci_builds_metadata.build_id = ci_builds.id) \n     AND \"ci_builds_metadata\".\"interruptible\" = $25)))) \nORDER BY \"ci_pipelines\".\"id\" ASC LIMIT $26 \n```\n\n\u003cdetails\u003e\n\n```\nfrom active_record/connection_adapters/postgresql_adapter.rb:675:in `exec_params'\n  from active_record/connection_adapters/postgresql_adapter.rb:675:in `block (2 levels) in exec_no_cache'\n  from active_support/dependencies/interlock.rb:48:in `block in permit_concurrent_loads'\n  from active_support/concurrency/share_lock.rb:187:in `yield_shares'\n  from active_support/dependencies/interlock.rb:47:in `permit_concurrent_loads'\n  from active_record/connection_adapters/postgresql_adapter.rb:674:in `block in exec_no_cache'\n  from active_record/connection_adapters/abstract_adapter.rb:722:in `block (2 levels) in log'\n  from active_support/concurrency/load_interlock_aware_monitor.rb:26:in `block (2 levels) in synchronize'\n  from active_support/concurrency/load_interlock_aware_monitor.rb:25:in `handle_interrupt'\n  from active_support/concurrency/load_interlock_aware_monitor.rb:25:in `block in synchronize'\n  from active_support/concurrency/load_interlock_aware_monitor.rb:21:in `handle_interrupt'\n  from active_support/concurrency/load_interlock_aware_monitor.rb:21:in `synchronize'\n  from active_record/connection_adapters/abstract_adapter.rb:721:in `block in log'\n  from active_support/notifications/instrumenter.rb:24:in `instrument'\n  from active_record/connection_adapters/abstract_adapter.rb:712:in `log'\n  from active_record/connection_adapters/postgresql_adapter.rb:673:in `exec_no_cache'\n  from active_record/connection_adapters/postgresql_adapter.rb:654:in `execute_and_clear'\n  from marginalia.rb:94:in `execute_and_clear_with_marginalia'\n  from active_record/connection_adapters/postgresql/database_statements.rb:98:in `exec_query'\n  from active_record/connection_adapters/abstract/database_statements.rb:489:in `select'\n  from active_record/connection_adapters/abstract/database_statements.rb:70:in `select_all'\n  from active_record/connection_adapters/abstract/query_cache.rb:107:in `select_all'\n  from active_record/querying.rb:46:in `find_by_sql'\n  from active_record/relation.rb:821:in `block in exec_queries'\n  from active_record/relation.rb:836:in `block in skip_query_cache_if_necessary'\n  from active_record/connection_adapters/abstract/query_cache.rb:79:in `uncached'\n  from active_record/query_cache.rb:21:in `uncached'\n  from active_record/relation/delegation.rb:66:in `block in uncached'\n  from active_record/relation.rb:407:in `block in scoping'\n  from active_record/relation.rb:784:in `_scoping'\n  from active_record/relation.rb:407:in `scoping'\n  from active_record/relation/delegation.rb:66:in `uncached'\n  from active_record/relation.rb:835:in `skip_query_cache_if_necessary'\n  from active_record/relation.rb:808:in `exec_queries'\n  from active_record/association_relation.rb:36:in `exec_queries'\n  from active_record/relation.rb:626:in `load'\n  from active_record/relation.rb:250:in `records'\n  from active_record/relation/batches.rb:224:in `block in in_batches'\n  from active_record/relation/batches.rb:222:in `loop'\n  from active_record/relation/batches.rb:222:in `in_batches'\n  from active_record/relation/batches.rb:135:in `find_in_batches'\n  from active_record/relation/batches.rb:69:in `find_each'\n  from gitlab/ci/pipeline/chain/cancel_pending_pipelines.rb:14:in `block in perform!'\n  from gitlab/optimistic_locking.rb:11:in `block in retry_lock'\n  from active_record/connection_adapters/abstract/database_statements.rb:280:in `block in transaction'\n  from active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'\n  from active_support/concurrency/load_interlock_aware_monitor.rb:26:in `block (2 levels) in synchronize'\n  from active_support/concurrency/load_interlock_aware_monitor.rb:25:in `handle_interrupt'\n  from active_support/concurrency/load_interlock_aware_monitor.rb:25:in `block in synchronize'\n  from active_support/concurrency/load_interlock_aware_monitor.rb:21:in `handle_interrupt'\n  from active_support/concurrency/load_interlock_aware_monitor.rb:21:in `synchronize'\n  from active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'\n  from active_record/connection_adapters/abstract/database_statements.rb:280:in `transaction'\n  from active_record/transactions.rb:212:in `transaction'\n  from gitlab/optimistic_locking.rb:10:in `retry_lock'\n  from gitlab/ci/pipeline/chain/cancel_pending_pipelines.rb:13:in `perform!'\n  from gitlab/ci/pipeline/chain/sequence.rb:19:in `block in build!'\n  from gitlab/ci/pipeline/chain/sequence.rb:16:in `each'\n  from gitlab/ci/pipeline/chain/sequence.rb:16:in `build!'\n  from ci/create_pipeline_service.rb:81:in `execute'\n  from ci/create_pipeline_service.rb:93:in `execute!'\n  from run_pipeline_schedule_worker.rb:25:in `run_pipeline_schedule'\n  from run_pipeline_schedule_worker.rb:17:in `perform'\n  from sidekiq/processor.rb:192:in `execute_job'\n  from sidekiq/processor.rb:165:in `block (2 levels) in process'\n  from sidekiq/middleware/chain.rb:128:in `block in invoke'\n  from gitlab/metrics/sidekiq_middleware.rb:18:in `block in call'\n  from gitlab/metrics/transaction.rb:61:in `run'\n  from gitlab/metrics/sidekiq_middleware.rb:18:in `call'\n  from sidekiq/middleware/chain.rb:130:in `block in invoke'\n  from gitlab/sidekiq_middleware/duplicate_jobs/strategies/until_executing.rb:16:in `perform'\n  from gitlab/sidekiq_middleware/duplicate_jobs/duplicate_job.rb:40:in `perform'\n  from gitlab/sidekiq_middleware/duplicate_jobs/server.rb:8:in `call'\n  from sidekiq/middleware/chain.rb:130:in `block in invoke'\n  from gitlab/sidekiq_middleware/worker_context.rb:9:in `wrap_in_optional_context'\n  from gitlab/sidekiq_middleware/worker_context/server.rb:17:in `block in call'\n  from gitlab/application_context.rb:54:in `block in use'\n  from labkit/context.rb:32:in `with_context'\n  from gitlab/application_context.rb:54:in `use'\n  from gitlab/application_context.rb:21:in `with_context'\n  from gitlab/sidekiq_middleware/worker_context/server.rb:15:in `call'\n  from sidekiq/middleware/chain.rb:130:in `block in invoke'\n  from gitlab/sidekiq_status/server_middleware.rb:7:in `call'\n  from sidekiq/middleware/chain.rb:130:in `block in invoke'\n  from gitlab/sidekiq_versioning/middleware.rb:9:in `call'\n  from sidekiq/middleware/chain.rb:130:in `block in invoke'\n  from gitlab/sidekiq_middleware/admin_mode/server.rb:8:in `call'\n  from sidekiq/middleware/chain.rb:130:in `block in invoke'\n  from gitlab/sidekiq_middleware/instrumentation_logger.rb:7:in `call'\n  from sidekiq/middleware/chain.rb:130:in `block in invoke'\n  from labkit/middleware/sidekiq/server.rb:21:in `block in call'\n  from sidekiq/middleware/chain.rb:128:in `block in invoke'\n  from labkit/middleware/sidekiq/context/server.rb:14:in `block in call'\n  from labkit/context.rb:32:in `with_context'\n  from labkit/middleware/sidekiq/context/server.rb:13:in `call'\n  from sidekiq/middleware/chain.rb:130:in `block in invoke'\n  from sidekiq/middleware/chain.rb:133:in `invoke'\n  from labkit/middleware/sidekiq/server.rb:20:in `call'\n  from sidekiq/middleware/chain.rb:130:in `block in invoke'\n  from gitlab/sidekiq_middleware/batch_loader.rb:7:in `call'\n  from sidekiq/middleware/chain.rb:130:in `block in invoke'\n  from gitlab/sidekiq_middleware/extra_done_log_metadata.rb:7:in `call'\n  from sidekiq/middleware/chain.rb:130:in `block in invoke'\n  from gitlab/sidekiq_middleware/request_store_middleware.rb:10:in `block in call'\n  from gitlab/with_request_store.rb:17:in `enabling_request_store'\n  from gitlab/with_request_store.rb:10:in `with_request_store'\n  from gitlab/sidekiq_middleware/request_store_middleware.rb:9:in `call'\n  from sidekiq/middleware/chain.rb:130:in `block in invoke'\n  from gitlab/sidekiq_middleware/server_metrics.rb:35:in `call'\n  from sidekiq/middleware/chain.rb:130:in `block in invoke'\n  from gitlab/sidekiq_middleware/monitor.rb:8:in `block in call'\n  from gitlab/sidekiq_daemon/monitor.rb:49:in `within_job'\n  from gitlab/sidekiq_middleware/monitor.rb:7:in `call'\n  from sidekiq/middleware/chain.rb:130:in `block in invoke'\n  from marginalia/sidekiq_instrumentation.rb:10:in `call'\n  from sidekiq/middleware/chain.rb:130:in `block in invoke'\n  from raven/integrations/sidekiq.rb:9:in `call'\n  from sidekiq/middleware/chain.rb:130:in `block in invoke'\n  from sidekiq/middleware/chain.rb:133:in `invoke'\n  from sidekiq/processor.rb:164:in `block in process'\n  from sidekiq/processor.rb:137:in `block (6 levels) in dispatch'\n  from sidekiq/job_retry.rb:109:in `local'\n  from sidekiq/processor.rb:136:in `block (5 levels) in dispatch'\n  from sidekiq/rails.rb:43:in `block in call'\n  from active_support/execution_wrapper.rb:88:in `wrap'\n  from active_support/reloader.rb:72:in `block in wrap'\n  from active_support/execution_wrapper.rb:88:in `wrap'\n  from active_support/reloader.rb:71:in `wrap'\n  from sidekiq/rails.rb:42:in `call'\n  from sidekiq/processor.rb:132:in `block (4 levels) in dispatch'\n  from sidekiq/processor.rb:250:in `stats'\n  from sidekiq/processor.rb:127:in `block (3 levels) in dispatch'\n  from gitlab/sidekiq_logging/structured_logger.rb:18:in `call'\n  from sidekiq/processor.rb:126:in `block (2 levels) in dispatch'\n  from sidekiq/job_retry.rb:74:in `global'\n  from sidekiq/processor.rb:125:in `block in dispatch'\n  from sidekiq/logging.rb:48:in `with_context'\n  from sidekiq/logging.rb:42:in `with_job_hash_context'\n  from sidekiq/processor.rb:124:in `dispatch'\n  from sidekiq/processor.rb:163:in `process'\n  from sidekiq/processor.rb:83:in `process_one'\n  from sidekiq/processor.rb:71:in `run'\n  from sidekiq/util.rb:16:in `watchdog'\n  from sidekiq/util.rb:25:in `block in safe_thread'\n```\n\n\u003c/details\u003e\n\n### Steps to reproduce\n\n\u003c!-- Describe how one can reproduce the issue - this is very important. Please use an ordered list. --\u003e\n\nHaven't reproduced it yet but it should be possible by \n- having auto-canceling of pipelines enabled\n- creating a parent pipeline that spawns several child pipelines\n- before the parent pipeline complets, create a new pipeline for the same ref+sha that should cause the cancelation of the old one + child pipelines\n\n### Example Project\n\n\n### What is the current *bug* behavior?\n\n\u003c!-- Describe what actually happens. --\u003e\n\nAn error is raised and the user receives an `Undefined error (\u003ccorrelation_id\u003e)` message back with 500 response.\n\nThe user may see a new pipeline created successfully but it won't start because we fail auto-canceling old pipelines prior to start processing the new pipeline.\n\n### What is the expected *correct* behavior?\n\nPipeline should be created and old pipelines successfully canceled\n\n### Relevant logs and/or screenshots\n\nhttps://sentry.gitlab.net/gitlab/gitlabcom/issues/1909105\n\n### Output of checks\n\nThis bug happens on GitLab.com\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\nThe query that times out is located in the [Gitlab::Ci::Pipeline::Chain::CancelPendingPipelines](https://gitlab.com/gitlab-org/gitlab/-/blob/d596d4e777e4165c76d37cb5c98844a7f82eead2/lib/gitlab/ci/pipeline/chain/cancel_pending_pipelines.rb#L28-33) and could be related to the recent changes to `Ci::Pipeline#same_family_pipeline_ids` where we use a new `PipelineObjectHierarchy`.\n\n- If the issue is related to the fact that from a given pipeline we look for it's ancestor first and then all its descendants, in order to find all pipelines in the hierarchy, maybe we could fire those queries separately rather than having a very large statement. MR: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/46575\n- Query `with_only_interruptible_builds` in batches. Example of code in https://gitlab.com/gitlab-org/gitlab/-/issues/273733#note_439759339\n- Can `Chain::CancelPendingPipelines` perform this work asynchronously? Is it necessary to cancel pending pipelines prior to process a new one? Currently this step, being synchronous, becomes a critical path.","state":"closed","created_at":"2020-11-24T14:39:22.358Z","updated_at":"2022-04-18T03:04:26.333Z","closed_at":"2022-04-18T03:04:26.299Z","closed_by":{"id":1786152,"username":"gitlab-bot","name":"🤖 GitLab Bot 🤖","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1786152/avatar.png","web_url":"https://gitlab.com/gitlab-bot"},"labels":["Category:Continuous Integration","Seeking community contributions","Verify candidate","[deprecated] Accepting merge requests","auto closed","backend","bug::performance","devops::verify","gitlab.com","group::pipeline execution","missed:13.7","pipeline processing","priority::2","section::ops","severity::3","stale","type::bug","vintage","workflow::ready for development"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"type":"ISSUE","assignee":null,"user_notes_count":16,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/287814","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/287814","notes":"https://gitlab.com/api/v4/projects/278964/issues/287814/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/287814/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#287814","relative":"#287814","full":"gitlab-org/gitlab#287814"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5139,"epic":{"id":176102,"iid":5139,"title":"Bugs: Pipeline Schedules","url":"/groups/gitlab-org/-/epics/5139","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":74915049,"iid":287812,"project_id":278964,"title":"[Feature flag] Rollout of `ci_root_ancestor_for_pipeline_family`","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## What\n\nRemove the `:ci_root_ancestor_for_pipeline_family` feature flag introduced in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/46575/diffs\n\n## Owners\n\n- Team: ~\"group::continuous integration\" \n- Most appropriate slack channel to reach out to: `#g_ci`\n- Best individual to reach out to: @fabiopitino \n\n## Expectations\n\n### What are we expecting to happen?\n\nWe expect that query times will get better and that errors for the [following Sentry issue](https://sentry.gitlab.net/gitlab/gitlabcom/issues/1909105) will drop or disappear.\n\n### What might happen if this goes wrong?\n\nUnknown scenario.\n\n### What can we monitor to detect problems with this?\n\nPrimarily https://sentry.gitlab.net/gitlab/gitlabcom/issues/1909105 in Sentry\n\nDB query  times for [`Ci::PipelineSuccessUnlockArtifactsWorker` and `Ci::RefDeleteUnlockArtifactsWorker`](https://dashboards.gitlab.net/d/sidekiq-queue-detail/sidekiq-queue-detail?orgId=1\u0026from=1606206480000\u0026to=1606228139999\u0026var-PROMETHEUS_DS=Global\u0026var-environment=gprd\u0026var-stage=main\u0026var-queue=post_receive\u0026var-queue=pipeline_background:ci_pipeline_success_unlock_artifacts\u0026var-queue=pipeline_background:ci_ref_delete_unlock_artifacts) may also reduce as side-effect.\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n\n## Beta groups/projects\n\nIf applicable, any groups/projects that are happy to have this feature turned on early. Some organizations may wish to test big changes they are interested in with a small subset of users ahead of time for example.\n\n- `gitlab-org/gitlab` project\n- `gitlab-org`/`gitlab-com` groups\n- ...\n\n## Roll Out Steps\n\n- [x] Confirm that QA tests pass with the feature flag enabled (if you're unsure how, contact the relevant [stable counterpart in the Quality department](https://about.gitlab.com/handbook/engineering/quality/#individual-contributors))\n- [x] Enable on staging (`/chatops run feature set feature_name true --staging`)\n- [x] Test on staging\n- [x] Ensure that documentation has been updated\n- [x] Enable on GitLab.com for individual groups/projects listed above and verify behaviour  (`/chatops run feature set --project=gitlab-org/gitlab feature_name true`)\n- [x] Coordinate a time to enable the flag with the SRE oncall and release managers\n  - In `#production` mention `@sre-oncall` and `@release-managers`. Once an SRE on call and Release Manager on call confirm, you can proceed with the rollout\n- [x] Announce on the issue an estimated time this will be enabled on GitLab.com\n- [x] Enable on GitLab.com by running chatops command in `#production` (`/chatops run feature set feature_name true`)\n- [x] Cross post chatops Slack command to `#support_gitlab-com` ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#where-to-run-commands)) and in your team channel\n- [x] Announce on the issue that the flag has been enabled\n- [x] Remove feature flag and add changelog entry\n- [x] After the flag removal is deployed, [clean up the feature flag](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) by running chatops command in `#production` channel\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set --project=gitlab-org/gitlab feature_name false\n```","state":"closed","created_at":"2020-11-24T14:29:07.107Z","updated_at":"2020-12-11T16:50:34.811Z","closed_at":"2020-12-10T08:38:57.019Z","closed_by":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"labels":["Category:Continuous Integration","backend","bug::performance","devops::verify","feature flag","group::pipeline execution","section::ops"],"milestone":{"id":1233757,"iid":54,"group_id":9970,"title":"13.7","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:43:14.893Z","updated_at":"2022-04-13T14:51:12.240Z","due_date":"2020-12-17","start_date":"2020-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/54"},"assignees":[{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"}],"author":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"type":"ISSUE","assignee":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/287812","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":13,"completed_count":12},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"12 of 13 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/287812","notes":"https://gitlab.com/api/v4/projects/278964/issues/287812/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/287812/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#287812","relative":"#287812","full":"gitlab-org/gitlab#287812"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":74912098,"iid":287807,"project_id":278964,"title":"Github importer - import review comments","description":"### Summary\n\nCurrently Github [_pull request reviews_](https://docs.github.com/en/free-pro-team@latest/rest/reference/pulls#reviews) are not being imported.\n\n### Proposal solution\n\nCreate a new Github importer stage to process the pull request reviews of the imported pull requests.\n\n### Steps to reproduce\n\n\u003c!-- Describe how one can reproduce the issue - this is very important. Please use an ordered list. --\u003e\n\n### Example Project\n\n\u003c!-- If possible, please create an example project here on GitLab.com that exhibits the problematic \nbehavior, and link to it here in the bug report. If you are using an older version of GitLab, this \nwill also determine whether the bug is fixed in a more recent version. --\u003e\n\n### What is the current *bug* behavior?\n\n\u003c!-- Describe what actually happens. --\u003e\n\n### What is the expected *correct* behavior?\n\n\u003c!-- Describe what you should see instead. --\u003e\n\n### Relevant logs and/or screenshots\n\n\u003c!-- Paste any relevant logs - please use code blocks (```) to format console output, logs, and code\n as it's tough to read otherwise. --\u003e\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e","state":"closed","created_at":"2020-11-24T13:50:30.483Z","updated_at":"2021-05-18T21:21:29.705Z","closed_at":"2020-12-07T21:17:32.648Z","closed_by":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"labels":["Category:Importers","Github","Importer:GitHub","Next Up","Unplanned","backend","devops::manage","group::import","milestone::p1","section::dev","workflow::verification"],"milestone":{"id":1233757,"iid":54,"group_id":9970,"title":"13.7","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:43:14.893Z","updated_at":"2022-04-13T14:51:12.240Z","due_date":"2020-12-17","start_date":"2020-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/54"},"assignees":[{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"}],"author":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"type":"ISSUE","assignee":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/287807","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/287807","notes":"https://gitlab.com/api/v4/projects/278964/issues/287807/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/287807/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#287807","relative":"#287807","full":"gitlab-org/gitlab#287807"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3051,"epic":{"id":39431,"iid":3051,"title":"💡 GitHub Importer improvements","url":"/groups/gitlab-org/-/epics/3051","group_id":9970},"iteration":null,"health_status":null},{"id":74910874,"iid":287803,"project_id":278964,"title":"Fix the dismissed vulnerabilities without dismissal information and dismissal feedback","description":"## Why are we doing this work\n\nThere are **510** vulnerability records without dismissal information which couldn't be migrated as part of the effort done in #262112 because of the missing dismissal feedback records. We should fix the problem with these vulnerability records either by setting them back to the `DETECTED` state or setting the dismissal information with something as a placeholder.\n\n## Relevant links\n\n- The discussion about the broken entries: https://gitlab.com/gitlab-org/gitlab/-/issues/262112#note_446105373\n- The original background migration: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/46370\n\n## Implementation plan\n\n- [x] ~database Fix the broken dismissed vulnerability records by populating the missing dismissal information through a background migration\n  - [x] `vulnerability.dismissed_at` = `vulnerability.updated_at`\n  - [x] `vulnerability.dismissed_by_id` = `vulnerability.updated_by_id || vulnerability.last_edited_by_id || vulnerability.author_id`","state":"closed","created_at":"2020-11-24T13:29:30.866Z","updated_at":"2021-10-28T14:03:39.604Z","closed_at":"2021-04-07T18:07:09.004Z","closed_by":{"id":5721376,"username":"minac","name":"Mehmet Emin INAC","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d8bdee790902422e3554e411a173c7c0?s=80\u0026d=identicon","web_url":"https://gitlab.com/minac"},"labels":["Category:Vulnerability Management","Deliverable","backend","backend-weight::3","devops::secure","group::threat insights","maintenance::refactor","section::sec","type::maintenance","workflow::in dev"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":5721376,"username":"minac","name":"Mehmet Emin INAC","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d8bdee790902422e3554e411a173c7c0?s=80\u0026d=identicon","web_url":"https://gitlab.com/minac"}],"author":{"id":5721376,"username":"minac","name":"Mehmet Emin INAC","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d8bdee790902422e3554e411a173c7c0?s=80\u0026d=identicon","web_url":"https://gitlab.com/minac"},"type":"ISSUE","assignee":{"id":5721376,"username":"minac","name":"Mehmet Emin INAC","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d8bdee790902422e3554e411a173c7c0?s=80\u0026d=identicon","web_url":"https://gitlab.com/minac"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/287803","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/287803","notes":"https://gitlab.com/api/v4/projects/278964/issues/287803/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/287803/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#287803","relative":"#287803","full":"gitlab-org/gitlab#287803"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":74906784,"iid":287795,"project_id":278964,"title":"Reporter MR approval not working","description":"### Summary\n\nThe \"Merge Request approval segregation of duties\" isn't working. Reporter role group members with approval rights are unable to approve MRs.\n\n### Steps to reproduce\n\nFollowed the instructions: [Merge Request approval segregation of duties](https://docs.gitlab.com/ee/user/project/merge_requests/merge_request_approvals.html#merge-request-approval-segregation-of-duties)\n\n* Create new project: https://gitlab.com/niklasjanz/reporter-merge-approval\n* Create new group: https://gitlab.com/reporter-mr-approval\n* Add user as reporter to group\n![image](/uploads/de480ff5994deeb72a4a08608ced725e/image.png)\n* Add group to project as reporter role\n![image](/uploads/0b6b0a9da5abebdba4285bbc343bc434/image.png)\n* Add approval rule with the group as `Approvers`\n![image](/uploads/02b2f548185fde8e76d20bbd7e41d66c/image.png)\n![image](/uploads/5fb04e468da626ebc3286946454afee9/image.png)\n* Create MR: https://gitlab.com/niklasjanz/reporter-merge-approval/-/merge_requests/1\n* Let the reporter group user approve the MR\n\n### Example Project\n\nhttps://gitlab.com/niklasjanz/reporter-merge-approval\n\n### What is the current *bug* behavior?\n\n@nelbacha can't see the `Approve` button in order to approve the [MR](https://gitlab.com/niklasjanz/reporter-merge-approval/-/merge_requests/1).\n\n![image](/uploads/e8ffdabbd8adf15d96a0b5ba3d870660/image.png)\n\n### What is the expected *correct* behavior?\n\n@nelbacha should be able to approve the [pending MR](https://gitlab.com/niklasjanz/reporter-merge-approval/-/merge_requests/1).\n\n\n### Relevant logs and/or screenshots\n\n\u003c!-- Paste any relevant logs - please use code blocks (```) to format console output, logs, and code\n as it's tough to read otherwise. --\u003e\n\n### Output of checks\n\nThis bug happens on GitLab.com","state":"closed","created_at":"2020-11-24T12:09:12.149Z","updated_at":"2022-10-28T20:25:00.393Z","closed_at":"2021-06-09T08:59:09.853Z","closed_by":{"id":3379682,"username":"vshushlin","name":"Vladimir Shushlin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3379682/avatar.png","web_url":"https://gitlab.com/vshushlin"},"labels":["Category:Compliance Management","Category:Release Orchestration","backend","candidate::14.0","cicd::active","customer","devops::release","group::release","priority::2","section::ops","severity::2","type::bug","workflow::in review"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":3379682,"username":"vshushlin","name":"Vladimir Shushlin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3379682/avatar.png","web_url":"https://gitlab.com/vshushlin"}],"author":{"id":7538998,"username":"niklasjanz","name":"Niklas Janz","state":"active","avatar_url":"https://secure.gravatar.com/avatar/35f35cc8a7457244ef35e3c661369c57?s=80\u0026d=identicon","web_url":"https://gitlab.com/niklasjanz"},"type":"ISSUE","assignee":{"id":3379682,"username":"vshushlin","name":"Vladimir Shushlin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3379682/avatar.png","web_url":"https://gitlab.com/vshushlin"},"user_notes_count":38,"merge_requests_count":0,"upvotes":6,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/287795","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/287795","notes":"https://gitlab.com/api/v4/projects/278964/issues/287795/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/287795/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#287795","relative":"#287795","full":"gitlab-org/gitlab#287795"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":74905348,"iid":287789,"project_id":278964,"title":"Flaky test './ee/spec/features/projects/pipelines/pipeline_spec.rb[1:4:2:1:2:2]' # Pipeline GET /:project/pipelines/:id/codequality_report for a merge request pipeline behaves like full codequality report with code quality artifact shows code quality repo","description":"https://gitlab.com/gitlab-org/gitlab/-/jobs/868863657\n\n```\n  1) Pipeline GET /:project/pipelines/:id/codequality_report for a merge request pipeline behaves like full codequality report with code quality artifact shows code quality report section\n     Got 1 failure and 1 other error:\n     Shared Example Group: \"full codequality report\" called from ./ee/spec/features/projects/pipelines/pipeline_spec.rb:231\n     1.1) Failure/Error: expect(page).to have_content('Loading codeclimate report')\n            expected to find text \"Loading codeclimate report\" in \"Skip to content GitLab Projects Groups More Help P project193 Project overview Repository Issues 0 Merge Requests 1 CI / CD Pipelines Editor Jobs Artifacts Schedules Operations Packages \u0026 Registries Analytics Wiki Snippets Members Collapse sidebar John Doe357 project193 Pipelines #35 pending Pipeline #35 triggered just now by Cancel running Merge branch 'branch-merged' into 'master' adds bar folder and branch-test text file to check Repository merged_to_root_ref method See merge request !12 1 job for !1 with master into feature stuck b83d6e39 1 related merge request: !1 My title 6 Pipeline Needs Jobs 1 Tests 0 Code Quality Found 3 code quality issues Major - Method `new_array` has 12 arguments (exceeds 4 allowed). Consider refactoring. in foo.rb:10 Major - Method `new_backwards_array` has 12 arguments (exceeds 4 allowed). Consider refactoring. in foo.rb:14 Minor - Avoid parameter lists longer than 5 parameters. [12/5] in foo.rb:14\"\n          # ./ee/spec/features/projects/pipelines/pipeline_spec.rb:195:in `block (5 levels) in \u003ctop (required)\u003e'\n          # ./spec/spec_helper.rb:347:in `block (3 levels) in \u003ctop (required)\u003e'\n          # ./spec/support/sidekiq_middleware.rb:9:in `with_sidekiq_server_middleware'\n          # ./spec/spec_helper.rb:338:in `block (2 levels) in \u003ctop (required)\u003e'\n          # ./spec/spec_helper.rb:334:in `block (3 levels) in \u003ctop (required)\u003e'\n          # ./spec/spec_helper.rb:334:in `block (2 levels) in \u003ctop (required)\u003e'\n     1.2) Failure/Error: raise JSConsoleError, message\n          JSConsoleError:\n            Unexpected browser console output:\n            http://127.0.0.1:42763/namespace44/project193/-/pipelines/35/codequality_report - A preload for 'http://127.0.0.1:42763/assets/fontawesome-webfont-2adefcbc041e7d18fcf2d417879dc5a09997aa64d675b7a3c4b6ce33da13f3fe.woff2?v=4.7.0' is found, but is not used because the request credentials mode does not match. Consider taking a look at crossorigin attribute.\n            http://127.0.0.1:42763/namespace44/project193/-/pipelines/35/codequality_report - The resource http://127.0.0.1:42763/assets/fontawesome-webfont-2adefcbc041e7d18fcf2d417879dc5a09997aa64d675b7a3c4b6ce33da13f3fe.woff2?v=4.7.0 was preloaded using link preload but not used within a few seconds from the window's load event. Please make sure it has an appropriate `as` value and it is preloaded intentionally.\n          # ./spec/support/capybara.rb:172:in `block (2 levels) in \u003ctop (required)\u003e'\n          # ./spec/spec_helper.rb:347:in `block (3 levels) in \u003ctop (required)\u003e'\n          # ./spec/support/sidekiq_middleware.rb:9:in `with_sidekiq_server_middleware'\n          # ./spec/spec_helper.rb:338:in `block (2 levels) in \u003ctop (required)\u003e'\n          # ./spec/spec_helper.rb:334:in `block (3 levels) in \u003ctop (required)\u003e'\n          # ./spec/spec_helper.rb:334:in `block (2 levels) in \u003ctop (required)\u003e'\nFinished in 15 minutes 32 seconds (files took 41.99 seconds to load)\n243 examples, 1 failure\nFailed examples:\nrspec './ee/spec/features/projects/pipelines/pipeline_spec.rb[1:4:2:1:2:2]' # Pipeline GET /:project/pipelines/:id/codequality_report for a merge request pipeline behaves like full codequality report with code quality artifact shows code quality report section\n```\n\n![pipeline_get_project_pipelines_id_codequality_report_for_a_merge_request_pipeline_behaves_like_full_](/uploads/ef0902fcf2d3d9207fe2fbdb67ad7140/pipeline_get_project_pipelines_id_codequality_report_for_a_merge_request_pipeline_behaves_like_full_.png)\n\n[pipeline_get_project_pipelines_id_codequality_report_for_a_merge_request_pipeline_behaves_like_full_.html](/uploads/19852d35fc900af7486edff2143659cc/pipeline_get_project_pipelines_id_codequality_report_for_a_merge_request_pipeline_behaves_like_full_.html)\n\nFrom what I understand, the test expect the page to include a content that is by definition supposed to disappear once the report is loaded (i.e. `Loading codeclimate report`), so I think this is very flaky in essence.","state":"closed","created_at":"2020-11-24T11:41:11.062Z","updated_at":"2020-11-30T16:14:37.269Z","closed_at":"2020-11-24T17:17:48.376Z","closed_by":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"labels":["Category:Code Quality","Engineering Productivity","devops::verify","failure::flaky-test","group::pipeline insights","test"],"milestone":{"id":1233757,"iid":54,"group_id":9970,"title":"13.7","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:43:14.893Z","updated_at":"2022-04-13T14:51:12.240Z","due_date":"2020-12-17","start_date":"2020-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/54"},"assignees":[{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"}],"author":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"type":"ISSUE","assignee":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/287789","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/287789","notes":"https://gitlab.com/api/v4/projects/278964/issues/287789/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/287789/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#287789","relative":"#287789","full":"gitlab-org/gitlab#287789"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":74897920,"iid":287777,"project_id":278964,"title":"Follow up enable by default `usage_data_i_snippets_show` flag","description":"In https://gitlab.com/gitlab-org/gitlab/-/merge_requests/48113 we introduced the flag `https://gitlab.com/gitlab-org/gitlab/-/merge_requests/48113` to control the HLL redis counter that tracks snippet show actions.\n\nThe flag was introduced as disabled by default, but we need to enable it by default once we ensure that there is no problem with it.","state":"closed","created_at":"2020-11-24T09:30:03.249Z","updated_at":"2020-12-04T06:49:48.042Z","closed_at":"2020-12-04T06:49:47.915Z","closed_by":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"labels":["Category:Snippets","backend","devops::create","group::editor","section::dev"],"milestone":{"id":1233757,"iid":54,"group_id":9970,"title":"13.7","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:43:14.893Z","updated_at":"2022-04-13T14:51:12.240Z","due_date":"2020-12-17","start_date":"2020-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/54"},"assignees":[{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"}],"author":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"type":"ISSUE","assignee":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/287777","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/287777","notes":"https://gitlab.com/api/v4/projects/278964/issues/287777/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/287777/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#287777","relative":"#287777","full":"gitlab-org/gitlab#287777"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":74897735,"iid":287776,"project_id":278964,"title":"Gemnasium panics when attempting to build dependency graph with duplicate packages","description":"### Summary\n\n[gemnasium](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium) will panic with the following error if a collision occurs when building the dependency tree:\n\n```\npanic: simple: node ID collision: 147\ngoroutine 1 [running]:\ngonum.org/v1/gonum/graph/simple.(*DirectedGraph).AddNode(0xc000137830, 0x8af8c0, 0xc0002d6740)\n\t/go/pkg/mod/gonum.org/v1/gonum@v0.8.1/graph/simple/directed.go:49 +0x206\ngitlab.com/gitlab-org/security-products/analyzers/gemnasium/v2/convert.NewGraph\n```\n\n### Steps to reproduce\n\n```\ndocker run -it --rm registry.gitlab.com/gitlab-org/security-products/analyzers/gemnasium:2 /bin/sh\n/ # git clone https://gitlab.com/gitlab-org/security-products/tests/js-npm.git /js-npm\ncd /js-npm\n/js-npm # yarn\n/js-npm # cp -R node_modules node_modules2\n/js-npm # /analyzer r\n\n[INFO] [Gemnasium] [2020-11-24T09:06:47Z] ▶ GitLab Gemnasium analyzer v2.21.0\n[INFO] [Gemnasium] [2020-11-24T09:06:47Z] ▶ Found project in /js-npm\n\npanic: simple: node ID collision: 147\n\ngoroutine 1 [running]:\ngonum.org/v1/gonum/graph/simple.(*DirectedGraph).AddNode(0xc0006d1830, 0x8af8c0, 0xc000102ab0)\n\t/go/pkg/mod/gonum.org/v1/gonum@v0.8.1/graph/simple/directed.go:49 +0x206\ngitlab.com/gitlab-org/security-products/analyzers/gemnasium/v2/convert.NewGraph\n```\n\n### Example Project\n\nhttps://gitlab.com/gitlab-org/security-products/tests/js-npm/-/jobs/868710353\n\n### What is the current *bug* behavior?\n\n`gemnasium` analyzer panics\n\n### What is the expected *correct* behavior?\n\n`gemnasium` analyzer should fail gracefully with an error message\n\n### Possible fixes\n\nThe error occurs because [func (*DirectedGraph) AddNode](https://godoc.org/gonum.org/v1/gonum/graph/simple#DirectedGraph.AddNode) \"panics if the added node ID matches an existing node ID\"\n\nWe can fix this by skipping the node if it already exists. This is to be changed in `convert.NewGraph`. The following draft MR has been created to implement this: [Draft: Fix node collision bug when building graph](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/-/merge_requests/131), but tests need to be added. See also [discussion](#note_453322083).\n\n```diff\ndiff --git a/convert/graph.go b/convert/graph.go\nindex 7ba7ac8..9ce10f5 100644\n--- a/convert/graph.go\n+++ b/convert/graph.go\n@@ -38,6 +38,13 @@ func NewGraph(pkgs []parser.Package, deps []parser.Dependency, index *Index) *Gr\n        for _, pkg := range pkgs {\n                p := pkg // prevent implicit memory aliasing in for loop, gosec G601\n                node := toNode(\u0026p)\n+               existingNode := dg.Node(node.ID())\n+\n+               if existingNode != nil {\n+                       // a node with the given package name and version already exists in the dependency graph, skip it\n+                       continue\n+               }\n+\n                dg.AddNode(node)\n        }\n```\n\nWe also need to add unit tests to check the above behaviour","state":"closed","created_at":"2020-11-24T09:27:01.665Z","updated_at":"2021-09-17T16:50:12.765Z","closed_at":"2021-07-22T05:51:50.814Z","closed_by":{"id":1958785,"username":"fcatteau","name":"Fabien Catteau","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1958785/avatar.png","web_url":"https://gitlab.com/fcatteau"},"labels":["Category:Dependency Scanning","Deliverable","Enterprise Edition","GitLab Ultimate","[deprecated] Accepting merge requests","backend","customer","devops::secure","group::composition analysis","priority::3","section::sec","severity::3","type::bug","workflow::production"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":1958785,"username":"fcatteau","name":"Fabien Catteau","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1958785/avatar.png","web_url":"https://gitlab.com/fcatteau"}],"author":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"type":"ISSUE","assignee":{"id":1958785,"username":"fcatteau","name":"Fabien Catteau","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1958785/avatar.png","web_url":"https://gitlab.com/fcatteau"},"user_notes_count":21,"merge_requests_count":0,"upvotes":4,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/287776","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/287776","notes":"https://gitlab.com/api/v4/projects/278964/issues/287776/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/287776/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#287776","relative":"#287776","full":"gitlab-org/gitlab#287776"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":74893711,"iid":287772,"project_id":278964,"title":"Misleading error on invalid job dependencies","description":"### Summary\n\nWhen invalid job dependencies are specified in the YAML configuration we drop the job prior to running it and display the following message to the user:\n\n![Screen_Shot_2022-02-18_at_10.26.37](/uploads/03638172f6f77ec40b3a0b594fa87c39/Screen_Shot_2022-02-18_at_10.26.37.png)\n\nThe message indicates only one of many reasons why this job has invalid dependencies.\n\n### Steps to reproduce\n\n```yaml\nrspec:\n  needs:\n    - project: org/another-project\n      job: the-dependency\n      ref: master\n      artifacts: true\n```\n\nThis can fail because of several reasons:\n\n1. [Cross project artifacts download](https://docs.gitlab.com/ee/ci/yaml/#cross-project-artifact-downloads-with-needs) feature is not available for the given project/plan\n1. User doesn't have permissions to read the job in that project\n1. Specific combination of `project - job - ref` was not found or job was not successful\n\n```yaml\nrspec:\n  needs:\n    - pipeline: $UPSTREAM_PIPELINE_ID\n      job: the-dependency\n      artifacts: true\n```\n\nThis new syntax being introduced for https://gitlab.com/gitlab-org/gitlab/-/issues/255983 can fail if:\n\n1. Pipeline was not found in the current pipeline's hierarchy (parent-child pipelines) - must be part of the same hierarchy excluding current pipeline\n1. Specific combination of `pipeline - job` was not found or job was not successful\n\n### Example Project\n\n### What is the current *bug* behavior?\n\nThe message is misleading because it refers only to partial use cases.\n\n### What is the expected *correct* behavior?\n\nA more exhaustive error message should be used. Either a message that can include all possible cases why this may fail or a specific error message according to the condition that fails first. \n\nIn any case we should link to the right documentation section as `dependencies` key is only one of many cases that we support to define dependencies (e.g. `needs` for local, cross-project and cross-pipeline artifacts download).\n\n### Proposal\n\nIf we can get the list of needed artifacts:\n```\nThis job could not start because it could not retrieve the needed artifacts: \n\u003clist of artifacts here\u003e\nLearn More.\n```\n\nIf we cannot get the list of artifacts (see design below)\n```\nThis job could not start because it could not retrieve the needed artifacts. \nLearn More.\n```","state":"closed","created_at":"2020-11-24T08:35:00.972Z","updated_at":"2022-09-01T08:06:49.209Z","closed_at":"2022-04-29T17:28:47.105Z","closed_by":{"id":4626651,"username":"allison.browne","name":"Allison Browne","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4bc33904c3bd3f2dce3db4e5af4ad1ae?s=80\u0026d=identicon","web_url":"https://gitlab.com/allison.browne"},"labels":["Category:Continuous Integration","FY23::Q2","OKR","SUS::Impacting","Technical Writing","UI text","UX","backend","devops::verify","documentation","group::pipeline execution","missed-SLO","missed:14.9","priority::2","section::ops","severity::2","type::bug","workflow::verification"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":4626651,"username":"allison.browne","name":"Allison Browne","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4bc33904c3bd3f2dce3db4e5af4ad1ae?s=80\u0026d=identicon","web_url":"https://gitlab.com/allison.browne"}],"author":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"type":"ISSUE","assignee":{"id":4626651,"username":"allison.browne","name":"Allison Browne","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4bc33904c3bd3f2dce3db4e5af4ad1ae?s=80\u0026d=identicon","web_url":"https://gitlab.com/allison.browne"},"user_notes_count":60,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/287772","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/287772","notes":"https://gitlab.com/api/v4/projects/278964/issues/287772/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/287772/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#287772","relative":"#287772","full":"gitlab-org/gitlab#287772"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5125,"epic":{"id":175746,"iid":5125,"title":"Bugs: Artifacts","url":"/groups/gitlab-org/-/epics/5125","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":74885901,"iid":287765,"project_id":278964,"title":"Reduce number of queries being made by project.pipeline GraphQL field","description":"when [moving the `project.pipeline` graphql resolver over to using a `finder`](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/47521), the query came under more scrutiny and, as a result, we identified that in the generated query (pathological case) the query count is higher than we'd like.\n\nsome [initial exploratory work](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/48433) was carried done to extend lookahead to work for non-connection types but this work is incomplete.","state":"closed","created_at":"2020-11-24T04:39:21.914Z","updated_at":"2022-07-24T22:02:00.932Z","closed_at":"2022-07-24T22:02:00.922Z","closed_by":{"id":4310743,"username":"sethgitlab","name":"Seth Berger","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4310743/avatar.png","web_url":"https://gitlab.com/sethgitlab"},"labels":["Category:Continuous Integration","GraphQL","backend","devops::secure","group::dynamic analysis","maintenance::refactor","section::sec","type::maintenance","workflow::in dev"],"milestone":null,"assignees":[{"id":9430722,"username":"mc_rocha","name":"Marcos Rocha","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9430722/avatar.png","web_url":"https://gitlab.com/mc_rocha"}],"author":{"id":5749348,"username":"philipcunningham","name":"Philip Cunningham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5749348/avatar.png","web_url":"https://gitlab.com/philipcunningham"},"type":"ISSUE","assignee":{"id":9430722,"username":"mc_rocha","name":"Marcos Rocha","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9430722/avatar.png","web_url":"https://gitlab.com/mc_rocha"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/287765","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/287765","notes":"https://gitlab.com/api/v4/projects/278964/issues/287765/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/287765/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#287765","relative":"#287765","full":"gitlab-org/gitlab#287765"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":74882007,"iid":287761,"project_id":278964,"title":"Remove unused vulnerability history endpoint from pipeline security tab","description":"The pipeline security tab has a security dashboard component that has a vulnerability history endpoint, but it's no longer used. Remove all code associated with it.","state":"closed","created_at":"2020-11-24T01:44:33.561Z","updated_at":"2021-07-19T19:54:52.120Z","closed_at":"2021-07-19T19:54:52.105Z","closed_by":{"id":4906978,"username":"lkerr","name":"Lindsay Kerr","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4906978/avatar.png","web_url":"https://gitlab.com/lkerr"},"labels":["Category:Vulnerability Management","auto updated","devops::secure","frontend","group::threat insights","section::sec","security dashboard"],"milestone":null,"assignees":[],"author":{"id":4907528,"username":"dftian","name":"Daniel Tian","state":"active","avatar_url":"https://secure.gravatar.com/avatar/5d7186a64c42708833291afd7749c7b5?s=80\u0026d=identicon","web_url":"https://gitlab.com/dftian"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/287761","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/287761","notes":"https://gitlab.com/api/v4/projects/278964/issues/287761/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/287761/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#287761","relative":"#287761","full":"gitlab-org/gitlab#287761"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":74874786,"iid":287757,"project_id":278964,"title":"FE: Ensure only threat monitoring alerts appear in the threat monitoring alert list and are actionable","description":"## Why are we doing this work\n- with the threat monitoring group using so much of the monitor group's ~backend, we need to make some adjustments so that our alerts (currently from Cilium, but potentially from more tools) do no show up the monitor's alert's table\n- we need to make sure their queries still get ONLY their data\n\n## Implementation plan\n- [x] ~frontend  update all graphql queries/mutations at https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/assets/javascripts/alert_management/graphql/ to only get monitor's alerts\n  - Per https://gitlab.com/gitlab-org/gitlab/-/merge_requests/48699#note_465997040, we will now use the `domain` property to get threat monitoring alerts\n- [x] ~frontend ensure alert statuses are still allowed to be changed (pending merge of !50208)\n- [x] ~frontend make query name change as suggested at https://gitlab.com/gitlab-org/gitlab/-/merge_requests/50011#note_473015815 and https://gitlab.com/gitlab-org/gitlab/-/merge_requests/50011#note_473015826","state":"closed","created_at":"2020-11-24T00:15:56.864Z","updated_at":"2021-02-10T16:00:20.949Z","closed_at":"2021-02-10T16:00:20.824Z","closed_by":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"labels":["Category:Container Network Security","Enterprise Edition","GitLab Ultimate","devops::govern","frontend","frontend-weight::3","group::security policies","missed:13.7","missed:13.8","section::sec","workflow::verification"],"milestone":{"id":1233760,"iid":56,"group_id":9970,"title":"13.9","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.334Z","updated_at":"2022-04-21T07:21:28.468Z","due_date":"2021-02-17","start_date":"2021-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/56"},"assignees":[{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"}],"author":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"type":"ISSUE","assignee":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/287757","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/287757","notes":"https://gitlab.com/api/v4/projects/278964/issues/287757/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/287757/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#287757","relative":"#287757","full":"gitlab-org/gitlab#287757"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3438,"epic":{"id":60085,"iid":3438,"title":"MVC: Initial Project Level Alert Dashboard","url":"/groups/gitlab-org/-/epics/3438","group_id":9970,"human_readable_end_date":"Dec 12, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":74874477,"iid":287756,"project_id":278964,"title":"FE: Allow for alert dismissal","description":"## Why are we doing this work\n- when a user has remedied an alert, they want to dismiss it so that they know no more actions are required\n- allow a user to dismiss the alert\n\n## Design\n- https://www.youtube.com/watch?v=HuZgaMKdJF0\u0026feature=youtu.be\n\n## Non-functional requirements\n- [ ] Documentation: I am waiting until the end to update the documentation as this feature is behind a feature flag\n- [ ] Feature flag: This feature is behind the `threat_monitoring_alerts` feature flag\n- [ ] Testing\n\n## Implementation plan\n- [ ] ~frontend copy the get mutation from https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/assets/javascripts/alert_management/graphql/mutations/update_alert_status.mutation.graphql or reuse it to set the status of an alert to `dismiss`/`ignored` (as seen [here](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/models/alert_management/alert.rb#L21))\n- [ ] ~frontend add a column to the table that has a button that allows for a user to dismiss the alert\n  - ~~when an alert is dismissed, the button should read `undo dismissal`~~\n  - create a dropdown that allows for status change","state":"closed","created_at":"2020-11-24T00:11:59.000Z","updated_at":"2020-12-15T22:57:27.505Z","closed_at":"2020-12-15T22:57:27.460Z","closed_by":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"labels":["Category:Container Network Security","Enterprise Edition","GitLab Ultimate","devops::govern","frontend","frontend-weight::3","group::security policies","section::sec","workflow::in review"],"milestone":{"id":1233757,"iid":54,"group_id":9970,"title":"13.7","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:43:14.893Z","updated_at":"2022-04-13T14:51:12.240Z","due_date":"2020-12-17","start_date":"2020-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/54"},"assignees":[{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"}],"author":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"type":"ISSUE","assignee":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/287756","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":5,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 5 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/287756","notes":"https://gitlab.com/api/v4/projects/278964/issues/287756/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/287756/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#287756","relative":"#287756","full":"gitlab-org/gitlab#287756"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3438,"epic":{"id":60085,"iid":3438,"title":"MVC: Initial Project Level Alert Dashboard","url":"/groups/gitlab-org/-/epics/3438","group_id":9970,"human_readable_end_date":"Dec 12, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":74873880,"iid":287755,"project_id":278964,"title":"FE: Create drawer and show it on alert select","description":"## Why are we doing this work\n- when a user is viewing alerts from threat monitoring alert's tab, the table only gives them a limited amount of information\n- a user will be able to click on an alert row in the table and a drawer will appear, which will give them more information\n\n## Design\n- https://www.youtube.com/watch?v=HuZgaMKdJF0\u0026feature=youtu.be\n\n## Non-functional requirements\n- [x] Documentation\n- [x] Testing\n\n## Implementation plan\n- [x] ~frontend copy the get query from https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/assets/javascripts/alert_management/graphql/queries/details.query.graphql or reuse it to get the details of the selected alert\n- [x] ~frontend create a drawer to show the details of the alert\n  - Severity\n  - Environment\n  - Started At\n  - Events\n  - Runbook:\n  - Key\n  - Iid\n  - Title\n  - Status\n  - Event count\n  - Monitoring tool\n  - Service\n  - Description\n  - Ended\n  - Hosts\n  - Details\n- [x] ~frontend when a row is selected, the drawer opens up displaying extra data for the row\n- [x] ~frontend the drawer can be closed","state":"closed","created_at":"2020-11-24T00:04:57.378Z","updated_at":"2021-07-29T12:45:00.018Z","closed_at":"2021-05-14T19:24:09.263Z","closed_by":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"labels":["Category:Container Network Security","Deliverable","Enterprise Edition","GitLab Ultimate","devops::govern","frontend","frontend-weight::5","group::security policies","section::sec","workflow::verification"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"}],"author":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"type":"ISSUE","assignee":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"user_notes_count":25,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/287755","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":6},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"6 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/287755","notes":"https://gitlab.com/api/v4/projects/278964/issues/287755/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/287755/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#287755","relative":"#287755","full":"gitlab-org/gitlab#287755"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5041,"epic":{"id":160259,"iid":5041,"title":"Follow-on Design Updates for Alert Dashboard","url":"/groups/gitlab-org/-/epics/5041","group_id":9970,"human_readable_end_date":"Jun 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":74873429,"iid":287726,"project_id":278964,"title":"FE: Get threat monitoring alerts and show them in a list (no actions available)","description":"## Why are we doing this work\n- when a user sets up to view alerts from Cilium, the alerts from Cilium should appear as a list in the threat monitoring alert's tab\n- a user will not be able to take any actions on these alerts\n\n## Design\n- https://www.youtube.com/watch?v=HuZgaMKdJF0\u0026feature=youtu.be\n\n## Non-functional requirements\n- [ ] Documentation: I am waiting until the end to update the documentation as this feature is behind a feature flag\n- [ ] Feature flag: This feature is behind the `threat_monitoring_alerts` feature flag\n- [ ] Testing\n\n## Implementation plan\n- [x] ~backend pass up the `project` full path to make the graphql query\n- [x] ~frontend copy the get query from https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/assets/javascripts/alert_management/graphql/queries/get_alerts.query.graphql or reuse it to get the data\n- [ ] ~frontend create a table to show the `Date and time`, `Name`, `Environment`, and `Cluster` columns","state":"closed","created_at":"2020-11-23T23:58:01.946Z","updated_at":"2021-05-04T23:46:12.819Z","closed_at":"2020-12-09T20:00:34.820Z","closed_by":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"labels":["Category:Container Network Security","Enterprise Edition","GitLab Ultimate","devops::govern","frontend","frontend-weight::5","group::security policies","section::sec","workflow::verification"],"milestone":{"id":1233757,"iid":54,"group_id":9970,"title":"13.7","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:43:14.893Z","updated_at":"2022-04-13T14:51:12.240Z","due_date":"2020-12-17","start_date":"2020-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/54"},"assignees":[{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"}],"author":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"type":"ISSUE","assignee":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/287726","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":2},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/287726","notes":"https://gitlab.com/api/v4/projects/278964/issues/287726/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/287726/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#287726","relative":"#287726","full":"gitlab-org/gitlab#287726"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3438,"epic":{"id":60085,"iid":3438,"title":"MVC: Initial Project Level Alert Dashboard","url":"/groups/gitlab-org/-/epics/3438","group_id":9970,"human_readable_end_date":"Dec 12, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":74870010,"iid":287713,"project_id":278964,"title":"Swimlanes - Creating an issue should add board scope to it","description":"When creating an issue in Swimlanes, it doesn't add the label/milestone/assignee which are defined in the current board scope. Classic board view supports this so it's expected Swimlanes should too.\n\nThis should rely on `boardConfig` object in VueX state.","state":"closed","created_at":"2020-11-23T22:24:04.552Z","updated_at":"2021-11-08T16:08:33.524Z","closed_at":"2021-01-18T23:38:42.597Z","closed_by":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"labels":["Category:Team Planning","boards","devops::plan","frontend","priority::2","section::dev","severity::2","type::bug","type::maintenance","workflow::production"],"milestone":{"id":1233760,"iid":56,"group_id":9970,"title":"13.9","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.334Z","updated_at":"2022-04-21T07:21:28.468Z","due_date":"2021-02-17","start_date":"2021-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/56"},"assignees":[{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"}],"author":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"type":"ISSUE","assignee":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"user_notes_count":8,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/287713","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/287713","notes":"https://gitlab.com/api/v4/projects/278964/issues/287713/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/287713/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#287713","relative":"#287713","full":"gitlab-org/gitlab#287713"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":74866540,"iid":287698,"project_id":278964,"title":"Global Search - Move Searchable Dropdown to vue_shared","description":"We created a pretty nifty component that is a generic searchable dropdown component using `GlSearchBoxByType` and `GlDropdown`.  We could move this to the shared folder to expose it to the ~frontend community.\n\nThe main problem area is the Global Search specific \"Any\" section.  To solve this I think we can simply add `\u003cslot\u003e` that adds a flexible section at the top of the dropdown to add any special dropdown items.\n\nFollow up from https://gitlab.com/gitlab-org/gitlab/-/merge_requests/48186","state":"closed","created_at":"2020-11-23T20:37:12.867Z","updated_at":"2023-01-03T20:55:36.903Z","closed_at":"2023-01-03T20:55:36.871Z","closed_by":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"labels":["Category:Global Search","[deprecated] Accepting merge requests","devops::data_stores","frontend","group::global search","javascript","section::enablement"],"milestone":null,"assignees":[],"author":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/287698","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/287698","notes":"https://gitlab.com/api/v4/projects/278964/issues/287698/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/287698/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#287698","relative":"#287698","full":"gitlab-org/gitlab#287698"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":74866534,"iid":287697,"project_id":278964,"title":"License Scanning vendored template changes to start the job within its stage not when pipeline starts","description":"\u003c!-- The first section \"Release notes\" is required if you want to have your release post blog MR auto generated. Currently in BETA, details on the **release post item generator** can be found in the handbook:  https://about.gitlab.com/handbook/marketing/blog/release-posts/#release-post-item-generator and this video: https://www.youtube.com/watch?v=rfn9ebgTwKg. The next four sections: \"Problem to solve\", \"Intended users\", \"User experience goal\", and \"Proposal\", are strongly recommended in your first draft, while the rest of the sections can be filled out during the problem validation or breakdown phase. However, keep in mind that providing complete and relevant information early helps our product team validate the problem and start working on a solution. --\u003e\n\n### Release notes\n\nhttps://docs.gitlab.com/ee/ci/yaml/#needs\n\nThe default CI template of License Scanning is changing so that the job will no longer start before previous stages finish. This was unexpected and inconsistent default behaviour.\n\nIf you have customized your `.gitlab-ci.yml` and explicitly set the `needs` attribute of the `license_scanning` job so that it only starts when its stage starts, you can now remove this customization.\n\nIf you use the License Scanning CI template without customization and wish to revert the behavior, customize your `.gitlab-ci.yml` by overriding the `license_scanning` job and setting `needs: []` in the job definition.\n\n### Summary\n\n\u003c!-- Summarize the bug encountered concisely. --\u003e\n\nBecause the [`needs`](https://docs.gitlab.com/ee/ci/yaml/#needs) param of the `license_scanning` job is an empty array it may start before previous stages finish. See [CI template](https://gitlab.com/gitlab-org/gitlab/-/blob/4050f448d553cff65cf2aab17d1ac1cc8104b5fe/lib/gitlab/ci/templates/Security/License-Scanning.gitlab-ci.yml#L24).\n\nAlso, `needs: []` is optimization for certain conditions, but it might slow down the pipeline or waste resources. See discussion on [pros \u0026 cons](#note_503764274).\n\nReview this behavior and look at commenting out or removing from template\n\nThis was initially reported in https://gitlab.com/gitlab-org/gitlab/-/issues/240945#note_452811728\n\n### Steps to reproduce\n\n\u003c!-- Describe how one can reproduce the issue - this is very important. Please use an ordered list. --\u003e\n\nsee https://gitlab.com/gitlab-org/gitlab/-/issues/240945\n\n### Example Project\n\n\u003c!-- If possible, please create an example project here on GitLab.com that exhibits the problematic \nbehavior, and link to it here in the bug report. If you are using an older version of GitLab, this \nwill also determine whether the bug is fixed in a more recent version. --\u003e\n\n### What is the current *bug* behavior?\n\n\u003c!-- Describe what actually happens. --\u003e\n\nlicense scanning starts right away\n\n### What is the expected *correct* behavior?\n\n\u003c!-- Describe what you should see instead. --\u003e\n\nlicense scanning waits if user made no changes for prior stage to finish\n\n### Relevant logs and/or screenshots\n\n### Output of checks\n\n### Implementation plan\n\n- [x] Review this behavior, and decide what needs to be done\n- [x] Possibly update https://gitlab.com/gitlab-org/gitlab/-/blob/4050f448d553cff65cf2aab17d1ac1cc8104b5fe/lib/gitlab/ci/templates/Security/License-Scanning.gitlab-ci.yml#L24 and remove `needs: []` line\n- [x] Check new template with different pipeline configurations\n  - [x] When pipeline has defined order of stage\n  - [x] When pipeline doesn't have defined order of stages\n  - [x] Check updated template with GitLab project CI configuration\n\nNo need to update documentation as this field isn't mention in License Compiance page","state":"closed","created_at":"2020-11-23T20:36:52.637Z","updated_at":"2021-02-18T07:09:30.763Z","closed_at":"2021-02-17T15:04:22.686Z","closed_by":{"id":1958785,"username":"fcatteau","name":"Fabien Catteau","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1958785/avatar.png","web_url":"https://gitlab.com/fcatteau"},"labels":["Category:License Compliance","Deliverable","Enterprise Edition","GitLab Ultimate","backend","devops::secure","group::composition analysis","priority::3","release post item","release post item::in review","section::sec","severity::3","type::bug","workflow::production"],"milestone":{"id":1233760,"iid":56,"group_id":9970,"title":"13.9","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.334Z","updated_at":"2022-04-21T07:21:28.468Z","due_date":"2021-02-17","start_date":"2021-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/56"},"assignees":[{"id":1958785,"username":"fcatteau","name":"Fabien Catteau","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1958785/avatar.png","web_url":"https://gitlab.com/fcatteau"}],"author":{"id":3913516,"username":"NicoleSchwartz","name":"Nicole Schwartz","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3913516/avatar.png","web_url":"https://gitlab.com/NicoleSchwartz"},"type":"ISSUE","assignee":{"id":1958785,"username":"fcatteau","name":"Fabien Catteau","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1958785/avatar.png","web_url":"https://gitlab.com/fcatteau"},"user_notes_count":16,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/287697","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":6},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"6 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/287697","notes":"https://gitlab.com/api/v4/projects/278964/issues/287697/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/287697/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#287697","relative":"#287697","full":"gitlab-org/gitlab#287697"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":74864645,"iid":287691,"project_id":278964,"title":"Migrate from DS_DEFAULT_ANALYZERS to DS_EXCLUDED_ANALYZERS","description":"\u003c!-- The first four sections: \"Problem to solve\", \"Intended users\", \"User experience goal\", and \"Proposal\", are strongly recommended, while the rest of the sections can be filled out during the problem validation or breakdown phase. However, keep in mind that providing complete and relevant information early helps our product team validate the problem and start working on a solution. --\u003e\n\n### Problem to solve\n\n\u003c!-- What problem do we solve? Try to define the who/what/why of the opportunity as a user story. For example, \"As a (who), I want (what), so I can (why/value).\" --\u003e\n\nRight now, if you want to avoid running one particular DS analyzer, you need to remove it from the long string of analyzers and use that to set the `DS_DEFAULT_ANALYZERS` somewhere in your project's CI template. And, if you do this, it excludes you from future new analyzers. This gotcha is not obvious.\n\n### User experience goal\n\n\u003c!-- What is the single user experience workflow this problem addresses? \nFor example, \"The user should be able to use the UI/API/.gitlab-ci.yml with GitLab to \u003cperform a specific task\u003e\"\nhttps://about.gitlab.com/handbook/engineering/ux/ux-research-training/user-story-mapping/ --\u003e \n\nIt should be easier for a user to avoid running a particular analyzer without the risk of losing out on getting to use newly added analyzers.\n\n### Proposal\n\n\u003c!-- How are we going to solve the problem? Try to include the user journey! https://about.gitlab.com/handbook/journeys/#user-journey --\u003e\n\nWe could add a `DS_EXCLUDED_ANALYZERS` variable which would define the analyzers that the user wants to avoid running.\n\nProposed Removal in %14.0\n\n### Implementation plan\n\nStep 1: add `DS_EXCLUDED_ANALYZERS` variable\n- [x] update Dependency Scanning template to add `DS_EXCLUDED_ANALYZERS`: https://gitlab.com/gitlab-org/gitlab/blob/master/lib/gitlab/ci/templates/Security/Dependency-Scanning.gitlab-ci.yml \u003csup\u003e[1](#footnotes)\u003c/sup\u003e\n- [x] update documentation of `DS_EXCLUDED_ANALYZERS` variable, indicate `DS_DEFAULT_ANALYZERS` is deprecated: https://docs.gitlab.com/ee/user/application_security/dependency_scanning/#available-variables\n\nStep 2: to be done after official deprecation (not in this issue):\n- update development templates to use `DS_EXCLUDED_ANALYZERS`: https://gitlab.com/gitlab-org/gitlab/-/issues/333582\n- Remove `DS_DEFAULT_ANALYZERS`: See https://gitlab.com/gitlab-org/gitlab/-/issues/333299\n\n#### Notes:\n1. This must be added alongside `DS_DEFAULT_ANALYZERS` (i.e. not replacing the old variable) so as to not break existing user configurations.\n\n### Further details\n\nOnly the DS analyzers that are relevant for a project are ran, so this variable can be left blank and only the appropriate analyzers will run.\n\n\u003c!-- Include use cases, benefits, goals, or any other details that will help us understand the problem better. --\u003e\n\n### Limitations\n\n~~The current proposal would only work with Docker in Docker disabled, which is currently the default and will be the only way to run DS in the near future.~~\n\nDocker in Docker is no longer supported, so the above is no longer a problem.\n\n### Risks\n\nRemoving/renaming `DS_DEFAULT_ANALYZERS` could have unintended consequences. Removing it would break QA is it works right now.\n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/workflow.html#for-a-product-change\n\n* Add all known Documentation Requirements in this section. See https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements\n* If this feature requires changing permissions, update the permissions document. See https://docs.gitlab.com/ee/user/permissions.html --\u003e\n\n## Timing\n\nThe work should occur in 13.10 but not be default until as close to 14.0 as possible - if these both can coexist at the same time, great!\n\nWe'll also probably want to make a backlog item specific to 15.0 for full removal\n\n## Release Post\n\nthis MUST be announced in 13.9-14.0 per policy\n\n* [x] 13.9\n* [x] 13.10\n* [ ] 13.11 [MR](https://gitlab.com/gitlab-com/www-gitlab-com/-/merge_requests/77402)\n* [ ] 13.12 [MR](https://gitlab.com/gitlab-com/www-gitlab-com/-/merge_requests/78890)\n* [ ] 14.0 [MR](https://gitlab.com/gitlab-com/www-gitlab-com/-/merge_requests/77404)\n\n## Changelog\n\n* [ ] This MUST be announced in 14.0 changelog\n\n## Blog post\n\n* [x] [unfiltered blog post](https://about.gitlab.com/blog/2021/02/08/composition-analysis-14-deprecations-and-removals/)\n\n## Testing\n\nSET could add an end to end test such that the pipeline is checked before and after setting this in CI.\n```\n          expect(pipeline).to have_job('dependency_scanning')\n# Set EXCLUDED\n          expect(pipeline).not_to have_job('dependency_scanning')\n\n```","state":"closed","created_at":"2020-11-23T19:58:58.780Z","updated_at":"2022-05-20T10:10:07.934Z","closed_at":"2021-06-14T17:25:21.303Z","closed_by":{"id":4668304,"username":"ifrenkel","name":"Igor Frenkel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a73e8113c53ac25297ce751e59bbb1d3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifrenkel"},"labels":["Category:Dependency Scanning","Deliverable","Enterprise Edition","GitLab Ultimate","backend","deprecation","devops::secure","feature::enhancement","group::composition analysis","missed-deliverable","missed:13.10","missed:13.12","quad-planning::complete-action","release post item::in review","section::sec","type::feature","workflow::production"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":4668304,"username":"ifrenkel","name":"Igor Frenkel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a73e8113c53ac25297ce751e59bbb1d3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifrenkel"}],"author":{"id":3913516,"username":"NicoleSchwartz","name":"Nicole Schwartz","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3913516/avatar.png","web_url":"https://gitlab.com/NicoleSchwartz"},"type":"ISSUE","assignee":{"id":4668304,"username":"ifrenkel","name":"Igor Frenkel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a73e8113c53ac25297ce751e59bbb1d3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifrenkel"},"user_notes_count":16,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/287691","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":9,"completed_count":5},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"5 of 9 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/287691","notes":"https://gitlab.com/api/v4/projects/278964/issues/287691/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/287691/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#287691","relative":"#287691","full":"gitlab-org/gitlab#287691"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2725,"epic":{"id":23576,"iid":2725,"title":"Dependency Scanning - Complete to Loveable","url":"/groups/gitlab-org/-/epics/2725","group_id":9970,"human_readable_end_date":"May 17, 2023","human_readable_timestamp":"\u003cstrong\u003e4\u003c/strong\u003e months remaining"},"iteration":null,"health_status":"on_track"},{"id":74862675,"iid":287686,"project_id":278964,"title":"When using the comment text box to only apply a command, I'm falsely told to check my internet connection","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nShould applying a command to an issue fail, I'll be asked to check my internet connection...  I received an HTTP422 which means my Internet connection is fine, but the UI thinks otherwise despite receiving an error message from GitLab.\n\n### Steps to reproduce\n\nIn my example, I was attempting to add a label to an issue where the label does not exist.\n\n```\n/label ~\"Delivery team::Build\" \n```\n\nNote the above is the _only_ item in the comment box.\n\nBecause the label does not exist where I was attempting to use it, it's perfectly reasonable to not apply the label.  In fact, GitLab will respond with an HTTP422 with the following response:\n\n```\n{commands_changes: null, valid: false,…}\ncommands_changes: null\nerrors: {commands_only: [\"Failed to apply commands.\"], commands: [\"Failed to apply commands.\"]}\nvalid: false\n```\n\nBut this type of error is not indicative of a problem with my Internet connection.\n\n### What is the current *bug* behavior?\n\nThe UI asks me to check my internet connection:\n\n\u003e Your comment could not be submitted! Please check your network connection and try again.\n\n### What is the expected *correct* behavior?\n\nAn error message that better describes why the comment couldn't be submitted would be a much better user experience.  Something along the lines of:\n\n\u003e The command you attempted failed to apply\n\nBonus points if we can tell the user _why_.\n\n\n### Output of checks\n\nThis bug happens on GitLab.com","state":"closed","created_at":"2020-11-23T19:09:24.775Z","updated_at":"2021-04-13T14:07:38.927Z","closed_at":"2021-03-09T19:33:19.334Z","closed_by":{"id":4414431,"username":"thomasrandolph","name":"Thomas Randolph","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6462fcd577d8c957abd2dc23956cfbec?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomasrandolph"},"labels":["Category:Code Review Workflow","Deliverable","SUS::FY22 Q1 - Done","UX","bug::transient","devops::create","frontend","group::code review","issues","merge requests","priority::1","section::dev","severity::2","type::bug","workflow::production"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":4414431,"username":"thomasrandolph","name":"Thomas Randolph","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6462fcd577d8c957abd2dc23956cfbec?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomasrandolph"}],"author":{"id":2524675,"username":"skarbek","name":"John Skarbek","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c6455ce4726023aac6dd7fb0acd1f236?s=80\u0026d=identicon","web_url":"https://gitlab.com/skarbek"},"type":"ISSUE","assignee":{"id":4414431,"username":"thomasrandolph","name":"Thomas Randolph","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6462fcd577d8c957abd2dc23956cfbec?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomasrandolph"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/287686","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/287686","notes":"https://gitlab.com/api/v4/projects/278964/issues/287686/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/287686/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#287686","relative":"#287686","full":"gitlab-org/gitlab#287686"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":74861738,"iid":287682,"project_id":278964,"title":"Add Usage Ping to measure # of unique users pushing MRs for .gitlab-ci.yml (GMAU for self managed)","description":"[Pipeline authoring GMAU]( https://about.gitlab.com/handbook/product/ops-section-performance-indicators/#verifypipeline-authoring---gmau---number-of-unique-users-interacting-with-gitlab-ciyml-file) is defined as the number of users that are pushing MRs to .gitlab-ci.yml files. Since we'd like to count the on-going usage of our users with pipelines.\n\n### Objective\n\nAdd Usage Ping instrumentation to measure the number of times an MR was created for .gitlab-ci.yml file for our self-managed customers.\n\nIf it's impossible to track to the user level, we can measure at the instance level. Consider measuring the **average** number for all projects, or pick the top `X` active projects to track for a given instance.  Please be explicit on the metric being tracked in the issue and/or MR.\n\n### Technical Proposal\n\nFrom https://gitlab.com/gitlab-org/gitlab/-/issues/287682#note_507925061\n\n\u003e Since we try to measure the number of unique users, I think we can add use HLL Redis counter.\n\u003e\n\u003e Technical; we can add a new metric as the example below:\n\u003e\n\u003e * `MergeRequests::CreateService` -\u003e `NewMergeRequestWorker` -\u003e `MergeRequests::AfterCreateService`\n\u003e * -\u003e `merge_request_activity_counter.track_create_mr_action(user: current_user)`","state":"closed","created_at":"2020-11-23T18:40:58.238Z","updated_at":"2021-05-21T09:28:53.288Z","closed_at":"2021-03-30T11:21:21.336Z","closed_by":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"labels":["Category:Pipeline Authoring","Deliverable","backend","devops::verify","group::pipeline authoring","missed-deliverable","missed:13.10","section::ops","type::feature","workflow::production"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"}],"author":{"id":5709468,"username":"cheryl.li","name":"Cheryl Li","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5709468/avatar.png","web_url":"https://gitlab.com/cheryl.li"},"type":"ISSUE","assignee":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/287682","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/287682","notes":"https://gitlab.com/api/v4/projects/278964/issues/287682/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/287682/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#287682","relative":"#287682","full":"gitlab-org/gitlab#287682"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4985,"epic":{"id":150234,"iid":4985,"title":"Instrument Pipeline Authoring performance indicator: unique users that are pushing MRs for .gitlab-ci.yml","url":"/groups/gitlab-org/-/epics/4985","group_id":9970,"human_readable_end_date":"Apr 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":74861729,"iid":287681,"project_id":278964,"title":"FE: Show alerts tab","description":"## Why are we doing this work\n- the threat monitoring alerts show show up in a separate tab on the `Security \u0026 Compliance -\u003e Threat Monitoring` page\n\n## Design\n- https://www.youtube.com/watch?v=HuZgaMKdJF0\u0026feature=youtu.be\n\n\n## Implementation plan\n- [x] ~backend allow for the `threat_monitoring_alerts` feature flag to be accessible in the ~frontend \n- [x] ~frontend create a new tab for alerts that displays an empty div","state":"closed","created_at":"2020-11-23T18:40:32.301Z","updated_at":"2020-12-02T23:08:40.050Z","closed_at":"2020-12-02T23:08:39.973Z","closed_by":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"labels":["Category:Container Network Security","Enterprise Edition","GitLab Ultimate","devops::govern","frontend","frontend-weight::2","group::security policies","section::sec","workflow::verification"],"milestone":{"id":1233757,"iid":54,"group_id":9970,"title":"13.7","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:43:14.893Z","updated_at":"2022-04-13T14:51:12.240Z","due_date":"2020-12-17","start_date":"2020-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/54"},"assignees":[{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"}],"author":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"type":"ISSUE","assignee":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/287681","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":2},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/287681","notes":"https://gitlab.com/api/v4/projects/278964/issues/287681/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/287681/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#287681","relative":"#287681","full":"gitlab-org/gitlab#287681"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3438,"epic":{"id":60085,"iid":3438,"title":"MVC: Initial Project Level Alert Dashboard","url":"/groups/gitlab-org/-/epics/3438","group_id":9970,"human_readable_end_date":"Dec 12, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":74861685,"iid":287680,"project_id":278964,"title":"Experiment Cleanup: Make the trial phone number optional","description":"## Summary\n\nThe purpose of this issue is to clean up the code from the following experiment that was inconclusive. When this code is clean we short ensure all users receive the standard experience whereby the phone number field during trial signup is a required field. https://gitlab.com/groups/gitlab-org/-/epics/3704\n\n\n\n## Steps\n\n- [x] Determine whether the feature should apply to SaaS and/or self-managed\n- [x] Determine whether the feature should apply to EE - and which tiers - and/or Core\n- [x] Determine if tracking should be kept as is, removed, or modified.\n- [x] Migrate experiment to a default enabled [feature flag](https://docs.gitlab.com/ee/development/feature_flags/development.html) for one milestone and add a changelog.\n- [x] Ensure any relevant documentation has been updated.\n- [x] In the next milestone, [remove the feature flag](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up).\n- [x] After the flag removal is deployed, [clean up the feature/experiment feature flags](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) by running chatops command in `#production` channel","state":"closed","created_at":"2020-11-23T18:39:02.188Z","updated_at":"2020-12-03T12:45:47.127Z","closed_at":"2020-12-03T12:45:47.065Z","closed_by":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"labels":["Engineering","devops::growth","experiment::inconclusive","group::acquisition","growth experiment","section::growth","workflow::planning breakdown"],"milestone":{"id":1212252,"iid":48,"group_id":9970,"title":"Next 1-3 releases","description":"Issues which are not quite ready to schedule, but should be considered as part of the near-term roadmap.","state":"active","created_at":"2020-03-26T20:39:10.889Z","updated_at":"2020-03-26T20:39:10.889Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/48"},"assignees":[{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"}],"author":{"id":4413992,"username":"s_awezec","name":"Sam Awezec","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4413992/avatar.png","web_url":"https://gitlab.com/s_awezec"},"type":"ISSUE","assignee":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/287680","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":7,"completed_count":7},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"7 of 7 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/287680","notes":"https://gitlab.com/api/v4/projects/278964/issues/287680/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/287680/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#287680","relative":"#287680","full":"gitlab-org/gitlab#287680"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3704,"epic":{"id":72649,"iid":3704,"title":"Make the trial phone number optional","url":"/groups/gitlab-org/-/epics/3704","group_id":9970,"human_readable_end_date":"Dec 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":74861164,"iid":287678,"project_id":278964,"title":"Finish moving Karma spec `browser_spec`","description":"To finish removing `karma`, let's move the spec `spec/javascripts/lib/utils/browser_spec.js`. See [the epic](https://gitlab.com/groups/gitlab-org/-/epics/4900) for info how to move these from karma.","state":"closed","created_at":"2020-11-23T18:26:35.659Z","updated_at":"2021-08-26T10:36:15.638Z","closed_at":"2021-08-26T09:22:33.690Z","closed_by":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"labels":["[deprecated] Accepting merge requests","frontend","test"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"}],"author":{"id":2233420,"username":"pslaughter","name":"Paul Slaughter","state":"active","avatar_url":"https://secure.gravatar.com/avatar/631b25421eb206ab44cb2793ef09d881?s=80\u0026d=identicon","web_url":"https://gitlab.com/pslaughter"},"type":"ISSUE","assignee":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/287678","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/287678","notes":"https://gitlab.com/api/v4/projects/278964/issues/287678/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/287678/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#287678","relative":"#287678","full":"gitlab-org/gitlab#287678"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4900,"epic":{"id":143552,"iid":4900,"title":"Finish karma","url":"/groups/gitlab-org/-/epics/4900","group_id":9970,"human_readable_end_date":"Sep 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":74861004,"iid":287676,"project_id":278964,"title":"[Feature flag] Rollout threat_monitoring_alerts feature","description":"## What\n\nRemove the `:threat_monitoring_alerts` feature flag\n\n## Owners\n\n- Team: ~\"group::container security\" \n- Most appropriate slack channel to reach out to: `#g_protect_container_security`\n- Best individual to reach out to: @aturinske \n\n## Expectations\n\n### What are we expecting to happen?\n\n- when a user navigates to `Security \u0026 Compliance -\u003e Threat Monitoring`, there is an alert tab that displays alerts\n\n### What might happen if this goes wrong?\n\n- that page will not load\n- a user may not be able to navigate to any of the existing tabs on that page\n\n### What can we monitor to detect problems with this?\n\n- The `#g_protect_container_security` slack channel for complaints\n- Which dashboards from https://dashboards.gitlab.net are most relevant?\n\n## Beta groups/projects\n\nIf applicable, any groups/projects that are happy to have this feature turned on early. Some organizations may wish to test big changes they are interested in with a small subset of users ahead of time for example.\n\n- [x] Enable on a test project in staging for various interested parties to track progress (`/chatops run feature set --project=defend-team-test/network-policy-demo threat_monitoring_alerts true --staging`)\n  - Rollback command: `/chatops run feature set --project=defend-team-test/network-policy-demo threat_monitoring_alerts false --staging`\n\n## Roll Out Steps\n\n- [x] Confirm that QA tests pass with the feature flag enabled (if you're unsure how, contact the relevant [stable counterpart in the Quality department](https://about.gitlab.com/handbook/engineering/quality/#individual-contributors))\n- [x] Enable on staging (`/chatops run feature set threat_monitoring_alerts true --staging`)\n- [x] Test on staging\n- [x] Ensure that documentation has been updated; see https://gitlab.com/gitlab-org/gitlab/-/issues/299941\n- [x] Enable on GitLab.com for individual groups/projects listed above and verify behaviour  (`/chatops run feature set --project=gitlab-org/gitlab threat_monitoring_alerts true`)\n- [x] Coordinate a time to enable the flag with the SRE oncall and release managers\n  - In `#production` mention `@sre-oncall` and `@release-managers`. Once an SRE on call and Release Manager on call confirm, you can proceed with the rollout\n- [ ] Announce on the issue an estimated time this will be enabled on GitLab.com\n- [x] Enable on GitLab.com by running chatops command in `#production` (`/chatops run feature set threat_monitoring_alerts true`)\n- [ ] Cross post chatops Slack command to `#support_gitlab-com` ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#where-to-run-commands)) and in your team channel\n- [x] Announce on the issue that the flag has been enabled\n- [x] Remove feature flag and add changelog entry\n- [x] After the flag removal is deployed, [clean up the feature flag](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) by running chatops command in `#production` channel\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set --project=gitlab-org/gitlab threat_monitoring_alerts false\n```","state":"closed","created_at":"2020-11-23T18:21:20.580Z","updated_at":"2021-06-09T16:18:22.866Z","closed_at":"2021-05-25T18:41:25.025Z","closed_by":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"labels":["Category:Container Network Security","Enterprise Edition","GitLab Ultimate","devops::govern","feature flag","frontend","frontend-weight::2","group::security policies","missed:13.11","missed:13.7","missed:13.8","missed:13.9","section::sec","workflow::verification"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"}],"author":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"type":"ISSUE","assignee":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"user_notes_count":19,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/287676","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":14,"completed_count":11},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"11 of 14 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/287676","notes":"https://gitlab.com/api/v4/projects/278964/issues/287676/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/287676/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#287676","relative":"#287676","full":"gitlab-org/gitlab#287676"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3438,"epic":{"id":60085,"iid":3438,"title":"MVC: Initial Project Level Alert Dashboard","url":"/groups/gitlab-org/-/epics/3438","group_id":9970,"human_readable_end_date":"Dec 12, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":74860654,"iid":287675,"project_id":278964,"title":"Create a feature flag for threat-monitoring alerts","description":"## Why are we doing this work\n- there are a lot of moving pieces with the creation of the threat monitoring alerts page and it would be safer to create a feature flag to hide all the ~frontend work behind as we prepare for this feature\n\n## Relevant links\n- This feature fits the [criteria for when a feature flag should be used](https://docs.gitlab.com/ee/development/feature_flags/process.html#when-to-use-feature-flags)\n\n\n## Implementation plan\n- [ ] ~backend create the `threat_monitoring_alerts` feature flag","state":"closed","created_at":"2020-11-23T18:13:01.456Z","updated_at":"2020-12-02T22:45:49.132Z","closed_at":"2020-12-02T22:45:49.016Z","closed_by":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"labels":["Category:Container Network Security","Enterprise Edition","GitLab Ultimate","devops::govern","frontend","frontend-weight::2","group::security policies","section::sec","workflow::verification"],"milestone":{"id":1233757,"iid":54,"group_id":9970,"title":"13.7","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:43:14.893Z","updated_at":"2022-04-13T14:51:12.240Z","due_date":"2020-12-17","start_date":"2020-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/54"},"assignees":[{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"}],"author":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"type":"ISSUE","assignee":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/287675","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/287675","notes":"https://gitlab.com/api/v4/projects/278964/issues/287675/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/287675/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#287675","relative":"#287675","full":"gitlab-org/gitlab#287675"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3438,"epic":{"id":60085,"iid":3438,"title":"MVC: Initial Project Level Alert Dashboard","url":"/groups/gitlab-org/-/epics/3438","group_id":9970,"human_readable_end_date":"Dec 12, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":74860402,"iid":287674,"project_id":278964,"title":"retrieve-tests-metadata fails on fork pipelines","description":"```\n$ retrieve_tests_metadata\n/usr/local/bundle/gems/gitlab-4.14.1/lib/gitlab/request.rb:84:in `authorization_header': Please provide a private_token or auth_token for user (Gitlab::Error::MissingCredentials)\n\tfrom /usr/local/bundle/gems/gitlab-4.14.1/lib/gitlab/request.rb:50:in `block (2 levels) in \u003cclass:Request\u003e'\n\tfrom /usr/local/bundle/gems/gitlab-4.14.1/lib/gitlab/client/pipelines.rb:19:in `pipelines'\n\tfrom /usr/local/bundle/gems/gitlab-4.14.1/lib/gitlab.rb:28:in `method_missing'\n\tfrom scripts/api/get_job_id:41:in `find_job_with_filtered_pipelines'\n\tfrom scripts/api/get_job_id:31:in `execute'\n\tfrom scripts/api/get_job_id:103:in `\u003cmain\u003e'\n```\n\n(https://gitlab.com/winniehell/gitlab/-/jobs/867611135)\n\nThis was introduced within the last 3 days and is potentially related to https://gitlab.com/gitlab-org/gitlab/-/merge_requests/46424.","state":"closed","created_at":"2020-11-23T18:06:36.946Z","updated_at":"2022-03-16T11:47:53.262Z","closed_at":"2020-11-26T14:42:34.251Z","closed_by":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"labels":["Engineering Productivity","maintenance::pipelines","type::maintenance"],"milestone":{"id":1233757,"iid":54,"group_id":9970,"title":"13.7","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:43:14.893Z","updated_at":"2022-04-13T14:51:12.240Z","due_date":"2020-12-17","start_date":"2020-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/54"},"assignees":[{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"}],"author":{"id":14714,"username":"winniehell","name":"Winnie","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/14714/avatar.png","web_url":"https://gitlab.com/winniehell"},"type":"ISSUE","assignee":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"user_notes_count":5,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/287674","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/287674","notes":"https://gitlab.com/api/v4/projects/278964/issues/287674/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/287674/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#287674","relative":"#287674","full":"gitlab-org/gitlab#287674"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":74855277,"iid":287662,"project_id":278964,"title":"Lock old job artifacts","description":"### Summary\n\nWe want to lock artifacts that were created prior to defaulting the `locked` column of the `Ci::Pipeline` model to `:artifacts_locked`.\n\nMost (95%+) of all artifacts were created prior to this. We need to lock all the latest pipelines for every ref for every project. This needs to happen in a background migration.","state":"closed","created_at":"2020-11-23T16:16:44.665Z","updated_at":"2021-10-28T14:03:41.060Z","closed_at":"2021-01-13T15:36:48.007Z","closed_by":{"id":722076,"username":"matteeyah","name":"Matija Čupić","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8bc04cc15e0adba406cf56fecd9d910a?s=80\u0026d=identicon","web_url":"https://gitlab.com/matteeyah"},"labels":["CI artifacts","Category:Continuous Integration","devops::verify","group::pipeline execution","missed:13.7","section::ops","type::maintenance"],"milestone":{"id":1233759,"iid":55,"group_id":9970,"title":"13.8","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:13.983Z","updated_at":"2022-04-13T14:51:23.220Z","due_date":"2021-01-17","start_date":"2020-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/55"},"assignees":[{"id":722076,"username":"matteeyah","name":"Matija Čupić","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8bc04cc15e0adba406cf56fecd9d910a?s=80\u0026d=identicon","web_url":"https://gitlab.com/matteeyah"}],"author":{"id":722076,"username":"matteeyah","name":"Matija Čupić","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8bc04cc15e0adba406cf56fecd9d910a?s=80\u0026d=identicon","web_url":"https://gitlab.com/matteeyah"},"type":"ISSUE","assignee":{"id":722076,"username":"matteeyah","name":"Matija Čupić","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8bc04cc15e0adba406cf56fecd9d910a?s=80\u0026d=identicon","web_url":"https://gitlab.com/matteeyah"},"user_notes_count":23,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/287662","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/287662","notes":"https://gitlab.com/api/v4/projects/278964/issues/287662/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/287662/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#287662","relative":"#287662","full":"gitlab-org/gitlab#287662"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4923,"epic":{"id":144320,"iid":4923,"title":"Keep latest artifact feature epic","url":"/groups/gitlab-org/-/epics/4923","group_id":9970,"human_readable_end_date":"Feb 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"needs_attention"},{"id":74847468,"iid":287642,"project_id":278964,"title":"Branch API fails if branch contains '/'","description":"# Summary\nIn the GitLab API, branches with '/' character in name are individually inaccessible by typical means.\nThis is particularly noticeable when attempting to assess many projects with many branches.\n\n# Steps to Reproduce\nIn any project, create a branch with '/' in the name such as \"initial/test\".\nUsing the API, attempt to get the newly created branch. \nWhen using a valid token, this request returns a 404 error. \n_For typical branches, the branch information is returned._\n\n# Example Project\nhttps://gitlab.com/trevonmchansen/My-Test-Project\n\n# What is the current _bug_ behavior?\nWhen accessing single project branch via API wherein branch name contains '/', receive error 404:  \n`curl --header \"PRIVATE-TOKEN: \u003cyour_access_token\u003e\" \"https://gitlab.com/api/v4/projects/22469075/repository/branches/intial/test\"`\n\n_Note: This is `{\"error\":\"404 Not Found\"}`, not `{\"message\":\"404 Branch Not Found\"}`\n\n# What is the expected _correct_ behavior?\nReturn branch API information regardless of branch name. \n\n# Output of Checks\nThis bug only happens when accessing branches via GitLab API, or when visiting the branch path given via the API. \n\n# Possible Fixes\nCould be remedied by checking branch name for special characters and URL-encoding.  \nShould note that if visiting the API via browser:\n- This path: https://gitlab.com/api/v4/projects/22469075/repository/branches/inital/test\n    - Does not work\n- This path: https://gitlab.com/api/v4/projects/22469075/repository/branches/inital%2Ftest\n    - Does work","state":"closed","created_at":"2020-11-23T14:20:26.738Z","updated_at":"2021-04-18T07:06:10.459Z","closed_at":"2021-03-30T14:08:54.462Z","closed_by":{"id":421631,"username":"vyaklushin","name":"Vasilii Iakliushin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/421631/avatar.png","web_url":"https://gitlab.com/vyaklushin"},"labels":["Category:Source Code Management","Deliverable","api","backend","customer","devops::create","group::source code","missed-SLO","priority::3","section::dev","severity::2","type::bug","wontfix"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":421631,"username":"vyaklushin","name":"Vasilii Iakliushin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/421631/avatar.png","web_url":"https://gitlab.com/vyaklushin"}],"author":{"id":3748238,"username":"trevonmchansen","name":"Trevon McHansen","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3748238/avatar.png","web_url":"https://gitlab.com/trevonmchansen"},"type":"ISSUE","assignee":{"id":421631,"username":"vyaklushin","name":"Vasilii Iakliushin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/421631/avatar.png","web_url":"https://gitlab.com/vyaklushin"},"user_notes_count":16,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/287642","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/287642","notes":"https://gitlab.com/api/v4/projects/278964/issues/287642/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/287642/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#287642","relative":"#287642","full":"gitlab-org/gitlab#287642"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":74844562,"iid":287638,"project_id":278964,"title":"Improper access control while fetching packages for a given group and subgroups","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\n* For some [APIs](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/finders/packages/maven/package_finder.rb), we want to get the packages from a given group (including its subgroups)\n* On the other hand, inspecting the group policy we can see that the `read_package` is granted on a group if either:\n    * the group is [public](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/policies/group_policy.rb#L73-76)\n    * the given user has the [reporter access level](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/policies/group_policy.rb#L121-130) to the group\n\nThe problem, is that in the finders fetching those packages don't get projects [with a minimum permission level](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/finders/packages/maven/package_finder.rb#L58) (check the [scope definition](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/models/project.rb#L605))\n\nAs a result, this could lead to situations where `read_package` is granted in error.\n\nAs an example, take the following structure: `group/subgroup/project`. `group` and `subgroup` are public and `project` is private. The package `p` is in `project`.\n\n-\u003e A user with the `guest` access level to `p`, can still access to `p` if the finder starts from `group`. That's because, `p` is visible to the user even though the user has a `guest` access level but if we read the `group_policy.rb` file, the user should have access to it (the user needs at least the `reporter` access level which is [higher](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/access.rb#L14-15) than `guest`)\n\n### How to reproduce\n\n* Create a public group\n* Within it, create a private project\n* Push a maven package to that project ([gl_pru](https://gitlab.com/10io/gl_pru) is useful for that :smiley_cat: )\n* Create a user and a PAT\n* Invite this user to the project as `guest`\n* Check that with the user, the UI will not show you the packages at all.\n* Create a folder to pull the package\n   * Create a `settings.xml` file with:\n```xml\n\u003csettings\u003e\n  \u003cservers\u003e\n    \u003cserver\u003e\n      \u003cid\u003egitlab\u003c/id\u003e\n      \u003cconfiguration\u003e\n        \u003chttpHeaders\u003e\n          \u003cproperty\u003e\n            \u003cname\u003ePrivate-Token\u003c/name\u003e\n            \u003cvalue\u003eTHE_GUEST_USER_PAT_HERE\u003c/value\u003e\n          \u003c/property\u003e\n        \u003c/httpHeaders\u003e\n      \u003c/configuration\u003e\n    \u003c/server\u003e\n  \u003c/servers\u003e\n\u003c/settings\u003e\n```\n   * In the console, try to pull the package:\n```shell\nmvn dependency:get -DremoteRepositories=gitlab::default::https://gitlab.example.com/api/v4/groups/GROUP_ID/-/packages/maven  -Dartifact=MAVEN_PKG_GROUP_ID:MAVEN_PKG_ARTIFACT_ID:MAVEN_PKG_VERSION -Dtransitive=false -Ddest=. -s settings.xml \n```\n   * The package is downloaded and is available in `.` :cry: \n\n### What is the current *bug* behavior?\n\n`read_package` is granted for the conditions above\n\n### What is the expected *correct* behavior?\n\n`read_package` should be rejected for the conditions above\n\n### Possible fixes\n\n* Do not use [`.public_or_visible_to_user`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/models/project.rb#L605) without specifying the min access level. In this case, `Gitlab::Access::REPORTER`","state":"closed","created_at":"2020-11-23T13:30:23.720Z","updated_at":"2021-10-26T14:20:06.286Z","closed_at":"2021-04-15T13:02:34.702Z","closed_by":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"labels":["Category:Package Registry","Package:P1","[deprecated] Accepting merge requests","devops::package","group::package registry","priority::3","section::ops","security","security-awards::awarded","severity::3","type::bug","workflow::production"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"}],"author":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"type":"ISSUE","assignee":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"user_notes_count":16,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2021-02-28","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/287638","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/287638","notes":"https://gitlab.com/api/v4/projects/278964/issues/287638/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/287638/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#287638","relative":"#287638","full":"gitlab-org/gitlab#287638"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":74844335,"iid":287636,"project_id":278964,"title":"Auto-assign a user to a merge request","description":"### Release notes\n\nWhen a user clicks the \"Create merge request\" button from within an issue, that user will be automatically assigned to the MR. This will help an already smooth process of creating an issue-linked MR be even smoother. Most users click on the 'Create Merge Request' button because they wish to start working on an issue, so auto-assigning that user as the owner of the MR will save most users a step.\n\n### Problem to solve \n\nAs a developer about to start working on an issue, \nI want important but easy-to-forget steps to be handled for me\nSo that I can jump into the code as quickly as possible\n\nMost developers just want to code, and don't want to have to remember that they must set themselves as the owner of an MR after they've created a linked MR from an issue. This is already a fantastically convenient feature, but it falls short of amazing because there's still a fiddly part left to do (the developer must assign themselves) before they start.\n\nTeam leaders will appreciate the more reliable data around MR ownership, and developers will have one less step in a process to worry about\n\n### Intended users\n\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n\n### User experience goal\n\nIf done right, this feature will be transparent to users as it will be something that happens implicitly. The UX goal with this is that developers will move the cursor to assign the MR to themselves a few times, notice they're already assigned, smile to themselves, and move on with their day.\n\nIn terms of team management, the people in charge of making sure there's a constant flow of work will have a better idea of who is working on what and where they are if they see that MR's are linked, and owned, instead of just linked.\n\n### Proposal\n\nWhen a user clicks `Create Merge Request` from an issue they will automatically be assigned to the merge request.\n\n#### Implementation Notes\n\n - We should **NOT** implement this with a configurable setting.\n - Scope is **LIMITED** to only `Create Merge Request` button in issues.\n - A **Feature Flag** should not be used.\n\n### Documentation\n\n* Add all known Documentation Requirements in this section. See https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements\n* If this feature requires changing permissions, update the permissions document. See https://docs.gitlab.com/ee/user/permissions.html","state":"closed","created_at":"2020-11-23T13:26:30.305Z","updated_at":"2022-10-24T22:33:43.639Z","closed_at":"2022-03-15T17:33:30.042Z","closed_by":{"id":3473743,"username":"clenneville","name":"Christie Lenneville","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3473743/avatar.png","web_url":"https://gitlab.com/clenneville"},"labels":["Deliverable","UX FY21-Q4","backend","backend-weight::3","customer","devops::create","feature::enhancement","group::code review","merge requests","section::dev","type::feature"],"milestone":{"id":1233759,"iid":55,"group_id":9970,"title":"13.8","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:13.983Z","updated_at":"2022-04-13T14:51:23.220Z","due_date":"2021-01-17","start_date":"2020-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/55"},"assignees":[{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"}],"author":{"id":177680,"username":"gee-forr","name":"Gabriel Fortuna","state":"active","avatar_url":"https://secure.gravatar.com/avatar/25b34262c221944933ed0147a01f3074?s=80\u0026d=identicon","web_url":"https://gitlab.com/gee-forr"},"type":"ISSUE","assignee":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"user_notes_count":36,"merge_requests_count":0,"upvotes":4,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/287636","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/287636","notes":"https://gitlab.com/api/v4/projects/278964/issues/287636/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/287636/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#287636","relative":"#287636","full":"gitlab-org/gitlab#287636"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":74840287,"iid":287630,"project_id":278964,"title":"[Feature flag] Enable  design action usage data","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## What\n\nRemove the `:usage_data_design_action` feature flag.\n\n## Owners\n\n- Team: ~\"group::product planning\" \n- Most appropriate slack channel to reach out to: `#g_knowledge`\n- Best individual to reach out to: @alexkalderimis \n\n## Expectations\n\n### What are we expecting to happen?\n\n### What might happen if this goes wrong?\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n\n## Beta groups/projects\n\nIf applicable, any groups/projects that are happy to have this feature turned on early. Some organizations may wish to test big changes they are interested in with a small subset of users ahead of time for example.\n\n- `gitlab-org/gitlab` project\n- `gitlab-org`/`gitlab-com` groups\n- ...\n\n## Roll Out Steps\n\n- [ ] Confirm that QA tests pass with the feature flag enabled (if you're unsure how, contact the relevant [stable counterpart in the Quality department](https://about.gitlab.com/handbook/engineering/quality/#individual-contributors))\n- [ ] Enable on staging (`/chatops run feature set feature_name true --staging`)\n- [ ] Test on staging\n- [ ] Ensure that documentation has been updated\n- [ ] Enable on GitLab.com for individual groups/projects listed above and verify behaviour  (`/chatops run feature set --project=gitlab-org/gitlab feature_name true`)\n- [ ] Coordinate a time to enable the flag with the SRE oncall and release managers\n  - In `#production` by pinging `@sre-oncall`\n  - In `#g_delivery` by pinging `@release-managers`\n- [ ] Announce on the issue an estimated time this will be enabled on GitLab.com\n- [ ] Enable on GitLab.com by running chatops command in `#production` (`/chatops run feature set feature_name true`)\n- [ ] Cross post chatops Slack command to `#support_gitlab-com` ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#where-to-run-commands)) and in your team channel\n- [x] Announce on the issue that the flag has been enabled\n- [ ] Remove feature flag and add changelog entry\n- [ ] After the flag removal is deployed, [clean up the feature flag](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) by running chatops command in `#production` channel\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set --project=gitlab-org/gitlab feature_name false\n```","state":"closed","created_at":"2020-11-23T12:07:04.722Z","updated_at":"2021-09-18T07:00:42.063Z","closed_at":"2021-08-19T23:30:57.397Z","closed_by":{"id":3717078,"username":"cablett","name":"charlie ablett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3717078/avatar.png","web_url":"https://gitlab.com/cablett"},"labels":["Deliverable","Next Up","backend","devops::plan","feature flag","group::product planning","section::dev","workflow::ready for development"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"}],"author":{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"},"type":"ISSUE","assignee":{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/287630","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":13,"completed_count":1},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 13 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/287630","notes":"https://gitlab.com/api/v4/projects/278964/issues/287630/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/287630/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#287630","relative":"#287630","full":"gitlab-org/gitlab#287630"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":74839533,"iid":287629,"project_id":278964,"title":"[Feature flag] Rollout of `group_merge_request_approval_settings`","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## What\n\nRemove the `:group_merge_request_approval_settings` feature flag once the user-facing changes have been implemented in https://gitlab.com/groups/gitlab-org/-/epics/4367\n\n## Owners\n\n- Team: `Compliance`\n- Most appropriate slack channel to reach out to: `#g_manage_compliance`\n- Best individuals to reach out to: Tan Le (@tancnle) and Robert Hunt (@rob.hunt)\n\n## Expectations\n\nThe FF `group_merge_request_approval_settings` was introduced to facilitate the development of the new group merge request approval settings area in such a way as to make it as a painless and error-free as possible.\n\n### What are we expecting to happen?\n\n### What might happen if this goes wrong?\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n\n## Roll Out Steps\n\n- [ ] Ensure all the previous issues in https://gitlab.com/groups/gitlab-org/-/epics/4367 are completed\n- [ ] Enable on staging (`/chatops run feature set group_merge_request_approval_settings true --staging`)\n- [ ] Test on staging\n- [ ] Ensure that documentation has been updated\n- [ ] Enable on GitLab.com for individual groups/projects listed above and verify behaviour  (`/chatops run feature set --project=gitlab-org/gitlab group_merge_request_approval_settings true`)\n- [ ] Coordinate a time to enable the flag with `#production` and `#g_delivery` on slack.\n- [ ] Announce on the issue an estimated time this will be enabled on GitLab.com\n- [ ] Enable on GitLab.com by running chatops command in `#production` (`/chatops run feature set group_merge_request_approval_settings true`)\n- [ ] Cross post chatops Slack command to `#support_gitlab-com` ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#where-to-run-commands)) and in your team channel\n- [ ] Announce on the issue that the flag has been enabled\n- [ ] Remove feature flag and add changelog entry\n- [ ] After the flag removal is deployed, [clean up the feature flag](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) by running chatops command in `#production` channel","state":"closed","created_at":"2020-11-23T11:51:12.133Z","updated_at":"2022-02-10T22:37:58.714Z","closed_at":"2020-11-23T11:59:37.656Z","closed_by":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"labels":["Category:Compliance Management","Enterprise Edition","backend","devops::manage","feature flag","group::compliance","merge requests","section::dev","settings","type::feature","workflow::blocked"],"milestone":null,"assignees":[],"author":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/287629","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":12,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 12 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/287629","notes":"https://gitlab.com/api/v4/projects/278964/issues/287629/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/287629/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#287629","relative":"#287629","full":"gitlab-org/gitlab#287629"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5957,"epic":{"id":266916,"iid":5957,"title":"Group-level settings for merge request approval SETTINGS in child projects","url":"/groups/gitlab-org/-/epics/5957","group_id":9970,"human_readable_end_date":"Jan 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":74837148,"iid":287622,"project_id":278964,"title":"[Feature flag] Rollout of `ci_cross_pipeline_artifacts_download`","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## What\n\nRemove the `:ci_cross_pipeline_artifacts_download` feature flag related to https://gitlab.com/gitlab-org/gitlab/-/issues/255983 and introduced by https://gitlab.com/gitlab-org/gitlab/-/merge_requests/48342/diffs\n\n## Owners\n\n- Team: ~\"group::continuous integration\" \n- Most appropriate slack channel to reach out to: `#g_ci`\n- Best individual to reach out to: @fabiopitino \n\n## Expectations\n\n### What are we expecting to happen?\n\nNew feature to be provided https://gitlab.com/gitlab-org/gitlab/-/issues/215725\n\n### What might happen if this goes wrong?\n\nWe don't expect this new feature to have any impacts on existing behaviors. However, the closest behavior to is is the cross-project artifacts download.\n\n### What can we monitor to detect problems with this?\n\nErrors in Sentry. There is no performance implications expected.\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n\n## Beta groups/projects\n\nIf applicable, any groups/projects that are happy to have this feature turned on early. Some organizations may wish to test big changes they are interested in with a small subset of users ahead of time for example.\n\n- `gitlab-org/gitlab` project\n- `gitlab-org`/`gitlab-com` groups\n- ...\n\n## Roll Out Steps\n\n- [x] Confirm that QA tests pass with the feature flag enabled (if you're unsure how, contact the relevant [stable counterpart in the Quality department](https://about.gitlab.com/handbook/engineering/quality/#individual-contributors))\n- [x] Enable on staging (`/chatops run feature set feature_name true --staging`)\n- [x] Test on staging\n- [x] Ensure that documentation has been updated\n- [x] Enable on GitLab.com for individual groups/projects listed above and verify behaviour  (`/chatops run feature set --project=gitlab-org/gitlab feature_name true`)\n- [x] Coordinate a time to enable the flag with the SRE oncall and release managers\n  - In `#production` by pinging `@sre-oncall`\n  - In `#g_delivery` by pinging `@release-managers`\n- [x] Announce on the issue an estimated time this will be enabled on GitLab.com\n- [x] Enable on GitLab.com by running chatops command in `#production` (`/chatops run feature set feature_name true`)\n- [ ] Cross post chatops Slack command to `#support_gitlab-com` ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#where-to-run-commands)) and in your team channel\n- [x] Announce on the issue that the flag has been enabled\n- [x] Remove feature flag and add changelog entry\n- [ ] After the flag removal is deployed, [clean up the feature flag](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) by running chatops command in `#production` channel\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set --project=gitlab-org/gitlab feature_name false\n```","state":"closed","created_at":"2020-11-23T11:06:11.639Z","updated_at":"2021-06-01T08:07:11.238Z","closed_at":"2020-12-17T11:03:15.171Z","closed_by":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"labels":["Category:Continuous Integration","backend","devops::verify","feature flag","group::pipeline execution","priority::1","section::ops","severity::1","type::bug"],"milestone":{"id":1233757,"iid":54,"group_id":9970,"title":"13.7","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:43:14.893Z","updated_at":"2022-04-13T14:51:12.240Z","due_date":"2020-12-17","start_date":"2020-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/54"},"assignees":[{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"}],"author":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"type":"ISSUE","assignee":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/287622","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":13,"completed_count":10},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"10 of 13 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/287622","notes":"https://gitlab.com/api/v4/projects/278964/issues/287622/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/287622/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#287622","relative":"#287622","full":"gitlab-org/gitlab#287622"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":74822229,"iid":287604,"project_id":278964,"title":"Boards refactor - Refactor filters so that it doesn't rely on boardsStore","description":"`app/assets/javascripts/boards/filtered_search_boards.js` is the file where board filters are handled, relying on boardsStore state. There should be a version for GraphQL boards, not relying on boardsStore.\n\n`ee/app/assets/javascripts/boards/stores/boards_store_ee.js` is where board scope is handled which should refactored too.\n\nFunctions such as `updateFiltersUrl` in `app/assets/javascripts/boards/stores/boards_store.js` handle URL parameters and should also be migrated. `toggleFilter` applies a label filter when clicking on a label in a board card.","state":"closed","created_at":"2020-11-23T05:49:43.948Z","updated_at":"2021-11-08T16:08:34.082Z","closed_at":"2020-12-16T22:54:53.150Z","closed_by":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"labels":["Category:Team Planning","boards","devops::plan","frontend","group::product planning","section::dev","type::maintenance","workflow::production"],"milestone":{"id":1233759,"iid":55,"group_id":9970,"title":"13.8","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:13.983Z","updated_at":"2022-04-13T14:51:23.220Z","due_date":"2021-01-17","start_date":"2020-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/55"},"assignees":[{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"}],"author":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"type":"ISSUE","assignee":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/287604","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/287604","notes":"https://gitlab.com/api/v4/projects/278964/issues/287604/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/287604/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#287604","relative":"#287604","full":"gitlab-org/gitlab#287604"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5083,"epic":{"id":164034,"iid":5083,"title":"Prepare boards for additional board types","url":"/groups/gitlab-org/-/epics/5083","group_id":9970,"human_readable_end_date":"Feb 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":74771475,"iid":285635,"project_id":278964,"title":"Ensure resolved message appears the same time the `applied` suggestion appears","description":"In this MR, https://gitlab.com/gitlab-org/gitlab/-/merge_requests/46203, this fixed the issue of the suggestion re-appearing even though it's the suggestion is still loading. The solution was to pause the notes polling when the suggestion is clicked. And once it's indeed applied, the notes polling restarting. However, due to the slight delay, the resolved message seems to be out of sync when the `applied` button appears.\n\n(note the network is throttled, that's why it's reacting soooo slow :turtle: )\n\n![suggestion](/uploads/f978d212c2a05b1d250e7dc3f0955b27/suggestion.mov)\n\n| Polling stopped | Polling resumes |\n| ------ | ------ |\n|![one](/uploads/3b2140c6d2eeb8a0fcbffc338a9efb45/one.png) | ![two](/uploads/4128eebf12eb964303b05f65f2186126/two.png)|\n\n# Further notes for implementation\n\nThis might involve preemptively setting the discussion as resolved as we're waiting for the suggestion to be applied and then handling any error to remove the success message instead of waiting for the network request to come back with the next polling request.","state":"closed","created_at":"2020-11-21T02:02:53.833Z","updated_at":"2021-02-16T15:15:12.952Z","closed_at":"2021-01-14T13:23:08.651Z","closed_by":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"labels":["Deliverable","bug::transient","devops::create","frontend","group::code review","priority::2","section::dev","severity::3","type::bug","workflow::ready for development"],"milestone":{"id":1233759,"iid":55,"group_id":9970,"title":"13.8","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:13.983Z","updated_at":"2022-04-13T14:51:23.220Z","due_date":"2021-01-17","start_date":"2020-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/55"},"assignees":[{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"}],"author":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"type":"ISSUE","assignee":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/285635","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/285635","notes":"https://gitlab.com/api/v4/projects/278964/issues/285635/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/285635/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#285635","relative":"#285635","full":"gitlab-org/gitlab#285635"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4749,"epic":{"id":135885,"iid":4749,"title":"🐛 Fix Transient Bugs for Merge Requests","url":"/groups/gitlab-org/-/epics/4749","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":74769430,"iid":285599,"project_id":278964,"title":"Labels are not rendered in group-level Wiki","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nOnly in a group-level wiki, a label is not rendered properly when added to a wiki page. The label is rendered in the **Preview** pane but appears without any styling once changes have been saved.\n\n### Steps to reproduce\n\n\u003c!-- Describe how one can reproduce the issue - this is very important. Please use an ordered list. --\u003e\n\n  1. Create or edit a page in a group-level wiki, if you do not already have one\n  1. Add some content to a page that includes a reference to the label (See the snippet below.)\n  1. Click **Preview**\n  1. Observe that the label is rendered and shown in color\n  1. Click **Save changes**\n  1. Observe that the label is rendered as plain text without any styling\n\nThis is illustrated in the screenshot below:\n\n\n![label-group-wiki-saved-changes](/uploads/18cfd7d601b9647d7228167a510137a9/label-group-wiki-saved-changes.png)\n\nThis happens with labels, whether or not they are [scoped labels](https://about.gitlab.com/blog/2019/06/20/issue-labels-can-now-be-scoped/). \n\n\n#### Sample content to add to reproduce this behavior\n\nCopy this text into a group-level wiki to reproduce:\n\n```\nThis is a label: ~\"supportgitlabgold::testing\" and here is another: ~\"alittlelabel\" \n```\n\nNote that this does work properly in a project-level wiki, as shown below:\n\n![instance-level-wiki-image-labels](/uploads/44abdb8eb6a9afb35f16c7f20b699b04/instance-level-wiki-image-labels.png)\n\n\n\n### Example Project\n\nThis undesired behavior happens with a group-level wiki. Here is a link to a group-level wiki page where this behavior has been reproduced:\n\n  - [https://gitlab.com/groups/gitlab-gold/briecarranza/issues/a-group-with-a-wiki/-/wikis/home](https://gitlab.com/groups/gitlab-gold/briecarranza/issues/a-group-with-a-wiki/-/wikis/home)\n\nView the project-level wiki where this works on GitLab.com at:\n\n### What is the current *bug* behavior?\n\n\u003c!-- Describe what actually happens. --\u003e\n\nThe reference to the label name is not rendered with any formatting. See:\n\n### What is the expected *correct* behavior?\n\n\u003c!-- Describe what you should see instead. --\u003e\n\nThe reference for the label name should be rendered in color. This would match the behavior with project-level wikis.\n\nThis is a project-level wiki on GitLab.com where this works properly:\n\n  - [gitlab-gold/briecarranza/issues/a-group-with-a-wiki/a-project/-/wikis/home](https://gitlab.com/gitlab-gold/briecarranza/issues/a-group-with-a-wiki/a-project/-/wikis/home)\n\n### Relevant logs and/or screenshots\n\n\u003c!-- Paste any relevant logs - please use code blocks (```) to format console output, logs, and code\n as it's tough to read otherwise. --\u003e\n\nWhen writing on the Wiki:\n\n![label-group-wiki-write](/uploads/c563df392330faee2281e40982200723/label-group-wiki-write.png)\n\nWhen previewing that content:\n\n![label-group-wiki-preview](/uploads/3391ffdcb3d7d445e1a272abd43b28e3/label-group-wiki-preview.png)\n\nOnce the changes have been saved:\n\n![label-group-wiki-saved-changes](/uploads/b378e05ce8035173fc3c55633c6aa671/label-group-wiki-saved-changes.png)\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\n\nThis bug happens on GitLab.com.\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e","state":"closed","created_at":"2020-11-20T23:17:06.017Z","updated_at":"2021-02-05T10:36:07.558Z","closed_at":"2020-12-01T11:26:46.954Z","closed_by":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"labels":["Category:Wiki","UX FY21-Q4","backend","customer","devops::create","feature::enhancement","group::editor","section::dev","type::bug","type::feature"],"milestone":{"id":1233757,"iid":54,"group_id":9970,"title":"13.7","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:43:14.893Z","updated_at":"2022-04-13T14:51:12.240Z","due_date":"2020-12-17","start_date":"2020-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/54"},"assignees":[{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"}],"author":{"id":6049551,"username":"bcarranza","name":"Brie Carranza","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6049551/avatar.png","web_url":"https://gitlab.com/bcarranza"},"type":"ISSUE","assignee":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"user_notes_count":4,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/285599","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/285599","notes":"https://gitlab.com/api/v4/projects/278964/issues/285599/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/285599/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#285599","relative":"#285599","full":"gitlab-org/gitlab#285599"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":74767559,"iid":285585,"project_id":278964,"title":"Geo - Empty State Missing Help Text","description":"Caused by https://gitlab.com/gitlab-org/gitlab/-/merge_requests/41488\n\nLooks like there was a change that implemented but forgot to import the `GlSprintf` component.\n\n| Console Error | UI |\n| ------ | ------ |\n| ![Screen_Shot_2020-11-20_at_3.40.50_PM](/uploads/083b998266cc5dbeae68fcb9080e8d95/Screen_Shot_2020-11-20_at_3.40.50_PM.png) | ![Screen_Shot_2020-11-20_at_3.40.56_PM](/uploads/a2ff75ab8e5c3384261151dce698a6fd/Screen_Shot_2020-11-20_at_3.40.56_PM.png) |\n\n\nIt is expected that there is some smaller help text that says `Adjust your filters/search criteria above. If you believe this may be an error, please refer to the %{linkStart}Geo Troubleshooting%{linkEnd} documentation for more information.` along with a help link.\n\ncc/ @sunjungp\n\n### Design\n\n- [Spec](https://www.figma.com/file/MYEfBPGuLygUMLAMa4UGkI/Geo?node-id=1%3A56)\n- [Design](https://gitlab.com/gitlab-org/gitlab/-/issues/285585/designs/Replications-empty.png)","state":"closed","created_at":"2020-11-20T21:44:39.774Z","updated_at":"2020-12-02T15:26:24.798Z","closed_at":"2020-11-30T20:26:48.580Z","closed_by":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"labels":["UX","devops::systems","frontend","group::geo","javascript","section::enablement","type::bug","workflow::in review"],"milestone":{"id":1233757,"iid":54,"group_id":9970,"title":"13.7","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:43:14.893Z","updated_at":"2022-04-13T14:51:12.240Z","due_date":"2020-12-17","start_date":"2020-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/54"},"assignees":[{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"}],"author":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"type":"ISSUE","assignee":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"user_notes_count":3,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/285585","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/285585","notes":"https://gitlab.com/api/v4/projects/278964/issues/285585/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/285585/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#285585","relative":"#285585","full":"gitlab-org/gitlab#285585"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":74765988,"iid":285577,"project_id":278964,"title":"View History of All Group Migrations - Frontend","description":"### Problem to solve \n\nThe user needs a way to view the history of all previously imported groups. \n\n### Issue scope\n\n**This issue is focused on implementing the frontend UI for the feature described below.**\n\n### JTBD\n\nWhen I need to refer back to the groups that I've imported, I want to view a list of all my previously imported groups and when they were imported so that I can verify I've imported all of the intended groups.\n\n### User experience goal\n\nThe user experience should be a similar experience to Project imports to sustain consistent behavior. \n\n### Proposal\n\n1. Add `History` link on the Import group page, above the import options. \n2. The table within the `Group import history` page should include the following columns and actions:\n- Source group\n- New group\n- Imported by\n- Date \n- Status\n3. The table is able to be filtered by `Source group name`\n4. The `Details` button appears which leads to a page with reasons why the import failed. This feature will eventually be applicable to the successful imports as well. \n\n![Group_import_history_-_v2](https://gitlab.com/gitlab-org/gitlab/uploads/00eeb831722a3645f80ee35a28c10033/Group_import_history_-_v2.jpg)\n\n[UX Designs for View History of All Group Imports (Figma file)](https://www.figma.com/file/0ry7WfPaWbrzkvlpwh1UC4/267788-History-of-Project-Imports-Copy?node-id=33%3A0)\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2020-11-20T20:43:18.435Z","updated_at":"2021-10-28T21:15:20.902Z","closed_at":"2021-10-10T11:35:25.089Z","closed_by":{"id":1230286,"username":"xanf","name":"Illya Klymov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ce4d16557b46210fa57641531b570dd4?s=80\u0026d=identicon","web_url":"https://gitlab.com/xanf"},"labels":["GitLab Free","Importer:GitLab Migration","Next Up","SUS::FY22 Q2 - Incomplete","UX","devops::manage","direction","estimation::completed","frontend","group::import","milestone::p3","missed:14.2","missed:14.3","section::dev","workflow::production"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":1230286,"username":"xanf","name":"Illya Klymov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ce4d16557b46210fa57641531b570dd4?s=80\u0026d=identicon","web_url":"https://gitlab.com/xanf"}],"author":{"id":5213400,"username":"amandakhughes","name":"Amanda Hughes","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5213400/avatar.png","web_url":"https://gitlab.com/amandakhughes"},"type":"ISSUE","assignee":{"id":1230286,"username":"xanf","name":"Illya Klymov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ce4d16557b46210fa57641531b570dd4?s=80\u0026d=identicon","web_url":"https://gitlab.com/xanf"},"user_notes_count":24,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/285577","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/285577","notes":"https://gitlab.com/api/v4/projects/278964/issues/285577/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/285577/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#285577","relative":"#285577","full":"gitlab-org/gitlab#285577"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4613,"epic":{"id":126554,"iid":4613,"title":"GitLab Migration - UX improvements","url":"/groups/gitlab-org/-/epics/4613","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":74761858,"iid":285529,"project_id":278964,"title":"UI tip for why job Retry is not allowed for non-draft MR with merge trains enabled","description":"\u003c!-- This issue template can be used a great starting point for feature requests. The last section \"Release notes\" can be used as a summary of the feature and is also required if you want to have your release post blog MR auto generated using the release post item generator:  https://about.gitlab.com/handbook/marketing/blog/release-posts/#release-post-item-generator. The remaining sections are the backbone for every feature in GitLab. --\u003e\n\n### Release notes \n\n\u003c!-- What is the problem and solution you're proposing? This content sets the overall vision for the feature and serves as the release notes that will populate in various places, including the [release post blog](https://about.gitlab.com/releases/categories/releases/) and [Gitlab project releases](https://gitlab.com/gitlab-org/gitlab/-/releases). \" --\u003e\n\nTBD\n\n### Problem to solve \n\n\u003c!-- What is the user problem you are trying to solve with this issue? --\u003e\n\nFor projects with Merge Trains enabled, once an MR is no longer a Draft, you can't re-run individual jobs; the only option is to re-run the entire pipeline with the \"Run Pipeline\" button at the top of the Pipelines tab. The problem is there is no visual cue explaining why user cannot re-run individual jobs in a non-draft MR.\n\n\n### Further details\n\nGiven this is how MRs for projects with merge trains is intended to work, it is necessary to keep the MR in Draft mode if there is a need to re-run individual jobs.\n\n### Proposal \n\n\u003c!-- Use this section to explain the feature and how it will work. It can be helpful to add technical details, design proposals, and links to related epics or issues. --\u003e\n\nProvide a visual cue the UI, possibly near where a Retry button would normally appear, that explains why Retry is not possible for this use case.\n\n\n\u003c!-- Read the labels descriptions on https://gitlab.com/gitlab-org/gitlab/-/labels to find the appropriate labels. Consider adding related issues and epics to this issue. You can also reference the Feature Proposal Template (https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal.md) for additional details to consider adding to this issue. Additionally, as a data oriented organization, when your feature exits planning breakdown, consider adding the `What does success look like, and how can we measure that?` section.\n\nOther sections to consider adding: \n\n### Intended users\n\nWho will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n\n* [Cameron (Compliance Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#cameron-compliance-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager) \n* [Alex (Security Operations Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#alex-security-operations-engineer)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops) \n* [Priyanka (Platform Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#priyanka-platform-engineer)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n\n\n### User experience goal\n\nWhat is the single user experience workflow this problem addresses? \nFor example, \"The user should be able to use the UI/API/.gitlab-ci.yml with GitLab to \u003cperform a specific task\u003e\"\nhttps://about.gitlab.com/handbook/engineering/ux/ux-research-training/user-story-mapping/ \n\n\n### Further details\n\nInclude use cases, benefits, goals, or any other details that will help us understand the problem better. \n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?\nConsider adding checkboxes and expectations of users with certain levels of membership https://docs.gitlab.com/ee/user/permissions.html\n* [ ] Add expected impact to members with no access (0)\n* [ ] Add expected impact to Guest (10) members\n* [ ] Add expected impact to Reporter (20) members\n* [ ] Add expected impact to Developer (30) members \n* [ ] Add expected impact to Maintainer (40) members\n* [ ] Add expected impact to Owner (50) members \n\n### Documentation\n\n See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/workflow.html#for-a-product-change\n\n* Add all known Documentation Requirements in this section. See https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements\n* If this feature requires changing permissions, update the permissions document. See https://docs.gitlab.com/ee/user/permissions.html \n\n### Availability \u0026 Testing\n\nThis section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning \n\n### What does success look like, and how can we measure that?\n\nDefine both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. \n\n### What is the type of buyer?\n\nWhat is the buyer persona for this feature? See https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/buyer-persona/\nIn which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#four-tiers\n\n### Is this a cross-stage feature?\n\nCommunicate if this change will affect multiple Stage Groups or product areas. We recommend always start with the assumption that a feature request will have an impact into another Group. Loop in the most relevant PM and Product Designer from that Group to provide strategic support to help align the Group's broader plan and vision, as well as to avoid UX and technical debt. https://about.gitlab.com/handbook/product/#cross-stage-features --\u003e","state":"closed","created_at":"2020-11-20T19:19:25.576Z","updated_at":"2021-04-01T05:52:49.689Z","closed_at":"2021-03-16T16:03:14.987Z","closed_by":{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"},"labels":["Category:Continuous Integration","Deliverable","GitLab Premium","SUS::FY22 Q1 - Done","UI polish","UX","candidate::13.10","devops::verify","feature::enhancement","frontend","group::pipeline execution","pd::finished","section::ops","workflow::verification"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"}],"author":{"id":4828839,"username":"thaoyeager","name":"Thao Yeager","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4828839/avatar.png","web_url":"https://gitlab.com/thaoyeager"},"type":"ISSUE","assignee":{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"},"user_notes_count":30,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/285529","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/285529","notes":"https://gitlab.com/api/v4/projects/278964/issues/285529/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/285529/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#285529","relative":"#285529","full":"gitlab-org/gitlab#285529"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":74760540,"iid":285519,"project_id":278964,"title":"[Feature flag] Rollout of `product_analytics_tracking`","description":"## What\n\nRemove the `:product_analytics_tracking` feature flag introduced by https://gitlab.com/gitlab-org/gitlab/-/merge_requests/46482.\n\n## Owners\n\n- Team: Product Analytics\n- Most appropriate slack channel to reach out to: `#g_product_analytics`\n- Best individual to reach out to: `@ali-gitlab`\n\n## Expectations\n\n### What are we expecting to happen?\n\nEnabling this feature will cause a copy of some backend Snowplow events to be sent to the [Product Analytics](https://docs.gitlab.com/ee/operations/product_analytics.html) collector. Currently, the `ProductAnalytics` tracking destination only allows one event (promotion of issue to epic) to be sent. In the future, there could be more events allowed.\n\nIn order for this feature to work correctly, the `product_analytics` FF must be enabled for the self-monitoring project.\n\n### What might happen if this goes wrong?\n\nIf a high volume of events are being sent, this could cause lots of traffic to the Product Analytics collector, as well as the database.\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n\n## Beta groups/projects\n\nThis feature affects the entire instance, since we do not currently have granular control over which groups send Snowplow events.\n\n## Roll Out Steps\n\n- [x] Enable on staging (`/chatops run feature set product_analytics_tracking true --staging`)\n- [x] Test on staging\n- [x] Enable on GitLab.com (`/chatops run feature set product_analytics_tracking true`)\n- [x] Announce on the issue that the flag has been enabled\n- [x] Wait for `product_analytics` FF to be removed\n- [x] Ensure that documentation has been updated\n- [x] Remove feature flag and add changelog entry\n- [x] After the flag removal is deployed, [clean up the feature flag](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) by running chatops command in `#production` channel\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set product_analytics_tracking false\n```","state":"closed","created_at":"2020-11-20T18:39:43.325Z","updated_at":"2021-10-27T21:13:00.632Z","closed_at":"2021-10-27T21:13:00.611Z","closed_by":{"id":4373269,"username":"ali-gitlab","name":"Alishan Ladhani","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4373269/avatar.png","web_url":"https://gitlab.com/ali-gitlab"},"labels":["devops::growth","feature flag","group::product intelligence","section::growth","workflow::in dev"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":4373269,"username":"ali-gitlab","name":"Alishan Ladhani","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4373269/avatar.png","web_url":"https://gitlab.com/ali-gitlab"}],"author":{"id":4373269,"username":"ali-gitlab","name":"Alishan Ladhani","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4373269/avatar.png","web_url":"https://gitlab.com/ali-gitlab"},"type":"ISSUE","assignee":{"id":4373269,"username":"ali-gitlab","name":"Alishan Ladhani","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4373269/avatar.png","web_url":"https://gitlab.com/ali-gitlab"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/285519","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":9,"completed_count":8},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"8 of 9 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/285519","notes":"https://gitlab.com/api/v4/projects/278964/issues/285519/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/285519/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#285519","relative":"#285519","full":"gitlab-org/gitlab#285519"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":74759624,"iid":285517,"project_id":278964,"title":"Display additional minutes under admin/groups/\u003cgroup_name\u003e","description":"\u003c!-- What is the problem and solution you're proposing? This content sets the overall vision for the feature and serves as the release notes that will populate in various places, including the [release post blog](https://about.gitlab.com/releases/categories/releases/) and [Gitlab project releases](https://gitlab.com/gitlab-org/gitlab/-/releases). \" --\u003e\n\n### Problem to solve \n\nCurrently when an admin checks a group overview (e.g. `/admin/groups/\u003cgroup_name\u003e`) only the default minutes are shown.\nHowever when navigating under `/groups/\u003cgroup_name\u003e/-/usage_quotas` the additional minutes are shown as expected.\n\n\u003c!-- What problem do we solve? Try to define the who/what/why of the opportunity as a user story. For example, \"As a (who), I want (what), so I can (why/value).\" --\u003e\n\n### Intended users\n\nGitLab admins\n\n\u003c!-- Who will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops)\n--\u003e\n\n### User experience goal\n\n\u003c!-- What is the single user experience workflow this problem addresses?\nFor example, \"The user should be able to use the UI/API/.gitlab-ci.yml with GitLab to \u003cperform a specific task\u003e\"\nhttps://about.gitlab.com/handbook/engineering/ux/ux-research-training/user-story-mapping/ --\u003e\n\nBringing the complete info about CI Minutes to the admin group overview page will ease/speed up tickets resolution when it comes to problems with association between group(s) and purchased additional minutes.\n\n### Proposal\n\nDisplay the total amount of minutes (e.g. mins-spent/total-mins) instead of just the default minutes\n\u003c!-- How are we going to solve the problem? Try to include the user journey! https://about.gitlab.com/handbook/journeys/#user-journey --\u003e\n\n### Further details\n\n\u003c!-- Include use cases, benefits, goals, or any other details that will help us understand the problem better. --\u003e\n\n* Screenshot of a current `/admin/groups/\u003cgroup-name\u003e`:\n\n  ![Screenshot_from_2020-11-24_09-58-46.admin-group-cropped](/uploads/f91a40795e83297429bc7c5ea3f222e1/Screenshot_from_2020-11-24_09-58-46.admin-group-cropped.png)\n\n* Screenshot of a current `/groups/\u003cgroup-name\u003e/-/usage_quotas`:\n\n  ![Screenshot_from_2020-11-24_09-59-51-usage-quotas](/uploads/b78491f6c0e1c4bbf24a704d9221698a/Screenshot_from_2020-11-24_09-59-51-usage-quotas.png)\n\n### Permissions and Security\n\nN/A\n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/workflow.html#for-a-product-change\n\n* Add all known Documentation Requirements in this section. See https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements\n* If this feature requires changing permissions, update the permissions document. See https://docs.gitlab.com/ee/user/permissions.html --\u003e\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\n### What does success look like, and how can we measure that?\n\nThe total sum of CI minutes is shown under /admin/groups/\u003cgroup_name\u003e -\u003e \n\n\u003c!--\nDefine both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this.\n\nCreate tracking issue using the the Snowplow event tracking template. See https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Snowplow%20event%20tracking.md\n--\u003e\n\n### What is the type of buyer?\n\n\u003c!-- What is the buyer persona for this feature? See https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/buyer-persona/\nIn which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#four-tiers --\u003e\n\n### Is this a cross-stage feature?\n\n\u003c!-- Communicate if this change will affect multiple Stage Groups or product areas. We recommend always start with the assumption that a feature request will have an impact into another Group. Loop in the most relevant PM and Product Designer from that Group to provide strategic support to help align the Group's broader plan and vision, as well as to avoid UX and technical debt. https://about.gitlab.com/handbook/product/#cross-stage-features --\u003e\n\n### Links / references\n\nA current example is linked to https://gitlab.zendesk.com/agent/tickets/181211 (internal)\n\n\u003c!--  Label reminders - you should have one of each of the following labels.\nRead the descriptions through https://gitlab.com/gitlab-org/gitlab/-/labels to find the correct ones --\u003e","state":"closed","created_at":"2020-11-20T18:19:05.786Z","updated_at":"2021-04-19T17:12:06.339Z","closed_at":"2021-04-19T16:05:21.381Z","closed_by":{"id":2454149,"username":"cynthia","name":"Cynthia \"Arty\" Ng","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2454149/avatar.png","web_url":"https://gitlab.com/cynthia"},"labels":["Support Efficiency","Support Priority","[deprecated] Category:Utilization","backend","customer","devops::fulfillment","gitlab.com","group::utilization","internal customer","section::fulfillment","type::feature","workflow::production"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":2454149,"username":"cynthia","name":"Cynthia \"Arty\" Ng","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2454149/avatar.png","web_url":"https://gitlab.com/cynthia"}],"author":{"id":4222134,"username":"vbrodsky","name":"Vladimír Brodský","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4222134/avatar.png","web_url":"https://gitlab.com/vbrodsky"},"type":"ISSUE","assignee":{"id":2454149,"username":"cynthia","name":"Cynthia \"Arty\" Ng","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2454149/avatar.png","web_url":"https://gitlab.com/cynthia"},"user_notes_count":19,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/285517","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/285517","notes":"https://gitlab.com/api/v4/projects/278964/issues/285517/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/285517/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#285517","relative":"#285517","full":"gitlab-org/gitlab#285517"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":645,"epic":{"id":2460,"iid":645,"title":"Admin Dashboard Improvements for GitLab.com management","url":"/groups/gitlab-org/-/epics/645","group_id":9970,"human_readable_end_date":"Apr 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":74758119,"iid":285510,"project_id":278964,"title":"Global breadcrumb and the title are UI-broken on Group Container Registry index/detail","description":"### Summary\n\nThe global breadcrumb navigation is UI-broken on Group Container Registry detail pages while it was fixed for \"index\" (\"list\") with !48350 at %13.7.\n\nThis looks due to (relatively) newly-introduced Vue.js App for breadcrumb only in `registry/explorer`.\n\nThis is a blocker of !48115.\n\nSimilar to #285509 (for Project)\n\n### What is the current *bug* behavior?\n\n1. [angle-right](https://gitlab-org.gitlab.io/gitlab-svgs/?q=~angle-right) separators are missing between items.\n\n----\n\n# The following happened only in %13.6 through %\"13.7\" but fixed with !48350\n\n### Summary\n\nThe global breadcrumb navigation is UI-broken on Group Container Registry index and detail pages.\n\nThis looks due to (relatively) newly-introduced Vue.js App for breadcrumb only in `registry/explorer`.\n\nThis is a blocker of !48115.\n\nSimilar to #285509 (for Project)\n\n### What is the current *bug* behavior?\n\n![Screen_Shot_2020-11-21_at_2.21.23](/uploads/040642c735f35e9e76a31990dc03a5a6/Screen_Shot_2020-11-21_at_2.21.23.png)\n\n1. [angle-right](https://gitlab-org.gitlab.io/gitlab-svgs/?q=~angle-right) separators are missing between items.\n1. Title is missing (`https://gitlab.com/groups/gitlab-org/-/container_registries/75` is `registry.gitlab.com/gitlab-org/omnibus-gitlab`)\n\n----\n\n- https://gitlab.com/groups/gitlab-org/-/container_registries/75\n- https://gitlab.com/groups/gitlab-org/-/container_registries\n\n### What is the expected *correct* behavior?\n\n1. [angle-right](https://gitlab-org.gitlab.io/gitlab-svgs/?q=~angle-right) separators are shown between items.\n1. Title is shown for `namespace/project/container`, but the `tag` title line itself should not be shown for `namespace/project`.\n\n### Output of checks\n\nThis bug also happens on GitLab.com  (confirmed in 13.6-pre at least) and any SM instances.","state":"closed","created_at":"2020-11-20T17:28:40.598Z","updated_at":"2021-01-05T13:19:06.379Z","closed_at":"2021-01-05T13:19:06.289Z","closed_by":{"id":100770,"username":"tnir","name":"Takuya Noguchi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/100770/canstock6553672_288.png","web_url":"https://gitlab.com/tnir"},"labels":["Category:Container Registry","Community contribution","devops::package","frontend","group::package registry","priority::4","section::ops","severity::4","type::bug","workflow::production"],"milestone":{"id":1233759,"iid":55,"group_id":9970,"title":"13.8","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:13.983Z","updated_at":"2022-04-13T14:51:23.220Z","due_date":"2021-01-17","start_date":"2020-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/55"},"assignees":[{"id":100770,"username":"tnir","name":"Takuya Noguchi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/100770/canstock6553672_288.png","web_url":"https://gitlab.com/tnir"}],"author":{"id":100770,"username":"tnir","name":"Takuya Noguchi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/100770/canstock6553672_288.png","web_url":"https://gitlab.com/tnir"},"type":"ISSUE","assignee":{"id":100770,"username":"tnir","name":"Takuya Noguchi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/100770/canstock6553672_288.png","web_url":"https://gitlab.com/tnir"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2021-01-15","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/285510","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":8,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/285510","notes":"https://gitlab.com/api/v4/projects/278964/issues/285510/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/285510/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#285510","relative":"#285510","full":"gitlab-org/gitlab#285510"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":74757689,"iid":285507,"project_id":278964,"title":"Reply box for merge request reviews has faulty borders","description":"Example: https://invent.kde.org/plasma/kwin/-/merge_requests/468/diffs\n\n![image](/uploads/e1f0aa4760eb8e679d34701a3019a75b/image.png)\n\nNotice the missing outline of the box on its bottom (and interestingly also on the left on the screenshot - in reality the left is displayed correctly for me, the bottom is not).\n\nHappens on Firefox, latest version on Windows 10, not tested on other combinations.\n\n### Actionable insight\n\nThis was also noted as an actionable insight from the [UX Department: MRs experience async critique](https://gitlab.com/gitlab-org/ux-research/-/issues/1073) research ([insight](https://dovetailapp.com/projects/14109fbc-dfdd-4204-a54e-9c80ba8b7bba/insights/5672eb9e-1951-46b9-a378-c1bcb31ef867)).\n\n### List of issues identified:\n\n* No border at the bottom\n* Double border at the top\n* clipping occurring on the round border.","state":"closed","created_at":"2020-11-20T17:14:26.793Z","updated_at":"2022-09-23T20:39:50.410Z","closed_at":"2021-02-11T09:10:58.925Z","closed_by":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"labels":["Actionable Insight::Product change","Deliverable","UI polish","UX FY21-Q4","closed::complete","devops::create","feature::enhancement","frontend","group::code review","merge requests","section::dev","severity::4","type::bug","type::feature","workflow::verification"],"milestone":{"id":1233760,"iid":56,"group_id":9970,"title":"13.9","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.334Z","updated_at":"2022-04-21T07:21:28.468Z","due_date":"2021-02-17","start_date":"2021-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/56"},"assignees":[{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"}],"author":{"id":446056,"username":"clel","name":"Claudius Ellsel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/2dcfbef2cd811d3f38ce1261a1f34ab5?s=80\u0026d=identicon","web_url":"https://gitlab.com/clel"},"type":"ISSUE","assignee":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/285507","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/285507","notes":"https://gitlab.com/api/v4/projects/278964/issues/285507/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/285507/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#285507","relative":"#285507","full":"gitlab-org/gitlab#285507"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":74751644,"iid":285496,"project_id":278964,"title":"Rename Number of coverage jobs","description":"## Problem\n\n![Group_Code_Coverage.png_2020-11-20_10-51-16](/uploads/e183763349aee1cb86fa8238f21d2d48/Group_Code_Coverage.png_2020-11-20_10-51-16.png)\n\n## Proposal\n\nWe should tweak the wording here and remove `total` as suggested by @marcel.amirault \n\n* Change the label \"Projects with Tests\" to \"Projects with Coverage\"\n* Change the label \"Total Number of Coverages\" to  \"Jobs with Coverage\"\n\n\u003e @rickywiens Or `Total number of coverage jobs`? Really, you could probably drop the `total`, for `Number of coverage jobs`.","state":"closed","created_at":"2020-11-20T15:52:10.694Z","updated_at":"2021-10-28T14:03:44.679Z","closed_at":"2020-12-16T09:49:45.632Z","closed_by":{"id":5251734,"username":"morefice","name":"Max Orefice","state":"active","avatar_url":"https://secure.gravatar.com/avatar/0a910912e24727d7eef579cd047f7651?s=80\u0026d=identicon","web_url":"https://gitlab.com/morefice"},"labels":["Category:Code Testing and Coverage","Deliverable","GitLab Premium","UI text","UX","devops::verify","documentation","follow-up","frontend","group::pipeline insights","section::ops","type::maintenance","workflow::production"],"milestone":{"id":1233757,"iid":54,"group_id":9970,"title":"13.7","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:43:14.893Z","updated_at":"2022-04-13T14:51:12.240Z","due_date":"2020-12-17","start_date":"2020-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/54"},"assignees":[{"id":5251734,"username":"morefice","name":"Max Orefice","state":"active","avatar_url":"https://secure.gravatar.com/avatar/0a910912e24727d7eef579cd047f7651?s=80\u0026d=identicon","web_url":"https://gitlab.com/morefice"}],"author":{"id":5251734,"username":"morefice","name":"Max Orefice","state":"active","avatar_url":"https://secure.gravatar.com/avatar/0a910912e24727d7eef579cd047f7651?s=80\u0026d=identicon","web_url":"https://gitlab.com/morefice"},"type":"ISSUE","assignee":{"id":5251734,"username":"morefice","name":"Max Orefice","state":"active","avatar_url":"https://secure.gravatar.com/avatar/0a910912e24727d7eef579cd047f7651?s=80\u0026d=identicon","web_url":"https://gitlab.com/morefice"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/285496","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/285496","notes":"https://gitlab.com/api/v4/projects/278964/issues/285496/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/285496/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#285496","relative":"#285496","full":"gitlab-org/gitlab#285496"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":74747675,"iid":285485,"project_id":278964,"title":"[Feature flag] Usage of postgres hll batch distinct counting in usage ping","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## What\n\nRemove the `:postgres_hll_batch_counting` feature flag and remove catch all `rescue` that only logs errors to sentry.\n\n\n## Owners\n\n* Team: Product analytics\n* Most appropriate slack channel to reach out to: `#g_product_analytics`\n* Best individual to reach out to: `@gitlab-org/growth/product_analytics/engineers`\n\n## Expectations\n\n### What are we expecting to happen?\n\nNew algorithm will be used to obtain estimated distinct count of selected attributes. This algorithm allows for more predictable estimation of query performance in production environment than previously used batch count. \n\n### What might happen if this goes wrong?\n\nsome distinct counts in usage ping may stop working, or may contain malformed data\n\n### What can we monitor to detect problems with this?\n\nMonitor returned usage ping data, for any sudden change\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n\n## Beta groups/projects\n\nIf applicable, any groups/projects that are happy to have this feature turned on early. Some organizations may wish to test big changes they are interested in with a small subset of users ahead of time for example.\n\n- `gitlab-org/gitlab` project\n- `gitlab-org`/`gitlab-com` groups\n- ...\n\n## Roll Out Steps\n\n- [ ] Enable on staging (`/chatops run feature set feature_name true --staging`)\n- [ ] Test on staging\n- [ ] Ensure that documentation has been updated\n- [ ] Enable on GitLab.com for individual groups/projects listed above and verify behaviour  (`/chatops run feature set --project=gitlab-org/gitlab feature_name true`)\n- [ ] Coordinate a time to enable the flag with the SRE oncall and release managers\n  - In `#production` by pinging `@sre-oncall`\n  - In `#g_delivery` by pinging `@release-managers`\n- [ ] Announce on the issue an estimated time this will be enabled on GitLab.com\n- [ ] Enable on GitLab.com by running chatops command in `#production` (`/chatops run feature set feature_name true`)\n- [ ] Cross post chatops Slack command to `#support_gitlab-com` ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#where-to-run-commands)) and in your team channel\n- [ ] Announce on the issue that the flag has been enabled\n- [ ] Remove feature flag and add changelog entry\n- [ ] After the flag removal is deployed, [clean up the feature flag](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) by running chatops command in `#production` channel\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set --project=gitlab-org/gitlab feature_name false\n```","state":"closed","created_at":"2020-11-20T14:49:42.839Z","updated_at":"2021-06-03T04:36:03.599Z","closed_at":"2021-06-03T04:36:03.245Z","closed_by":{"id":8198564,"username":"rkadam3","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8198564/avatar.png","web_url":"https://gitlab.com/rkadam3"},"labels":["backend","devops::growth","feature flag","group::product intelligence","missed:13.10","missed:13.11","missed:13.12","missed:13.9","product intelligence::onboarding issue","section::growth","workflow::production"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":8198564,"username":"rkadam3","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8198564/avatar.png","web_url":"https://gitlab.com/rkadam3"}],"author":{"id":4807002,"username":"mikolaj_wawrzyniak","name":"Mikołaj Wawrzyniak","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4807002/avatar.png","web_url":"https://gitlab.com/mikolaj_wawrzyniak"},"type":"ISSUE","assignee":{"id":8198564,"username":"rkadam3","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8198564/avatar.png","web_url":"https://gitlab.com/rkadam3"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2021-02-05","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/285485","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":12,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 12 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/285485","notes":"https://gitlab.com/api/v4/projects/278964/issues/285485/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/285485/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#285485","relative":"#285485","full":"gitlab-org/gitlab#285485"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5227,"epic":{"id":183909,"iid":5227,"title":"Allow aggregated metrics to be calculated over SQL metrics","url":"/groups/gitlab-org/-/epics/5227","group_id":9970},"iteration":null,"health_status":null},{"id":74747323,"iid":285484,"project_id":278964,"title":"Document the API for SHA-specific chain of custody report","description":"_This issue and linked pages contain information related to upcoming products, features, and functionality. \nIt is important to note that the information presented is for informational purposes only. Please do not rely on this information for purchasing or planning purposes. \nAs with all projects, the items mentioned in this video and linked pages are subject to change or delay. The development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc._\n\n### Problem to solve \n\n\u003c!-- What problem do we solve? Try to define the who/what/why of the opportunity as a user story. For example, \"As a (who), I want (what), so I can (why/value).\" --\u003e\n\nIn %\"13.6\" we released a [SHA specific chain of custody report](https://gitlab.com/groups/gitlab-org/-/epics/4608) to help compliance-minded organizations export the data they needed to audit a change or provide as evidence to an auditor. However, users must access this report through the GitLab interface and cannot do so through an API.\n\n### Intended users\n\n[Cameron (Compliance Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#cameron-compliance-manager)\n\n### User experience goal\n\n\u003c!-- What is the single user experience workflow this problem addresses?\nFor example, \"The user should be able to use the UI/API/.gitlab-ci.yml with GitLab to \u003cperform a specific task\u003e\"\nhttps://about.gitlab.com/handbook/engineering/ux/ux-research-training/user-story-mapping/ --\u003e\n\nA user should be able to query our API and retrieve the same chain of custody data back for a specific commit SHA.\n\n### Proposal\n\n* Add clear [documentation](https://docs.gitlab.com/ee/user/compliance/compliance_report/#chain-of-custody-report) with a direct link to the URL that generates the CSV.\n\n### Permissions\n\nUsers should be able to access the report via the Compliance Dashboard to be able to use this API. Leverage the existing roles \u0026 permissions for that screen rather than introduce a new one for the API.\n\n### License Tier\n\n~\"GitLab Ultimate\" \n\n### Further details\n\n\u003c!-- Include use cases, benefits, goals, or any other details that will help us understand the problem better. --\u003e\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2020-11-20T14:41:51.113Z","updated_at":"2022-12-06T02:25:54.019Z","closed_at":"2022-08-03T06:28:04.263Z","closed_by":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"labels":["Category:Audit Reports [DEPRECATED]","GitLab Ultimate","Next Up","customer","devops::manage","direction","documentation","group::compliance","priority::2","section::dev","type::feature","workflow::in review"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"}],"author":{"id":4748651,"username":"mattgonzales-gitlab","name":"Matt Gonzales (ex-GitLab)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748651/avatar.png","web_url":"https://gitlab.com/mattgonzales-gitlab"},"type":"ISSUE","assignee":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"user_notes_count":29,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/285484","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/285484","notes":"https://gitlab.com/api/v4/projects/278964/issues/285484/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/285484/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#285484","relative":"#285484","full":"gitlab-org/gitlab#285484"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":74745094,"iid":285480,"project_id":278964,"title":"Convert performance_bar_stats to an ops feature flag","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## What\n\nRemove the `:performance_bar_stats` feature flag introduced in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/48149\n\n## Owners\n\n- Team: Plan\n- Most appropriate slack channel to reach out to: `#g_plan`\n- Best individual to reach out to: jprovaznik\n\n## Expectations\n\n### What are we expecting to happen?\n\nData are logged in performance_bar_log_json.log \n\n### What might happen if this goes wrong?\n\nIncreased load due to async job which proceses peek stats (in case there would be extreme amount of these stats) - which is low chance - we delete peek redis data after 30 minutes.\n\n### What can we monitor to detect problems with this?\n\nSidekiq job (app/workers/gitlab_performance_bar_stats_worker.rb), size of performance_bar_log_json.log file\n\n## Beta groups/projects\n\nIf applicable, any groups/projects that are happy to have this feature turned on early. Some organizations may wish to test big changes they are interested in with a small subset of users ahead of time for example.\n\nThis feature is enabled/disabled globally.\n\n## Roll Out Steps\n\n- [x] Enable on staging (`/chatops run feature set feature_name true --staging`)\n- [x] Test on staging\n- [x] Ensure that documentation has been updated\n- [x] Enable on GitLab.com for individual groups/projects listed above and verify behaviour  (`/chatops run feature set --project=gitlab-org/gitlab feature_name true`)\n- [x] Coordinate a time to enable the flag with the SRE oncall and release managers\n  - In `#production` by pinging `@sre-oncall`\n  - In `#g_delivery` by pinging `@release-managers`\n- [ ] ~Announce on the issue an estimated time this will be enabled on GitLab.com~\n- [x] Enable on GitLab.com by running chatops command in `#production` (`/chatops run feature set feature_name true`)\n- [x] Cross post chatops Slack command to `#support_gitlab-com` ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#where-to-run-commands)) and in your team channel\n- [x] Announce on the issue that the flag has been enabled\n- [ ] ~Remove feature flag and add changelog entry~\n- [ ] ~After the flag removal is deployed, [clean up the feature flag](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) by running chatops command in `#production` channel~\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set --project=gitlab-org/gitlab performance_bar_stats false\n```","state":"closed","created_at":"2020-11-20T14:12:29.504Z","updated_at":"2022-08-11T12:30:46.935Z","closed_at":"2022-08-11T12:30:46.908Z","closed_by":{"id":12044147,"username":"sdobrovolschii","name":"Stanislav Dobrovolschii","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12044147/avatar.png","web_url":"https://gitlab.com/sdobrovolschii"},"labels":["backend","devops::plan","feature flag","group::product planning","maintenance::refactor","section::dev","type::maintenance","workflow::ready for development"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":12044147,"username":"sdobrovolschii","name":"Stanislav Dobrovolschii","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12044147/avatar.png","web_url":"https://gitlab.com/sdobrovolschii"}],"author":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"type":"ISSUE","assignee":{"id":12044147,"username":"sdobrovolschii","name":"Stanislav Dobrovolschii","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12044147/avatar.png","web_url":"https://gitlab.com/sdobrovolschii"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/285480","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":12,"completed_count":8},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"8 of 12 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/285480","notes":"https://gitlab.com/api/v4/projects/278964/issues/285480/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/285480/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#285480","relative":"#285480","full":"gitlab-org/gitlab#285480"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":74743848,"iid":285477,"project_id":278964,"title":"Enable timeline on the Trends Chart","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\nThe [first iteration](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/46591) of the redesign introduced a trends chart in the Security Dashboard. The chart is basic, it brings value to the user but is not complete. We're still missing some functionality. For instance the timeline at the bottom section of the chart is missing. The timeline will allow the user to filter data based on specific dates. \n\n## Relevant links\n\n- See design: https://gitlab.com/gitlab-org/gitlab/-/issues/222448/designs/a01_project-dashboard.png\n- See the chart implementation for documentation: https://gitlab-org.gitlab.io/gitlab-ui/?path=/story/charts-line-chart--with-zoom-and-scroll. See the EChart options to understand how to enable the scroll on the chart.\n\n## Implementation plan\n\n- [ ] ~frontend In the EChart options section of this page, https://gitlab-org.gitlab.io/gitlab-ui/?path=/story/charts-line-chart--with-zoom-and-scroll, there is an example on how to enable the scroll. Follow the example in order to enable the timeline in `ee/app/assets/javascripts/security_dashboard/components/project_security_charts.vue`.","state":"closed","created_at":"2020-11-20T13:47:33.828Z","updated_at":"2021-09-30T20:58:15.618Z","closed_at":"2021-03-30T18:43:46.706Z","closed_by":{"id":4906978,"username":"lkerr","name":"Lindsay Kerr","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4906978/avatar.png","web_url":"https://gitlab.com/lkerr"},"labels":["Category:Vulnerability Management","UX","devops::secure","frontend","group::threat insights","missed:13.10","section::sec","workflow::verification"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":5535246,"username":"svedova","name":"Savas Vedova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535246/avatar.png","web_url":"https://gitlab.com/svedova"}],"author":{"id":5535246,"username":"svedova","name":"Savas Vedova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535246/avatar.png","web_url":"https://gitlab.com/svedova"},"type":"ISSUE","assignee":{"id":5535246,"username":"svedova","name":"Savas Vedova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535246/avatar.png","web_url":"https://gitlab.com/svedova"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/285477","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/285477","notes":"https://gitlab.com/api/v4/projects/278964/issues/285477/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/285477/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#285477","relative":"#285477","full":"gitlab-org/gitlab#285477"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3428,"epic":{"id":59638,"iid":3428,"title":"Redesign Project Security Dashboard","url":"/groups/gitlab-org/-/epics/3428","group_id":9970,"human_readable_end_date":"Apr 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":74743477,"iid":285476,"project_id":278964,"title":"Add icons to the Trends Chart","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n### Release notes\n\nIn 13.6, we released a new Project Security Dashboard with a vulnerability trends chart. This chart provides a historical view of vulnerability counts by severity over the past 365 days. While it provides valuable insights into a Project's security health over time, the chart launched without some convenience features to make it easier to use.\n\nWe've enhanced the chart to include new interactive elements that will make it more effective and efficient to use. You can now zoom in on a selected section of the chart. You can quickly reset back to the default view. And finally, you can export an SVG image of the chart for easy use in external documents.\n\nhttps://docs.gitlab.com/ee/user/application_security/security_dashboard/#project-security-dashboard\n\n## Why are we doing this work\n\nThe first iteration of the redesign introduced a trends chart in the Security Dashboard. The chart is basic, it brings value to the user but is not complete. We're still missing some functionality. For instance the icons at the top section of the chart are missing. Those icons will increase the usability of the chart and will allow exporting the chart as an image. \n\n## Relevant links\n\n- See design: https://gitlab.com/gitlab-org/gitlab/-/issues/222448/designs/a01_project-dashboard.png\n- See the chart implementation for documentation: https://gitlab-org.gitlab.io/gitlab-ui/?path=/story/charts-line-chart--with-toolbox, specifically note the `features` property on the right side of the page to understand how to enable the icons.\n\n## Implementation plan\n\n- [ ] ~frontend In the EChart options section of this page, https://gitlab-org.gitlab.io/gitlab-ui/?path=/story/charts-line-chart--with-toolbox, there is an example on how to enable these icons. Follow those examples in order to enable the icons in `ee/app/assets/javascripts/security_dashboard/components/project_security_charts.vue`.\n\n### Documentation\n\nUpdate screenshot in https://docs.gitlab.com/ee/user/application_security/security_dashboard/#project-security-dashboard with one showing the added icons.","state":"closed","created_at":"2020-11-20T13:39:26.433Z","updated_at":"2021-03-30T18:43:20.747Z","closed_at":"2021-03-30T18:43:20.629Z","closed_by":{"id":4906978,"username":"lkerr","name":"Lindsay Kerr","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4906978/avatar.png","web_url":"https://gitlab.com/lkerr"},"labels":["Category:Vulnerability Management","GitLab Ultimate","UX","devops::secure","feature::enhancement","frontend","group::threat insights","release post item::in review","section::sec","type::feature","workflow::verification"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":5535246,"username":"svedova","name":"Savas Vedova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535246/avatar.png","web_url":"https://gitlab.com/svedova"}],"author":{"id":5535246,"username":"svedova","name":"Savas Vedova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535246/avatar.png","web_url":"https://gitlab.com/svedova"},"type":"ISSUE","assignee":{"id":5535246,"username":"svedova","name":"Savas Vedova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535246/avatar.png","web_url":"https://gitlab.com/svedova"},"user_notes_count":18,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/285476","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/285476","notes":"https://gitlab.com/api/v4/projects/278964/issues/285476/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/285476/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#285476","relative":"#285476","full":"gitlab-org/gitlab#285476"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3428,"epic":{"id":59638,"iid":3428,"title":"Redesign Project Security Dashboard","url":"/groups/gitlab-org/-/epics/3428","group_id":9970,"human_readable_end_date":"Apr 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":74739617,"iid":285468,"project_id":278964,"title":"[Feature flag] Rollout of `ci_mr_diff_variables`","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## What\n\nRemove the `:ci_mr_diff_variables` feature flag introduced in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/46621\n\n## Owners\n\n- Team: ~\"group::continuous integration\" \n- Most appropriate slack channel to reach out to: `#g_ci`\n- Best individual to reach out to: @fabiopitino \n\n## Expectations\n\n### What are we expecting to happen?\n\n2 new environment variables being calculated and sent to the Runner\n\n### What might happen if this goes wrong?\n\nCalculation of variables might be slower causing the overall response time of the request to increase. We don't expect that to occur because finding the diffs for a given MR is already used efficiently today.\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n\n- [`Ci::CreateCrossProjectPipelineWorker`](https://dashboards.gitlab.net/d/sidekiq-queue-detail/sidekiq-queue-detail?orgId=1\u0026from=1605851280000\u0026to=1605872939999\u0026var-PROMETHEUS_DS=Global\u0026var-environment=gprd\u0026var-stage=main\u0026var-queue=post_receive\u0026var-queue=pipeline_default:ci_create_cross_project_pipeline) - execution time\n- [`api/jobs/request`](https://dashboards.gitlab.net/d/api-rails-controller/api-rails-controller?orgId=1\u0026var-PROMETHEUS_DS=Global\u0026var-environment=gprd\u0026var-stage=main\u0026var-controller=Grape\u0026var-action=POST%20%2Fapi%2Fjobs%2Frequest\u0026from=1605851700000\u0026to=1605873359999) - Database time, Errors, RPS, Execution time.\n\nNo entries in Sentry related to the endpoints above\n\n## Beta groups/projects\n\nIf applicable, any groups/projects that are happy to have this feature turned on early. Some organizations may wish to test big changes they are interested in with a small subset of users ahead of time for example.\n\n- `gitlab-org/gitlab` project\n- `gitlab-org`/`gitlab-com` groups\n- ...\n\n## Roll Out Steps\n\n- [x] Enable on staging (`/chatops run feature set feature_name true --staging`)\n- [x] Test on staging\n- [x] Ensure that documentation has been updated\n- [x] Enable on GitLab.com for individual groups/projects listed above and verify behaviour  (`/chatops run feature set --project=gitlab-org/gitlab feature_name true`)\n- [x] Coordinate a time to enable the flag with the SRE oncall and release managers\n  - In `#production` by pinging `@sre-oncall`\n  - In `#g_delivery` by pinging `@release-managers`\n- [x] Announce on the issue an estimated time this will be enabled on GitLab.com\n- [x] Enable on GitLab.com by running chatops command in `#production` (`/chatops run feature set feature_name true`)\n- [x] Cross post chatops Slack command to `#support_gitlab-com` ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#where-to-run-commands)) and in your team channel\n- [x] Announce on the issue that the flag has been enabled\n- [x] Remove feature flag and add changelog entry\n- [x] After the flag removal is deployed, [clean up the feature flag](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) by running chatops command in `#production` channel\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set --project=gitlab-org/gitlab ci_mr_diff_variables false\n```","state":"closed","created_at":"2020-11-20T12:02:36.567Z","updated_at":"2020-12-11T16:51:10.346Z","closed_at":"2020-12-03T16:15:44.963Z","closed_by":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"labels":["Category:Continuous Integration","backend","devops::verify","feature flag","group::pipeline execution","section::ops","type::feature"],"milestone":{"id":1233757,"iid":54,"group_id":9970,"title":"13.7","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:43:14.893Z","updated_at":"2022-04-13T14:51:12.240Z","due_date":"2020-12-17","start_date":"2020-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/54"},"assignees":[{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"}],"author":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"type":"ISSUE","assignee":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/285468","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":12,"completed_count":11},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"11 of 12 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/285468","notes":"https://gitlab.com/api/v4/projects/278964/issues/285468/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/285468/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#285468","relative":"#285468","full":"gitlab-org/gitlab#285468"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":74739114,"iid":285467,"project_id":278964,"title":"Package Registry GraphQL API","description":"This issue is dedicated to collect all the necessary work to implement the Package Registry GraphQL API\n\nThere is a need for 3 different endpoints\n\n:notebook: All the values are written in `snake_case` but they will need to be implemented in `pascalCase`\n\n## Work to be done\n\n- [x] Project level endpoint returns all the needed data\n- [x] Group level endpoint returns all the needed data\n- [x] Search for list endpoint\n- [-] Sorting for list endpoint \n  - [x] Sorting for basic fields\n  - [x] Sorting by project name in group query\n- [x] Composer details query\n- [x] Conan details query\n- [x] Maven details query\n- [x] Nuget details query\n- [x] NPM details query\n- [x] PiPy details query\n- [x] Generic Packages details query\n- [ ] Ruby Gems details query\n- [ ] Terraform details query\n- [ ] Debian details query\n- [x] Delete Package\n- [ ] Delete package file\n\n## Project and Group level package list query\n\nWe already have a `project` level endpoint and a `group` level one\n\nBoth endpoint should support: \n\n- Search by name\n- Sort by\n- Pagination\n\nBoth endpoint should return: \n\n- id\n- created_at\n- name\n- packag_type\n- updated_at\n- version\n- tags\n   - id\n   - name\n   - created_at\n   - updated_at\n\nWe should also add a `total_packages` attribute to the `project` and `group` queries\n\n### Remaining work\n\n- add `tags` attribute to `project` and `group` Packages queries\n- add Search\n- add Sort\n- verify if we can use 'normal' pagination and not cursor based one\n- add `total_packages` attribute to `project` and `group` queries\n\n\n## Package details query\n\nWe should have a `namespace` agnostic endpoint that given an `id` of a package returns its details, we should return:\n\n- id\n- created_at\n- name\n- package_files\n   - created_at\n   - download_path\n   - file_name\n   - size\n- package_type\n- project_id\n- tags (this is npm specific, we should check if is worth to be moved to his own npm metadatum)\n   - id\n   - name\n   - created_at\n   - updated_at\n- updated_at\n- version\n- dependency_links\n   - name\n   - version_pattern\n   - target_framework\n- versions (see [rest api docs](https://docs.gitlab.com/ee/api/packages.html#get-a-project-package))\n- pipelines (a list of all the pipelines attached to the package)\n   - created_at\n   - id\n   - sha\n   - ref\n   - git_commit_message\n   - user\n     - avatar_url\n     - name\n   - project\n     - name\n     - web_url\n     - pipeline_url\n     - commit_url\n\nThis is a 1:1 carbon copy of what our controllers are returning, but we should be able to recycle already existing graphqlTypes, for example for `user` and `project` for a complete overview please check the pakcage presenter folder: \nhttps://gitlab.com/gitlab-org/gitlab/-/tree/a1f81a8843521f501d528a489ca19ffcfdb89c0e/app/presenters/packages\n\nPlus we should have the `metadatum` of each package type:\n\n### Composer\n\n- target_sha\n- composer_json\n   - name\n   - type\n   - license\n   - version\n\n### Conan\n\n- id\n- created_at\n- updated_at\n- package_username\n- package_channel\n- package_name (currently this is returned outside the `metadatum`, but it should be inside)\n\n### Maven\n\n- id\n- created_at\n- updated_at\n- app_group\n- app_name\n- app_version\n- path\n\n### Nuget\n\n- license_url\n- project_url\n- icon_url\n\n\n## Delete mutation\n\nWe also need a mutation that takes in input a package_id and deletes it, ~~we should keep in mind that this action can be ran both from the list and the details page, we may want to consider if to return an updated 'page' for the list.~~","state":"closed","created_at":"2020-11-20T11:48:34.613Z","updated_at":"2021-07-08T19:47:55.014Z","closed_at":"2021-07-08T19:47:54.643Z","closed_by":{"id":3799560,"username":"trizzi","name":"Tim Rizzi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3799560/avatar.png","web_url":"https://gitlab.com/trizzi"},"labels":["Category:Package Registry","GraphQL","Package:P2","Stretch","[deprecated] Accepting merge requests","backend","devops::package","group::package registry","ruby","section::ops","workflow::in dev"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[],"author":{"id":4584738,"username":"nmezzopera","name":"Nicolò Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"},"type":"ISSUE","assignee":null,"user_notes_count":46,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/285467","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":17,"completed_count":13},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"13 of 17 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/285467","notes":"https://gitlab.com/api/v4/projects/278964/issues/285467/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/285467/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#285467","relative":"#285467","full":"gitlab-org/gitlab#285467"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":74733339,"iid":285458,"project_id":278964,"title":"Create merge request approval settings vue app with store","description":"## Why are we doing this work\n\nTo facilitate the addition of group-level merge request approval settings; we need to initially set up a containing Vue app and store to control the settings and their submission in one localised place.\n\nThis lays the groundwork for adding each setting in future.\n\n## Non-functional requirements\n\n- [x] Feature flag: `group_merge_request_approval_settings_feature_flag`\n\n## Implementation plan\n\n- [x] **If the feature flag is enabled** Add new Merge request approvals section to the Groups general settings page (title, text and link the same as projects)\n- [x] Create new Vue app in `ee/app/assets/javascripts/approvals` to render the contents of the section.\n    * _Note: This should be written in a way to support both groups and projects in future as one ultimate goal would be to unify the project and group merge request approval settings for ease of maintenance and future development_\n- [x] Create new store in `ee/app/assets/javascripts/approvals` to handle the [API](https://gitlab.com/gitlab-org/gitlab/-/issues/273544) communication for retrieving, locking and saving the MR approval settings\n- [x] Add `Save changes` button which makes an API request to send the data\n- [x] Make sure failures are noted in a banner\n- [x] Make sure successfully saving is noted in a banner\n- [x] Add tests for the new app and store\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2020-11-20T10:14:33.000Z","updated_at":"2022-02-15T02:04:00.969Z","closed_at":"2021-02-18T09:01:06.293Z","closed_by":{"id":398752,"username":"tancnle","name":"Tan Le","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/398752/avatar.png","web_url":"https://gitlab.com/tancnle"},"labels":["Category:Compliance Management","Deliverable","Enterprise Edition","GitLab Ultimate","UX FY21-Q4","devops::manage","direction","frontend","group::compliance","priority::2","section::dev","workflow::verification"],"milestone":{"id":1233760,"iid":56,"group_id":9970,"title":"13.9","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.334Z","updated_at":"2022-04-21T07:21:28.468Z","due_date":"2021-02-17","start_date":"2021-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/56"},"assignees":[{"id":398752,"username":"tancnle","name":"Tan Le","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/398752/avatar.png","web_url":"https://gitlab.com/tancnle"}],"author":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"type":"ISSUE","assignee":{"id":398752,"username":"tancnle","name":"Tan Le","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/398752/avatar.png","web_url":"https://gitlab.com/tancnle"},"user_notes_count":18,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/285458","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":8,"completed_count":8},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"8 of 8 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/285458","notes":"https://gitlab.com/api/v4/projects/278964/issues/285458/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/285458/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#285458","relative":"#285458","full":"gitlab-org/gitlab#285458"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5957,"epic":{"id":266916,"iid":5957,"title":"Group-level settings for merge request approval SETTINGS in child projects","url":"/groups/gitlab-org/-/epics/5957","group_id":9970,"human_readable_end_date":"Jan 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":74719341,"iid":285454,"project_id":278964,"title":"Refactor Dast Profiles components","description":"The following discussion from !48124 should be addressed:\n\n- [ ] @pgascouvaillancourt started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/48124#note_451258652): \n\n    \u003e **note:** as discussed earlier, this implies that we're sharing some DAST sites-specific logic with DAST scanners as the `DastProfilesList` is used for both scanner types. This should be fine for now, but we should definitely refactor this in a follow-up to separate concerns a bit better. The idea we've discussed earlier was to break the `DastProfilesList` component down into more composable components where we would have a site-specific and a scanner-specific wrappers, similar to what we've done for the on-demand DAST scans profiles selector (`ee/app/assets/javascripts/on_demand_scans/components/profile_selector/`).\n\n\n### Implementation Plan\n\n- [x] Create `DastScannerProfilesList` and `DastSiteProfilesList` components\n- [x] Make `DastSiteProfilesList` a composable component\n- [x] Move site specific logic from `DastProfilesList` to `DastSiteProfilesList`\n- [x] Update specs","state":"closed","created_at":"2020-11-20T08:16:36.040Z","updated_at":"2020-12-03T12:42:10.174Z","closed_at":"2020-12-03T12:42:10.122Z","closed_by":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"labels":["Category:DAST","auto updated","devops::secure","frontend","group::dynamic analysis","section::sec","workflow::verification"],"milestone":{"id":1233757,"iid":54,"group_id":9970,"title":"13.7","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:43:14.893Z","updated_at":"2022-04-13T14:51:12.240Z","due_date":"2020-12-17","start_date":"2020-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/54"},"assignees":[{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"}],"author":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"type":"ISSUE","assignee":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/285454","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":5,"completed_count":4},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"4 of 5 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/285454","notes":"https://gitlab.com/api/v4/projects/278964/issues/285454/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/285454/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#285454","relative":"#285454","full":"gitlab-org/gitlab#285454"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4871,"epic":{"id":142297,"iid":4871,"title":"Separate validation out of site profile creation","url":"/groups/gitlab-org/-/epics/4871","group_id":9970,"human_readable_end_date":"Jan 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":74711362,"iid":285451,"project_id":278964,"title":"Add more description to \"Search maximum depth\" variable","description":"### Problem to solve\n\n\"Search maximum depth\" variable description is unclear in the SAST configuration UI, according to two GitLab developers. Current description:\n\n\u003cimg src=\"/uploads/4c9bcd50810765da810a5c8c41d1857a/Screen_Shot_2020-11-20_at_12.42.35_AM.png\" width=\"40%\"\u003e\n\n### Proposal\n\n~~Remove the existing description text and change it to: `Maximum number of directories traversed when searching for source code files.` to match the [docs](https://docs.gitlab.com/ee/user/application_security/sast/#vulnerability-filters).~~\n\nPer Taylor's comment [here](https://gitlab.com/gitlab-org/gitlab/-/issues/285451#note_456676908), the proposal has scoped down to updating the docs only (hold on UI changes for now).\n\n/cc @nmccorrison @markrian @rdickenson","state":"closed","created_at":"2020-11-20T06:45:56.636Z","updated_at":"2021-04-03T08:51:09.088Z","closed_at":"2021-01-22T22:32:08.037Z","closed_by":{"id":4415483,"username":"beckalippert","name":"Becka Lippert","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4415483/avatar.png","web_url":"https://gitlab.com/beckalippert"},"labels":["Category:SAST","Stretch","UI text","UX","devops::secure","docs::improvement","documentation","feature::enhancement","group::static analysis","missed:13.7","missed:13.8","section::sec","type::feature","workflow::ready for development"],"milestone":{"id":1233760,"iid":56,"group_id":9970,"title":"13.9","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.334Z","updated_at":"2022-04-21T07:21:28.468Z","due_date":"2021-02-17","start_date":"2021-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/56"},"assignees":[{"id":4415483,"username":"beckalippert","name":"Becka Lippert","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4415483/avatar.png","web_url":"https://gitlab.com/beckalippert"}],"author":{"id":4415483,"username":"beckalippert","name":"Becka Lippert","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4415483/avatar.png","web_url":"https://gitlab.com/beckalippert"},"type":"ISSUE","assignee":{"id":4415483,"username":"beckalippert","name":"Becka Lippert","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4415483/avatar.png","web_url":"https://gitlab.com/beckalippert"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/285451","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/285451","notes":"https://gitlab.com/api/v4/projects/278964/issues/285451/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/285451/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#285451","relative":"#285451","full":"gitlab-org/gitlab#285451"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3585,"epic":{"id":67683,"iid":3585,"title":"Static Analysis UX","url":"/groups/gitlab-org/-/epics/3585","group_id":9970,"human_readable_end_date":"Aug 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":74696955,"iid":285442,"project_id":278964,"title":"Mentioning users is now very slow","description":"Mentioning users have become very slow over the last two days.\n\nIt seems the autocompleteSources controller has become slower, taking 1321 queries and about 4 seconds time to first byte\n\nhttps://gitlab.com/gitlab-org/charts/gitlab/-/autocomplete_sources/members?type=MergeRequest\u0026type_id=1646\n\n![Screen_Shot_2020-11-20_at_3.55.40_PM](/uploads/84b4b4d82d18663e0f15cada06024b12/Screen_Shot_2020-11-20_at_3.55.40_PM.png)\n\n![Screen_Shot_2020-11-20_at_3.56.03_PM](/uploads/ed0645e9035c2e3abb7e68f3ac56b2f1/Screen_Shot_2020-11-20_at_3.56.03_PM.png)","state":"closed","created_at":"2020-11-20T02:56:55.482Z","updated_at":"2020-12-15T17:30:19.098Z","closed_at":"2020-12-15T12:00:25.029Z","closed_by":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"labels":["backend","bug::performance","devops::manage","group::optimize","priority::2","section::dev","severity::2","type::bug","workflow::production"],"milestone":{"id":1233757,"iid":54,"group_id":9970,"title":"13.7","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:43:14.893Z","updated_at":"2022-04-13T14:51:12.240Z","due_date":"2020-12-17","start_date":"2020-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/54"},"assignees":[{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"},{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"}],"author":{"id":2535118,"username":"tkuah","name":"Thong Kuah","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f7b51bdd49a4914d29504d7ff4c3f7b9?s=80\u0026d=identicon","web_url":"https://gitlab.com/tkuah"},"type":"ISSUE","assignee":{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"},"user_notes_count":18,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/285442","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/285442","notes":"https://gitlab.com/api/v4/projects/278964/issues/285442/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/285442/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#285442","relative":"#285442","full":"gitlab-org/gitlab#285442"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":74696905,"iid":285441,"project_id":278964,"title":"[Feature flag] Rollout of `audit_log_export_csv`","description":"## What\n\nRemove the `:audit_log_export_csv` feature flag introduced by gitlab-org/gitlab!31191.\n\n## Owners\n\n- Team: ~\"group::compliance\" \n- Most appropriate slack channel to reach out to: `#g_manage_compliance`\n- Best individual to reach out to: Tan Le (@tancnle)\n\n## Expectations\n\n### What are we expecting to happen?\n\nAdministrators can [export audit events to CSV](https://docs.gitlab.com/ee/administration/audit_events.html#export-to-csv) via `Admin Area \u003e Monitoring \u003e Audit Log`.\n\n### What might happen if this goes wrong?\n\nAdministrators are unable to export, most likely `500` due to timeout.\n\n### What can we monitor to detect problems with this?\n\nMonitoring issues reported in `gitlab-org/gitlab`.\n\n## Beta groups/projects\n\nN/A - This is an instance-wide feature.\n\n## Roll Out Steps\n\n- [x] Enable on staging (`/chatops run feature set audit_log_export_csv true --staging`)\n- [x] Test on staging\n- [x] Ensure that documentation has been updated\n- [-] Enable on GitLab.com for individual groups/projects listed above and verify behaviour  (`/chatops run feature set --project=gitlab-org/gitlab audit_log_export_csv true`) - **this is an instance-wide feature.**\n- [x] Coordinate a time to enable the flag with the SRE oncall and release managers\n  - In `#production` by pinging `@sre-oncall`\n  - In `#g_delivery` by pinging `@release-managers`\n- [x] Announce on the issue an estimated time this will be enabled on GitLab.com\n- [x] Enable on GitLab.com by running chatops command in `#production` (`/chatops run feature set audit_log_export_csv true`)\n- [x] Cross post chatops Slack command to `#support_gitlab-com` ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#where-to-run-commands)) and in your team channel\n- [x] Announce on the issue that the flag has been enabled\n- [x] Remove feature flag and add changelog entry\n- [x] After the flag removal is deployed, [clean up the feature flag](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) by running chatops command in `#production` channel\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set audit_log_export_csv false\n```","state":"closed","created_at":"2020-11-20T02:53:02.348Z","updated_at":"2020-12-15T18:11:37.092Z","closed_at":"2020-12-02T06:57:38.090Z","closed_by":{"id":398752,"username":"tancnle","name":"Tan Le","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/398752/avatar.png","web_url":"https://gitlab.com/tancnle"},"labels":["backend","devops::manage","feature flag","group::compliance","section::dev","workflow::verification"],"milestone":{"id":1233757,"iid":54,"group_id":9970,"title":"13.7","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:43:14.893Z","updated_at":"2022-04-13T14:51:12.240Z","due_date":"2020-12-17","start_date":"2020-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/54"},"assignees":[{"id":398752,"username":"tancnle","name":"Tan Le","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/398752/avatar.png","web_url":"https://gitlab.com/tancnle"}],"author":{"id":398752,"username":"tancnle","name":"Tan Le","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/398752/avatar.png","web_url":"https://gitlab.com/tancnle"},"type":"ISSUE","assignee":{"id":398752,"username":"tancnle","name":"Tan Le","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/398752/avatar.png","web_url":"https://gitlab.com/tancnle"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/285441","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":11,"completed_count":10},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"10 of 11 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/285441","notes":"https://gitlab.com/api/v4/projects/278964/issues/285441/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/285441/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#285441","relative":"#285441","full":"gitlab-org/gitlab#285441"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":74695633,"iid":285438,"project_id":278964,"title":"Finish re-naming Instance Statistics as Usage Trends in the code","description":"### Problem to solve\n\nWe re-named the \"Instance Statistics\" feature as \"Usage Trends\" under https://gitlab.com/gitlab-org/gitlab/-/issues/285220, however only in the UI and not the code.  The code is out of sync with the UI.\n\n### Proposal\n\nUpdate the code and docs to replace the \"instance statistics\" name with \"usage trends\".","state":"closed","created_at":"2020-11-20T01:53:20.886Z","updated_at":"2021-02-19T13:34:58.513Z","closed_at":"2021-02-19T13:34:58.378Z","closed_by":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"labels":["backend","devops::manage","group::optimize","maintenance::refactor","missed:13.9","priority::4","section::dev","workflow::production"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"}],"author":{"id":4512390,"username":"djensen","name":"Dan Jensen","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4512390/avatar.png","web_url":"https://gitlab.com/djensen"},"type":"ISSUE","assignee":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/285438","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/285438","notes":"https://gitlab.com/api/v4/projects/278964/issues/285438/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/285438/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#285438","relative":"#285438","full":"gitlab-org/gitlab#285438"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":74694809,"iid":285419,"project_id":278964,"title":"Add Prevent approval of merge requests by merge request author checkbox to group MR approvals","description":"## Why are we doing this work\n\nWith the completion of https://gitlab.com/gitlab-org/gitlab/-/issues/247900, we now have a Vue app we can begin adding settings to.\n\nThis specific issue is needed so group owners can define for all their projects, whether a merge request can be approved by it's author.\n\n## Relevant links\n\n\n## Non-functional requirements\n\n- [ ] Feature flag: `group_merge_request_approval_settings_feature_flag`\n- [ ] Performance:\n- [ ] Testing:\n\n## Implementation plan\n\n~frontend - :one: \n\n- [ ] Add `Prevent approval of merge requests by merge request author` checkbox, which takes account of higher-level restrictions (instance or group when used on a project)\n- [ ] Add the ability to save this value via the store\n- [ ] Check that success and errors are being handled by the stores existing process\n- [ ] Add tests\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2020-11-20T01:13:05.792Z","updated_at":"2022-03-28T19:20:43.487Z","closed_at":"2021-02-17T06:29:33.169Z","closed_by":{"id":398752,"username":"tancnle","name":"Tan Le","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/398752/avatar.png","web_url":"https://gitlab.com/tancnle"},"labels":["Category:Compliance Management","Deliverable","Enterprise Edition","GitLab Premium","devops::manage","direction","frontend","group::compliance","priority::3","section::dev","workflow::blocked"],"milestone":{"id":1233760,"iid":56,"group_id":9970,"title":"13.9","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.334Z","updated_at":"2022-04-21T07:21:28.468Z","due_date":"2021-02-17","start_date":"2021-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/56"},"assignees":[],"author":{"id":398752,"username":"tancnle","name":"Tan Le","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/398752/avatar.png","web_url":"https://gitlab.com/tancnle"},"type":"ISSUE","assignee":null,"user_notes_count":19,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/285419","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":7,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 7 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/285419","notes":"https://gitlab.com/api/v4/projects/278964/issues/285419/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/285419/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#285419","relative":"#285419","full":"gitlab-org/gitlab#285419"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5957,"epic":{"id":266916,"iid":5957,"title":"Group-level settings for merge request approval SETTINGS in child projects","url":"/groups/gitlab-org/-/epics/5957","group_id":9970,"human_readable_end_date":"Jan 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":74694088,"iid":285410,"project_id":278964,"title":"[Feature flag] Rollout of `group_merge_request_approval_settings`","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## What\n\nEnable then remove the `:group_merge_request_approval_settings_feature_flag` feature flag once the user-facing changes have been implemented in https://gitlab.com/groups/gitlab-org/-/epics/4367\n\n## Owners\n\n- Team: ~\"group::compliance\" \n- Most appropriate slack channel to reach out to: `#g_manage_compliance`\n- Best individual to reach out to: @mwoolf\n\n## Expectations\n\nThe FF `group_merge_request_approval_settings` was introduced to facilitate the development of the new group merge request approval settings area in such a way as to make it as a painless and error-free as possible.\n\n### What are we expecting to happen?\n\n- Merge request approval settings should now cascase nicely from instance -\u003e group -\u003e project in GitLab Ultimate.\n\n### What might happen if this goes wrong?\n\n- Projects may be allowed to be approved by unintended users. (Authors approving their own MRs for example.)\n  - Audit logging will still function as normal providing an audit trail in this instance.\n\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n\n## Beta groups/projects\n\nIf applicable, any groups/projects that are happy to have this feature turned on early. Some organizations may wish to test big changes they are interested in with a small subset of users ahead of time for example.\n\n- `gitlab-org/gitlab` project\n- We need volunteer customers who would be interested in trying this.\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [ ] Enable the feature globally on non-production environments.\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e true --dev`\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e true --staging`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Specific rollout on production\n\n- Ensure that the feature MRs have been deployed to both production and canary.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- If you're using [project-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --project=gitlab-org/gitlab \u003cfeature-flag-name\u003e true`\n    - [ ] `/chatops run feature set --project=gitlab-org/gitlab-foss \u003cfeature-flag-name\u003e true`\n    - [ ] `/chatops run feature set --project=gitlab-com/www-gitlab-com \u003cfeature-flag-name\u003e true`\n- If you're using [group-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [x] `/chatops run feature set --group=gitlab-org \u003cfeature-flag-name\u003e true`\n    - [x] `/chatops run feature set --group=gitlab-com \u003cfeature-flag-name\u003e true`\n- If you're using [user-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --user=\u003cyour-username\u003e \u003cfeature-flag-name\u003e true`\n- [x] Verify that the feature works on the specific entries. Posting the QA result in this issue is preferable.\n\n### Preparation before global rollout\n\n- [ ] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [x] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [ ] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [ ] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com.\n- [x] If the feature might impact the user experience, notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nAll `/chatops` commands that target production should be done in the `#production` slack channel for visibility.\n\n- [x] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e`\n  - Enable the feature globally on production environment.\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e true`\n- [ ] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [ ] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [x] Create a merge request with the following changes. Ask for review and merge it.\n    - [x] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [x] Ensure that the default-enabling MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-default-enabling-mr\u003e`\n- [x] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [x] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [x] (Optional) You can create a separate issue for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [x] Set the title to \"[Feature flag] Cleanup `\u003cfeature-flag-name\u003e`\".\n    - [x] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [x] Link this rollout issue as a related issue.\n    - [x] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [ ] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag. Ask for review and merge it.\n    - [ ] Remove all references to the feature flag from the codebase.\n    - [ ] Remove the YAML definitions for the feature from the repository.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the cleanup MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-cleanup-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --dev`\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --staging`\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e`\n- [ ] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set --project=gitlab-org/gitlab group_merge_request_approval_settings_feature_flag false\n```","state":"closed","created_at":"2020-11-20T00:44:10.034Z","updated_at":"2021-10-28T18:02:08.577Z","closed_at":"2021-10-27T14:07:33.962Z","closed_by":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"labels":["Category:Compliance Management","Enterprise Edition","GitLab Premium","backend","devops::manage","feature flag","group::compliance","merge requests","priority::1","section::dev","settings","workflow::verification"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"}],"author":{"id":398752,"username":"tancnle","name":"Tan Le","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/398752/avatar.png","web_url":"https://gitlab.com/tancnle"},"type":"ISSUE","assignee":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"user_notes_count":46,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/285410","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":49,"completed_count":22},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"22 of 49 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/285410","notes":"https://gitlab.com/api/v4/projects/278964/issues/285410/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/285410/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#285410","relative":"#285410","full":"gitlab-org/gitlab#285410"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5957,"epic":{"id":266916,"iid":5957,"title":"Group-level settings for merge request approval SETTINGS in child projects","url":"/groups/gitlab-org/-/epics/5957","group_id":9970,"human_readable_end_date":"Jan 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":74693090,"iid":285334,"project_id":278964,"title":"Maven registries version checks cross sub-group and cross projects","description":"\u003c!-- The first section \"Release notes\" is required if you want to have your release post blog MR auto generated. Currently in BETA, details on the **release post item generator** can be found in the handbook:  https://about.gitlab.com/handbook/marketing/blog/release-posts/#release-post-item-generator and this video: https://www.youtube.com/watch?v=rfn9ebgTwKg. The next four sections: \"Problem to solve\", \"Intended users\", \"User experience goal\", and \"Proposal\", are strongly recommended in your first draft, while the rest of the sections can be filled out during the problem validation or breakdown phase. However, keep in mind that providing complete and relevant information early helps our product team validate the problem and start working on a solution. --\u003e\n\n### Release notes\n\nMaven registries used across large sub-groups search across all projects to determine best match for version ranges.\n\n\u003c!-- What is the problem and solution you're proposing? This content sets the overall vision for the feature and serves as the release notes that will populate in various places, including the [release post blog](https://about.gitlab.com/releases/categories/releases/) and [Gitlab project releases](https://gitlab.com/gitlab-org/gitlab/-/releases). \" --\u003e\n\n### Problem to solve \n\nWhen two separate maven project registries have the same package the versioning scheme does not search cross sub-group for the higher version match, but instead locks into the first registry it finds.\n\n`gitlab.com/subgroupa/subsubgroupa/proja - mvnpkg-a version 1.1`\n\n`gitlab.com/subgroupa/subsubgroupb/proja - mvnpkg-a version 1.2`\n\nIf I configure my maven dependencies to gitlab.com/subgroupa to `[1.0,2.0]`, I have a chance to receive `1.1` from subsubgroupa/proja because the search ends with the first match (I believe sorted by last updated timestamp).\n\n\u003c!-- What problem do we solve? Try to define the who/what/why of the opportunity as a user story. For example, \"As a (who), I want (what), so I can (why/value).\" --\u003e\n\n### Intended users\n\n\u003c!-- Who will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops)\n* [Priyanka (Platform Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#priyanka-platform-engineer)\n--\u003e\n\n### User experience goal\n\nMaven builds automatically search cross sub-groups/projects automatically.\n\n\u003c!-- What is the single user experience workflow this problem addresses?\nFor example, \"The user should be able to use the UI/API/.gitlab-ci.yml with GitLab to \u003cperform a specific task\u003e\"\nhttps://about.gitlab.com/handbook/engineering/ux/ux-research-training/user-story-mapping/ --\u003e\n\n### Proposal\n\nMaven builds automatically search cross sub-groups/projects automatically and returns the highest in the explicit versioning range - e.g. return 1.2 in the example above.\n\n\u003c!-- How are we going to solve the problem? Try to include the user journey! https://about.gitlab.com/handbook/journeys/#user-journey --\u003e\n\n### Further details\n\nAs a large tenant on gitlab.com, with 1 parent sub-group and many sub-groups underneath it, we had an instance where a group accidentally published a maven package to their registry that was not the genuine latest.\n\n\u003c!-- Include use cases, benefits, goals, or any other details that will help us understand the problem better. --\u003e\n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?\nConsider adding checkboxes and expectations of users with certain levels of membership https://docs.gitlab.com/ee/user/permissions.html\n* [ ] Add expected impact to members with no access (0)\n* [ ] Add expected impact to Guest (10) members\n* [ ] Add expected impact to Reporter (20) members\n* [ ] Add expected impact to Developer (30) members\n* [ ] Add expected impact to Maintainer (40) members\n* [ ] Add expected impact to Owner (50) members --\u003e\n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/workflow.html#for-a-product-change\n\n* Add all known Documentation Requirements in this section. See https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements\n* If this feature requires changing permissions, update the permissions document. See https://docs.gitlab.com/ee/user/permissions.html --\u003e\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\n### What does success look like, and how can we measure that?\n\n\u003c!--\nDefine both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this.\n\nCreate tracking issue using the the Snowplow event tracking template. See https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Snowplow%20event%20tracking.md\n--\u003e\n\n### What is the type of buyer?\n\n\u003c!-- What is the buyer persona for this feature? See https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/buyer-persona/\nIn which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#four-tiers --\u003e\n\n### Is this a cross-stage feature?\n\n\u003c!-- Communicate if this change will affect multiple Stage Groups or product areas. We recommend always start with the assumption that a feature request will have an impact into another Group. Loop in the most relevant PM and Product Designer from that Group to provide strategic support to help align the Group's broader plan and vision, as well as to avoid UX and technical debt. https://about.gitlab.com/handbook/product/#cross-stage-features --\u003e\n\n### Links / references\n\n\u003c!--  Label reminders - you should have one of each of the following labels.\nRead the descriptions on https://gitlab.com/gitlab-org/gitlab/-/labels to find the correct ones --\u003e","state":"closed","created_at":"2020-11-19T23:59:34.669Z","updated_at":"2021-01-18T07:07:31.149Z","closed_at":"2021-01-14T17:03:49.076Z","closed_by":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"labels":["Category:Package Registry","Deliverable","Maven Repository","Package:P1","backend","customer","devops::package","group::package registry","quad-planning::complete-no-action","ruby","section::ops","type::bug","workflow::production"],"milestone":{"id":1233759,"iid":55,"group_id":9970,"title":"13.8","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:13.983Z","updated_at":"2022-04-13T14:51:23.220Z","due_date":"2021-01-17","start_date":"2020-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/55"},"assignees":[{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"}],"author":{"id":3278533,"username":"chill104","name":"Chris Hill","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3278533/avatar.png","web_url":"https://gitlab.com/chill104"},"type":"ISSUE","assignee":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"user_notes_count":20,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/285334","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/285334","notes":"https://gitlab.com/api/v4/projects/278964/issues/285334/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/285334/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#285334","relative":"#285334","full":"gitlab-org/gitlab#285334"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":74690280,"iid":285295,"project_id":278964,"title":"Design: allow users to change issue types","description":"Creating a placeholder design issue for work on https://gitlab.com/gitlab-org/gitlab/-/issues/268370\n\nThe conversation is there, so I'll be working exclusively on that issue. This issue is just to capture the weight for the JAMF board.","state":"closed","created_at":"2020-11-19T22:07:46.996Z","updated_at":"2021-01-06T16:36:14.568Z","closed_at":"2021-01-06T16:36:14.511Z","closed_by":{"id":2799498,"username":"ameliabauerly","name":"Amelia Bauerly","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2799498/avatar.png","web_url":"https://gitlab.com/ameliabauerly"},"labels":["UX","devops::monitor","group::respond","missed:13.7","section::ops"],"milestone":{"id":1233759,"iid":55,"group_id":9970,"title":"13.8","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:13.983Z","updated_at":"2022-04-13T14:51:23.220Z","due_date":"2021-01-17","start_date":"2020-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/55"},"assignees":[{"id":2799498,"username":"ameliabauerly","name":"Amelia Bauerly","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2799498/avatar.png","web_url":"https://gitlab.com/ameliabauerly"}],"author":{"id":2799498,"username":"ameliabauerly","name":"Amelia Bauerly","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2799498/avatar.png","web_url":"https://gitlab.com/ameliabauerly"},"type":"ISSUE","assignee":{"id":2799498,"username":"ameliabauerly","name":"Amelia Bauerly","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2799498/avatar.png","web_url":"https://gitlab.com/ameliabauerly"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/285295","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/285295","notes":"https://gitlab.com/api/v4/projects/278964/issues/285295/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/285295/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#285295","relative":"#285295","full":"gitlab-org/gitlab#285295"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":74689470,"iid":285287,"project_id":278964,"title":"Fix icon for submodules in tree list of merge requests","description":"The `submodule` property is missing from:\n\n`diffs_metadata.json?view=inline`\n\n![image](/uploads/7a8722a8ea29bc71604d8d5f7390d079/image.png)\n\n![image](/uploads/cc5f4c73317e5b42d63f44d5e728ceeb/image.png)\n\nFor reference, this is how data from `diffs_batch.json` where the `submodule` property is provided. Hence the icon is loaded properly\n\n![image](/uploads/fe78fd1106b7bad331498785283de27c/image.png)\n\n## Example\n\nMerge request: https://gitlab.com/gitlab-org/gitlab-test/-/merge_requests/52/diffs","state":"closed","created_at":"2020-11-19T21:32:14.251Z","updated_at":"2021-01-21T21:48:30.830Z","closed_at":"2021-01-21T21:48:30.776Z","closed_by":{"id":7814354,"username":"sim0","name":"Simon Stieger","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7814354/avatar.png","web_url":"https://gitlab.com/sim0"},"labels":["[deprecated] 🍎","backend","devops::create","diff","good for new contributors","group::code review","merge requests","missed:13.8","priority::4","section::dev","severity::4","type::bug"],"milestone":{"id":1233760,"iid":56,"group_id":9970,"title":"13.9","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.334Z","updated_at":"2022-04-21T07:21:28.468Z","due_date":"2021-02-17","start_date":"2021-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/56"},"assignees":[{"id":7814354,"username":"sim0","name":"Simon Stieger","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7814354/avatar.png","web_url":"https://gitlab.com/sim0"}],"author":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"type":"ISSUE","assignee":{"id":7814354,"username":"sim0","name":"Simon Stieger","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7814354/avatar.png","web_url":"https://gitlab.com/sim0"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/285287","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/285287","notes":"https://gitlab.com/api/v4/projects/278964/issues/285287/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/285287/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#285287","relative":"#285287","full":"gitlab-org/gitlab#285287"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":74688863,"iid":285285,"project_id":278964,"title":"Follow-up from \"Integrate RevocationAPI with BuildFinishedWorker\"","description":"This is a follow-up issue from [Integrate RevocationAPI with BuildFinishedWorker](https://gitlab.com/gitlab-org/gitlab/-/issues/268397). Following are things we want to address:\n\n1. We need to confirm whether we need to restrict the revocation token work for `GitLab.com` only. Here is a [question](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/46729#note_451108542) made for this.\n\n2. Follow-up from @smcgivern's [comment](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/46729#note_451567626). We want to address what should be the number of retries for `ScanSecurityReportSecretsWorker`. As @smcgivern mentioned, we need to have a detailed discussion on how we come up with 20 retries. One thing to consider here is to have a much better handle on the jobs that are currently failing.\n\n3. Follow-up from @smcgivern's [comment](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/46729#note_451567610). We need to choose either `urgency` or `external dependencies`. We can't choose both. We need to have a discussion in detail on this as well.","state":"closed","created_at":"2020-11-19T21:12:22.099Z","updated_at":"2020-12-17T19:18:03.258Z","closed_at":"2020-12-17T19:17:35.678Z","closed_by":{"id":5427309,"username":"ssarka","name":"Saikat Sarkar","state":"blocked","avatar_url":"https://secure.gravatar.com/avatar/097feebc1eb82b858a9046fe9b6d9176?s=80\u0026d=identicon","web_url":"https://gitlab.com/ssarka"},"labels":["Category:Secret Detection","[deprecated] Accepting merge requests","backend","devops::secure","group::static analysis","section::sec","workflow::production"],"milestone":{"id":1233757,"iid":54,"group_id":9970,"title":"13.7","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:43:14.893Z","updated_at":"2022-04-13T14:51:12.240Z","due_date":"2020-12-17","start_date":"2020-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/54"},"assignees":[],"author":{"id":5427309,"username":"ssarka","name":"Saikat Sarkar","state":"blocked","avatar_url":"https://secure.gravatar.com/avatar/097feebc1eb82b858a9046fe9b6d9176?s=80\u0026d=identicon","web_url":"https://gitlab.com/ssarka"},"type":"ISSUE","assignee":null,"user_notes_count":21,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/285285","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/285285","notes":"https://gitlab.com/api/v4/projects/278964/issues/285285/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/285285/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#285285","relative":"#285285","full":"gitlab-org/gitlab#285285"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4639,"epic":{"id":127746,"iid":4639,"title":"Post-processing of leaked secrets","url":"/groups/gitlab-org/-/epics/4639","group_id":9970,"human_readable_end_date":"Feb 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":74685699,"iid":285220,"project_id":278964,"title":"Rename Instance Statistics to Usage Trends","description":"## Problem\nInstance Statistics (https://docs.gitlab.com/ee/user/admin_area/analytics/instance_statistics.html) is a feature intended to show high-level usage statistics about GitLab activity. \n\nThis question is equally relevant to GitLab.com users and self-managed deployments, but the term \"Instance Statistics\" is inherently only relevant to self-managed. Although we have [plans to resolve this](https://gitlab.com/groups/gitlab-org/-/epics/4257), GitLab.com customers will never have instance-level access (they'll have expanded control over groups they manage).\n\n## Proposal\n\nRename \"Instance Statistics\" to \"Usage Trends\" in the UI.\n\n## Out of scope\n\nRenaming in the underlying code will be handled under https://gitlab.com/gitlab-org/gitlab/-/issues/285438.\n\n## Related links\n\n- See \"Naming something Instance Statistics\" in the [Product Scaling Agenda](https://docs.google.com/document/d/1nMJzrDfG7C14WP5v7P226oPFuXkwqIk7bdIT8ai0DNU/edit#).\n\ncc @ljlane @npost @ebrinkman","state":"closed","created_at":"2020-11-19T19:45:17.796Z","updated_at":"2021-03-17T22:08:50.552Z","closed_at":"2020-12-10T14:16:07.301Z","closed_by":{"id":4512390,"username":"djensen","name":"Dan Jensen","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4512390/avatar.png","web_url":"https://gitlab.com/djensen"},"labels":["Category:DevOps Reports","devops::manage","group::optimize","missed:13.6","section::dev","workflow::in review"],"milestone":{"id":1233755,"iid":53,"group_id":9970,"title":"13.6","description":"https://about.gitlab.com/releases/2020/11/22/gitlab-13-6-released/","state":"closed","created_at":"2020-04-09T17:39:22.328Z","updated_at":"2022-04-13T14:51:04.376Z","due_date":"2020-11-17","start_date":"2020-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/53"},"assignees":[{"id":4512390,"username":"djensen","name":"Dan Jensen","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4512390/avatar.png","web_url":"https://gitlab.com/djensen"}],"author":{"id":1086520,"username":"jeremy-gl","name":"Jeremy Watson (ex-GitLab)","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1086520/avatar.png","web_url":"https://gitlab.com/jeremy-gl"},"type":"ISSUE","assignee":{"id":4512390,"username":"djensen","name":"Dan Jensen","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4512390/avatar.png","web_url":"https://gitlab.com/djensen"},"user_notes_count":5,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/285220","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/285220","notes":"https://gitlab.com/api/v4/projects/278964/issues/285220/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/285220/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#285220","relative":"#285220","full":"gitlab-org/gitlab#285220"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":74681972,"iid":285150,"project_id":278964,"title":"SAML Group Sync - Self-Managed SAML Implementation","description":"\u003c!-- This issue template can be used a great starting point for feature requests. The last section \"Release notes\" can be used as a summary of the feature and is also required if you want to have your release post blog MR auto generated using the release post item generator:  https://about.gitlab.com/handbook/marketing/blog/release-posts/#release-post-item-generator. The remaining sections are the backbone for every feature in GitLab. --\u003e\n\n### Release notes \n\n\u003c!-- What is the problem and solution you're proposing? This content sets the overall vision for the feature and serves as the release notes that will populate in various places, including the [release post blog](https://about.gitlab.com/releases/categories/releases/) and [Gitlab project releases](https://gitlab.com/gitlab-org/gitlab/-/releases). \" --\u003e\n\n### Problem to solve \n\nIn %13.7 we introduce SAML group sync for GitLab.com. This issue will track implementing this for self-managed! \n\n### Proposal \n\nKeep the same group level mapping at the group level and have the self-managed implementation of SAML use it to manage group membershop.\n\nNOTE: If at all possible, this implementation should be compatible with [multiple SAML providers](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/73539) as is being proposed by a community contributor in the linked MR. \n\n#### Estimate of work needed\n\nSee https://gitlab.com/gitlab-org/gitlab/-/issues/267020 for merge requests that implemented Group SAML Group Sync\n\n* Update `GroupPolicy` to enable `:admin_saml_group_links` feature when self-managed SAML is enabled.\n  * Ensure navbar shows `SAML Group Links` item.\n  * Ensure the `Groups::SamlGroupLinksController` allows viewing, adding and removing group links with the above complete.\n* Create a new `SamlGroupSyncWorker`, similar to `GroupSamlGroupSyncWorker`, that will call `Groups::SyncService` with appropriate details.\n  * Ensure `Groups::SyncService` works for this use-case. It was built with this use-case in mind so it should only require minor-tweaking, if any.\n* Trigger the worker on sign-in. This needs to happen for the following two cases:\n  * New users - triggered from `Gitlab::Auth::Saml::User`, just like `Gitlab::Auth::GroupSaml::User` does via the `MembershipUpdater`.\n  * Existing users that get linked on sign-in - triggered from `Gitlab::Auth::Saml::IdentityLinker`, just like `Gitlab::Auth::GroupSaml::IdentityLinker` does via the `MembershipUpdater`.\n    * `GroupSaml::IdentityLinker` inherits from `Saml::IdentityLinker` so there might be an opportunity for unifying details here. Note: There is no `MembershipUpdater` for global SAML.\n* Documentation\n\n\u003c!-- Read the labels descriptions on https://gitlab.com/gitlab-org/gitlab/-/labels to find the appropriate labels. Consider adding related issues and epics to this issue. You can also reference the Feature Proposal Template (https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal.md) for additional details to consider adding to this issue. Additionally, as a data oriented organization, when your feature exits planning breakdown, consider adding the `What does success look like, and how can we measure that?` section.\n\nOther sections to consider adding: \n\n### Intended users\n\nWho will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n\n* [Cameron (Compliance Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#cameron-compliance-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager) \n* [Alex (Security Operations Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#alex-security-operations-engineer)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops) \n* [Priyanka (Platform Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#priyanka-platform-engineer)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n\n\n### User experience goal\n\nWhat is the single user experience workflow this problem addresses? \nFor example, \"The user should be able to use the UI/API/.gitlab-ci.yml with GitLab to \u003cperform a specific task\u003e\"\nhttps://about.gitlab.com/handbook/engineering/ux/ux-research-training/user-story-mapping/ \n\n\n### Further details\n\nInclude use cases, benefits, goals, or any other details that will help us understand the problem better. \n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?\nConsider adding checkboxes and expectations of users with certain levels of membership https://docs.gitlab.com/ee/user/permissions.html\n* [ ] Add expected impact to members with no access (0)\n* [ ] Add expected impact to Guest (10) members\n* [ ] Add expected impact to Reporter (20) members\n* [ ] Add expected impact to Developer (30) members \n* [ ] Add expected impact to Maintainer (40) members\n* [ ] Add expected impact to Owner (50) members \n\n### Documentation\n\n See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/workflow.html#for-a-product-change\n\n* Add all known Documentation Requirements in this section. See https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements\n* If this feature requires changing permissions, update the permissions document. See https://docs.gitlab.com/ee/user/permissions.html \n\n### Availability \u0026 Testing\n\nThis section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning \n\n### What does success look like, and how can we measure that?\n\nDefine both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. \n\n### What is the type of buyer?\n\nWhat is the buyer persona for this feature? See https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/buyer-persona/\nIn which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#four-tiers\n\n### Is this a cross-stage feature?\n\nCommunicate if this change will affect multiple Stage Groups or product areas. We recommend always start with the assumption that a feature request will have an impact into another Group. Loop in the most relevant PM and Product Designer from that Group to provide strategic support to help align the Group's broader plan and vision, as well as to avoid UX and technical debt. https://about.gitlab.com/handbook/product/#cross-stage-features --\u003e\n\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\nAdd E2E test: https://gitlab.com/gitlab-org/quality/testcases/-/issues/2444\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2020-11-19T18:18:29.366Z","updated_at":"2022-07-31T11:54:59.114Z","closed_at":"2022-06-02T22:38:44.578Z","closed_by":{"id":9425173,"username":"hsutor","name":"Hannah Sutor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9425173/avatar.png","web_url":"https://gitlab.com/hsutor"},"labels":["Category:Authentication and Authorization","Deliverable","FY23::Q1","GitLab Premium","GitLab Ultimate","backend","customer","devops::manage","group::authentication and authorization","missed-deliverable","missed:14.9","release post item::in review","section::dev","type::feature","workflow::production"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":13356,"username":"dblessing","name":"Drew Blessing","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b5bf44866b4eeafa2d8114bfe15da02f?s=80\u0026d=identicon","web_url":"https://gitlab.com/dblessing"}],"author":{"id":5709669,"username":"mushakov","name":"Melissa Ushakov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5709669/avatar.png","web_url":"https://gitlab.com/mushakov"},"type":"ISSUE","assignee":{"id":13356,"username":"dblessing","name":"Drew Blessing","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b5bf44866b4eeafa2d8114bfe15da02f?s=80\u0026d=identicon","web_url":"https://gitlab.com/dblessing"},"user_notes_count":101,"merge_requests_count":0,"upvotes":57,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/285150","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/285150","notes":"https://gitlab.com/api/v4/projects/278964/issues/285150/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/285150/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#285150","relative":"#285150","full":"gitlab-org/gitlab#285150"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3134,"epic":{"id":44399,"iid":3134,"title":"🔑 Manage: Auth \u0026 Auth Group HQ","url":"/groups/gitlab-org/-/epics/3134","group_id":9970},"iteration":null,"health_status":null},{"id":74681028,"iid":285144,"project_id":278964,"title":"[FE] Render generic report data on vulnerability details page","description":"## Why are we doing this work\n\nJames Johnson created a proof-of-concept MR (https://gitlab.com/gitlab-org/gitlab/-/merge_requests/41783) that allows a user to add their own labels and values to a vulnerability, where the label is any string they want and the value is one of the following types: `named-list`, `list`, `table`, `url`, `int`, `text`, `diff`, `markdown` (GFM), `code`, `commit`, `file-location`, and `module-location`. The type is used to format the data in a certain way, so for example if the data is:\n\n```json\n\"diff\": {\n  \"name\": [ { \"lang\": \"en\", \"value\": \"Modified data\" } ],\n  \"description\": [ { \"lang\": \"en\", \"value\": \"How the data was modified\" } ],\n  \"type\": \"diff\",\n  \"before\": \"Hello there\\nHello world\\nhello again\",\n  \"after\": \"Hello there\\nHello Wooorld\\nanew line\\nhello again\\nhello again\"\n}\n```\n\nthe ~frontend will render it as:\n|  |\n|--|\n| ![ksnip_20210216-222428](https://gitlab.com/gitlab-org/gitlab/uploads/fc00ffc10c52859f73cdb110902b0d84/ksnip_20210216-222428.png) |\n\nAnother example:\n\n```json\n\"code_block\": {\n  \"name\": [ { \"lang\": \"en\", \"value\": \"Code Block\" } ],\n  \"type\": \"code\",\n  \"value\": \"Here\\nis\\ncode\"\n}\n```\n|  |\n|--|\n| ![ksnip_20210216-222638](https://gitlab.com/gitlab-org/gitlab/uploads/9fe3b1a4e07509166858f744bf4b2e2a/ksnip_20210216-222638.png) |\n\nThis `generic report data` will be added to the vulnerability data as its `details` property:\n\nhttps://gitlab.com/-/snippets/2078235/raw/master/gl-sast-report.json\n\n## Task\n\nModify the vulnerability details page so that it will show the generic report data with the proper formatting.\n\n|||\n|-|-|\n|Example data|https://gitlab.com/-/snippets/2078235/raw/master/gl-sast-report.json|\n|Example screenshots|See screenshots in MR description: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/41783|\n|Design mock-ups|https://gitlab.com/gitlab-org/gitlab/-/issues/267193/|\n\nNOTE - please consider [this discussion](https://gitlab.com/gitlab-org/gitlab/-/issues/267193/designs/Unified_schema_-_DAST.png#note_460898812) about the hover state of the expandable/collapsible sections during refinement/implementation. \n\u003e The caret and header are clickable. It's very likely that the hover state on this will highlight the entire background of the line where the caret and header are. If it doesn't then it should!\n\n## Implementation plan\n\nMost of the code can be copy-pasted from James Johnson's MR: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/41783/diffs, but needs to be modified to work with our current code and to match the design mock-ups.\n\n\n- [ ] Modify `vulnerability_details.vue` to render the generic report data\n\nRendering of the following types has been moved into https://gitlab.com/gitlab-org/gitlab/-/issues/324891\n- `list.vue`\n- `named_list.vue`\n- `url.vue`\n\nRendering of these remaining types has been moved into https://gitlab.com/gitlab-org/gitlab/-/issues/324892\n- `code.vue`\n- `commit.vue`\n- `diff.vue`\n- `file_location.vue`\n- `int.vue`\n- `markdown.vue`\n- `module_location.vue`\n- `table.vue`\n- `text.vue`\n- `label.vue`\n- `details.vue`","state":"closed","created_at":"2020-11-19T17:59:46.207Z","updated_at":"2022-01-26T10:17:14.402Z","closed_at":"2021-04-13T00:50:26.718Z","closed_by":{"id":4155411,"username":"dpisek","name":"David Pisek","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4155411/avatar.png","web_url":"https://gitlab.com/dpisek"},"labels":["Category:Vulnerability Management","Deliverable","devops::secure","feature::addition","frontend","group::threat insights","section::sec","type::feature","workflow::verification"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":4155411,"username":"dpisek","name":"David Pisek","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4155411/avatar.png","web_url":"https://gitlab.com/dpisek"}],"author":{"id":4906978,"username":"lkerr","name":"Lindsay Kerr","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4906978/avatar.png","web_url":"https://gitlab.com/lkerr"},"type":"ISSUE","assignee":{"id":4155411,"username":"dpisek","name":"David Pisek","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4155411/avatar.png","web_url":"https://gitlab.com/dpisek"},"user_notes_count":36,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/285144","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/285144","notes":"https://gitlab.com/api/v4/projects/278964/issues/285144/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/285144/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#285144","relative":"#285144","full":"gitlab-org/gitlab#285144"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4466,"epic":{"id":115454,"iid":4466,"title":"Generic security report schema","url":"/groups/gitlab-org/-/epics/4466","group_id":9970,"human_readable_end_date":"Jul 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":74680324,"iid":285142,"project_id":278964,"title":"Generate expected Vuln Details Display Schema for FE consumption","description":"## Why are we doing this work\n\nPart of delivering the parent Epic's [expected outcome](https://gitlab.com/groups/gitlab-org/-/epics/4466#expected-outcomes) item 4 is to render the UI of the Vulnerability Details page in the style defined according to mock ups in the design issue https://gitlab.com/gitlab-org/gitlab/-/issues/267193/designs/a2-Vuln-Details-Page_generic-schema-evidence-expandable.png. In order to do this, the backend will need to deliver the vulnerability data in an expected, agreed upon format.\n\nThis display report schema, henceforth known as the Vuln Details Display Schema, facilitates the dynamic display of the components based on the data associated with a vulnerability. This issue represents the work required to generate that schema based on the requirements defined in https://gitlab.com/gitlab-org/gitlab/-/issues/285141.\n\n## Non-functional requirements\n\n1. Security: report content to be treated as untrusted input lest it be used to inject HTML into the page.\n\n## Implementation plan\n\n1. ~backend Adjust `ee/app/helpers/vulnerabilities_helper.rb` so that it returns details using schema outlined in https://gitlab.com/gitlab-org/gitlab/-/issues/285141\n2. ~backend Adjust `ee/app/serializers/vulnerabilities/finding_entity.rb` so that it returns details using schema outlined in https://gitlab.com/gitlab-org/gitlab/-/issues/285141","state":"closed","created_at":"2020-11-19T17:58:44.099Z","updated_at":"2021-03-30T18:21:49.088Z","closed_at":"2021-03-30T18:21:49.005Z","closed_by":{"id":4473655,"username":"jschafer","name":"Jonathan Schafer","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c9a0dad78ff350f1f7fffd44514269a?s=80\u0026d=identicon","web_url":"https://gitlab.com/jschafer"},"labels":["Category:Vulnerability Management","Deliverable","backend","devops::secure","feature::addition","group::threat insights","section::sec","type::feature","workflow::verification"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":4473655,"username":"jschafer","name":"Jonathan Schafer","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c9a0dad78ff350f1f7fffd44514269a?s=80\u0026d=identicon","web_url":"https://gitlab.com/jschafer"}],"author":{"id":4906978,"username":"lkerr","name":"Lindsay Kerr","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4906978/avatar.png","web_url":"https://gitlab.com/lkerr"},"type":"ISSUE","assignee":{"id":4473655,"username":"jschafer","name":"Jonathan Schafer","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c9a0dad78ff350f1f7fffd44514269a?s=80\u0026d=identicon","web_url":"https://gitlab.com/jschafer"},"user_notes_count":17,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/285142","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/285142","notes":"https://gitlab.com/api/v4/projects/278964/issues/285142/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/285142/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#285142","relative":"#285142","full":"gitlab-org/gitlab#285142"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4466,"epic":{"id":115454,"iid":4466,"title":"Generic security report schema","url":"/groups/gitlab-org/-/epics/4466","group_id":9970,"human_readable_end_date":"Jul 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":74678940,"iid":285138,"project_id":278964,"title":"Metrics report Merge Request widget should use merge_base_pipeline","description":"\u003c!-- This template is a great use for issues that are feature::additions or technical tasks for larger issues.--\u003e\n### Overview\n\nSeveral of the merge request widgets were basing their comparison on an imperfect commit if pipelines for merged results were turned on. This includes the Metrics widget. As a developer I want the comparison commit to point to the same commit that the code quality report comparison is now based on, so that my metrics report results are more accurate.\n\n\n### Proposal \n\nWe have seen good results from changing the base report comparison for the code quality report merge request widget. The Metrics report merge request widget has a similar problem with incorrect base comparisons when we are using merged results pipelines. We should use the new comparison to increase the relevancy of the Metrics report merge request widget.\n\nWith the work done in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/54620, we have now a way to introduce more report comparison easily on our ~backend using merge result pipeline as follow:\n\n```diff\nALLOWED_TO_USE_MERGE_BASE_PIPELINE_FOR_COMPARISON = {\n  'Ci::CompareCodequalityReportsService' =\u003e -\u003e(project) { ::Gitlab::Ci::Features.display_codequality_backend_comparison?(project) },\n+ '::Ci::CompareMetricsReportsService' =\u003e -\u003e(project) { ::Gitlab::Ci::Features.use_metrics_report_merge_base_pipeline?(project) },\n  }.freeze\n```\n\u003c!-- Use this section to explain the feature and how it will work. It can be helpful to add technical details, design proposals, and links to related epics or issues. --\u003e","state":"closed","created_at":"2020-11-19T17:42:49.646Z","updated_at":"2021-06-18T07:08:25.949Z","closed_at":"2021-05-26T19:38:20.950Z","closed_by":{"id":730684,"username":"drew","name":"drew stachon","state":"active","avatar_url":"https://secure.gravatar.com/avatar/59b7f2c95acd4a085d964f745ead6bdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/drew"},"labels":["Category:Code Testing and Coverage","Deliverable","backend","devops::verify","feature::enhancement","group::pipeline insights","missed-deliverable","missed:13.12","section::ops","type::feature"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":730684,"username":"drew","name":"drew stachon","state":"active","avatar_url":"https://secure.gravatar.com/avatar/59b7f2c95acd4a085d964f745ead6bdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/drew"}],"author":{"id":4061070,"username":"rickywiens","name":"Ricky Wiens","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4061070/avatar.png","web_url":"https://gitlab.com/rickywiens"},"type":"ISSUE","assignee":{"id":730684,"username":"drew","name":"drew stachon","state":"active","avatar_url":"https://secure.gravatar.com/avatar/59b7f2c95acd4a085d964f745ead6bdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/drew"},"user_notes_count":17,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/285138","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/285138","notes":"https://gitlab.com/api/v4/projects/278964/issues/285138/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/285138/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#285138","relative":"#285138","full":"gitlab-org/gitlab#285138"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":74678121,"iid":285132,"project_id":278964,"title":"Document paths limit of cobertura report parsing","description":"The following discussion from !48048 should be addressed:\n\n- [ ] @morefice started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/48048#note_450317322): \n\n    \u003e **question:** Should we set a tracking event here in case the limit has been reached?\n\n## Question\n\nDo we find value in tracking this? Do we intend to track each time a certain limit is reached? Or should we sometimes rely on user feedback in some cases like this?\n\n## Answer - No.\n\nAs [discussed](https://gitlab.com/gitlab-org/gitlab/-/issues/285132#note_455524592) instead the limit of 100 should be documented.\n\n## Proposal\n\nAdd to the docs about test coverage visualization that a limit of 100 source nodes is enforced and that some test coverage may be missing if more than 100 source nodes are contained in a cobertura file(s) being uploaded as part of an MR.","state":"closed","created_at":"2020-11-19T17:19:49.878Z","updated_at":"2021-10-28T14:03:48.379Z","closed_at":"2021-02-11T17:20:03.212Z","closed_by":{"id":4061070,"username":"rickywiens","name":"Ricky Wiens","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4061070/avatar.png","web_url":"https://gitlab.com/rickywiens"},"labels":["Category:Code Testing and Coverage","auto updated","backend","devops::verify","docs-only","documentation","group::pipeline insights","section::ops","type::maintenance","workflow::production"],"milestone":{"id":1233760,"iid":56,"group_id":9970,"title":"13.9","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.334Z","updated_at":"2022-04-21T07:21:28.468Z","due_date":"2021-02-17","start_date":"2021-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/56"},"assignees":[{"id":4061070,"username":"rickywiens","name":"Ricky Wiens","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4061070/avatar.png","web_url":"https://gitlab.com/rickywiens"}],"author":{"id":1758950,"username":"iamricecake","name":"Erick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1758950/avatar.png","web_url":"https://gitlab.com/iamricecake"},"type":"ISSUE","assignee":{"id":4061070,"username":"rickywiens","name":"Ricky Wiens","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4061070/avatar.png","web_url":"https://gitlab.com/rickywiens"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/285132","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/285132","notes":"https://gitlab.com/api/v4/projects/278964/issues/285132/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/285132/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#285132","relative":"#285132","full":"gitlab-org/gitlab#285132"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":74668953,"iid":285120,"project_id":278964,"title":"Pipeline License Compliance on Master not picking up License policies","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nLicense Compliance tab on Pipelines does not appear to be picking up set License policies.\n\nThis was noted in failing test on master - https://gitlab.com/gitlab-org/gitlab/-/issues/284658\n\nI thought maybe this was an issue with my test data, but it looks fine. MR license compliance is fine.\n\nI've raised it with the Composition Analysis team as this looks like an issue with how Pipelines are getting license data\n\nhttps://gitlab.slack.com/archives/CKWHYU7U2/p1605792050327900\n\n\u003e  Hi all, investigating License Compliance E2E test failure on Master - is the License Compliance tab in Pipelines treated differently from the likes of MR? I've set a couple of policies that match licenses in my license scanning report, they show up at the MR level but in the pipeline they are returned as unclassified\n\u003e If I call the API I can confirm:\n```\n [\n     {\n         \"id\": 5,\n         \"name\": \"MIT License\",\n         \"approval_status\": \"approved\"\n     },\n     {\n         \"id\": 6,\n         \"name\": \"zlib License\",\n         \"approval_status\": \"blacklisted\"\n     }\n ]\n```\n\u003e The MR shows the appoved/blacklisted licenses (1st screenshot) ![image](/uploads/b5019995c5da38c3d95d184a1e461e9b/image.png)\n\n\u003e The pipeline shows everything as uncategorized,\n\n ![image](/uploads/7c5953bd46d87d15d62b53f019d93c50/image.png) \n\nthe response from the licenses endpoint that the Pipeline tab shows is\n\n` [{\"name\":\"Apache License 2.0\",\"dependencies\":[{\"name\":\"test_package\",\"version\":\"0.1.0\",\"package_manager\":\"bundler\",\"blob_path\":\"Gemfile.lock\"}],\"url\":\"http://www.apache.org/licenses/LICENSE-2.0.html\",\"classification\":{\"id\":null,\"name\":\"Apache License 2.0\",\"approval_status\":\"unclassified\"},\"count\":1},{\"name\":\"MIT License\",\"dependencies\":[{\"name\":\"actioncable\",\"version\":\"6.0.3.3\",\"package_manager\":\"bundler\",\"blob_path\":\"Gemfile.lock\"}],\"url\":\"https://opensource.org/licenses/MIT\",\"classification\":{\"id\":null,\"name\":\"MIT License\",\"approval_status\":\"unclassified\"},\"count\":1},{\"name\":\"zlib License\",\"dependencies\":[{\"name\":\"zlib\",\"version\":\"1.2.11\",\"package_manager\":\"bundler\",\"blob_path\":\"Gemfile.lock\"}],\"url\":\"https://opensource.org/licenses/Zlib\",\"classification\":{\"id\":null,\"name\":\"zlib License\",\"approval_status\":\"unclassified\"},\"count\":1}]`\n\n\u003c!-- Summarize the bug encountered concisely. --\u003e\n\n### Steps to reproduce\n\n1. Populate a project with https://gitlab.com/gitlab-org/gitlab/-/tree/master/qa/qa/ee/fixtures/secure_license_files files\n1. go to \"License Policies \u003e Add a License\" tab\n1. add new \"Denied\" policy for a license that is not in the license list drop down (let's pick \"foo license v2\" because this will be the software license name rather than spdx id)\n1. create branch and add a license to the report:\n\n```\n{\n  \"id\": \"foo\",\n  \"name\": \"foo license v2\",\n  \"url\": \"http://foo.bar/baz\"\n}\n```\n\nThe MR view of licenses will show that this license is denied, while the pipeline view will show it as uncategorized.\n\n1. View the MR license report, correctly approved/denied licenses\n1. View the pipeline license tab, all licenses are uncategorized\n\n\u003c!-- Describe how one can reproduce the issue - this is very important. Please use an ordered list. --\u003e\n\n### Example Project\n\n\u003c!-- If possible, please create an example project here on GitLab.com that exhibits the problematic \nbehavior, and link to it here in the bug report. If you are using an older version of GitLab, this \nwill also determine whether the bug is fixed in a more recent version. --\u003e\n\nhttps://gitlab.com/gitlab-org/gitlab/-/tree/master/qa/qa/ee/fixtures/secure_license_files and the above steps for an edit to generate an MR/pipeline\n\n### What is the current *bug* behavior?\n\nPipeline security tab is getting uncategorized licenses in its data and displaying accordingly\n\n\u003c!-- Describe what actually happens. --\u003e\n\n### What is the expected *correct* behavior?\n\nPipeline security tab should get correctly categorized licenses in its data and display such accordingly\n\n\n\u003c!-- Describe what you should see instead. --\u003e\n\n### Relevant logs and/or screenshots\n\nSee summary\n\n\u003c!-- Paste any relevant logs - please use code blocks (```) to format console output, logs, and code\n as it's tough to read otherwise. --\u003e\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n```\nrake gitlab:env:info RAILS_ENV=development\n\nSystem information\nSystem:\nProxy:\t\trvm_proxy:\nCurrent User:\twillmeek\nUsing RVM:\tyes\nRVM Version:\t1.29.10\nRuby Version:\t2.7.2p137\nGem Version:\t3.1.4\nBundler Version:2.1.4\nRake Version:\t13.0.1\nRedis Version:\t5.0.7\nGit Version:\t2.29.2\nSidekiq Version:5.2.9\nGo Version:\tgo1.14 darwin/amd64\n\nGitLab information\nVersion:\t13.6.0-pre\nRevision:\t8aa3973a36c\nDirectory:\t/Users/willmeek/gitlab-development-kit/gitlab\nDB Adapter:\tPostgreSQL\nDB Version:\t11.9\nURL:\t\thttp://192.168.1.78:3000\nHTTP Clone URL:\thttp://192.168.1.78:3000/some-group/some-project.git\nSSH Clone URL:\tssh://willmeek@192.168.1.78:2222/some-group/some-project.git\nElasticsearch:\tno\nGeo:\t\tno\nUsing LDAP:\tno\nUsing Omniauth:\tyes\nOmniauth Providers: google_oauth2\n\nGitLab Shell\nVersion:\t13.13.0\nRepository storage paths:\n- default: \t/Users/willmeek/gitlab-development-kit/repositories\nGitLab Shell path:\t\t/Users/willmeek/gitlab-development-kit/gitlab-shell\nGit:\t\t/usr/local/bin/git\n```\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n```\n% bundle exec rake gitlab:check RAILS_ENV=development SANITIZE=true\nChecking GitLab subtasks ...\n\nChecking GitLab Shell ...\n\nGitLab Shell: ... GitLab Shell version \u003e= 13.13.0 ? ... OK (13.13.0)\nRunning /Users/willmeek/gitlab-development-kit/gitlab-shell/bin/check\nInternal API available: OK\nRedis available via internal API: OK\ngitlab-shell self-check successful\n\nChecking GitLab Shell ... Finished\n\nChecking Gitaly ...\n\nGitaly: ... default ... OK\n\nChecking Gitaly ... Finished\n\nChecking Sidekiq ...\n\nSidekiq: ... Running? ... yes\nNumber of Sidekiq processes ... 1\n\nChecking Sidekiq ... Finished\n\nChecking Incoming Email ...\n\nIncoming Email: ... Reply by email is disabled in config/gitlab.yml\n\nChecking Incoming Email ... Finished\n\nChecking LDAP ...\n\nLDAP: ... LDAP is disabled in config/gitlab.yml\n\nChecking LDAP ... Finished\n\nChecking GitLab App ...\n\nGit configured correctly? ... yes\nDatabase config exists? ... yes\nAll migrations up? ... yes\nDatabase contains orphaned GroupMembers? ... no\nGitLab config exists? ... yes\nGitLab config up to date? ... yes\nLog directory writable? ... yes\nTmp directory writable? ... yes\nUploads directory exists? ... yes\nUploads directory has correct permissions? ... no\n  Try fixing it:\n  sudo chmod 700 /Users/willmeek/gitlab-development-kit/gitlab/public/uploads\n  For more information see:\n  doc/install/installation.md in section \"GitLab\"\n  Please fix the error above and rerun the checks.\nUploads directory tmp has correct permissions? ... yes\nInit script exists? ... no\n  Try fixing it:\n  Install the init script\n  For more information see:\n  doc/install/installation.md in section \"Install Init Script\"\n  Please fix the error above and rerun the checks.\nInit script up-to-date? ... can't check because of previous errors\nProjects have namespace: ...\n22/1 ... yes\n22/2 ... yes\n23/3 ... yes\n24/4 ... yes\n25/5 ... yes\n26/6 ... yes\n27/7 ... yes\n28/8 ... yes\n12/9 ... yes\n21/10 ... yes\n11/11 ... yes\n14/12 ... yes\n6/13 ... yes\n4/14 ... yes\n13/15 ... yes\n9/16 ... yes\n8/17 ... yes\n2/18 ... yes\n52/19 ... yes\n108/20 ... yes\n110/23 ... yes\n110/24 ... yes\n111/25 ... yes\n112/26 ... yes\n112/27 ... yes\n113/28 ... yes\n114/29 ... yes\n114/30 ... yes\n115/31 ... yes\n115/32 ... yes\n116/33 ... yes\n116/34 ... yes\n117/35 ... yes\n117/36 ... yes\nRedis version \u003e= 4.0.0? ... yes\nRuby version \u003e= 2.5.3 ? ... yes (2.7.2)\nGit version \u003e= 2.29.0 ? ... yes (2.29.2)\nGit user has default SSH configuration? ... no\n  Try fixing it:\n  mkdir ~/gitlab-check-backup-1605798808\n  sudo mv /Users/willmeek/.ssh/id_ed25519 ~/gitlab-check-backup-1605798808\n  sudo mv /Users/willmeek/.ssh/id_ed25519.pub ~/gitlab-check-backup-1605798808\n  sudo mv /Users/willmeek/.ssh/airgap_cert ~/gitlab-check-backup-1605798808\n  sudo mv /Users/willmeek/.ssh/google_compute_engine.pub ~/gitlab-check-backup-1605798808\n  sudo mv /Users/willmeek/.ssh/google_compute_engine ~/gitlab-check-backup-1605798808\n  sudo mv /Users/willmeek/.ssh/google_compute_known_hosts ~/gitlab-check-backup-1605798808\n  For more information see:\n  doc/ssh/README.md in section \"SSH on the GitLab server\"\n  Please fix the error above and rerun the checks.\nActive users: ... 98\nIs authorized keys file accessible? ... yes\nGitLab configured to store new projects in hashed storage? ... yes\nAll projects are in hashed storage? ... yes\nElasticsearch version 7.x (6.4 - 6.x deprecated to be removed in 13.8)? ... skipped (elasticsearch is disabled)\n\nChecking GitLab App ... Finished\n\n\nChecking GitLab subtasks ... Finished\n```\n\n### Proposal\n\nThe MR widget license matching logic is different from that of the Pipeline Licenses tab: vs https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/controllers/ee/projects/merge_requests_controller.rb#L37 (it uses `SCA::LicenseCompliance#diff_with()` method to compare report with HEAD report. https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/controllers/ee/projects/pipelines_controller.rb#L31 )it uses `SCA::LicenseCompliance#find_policies()` method. \n\nIt seems that the MR widget correctly matches licenses in the branch that are not in the spdx database, while the Pipeline Licenses tab only matches what's in the database.\n\nThe Pipeline Licenses tab should be updated to present data in the same way as the MR widget.\n\n### Implementation plan\n\n- [ ] add regression test for `SCA::LicenseCompliance#find_policies()` with license not from SPDX index.\n- [ ] align `SCA::LicenseCompliance#find_policies()` method with matching in `SCA::LicenseCompliance#diff_with()` to match properly licenses that doesn't have SPDX id. \n\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e","state":"closed","created_at":"2020-11-19T15:08:39.787Z","updated_at":"2022-03-01T09:33:01.991Z","closed_at":"2021-10-18T11:59:37.512Z","closed_by":{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"},"labels":["Category:License Compliance","Deliverable","Eng-Consumer::Quality","Eng-Producer::Development","Engineering Allocation","Enterprise Edition","GitLab Ultimate","backend","devops::secure","found:master","group::composition analysis","priority::2","section::sec","severity::3","type::bug","workflow::verification"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"}],"author":{"id":4937540,"username":"willmeek","name":"Will Meek","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8a0cf3a6679074fce7573d2de05f05ff?s=80\u0026d=identicon","web_url":"https://gitlab.com/willmeek"},"type":"ISSUE","assignee":{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"},"user_notes_count":39,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/285120","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/285120","notes":"https://gitlab.com/api/v4/projects/278964/issues/285120/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/285120/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#285120","relative":"#285120","full":"gitlab-org/gitlab#285120"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":74639556,"iid":285112,"project_id":278964,"title":"Reduce layout shifting on Project Overview/Repository browser","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\n\u003c!-- Summarize the bug encountered concisely. --\u003e\nAs content loads, the table layout shifts. \n\nThis causes inconsistency in metrics, user's confusion (especially in large folders) as columns shift.\n\n\u003cimg src=\"/uploads/d79cb17bd052a5fbba2e9c55b683570e/Kapture_2020-11-19_at_11.42.56.gif\" width=\"500\"\u003e\n\nNotice the columns shifting as the content rolls in.\n\n### Steps to reproduce\n\n\u003c!-- Describe how one can reproduce the issue - this is very important. Please use an ordered list. --\u003e\n\n1. Open a project overview / repository page.\n2. Notice the columns in the table column's shifting width\n\n### Example Project\n\nhttps://gitlab.com/gitlab-org/gitlab\n\n\u003c!-- If possible, please create an example project here on GitLab.com that exhibits the problematic \nbehavior, and link to it here in the bug report. If you are using an older version of GitLab, this \nwill also determine whether the bug is fixed in a more recent version. --\u003e\n\n### What is the current *bug* behavior?\n\n\u003c!-- Describe what actually happens. --\u003e\n\nColumns change width as content loads.\n\n### What is the expected *correct* behavior?\n\n\u003c!-- Describe what you should see instead. --\u003e\n\nOnce the table head / columns are rendered, they don't change width as content is loaded.\n\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e\n\nMaybe a simple `table-layout: fixed;` will help?","state":"closed","created_at":"2020-11-19T14:11:26.509Z","updated_at":"2021-01-19T23:02:33.394Z","closed_at":"2021-01-19T23:02:33.254Z","closed_by":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"labels":["Category:Source Code Management","Deliverable","bug::performance","devops::create","frontend","group::source code","priority::2","repository","section::dev","severity::3","type::bug","workflow::verification"],"milestone":{"id":1233759,"iid":55,"group_id":9970,"title":"13.8","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:13.983Z","updated_at":"2022-04-13T14:51:23.220Z","due_date":"2021-01-17","start_date":"2020-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/55"},"assignees":[{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"}],"author":{"id":853414,"username":"andr3","name":"André Luís","state":"active","avatar_url":"https://secure.gravatar.com/avatar/241e39726efb512a29621070ccf26a90?s=80\u0026d=identicon","web_url":"https://gitlab.com/andr3"},"type":"ISSUE","assignee":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/285112","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/285112","notes":"https://gitlab.com/api/v4/projects/278964/issues/285112/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/285112/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#285112","relative":"#285112","full":"gitlab-org/gitlab#285112"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":74638596,"iid":285111,"project_id":278964,"title":"ActiveRecord::RecordNotUnique: PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint \"index_merge_requests...","description":"https://sentry.gitlab.net/gitlab/gitlabcom/issues/1960839/?referrer=gitlab_plugin\n\n```\nPG::UniqueViolation: ERROR:  duplicate key value violates unique constraint \"index_merge_requests_on_target_project_id_and_iid\"\nDETAIL:  Key (target_project_id, iid)=(22536282, 2) already exists.\n\n  active_record/connection_adapters/postgresql_adapter.rb:675:in `exec_params'\n    @connection.exec_params(sql, type_casted_binds)\n  active_record/connection_adapters/postgresql_adapter.rb:675:in `block (2 levels) in exec_no_cache'\n    @connection.exec_params(sql, type_casted_binds)\n  active_support/dependencies/interlock.rb:48:in `block in permit_concurrent_loads'\n    yield\n  active_support/concurrency/share_lock.rb:187:in `yield_shares'\n    yield\n  active_support/dependencies/interlock.rb:47:in `permit_concurrent_loads'\n    @lock.yield_shares(compatible: [:load]) do\n...\n(185 additional frame(s) were not displayed)\n\nActiveRecord::RecordNotUnique: PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint \"index_merge_requests_on_target_project_id_and_iid\"\nDETAIL:  Key (target_project_id, iid)=(22536282, 2) already exists.\n```\n\nlogs - https://log.gprd.gitlab.net/app/discover#/?_g=h@e011096\u0026_a=h@243de58\n\n## Plan\n\n- [x] Started a discussion about possible incorrect shard issues in https://gitlab.com/gitlab-org/gitlab/-/issues/332616#note_685637339.\n- [x] Once that issue is resolved, we plan on observing for a week or so after and see what errors remain.\n   - [x] If no further errors, close this issue as resolved.\n   - [x] If there are more errors produced, but we are on the right shard, we may need to still solve this issue.\n      - [x] Consider the case of workers running more than once perhaps through deployments where sidekiq reliable fetch is invoked\n         - somehow track the position of the import as it proceeds and only start where it left off(in case of rerun) \n            - position = filename and line number \n            - record this position in Redis and only save the position again when the next line starts.\n         - consider `upsert` if not too expensive of an operation instead of tracking the position. See - https://gitlab.com/gitlab-org/gitlab/-/issues/285111#note_685766705\n         - semi-related https://gitlab.com/gitlab-org/gitlab/-/issues/296960\n      - [x] Consider the case of the import files being modified in terms of the `iid` (less likely)","state":"closed","created_at":"2020-11-19T14:03:56.284Z","updated_at":"2021-12-10T16:10:19.487Z","closed_at":"2021-10-18T17:06:15.878Z","closed_by":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"labels":["Category:Importers","Impact::High","Importer:Project Export/Import","Next Up","Observability","Sentry","backend","customer","devops::manage","group::import","milestone::p2","section::dev","type::bug","workflow::verification"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"}],"author":{"id":402401,"username":"jobbot","name":"Bot","state":"active","avatar_url":"https://secure.gravatar.com/avatar/aaa6738f1ebf25404010884af511b0e7?s=80\u0026d=identicon","web_url":"https://gitlab.com/jobbot"},"type":"ISSUE","assignee":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"user_notes_count":18,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/285111","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":6},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"6 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/285111","notes":"https://gitlab.com/api/v4/projects/278964/issues/285111/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/285111/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#285111","relative":"#285111","full":"gitlab-org/gitlab#285111"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6618,"epic":{"id":332691,"iid":6618,"title":"Manage:Import Customer Escalations","url":"/groups/gitlab-org/-/epics/6618","group_id":9970,"human_readable_end_date":"Dec 16, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":74637970,"iid":285110,"project_id":278964,"title":"Convert admin/users view - migrate admin action confirmation modals","description":"### Problem to solve\n\nAs part of the migration we'll need to migrate admin action[ modals](https://gitlab.com/gitlab-org/gitlab/blob/2299a7d834e9abcf85bac898812889e7b6af14d3/app/views/admin/users/_modals.html.haml#L18) to Vue components.\n\n### Implementation plan\n\n- [x] Refactor our delete user modals to work with Vue components \n- [x] Migrate all the modal configurations from HAML to Vue","state":"closed","created_at":"2020-11-19T13:54:40.324Z","updated_at":"2022-03-28T19:20:43.526Z","closed_at":"2021-02-11T12:02:38.725Z","closed_by":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"labels":["Deliverable","UX FY21-Q4","devops::manage","feature::enhancement","frontend","group::compliance","priority::1","section::dev","type::feature","workflow::verification"],"milestone":{"id":1233760,"iid":56,"group_id":9970,"title":"13.9","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.334Z","updated_at":"2022-04-21T07:21:28.468Z","due_date":"2021-02-17","start_date":"2021-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/56"},"assignees":[{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"}],"author":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"type":"ISSUE","assignee":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/285110","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":2},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/285110","notes":"https://gitlab.com/api/v4/projects/278964/issues/285110/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/285110/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#285110","relative":"#285110","full":"gitlab-org/gitlab#285110"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4961,"epic":{"id":147867,"iid":4961,"title":"Convert Admin \"Users\" view from HAML to Vue MVP implementation","url":"/groups/gitlab-org/-/epics/4961","group_id":9970,"human_readable_end_date":"Jun 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":74637968,"iid":285109,"project_id":278964,"title":"Convert admin/users view - create table row component","description":"### Problem to solve\n\nAs part of the migration to Vue we'll need to create a table row component to show each user's information.\n\n### Implementation plan\n\nTable columns:\n\n- [x] Avatar \u0026 details using the component created in #285108\n- [x] Projects count\n- [x] Created on (_Note:_ We could reuse `vue_shared/components/members/table/created_at.vue`)\n- [x] Last activity\n- [x] Admin actions:\n   - [x] Edit button\n   - [x] `block` (Note: when the `ldap` action is passed we should display `s_('AdminUsers|Cannot unblock LDAP blocked users')` rather than a `block` link)\n   - [x] `unblock`\n   - [x] `approve`\n   - [x] `reject`\n   - [x] `deactivate`\n   - [x] `activate`\n   - [x] `unlock`\n   - [x] `delete`\n   - [x] `delete-with-contributions`\n\n_Note:_ The actions should call the modals created in https://gitlab.com/gitlab-org/gitlab/-/issues/285110.","state":"closed","created_at":"2020-11-19T13:54:38.395Z","updated_at":"2022-03-28T19:20:43.564Z","closed_at":"2021-01-25T11:46:59.242Z","closed_by":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"labels":["Deliverable","UX FY21-Q4","devops::manage","feature::enhancement","frontend","group::compliance","priority::1","section::dev","type::feature","workflow::in review"],"milestone":{"id":1233760,"iid":56,"group_id":9970,"title":"13.9","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.334Z","updated_at":"2022-04-21T07:21:28.468Z","due_date":"2021-02-17","start_date":"2021-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/56"},"assignees":[{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"}],"author":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"type":"ISSUE","assignee":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/285109","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":15,"completed_count":15},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"15 of 15 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/285109","notes":"https://gitlab.com/api/v4/projects/278964/issues/285109/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/285109/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#285109","relative":"#285109","full":"gitlab-org/gitlab#285109"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4961,"epic":{"id":147867,"iid":4961,"title":"Convert Admin \"Users\" view from HAML to Vue MVP implementation","url":"/groups/gitlab-org/-/epics/4961","group_id":9970,"human_readable_end_date":"Jun 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":74637937,"iid":285108,"project_id":278964,"title":"Convert admin/users view - create user avatar component","description":"### Problem to solve\n\nAs part of the migration to Vue we'll need to have a user avatar component.\n\n### Implementation plan\n\n- [ ] Create a user avatar \u0026 details component\n\n_Note:_ We could reuse `vue_shared/components/members/avatars/user_avatar.vue`","state":"closed","created_at":"2020-11-19T13:54:10.014Z","updated_at":"2022-03-28T19:20:43.611Z","closed_at":"2021-01-20T08:33:45.130Z","closed_by":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"labels":["Deliverable","UX FY21-Q4","devops::manage","feature::enhancement","frontend","group::compliance","section::dev","type::feature"],"milestone":{"id":1233760,"iid":56,"group_id":9970,"title":"13.9","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.334Z","updated_at":"2022-04-21T07:21:28.468Z","due_date":"2021-02-17","start_date":"2021-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/56"},"assignees":[{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"}],"author":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"type":"ISSUE","assignee":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/285108","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/285108","notes":"https://gitlab.com/api/v4/projects/278964/issues/285108/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/285108/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#285108","relative":"#285108","full":"gitlab-org/gitlab#285108"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4961,"epic":{"id":147867,"iid":4961,"title":"Convert Admin \"Users\" view from HAML to Vue MVP implementation","url":"/groups/gitlab-org/-/epics/4961","group_id":9970,"human_readable_end_date":"Jun 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":74637436,"iid":285106,"project_id":278964,"title":"Convert admin/users view - add table to Vue app","description":"### Problem to solve\n\nAdd a table component to the Vue app with a property for the users array.\n\nSee the [AuditEventsTable](https://gitlab.com/gitlab-org/gitlab/blob/f305e3fba62f53dfe824ca88aa87e2df41358075/ee/app/assets/javascripts/audit_events/components/audit_events_table.vue#L10) as an example.\n\n### Implementation plan\n\n- [x] Create a admin/users table component using `GlTable`\n- [x] Add to the `AdminUsers` app https://gitlab.com/gitlab-org/gitlab/-/issues/285104","state":"closed","created_at":"2020-11-19T13:46:39.006Z","updated_at":"2022-03-28T19:20:47.624Z","closed_at":"2020-12-10T08:54:41.738Z","closed_by":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"labels":["Deliverable","UX FY21-Q4","devops::manage","feature::enhancement","frontend","group::compliance","priority::1","section::dev","type::feature","workflow::verification"],"milestone":{"id":1233757,"iid":54,"group_id":9970,"title":"13.7","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:43:14.893Z","updated_at":"2022-04-13T14:51:12.240Z","due_date":"2020-12-17","start_date":"2020-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/54"},"assignees":[{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"}],"author":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"type":"ISSUE","assignee":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/285106","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":2},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/285106","notes":"https://gitlab.com/api/v4/projects/278964/issues/285106/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/285106/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#285106","relative":"#285106","full":"gitlab-org/gitlab#285106"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4961,"epic":{"id":147867,"iid":4961,"title":"Convert Admin \"Users\" view from HAML to Vue MVP implementation","url":"/groups/gitlab-org/-/epics/4961","group_id":9970,"human_readable_end_date":"Jun 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null}]