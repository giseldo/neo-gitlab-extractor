[{"id":31914750,"iid":210327,"project_id":278964,"title":"Vulnerability List enhancements step 1: Add additional details and update filters","description":"### Background\nAs we add more 3rd-party security scanners as official integration partners, it will become more difficult for users to determine at a glance which scanner a detection came from. Additionally, after [First Class Vulnerabilities](https://gitlab.com/gitlab-org/gitlab/issues/13561) released, scan results will be persistent across runs. This opens the potential for mixing same type (e.g. DAST) results from both the GitLab-provided scanners and one or more 3rd parties. We'll need a clean, clear way to let users easily manage potentially multiple scanners making the same detection.\n\nWe have done a [research issue](https://gitlab.com/gitlab-org/gitlab/-/issues/199394) to provide insights into the proposed solution.\n\nAfter that, the solution has been breakdown into several steps/issues:\n\n* **Step 1.1(https://gitlab.com/gitlab-org/gitlab/-/issues/210327): Adding the following info: **Line of code, scanner name and identifier** to the list view. It is a minimum step to help users understand the situation**\n* **Step 1.2(https://gitlab.com/gitlab-org/gitlab/-/issues/210327): Update filters**\n* Step 2(https://gitlab.com/gitlab-org/gitlab/-/issues/210333): Enable group feature without suggestion. Grouping would be provided as a separate steps\n* Step 3(https://gitlab.com/gitlab-org/gitlab/-/issues/210357): Auto-grouping with intro of features \n* Step 4(https://gitlab.com/gitlab-org/gitlab/-/issues/210360): docs to explain how the bot(auto-grouping) works \n* Step 5(https://gitlab.com/gitlab-org/gitlab/-/issues/210361): Enable/disable auto grouping\n\n### Problem statement for issue one\nWhen there are the same findings detected by different vulnerabilities, how we can help the user understand what's happening, they there are duplications?\n\n### Solution\n**Scope:**\n- The changes only affects Pipeline/Project dashboard only.\n- After https://gitlab.com/groups/gitlab-org/-/epics/3427 has been completed, we implement the change in group level\n- After https://gitlab.com/groups/gitlab-org/-/epics/3426 has been completed, we implement the change in instance level\n\n\n**Add that information to the list view:**\n\n* Line of code\n* Scanner type and name \n  * in the Scanner column, we only show the Scanner's name when there are multiple ones are in use. If there is not 3rd party connected, all scanners are from GitLab, we hide \"GitLab\", only shows \"SAST\".\n* Identifier to the list view\n  * If a vulnerability has multiple identifiers: \n    * If a CVE is present, show that CVE identifier first as it should be both the most commonly recognized and most specific. \n    * If no CVE, go with whatever identifier is first in the array. \n    * Also show the count of other identifiers as pictured here: \n![image](/uploads/31bfec570d8dd0a321db5b7164e52d80/image.png)\n\n**General Design**\n![Normal](/uploads/1762bcc936355cdefc8142ae954bd595/Normal.png)\n\n**Update filter**\n![Filter-open](/uploads/55e0abe3a6cf87627f1b4551a5009c23/Filter-open.png)\n\n\n## Implementation Plan\n\n- [x] fix scanner name (#219382)\n- [x] ~backend add information to GraphQL: scanner name and type, line of code, identifier(s)\n  - this can all be derived from the metadata\n    - scanner name: `scanner-\u003ename`\n    - scanner type: `category`\n    - line of code (if available): `location-\u003estart_line`\n    - identifier(s): `identifiers` array \n- [x] ~frontend list view; add identifier column to the project-level security dashboard and pipeline security tab\n  - when identifiers array \u003e 1\n    - only show one identifier\n    - prefer \"CVE\" if it exists\n    - use first identifier otherwise\n- [ ] ~frontend ~~for the identifier column, if there is more than one identifier, show `+ X more` below the primary identifier~~ - moved to https://gitlab.com/gitlab-org/gitlab/-/issues/229645\n- [x] ~frontend list view; add scanner column to the project-level security dashboard and pipeline security tab to show the scanner type\n  - work partially done with @stkerr 's MR (!31775)\n- [x] ~frontend add vendor name in the scanner column\n  - instead of showing partner vendor names (i.e. `Gemnasium` and others described in https://gitlab.com/gitlab-org/gitlab/-/issues/210327#note_363463026), show `GitLab`\n- [ ] ~frontend ~~for the scanner column, when the only vendor is GitLab, hide the vendor name~~ - moved to https://gitlab.com/gitlab-org/gitlab/-/issues/229651\n- [ ] ~frontend ~~update scanner filter~~\n  - ~~Show scanner vendor alongside name~~\n  - ~~Dynamically add custom scanner filters that have been configured with the project and that filter for custom scanner vulnerabilities only~~ - moved to https://gitlab.com/gitlab-org/gitlab/-/issues/229661\n- [x] ~frontend update docs with new screenshots/wording\n- [ ] ~frontend list view; add identifier column to the group/instance-level security dashboards when https://gitlab.com/groups/gitlab-org/-/epics/3426 and https://gitlab.com/groups/gitlab-org/-/epics/3427 are completed\n- [ ] ~frontend list view; add scanner column to the group/instance-level security dashboards when https://gitlab.com/groups/gitlab-org/-/epics/3426 and https://gitlab.com/groups/gitlab-org/-/epics/3427 are completed","state":"closed","created_at":"2020-03-12T12:12:56.188Z","updated_at":"2021-05-05T14:38:29.098Z","closed_at":"2020-07-16T23:01:23.864Z","closed_by":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"labels":["Category:Vulnerability Management","Deliverable","GitLab Ultimate","UX","backend","backend-weight::3","cross-group","devops::secure","direction","frontend","frontend-weight::5","group::threat insights","security dashboard","type::feature","workflow::staging"],"milestone":{"id":1233746,"iid":49,"group_id":9970,"title":"13.2","description":"https://about.gitlab.com/releases/2020/07/22/gitlab-13-2-released/","state":"closed","created_at":"2020-04-09T17:28:01.032Z","updated_at":"2022-04-13T14:48:24.167Z","due_date":"2020-07-17","start_date":"2020-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/49"},"assignees":[{"id":4544240,"username":"cam.x","name":"Camellia X Yang","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7ea4de9b3092f62013d2cfd0c340811a?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam.x"},{"id":5535431,"username":"mparuszewski","name":"Alan (Maciej) Paruszewski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535431/avatar.png","web_url":"https://gitlab.com/mparuszewski"},{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"}],"author":{"id":4544240,"username":"cam.x","name":"Camellia X Yang","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7ea4de9b3092f62013d2cfd0c340811a?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam.x"},"type":"ISSUE","assignee":{"id":4544240,"username":"cam.x","name":"Camellia X Yang","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7ea4de9b3092f62013d2cfd0c340811a?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam.x"},"user_notes_count":76,"merge_requests_count":3,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/210327","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":11,"completed_count":6},"weight":8,"blocking_issues_count":0,"has_tasks":true,"task_status":"6 of 11 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/210327","notes":"https://gitlab.com/api/v4/projects/278964/issues/210327/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/210327/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#210327","relative":"#210327","full":"gitlab-org/gitlab#210327"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2514,"epic":{"id":18442,"iid":2514,"title":"Enhanced Vulnerability List experience","url":"/groups/gitlab-org/-/epics/2514","group_id":9970,"human_readable_end_date":"Feb 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31912912,"iid":210321,"project_id":278964,"title":"[VSA] Add mean time to restore/repair (DORA)","description":"## Definitions\n\n- \"Time to Restore Services\": \"How long it takes an organization to recover from a failure in production\" - [Google](https://cloud.google.com/blog/products/devops-sre/using-the-four-keys-to-measure-your-devops-performance).\n- MTTR (Mean Time To Restore): The average time required to restore service after a failure in production during some period of time.\n\n## Problem\n\nA low mean time to restore service ([MTTR](https://stelligent.com/2018/12/21/measuring-devops-success-with-four-key-metrics/)) is an important signal of how quickly a highly functioning software process is able to react to the unexpected. It's one of the key measures that we'd like to introduce in Value Stream Analytics to help teams better understand how well they react when things go wrong.  Customers are asking for this information, primarily in the context of asking for all 4 DORA metrics.\n\n## Proposal\n\nDisplay MTTR on the Value Stream Analytics page, measured as the average duration (from open to close) of all Incidents opened in the time period.\n\n### Rough mockup\n\n![image](/uploads/d7b389be3514b61d130b49a55c350327/image.png)","state":"closed","created_at":"2020-03-12T11:17:24.804Z","updated_at":"2022-04-05T18:35:56.054Z","closed_at":"2022-04-05T18:35:56.031Z","closed_by":{"id":10879254,"username":"hsnir1","name":"Haim Snir","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10879254/avatar.png","web_url":"https://gitlab.com/hsnir1"},"labels":["Deliverable","backend","devops::manage","frontend","group::optimize","icebox","priority::2","section::dev","workflow::blocked"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":1086520,"username":"jeremy-gl","name":"Jeremy Watson (ex-GitLab)","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1086520/avatar.png","web_url":"https://gitlab.com/jeremy-gl"},"type":"ISSUE","assignee":null,"user_notes_count":7,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/210321","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/210321","notes":"https://gitlab.com/api/v4/projects/278964/issues/210321/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/210321/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#210321","relative":"#210321","full":"gitlab-org/gitlab#210321"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3894,"epic":{"id":80614,"iid":3894,"title":"Analytics features for dogfooding and feedback","url":"/groups/gitlab-org/-/epics/3894","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31909722,"iid":210311,"project_id":278964,"title":"Check again link in Danger report","description":"## What is the productivity problem to solve?\n\nDanger will create a nice reports on developers merge requests, but when the developer fixes the issues found it doesn't update. Developers don't rerun the danger job in the pipeline, but could, as it's multiple clicks and a boring chore.\n\n### Problem identification checklist\n\n- [X] The root cause of the problem is identified.\n- [X] The surface of the problem is as small as possible.\n\n## What are the potential solutions?\n\n* Create a link to rerun the Danger job\n* Add a warning for developers to let them rerun the job\n\n- [X] All potential solutions are listed.\n- [X] A solution has been chosen for the first iteration: `Create a rerun Danger link`\n\n## Who and when will the solution be implemented?\n\nNot sure.\n\n## Verify that the solution has improved the situation\n\n\u003c!--\nIdeally, looking at the charts from the first part, we should see an improvement\nafter the implementation is merged/deployed/released.\n--\u003e\n\n- [ ] The solution improved the situation.\n  - If yes, check this box and close the issue. Well done! :tada:\n  - Otherwise, create a new \"Productivity Improvement\" issue. You can re-use the description from this issue, but obviously another solution should be chosen this time.\n\n/cc @gl-quality/eng-prod","state":"closed","created_at":"2020-03-12T09:53:46.697Z","updated_at":"2020-05-25T10:56:43.912Z","closed_at":"2020-05-25T10:56:43.807Z","closed_by":{"id":423915,"username":"godfat","name":"Lin Jen-Shin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8c73dab2ecd23d5b5627a0235ae2f9b1?s=80\u0026d=identicon","web_url":"https://gitlab.com/godfat"},"labels":["Danger bot","Engineering Productivity","ep::contributor tooling","meta","priority::3"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":128633,"username":"rymai","name":"RÃ©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"}],"author":{"id":101578,"username":"zj-gitlab","name":"Zeger-Jan van de Weg","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/101578/avatar.png","web_url":"https://gitlab.com/zj-gitlab"},"type":"ISSUE","assignee":{"id":128633,"username":"rymai","name":"RÃ©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"user_notes_count":1,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/210311","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":5,"completed_count":4},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"4 of 5 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/210311","notes":"https://gitlab.com/api/v4/projects/278964/issues/210311/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/210311/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#210311","relative":"#210311","full":"gitlab-org/gitlab#210311"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3287,"epic":{"id":53002,"iid":3287,"title":"Reviewer Roulette Improvements","url":"/groups/gitlab-org/-/epics/3287","group_id":9970,"human_readable_end_date":"Jul 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31908586,"iid":210306,"project_id":278964,"title":"Allow update of Requirements via GraphQL","description":"Part of \u00262703, we should allow a user to update requirements they've created - especially to be able to archive requriements - see https://nickbrandt531532.invisionapp.com/public/share/VX10XHBG2F#/screens/476363207\n\nThis is related to https://gitlab.com/gitlab-org/gitlab/-/issues/207954 (and is expected to be done on top of it).","state":"closed","created_at":"2020-03-12T09:22:55.645Z","updated_at":"2020-10-16T19:49:50.625Z","closed_at":"2020-04-10T07:42:43.627Z","closed_by":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"labels":["GraphQL","[deprecated] Accepting merge requests","backend","devops::plan","group::product planning","missed:12.9","workflow::verification"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[],"author":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":2,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/210306","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/210306","notes":"https://gitlab.com/api/v4/projects/278964/issues/210306/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/210306/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#210306","relative":"#210306","full":"gitlab-org/gitlab#210306"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2898,"epic":{"id":32201,"iid":2898,"title":"Improve Requirement Management Experience","url":"/groups/gitlab-org/-/epics/2898","group_id":9970,"human_readable_end_date":"Dec 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31906524,"iid":210301,"project_id":278964,"title":"Do not recalculate first_approved_at when user removes approval","description":"### Problem to solve\n\nUser can approve and unapprove MR immediately, however fact of approval still happen and we shouldn't recalculate metric value here.\nRelated to https://gitlab.com/gitlab-org/gitlab/-/issues/199440\n\n### Proposal\n\nDon't recalculate first_approved_at value if MR approval was revoked.","state":"closed","created_at":"2020-03-12T08:27:22.406Z","updated_at":"2020-03-12T15:10:23.034Z","closed_at":"2020-03-12T15:10:22.970Z","closed_by":{"id":443319,"username":"smcgivern","name":"Sean McGivern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/443319/avatar.png","web_url":"https://gitlab.com/smcgivern"},"labels":["backend","devops::manage","group::optimize","type::feature","workflow::in dev"],"milestone":{"id":1001916,"iid":44,"group_id":9970,"title":"12.9","description":"https://about.gitlab.com/releases/2020/03/22/gitlab-12-9-released","state":"closed","created_at":"2019-09-15T20:54:50.875Z","updated_at":"2020-09-02T11:04:41.671Z","due_date":"2020-03-17","start_date":"2020-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/44"},"assignees":[{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"}],"author":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"type":"ISSUE","assignee":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/210301","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/210301","notes":"https://gitlab.com/api/v4/projects/278964/issues/210301/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/210301/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#210301","relative":"#210301","full":"gitlab-org/gitlab#210301"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31905886,"iid":210299,"project_id":278964,"title":"Version Control for Snippets: Remove snippet content size validation","description":"Now that we're moving towards version control snippets that check will be done in the `GitAccessSnippet` class","state":"closed","created_at":"2020-03-12T08:06:01.851Z","updated_at":"2020-05-18T07:08:00.804Z","closed_at":"2020-04-16T08:56:43.690Z","closed_by":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier LÃ³pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"labels":["Category:Snippets","Deliverable","backend","devops::create","direction","group::editor","type::feature","workflow::blocked"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":955795,"username":"fjsanpedro","name":"Francisco Javier LÃ³pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"}],"author":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier LÃ³pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"type":"ISSUE","assignee":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier LÃ³pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"user_notes_count":1,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/210299","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/210299","notes":"https://gitlab.com/api/v4/projects/278964/issues/210299/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/210299/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#210299","relative":"#210299","full":"gitlab-org/gitlab#210299"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":239,"epic":{"id":470,"iid":239,"title":"Version control for snippets","url":"/groups/gitlab-org/-/epics/239","group_id":9970,"human_readable_end_date":"Jun 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31897273,"iid":210253,"project_id":278964,"title":"Update DAST airgapped to not override the script","description":"The current DAST documentation recommends overriding the script value to run the tool in air gapped mode. \nhttps://docs.gitlab.com/ee/user/application_security/dast/#running-dast-in-an-offline-air-gapped-installation\n\nThis should be changed so that the script value is not changed and only an environment variable is set. Then inside the template the environment variable is used to determine how to call the analyzer. \n\nThis will reduce the complexity of the setup for customers and allow the template script value to change without concern that users are overriding the value.\n\n#### As is\n\nTo create air-gapped support, users must override and copy the script:\n\n```yaml\n   include:\n     - template: DAST.gitlab-ci.yml\n\n   dast:\n     image: registry.example.com/namespace/dast:latest\n     script:\n        - export DAST_WEBSITE=${DAST_WEBSITE:-$(cat environment_url.txt)}\n        - /analyze -t $DAST_WEBSITE --auto-update-addons false -z\"-silent\"\n```\n\n#### Proposal\n\n- When `auto-update-addons` is configured to `false`, DAST automatically applies the `-silent` ZAP configuration.\n- An environment variable alias is added for `DAST_AUTO_UPDATE_ADDONS`. This could be called `DAST_OFFLINE_MODE` to clearly capture the intent of what it does.\n- In a future release, deprecate the use of the `DAST_AUTO_UPDATE_ADDONS` environment variable name. Add this to https://gitlab.com/gitlab-org/gitlab/-/issues/211881\n\nThis would lead to the following configuration for offline DAST\n```yaml\n   include:\n     - template: DAST.gitlab-ci.yml\n\n   variables:\n     DAST_OFFLINE_MODE: true     \n```\n\nThe `image:` does not need to get set because this MR, will resolve updating the image.\nhttps://gitlab.com/gitlab-org/gitlab/-/merge_requests/28617","state":"closed","created_at":"2020-03-12T02:40:44.524Z","updated_at":"2020-08-06T21:04:22.501Z","closed_at":"2020-05-06T04:52:13.833Z","closed_by":{"id":5344211,"username":"craigmsmith","name":"Craig Smith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5344211/avatar.png","web_url":"https://gitlab.com/craigmsmith"},"labels":["Deliverable","backend","devops::secure","good for new contributors","group::dynamic analysis","type::feature","workflow::production"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":5344211,"username":"craigmsmith","name":"Craig Smith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5344211/avatar.png","web_url":"https://gitlab.com/craigmsmith"}],"author":{"id":4310743,"username":"sethgitlab","name":"Seth Berger","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4310743/avatar.png","web_url":"https://gitlab.com/sethgitlab"},"type":"ISSUE","assignee":{"id":5344211,"username":"craigmsmith","name":"Craig Smith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5344211/avatar.png","web_url":"https://gitlab.com/craigmsmith"},"user_notes_count":11,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/210253","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/210253","notes":"https://gitlab.com/api/v4/projects/278964/issues/210253/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/210253/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#210253","relative":"#210253","full":"gitlab-org/gitlab#210253"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31894833,"iid":210249,"project_id":278964,"title":"Wiki Page Name with ... cannot Edit - Blank Page","description":"Create a Wiki Page with Name \"...\" \nThe Page cannot open/edit or delete.","state":"closed","created_at":"2020-03-11T23:48:22.355Z","updated_at":"2022-02-14T03:04:08.266Z","closed_at":"2022-02-14T03:04:08.248Z","closed_by":{"id":1786152,"username":"gitlab-bot","name":"ðŸ¤– GitLab Bot ðŸ¤–","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1786152/avatar.png","web_url":"https://gitlab.com/gitlab-bot"},"labels":["Category:Wiki","[deprecated] Accepting merge requests","auto closed","backend","devops::create","group::editor","section::dev","severity::3","stale","type::bug","vintage","workflow::scheduling"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":68851,"username":"webgreat07","name":"Christopher Gerbig","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/68851/avatar.png","web_url":"https://gitlab.com/webgreat07"},"type":"ISSUE","assignee":null,"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/210249","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/210249","notes":"https://gitlab.com/api/v4/projects/278964/issues/210249/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/210249/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#210249","relative":"#210249","full":"gitlab-org/gitlab#210249"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":188,"epic":{"id":384,"iid":188,"title":"Wiki: Quick improvements","url":"/groups/gitlab-org/-/epics/188","group_id":9970,"human_readable_end_date":"May 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31894772,"iid":210246,"project_id":278964,"title":"Do not require SSO to be enforced for Group Managed Accounts to be enabled [Design]","description":"# To do\n\nIn order to [extend group managed accounts to all groups](https://gitlab.com/groups/gitlab-org/-/epics/2777), we should not require SSO for GMA to be enabled. Please review the epic's [problem statement](https://gitlab.com/groups/gitlab-org/-/epics/2777#problem) for further context.\n\n## User Experience\n\n* **Group Owner UX:** When GMA is enabled, we should generate a list of users with email ID's that do not comply with the group's whitelisted domain, including a message along the lines of: `These users have not been removed, but have been temporarily blocked from this group and will need to authorise their account to be managed by your group in order to proceed. If they do not reauthorise, they will need to create a new GitLab.com account with a whitelisted email ID.`\n\n* **Group Member UX - Non whitelisted:** When a Group Member is temporarily blocked after GMA is turned on they see a page with a banner message explaining that GMA is enabled and only these whitelisted domains have access to it. They see two options: \n\n1. They can authorise that their account to be managed by the group, if they click authorise and are logged into an account with an email ID that is not whitelisted for that group, they will be denied and asked to either update their email address OR:\n\n2. They can click log out and register for a GitLab.com account with an email ID that's whitelisted. \n\n* **Group Member UX - Whitelisted:** These group members are _logged out_ of the group and asked to do one of the following:\n\n1. They can authorise that their account to be managed by the group\n\n2. They can click log out and register for a GitLab.com account with a different email ID that's also whitelisted, if they prefer not to have the group manage that specific account. \n\nSee the screenshots here: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/24329 as an example.\n\nSince they are still technically in the group but just blocked, they should still be able to see this page and not a 404 page unless the group owner removes them from the group. \n\nExact copy TBD.\n \n# Why is this important?\n\nPlease see the problem statement outlined [here](https://gitlab.com/groups/gitlab-org/-/epics/2777#problem).","state":"closed","created_at":"2020-03-11T23:43:17.890Z","updated_at":"2021-04-27T15:46:21.908Z","closed_at":"2021-04-27T15:46:21.780Z","closed_by":{"id":2629166,"username":"lmcandrew","name":"Liam McAndrew","state":"active","avatar_url":"https://secure.gravatar.com/avatar/5801f5e2fd21127836c0be61ec71f06b?s=80\u0026d=identicon","web_url":"https://gitlab.com/lmcandrew"},"labels":["Category:Authentication and Authorization","Deliverable","UX","[deprecated] Accepting merge requests","devops::manage","direction","estimation::completed","group::authentication and authorization","isolation","missed-deliverable","missed:13.0","priority::1","section::dev","workflow::design"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":1903246,"username":"tipyn","name":"Luca Kisielius","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1903246/avatar.png","web_url":"https://gitlab.com/tipyn"},"type":"ISSUE","assignee":null,"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/210246","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/210246","notes":"https://gitlab.com/api/v4/projects/278964/issues/210246/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/210246/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#210246","relative":"#210246","full":"gitlab-org/gitlab#210246"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3059,"epic":{"id":40361,"iid":3059,"title":"Extend Group Managed Accounts to All Groups [Design Epic]","url":"/groups/gitlab-org/-/epics/3059","group_id":9970,"human_readable_end_date":"May 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"needs_attention"},{"id":31894642,"iid":210244,"project_id":278964,"title":"Remove `fetch_repository_as_mirror` RPC from Gitaly","description":"The following discussion from !26550 should be addressed:\n\n- [ ] @zj-gitlab started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/26550#note_302408633): \n\n    \u003e @proglottis This is the only client that uses this RPC. We might want to consider to remove the RPC completely, making our RPC surface smaller. What do you think? That potentially means we should port this RPC from Ruby to Go, but it might be worth it nonetheless?","state":"closed","created_at":"2020-03-11T23:32:30.149Z","updated_at":"2022-07-21T12:02:49.126Z","closed_at":"2022-06-28T13:34:17.686Z","closed_by":{"id":4626406,"username":"8bitlife","name":"Pavlo Strokov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4626406/avatar.png","web_url":"https://gitlab.com/8bitlife"},"labels":["Category:Gitaly","Deliverable","[deprecated] Accepting merge requests","backstage [DEPRECATED]","devops::systems","group::gitaly","missed-deliverable","missed:12.10","missed:13.0","section::enablement","type::maintenance","workflow::in review"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":4626406,"username":"8bitlife","name":"Pavlo Strokov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4626406/avatar.png","web_url":"https://gitlab.com/8bitlife"}],"author":{"id":228150,"username":"proglottis","name":"James Fargher","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/228150/avatar.png","web_url":"https://gitlab.com/proglottis"},"type":"ISSUE","assignee":{"id":4626406,"username":"8bitlife","name":"Pavlo Strokov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4626406/avatar.png","web_url":"https://gitlab.com/8bitlife"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/210244","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/210244","notes":"https://gitlab.com/api/v4/projects/278964/issues/210244/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/210244/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#210244","relative":"#210244","full":"gitlab-org/gitlab#210244"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2307,"epic":{"id":15983,"iid":2307,"title":"ðŸšœ Improve Gitaly data migration tools","url":"/groups/gitlab-org/-/epics/2307","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31890972,"iid":210220,"project_id":278964,"title":"Add Administration menu for Group Owners [FE]","description":"Design/Solution Validation issue: https://gitlab.com/gitlab-org/gitlab/-/issues/209020","state":"closed","created_at":"2020-03-11T21:09:15.599Z","updated_at":"2020-03-19T20:25:01.652Z","closed_at":"2020-03-19T20:21:09.402Z","closed_by":{"id":1903246,"username":"tipyn","name":"Luca Kisielius","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1903246/avatar.png","web_url":"https://gitlab.com/tipyn"},"labels":["Deliverable","devops::manage","direction","estimation::completed","frontend","group::spaces DEPRECATED","priority::1"],"milestone":null,"assignees":[],"author":{"id":1903246,"username":"tipyn","name":"Luca Kisielius","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1903246/avatar.png","web_url":"https://gitlab.com/tipyn"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/210220","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/210220","notes":"https://gitlab.com/api/v4/projects/278964/issues/210220/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/210220/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#210220","relative":"#210220","full":"gitlab-org/gitlab#210220"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31890670,"iid":210181,"project_id":278964,"title":"Project Level Access Tokens / Project Bots [FE]","description":"# Problem\n\nPlease see the problem statement outlined in [the epic](https://gitlab.com/groups/gitlab-org/-/epics/2587).\n\n# Acceptance criteria\n\nhttps://gitlab.com/groups/gitlab-org/-/epics/2587#acceptance-criteria\n\n# Proposal\n\n![Screenshot_2020-03-27_at_3.01.00_PM](/uploads/4938569dfa79f47d5e6dcaad1d75883b/Screenshot_2020-03-27_at_3.01.00_PM.png)\n","state":"closed","created_at":"2020-03-11T20:56:19.390Z","updated_at":"2021-11-15T01:32:59.115Z","closed_at":"2020-05-18T16:52:52.315Z","closed_by":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"labels":["Category:Authentication and Authorization","Category:User Management","devops::manage","direction","estimation::completed","frontend","group::authentication and authorization","priority::1","self-managed","workflow::verification"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"}],"author":{"id":1903246,"username":"tipyn","name":"Luca Kisielius","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1903246/avatar.png","web_url":"https://gitlab.com/tipyn"},"type":"ISSUE","assignee":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/210181","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/210181","notes":"https://gitlab.com/api/v4/projects/278964/issues/210181/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/210181/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#210181","relative":"#210181","full":"gitlab-org/gitlab#210181"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2587,"epic":{"id":19021,"iid":2587,"title":"âœ…  Project Level Access Tokens","url":"/groups/gitlab-org/-/epics/2587","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":31888395,"iid":210129,"project_id":278964,"title":"Expand the GitLab Container Registry documentation to include UI use cases and workflows","description":"Inspired by: https://gitlab.com/gitlab-org/gitlab/issues/29574#note_246349761\n\n### Problem to solve\nThe current [Container Registry documentation](https://docs.gitlab.com/ee/user/packages/container_registry/) instructs users on how to connect to registry and publish and consume images. However, they do not discuss the user interface, what features are available, how to use the UI to gain information about images, and what to do when something isn't working.  \n\nAs we build out additional features that are outside of the publish/install workflow (image verification, additional metadata, sorting, etc), we should create a new area of documentation that demonstrates how to utilize these features.\n\n### Intended users\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n\n### Further details\n\n#### Benefits\n- Help new users who are unfamiliar with the GitLab application get up to speed quickly and find help when they need it.\n- By documenting how to use the UI, we will drive usage and get better feedback on how to improve the overall user experience. \n\n\n### Proposal\nAdd a new section to the Container Registry documentation that details how to use the interface to:\n- Enable the feature using the UI (include screenshots)\n- Navigate to and find a image\n- Understand/use the available metadata\n- Download files\n- Delete images/repositories\n- Troubleshooting\n\n### Permissions and Security\n- There are no permissions changes required for this feature.\n\n### Documentation\n- Update the Container Registry documentation.\n\n### What does success look like, and how can we measure that?\n- Success looks like we drive additional usage of the user interface and build an improved user experience.\n\n### Links / references","state":"closed","created_at":"2020-03-11T19:48:22.317Z","updated_at":"2020-04-07T11:11:53.692Z","closed_at":"2020-04-07T11:11:53.646Z","closed_by":{"id":4584738,"username":"nmezzopera","name":"NicolÃ² Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"},"labels":["Category:Container Registry","Package:P2","devops::package","documentation","group::package registry","workflow::production"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":4584738,"username":"nmezzopera","name":"NicolÃ² Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"}],"author":{"id":3799560,"username":"trizzi","name":"Tim Rizzi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3799560/avatar.png","web_url":"https://gitlab.com/trizzi"},"type":"ISSUE","assignee":{"id":4584738,"username":"nmezzopera","name":"NicolÃ² Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/210129","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/210129","notes":"https://gitlab.com/api/v4/projects/278964/issues/210129/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/210129/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#210129","relative":"#210129","full":"gitlab-org/gitlab#210129"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31884859,"iid":210079,"project_id":278964,"title":"Add per-period deploy frequency to Value Stream Analytics","description":"## Overview\n\nOur vision for Value Stream Analytics uses lead time, cycle time, deploys, and defects as the primary measurements of a highly functioning process for delivering software. We're adding [cycle time and lead time](https://gitlab.com/gitlab-org/gitlab/issues/21863) in a separate issue; we should also plan to add per-period deploy frequency.\n\n## Proposal\n\nOn group-level Value Stream Analytics:\n\n- Add a panel for \"Daily deploys\" as the left-most panel.  This figure should be calculated as average deploys per day, and adjusted appropriately based on the timeframe selected in the UI (7/30/90 days).\n- Re-name \"Deploys\" as \"Deployment count\" and move it to the left of \"New issues\" so it is the middle panel.\n\n![Bildschirmfoto_2020-04-02_um_16.22.34](/uploads/5181612af7031d99ebe5fbdebee0731b/Bildschirmfoto_2020-04-02_um_16.22.34.png)\n\n## Out of scope\n\nMore panels will be added in the future:\n\n![image](/uploads/d7b389be3514b61d130b49a55c350327/image.png)\n\nPanels will be clickable in the future, for more detail and to be visualized over time.","state":"closed","created_at":"2020-03-11T18:51:53.867Z","updated_at":"2021-04-03T08:38:11.345Z","closed_at":"2020-04-21T15:48:28.496Z","closed_by":{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"},"labels":["Deliverable","GitLab Core","UX","backend","devops::manage","frontend","group::optimize","priority::1","workflow::verification"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"},{"id":4158075,"username":"aakriti.gupta","name":"Aakriti Gupta","state":"active","avatar_url":"https://secure.gravatar.com/avatar/992a080bc7d9f8c22ff7186db1c76dbd?s=80\u0026d=identicon","web_url":"https://gitlab.com/aakriti.gupta"}],"author":{"id":1086520,"username":"jeremy-gl","name":"Jeremy Watson (ex-GitLab)","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1086520/avatar.png","web_url":"https://gitlab.com/jeremy-gl"},"type":"ISSUE","assignee":{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"},"user_notes_count":56,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/210079","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/210079","notes":"https://gitlab.com/api/v4/projects/278964/issues/210079/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/210079/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#210079","relative":"#210079","full":"gitlab-org/gitlab#210079"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2836,"epic":{"id":28751,"iid":2836,"title":"Show the DevOps lifecycle in Value Stream Analytics","url":"/groups/gitlab-org/-/epics/2836","group_id":9970,"human_readable_end_date":"May 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31883597,"iid":210073,"project_id":278964,"title":"PyPI: API skeleton and authentication","description":"## Proposal\n\nImplement the basic API skeleton for PyPI with authentication.\n\n## End points\n\n```\n# upload endpoint\nPOST gitlab.com/api/v4/projects/:id/packages/pypi \n\n# download endpoints\nGET gitlab.com/api/v4/projects/:id/packages/pypi/simple/\u003cpackage-name\u003e\nGET gitlab.com/api/v4/projects/:id/packages/pypi/\u003cfile-identifier\u003e\n```\n\n\n## Authentication\n\nAuthentication uses basic HTTP auth so it should be straightforward to support CI tokens or personal tokens.\n\n\nSee https://gitlab.com/gitlab-org/gitlab/-/issues/34161 and epic https://gitlab.com/groups/gitlab-org/-/epics/2554 for details","state":"closed","created_at":"2020-03-11T18:13:31.089Z","updated_at":"2020-11-06T14:03:29.756Z","closed_at":"2020-03-26T13:10:03.388Z","closed_by":{"id":4262651,"username":"ggelatti","name":"Giorgenes Gelatti","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4262651/avatar.png","web_url":"https://gitlab.com/ggelatti"},"labels":["Category:Package Registry","Deliverable","Package:P1","PyPI Repository","backend","devops::package","group::package registry","package:active","ruby","workflow::verification"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":4262651,"username":"ggelatti","name":"Giorgenes Gelatti","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4262651/avatar.png","web_url":"https://gitlab.com/ggelatti"}],"author":{"id":4262651,"username":"ggelatti","name":"Giorgenes Gelatti","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4262651/avatar.png","web_url":"https://gitlab.com/ggelatti"},"type":"ISSUE","assignee":{"id":4262651,"username":"ggelatti","name":"Giorgenes Gelatti","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4262651/avatar.png","web_url":"https://gitlab.com/ggelatti"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/210073","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/210073","notes":"https://gitlab.com/api/v4/projects/278964/issues/210073/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/210073/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#210073","relative":"#210073","full":"gitlab-org/gitlab#210073"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2554,"epic":{"id":18830,"iid":2554,"title":"Build, publish and share Python packages to the GitLab PyPI Repository","url":"/groups/gitlab-org/-/epics/2554","group_id":9970,"human_readable_end_date":"May 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31878906,"iid":210058,"project_id":278964,"title":"Leverage `interruptible` in GitLab's own pipelines","description":"The `interruptible` keyword allows GitLab to stop pipelines that are out of date, in order to save compute costs. I took a quick glance at our CI files, and couldn't see this being utilized.\n\nFor development branches, we should be using these as there is no real danger in aborting pipelines on out of date commits. This could save us a fair bit of money (of the 50-60K$ that we spent on GitLab.com shared runners each month, see https://app.periscopedata.com/app/gitlab/530329/WIP:-Infra-CI-Usage?widget=8077874\u0026udv=0): https://docs.gitlab.com/ee/ci/yaml/#interruptible.\n\n## Proposal\n\nFor merge requests, cancel automatically pipelines except the latest one. If people want to not protect pipelines from being canceled, they can play the `dont-interrupt-me` manual job.\n\nFor `master`, the `dont-interrupt-me` starts automatically as we want no `master` pipelines to be canceled.\n\n## Validations\n\n- MR canceled pipelines chart should go up: https://app.periscopedata.com/app/gitlab/496118/Engineering-Productivity-Sandbox?widget=8192946\u0026udv=785399\n- \"GitLab.com shared runner estimated cost by project (for 'gitlab', 'gitlab-foss', 'gitlab-qa', 'gitlab-qa-mirror', 'CNG-mirror', 'omnibus-gitlab-mirror')\" should go down:\n  - Daily: https://app.periscopedata.com/app/gitlab/496118/Engineering-Productivity-Sandbox?widget=8251974\u0026udv=785399\n  - Monthly: https://app.periscopedata.com/app/gitlab/530329/WIP:-Infra-CI-Usage?widget=8077874\u0026udv=0","state":"closed","created_at":"2020-03-11T16:13:41.668Z","updated_at":"2020-09-11T16:44:04.660Z","closed_at":"2020-04-17T07:56:55.891Z","closed_by":{"id":128633,"username":"rymai","name":"RÃ©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"labels":["CEO Interest","Engineering Productivity","Quality","ep::pipeline","workflow::verification"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":128633,"username":"rymai","name":"RÃ©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"}],"author":{"id":926632,"username":"joshlambert","name":"Joshua Lambert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a0bdc5209b11e9c0953f80234dcb4ffb?s=80\u0026d=identicon","web_url":"https://gitlab.com/joshlambert"},"type":"ISSUE","assignee":{"id":128633,"username":"rymai","name":"RÃ©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"user_notes_count":42,"merge_requests_count":1,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/210058","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/210058","notes":"https://gitlab.com/api/v4/projects/278964/issues/210058/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/210058/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#210058","relative":"#210058","full":"gitlab-org/gitlab#210058"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1853,"epic":{"id":11763,"iid":1853,"title":"EP: GitLab project pipeline improvements","url":"/groups/gitlab-org/-/epics/1853","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":31878897,"iid":210057,"project_id":278964,"title":"Project Level Access Tokens / Project Bots [BE]","description":"# Problem\n\nPlease see the problem statement outlined in [the epic](https://gitlab.com/groups/gitlab-org/-/epics/2587).\n\n# Proposal\n\nPlease see: https://gitlab.com/gitlab-org/gitlab/-/issues/209276 and the [acceptance criteria](https://gitlab.com/groups/gitlab-org/-/epics/2587#acceptance-criteria).\n\nNote that this effort is dependent on https://gitlab.com/gitlab-org/gitlab/issues/22754 and https://gitlab.com/gitlab-org/gitlab/issues/15666 which are due to be completed by the Access team in parallel to the Spaces group's portion of the work.\n\n# Technical Implementation\n\nThe idea is to create a Project Bot user under the hood, when there's a request to generate a Project Level Access token.\n\nThis type of user will have:\n\n1. Access to api\n2. No access to UI\n3. No notifications (since we pre-set email)\n4. Have access to git\n5. Be able to use [slash commands](https://docs.gitlab.com/ee/integration/slash_commands.html)\n6. Be a Maintainer in the project\n\nBreaking the task into two parts:\n\n* [x] Introduce Project bot users (MR: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/28169)\n* [x] Add Service to create a Project bot user with permissions mentioned in the above section (MR: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/28621)\n* [x] Add an internal api for creation for project level access token - API requirements as listed in the below section (MR: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/29086)\n\n## Frontend Integration Requirements\n\n### Variables exposed to HAML\n\n- `@project_access_token` - Project access token model\n- `@scopes` - Available scopes\n- `@active_project_access_tokens` - Active project access tokens\n- `@inactive_project_access_tokens` - Inactive project access tokens\n- `@new_project_access_token` - New project access token when form is successfully submitted\n\n## Endpoints/Actions\n\n*Feel free to name the actions however makes the most sense in the backend*\n\n| Endpoint | Action | Used for | Form Params (if applicable) | Response |\n| ------ | ------ | ------ | ------ | ------ |\n| `GET` | `index` | Displaying form and access token table |  | `HTML` |\n| `POST` | `create` | Submit form for new project access token | { name: name, scopes: [], expires_at: date } | `HTML` |\n| `PUT` | `revoke` | Revoking token |  | `HTML` |\n\n\n ","state":"closed","created_at":"2020-03-11T16:13:33.284Z","updated_at":"2021-06-10T06:00:49.236Z","closed_at":"2020-05-06T14:49:47.419Z","closed_by":{"id":4014344,"username":"aishbuilds","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4014344/avatar.png","web_url":"https://gitlab.com/aishbuilds"},"labels":["Category:Authentication and Authorization","Category:User Management","backend","devops::manage","estimation::needed","group::spaces DEPRECATED","missed:12.10","priority::1","self-managed","workflow::verification"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":4014344,"username":"aishbuilds","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4014344/avatar.png","web_url":"https://gitlab.com/aishbuilds"}],"author":{"id":1903246,"username":"tipyn","name":"Luca Kisielius","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1903246/avatar.png","web_url":"https://gitlab.com/tipyn"},"type":"ISSUE","assignee":{"id":4014344,"username":"aishbuilds","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4014344/avatar.png","web_url":"https://gitlab.com/aishbuilds"},"user_notes_count":7,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/210057","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/210057","notes":"https://gitlab.com/api/v4/projects/278964/issues/210057/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/210057/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#210057","relative":"#210057","full":"gitlab-org/gitlab#210057"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2587,"epic":{"id":19021,"iid":2587,"title":"âœ…  Project Level Access Tokens","url":"/groups/gitlab-org/-/epics/2587","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":31877314,"iid":210051,"project_id":278964,"title":"Optimize  or remove ldap_users counter","description":"\n```ruby\ntime_period = { created_at: 28.days.ago..Time.current }\nldap_users: distinct_count(::GroupMember.of_ldap_type.where(time_period), :user_id)\n\ntime_period = { }\nldap_users: distinct_count(::GroupMember.of_ldap_type.where(time_period), :user_id)\n\n```","state":"closed","created_at":"2020-03-11T15:32:12.023Z","updated_at":"2020-03-18T01:42:03.599Z","closed_at":"2020-03-17T21:28:09.616Z","closed_by":{"id":660180,"username":"toon","name":"Toon Claes","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/660180/avatar.png","web_url":"https://gitlab.com/toon"},"labels":["bug::performance","devops::growth","group::product intelligence","link::child issue","milestone::p2","product intelligence"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"}],"author":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"type":"ISSUE","assignee":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"user_notes_count":7,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/210051","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/210051","notes":"https://gitlab.com/api/v4/projects/278964/issues/210051/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/210051/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#210051","relative":"#210051","full":"gitlab-org/gitlab#210051"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31877008,"iid":210049,"project_id":278964,"title":"Define the look and feel of the Static Site Editor page","description":"## Problem to solve\n\nThe editing experience in the Static Site Editor should feel at home in the GitLab UI\n\n## Proposal\n\nDesign a single-page editor that conforms to the Pajamas design system wherever possible and remains flexible for future iterations as we add features.\n\n## Open questions\n\n* [x] Should the GitLab global navigation be visible at all? \n* [x] Should the left sidebar show all the navigation options or remain hidden like in the Web IDE? \n\n## Page elements\n\n* GitLab global navigation \n* Page title/path\n* Link to production page\n* Link to source file\n* Markdown editors for each defined content block\n* Submit button\n* Merge Request flow\n* Error messages\n* Empty state","state":"closed","created_at":"2020-03-11T15:25:13.582Z","updated_at":"2020-05-18T07:08:10.439Z","closed_at":"2020-04-21T14:45:58.750Z","closed_by":{"id":5212466,"username":"ericschurter","name":"Eric Schurter","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5212466/avatar.png","web_url":"https://gitlab.com/ericschurter"},"labels":["Category:Static Site Editor","Deliverable","UX","devops::create","frontend","group::static site editor [DEPRECATED]","missed-deliverable","missed:12.10"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":5212466,"username":"ericschurter","name":"Eric Schurter","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5212466/avatar.png","web_url":"https://gitlab.com/ericschurter"}],"author":{"id":5212466,"username":"ericschurter","name":"Eric Schurter","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5212466/avatar.png","web_url":"https://gitlab.com/ericschurter"},"type":"ISSUE","assignee":{"id":5212466,"username":"ericschurter","name":"Eric Schurter","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5212466/avatar.png","web_url":"https://gitlab.com/ericschurter"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/210049","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":2},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/210049","notes":"https://gitlab.com/api/v4/projects/278964/issues/210049/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/210049/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#210049","relative":"#210049","full":"gitlab-org/gitlab#210049"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2784,"epic":{"id":26795,"iid":2784,"title":"Edit a single Middleman page using a static site editor","url":"/groups/gitlab-org/-/epics/2784","group_id":9970,"human_readable_end_date":"Apr 22, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31876126,"iid":210045,"project_id":278964,"title":"Consider making CI/CD env variables protected by default when defined by admin/maintainer","description":"### Problem to solve\n\nFollowing a [customer security request](https://gitlab.com/gitlab-com/gl-security/field-security/issues/164) but also several hackerone reports, making CI/CD env variables protected by default when defined by admin/maintainer could make gitlab deployment more secure. If a maintainer defines a sensitive environment variable and forgets/does not know about [protected variables](https://docs.gitlab.com/ee/ci/variables/#protected-environment-variables), any user can read/overwrite it (in the context of the pipeline).\n\nTo avoid breaking numerous pipelines, this should not apply for existing env variables but only when defining new ones.\n\n### Intended users\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n\n### Proposal\n\nFor the existing admin setting `Environment variables are protected by default`, set the default to enabled by updating the `protected_ci_variables` field in `ApplicationSetting` to `true` by default.\n\n### Documentation\n\n*  Update [Protect a custom variable](https://docs.gitlab.com/ee/ci/variables/#protect-a-custom-variable)\n\n### Links / references","state":"closed","created_at":"2020-03-11T15:04:39.856Z","updated_at":"2021-02-19T09:42:28.439Z","closed_at":"2020-05-20T09:52:19.928Z","closed_by":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"labels":["Category:Continuous Integration","UX","backend","devops::verify","group::pipeline execution","security","type::feature","workflow::production"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"}],"author":{"id":4056133,"username":"jeremymatos","name":"Jeremy Matos","state":"blocked","avatar_url":"https://secure.gravatar.com/avatar/7c972d878793ca2302186e5d8c0c0dd8?s=80\u0026d=identicon","web_url":"https://gitlab.com/jeremymatos"},"type":"ISSUE","assignee":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"user_notes_count":36,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/210045","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/210045","notes":"https://gitlab.com/api/v4/projects/278964/issues/210045/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/210045/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#210045","relative":"#210045","full":"gitlab-org/gitlab#210045"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31875498,"iid":210044,"project_id":278964,"title":"`docs lint` failing in `master`","description":"Job [#467821341](https://gitlab.com/gitlab-org/gitlab/-/jobs/467821341) failed for 92883b50c6c392ad4efe2850ce0403998276fcac:\n\n```\n35 $ scripts/lint-doc.sh\n36 =\u003e Linting documents at path /builds/gitlab-org/gitlab as root...\n37 =\u003e Checking for cURL short options...\n38 =\u003e Checking for CHANGELOG.md duplicate entries...\n39 =\u003e Checking /builds/gitlab-org/gitlab/doc for executable permissions...\n40 =\u003e Checking for new README.md files...\n41 =\u003e Linting markdown style...\n42 doc/development/i18n/proofreader.md:59:1 MD007/ul-indent Unordered list indentation [Expected: 2; Actual: 0]\n43 doc/development/i18n/proofreader.md:60:1 MD005/list-indent Inconsistent indentation for list items at the same level [Expected: 0; Actual: 2]\n```","state":"closed","created_at":"2020-03-11T14:57:15.806Z","updated_at":"2020-03-11T15:06:20.440Z","closed_at":"2020-03-11T15:06:20.369Z","closed_by":{"id":33100,"username":"mayra-cabrera","name":"Mayra Cabrera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/33100/avatar.png","web_url":"https://gitlab.com/mayra-cabrera"},"labels":["Engineering Productivity","master:broken","priority::1","severity::1"],"milestone":{"id":1001916,"iid":44,"group_id":9970,"title":"12.9","description":"https://about.gitlab.com/releases/2020/03/22/gitlab-12-9-released","state":"closed","created_at":"2019-09-15T20:54:50.875Z","updated_at":"2020-09-02T11:04:41.671Z","due_date":"2020-03-17","start_date":"2020-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/44"},"assignees":[{"id":128633,"username":"rymai","name":"RÃ©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"}],"author":{"id":128633,"username":"rymai","name":"RÃ©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"type":"ISSUE","assignee":{"id":128633,"username":"rymai","name":"RÃ©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/210044","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/210044","notes":"https://gitlab.com/api/v4/projects/278964/issues/210044/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/210044/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#210044","relative":"#210044","full":"gitlab-org/gitlab#210044"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31874236,"iid":210041,"project_id":278964,"title":"Provide status of repository shard migrations to the administrator","description":"### Problem to solve\n\nAn administrator needs to send an API call to GitLab to move a repository from shard a to shard b. This would schedule a background job that actually moves the data. The administrator receives a 200 status code almost right away, which does not indicate anything on the background job, only that the jobs was scheduled. The administrator will now be in the dark of the status of data migration, unless the migration was successful and the migration updated the shard information the admin has no clue what's going on.\n\n### Intended users\n\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n\n### Proposal\n\nGitLab should provide a good way to get the job status to the user. We could start off by having a POST and GET API endpoint if possible, and allow the administrator to use that. I think ultimately the goal would be an interface somewhat like our [GitHub importer](https://docs.gitlab.com/ee/user/project/import/github.html#selecting-which-repositories-to-import)\n\n### Permissions and Security\n\nMoving data around is for administrators only, and this should not change.\n\n### What does success look like, and how can we measure that?\n\nCurrently @nnelson is moving data around at gitlab.com, he's got a script that's long polling for the change in repository_storage. If the job failed, the long poll retried to often. If his script is able to detect success as fast as it does now, and failures just as fast, that would be a success.\n\n### Links / references\n\n- GitHub importer UI: https://docs.gitlab.com/ee/user/project/import/github.html#selecting-which-repositories-to-import\n\n### Availability \u0026 Testing\n\n* No risk to availability expected.\n* New unit and integration API tests should provide adequate coverage.\n* However, a new E2E test is also recommended because we currently only have two E2E tests involving non-default repository storage, both covering more than just the basic functionality, so it would be useful to have a simpler test so that we can more easily diagnose the cause of failures.\n* The E2E framework currently [polls for a change in the repository storage name](https://gitlab.com/gitlab-org/gitlab/blob/master/qa/qa/resource/project.rb#L136) to confirm that a requested storage change has taken place. It should be updated to use this new feature instead.","state":"closed","created_at":"2020-03-11T14:31:57.840Z","updated_at":"2020-05-18T07:08:34.775Z","closed_at":"2020-05-15T06:14:18.501Z","closed_by":{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"},"labels":["Category:Gitaly","Deliverable","devops::create","group::gitaly","missed-deliverable","missed:12.10","priority::2","quad-planning::complete-action","type::feature","workflow::in review"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":228150,"username":"proglottis","name":"James Fargher","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/228150/avatar.png","web_url":"https://gitlab.com/proglottis"}],"author":{"id":101578,"username":"zj-gitlab","name":"Zeger-Jan van de Weg","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/101578/avatar.png","web_url":"https://gitlab.com/zj-gitlab"},"type":"ISSUE","assignee":{"id":228150,"username":"proglottis","name":"James Fargher","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/228150/avatar.png","web_url":"https://gitlab.com/proglottis"},"user_notes_count":13,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/210041","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/210041","notes":"https://gitlab.com/api/v4/projects/278964/issues/210041/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/210041/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#210041","relative":"#210041","full":"gitlab-org/gitlab#210041"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2307,"epic":{"id":15983,"iid":2307,"title":"ðŸšœ Improve Gitaly data migration tools","url":"/groups/gitlab-org/-/epics/2307","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31864927,"iid":210027,"project_id":278964,"title":"Refactor project packages api endpoint to supply only necessary params to finder","description":"## Summary\n\nAs per the comment https://gitlab.com/gitlab-org/gitlab/-/merge_requests/26833#note_302856115, this issue is to address a similar refactoring that should be applied to the project packages `:id/packages` endpoint.\n\n## Improvements\n\nChange `declared(params)` to only supply the necessary params as required by the finder. Maybe `slice` would work well here.\n\n## Risks\n\nWe may exclude a required param - but this should be caught by testing.\n\n## Involved components\n\n* `ee` \u003e `lib` \u003e `api` \u003e `project_packages.rb`","state":"closed","created_at":"2020-03-11T10:50:53.612Z","updated_at":"2020-04-15T07:19:26.090Z","closed_at":"2020-04-15T07:19:26.046Z","closed_by":{"id":154136,"username":"ksashikumar","name":"Sashi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/154136/avatar.png","web_url":"https://gitlab.com/ksashikumar"},"labels":["Category:Package Registry","api","backend","backstage [DEPRECATED]","devops::package","group::package registry","workflow::scheduling"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":154136,"username":"ksashikumar","name":"Sashi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/154136/avatar.png","web_url":"https://gitlab.com/ksashikumar"}],"author":{"id":4087042,"username":"nkipling","name":"Nick Kipling","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4087042/avatar.png","web_url":"https://gitlab.com/nkipling"},"type":"ISSUE","assignee":{"id":154136,"username":"ksashikumar","name":"Sashi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/154136/avatar.png","web_url":"https://gitlab.com/ksashikumar"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/210027","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/210027","notes":"https://gitlab.com/api/v4/projects/278964/issues/210027/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/210027/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#210027","relative":"#210027","full":"gitlab-org/gitlab#210027"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31864858,"iid":210025,"project_id":278964,"title":"Migrate `ghost` logic to user_type column","description":"## Summary\n\nThis is part of https://gitlab.com/gitlab-org/gitlab/-/issues/219001\n\nWe need to migrate \"ghost\" logic to use `user_type`\n\n## Improvements\n\nSimpler schema, simpler indexes, simpler code\n\n## Risks\n\nGhosts related functionality can be broken if something goes wrong.\n\n\u003c!--\nPlease list features that can break because of this refactoring and how you intend to solve that.\n--\u003e\n\n## Involved components\n\n* app/models/user.rb\n* db/schema.rb\n\n\u003c!--\nList files or directories that will be changed by the refactoring.\n--\u003e\n\n## Optional: Intended side effects\n\nGhost users can't be a ghost AND an alert\\support bot at the same time. At GitLab.com ghost user is not a bot, so we are good here.\n\n\u003c!--\nIf the refactoring involves changes apart from the main improvements (such as a better UI), list them here.\nIt may be a good idea to create separate issues and link them here.\n--\u003e\n\n\n/cc @gitlab-org/maintainers/database WDYT?","state":"closed","created_at":"2020-03-11T10:49:20.273Z","updated_at":"2020-05-26T15:04:08.423Z","closed_at":"2020-05-25T11:16:08.021Z","closed_by":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"labels":["backstage [DEPRECATED]","database","devops::manage","group::optimize","maintenance::refactor","missed:12.10","workflow::in dev"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"}],"author":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"type":"ISSUE","assignee":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"user_notes_count":8,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/210025","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/210025","notes":"https://gitlab.com/api/v4/projects/278964/issues/210025/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/210025/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#210025","relative":"#210025","full":"gitlab-org/gitlab#210025"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31863854,"iid":210023,"project_id":278964,"title":"Refactor and rename ServiceParams to Integrations::Params","description":"The following discussion from !26454 should be addressed:\n\n- [ ] @pshutsin started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/26454#note_302235659):  (+1 comment)\n\n    \u003e `service_params[:service]` looks weird. I see that this is how `ServiceParams` module was build, so non-blocking comment for this issue. \n    \u003e Maybe we need to refactor `ServiceParams` module to be more solid.","state":"closed","created_at":"2020-03-11T10:24:05.844Z","updated_at":"2022-11-22T20:09:15.616Z","closed_at":"2021-05-04T15:28:43.885Z","closed_by":{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"},"labels":["Category:Integrations","Stretch","backend","devops::manage","group::ecosystem [DEPRECATED]","maintenance::refactor","section::dev","workflow::verification"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"}],"author":{"id":4704683,"username":"justin_ho","name":"Justin Ho Tuan Duong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4704683/avatar.png","web_url":"https://gitlab.com/justin_ho"},"type":"ISSUE","assignee":{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/210023","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/210023","notes":"https://gitlab.com/api/v4/projects/278964/issues/210023/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/210023/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#210023","relative":"#210023","full":"gitlab-org/gitlab#210023"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2504,"epic":{"id":18352,"iid":2504,"title":"Rename \"Services\" to \"Integrations\"","url":"/groups/gitlab-org/-/epics/2504","group_id":9970},"iteration":null,"health_status":null},{"id":31861373,"iid":210018,"project_id":278964,"title":"Remove admin ability not to use Hashed Storage","description":"The administrator can enable and disable hashed storage for new projects, this defaults to hashed storage. However, given the extended usage of hashed storage already, and it being stable, it seems like a good idea not to even allow the admin to opt-out anymore.\n\nThis solves part of the split we're currently in with the legacy storage. It allows the Gitaly team to reason about storages more easily too. Now there's a couple security concerns that only arise if legacy storage is still enabled.\n\n/cc @jramsay @fzimmer @brodock\n\n--------\n\n# What needs to be done\n\n- [x] Modify the view and make Hashed Storage checkbox read-only when it is \"enabled\"\n- [x] Add a validation rule in application_settings to prevent hashed_storage configuration to be false\n- [x] Add a background migration to set hashed_storage setting to true","state":"closed","created_at":"2020-03-11T09:33:51.224Z","updated_at":"2020-06-19T01:32:28.520Z","closed_at":"2020-05-15T19:21:48.395Z","closed_by":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"labels":["Deliverable","devops::systems","direction","group::geo","quad-planning::complete-no-action","type::feature","workflow::in review"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":2293,"username":"brodock","name":"Gabriel Mazetto","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2293/avatar.png","web_url":"https://gitlab.com/brodock"}],"author":{"id":101578,"username":"zj-gitlab","name":"Zeger-Jan van de Weg","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/101578/avatar.png","web_url":"https://gitlab.com/zj-gitlab"},"type":"ISSUE","assignee":{"id":2293,"username":"brodock","name":"Gabriel Mazetto","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2293/avatar.png","web_url":"https://gitlab.com/brodock"},"user_notes_count":10,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/210018","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/210018","notes":"https://gitlab.com/api/v4/projects/278964/issues/210018/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/210018/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#210018","relative":"#210018","full":"gitlab-org/gitlab#210018"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2320,"epic":{"id":16071,"iid":2320,"title":"Hashed Storage as the only storage","url":"/groups/gitlab-org/-/epics/2320","group_id":9970},"iteration":null,"health_status":null},{"id":31858224,"iid":210012,"project_id":278964,"title":"Label JIRA imported issues on import","description":"In order to help user to keep track of what was imported we can apply a `jira-import-\u003ctimestamp\u003e` label to the newly imported issues.\n\nThis will give users a good way to filter and inspect the imported issues.\n\nTasks:\n- [x] create the label before pulling issues from jira and cache the label id so we do not have to hit the DB for every new issue\n\nQuestion:\n- [x] Should the label be a project level label ?","state":"closed","created_at":"2020-03-11T08:14:27.481Z","updated_at":"2020-05-04T16:49:15.957Z","closed_at":"2020-04-03T17:24:05.309Z","closed_by":{"id":3483274,"username":"acroitor","name":"Alexandru Croitor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/461378ef52c26eec55e6c15ec09bb9ed?s=80\u0026d=identicon","web_url":"https://gitlab.com/acroitor"},"labels":["Category:Jira Importer","backend","devops::plan","direction","group::project management","planning priority","type::feature","workflow::verification"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":3483274,"username":"acroitor","name":"Alexandru Croitor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/461378ef52c26eec55e6c15ec09bb9ed?s=80\u0026d=identicon","web_url":"https://gitlab.com/acroitor"}],"author":{"id":3483274,"username":"acroitor","name":"Alexandru Croitor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/461378ef52c26eec55e6c15ec09bb9ed?s=80\u0026d=identicon","web_url":"https://gitlab.com/acroitor"},"type":"ISSUE","assignee":{"id":3483274,"username":"acroitor","name":"Alexandru Croitor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/461378ef52c26eec55e6c15ec09bb9ed?s=80\u0026d=identicon","web_url":"https://gitlab.com/acroitor"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/210012","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":2},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/210012","notes":"https://gitlab.com/api/v4/projects/278964/issues/210012/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/210012/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#210012","relative":"#210012","full":"gitlab-org/gitlab#210012"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2766,"epic":{"id":26382,"iid":2766,"title":"Import Jira Issues MVC","url":"/groups/gitlab-org/-/epics/2766","group_id":9970,"human_readable_end_date":"May 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31857297,"iid":210010,"project_id":278964,"title":"Pages configuration switch API/disc source","description":"Implement switch discussed in https://gitlab.com/gitlab-org/gitlab-pages/-/issues/351\n\n* [x] Add `/internal/pages/status` endpoint !28743\n* [-] Add `-disable-gitlab-api-config-source` command-line option to Pages https://gitlab.com/gitlab-org/gitlab-pages/-/merge_requests/264\n* [-] Add related changes to omnibus https://gitlab.com/gitlab-org/omnibus-gitlab/-/merge_requests/4057\n* [-] Documentation update https://gitlab.com/gitlab-org/gitlab/-/merge_requests/29103\n\n## Follow up issues\n\n- Add `domain-source` configuration https://gitlab.com/gitlab-org/gitlab/-/issues/217912\n- Update omnibus to use `domain-source=auto` https://gitlab.com/gitlab-org/omnibus-gitlab/-/issues/5350\n- Update omnibus to use `domain-source=api` https://gitlab.com/gitlab-org/omnibus-gitlab/-/issues/5351\n- Deprecate `domain-source` https://gitlab.com/gitlab-org/gitlab/-/issues/217913\n- Remove `domain-source` and all of `disk` source related code https://gitlab.com/gitlab-org/gitlab-pages/-/issues/382","state":"closed","created_at":"2020-03-11T07:41:07.794Z","updated_at":"2021-02-02T22:57:48.117Z","closed_at":"2020-05-18T01:22:24.179Z","closed_by":{"id":4082686,"username":"jaime","name":"Jaime Martinez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4082686/avatar.png","web_url":"https://gitlab.com/jaime"},"labels":["Category:Pages","backend","backstage [DEPRECATED]","cicd::active","devops::release","missed:12.10","workflow::in review"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":4082686,"username":"jaime","name":"Jaime Martinez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4082686/avatar.png","web_url":"https://gitlab.com/jaime"}],"author":{"id":3379682,"username":"vshushlin","name":"Vladimir Shushlin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3379682/avatar.png","web_url":"https://gitlab.com/vshushlin"},"type":"ISSUE","assignee":{"id":4082686,"username":"jaime","name":"Jaime Martinez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4082686/avatar.png","web_url":"https://gitlab.com/jaime"},"user_notes_count":39,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/210010","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":1},"weight":4,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/210010","notes":"https://gitlab.com/api/v4/projects/278964/issues/210010/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/210010/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#210010","relative":"#210010","full":"gitlab-org/gitlab#210010"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4242,"epic":{"id":97712,"iid":4242,"title":"Move pages domain/project configuration to the API","url":"/groups/gitlab-org/-/epics/4242","group_id":9970,"human_readable_end_date":"May 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31855676,"iid":210007,"project_id":278964,"title":"Optimize services_usage  counters","description":"On gitlab.com we get `-1`s due to group by and non-batch counting .  \n\n```ruby\ndef services_usage\n        service_counts = count(Service.active.where(template: false).where.not(type: 'JiraService').group(:type), fallback: Hash.new(-1), batch: false)\n\n        results = Service.available_services_names.each_with_object({}) do |service_name, response|\n          response[\"projects_#{service_name}_active\".to_sym] = service_counts[\"#{service_name}_service\".camelize] || 0\n        end\n\n        # Keep old Slack keys for backward compatibility, https://gitlab.com/gitlab-data/analytics/issues/3241\n        results[:projects_slack_notifications_active] = results[:projects_slack_active]\n        results[:projects_slack_slash_active] = results[:projects_slack_slash_commands_active]\n\n        results.merge(jira_usage)\n      end\n```\n\n\n```\n     90:    \"projects_alerts_active\": -1,\n     91:    \"projects_asana_active\": -1,\n     92:    \"projects_assembla_active\": -1,\n     93:    \"projects_bamboo_active\": -1,\n     94:    \"projects_bugzilla_active\": -1,\n     95:    \"projects_buildkite_active\": -1,\n     96:    \"projects_campfire_active\": -1,\n     97:    \"projects_custom_issue_tracker_active\": -1,\n     98:    \"projects_discord_active\": -1,\n     99:    \"projects_drone_ci_active\": -1,\n    100:    \"projects_emails_on_push_active\": -1,\n    101:    \"projects_external_wiki_active\": -1,\n    102:    \"projects_flowdock_active\": -1,\n    103:    \"projects_github_active\": -1,\n    104:    \"projects_gitlab_slack_application_active\": -1,\n    105:    \"projects_hangouts_chat_active\": -1,\n    106:    \"projects_hipchat_active\": -1,\n    107:    \"projects_irker_active\": -1,\n    108:    \"projects_jenkins_active\": -1,\n    109:    \"projects_jenkins_deprecated_active\": -1,\n    111:    \"projects_mattermost_active\": -1,\n    112:    \"projects_mattermost_slash_commands_active\": -1,\n    113:    \"projects_microsoft_teams_active\": -1,\n    114:    \"projects_packagist_active\": -1,\n    115:    \"projects_pipelines_email_active\": -1,\n    116:    \"projects_pivotaltracker_active\": -1,\n    117:    \"projects_prometheus_active\": -1,\n    118:    \"projects_pushover_active\": -1,\n    119:    \"projects_redmine_active\": -1,\n    120:    \"projects_slack_active\": -1,\n    121:    \"projects_slack_slash_commands_active\": -1,\n    122:    \"projects_teamcity_active\": -1,\n    123:    \"projects_unify_circuit_active\": -1,\n    124:    \"projects_youtrack_active\": -1,\n    125:    \"projects_slack_notifications_active\": -1,\n    126:    \"projects_slack_slash_active\": -1,\n\n```","state":"closed","created_at":"2020-03-11T06:25:14.818Z","updated_at":"2020-03-18T07:16:51.538Z","closed_at":"2020-03-18T07:16:51.483Z","closed_by":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"labels":["backstage [DEPRECATED]","bug::performance","devops::growth","group::product intelligence","link::child issue","workflow::verification"],"milestone":{"id":1001916,"iid":44,"group_id":9970,"title":"12.9","description":"https://about.gitlab.com/releases/2020/03/22/gitlab-12-9-released","state":"closed","created_at":"2019-09-15T20:54:50.875Z","updated_at":"2020-09-02T11:04:41.671Z","due_date":"2020-03-17","start_date":"2020-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/44"},"assignees":[{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"}],"author":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"type":"ISSUE","assignee":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/210007","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/210007","notes":"https://gitlab.com/api/v4/projects/278964/issues/210007/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/210007/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#210007","relative":"#210007","full":"gitlab-org/gitlab#210007"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31854442,"iid":210003,"project_id":278964,"title":"Support CLAIR_TIMEOUT variable in Container Scanning and improve i/o timeout error message","description":"### Problem to solve\n\nThe purpose of this issue is to support the `CLAIR_TIMEOUT` variable provided by [klar](https://github.com/optiopay/klar#usage):\n\n\u003e CLAIR_TIMEOUT - timeout in minutes before Klar cancels the image scanning. Default is 1\n\nThis will allow users to configure this value and eliminate `i/o timeout` errors\n\n### Intended users\n\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n\n### Further details\n\nThere have been numerous bug reports and zendesk tickets related to an `i/o timeout` error in container scanning:\n\n- [Container Scanning failed to analyze using API v1,3: push](https://gitlab.com/gitlab-org/gitlab/-/issues/209009)\n- https://gitlab.zendesk.com/agent/tickets/149012\n- https://gitlab.zendesk.com/agent/tickets/148563\n\nI believe all of these issues are caused by the fact that the default `CLAIR_TIMEOUT` value of 1 minute is not long enough for certain large Docker images. \n\n### Proposal\n\n1. [ ] Add the `CLAIR_TIMEOUT` variable to the list of [`configurableEnvVarValues`](https://gitlab.com/gitlab-org/security-products/analyzers/klar/-/blob/cb4a3fccd12cdfcc8749f67a5dbd231fd8dfded3/environment/environment.go#L80-85) and set the default value to `5` minutes.\n1. [ ] Add a [custom error message](https://gitlab.com/gitlab-org/security-products/analyzers/klar/-/blob/cb4a3fccd12cdfcc8749f67a5dbd231fd8dfded3/analyze/analyze.go#L87-96) when the error text contains `i/o timeout`:\n\n    ```\n    [ERRO] â–¶ An i/o error occurred while attempting to push the Docker image data\n     from klar to the clair server.  The current CLAIR_TIMEOUT value is 5 minutes, please\n    increase this number to a higher value.  See the GitLab Container Scanning documentation\n    https://docs.gitlab.com/ee/user/application_security/container_scanning/#available-variables\n    for more details\n    ```\n\n1. [ ] Add the `CLAIR_TIMEOUT` variable to the [Available variables](https://docs.gitlab.com/ee/user/application_security/container_scanning/#available-variables) section of the Container Scanning documentation.\n1. [ ] Add a test to the [Container Scanning test project](https://gitlab.com/gitlab-org/security-products/tests/container-scanning) to show that an `i/o timeout` error produces the new error message, and that increasing the `CLAIR_TIMEOUT` value fixes the issue.\n\n### Documentation\n\nSee item `3.` of the [Proposal](#proposal) section\n\n### Availability \u0026 Testing\n\nSee item `4.` of the [Proposal](#proposal) section\n\n### What does success look like, and how can we measure that?\n\nThe test added in item `4.` of the [Proposal](#proposal) section will demonstrate success.\n\n### What is the type of buyer?\n\n~\"Enterprise Edition\"","state":"closed","created_at":"2020-03-11T04:55:49.737Z","updated_at":"2020-11-13T16:56:07.785Z","closed_at":"2020-04-16T17:22:42.238Z","closed_by":{"id":52092,"username":"gonzoyumo","name":"Olivier Gonzalez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/651e0ff81c3995a05269f7c80895fe89?s=80\u0026d=identicon","web_url":"https://gitlab.com/gonzoyumo"},"labels":["Category:Container Scanning","Enterprise Edition","GitLab Ultimate","Stretch","backend","backstage [DEPRECATED]","customer","devops::secure","group::composition analysis","type::feature","workflow::ready for development"],"milestone":null,"assignees":[{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"}],"author":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"type":"ISSUE","assignee":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/210003","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/210003","notes":"https://gitlab.com/api/v4/projects/278964/issues/210003/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/210003/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#210003","relative":"#210003","full":"gitlab-org/gitlab#210003"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31853497,"iid":210001,"project_id":278964,"title":"Duplicate audit event on project creation from template","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nWhen project is created using built-in/custom template, two audit events are created.\n\n### Steps to reproduce\n\n* Login as a user with developer/maintainer permission and create a new project\n* Follow instruction laid out in https://docs.gitlab.com/ee/gitlab-basics/create-project.html#built-in-templates to create a new project\n* Navigate to Admin Area \u003e Monitoring \u003e Audit Log\n* Observe two duplicate entries (i.e. `Added project`)\n\n### Example Project\n\n(If possible, please create an example project here on GitLab.com that exhibits the problematic behavior, and link to it here in the bug report)\n\n(If you are using an older version of GitLab, this will also determine whether the bug is fixed in a more recent version)\n\n### What is the current *bug* behavior?\n\nTwo duplicate audit events when project created with templates.\n\n### What is the expected *correct* behavior?\n\nThere should be only 1 audit event recorded.\n\n### Relevant logs and/or screenshots\n![Screen_Shot_2020-03-11_at_12.49.32_pm](/uploads/bc24b476bb5fd68fae40b7be8d3916e8/Screen_Shot_2020-03-11_at_12.49.32_pm.png)\n\n```bash\ngrep -ir iCv1CEjqcG3 log/audit_json.log\n\nlog/audit_json.log:{\"severity\":\"INFO\",\"time\":\"2020-03-11T01:04:12.891Z\",\"correlation_id\":\"iCv1CEjqcG3\",\"author_id\":1,\"entity_id\":10,\"entity_type\":\"Project\",\"add\":\"project\",\"author_name\":\"Harry Potter\",\"target_id\":\"root/tanuki-rails\",\"target_type\":\"Project\",\"target_details\":\"root/tanuki-rails\",\"ip_address\":\"127.0.0.1\",\"entity_path\":\"root/tanuki-rails\"}\nlog/audit_json.log:{\"severity\":\"INFO\",\"time\":\"2020-03-11T01:04:12.912Z\",\"correlation_id\":\"iCv1CEjqcG3\",\"author_id\":1,\"entity_id\":10,\"entity_type\":\"Project\",\"add\":\"project\",\"author_name\":\"Harry Potter\",\"target_id\":\"root/tanuki-rails\",\"target_type\":\"Project\",\"target_details\":\"root/tanuki-rails\",\"ip_address\":\"127.0.0.1\",\"entity_path\":\"root/tanuki-rails\"}\nlog/audit_json.log:{\"severity\":\"INFO\",\"time\":\"2020-03-11T01:04:14.983Z\",\"correlation_id\":\"iCv1CEjqcG3\",\"author_id\":1,\"entity_id\":10,\"entity_type\":\"Project\",\"add\":\"protected_branch\",\"author_name\":\"Harry Potter\",\"target_id\":1,\"target_type\":\"ProtectedBranch\",\"target_details\":\"master\",\"push_access_levels\":[\"Maintainers\"],\"merge_access_levels\":[\"Maintainers\"],\"ip_address\":\"127.0.0.1\",\"entity_path\":\"root/tanuki-rails\"}\n```\n\n### Output of checks\n\nThis bug happens on GitLab.com\n\n### Possible fixes\n\nAs per sequence diagram below, it is quite obvious that `Projects::CreateService` has been invoked twice (1 and 7), each time causes a number of duplicated actions being executed. Audit event recording is one of them.  \n\n```plantuml\nskinparam handwritten true\n\nparticipant \"Projects::CreateService[1]\" #99FF99\n\nautonumber\n[-\u003e \"Projects::CreateService[1]\": execute\nactivate \"Projects::CreateService[1]\"\n\"Projects::CreateService[1]\" -\u003e CreateFromTemplateService: execute\nactivate CreateFromTemplateService\nCreateFromTemplateService -\u003e ProjectTemplate: find\nactivate ProjectTemplate\nProjectTemplate --\u003e CreateFromTemplateService:\ndeactivate ProjectTemplate\nCreateFromTemplateService -\u003e GitlabProjectsImportService: execute\nactivate GitlabProjectsImportService\nGitlabProjectsImportService --\u003e CreateFromTemplateService:\n\nparticipant \"Projects::CreateService[2]\" #99FF99\nGitlabProjectsImportService -\u003e \"Projects::CreateService[2]\": execute\nactivate \"Projects::CreateService[2]\"\n\"Projects::CreateService[2]\" -\u003e \"Projects::CreateService[2]\":\nnote right\n  - setup ci cd project\n  - log geo event\n  - log audit event\nend note\n\"Projects::CreateService[2]\" --\u003e GitlabProjectsImportService\ndeactivate \"Projects::CreateService[2]\"\nGitlabProjectsImportService --\u003e CreateFromTemplateService\ndeactivate GitlabProjectsImportService\nCreateFromTemplateService --\u003e \"Projects::CreateService[1]\"\ndeactivate CreateFromTemplateService\n\"Projects::CreateService[1]\" -\u003e \"Projects::CreateService[1]\":\nnote right\n  - setup ci cd project\n  - log geo event\n  - log audit event\nend note\n[\u003c-- \"Projects::CreateService[1]\":\ndeactivate \"Projects::CreateService[1]\"\n```\n\nPoints for consideration:\n* Eliminate the awkward cyclic dependency on `Projects::CreateService` that could potential cause more issues","state":"closed","created_at":"2020-03-11T03:40:49.421Z","updated_at":"2021-11-10T08:53:09.879Z","closed_at":"2021-11-10T08:53:09.863Z","closed_by":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"labels":["backend","devops::manage","group::compliance","priority::3","section::dev","severity::3","type::bug","workflow::verification"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"}],"author":{"id":398752,"username":"tancnle","name":"Tan Le","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/398752/avatar.png","web_url":"https://gitlab.com/tancnle"},"type":"ISSUE","assignee":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"user_notes_count":8,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/210001","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/210001","notes":"https://gitlab.com/api/v4/projects/278964/issues/210001/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/210001/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#210001","relative":"#210001","full":"gitlab-org/gitlab#210001"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31850803,"iid":209994,"project_id":278964,"title":"Display history of issues created from a vulnerability","description":"### Problem to solve\n\nWhen the \"Create Issue\" button is clicked to create an issue from a vulnerability, we need to see an entry in the history that logs this action, with a link to the created issue. As issues are created from vulnerabilities (https://gitlab.com/gitlab-org/gitlab/issues/34564) the history of the issues created should be clearly displayed to the customer when viewing the details of a vulnerability on the standalone vulnerability page. \n\n\n### Intended users\n\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n\n\n### Design \u0026 Experience\n\nSee [prototype](https://gitlab.com/gitlab-org/gitlab/-/issues/13561#design-proposal) and design mocks of `Vulnerability cases -\u003e with issue created` on MVC issue https://gitlab.com/gitlab-org/gitlab/-/issues/13561#vulnerability-cases\n\n| Create Issue button | Example screenshot |\n| - | - |\n| ![DeepinScreenshot_select-area_20200311233339](/uploads/bccf220d05731d4fe7138988d3877775/DeepinScreenshot_select-area_20200311233339.png) | ![DeepinScreenshot_select-area_20200311232501](/uploads/cc15fc4201bc0483ebfe07709b2a0fce/DeepinScreenshot_select-area_20200311232501.png) |\n\n### Documentation\n\nEnsure that https://gitlab.com/gitlab-org/gitlab/-/issues/204847 reflects this element of the new UX \n\n### Links / references","state":"closed","created_at":"2020-03-10T23:40:15.535Z","updated_at":"2020-04-18T07:11:01.402Z","closed_at":"2020-04-14T12:37:11.720Z","closed_by":{"id":487608,"username":"Quintasan","name":"MichaÅ‚ ZajÄ…c","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/487608/avatar.png","web_url":"https://gitlab.com/Quintasan"},"labels":["Category:Vulnerability Management","Deliverable","backend","backend-weight::3","devops::govern","frontend","frontend-weight::5","group::threat insights","vulnerability interaction","workflow::verification"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"}],"author":{"id":4906978,"username":"lkerr","name":"Lindsay Kerr","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4906978/avatar.png","web_url":"https://gitlab.com/lkerr"},"type":"ISSUE","assignee":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"user_notes_count":57,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2020-04-16","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/209994","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/209994","notes":"https://gitlab.com/api/v4/projects/278964/issues/209994/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/209994/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#209994","relative":"#209994","full":"gitlab-org/gitlab#209994"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3038,"epic":{"id":38747,"iid":3038,"title":"Standalone Vulnerabilities","url":"/groups/gitlab-org/-/epics/3038","group_id":9970,"human_readable_end_date":"Jul 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31850699,"iid":209993,"project_id":278964,"title":"Associate comments with vulnerability state changes","description":"### Problem to solve\n\nWe need the ability to add comments for a particular vulnerability state change history entry. The ability to associate comments with a vulnerability state change provides customers with more context around the state change (\u0026 reaches parity with our existing security dashboard functionality).\n\n**NOTE:** This issue requires that https://gitlab.com/gitlab-org/gitlab/-/issues/209990 be completed first.\n\n### Intended users\n\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n\n\n### Design \u0026 Experience\n\nSee [prototype](https://gitlab.com/gitlab-org/gitlab/-/issues/13561#design-proposal) and **Vulnerability Commenting Flow** in MVC issue https://gitlab.com/gitlab-org/gitlab/-/issues/13561#vulnerability-commenting-flow\n\n| Mockup |\n| - |\n| ![DeepinScreenshot_select-area_20200311232324](/uploads/0d17a18212dd08b459979ba745f47f32/DeepinScreenshot_select-area_20200311232324.png) |\n\n### Documentation\n\nEnsure that https://gitlab.com/gitlab-org/gitlab/-/issues/204847 reflects this element of the new UX \n\n### Links / references\n\n### Implementation Plan\n* [ ]  Add a comment textbox\n* [ ]  Figure out which endpoint to use for adding/editing comments\n* [ ]  Add the ability to edit the comment after saving\n* [ ]  Show a loading spinner as the AJAX call is being made\n* [ ]  Show the comment client-side after the AJAX call finishes\n* [ ]  We may also need to do an API call to get the user info","state":"closed","created_at":"2020-03-10T23:29:38.833Z","updated_at":"2020-04-19T02:53:23.535Z","closed_at":"2020-04-19T02:53:23.478Z","closed_by":{"id":4907528,"username":"dftian","name":"Daniel Tian","state":"active","avatar_url":"https://secure.gravatar.com/avatar/5d7186a64c42708833291afd7749c7b5?s=80\u0026d=identicon","web_url":"https://gitlab.com/dftian"},"labels":["Category:Vulnerability Management","Deliverable","backend","backend-weight::2","devops::govern","frontend","frontend-weight::5","group::threat insights","vulnerability interaction","workflow::verification"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":4907528,"username":"dftian","name":"Daniel Tian","state":"active","avatar_url":"https://secure.gravatar.com/avatar/5d7186a64c42708833291afd7749c7b5?s=80\u0026d=identicon","web_url":"https://gitlab.com/dftian"}],"author":{"id":4906978,"username":"lkerr","name":"Lindsay Kerr","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4906978/avatar.png","web_url":"https://gitlab.com/lkerr"},"type":"ISSUE","assignee":{"id":4907528,"username":"dftian","name":"Daniel Tian","state":"active","avatar_url":"https://secure.gravatar.com/avatar/5d7186a64c42708833291afd7749c7b5?s=80\u0026d=identicon","web_url":"https://gitlab.com/dftian"},"user_notes_count":19,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2020-04-16","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/209993","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/209993","notes":"https://gitlab.com/api/v4/projects/278964/issues/209993/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/209993/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#209993","relative":"#209993","full":"gitlab-org/gitlab#209993"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3038,"epic":{"id":38747,"iid":3038,"title":"Standalone Vulnerabilities","url":"/groups/gitlab-org/-/epics/3038","group_id":9970,"human_readable_end_date":"Jul 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31850298,"iid":209990,"project_id":278964,"title":"Display history of vulnerability state changes","description":"### Problem to solve\n\nWe need to show a history of the vulnerability state changes that are made through the vulnerability state switcher: https://gitlab.com/gitlab-org/gitlab/-/issues/38123 The history should be shown as a list on the standalone vulnerability page, which shows the details of a vulnerability.\n\n**NOTE:** This issue is to only implement the history list **without** the comment textbox. Adding in the comment textbox is a separate issue: https://gitlab.com/gitlab-org/gitlab/-/issues/209993 and depends on this one to be completed first.\n\n\n### Intended users\n\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n\n\n### Design \u0026 Experience\n\nSee [prototype](https://gitlab.com/gitlab-org/gitlab/-/issues/13561#design-proposal) and design mocks of `confirmed`, `dismissed`, `resolved` states on MVC issue https://gitlab.com/gitlab-org/gitlab/-/issues/13561#vulnerability-page-states\n\n\n| Mockup |\n| - |\n| ![DeepinScreenshot_select-area_20200311231907](/uploads/dcff21cabfc8fb9d93a30cf6317ec8b7/DeepinScreenshot_select-area_20200311231907.png) |\n\n### Documentation\n\nEnsure that https://gitlab.com/gitlab-org/gitlab/-/issues/204847 reflects this element of the new UX \n\n### Links / references","state":"closed","created_at":"2020-03-10T22:51:56.115Z","updated_at":"2020-04-19T02:52:47.323Z","closed_at":"2020-04-19T02:52:47.276Z","closed_by":{"id":4907528,"username":"dftian","name":"Daniel Tian","state":"active","avatar_url":"https://secure.gravatar.com/avatar/5d7186a64c42708833291afd7749c7b5?s=80\u0026d=identicon","web_url":"https://gitlab.com/dftian"},"labels":["Category:Vulnerability Management","Deliverable","backend","backend-weight::5","devops::govern","frontend","frontend-weight::5","group::threat insights","vulnerability interaction","workflow::in review"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":4907528,"username":"dftian","name":"Daniel Tian","state":"active","avatar_url":"https://secure.gravatar.com/avatar/5d7186a64c42708833291afd7749c7b5?s=80\u0026d=identicon","web_url":"https://gitlab.com/dftian"}],"author":{"id":4906978,"username":"lkerr","name":"Lindsay Kerr","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4906978/avatar.png","web_url":"https://gitlab.com/lkerr"},"type":"ISSUE","assignee":{"id":4907528,"username":"dftian","name":"Daniel Tian","state":"active","avatar_url":"https://secure.gravatar.com/avatar/5d7186a64c42708833291afd7749c7b5?s=80\u0026d=identicon","web_url":"https://gitlab.com/dftian"},"user_notes_count":26,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2020-04-16","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/209990","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":8,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/209990","notes":"https://gitlab.com/api/v4/projects/278964/issues/209990/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/209990/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#209990","relative":"#209990","full":"gitlab-org/gitlab#209990"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3038,"epic":{"id":38747,"iid":3038,"title":"Standalone Vulnerabilities","url":"/groups/gitlab-org/-/epics/3038","group_id":9970,"human_readable_end_date":"Jul 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31849065,"iid":209988,"project_id":278964,"title":"Geo: Redownloading repositories via snapshot does not work","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nRedownloading repositories via snapshot may not work as intended. The flow looks like:\n\n- **Download a snapshot of the repo to a temp repo**\n  - Gitaly downloads a snapshot of the repo to yet another temp repo, then moves that to the first temp repo (by the way, I tried calling `create_from_snapshot` on the canonical repo to avoid an extra temp repo step, but Gitaly's `CreateRepositoryFromSnapshot` errors with `destination directory exists`)\n- If there was no error during `fetch_snapshot`, then we exit `redownload_repository` and ensure to `clean_up_temporary_repository`, which **deletes the temp repo**\n\nIt looks like the canonical repository does not get touched?\n\n### Steps to reproduce\n\n- In Rails console on the secondary\n- `r = Geo::ProjectRegistry.last`\n- `r.flag_repository_for_redownload!`\n- `cd` to where `geo.log` is\n- `tail -f geo.log`\n- In the primary UI, add a file to that project repo to 1) trigger a sync and 2) if the logs say it succeeded, we can check the secondary repo to see if in fact it is up-to-date.\n\n```\n{\"severity\":\"INFO\",\"time\":\"2020-03-10T21:14:46.104Z\",\"correlation_id\":\"7dd185e39827e70e3efb4461dcd7662a\",\"class\":\"Geo::RepositorySyncService\",\"host\":\"127.0.0.1\",\"message\":\"Started repository sync\",\"job_id\":\"c1930579cb5fb95a9ca492fc\",\"project_id\":94,\"project_path\":\"gitlab-qa-sandbox-group/qa-test-2020-02-06-15-31-27-35a7b9f7c4c4483f/geo-after-rename-14df8209e611ddfa\",\"storage_version\":2}\n{\"severity\":\"INFO\",\"time\":\"2020-03-10T21:14:46.105Z\",\"correlation_id\":\"7dd185e39827e70e3efb4461dcd7662a\",\"class\":\"Geo::RepositorySyncService\",\"host\":\"127.0.0.1\",\"message\":\"Marking repository sync as started\",\"job_id\":\"c1930579cb5fb95a9ca492fc\",\"project_id\":94,\"project_path\":\"gitlab-qa-sandbox-group/qa-test-2020-02-06-15-31-27-35a7b9f7c4c4483f/geo-after-rename-14df8209e611ddfa\",\"storage_version\":2}\n{\"severity\":\"INFO\",\"time\":\"2020-03-10T21:14:46.112Z\",\"correlation_id\":\"7dd185e39827e70e3efb4461dcd7662a\",\"class\":\"Geo::RepositorySyncService\",\"host\":\"127.0.0.1\",\"message\":\"Trying to fetch repository\",\"job_id\":\"c1930579cb5fb95a9ca492fc\",\"project_id\":94,\"project_path\":\"gitlab-qa-sandbox-group/qa-test-2020-02-06-15-31-27-35a7b9f7c4c4483f/geo-after-rename-14df8209e611ddfa\",\"storage_version\":2}\n{\"severity\":\"INFO\",\"time\":\"2020-03-10T21:14:46.115Z\",\"correlation_id\":\"7dd185e39827e70e3efb4461dcd7662a\",\"class\":\"Geo::RepositorySyncService\",\"host\":\"127.0.0.1\",\"message\":\"Redownloading repository\",\"job_id\":\"c1930579cb5fb95a9ca492fc\",\"project_id\":94,\"project_path\":\"gitlab-qa-sandbox-group/qa-test-2020-02-06-15-31-27-35a7b9f7c4c4483f/geo-after-rename-14df8209e611ddfa\",\"storage_version\":2}\n{\"severity\":\"INFO\",\"time\":\"2020-03-10T21:14:46.115Z\",\"correlation_id\":\"7dd185e39827e70e3efb4461dcd7662a\",\"class\":\"Geo::RepositorySyncService\",\"host\":\"127.0.0.1\",\"message\":\"Attempting to fetch repository via snapshot\",\"job_id\":\"c1930579cb5fb95a9ca492fc\",\"project_id\":94,\"project_path\":\"gitlab-qa-sandbox-group/qa-test-2020-02-06-15-31-27-35a7b9f7c4c4483f/geo-after-rename-14df8209e611ddfa\",\"storage_version\":2}\n\nLocally, I added log output to `clean_up_temporary_repository` which we see in the next line. I had also added logging to `set_temp_repository_as_main` which we do not see here.\n\n{\"severity\":\"INFO\",\"time\":\"2020-03-10T21:14:46.341Z\",\"correlation_id\":\"7dd185e39827e70e3efb4461dcd7662a\",\"class\":\"Geo::RepositorySyncService\",\"host\":\"127.0.0.1\",\"message\":\"Temporary repository found, cleaning up...\",\"job_id\":\"c1930579cb5fb95a9ca492fc\",\"project_id\":94,\"project_path\":\"gitlab-qa-sandbox-group/qa-test-2020-02-06-15-31-27-35a7b9f7c4c4483f/geo-after-rename-14df8209e611ddfa\",\"storage_version\":2}\n{\"severity\":\"INFO\",\"time\":\"2020-03-10T21:14:46.666Z\",\"correlation_id\":\"7dd185e39827e70e3efb4461dcd7662a\",\"class\":\"Geo::RepositorySyncService\",\"host\":\"127.0.0.1\",\"message\":\"Marking repository sync as successful\",\"job_id\":\"c1930579cb5fb95a9ca492fc\",\"project_id\":94,\"project_path\":\"gitlab-qa-sandbox-group/qa-test-2020-02-06-15-31-27-35a7b9f7c4c4483f/geo-after-rename-14df8209e611ddfa\",\"storage_version\":2}\n{\"severity\":\"INFO\",\"time\":\"2020-03-10T21:14:46.674Z\",\"correlation_id\":\"7dd185e39827e70e3efb4461dcd7662a\",\"class\":\"Geo::RepositorySyncService\",\"host\":\"127.0.0.1\",\"message\":\"Finished repository sync\",\"job_id\":\"c1930579cb5fb95a9ca492fc\",\"project_id\":94,\"project_path\":\"gitlab-qa-sandbox-group/qa-test-2020-02-06-15-31-27-35a7b9f7c4c4483f/geo-after-rename-14df8209e611ddfa\",\"storage_version\":2,\"update_delay_s\":185.118,\"download_time_s\":0.561}\n{\"severity\":\"INFO\",\"time\":\"2020-03-10T21:14:46.674Z\",\"correlation_id\":\"7dd185e39827e70e3efb4461dcd7662a\",\"class\":\"Geo::RepositorySyncService\",\"host\":\"127.0.0.1\",\"message\":\"Expiring caches\",\"job_id\":\"c1930579cb5fb95a9ca492fc\",\"project_id\":94,\"project_path\":\"gitlab-qa-sandbox-group/qa-test-2020-02-06-15-31-27-35a7b9f7c4c4483f/geo-after-rename-14df8209e611ddfa\",\"storage_version\":2}\n{\"severity\":\"INFO\",\"time\":\"2020-03-10T21:14:46.732Z\",\"correlation_id\":\"7dd185e39827e70e3efb4461dcd7662a\",\"class\":\"Geo::RepositorySyncService\",\"host\":\"127.0.0.1\",\"message\":\"Finished repository sync\",\"job_id\":\"c1930579cb5fb95a9ca492fc\",\"project_id\":94,\"project_path\":\"gitlab-qa-sandbox-group/qa-test-2020-02-06-15-31-27-35a7b9f7c4c4483f/geo-after-rename-14df8209e611ddfa\",\"storage_version\":2}\n```\n\nAnd the repo is still out-of-date.\n\nBut since there was no error, it sets `force_to_redownload_repository` to `false`. The next sync then uses the normal `git fetch` flow and which successfully updates the repo.\n\n```\n{\"severity\":\"INFO\",\"time\":\"2020-03-10T21:15:13.778Z\",\"correlation_id\":\"5fab1a22244dd003eb08c6398480398d\",\"class\":\"Geo::RepositorySyncService\",\"host\":\"127.0.0.1\",\"message\":\"Started repository sync\",\"job_id\":\"56434c623ad59559282a13ed\",\"project_id\":94,\"project_path\":\"gitlab-qa-sandbox-group/qa-test-2020-02-06-15-31-27-35a7b9f7c4c4483f/geo-after-rename-14df8209e611ddfa\",\"storage_version\":2}\n{\"severity\":\"INFO\",\"time\":\"2020-03-10T21:15:13.778Z\",\"correlation_id\":\"5fab1a22244dd003eb08c6398480398d\",\"class\":\"Geo::RepositorySyncService\",\"host\":\"127.0.0.1\",\"message\":\"Marking repository sync as started\",\"job_id\":\"56434c623ad59559282a13ed\",\"project_id\":94,\"project_path\":\"gitlab-qa-sandbox-group/qa-test-2020-02-06-15-31-27-35a7b9f7c4c4483f/geo-after-rename-14df8209e611ddfa\",\"storage_version\":2}\n{\"severity\":\"INFO\",\"time\":\"2020-03-10T21:15:13.785Z\",\"correlation_id\":\"5fab1a22244dd003eb08c6398480398d\",\"class\":\"Geo::RepositorySyncService\",\"host\":\"127.0.0.1\",\"message\":\"Trying to fetch repository\",\"job_id\":\"56434c623ad59559282a13ed\",\"project_id\":94,\"project_path\":\"gitlab-qa-sandbox-group/qa-test-2020-02-06-15-31-27-35a7b9f7c4c4483f/geo-after-rename-14df8209e611ddfa\",\"storage_version\":2}\n{\"severity\":\"INFO\",\"time\":\"2020-03-10T21:15:14.703Z\",\"correlation_id\":\"5fab1a22244dd003eb08c6398480398d\",\"class\":\"Geo::RepositorySyncService\",\"host\":\"127.0.0.1\",\"message\":\"Marking repository sync as successful\",\"job_id\":\"56434c623ad59559282a13ed\",\"project_id\":94,\"project_path\":\"gitlab-qa-sandbox-group/qa-test-2020-02-06-15-31-27-35a7b9f7c4c4483f/geo-after-rename-14df8209e611ddfa\",\"storage_version\":2}\n{\"severity\":\"INFO\",\"time\":\"2020-03-10T21:15:14.709Z\",\"correlation_id\":\"5fab1a22244dd003eb08c6398480398d\",\"class\":\"Geo::RepositorySyncService\",\"host\":\"127.0.0.1\",\"message\":\"Finished repository sync\",\"job_id\":\"56434c623ad59559282a13ed\",\"project_id\":94,\"project_path\":\"gitlab-qa-sandbox-group/qa-test-2020-02-06-15-31-27-35a7b9f7c4c4483f/geo-after-rename-14df8209e611ddfa\",\"storage_version\":2,\"update_delay_s\":213.154,\"download_time_s\":0.924}\n{\"severity\":\"INFO\",\"time\":\"2020-03-10T21:15:14.710Z\",\"correlation_id\":\"5fab1a22244dd003eb08c6398480398d\",\"class\":\"Geo::RepositorySyncService\",\"host\":\"127.0.0.1\",\"message\":\"Expiring caches\",\"job_id\":\"56434c623ad59559282a13ed\",\"project_id\":94,\"project_path\":\"gitlab-qa-sandbox-group/qa-test-2020-02-06-15-31-27-35a7b9f7c4c4483f/geo-after-rename-14df8209e611ddfa\",\"storage_version\":2}\n{\"severity\":\"INFO\",\"time\":\"2020-03-10T21:15:14.873Z\",\"correlation_id\":\"5fab1a22244dd003eb08c6398480398d\",\"class\":\"Geo::RepositorySyncService\",\"host\":\"127.0.0.1\",\"message\":\"Finished repository sync\",\"job_id\":\"56434c623ad59559282a13ed\",\"project_id\":94,\"project_path\":\"gitlab-qa-sandbox-group/qa-test-2020-02-06-15-31-27-35a7b9f7c4c4483f/geo-after-rename-14df8209e611ddfa\",\"storage_version\":2}\n```\n\nIn this case, we eventually end up with an up-to-date repo and a working sync.\n\nAlso note, `fetch_snapshot` rescues `StandardError` and we fallback to typical `git fetch` if an error occurs in `fetch_snapshot`. I believe this causes more cases to end up with a working sync. For example, if you remove the repository directory from the secondary, or if you mangle the repo in the secondary, Gitaly errors during the snapshot RPC, and we end up doing a fallback `git fetch`.\n\nTherefore, this usually isn't a persistent problem.\n\nHowever, @cat had a customer who encountered repos that somehow could not leave the `redownload` sync flow. In that case, when `force_to_redownload_repository` was manually set to `false`, the repos could successfully sync again.\n\n### What is the current *bug* behavior?\n\n- Snapshot flow never truly succeeds.\n- Furthermore, since redownload is the intended flow when retry_count is 5+, it is possible for repos to get stuck in the redownload flow and never sync.\n\n### What is the expected *correct* behavior?\n\n- Snapshot flow should succeed.\n\n### Relevant logs and/or screenshots\n\n(Paste any relevant logs - please use code blocks (```) to format console output,\nlogs, and code as it's tough to read otherwise.)\n\n#### Results of GitLab environment info\n\nTested locally on master branch. At least one customer was affected as well.\n\n### Possible fixes\n\n[The original implementation called `set_temp_repository_as_main` after `fetch_snapshot`](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/5313/diffs#bcdba7848964aa70d648b745f0c1623c7b3d8605_63_63), so the bug was introduced later.\n\nI tried changing \n\n```ruby\nreturn if fetch_snapshot\n```\n\nto \n\n```ruby\nif fetch_snapshot\n  set_temp_repository_as_main\n\n  return\nend\n```\n\nAnd `set_temp_repository_as_main` successfully completed, but there is some other problem.\n\nGitaly errored with ``13:exit status 128`` and was rescued in `rescue Gitlab::Shell::Error, Gitlab::Git::BaseError =\u003e e` https://gitlab.com/gitlab-org/gitlab/-/blob/v12.8.5-ee/ee/app/services/geo/repository_sync_service.rb#L14.\n\nI added additional logging to `set_temp_repository_as_main`:\n\n```\n{\"severity\":\"INFO\",\"time\":\"2020-03-10T21:03:54.226Z\",\"correlation_id\":\"7fc7a94f4e400f48e8f9cadb7359d72c\",\"class\":\"Geo::RepositorySyncService\",\"host\":\"127.0.0.1\",\"message\":\"Started repository sync\",\"job_id\":\"57d1b98cf67d3c731e942386\",\"project_id\":94,\"project_path\":\"gitlab-qa-sandbox-group/qa-test-2020-02-06-15-31-27-35a7b9f7c4c4483f/geo-after-rename-14df8209e611ddfa\",\"storage_version\":2}\n{\"severity\":\"INFO\",\"time\":\"2020-03-10T21:03:54.226Z\",\"correlation_id\":\"7fc7a94f4e400f48e8f9cadb7359d72c\",\"class\":\"Geo::RepositorySyncService\",\"host\":\"127.0.0.1\",\"message\":\"Marking repository sync as started\",\"job_id\":\"57d1b98cf67d3c731e942386\",\"project_id\":94,\"project_path\":\"gitlab-qa-sandbox-group/qa-test-2020-02-06-15-31-27-35a7b9f7c4c4483f/geo-after-rename-14df8209e611ddfa\",\"storage_version\":2}\n{\"severity\":\"INFO\",\"time\":\"2020-03-10T21:03:54.233Z\",\"correlation_id\":\"7fc7a94f4e400f48e8f9cadb7359d72c\",\"class\":\"Geo::RepositorySyncService\",\"host\":\"127.0.0.1\",\"message\":\"Trying to fetch repository\",\"job_id\":\"57d1b98cf67d3c731e942386\",\"project_id\":94,\"project_path\":\"gitlab-qa-sandbox-group/qa-test-2020-02-06-15-31-27-35a7b9f7c4c4483f/geo-after-rename-14df8209e611ddfa\",\"storage_version\":2}\n{\"severity\":\"INFO\",\"time\":\"2020-03-10T21:03:54.237Z\",\"correlation_id\":\"7fc7a94f4e400f48e8f9cadb7359d72c\",\"class\":\"Geo::RepositorySyncService\",\"host\":\"127.0.0.1\",\"message\":\"Redownloading repository\",\"job_id\":\"57d1b98cf67d3c731e942386\",\"project_id\":94,\"project_path\":\"gitlab-qa-sandbox-group/qa-test-2020-02-06-15-31-27-35a7b9f7c4c4483f/geo-after-rename-14df8209e611ddfa\",\"storage_version\":2}\n{\"severity\":\"INFO\",\"time\":\"2020-03-10T21:03:54.237Z\",\"correlation_id\":\"7fc7a94f4e400f48e8f9cadb7359d72c\",\"class\":\"Geo::RepositorySyncService\",\"host\":\"127.0.0.1\",\"message\":\"Attempting to fetch repository via snapshot\",\"job_id\":\"57d1b98cf67d3c731e942386\",\"project_id\":94,\"project_path\":\"gitlab-qa-sandbox-group/qa-test-2020-02-06-15-31-27-35a7b9f7c4c4483f/geo-after-rename-14df8209e611ddfa\",\"storage_version\":2}\n{\"severity\":\"INFO\",\"time\":\"2020-03-10T21:03:54.426Z\",\"correlation_id\":\"7fc7a94f4e400f48e8f9cadb7359d72c\",\"class\":\"Geo::RepositorySyncService\",\"host\":\"127.0.0.1\",\"message\":\"Setting newly downloaded repository as main\",\"job_id\":\"57d1b98cf67d3c731e942386\",\"project_id\":94,\"project_path\":\"gitlab-qa-sandbox-group/qa-test-2020-02-06-15-31-27-35a7b9f7c4c4483f/geo-after-rename-14df8209e611ddfa\",\"storage_version\":2,\"storage_shard\":\"default\",\"temp_path\":\"@geo-temporary/@hashed/e3/d6/e3d6c4d4599e00882384ca981ee287ed961fa5f3828e2adb5e9ea890ab0d0525\",\"deleted_disk_path_temp\":\"@failed-geo-sync/@hashed/e3/d6/e3d6c4d4599e00882384ca981ee287ed961fa5f3828e2adb5e9ea890ab0d0525\",\"disk_path\":\"@hashed/e3/d6/e3d6c4d4599e00882384ca981ee287ed961fa5f3828e2adb5e9ea890ab0d0525\"}\n{\"severity\":\"INFO\",\"time\":\"2020-03-10T21:03:54.433Z\",\"correlation_id\":\"7fc7a94f4e400f48e8f9cadb7359d72c\",\"class\":\"Geo::RepositorySyncService\",\"host\":\"127.0.0.1\",\"message\":\"Original repository exists, moving it out of the way...\",\"job_id\":\"57d1b98cf67d3c731e942386\",\"project_id\":94,\"project_path\":\"gitlab-qa-sandbox-group/qa-test-2020-02-06-15-31-27-35a7b9f7c4c4483f/geo-after-rename-14df8209e611ddfa\",\"storage_version\":2}\n{\"severity\":\"INFO\",\"time\":\"2020-03-10T21:03:54.436Z\",\"correlation_id\":\"7fc7a94f4e400f48e8f9cadb7359d72c\",\"class\":\"Geo::RepositorySyncService\",\"host\":\"127.0.0.1\",\"message\":\"Moving temporary repository to the canonical path...\",\"job_id\":\"57d1b98cf67d3c731e942386\",\"project_id\":94,\"project_path\":\"gitlab-qa-sandbox-group/qa-test-2020-02-06-15-31-27-35a7b9f7c4c4483f/geo-after-rename-14df8209e611ddfa\",\"storage_version\":2}\n{\"severity\":\"INFO\",\"time\":\"2020-03-10T21:03:54.437Z\",\"correlation_id\":\"7fc7a94f4e400f48e8f9cadb7359d72c\",\"class\":\"Geo::RepositorySyncService\",\"host\":\"127.0.0.1\",\"message\":\"Purging original repository...\",\"job_id\":\"57d1b98cf67d3c731e942386\",\"project_id\":94,\"project_path\":\"gitlab-qa-sandbox-group/qa-test-2020-02-06-15-31-27-35a7b9f7c4c4483f/geo-after-rename-14df8209e611ddfa\",\"storage_version\":2}\n{\"severity\":\"INFO\",\"time\":\"2020-03-10T21:03:54.442Z\",\"correlation_id\":\"7fc7a94f4e400f48e8f9cadb7359d72c\",\"class\":\"Geo::RepositorySyncService\",\"host\":\"127.0.0.1\",\"message\":\"Successfully set_temp_repository_as_main\",\"job_id\":\"57d1b98cf67d3c731e942386\",\"project_id\":94,\"project_path\":\"gitlab-qa-sandbox-group/qa-test-2020-02-06-15-31-27-35a7b9f7c4c4483f/geo-after-rename-14df8209e611ddfa\",\"storage_version\":2}\n{\"severity\":\"ERROR\",\"time\":\"2020-03-10T21:03:54.479Z\",\"correlation_id\":\"7fc7a94f4e400f48e8f9cadb7359d72c\",\"class\":\"Geo::RepositorySyncService\",\"host\":\"127.0.0.1\",\"message\":\"Error syncing repository\",\"job_id\":\"57d1b98cf67d3c731e942386\",\"project_id\":94,\"project_path\":\"gitlab-qa-sandbox-group/qa-test-2020-02-06-15-31-27-35a7b9f7c4c4483f/geo-after-rename-14df8209e611ddfa\",\"storage_version\":2,\"error\":\"13:exit status 128\"}\n{\"severity\":\"INFO\",\"time\":\"2020-03-10T21:03:54.495Z\",\"correlation_id\":\"7fc7a94f4e400f48e8f9cadb7359d72c\",\"class\":\"Geo::RepositorySyncService\",\"host\":\"127.0.0.1\",\"message\":\"Expiring caches\",\"job_id\":\"57d1b98cf67d3c731e942386\",\"project_id\":94,\"project_path\":\"gitlab-qa-sandbox-group/qa-test-2020-02-06-15-31-27-35a7b9f7c4c4483f/geo-after-rename-14df8209e611ddfa\",\"storage_version\":2}\n{\"severity\":\"INFO\",\"time\":\"2020-03-10T21:03:54.669Z\",\"correlation_id\":\"7fc7a94f4e400f48e8f9cadb7359d72c\",\"class\":\"Geo::RepositorySyncService\",\"host\":\"127.0.0.1\",\"message\":\"Finished repository sync\",\"job_id\":\"57d1b98cf67d3c731e942386\",\"project_id\":94,\"project_path\":\"gitlab-qa-sandbox-group/qa-test-2020-02-06-15-31-27-35a7b9f7c4c4483f/geo-after-rename-14df8209e611ddfa\",\"storage_version\":2}\n```\n\n### Alternate fix\n\n**Update:** I initially thought perhaps we could remove the whole \"redownload\" flow, but some repos are probably getting synced by `git fetch` into a bare repo inside the \"redownload\" flow, so we can only safely remove snapshot. Here's a WIP: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/31935\n\nSo I prefer to attempt to fix snapshot flow first, and only remove it as a last resort.\n\nIf it's true that the snapshot flow never succeeds, then it seems to be proven unnecessary. We could remove ~~a decent amount of~~ some complexity.\n\nHere are the original issues:\n\n- https://gitlab.com/gitlab-org/gitlab-foss/-/issues/39345\n- https://gitlab.com/gitlab-org/gitlab/-/issues/4767\n\nHere is the initial MR:\n\n- https://gitlab.com/gitlab-org/gitlab/-/merge_requests/5313\n\n### Severity\n\nFor customers that have repos stuck in the redownload flow, it seems like ~S2, workaround too complex: Assuming you successfully diagnose the problem, you can set `retry_count` to `1` and `force_to_redownload_repository` to `false` in console to get it to use the `git fetch` flow.\n\n~~Fortunately, this bug doesn't seem to impact most customers.~~ More customers are seeing this, see the comments.","state":"closed","created_at":"2020-03-10T21:36:56.810Z","updated_at":"2022-03-21T12:50:44.542Z","closed_at":"2020-08-06T18:02:58.219Z","closed_by":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"labels":["Category:Geo Replication","customer","devops::systems","group::geo","missed:13.2","priority::3","severity::2","type::bug","workflow::in review"],"milestone":{"id":1233752,"iid":50,"group_id":9970,"title":"13.3","description":"https://about.gitlab.com/releases/2020/08/22/gitlab-13-3-released/","state":"closed","created_at":"2020-04-09T17:39:21.090Z","updated_at":"2022-04-13T14:50:18.976Z","due_date":"2020-08-17","start_date":"2020-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/50"},"assignees":[{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"}],"author":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"type":"ISSUE","assignee":{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"},"user_notes_count":20,"merge_requests_count":1,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/209988","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/209988","notes":"https://gitlab.com/api/v4/projects/278964/issues/209988/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/209988/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#209988","relative":"#209988","full":"gitlab-org/gitlab#209988"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31846403,"iid":209967,"project_id":278964,"title":"Disambiguate 'when local file is used' contexts in uploaders/object_storage_spec.rb","description":"This issue came out of a discussion https://gitlab.com/gitlab-org/security/gitlab/-/merge_requests/314/diffs#note_302123646.\n\n`uploaders/object_storage_spec.rb` has two `context` blocks on the same tree level that are both labelled `'when local file is used'`:\n\n1. https://gitlab.com/gitlab-org/gitlab/-/blob/44002f46888a5944c710a04a016f6fa3ef45e466/spec/uploaders/object_storage_spec.rb#L599\n1. https://gitlab.com/gitlab-org/gitlab/-/blob/44002f46888a5944c710a04a016f6fa3ef45e466/spec/uploaders/object_storage_spec.rb#L615\n\nThis issue is to decide if:\n\n- one, or both, should be renamed to disambiguate them. Or:\n- they can be merged","state":"closed","created_at":"2020-03-10T20:01:00.882Z","updated_at":"2020-04-16T01:58:09.914Z","closed_at":"2020-04-16T01:58:09.190Z","closed_by":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"labels":["backend","backstage [DEPRECATED]","devops::create","maintenance::refactor"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"}],"author":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"type":"ISSUE","assignee":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/209967","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/209967","notes":"https://gitlab.com/api/v4/projects/278964/issues/209967/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/209967/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#209967","relative":"#209967","full":"gitlab-org/gitlab#209967"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31837028,"iid":209916,"project_id":278964,"title":"Use the Container Registry API to fetch image details based on image_id","description":"### Problem to solve\n\nCurrently, the Container Registry API is able to:\n\n- List container repository for a project: https://docs.gitlab.com/ee/api/container_registry.html#within-a-project\n- List container repository for a group: https://docs.gitlab.com/ee/api/container_registry.html#within-a-group\n\nBut we need a way to fetch the container repository details based on `id`, both for `project` and `groups`\n\n\n### Proposal \nFetch the container repository details (with the tag list included) with the following URL: \n* `/registry/repositories/:repository_id` (any level)\n\n\n### Further details\n\n#### Implementation\n@10io says: \n\n\u003e By providing the `:repository_id` (the container repository id), we can find the linked GitLab `project` object (the container repository model is [linked](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/models/container_repository.rb#L6) to `project`). With it, we can run all the permission checks against `current_user`. The only caution to have here is to not reply `404 Not found` when the container repo or the project is not found but something like `403 Forbidden`. \n\n\u003e This new API endpoint should return the same payload as: `Entities::ContainerRegistry::Repository, tags: true` and in addition have the bulk delete path ( the one returned by this: https://gitlab.com/gitlab-org/gitlab/blob/22c19861a6b2137e5b57ab04798b81c721349cf0/app/controllers/projects/registry/repositories_controller.rb#L34-35 )\n\u003e \n\u003e Most probably we want to hide that path for non-ui requests ( if is possible )\n\n#### POC\nIn the POC, we made: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/26503 \n\nThe API is provisorily implemented with:\n\n```ruby\n      desc 'Get repository details' do\n        detail 'This feature was introduced in GitLab 12.9.'\n        success Entities::ContainerRegistry::Repository\n      end\n      params do\n        requires :repository_id, type: Integer, desc: 'The ID of the repository'\n      end\n      get ':id/registry/repositories/:repository_id' do\n        present repository, with: Entities::ContainerRegistry::Repository, tags: true\n      end\n```\n\nin `lib/api/project_container_repositories.rb` \n\n#### Why it's important\n\nBy expanding the API to allow listing images by ID, we will be able to implement: \n- https://gitlab.com/gitlab-org/gitlab/-/issues/208469\n- https://gitlab.com/gitlab-org/gitlab/-/issues/216795\n- https://gitlab.com/gitlab-org/gitlab/-/issues/216761\n\n# Testing and Availability\n\nNeed to refactor:\n - spec/requests/api/group_container_repositories_spec.rb\n - spec/requests/api/project_container_repositories_spec.rb\n\nThis change can also impact the test design for the [API tests at the feature/end-to-end level for the Container Registry](https://gitlab.com/gitlab-org/quality/testcases/-/issues/1051)","state":"closed","created_at":"2020-03-10T15:31:44.305Z","updated_at":"2020-11-18T07:11:15.711Z","closed_at":"2020-11-02T14:51:07.610Z","closed_by":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"labels":["Category:Container Registry","Deliverable","Package:P1","api","backend","devops::package","group::package registry","package:active","quad-planning::complete-action","ruby","section::ops","workflow::production"],"milestone":{"id":1233755,"iid":53,"group_id":9970,"title":"13.6","description":"https://about.gitlab.com/releases/2020/11/22/gitlab-13-6-released/","state":"closed","created_at":"2020-04-09T17:39:22.328Z","updated_at":"2022-04-13T14:51:04.376Z","due_date":"2020-11-17","start_date":"2020-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/53"},"assignees":[{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"}],"author":{"id":4584738,"username":"nmezzopera","name":"NicolÃ² Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"},"type":"ISSUE","assignee":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"user_notes_count":30,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/209916","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/209916","notes":"https://gitlab.com/api/v4/projects/278964/issues/209916/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/209916/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#209916","relative":"#209916","full":"gitlab-org/gitlab#209916"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3211,"epic":{"id":50161,"iid":3211,"title":"Update the User Interface (UI) for the Container Registry","url":"/groups/gitlab-org/-/epics/3211","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":31832191,"iid":209896,"project_id":278964,"title":"Creating an issue from a vulnerability creates a blank issue","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nWhen clicking on the create issue button on the vulnerability show page, the issue is created but with none of the information filled out.\n\n### Steps to reproduce\n\n1. Navigate to a project.\n2. From the sidebar, select Security \u0026 Compliance -\u003e Vulnerability List.\n3. Click on any vulnerability in the list.\n4. In the details view, click on the Create Issue button on the upper right.\n5. Verify that the created issue does not have the template filled out.\n\n### Example Project\n\nhttps://gitlab.com/gitlab-examples/security/security-reports\n\nThis project must be cloned locally, then at least one CI/CD pipeline run on it in order to generate vulnerabilities.\n\n### What is the current *bug* behavior?\n\nThe issue is created with empty text.\n\n### What is the expected *correct* behavior?\n\nThe issue is created with the details filled out.\n\n### Relevant logs and/or screenshots\n\n![DeepinScreenshot_select-area_20200308233531](/uploads/3b24a3d6e4cfdcd705e4a94b665c6dcc/DeepinScreenshot_select-area_20200308233531.png)\n\n### Possible fixes\n\nExamine the data that is being sent to the create issue URL and verify with the backend that the required data is being sent and that the backend is handling it properly.","state":"closed","created_at":"2020-03-10T13:36:53.914Z","updated_at":"2020-04-16T21:17:21.277Z","closed_at":"2020-04-16T21:17:21.213Z","closed_by":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"labels":["backend","backend-weight::2","devops::govern","frontend","frontend-weight::3","group::threat insights","vulnerability interaction","workflow::staging"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"}],"author":{"id":4907528,"username":"dftian","name":"Daniel Tian","state":"active","avatar_url":"https://secure.gravatar.com/avatar/5d7186a64c42708833291afd7749c7b5?s=80\u0026d=identicon","web_url":"https://gitlab.com/dftian"},"type":"ISSUE","assignee":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"user_notes_count":24,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/209896","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/209896","notes":"https://gitlab.com/api/v4/projects/278964/issues/209896/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/209896/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#209896","relative":"#209896","full":"gitlab-org/gitlab#209896"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3038,"epic":{"id":38747,"iid":3038,"title":"Standalone Vulnerabilities","url":"/groups/gitlab-org/-/epics/3038","group_id":9970,"human_readable_end_date":"Jul 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31829861,"iid":209888,"project_id":278964,"title":"Version Control for Snippets: Testing changes (MVP)","description":"Before we release the version control for snippets we need to ensure everything is working as it should.\n\nIn order to test the features, we would enable the feature flag by user.\n\nPlan:\n- With the flag **disabled** (These operations should be tested for both personal and project snippet)\n  - Create a new snippet \n    - [ ] Check that the snippet creation doesn't raise any error. \n    - [ ] No repository should be found (`snippet.repository_exists?`)\n    - Try to clone the snippet repository\n      - [ ] The operation should fail\n  - Update an existing snippet (without a repository)\n    - [ ] Check that the snippet update doesn't raise any error. \n    - [ ] No repository should be found\n    - Try to clone the snippet repository\n      - [ ] The operation should fail\n  - Delete existing snippet\n    - [ ] It doesn't raise any error\n- With the flag **enabled** (These operations should be tested for both personal and project snippet)\n  - Create a new snippet\n    - [ ] Check that the snippet creation doesn't raise any error. \n    - [ ] The repository should be found and the repository should contain one blob. (`snippet.blobs`)\n    - [ ] Blob `path` should match the snippet `file_name`\n    - [ ] Blob `data` should match the snippet `content`\n    - Try to clone the snippet repository\n      - [ ] The operation should succeed\n      - [ ] There should be only one file whose name and content should match the snippet `file_name` and `content`\n  - Edit an existing snippet\n    - Update in the rails console the snippet `file_name` and `content`, different from the snippet blob.\n      - [ ] The page `file_name` field should be the blob `path`\n      - [ ] The page `content` field should the blob `data'\n  - Update an existing snippet (without a repository)\n    - [ ] Check that the snippet update doesn't raise any error. \n    - [ ] A repository should have been created\n    - [ ] The repository should be found and the repository should contain one blob.\n    - [ ] Blob `path` should match the snippet `file_name`\n    - [ ] Blob `data` should match the snippet `content`\n    - Try to clone the snippet repository\n      - [ ] The operation should succeed\n      - [ ] There should be only one file whose name and content should match the snippet `file_name` and `content`\n    - Rename and move the file to different paths\n      - [ ] Check that the info is displayed properly and the blob info is updated as well\n  - Delete existing snippet\n    - [ ] It doesn't raise any error\n    - [ ] The repository file in disk has been moved to `+deleted`\n    - [ ] After 5 minutes the repository should have been removed\n  - Clone a snippet with a repository and update the existing file\n    - [ ] It shouldn't raise any error    \n    - Go to the snippet show page\n      - [ ] The blob display should show the new modifications\n  - With a project snippet with repository\n    - [ ] Clone the repository\n    - [ ] Move the project to a different namespace\n    - [ ] Push a file and check that the message shown by git is correct\n  - Other checks:\n    - Try to push several files\n      - [ ] The operation should fail\n    - Try to remove the last existing file in the repository\n      - [ ] The operation should fail\n    - Create several commits creating and deleting files but, in the end, one file should remain in the repository\n      - [ ] The operation should succeed\n   - Export project snippets\n   - Import an exported file with project snippets    \n","state":"closed","created_at":"2020-03-10T12:35:19.732Z","updated_at":"2020-04-18T07:07:45.178Z","closed_at":"2020-04-17T13:20:28.360Z","closed_by":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier LÃ³pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"labels":["Category:Snippets","Deliverable","backend","devops::create","direction","group::editor","type::feature","workflow::verification"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":955795,"username":"fjsanpedro","name":"Francisco Javier LÃ³pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"}],"author":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier LÃ³pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"type":"ISSUE","assignee":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier LÃ³pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"user_notes_count":27,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/209888","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":34,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 34 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/209888","notes":"https://gitlab.com/api/v4/projects/278964/issues/209888/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/209888/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#209888","relative":"#209888","full":"gitlab-org/gitlab#209888"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":239,"epic":{"id":470,"iid":239,"title":"Version control for snippets","url":"/groups/gitlab-org/-/epics/239","group_id":9970,"human_readable_end_date":"Jun 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":31828307,"iid":209881,"project_id":278964,"title":"Default :save_issuable_health_status backend FF to `on`","description":"`:save_issuable_health_status` exposes `healthStatus` for epics in the GraphQL API. We should default this to `on` so that the feature is available on the backend.","state":"closed","created_at":"2020-03-10T11:50:38.113Z","updated_at":"2020-09-21T14:08:58.661Z","closed_at":"2020-04-06T16:27:57.733Z","closed_by":{"id":4418630,"username":"johnhope","name":"John Hope","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4418630/avatar.png","web_url":"https://gitlab.com/johnhope"},"labels":["backend","devops::plan","feature flag","frontend","group::product planning","workflow::verification"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"}],"author":{"id":4418630,"username":"johnhope","name":"John Hope","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4418630/avatar.png","web_url":"https://gitlab.com/johnhope"},"type":"ISSUE","assignee":{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"},"user_notes_count":20,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/209881","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/209881","notes":"https://gitlab.com/api/v4/projects/278964/issues/209881/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/209881/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#209881","relative":"#209881","full":"gitlab-org/gitlab#209881"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31823671,"iid":209868,"project_id":278964,"title":"Bug with files when rendering new snippet form","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nSentry has an error in the new snippet form partial (`views/shared/snippets/_form.html.haml:41`).\n\nFrom a quick inspection it looks like the params are not what the form expects (a string instead of an array)\n\n[Sentry error located here](https://sentry.gitlab.net/gitlab/gitlabcom/issues/1375270/)\n\nThis appears to be caused by users manually manipulating the URL params - the controller actions do not appear to manipulate the `files` param in such a way that it would return a string to the `new` form and thus cause this error.\n\n[Kibana logs](https://log.gprd.gitlab.net/app/kibana#/discover?_g=(refreshInterval:(pause:!t,value:0),time:(from:'2020-03-06T00:00:00.000Z',to:'2020-03-07T00:00:00.000Z'))\u0026_a=(columns:!(_source),index:AW5F1e45qthdGjPJueGO,interval:auto,query:(language:kuery,query:'json.controller%20:%20SnippetsController%20and%20json.params.value%20:%20wrtqvetc'),sort:!(!(json.time,desc)))) confirm this with instances of the string `wrtqvetc` only being present in `GET` requests.\n\n\n\n### What is the current *bug* behavior?\n\nThe error in sentry occurs\n\n### What is the expected *correct* behavior?\n\nThe error does not occur / the new snippet form is rendered\n\n### Possible fixes\n\nhttps://gitlab.com/gitlab-org/gitlab/-/blob/master/app/views/shared/snippets/_form.html.haml#L41 is where the error occurs, and could change to handle non-array file params, maybe something like:\n\nFrom:  `- if params[:files]`\n\nTo:    `- if params[:files]\u0026.is_a?(Array)`","state":"closed","created_at":"2020-03-10T09:41:54.997Z","updated_at":"2022-01-21T15:53:36.828Z","closed_at":"2022-01-21T15:53:36.803Z","closed_by":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"labels":["Category:Snippets","[deprecated] Accepting merge requests","backend","devops::create","good for new contributors","group::editor","priority::4","section::dev","severity::4","type::bug","workflow::scheduling"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"type":"ISSUE","assignee":null,"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/209868","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/209868","notes":"https://gitlab.com/api/v4/projects/278964/issues/209868/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/209868/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#209868","relative":"#209868","full":"gitlab-org/gitlab#209868"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31822724,"iid":209867,"project_id":278964,"title":"Step 3: Version Control for Snippets: Implement access rights checking max snippet size (MVP)","description":"This is a follow-up issue for https://gitlab.com/gitlab-org/gitlab/-/issues/205628.\n\nWe need to ensure as well that the content of the file longer than `Gitlab::CurrentSettings.snippet_size_limit`. There is an example of how the push changes can be retrieved in https://gitlab.com/gitlab-org/gitlab/blob/master/ee/lib/ee/gitlab/git_access.rb#L112.\n\nSince checking individual file size can introduce N+1 query, we will instead check the total size by using `git count-objects`.","state":"closed","created_at":"2020-03-10T09:17:05.661Z","updated_at":"2020-04-27T06:15:44.160Z","closed_at":"2020-04-27T06:15:44.009Z","closed_by":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"labels":["Category:Snippets","Deliverable","backend","devops::create","group::editor","type::feature"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"}],"author":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier LÃ³pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"type":"ISSUE","assignee":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"user_notes_count":17,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/209867","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/209867","notes":"https://gitlab.com/api/v4/projects/278964/issues/209867/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/209867/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#209867","relative":"#209867","full":"gitlab-org/gitlab#209867"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":239,"epic":{"id":470,"iid":239,"title":"Version control for snippets","url":"/groups/gitlab-org/-/epics/239","group_id":9970,"human_readable_end_date":"Jun 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31818522,"iid":209864,"project_id":278964,"title":"Support `variables` for job `rules`","description":"### Release notes\n\nPreviously [rules](https://docs.gitlab.com/ee/ci/yaml/#rules) keyword used to determine if a job should be include or exclude from pipelines, in this release we've enhanced rules capabilities so users could decide if certain conditions are met to override variables in jobs allowing higher flexibility when configuring your pipelines.\n\n\n### Problem to solve\n\nRules define when certain jobs can be run, but they could also provide overrides for configuration. This would be a handy way to set up rules for when certain policies or variables should be set. One example use case would be making cache-policy settable by â€œrulesâ€ to say for example that you only want to update the cache pull-push on master and not on branches. Another could be setting `interruptible` using various rules.\n\n### Intended users\n\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n\n### Further details\n\n\n### Proposal\n\nIn this issue, we only add `variables` to the `rules`. Other configs can be added in further iterations.\n\nAdd `variables` to rules to specify variables. To use the example from the problem to solve section, this would look like:\n\n```yaml\n# This will be implemented in #294232.\nworkflow:\n  rules:\n    - if: $CI_MERGE_REQUEST_TARGET_BRANCH_NAME == \"master\"\n      variables:\n        MY_VAR: \"hello\"\n\nmy_job:\n  ...\n  rules:\n    - if: $MY_OTHER_VAR == \"true\"\n      variables:\n        MY_VAR2: \"hello\" # would only be set for this job\n        MY_VAR: \"hello2\" # overwrite workflow-level override, for this job\n```\n\nAn override will by definition _always_ take precedence over anything set under `variables` in a job or in the pipeline; job-level overrides take precedence over workflow level overrides. We should use the same evaluation policy for rules that conflict as we do for `when`, which is that (only) first matching rule wins.\n\n### Permissions and Security\n\nN/A\n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html\nAdd all known Documentation Requirements here, per https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements\nIf this feature requires changing permissions, this document https://docs.gitlab.com/ee/user/permissions.html must be updated accordingly. --\u003e\n\nNeed to make sure we document that, just like the rest of `rules`, the first matching `rule` wins and only the overrides for that rule will be applied. If other rules also match, they will not be also applied (after the first match).\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\n What risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\n### What does success look like, and how can we measure that?\n\nN/A in terms of metrics. This would however make pipelines easier to configure in complex use cases.\n\n### What is the type of buyer?\n\nIndividual contributor who writes pipelines\n\n### Links / references","state":"closed","created_at":"2020-03-10T06:55:48.774Z","updated_at":"2022-10-27T23:03:38.463Z","closed_at":"2020-12-22T19:07:04.436Z","closed_by":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"labels":["CI rules","Category:Continuous Integration","Category:Pipeline Authoring","backend","customer","devops::verify","direction","group::pipeline authoring","internal customer","release post item::in review","section::ops","type::feature","workflow::production"],"milestone":{"id":1233757,"iid":54,"group_id":9970,"title":"13.7","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:43:14.893Z","updated_at":"2022-04-13T14:51:12.240Z","due_date":"2020-12-17","start_date":"2020-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/54"},"assignees":[{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"}],"author":{"id":2243533,"username":"jyavorska","name":"Jason Yavorska","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2243533/avatar.png","web_url":"https://gitlab.com/jyavorska"},"type":"ISSUE","assignee":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"user_notes_count":29,"merge_requests_count":0,"upvotes":29,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/209864","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/209864","notes":"https://gitlab.com/api/v4/projects/278964/issues/209864/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/209864/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#209864","relative":"#209864","full":"gitlab-org/gitlab#209864"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4400,"epic":{"id":112232,"iid":4400,"title":"Allow `rules` to control more kinds of configuration","url":"/groups/gitlab-org/-/epics/4400","group_id":9970,"human_readable_end_date":"Nov 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"needs_attention"},{"id":31815485,"iid":209853,"project_id":278964,"title":"500 error while viewing merge request","description":"### Summary\n\nI'm encountering a 500 error while attempting to load the following merge request:\n\nhttps://gitlab.com/gitlab-org/security-products/analyzers/klar/-/merge_requests/26\n\n### Steps to reproduce\n\nOpen link to https://gitlab.com/gitlab-org/security-products/analyzers/klar/-/merge_requests/26\n\n### What is the current *bug* behavior?\n\n500 is returned\n\n### What is the expected *correct* behavior?\n\nMerge request should open\n\n### Relevant logs and/or screenshots\n\nSentry Issue: [GITLABCOM-D8F0](https://sentry.gitlab.net/gitlab/gitlabcom/issues/1372190/?referrer=gitlab_integration)\n\n```\nNoMethodError: undefined method `latest_closed_at' for nil:NilClass\n  blocking_merge_request_entity.rb:32:in `block in \u003cclass:BlockingMergeRequestEntity\u003e'\n    blocking_mr.metrics.latest_closed_at\n  active_support/json/encoding.rb:22:in `encode'\n    Encoding.json_encoder.new(options).encode(value)\n  active_support/core_ext/object/json.rb:42:in `to_json'\n    ActiveSupport::JSON.encode(self, options)\n  delegate.rb:83:in `method_missing'\n    target.__send__(m, *args, \u0026block)\n  issuables_helper.rb:88:in `serialize_issuable'\n    .to_json\n...\n(245 additional frame(s) were not displayed)\n\nActionView::Template::Error: undefined method `latest_closed_at' for nil:NilClass\n\nActionView::Template::Error: undefined method `latest_closed_at' for nil:NilClass\n```\n### Output of checks\n\nThis bug happens on GitLab.com","state":"closed","created_at":"2020-03-10T03:38:48.672Z","updated_at":"2020-12-09T23:22:10.180Z","closed_at":"2020-12-09T16:32:44.303Z","closed_by":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"labels":["Category:Code Review Workflow","Category:Source Code Management","customer","devops::create","group::code review","priority::3","section::dev","severity::3","type::bug","workflow::verification"],"milestone":{"id":1233757,"iid":54,"group_id":9970,"title":"13.7","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:43:14.893Z","updated_at":"2022-04-13T14:51:12.240Z","due_date":"2020-12-17","start_date":"2020-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/54"},"assignees":[{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"}],"author":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"type":"ISSUE","assignee":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"user_notes_count":13,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/209853","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/209853","notes":"https://gitlab.com/api/v4/projects/278964/issues/209853/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/209853/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#209853","relative":"#209853","full":"gitlab-org/gitlab#209853"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2819,"epic":{"id":28142,"iid":2819,"title":"GitLab Doctor: Fix data integrity issues causing 500 errors","url":"/groups/gitlab-org/-/epics/2819","group_id":9970,"human_readable_end_date":"Dec 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31815011,"iid":209851,"project_id":278964,"title":"Use the new `id` property instead of `cve` for remediations when parsing common security report format","description":"### Problem to solve\n\nAfter [the addition of the new `id` property](https://gitlab.com/gitlab-org/gitlab/issues/36777) to replace the legacy `cve` one, we need to leverage it when parsing the security reports in the rails backend.\n\n### Intended users\n\n\u003c!-- Who will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops)\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/ --\u003e\n\n### Further details\n\n\u003c!-- Include use cases, benefits, and/or goals (contributes to our vision?) --\u003e\n\n### Proposal\n\n- update [the common security parser](https://gitlab.com/gitlab-org/gitlab/-/blob/8962f4f86f3a213fc02e6c61b7282e86ee44b6af/ee/lib/gitlab/ci/parsers/security/common.rb#L31-42) to use `id` instead of `cve` if available when handling remediations. We should fallback to `cve` if there is no `id`.\n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?--\u003e\n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html\nAdd all known Documentation Requirements here, per https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements\nIf this feature requires changing permissions, this document https://docs.gitlab.com/ee/user/permissions.html must be updated accordingly. --\u003e\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\n What risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\n### What does success look like, and how can we measure that?\n\nreport submitted with an `id` property for vulnerabilities and remediations are correctly parsed by the rails application\n\n### What is the type of buyer?\n\n~\"GitLab Ultimate\" \n\n### Links / references\n\n\n### Implementation plan\n - change common parser to adapt `id` instead of `cve` where possible\n ","state":"closed","created_at":"2020-03-10T03:03:32.716Z","updated_at":"2020-04-10T09:45:39.869Z","closed_at":"2020-04-10T09:45:39.797Z","closed_by":{"id":3696420,"username":"caneldem","name":"Can Eldem","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3696420/avatar.png","web_url":"https://gitlab.com/caneldem"},"labels":["Enterprise Edition","Stretch","backend","devops::secure","group::composition analysis","security reports integration","type::feature","workflow::staging"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":3696420,"username":"caneldem","name":"Can Eldem","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3696420/avatar.png","web_url":"https://gitlab.com/caneldem"}],"author":{"id":52092,"username":"gonzoyumo","name":"Olivier Gonzalez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/651e0ff81c3995a05269f7c80895fe89?s=80\u0026d=identicon","web_url":"https://gitlab.com/gonzoyumo"},"type":"ISSUE","assignee":{"id":3696420,"username":"caneldem","name":"Can Eldem","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3696420/avatar.png","web_url":"https://gitlab.com/caneldem"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/209851","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/209851","notes":"https://gitlab.com/api/v4/projects/278964/issues/209851/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/209851/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#209851","relative":"#209851","full":"gitlab-org/gitlab#209851"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2791,"epic":{"id":27148,"iid":2791,"title":"Deprecate and remove project_fingerprint","url":"/groups/gitlab-org/-/epics/2791","group_id":9970},"iteration":null,"health_status":null},{"id":31814120,"iid":209848,"project_id":278964,"title":"Review Apps Dev Guideline Doc refers/links to FOSS","description":"### Problem to solve\n\nAs seen at https://gitlab.com/gitlab-org/gitlab/-/blob/master/doc/development/testing_guide/review_apps.md#L19, there are some mentions of ce/ee that were changed via find/replace that were probably incorrect. The mermaid diagram probably needs to be fixed, and perhaps 4 link references at the bottom of the page should be updated to something in the `gitlab` repo:\n\n```md\n[gitlab-pipeline]: https://gitlab.com/gitlab-org/gitlab-foss/pipelines/44362587\n[gitlab:assets:compile]: https://gitlab.com/gitlab-org/gitlab-foss/-/jobs/149511610\n[review-build-cng]: https://gitlab.com/gitlab-org/gitlab-foss/-/jobs/149511623\n[review-deploy]: https://gitlab.com/gitlab-org/gitlab-foss/-/jobs/149511624\n```","state":"closed","created_at":"2020-03-10T02:07:00.600Z","updated_at":"2020-03-13T02:06:35.181Z","closed_at":"2020-03-13T02:06:35.122Z","closed_by":{"id":4155490,"username":"marcel.amirault","name":"Marcel Amirault","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4155490/avatar.png","web_url":"https://gitlab.com/marcel.amirault"},"labels":["Engineering Productivity","Technical Writing","development guidelines","docs-only","documentation","ep::review-apps"],"milestone":{"id":1001916,"iid":44,"group_id":9970,"title":"12.9","description":"https://about.gitlab.com/releases/2020/03/22/gitlab-12-9-released","state":"closed","created_at":"2019-09-15T20:54:50.875Z","updated_at":"2020-09-02T11:04:41.671Z","due_date":"2020-03-17","start_date":"2020-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/44"},"assignees":[{"id":128633,"username":"rymai","name":"RÃ©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"}],"author":{"id":4155490,"username":"marcel.amirault","name":"Marcel Amirault","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4155490/avatar.png","web_url":"https://gitlab.com/marcel.amirault"},"type":"ISSUE","assignee":{"id":128633,"username":"rymai","name":"RÃ©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"user_notes_count":2,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/209848","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/209848","notes":"https://gitlab.com/api/v4/projects/278964/issues/209848/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/209848/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#209848","relative":"#209848","full":"gitlab-org/gitlab#209848"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31808521,"iid":209832,"project_id":278964,"title":"Document the configuration and editing process for the Static Site Editor","description":"## Problem to solve\n\nUsers need to understand how to configure their site to take advantage of the Static Site Editor.\n\n## Proposal\n\nProvide documentation in the [template project](#209317) README.md that outlines how to configure the Middleman project and page templates to take advantage of the Static Site Editor.\n\n## Acceptance criteria\n\n- I can access documentation about configuring a Middleman site to use the Static Site Editor","state":"closed","created_at":"2020-03-09T21:14:37.658Z","updated_at":"2020-04-18T07:07:54.634Z","closed_at":"2020-03-26T13:59:59.413Z","closed_by":{"id":4221631,"username":"jeanduplessis-gitlab","name":"Jean du Plessis","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4221631/avatar.png","web_url":"https://gitlab.com/jeanduplessis-gitlab"},"labels":["Category:Static Site Editor","Deliverable","[deprecated] Accepting merge requests","backend","devops::create","group::static site editor [DEPRECATED]"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[],"author":{"id":5212466,"username":"ericschurter","name":"Eric Schurter","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5212466/avatar.png","web_url":"https://gitlab.com/ericschurter"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/209832","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/209832","notes":"https://gitlab.com/api/v4/projects/278964/issues/209832/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/209832/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#209832","relative":"#209832","full":"gitlab-org/gitlab#209832"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2784,"epic":{"id":26795,"iid":2784,"title":"Edit a single Middleman page using a static site editor","url":"/groups/gitlab-org/-/epics/2784","group_id":9970,"human_readable_end_date":"Apr 22, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31808496,"iid":209830,"project_id":278964,"title":"Create a new merge request from the Static Site Editor","description":"## Problem to solve\n\nEdits made in the Static Site Editor need to be committed and merged into the repository and trigger a build.\n\n## Proposal\n\nUpon submitting the changes made in the Static Site Editor, a new merge request should be opened on the user's behalf.  The resulting link to the MR should be displayed to the user and any subsequent edits to the page should be committed directly to the branch to be included in the same MR.\n\n## Acceptance Criteria\n\n- After clicking Submit, I see a link to a new merge request\n- After creating a merge request, any additional edits I make can be submitted as new commits to the same MR\n","state":"closed","created_at":"2020-03-09T21:13:17.656Z","updated_at":"2020-04-18T07:07:54.671Z","closed_at":"2020-03-26T13:56:55.986Z","closed_by":{"id":4221631,"username":"jeanduplessis-gitlab","name":"Jean du Plessis","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4221631/avatar.png","web_url":"https://gitlab.com/jeanduplessis-gitlab"},"labels":["Category:Static Site Editor","Deliverable","[deprecated] Accepting merge requests","backend","devops::create","group::static site editor [DEPRECATED]"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[],"author":{"id":5212466,"username":"ericschurter","name":"Eric Schurter","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5212466/avatar.png","web_url":"https://gitlab.com/ericschurter"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/209830","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/209830","notes":"https://gitlab.com/api/v4/projects/278964/issues/209830/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/209830/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#209830","relative":"#209830","full":"gitlab-org/gitlab#209830"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2784,"epic":{"id":26795,"iid":2784,"title":"Edit a single Middleman page using a static site editor","url":"/groups/gitlab-org/-/epics/2784","group_id":9970,"human_readable_end_date":"Apr 22, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31808477,"iid":209828,"project_id":278964,"title":"Open a Middleman source file in edit mode","description":"## Problem to solve\n\nUsers need a place within GitLab to open a source file in the Static Site Editor. \n\n## Proposal\n\nWe need a way to send the user from the production site into the GitLab product, then open the associated source file in the Static Site Editor. \n\n## Acceptance criteria\n\n- If I am not already authenticated, redirect to the GitLab auth UI\n- If I am authenticated but have insufficient permission to edit the page, I see an error\n- If I have sufficient permission to edit the source file, I am redirected to the Static Site Editor","state":"closed","created_at":"2020-03-09T21:12:06.634Z","updated_at":"2020-04-18T07:07:54.701Z","closed_at":"2020-03-26T13:56:16.928Z","closed_by":{"id":4221631,"username":"jeanduplessis-gitlab","name":"Jean du Plessis","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4221631/avatar.png","web_url":"https://gitlab.com/jeanduplessis-gitlab"},"labels":["Category:Static Site Editor","Deliverable","[deprecated] Accepting merge requests","backend","backend-weight::2","devops::create","direction","frontend","frontend-weight::3","group::static site editor [DEPRECATED]"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[],"author":{"id":5212466,"username":"ericschurter","name":"Eric Schurter","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5212466/avatar.png","web_url":"https://gitlab.com/ericschurter"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/209828","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/209828","notes":"https://gitlab.com/api/v4/projects/278964/issues/209828/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/209828/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#209828","relative":"#209828","full":"gitlab-org/gitlab#209828"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2784,"epic":{"id":26795,"iid":2784,"title":"Edit a single Middleman page using a static site editor","url":"/groups/gitlab-org/-/epics/2784","group_id":9970,"human_readable_end_date":"Apr 22, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31808465,"iid":209827,"project_id":278964,"title":"Display an Edit link on a Middleman page in the production environment","description":"## Problem to solve\n\nUsers need a way to open a production page in the Static Site Editor environment.\n\n## Proposal\n\nAdd a fixed-position edit link/button to any production page configured to use the Static Site Editor.\n\n## Acceptance Criteria\n\n- I see an unobtrusive edit button/link on any page configured to use the Static Site Editor\n- The Edit link opens the source file in the Static Site Editor\n\n","state":"closed","created_at":"2020-03-09T21:11:37.004Z","updated_at":"2020-04-18T07:07:54.736Z","closed_at":"2020-03-26T13:56:01.448Z","closed_by":{"id":4221631,"username":"jeanduplessis-gitlab","name":"Jean du Plessis","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4221631/avatar.png","web_url":"https://gitlab.com/jeanduplessis-gitlab"},"labels":["Category:Static Site Editor","Deliverable","[deprecated] Accepting merge requests","devops::create","direction","frontend","group::static site editor [DEPRECATED]"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[],"author":{"id":5212466,"username":"ericschurter","name":"Eric Schurter","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5212466/avatar.png","web_url":"https://gitlab.com/ericschurter"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/209827","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/209827","notes":"https://gitlab.com/api/v4/projects/278964/issues/209827/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/209827/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#209827","relative":"#209827","full":"gitlab-org/gitlab#209827"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2784,"epic":{"id":26795,"iid":2784,"title":"Edit a single Middleman page using a static site editor","url":"/groups/gitlab-org/-/epics/2784","group_id":9970,"human_readable_end_date":"Apr 22, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31808445,"iid":209825,"project_id":278964,"title":"CRUD for Group Level Integration Settings","description":"Within Group \u003e Settings, user should be able to interact with Group-level integrations:\n- Setup a new integration.\n- Test that an integration is working.\n- Update an existing integration.\n\nNote: Any JS functionality should still work as project-level integrations.","state":"closed","created_at":"2020-03-09T21:10:35.322Z","updated_at":"2022-11-22T20:09:19.972Z","closed_at":"2020-04-03T05:30:32.222Z","closed_by":{"id":4704683,"username":"justin_ho","name":"Justin Ho Tuan Duong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4704683/avatar.png","web_url":"https://gitlab.com/justin_ho"},"labels":["Category:Integrations","devops::manage","frontend","group::ecosystem [DEPRECATED]","type::feature","workflow::production"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":4704683,"username":"justin_ho","name":"Justin Ho Tuan Duong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4704683/avatar.png","web_url":"https://gitlab.com/justin_ho"}],"author":{"id":4554077,"username":"nhxnguyen","name":"Nick Nguyen","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4554077/avatar.png","web_url":"https://gitlab.com/nhxnguyen"},"type":"ISSUE","assignee":{"id":4704683,"username":"justin_ho","name":"Justin Ho Tuan Duong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4704683/avatar.png","web_url":"https://gitlab.com/justin_ho"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/209825","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/209825","notes":"https://gitlab.com/api/v4/projects/278964/issues/209825/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/209825/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#209825","relative":"#209825","full":"gitlab-org/gitlab#209825"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2543,"epic":{"id":18734,"iid":2543,"title":"Integrations: Group-level settings configuration","url":"/groups/gitlab-org/-/epics/2543","group_id":9970,"human_readable_end_date":"Mar 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31808363,"iid":209823,"project_id":278964,"title":"Add Integrations Menu Item and List to Group Settings","description":"- Within Group \u003e Settings, user should be able to see a new section in the navbar for Integrations.\n- The integrations page should show all available integrations that can be setup for the group.\n- Each item in this list should link to a page to create the integration, which will be handled in https://gitlab.com/gitlab-org/gitlab/-/issues/209825\n- All of this should be behind a feature flag `group_level_integrations` with options to allow it per-project and / or per-user.\n- We should reuse as much as code as possible and possibly refactor / extract common functionality where needed. For example, `app/views/projects/services/_integrations.html.haml` (found [here](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/25752/diffs#049129719110c95510c81f69efb250f17de30088_0_1)) can be used for the listing of integrations.\n- There should be a link to the documentation, describing how group-level integrations work.","state":"closed","created_at":"2020-03-09T21:08:55.514Z","updated_at":"2022-11-22T20:09:21.677Z","closed_at":"2020-04-20T06:41:50.243Z","closed_by":{"id":4704683,"username":"justin_ho","name":"Justin Ho Tuan Duong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4704683/avatar.png","web_url":"https://gitlab.com/justin_ho"},"labels":["Category:Integrations","devops::manage","frontend","group::ecosystem [DEPRECATED]","type::feature","workflow::production"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":4704683,"username":"justin_ho","name":"Justin Ho Tuan Duong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4704683/avatar.png","web_url":"https://gitlab.com/justin_ho"}],"author":{"id":4554077,"username":"nhxnguyen","name":"Nick Nguyen","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4554077/avatar.png","web_url":"https://gitlab.com/nhxnguyen"},"type":"ISSUE","assignee":{"id":4704683,"username":"justin_ho","name":"Justin Ho Tuan Duong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4704683/avatar.png","web_url":"https://gitlab.com/justin_ho"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/209823","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/209823","notes":"https://gitlab.com/api/v4/projects/278964/issues/209823/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/209823/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#209823","relative":"#209823","full":"gitlab-org/gitlab#209823"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2543,"epic":{"id":18734,"iid":2543,"title":"Integrations: Group-level settings configuration","url":"/groups/gitlab-org/-/epics/2543","group_id":9970,"human_readable_end_date":"Mar 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31805335,"iid":209813,"project_id":278964,"title":"Geo: Support efficient restore of a secondary","description":"What do we need to do to confidently answer \"Yes, and here's how to do it\" to the following common questions?:\n\n\u003e If I restore a backup of the secondary, will it avoid unnecessary replication?\n\n\u003e If I restore a backup of the primary into a secondary environment, can I configure it as a Geo secondary and will it avoid unnecessary replication?\n\n\u003e If I failover to a secondary, can I use the original primary as a secondary without resyncing everything? Or, if I immediately failback to the original primary, can I avoid resyncing everything on the original secondary?\n\n\u003e If I rsync (perhaps for a more efficient backfill) the repositories to the secondary, will it avoid unnecessary replication?\n\nThere are multiple major components to consider:\n\n- PostgreSQL database\n- Repositories\n- Blobs\n\n### Why?\n\nMany customers have multiple terabytes of data in their Geo primary. Even an extremely fast connection will take a long time to backfill a secondary and will use up a lot of resources. And they already have backups somewhere.\n\nRegarding the rsync question, sometimes this comes up due to a sysadmin's feeling of helplessness when repos are not replicated properly, or verification persistently fails for some repos. I think we have constantly improved on this front and solved corner cases, but in any case, if we solve the backup-restore question, we probably solve this one too.\n\n### Proposal\n\nMVP:\n\n- [x] Confirm there is no security issue with excess repos on disk\n- [x] Open an issue to avoid rereplicating existing Blobs based on checksums =\u003e https://gitlab.com/gitlab-org/gitlab/-/issues/352530\n- [-] Update the failover docs to say it is possible to reuse a primary as a secondary =\u003e We intend to do https://gitlab.com/gitlab-org/gitlab/-/issues/352530 already\n  - Include a caveat: Blob types like uploads and artifacts (add link to replicated data types) may be rereplicated (add link to issue to work on avoiding this inefficiency)\n- [x] Add small section to Geo Troubleshooting doc: Mention you can rsync repos, and Geo will pick them up. =\u003e Copied this checkbox to https://gitlab.com/gitlab-org/gitlab/-/issues/352530\n\nAnd then:\n\n- [-] Open epic to contain the items below\n- [x] Open issue to: Add a how to doc for creating a secondary from a backup of the primary or another secondary =\u003e https://gitlab.com/gitlab-org/gitlab/-/issues/352533\n  - HA first: Attempt it with primary that has a separate DB node\n  - Include a caveat: Your instance may have data where there should be none, which wastes space.\n  - Include a caveat: Blob types like uploads and artifacts (add link to replicated data types) may be rereplicated (add link to issue to work on avoiding this inefficiency)\n  - Weight: 3\n- [x] Open issue to: Add a how to doc for reusing a primary as a secondary after failover =\u003e Added as a TODO in https://gitlab.com/gitlab-org/gitlab/-/issues/352530. It's way easier to test this now with GET!\n  - HA first: Attempt it with a primary that has a separate DB node\n  - Weight: 3\n- [x] Open issue to: Add relevant QA tests, to support this confidently across versions. I don't think it's worth testing the \"efficiency\" aspect, but we could at least test that a restored secondary isn't broken and becomes up-to-date. =\u003e I added `Add tests in shared examples for verified SSF data types` as part of the proposal of https://gitlab.com/gitlab-org/gitlab/-/issues/352530. I think that's sufficient.","state":"closed","created_at":"2020-03-09T19:37:06.564Z","updated_at":"2022-12-19T07:50:20.368Z","closed_at":"2022-02-10T21:36:54.904Z","closed_by":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"labels":["customer","devops::systems","documentation","group::geo","section::enablement","type::maintenance","workflow::problem validation"],"milestone":null,"assignees":[],"author":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"type":"ISSUE","assignee":null,"user_notes_count":26,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/209813","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":6},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"6 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/209813","notes":"https://gitlab.com/api/v4/projects/278964/issues/209813/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/209813/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#209813","relative":"#209813","full":"gitlab-org/gitlab#209813"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6081,"epic":{"id":278515,"iid":6081,"title":"Geo as a backup site","url":"/groups/gitlab-org/-/epics/6081","group_id":9970},"iteration":null,"health_status":null},{"id":31804060,"iid":209808,"project_id":278964,"title":"Add WebIDE Dark Theme Support","description":"### Problem\n\nï»¿In https://gitlab.com/gitlab-org/gitlab/issues/195701 `Dark` syntax highlighting preference for the code editing area was introduced in the Web IDE. However, this doesn't extend to the rest of the Web IDE for a complete dark experience.\n\n### Proposal\n\nAdd support for the dark theme following Version 1 of the designs, which is available here https://www.figma.com/file/1dJYV424qiSDVdmS5BKsNz/Dark-Web-IDE?node-id=93%3A218\n\n![Screenshot_2020-03-16_11.06.41](/uploads/aef2197f1458d39e31939a0757f319e3/Screenshot_2020-03-16_11.06.41.png)\n\n![Screenshot_2020-03-16_11.07.03](/uploads/23ea70e492f7347a812d7b5fa70b933f/Screenshot_2020-03-16_11.07.03.png)\n\n**Acceptance Criteria**\n- [ ] Theme can be enabled\n- [ ] Theme can be disabled\n- [ ] Theme matches the Design\n\n**Technical Implementation Details**\n... TBA","state":"closed","created_at":"2020-03-09T18:40:26.209Z","updated_at":"2021-04-03T08:42:35.903Z","closed_at":"2020-04-27T12:25:31.356Z","closed_by":{"id":2398164,"username":"himkp","name":"Himanshu Kapoor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2398164/avatar.png","web_url":"https://gitlab.com/himkp"},"labels":["Category:Web IDE","Deliverable","devops::create","direction","frontend","group::editor","missed-deliverable","missed:12.10","type::feature"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":2398164,"username":"himkp","name":"Himanshu Kapoor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2398164/avatar.png","web_url":"https://gitlab.com/himkp"}],"author":{"id":5068667,"username":"rkuba","name":"Roman Kuba","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5068667/avatar.png","web_url":"https://gitlab.com/rkuba"},"type":"ISSUE","assignee":{"id":2398164,"username":"himkp","name":"Himanshu Kapoor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2398164/avatar.png","web_url":"https://gitlab.com/himkp"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/209808","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/209808","notes":"https://gitlab.com/api/v4/projects/278964/issues/209808/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/209808/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#209808","relative":"#209808","full":"gitlab-org/gitlab#209808"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2813,"epic":{"id":27982,"iid":2813,"title":"Dark Theme for the (rest of the) Web IDE","url":"/groups/gitlab-org/-/epics/2813","group_id":9970,"human_readable_end_date":"Jun 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31804056,"iid":209807,"project_id":278964,"title":"Add WebIDE Theming Feature Flag","description":"Add a feature flag to allow theming of the wider WebIDE so we can test it very fast and can verify the behaviour in production\n\n**Acceptance Criteria**\n- [ ] Feature Flag {name} added to production\n\n**Technical Implementation Details**\nFollow the general Feature Flag Documentation Approach\n\n## Owners\n\n* Team: Create:Editor\n* Most appropriate slack channel to reach out to: `#g_create_editor`\n* Best individual to reach out to: @himkp\n","state":"closed","created_at":"2020-03-09T18:40:05.075Z","updated_at":"2020-04-18T07:07:45.214Z","closed_at":"2020-04-14T09:39:11.322Z","closed_by":{"id":2398164,"username":"himkp","name":"Himanshu Kapoor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2398164/avatar.png","web_url":"https://gitlab.com/himkp"},"labels":["Category:Web IDE","Deliverable","backstage [DEPRECATED]","devops::create","frontend","group::editor"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":2398164,"username":"himkp","name":"Himanshu Kapoor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2398164/avatar.png","web_url":"https://gitlab.com/himkp"}],"author":{"id":5068667,"username":"rkuba","name":"Roman Kuba","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5068667/avatar.png","web_url":"https://gitlab.com/rkuba"},"type":"ISSUE","assignee":{"id":2398164,"username":"himkp","name":"Himanshu Kapoor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2398164/avatar.png","web_url":"https://gitlab.com/himkp"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/209807","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/209807","notes":"https://gitlab.com/api/v4/projects/278964/issues/209807/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/209807/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#209807","relative":"#209807","full":"gitlab-org/gitlab#209807"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2813,"epic":{"id":27982,"iid":2813,"title":"Dark Theme for the (rest of the) Web IDE","url":"/groups/gitlab-org/-/epics/2813","group_id":9970,"human_readable_end_date":"Jun 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31804023,"iid":209804,"project_id":278964,"title":"Document WebIDE Theming Strategy","description":"It's important to document the strategy to theme the WebIDE, so it can be repeated and the knowledge is shared.\nPart of this will probably be some necessary discovery.\n\n**Acceptance Criteria**\n- [x] Strategy to theme the WebIDE is reproducible for other themes\n- [x] Internal Developer Documentation is written (can be updated later if things change)","state":"closed","created_at":"2020-03-09T18:38:45.647Z","updated_at":"2020-05-18T07:08:00.873Z","closed_at":"2020-05-15T18:38:34.259Z","closed_by":{"id":2233420,"username":"pslaughter","name":"Paul Slaughter","state":"active","avatar_url":"https://secure.gravatar.com/avatar/631b25421eb206ab44cb2793ef09d881?s=80\u0026d=identicon","web_url":"https://gitlab.com/pslaughter"},"labels":["Deliverable","backstage [DEPRECATED]","devops::create","documentation","frontend","group::editor","workflow::ready for development"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":2398164,"username":"himkp","name":"Himanshu Kapoor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2398164/avatar.png","web_url":"https://gitlab.com/himkp"}],"author":{"id":5068667,"username":"rkuba","name":"Roman Kuba","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5068667/avatar.png","web_url":"https://gitlab.com/rkuba"},"type":"ISSUE","assignee":{"id":2398164,"username":"himkp","name":"Himanshu Kapoor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2398164/avatar.png","web_url":"https://gitlab.com/himkp"},"user_notes_count":2,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/209804","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":2},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/209804","notes":"https://gitlab.com/api/v4/projects/278964/issues/209804/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/209804/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#209804","relative":"#209804","full":"gitlab-org/gitlab#209804"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2813,"epic":{"id":27982,"iid":2813,"title":"Dark Theme for the (rest of the) Web IDE","url":"/groups/gitlab-org/-/epics/2813","group_id":9970,"human_readable_end_date":"Jun 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31802930,"iid":209801,"project_id":278964,"title":"Validation that Jira integration is setup","description":"In order to import issues from Jira, the integration must be set up. Currently, we show the button and send a flash message if it is not integrated informing the requirement.\n\n#### Updated Design Solution\nHere's the full flow together: https://gitlab.com/gitlab-org/gitlab/-/issues/209801/designs/Screen_Shot_2020-03-16_at_9.50.24_PM.png\n\n[Screen 1](https://gitlab.com/gitlab-org/gitlab/-/issues/209801/designs/jira-import-1.png), [Screen 2](https://gitlab.com/gitlab-org/gitlab/-/issues/209801/designs/jira-import-2.png):  \n- User navigates to a project, then Issues and selects Import--\u003eImport from Jira  \n\n[Screen 3](https://gitlab.com/gitlab-org/gitlab/-/issues/209801/designs/jira-import-3.png):  \n- If they have Jira Integration setup, they will be taken to the project selection screen where they could choose the Jira project they wanted to pull from.  \n\n[Screen 3.b](https://gitlab.com/gitlab-org/gitlab/-/issues/209801/designs/jira-import-3b.png), [Screen 3.c](https://gitlab.com/gitlab-org/gitlab/-/issues/209801/designs/jira-import-3c.png):  \n- If they do not have Jira Integration setup, they will be taken to the Jira Integration page to enter their instance information.  \n\n[Screen 4](https://gitlab.com/gitlab-org/gitlab/-/issues/209801/designs/jira-import-4b.png):  \n- Once Jira integration has been setup and a Jira project selected, the user will see loading screen while the import process takes place. \n\n\u003cdetails\u003e\nWe should either not show the import button until they set up the integration, or use a more informative (and proper UI pattern) message.\n\n![validation](/uploads/7817bce61137ebeb46555e1118895a63/validation.gif)\n\ncc @gweaver @cngo\n\u003c/details\u003e","state":"closed","created_at":"2020-03-09T17:59:22.064Z","updated_at":"2020-04-22T16:28:52.467Z","closed_at":"2020-04-07T12:16:36.196Z","closed_by":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"labels":["Category:Jira Importer","devops::plan","direction","frontend","group::project management","missed:12.9","type::feature"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":4545397,"username":"cngo","name":"Coung Ngo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4545397/avatar.png","web_url":"https://gitlab.com/cngo"},{"id":4554611,"username":"hollyreynolds","name":"Holly Reynolds","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4554611/avatar.png","web_url":"https://gitlab.com/hollyreynolds"}],"author":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"type":"ISSUE","assignee":{"id":4545397,"username":"cngo","name":"Coung Ngo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4545397/avatar.png","web_url":"https://gitlab.com/cngo"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/209801","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":0,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/209801","notes":"https://gitlab.com/api/v4/projects/278964/issues/209801/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/209801/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#209801","relative":"#209801","full":"gitlab-org/gitlab#209801"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2766,"epic":{"id":26382,"iid":2766,"title":"Import Jira Issues MVC","url":"/groups/gitlab-org/-/epics/2766","group_id":9970,"human_readable_end_date":"May 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31802494,"iid":209797,"project_id":278964,"title":"Group Level Wiki: Update user documentation","description":"\u003c!--\n\n* Use this issue template for suggesting new docs or updates to existing docs.\n  Note: Doc work as part of feature development is covered in the Feature Request template.\n\n* For issues related to features of the docs.gitlab.com site, see\n     https://gitlab.com/gitlab-org/gitlab-docs/issues/\n\n* For information about documentation content and process, see\n     https://docs.gitlab.com/ee/development/documentation/ --\u003e\n\n### Problem to solve\n\n\u003c!-- Include the following detail as necessary:\n* What product or feature(s) affected?\n* What docs or doc section affected? Include links or paths.\n* Is there a problem with a specific document, or a feature/process that's not addressed sufficiently in docs?\n* Any other ideas or requests?\n--\u003e\n\nUpdate the user documentation to explain the new group wiki functionality.\n\n### Further details\n\n\u003c!--\n* Any concepts, procedures, reference info we could add to make it easier to successfully use GitLab?\n* Include use cases, benefits, and/or goals for this work.\n* If adding content: What audience is it intended for? (What roles and scenarios?)\n  For ideas, see personas at https://design.gitlab.com/research/personas or the persona labels at\n  https://gitlab.com/groups/gitlab-org/-/labels?utf8=%E2%9C%93\u0026subscribed=\u0026search=persona%3A\n--\u003e\n\nThe existing docs for project wikis are at https://docs.gitlab.com/ee/user/project/wiki/\n\nGroup wikis work the same as project wikis, except in a group context.\n\nSome functionality won't be available in the initial release and implemented in MVC 2: https://gitlab.com/groups/gitlab-org/-/epics/2782. This should be mentioned in the docs.\n\n### Proposal\n\n\u003c!-- Further specifics for how can we solve the problem. --\u003e\n\nInitial proposal from @marcia at https://gitlab.com/groups/gitlab-org/-/epics/2214#note_301858291:\n\n* Add a new section \"Group Wikis\" into https://docs.gitlab.com/ee/user/group/ introducing the feature and saying how it works on the group-level. Link it to things/how-tos already documented if they are an exact match. We can say smt like `Group Wikis work the same way as to projects. To create, edit, view, and delete Wikis, refer to the [Wiki documentation](link-to-doc).`\n* Add a section \"Group Wikis\" into https://docs.gitlab.com/ee/user/project/wiki/ referencing the new feature and any ins-and-odds particular to the group-level wiki, such as links, permissions, etc. Consider consolidating project and group wiki docs\n\n### Who can address the issue\n\n\u003c!-- What if any special expertise is required to resolve this issue? --\u003e\n\n### Other links/references\n\n\u003c!-- E.g. related GitLab issues/MRs --\u003e","state":"closed","created_at":"2020-03-09T17:46:15.753Z","updated_at":"2020-12-10T18:55:04.621Z","closed_at":"2020-10-16T14:52:28.895Z","closed_by":{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},"labels":["Category:Wiki","Deliverable","Enterprise Edition","GitLab Starter","backend","backend-weight::2","devops::create","documentation","frontend","frontend-weight::2","group::editor","missed-deliverable","missed:13.4","quad-planning::complete-no-action","section::dev"],"milestone":{"id":1233754,"iid":52,"group_id":9970,"title":"13.5","description":"https://about.gitlab.com/releases/2020/10/22/gitlab-13-5-released/","state":"closed","created_at":"2020-04-09T17:39:21.990Z","updated_at":"2022-04-21T07:21:12.213Z","due_date":"2020-10-17","start_date":"2020-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/52"},"assignees":[{"id":2950912,"username":"ntepluhina","name":"Natalia Tepluhina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2950912/avatar.png","web_url":"https://gitlab.com/ntepluhina"},{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"}],"author":{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},"type":"ISSUE","assignee":{"id":2950912,"username":"ntepluhina","name":"Natalia Tepluhina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2950912/avatar.png","web_url":"https://gitlab.com/ntepluhina"},"user_notes_count":7,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/209797","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/209797","notes":"https://gitlab.com/api/v4/projects/278964/issues/209797/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/209797/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#209797","relative":"#209797","full":"gitlab-org/gitlab#209797"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2214,"epic":{"id":15108,"iid":2214,"title":"[MVC 1] Group-level wiki - Support one wiki at group level","url":"/groups/gitlab-org/-/epics/2214","group_id":9970,"human_readable_end_date":"Nov 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31802173,"iid":209792,"project_id":278964,"title":"Append Imported issue metadata","description":"Either as part of the description or as a comment append the following metadata for the original issue\n\nOriginal Jira issue meta-data:\n\u003cpre\u003e\nParent: jira.fields.parent.key\nIssue Type: jira.fields.issuetype\ncomponents: jira.components.id  # if we can pull component name, great\ncustom_field_2000_name: jira.custom_field_id.value # will require getting custom field name based on ID. If the custom field has content, concat the content.types separated by a line break or something\nReporter: jira.fields.reporter\nFix Versions: reduce ids to single, comma separated list\nPriority: jira.fields.priority.id # Print priority name based on lookup from id\nlabels: print single, comma separated list\nSecurity: jira.fields.security.id # Lookup name from ID\nEnvironment: Reduce contents to single, comma separated list\nVersions: Reduce contents to single comma separated list and replace IDs with actual names\nduedate: jira.fields.duedate\nassignee: jira.fields.assignee\n\u003c/pre\u003e","state":"closed","created_at":"2020-03-09T17:35:26.307Z","updated_at":"2020-04-20T09:52:14.850Z","closed_at":"2020-04-16T09:55:06.061Z","closed_by":{"id":508743,"username":"jarka","name":"Jarka KoÅ¡anovÃ¡","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"},"labels":["Category:Jira Importer","auto updated","backend","devops::plan","direction","group::project management","planning priority","type::feature","workflow::in review"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":508743,"username":"jarka","name":"Jarka KoÅ¡anovÃ¡","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"}],"author":{"id":3483274,"username":"acroitor","name":"Alexandru Croitor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/461378ef52c26eec55e6c15ec09bb9ed?s=80\u0026d=identicon","web_url":"https://gitlab.com/acroitor"},"type":"ISSUE","assignee":{"id":508743,"username":"jarka","name":"Jarka KoÅ¡anovÃ¡","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"},"user_notes_count":18,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/209792","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/209792","notes":"https://gitlab.com/api/v4/projects/278964/issues/209792/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/209792/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#209792","relative":"#209792","full":"gitlab-org/gitlab#209792"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2766,"epic":{"id":26382,"iid":2766,"title":"Import Jira Issues MVC","url":"/groups/gitlab-org/-/epics/2766","group_id":9970,"human_readable_end_date":"May 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31797028,"iid":209788,"project_id":278964,"title":"[Feature flag] Step 6: Version Control for Snippets: Enable feature flag :version_snippets","description":"## What\n\nRemove the `:version_snippets` feature flag for version control snippets\n\n## Owners\n\n- Team: ~\"group::editor\" \n- Most appropriate slack channel to reach out to: `#g_create_editor`\n- Best individual to reach out to: @fjsanpedro \n\n## Expectations\n\n###Â What are we expecting to happen?\n\n### What might happen if this goes wrong?\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n\n## Beta groups/projects\n\nIf applicable, any groups/projects that are happy to have this feature turned on early. Some organizations may wish to test big changes they are interested in with a small subset of users ahead of time for example.\n\n- @fjsanpedro user\n\n## Roll Out Steps\n\n- [ ] Enable on staging\n- [ ] Test on staging\n- [ ] Ensure that documentation has been updated\n- [ ] Enable on GitLab.com for individual groups/projects listed above and verify behaviour\n- [ ] Coordinate a time to enable the flag with `#production` and `#g_delivery` on slack.\n- [ ] Announce on the issue an estimated time this will be enabled on GitLab.com\n- [ ] Enable on GitLab.com by running chatops command in `#production`\n- [ ] Cross post chatops slack command to `#support_gitlab-com` and in your team channel\n- [ ] Announce on the issue that the flag has been enabled\n- [ ] Remove feature flag and add changelog entry\n- [ ] After the flag removal is deployed, [clean up the feature flag](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) by running chatops command in `#production` channel","state":"closed","created_at":"2020-03-09T16:00:07.490Z","updated_at":"2020-05-18T07:08:00.905Z","closed_at":"2020-04-27T05:48:05.294Z","closed_by":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier LÃ³pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"labels":["Category:Snippets","Deliverable","backend","devops::create","feature flag","group::editor"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":955795,"username":"fjsanpedro","name":"Francisco Javier LÃ³pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"}],"author":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier LÃ³pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"type":"ISSUE","assignee":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier LÃ³pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"user_notes_count":0,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/209788","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":11,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 11 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/209788","notes":"https://gitlab.com/api/v4/projects/278964/issues/209788/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/209788/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#209788","relative":"#209788","full":"gitlab-org/gitlab#209788"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":239,"epic":{"id":470,"iid":239,"title":"Version control for snippets","url":"/groups/gitlab-org/-/epics/239","group_id":9970,"human_readable_end_date":"Jun 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":31796409,"iid":209787,"project_id":278964,"title":"Remove the feature flags to disable free CI/CD for GitHub projects","description":"Items from !26170 that should be addressed:\n- [x] Remove `free_period_for_pull_mirroring` feature flag from the codebase\n- [x] Remove `free_period_for_pull_mirroring` from the database: `/chatops run feature delete free_period_for_pull_mirroring`\n- [x] Remove [`ANY_PLAN_FEATURES`](https://gitlab.com/gitlab-org/gitlab/-/blob/c14c5af35b0a60dab005fc03bea61cccd7832a71/ee/app/models/license.rb#L192) constant.\n- [x] @reprazent started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/26170#note_301683944): \n    \u003e The ci/cd feature here is a bit odd because it depends on 3 licensed features. But I think after we remove this, we could change it to \n    \u003e \n    \u003e ```ruby\n    \u003e Feature.enabled(\"promo_#{feature}\", default_enabled: true)\n    \u003e ```\n    \u003e \n    \u003e Then we have a mechanism in place for this kind of promotion in the future.\n- [x] Remove documentation note from: https://gitlab.com/gitlab-org/gitlab/-/blob/89cc37a44cafb09a444de18aa46e290df3058982/doc/ci/ci_cd_for_external_repos/index.md#L9\n- [x] Remove documentation note from: https://gitlab.com/gitlab-org/gitlab/-/blob/89cc37a44cafb09a444de18aa46e290df3058982/doc/user/project/repository/repository_mirroring.md#L113","state":"closed","created_at":"2020-03-09T15:47:19.171Z","updated_at":"2020-05-20T12:09:58.919Z","closed_at":"2020-05-20T07:15:47.574Z","closed_by":{"id":731181,"username":"mbobin","name":"Marius Bobin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c0a726d6aa37d780309f7b3ea3555a14?s=80\u0026d=identicon","web_url":"https://gitlab.com/mbobin"},"labels":["Category:Continuous Integration","backend","devops::verify","documentation","feature flag","group::pipeline execution","workflow::in dev"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":731181,"username":"mbobin","name":"Marius Bobin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c0a726d6aa37d780309f7b3ea3555a14?s=80\u0026d=identicon","web_url":"https://gitlab.com/mbobin"}],"author":{"id":731181,"username":"mbobin","name":"Marius Bobin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c0a726d6aa37d780309f7b3ea3555a14?s=80\u0026d=identicon","web_url":"https://gitlab.com/mbobin"},"type":"ISSUE","assignee":{"id":731181,"username":"mbobin","name":"Marius Bobin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c0a726d6aa37d780309f7b3ea3555a14?s=80\u0026d=identicon","web_url":"https://gitlab.com/mbobin"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2020-04-27","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/209787","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":6},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"6 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/209787","notes":"https://gitlab.com/api/v4/projects/278964/issues/209787/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/209787/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#209787","relative":"#209787","full":"gitlab-org/gitlab#209787"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31796290,"iid":209786,"project_id":278964,"title":"Improve performance of diffs_batch and diffs_metadata actions for Projects::MergeRequestsController under load into S3 tier","description":"Related #30507\n\nPerformance testing is showing that the `diffs_batch.json` and `diffs_metadata.json` actions for `Projects::MergeRequestsController` are both over our target of 500ms under load respectively. Both are found on the Merge Requests page, specifically the Changes (or Diffs) tab:\n\n```\n â–ˆ Results summary\n * Environment:                10k\n * Environment Version:        12.9.0-pre `545f4a5af48`\n * Option:                     60s_200rps\n * Date:                       2020-03-09\n * Run Time:                   47m 28.13s (Start: 04:28:41 UTC, End: 05:16:09 UTC)\n * GPT Version:                v1.2.2\n\n NAME                                                     | RPS   | RPS RESULT           | TTFB AVG  | TTFB P90             | REQ STATUS     | RESULT\n ---------------------------------------------------------|-------|----------------------|-----------|----------------------|----------------|-------\n web_project_merge_request_changes                        | 20/s  | 12.27/s (\u003e8.00/s)    | 1749.83ms | 2467.22ms (\u003c4000ms)  | 100.00% (\u003e95%) | Passed\n\nDetailed Stats:\n     â–ˆ Web - Merge Request Changes Page\n     data_received........................: 493 MB  8.2 MB/s\n     data_sent............................: 189 kB  3.2 kB/s\n     group_duration.......................: avg=10625.41ms min=9167.87ms med=10515.09ms max=13304.80ms p(90)=11799.86ms p(95)=12374.46ms\n     http_req_blocked.....................: avg=0.22ms     min=0.00ms    med=0.01ms     max=19.70ms    p(90)=0.88ms     p(95)=0.92ms    \n     http_req_connecting..................: avg=0.17ms     min=0.00ms    med=0.00ms     max=9.17ms     p(90)=0.78ms     p(95)=0.82ms    \n     http_req_duration....................: avg=1757.60ms  min=162.03ms  med=1888.76ms  max=4133.90ms  p(90)=2469.87ms  p(95)=2675.53ms \n     http_req_receiving...................: avg=7.72ms     min=0.15ms    med=6.25ms     max=118.23ms   p(90)=13.00ms    p(95)=19.91ms   \n     http_req_sending.....................: avg=0.05ms     min=0.02ms    med=0.04ms     max=0.18ms     p(90)=0.09ms     p(95)=0.11ms    \n     http_req_tls_handshaking.............: avg=0.00ms     min=0.00ms    med=0.00ms     max=0.00ms     p(90)=0.00ms     p(95)=0.00ms    \n     http_req_waiting.....................: avg=1749.83ms  min=161.82ms  med=1880.52ms  max=4126.18ms  p(90)=2467.22ms  p(95)=2656.65ms \n     âœ“ { endpoint:diffs_batch.json }......: avg=1951.29ms  min=1407.50ms med=1882.63ms  max=4126.18ms  p(90)=2439.88ms  p(95)=2628.55ms \n     âœ“ { endpoint:diffs_metadata.json }...: avg=2294.82ms  min=1903.33ms med=2270.24ms  max=3287.80ms  p(90)=2686.29ms  p(95)=2849.89ms \n     âœ“ { endpoint:diffs }.................: avg=330.37ms   min=161.82ms  med=342.22ms   max=1032.38ms  p(90)=470.05ms   p(95)=518.30ms  \n   âœ“ http_reqs............................: 736     12.266651/s\n     âœ“ { endpoint:diffs_batch.json }......: 510     8.499989/s\n     âœ“ { endpoint:diffs_metadata.json }...: 111     1.849998/s\n     âœ“ { endpoint:diffs }.................: 115     1.916664/s\n     iteration_duration...................: avg=10514.76ms min=0.15ms    med=10506.32ms max=13304.87ms p(90)=11798.42ms p(95)=12374.22ms\n     iterations...........................: 95      1.583331/s\n   âœ“ successful_requests..................: 100.00% âœ“ 732  âœ— 0   \n     vus..................................: 1       min=1  max=20\n     vus_max..............................: 20      min=20 max=20\n```\n\nThe results above show that the `diffs_batch.json` action has a P90 of 2439.88ms and `diffs_metadata.json` 2849.89ms. These were tested on our 10k Reference Architecture with a RPS target of 20/s against the page (spread across each controller action). It targeted an MR on our own `gitlabhq` project that has a typically high number of changes - ~678+.\n\nAs per our [new server performance targets](https://about.gitlab.com/handbook/engineering/quality/issue-triage/#severity) these controller actions are above our main target of 500ms and fall under the ~S2 tier. Task is to improve each action's performance into the next tier ~S3 (\u003c2000ms).","state":"closed","created_at":"2020-03-09T15:44:07.761Z","updated_at":"2020-12-07T16:46:59.306Z","closed_at":"2020-07-15T13:07:48.272Z","closed_by":{"id":5918904,"username":"marc_shaw","name":"Marc Shaw","state":"active","avatar_url":"https://secure.gravatar.com/avatar/78c946cb19e40815a2b5d97cefecec6a?s=80\u0026d=identicon","web_url":"https://gitlab.com/marc_shaw"},"labels":["Category:Code Review Workflow","Deliverable","Quality","Quality:performance-issues","backend","bug::performance","devops::create","group::code review","merge requests","missed-deliverable","missed:13.1","performance-refinement","priority::2","severity::2"],"milestone":{"id":1233746,"iid":49,"group_id":9970,"title":"13.2","description":"https://about.gitlab.com/releases/2020/07/22/gitlab-13-2-released/","state":"closed","created_at":"2020-04-09T17:28:01.032Z","updated_at":"2022-04-13T14:48:24.167Z","due_date":"2020-07-17","start_date":"2020-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/49"},"assignees":[{"id":5918904,"username":"marc_shaw","name":"Marc Shaw","state":"active","avatar_url":"https://secure.gravatar.com/avatar/78c946cb19e40815a2b5d97cefecec6a?s=80\u0026d=identicon","web_url":"https://gitlab.com/marc_shaw"}],"author":{"id":3769272,"username":"grantyoung","name":"Grant Young","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3769272/avatar.png","web_url":"https://gitlab.com/grantyoung"},"type":"ISSUE","assignee":{"id":5918904,"username":"marc_shaw","name":"Marc Shaw","state":"active","avatar_url":"https://secure.gravatar.com/avatar/78c946cb19e40815a2b5d97cefecec6a?s=80\u0026d=identicon","web_url":"https://gitlab.com/marc_shaw"},"user_notes_count":33,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/209786","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/209786","notes":"https://gitlab.com/api/v4/projects/278964/issues/209786/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/209786/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#209786","relative":"#209786","full":"gitlab-org/gitlab#209786"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3774,"epic":{"id":75090,"iid":3774,"title":"ðŸ’ª Source Code Management performance improvements","url":"/groups/gitlab-org/-/epics/3774","group_id":9970,"human_readable_end_date":"Jan 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":31794479,"iid":209784,"project_id":278964,"title":"Improve performance of discussions.json action for Projects::MergeRequestsController under load into next tier","description":"Related #30507\n\nPerformance testing is showing that the `Projects::MergeRequestsController#discussions.json` controller and action is over our target of 500ms under load:\n\n```\nâ–ˆ Results summary\n\n* Environment:                10k\n* Environment Version:        13.13.0-pre `48b385ebb2c`\n* Option:                     60s_200rps\n* Date:                       2021-05-26\n* Run Time:                   3m 20.02s (Start: 10:28:38 UTC, End: 10:31:58 UTC)\n* GPT Version:                v2.8.0\n\nNAME                              | RPS  | RPS RESULT        | TTFB AVG  | TTFB P90            | REQ STATUS     | RESULT\n----------------------------------|------|-------------------|-----------|---------------------|----------------|----------------\nweb_project_merge_request         | 20/s | 14.14/s (\u003e6.40/s) | 1496.01ms | 5768.76ms (\u003c7500ms) | 100.00% (\u003e99%) | Passed\n\n     http_req_waiting.................................................................: avg=1496.01ms min=130.24ms  med=258.31ms  max=10430.92ms p(90)=5768.76ms p(95)=6274.04ms\n     âœ“ { controller:Projects::MergeRequests::ContentController#cached_widget.json }...: avg=236.36ms  min=130.24ms  med=159.36ms  max=3918.39ms  p(90)=229.00ms  p(95)=745.00ms\n     âœ“ { controller:Projects::MergeRequests::ContentController#widget.json }..........: avg=235.67ms  min=138.49ms  med=172.64ms  max=3624.41ms  p(90)=275.59ms  p(95)=444.28ms\n     âœ“ { controller:Projects::MergeRequestsController#discussions.json }..............: avg=5935.96ms min=5201.95ms med=5762.25ms max=10430.92ms p(90)=6664.20ms p(95)=7059.64ms\n     âœ“ { controller:Projects::MergeRequestsController#show.json }.....................: avg=341.05ms  min=205.22ms  med=232.61ms  max=4082.58ms  p(90)=318.39ms  p(95)=478.23ms\n     âœ“ { controller:Projects::MergeRequestsController#show }..........................: avg=729.69ms  min=349.91ms  med=422.82ms  max=6461.13ms  p(90)=1284.01ms p(95)=1894.62ms\n```\n\nThe results above show that the `discussions.json` action for the `Projects::MergeRequestsController` controller has a P90 of `6851.40ms`. This was tested on our 10k Reference Architecture with a RPS target of 20/s. [It targeted an MR on our own `gitlabhq` project that has a typically high number of comments](https://staging.gitlab.com/gpt/large_projects/gitlabhq1/-/merge_requests/8785) - 119.\n\nAs per our [new incoming performance targets](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/26033) this endpoint is above our main target of 500ms and falls under the ~S2 tier. Task is to improve the endpoint's performance into the next tier ~S3 (\u003c2000ms).\n\n# Description of Frontend Effort\n\n\u003c!-- The first four sections: \"Problem to solve\", \"Intended users\", \"User experience goal\", and \"Proposal\", are strongly recommended, while the rest of the sections can be filled out during the problem validation or breakdown phase. However, keep in mind that providing complete and relevant information early helps our product team validate the problem and start working on a solution. --\u003e\n\n**Feature flag:** `paginated_notes`\n\n### Problem to solve\n\nIn order to improve the performance of discussions loading, ~backend has shipped https://gitlab.com/gitlab-org/gitlab/-/merge_requests/34628 that implements https://gitlab.com/gitlab-org/gitlab/-/issues/217673\n\n~frontend now needs to be updated to leverage this new way of loading discussions.\n\nPlease bear in mind the initial goal of improving the situation described here: https://gitlab.com/gitlab-org/gitlab/-/issues/209784\n\n\n\n### User experience goal\n\n\u003c!-- What is the single user experience workflow this problem addresses? \nFor example, \"The user should be able to use the UI/API/.gitlab-ci.yml with GitLab to \u003cperform a specific task\u003e\"\nhttps://about.gitlab.com/handbook/engineering/ux/ux-research-training/user-story-mapping/ --\u003e \n\nFaster load times.\n\nNot affecting experience when it comes to native Find in page, etc. (ie, no Load more buttons).\n\nBear in mind the variations regarding the order of rendering, etc.\n\nBeware also that this will cross over to the Issues.\n\n### Further details\n\n\u003c!-- Include use cases, benefits, goals, or any other details that will help us understand the problem better. --\u003e\n\nSee: \n\n\u003e OK, the ~backend portion of this is completed now, gated behind the `:paginated_notes` feature flag. The frontend part of it, as prototyped in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/33619 , can be worked on at any time, so I'll mark this as ~frontend now (cc @andr3).\n\u003e \n\u003e Paginating the notes endpoint is useful all by itself, so we can work to remove the feature flag for that in the usual way.\n\u003e \n\u003e â€” @nick.thomas in https://gitlab.com/gitlab-org/gitlab/-/issues/217673#note_380981019\n\n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?\nConsider adding checkboxes and expectations of users with certain levels of membership https://docs.gitlab.com/ee/user/permissions.html\n* [ ] Add expected impact to members with no access (0)\n* [ ] Add expected impact to Guest (10) members\n* [ ] Add expected impact to Reporter (20) members\n* [ ] Add expected impact to Developer (30) members \n* [ ] Add expected impact to Maintainer (40) members\n* [ ] Add expected impact to Owner (50) members --\u003e\n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/workflow.html#for-a-product-change\n\n* Add all known Documentation Requirements in this section. See https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements\n* If this feature requires changing permissions, update the permissions document. See https://docs.gitlab.com/ee/user/permissions.html --\u003e\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\n### What does success look like, and how can we measure that?\n\n\u003c!-- Define both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. --\u003e\n\n### What is the type of buyer?\n\n\u003c!-- What is the buyer persona for this feature? See https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/buyer-persona/\nIn which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#four-tiers --\u003e\n\n### Is this a cross-stage feature?\n\n\u003c!-- Communicate if this change will affect multiple Stage Groups or product areas. We recommend always start with the assumption that a feature request will have an impact into another Group. Loop in the most relevant PM and Product Designer from that Group to provide strategic support to help align the Group's broader plan and vision, as well as to avoid UX and technical debt. https://about.gitlab.com/handbook/product/#cross-stage-features --\u003e\n\nYes. Heads up to @donaldcook in ~\"devops::plan\".\n\n### Links / references\n\n\u003c!--  Label reminders - you should have one of each of the following labels if you can find the correct ones!\n\nType - for example ~feature ~bug ~documentation ~meta /label ~\"feature::addition\" ~\"feature::maintenance\" ~tooling ~\"tooling::pipelines\" ~\"tooling::workflow\" per https://docs.gitlab.com/ee/development/contributing/issue_workflow.html#type-labels\n\nDevOps stage - for example ~\"devops::secure\" \n\nGroup - for example ~\"group::composition analysis\"\n\nCategory - for example ~\"Category:Dependency Scanning\"\n\u003c!--  Label reminders - you should have one of each of the following labels if you can figure out the correct ones! --\u003e","state":"closed","created_at":"2020-03-09T15:27:13.554Z","updated_at":"2021-10-28T05:07:18.748Z","closed_at":"2021-10-06T09:57:44.327Z","closed_by":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"labels":["2021Q1 gitlab.com Latency Degradation","Category:Code Review Workflow","GitLab Core","Low SUS Score","OKR","Quality:performance-issues","SUS Survey","[deprecated] Accepting merge requests","backend","backend-weight::3","bug::performance","devops::create","direction","frontend","frontend-weight::4","group::code review","merge requests","missed-deliverable","missed:13.0","missed:13.1","missed:13.2","missed:13.4","missed:13.5","missed:13.6","missed:13.7","performance-refinement","priority::2","quad-planning::complete-no-action","section::dev","severity::2","spike","workflow::ready for development"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":3769272,"username":"grantyoung","name":"Grant Young","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3769272/avatar.png","web_url":"https://gitlab.com/grantyoung"},"type":"ISSUE","assignee":null,"user_notes_count":145,"merge_requests_count":2,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/209784","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":0},"weight":3,"blocking_issues_count":1,"has_tasks":true,"task_status":"0 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/209784","notes":"https://gitlab.com/api/v4/projects/278964/issues/209784/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/209784/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#209784","relative":"#209784","full":"gitlab-org/gitlab#209784"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1577,"epic":{"id":9297,"iid":1577,"title":"â³ Progressively load merge request discussions","url":"/groups/gitlab-org/-/epics/1577","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":"on_track"},{"id":31793314,"iid":209780,"project_id":278964,"title":"Improve performance of Merge Request List API under load into next tier","description":"The Merge Requests list API was improved notably in #33150 from around [3.2s to 1.2s ](https://gitlab.com/gitlab-org/gitlab/issues/33150#note_248993740). As part of a new agreed approach for performance issues that issue is to be closed in favour of a [new lower severity](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/26033).\n\nTesting today shows the API is currently showing the following performance:\n\n```\n* Environment:                10k\n* Environment Version:        12.9.0-pre `545f4a5af48`\n* Option:                     60s_200rps\n* Date:                       2020-03-09\n* Run Time:                   47m 28.13s (Start: 04:28:41 UTC, End: 05:16:09 UTC)\n* GPT Version:                v1.2.2\n\nNAME                                                     | RPS   | RPS RESULT           | TTFB AVG  | TTFB P90             | REQ STATUS     | RESULT\n---------------------------------------------------------|-------|----------------------|-----------|----------------------|----------------|-------\napi_v4_projects_merge_requests                           | 200/s | 182.18/s (\u003e128.00/s) | 950.39ms  | 1227.12ms (\u003c2000ms)  | 100.00% (\u003e95%) | Passed\n```\n\nMetrics:\n![Screenshot_2020-05-15_at_13.25.22](/uploads/726005941035526c60cb4bf15c435587/Screenshot_2020-05-15_at_13.25.22.png)\n\nThe test was run against the 10k Reference Architecture at the target RPS of 200/s. It's run against the `gitlabhq` project which has 3,608 MRs.\n\nAs part of the [latest agreed new API performance targets](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/26033) this endpoint is currently over our target of 500ms and falls into the ~S3 tier.\n\nTask is to reduce the performance of this endpoint to the next tier of ~S4 (\u003c1000ms).","state":"closed","created_at":"2020-03-09T14:59:42.313Z","updated_at":"2020-09-21T11:36:07.505Z","closed_at":"2020-09-16T12:52:25.571Z","closed_by":{"id":2167502,"username":"robotmay_gitlab","name":"Robert May","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2167502/avatar.png","web_url":"https://gitlab.com/robotmay_gitlab"},"labels":["OKR","Quality","Quality:performance-issues","backend","bug::performance","devops::create","group::source code","performance-refinement","priority::3","section::dev","severity::3","type::bug","workflow::planning breakdown"],"milestone":{"id":1233753,"iid":51,"group_id":9970,"title":"13.4","description":"https://about.gitlab.com/releases/2020/09/22/gitlab-13-4-released/","state":"closed","created_at":"2020-04-09T17:39:21.662Z","updated_at":"2022-04-13T14:50:33.769Z","due_date":"2020-09-17","start_date":"2020-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/51"},"assignees":[{"id":2167502,"username":"robotmay_gitlab","name":"Robert May","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2167502/avatar.png","web_url":"https://gitlab.com/robotmay_gitlab"}],"author":{"id":3769272,"username":"grantyoung","name":"Grant Young","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3769272/avatar.png","web_url":"https://gitlab.com/grantyoung"},"type":"ISSUE","assignee":{"id":2167502,"username":"robotmay_gitlab","name":"Robert May","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2167502/avatar.png","web_url":"https://gitlab.com/robotmay_gitlab"},"user_notes_count":27,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/209780","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/209780","notes":"https://gitlab.com/api/v4/projects/278964/issues/209780/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/209780/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#209780","relative":"#209780","full":"gitlab-org/gitlab#209780"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4202,"epic":{"id":94344,"iid":4202,"title":"ðŸ’ª Merge Request performance improvements","url":"/groups/gitlab-org/-/epics/4202","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31789711,"iid":209771,"project_id":278964,"title":"undefined method `state' for #\u003cGitlab::ObjectifiedHash:0x000055dcfaf45dd0\u003e in `scripts/review_apps/automated_cleanup.rb:84`","description":"Job [#464295365](https://gitlab.com/gitlab-org/gitlab/-/jobs/464295365) failed for c567376b70ee2025c2901fae1405e30a139dbe9b:\n\n```\n42 $ ruby -rrubygems scripts/review_apps/automated_cleanup.rb\n43 /usr/local/bundle/gems/gitlab-4.13.0/lib/gitlab/objectified_hash.rb:28:in `method_missing': undefined method `state' for #\u003cGitlab::ObjectifiedHash:0x000055dcfaf45dd0\u003e (NoMethodError)\n44 \tfrom scripts/review_apps/automated_cleanup.rb:84:in `block in perform_gitlab_environment_cleanup!'\n45 \tfrom /usr/local/bundle/gems/gitlab-4.13.0/lib/gitlab/paginated_response.rb:50:in `block (2 levels) in auto_paginate'\n46 \tfrom /usr/local/bundle/gems/gitlab-4.13.0/lib/gitlab/paginated_response.rb:22:in `each'\n47 \tfrom /usr/local/bundle/gems/gitlab-4.13.0/lib/gitlab/paginated_response.rb:22:in `method_missing'\n48 \tfrom /usr/local/bundle/gems/gitlab-4.13.0/lib/gitlab/paginated_response.rb:49:in `block in auto_paginate'\n49 \tfrom /usr/local/bundle/gems/gitlab-4.13.0/lib/gitlab/paginated_response.rb:38:in `each_page'\n50 \tfrom /usr/local/bundle/gems/gitlab-4.13.0/lib/gitlab/paginated_response.rb:47:in `auto_paginate'\n51 \tfrom scripts/review_apps/automated_cleanup.rb:66:in `perform_gitlab_environment_cleanup!'\n52 \tfrom scripts/review_apps/automated_cleanup.rb:184:in `block in \u003cmain\u003e'\n53 \tfrom scripts/review_apps/automated_cleanup.rb:177:in `timed'\n54 \tfrom scripts/review_apps/automated_cleanup.rb:183:in `\u003cmain\u003e'\n```\n\nBroken by me in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/26678.\n\n`state` isn't exposed from the nested `environment` in the `deployments` endpoint. We'll need to fetch the environment details in order to access `state`.","state":"closed","created_at":"2020-03-09T13:34:43.156Z","updated_at":"2020-03-10T13:22:08.625Z","closed_at":"2020-03-10T13:22:08.538Z","closed_by":{"id":423915,"username":"godfat","name":"Lin Jen-Shin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8c73dab2ecd23d5b5627a0235ae2f9b1?s=80\u0026d=identicon","web_url":"https://gitlab.com/godfat"},"labels":["Engineering Productivity","ci-build","ep::review-apps","type::bug"],"milestone":{"id":1001916,"iid":44,"group_id":9970,"title":"12.9","description":"https://about.gitlab.com/releases/2020/03/22/gitlab-12-9-released","state":"closed","created_at":"2019-09-15T20:54:50.875Z","updated_at":"2020-09-02T11:04:41.671Z","due_date":"2020-03-17","start_date":"2020-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/44"},"assignees":[{"id":128633,"username":"rymai","name":"RÃ©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"}],"author":{"id":128633,"username":"rymai","name":"RÃ©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"type":"ISSUE","assignee":{"id":128633,"username":"rymai","name":"RÃ©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/209771","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/209771","notes":"https://gitlab.com/api/v4/projects/278964/issues/209771/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/209771/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#209771","relative":"#209771","full":"gitlab-org/gitlab#209771"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31789209,"iid":209770,"project_id":278964,"title":"Design comments: Text wrapping behavior","description":"The text wrapping in design comments is strange in some situations. I'd like to explore how we can adjust this given the limited space on design comments.\n\n![Screen_Shot_2020-03-06_at_10.59.00_AM](/uploads/5014ff77afcfc0065cc56774875c32f9/Screen_Shot_2020-03-06_at_10.59.00_AM.png)\n\n\n### Proposal\n\nThe comment text will left-align with the user's avatar. The time when the comment was made will move down to the second line like issue comments. Then we will have room for the username next to the user's full name.\n\n![Screen_Shot_2020-05-05_at_6.20.09_PM](/uploads/664f587da3ab8d327b50310275ee15ba/Screen_Shot_2020-05-05_at_6.20.09_PM.png)","state":"closed","created_at":"2020-03-09T13:21:48.829Z","updated_at":"2020-12-10T18:58:46.034Z","closed_at":"2020-08-27T07:59:16.205Z","closed_by":{"id":2950912,"username":"ntepluhina","name":"Natalia Tepluhina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2950912/avatar.png","web_url":"https://gitlab.com/ntepluhina"},"labels":["Category:Design Management","Deliverable","devops::plan","frontend","group::product planning","quad-planning::complete-no-action","type::bug","workflow::verification"],"milestone":{"id":1233753,"iid":51,"group_id":9970,"title":"13.4","description":"https://about.gitlab.com/releases/2020/09/22/gitlab-13-4-released/","state":"closed","created_at":"2020-04-09T17:39:21.662Z","updated_at":"2022-04-13T14:50:33.769Z","due_date":"2020-09-17","start_date":"2020-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/51"},"assignees":[{"id":2950912,"username":"ntepluhina","name":"Natalia Tepluhina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2950912/avatar.png","web_url":"https://gitlab.com/ntepluhina"}],"author":{"id":2222493,"username":"jareko","name":"Jarek Ostrowski","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2222493/avatar.png","web_url":"https://gitlab.com/jareko"},"type":"ISSUE","assignee":{"id":2950912,"username":"ntepluhina","name":"Natalia Tepluhina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2950912/avatar.png","web_url":"https://gitlab.com/ntepluhina"},"user_notes_count":14,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/209770","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/209770","notes":"https://gitlab.com/api/v4/projects/278964/issues/209770/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/209770/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#209770","relative":"#209770","full":"gitlab-org/gitlab#209770"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31784277,"iid":209762,"project_id":278964,"title":"drop index for post migrations in vulnerability db","description":"### Problem\n\n`vulnerability_occurrences` table has 2.2M records and in order to run background migration successfully we had to add index. See comment for more details https://gitlab.com/gitlab-org/gitlab/-/merge_requests/26085#note_298649435.\n\nAfter migration rans we should drop the index.","state":"closed","created_at":"2020-03-09T11:14:29.559Z","updated_at":"2020-06-09T12:00:08.173Z","closed_at":"2020-04-23T11:23:49.063Z","closed_by":{"id":3696420,"username":"caneldem","name":"Can Eldem","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3696420/avatar.png","web_url":"https://gitlab.com/caneldem"},"labels":["backend","backstage [DEPRECATED]","database","devops::secure","group::composition analysis","quad-planning::complete-no-action","workflow::verification"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":3696420,"username":"caneldem","name":"Can Eldem","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3696420/avatar.png","web_url":"https://gitlab.com/caneldem"}],"author":{"id":3696420,"username":"caneldem","name":"Can Eldem","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3696420/avatar.png","web_url":"https://gitlab.com/caneldem"},"type":"ISSUE","assignee":{"id":3696420,"username":"caneldem","name":"Can Eldem","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3696420/avatar.png","web_url":"https://gitlab.com/caneldem"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/209762","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/209762","notes":"https://gitlab.com/api/v4/projects/278964/issues/209762/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/209762/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#209762","relative":"#209762","full":"gitlab-org/gitlab#209762"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31783359,"iid":209761,"project_id":278964,"title":"Wiki: cannot edit and save page","description":"Project: gainpro/gain\n\n- Edit any wiki page\n- Make some edits in the body\n- Press save -\u003e \"There is already a page with the same title in that path\".\n\nSince today. \n\nPlease help. This is a really frustrating bug and impedes our workflow in a major way.\n\n#### Status\n\nA fix has been merged to `master` and we are tracking its progress through to production https://gitlab.com/gitlab-org/gitlab/-/issues/209761#note_304214642.\n\n#### Workaround\n\nSee https://gitlab.com/gitlab-org/gitlab/-/issues/209761#note_303161463 for current best workaround.","state":"closed","created_at":"2020-03-09T10:49:11.322Z","updated_at":"2022-05-17T15:51:24.239Z","closed_at":"2020-03-13T14:48:46.117Z","closed_by":{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},"labels":["Category:Wiki","devops::create","group::editor","priority::2","regression","regression:12.9","severity::2","type::bug"],"milestone":{"id":1001916,"iid":44,"group_id":9970,"title":"12.9","description":"https://about.gitlab.com/releases/2020/03/22/gitlab-12-9-released","state":"closed","created_at":"2019-09-15T20:54:50.875Z","updated_at":"2020-09-02T11:04:41.671Z","due_date":"2020-03-17","start_date":"2020-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/44"},"assignees":[{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"}],"author":{"id":2543222,"username":"markusheukelom","name":"Markus Heukelom","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2543222/avatar.png","web_url":"https://gitlab.com/markusheukelom"},"type":"ISSUE","assignee":{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},"user_notes_count":23,"merge_requests_count":0,"upvotes":10,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/209761","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/209761","notes":"https://gitlab.com/api/v4/projects/278964/issues/209761/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/209761/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#209761","relative":"#209761","full":"gitlab-org/gitlab#209761"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31780007,"iid":209749,"project_id":278964,"title":"Remove ignore_column (health_status) from Epic model","description":"In 12.9 we started ignoring `health_status` column in `Epic` model. In 12.10 we are dropping the column from the db. The last step is to remove the `ignore_column` code (12.11)","state":"closed","created_at":"2020-03-09T09:25:07.314Z","updated_at":"2021-11-08T16:54:23.865Z","closed_at":"2020-07-13T14:57:57.169Z","closed_by":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"labels":["Category:Portfolio Management","[deprecated] Accepting merge requests","backend","backstage [DEPRECATED]","devops::plan","epics","group::product planning","maintenance::refactor","missed:13.0","missed:13.1","workflow::in review"],"milestone":{"id":1233746,"iid":49,"group_id":9970,"title":"13.2","description":"https://about.gitlab.com/releases/2020/07/22/gitlab-13-2-released/","state":"closed","created_at":"2020-04-09T17:28:01.032Z","updated_at":"2022-04-13T14:48:24.167Z","due_date":"2020-07-17","start_date":"2020-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/49"},"assignees":[{"id":508743,"username":"jarka","name":"Jarka KoÅ¡anovÃ¡","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"}],"author":{"id":508743,"username":"jarka","name":"Jarka KoÅ¡anovÃ¡","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"},"type":"ISSUE","assignee":{"id":508743,"username":"jarka","name":"Jarka KoÅ¡anovÃ¡","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"},"user_notes_count":2,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/209749","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/209749","notes":"https://gitlab.com/api/v4/projects/278964/issues/209749/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/209749/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#209749","relative":"#209749","full":"gitlab-org/gitlab#209749"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31778836,"iid":209748,"project_id":278964,"title":"[StepN|BE] Version Control for Snippets: Remove content presence validation","description":"Now that users will be able to push content to snippet repositories, they can also push empty files to it. Nevertheless, there are two places when this can be conflicting:\n- when we create a new snippet we don't allow empty files\n- we are double syncing (for now) content pushed through git. This means that, if the user pushes an empty file, when we update the snippet, it will raise a validation error.\n\nWe need to remove the `content` presence validation. But, in order to have clearer snippets, we should still reject empty files submitted through the UI. For that we can add the HTML attribute `required=\"required\"`, have some sort of javascript preventing this, and reject as well the operation in the controller.\n\nBasically we want the same behavior that we have at the moment but without the presence validation. This is a soft requirement. It's not a big deal if the user can somehow create an empty snippet because they will be able to do so through git.\n\n/cc @dsatcher","state":"closed","created_at":"2020-03-09T08:51:55.129Z","updated_at":"2020-10-07T14:23:07.508Z","closed_at":"2020-10-07T14:23:07.452Z","closed_by":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier LÃ³pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"labels":["Category:Snippets","Stretch","backend","backend-weight::1","devops::create","group::editor","section::dev","type::feature","workflow::in review"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":955795,"username":"fjsanpedro","name":"Francisco Javier LÃ³pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"}],"author":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier LÃ³pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"type":"ISSUE","assignee":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier LÃ³pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"user_notes_count":51,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/209748","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/209748","notes":"https://gitlab.com/api/v4/projects/278964/issues/209748/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/209748/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#209748","relative":"#209748","full":"gitlab-org/gitlab#209748"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2829,"epic":{"id":28402,"iid":2829,"title":"Snippets with Multiple Files","url":"/groups/gitlab-org/-/epics/2829","group_id":9970,"human_readable_end_date":"Nov 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31778439,"iid":209747,"project_id":278964,"title":"Scanning job is triggered but SAST, DS analyzer finds no compatible project (no DinD setup)","description":"### Summary\n\nIn some cases SAST and Dependency Scanning scanning jobs are triggered but fail with a `No match`Â error and exit code `3`, which indicates that the project is not supported. This happens when the conditions implemented in the [search](https://gitlab.com/gitlab-org/security-products/analyzers/common/-/tree/master/search) package of the [common library](https://gitlab.com/gitlab-org/security-products/analyzers/common) don't match the `rules` of the scanning job. This undocumented, inconsistent behavior is likely to make both users and developers confused.\n\n**CLOSED:** After long discussions, [we concluded](#note_359701752) that the `rules` syntax cannot accurately describe when a scanning needs to run. So there might be cases where the scanning job is triggered, even though there's nothing to scan. The job `rules` should be considered as an optimization, to avoid running a scanning job for a project that's not compatible.\n\n### Further details\n\nThe `search` is configured by 3 environment variables named `SEARCH_MAX_DEPTH`, `SEARCH_IGNORED_DIRS`, and `SEARCH_IGNORE_HIDDEN_DIRS`. See [search/flags.go](https://gitlab.com/gitlab-org/security-products/analyzers/common/-/blob/v2.9.2/search/flags.go) to see their default values.\n\nNote that [command/search](https://gitlab.com/gitlab-org/security-products/analyzers/common/-/tree/master/search) implements project detection, and not file filtering. Once the scan is triggered, a file might be scanned even if it is excluded by the filters defined in [command/search](https://gitlab.com/gitlab-org/security-products/analyzers/common/-/tree/master/search). File exclusion is implemented in [common/pathfilter](https://gitlab.com/gitlab-org/security-products/analyzers/common/-/tree/master/pathfilter).\n\n### Steps to reproduce\n\n- create a project with files supported by some Dependency Scanning (DS) or SAST analyzer\n- make sure the files supported by the DS or SAST analyzer are ignored based on `SEARCH_MAX_DEPTH`, `SEARCH_IGNORED_DIRS`, or `SEARCH_IGNORE_HIDDEN_DIRS`\n- enable DS or SAST in the CI configuration file (\"no DinD\" setup)\n- trigger a pipeline\n\nThe compatible scanning job is triggered and shows up in the pipeline, but there is no scan and the job exits with code `3`.\n\n### Example Project\n\nSee https://gitlab.com/gitlab-org/gitlab/issues/208715\n\n### What is the current *bug* behavior?\n\nThe scanning job fails with a `No match` error.\n\n### What is the expected *correct* behavior?\n\nAll scanning jobs that have been triggered should scan the repository. The scanning jobs that don't match are not triggered, and don't show up in the pipeline.\n\n### Relevant logs and/or screenshots\n\nSee https://gitlab.com/gitlab-org/gitlab/issues/208715\n\n### Possible fixes\n\nUpdate the [`run`Â command](https://gitlab.com/gitlab-org/security-products/analyzers/common/-/blob/v2.6.0/command/run.go) so that it uses the match function instead of the `search` package:\n- remove [the search flags](https://gitlab.com/gitlab-org/security-products/analyzers/common/-/blob/v2.6.0/command/run.go#L54)\n- do not [use the `search` package](https://gitlab.com/gitlab-org/security-products/analyzers/common/-/blob/v2.6.0/command/run.go#L103)\n- [when `cfg.AnalyzeAll` is false](https://gitlab.com/gitlab-org/security-products/analyzers/common/-/blob/v2.6.0/command/run.go#L114) and the scan is executed in a sub-directory, use `cfg.Match` (the match function) to find a compatible file, and use that the directory of that file as the `target` directory; the walk must exclude files that match `_EXCLUDED_PATHS` otherwise the scan might be executed in the context of a directory that's been explicitly excluded\n- if there's no match, fail with [search.ErrNotFound](https://gitlab.com/gitlab-org/security-products/analyzers/common/-/blob/v2.6.0/search/error.go) error\n\n~~Also, update the job `rules` so that the paths listed in `SAST_EXCLUDED_PATHS`Â and `DS_EXCLUDED_PATHS` are ignored~~. Out of scope. This depends https://gitlab.com/gitlab-org/gitlab/-/issues/34859 or https://gitlab.com/gitlab-org/gitlab/-/issues/198688, and currently none of these issues has been scheduled.\n\nAlternatively, we can change the `search` package to implement this new behavior.\n\nFor this to work, `SAST_EXCLUDED_PATHS`Â and `DS_EXCLUDED_PATHS` have to match the current value of `SEARCH_IGNORED_DIRS`. So this issued depends on https://gitlab.com/gitlab-org/gitlab/-/issues/220014\n\nAfter implementing this fix, we might still be in the situation where the scanning job is triggered but there's nothing to scan because the paths that match `rules:exists` are excluded by `SAST_EXCLUDED_PATHS`Â or `DS_EXCLUDED_PATHS` (vulnerability filters). It's still an improvement though. See [discussion](#note_354263834).\n\nNote that `SEARCH_IGNORE_HIDDEN_DIRS` is not covered by this proposal, so a discrepancy will persist until we introduce a vulnerability filter that filters out hidden directories.\n\n/cc @twoodham @theoretick @gonzoyumo @dsearles","state":"closed","created_at":"2020-03-09T08:39:26.562Z","updated_at":"2023-01-03T18:49:49.164Z","closed_at":"2022-09-27T11:32:58.285Z","closed_by":{"id":1958785,"username":"fcatteau","name":"Fabien Catteau","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1958785/avatar.png","web_url":"https://gitlab.com/fcatteau"},"labels":["Category:Dependency Scanning","Category:SAST","SAST: Common Need","SAST: Scanner Update","[deprecated] Accepting merge requests","backend","customer","devops::secure","group::static analysis","priority::3","section::sec","secure::parked","secure:refinement-backend","severity::3","type::bug","won't do","wontfix"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":1958785,"username":"fcatteau","name":"Fabien Catteau","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1958785/avatar.png","web_url":"https://gitlab.com/fcatteau"}],"author":{"id":1958785,"username":"fcatteau","name":"Fabien Catteau","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1958785/avatar.png","web_url":"https://gitlab.com/fcatteau"},"type":"ISSUE","assignee":{"id":1958785,"username":"fcatteau","name":"Fabien Catteau","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1958785/avatar.png","web_url":"https://gitlab.com/fcatteau"},"user_notes_count":57,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/209747","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/209747","notes":"https://gitlab.com/api/v4/projects/278964/issues/209747/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/209747/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#209747","relative":"#209747","full":"gitlab-org/gitlab#209747"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3266,"epic":{"id":51945,"iid":3266,"title":"Keep SAST Scanners Updated","url":"/groups/gitlab-org/-/epics/3266","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":31773174,"iid":209742,"project_id":278964,"title":"Enable telemetry reviews for  snowplow events","description":"This is yet another improvement to the telemetry review, to be able to also review snowplow events.\n\nThose events are in both Ruby and Javascript.\n\nSee `tracking.rb`  and `tracking.js` libraries, and whoever calls them.\n\n## Snowplow telemetry improvements\n\n* HAML or Vue Templates (Frontend)\n* Vue Components (Frontend)\n* Raw JavaScript (Frontend)\n* Ruby (Backend)\n\nWe should also discuss whether we want to only be looped into:\n\n1. Changes to `tracking.rb` and `tracking.js`\n\nor\n\n1. Anywhere a tracking method is called","state":"closed","created_at":"2020-03-09T06:23:29.188Z","updated_at":"2020-05-06T17:02:29.410Z","closed_at":"2020-05-06T17:02:29.321Z","closed_by":{"id":128633,"username":"rymai","name":"RÃ©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"labels":["backstage [DEPRECATED]","devops::growth","group::product intelligence","workflow::in dev"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"}],"author":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"type":"ISSUE","assignee":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"user_notes_count":11,"merge_requests_count":1,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/209742","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/209742","notes":"https://gitlab.com/api/v4/projects/278964/issues/209742/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/209742/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#209742","relative":"#209742","full":"gitlab-org/gitlab#209742"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31773124,"iid":209741,"project_id":278964,"title":"Add labels to telemetry reviewable MRs","description":"Now that the telemetry reviews enable us to check counter performance, It could be useful if we add ~telemetry and ~\"telemetry::review pending\"  to any MR which deserves a telemetry review.","state":"closed","created_at":"2020-03-09T06:20:13.283Z","updated_at":"2020-03-27T08:42:25.078Z","closed_at":"2020-03-27T08:25:47.022Z","closed_by":{"id":423915,"username":"godfat","name":"Lin Jen-Shin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8c73dab2ecd23d5b5627a0235ae2f9b1?s=80\u0026d=identicon","web_url":"https://gitlab.com/godfat"},"labels":["devops::growth","group::product intelligence","workflow::in dev"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"}],"author":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"type":"ISSUE","assignee":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"user_notes_count":10,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/209741","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/209741","notes":"https://gitlab.com/api/v4/projects/278964/issues/209741/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/209741/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#209741","relative":"#209741","full":"gitlab-org/gitlab#209741"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31704565,"iid":209344,"project_id":278964,"title":"Extract reusable code from github importer","description":"Extract code from github importer that can be reused for jira importer as well.\n\nThis is simply to track the tasks/mrs related to the refactoring.\n\n* [x] Extract AdvanceStageWorker - DONE\n* [x] Extract NotifyUponDeath module - DONE\n* [x] Extract Caching module - In Review","state":"closed","created_at":"2020-03-07T11:27:39.405Z","updated_at":"2020-03-17T11:50:59.364Z","closed_at":"2020-03-13T22:27:31.494Z","closed_by":{"id":3483274,"username":"acroitor","name":"Alexandru Croitor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/461378ef52c26eec55e6c15ec09bb9ed?s=80\u0026d=identicon","web_url":"https://gitlab.com/acroitor"},"labels":["backstage [DEPRECATED]","devops::plan","group::project management","workflow::in review"],"milestone":{"id":1001916,"iid":44,"group_id":9970,"title":"12.9","description":"https://about.gitlab.com/releases/2020/03/22/gitlab-12-9-released","state":"closed","created_at":"2019-09-15T20:54:50.875Z","updated_at":"2020-09-02T11:04:41.671Z","due_date":"2020-03-17","start_date":"2020-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/44"},"assignees":[{"id":3483274,"username":"acroitor","name":"Alexandru Croitor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/461378ef52c26eec55e6c15ec09bb9ed?s=80\u0026d=identicon","web_url":"https://gitlab.com/acroitor"}],"author":{"id":3483274,"username":"acroitor","name":"Alexandru Croitor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/461378ef52c26eec55e6c15ec09bb9ed?s=80\u0026d=identicon","web_url":"https://gitlab.com/acroitor"},"type":"ISSUE","assignee":{"id":3483274,"username":"acroitor","name":"Alexandru Croitor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/461378ef52c26eec55e6c15ec09bb9ed?s=80\u0026d=identicon","web_url":"https://gitlab.com/acroitor"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/209344","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/209344","notes":"https://gitlab.com/api/v4/projects/278964/issues/209344/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/209344/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#209344","relative":"#209344","full":"gitlab-org/gitlab#209344"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2766,"epic":{"id":26382,"iid":2766,"title":"Import Jira Issues MVC","url":"/groups/gitlab-org/-/epics/2766","group_id":9970,"human_readable_end_date":"May 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31699523,"iid":209341,"project_id":278964,"title":"UX: Custom Sign-in Page Message for Blocked Users MVC","description":"### Problem to solve\n\nBlocked GitLab users are simply redirected back to GitLab's login page with a message about the status of their account, with no further instruction or guidance (for example, whom to contact to remediate the situation).\n\n### Intended users\n\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/ --\u003e\n\n### MVC\n\nWe should provide admins with the ability to create a custom message which replaces the generic: \"Your account has been blocked, Please contact your gitlab administrator if you think that this is an error.\"\n\n#### Design Criteria\n\n1. [ ] Design for the message on login page\n1. [ ] Design for admin setting\n\n### Future Iteration Opportunity\n\nTo provide guidance to blocked users on what steps to undertake to recover their account, [a customer](https://gitlab.my.salesforce.com/0016100000W44Pc) proposed an interesting feature. In the customer's words:\n\n\u003e\u003e\u003e\n...we were thinking that this could be a URL that is defined in the gitlab.rb file where a user would be directed to that URL when they have authenticated successfully but where their account is in a blocked state.  If this setting exists in the rb file then GitLab would redirect the user to it and if it does not exist then GitLab would function as it normally does which is to dump the user back onto the login page with a message about being blocked.\n\nBy redirecting to another URL we could do various things like simply have a web page that displays additional info about what the user should do to get unblocked or we could even build an automated process that will use our SSO to auth the user again and then in the background unblock them using an API call and then redirect the user back to GitLab.\n\u003e\u003e\u003e\n\n### Proposal\n\nAs above, provide self-managed administrators with the option to specify a redirect URL in their Gitlab configuration where they could host a page with instructions on next steps for blocked users.","state":"closed","created_at":"2020-03-07T03:10:24.255Z","updated_at":"2022-02-08T20:45:19.629Z","closed_at":"2021-10-29T00:33:45.813Z","closed_by":{"id":5058729,"username":"mnearents","name":"Matthew Nearents","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5058729/avatar.png","web_url":"https://gitlab.com/mnearents"},"labels":["Technical Writing","UI text","UX","[deprecated] Accepting merge requests","[deprecated] Category:Utilization","customer","devops::fulfillment","group::utilization","product work","section::dev","type::feature","workflow::solution validation"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[],"author":{"id":4587943,"username":"jrreid","name":"Jamie Reid","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4587943/avatar.png","web_url":"https://gitlab.com/jrreid"},"type":"ISSUE","assignee":null,"user_notes_count":29,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/209341","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/209341","notes":"https://gitlab.com/api/v4/projects/278964/issues/209341/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/209341/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#209341","relative":"#209341","full":"gitlab-org/gitlab#209341"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3219,"epic":{"id":50576,"iid":3219,"title":"Improve user management for admins and group owners","url":"/groups/gitlab-org/-/epics/3219","group_id":9970,"human_readable_end_date":"Apr 30, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31695121,"iid":209327,"project_id":278964,"title":"Display badge if a user is a GitLab employee [BE]","description":"~backend counterpart to #207118. See #207118 for ~frontend scope.\n\n## Development Scope\n\n- Add a helper method to check if the current user is a gitlab employee or not","state":"closed","created_at":"2020-03-06T21:28:19.521Z","updated_at":"2020-03-26T19:41:38.517Z","closed_at":"2020-03-17T17:26:32.235Z","closed_by":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"labels":["Deliverable","backend","devops::manage","estimation::completed","group::spaces DEPRECATED","priority::3","type::feature","user profile","workflow::verification"],"milestone":{"id":1001916,"iid":44,"group_id":9970,"title":"12.9","description":"https://about.gitlab.com/releases/2020/03/22/gitlab-12-9-released","state":"closed","created_at":"2019-09-15T20:54:50.875Z","updated_at":"2020-09-02T11:04:41.671Z","due_date":"2020-03-17","start_date":"2020-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/44"},"assignees":[{"id":4014344,"username":"aishbuilds","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4014344/avatar.png","web_url":"https://gitlab.com/aishbuilds"}],"author":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"type":"ISSUE","assignee":{"id":4014344,"username":"aishbuilds","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4014344/avatar.png","web_url":"https://gitlab.com/aishbuilds"},"user_notes_count":7,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/209327","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/209327","notes":"https://gitlab.com/api/v4/projects/278964/issues/209327/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/209327/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#209327","relative":"#209327","full":"gitlab-org/gitlab#209327"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31692880,"iid":209324,"project_id":278964,"title":"Investigate feasibility of HyperMD for use in the static site editor","description":"Evaluate the feasibility of using HyperMD, https://github.com/laobubu/HyperMD, against the validation criteria specified in: https://gitlab.com/gitlab-org/gitlab/-/issues/209325","state":"closed","created_at":"2020-03-06T20:10:15.493Z","updated_at":"2020-03-27T00:11:13.520Z","closed_at":"2020-03-26T13:54:29.415Z","closed_by":{"id":4221631,"username":"jeanduplessis-gitlab","name":"Jean du Plessis","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4221631/avatar.png","web_url":"https://gitlab.com/jeanduplessis-gitlab"},"labels":["Category:Static Site Editor","auto updated","devops::create","frontend","group::static site editor [DEPRECATED]","missed:12.9"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":421631,"username":"vyaklushin","name":"Vasilii Iakliushin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/421631/avatar.png","web_url":"https://gitlab.com/vyaklushin"}],"author":{"id":5212466,"username":"ericschurter","name":"Eric Schurter","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5212466/avatar.png","web_url":"https://gitlab.com/ericschurter"},"type":"ISSUE","assignee":{"id":421631,"username":"vyaklushin","name":"Vasilii Iakliushin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/421631/avatar.png","web_url":"https://gitlab.com/vyaklushin"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/209324","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/209324","notes":"https://gitlab.com/api/v4/projects/278964/issues/209324/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/209324/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#209324","relative":"#209324","full":"gitlab-org/gitlab#209324"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2793,"epic":{"id":27179,"iid":2793,"title":"Use a WYSIWYG markdown editor in the static site editor","url":"/groups/gitlab-org/-/epics/2793","group_id":9970,"human_readable_end_date":"Sep 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31692856,"iid":209323,"project_id":278964,"title":"Investigate feasibility of Toast UI for use in the static site editor","description":"Evaluate the feasibility of using Toast UI Editor, https://github.com/nhn/tui.editor, against the validation criteria specified in: https://gitlab.com/gitlab-org/gitlab/-/issues/209325","state":"closed","created_at":"2020-03-06T20:09:39.164Z","updated_at":"2020-07-07T09:00:44.354Z","closed_at":"2020-03-26T13:54:20.563Z","closed_by":{"id":4221631,"username":"jeanduplessis-gitlab","name":"Jean du Plessis","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4221631/avatar.png","web_url":"https://gitlab.com/jeanduplessis-gitlab"},"labels":["Category:Static Site Editor","auto updated","devops::create","frontend","group::static site editor [DEPRECATED]","missed:12.9"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":421631,"username":"vyaklushin","name":"Vasilii Iakliushin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/421631/avatar.png","web_url":"https://gitlab.com/vyaklushin"}],"author":{"id":5212466,"username":"ericschurter","name":"Eric Schurter","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5212466/avatar.png","web_url":"https://gitlab.com/ericschurter"},"type":"ISSUE","assignee":{"id":421631,"username":"vyaklushin","name":"Vasilii Iakliushin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/421631/avatar.png","web_url":"https://gitlab.com/vyaklushin"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/209323","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/209323","notes":"https://gitlab.com/api/v4/projects/278964/issues/209323/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/209323/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#209323","relative":"#209323","full":"gitlab-org/gitlab#209323"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2793,"epic":{"id":27179,"iid":2793,"title":"Use a WYSIWYG markdown editor in the static site editor","url":"/groups/gitlab-org/-/epics/2793","group_id":9970,"human_readable_end_date":"Sep 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31692806,"iid":209321,"project_id":278964,"title":"Extract Conan::PackageFileFinder from PackageFileFinder","description":"## Summary\n\n[`Packages::PackageFileFinder`](https://gitlab.com/gitlab-org/gitlab/blob/master/ee/app/finders/packages/package_file_finder.rb) has accumulated some Conan file specific behavior, it makes sense to create a separate finder for Conan that inherits from this finder.\n\n## Improvements\n\nCreate `Packages::Conan::PackageFileFinder \u003c Packages::PackageFileFinder` moving the `by_conan_file_type` and `by_conan_package_reference` to the new finder\n\n## Risks\n\nNo apparant risks\n\n## Involved components\n\n* [`Packages::PackageFileFinder`](https://gitlab.com/gitlab-org/gitlab/blob/master/ee/app/finders/packages/package_file_finder.rb)\n* [`Packages::PackageFileFinder Spec`](https://gitlab.com/gitlab-org/gitlab/blob/master/ee/spec/finders/packages/package_file_finder_spec.rb)\n\n## Optional: Intended side effects\n\n\u003c!--\nIf the refactoring involves changes apart from the main improvements (such as a better UI), list them here.\nIt may be a good idea to create separate issues and link them here.\n--\u003e\n\n\n## Optional: Missing test coverage\n\nSome tests will be moved from the package_file_finder_spec to the new conan specific file finder spec.","state":"closed","created_at":"2020-03-06T20:08:18.465Z","updated_at":"2020-03-10T16:13:01.432Z","closed_at":"2020-03-10T16:13:01.362Z","closed_by":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"labels":["Category:Package Registry","Conan Repository","[deprecated] Accepting merge requests","backend","backstage [DEPRECATED]","devops::package","group::package registry","maintenance::refactor","ruby"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/209321","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/209321","notes":"https://gitlab.com/api/v4/projects/278964/issues/209321/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/209321/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#209321","relative":"#209321","full":"gitlab-org/gitlab#209321"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31691507,"iid":209317,"project_id":278964,"title":"Create a project template preconfigured to use the static site editor","description":"## Problem to solve\n\nAt the bare minimum level of maturity for the static site editor, there is very little indication within the GitLab UI that it exists, let alone how to configure it.\n\n## Proposal\n\nA project template should be created, preconfigured to provide the static site editing experience. This project should include: \n\n* A Middleman starter project\n* Any custom Middleman extensions required for the static site editor\n* Configuration files for hosting on GitLab Pages\n* Base page templates preconfigured with editable markdown content areas\n* Documentation for the user on how to configure additional editable areas and how to use the static site editor\n\n","state":"closed","created_at":"2020-03-06T19:31:22.267Z","updated_at":"2020-03-27T00:11:13.213Z","closed_at":"2020-03-26T13:53:58.348Z","closed_by":{"id":4221631,"username":"jeanduplessis-gitlab","name":"Jean du Plessis","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4221631/avatar.png","web_url":"https://gitlab.com/jeanduplessis-gitlab"},"labels":["Category:Static Site Editor","[deprecated] Accepting merge requests","backend","devops::create","group::static site editor [DEPRECATED]"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[],"author":{"id":5212466,"username":"ericschurter","name":"Eric Schurter","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5212466/avatar.png","web_url":"https://gitlab.com/ericschurter"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/209317","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/209317","notes":"https://gitlab.com/api/v4/projects/278964/issues/209317/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/209317/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#209317","relative":"#209317","full":"gitlab-org/gitlab#209317"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2784,"epic":{"id":26795,"iid":2784,"title":"Edit a single Middleman page using a static site editor","url":"/groups/gitlab-org/-/epics/2784","group_id":9970,"human_readable_end_date":"Apr 22, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31687483,"iid":209315,"project_id":278964,"title":"Add an `id` property to vulnerability in DAST report","description":"### Problem to solve\n\nTo replace the legacy `cve` property we need to introduce a new `id` property to the vulnerability object. This addition needs to be implemented in DAST too.\n\n### Intended users\n\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n\n### Further details\n\n### Proposal\n\nAdd an `id` property which must be a unique value within the context of a given scanner id. This id does not have to be stable between pipeline executions.\n\nDo not remove or update the current `cve` property, this will be done later as there are other pre-requisite to achieve.\n\n### Implementation plan\n\n### Permissions and Security\n\n### Documentation\n\n### Testing\n\n### What does success look like, and how can we measure that?\n\nDAST report contains the new `id` property for each vulnerability.\n\n### What is the type of buyer?\n\n### Links / references\n","state":"closed","created_at":"2020-03-06T18:37:41.565Z","updated_at":"2020-04-28T05:28:01.133Z","closed_at":"2020-04-28T05:28:01.103Z","closed_by":{"id":5344211,"username":"craigmsmith","name":"Craig Smith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5344211/avatar.png","web_url":"https://gitlab.com/craigmsmith"},"labels":["Category:DAST","Enterprise Edition","backend","devops::secure","group::dynamic analysis","security reports integration","type::feature","workflow::verification"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":5344211,"username":"craigmsmith","name":"Craig Smith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5344211/avatar.png","web_url":"https://gitlab.com/craigmsmith"}],"author":{"id":52092,"username":"gonzoyumo","name":"Olivier Gonzalez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/651e0ff81c3995a05269f7c80895fe89?s=80\u0026d=identicon","web_url":"https://gitlab.com/gonzoyumo"},"type":"ISSUE","assignee":{"id":5344211,"username":"craigmsmith","name":"Craig Smith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5344211/avatar.png","web_url":"https://gitlab.com/craigmsmith"},"user_notes_count":33,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/209315","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/209315","notes":"https://gitlab.com/api/v4/projects/278964/issues/209315/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/209315/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#209315","relative":"#209315","full":"gitlab-org/gitlab#209315"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2791,"epic":{"id":27148,"iid":2791,"title":"Deprecate and remove project_fingerprint","url":"/groups/gitlab-org/-/epics/2791","group_id":9970},"iteration":null,"health_status":null},{"id":31684583,"iid":209302,"project_id":278964,"title":"Convert all Releases frontend tests to Jest","description":"We should convert all Releases ~frontend tests (`spec/javascripts/releases/**`) from Karma to Jest.\n\nIn particular, [`spec/javascripts/releases/components/app_index_spec.js`](`spec/javascripts/releases/components/app_index_spec.js`) is particularly rough. This file should be fully re-written (not just simply converted as-is).","state":"closed","created_at":"2020-03-06T17:18:01.781Z","updated_at":"2020-03-14T02:12:44.282Z","closed_at":"2020-03-14T02:12:43.606Z","closed_by":{"id":493585,"username":"nfriend","name":"Nathan Friend","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cd23f74a33fc7d8dfe081948696551a5?s=80\u0026d=identicon","web_url":"https://gitlab.com/nfriend"},"labels":["Category:Release Evidence","Category:Release Orchestration","Category:Secrets Management","backstage [DEPRECATED]","devops::release","frontend","frontend-weight::2","maintenance::refactor","unit testing"],"milestone":null,"assignees":[],"author":{"id":493585,"username":"nfriend","name":"Nathan Friend","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cd23f74a33fc7d8dfe081948696551a5?s=80\u0026d=identicon","web_url":"https://gitlab.com/nfriend"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/209302","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/209302","notes":"https://gitlab.com/api/v4/projects/278964/issues/209302/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/209302/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":"https://gitlab.com/api/v4/projects/278964/issues/194254"},"references":{"short":"#209302","relative":"#209302","full":"gitlab-org/gitlab#209302"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31681270,"iid":209282,"project_id":278964,"title":"Group Managed Accounts - Journey Mapping","description":"This issue tracks the design artifacts for everything related to [Extend group managed accounts to all groups](https://gitlab.com/groups/gitlab-org/-/epics/2777).\n\n## Intended Users\n[Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n\n## Job Statements\n\nThe below statements, in conjunction with the [Acceptance Criteria](https://gitlab.com/groups/gitlab-org/-/epics/2777#acceptance-criteria), best capture the user needs of the Group Owner.\n\n* As a **`Group Owner`** who wants to secure project information, I want to make sure employee accounts are managed by my company so that I can guarantee that employees won't leak project data.\n* As a **`Group Owner`** who wants to enforce an additional layer of protection, I want to make sure employees log in with credentials I determine so that employees are not using unauthorized email addresses.\n* As a **`Group Owner`** who wants to off-board users, I want to have the ability to block and delete group members, so that I can control who has access to the group projects.\n* As a **`Group Member`** who wants to keep my personal projects, I want to be able to easily differentiate my \"company\" work from my other Gitlab activity.\n\n## User Flow\n![Screen_Shot_2020-04-23_at_1.40.01_PM](/uploads/53c82d12cc525b465d652f0169a611a5/Screen_Shot_2020-04-23_at_1.40.01_PM.png)\n\n## Current Behavior\n| **Group Overview Page** (Self-Managed) | **SAML SSO** (Self-Managed) | **Whitelisted Domains** (Self-Managed) | **Navigation** (Self-Managed) | \n| ------ | ------ | ------ | ------ | \n| ![Screen_Shot_2020-04-23_at_12.18.42_PM](/uploads/571c68180c53121f6dbcc5760d0b3703/Screen_Shot_2020-04-23_at_12.18.42_PM.png) | ![Screen_Shot_2020-04-23_at_12.19.52_PM](/uploads/107bb7ced8475b78206c53412362a089/Screen_Shot_2020-04-23_at_12.19.52_PM.png) | ![Screen_Shot_2020-04-23_at_12.33.04_PM](/uploads/04307d7d9ecb908fd1eb1fa28e8472f6/Screen_Shot_2020-04-23_at_12.33.04_PM.png) | ![Screen_Shot_2020-04-23_at_12.41.18_PM](/uploads/e2f668208322914ad60ebc84d04baf90/Screen_Shot_2020-04-23_at_12.41.18_PM.png) |\n\n\n\n## Mural Board\n[Group Managed Accounts UX](https://app.mural.co/invitation/mural/gitlab2474/1586369710741?sender=ahughes3354\u0026key=0a07a004-84b7-496a-98a6-8faab602c7fa)\n\n## Aditional Information\n\n* Current workflow for [Authorize](https://www.loom.com/share/b14ea0ed14ec4e7b92d1adc99fd7a312/) (recording)\n* Current workflow for [Membership Transfer](https://www.loom.com/share/e300a78ad97147a3b2be89d1d3accf3b/) (recording)\n* Current workflow for [Group Member](https://www.loom.com/share/851049d1f6c3481f98d6592263cce21b/) (recording)\n* Current workflow for [Group Owner](https://www.loom.com/share/7838048446a3455497133609c8d96710/) (recording)\n* [Behavior of a group member who had authorized via SSO before GMA conversion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/29425#behavior-of-a-group-member-who-had-authorized-via-sso-before-gma-conversion) (recording)\n* [Behavior of a group member who had **not** authorized via SSO before GMA conversion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/29425#behavior-of-a-group-member-who-had-not-authorized-via-sso-before-gma-conversion) (recording)\n* Video recording of the Spaces team learning how the group owner flow and group member flows currently work: https://drive.google.com/open?id=1_Huaa0Tu_liHbi36Gu9GC2a36nV4W3aD\n* SAML SSO / GMA docs: https://docs.gitlab.com/ee/user/group/saml_sso/\n\n## Concept - Wizard Flow\n\nMockups of a potential wizard flow, which demonstrates the first few steps of enabling Group Managed Accounts once decoupled from SAML SSO:\n\nWe considered whether solving the isolation problem using Group Managed Accounts was a better solution than starting fresh and introducing a new type of \"Organization/Space\" group. Included is a parallel wizard of \"promoting\" the group to an organisation (space/workspace) as another route we could use to engineer group managed accounts (as separate from SAML SSO):\n\n| Step 1 | Step 2 | Step 3 | Step 4 |\n| ------ | ------ | ------ | ------ |\n| ![step1](/uploads/8bbd17145c848004a46fc7ef78e860a6/step1.png) | ![step2](/uploads/f5ef7820c852c26119a8501556387d82/step2.png) | ![step3](/uploads/1c188e89f209ab5ea67459e8112d8a46/step3.png) | ![step4](/uploads/fb5276bdc18990d1de41750e0ebf7c49/step4.png) |\n\nUpon discussion with the backend team, we decided to go with option 1. The sticky notes on Step 1 have some comments as to why we made this choice.","state":"closed","created_at":"2020-03-06T16:12:35.114Z","updated_at":"2020-05-18T07:08:22.081Z","closed_at":"2020-04-27T20:15:57.039Z","closed_by":{"id":5213400,"username":"amandakhughes","name":"Amanda Hughes","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5213400/avatar.png","web_url":"https://gitlab.com/amandakhughes"},"labels":["Category:Authentication and Authorization","Deliverable","UX","devops::manage","estimation::completed","group::authentication and authorization","missed-deliverable","missed:12.10","priority::1","workflow::design"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":5213400,"username":"amandakhughes","name":"Amanda Hughes","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5213400/avatar.png","web_url":"https://gitlab.com/amandakhughes"}],"author":{"id":1903246,"username":"tipyn","name":"Luca Kisielius","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1903246/avatar.png","web_url":"https://gitlab.com/tipyn"},"type":"ISSUE","assignee":{"id":5213400,"username":"amandakhughes","name":"Amanda Hughes","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5213400/avatar.png","web_url":"https://gitlab.com/amandakhughes"},"user_notes_count":29,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2020-04-17","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/209282","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/209282","notes":"https://gitlab.com/api/v4/projects/278964/issues/209282/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/209282/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#209282","relative":"#209282","full":"gitlab-org/gitlab#209282"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3059,"epic":{"id":40361,"iid":3059,"title":"Extend Group Managed Accounts to All Groups [Design Epic]","url":"/groups/gitlab-org/-/epics/3059","group_id":9970,"human_readable_end_date":"May 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"needs_attention"},{"id":31680470,"iid":209276,"project_id":278964,"title":"Project level access tokens / task bots [Design]","description":"# Summary \n\nPlease see the problem statement [here](https://gitlab.com/groups/gitlab-org/-/epics/2587).\n\n# Proposal\n\n![Screenshot_2020-03-27_at_3.01.00_PM](/uploads/4938569dfa79f47d5e6dcaad1d75883b/Screenshot_2020-03-27_at_3.01.00_PM.png)\n\n# Notes\n\n* The behind the scenes user should have the following auto-generated values: \n  * Full Name: `ProjectName Bot`\n  * Email: `???` - How do we currently handle this for support and alert bots?\n  * Avatar could be set to the project avatar for simplicity and identification\n\n# Later iteration\n\nDepending on feedback we could add an edit button here next to the revoke button and allow users to edit the above values: \n\n![Screenshot_2020-03-26_at_3.53.42_PM](/uploads/b69dceca738e90539e6e1a02fc166bb0/Screenshot_2020-03-26_at_3.53.42_PM.png)","state":"closed","created_at":"2020-03-06T15:49:51.709Z","updated_at":"2020-04-18T07:08:07.002Z","closed_at":"2020-03-27T20:07:40.712Z","closed_by":{"id":1903246,"username":"tipyn","name":"Luca Kisielius","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1903246/avatar.png","web_url":"https://gitlab.com/tipyn"},"labels":["Deliverable","UX","devops::manage","direction","estimation::completed","group::spaces DEPRECATED","missed-deliverable","missed:12.9","priority::2","workflow::design"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":1903246,"username":"tipyn","name":"Luca Kisielius","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1903246/avatar.png","web_url":"https://gitlab.com/tipyn"}],"author":{"id":1903246,"username":"tipyn","name":"Luca Kisielius","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1903246/avatar.png","web_url":"https://gitlab.com/tipyn"},"type":"ISSUE","assignee":{"id":1903246,"username":"tipyn","name":"Luca Kisielius","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1903246/avatar.png","web_url":"https://gitlab.com/tipyn"},"user_notes_count":31,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/209276","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/209276","notes":"https://gitlab.com/api/v4/projects/278964/issues/209276/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/209276/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#209276","relative":"#209276","full":"gitlab-org/gitlab#209276"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2587,"epic":{"id":19021,"iid":2587,"title":"âœ…  Project Level Access Tokens","url":"/groups/gitlab-org/-/epics/2587","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":31669260,"iid":209260,"project_id":278964,"title":"GraphQL: Mutation for wip-limits","description":"Add mutation for wip-limits.\n\nOn the frontend, update list configuration to be able to edit wip-limits using GraphQL.\n\nThis is in support of [Refactor Issue Boards to Use GraphQL](https://gitlab.com/groups/gitlab-org/-/epics/2163)","state":"closed","created_at":"2020-03-06T12:18:10.182Z","updated_at":"2021-11-08T16:12:07.458Z","closed_at":"2020-06-09T05:51:34.076Z","closed_by":{"id":3078895,"username":"pd-gitlab","name":"Patrick Derichs","state":"blocked","avatar_url":"https://secure.gravatar.com/avatar/7e106768fae83577b0eec7daf082cb7d?s=80\u0026d=identicon","web_url":"https://gitlab.com/pd-gitlab"},"labels":["Category:Team Planning","GraphQL","backend","backstage [DEPRECATED]","boards","devops::plan","frontend","group::project management","missed:12.9","workflow::verification"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":3078895,"username":"pd-gitlab","name":"Patrick Derichs","state":"blocked","avatar_url":"https://secure.gravatar.com/avatar/7e106768fae83577b0eec7daf082cb7d?s=80\u0026d=identicon","web_url":"https://gitlab.com/pd-gitlab"},{"id":4447636,"username":"sstern","name":"Scott Stern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4447636/avatar.png","web_url":"https://gitlab.com/sstern"}],"author":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"type":"ISSUE","assignee":{"id":3078895,"username":"pd-gitlab","name":"Patrick Derichs","state":"blocked","avatar_url":"https://secure.gravatar.com/avatar/7e106768fae83577b0eec7daf082cb7d?s=80\u0026d=identicon","web_url":"https://gitlab.com/pd-gitlab"},"user_notes_count":8,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/209260","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/209260","notes":"https://gitlab.com/api/v4/projects/278964/issues/209260/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/209260/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#209260","relative":"#209260","full":"gitlab-org/gitlab#209260"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31665237,"iid":209252,"project_id":278964,"title":"Use li elements for all dropdown items in the vulnerability state dropdown","description":"## Summary\n\nThis issue originates from this MR comment: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/24847#note_296388758\n\nIn `ee/app/assets/javascripts/vulnerabilities/components/vulnerability_state_dropdown.vue`, there's a `\u003cdiv\u003e` that contains two buttons, but it's a sibling of a bunch of `\u003cli\u003e` elements inside of a `\u003cul\u003e`. This is to work around a global `.dropdown-menu li` class that will format buttons a certain way, and using `\u003cli\u003e` as the parent element will make them look incorrect:\n\n| Using a li | What it should look like |\n| ---------- | ------------------------ |\n| ![image](/uploads/c97b298d274aaec0dc3993aa3e068548/image.png) | ![image](/uploads/193038a88091475b74b4e22b1bf1414f/image.png) |\n\nWe should fix it so that the `\u003cdiv\u003e` is turned into a `\u003cli\u003e` element in order to keep semantically correct HTML. An override class needs to be added to the `.dropdown-menu li` that will undo the built-in style that it applies to the buttons.\n\n## Improvements\n\nThis change will turn semantically incorrect HTML into semantically correct HTML, which can benefit browsers that expect semantically correct HTML (for example, screen readers and other assistive devices).\n\n## Risks\n\nNone. The change will change an element from an incorrect type to the correct type.\n\n## Involved components\n\n`ee/app/assets/javascripts/vulnerabilities/components/vulnerability_state_dropdown.vue`\n`app/assets/stylesheets/framework/dropdowns.scss`\n\n## Optional: Intended side effects\n\nA new class will be added to dropdowns.scss, which will be global for all pages. It needs to be unique enough to not be inadvertently applied to any existing classes.\n\n## Implementation\n\nPerhaps the `gl-dropdown` should style buttons differently if there are multiple buttons in a single dropdown li; sort of like a special footer styling for cases like this. I am surprised this is not an option already.\n\nThere are several styles that need to change:\n\n```css\nborder: 0 // auto/inherit,\nborder-radius: 0 // 10,\ndisplay: block //inline-block,\nwidth: 100% // inherit,\n// plus some hover state styling\n```\n\nWe should do the work in GitLab UI so that it can be reused in the future. It may be worth checking if `\u003cb-dropdown\u003e` (what `GlDropdown` uses internally) supports buttons:\n\nhttps://bootstrap-vue.org/docs/components/dropdown\n\nand if it does, figure out how to make that work when used with `GlDropdown`. There's also a `GlNewDropdown` that might be worth looking into as well:\n\nhttps://gitlab-org.gitlab.io/gitlab-ui/?path=/story/base-new-dropdown--default\n\nIt may have support for the buttons already.\n\nN/A","state":"closed","created_at":"2020-03-06T10:44:10.047Z","updated_at":"2022-02-15T15:08:01.298Z","closed_at":"2022-02-15T15:08:01.275Z","closed_by":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"labels":["Category:Vulnerability Management","[deprecated] Accepting merge requests","devops::secure","frontend","good for new contributors","group::threat insights","section::sec","type::maintenance","vulnerability interaction","workflow::ready for development"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":4907528,"username":"dftian","name":"Daniel Tian","state":"active","avatar_url":"https://secure.gravatar.com/avatar/5d7186a64c42708833291afd7749c7b5?s=80\u0026d=identicon","web_url":"https://gitlab.com/dftian"},"type":"ISSUE","assignee":null,"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/209252","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/209252","notes":"https://gitlab.com/api/v4/projects/278964/issues/209252/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/209252/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#209252","relative":"#209252","full":"gitlab-org/gitlab#209252"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31659911,"iid":209244,"project_id":278964,"title":"Investigate how to programmatically create branches, commits and merge requests in GitLab","description":"### Problem statement\n\nAs part of our static site editing experience we will be creating branches, commits and merge requests automatically on behalf of the user.\n\n### Objective\n\nThe objective of this issue is the investigate how this is done in the GitLab codebase and to provide a short written summary to the team to share the knowledge. \n\nA reference point for this functionality is the WebIDE.","state":"closed","created_at":"2020-03-06T09:28:31.412Z","updated_at":"2020-03-12T11:37:24.262Z","closed_at":"2020-03-11T14:08:09.243Z","closed_by":{"id":4221631,"username":"jeanduplessis-gitlab","name":"Jean du Plessis","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4221631/avatar.png","web_url":"https://gitlab.com/jeanduplessis-gitlab"},"labels":["Category:Static Site Editor","backend","devops::create","group::static site editor [DEPRECATED]"],"milestone":{"id":1001916,"iid":44,"group_id":9970,"title":"12.9","description":"https://about.gitlab.com/releases/2020/03/22/gitlab-12-9-released","state":"closed","created_at":"2019-09-15T20:54:50.875Z","updated_at":"2020-09-02T11:04:41.671Z","due_date":"2020-03-17","start_date":"2020-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/44"},"assignees":[{"id":4221631,"username":"jeanduplessis-gitlab","name":"Jean du Plessis","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4221631/avatar.png","web_url":"https://gitlab.com/jeanduplessis-gitlab"}],"author":{"id":4221631,"username":"jeanduplessis-gitlab","name":"Jean du Plessis","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4221631/avatar.png","web_url":"https://gitlab.com/jeanduplessis-gitlab"},"type":"ISSUE","assignee":{"id":4221631,"username":"jeanduplessis-gitlab","name":"Jean du Plessis","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4221631/avatar.png","web_url":"https://gitlab.com/jeanduplessis-gitlab"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/209244","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/209244","notes":"https://gitlab.com/api/v4/projects/278964/issues/209244/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/209244/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#209244","relative":"#209244","full":"gitlab-org/gitlab#209244"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2784,"epic":{"id":26795,"iid":2784,"title":"Edit a single Middleman page using a static site editor","url":"/groups/gitlab-org/-/epics/2784","group_id":9970,"human_readable_end_date":"Apr 22, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31642428,"iid":209225,"project_id":278964,"title":"Docs for \"Set the default SSL cert path when invoking indexer\"","description":"Review and update the docs for \"Set the default SSL cert path when invoking indexer\"\n\n## References\n\nMerged MR that introduced documentation requiring review:\n\nhttps://gitlab.com/gitlab-org/gitlab/-/merge_requests/26036","state":"closed","created_at":"2020-03-06T02:47:27.119Z","updated_at":"2022-05-31T11:24:17.249Z","closed_at":"2020-11-20T11:04:56.584Z","closed_by":{"id":3585,"username":"axil","name":"Achilleas Pipinellis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3585/avatar.png","web_url":"https://gitlab.com/axil"},"labels":["Category:Global Search","Technical Writing","devops::data_stores","docs-only","docs::improvement","documentation","group::global search","missed:12.10","missed:12.9","missed:13.0","missed:13.2","section::enablement"],"milestone":{"id":1233757,"iid":54,"group_id":9970,"title":"13.7","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:43:14.893Z","updated_at":"2022-04-13T14:51:12.240Z","due_date":"2020-12-17","start_date":"2020-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/54"},"assignees":[{"id":4888751,"username":"changzhengliu","name":"Changzheng Liu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4888751/avatar.png","web_url":"https://gitlab.com/changzhengliu"}],"author":{"id":3658061,"username":"rdickenson","name":"Russell Dickenson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3658061/avatar.png","web_url":"https://gitlab.com/rdickenson"},"type":"ISSUE","assignee":{"id":4888751,"username":"changzhengliu","name":"Changzheng Liu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4888751/avatar.png","web_url":"https://gitlab.com/changzhengliu"},"user_notes_count":7,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/209225","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/209225","notes":"https://gitlab.com/api/v4/projects/278964/issues/209225/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/209225/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#209225","relative":"#209225","full":"gitlab-org/gitlab#209225"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31641335,"iid":209222,"project_id":278964,"title":"Audit Events: Add merge request approval rule creation","description":"### Problem to solve\n\nAudit merge request approval rule creation on project level.\n\nFor ~\"GitLab Premium\", user can create multiple merge request approval rules and we would like to audit this creation.\n\nFor ~\"GitLab Starter\", when the user initially lands on the Merge Request Approvals settings page, the UI was presented as if it was an update to an existing rule but indeed a new rule is created.\n\n![Screen_Shot_2020-02-24_at_8.33.59_pm](/uploads/6344876cbdc81141a2546bcdf8c095c4/Screen_Shot_2020-02-24_at_8.33.59_pm.png)\n\nFor this use case, the work on gitlab-org/gitlab#7531 does not capture that first update action as it was technically a creation. However, from end-user perspective, I think it is valuable to capture that info in audit event too.\n\n### Intended users\n\nSoftware Developer / Development Team Lead / System Admin\n\n### Further details\n\nhttps://gitlab.com/groups/gitlab-org/-/epics/474\n\n### Proposal\n\nRecord an audit event when user creates a new MR approval rule. This event should be visible under Project \u003e Audit Events and Admin Area \u003e Audit Log. It would be useful to capture additional attributes in addition to the Rule name, perhaps the number of required approvals.\n\n* Author: `User`\n* Action: Added approval rule with number of required approvals of X\n* Target: `Rule name`\n\n![Screen_Shot_2020-03-06_at_1.36.30_pm](/uploads/bbe731195e17832c26d5e77ef5acc0b4/Screen_Shot_2020-03-06_at_1.36.30_pm.png)\n\n### Permissions and Security\n\nUser who has Maintainer permissions and can view Project Audit Event page\nhttps://docs.gitlab.com/ee/administration/audit_events.html#project-events-starter\n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html\nAdd all known Documentation Requirements here, per https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements\nIf this feature requires changing permissions, this document https://docs.gitlab.com/ee/user/permissions.html must be updated accordingly. --\u003e\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\n What risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\n### What does success look like, and how can we measure that?\n\n\u003c!-- Define both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. --\u003e\n\n### What is the type of buyer?\n\n\u003c!-- Which leads to: in which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#four-tiers --\u003e\n\n### Links / references","state":"closed","created_at":"2020-03-06T01:13:36.763Z","updated_at":"2022-03-09T06:30:25.605Z","closed_at":"2022-03-09T06:30:25.585Z","closed_by":{"id":10467142,"username":"harsimarsandhu","name":"Harsimar Sandhu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10467142/avatar.png","web_url":"https://gitlab.com/harsimarsandhu"},"labels":["Category:Audit Events","GitLab Premium","Next Up","audit_events::workflow_or_cosmetic_changes","backend","devops::manage","group::compliance","section::dev","type::feature","workflow::verification"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":10467142,"username":"harsimarsandhu","name":"Harsimar Sandhu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10467142/avatar.png","web_url":"https://gitlab.com/harsimarsandhu"}],"author":{"id":398752,"username":"tancnle","name":"Tan Le","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/398752/avatar.png","web_url":"https://gitlab.com/tancnle"},"type":"ISSUE","assignee":{"id":10467142,"username":"harsimarsandhu","name":"Harsimar Sandhu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10467142/avatar.png","web_url":"https://gitlab.com/harsimarsandhu"},"user_notes_count":17,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/209222","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/209222","notes":"https://gitlab.com/api/v4/projects/278964/issues/209222/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/209222/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#209222","relative":"#209222","full":"gitlab-org/gitlab#209222"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7268,"epic":{"id":403566,"iid":7268,"title":"Comprehensive audit log: Merge Request Approval Auditing","url":"/groups/gitlab-org/-/epics/7268","group_id":9970,"human_readable_end_date":"May 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31639576,"iid":209214,"project_id":278964,"title":"Add confirmation message when regenerating feature flag instance id","description":"### Problem to solve\n\nIt is too easy to accidentally regenerate an instance id for the feature flags instead of copy the instance id. If it gets regenerated, then we must update this in our application and restart our app in all environments in order to use the new instance id. \n\n![image](/uploads/648579e4d2c9674303c519d126fa1254/image.png)\n\n### Intended users\nMaintainers and owners of applications using feature flags\n\n### Further details\n\n\u003c!-- Include use cases, benefits, and/or goals (contributes to our vision?) --\u003e\n\n### Proposal\n\nRequire the user to type the name of the project to confirm their intentions before regenerating the id.\n* The `Regenerate instance id` button should be disabled until a valid text entry has been entered.\n\n| Mockup  |\n| --- |\n| ![Configure_modal](/uploads/13aafe6de14fcb8ff8eda8dfcce34624/Configure_modal.png) |\n\nThe red warning text in the mockup may be replaced with a [warning call out/alert ui](https://design.gitlab.com/components/alert)\n\n### Permissions and Security\n\nMaintainer, owner of the app/repo\n\n### Documentation\n\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\n What risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\n### What does success look like, and how can we measure that?\n\n\u003c!-- Define both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. --\u003e\n\n### What is the type of buyer?\n\n\u003c!-- Which leads to: in which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#four-tiers --\u003e\n\n### Links / references","state":"closed","created_at":"2020-03-05T22:47:57.122Z","updated_at":"2021-02-19T09:42:28.178Z","closed_at":"2020-09-25T05:05:35.788Z","closed_by":{"id":6348276,"username":"agulina","name":"Angelo Gulina","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b28693a558066993ea93b7272208d285?s=80\u0026d=identicon","web_url":"https://gitlab.com/agulina"},"labels":["Category:Feature Flags","Release::P3","UX","UX debt","cicd::active","devops::release","direction","frontend","frontend-weight::1","group::release","release post item::in review","section::ops","severity::2","type::feature","workflow::production"],"milestone":{"id":1233752,"iid":50,"group_id":9970,"title":"13.3","description":"https://about.gitlab.com/releases/2020/08/22/gitlab-13-3-released/","state":"closed","created_at":"2020-04-09T17:39:21.090Z","updated_at":"2022-04-13T14:50:18.976Z","due_date":"2020-08-17","start_date":"2020-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/50"},"assignees":[{"id":6348276,"username":"agulina","name":"Angelo Gulina","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b28693a558066993ea93b7272208d285?s=80\u0026d=identicon","web_url":"https://gitlab.com/agulina"}],"author":{"id":5399475,"username":"agarcia670","name":"Andy Garcia","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5399475/avatar.png","web_url":"https://gitlab.com/agarcia670"},"type":"ISSUE","assignee":{"id":6348276,"username":"agulina","name":"Angelo Gulina","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b28693a558066993ea93b7272208d285?s=80\u0026d=identicon","web_url":"https://gitlab.com/agulina"},"user_notes_count":29,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/209214","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/209214","notes":"https://gitlab.com/api/v4/projects/278964/issues/209214/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/209214/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#209214","relative":"#209214","full":"gitlab-org/gitlab#209214"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3598,"epic":{"id":68860,"iid":3598,"title":"Release UX Debt","url":"/groups/gitlab-org/-/epics/3598","group_id":9970,"human_readable_end_date":"Oct 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31634858,"iid":209179,"project_id":278964,"title":"Add authorization to VulnerabilitySummaryType","description":"## Summary\n\n`VulnerabilitySummaryType` does not have a call to `authorize` and ignores the related Rubocop warning because, at the time of its creation, our GraphQL authentication logic did not allow Hash resolution.\n\n## Implementation plan\n\n1. Add `:read_vulnerability_severities_count` to `EE::ProjectPolicy` (`ee/app/policies/ee/project_policy.rb`) where appropriate.\n2. Add `authorize :read_vulnerability_severities_count` to `VulnerabilitySeveritiesCountType` (`ee/app/graphql/types/vulnerability_severities_count_type.rb`)\n3. Remove `# rubocop: disable Graphql/AuthorizeTypes` comment from `VulnerabilitySeveritiesCountType`","state":"closed","created_at":"2020-03-05T19:50:11.135Z","updated_at":"2022-11-21T17:53:30.967Z","closed_at":"2022-11-21T17:53:30.935Z","closed_by":{"id":487608,"username":"Quintasan","name":"MichaÅ‚ ZajÄ…c","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/487608/avatar.png","web_url":"https://gitlab.com/Quintasan"},"labels":["Category:Vulnerability Management","GraphQL","backend","devops::govern","group::threat insights","maintenance::refactor","missed:13.6","section::sec","type::maintenance","workflow::refinement"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":487608,"username":"Quintasan","name":"MichaÅ‚ ZajÄ…c","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/487608/avatar.png","web_url":"https://gitlab.com/Quintasan"}],"author":{"id":4059128,"username":"avielle","name":"Avielle Wolfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4059128/avatar.png","web_url":"https://gitlab.com/avielle"},"type":"ISSUE","assignee":{"id":487608,"username":"Quintasan","name":"MichaÅ‚ ZajÄ…c","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/487608/avatar.png","web_url":"https://gitlab.com/Quintasan"},"user_notes_count":19,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/209179","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/209179","notes":"https://gitlab.com/api/v4/projects/278964/issues/209179/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/209179/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#209179","relative":"#209179","full":"gitlab-org/gitlab#209179"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2787,"epic":{"id":26927,"iid":2787,"title":"Vulnerability Management - Tech Debt","url":"/groups/gitlab-org/-/epics/2787","group_id":9970},"iteration":null,"health_status":null},{"id":31630851,"iid":209124,"project_id":278964,"title":"Geo: Dry up serialization of Replicators","description":"There are a number of locations where we need to serialize an instance of a `Replicator`. In some cases we re-instantiate it later.\n\n- https://gitlab.com/gitlab-org/gitlab/blob/master/ee/app/services/geo/blob_download_service.rb#L72\n- https://gitlab.com/gitlab-org/gitlab/blob/master/ee/lib/gitlab/geo/replication/blob_downloader.rb#L53\n- https://gitlab.com/gitlab-org/gitlab/blob/master/ee/lib/gitlab/geo/replication/blob_downloader.rb#L185\n- https://gitlab.com/gitlab-org/gitlab/blob/master/ee/lib/gitlab/geo/replication/blob_downloader.rb#L67\n- WIP https://gitlab.com/gitlab-org/gitlab/-/merge_requests/25411/diffs\n\nIt would be useful to define exactly two obvious methods to do this and no more.\n\n## Proposal\n\nI propose `Replicator#to_param` and `Replicator.for_param(replicator_param)` but please suggest better names. `#to_s` could be used, but seems too implicit.\n\nI propose the format is `\"#{replicable_name}/#{model_id}\"`.\n\nThis is weight 0.5 while everything is still under feature flag. Later than that, we have backwards compatibility work.","state":"closed","created_at":"2020-03-05T17:57:08.596Z","updated_at":"2020-05-27T13:17:53.923Z","closed_at":"2020-05-20T19:42:18.535Z","closed_by":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"labels":["Deliverable","devops::systems","group::geo","maintenance::refactor","workflow::in review"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"}],"author":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"type":"ISSUE","assignee":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/209124","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/209124","notes":"https://gitlab.com/api/v4/projects/278964/issues/209124/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/209124/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#209124","relative":"#209124","full":"gitlab-org/gitlab#209124"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2346,"epic":{"id":16453,"iid":2346,"title":"Geo: Self Service Framework - First Implementation for Package File replication","url":"/groups/gitlab-org/-/epics/2346","group_id":9970,"human_readable_end_date":"Jul 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31629695,"iid":209121,"project_id":278964,"title":"Download daily coverage data","description":"### Problem to solve\n\n[Delaney](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead) has built a custom tool to download data through the GitLab API to the daily code coverage value for projects their team(s) work on to ensure that code coverage is not decreasing. This is repeated work for every project and for every Delaney and can easily break.\n\n### Intended users\n\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n\n### Further details\n\nThis will be a precursor to building a [code coverage graph](https://gitlab.com/gitlab-org/gitlab/issues/33743) for users who just want the data now and do not want to or cannot build an API integration themselves.\n\n### Proposal\n\n* Add a drop down showing jobs that calculate coverage and a 'Download coverage data' button to the Analytics-\u003eRepository Analytics.\n* A report with up to 90 days of data (one data point per day per job) will be downloaded as a CSV.\n* Send a data point to snowplow of report downloaded with date/time stamp on it so we can capture usage of the feature.\n\n### Permissions and Security\n\nN/A\n\n### Documentation\n\n* Update [existing docs](https://docs.gitlab.com/ee/user/project/pipelines/settings.html#test-coverage-parsing) about test coverage parsing to reference where to find the button/download.\n\n### Availability \u0026 Testing\n\n@zeffmorgan - do you have anything to add here?\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\n What risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\n### What does success look like, and how can we measure that?\n\n* Success is customers start to download the report, some # of downloads or % of users who download in the first 90 days.\n\n### What is the type of buyer?\n\nThis is a feature for the Engineering Manager but will be offered at Core.\n\n### Links / references","state":"closed","created_at":"2020-03-05T17:25:38.802Z","updated_at":"2020-05-29T14:54:26.974Z","closed_at":"2020-05-18T11:44:03.057Z","closed_by":{"id":1758950,"username":"iamricecake","name":"Erick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1758950/avatar.png","web_url":"https://gitlab.com/iamricecake"},"labels":["Category:Code Testing and Coverage","Verify::P1","backend","devops::verify","frontend","group::pipeline insights","missed:12.10","missed:12.9","type::feature","workflow::production"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":1758950,"username":"iamricecake","name":"Erick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1758950/avatar.png","web_url":"https://gitlab.com/iamricecake"}],"author":{"id":4512666,"username":"jheimbuck_gl","name":"James Heimbuck","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8dd2ef9c1cacb6e80d7ca47db6f0ce22?s=80\u0026d=identicon","web_url":"https://gitlab.com/jheimbuck_gl"},"type":"ISSUE","assignee":{"id":1758950,"username":"iamricecake","name":"Erick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1758950/avatar.png","web_url":"https://gitlab.com/iamricecake"},"user_notes_count":19,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/209121","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/209121","notes":"https://gitlab.com/api/v4/projects/278964/issues/209121/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/209121/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#209121","relative":"#209121","full":"gitlab-org/gitlab#209121"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3281,"epic":{"id":52801,"iid":3281,"title":"Code Coverage Data for projects","url":"/groups/gitlab-org/-/epics/3281","group_id":9970,"human_readable_end_date":"Jul 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31625942,"iid":209108,"project_id":278964,"title":"Add health status counts to epic tree","description":"The top of the tree should have a rollup of all issue information for each health status.\n\nEach epic will have counts of issues with individual health statuses.\n\n### Design\nhttps://gitlab-org.gitlab.io/gitlab-design/hosted/alexis/%23199184-health-status-epic-tree-spec-previews/\n\nLook at the design tab for more mocks.\n\n### Notes\nRollup should show 0 if applicable (as opposed to just hiding)","state":"closed","created_at":"2020-03-05T16:32:15.649Z","updated_at":"2020-04-20T19:44:15.795Z","closed_at":"2020-04-16T09:38:55.639Z","closed_by":{"id":508743,"username":"jarka","name":"Jarka KoÅ¡anovÃ¡","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"},"labels":["Dogfooding","GitLab Ultimate","Technical Writing","backend","devops::plan","docs::feature","documentation","epic tree","frontend","group::product planning","missed:12.9","planning priority","workflow::verification"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":508743,"username":"jarka","name":"Jarka KoÅ¡anovÃ¡","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"},{"id":3236898,"username":"rajatgitlab","name":"Rajat Jain","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3236898/avatar.png","web_url":"https://gitlab.com/rajatgitlab"},{"id":3617348,"username":"uhlexsis","name":"Alexis Ginsberg","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3617348/avatar.png","web_url":"https://gitlab.com/uhlexsis"}],"author":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"type":"ISSUE","assignee":{"id":508743,"username":"jarka","name":"Jarka KoÅ¡anovÃ¡","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"},"user_notes_count":6,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/209108","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/209108","notes":"https://gitlab.com/api/v4/projects/278964/issues/209108/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/209108/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#209108","relative":"#209108","full":"gitlab-org/gitlab#209108"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2204,"epic":{"id":15028,"iid":2204,"title":"Health Status of Work MVC : Assign to Issue and View within an Epic","url":"/groups/gitlab-org/-/epics/2204","group_id":9970,"human_readable_end_date":"May 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31624019,"iid":209099,"project_id":278964,"title":"JUnit integration reports skipped tests as passed","description":"### Summary\n\nJUnit integration reports skipped tests as passed\n\n### Problem to solve\n\n[Sasha](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer) is writing unit tests along with code with results in a format GitLab can consume and report on about what [passed and failed](https://docs.gitlab.com/ee/ci/junit_test_reports.html). This is great if all tests are run but Sasha is starting to write more complex tests that are sometimes skipped based on previous test results or other external factors to the test suite. Today those skipped tests are showing up as successful test executions in the GitLab reports, an incorrect signal to Sasha and the team about the reliability of their code.\n\n### Intended users\n\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer) - who is seeing test results in pipeline results and merge requests.\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test) - Who is validating test coverage and effectiveness of those tests.\n\n### Further details\n\nThis enhances the [JUnit reports](https://docs.gitlab.com/ee/ci/junit_test_reports.html#viewing-junit-test-reports-on-gitlab) which already has a column for skipped but is not being populated today.\n\nA future enhancement could be to update the [Test Summary Widget](https://docs.gitlab.com/ee/ci/junit_test_reports.html#how-it-works) to include additional information about the tests skipped on the head branch compared to results on the base branch.\n\n### Steps to reproduce\n\n* Go to the following repository: https://gitlab.com/marknelson/junit-issue-reproducer\n* Run the CI/CD pipeline in that repository, or just look at this run:\nhttps://gitlab.com/marknelson/junit-issue-reproducer/pipelines/123638823\n* Look at the job output: https://gitlab.com/marknelson/junit-issue-reproducer/-/jobs/460993965\n* Notice, at the end it reports the test results:\n\n    ```\n     Ran 1 of 2 Specs in 0.003 seconds\n     SUCCESS! -- 1 Passed | 0 Failed | 0 Pending | 1 Skipped\n     PASS\n    ```\n\n* The JUnit file produced has the same info, for reference: \n\n    ````\n    \u003c?xml version=\"1.0\" encoding=\"UTF-8\"?\u003e\n      \u003ctestsuite name=\"My Test Suite\" tests=\"1\" failures=\"0\" errors=\"0\" time=\"0\"\u003e\n          \u003ctestcase name=\"Tests can pass\" classname=\"My Test Suite\" time=\"5.28e-06\"\u003e\u003c/testcase\u003e\n          \u003ctestcase name=\"Tests can be skipped\" classname=\"My Test Suite\" time=\"0.00021871\"\u003e\n              \u003cskipped\u003e\u003c/skipped\u003e\n          \u003c/testcase\u003e\n      \u003c/testsuite\u003e\n    ````\n\n* Now look at the tests tab in the pipeline: https://gitlab.com/marknelson/junit-issue-reproducer/pipelines/123638823/test_report\n* Notice it reports 2 passed, 0 skipped. It should report 1 passed, 1 skipped.\n\n### Example Project\n\nsee above\n\n### What is the current behavior?\nGitLab CI pipeline test report counts skipped tests as \"passed\".\n\n### What is the expected new behavior?\n\nGitLab CI pipeline test report should count skipped tests as \"skipped\".\n\n### Relevant logs and/or screenshots\n\nsee above\n\n### Output of checks\n\nThis bug happens on GitLab.com (and on our private installation too)\n\n### Possible fixes\n\nThis seems to be a spec/test for this feature, it does not seem to inlcude a test for \nskipped tests:\nhttps://gitlab.com/gitlab-org/gitlab/-/blob/acc05479b1723f8804579548d8d3bde2478c18fd/spec/lib/gitlab/ci/parsers/test/junit_spec.rb\n\nThis code seems to be where it creates the report - it seems to only handle pass, fail and error, not skipped.\nhttps://gitlab.com/gitlab-org/gitlab/-/blob/acc05479b1723f8804579548d8d3bde2478c18fd/lib/gitlab/ci/parsers/test/junit.rb#L48\n\nAll of the serializers and `Test(Reports|Suites|Case)` classes seems to handle `skipped` already, and we're just not correctly parsing out the `skipped` status in `Ci::Parsers::Test:Junit#create_test_case`. Adding some failure-affirming specs there and then adding handling for skipped cases should do the trick.\n\n### Further details\n\nThis enhances the [JUnit reports](https://docs.gitlab.com/ee/ci/junit_test_reports.html#viewing-junit-test-reports-on-gitlab) which already has a column for skipped but is not being populated today.\n\nA future enhancement will be to update the [Test Summary Widget](https://docs.gitlab.com/ee/ci/junit_test_reports.html#how-it-works) to include additional information about the tests skipped on the head branch compared to results on the base branch.","state":"closed","created_at":"2020-03-05T15:53:59.406Z","updated_at":"2020-06-18T04:04:20.410Z","closed_at":"2020-03-31T17:20:35.826Z","closed_by":{"id":4512666,"username":"jheimbuck_gl","name":"James Heimbuck","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8dd2ef9c1cacb6e80d7ca47db6f0ce22?s=80\u0026d=identicon","web_url":"https://gitlab.com/jheimbuck_gl"},"labels":["CEO Interest","Category:Code Testing and Coverage","Verify::P1","customer","devops::verify","feature::enhancement","group::pipeline insights","workflow::production"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":730684,"username":"drew","name":"drew stachon","state":"active","avatar_url":"https://secure.gravatar.com/avatar/59b7f2c95acd4a085d964f745ead6bdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/drew"}],"author":{"id":2091887,"username":"marknelson","name":"Mark Nelson","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3ec1d0633da2bc3e6fac237f2ce78358?s=80\u0026d=identicon","web_url":"https://gitlab.com/marknelson"},"type":"ISSUE","assignee":{"id":730684,"username":"drew","name":"drew stachon","state":"active","avatar_url":"https://secure.gravatar.com/avatar/59b7f2c95acd4a085d964f745ead6bdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/drew"},"user_notes_count":16,"merge_requests_count":0,"upvotes":7,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/209099","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/209099","notes":"https://gitlab.com/api/v4/projects/278964/issues/209099/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/209099/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#209099","relative":"#209099","full":"gitlab-org/gitlab#209099"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2950,"epic":{"id":33616,"iid":2950,"title":"Unit Test Report CI View MVC enhancements","url":"/groups/gitlab-org/-/epics/2950","group_id":9970,"human_readable_end_date":"Oct 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31621658,"iid":209089,"project_id":278964,"title":"Monaco Editor Lite should use syntax highlighting theme from user's preferences","description":"### Summary\n\nAt the moment, the Editor Lite (single-file editor) is always on the white background. It should instead use the preferences, set up by a user.\n\n### Steps to reproduce\n\n* In `http://localhost:3000/profile/preferences` set **Syntax highlighting theme** to anything other than \"White\"\n* Enable `:monaco_snippets` feature flag\n* Go to a Snippet and click \"Edit\"\n* You will see Monaco editor, but the highlighting theme will still be white\n\n| Preference | Result on a Snippet |\n| ------ | ------ |\n| ![Screenshot_2020-03-05_at_16.03.06](/uploads/f8c9d9ae6e09de0b56c2628d09efadbf/Screenshot_2020-03-05_at_16.03.06.png) | ![Screenshot_2020-03-05_at_16.03.11](/uploads/dea3c117ac005c6bf9c24cf53a79f221/Screenshot_2020-03-05_at_16.03.11.png) |\n\n\n### Example Project\n\nGitLab.com\n\n### What is the current *bug* behavior?\n\nThe theme is not picked up from the preferences\n\n### What is the expected *correct* behavior?\n\nThe selected theme should be applied to the single-file editor","state":"closed","created_at":"2020-03-05T15:08:42.060Z","updated_at":"2020-10-30T08:39:01.966Z","closed_at":"2020-03-05T17:11:44.000Z","closed_by":{"id":3199302,"username":"dmishunov","name":"Denys Mishunov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d85e45af29611ac2c1395e3c3d6ec5d6?s=80\u0026d=identicon","web_url":"https://gitlab.com/dmishunov"},"labels":["Category:Snippets","devops::create","frontend","group::editor","type::bug"],"milestone":{"id":1001916,"iid":44,"group_id":9970,"title":"12.9","description":"https://about.gitlab.com/releases/2020/03/22/gitlab-12-9-released","state":"closed","created_at":"2019-09-15T20:54:50.875Z","updated_at":"2020-09-02T11:04:41.671Z","due_date":"2020-03-17","start_date":"2020-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/44"},"assignees":[{"id":3199302,"username":"dmishunov","name":"Denys Mishunov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d85e45af29611ac2c1395e3c3d6ec5d6?s=80\u0026d=identicon","web_url":"https://gitlab.com/dmishunov"}],"author":{"id":3199302,"username":"dmishunov","name":"Denys Mishunov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d85e45af29611ac2c1395e3c3d6ec5d6?s=80\u0026d=identicon","web_url":"https://gitlab.com/dmishunov"},"type":"ISSUE","assignee":{"id":3199302,"username":"dmishunov","name":"Denys Mishunov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d85e45af29611ac2c1395e3c3d6ec5d6?s=80\u0026d=identicon","web_url":"https://gitlab.com/dmishunov"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/209089","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/209089","notes":"https://gitlab.com/api/v4/projects/278964/issues/209089/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/209089/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#209089","relative":"#209089","full":"gitlab-org/gitlab#209089"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3282,"epic":{"id":52822,"iid":3282,"title":"Replace Ace with Editor Lite","url":"/groups/gitlab-org/-/epics/3282","group_id":9970,"human_readable_end_date":"Nov 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31619405,"iid":209084,"project_id":278964,"title":"Remove feature flag entries on gitlab.com using chatops","description":"Just a note: don't forget to clear (delete) the feature flag using chatops.","state":"closed","created_at":"2020-03-05T14:33:21.323Z","updated_at":"2020-03-13T12:01:12.830Z","closed_at":"2020-03-13T12:01:06.940Z","closed_by":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"labels":["devops::growth","group::product intelligence"],"milestone":{"id":1001916,"iid":44,"group_id":9970,"title":"12.9","description":"https://about.gitlab.com/releases/2020/03/22/gitlab-12-9-released","state":"closed","created_at":"2019-09-15T20:54:50.875Z","updated_at":"2020-09-02T11:04:41.671Z","due_date":"2020-03-17","start_date":"2020-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/44"},"assignees":[{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"}],"author":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"type":"ISSUE","assignee":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2020-03-31","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/209084","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/209084","notes":"https://gitlab.com/api/v4/projects/278964/issues/209084/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/209084/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#209084","relative":"#209084","full":"gitlab-org/gitlab#209084"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31618866,"iid":209081,"project_id":278964,"title":"Removing a Group Managed user from the group should not prevent re-joining","description":"## Problem\n\nWhen a user is removed from a group using Group Managed Accounts they are left in an orphaned state that prevents them being re-added or signing up again.\n\nIn these cases, users who have been removed from the group cannot regain access to their account or the data by any means themselves. *The only way for the user account to be removed is for an admin to do so.*\n\n## Related\n\nhttps://gitlab.com/gitlab-org/manage/issues/15508\n\n## Steps to reproduce\n\n1. Set up Group Managed Accounts and sign a user up\n2. Either\n    * A. Navigate to the group membership page and remove the user\n    * B. Navigate to user account profile and click 'Disconnect' for the SAML group\n3. The account is orphaned because the user can no longer sign in or be added back to the group.\n4. Because the email is tied to that orphaned account the user can no longer be added back to the group and can no longer sign up again\n\n## Proposal\n\nAllow group owners to re-add users who are still marked as being managed by a group back into the group.\n* If a user is marked as a previously group managed account associated with that group, allow them to be manually added back into the group.\n\n## Alternative solutions\n\n* Prevent users from leaving their managing group\n* Prevent users from unlinking their managing group's SAML SSO via the accounts page, as this removes them from the group\n* Ensure SCIM can re-add GMA users if it temporarily removes them by setting `active` to `false`\n* Ensure group owners can't orphan the only account that is managing a group by disconnecting SAML and hitting SSO enforcement","state":"closed","created_at":"2020-03-05T14:23:02.966Z","updated_at":"2021-11-22T18:02:45.347Z","closed_at":"2021-04-27T15:42:59.660Z","closed_by":{"id":2629166,"username":"lmcandrew","name":"Liam McAndrew","state":"active","avatar_url":"https://secure.gravatar.com/avatar/5801f5e2fd21127836c0be61ec71f06b?s=80\u0026d=identicon","web_url":"https://gitlab.com/lmcandrew"},"labels":["UX","[deprecated] Accepting merge requests","backend","customer","devops::manage","group::authentication and authorization","missed:13.0","priority::1","saml","section::dev","type::bug"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":654619,"username":"jamedjo","name":"James Edwards-Jones","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/654619/avatar.png","web_url":"https://gitlab.com/jamedjo"},"type":"ISSUE","assignee":null,"user_notes_count":12,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/209081","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/209081","notes":"https://gitlab.com/api/v4/projects/278964/issues/209081/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/209081/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#209081","relative":"#209081","full":"gitlab-org/gitlab#209081"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3057,"epic":{"id":39746,"iid":3057,"title":"Group Managed Accounts: General Availability","url":"/groups/gitlab-org/-/epics/3057","group_id":9970,"human_readable_end_date":"May 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31613349,"iid":209070,"project_id":278964,"title":"Ensure that dynamic child pipeline depends explicitly on the generator job","description":"## Problem\n\nWhen using \"Dynamic Child Pipeline\" feature we are not strictly checking whether the job generating the configurations is a dependency for the trigger job using the generated configuration.\n\nThe following snippet has `child-pipeline` job running before `generate-config`. This will cause the following behavior:\n\n1. Parent pipeline is created successfully\n1. Parent pipeline's jobs are enqueued\n1. Trigger job `child-pipeline` runs and attempts to create a child pipeline\n1. The child pipeline fails with error `Job generate-config not found in parent pipeline or does not have artifacts`\n1. Trigger job fails by consequence\n1. Parent pipeline fails by consequence\n\n```ruby\nchild-pipeline:\n  stage: test\n  trigger:\n    include:\n      - artifact: generated-config.yml\n        job: generate-config\n\ngenerate-config:\n  stage: deploy\n  script: generate-ci-config \u003e generated-config.yml\n  when: always\n  artifacts:\n    paths:\n      - generated-config.yml\n```\n\n## Expected behavior\n\n1. Parent pipeline fails immediately showing an error `child-pipeline does not depend on a generate-config job`\n\n---\n\nOriginal discussion: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/23790#note_298174064","state":"closed","created_at":"2020-03-05T12:07:13.409Z","updated_at":"2020-04-14T09:26:34.925Z","closed_at":"2020-04-14T09:25:45.184Z","closed_by":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"labels":["Category:Continuous Integration","Verify::P1","backend","customer","devops::verify","documentation","group::pipeline execution","missed:12.9","type::feature","workflow::production"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"}],"author":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"type":"ISSUE","assignee":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"user_notes_count":1,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/209070","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/209070","notes":"https://gitlab.com/api/v4/projects/278964/issues/209070/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/209070/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#209070","relative":"#209070","full":"gitlab-org/gitlab#209070"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2750,"epic":{"id":25852,"iid":2750,"title":"Parent-Child Pipeline MVC \u0026 Follow-Ups","url":"/groups/gitlab-org/-/epics/2750","group_id":9970,"human_readable_end_date":"Aug 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":31611969,"iid":209063,"project_id":278964,"title":"Should we log the usage ping errors","description":"```ruby\n      rescue ActiveRecord::StatementInvalid\n        { avg_cycle_analytics: {} }\n```","state":"closed","created_at":"2020-03-05T11:29:27.224Z","updated_at":"2021-12-07T00:19:59.654Z","closed_at":"2021-12-06T23:42:18.850Z","closed_by":{"id":8013274,"username":"pskorupa","name":"Piotr Skorupa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8013274/avatar.png","web_url":"https://gitlab.com/pskorupa"},"labels":["[deprecated] Accepting merge requests","devops::growth","group::product intelligence","section::growth"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/209063","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":0,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/209063","notes":"https://gitlab.com/api/v4/projects/278964/issues/209063/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/209063/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#209063","relative":"#209063","full":"gitlab-org/gitlab#209063"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null}]