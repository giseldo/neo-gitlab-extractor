[{"id":32366310,"iid":212274,"project_id":278964,"title":"test suite report screen scroll is buggy, making individual tests unreadable","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nEE client here. We are using the Junit XML test reporting on our pipeline to show the test results within Gitlab. With our current set up these generate stacktraces on errors, that show up when clicking on the test suite to see the individual test results.\n\nWe have a reasonable amount of tests, hundreds, so the list scrolls. However, there is some javascript around the scrollable window that does not work properly, so we cannot properly read the tests. \n\nAs on GitLab Enterprise Edition 12.7.6-ee\n\n### Steps to reproduce\n\nRun a pipeline with a large amount of tests, that also has some errors.\nupon completion, check the pipeline page, go to tests, and click on the test suite.\nTry to scroll through this list of individual test results.\n\n### Example Project\n\nhttps://gitlab.com/ethan.reesor/contrib/gitlab-272274/pipelines/142035286/test_report\n\n### What is the current *bug* behavior?\n\nscrolling through the list of individual test results, the scrolling jumps unexpectedly over some parts of the scroll area. \n\n![Screen_Recording_2020-02-21_at_9.46.32_AM](/uploads/b5f68bb6462de0d3cedad7e2314d5275/Screen_Recording_2020-02-21_at_9.46.32_AM.mov)\n\n### What is the expected *correct* behavior?\n\nI can neatly scroll through the test results list, reading each test result with all info that goes with it.\n\n### Relevant logs and/or screenshots\n\nTo be exactly clear, this is the feature: https://docs.gitlab.com/ee/ci/junit_test_reports.html\n\n### Output of checks\n\nAs on GitLab Enterprise Edition 12.7.6-ee\n\n#### Results of GitLab environment info\n\nI have no access to this.\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\nI have no access to this.\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\nThis janky/jumpy/buggy scrolling seems to happen because some javascript tries to minimize the number of test results in the DOM. When I see the scroll becoming janky, I see removal/change of DOM content in firefox devtools.\n\nThis code might have some assumption on how many pixels of height each test result has, which is wrong for test results with long names and/or error results such as stack traces?","state":"closed","created_at":"2020-03-24T08:23:47.463Z","updated_at":"2020-11-12T22:47:32.346Z","closed_at":"2020-09-11T19:42:47.271Z","closed_by":{"id":3029776,"username":"shampton","name":"Scott Hampton","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3029776/avatar.png","web_url":"https://gitlab.com/shampton"},"labels":["Category:Code Testing and Coverage","customer","devops::verify","frontend","group::pipeline insights","priority::3","section::ops","severity::3","type::bug","workflow::production"],"milestone":{"id":1233753,"iid":51,"group_id":9970,"title":"13.4","description":"https://about.gitlab.com/releases/2020/09/22/gitlab-13-4-released/","state":"closed","created_at":"2020-04-09T17:39:21.662Z","updated_at":"2022-04-13T14:50:33.769Z","due_date":"2020-09-17","start_date":"2020-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/51"},"assignees":[{"id":3029776,"username":"shampton","name":"Scott Hampton","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3029776/avatar.png","web_url":"https://gitlab.com/shampton"}],"author":{"id":382400,"username":"fvanderwielen","name":"Florian van der Wielen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3bba395a221b5e6d64a1b036b4b473e0?s=80\u0026d=identicon","web_url":"https://gitlab.com/fvanderwielen"},"type":"ISSUE","assignee":{"id":3029776,"username":"shampton","name":"Scott Hampton","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3029776/avatar.png","web_url":"https://gitlab.com/shampton"},"user_notes_count":25,"merge_requests_count":0,"upvotes":6,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212274","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212274","notes":"https://gitlab.com/api/v4/projects/278964/issues/212274/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212274/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212274","relative":"#212274","full":"gitlab-org/gitlab#212274"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2950,"epic":{"id":33616,"iid":2950,"title":"Unit Test Report CI View MVC enhancements","url":"/groups/gitlab-org/-/epics/2950","group_id":9970,"human_readable_end_date":"Oct 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":32356896,"iid":212258,"project_id":278964,"title":"Translate unauthenticated user string for Audit Event","description":"The following discussion from !26245 should be addressed:\n\n- [ ] @rdavila started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/26245#note_310066598):  (+1 comment)\n\n    \u003e Should we mark `An unauthenticated user` for translation?","state":"closed","created_at":"2020-03-24T00:53:23.899Z","updated_at":"2021-02-05T07:50:11.793Z","closed_at":"2021-02-05T07:50:11.660Z","closed_by":{"id":398752,"username":"tancnle","name":"Tan Le","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/398752/avatar.png","web_url":"https://gitlab.com/tancnle"},"labels":["[deprecated] Accepting merge requests","backend","devops::manage","group::compliance","missed:12.10","section::dev","workflow::verification"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[],"author":{"id":398752,"username":"tancnle","name":"Tan Le","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/398752/avatar.png","web_url":"https://gitlab.com/tancnle"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212258","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212258","notes":"https://gitlab.com/api/v4/projects/278964/issues/212258/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212258/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212258","relative":"#212258","full":"gitlab-org/gitlab#212258"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32353462,"iid":212249,"project_id":278964,"title":"Add \"author_username\" parameter to Merge Request API","description":"### Problem to solve\n\nThe [Merge Request API](https://docs.gitlab.com/ee/api/merge_requests.html) does not accept a `author_username` parameter, only `author_id`.  That forces some API clients (potentially including gitlab features), which only know `author_username`, to execute many extra API calls to retrieve the corresponding `author_id` for each username.\n\n### Further details\n\n- The [Issues API](https://docs.gitlab.com/ee/api/issues.html) accepts a `author_username` parameter which is \"Similar to author_id and mutually exclusive with author_id.\"\n- This feature is desirable for ~\"group::analytics\", especially in regard to MR-focused features like [Throughput](https://gitlab.com/gitlab-org/gitlab/issues/35774).\n\n### Proposal\n\nThe Merge Request API endpoints should accept a `author_username` parameter wherever they accept an `author_id` parameter.  These parameters are mutually exclusive.\n\n### Documentation\n\n[Merge Request API](https://docs.gitlab.com/ee/api/merge_requests.html)","state":"closed","created_at":"2020-03-23T21:44:40.026Z","updated_at":"2020-04-03T09:22:41.927Z","closed_at":"2020-04-03T09:22:41.886Z","closed_by":{"id":4158075,"username":"aakriti.gupta","name":"Aakriti Gupta","state":"active","avatar_url":"https://secure.gravatar.com/avatar/992a080bc7d9f8c22ff7186db1c76dbd?s=80\u0026d=identicon","web_url":"https://gitlab.com/aakriti.gupta"},"labels":["backend","devops::manage","group::optimize","workflow::verification"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":4158075,"username":"aakriti.gupta","name":"Aakriti Gupta","state":"active","avatar_url":"https://secure.gravatar.com/avatar/992a080bc7d9f8c22ff7186db1c76dbd?s=80\u0026d=identicon","web_url":"https://gitlab.com/aakriti.gupta"}],"author":{"id":4512390,"username":"djensen","name":"Dan Jensen","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4512390/avatar.png","web_url":"https://gitlab.com/djensen"},"type":"ISSUE","assignee":{"id":4158075,"username":"aakriti.gupta","name":"Aakriti Gupta","state":"active","avatar_url":"https://secure.gravatar.com/avatar/992a080bc7d9f8c22ff7186db1c76dbd?s=80\u0026d=identicon","web_url":"https://gitlab.com/aakriti.gupta"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212249","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212249","notes":"https://gitlab.com/api/v4/projects/278964/issues/212249/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212249/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212249","relative":"#212249","full":"gitlab-org/gitlab#212249"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32352318,"iid":212246,"project_id":278964,"title":"Add commit field for vulnerabilities containing secrets","description":"### Problem to solve\nPer https://gitlab.com/gitlab-org/security-products/analyzers/secrets/-/merge_requests/27 we need to add a commit field in the vulnerability json so user's can easily navigate to the commit that contains an historic secret. This involves two areas of work: 1. adding the commit to the [Issue struct in common ](https://gitlab.com/gitlab-org/security-products/analyzers/common/-/blob/master/issue/issue.go#L12) (low effort), and 2. supporting this in the vulnerability model (moderate effort?). \n\n\u003c!-- What problem do we solve? --\u003e\n### Further details\nSomething to consider is creating a [`Secrets` category in common](https://gitlab.com/gitlab-org/security-products/analyzers/common/-/blob/master/issue/issue.go#L53-60) as part of separating secrets from the rest of SAST\n\u003c!-- Include use cases, benefits, and/or goals (contributes to our vision?) --\u003e\n\n### Proposal\nAdd a commit field to the vulnerability json.\n\n\u003c!-- How are we going to solve the problem? Try to include the user journey! https://about.gitlab.com/handbook/journeys/#user-journey --\u003e\n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?--\u003e\n\n### Availability \u0026 Testing\n\nGiven that we can add the json tag \"omitempty\" to the commit field in the `Issue` struct, updating the tests for all the analyzers should not be necessary. However for the secrets analyzer we will want to update the test to include commits. \n\n### What does success look like, and how can we measure that?\n\nCommit field added to the issue struct in `common` which is displayed only on vulnerabilities containing secrets. \n\n### Links / references","state":"closed","created_at":"2020-03-23T20:51:08.783Z","updated_at":"2020-06-08T12:16:55.025Z","closed_at":"2020-06-01T17:11:01.783Z","closed_by":{"id":5211947,"username":"zrice","name":"Zach Rice","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5211947/avatar.png","web_url":"https://gitlab.com/zrice"},"labels":["Category:Secret Detection","Enterprise Edition","GitLab Ultimate","SAST: Common Need","SAST: Enforce \u0026 Control","UI text","UX","[deprecated] Accepting merge requests","backend","devops::secure","direction","group::static analysis","type::feature","workflow::scheduling"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":5211947,"username":"zrice","name":"Zach Rice","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5211947/avatar.png","web_url":"https://gitlab.com/zrice"}],"author":{"id":5211947,"username":"zrice","name":"Zach Rice","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5211947/avatar.png","web_url":"https://gitlab.com/zrice"},"type":"ISSUE","assignee":{"id":5211947,"username":"zrice","name":"Zach Rice","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5211947/avatar.png","web_url":"https://gitlab.com/zrice"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212246","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212246","notes":"https://gitlab.com/api/v4/projects/278964/issues/212246/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212246/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212246","relative":"#212246","full":"gitlab-org/gitlab#212246"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3098,"epic":{"id":42652,"iid":3098,"title":"Secret Detection as Standalone Scan Type","url":"/groups/gitlab-org/-/epics/3098","group_id":9970,"human_readable_end_date":"Mar 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":32346782,"iid":212226,"project_id":278964,"title":"[VSA] Eliminate feature flag for \"group_level_cycle_analytics\"","description":"### Explanation\n\nGroup-level Value Stream Analytics was introduced in !24773, behind a feature flag called `group_level_cycle_analytics`.  This feature flag was enabled by default in !27304.  Once the feature has been in widespread use for a sufficient period of time, the feature flag should be deleted.\n\n### Proposal\n\nEliminate the feature flag for `group_level_cycle_analytics`, including any references that might appear in the documentation.\n\n/cc @ahegyi","state":"closed","created_at":"2020-03-23T17:40:55.622Z","updated_at":"2020-04-04T15:47:51.121Z","closed_at":"2020-04-01T13:12:33.420Z","closed_by":{"id":438961,"username":"splattael","name":"Peter Leitzen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/97c2ff0fc99cc4eede69be9ac238c304?s=80\u0026d=identicon","web_url":"https://gitlab.com/splattael"},"labels":["backend","devops::manage","feature flag","group::optimize","workflow::in dev"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"}],"author":{"id":4512390,"username":"djensen","name":"Dan Jensen","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4512390/avatar.png","web_url":"https://gitlab.com/djensen"},"type":"ISSUE","assignee":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"user_notes_count":2,"merge_requests_count":3,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212226","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212226","notes":"https://gitlab.com/api/v4/projects/278964/issues/212226/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212226/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212226","relative":"#212226","full":"gitlab-org/gitlab#212226"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32346169,"iid":212223,"project_id":278964,"title":"Bug when Snippet creation fails","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nWhen an error is raised during Snippet creation, we attempt to clean up any repository that was created (if applicable), and then delete the Snippet. We then re-render the `new` Snippet form.\n\nThe problem/bug is that the `@snippet` object is frozen and has an ID, so the URL generated for the form action looks like `snippets.123` and breaks if we re-submit the form.\n\n### Steps to reproduce\n\n- Simulate a failed Snippet creation, e.g. raising an error in the `Snippets::CreateService`\n- Attempt to create a snippet\n- Re-submit the form\n\n### What is the current *bug* behavior?\n\nthe action URL looks like `snippets.123`\n\n### What is the expected *correct* behavior?\n\nthe action URL looks like `snippets`","state":"closed","created_at":"2020-03-23T17:19:17.485Z","updated_at":"2020-03-27T14:10:56.731Z","closed_at":"2020-03-26T21:11:31.816Z","closed_by":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"labels":["Category:Snippets","backend","devops::create","group::editor","priority::2","severity::2","type::bug","workflow::verification"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"}],"author":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"type":"ISSUE","assignee":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"user_notes_count":8,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212223","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212223","notes":"https://gitlab.com/api/v4/projects/278964/issues/212223/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212223/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212223","relative":"#212223","full":"gitlab-org/gitlab#212223"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32341418,"iid":212209,"project_id":278964,"title":"Error occurred while restoring NuGet packages: multiple attempts to download the nupkg have failed.","description":"~\"backend-weight::2\" \n\n### Summary\n\nWhen uploading a package which is already present on the nuget registry with exact the same version, you will get the following error when attempting to download the package.\n```\nError occurred while restoring NuGet packages: The feed 'iav.gitlab [https://xxxx/api/v4/projects/5050/packages/nuget/index.json]' lists package 'XXX.1.0.3' but multiple attempts to download the nupkg have failed. The feed is either invalid or required packages were removed while the current operation was in progress. Verify the package exists on the feed and try again.\n```\n\n### Steps to reproduce\n\n- create a nuget package (it can be just an empty c# project which you 'pack')\n- upload the package with 'dotnet nuget push *.nupkg -k \u003capi-key\u003e'\n- upload the package a second time\n- create a project which uses the package\n- make sure the package is not in the local nuget cache or restored from a different source. (you can clear the cache)\n- try building your project which consumes the package\n\n-\u003eyou should see a error similar to the above\n\n### What is the current *bug* behavior?\n\n- uploading the package multiple times with the exact same version does not fail\n- restoring the package fails with an error which give not much of a hint to the error\n```\nError occurred while restoring NuGet packages: The feed 'iav.gitlab [https://xxxx/api/v4/projects/5050/packages/nuget/index.json]' lists package 'XXX.1.0.3' but multiple attempts to download the nupkg have failed. The feed is either invalid or required packages were removed while the current operation was in progress. Verify the package exists on the feed and try again.\n```\n\n### What is the expected *correct* behavior?\n\n- uploading the package should work (or fail with a proper error when the version is exactly the same)\n- restoring the package does not fail\n\nFrom the [docs](https://docs.gitlab.com/ee/user/packages/nuget_repository/#uploading-packages) it should be possible to upload the package multiple times without an error behaviour.\n\u003e  If you upload the same package with the same version multiple times, each consecutive upload is saved as a separate file. When installing a package, GitLab will serve the most recent file.\n\n#### GitLab version\nGitLab Enterprise Edition 12.8.7-ee","state":"closed","created_at":"2020-03-23T15:17:11.620Z","updated_at":"2022-06-14T12:29:35.013Z","closed_at":"2021-07-19T02:03:34.488Z","closed_by":{"id":1786152,"username":"gitlab-bot","name":"ðŸ¤– GitLab Bot ðŸ¤–","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1786152/avatar.png","web_url":"https://gitlab.com/gitlab-bot"},"labels":["Category:Package Registry","NuGet Repository","Package:P2","[deprecated] Accepting merge requests","auto closed","backend","devops::package","group::package registry","priority::3","ruby","section::ops","severity::3","stale","type::bug","vintage","workflow::scheduling"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":3566585,"username":"RobertAcksel","name":"Robert Acksel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/abec14ad59a61e79de60fa378773e964?s=80\u0026d=identicon","web_url":"https://gitlab.com/RobertAcksel"},"type":"ISSUE","assignee":null,"user_notes_count":11,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212209","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212209","notes":"https://gitlab.com/api/v4/projects/278964/issues/212209/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212209/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212209","relative":"#212209","full":"gitlab-org/gitlab#212209"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32340962,"iid":212207,"project_id":278964,"title":"Threat Monitoring environment dropdown does not handle long environment names well","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nThe Threat Monitoring page's Environment dropdown doesn't handle long environment names well. The width of the dropdown is not limited, so with a long name, it can spill out towards the time range dropdown.\n\n### Steps to reproduce\n\n1. Go to https://staging.gitlab.com/defend-team-test/waf-enablement-demo/-/threat_monitoring\n1. Select the `review/add_custom_sec_rules` environment from the dropdown\n1. Observe the overflowing dropdown\n\n### Example Project\n\nhttps://staging.gitlab.com/defend-team-test/waf-enablement-demo/-/threat_monitoring\n\n### What is the current *bug* behavior?\n\nThe dropdown width gets too large, so it spills into the time range dropdown.\n\n### What is the expected *correct* behavior?\n\nThe environment name should be ellipsised, like how the Monitoring Dashboard does it.\n\n### Relevant logs and/or screenshots\n\n| Good | Bad |\n| ------ | ------ |\n| ![Screenshot_from_2020-03-23_15-00-19](/uploads/25f168104b2987f4ab7e907b38f6bece/Screenshot_from_2020-03-23_15-00-19.png) | ![Screenshot_from_2020-03-23_15-00-57](/uploads/e9e56aadc2bb959af42e0f35c3094b92/Screenshot_from_2020-03-23_15-00-57.png) |","state":"closed","created_at":"2020-03-23T15:07:15.332Z","updated_at":"2020-06-18T07:09:19.028Z","closed_at":"2020-05-25T00:01:24.097Z","closed_by":{"id":480804,"username":"thiagocsf","name":"Thiago FigueirÃ³","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480804/avatar.png","web_url":"https://gitlab.com/thiagocsf"},"labels":["Category:WAF","Deliverable","UX","devops::govern","frontend","frontend-weight::2","group::security policies","priority::4","severity::4","type::bug","workflow::production"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":2338871,"username":"andyvolpe","name":"Andy Volpe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2338871/avatar.png","web_url":"https://gitlab.com/andyvolpe"},{"id":4906322,"username":"zmartins","name":"Zamir Martins","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4906322/avatar.png","web_url":"https://gitlab.com/zmartins"}],"author":{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},"type":"ISSUE","assignee":{"id":2338871,"username":"andyvolpe","name":"Andy Volpe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2338871/avatar.png","web_url":"https://gitlab.com/andyvolpe"},"user_notes_count":18,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212207","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212207","notes":"https://gitlab.com/api/v4/projects/278964/issues/212207/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212207/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212207","relative":"#212207","full":"gitlab-org/gitlab#212207"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32340061,"iid":212200,"project_id":278964,"title":"Group Level Wiki: BE Update remaining API endpoints to support Group Level Wiki","description":"### Problem to solve\n\n\u003c!-- What problem do we solve? --\u003e\n\nIn https://gitlab.com/gitlab-org/gitlab/-/issues/212199 we adapted the attachment API endpoint for group wikis.\n\nAdapt the remaining project wiki endpoints to group wikis:\n\n- `get ':id/wikis'`\n- `get ':id/wikis/:slug'`\n- `post ':id/wikis'`\n- `put ':id/wikis/:slug'`\n- `delete ':id/wikis/:slug'`\n\n### Further details\n\n\u003c!-- Include use cases, benefits, and/or goals (contributes to our vision?) --\u003e\n\n### Proposal\n\n\u003c!-- How are we going to solve the problem? Try to include the user journey! https://about.gitlab.com/handbook/journeys/#user-journey --\u003e\n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?--\u003e\n\n- Adapt the existing authorization checks for group wikis.\n- Respect the [group wiki feature flag](https://gitlab.com/groups/gitlab-org/-/epics/2214#feature-flag).\n- Ensure there are multiple tests with different permission configurations to make sure the Web UI and the REST return the same level of data and avoid data leaks.\n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html\nAdd all known Documentation Requirements here, per https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements\nIf this feature requires changing permissions, this document https://docs.gitlab.com/ee/user/permissions.html must be updated accordingly. --\u003e\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\n What risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\n### Links / references","state":"closed","created_at":"2020-03-23T14:49:49.022Z","updated_at":"2020-12-10T18:54:48.040Z","closed_at":"2020-10-07T12:13:52.545Z","closed_by":{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},"labels":["Category:Wiki","Enterprise Edition","GitLab Starter","[deprecated] Accepting merge requests","backend","devops::create","group::editor","section::dev","type::feature"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212200","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212200","notes":"https://gitlab.com/api/v4/projects/278964/issues/212200/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212200/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212200","relative":"#212200","full":"gitlab-org/gitlab#212200"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2782,"epic":{"id":26783,"iid":2782,"title":"[MVC 2] Group-level wiki: Feature parity with project wikis (git, search)","url":"/groups/gitlab-org/-/epics/2782","group_id":9970,"human_readable_end_date":"Apr 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":32339981,"iid":212199,"project_id":278964,"title":"Group Level Wiki: BE Update attachment API to support Group Level Wiki","description":"### Problem to solve\n\n\u003c!-- What problem do we solve? --\u003e\n\nUploading attachments to a project wiki happens through the `post \":id/wikis/attachments\"` endpoint. This needs to be adapted to work with group wikis.\n\n### Further details\n\n\u003c!-- Include use cases, benefits, and/or goals (contributes to our vision?) --\u003e\n\n### Proposal\n\n\u003c!-- How are we going to solve the problem? Try to include the user journey! https://about.gitlab.com/handbook/journeys/#user-journey --\u003e\n\nWe can refactor the existing endpoint for reuse in both the `/projects` and `/groups` API contexts (separate endpoints for each container type).\n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?--\u003e\n\n- Adapt the existing authorization checks for group wikis.\n- Respect the [group wiki feature flag](https://gitlab.com/groups/gitlab-org/-/epics/2214#feature-flag).\n- Ensure there are multiple tests with different permission configurations to make sure the Web UI and the REST return the same level of data and avoid data leaks.\n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html\nAdd all known Documentation Requirements here, per https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements\nIf this feature requires changing permissions, this document https://docs.gitlab.com/ee/user/permissions.html must be updated accordingly. --\u003e\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\n What risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\n### Links / references","state":"closed","created_at":"2020-03-23T14:47:29.641Z","updated_at":"2020-12-10T18:54:48.542Z","closed_at":"2020-06-25T00:10:57.437Z","closed_by":{"id":2187482,"username":"ashmckenzie","name":"Ash McKenzie","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2187482/avatar.png","web_url":"https://gitlab.com/ashmckenzie"},"labels":["Category:Wiki","Deliverable","Enterprise Edition","GitLab Starter","backend","devops::create","group::editor","missed-deliverable","missed:13.1","quad-planning::complete-action","type::feature","workflow::in dev"],"milestone":{"id":1233746,"iid":49,"group_id":9970,"title":"13.2","description":"https://about.gitlab.com/releases/2020/07/22/gitlab-13-2-released/","state":"closed","created_at":"2020-04-09T17:28:01.032Z","updated_at":"2022-04-13T14:48:24.167Z","due_date":"2020-07-17","start_date":"2020-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/49"},"assignees":[{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"}],"author":{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},"type":"ISSUE","assignee":{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"},"user_notes_count":11,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212199","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212199","notes":"https://gitlab.com/api/v4/projects/278964/issues/212199/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212199/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212199","relative":"#212199","full":"gitlab-org/gitlab#212199"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2214,"epic":{"id":15108,"iid":2214,"title":"[MVC 1] Group-level wiki - Support one wiki at group level","url":"/groups/gitlab-org/-/epics/2214","group_id":9970,"human_readable_end_date":"Nov 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":32338970,"iid":212195,"project_id":278964,"title":"Properly dismiss the resolution alert on the standalone vulnerability page","description":"We are taking a shortcut with the resolution alert dismissal on the standalone vulnerability page by simply hiding it when it's dismissed. We should make this a bit stickier and dismiss it properly using either an endpoint or a local storage solution.\n\n\nThe following discussion from !27696 should be addressed:\n\n- [ ] @samdbeckham started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/27696#note_309758230): \n\n    \u003e This should be handled properly, later","state":"closed","created_at":"2020-03-23T14:24:36.343Z","updated_at":"2020-06-19T03:21:44.188Z","closed_at":"2020-06-19T03:21:43.888Z","closed_by":{"id":480804,"username":"thiagocsf","name":"Thiago FigueirÃ³","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480804/avatar.png","web_url":"https://gitlab.com/thiagocsf"},"labels":["Category:Vulnerability Management","UX","UX debt","devops::govern","frontend","frontend-weight::2","group::threat insights","maintenance::refactor","workflow::production"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":5535246,"username":"svedova","name":"Savas Vedova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535246/avatar.png","web_url":"https://gitlab.com/svedova"}],"author":{"id":1125848,"username":"samdbeckham","name":"Sam Beckham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1125848/avatar.png","web_url":"https://gitlab.com/samdbeckham"},"type":"ISSUE","assignee":{"id":5535246,"username":"svedova","name":"Savas Vedova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535246/avatar.png","web_url":"https://gitlab.com/svedova"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212195","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212195","notes":"https://gitlab.com/api/v4/projects/278964/issues/212195/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212195/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212195","relative":"#212195","full":"gitlab-org/gitlab#212195"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32338736,"iid":212191,"project_id":278964,"title":"Add Overview Dashboard for Bitbucket Server Importer","description":"Emit metrics to Prometheus and build a dashboard in grafana that includes:\n\n* Number of imports (counter)\n* Number of exports (counter)\n* Duration of export (histogram, label: project.full_path)\n* Duration of import (histogram, label: project.full_path)","state":"closed","created_at":"2020-03-23T14:18:39.944Z","updated_at":"2022-03-28T19:12:53.748Z","closed_at":"2020-06-25T15:21:33.426Z","closed_by":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"labels":["Bitbucket","Category:Importers","Deliverable","Importer:Bitbucket Server","devops::manage","estimation::completed","group::import","instrumentation","milestone::p3","workflow::production"],"milestone":{"id":1233746,"iid":49,"group_id":9970,"title":"13.2","description":"https://about.gitlab.com/releases/2020/07/22/gitlab-13-2-released/","state":"closed","created_at":"2020-04-09T17:28:01.032Z","updated_at":"2022-04-13T14:48:24.167Z","due_date":"2020-07-17","start_date":"2020-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/49"},"assignees":[{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"}],"author":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"type":"ISSUE","assignee":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212191","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212191","notes":"https://gitlab.com/api/v4/projects/278964/issues/212191/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212191/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212191","relative":"#212191","full":"gitlab-org/gitlab#212191"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2905,"epic":{"id":32999,"iid":2905,"title":"Add overview dashboards for every Importer","url":"/groups/gitlab-org/-/epics/2905","group_id":9970,"human_readable_end_date":"Jul 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":32338503,"iid":212190,"project_id":278964,"title":"Add Overview Dashboard for Bitbucket Importer","description":"Emit metrics to Prometheus and build a dashboard in grafana that includes:\n\n* Number of imports (counter)\n* Number of exports (counter)\n* Duration of export (histogram, label: project.full_path)\n* Duration of import (histogram, label: project.full_path)","state":"closed","created_at":"2020-03-23T14:13:40.807Z","updated_at":"2021-05-24T14:23:32.503Z","closed_at":"2020-04-28T12:37:23.196Z","closed_by":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"labels":["Category:Importers","Deliverable","Importer:Bitbucket Cloud","devops::manage","estimation::completed","group::import","instrumentation","milestone::p2","workflow::production"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"}],"author":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"type":"ISSUE","assignee":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212190","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212190","notes":"https://gitlab.com/api/v4/projects/278964/issues/212190/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212190/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212190","relative":"#212190","full":"gitlab-org/gitlab#212190"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2905,"epic":{"id":32999,"iid":2905,"title":"Add overview dashboards for every Importer","url":"/groups/gitlab-org/-/epics/2905","group_id":9970,"human_readable_end_date":"Jul 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":32338310,"iid":212189,"project_id":278964,"title":"Add Overview Dashboard for Group Import/Export","description":"Emit metrics to Prometheus and build a dashboard in grafana that includes:\n\n* Number of imports (counter)\n* Number of exports (counter)\n* Duration of export (histogram, label: project.full_path)\n* Duration of import (histogram, label: project.full_path)","state":"closed","created_at":"2020-03-23T14:10:14.120Z","updated_at":"2021-05-24T13:58:15.036Z","closed_at":"2021-05-24T13:58:15.013Z","closed_by":{"id":5247073,"username":"hdelalic","name":"Haris DelaliÄ‡","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5247073/avatar.png","web_url":"https://gitlab.com/hdelalic"},"labels":["Category:Importers","Importer:Group Export/Import","devops::manage","estimation::completed","group::import","milestone::p3","section::dev","won't do","workflow::ready for development"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"type":"ISSUE","assignee":null,"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212189","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212189","notes":"https://gitlab.com/api/v4/projects/278964/issues/212189/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212189/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212189","relative":"#212189","full":"gitlab-org/gitlab#212189"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2905,"epic":{"id":32999,"iid":2905,"title":"Add overview dashboards for every Importer","url":"/groups/gitlab-org/-/epics/2905","group_id":9970,"human_readable_end_date":"Jul 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":32338075,"iid":212186,"project_id":278964,"title":"Allow skip Auto Build","description":"There are cases where AutoDeploy is useful without using the build job at https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/ci/templates/Jobs/Build.gitlab-ci.yml.  (specifically I want to use: https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/ci/templates/Deploy-ECS.gitlab-ci.yml)\n\nIn this case, I am simply retagging another image and deploying it.  I do not need to build the Dockerfile again.\n\nSo my build stage looks something like:\n```\nretag:\n  image: docker:19.03.1\n  services:\n    - docker:19.03.1-dind\n  stage: build\n  script:\n    - docker info\n    - docker login -u $CI_REGISTRY_USER -p $CI_REGISTRY_PASSWORD $CI_REGISTRY\n    - docker pull $UPSTREAM_IMAGE:$CI_APPLICATION_TAG\n    - docker tag $UPSTREAM_IMAGE:$CI_APPLICATION_TAG $CI_APPLICATION_REPOSITORY:$CI_APPLICATION_TAG\n    - docker push $CI_APPLICATION_REPOSITORY:$CI_APPLICATION_TAG\n  rules:\n    # only run automatically when triggered with a specific image\n    - if: '$CI_APPLICATION_TAG == \"latest\"'\n      when: manual\n    - when: always\n```\n\nAnd `CI_APPLICATION_TAG` is set via a variable passed to job\n\n### Proposal\n\nIntroduce a new environment  variable called `AUTO_DEVOPS_BUILD_DISABLED` . When this environment variable is used auto build will be skipped\n\nDocumentation should be updated for the requirement for the later stages on how to push images to `CI_APPLICATION_REPOSITORY` and `CI_APPLICATION_TAG`. Otherwise a project with no images pushed (because Auto Build was disabled) will fail.","state":"closed","created_at":"2020-03-23T14:05:29.540Z","updated_at":"2022-01-26T00:24:07.734Z","closed_at":"2022-01-26T00:24:07.717Z","closed_by":{"id":4088036,"username":"hfyngvason","name":"Hordur Freyr Yngvason","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4088036/avatar.png","web_url":"https://gitlab.com/hfyngvason"},"labels":["AutoDeploy","Category:Auto DevOps","Category:Continuous Delivery","[deprecated] Accepting merge requests","devops::release","group::release","section::ops","type::feature"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":163631,"username":"wgordonw1","name":"g","state":"active","avatar_url":"https://secure.gravatar.com/avatar/958741385e2fb41a350d041527ec5c90?s=80\u0026d=identicon","web_url":"https://gitlab.com/wgordonw1"},"type":"ISSUE","assignee":null,"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212186","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212186","notes":"https://gitlab.com/api/v4/projects/278964/issues/212186/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212186/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212186","relative":"#212186","full":"gitlab-org/gitlab#212186"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32337069,"iid":212183,"project_id":278964,"title":"Update license-management to use license finder 6.6.0","description":"### Problem to solve\n\nlicense finder `6.6.0` is available, we should consider upgrading [our license management tool](https://gitlab.com/gitlab-org/security-products/license-management).\n\n### Proposal\n\nFollow instructions at https://gitlab.com/gitlab-org/security-products/license-management#upgrading-to-the-latest-version-of-licensefinder\n\n### Testing\n\n- [x] Check relevant test projects leveraging license-management and make sure QA pipelines are passing with this new version:\n[QA projects for License Management](https://gitlab.com/explore/projects?tag=GL-Secure-QA,License+Management)\n\n### What does success look like, and how can we measure that?\n\nOur feature is leveraging the latest version (`6.6.0`) of license-finder.\n\n### What is the type of buyer?\n\n~\"GitLab Ultimate\"\n\n### Links / references","state":"closed","created_at":"2020-03-23T13:45:57.854Z","updated_at":"2020-11-13T17:25:14.386Z","closed_at":"2020-07-02T21:52:15.474Z","closed_by":{"id":971158,"username":"xlgmokha","name":"mo khan","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cc8d289bc1a24067f9af4f92452f4fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/xlgmokha"},"labels":["Category:License Compliance","Deliverable","Enterprise Edition","GitLab Ultimate","backend","backstage [DEPRECATED]","devops::secure","group::composition analysis","quad-planning::complete-action","type::maintenance"],"milestone":{"id":1233746,"iid":49,"group_id":9970,"title":"13.2","description":"https://about.gitlab.com/releases/2020/07/22/gitlab-13-2-released/","state":"closed","created_at":"2020-04-09T17:28:01.032Z","updated_at":"2022-04-13T14:48:24.167Z","due_date":"2020-07-17","start_date":"2020-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/49"},"assignees":[{"id":971158,"username":"xlgmokha","name":"mo khan","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cc8d289bc1a24067f9af4f92452f4fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/xlgmokha"}],"author":{"id":52092,"username":"gonzoyumo","name":"Olivier Gonzalez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/651e0ff81c3995a05269f7c80895fe89?s=80\u0026d=identicon","web_url":"https://gitlab.com/gonzoyumo"},"type":"ISSUE","assignee":{"id":971158,"username":"xlgmokha","name":"mo khan","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cc8d289bc1a24067f9af4f92452f4fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/xlgmokha"},"user_notes_count":2,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212183","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":1},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212183","notes":"https://gitlab.com/api/v4/projects/278964/issues/212183/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212183/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212183","relative":"#212183","full":"gitlab-org/gitlab#212183"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32336783,"iid":212182,"project_id":278964,"title":"Importing a GitLab export reopened all the merge requests","description":"### Summary\n\nI exported a GitLab project with a number of merged MRs, then imported it to a different group. On import, all the MRs that were merged in the old project became open (and assigned to me \\o/) in the created project.\n\n### Steps to reproduce\n\n* Create a project\n* Create an MR in project\n* Merge MR\n* Export project\n* Import project\n* Observe MR state in imported project\n\n(I haven't actually tried to replicate this, but I imagine that's sufficient).\n\n### Example Project\n\n- Original project: https://gitlab.com/fabiopitino/gitlab-jenkinsfile-runner\n- Imported project: https://gitlab.com/gitlab-org/sandbox/jfr-container-builder/-/merge_requests\n\nAs a cleanup, I closed all the merge requests in the new one, but they were open, I promise.\n\n(If possible, please create an example project here on GitLab.com that exhibits the problematic behavior, and link to it here in the bug report)\n\n(If you are using an older version of GitLab, this will also determine whether the bug is fixed in a more recent version)\n\n### What is the current *bug* behavior?\n\nMRs transition from merged to open\n\n### What is the expected *correct* behavior?\n\nMRs should retain their merged state\n\n### Output of checks\n\nThis bug happens on GitLab.com\n\n### Possible fixes\n\n(If you can, link to the line of code that might be responsible for the problem)","state":"closed","created_at":"2020-03-23T13:38:38.585Z","updated_at":"2021-05-18T20:57:30.804Z","closed_at":"2020-04-07T08:53:33.605Z","closed_by":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"labels":["Category:Importers","Importer:Project Export/Import","devops::manage","group::import","priority::1","severity::1","type::bug","workflow::production"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"}],"author":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"type":"ISSUE","assignee":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"user_notes_count":12,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212182","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212182","notes":"https://gitlab.com/api/v4/projects/278964/issues/212182/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212182/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212182","relative":"#212182","full":"gitlab-org/gitlab#212182"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3054,"epic":{"id":39522,"iid":3054,"title":"ðŸž Project Export/Import bugs","url":"/groups/gitlab-org/-/epics/3054","group_id":9970},"iteration":null,"health_status":null},{"id":32336148,"iid":212180,"project_id":278964,"title":"Remove tooltip on mobile view for error tracking action buttons","description":"## Summary\n\nBased on this conversation: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/27125#note_304478351\n\n## Improvements\n\nWe are going to improve the UX of the the mobile experience by removing the tooltips on mobile displays. \n\n\n## Involved components\n\n`app/assets/javascripts/error_tracking/components/error_tracking_actions.vue`","state":"closed","created_at":"2020-03-23T13:22:16.024Z","updated_at":"2020-03-24T10:33:22.640Z","closed_at":"2020-03-24T10:33:22.595Z","closed_by":{"id":1646689,"username":"oregand","name":"David O'Regan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1646689/avatar.png","web_url":"https://gitlab.com/oregand"},"labels":["backstage [DEPRECATED]","devops::monitor","frontend","group::respond","priority::3","severity::3","workflow::in review"],"milestone":null,"assignees":[{"id":1646689,"username":"oregand","name":"David O'Regan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1646689/avatar.png","web_url":"https://gitlab.com/oregand"}],"author":{"id":1646689,"username":"oregand","name":"David O'Regan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1646689/avatar.png","web_url":"https://gitlab.com/oregand"},"type":"ISSUE","assignee":{"id":1646689,"username":"oregand","name":"David O'Regan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1646689/avatar.png","web_url":"https://gitlab.com/oregand"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212180","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212180","notes":"https://gitlab.com/api/v4/projects/278964/issues/212180/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212180/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212180","relative":"#212180","full":"gitlab-org/gitlab#212180"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32333846,"iid":212176,"project_id":278964,"title":"Flaky spec './spec/services/ci/create_cross_project_pipeline_service_spec.rb'","description":"Job [#481647198](https://gitlab.com/gitlab-org/gitlab/-/jobs/481647198) failed for a4e28cd335d4c34e7aa55a90bcc2bdfd8bdb3f7c:\n\n```\n5814 Failures:\n5815   1) Ci::CreateCrossProjectPipelineService#execute when user can create pipeline in a downstream project when downstream project is the same as the job project when \"include\" is provided behaves like creates a child pipeline creates a child pipeline in the same project\n5816      Failure/Error: expect(pipeline.builds.map(\u0026:name)).to eq %w[rspec echo]\n5817        expected: [\"rspec\", \"echo\"]\n5818             got: [\"echo\", \"rspec\"]\n5819        (compared using ==)\n5820      Shared Example Group: \"creates a child pipeline\" called from ./spec/services/ci/create_cross_project_pipeline_service_spec.rb:263\n5821      # ./vendor/ruby/2.6.0/gems/rspec-support-3.9.2/lib/rspec/support.rb:97:in `block in \u003cmodule:Support\u003e'\n5822      # ./vendor/ruby/2.6.0/gems/rspec-support-3.9.2/lib/rspec/support.rb:106:in `notify_failure'\n5823      # ./vendor/ruby/2.6.0/gems/rspec-expectations-3.9.0/lib/rspec/expectations/fail_with.rb:35:in `fail_with'\n5824      # ./vendor/ruby/2.6.0/gems/rspec-expectations-3.9.0/lib/rspec/expectations/handler.rb:38:in `handle_failure'\n5825      # ./vendor/ruby/2.6.0/gems/rspec-expectations-3.9.0/lib/rspec/expectations/handler.rb:50:in `block in handle_matcher'\n5826      # ./vendor/ruby/2.6.0/gems/rspec-expectations-3.9.0/lib/rspec/expectations/handler.rb:27:in `with_matcher'\n5827      # ./vendor/ruby/2.6.0/gems/rspec-expectations-3.9.0/lib/rspec/expectations/handler.rb:48:in `handle_matcher'\n5828      # ./vendor/ruby/2.6.0/gems/rspec-expectations-3.9.0/lib/rspec/expectations/expectation_target.rb:65:in `to'\n5829      # ./spec/services/ci/create_cross_project_pipeline_service_spec.rb:218:in `block (6 levels) in \u003ctop (required)\u003e'\n```","state":"closed","created_at":"2020-03-23T12:57:19.603Z","updated_at":"2020-03-23T17:40:32.468Z","closed_at":"2020-03-23T17:40:32.419Z","closed_by":{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"},"labels":["Engineering Productivity","failure::flaky-test","priority::2","severity::2","test"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":128633,"username":"rymai","name":"RÃ©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"}],"author":{"id":438961,"username":"splattael","name":"Peter Leitzen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/97c2ff0fc99cc4eede69be9ac238c304?s=80\u0026d=identicon","web_url":"https://gitlab.com/splattael"},"type":"ISSUE","assignee":{"id":128633,"username":"rymai","name":"RÃ©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212176","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212176","notes":"https://gitlab.com/api/v4/projects/278964/issues/212176/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212176/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212176","relative":"#212176","full":"gitlab-org/gitlab#212176"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32320529,"iid":212158,"project_id":278964,"title":"Add snippet documentation size limit to instance limit doc","description":"We should add a section in https://gitlab.com/help/administration/instance_limits.md to include snippet size limits https://docs.gitlab.com/ee/administration/snippets/#snippets-content-size-limit","state":"closed","created_at":"2020-03-23T11:26:55.213Z","updated_at":"2020-05-14T17:21:12.191Z","closed_at":"2020-05-14T17:21:12.132Z","closed_by":{"id":236961,"username":"marcia","name":"Marcia Ramos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/236961/avatar.png","web_url":"https://gitlab.com/marcia"},"labels":["Application Limits","Category:Snippets","Documentation guidelines","devops::create","documentation","group::editor","workflow::ready for development"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":236961,"username":"marcia","name":"Marcia Ramos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/236961/avatar.png","web_url":"https://gitlab.com/marcia"}],"author":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier LÃ³pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"type":"ISSUE","assignee":{"id":236961,"username":"marcia","name":"Marcia Ramos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/236961/avatar.png","web_url":"https://gitlab.com/marcia"},"user_notes_count":9,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212158","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212158","notes":"https://gitlab.com/api/v4/projects/278964/issues/212158/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212158/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212158","relative":"#212158","full":"gitlab-org/gitlab#212158"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32316389,"iid":212157,"project_id":278964,"title":"Move requirements code under its own namespace","description":"Currently Requirement resource and related logic (controller, graphql type/resolver, finder, services) is  a top-level class, it would be better to move this into its own namespace (e.g. `requirements_management`).\n\nRelated to the https://gitlab.com/gitlab-org/gitlab/-/issues/212156.","state":"closed","created_at":"2020-03-23T11:04:52.127Z","updated_at":"2020-10-16T19:49:30.291Z","closed_at":"2020-05-13T12:29:59.419Z","closed_by":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"labels":["backend","backstage [DEPRECATED]","devops::plan","group::product planning","maintenance::refactor","missed:12.10","workflow::in review"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"}],"author":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"type":"ISSUE","assignee":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212157","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212157","notes":"https://gitlab.com/api/v4/projects/278964/issues/212157/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212157/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212157","relative":"#212157","full":"gitlab-org/gitlab#212157"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32313208,"iid":212152,"project_id":278964,"title":"Move convenience methods for labels into Danger helper","description":"## Summary\n\nFollow up issue [from review comment](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/27579#note_308481763) \n\n## Improvements\n\nThis methods could be useful in other use cases\n\n```ruby\ndef has_label?(label)\n  gitlab.mr_labels.include?(label)\nend\n\ndef add_labels_to_merge_request(labels)\n  gitlab.api.update_merge_request(gitlab.mr_json['project_id'],\n                                        gitlab.mr_json['iid'],\n                                        labels: (gitlab.mr_labels + labels).join(','))\nend\n```\n\nhttps://gitlab.com/gitlab-org/gitlab/-/blob/master/danger/telemetry/Dangerfile\n\nWe could move them in the helper file\n\nhttps://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/danger/helper.rb\n\n## Risks\n\nDanger bot could break, add tests to cover the change to prevent this\n\n\n## Involved components\n\nDanger bot\n\n## Optional: Intended side effects\n\n\u003c!--\nIf the refactoring involves changes apart from the main improvements (such as a better UI), list them here.\nIt may be a good idea to create separate issues and link them here.\n--\u003e\n\n\n## Optional: Missing test coverage\n\n\u003c!--\nIf you are aware of tests that need to be written or adjusted apart from unit tests for the changed components,\nplease list them here.\n--\u003e","state":"closed","created_at":"2020-03-23T10:08:25.879Z","updated_at":"2020-04-29T05:25:02.007Z","closed_at":"2020-04-23T17:07:37.436Z","closed_by":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"labels":["Danger bot","[deprecated] Accepting merge requests","backstage [DEPRECATED]","devops::growth","group::product intelligence","maintenance::refactor","workflow::in review"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"}],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"user_notes_count":8,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212152","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212152","notes":"https://gitlab.com/api/v4/projects/278964/issues/212152/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212152/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212152","relative":"#212152","full":"gitlab-org/gitlab#212152"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32301266,"iid":212141,"project_id":278964,"title":"Follow-up: Refactor cycle_analytics_spec.rb file","description":"As part of \u00262434 we should refactor the `ee/spec/features/analytics/cycle_analytics/cycle_analytics_spec.rb` spec file\n\nThe following discussion from !27564 should be addressed:\n\n- [ ] @alexpooley started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/27564#note_309293085):  (+1 comment)\n\n    \u003e I think a `shared_example` inside a `shared_example` suggests the spec should be refactored further :)\n    \u003e \n    \u003e It's worth trying to flatten out all deep nesting going on with this spec as well. You can minimize the nesting by using [shared contexts](https://relishapp.com/rspec/rspec-core/docs/example-groups/shared-context).\n    \u003e \n    \u003e An example refactor would be to merge https://gitlab.com/gitlab-org/gitlab/-/merge_requests/27564/diffs#2659125bbff2dc6d8806ee0aa7adfd2e6b375924_599_641 and https://gitlab.com/gitlab-org/gitlab/-/merge_requests/27564/diffs#2659125bbff2dc6d8806ee0aa7adfd2e6b375924_622_661\n    \u003e \n    \u003e I think it would just be a matter of re-organizing the blocks of spec code that are already there.\n    \u003e \n    \u003e WDYT? I can give you a hand in Slack if you want to run through the details?","state":"closed","created_at":"2020-03-23T07:19:13.326Z","updated_at":"2020-10-29T14:38:22.340Z","closed_at":"2020-09-18T14:59:32.032Z","closed_by":{"id":1315784,"username":"ifarkas","name":"Imre Farkas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b4dcfa5185b8513751b447d76b069bf6?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifarkas"},"labels":["Category:Value Stream Management","backend","backstage [DEPRECATED]","devops::manage","feature::enhancement","group::optimize","maintenance::refactor","missed:13.0","missed:13.1","missed:13.3","priority::3","ruby","section::dev","test","workflow::ready for development"],"milestone":{"id":1233753,"iid":51,"group_id":9970,"title":"13.4","description":"https://about.gitlab.com/releases/2020/09/22/gitlab-13-4-released/","state":"closed","created_at":"2020-04-09T17:39:21.662Z","updated_at":"2022-04-13T14:50:33.769Z","due_date":"2020-09-17","start_date":"2020-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/51"},"assignees":[{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"}],"author":{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"},"type":"ISSUE","assignee":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"user_notes_count":15,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212141","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212141","notes":"https://gitlab.com/api/v4/projects/278964/issues/212141/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212141/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212141","relative":"#212141","full":"gitlab-org/gitlab#212141"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2961,"epic":{"id":34572,"iid":2961,"title":"Investigate slow jest tests + fill test gaps","url":"/groups/gitlab-org/-/epics/2961","group_id":9970,"human_readable_end_date":"Sep 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":32299805,"iid":212138,"project_id":278964,"title":"Add more specs to the batch counting","description":"We need a stronger test to ensure engineers can't call the batch_count when what they want is batch_distinct_count.\nWe have some counters which maybe doing this and we should see their refactorings to finish https://gitlab.com/gitlab-org/gitlab/-/merge_requests/27455\n\nTests planned:\n- Start and finish rules\n- Fallback = -1  # tested elsewhere\n- MAX_ALLOWED_LOOPS\n- BATCH_SIZE\n- Ensure distinct counts are not using the non-distinct counter by a test.\n\n","state":"closed","created_at":"2020-03-23T06:22:58.226Z","updated_at":"2020-04-08T14:04:25.796Z","closed_at":"2020-04-08T14:04:25.571Z","closed_by":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"labels":["devops::growth","group::product intelligence","link::child issue"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"}],"author":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"type":"ISSUE","assignee":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212138","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212138","notes":"https://gitlab.com/api/v4/projects/278964/issues/212138/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212138/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212138","relative":"#212138","full":"gitlab-org/gitlab#212138"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32295467,"iid":212091,"project_id":278964,"title":"ERROR namespace_project_design_management_design_url","description":"## Steps to reproduce\n1. create issue\n2. add designs\n3. comment design\n4. delete design\n5. back to dashboard\n\n## Demo\n- error dashboard https://gitlab.com/d.weizhe1\n- issue https://gitlab.com/d.weizhe1/test-design/-/issues/1\n\n## Error log\n```json\n{\n  \"method\": \"GET\",\n  \"path\": \"/dashboard/activity\",\n  \"format\": \"json\",\n  \"controller\": \"DashboardController\",\n  \"action\": \"activity\",\n  \"status\": 500,\n  \"duration\": 1585.71,\n  \"view\": 0,\n  \"db\": 89.87,\n  \"time\": \"2020-03-23T01:35:43.130Z\",\n  \"params\": [\n    {\n      \"key\": \"limit\",\n      \"value\": \"20\"\n    },\n    {\n      \"key\": \"offset\",\n      \"value\": \"0\"\n    }\n  ],\n  \"remote_ip\": \"192.168.0.202\",\n  \"user_id\": 1,\n  \"username\": \"dweizhe\",\n  \"ua\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.132 Safari/537.36\",\n  \"queue_duration\": null,\n  \"correlation_id\": \"OX3TBjatwu7\",\n  \"cpu_s\": 1.472583929999999,\n  \"exception.class\": \"ActionView::Template::Error\",\n  \"exception.message\": \"undefined method `namespace_project_design_management_design_url' for #\u003c#\u003cClass:0x00007fde2ddf72e0\u003e:0x00007fde2a7e9c20\u003e\\nDid you mean?  namespace_project_design_management_designs_raw_image_url\",\n  \"exception.backtrace\": [\n    \"app/helpers/events_helper.rb:169:in `event_note_target_url'\",\n    \"ee/app/helpers/ee/events_helper.rb:12:in `event_note_target_url'\",\n    \"app/helpers/events_helper.rb:179:in `block in event_note_title_html'\",\n    \"app/helpers/events_helper.rb:177:in `event_note_title_html'\",\n    \"app/views/events/event/_note.html.haml:9\",\n    \"app/views/events/_event.html.haml:13\",\n    \"app/views/events/_events.html.haml:10\",\n    \"app/controllers/application_controller.rb:328:in `pager_json'\",\n    \"app/controllers/dashboard_controller.rb:22:in `block (2 levels) in activity'\",\n    \"app/controllers/dashboard_controller.rb:17:in `activity'\",\n    \"ee/lib/gitlab/ip_address_state.rb:10:in `with'\",\n    \"ee/app/controllers/ee/application_controller.rb:43:in `set_current_ip_address'\",\n    \"app/controllers/application_controller.rb:479:in `set_current_admin'\",\n    \"lib/gitlab/session.rb:11:in `with_session'\",\n    \"app/controllers/application_controller.rb:470:in `set_session_storage'\",\n    \"app/controllers/application_controller.rb:464:in `set_locale'\",\n    \"lib/gitlab/error_tracking.rb:34:in `with_context'\",\n    \"app/controllers/application_controller.rb:555:in `sentry_context'\",\n    \"lib/gitlab/application_context.rb:46:in `block in use'\",\n    \"lib/gitlab/application_context.rb:46:in `use'\",\n    \"lib/gitlab/application_context.rb:19:in `with_context'\",\n    \"app/controllers/application_controller.rb:455:in `set_current_context'\",\n    \"ee/lib/gitlab/jira/middleware.rb:19:in `call'\"\n  ]\n}\n```","state":"closed","created_at":"2020-03-23T01:57:24.953Z","updated_at":"2020-12-10T18:58:41.398Z","closed_at":"2020-05-12T14:18:21.474Z","closed_by":{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"},"labels":["Category:Design Management","Unscheduled","devops::plan","group::product planning","missed-SLO","priority::1","regression","regression:12.9","severity::2","type::bug","workflow::verification"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"}],"author":{"id":5662203,"username":"d.weizhe1","name":"ä¸å‰å“²","state":"active","avatar_url":"https://secure.gravatar.com/avatar/01689b36af5f021953dd89fb40fc1f8e?s=80\u0026d=identicon","web_url":"https://gitlab.com/d.weizhe1"},"type":"ISSUE","assignee":{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"},"user_notes_count":16,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212091","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212091","notes":"https://gitlab.com/api/v4/projects/278964/issues/212091/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212091/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212091","relative":"#212091","full":"gitlab-org/gitlab#212091"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32295449,"iid":212090,"project_id":278964,"title":"Investigate release evidence collection problem during Feb 2020","description":"\n### Summary\n\nRelease evidence is no longer being collected for projects on gitlab.com.  Based on reviewing all of my projects, the last release with evidence collection was on 2020-01-27 and the the first release with no evidence was on 2020-02-04.  The evidence is not shown on the release page, and is also missing from the release summary retrieved from the API.\n\n### Steps to reproduce\n\nCreate a new release via the API.\n\n### Example Project\n\nThis project has the most frequent releases, but all projects in this group (and others) have the same issue: https://gitlab.com/gitlab-ci-utils/docker-hugo/-/releases.  You can see that v0.63.2 and prior have release evidence, but v0.64.0 and subsequent do not.  This can also be seen in the raw data from the API at https://gitlab.com/api/v4/projects/10501328/releases.\n\n### What is the current *bug* behavior?\n\nRelease evidence is not collected.\n\n### What is the expected *correct* behavior?\n\nRelease evidence should be collected when release is created.\n\n### Output of checks\n\nThis bug happens on GitLab.com.\n\n### Proposed solution:\n\nMove code related to evidence creation from the API layer(https://gitlab.com/gitlab-org/gitlab/-/blob/f79ec5e60772350abef9b494abe1f40e6dbf2cd4/lib/api/releases.rb#L70) to the service layer(https://gitlab.com/gitlab-org/gitlab/blob/master/app/services/releases/create_service.rb#L49)","state":"closed","created_at":"2020-03-23T01:56:10.198Z","updated_at":"2022-08-17T18:36:57.768Z","closed_at":"2020-05-15T16:29:23.679Z","closed_by":{"id":4905402,"username":"jreporter","name":"Jackie Porter","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4905402/avatar.png","web_url":"https://gitlab.com/jreporter"},"labels":["Category:Release Evidence","Release::P3","cicd::active","devops::release","priority::4","severity::4","type::bug","workflow::production"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":4391348,"username":"sean_carroll","name":"Sean Carroll","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4391348/avatar.png","web_url":"https://gitlab.com/sean_carroll"}],"author":{"id":68589,"username":"aarongoldenthal","name":"Aaron Goldenthal","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be58dbc60e931e2241e586435025900c?s=80\u0026d=identicon","web_url":"https://gitlab.com/aarongoldenthal"},"type":"ISSUE","assignee":{"id":4391348,"username":"sean_carroll","name":"Sean Carroll","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4391348/avatar.png","web_url":"https://gitlab.com/sean_carroll"},"user_notes_count":37,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212090","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212090","notes":"https://gitlab.com/api/v4/projects/278964/issues/212090/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212090/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212090","relative":"#212090","full":"gitlab-org/gitlab#212090"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32294666,"iid":212089,"project_id":278964,"title":"SSRF on project import via the remote_attachment_url on a Note","description":"**[HackerOne report #826361](https://hackerone.com/reports/826361)** by `vakzz` on 2020-03-22, assigned to @rchan-gitlab:\n\n### Summary\n\nThe Note model has an `attachment` which is provided by a CarrierWave uploader:\n\n```ruby  \nmount_uploader :attachment, AttachmentUploader  \n```\n\nOne of the features this provides is the ability to download and attach a file via a url, see https://github.com/carrierwaveuploader/carrierwave/blob/v1.3.1/lib/carrierwave/mount.rb#L80. This means that the Note model has a method `remote_attachment_url=` which can be used to perform this action.\n\nAs this attribute isn't removed by the `AttributeCleaner` on project import, it can be set in the `project.json` for a note and will be set when the note is created, downloading the file:\n\nhttps://github.com/carrierwaveuploader/carrierwave/blob/v1.3.1/lib/carrierwave/mounter.rb#L72  \n```ruby  \n  def remote_urls=(urls)  \n      return if not urls or urls == \"\" or urls.all?(\u0026:blank?)\n\n      [@]remote_urls = urls  \n      [@]download_error = nil  \n      [@]integrity_error = nil\n\n      [@]uploaders = urls.zip(remote_request_headers || []).map do |url, header|  \n        uploader = blank_uploader  \n        uploader.download!(url, header || {})  \n        uploader  \n      end  \n```\n\nhttps://github.com/carrierwaveuploader/carrierwave/blob/v1.3.1/lib/carrierwave/uploader/download.rb#L43  \n```ruby  \n    def file  \n          if [@]file.blank?  \n            headers = [@]remote_headers.  \n              reverse_merge('User-Agent' =\u003e \"CarrierWave/#{CarrierWave::VERSION}\")\n\n            [@]file = Kernel.open([@]uri.to_s, headers)  \n            [@]file = [@]file.is_a?(String) ? StringIO.new([@]file) : [@]file  \n          end  \n```\n\nThe downloaded file is then attached to the note and can be viewed from the newly imported project.\n\nAny model that has a `mount_uploader` and is importable is potentially vulnerable to the same attack, although the majority of the others are `AvatarUploader` which checks the file type and prevents the response from being viewed.\n\n### Steps to reproduce\n\n1. Create a new project  \n1. Create an issue in the project  \n1. Add a note to the issue  \n1. Export the project  \n1. Extract the export  \n1. Add  `remote_attachment_url` to the `note` hash with a url  \n1. Recompress the export and import it  \n1. View the note on the issue\n\nDemo ![ssrf-note.mp4](https://h1.sec.gitlab.net/a/34bf7472-5f8a-4554-956e-928c0d293745/ssrf-note.mp4)\n\n### Examples\n\nExample of project import on gitlab.com hitting postbin:\n\nhttps://gitlab.com/wbowling/ssrf1/-/issues/1#note_309127303  \n![Screen_Shot_2020-03-22_at_11.22.06_pm.png](https://h1.sec.gitlab.net/a/6e5e0ecd-efea-4d25-9a11-eaaaf7f632cd/Screen_Shot_2020-03-22_at_11.22.06_pm.png)\n\n### What is the current *bug* behavior?  \nWhen importing a model that has a mount_uploader it's possible to use the carrierwave uploader seed attributes to download a file from any host: https://github.com/carrierwaveuploader/carrierwave/wiki/How-to:-Upload-remote-image-urls-to-your-seedfile\n\n### What is the expected *correct* behavior?  \nThe attributes should be prohibited and removed via the `AttributeCleaner`\n\n### Output of checks  \nThis bug happens on gitlab.com\n\n#### Results of GitLab environment info  \n```  \nSystem information  \nSystem:\t\tUbuntu 18.04  \nProxy:\t\tno  \nCurrent User:\tgit  \nUsing RVM:\tno  \nRuby Version:\t2.6.5p114  \nGem Version:\t2.7.10  \nBundler Version:1.17.3  \nRake Version:\t12.3.3  \nRedis Version:\t5.0.7  \nGit Version:\t2.24.1  \nSidekiq Version:5.2.7  \nGo Version:\tunknown\n\nGitLab information  \nVersion:\t12.8.7-ee  \nRevision:\t2643fd87200  \nDirectory:\t/opt/gitlab/embedded/service/gitlab-rails  \nDB Adapter:\tPostgreSQL  \nDB Version:\t10.12  \nURL:\t\thttp://gitlab-vm.local  \nHTTP Clone URL:\thttp://gitlab-vm.local/some-group/some-project.git  \nSSH Clone URL:\tgit@gitlab-vm.local:some-group/some-project.git  \nElasticsearch:\tno  \nGeo:\t\tno  \nUsing LDAP:\tno  \nUsing Omniauth:\tyes  \nOmniauth Providers:\n\nGitLab Shell  \nVersion:\t11.0.0  \nRepository storage paths:  \n- default: \t/var/opt/gitlab/git-data/repositories  \nGitLab Shell path:\t\t/opt/gitlab/embedded/service/gitlab-shell  \nGit:\t\t/opt/gitlab/embedded/bin/git  \n```\n\n## Impact\n\n* Allows an attacker to access internal services, for example the Omnibus GitLab has all of the exporters, Prometheus, Alertmanager exposed on localhost.   \n* If GitLab is hosted on AWS it allows for the instance metadata to be accessed.  \n* Redis is running locally or accessible via tcp (address could be found by looking at the targets in Prometheus at http://localhost:9090/api/v1/targets) it could be possible to obtain RCE (similar to https://github.com/jas502n/gitlab-SSRF-redis-RCE#poc). A POST request is not possible here, but as `remote_attachment_request_header=` is also available (https://github.com/carrierwaveuploader/carrierwave/blob/v1.3.1/lib/carrierwave/mount.rb#L169) and not blacklisted, the payload could be set via a header.  \n* If GitLab is hosted on Google Cloud, the above could be used to set the `Metadata-Flavor: Google` header and access `http://metadata.google.internal/`\n\n## Attachments\n\n**Warning:** Attachments received through HackerOne, please exercise caution!\n\n* [ssrf-note.mp4](https://h1.sec.gitlab.net/a/34bf7472-5f8a-4554-956e-928c0d293745/ssrf-note.mp4)\n* [Screen_Shot_2020-03-22_at_11.22.06_pm.png](https://h1.sec.gitlab.net/a/6e5e0ecd-efea-4d25-9a11-eaaaf7f632cd/Screen_Shot_2020-03-22_at_11.22.06_pm.png)","state":"closed","created_at":"2020-03-23T00:46:12.753Z","updated_at":"2021-08-26T14:06:23.621Z","closed_at":"2020-03-27T10:15:23.837Z","closed_by":{"id":4981524,"username":"jhyson","name":"Josianne Hyson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4981524/avatar.png","web_url":"https://gitlab.com/jhyson"},"labels":["HackerOne","devops::manage","estimation::completed","group::import","priority::2","security","severity::2","workflow::verification"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":4981524,"username":"jhyson","name":"Josianne Hyson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4981524/avatar.png","web_url":"https://gitlab.com/jhyson"}],"author":{"id":2741139,"username":"gitlab-securitybot","name":"GitLab SecurityBot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2741139/avatar.png","web_url":"https://gitlab.com/gitlab-securitybot"},"type":"ISSUE","assignee":{"id":4981524,"username":"jhyson","name":"Josianne Hyson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4981524/avatar.png","web_url":"https://gitlab.com/jhyson"},"user_notes_count":26,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2020-03-27","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212089","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212089","notes":"https://gitlab.com/api/v4/projects/278964/issues/212089/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212089/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212089","relative":"#212089","full":"gitlab-org/gitlab#212089"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32277034,"iid":212063,"project_id":278964,"title":"Images overflow at releases list panel","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nThe images on Releases panel overflows.\n\n### Steps to reproduce\n\nJust select any of your project, make a release with a large image on it, and view it at the list of releases, then ta-da!\n\n### Example Project\n\nhttp://gitlab.chorg.top/AdemJensen/Gobang-Game-UE4/-/releases\n\n### What is the current *bug* behavior?\n\nThe images on Releases panel overflows, display error.\n\n### What is the expected *correct* behavior?\n\nThe images displayed within the frame of website.\n\n### Relevant logs and/or screenshots\n\n![okk](/uploads/a28265d2c35422f27078a0a599d7fc0e/okk.png)\n\n### Output of checks\n\nNone\n\n#### Results of GitLab environment info\n\n(For the record, my gitlab was installed in a docker container)\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\u003cpre\u003e\n\nSystem information\nSystem:\nCurrent User:   git\nUsing RVM:      no\nRuby Version:   2.6.5p114\nGem Version:    2.7.10\nBundler Version:1.17.3\nRake Version:   12.3.3\nRedis Version:  5.0.7\nGit Version:    2.24.1\nSidekiq Version:5.2.7\nGo Version:     unknown\n\nGitLab information\nVersion:        12.8.7\nRevision:       b679f55a199\nDirectory:      /opt/gitlab/embedded/service/gitlab-rails\nDB Adapter:     PostgreSQL\nDB Version:     10.12\nURL:            http://gitlab.chorg.top\nHTTP Clone URL: http://gitlab.chorg.top/some-group/some-project.git\nSSH Clone URL:  git@gitlab.chorg.top:some-group/some-project.git\nUsing LDAP:     no\nUsing Omniauth: yes\nOmniauth Providers:\n\nGitLab Shell\nVersion:        11.0.0\nRepository storage paths:\n default:      /var/opt/gitlab/git-data/repositories\nGitLab Shell path:              /opt/gitlab/embedded/service/gitlab-shell\nGit:            /opt/gitlab/embedded/bin/git\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\nRunning /opt/gitlab/embedded/service/gitlab-shell/bin/check\nInternal API available: OK\nRedis available via internal API: OK\ngitlab-shell self-check successful\n\nChecking GitLab Shell ... Finished\n\nChecking Gitaly ...\n\nGitaly: ... default ... OK\n\nChecking Gitaly ... Finished\n\nChecking Sidekiq ...\n\nSidekiq: ... Running? ... yes\nNumber of Sidekiq processes ... 1\n\nChecking Sidekiq ... Finished\n\nChecking Incoming Email ...\n\nIncoming Email: ... Reply by email is disabled in config/gitlab.yml\n\nChecking Incoming Email ... Finished\n\nChecking LDAP ...\n\nLDAP: ... LDAP is disabled in config/gitlab.yml\n\nChecking LDAP ... Finished\n\nChecking GitLab App ...\n\nGit configured correctly? ... yes\nDatabase config exists? ... yes\nAll migrations up? ... yes\nDatabase contains orphaned GroupMembers? ... no\nGitLab config exists? ... yes\nGitLab config up to date? ... yes\nLog directory writable? ... yes\nTmp directory writable? ... yes\nUploads directory exists? ... yes\nUploads directory has correct permissions? ... yes\nUploads directory tmp has correct permissions? ... yes\nInit script exists? ... skipped (omnibus-gitlab has no init script)\nInit script up-to-date? ... skipped (omnibus-gitlab has no init script)\nProjects have namespace: ...\n2/1 ... yes\n2/2 ... yes\n2/3 ... yes\n2/4 ... yes\n2/5 ... yes\n2/6 ... yes\n2/7 ... yes\n3/8 ... yes\n3/9 ... yes\nRedis version \u003e= 2.8.0? ... yes\nRuby version \u003e= 2.5.3 ? ... yes (2.6.5)\nGit version \u003e= 2.22.0 ? ... yes (2.24.1)\nGit user has default SSH configuration? ... yes\nActive users: ... 4\nIs authorized keys file accessible? ... yes\n\nChecking GitLab App ... Finished\n\n\nChecking GitLab subtasks ... Finished\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\nNot for now.","state":"closed","created_at":"2020-03-22T07:36:33.333Z","updated_at":"2020-07-15T08:37:01.326Z","closed_at":"2020-05-21T22:36:20.758Z","closed_by":{"id":493585,"username":"nfriend","name":"Nathan Friend","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cd23f74a33fc7d8dfe081948696551a5?s=80\u0026d=identicon","web_url":"https://gitlab.com/nfriend"},"labels":["Category:Release Orchestration","Release::P2","UX","UX debt","cicd::active","devops::release","frontend","priority::4","severity::4","type::bug","workflow::in dev"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":3079878,"username":"rayana","name":"Rayana Verissimo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3079878/avatar.png","web_url":"https://gitlab.com/rayana"}],"author":{"id":5658842,"username":"AdemJensen","name":"Jensen Adem","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5658842/avatar.png","web_url":"https://gitlab.com/AdemJensen"},"type":"ISSUE","assignee":{"id":3079878,"username":"rayana","name":"Rayana Verissimo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3079878/avatar.png","web_url":"https://gitlab.com/rayana"},"user_notes_count":4,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212063","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212063","notes":"https://gitlab.com/api/v4/projects/278964/issues/212063/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212063/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212063","relative":"#212063","full":"gitlab-org/gitlab#212063"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3416,"epic":{"id":59432,"iid":3416,"title":"Release Management UX Debt \u0026 UI Polish","url":"/groups/gitlab-org/-/epics/3416","group_id":9970,"human_readable_end_date":"Nov 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":32262426,"iid":212035,"project_id":278964,"title":"Regression with broadcast message rendering with placeholders","description":"When activating the feature flag `broadcast_message_placeholders`, broadcast messages no longer render styled links which got added in [this MR](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/21522).\n\nThe only difference is the post processing, but it should still run through the same broadcast message pipeline. I need to investigate why this is happening.","state":"closed","created_at":"2020-03-21T13:47:56.435Z","updated_at":"2020-03-31T14:36:28.808Z","closed_at":"2020-03-31T14:36:28.750Z","closed_by":{"id":3509693,"username":"nicolasdular","name":"Nicolas Dular","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c4a21f15150c12ddf13fd848597cddd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/nicolasdular"},"labels":["devops::growth","group::activation","workflow::verification"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":3509693,"username":"nicolasdular","name":"Nicolas Dular","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c4a21f15150c12ddf13fd848597cddd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/nicolasdular"}],"author":{"id":3509693,"username":"nicolasdular","name":"Nicolas Dular","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c4a21f15150c12ddf13fd848597cddd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/nicolasdular"},"type":"ISSUE","assignee":{"id":3509693,"username":"nicolasdular","name":"Nicolas Dular","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c4a21f15150c12ddf13fd848597cddd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/nicolasdular"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212035","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212035","notes":"https://gitlab.com/api/v4/projects/278964/issues/212035/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212035/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212035","relative":"#212035","full":"gitlab-org/gitlab#212035"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32260345,"iid":212023,"project_id":278964,"title":"Remove EE check from `bin/secpick`","description":"The following discussion from !27174 should be addressed:\n\n- [ ] @splattael started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/27174#note_308524545):  (+1 comment)\n\n    \u003e Probably out of scope of this MR: Since the use of ~\"single codebase\" do we still need this check?\n    \u003e \n    \u003e If seems we are using https://gitlab.com/gitlab-org/security/gitlab exclusively. On https://gitlab.com/gitlab-org/security/gitlab-foss you cannot create MRs anymore.","state":"closed","created_at":"2020-03-21T11:30:40.989Z","updated_at":"2020-06-18T07:09:08.119Z","closed_at":"2020-06-04T00:01:56.694Z","closed_by":{"id":5057937,"username":"dsearles","name":"Daniel Paul Searles","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5057937/avatar.png","web_url":"https://gitlab.com/dsearles"},"labels":["Deliverable","backend","backstage [DEPRECATED]","devops::secure","group::static analysis","maintenance::refactor","missed-deliverable","missed:12.10","missed:13.0","single codebase","workflow::production"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":5057937,"username":"dsearles","name":"Daniel Paul Searles","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5057937/avatar.png","web_url":"https://gitlab.com/dsearles"}],"author":{"id":438961,"username":"splattael","name":"Peter Leitzen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/97c2ff0fc99cc4eede69be9ac238c304?s=80\u0026d=identicon","web_url":"https://gitlab.com/splattael"},"type":"ISSUE","assignee":{"id":5057937,"username":"dsearles","name":"Daniel Paul Searles","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5057937/avatar.png","web_url":"https://gitlab.com/dsearles"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212023","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212023","notes":"https://gitlab.com/api/v4/projects/278964/issues/212023/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212023/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212023","relative":"#212023","full":"gitlab-org/gitlab#212023"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32252986,"iid":211996,"project_id":278964,"title":"Merge i18n translations (April 2020)","description":"Merge the latest i18n translations from Crowdin.\n\n#### ToDo\n* [x] Kick off an import from Crowdin\n* [x] Associate the MR with this issue\n* [x] Complete the MR\n* [x] When done, duplicate this issue for the next milestone.","state":"closed","created_at":"2020-03-21T01:18:00.043Z","updated_at":"2020-06-13T21:20:46.544Z","closed_at":"2020-04-16T09:28:01.881Z","closed_by":{"id":171554,"username":"reprazent","name":"Bob Van Landuyt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/171554/avatar.png","web_url":"https://gitlab.com/reprazent"},"labels":["Category:Internationalization","devops::manage","estimation::completed","group::import","milestone::p3","priority::3","workflow::in dev"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":5247073,"username":"hdelalic","name":"Haris DelaliÄ‡","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5247073/avatar.png","web_url":"https://gitlab.com/hdelalic"}],"author":{"id":5247073,"username":"hdelalic","name":"Haris DelaliÄ‡","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5247073/avatar.png","web_url":"https://gitlab.com/hdelalic"},"type":"ISSUE","assignee":{"id":5247073,"username":"hdelalic","name":"Haris DelaliÄ‡","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5247073/avatar.png","web_url":"https://gitlab.com/hdelalic"},"user_notes_count":3,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/211996","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":4},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"4 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/211996","notes":"https://gitlab.com/api/v4/projects/278964/issues/211996/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/211996/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#211996","relative":"#211996","full":"gitlab-org/gitlab#211996"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3571,"epic":{"id":67045,"iid":3571,"title":"Regular i18n translation merges","url":"/groups/gitlab-org/-/epics/3571","group_id":9970,"human_readable_timestamp":"\u003cstrong\u003e1033\u003c/strong\u003e days elapsed"},"iteration":null,"health_status":null},{"id":32251826,"iid":211990,"project_id":278964,"title":"Geo: Self-service framework does not associate geo_event_log row to geo_event","description":"Events don't work at the moment.\n\nAn error is silently rescued:\n\n```\n{\"severity\":\"ERROR\",\"time\":\"2020-01-21T21:49:29.317Z\",\"correlation_id\":\"458161d31a2e841667b090ee774039eb\",\"class\":\"PackageFileReplicator\",\"message\":\"Created could not be created\",\"error\":\"unknown attribute 'event_name' for Geo::Event.\"}\n```\n\n- [x] Ensure geo_event_log row is assigned geo_event_id on creation\n- [x] Add tests that ensure this doesn't happen again","state":"closed","created_at":"2020-03-20T23:18:13.298Z","updated_at":"2020-04-07T18:25:21.272Z","closed_at":"2020-04-04T15:06:20.304Z","closed_by":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"labels":["devops::systems","feature flag","group::geo","type::feature","workflow::in review"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"}],"author":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"type":"ISSUE","assignee":{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"},"user_notes_count":1,"merge_requests_count":1,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/211990","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":2},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/211990","notes":"https://gitlab.com/api/v4/projects/278964/issues/211990/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/211990/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#211990","relative":"#211990","full":"gitlab-org/gitlab#211990"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2346,"epic":{"id":16453,"iid":2346,"title":"Geo: Self Service Framework - First Implementation for Package File replication","url":"/groups/gitlab-org/-/epics/2346","group_id":9970,"human_readable_end_date":"Jul 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":32247335,"iid":211984,"project_id":278964,"title":"Validate jira service connection when running an import","description":"Before scheduling, starting, or running a jira import test connection with jira instance. We allow saving jira service with wrong credentials which leads to an active service but that cannot connect to jira instance. We should validate first that jira service can connect to the the instance.","state":"closed","created_at":"2020-03-20T19:47:07.998Z","updated_at":"2020-05-26T11:58:30.179Z","closed_at":"2020-05-26T11:58:29.693Z","closed_by":{"id":3483274,"username":"acroitor","name":"Alexandru Croitor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/461378ef52c26eec55e6c15ec09bb9ed?s=80\u0026d=identicon","web_url":"https://gitlab.com/acroitor"},"labels":["Category:Jira Importer","auto updated","backend","devops::plan","direction","group::project management","missed:13.0","planning priority","type::feature","workflow::production"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":508743,"username":"jarka","name":"Jarka KoÅ¡anovÃ¡","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"}],"author":{"id":3483274,"username":"acroitor","name":"Alexandru Croitor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/461378ef52c26eec55e6c15ec09bb9ed?s=80\u0026d=identicon","web_url":"https://gitlab.com/acroitor"},"type":"ISSUE","assignee":{"id":508743,"username":"jarka","name":"Jarka KoÅ¡anovÃ¡","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/211984","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/211984","notes":"https://gitlab.com/api/v4/projects/278964/issues/211984/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/211984/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#211984","relative":"#211984","full":"gitlab-org/gitlab#211984"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2826,"epic":{"id":28231,"iid":2826,"title":"Import Jira Issues: Second Iteration","url":"/groups/gitlab-org/-/epics/2826","group_id":9970,"human_readable_end_date":"Jun 22, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":32246551,"iid":211982,"project_id":278964,"title":"Roadmaps: Progress bar not sticky","description":"### Summary\n\nFor `gitlab-org`, when there is not an end date, progress bar is not sticking to display.\n\nSee https://gitlab.com/gitlab-org/gitlab/-/issues/5164#note_308060353 for more details.","state":"closed","created_at":"2020-03-20T19:12:21.342Z","updated_at":"2021-11-08T16:54:16.705Z","closed_at":"2021-07-12T14:58:47.707Z","closed_by":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"labels":["Category:Portfolio Management","Enterprise Edition","GitLab Premium","GitLab Ultimate","[deprecated] Accepting merge requests","devops::plan","epics","frontend","group::product planning","missed:12.10","missed:12.9","missed:13.0","missed:13.1","roadmaps","section::dev","stale","type::bug","vintage","workflow::planning breakdown"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"type":"ISSUE","assignee":null,"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/211982","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":0,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/211982","notes":"https://gitlab.com/api/v4/projects/278964/issues/211982/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/211982/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#211982","relative":"#211982","full":"gitlab-org/gitlab#211982"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"at_risk"},{"id":32244319,"iid":211977,"project_id":278964,"title":"bundler-audit unable to checkout commit ref of ruby-advisory-db","description":"### Summary\n\nWhen supplying a commit ref as value to the `BUNDLER_AUDIT_ADVISORY_DB_REF_NAME` variable to bundler_audit users get an error about an unknown revision rather than checking out that commit in the analyzer.\n\n### Steps to reproduce\n\nRun DS with `BUNDLER_AUDIT_ADVISORY_DB_REF_NAME` set to a real commit ref in a ruby-advisory-db fork.\n\n### Example Project\n\nhttps://gitlab.com/gitlab-org/security-products/tests/ruby-bundler\n\n### What is the current *bug* behavior?\n\nAn error occurs during job execution: \n```\nfatal: ambiguous argument '\u003ccommit-ref\u003e': unknown revision or path not in the working tree.\n```\n\n### What is the expected *correct* behavior?\n\nThe dependency scanning job finishes executing.","state":"closed","created_at":"2020-03-20T17:34:40.587Z","updated_at":"2021-02-05T12:34:02.863Z","closed_at":"2020-03-27T03:04:27.324Z","closed_by":{"id":4668304,"username":"ifrenkel","name":"Igor Frenkel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a73e8113c53ac25297ce751e59bbb1d3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifrenkel"},"labels":["Category:Dependency Scanning","backend","devops::secure","group::composition analysis","priority::2","severity::2","type::bug"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":4668304,"username":"ifrenkel","name":"Igor Frenkel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a73e8113c53ac25297ce751e59bbb1d3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifrenkel"}],"author":{"id":4668304,"username":"ifrenkel","name":"Igor Frenkel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a73e8113c53ac25297ce751e59bbb1d3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifrenkel"},"type":"ISSUE","assignee":{"id":4668304,"username":"ifrenkel","name":"Igor Frenkel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a73e8113c53ac25297ce751e59bbb1d3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifrenkel"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/211977","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/211977","notes":"https://gitlab.com/api/v4/projects/278964/issues/211977/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/211977/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#211977","relative":"#211977","full":"gitlab-org/gitlab#211977"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32241329,"iid":211964,"project_id":278964,"title":"ActiveRecord::RecordInvalid (Validation failed: Name has already been taken)","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nWith the introduction of https://gitlab.com/gitlab-org/gitlab/-/merge_requests/17004, GitLab instances are throwing \n`ActiveRecord::RecordInvalid (Validation failed: Name has already been taken)` when the `cronjob:import_software_licenses` is ran.\n\n### Steps to reproduce\n\n1. Install GitLab 12.8.7 \n2. Run the import_software_licenses job\n\n```bash\nSoftwareLicense.count\nSoftwareLicense.last\n\nw = ImportSoftwareLicensesWorker.new()\n\nbegin\nw.perform\nrescue ActiveRecord::RecordInvalid =\u003e invalid\npp invalid.record\nend\n```\n3. Get error\n\n\n### What is the current *bug* behavior?\n\nWhen the `cronjob:import_software_licenses` runs the import initially fails on:\n\n```bash\n#\u003cSoftwareLicense:0x00007f733186cd78\n id: nil,\n name: \"GNU General Public License v1.0 only\",\n spdx_identifier: \"GPL-1.0-only\"\u003e\n=\u003e #\u003cSoftwareLicense id: nil, name: \"GNU General Public License v1.0 only\", spdx_identifier: \"GPL-1.0-only\"\u003e\n```\n\nHowever, you can manually run the job and the import will fail on different license names. We think this is due to having a unique name field at `\"index_software_licenses_on_unique_name\" UNIQUE, btree (name)`\nhttps://gitlab.com/gitlab-org/gitlab/-/blob/2cb9a85d2beadd51b926eaddb05005403bee0013/db/schema.rb#L4081\n\nAnd looking at the [SPDX database](https://spdx.org/licenses/licenses.json), many of the licenses do not have unique names. i.e. `GNU General Public License v1.0 only`\n\nCheck a count of these names with:\n\n```bash\ncurl -s https://spdx.org/licenses/licenses.json | grep -c \"GNU General Public License v1.0 only\"\n```\n\n### What is the expected *correct* behavior?\n\nLicenses are able to import without issue.\n\n### Relevant logs and/or screenshots\n\n```json\n{\"severity\":\"WARN\",\"time\":\"2020-03-18T12:57:01.704Z\",\"error_class\":\"ActiveRecord::RecordInvalid\",\"error_message\":\"Validation failed: Name has already been taken\",\"context\":\"Job raised exception\",\"jobstr\":\"{\\\"queue\\\":\\\"cronjob:import_software_licenses\\\",\\\"args\\\":[],\\\"class\\\":\\\"ImportSoftwareLicensesWorker\\\",\\\"retry\\\":3,\\\"queue_namespace\\\":\\\"cronjob\\\",\\\"jid\\\":\\\"5565938431d4f00b6f9eaeae\\\",\\\"created_at\\\":1584241208.8685296,\\\"correlation_id\\\":\\\"1FFJQJ0Usa\\\",\\\"enqueued_at\\\":1584536220.9578576,\\\"error_message\\\":\\\"Validation failed: Name has already been taken\\\",\\\"error_class\\\":\\\"ActiveRecord::RecordInvalid\\\",\\\"failed_at\\\":1584241210.449874,\\\"retry_count\\\":2,\\\"retried_at\\\":1584241370.927474}\",\"queue\":\"cronjob:import_software_licenses\",\"args\":[],\"class\":\"ImportSoftwareLicensesWorker\",\"retry\":3,\"queue_namespace\":\"cronjob\",\"jid\":\"5565938431d4f00b6f9eaeae\",\"created_at\":\"2020-03-15T03:00:08.868Z\",\"correlation_id\":\"1FFJQJ0Usa\",\"enqueued_at\":\"2020-03-18T12:57:00.957Z\",\"failed_at\":\"2020-03-15T03:00:10.449Z\",\"retry_count\":2,\"retried_at\":\"2020-03-15T03:02:50.927Z\",\"error_backtrace\":[\"app/models/application_record.rb:35:in `block in safe_find_or_create_by!'\",\"app/models/application_record.rb:34:in `tap'\",\"app/models/application_record.rb:34:in `safe_find_or_create_by!'\",\"ee/app/workers/import_software_licenses_worker.rb:15:in `block in perform'\",\"ee/lib/gitlab/spdx/catalogue.rb:18:in `block in each'\",\"ee/lib/gitlab/spdx/catalogue.rb:17:in `each'\",\"ee/lib/gitlab/spdx/catalogue.rb:17:in `each'\",\"ee/app/workers/import_software_licenses_worker.rb:10:in `perform'\",\"lib/gitlab/sidekiq_daemon/monitor.rb:49:in `within_job'\"]}\n```\n\n```ruby\nroot@4cad842b7ed5:/# gitlab-psql -c \"select count(*) from software_licenses;\"\n count \n-------\n     0\n(1 row)\nroot@4cad842b7ed5:/# gitlab-rails c\n--------------------------------------------------------------------------------\n GitLab:       12.8.7-ee (2643fd87200) EE\n GitLab Shell: 11.0.0\n PostgreSQL:   10.12\n--------------------------------------------------------------------------------\nLoading production environment (Rails 6.0.2)\nirb(main):001:0\u003e w = ImportSoftwareLicensesWorker.new()\n=\u003e #\u003cImportSoftwareLicensesWorker:0x00007f47160d7ac8\u003e\nirb(main):002:0\u003e begin\nirb(main):003:1\u003e w.perform\nirb(main):004:1\u003e rescue ActiveRecord::RecordInvalid =\u003e invalid\nirb(main):005:1\u003e pp invalid.record\nirb(main):006:1\u003e end\n#\u003cSoftwareLicense:0x00007f470d7cc378\n id: nil,\n name: \"GNU General Public License v1.0 only\",\n spdx_identifier: \"GPL-1.0-only\"\u003e\n=\u003e #\u003cSoftwareLicense id: nil, name: \"GNU General Public License v1.0 only\", spdx_identifier: \"GPL-1.0-only\"\u003e\nirb(main):007:0\u003e SoftwareLicense.count\n=\u003e 155\n```\n\n#### Results of GitLab environment info\n\nThis is happening on Omnibus 12.8.7 to at least 12.6.4 regardless of GitLab License Plan.\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\u003cpre\u003e\n\n```\nSystem information\nSystem:\t\tUbuntu 18.04\nProxy:\t\tno\nCurrent User:\tgit\nUsing RVM:\tno\nRuby Version:\t2.6.3p62\nGem Version:\t2.7.9\nBundler Version:1.17.3\nRake Version:\t12.3.3\nRedis Version:\t3.2.12\nGit Version:\t2.24.1\nSidekiq Version:5.2.7\nGo Version:\tunknown\n\nGitLab information\nVersion:\t12.6.4-ee\nRevision:\tcc6b787e7b0\nDirectory:\t/opt/gitlab/embedded/service/gitlab-rails\nDB Adapter:\tPostgreSQL\nDB Version:\t10.9\nURL:\t\thttp://172.16.77.146\nHTTP Clone URL:\thttp://172.16.77.146/some-group/some-project.git\nSSH Clone URL:\tgit@172.16.77.146:some-group/some-project.git\nElasticsearch:\tno\nGeo:\t\tno\nUsing LDAP:\tno\nUsing Omniauth:\tyes\nOmniauth Providers: \n\nGitLab Shell\nVersion:\t10.3.0\nRepository storage paths:\n- default: \t/var/opt/gitlab/git-data/repositories\nGitLab Shell path:\t\t/opt/gitlab/embedded/service/gitlab-shell\nGit:\t\t/opt/gitlab/embedded/bin/git\n```\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n```bash\nChecking GitLab subtasks ...\n\nChecking GitLab Shell ...\n\nGitLab Shell: ... GitLab Shell version \u003e= 10.3.0 ? ... OK (10.3.0)\nRunning /opt/gitlab/embedded/service/gitlab-shell/bin/check\nInternal API available: OK\nRedis available via internal API: OK\ngitlab-shell self-check successful\n\nChecking GitLab Shell ... Finished\n\nChecking Gitaly ...\n\nGitaly: ... default ... OK\n\nChecking Gitaly ... Finished\n\nChecking Sidekiq ...\n\nSidekiq: ... Running? ... yes\nNumber of Sidekiq processes ... 1\n\nChecking Sidekiq ... Finished\n\nChecking Incoming Email ...\n\nIncoming Email: ... Reply by email is disabled in config/gitlab.yml\n\nChecking Incoming Email ... Finished\n\nChecking LDAP ...\n\nLDAP: ... LDAP is disabled in config/gitlab.yml\n\nChecking LDAP ... Finished\n\nChecking GitLab App ...\n\nGit configured correctly? ... yes\nDatabase config exists? ... yes\nAll migrations up? ... yes\nDatabase contains orphaned GroupMembers? ... no\nGitLab config exists? ... yes\nGitLab config up to date? ... yes\nLog directory writable? ... yes\nTmp directory writable? ... yes\nUploads directory exists? ... yes\nUploads directory has correct permissions? ... yes\nUploads directory tmp has correct permissions? ... skipped (no tmp uploads folder yet)\nInit script exists? ... skipped (omnibus-gitlab has no init script)\nInit script up-to-date? ... skipped (omnibus-gitlab has no init script)\nProjects have namespace: ... can't check, you have no projects\nRedis version \u003e= 2.8.0? ... yes\nRuby version \u003e= 2.5.3 ? ... yes (2.6.3)\nGit version \u003e= 2.22.0 ? ... yes (2.24.1)\nGit user has default SSH configuration? ... yes\nActive users: ... 1\nIs authorized keys file accessible? ... yes\nElasticsearch version 5.6 - 6.x? ... skipped (elasticsearch is disabled)\n\nChecking GitLab App ... Finished\n\n\nChecking GitLab subtasks ... Finished\n```\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\nThis seems to possibly be self correcting over time as more rows are added to the table until a non-unique name is found. \nThe possible fix may be to remove the unique constraint from `https://gitlab.com/gitlab-org/gitlab/-/blob/2cb9a85d2beadd51b926eaddb05005403bee0013/db/schema.rb#L4081`.","state":"closed","created_at":"2020-03-20T16:15:04.380Z","updated_at":"2020-05-15T14:32:54.580Z","closed_at":"2020-05-14T22:03:59.522Z","closed_by":{"id":971158,"username":"xlgmokha","name":"mo khan","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cc8d289bc1a24067f9af4f92452f4fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/xlgmokha"},"labels":["Category:License Compliance","[deprecated] Accepting merge requests","backend","customer","devops::secure","group::composition analysis","priority::2","severity::3","type::bug","wontfix","workflow::scheduling"],"milestone":null,"assignees":[],"author":{"id":4868424,"username":"ehenley","name":"Eldridge Henley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4868424/avatar.png","web_url":"https://gitlab.com/ehenley"},"type":"ISSUE","assignee":null,"user_notes_count":5,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/211964","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/211964","notes":"https://gitlab.com/api/v4/projects/278964/issues/211964/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/211964/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#211964","relative":"#211964","full":"gitlab-org/gitlab#211964"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32241019,"iid":211962,"project_id":278964,"title":"Allow group owners to bypass SSO enforce","description":"\u003c!-- The first section \"Release notes\" is required if you want to have your release post blog MR auto generated. Currently in BETA, details on the **release post item generator** can be found in the handbook:  https://about.gitlab.com/handbook/marketing/blog/release-posts/#release-post-item-generator and this video: https://www.youtube.com/watch?v=rfn9ebgTwKg. The next four sections: \"Problem to solve\", \"Intended users\", \"User experience goal\", and \"Proposal\", are strongly recommended in your first draft, while the rest of the sections can be filled out during the problem validation or breakdown phase. However, keep in mind that providing complete and relevant information early helps our product team validate the problem and start working on a solution. --\u003e\n\n### Release notes\n\n\u003c!-- What is the problem and solution you're proposing? This content sets the overall vision for the feature and serves as the release notes that will populate in various places, including the [release post blog](https://about.gitlab.com/releases/categories/releases/) and [Gitlab project releases](https://gitlab.com/gitlab-org/gitlab/-/releases). \" --\u003e\n\n### Problem to solve\n\nWe've had multiple cases where group owners have locked everyone out with a misconfiguration of their SAML and having turned on SSO enforce.\n\n\n### Intended users\n\n\u003c!-- Who will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n\n* [Cameron (Compliance Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#cameron-compliance-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager)\n* [Alex (Security Operations Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#alex-security-operations-engineer)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops)\n* [Priyanka (Platform Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#priyanka-platform-engineer)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n* [Eddie (Content Editor)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#eddie-content-editor)\n--\u003e\n\n### User experience goal\n\n\u003c!-- What is the single user experience workflow this problem addresses?\nFor example, \"The user should be able to use the UI/API/.gitlab-ci.yml with GitLab to \u003cperform a specific task\u003e\"\nhttps://about.gitlab.com/handbook/engineering/ux/ux-research-training/user-story-mapping/ --\u003e\n\n\n### Proposal\n\nSimilarly to IP restriction, we should allow admins (self-managed) and top-level group owners (gitlab.com) to access the group outside of SSO. \n\n### Further details\n\n\u003c!-- Include use cases, benefits, goals, or any other details that will help us understand the problem better. --\u003e\n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?\nConsider adding checkboxes and expectations of users with certain levels of membership https://docs.gitlab.com/ee/user/permissions.html\n* [ ] Add expected impact to members with no access (0)\n* [ ] Add expected impact to Guest (10) members\n* [ ] Add expected impact to Reporter (20) members\n* [ ] Add expected impact to Developer (30) members\n* [ ] Add expected impact to Maintainer (40) members\n* [ ] Add expected impact to Owner (50) members --\u003e\n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/workflow.html#for-a-product-change\n\n* Add all known Documentation Requirements in this section. See https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements\n* If this feature requires changing permissions, update the permissions document. See https://docs.gitlab.com/ee/user/permissions.html --\u003e\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\n**What risks does this change pose to our availability?**\nThis is a low risk feature for GitLab.com availability\n\n**What additional test coverage or changes to tests will be needed?**\nEnsure that only the Owner (and [Auditor if it is decided](https://gitlab.com/gitlab-org/gitlab/-/issues/211962#note_471733049)) is able to access the group without needing SSO when it is enforced. No other user with other roles should be able access the group via navigation or a direct link. Ensure that user with roles other than Owner or Auditor are still able to access the group when signed with with SSO. \n\nWe should ideally have an end-to-end test to check if the Owner (and Auditor) can by-pass SSO.\n\n### What does success look like, and how can we measure that?\n\n\u003c!--\nDefine both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this.\n\nCreate tracking issue using the the Snowplow event tracking template. See https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Snowplow%20event%20tracking.md\n--\u003e\n\n### What is the type of buyer?\n\n\u003c!-- What is the buyer persona for this feature? See https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/buyer-persona/\nIn which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#four-tiers --\u003e\n\n### Is this a cross-stage feature?\n\n\u003c!-- Communicate if this change will affect multiple Stage Groups or product areas. We recommend always start with the assumption that a feature request will have an impact into another Group. Loop in the most relevant PM and Product Designer from that Group to provide strategic support to help align the Group's broader plan and vision, as well as to avoid UX and technical debt. https://about.gitlab.com/handbook/product/#cross-stage-features --\u003e\n\n### Links / references\n\n\u003c!--  Label reminders - you should have one of each of the following labels if you can figure out the correct ones --\u003e","state":"closed","created_at":"2020-03-20T16:08:39.267Z","updated_at":"2022-09-02T15:15:36.539Z","closed_at":"2021-01-19T15:56:12.859Z","closed_by":{"id":2982208,"username":"mksionek","name":"Gosia Ksionek","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2982208/avatar.png","web_url":"https://gitlab.com/mksionek"},"labels":["Category:Authentication and Authorization","Next Up","backend","customer","devops::manage","direction","group::authentication and authorization","internal customer","movingtogitlab","quad-planning::complete-action","release post item","release post item::in review","saml","section::dev","type::feature","workflow::in review"],"milestone":{"id":1233759,"iid":55,"group_id":9970,"title":"13.8","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:13.983Z","updated_at":"2022-04-13T14:51:23.220Z","due_date":"2021-01-17","start_date":"2020-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/55"},"assignees":[{"id":2982208,"username":"mksionek","name":"Gosia Ksionek","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2982208/avatar.png","web_url":"https://gitlab.com/mksionek"}],"author":{"id":2454149,"username":"cynthia","name":"Cynthia \"Arty\" Ng","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2454149/avatar.png","web_url":"https://gitlab.com/cynthia"},"type":"ISSUE","assignee":{"id":2982208,"username":"mksionek","name":"Gosia Ksionek","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2982208/avatar.png","web_url":"https://gitlab.com/mksionek"},"user_notes_count":39,"merge_requests_count":0,"upvotes":9,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/211962","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/211962","notes":"https://gitlab.com/api/v4/projects/278964/issues/211962/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/211962/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#211962","relative":"#211962","full":"gitlab-org/gitlab#211962"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1785,"epic":{"id":11091,"iid":1785,"title":"Group SSO: Stability, Availability, and Security","url":"/groups/gitlab-org/-/epics/1785","group_id":9970,"human_readable_end_date":"May 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":32239250,"iid":211961,"project_id":278964,"title":"Send an email notification when \"merge when pipeline succeeds\" is set on a merge request","description":"# Problem\n\nWe get notified by email when an MR is approved, but we don't know when the reviewer sets MWPS.\nUsually, we'd have to check the MR manually or wait to receive a notification when it is merged.\n\nIt is useful to tick off the MR mentally when MWPS is set.\n\n# Proposal\nAn email will be sent to notify the subscribers in the MR thread, when MWPS is set.\n\nThe text should be: `Your merge request has been set to merge when the pipeline succeeds`\n\n![image](/uploads/636ffcf1037f5facc58c1becb5080284/image.png)\n\nUsers will be able to configure this notification:\n\nText should be:  `Merge when pipeline succeeds`\n\n![image](/uploads/1724df28c3f85ac3fb4960a6fc21e07b/image.png)","state":"closed","created_at":"2020-03-20T15:36:39.040Z","updated_at":"2021-04-03T08:47:09.206Z","closed_at":"2020-09-03T23:03:33.613Z","closed_by":{"id":3716529,"username":"jagood","name":"Jason Goodman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6696c95a1788e2d4bee67df636805ecc?s=80\u0026d=identicon","web_url":"https://gitlab.com/jagood"},"labels":["Category:Continuous Delivery","Community contribution","Technical Writing","UI text","auto updated","backend","cicd::active","devops::release","direction","documentation","group::release","missed:13.1","missed:13.2","missed:13.3","section::ops"],"milestone":{"id":1233753,"iid":51,"group_id":9970,"title":"13.4","description":"https://about.gitlab.com/releases/2020/09/22/gitlab-13-4-released/","state":"closed","created_at":"2020-04-09T17:39:21.662Z","updated_at":"2022-04-13T14:50:33.769Z","due_date":"2020-09-17","start_date":"2020-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/51"},"assignees":[{"id":3716529,"username":"jagood","name":"Jason Goodman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6696c95a1788e2d4bee67df636805ecc?s=80\u0026d=identicon","web_url":"https://gitlab.com/jagood"},{"id":5781996,"username":"ravishankar2kool","name":"Ravishankar Gnanaprakasam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5781996/avatar.png","web_url":"https://gitlab.com/ravishankar2kool"}],"author":{"id":4158075,"username":"aakriti.gupta","name":"Aakriti Gupta","state":"active","avatar_url":"https://secure.gravatar.com/avatar/992a080bc7d9f8c22ff7186db1c76dbd?s=80\u0026d=identicon","web_url":"https://gitlab.com/aakriti.gupta"},"type":"ISSUE","assignee":{"id":3716529,"username":"jagood","name":"Jason Goodman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6696c95a1788e2d4bee67df636805ecc?s=80\u0026d=identicon","web_url":"https://gitlab.com/jagood"},"user_notes_count":35,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/211961","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/211961","notes":"https://gitlab.com/api/v4/projects/278964/issues/211961/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/211961/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#211961","relative":"#211961","full":"gitlab-org/gitlab#211961"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32235284,"iid":211953,"project_id":278964,"title":"Geo Nodes - Legacy Code Clean-Up","description":"*  ## What and Why\n\nThis MR is focused on some ~\"technical debt\" I have noticed in the `javacripts/geo_nodes` directory.  Most of this code was written \u003e 2 years ago and could use a run through to clean up certain things.\n\nHowever, with the coming re-designs for Geo, it makes sense to wait to do some of this but rather track it, so once we are in the code base, we can begin to tackle them as we go.\n\n## Living list of items\n\n*  Rewrite existing `jest` tests using `vue-test-utils`\n    *  Test render instead of function return [here](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/27836#note_310942021)\n    *  Replace all `js-*` and `data-testid=\"*\"` with `ref=\"*\"`\n\n*  Rewrite any leftover `karma` tests in `jest`\n*  Clean up un-used props\n*  Rewrite store in `vuex`\n*  Remove `eventBus`\n*  Replace `service` file\n*  Optimize components, [example](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/27033#note_308269870)\n*  Remove GeoNodesList component (Un-used)\n\ncc: @fzimmer this is mainly for my sanity, I think a lot of this will happen naturally as we re-design Geo.","state":"closed","created_at":"2020-03-20T14:39:47.024Z","updated_at":"2023-01-03T19:26:18.126Z","closed_at":"2023-01-03T19:26:18.069Z","closed_by":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"labels":["Geo Administration","Geo Next Gen","[deprecated] Accepting merge requests","devops::systems","group::geo","maintenance::refactor","section::enablement"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"type":"ISSUE","assignee":null,"user_notes_count":4,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/211953","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/211953","notes":"https://gitlab.com/api/v4/projects/278964/issues/211953/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/211953/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#211953","relative":"#211953","full":"gitlab-org/gitlab#211953"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32232650,"iid":211949,"project_id":278964,"title":"Send arbitrary PUT requests when user clicks on a link","description":"**[HackerOne report #824689](https://hackerone.com/reports/824689)** by `yvvdwf` on 2020-03-19, assigned to @jeremymatos:\n\nDear teams,\n\n### Summary\n\nMermaid allows users to set class name of a block. This ability becomes vulnerable in Gitlab issues because of [issue.js#L90](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/assets/javascripts/issue.js#L90):\n\n```javascript  \n    return $(document).on(  \n      'click',  \n      '.js-issuable-actions a.btn-close, .js-issuable-actions a.btn-reopen',  \n      e =\u003e {  \n...  \n       const $button = $(e.currentTarget);  \n...  \n        const url = $button.attr('href');  \n        return axios  \n          .put(url)  \n          .then(({ data }) =\u003e {  \n...  \n```\n\n### Steps to reproduce\n\n 1. Create any issue  \n 2. Enter the following payload as the description of the issue:\n\n```  \n```mermaid  \ngraph TD;  \n A[Click to send a PUT request];  \n class A js-issuable-actions;  \n class A btn-close;  \n click A \"./put-destination\" \"click to PUT\"  \n```\n\nAfter saving the issue, if you click on the block `Click to send a PUT request`, a `PUT` request will be sent to `./put-destination`\n\n### Impact\n\nSince attacker can control `./put-destination`, he can theoretically can perform any PUT requests on behalf of the current user.  \nFor example, attacker can use the following url to update the description of issue #2:\n\n`/api/v4/projects/16210710/issues/2?description=a`\n\n### Examples\n\nAn example is available here: https://gitlab.com/yvvdwf/xss/-/issues/1 (it is private, pls let me know if you cannot access it)\n\n### Output of checks\n\nThis bug happens on GitLab.com\n\n## Impact\n\nWhen received click of user, attacker may perform arbitrary PUT requests of the behalf of the user","state":"closed","created_at":"2020-03-20T14:02:41.864Z","updated_at":"2021-07-23T16:39:43.743Z","closed_at":"2020-06-10T12:17:58.679Z","closed_by":{"id":3619903,"username":"jbroullon","name":"Juan Broullon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3619903/avatar.png","web_url":"https://gitlab.com/jbroullon"},"labels":["HackerOne","devops::plan","frontend","group::project management","priority::3","security","severity::3","workflow::in dev"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":4447636,"username":"sstern","name":"Scott Stern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4447636/avatar.png","web_url":"https://gitlab.com/sstern"}],"author":{"id":2741139,"username":"gitlab-securitybot","name":"GitLab SecurityBot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2741139/avatar.png","web_url":"https://gitlab.com/gitlab-securitybot"},"type":"ISSUE","assignee":{"id":4447636,"username":"sstern","name":"Scott Stern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4447636/avatar.png","web_url":"https://gitlab.com/sstern"},"user_notes_count":15,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":"2020-06-19","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/211949","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/211949","notes":"https://gitlab.com/api/v4/projects/278964/issues/211949/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/211949/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#211949","relative":"#211949","full":"gitlab-org/gitlab#211949"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32416573,"iid":212403,"project_id":278964,"title":"Usage data counter interface","description":"\nHarden Usage Ping - Consolidate all counters into four main counters with fail safes\n\n- Add comment for usage_data.rb on the usage\n\n[Parent Issue](https://gitlab.com/gitlab-org/telemetry/-/issues/335)\n\n### Problem\nIn its current state, the entire usage ping payload breaks if there is an uncaught error. example. `avg_cycle_analytics` was giving an uncaught error: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/26381. This was fixed in 12.9\n\n### Result\nTeams can add metrics to usage ping without the breaking the entire payload.\n\n### Proposal V1\nPropose the MVC required to ensure usage ping does not break due to uncaught errors.\n\nPer @jeromezng 's comment [here](https://gitlab.com/gitlab-org/telemetry/-/issues/335#note_307573839):\n\n\u003e Isolation will ensure robustness while parallelization ensures speed. Currently robustness is more important than speed (GitLab.com usage ping takes about 11 hours to run and with query optimizations this is reduced to \\~6 hours).\n\u003e \n\u003e MVC for robustness:\n\u003e \n\u003e * Have a defined list of usage pings in usage_data.rb or a yaml file\n\u003e * Cron job cycles through this entire list sequentially\n\u003e * Each job calls a get_counter(attributes, etc) method, which can fail individually.\n\u003e * Each get_counter method saves counter result to database\n\u003e * Each get_counter method sends an atomic payload to Versions OR we wait for all get_counter methods to finish then query the database to build and send a single large payload to Versions.\n\u003e * We can optionally parallelize by breaking this into three jobs: usage_activity_by_stage, usage_activity_by_stage_monthly, other counters\n\u003e \n\u003e Other ideas we discussed:\n\u003e \n\u003e * The idea about having a \"Defined list of usage pings\" in a separate database isn't a great option as it introduces state which needs to be configured. I'd rather have counters be stateless and defined in source control.\n\u003e * The idea to be able to set_counters via chatops is something we can explore in the future, but also requires configuration with varying states.\n\n### Proposal V2\n\n**12.10:** Consolidate all counters into four main counters with fail safes. Create an example of `add_usage_data` method.\n* Consolidate all counters into four main counters. We've already added \\~90% to these: Batch Count and Distant Count.\n* The four main counters will be: Batch Count, Distinct Count, Redis Count, Alternative Count.\n* Convert non-batch counters to batch counters: https://gitlab.com/gitlab-org/gitlab/-/issues/208923\n* Redis Counters: this includes anything that uses redis, this however may be a \"russian doll\" where usage pings calculations are temporarily stored in Redis / multiple usage pings. We will need to spend time tracing this.\n* Alternative Counter: this includes anything miscellanous such as https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/usage_data.rb#L26\n* The four main counters will have their own `rescue` fail safe. Similar to what is currently done in Batch Count and Distinct Count.\n* We will then have an `add_usage_data` which is used to append data to the JSON payload.\n* `add_usage_data` method which will wrap all four main counters with rescue fail safes.\n* For 12.10, `add_usage_data` will have four examples, one for each of the main counters.\n* Work with stage teams to reimplement their counters using the four main counter methods:\n  * Jira Usage https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/usage_data.rb#L198\n  * cycle_analytics\n\n**13.0:** Expand `add_usage_data` to all 400 counters\n\n* Expand the `add_usage_data` from four examples to all 400 counters.","state":"closed","created_at":"2020-03-20T13:59:47.872Z","updated_at":"2021-01-26T21:02:36.541Z","closed_at":"2020-11-03T08:24:07.056Z","closed_by":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"labels":["devops::growth","group::product intelligence","link::child issue","section::growth","workflow::in dev"],"milestone":null,"assignees":[{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"}],"author":{"id":4787282,"username":"sid_reddy","name":"Sid Reddy","state":"blocked","avatar_url":"https://secure.gravatar.com/avatar/95c7d8737742bea3cde673543ab16529?s=80\u0026d=identicon","web_url":"https://gitlab.com/sid_reddy"},"type":"ISSUE","assignee":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212403","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212403","notes":"https://gitlab.com/api/v4/projects/278964/issues/212403/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212403/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212403","relative":"#212403","full":"gitlab-org/gitlab#212403"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32229804,"iid":211944,"project_id":278964,"title":"Provide instance level setting to enable or disable \"default branch protection\" at the group level for group owners","description":"Follow up to: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/24426\n\nProposal:\n\nHave an instance level setting that instance admins can enable or disable.\n\nWhen enabled: Allow group owners to update the `default branch protection` setting at the group level. Instance admins should also be able to update this setting at the group level.\n\nWhen disabled: Do not allow group owners to update the `default branch protection` setting at the group level. But Instance admins should still be able to update this setting at the group level.","state":"closed","created_at":"2020-03-20T13:27:33.939Z","updated_at":"2021-09-07T18:37:53.077Z","closed_at":"2020-05-04T06:01:47.587Z","closed_by":{"id":4093067,"username":"manojmj","name":"Manoj M J","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4093067/avatar.png","web_url":"https://gitlab.com/manojmj"},"labels":["Category:Compliance Management","Deliverable","Enterprise Edition","GitLab Premium","backend","devops::manage","direction","group::compliance","priority::4","type::feature","workflow::in review"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":4093067,"username":"manojmj","name":"Manoj M J","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4093067/avatar.png","web_url":"https://gitlab.com/manojmj"}],"author":{"id":4093067,"username":"manojmj","name":"Manoj M J","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4093067/avatar.png","web_url":"https://gitlab.com/manojmj"},"type":"ISSUE","assignee":{"id":4093067,"username":"manojmj","name":"Manoj M J","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4093067/avatar.png","web_url":"https://gitlab.com/manojmj"},"user_notes_count":19,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/211944","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/211944","notes":"https://gitlab.com/api/v4/projects/278964/issues/211944/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/211944/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#211944","relative":"#211944","full":"gitlab-org/gitlab#211944"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32227574,"iid":211940,"project_id":278964,"title":"Initial mirror user can be assigned by other user even if the mirror was removed","description":"**[HackerOne report #819821](https://hackerone.com/reports/819821)** by `sky003` on 2020-03-15, assigned to @jeremymatos:\n\n### Summary\n\nEven if the mirror was removed, `project.mirror_user` still will be persisted. So any maintainer can create \"pull\" mirror with initial mirror user:  \n```  \n  # safe_mirror_params.rb\n\n  def valid_mirror_user?(mirror_params)  \n    return true unless mirror_params[:mirror_user_id].present?\n\n    default_mirror_users.map(\u0026:id).include?(mirror_params[:mirror_user_id].to_i)  \n  end\n\n  def default_mirror_users  \n    # mirror is removed, but \"project.mirror_user\" is still presented here  \n    [current_user, project.mirror_user].compact.uniq   \n  end  \n```\n\n### Steps to reproduce\n\n1. Login as the user with \"maintainer\" role (let's call this user \"permanent maintainer\").  \n2. Create any \"pull\" mirror for the project.  \n3. Remove created mirror.  \n4. Login as the other user with \"maintainer\" role (let's call this user \"temporary maintainer\").  \n5. Open \"Mirroring repositories\" section in the project settings. \"Temporary maintainer\" can create a new \"pull\" mirror, but with \"permanent maintainer\" as the mirror user. So the below rule is not enforced:\n\n\u003e This user will be the author of all events in the activity feed that are the result of an update, like new branches being created or new commits being pushed to existing branches. **Upon creation or when reassigning you can only assign yourself to be the mirror user.**\n\n### Impact\n\nThis feature can be used as the backdoor. \"Temporary maintainer\" can add controlled repository there, so even if \"temporary maintainer\" will be removed from the project, he still can push the commits to a repository with maintainer privileges (because the mirror user is \"permanent maintainer\"). \n\nAny who use \"pull\" repository mirror feature is vulnerable by this. And of course this guys, because there might at least few cases when someone might need to create \"pull\" repository mirror in gitlab some time before:  \n1. Want to test it before move from some other project hosting.  \n2. Started by using only gitlab CI (in which case this might be necessary to create \"pull\" mirror in gitlab project; see [\"Benefits\" section here](https://about.gitlab.com/solutions/github/)) and now moved to gitlab  \n3. It was just some dev/business requirement.\n\n### What is the current *bug* behavior?\n\n\"project.mirror_user\" relationship is presented even if the project repository mirror is removed. \n\n### What is the expected *correct* behavior?\n\nIf the mirror removed, then \"project.mirror_user\" relationship also should be removed, so no one can create \"pull\" mirror with \"project.mirror_user\" as the mirror user, so this rule can be enforced:\n\n\u003e Upon creation or when reassigning you can only assign yourself to be the mirror user.\n\n## Impact\n\nThis feature can be used as the backdoor. \"Temporary maintainer\" can add a controlled repository there, so even if \"temporary maintainer\" will be removed from the project, he still can push the commits to a repository with maintainer privileges (because the mirror user can be set to \"permanent maintainer\").","state":"closed","created_at":"2020-03-20T12:53:34.079Z","updated_at":"2020-09-03T08:15:52.839Z","closed_at":"2020-06-02T08:31:35.445Z","closed_by":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"labels":["Deliverable","HackerOne","backend","devops::create","group::source code","priority::3","security","severity::3","workflow::verification"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"}],"author":{"id":2741139,"username":"gitlab-securitybot","name":"GitLab SecurityBot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2741139/avatar.png","web_url":"https://gitlab.com/gitlab-securitybot"},"type":"ISSUE","assignee":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"user_notes_count":22,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2020-06-19","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/211940","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/211940","notes":"https://gitlab.com/api/v4/projects/278964/issues/211940/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/211940/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#211940","relative":"#211940","full":"gitlab-org/gitlab#211940"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":32224191,"iid":211931,"project_id":278964,"title":"Version Control for Snippets: Reuse existing default file name if the file name is blank","description":"If the user created a snippet without a file name, we will assign a name to the blob file like `snippetfile1.txt`. If we edit the snippet and remove the file name again, we will build the new name `snippetfile2.txt`. \n\nInstead, we can reuse the existing one.","state":"closed","created_at":"2020-03-20T12:05:05.203Z","updated_at":"2020-03-23T18:59:29.529Z","closed_at":"2020-03-23T11:15:57.688Z","closed_by":{"id":438961,"username":"splattael","name":"Peter Leitzen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/97c2ff0fc99cc4eede69be9ac238c304?s=80\u0026d=identicon","web_url":"https://gitlab.com/splattael"},"labels":["Category:Snippets","backend","devops::create","group::editor","type::bug","workflow::verification"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":955795,"username":"fjsanpedro","name":"Francisco Javier LÃ³pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"}],"author":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier LÃ³pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"type":"ISSUE","assignee":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier LÃ³pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/211931","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/211931","notes":"https://gitlab.com/api/v4/projects/278964/issues/211931/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/211931/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#211931","relative":"#211931","full":"gitlab-org/gitlab#211931"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":239,"epic":{"id":470,"iid":239,"title":"Version control for snippets","url":"/groups/gitlab-org/-/epics/239","group_id":9970,"human_readable_end_date":"Jun 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":32218106,"iid":211926,"project_id":278964,"title":"Nuget repository ignores dependencies of packages","description":"~\"backend-weight::3\" \n\n### Summary\n\nDependencies of packages pushed to the NuGet Repository are not shown in e. g. Visual Studio when browsing the dependency. The dependencies are not resolved either when installing the package.\n\n### Steps to reproduce\n\n1. Push any package with dependencies to a GitLab NuGet Repo. \n1. Get any package with dependencies from nuget.org, e.g. https://www.nuget.org/packages/Moq/\n1. Add the project as a package source in Visual Studio (Tools/Options/Nuget package manager/package soruces). \n1. This is with Visual Studio 2017 V15.9.12, .net framework 4.5 and the project converted to PackageReference (https://docs.microsoft.com/en-us/nuget/consume-packages/migrate-packages-config-to-package-reference)\n1. Browse the new source, see then dependencies missing\n1. If you push to a simple file store `nuget push f:\\tmp\\moq.4.13.1.nupkg -source \"mysource\"` the dependencies show up \n\n### Further details\n\n- The .nuspec file inside contains:\n```\n    \u003cdependencies\u003e\n      \u003cgroup targetFramework=\".NETFramework4.5\"\u003e\n        \u003cdependency id=\"Castle.Core\" version=\"4.4.0\" exclude=\"Build,Analyzers\" /\u003e\n        \u003cdependency id=\"System.Threading.Tasks.Extensions\" version=\"4.5.1\" exclude=\"Build,Analyzers\" /\u003e\n      \u003c/group\u003e\n      \u003cgroup targetFramework=\".NETStandard2.0\"\u003e\n        \u003cdependency id=\"Castle.Core\" version=\"4.4.0\" exclude=\"Build,Analyzers\" /\u003e\n        \u003cdependency id=\"System.Threading.Tasks.Extensions\" version=\"4.5.1\" exclude=\"Build,Analyzers\" /\u003e\n      \u003c/group\u003e\n    \u003c/dependencies\u003e\n```\n-  ![Dependencies missing](/uploads/5a5cf1381eab0c5e34413e541bae75d8/image.png)\n-  ![Dependencies missing](/uploads/05ecefc09522ddaf69580c73a50c6560/image.png)\n\n\n### What is the current *bug* behavior?\n\nDependencies of package are not displayed and not installed\n\n### What is the expected *correct* behavior?\n\nDependencies of package are displayed and installed\n\n\n\nGitlab  12.8.7-ee","state":"closed","created_at":"2020-03-20T10:22:05.349Z","updated_at":"2020-06-10T06:50:40.411Z","closed_at":"2020-06-10T06:50:40.317Z","closed_by":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"labels":["Category:Package Registry","NuGet Repository","Package:P2","backend","customer","devops::package","group::package registry","package:active","priority::3","ruby","severity::3","type::bug","workflow::canary"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"}],"author":{"id":5649899,"username":"BerndP","name":"Bernd","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08451de28b303529740b3eb86c4a0bc6?s=80\u0026d=identicon","web_url":"https://gitlab.com/BerndP"},"type":"ISSUE","assignee":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"user_notes_count":24,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/211926","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/211926","notes":"https://gitlab.com/api/v4/projects/278964/issues/211926/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/211926/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#211926","relative":"#211926","full":"gitlab-org/gitlab#211926"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32213481,"iid":211921,"project_id":278964,"title":"Geo: Display Snippets verification status","description":"### Problem to solve\n\nDisplay Snippets checksum status on Admin \u003e Geo \u003e Nodes UI (primary and secondary nodes)\n\n### Intended users\n\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* GitLab administrator\n\n### Further details\n\nThe datasource for checksum status is different on primary and secondary nodes. On primary we look at `snippets_verification` or `snippets_states` tables (check https://gitlab.com/gitlab-org/gitlab/-/issues/211917 for final decision on table name). On secondary this is stored on the Geo Tracking Database, under `snippets_registry` table.\n\n### Proposal\n\n* Add Snippets under `Verification information` in Admin \u003e Geo \u003e Nodes UI (should be available on both primary and secondary nodes)\n\n### What does success look like, and how can we measure that?\n\nBe able to visit Admin \u003e Geo \u003e Nodes UI and check current state of checksum percentage over existing data. \n\n### Links / references","state":"closed","created_at":"2020-03-20T08:12:16.103Z","updated_at":"2021-03-13T06:26:15.986Z","closed_at":"2021-03-13T06:26:15.902Z","closed_by":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"labels":["Category:Geo Replication","Enterprise Edition","Geo Administration","[deprecated] Accepting merge requests","devops::systems","frontend","group::geo","section::enablement","type::feature"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":2293,"username":"brodock","name":"Gabriel Mazetto","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2293/avatar.png","web_url":"https://gitlab.com/brodock"},"type":"ISSUE","assignee":null,"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/211921","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/211921","notes":"https://gitlab.com/api/v4/projects/278964/issues/211921/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/211921/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#211921","relative":"#211921","full":"gitlab-org/gitlab#211921"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2810,"epic":{"id":27925,"iid":2810,"title":"Geo: Self Service Framework - Snippet verification","url":"/groups/gitlab-org/-/epics/2810","group_id":9970,"human_readable_end_date":"May 22, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":32213465,"iid":211920,"project_id":278964,"title":"Geo: Verify Snippets on secondary","description":"### Problem to solve\n\nAfter a checksum is generated on a secondary we should compare with the one on primary and try to resync when they don't match\n\n### Further details\n\nOn primary checksums will be stored in `snippets_state` or `snippets_verification` (check decision made in: https://gitlab.com/gitlab-org/gitlab/-/issues/211917). On secondary these are stored in `snippets_registry`.\n\nImportant files from previous implementations:\n\n* `ee/app/services/geo/repository_verification_primary_service.rb`\n* `ee/app/services/geo/repository_verification_secondary_service.rb`\n\n### Proposal\n\n* Extract repair logic from previous repository sync code and generalize it to be used in the Geo framework\n* Update registry to include a checksum failure when they don't match\n* Trigger a resync when checksum don't match\n* Keep an increasing counter of verification failures until it can successfully verify (as per previous implementation)\n\n### What does success look like, and how can we measure that?\n\nFor a repository on secondary that either got corrupted, or had their checksum modified, that should trigger a resync and have a new checksum be generated that matches the one from the primary.\n\n### Links / references","state":"closed","created_at":"2020-03-20T08:11:57.468Z","updated_at":"2021-03-13T06:26:37.431Z","closed_at":"2021-03-13T06:26:37.386Z","closed_by":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"labels":["Category:Geo Replication","Enterprise Edition","[deprecated] Accepting merge requests","devops::systems","group::geo","section::enablement","type::feature"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":2293,"username":"brodock","name":"Gabriel Mazetto","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2293/avatar.png","web_url":"https://gitlab.com/brodock"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/211920","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/211920","notes":"https://gitlab.com/api/v4/projects/278964/issues/211920/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/211920/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#211920","relative":"#211920","full":"gitlab-org/gitlab#211920"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2810,"epic":{"id":27925,"iid":2810,"title":"Geo: Self Service Framework - Snippet verification","url":"/groups/gitlab-org/-/epics/2810","group_id":9970,"human_readable_end_date":"May 22, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":32213452,"iid":211919,"project_id":278964,"title":"Geo: Ensure Snippet checksum on primary","description":"### Problem to solve\n\nWe generate new checksums when an event is processed like a snippet is created or updated. We need to, from time to time, re-generate the checksums, as a way to make sure we always have the best representation of data on disk (a verification can fail to trigger, or data can be modified by a SRE, etc).\n\n### Proposal\n\nExtract functionality from `ee/app/workers/geo/repository_verification/primary` and build a generic version that can be used for the Geo framework (it should do what's necessary by receiving the replicator as param)\n\n### Additional Information\n\nChecksum is performed by gitaly, and can be triggered by calling `repository.checksum`. Geo current implementation triggers that either when an event happens (repository update, for example), and/or periodically by a backfiling job controlled by `ee/app/workers/geo/repository_verification/primary/*`\n\nMost of the code for the verification on the primary can be found here: `/ee/app/services/geo/repository_verification_primary_service.rb`\n\n### Documentation\n\nAdd to the existing Geo framework documentation, what are the changes required for storing the verification metadata and how to wire that up with the framework\n\n### What does success look like, and how can we measure that?\n\nWhen a snippet is created or updated, a checksum should be stored/updated on the new `_verification`/`_states` table.\n\n### Links / references","state":"closed","created_at":"2020-03-20T08:11:44.261Z","updated_at":"2021-03-13T06:27:05.464Z","closed_at":"2021-03-13T06:27:05.391Z","closed_by":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"labels":["[deprecated] Accepting merge requests","auto updated"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":2293,"username":"brodock","name":"Gabriel Mazetto","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2293/avatar.png","web_url":"https://gitlab.com/brodock"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/211919","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/211919","notes":"https://gitlab.com/api/v4/projects/278964/issues/211919/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/211919/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#211919","relative":"#211919","full":"gitlab-org/gitlab#211919"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2810,"epic":{"id":27925,"iid":2810,"title":"Geo: Self Service Framework - Snippet verification","url":"/groups/gitlab-org/-/epics/2810","group_id":9970,"human_readable_end_date":"May 22, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":32213426,"iid":211918,"project_id":278964,"title":"Geo: Generate checksum for the snippet on the secondary","description":"### Problem to solve\n\nWhen snippets are synced, we should generate a checksum based on the repository content and store it on the Geo Tracking Database.\n\n### Proposal\n\n1. Build required set of fields based on `project_registry`, in `snippets_registry`\n1. Extract functionality from `ee/app/workers/geo/repository_verification/secondary` and build a generic version that can be used for the Geo framework (it should do what's necessary by receiving the replicator as param)\n\n### Additional Information\n\nChecksum is performed by gitaly, and can be triggered by calling `repository.checksum`. Geo current implementation triggers that either when an event is processed (repository sync), and/or periodically by a backfilling job controlled by `ee/app/workers/geo/repository_verification/secondary/*`, or when manually triggered by the UI.\n\nMost of the code for the verification on the primary can be found here: `/ee/app/services/geo/repository_verification_secondary_service.rb`\n\n### Documentation\n\nAdd to the existing Geo framework documentation, what are the changes required for storing the verification metadata and how to wire that up with the framework\n\n### What does success look like, and how can we measure that?\n\nWhen a snippet is synced, a checksum should be stored/updated on the `snippets_registry` table.\n\n### Links / references","state":"closed","created_at":"2020-03-20T08:11:18.598Z","updated_at":"2021-03-13T06:26:53.853Z","closed_at":"2021-03-13T06:26:53.781Z","closed_by":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"labels":["Category:Geo Replication","Enterprise Edition","[deprecated] Accepting merge requests","devops::systems","group::geo","section::enablement","type::feature"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":2293,"username":"brodock","name":"Gabriel Mazetto","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2293/avatar.png","web_url":"https://gitlab.com/brodock"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/211918","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/211918","notes":"https://gitlab.com/api/v4/projects/278964/issues/211918/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/211918/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#211918","relative":"#211918","full":"gitlab-org/gitlab#211918"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2810,"epic":{"id":27925,"iid":2810,"title":"Geo: Self Service Framework - Snippet verification","url":"/groups/gitlab-org/-/epics/2810","group_id":9970,"human_readable_end_date":"May 22, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":32213401,"iid":211917,"project_id":278964,"title":"Geo: Generate checksum for the snippet repository on the primary","description":"### Problem to solve\n\nWhen snippets are created or updated, we should generate a checksum based on the repository content and store it on the primary's database\n\n### Proposal\n\nBuild required set of fields based on `project_repository_states`, in a new table associated with snippets: `snippets_verification` (or `snippets_states`, I believe `_verification` describes it better)\n\nCreate a generic version of `/ee/app/services/geo/repository_verification_primary_service.rb` that can be used by the Geo framework and wire that with the snippets repository (perhaps extracting to a concern so it can be reused in new implementations).\n\nBuild an equivalent version of `ee/app/workers/geo/repository_verification/primary/single_worker.rb` that will be triggered as part of the `:created` and `:updated` events from the replicator.\n\n### Documentation\n\nAdd to the existing Geo framework documentation, what are the changes required for storing the verification metadata and how to wire that up with the framework\n\n### What does success look like, and how can we measure that?\n\nWhen a snippet is created or updated, a checksum should be stored/updated on the new `_verification`/`_states` table.\n\n### Links / references","state":"closed","created_at":"2020-03-20T08:10:54.314Z","updated_at":"2021-03-13T06:27:21.234Z","closed_at":"2021-03-13T06:27:21.175Z","closed_by":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"labels":["Category:Geo Replication","Enterprise Edition","[deprecated] Accepting merge requests","devops::systems","section::enablement","type::feature"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":2293,"username":"brodock","name":"Gabriel Mazetto","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2293/avatar.png","web_url":"https://gitlab.com/brodock"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/211917","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/211917","notes":"https://gitlab.com/api/v4/projects/278964/issues/211917/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/211917/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#211917","relative":"#211917","full":"gitlab-org/gitlab#211917"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2810,"epic":{"id":27925,"iid":2810,"title":"Geo: Self Service Framework - Snippet verification","url":"/groups/gitlab-org/-/epics/2810","group_id":9970,"human_readable_end_date":"May 22, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":32212625,"iid":211916,"project_id":278964,"title":"Geo: Developer Documentation - adding new repository type replication","description":"### Problem to solve\n\nCreate developer documentation on how to add a new repository replication.\n\n### Further details\n\nThere is already an existing documentation for Blob replication.\n\n### Proposal\n\nBase the documentation work on existing docs for Blob replication, and add the required bits for repository replication in a new section.\n\n### Other links/references","state":"closed","created_at":"2020-03-20T07:55:06.282Z","updated_at":"2021-01-05T23:14:19.775Z","closed_at":"2021-01-04T12:55:22.384Z","closed_by":{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"},"labels":["Category:Geo Replication","Enterprise Edition","devops::systems","documentation","group::geo","missed:13.4","missed:13.5","missed:13.6","missed:13.7","quad-planning::complete-no-action","section::enablement","workflow::in review"],"milestone":{"id":1233759,"iid":55,"group_id":9970,"title":"13.8","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:13.983Z","updated_at":"2022-04-13T14:51:23.220Z","due_date":"2021-01-17","start_date":"2020-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/55"},"assignees":[{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"}],"author":{"id":2293,"username":"brodock","name":"Gabriel Mazetto","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2293/avatar.png","web_url":"https://gitlab.com/brodock"},"type":"ISSUE","assignee":{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/211916","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/211916","notes":"https://gitlab.com/api/v4/projects/278964/issues/211916/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/211916/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#211916","relative":"#211916","full":"gitlab-org/gitlab#211916"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3761,"epic":{"id":74465,"iid":3761,"title":"Geo: Improve the self-service geo replication framework","url":"/groups/gitlab-org/-/epics/3761","group_id":9970,"human_readable_end_date":"Dec 31, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":32211216,"iid":211910,"project_id":278964,"title":"Geo: Consume Snippets replication events","description":"### Problem to solve\n\nConsume replication events for Snippets repository\n\n### Further details\n\nWe replicate `created`, `updated` and `deleted` events.\n\n### Proposal\n\n* Implement on the replicator, the methods for triggering replication for: `created`, `updated` and `deleted`\n* Build a generic repository replication code, that takes receives the replicator and other params\n\n### What does success look like, and how can we measure that?\n\n* Be able to replicate all three supported events\n* Have a generic repository replication code that can be reused for other repository based replication\n\n### Links / references","state":"closed","created_at":"2020-03-20T06:44:55.909Z","updated_at":"2020-10-07T22:00:23.014Z","closed_at":"2020-10-01T01:58:48.057Z","closed_by":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"labels":["Category:Geo Replication","Deliverable","Enterprise Edition","devops::systems","group::geo","missed-deliverable","missed:13.4","section::enablement","type::feature","workflow::in review"],"milestone":{"id":1233754,"iid":52,"group_id":9970,"title":"13.5","description":"https://about.gitlab.com/releases/2020/10/22/gitlab-13-5-released/","state":"closed","created_at":"2020-04-09T17:39:21.990Z","updated_at":"2022-04-21T07:21:12.213Z","due_date":"2020-10-17","start_date":"2020-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/52"},"assignees":[{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"}],"author":{"id":2293,"username":"brodock","name":"Gabriel Mazetto","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2293/avatar.png","web_url":"https://gitlab.com/brodock"},"type":"ISSUE","assignee":{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/211910","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/211910","notes":"https://gitlab.com/api/v4/projects/278964/issues/211910/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/211910/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#211910","relative":"#211910","full":"gitlab-org/gitlab#211910"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2809,"epic":{"id":27924,"iid":2809,"title":"Geo: Self Service Framework - Second Implementation for Snippet replication","url":"/groups/gitlab-org/-/epics/2809","group_id":9970,"human_readable_end_date":"Dec 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":32210072,"iid":211899,"project_id":278964,"title":"Geo: Publish Snippets replication events","description":"### Problem to solve\n\nWhen a Snippet repository is created, updated or removed, we should store the events to trigger replication on Geo secondary nodes.\n\n### Proposal\n\n* Implementation specific for Snippets\n* Use the Replicator to publish events (`:created`, `:updated`, `:deleted`)\n* Generalize for the Geo Framework (via `RepositoryReplicatorStrategy`)\n\n### What does success look like, and how can we measure that?\n\nSnippets should have events for the three supported lifecycle states: `created`, `updated` and `deleted`\n\n### Links / references","state":"closed","created_at":"2020-03-20T05:36:19.313Z","updated_at":"2020-09-15T22:36:21.461Z","closed_at":"2020-09-11T18:18:36.742Z","closed_by":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"labels":["Category:Geo Replication","Enterprise Edition","devops::systems","group::geo","missed:13.3","section::enablement","type::feature","workflow::in review"],"milestone":{"id":1233753,"iid":51,"group_id":9970,"title":"13.4","description":"https://about.gitlab.com/releases/2020/09/22/gitlab-13-4-released/","state":"closed","created_at":"2020-04-09T17:39:21.662Z","updated_at":"2022-04-13T14:50:33.769Z","due_date":"2020-09-17","start_date":"2020-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/51"},"assignees":[{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"}],"author":{"id":2293,"username":"brodock","name":"Gabriel Mazetto","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2293/avatar.png","web_url":"https://gitlab.com/brodock"},"type":"ISSUE","assignee":{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"},"user_notes_count":1,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/211899","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/211899","notes":"https://gitlab.com/api/v4/projects/278964/issues/211899/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/211899/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#211899","relative":"#211899","full":"gitlab-org/gitlab#211899"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2809,"epic":{"id":27924,"iid":2809,"title":"Geo: Self Service Framework - Second Implementation for Snippet replication","url":"/groups/gitlab-org/-/epics/2809","group_id":9970,"human_readable_end_date":"Dec 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":32209664,"iid":211897,"project_id":278964,"title":"Geo: Implement Snippets replication status","description":"### Problem to solve\n\nDisplay replication status for Snippets replication\n\n### Intended users\n\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n\n### Further details\n\n* Add replication status (on Nodes screen)\n\n(subject to changes / new requirements from https://gitlab.com/groups/gitlab-org/-/epics/369)\n\n### Proposal\n\n* Expose the new information in `/api/:version/geo_nodes/:id/status`\n* Add a new status bar using the new information\n* Modify API documentation examples in `docs/api/geo_nodes.md`\n\n### What does success look like, and how can we measure that?\n\nBe able to visit `Admin \u003e Geo` and by looking at the synchonization status, it should display `Snippets` with its own bar and correct data.","state":"closed","created_at":"2020-03-20T04:54:12.271Z","updated_at":"2020-09-17T09:15:08.375Z","closed_at":"2020-09-17T09:15:08.342Z","closed_by":{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"},"labels":["Category:Geo Replication","Deliverable","Enterprise Edition","Geo Administration","[deprecated] Accepting merge requests","devops::systems","frontend","group::geo","javascript","section::enablement","type::feature","workflow::in review"],"milestone":{"id":1233753,"iid":51,"group_id":9970,"title":"13.4","description":"https://about.gitlab.com/releases/2020/09/22/gitlab-13-4-released/","state":"closed","created_at":"2020-04-09T17:39:21.662Z","updated_at":"2022-04-13T14:50:33.769Z","due_date":"2020-09-17","start_date":"2020-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/51"},"assignees":[{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"}],"author":{"id":2293,"username":"brodock","name":"Gabriel Mazetto","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2293/avatar.png","web_url":"https://gitlab.com/brodock"},"type":"ISSUE","assignee":{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/211897","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/211897","notes":"https://gitlab.com/api/v4/projects/278964/issues/211897/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/211897/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#211897","relative":"#211897","full":"gitlab-org/gitlab#211897"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2809,"epic":{"id":27924,"iid":2809,"title":"Geo: Self Service Framework - Second Implementation for Snippet replication","url":"/groups/gitlab-org/-/epics/2809","group_id":9970,"human_readable_end_date":"Dec 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":32209287,"iid":211893,"project_id":278964,"title":"Apply Domain validation to Full API scans","description":"### Problem to solve\n\nIn full scans on a non-API website, users can elect to use domain validation to create a level of safety that the correct website is being scanned. This is achieved through the use of the `DAST_FULL_SCAN_DOMAIN_VALIDATION_REQUIRED` environment variable.\n\nThis is valuable for the same reasons for a full scan of an API.\n\n### Intended users\n\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n\n### Proposal\n\n`DAST_FULL_SCAN_DOMAIN_VALIDATION_REQUIRED` should apply to API scans as well, and behave exactly the same way as it does for full scans of a normal website.\n\n#### Implementation plan\n\n##### Context\n\nRight now, target processing looks like this:\n\n1. Check target is valid (including domain validation). Will continue with both valid _and_ invalid targets unless domain validation fails\n1. Start ZAP\n1. Load API specification\n1. Check ZAP can access target. Exits for invalid targets\n\nIn order to implement domain validation for API scans, we'll need to move step 1 into step 4 so we can have access to the API target.\n\n##### Details\n\n1. Remove check that target is configured from `ScanScriptWrapper`. This is already checked in `ConfigurationParser`\n1. Move check that target is a valid URL from `ScanScriptWrapper` to `TargetSelector`\n1. Move DAST target probe _with domain validation_ from `ScanScriptWrapper` and `TargetWebsite` to `TargetSelector`\n    1. **Note:** the ZAP probe is a duplicate of the DAST probe, and will be removed in https://gitlab.com/gitlab-org/gitlab/-/issues/257963 \n1. Enable domain validation for API full scans\n\n### Documentation\n\nDocumentation should be updated to communicate that this feature is now supported.\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\n What risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\n### What does success look like, and how can we measure that?\n\n\u003c!-- Define both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. --\u003e\n\n### What is the type of buyer?\n\n[Gold/Ultimate](https://about.gitlab.com/handbook/product/pricing/#four-tiers)\n\n/cc @sethgitlab @derekferguson","state":"closed","created_at":"2020-03-20T04:18:40.550Z","updated_at":"2020-12-14T19:55:12.242Z","closed_at":"2020-12-14T19:55:12.167Z","closed_by":{"id":4310743,"username":"sethgitlab","name":"Seth Berger","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4310743/avatar.png","web_url":"https://gitlab.com/sethgitlab"},"labels":["Category:DAST","backend","devops::secure","group::dynamic analysis","section::sec","secure:refinement-backend","type::feature","workflow::ready for development"],"milestone":{"id":1233759,"iid":55,"group_id":9970,"title":"13.8","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:13.983Z","updated_at":"2022-04-13T14:51:23.220Z","due_date":"2021-01-17","start_date":"2020-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/55"},"assignees":[{"id":4059128,"username":"avielle","name":"Avielle Wolfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4059128/avatar.png","web_url":"https://gitlab.com/avielle"}],"author":{"id":4312863,"username":"cam_swords","name":"Cameron Swords","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3b729cf96bcced6384ebb94f0362bd4b?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam_swords"},"type":"ISSUE","assignee":{"id":4059128,"username":"avielle","name":"Avielle Wolfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4059128/avatar.png","web_url":"https://gitlab.com/avielle"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/211893","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/211893","notes":"https://gitlab.com/api/v4/projects/278964/issues/211893/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/211893/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#211893","relative":"#211893","full":"gitlab-org/gitlab#211893"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32209228,"iid":211892,"project_id":278964,"title":"Add the ability to exclude paths from API Scans","description":"### Problem to solve\n\nIn baseline and full scans, users can exclude URLs to scan by using the `DAST_AUTH_EXCLUDE_PATHS` configuration value. This is useful because often logout links will be scanned, which cause the rest of the scan to miss URLs that require authentication.\n\nWhile logout is not a typical feature on an API, there may be other reasons why a user may want to exclude URLs. \n\n### Intended users\n\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n\n### Proposal\n\nThe implementation of `_EXCLUDE_PATHS` can be done by updating the configuration file `route` entries using information from this variable. This will only require changes to `worker-entry` and/or `ci` script.\n\nThe format of `_EXLUDE_PATHS` will be:\n\n - Use `;` to separate entries\n - Provide only the path element, no query string scheme, or host.\n - Use `?` for single character wildcard\n - Use `*` for multiple character wildcard\n\nExamples:\n\n - `/storage/*`\n - `/v?/*`\n\nTasks:\n\n1. [x] Add a new variable `DAST_API_EXCLUDE_PATHS` and `FUZZAPI_EXCLUDE_PATHS` that uses the same rules as the `route` include/exclude logic already available via API Security configuration files. This will make the implementation easier.\n1. [x] Add tests to `worker-entry`\n1. [x] Add e2e test for exclude urls\n1. [x] Release new container image\n1. [x] Update DAST API documentation\n1. [x] Update API Fuzzing documentation to reflect new variable\n\n### What is the type of buyer?\n\n[Gold/Ultimate](https://about.gitlab.com/handbook/product/pricing/#four-tiers)","state":"closed","created_at":"2020-03-20T04:15:10.868Z","updated_at":"2021-06-14T20:11:29.637Z","closed_at":"2021-06-14T20:11:29.573Z","closed_by":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"labels":["Category:DAST","backend","devops::secure","documentation","group::dynamic analysis","section::sec","type::feature","workflow::verification"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"}],"author":{"id":4312863,"username":"cam_swords","name":"Cameron Swords","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3b729cf96bcced6384ebb94f0362bd4b?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam_swords"},"type":"ISSUE","assignee":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"user_notes_count":23,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/211892","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":6},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"6 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/211892","notes":"https://gitlab.com/api/v4/projects/278964/issues/211892/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/211892/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#211892","relative":"#211892","full":"gitlab-org/gitlab#211892"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4254,"epic":{"id":98486,"iid":4254,"title":"API Security scanner for DAST","url":"/groups/gitlab-org/-/epics/4254","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":32208902,"iid":211891,"project_id":278964,"title":"Geo: Implement Snippets Frontend","description":"### Problem to solve\n\nAdd Snippets to our Admin \u003e Geo dashboards.\n\n### Intended users\n\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n\n### Proposal\n\nFrontend should display similar information we display for other repositories like Designs:\n\n* Add Snippets to `Admin \u003e Geo \u003e Snippets` on secondaries (`/admin/geo/snippets` similar to `Designs`)\n* Reuse / generalize more from the existing Designs implementation\n\n(subject to changes / new requirements from https://gitlab.com/groups/gitlab-org/-/epics/369)\n\n### Permissions and Security\n\nRequires GitLab administrator powers and rely on the same APIs authentications we already use for Geo.\n\n### What does success look like, and how can we measure that?\n\n* Be able to navigate to `Admin \u003e Geo \u003e Snippets` on a secondary node \n* Be able to filter through search or the tabs, the list of existing/pending/failed Snippets repositories.\n* Should reuse components made for Design repositories","state":"closed","created_at":"2020-03-20T03:50:52.752Z","updated_at":"2020-11-30T16:51:53.767Z","closed_at":"2020-11-20T21:52:28.768Z","closed_by":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"labels":["Category:Geo Replication","Deliverable","Enterprise Edition","Geo Administration","devops::systems","frontend","group::geo","javascript","missed-deliverable","missed:13.4","section::enablement","type::feature","workflow::verification"],"milestone":{"id":1233757,"iid":54,"group_id":9970,"title":"13.7","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:43:14.893Z","updated_at":"2022-04-13T14:51:12.240Z","due_date":"2020-12-17","start_date":"2020-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/54"},"assignees":[{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"}],"author":{"id":2293,"username":"brodock","name":"Gabriel Mazetto","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2293/avatar.png","web_url":"https://gitlab.com/brodock"},"type":"ISSUE","assignee":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"user_notes_count":19,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/211891","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/211891","notes":"https://gitlab.com/api/v4/projects/278964/issues/211891/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/211891/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#211891","relative":"#211891","full":"gitlab-org/gitlab#211891"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2809,"epic":{"id":27924,"iid":2809,"title":"Geo: Self Service Framework - Second Implementation for Snippet replication","url":"/groups/gitlab-org/-/epics/2809","group_id":9970,"human_readable_end_date":"Dec 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":32202124,"iid":211864,"project_id":278964,"title":"Public API for Group Level Reordering Issues","description":"## Problem to solve\n\nOur REST API currently supports re-ordering issues within a project. This makes all the group users that want to re-order issues across many projects via public APIs very sad. \n\n## Proposal\n\nProvide a public API for re-ordering issues globally across all subgroups and projects.\n\n## Context\n\nRelevant code here is in https://gitlab.com/gitlab-org/gitlab/blob/e0d317ca8d7ba39e92fc7f89387055be087e0bae/app/services/issues/update_service.rb#L157:\n\n```ruby\nissue =\n  if board_group_id\n    IssuesFinder.new(current_user, group_id: board_group_id, include_subgroups: true).find_by(id: id)\n  else\n    project.issues.find(id)\n  end\n```\n\nWe actually already accept global issue IDs in the API (not `iids`). The problem is that when we query, we scope it to the project if a `group_id` is not provided.\n\nWhen ordering issues in an issue board, we [pass in a `group_id` to the update service](https://gitlab.com/gitlab-org/gitlab/blob/4a85e263b4afe2e1e64dcaf55856add6e7aed764/app/services/issues/reorder_service.rb#L34). We could do the same if we create a group-level reorder issues API endpoint.\n\n## Implementation Approach\n\nChange project issue reordering API so that it accepts issues from another group.\n\n\u003e We already accept an issue ID (not IID) for `move_before_id` and `move_after_id` in this API so the only thing that would change would be how we find the issue and our validations. We just need to validate that the before / after issues are part of the same scope for ordering.\n\n\u003e Note that there's a tricky bug here similar to https://gitlab.com/gitlab-org/gitlab/-/issues/13254. We use `Issue#parent_ids` for determining ordering scope and right now we scope it to the project's parent group when a group board is present. But this is not taking into account that there may be ancestor group boards that may also contain this issue.\n\n\u003e So I'm not sure if we should limit this to parent group issues, or allow all group hierarchy issues and maybe just fix this other bug too.\n\n## Acceptance\n\n- [ ] Public API for global issue re-order across all subgroups and projects within a given top level group. \n- [ ] Expose `relative_position` attribute in the issue JSON API responses (https://gitlab.com/gitlab-org/gitlab/-/issues/21297#note_372766565)","state":"closed","created_at":"2020-03-19T20:17:52.186Z","updated_at":"2022-02-08T03:07:58.203Z","closed_at":"2022-02-08T03:07:58.181Z","closed_by":{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"},"labels":["Category:Team Planning","backend","boards","customer","devops::plan","group::project management","issue list","section::dev","type::feature","workflow::in review"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"}],"author":{"id":1140487,"username":"toejough","name":"Joe Harman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/02d5d75e3d256d84282f82ba017666bd?s=80\u0026d=identicon","web_url":"https://gitlab.com/toejough"},"type":"ISSUE","assignee":{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"},"user_notes_count":32,"merge_requests_count":1,"upvotes":4,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/211864","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/211864","notes":"https://gitlab.com/api/v4/projects/278964/issues/211864/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/211864/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#211864","relative":"#211864","full":"gitlab-org/gitlab#211864"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32202000,"iid":211863,"project_id":278964,"title":"Scala is not detected by dependency scanning when dind is disabled","description":"### Summary\n\nDependency Scanning does not detect scala projects when DS_DISABLE_DIND is set to true.\n\n### Steps to reproduce\n\n1. add .gitlab-ci.yml to scala project\n2. enable dependency scanning enabled\n3. DS_DISABLE_DIND set to true\n\nWhen this pipeline executes, DS will run but not find a match.\n\n### Example Project\n\nhttps://gitlab.com/gitlab-org/security-products/tests/scala-sbt/\n\n### What is the current *bug* behavior?\n\nDependency scanning job reports that no matching projects were found.\n\n### What is the expected *correct* behavior?\n\nDependency scanning job should execute for this project and generate a report.\n\n### Implementation plan\n\nUpdate Dependency Scanning ci template to detect scala when running in no dind mode.","state":"closed","created_at":"2020-03-19T20:14:33.603Z","updated_at":"2020-05-16T04:40:12.787Z","closed_at":"2020-05-16T04:40:12.758Z","closed_by":{"id":52092,"username":"gonzoyumo","name":"Olivier Gonzalez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/651e0ff81c3995a05269f7c80895fe89?s=80\u0026d=identicon","web_url":"https://gitlab.com/gonzoyumo"},"labels":["Category:Dependency Scanning","[deprecated] Accepting merge requests","backend","devops::secure","group::composition analysis","priority::2","severity::2","type::bug","workflow::in review"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[],"author":{"id":4668304,"username":"ifrenkel","name":"Igor Frenkel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a73e8113c53ac25297ce751e59bbb1d3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifrenkel"},"type":"ISSUE","assignee":null,"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/211863","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/211863","notes":"https://gitlab.com/api/v4/projects/278964/issues/211863/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/211863/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#211863","relative":"#211863","full":"gitlab-org/gitlab#211863"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32199831,"iid":211862,"project_id":278964,"title":"Geo: Update \"Data is out of sync from XXX minutes ago\" UI","description":"## What is the issue?\r\n\r\n@mkozono Brought up a good point about the out of sync (`X clock`) [here](https://gitlab.com/gitlab-org/gitlab/-/issues/36129#note_299964702)\r\n\r\nEssentially, when data becomes out of sync, we show a `X clock` on **every** progress bar:\r\n\r\n![Screen_Shot_2020-03-19_at_2.16.09_PM](/uploads/c4dd39ee0b60d3fc3b8512cd84e74f79/Screen_Shot_2020-03-19_at_2.16.09_PM.png)\r\n\r\nThis clock has the same hover text on every single one:\r\n![Screen_Shot_2020-03-19_at_2.14.31_PM](/uploads/a610b183ab43acc47997ae059f34879b/Screen_Shot_2020-03-19_at_2.14.31_PM.png)\r\n\r\nAlso when data becomes \u003e 5 minutes out of sync and the status isn't updated we also show an error on the bottom:\r\n![Screen_Shot_2020-03-19_at_2.14.48_PM](/uploads/3ab9a90e6b35c5381fea5e91c1cef007/Screen_Shot_2020-03-19_at_2.14.48_PM.png)\r\n\r\n## Proposal\r\n\r\nAs @mkozono suggested, we should move this information to a higher part of the card.  In his notes, he suggested moving it towards the bottom.  I could see us also moving it to the top with the \"core\" Node details (name, url, status, etc..)\r\n\r\nThen as Mike also suggested, we should only show the (X Clock) when we get outside a certain timeframe (~10 minutes).  Then the X Clock would give a tip that something may be wrong.\r\n\r\nI was wondering if you had any design suggestions @sunjungp as to where we could put this on the card?\r\n\r\n## Proposed design\r\n\r\n![211862-out-of-sync-synced](/uploads/2eaf900f6b8a4752f00e24ef9a580cea/211862-out-of-sync-synced.png)\r\n\r\n![211862-out-of-sync-error](/uploads/e686e4f9dfcfafa3fde1cecf019e874b/211862-out-of-sync-error.png)","state":"closed","created_at":"2020-03-19T19:24:51.304Z","updated_at":"2020-05-07T14:12:16.992Z","closed_at":"2020-04-27T17:17:47.050Z","closed_by":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"labels":["Deliverable","Engineering","Technical Writing","UI text","UX","devops::systems","frontend","group::geo","link::parent issue","workflow::in dev"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"}],"author":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"type":"ISSUE","assignee":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"user_notes_count":25,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/211862","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/211862","notes":"https://gitlab.com/api/v4/projects/278964/issues/211862/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/211862/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#211862","relative":"#211862","full":"gitlab-org/gitlab#211862"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":369,"epic":{"id":1104,"iid":369,"title":"Geo: Improve UI/UX on Administrator Panel","url":"/groups/gitlab-org/-/epics/369","group_id":9970},"iteration":null,"health_status":null},{"id":32199060,"iid":211860,"project_id":278964,"title":"Check if namespace storage limit exceeded","description":"We currently calculate root namespace storage statistics with a delay of `1.5h`. This gets done in a background job, you can find more how this is done in the [namespace storage statics case study](https://docs.gitlab.com/ee/development/namespaces_storage_statistics.html#introduction).\n\nIt's therefore not costly to get the statistics of a namespace because they are pre-calculated. To check if a project exceeds the namespace limit we need to do the following: \n- Get the namespace of the project (group or user namespace)\n- Get the `root_ancestor` of the namespace\n- Get the [`NamespaceStorageStatistics`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/models/namespace/root_storage_statistics.rb) of that root_namespace.\n- Get the [`namespace_storage_size_limit`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/models/application_setting.rb#L340) from `ApplicationSettings`\n- Compare the `namespace_storage_size_limit` with `storage_statics.storage_size` data\n\n\n\nPart of https://gitlab.com/gitlab-org/gitlab/-/issues/209119","state":"closed","created_at":"2020-03-19T18:55:11.042Z","updated_at":"2020-04-06T13:03:58.495Z","closed_at":"2020-04-06T08:54:54.576Z","closed_by":{"id":3509693,"username":"nicolasdular","name":"Nicolas Dular","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c4a21f15150c12ddf13fd848597cddd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/nicolasdular"},"labels":["devops::growth","group::acquisition","link::child issue","workflow::ready for development"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":3509693,"username":"nicolasdular","name":"Nicolas Dular","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c4a21f15150c12ddf13fd848597cddd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/nicolasdular"}],"author":{"id":3509693,"username":"nicolasdular","name":"Nicolas Dular","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c4a21f15150c12ddf13fd848597cddd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/nicolasdular"},"type":"ISSUE","assignee":{"id":3509693,"username":"nicolasdular","name":"Nicolas Dular","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c4a21f15150c12ddf13fd848597cddd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/nicolasdular"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/211860","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/211860","notes":"https://gitlab.com/api/v4/projects/278964/issues/211860/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/211860/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#211860","relative":"#211860","full":"gitlab-org/gitlab#211860"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32198671,"iid":211856,"project_id":278964,"title":"Add column \"namespace_storage_size_limit\"","description":"Add the column `namespace_storage_size_limit (bigint)` to application settings.\n\nPart of https://gitlab.com/gitlab-org/gitlab/-/issues/209119\n","state":"closed","created_at":"2020-03-19T18:40:21.580Z","updated_at":"2020-03-24T21:17:33.436Z","closed_at":"2020-03-24T21:17:33.390Z","closed_by":{"id":660180,"username":"toon","name":"Toon Claes","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/660180/avatar.png","web_url":"https://gitlab.com/toon"},"labels":["UX","devops::growth","group::acquisition","link::child issue","workflow::in review"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":3509693,"username":"nicolasdular","name":"Nicolas Dular","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c4a21f15150c12ddf13fd848597cddd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/nicolasdular"}],"author":{"id":3509693,"username":"nicolasdular","name":"Nicolas Dular","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c4a21f15150c12ddf13fd848597cddd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/nicolasdular"},"type":"ISSUE","assignee":{"id":3509693,"username":"nicolasdular","name":"Nicolas Dular","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c4a21f15150c12ddf13fd848597cddd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/nicolasdular"},"user_notes_count":1,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/211856","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/211856","notes":"https://gitlab.com/api/v4/projects/278964/issues/211856/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/211856/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#211856","relative":"#211856","full":"gitlab-org/gitlab#211856"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32198381,"iid":211854,"project_id":278964,"title":"Restrict user autocompletes to SAML enforced members [FE]","description":"### Problem to solve\n\nUsers which are not members of SAML-only group show up in project/sub-group/group membership add dropdownlist.\n\n### Intended users\n\nProject and Group admins within enterprises/groups who enforce SAML authentication on gitlab.com. This is a very poor experience.\n\n### Further details\n\n1 - Create new group e.g. gitlab.com/my_cool_group\n\n2 - Enforce SAML/SSO on my_cool_group\n\n3 - Goto gitlab.com/my_cool_group/-/group_members\n\n4 - Start typing in \"Search for a user\" field at the top.\n\n5 - There are millions of gitlab.com users in the drop down list which cannot be added due to SAML enforcement, so why show them?\n\nThis is a UX problem.\n\n![image](/uploads/bac591c30fc2e610c7ef7dba67a56cd7/image.png)\n\n### Proposal\n\nRestrict user autocompletes (project and sub-group members) to users who are SAML linked to the my_cool_group group.\n\nThis filter only applies when enforce SAML is enabled at top-level group. e.g. if I created gitlab.com/my_cool_group/my_sub_group, then my_sub_group should also inherit the SAML enforcement and should also adhere to filter.\n\n### Permissions and Security\n\nN/A\n\n### Documentation\n\nDocumentation on the SAML enforcement area.\n\n### Testing\n\nTest coverage should ensure that when SAML enforcement is disabled - the dropdownlist returns back to the million of users to add.\n\n### What does success look like, and how can we measure that?\n\nDropdownlist shows the user just the applicable SAML'ed group members.\n\n### What is the type of buyer? \n\nSilver/Gold.\n\n### Links / references","state":"closed","created_at":"2020-03-19T18:29:24.193Z","updated_at":"2020-03-19T18:30:55.561Z","closed_at":"2020-03-19T18:30:51.731Z","closed_by":{"id":1903246,"username":"tipyn","name":"Luca Kisielius","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1903246/avatar.png","web_url":"https://gitlab.com/tipyn"},"labels":["Deliverable","customer","devops::manage","direction","estimation::completed","frontend","group::spaces DEPRECATED","isolation","saml"],"milestone":null,"assignees":[],"author":{"id":1903246,"username":"tipyn","name":"Luca Kisielius","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1903246/avatar.png","web_url":"https://gitlab.com/tipyn"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/211854","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/211854","notes":"https://gitlab.com/api/v4/projects/278964/issues/211854/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/211854/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#211854","relative":"#211854","full":"gitlab-org/gitlab#211854"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32198347,"iid":211852,"project_id":278964,"title":"Add size limit per namespace in application settings","description":"In `Admin Area \u003e Settings \u003e General \u003e Account` we need a field to limit the storage per namespace. \nName should be: \"Size limit per namespace (MB)\"\n\nPart of https://gitlab.com/gitlab-org/gitlab/-/issues/209119","state":"closed","created_at":"2020-03-19T18:28:08.619Z","updated_at":"2020-04-03T13:17:03.037Z","closed_at":"2020-04-03T13:17:02.987Z","closed_by":{"id":3509693,"username":"nicolasdular","name":"Nicolas Dular","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c4a21f15150c12ddf13fd848597cddd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/nicolasdular"},"labels":["UX","devops::growth","group::acquisition","link::child issue","workflow::verification"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":3509693,"username":"nicolasdular","name":"Nicolas Dular","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c4a21f15150c12ddf13fd848597cddd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/nicolasdular"}],"author":{"id":3509693,"username":"nicolasdular","name":"Nicolas Dular","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c4a21f15150c12ddf13fd848597cddd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/nicolasdular"},"type":"ISSUE","assignee":{"id":3509693,"username":"nicolasdular","name":"Nicolas Dular","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c4a21f15150c12ddf13fd848597cddd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/nicolasdular"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/211852","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/211852","notes":"https://gitlab.com/api/v4/projects/278964/issues/211852/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/211852/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#211852","relative":"#211852","full":"gitlab-org/gitlab#211852"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32198329,"iid":211849,"project_id":278964,"title":"Restrict user autocompletes to SAML enforced members [FE]","description":"~frontend counterpart to #13699\n\n- Update `app/assets/javascripts/users_select.js` to support `saml_only` query string\n- Add feature tests to `spec/features/groups/members/manage_members_spec.rb`","state":"closed","created_at":"2020-03-19T18:26:57.460Z","updated_at":"2020-05-18T07:08:22.049Z","closed_at":"2020-05-05T15:56:19.008Z","closed_by":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"labels":["Deliverable","devops::manage","estimation::completed","frontend","group::spaces DEPRECATED","isolation","missed-deliverable","missed:12.10","priority::2","saml","workflow::verification"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"}],"author":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"type":"ISSUE","assignee":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"user_notes_count":1,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/211849","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/211849","notes":"https://gitlab.com/api/v4/projects/278964/issues/211849/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/211849/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#211849","relative":"#211849","full":"gitlab-org/gitlab#211849"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2965,"epic":{"id":34925,"iid":2965,"title":"ðŸ Improved Isolation of Group Activity","url":"/groups/gitlab-org/-/epics/2965","group_id":9970,"human_readable_end_date":"Jun 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":32198305,"iid":211847,"project_id":278964,"title":"Move Gitlab Employee badge to internal discussion api","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nThe `is_gitlab_employee` attribute in the [MR](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/26836/diffs) was incorrectly added to the [discussion api](https://docs.gitlab.com/ee/api/discussions.html#list-project-issue-discussion-items), instead of [internal discussion api](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/controllers/concerns/issuable_actions.rb#L129).\n\n### Steps to reproduce\n\nView output of the internal discussion api (used in issues, MR), the `is_gitlab_employee` attribute is not present.\n\n### Example Project\n\n(If possible, please create an example project here on GitLab.com that exhibits the problematic behavior, and link to it here in the bug report)\n\n(If you are using an older version of GitLab, this will also determine whether the bug is fixed in a more recent version)\n\n### What is the current *bug* behavior?\n\nThe `is_gitlab_employee` attribute is present in the customer facing `discussion` api.\n\n### What is the expected *correct* behavior?\n\nThe `is_gitlab_employee` attribute should be present in the internal `discussion` api.\n\n### Relevant logs and/or screenshots\n\n(Paste any relevant logs - please use code blocks (```) to format console output,\nlogs, and code as it's tough to read otherwise.)\n\n### Output of checks\n\n(If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com)\n\n#### Results of GitLab environment info\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n(If you can, link to the line of code that might be responsible for the problem)","state":"closed","created_at":"2020-03-19T18:23:51.850Z","updated_at":"2020-05-08T19:55:49.798Z","closed_at":"2020-03-20T22:17:50.401Z","closed_by":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"labels":["Deliverable","backend","devops::manage","estimation::completed","group::spaces DEPRECATED","priority::3","type::bug","workflow::in review"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":4014344,"username":"aishbuilds","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4014344/avatar.png","web_url":"https://gitlab.com/aishbuilds"}],"author":{"id":4014344,"username":"aishbuilds","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4014344/avatar.png","web_url":"https://gitlab.com/aishbuilds"},"type":"ISSUE","assignee":{"id":4014344,"username":"aishbuilds","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4014344/avatar.png","web_url":"https://gitlab.com/aishbuilds"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/211847","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/211847","notes":"https://gitlab.com/api/v4/projects/278964/issues/211847/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/211847/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#211847","relative":"#211847","full":"gitlab-org/gitlab#211847"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3241,"epic":{"id":51379,"iid":3241,"title":"GitLab Team Member badges","url":"/groups/gitlab-org/-/epics/3241","group_id":9970,"human_readable_end_date":"May 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":32196441,"iid":211839,"project_id":278964,"title":"Only parse JUnit report for individual test suite when clicking into test suite on the pipeline page","description":"### Problem to solve\n\nPerformance of the Pipeline page degraded after all junit report data was being parsed for the [JUnit Reports tab](https://docs.gitlab.com/ee/ci/junit_test_reports.html#viewing-junit-test-reports-on-gitlab). Before enabling this feature by default and building the JUnit errors + screenshots feature the ~performance issues need to be resolved.\n\nRight now on loading the test report tab, all JUnit test report XML files are parsed and returned to the ~frontend this causes the page to load slow initially. It's unlikely someone would want to consume all of the fine-grain test report data at once.\n\n### Intended users\n\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n\n### Further details\n\nSee the writeup in the [parent epic](https://gitlab.com/groups/gitlab-org/-/epics/2854).\n\n### Proposal\n\nAfter the [companion issue](https://gitlab.com/gitlab-org/gitlab/-/issues/211838) to this is complete the summarized reports will be available from the database. If we implement an endpoint that parses and individual test report, we can call that instead when a specific test suite is clicked into. This should increase the performance overall as it's unlikely someone will click into every test suite.\n\n```mermaid\nsequenceDiagram\n    participant U as User\n    participant FE as Frontend\n    participant BE as Backend\n    U-\u003e\u003eFE: Click onto pipeline page\n    FE-\u003e\u003eBE: Request test report summaries (async)\n    BE-\u003e\u003eFE: Return test report summaries from DB\n    FE-\u003e\u003eU: Render badge counter on test tab\n    U-\u003e\u003eFE: Click Test Tab\n    FE-\u003e\u003eU: Render test tab from summary data (No visual change from current)\n    U-\u003e\u003eFE: Click on single test suite\n    FE-\u003e\u003eBE: Request full report for single test suite\n    BE-\u003e\u003eFE: Parse XML report and return detailed report\n    FE-\u003e\u003eU: Render report for single test suite\n```\nThis issue is for tracking the work necessary for completing \"Request full report for single test suite\" and \"Render report for single test suite\" from the above diagram. \n\n\nThe frontend will consume the endpoint created from https://gitlab.com/gitlab-org/gitlab/-/issues/218723 in order to accomplish this.\n\n\u003c!-- How are we going to solve the problem? Try to include the user journey! https://about.gitlab.com/handbook/journeys/#user-journey --\u003e\n\n### Documentation\nWe should read through the documentation for this feature and remove any warnings that it might be slow on the tests tab once the performance has been validated. We should then perhaps add a warning that clicking into an individual test suite might be slow instead.\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html\nAdd all known Documentation Requirements here, per https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements\nIf this feature requires changing permissions, this document https://docs.gitlab.com/ee/user/permissions.html must be updated accordingly. --\u003e\n\n### Availability \u0026 Testing\n\nTesting needed:\n- Unit tests will need to be made for the endpoint and service level changes.\n- package-and-qa not necessary for this test. May be addressed in future E2E test\n\nRisks:\n- User flow\n  - If Users can click in and out of individual test suites somewhat rapidly\n    - Are we able to stop parsing if a user exits the view before it is complete?\n    - Will we be running multiple instances of parsing at the same time if a user quickly clicks through? Performance issue?\n  - Users will need appropriate messaging including\n    - While parsing\n    - No record situation\n    - Failures to parse\n\n### What does success look like, and how can we measure that?\n\nIf after clicking on the test tab on a main `gitlab` project pipeline the page loads in less than 1000ms this will be a large success.\n\u003c!-- Define both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. --\u003e\n\n### What is the type of buyer?\n\n\u003c!-- Which leads to: in which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#four-tiers --\u003e\n\n### Is this a cross-stage feature?\n\n\u003c!-- Communicate if this change will affect multiple Stage Groups or product areas. We recommend always start with the assumption that a feature request will have an impact into another Group. Loop in the most relevant PM and Product Designer from that Group to provide strategic support to help align the Group's broader plan and vision, as well as to avoid UX and technical debt. https://about.gitlab.com/handbook/product/#cross-stage-features --\u003e\n\n### Links / references","state":"closed","created_at":"2020-03-19T17:30:18.810Z","updated_at":"2020-08-18T07:09:10.304Z","closed_at":"2020-07-23T20:56:46.767Z","closed_by":{"id":3029776,"username":"shampton","name":"Scott Hampton","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3029776/avatar.png","web_url":"https://gitlab.com/shampton"},"labels":["Category:Code Testing and Coverage","Deliverable","Verify::P1","bug::performance","devops::verify","frontend","group::pipeline insights","quad-planning::complete-action","type::feature","workflow::production"],"milestone":{"id":1233752,"iid":50,"group_id":9970,"title":"13.3","description":"https://about.gitlab.com/releases/2020/08/22/gitlab-13-3-released/","state":"closed","created_at":"2020-04-09T17:39:21.090Z","updated_at":"2022-04-13T14:50:18.976Z","due_date":"2020-08-17","start_date":"2020-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/50"},"assignees":[{"id":3029776,"username":"shampton","name":"Scott Hampton","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3029776/avatar.png","web_url":"https://gitlab.com/shampton"}],"author":{"id":4512666,"username":"jheimbuck_gl","name":"James Heimbuck","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8dd2ef9c1cacb6e80d7ca47db6f0ce22?s=80\u0026d=identicon","web_url":"https://gitlab.com/jheimbuck_gl"},"type":"ISSUE","assignee":{"id":3029776,"username":"shampton","name":"Scott Hampton","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3029776/avatar.png","web_url":"https://gitlab.com/shampton"},"user_notes_count":52,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/211839","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/211839","notes":"https://gitlab.com/api/v4/projects/278964/issues/211839/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/211839/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#211839","relative":"#211839","full":"gitlab-org/gitlab#211839"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3198,"epic":{"id":49204,"iid":3198,"title":"Remove JUnit Report Feature Flag","url":"/groups/gitlab-org/-/epics/3198","group_id":9970,"human_readable_end_date":"Aug 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":32196336,"iid":211838,"project_id":278964,"title":"Store junit report summary results in database so we can load top-level tests tab without file parsing","description":"### Problem to solve\n\nPerformance of the Pipeline page degraded after all junit report data was being parsed for the [JUnit Reports tab](https://docs.gitlab.com/ee/ci/junit_test_reports.html#viewing-junit-test-reports-on-gitlab). Before enabling this feature by default and building the JUnit errors + screenshots feature the ~performance issues need to be resolved.\n\nRight now when the test tab is clicked on, and in order to generate the badge counter we need to parse the junit report files for all tests builds that generated junit reports. This takes a lot of time (50+ seconds to generate the badge counter the first time).\n\n### Intended users\n\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n\n### Further details\n\nSee the writeup in the [parent epic](https://gitlab.com/groups/gitlab-org/-/epics/2854).\n\n### Proposal\n\nLimit the amount of data being processed on page load but give users a way to fetch the full data set if they want by:\n\n* Using the [established pattern](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/25199#note_314192294) of storing summarized results in a `jsonb` column per build\n* The parsing of the JUnit XML report from the pipeline should be done in the background, and the results summarized in the `ci_build_report_results` table in a `jsonb` column.\n* Use a query to summarize the results per build into the counter on the tests tab, as well as the top column as indicated in this MR https://gitlab.com/gitlab-org/gitlab/-/merge_requests/25199 (basically I think that we should finish implementing this MR with a small tweak), i.e. we should probably _calculate_ the counter and the test summary at the top, and not store them separately.\n\n\u003cp\u003e\n\u003cdetails\u003e\n\u003csummary\u003e\nClick here to see our current JSON schema proposal.\n\u003c/summary\u003e\n\n```\n{\n  \"total_time\": 0,\n  \"total_count\": 0,\n  \"success_count\": 0,\n  \"failed_count\": 2,\n  \"errored_count\": 0,\n  \"skipped_count\": 0,\n  \"test_suite_results\": [\n    {\n      \"name\": \"job 0\",\n      \"duration\": 0,\n      \"success\": 0,\n      \"failed\": 1,\n      \"errored\": 0,\n      \"skipped\": 0,\n      \"total\": 1\n    },\n    {\n      \"name\": \"job 1\",\n      \"duration\": 0,\n      \"success\": 0,\n      \"failed\": 1,\n      \"errored\": 0,\n      \"skipped\": 0,\n      \"total\": 1\n    }\n  ]\n}\n```\n\u003c/details\u003e\n\u003c/p\u003e\n\nDoing this (in the background?) should drastically reduce the load time of the badge on the pipeline page, and the initial load of the test tab. On clicking into a specific test group on the test tab the load time would still be fairly high as we would have to parse the junit.xml file then in order to give the granular results. Improving performance for individual junit report report loading will be handled in another issue after when [another issue](https://gitlab.com/gitlab-org/gitlab/-/issues/218723) is completed.\n\n\u003c!-- How are we going to solve the problem? Try to include the user journey! https://about.gitlab.com/handbook/journeys/#user-journey --\u003e\n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?--\u003e\n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html\nAdd all known Documentation Requirements here, per https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements\nIf this feature requires changing permissions, this document https://docs.gitlab.com/ee/user/permissions.html must be updated accordingly. --\u003e\n\n### Availability \u0026 Testing\n\nThis will add one row per build that uploads a junit artifact in an append-only fashion (As indicated here: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/25199#note_326136891). We should eventually clean up these rows as they do not need to be kept around forever, and indeed can be regenerated as long as the junit artifacts exist. We also are not currently using them for reporting so we could figure out a summarization strategy for them at such time as we need to use them for reporting.\n\n#### Testing required\n\n* Unit test changes/additions\n  * For new calculations for test badge\n    * CRUD on DB jsonb storage of summary info\n    * FE calculations of badge data\n    * Possible revisit of end user status indicator for window between end of pipeline and test data being available\n* End-to-end test\n  * Not required for this iteration as it is core, but will be covereed in future test\n\n### What does success look like, and how can we measure that?\n\n\u003c!-- Define both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. --\u003e\n\n### What is the type of buyer?\n\n\u003c!-- Which leads to: in which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#four-tiers --\u003e\n\n### Is this a cross-stage feature?\n\n\u003c!-- Communicate if this change will affect multiple Stage Groups or product areas. We recommend always start with the assumption that a feature request will have an impact into another Group. Loop in the most relevant PM and Product Designer from that Group to provide strategic support to help align the Group's broader plan and vision, as well as to avoid UX and technical debt. https://about.gitlab.com/handbook/product/#cross-stage-features --\u003e\n\n### Links / references","state":"closed","created_at":"2020-03-19T17:27:27.737Z","updated_at":"2020-07-18T07:07:29.041Z","closed_at":"2020-07-16T15:48:01.779Z","closed_by":{"id":5251734,"username":"morefice","name":"Max Orefice","state":"active","avatar_url":"https://secure.gravatar.com/avatar/0a910912e24727d7eef579cd047f7651?s=80\u0026d=identicon","web_url":"https://gitlab.com/morefice"},"labels":["Category:Code Testing and Coverage","Deliverable","bug::performance","devops::verify","group::pipeline insights","missed-deliverable","missed:13.1","quad-planning::complete-action","type::feature","workflow::production"],"milestone":{"id":1233746,"iid":49,"group_id":9970,"title":"13.2","description":"https://about.gitlab.com/releases/2020/07/22/gitlab-13-2-released/","state":"closed","created_at":"2020-04-09T17:28:01.032Z","updated_at":"2022-04-13T14:48:24.167Z","due_date":"2020-07-17","start_date":"2020-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/49"},"assignees":[{"id":5251734,"username":"morefice","name":"Max Orefice","state":"active","avatar_url":"https://secure.gravatar.com/avatar/0a910912e24727d7eef579cd047f7651?s=80\u0026d=identicon","web_url":"https://gitlab.com/morefice"}],"author":{"id":4512666,"username":"jheimbuck_gl","name":"James Heimbuck","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8dd2ef9c1cacb6e80d7ca47db6f0ce22?s=80\u0026d=identicon","web_url":"https://gitlab.com/jheimbuck_gl"},"type":"ISSUE","assignee":{"id":5251734,"username":"morefice","name":"Max Orefice","state":"active","avatar_url":"https://secure.gravatar.com/avatar/0a910912e24727d7eef579cd047f7651?s=80\u0026d=identicon","web_url":"https://gitlab.com/morefice"},"user_notes_count":30,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/211838","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/211838","notes":"https://gitlab.com/api/v4/projects/278964/issues/211838/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/211838/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#211838","relative":"#211838","full":"gitlab-org/gitlab#211838"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3198,"epic":{"id":49204,"iid":3198,"title":"Remove JUnit Report Feature Flag","url":"/groups/gitlab-org/-/epics/3198","group_id":9970,"human_readable_end_date":"Aug 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":32196306,"iid":211837,"project_id":278964,"title":"Add health status usage metrics","description":"We added the ability to save health status of issues on: https://gitlab.com/gitlab-org/gitlab/-/issues/36427#note_307951151  \n\nNow we need to add the number of issues with a health status to usage data (usage ping).\n\nLet's also add trigger a snowplow event when the status is changed.","state":"closed","created_at":"2020-03-19T17:27:00.103Z","updated_at":"2021-04-03T08:41:30.638Z","closed_at":"2020-04-30T12:19:38.387Z","closed_by":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"labels":["Category:Metrics","GitLab Ultimate","backend","devops::plan","frontend","group::product planning","workflow::verification"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"},{"id":3236898,"username":"rajatgitlab","name":"Rajat Jain","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3236898/avatar.png","web_url":"https://gitlab.com/rajatgitlab"},{"id":4478389,"username":"kokeefe","name":"Keanon O'Keefe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4478389/avatar.png","web_url":"https://gitlab.com/kokeefe"}],"author":{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"},"type":"ISSUE","assignee":{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"},"user_notes_count":29,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/211837","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/211837","notes":"https://gitlab.com/api/v4/projects/278964/issues/211837/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/211837/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#211837","relative":"#211837","full":"gitlab-org/gitlab#211837"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2204,"epic":{"id":15028,"iid":2204,"title":"Health Status of Work MVC : Assign to Issue and View within an Epic","url":"/groups/gitlab-org/-/epics/2204","group_id":9970,"human_readable_end_date":"May 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":32195191,"iid":211834,"project_id":278964,"title":"Rename constants for batch counter batch sizes","description":"https://gitlab.com/gitlab-org/gitlab/-/merge_requests/27455#note_307987896\n\n\n\u003e I have one question about this: in the following piece of code, it suggests that the `batch_size` for **non-distinct** queries will be `DEFAULT_DISTINCT_BATCH_SIZE` (100_000) and for **distinct** mode, the `batch_size` will be `DEFAULT_BATCH_SIZE` (10_000). Although the resulting `batch_size` seems correct, the naming of the constants seems backward to me.\n\n```ruby\n# non-distinct have better performance\nbatch_size ||= mode == :distinct ? DEFAULT_BATCH_SIZE : DEFAULT_DISTINCT_BATCH_SIZE\n```","state":"closed","created_at":"2020-03-19T16:57:25.450Z","updated_at":"2020-03-25T10:35:27.932Z","closed_at":"2020-03-25T10:35:27.887Z","closed_by":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"labels":["devops::growth","group::product intelligence"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"}],"author":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"type":"ISSUE","assignee":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/211834","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/211834","notes":"https://gitlab.com/api/v4/projects/278964/issues/211834/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/211834/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#211834","relative":"#211834","full":"gitlab-org/gitlab#211834"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32195173,"iid":211833,"project_id":278964,"title":"Bug in Design redirections - add `-/`","description":"### Problem to solve\n\nRight now older URLs to Designs are still being used in issue descriptions and comments. This is causing our users to experience broken links.\n\nOld format vs new - addition of `-/`\n\n`https://gitlab.com/gitlab-org/gitlab/issues/22702/designs/Wiki%20editing.png`\n\n`https://gitlab.com/gitlab-org/gitlab/-/issues/22702/designs/Wiki%20editing.png` \n\n### Further details\n\n\u003c!-- Include use cases, benefits, and/or goals (contributes to our vision?) --\u003e\n\n### Proposal\n\n*  Create 301 redirects to handle the older URLs\n\n\n### Documentation\n\n* [ ]  Check docs to make sure there are no updates around the URL\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\n What risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\n### Links / references\n\nThanks for filing @timhey","state":"closed","created_at":"2020-03-19T16:56:45.557Z","updated_at":"2020-12-10T18:58:42.075Z","closed_at":"2020-03-23T06:20:58.211Z","closed_by":{"id":2950912,"username":"ntepluhina","name":"Natalia Tepluhina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2950912/avatar.png","web_url":"https://gitlab.com/ntepluhina"},"labels":["Category:Design Management","devops::plan","group::product planning","priority::2","severity::2","type::bug","workflow::in review"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"}],"author":{"id":4669960,"username":"cdybenko","name":"Christen Dybenko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4669960/avatar.png","web_url":"https://gitlab.com/cdybenko"},"type":"ISSUE","assignee":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"user_notes_count":17,"merge_requests_count":3,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/211833","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/211833","notes":"https://gitlab.com/api/v4/projects/278964/issues/211833/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/211833/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#211833","relative":"#211833","full":"gitlab-org/gitlab#211833"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32194631,"iid":211831,"project_id":278964,"title":"Improve internationalization in events_helper","description":"## Summary\n\nThe events helper has several sections that compose HTML strings that cannot be internationalized, since they are built from smaller parts. This blocks the full ability to localize GitLab in non-English locales.\n\n## Improvements\n\nThis will allow international customers to use more GitLab features in their own language.\n\n## Risks\n\nMinimal\n\n## Involved components\n\nEvents, activity streams","state":"closed","created_at":"2020-03-19T16:38:20.944Z","updated_at":"2022-12-13T21:58:22.777Z","closed_at":"2022-12-13T21:58:22.765Z","closed_by":{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"},"labels":["Category:Internationalization","Hackathon","Stretch","backend","devops::manage","estimation::completed","good for new contributors","group::import","milestone::p4","priority::3","section::dev","workflow::ready for development"],"milestone":{"id":1212252,"iid":48,"group_id":9970,"title":"Next 1-3 releases","description":"Issues which are not quite ready to schedule, but should be considered as part of the near-term roadmap.","state":"active","created_at":"2020-03-26T20:39:10.889Z","updated_at":"2020-03-26T20:39:10.889Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/48"},"assignees":[{"id":9588757,"username":"lenikadali","name":"Leni Kadali Mutungi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9588757/avatar.png","web_url":"https://gitlab.com/lenikadali"}],"author":{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"},"type":"ISSUE","assignee":{"id":9588757,"username":"lenikadali","name":"Leni Kadali Mutungi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9588757/avatar.png","web_url":"https://gitlab.com/lenikadali"},"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/211831","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/211831","notes":"https://gitlab.com/api/v4/projects/278964/issues/211831/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/211831/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#211831","relative":"#211831","full":"gitlab-org/gitlab#211831"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4688,"epic":{"id":133260,"iid":4688,"title":"Missing externalizations","url":"/groups/gitlab-org/-/epics/4688","group_id":9970},"iteration":null,"health_status":null},{"id":32194498,"iid":211828,"project_id":278964,"title":"Placement of Add designs button could be confusing with the addition of drag and drop","description":"### Problem to solve\n\nBeing able to drag and drop designs now is AWESOME! Something about the flow confused me a bit though due to that `Add designs` button placement.\n*  I dragged to add my designs\n*  My designs now appear\n*  I see the `Add designs` button is active and wonder if I need to additionally click the button to \"permanently add\" the designs I just dropped in. I am uncertain if my newly added designs are in some type of \"review\" state or if I have added them and no further action is required.\n*  I click `Add designs` and get the upload behavior and realize my designs ARE already added (not in some in-between state) and that this is just another way to add. \n\n### Proposal\n\n\u003c!-- Ideate on the placement of that `Add designs` button. Perhaps it should be close to the CTA for dragging to upload? For example:\n\n| Current | Proposal |\n| ------ | ------ |\n| \u003cimg src=\"/uploads/559d6bdff48b2f9b22e7636b75bd2ec2/image.png\" width=\"400\"\u003e| ![image](/uploads/ca9ba9f9e8a74d3716941a0b847737b2/image.png)| --\u003e\n\nChange the text of the \"Add Designs\" button to \"Upload Designs\". Make the Upload Designs button visible from the beginning.\n\n\n### What does success look like, and how can we measure that?\n\nUsers don't second guess if their designs are added or not. Time spent clicking around to validate this is reduced.","state":"closed","created_at":"2020-03-19T16:34:25.302Z","updated_at":"2020-12-10T18:58:42.751Z","closed_at":"2020-06-04T05:31:14.792Z","closed_by":{"id":2950912,"username":"ntepluhina","name":"Natalia Tepluhina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2950912/avatar.png","web_url":"https://gitlab.com/ntepluhina"},"labels":["Category:Design Management","Deliverable","UX","customer","devops::plan","frontend","group::product planning","workflow::staging"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":2950912,"username":"ntepluhina","name":"Natalia Tepluhina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2950912/avatar.png","web_url":"https://gitlab.com/ntepluhina"}],"author":{"id":3617348,"username":"uhlexsis","name":"Alexis Ginsberg","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3617348/avatar.png","web_url":"https://gitlab.com/uhlexsis"},"type":"ISSUE","assignee":{"id":2950912,"username":"ntepluhina","name":"Natalia Tepluhina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2950912/avatar.png","web_url":"https://gitlab.com/ntepluhina"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/211828","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/211828","notes":"https://gitlab.com/api/v4/projects/278964/issues/211828/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/211828/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#211828","relative":"#211828","full":"gitlab-org/gitlab#211828"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32194445,"iid":211827,"project_id":278964,"title":"Follow-up from \"Resolve \"Reorganise Security Dashboard frontend files\"\"","description":"The following discussion from !23879 should be addressed:\n\n- [ ] @afontaine started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/23879#note_307950927):  (+1 comment)\n\n    \u003e It looks like this is a required prop in the `ProjectSecurityDashboard` component. Do we need to loosen that requirement? Should all projects have pipeline data?","state":"closed","created_at":"2020-03-19T16:32:50.679Z","updated_at":"2020-05-12T08:53:33.851Z","closed_at":"2020-05-12T08:53:33.718Z","closed_by":{"id":411701,"username":"kushalpandya","name":"Kushal Pandya","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/411701/avatar.png","web_url":"https://gitlab.com/kushalpandya"},"labels":["Category:Vulnerability Management","backstage [DEPRECATED]","devops::govern","frontend","group::threat insights","maintenance::refactor","security dashboard","workflow::in review"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":5535246,"username":"svedova","name":"Savas Vedova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535246/avatar.png","web_url":"https://gitlab.com/svedova"}],"author":{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},"type":"ISSUE","assignee":{"id":5535246,"username":"svedova","name":"Savas Vedova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535246/avatar.png","web_url":"https://gitlab.com/svedova"},"user_notes_count":13,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/211827","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/211827","notes":"https://gitlab.com/api/v4/projects/278964/issues/211827/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/211827/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#211827","relative":"#211827","full":"gitlab-org/gitlab#211827"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32194347,"iid":211826,"project_id":278964,"title":"Documentation for  \"Add read-only state for LDAP syncable attributes\"","description":"The following discussion from !24049 should be addressed:\n\n- [ ] @christiaanconover started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/24049#note_307993073):  (+4 comments)\n\n    \u003e I'm excited to see that this has been merged, since I have a customer that explicitly is looking for this! However, I'm not able to find any documentation on how this works and any available configuration options. Does anyone involved in this have any documentation they can point me towards? Thanks!","state":"closed","created_at":"2020-03-19T16:30:02.256Z","updated_at":"2020-04-20T08:47:28.596Z","closed_at":"2020-04-20T08:47:28.543Z","closed_by":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"labels":["devops::manage","documentation","group::authentication and authorization","ldap"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[],"author":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/211826","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/211826","notes":"https://gitlab.com/api/v4/projects/278964/issues/211826/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/211826/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#211826","relative":"#211826","full":"gitlab-org/gitlab#211826"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32194025,"iid":211824,"project_id":278964,"title":"`ee/spec/controllers/ldap/omniauth_callbacks_controller_spec.rb[1:3:1]` only pass after a retry","description":"Run `bin/rspec 'ee/spec/controllers/ldap/omniauth_callbacks_controller_spec.rb[1:3:1]'` locally, the test fails.\n\nRun `RETRIES=1 bin/rspec 'ee/spec/controllers/ldap/omniauth_callbacks_controller_spec.rb[1:3:1]'` locally, the test passes.\n\n@jamedjo I think we stopped logging failed LDAP logging with https://gitlab.com/gitlab-org/gitlab/-/commit/f10c999bca2b5b37b068ff3680a6e35a6707828d#d533df4fe5687325a2126a868011bf841c3f405a_0_28.\n\nThe logging was added by @jameslopez with https://gitlab.com/gitlab-org/gitlab/-/commit/e74c7e2afbd2dfdf85cee5397bb4cfbff68affc3#5256ed13239c07f6f3bdb0a185beb3a82b293edd_0_14 but:\n\n- since `Ldap::OmniauthCallbacksController \u003c OmniauthCallbacksController` and `Ldap::OmniauthCallbacksController` redefines `#fail_login` (https://gitlab.com/gitlab-org/gitlab/-/blob/7cebe9c5217fcc9cdba24b33d3e753e146f65896/app/controllers/ldap/omniauth_callbacks_controller.rb#L30-34),\n- the extra behavior added by `EE::OmniauthCallbacksController` (https://gitlab.com/gitlab-org/gitlab/-/blob/7cebe9c5217fcc9cdba24b33d3e753e146f65896/ee/app/controllers/ee/omniauth_callbacks_controller.rb#L20-24) to `OmniauthCallbacksController` (https://gitlab.com/gitlab-org/gitlab/-/blob/7cebe9c5217fcc9cdba24b33d3e753e146f65896/app/controllers/omniauth_callbacks_controller.rb#L274) is not triggered.\n\nI will submit a MR to fix that, and make the test pass on first try.","state":"closed","created_at":"2020-03-19T16:24:16.397Z","updated_at":"2020-04-17T16:05:10.362Z","closed_at":"2020-04-17T16:05:10.263Z","closed_by":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"labels":["Category:Audit Events","ldap","type::bug","workflow::in review"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":128633,"username":"rymai","name":"RÃ©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"}],"author":{"id":128633,"username":"rymai","name":"RÃ©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"type":"ISSUE","assignee":{"id":128633,"username":"rymai","name":"RÃ©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/211824","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/211824","notes":"https://gitlab.com/api/v4/projects/278964/issues/211824/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/211824/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#211824","relative":"#211824","full":"gitlab-org/gitlab#211824"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32193969,"iid":211823,"project_id":278964,"title":"Italicized bio causes issues with emojis","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nChanging the bio to italics in #24072 (!25155) causes issues with emojis. See thread here: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/25155#note_307775391\n\n### Steps to reproduce\n\n- Navigate to `/profile`\n- Add emoji to your bio\n- Click \"Profile\" from avatar dropdown in upper right corner\n\n### What is the current *bug* behavior?\n\nEmojis are italicized causing them to look weird\n\n### What is the expected *correct* behavior?\n\nEmojis are not italicized\n\n### Relevant logs and/or screenshots\n\n![Screen_Shot_2020-03-19_at_1.25.33_PM](/uploads/06abdf14a9e00d3c0a1763824aeb23f0/Screen_Shot_2020-03-19_at_1.25.33_PM.png)\n\n### Possible fixes\n\nRevert bio back to non-italicized","state":"closed","created_at":"2020-03-19T16:21:42.811Z","updated_at":"2020-03-23T15:14:49.251Z","closed_at":"2020-03-23T15:14:49.203Z","closed_by":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"labels":["devops::manage","frontend","group::spaces DEPRECATED","regression","regression:12.9","severity::4","type::bug","workflow::verification"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"}],"author":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"type":"ISSUE","assignee":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"user_notes_count":2,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/211823","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/211823","notes":"https://gitlab.com/api/v4/projects/278964/issues/211823/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/211823/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#211823","relative":"#211823","full":"gitlab-org/gitlab#211823"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32191649,"iid":211814,"project_id":278964,"title":"Mapping the current pre-installation process","description":"We need to map the current pre-installation process.\n\nThere could be multiple ways before users land on the installation pages.\n\nHere is the [Mural link](https://app.mural.co/t/gitlab2474/m/gitlab2474/1584612132482/44913d22400ab9cb3fdf2a2740f7733b112ae883), and the description would be updated after the Mural work is done.\n\n## Data reference\n\n- [Installation type](https://app.periscopedata.com/app/gitlab/428908/GitLab-Downloads-by-Installation-Type)\n- [Landing page data](https://app.periscopedata.com/app/gitlab/556414/Marketing-Linear-Attribution)\n- [Active instances](https://app.periscopedata.com/app/gitlab/441909/Active-Instances)","state":"closed","created_at":"2020-03-19T15:25:25.034Z","updated_at":"2021-04-03T08:38:50.009Z","closed_at":"2020-04-14T12:07:13.910Z","closed_by":{"id":4903414,"username":"sunjungp","name":"Sunjung Park","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a2c072c26031ffd81b676b43eeb7b781?s=80\u0026d=identicon","web_url":"https://gitlab.com/sunjungp"},"labels":["UX","devops::systems","documentation","group::distribution","workflow::problem validation"],"milestone":null,"assignees":[{"id":4903414,"username":"sunjungp","name":"Sunjung Park","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a2c072c26031ffd81b676b43eeb7b781?s=80\u0026d=identicon","web_url":"https://gitlab.com/sunjungp"}],"author":{"id":4903414,"username":"sunjungp","name":"Sunjung Park","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a2c072c26031ffd81b676b43eeb7b781?s=80\u0026d=identicon","web_url":"https://gitlab.com/sunjungp"},"type":"ISSUE","assignee":{"id":4903414,"username":"sunjungp","name":"Sunjung Park","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a2c072c26031ffd81b676b43eeb7b781?s=80\u0026d=identicon","web_url":"https://gitlab.com/sunjungp"},"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/211814","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/211814","notes":"https://gitlab.com/api/v4/projects/278964/issues/211814/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/211814/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#211814","relative":"#211814","full":"gitlab-org/gitlab#211814"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5013,"epic":{"id":152633,"iid":5013,"title":"Improve installation documentation","url":"/groups/gitlab-org/-/epics/5013","group_id":9970,"human_readable_end_date":"Apr 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":32189865,"iid":211809,"project_id":278964,"title":"Add a note about CI assets required by outside projects","description":"The following discussion from !26008 should be addressed:\n\n- [ ] @rymai started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/26008#note_295340182):  (+3 comments)\n\n    \u003e That's actually the only assets needed by the `pages` job!\n\n    \u003e We should probably add a note in `.gitlab/ci/frontend.gitlab-ci.yml` then (let's resolve this as a follow-up issue).\n\nWe ought to add some comments to our CI configuration regarding assets that are consumed within other projects (e.g. `application.css` within `gitlab-ui`) to ensure they are not removed.\n\n/cc @leipert","state":"closed","created_at":"2020-03-19T14:52:12.101Z","updated_at":"2020-03-19T19:32:02.073Z","closed_at":"2020-03-19T19:32:02.004Z","closed_by":{"id":636429,"username":"mikegreiling","name":"Mike Greiling","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/636429/avatar.png","web_url":"https://gitlab.com/mikegreiling"},"labels":["Engineering Productivity","backstage [DEPRECATED]","test"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":128633,"username":"rymai","name":"RÃ©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"}],"author":{"id":636429,"username":"mikegreiling","name":"Mike Greiling","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/636429/avatar.png","web_url":"https://gitlab.com/mikegreiling"},"type":"ISSUE","assignee":{"id":128633,"username":"rymai","name":"RÃ©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/211809","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/211809","notes":"https://gitlab.com/api/v4/projects/278964/issues/211809/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/211809/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#211809","relative":"#211809","full":"gitlab-org/gitlab#211809"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32189605,"iid":211808,"project_id":278964,"title":"Group Import UI - Add Import State to Group","description":"### Goal\n\nTo have an indicator for the user that the group import is still in progress, so they don't think it was only partially imported. This should behave the same way as the existing project import status.\n\n### Scope\n\n1. The user sees an `Import in Progress` page when visiting a group that is still in active import states.\n\n#### Screenshot for Project import:\n\n![Screen_Shot_2020-03-20_at_1.54.39_PM](/uploads/0c332e947c55785489e0583527d492bb/Screen_Shot_2020-03-20_at_1.54.39_PM.png)\n\n### Out of Scope\n\n1. Showing progress or time estimations for the import. This can be revisited in a later issue.","state":"closed","created_at":"2020-03-19T14:46:47.484Z","updated_at":"2022-03-28T19:24:05.198Z","closed_at":"2020-06-16T09:06:04.986Z","closed_by":{"id":4981524,"username":"jhyson","name":"Josianne Hyson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4981524/avatar.png","web_url":"https://gitlab.com/jhyson"},"labels":["Category:Importers","Deliverable","Importer:Group Export/Import","backend","devops::manage","estimation::completed","frontend","group::import","milestone::p2","priority::3","workflow::verification"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":4981524,"username":"jhyson","name":"Josianne Hyson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4981524/avatar.png","web_url":"https://gitlab.com/jhyson"}],"author":{"id":5247073,"username":"hdelalic","name":"Haris DelaliÄ‡","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5247073/avatar.png","web_url":"https://gitlab.com/hdelalic"},"type":"ISSUE","assignee":{"id":4981524,"username":"jhyson","name":"Josianne Hyson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4981524/avatar.png","web_url":"https://gitlab.com/jhyson"},"user_notes_count":15,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/211808","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/211808","notes":"https://gitlab.com/api/v4/projects/278964/issues/211808/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/211808/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#211808","relative":"#211808","full":"gitlab-org/gitlab#211808"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2888,"epic":{"id":31744,"iid":2888,"title":"Group Export/Import UX MVC","url":"/groups/gitlab-org/-/epics/2888","group_id":9970,"human_readable_end_date":"Jun 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":32189562,"iid":211807,"project_id":278964,"title":"Create Group Import UI","description":"### Goal\n\nTo create the functionality to import Group data from the GitLab UI. This should behave in the same way as the existing Project import.\n\n### Scope\n\n1. The user can visit `New Group \u003e Import Group` and upload a GitLab group export file\n2. The user is taken to the the new group after submitting the form\n\n## Technical Requirements\n* Group name is needed to be defined for importing a group. \n* Slug\n* File\n\n\n#### Screenshot of Project import:\n\n![Screen_Shot_2020-03-20_at_1.48.46_PM](/uploads/de32f3446ba4e138593674413edde504/Screen_Shot_2020-03-20_at_1.48.46_PM.png)\n\n\n### Out of Scope\n\n1. Presenting the import in progress screen to the user - this will be completed in: https://gitlab.com/gitlab-org/gitlab/-/issues/211808","state":"closed","created_at":"2020-03-19T14:45:57.191Z","updated_at":"2022-03-28T19:24:05.238Z","closed_at":"2020-06-17T15:58:45.917Z","closed_by":{"id":4981524,"username":"jhyson","name":"Josianne Hyson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4981524/avatar.png","web_url":"https://gitlab.com/jhyson"},"labels":["Category:Importers","Deliverable","Importer:Group Export/Import","backend","devops::manage","documentation","estimation::completed","frontend","group::import","milestone::p2","priority::2","workflow::verification"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":4981524,"username":"jhyson","name":"Josianne Hyson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4981524/avatar.png","web_url":"https://gitlab.com/jhyson"}],"author":{"id":5247073,"username":"hdelalic","name":"Haris DelaliÄ‡","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5247073/avatar.png","web_url":"https://gitlab.com/hdelalic"},"type":"ISSUE","assignee":{"id":4981524,"username":"jhyson","name":"Josianne Hyson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4981524/avatar.png","web_url":"https://gitlab.com/jhyson"},"user_notes_count":16,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/211807","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/211807","notes":"https://gitlab.com/api/v4/projects/278964/issues/211807/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/211807/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#211807","relative":"#211807","full":"gitlab-org/gitlab#211807"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2888,"epic":{"id":31744,"iid":2888,"title":"Group Export/Import UX MVC","url":"/groups/gitlab-org/-/epics/2888","group_id":9970,"human_readable_end_date":"Jun 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":32189471,"iid":211806,"project_id":278964,"title":"Group Export - Add Email Notification","description":"### Goal\n\nTo notify the user when their group export is complete, so that they do not have to keep refreshing the export page. This should mirror the functionality of Project export.\n\n### Scope\n\n1. The user that triggered the group export is emailed a download link when the export is ready\n\n#### Copy in the email for Project export:\n\n```\nProject Underscore was exported successfully.\n\nThe project export can be downloaded from: Jashkenas / Underscore export\n\nThe download link will expire in 24 hours.\n```","state":"closed","created_at":"2020-03-19T14:44:12.191Z","updated_at":"2021-05-18T20:46:44.336Z","closed_at":"2020-05-21T13:47:27.634Z","closed_by":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"labels":["Category:Importers","Deliverable","Importer:Group Export/Import","backend","devops::manage","estimation::completed","frontend","group::import","milestone::p2","priority::3","workflow::production"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"}],"author":{"id":5247073,"username":"hdelalic","name":"Haris DelaliÄ‡","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5247073/avatar.png","web_url":"https://gitlab.com/hdelalic"},"type":"ISSUE","assignee":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"user_notes_count":6,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/211806","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/211806","notes":"https://gitlab.com/api/v4/projects/278964/issues/211806/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/211806/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#211806","relative":"#211806","full":"gitlab-org/gitlab#211806"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2888,"epic":{"id":31744,"iid":2888,"title":"Group Export/Import UX MVC","url":"/groups/gitlab-org/-/epics/2888","group_id":9970,"human_readable_end_date":"Jun 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":32189454,"iid":211805,"project_id":278964,"title":"Create Group Export UI","description":"### Goal\n\nTo create the functionality to export Group data from the GitLab UI. This should behave in the same way as the existing Project export.\n\n### Scope\n\n1. The group owner can:\n   * Visit `Group \u003e Settings \u003e General \u003e Advanced` and trigger a group export\n   * Return to the same location and click `Download Export` when the export is complete\n2. The copy on the export page reflects the exported data for group export\n\n\n#### Screenshot of Project export:\n\n![Screen_Shot_2020-03-20_at_1.33.51_PM](/uploads/b281ca991cfada94f6cdb2e00d3c67b9/Screen_Shot_2020-03-20_at_1.33.51_PM.png)\n\n\n### Out of Scope\n\n1.  Emailing the user when the export is complete - this will be completed in https://gitlab.com/gitlab-org/gitlab/-/issues/211806\n2. Changing any of the data that is exported","state":"closed","created_at":"2020-03-19T14:43:43.393Z","updated_at":"2022-03-08T13:31:52.964Z","closed_at":"2020-04-24T08:49:58.498Z","closed_by":{"id":4981524,"username":"jhyson","name":"Josianne Hyson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4981524/avatar.png","web_url":"https://gitlab.com/jhyson"},"labels":["Category:Importers","Importer:Group Export/Import","backend","devops::manage","estimation::completed","frontend","group::import","milestone::p2","missed:12.10","priority::2","workflow::verification"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":4981524,"username":"jhyson","name":"Josianne Hyson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4981524/avatar.png","web_url":"https://gitlab.com/jhyson"}],"author":{"id":5247073,"username":"hdelalic","name":"Haris DelaliÄ‡","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5247073/avatar.png","web_url":"https://gitlab.com/hdelalic"},"type":"ISSUE","assignee":{"id":4981524,"username":"jhyson","name":"Josianne Hyson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4981524/avatar.png","web_url":"https://gitlab.com/jhyson"},"user_notes_count":13,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/211805","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/211805","notes":"https://gitlab.com/api/v4/projects/278964/issues/211805/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/211805/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#211805","relative":"#211805","full":"gitlab-org/gitlab#211805"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2888,"epic":{"id":31744,"iid":2888,"title":"Group Export/Import UX MVC","url":"/groups/gitlab-org/-/epics/2888","group_id":9970,"human_readable_end_date":"Jun 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":32185808,"iid":211802,"project_id":278964,"title":"Optimize service_desk_enabled_projects counter in usage_data","description":"\n```ruby\n# https://gitlab.com/gitlab-org/gitlab/-/blob/908902d1d4f6fbcd7780150c780837fd4fa8b301/ee/lib/ee/gitlab/usage_data.rb#L292\nservice_desk_enabled_projects: distinct_count(::Project.with_active_services.service_desk_enabled.where(time_period), :creator_id),\n```\n\nPart of !208233","state":"closed","created_at":"2020-03-19T13:32:40.417Z","updated_at":"2020-03-31T06:53:43.691Z","closed_at":"2020-03-31T06:53:43.649Z","closed_by":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"labels":["backend","backstage [DEPRECATED]","bug::performance","database","devops::growth","group::product intelligence","product intelligence","workflow::blocked"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"}],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"user_notes_count":13,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/211802","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/211802","notes":"https://gitlab.com/api/v4/projects/278964/issues/211802/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/211802/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#211802","relative":"#211802","full":"gitlab-org/gitlab#211802"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32183255,"iid":211795,"project_id":278964,"title":"`ee/spec/controllers/groups/billings_controller_spec.rb[1:1:2:2]` only pass after a retry","description":"Run `bin/rspec 'ee/spec/controllers/groups/billings_controller_spec.rb[1:1:2:2]'` locally, it fails.\n\nRun `RETRIES=1 bin/rspec 'ee/spec/controllers/groups/billings_controller_spec.rb[1:1:2:2]'` locally, it passes.","state":"closed","created_at":"2020-03-19T12:37:21.134Z","updated_at":"2020-03-20T17:01:22.895Z","closed_at":"2020-03-20T17:01:22.824Z","closed_by":{"id":33100,"username":"mayra-cabrera","name":"Mayra Cabrera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/33100/avatar.png","web_url":"https://gitlab.com/mayra-cabrera"},"labels":["Engineering Productivity","backstage [DEPRECATED]","failure::flaky-test","test"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":128633,"username":"rymai","name":"RÃ©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"}],"author":{"id":128633,"username":"rymai","name":"RÃ©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"type":"ISSUE","assignee":{"id":128633,"username":"rymai","name":"RÃ©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/211795","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/211795","notes":"https://gitlab.com/api/v4/projects/278964/issues/211795/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/211795/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#211795","relative":"#211795","full":"gitlab-org/gitlab#211795"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32178596,"iid":211782,"project_id":278964,"title":"HIdden default stages in value stream analytics appearing in duration chart","description":"### Summary\n\nWith [customizable cycle analytics](https://gitlab.com/gitlab-org/gitlab-ee/issues/13076) we can now hide default and recover default stages in value stream analytics. When a stage is hidden, it should not be available to select for the duration chart.\n\n### What is the current *bug* behavior?\n\n![Screen_Recording_2020-03-19_at_10.02.05_pm](/uploads/4f287cf649a75db742ac146256d28d59/Screen_Recording_2020-03-19_at_10.02.05_pm.mov)\n\n### What is the expected *correct* behavior?\n\nThe hidden stage should not be available for selection from the duration chart dropdown\n\n### Possible fixes\n\nPass `activeStages` to the duration chart instead of `stages`","state":"closed","created_at":"2020-03-19T11:07:54.146Z","updated_at":"2020-10-29T14:38:22.918Z","closed_at":"2020-03-20T09:53:25.707Z","closed_by":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"labels":["Category:Value Stream Management","analytics","devops::manage","group::optimize","type::bug","workflow::in review"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"}],"author":{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"},"type":"ISSUE","assignee":{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"},"user_notes_count":2,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/211782","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/211782","notes":"https://gitlab.com/api/v4/projects/278964/issues/211782/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/211782/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#211782","relative":"#211782","full":"gitlab-org/gitlab#211782"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32174163,"iid":211777,"project_id":278964,"title":"Separate Deployment to K8s from the Deploy.yml template of AutoDevOps","description":"### Problem to solve\n\n\u003c!-- What problem do we solve? --\u003e\n\nIn order to expand our AutoDeploy template to more than Kubernet4es, we must separate the Deploy_To_Kubernetes jobs into a dedicated template that is called form the autoDeploy stage. \n\n### Intended users\n\n\u003c!-- Who will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops)\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/ --\u003e\n\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n\n### Further details\n\n\u003c!-- Include use cases, benefits, and/or goals (contributes to our vision?) --\u003e\n\nAs preliminary work for https://gitlab.com/gitlab-org/gitlab/-/issues/208132#note_307019587, we need to extract the deployment of Kubernetes portion of the AutoDeploy template to a stand-alone template.\nThis will allow us scalability and flexibility in the future, as now we are adding a Deploy_to_ECS and in the future we will introduce Deployment to other cloud providers.  \n\nThe reason that we are not simply renaming the AutoDeploy template is in order not to introduce a breaking change to the users that are already using AutoDeploy.\n\n### Proposal\n\n\u003c!-- How are we going to solve the problem? Try to include the user journey! https://about.gitlab.com/handbook/journeys/#user-journey --\u003e\n\nExisting Yaml should not be changed\n\n\u003cdetails\u003e\n```yaml\ninclude:\n  - template: Jobs/Build.gitlab-ci.yml  # https://gitlab.com/gitlab-org/gitlab-foss/blob/master/lib/gitlab/ci/templates/Jobs/Build.gitlab-ci.yml\n  - template: Jobs/Test.gitlab-ci.yml  # https://gitlab.com/gitlab-org/gitlab-foss/blob/master/lib/gitlab/ci/templates/Jobs/Test.gitlab-ci.yml\n  - template: Jobs/Code-Quality.gitlab-ci.yml  # https://gitlab.com/gitlab-org/gitlab-foss/blob/master/lib/gitlab/ci/templates/Jobs/Code-Quality.gitlab-ci.yml\n  - template: Jobs/Deploy.gitlab-ci.yml  # https://gitlab.com/gitlab-org/gitlab-foss/blob/master/lib/gitlab/ci/templates/Jobs/Deploy.gitlab-ci.yml\n  - template: Jobs/DAST-Default-Branch-Deploy.gitlab-ci.yml  # https://gitlab.com/gitlab-org/gitlab-foss/blob/master/lib/gitlab/ci/templates/Jobs/DAST-Default-Branch-Deploy.gitlab-ci.yml\n  - template: Jobs/Browser-Performance-Testing.gitlab-ci.yml  # https://gitlab.com/gitlab-org/gitlab-foss/blob/master/lib/gitlab/ci/templates/Jobs/Browser-Performance-Testing.gitlab-ci.yml\n  - template: Security/DAST.gitlab-ci.yml  # https://gitlab.com/gitlab-org/gitlab-foss/blob/master/lib/gitlab/ci/templates/Security/DAST.gitlab-ci.yml\n  - template: Security/Container-Scanning.gitlab-ci.yml  # https://gitlab.com/gitlab-org/gitlab-foss/blob/master/lib/gitlab/ci/templates/Security/Container-Scanning.gitlab-ci.yml\n  - template: Security/Dependency-Scanning.gitlab-ci.yml  # https://gitlab.com/gitlab-org/gitlab-foss/blob/master/lib/gitlab/ci/templates/Security/Dependency-Scanning.gitlab-ci.yml\n  - template: Security/License-Management.gitlab-ci.yml  # https://gitlab.com/gitlab-org/gitlab-foss/blob/master/lib/gitlab/ci/templates/Security/License-Management.gitlab-ci.yml\n  - template: Security/SAST.gitlab-ci.yml  # https://gitlab.com/gitlab-org/gitlab-foss/blob/master/lib/gitlab/ci/templates/Security/SAST.gitlab-ci.yml\n```\n\u003c/details\u003e\n\nWhat should change is https://gitlab.com/gitlab-org/gitlab/blob/master/lib/gitlab/ci/templates/Jobs/Deploy.gitlab-ci.yml\n\n* [ ] Separate Deploy Kuberneters jobs to a new yaml template called 'Deploy_Kubernetes.gitlab-ci.yml`\n* [ ]  reference the new template from the 'Deploy.gitlab-ci.yml' file (by using include)\n* [ ] Verify that the new Deploy.gitlab-ci.yml works like the old one\n* [ ] Document 'Deploy_Kubernetes.gitlab-ci.yml` as a composable DevOps template\n\n\n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?--\u003e\n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html\nAdd all known Documentation Requirements here, per https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements\nIf this feature requires changing permissions, this document https://docs.gitlab.com/ee/user/permissions.html must be updated accordingly. --\u003e\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\n What risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\n### What does success look like, and how can we measure that?\n\n\u003c!-- Define both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. --\u003e\n\n### What is the type of buyer?\n\n\u003c!-- Which leads to: in which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#four-tiers --\u003e\n\n### Is this a cross-stage feature?\n\n\u003c!-- Communicate if this change will affect multiple Stage Groups or product areas. We recommend always start with the assumption that a feature request will have an impact into another Group. Loop in the most relevant PM and Product Designer from that Group to provide strategic support to help align the Group's broader plan and vision, as well as to avoid UX and technical debt. https://about.gitlab.com/handbook/product/#cross-stage-features --\u003e\n\n### Links / references","state":"closed","created_at":"2020-03-19T09:42:42.964Z","updated_at":"2020-05-21T14:49:23.419Z","closed_at":"2020-05-21T14:49:23.384Z","closed_by":{"id":4192493,"username":"ebaque","name":"Etienne BaquÃ©","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"labels":["Category:Continuous Delivery","Deliverable","Release::P1","backstage [DEPRECATED]","cicd::active","devops::release","group::release","type::feature","workflow::ready for development"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":4192493,"username":"ebaque","name":"Etienne BaquÃ©","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"}],"author":{"id":4156460,"username":"ogolowinski","name":"Orit Golowinski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4156460/avatar.png","web_url":"https://gitlab.com/ogolowinski"},"type":"ISSUE","assignee":{"id":4192493,"username":"ebaque","name":"Etienne BaquÃ©","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/211777","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/211777","notes":"https://gitlab.com/api/v4/projects/278964/issues/211777/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/211777/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#211777","relative":"#211777","full":"gitlab-org/gitlab#211777"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32172189,"iid":211776,"project_id":278964,"title":"Missing web terminal development docs","description":"\u003c!--\n\n* Use this issue template for suggesting new docs or updates to existing docs.\n  Note: Doc work as part of feature development is covered in the Feature Request template.\n\n* For issues related to features of the docs.gitlab.com site, see\n     https://gitlab.com/gitlab-org/gitlab-docs/issues/\n\n* For information about documentation content and process, see\n     https://docs.gitlab.com/ee/development/documentation/ --\u003e\n\n### Problem to solve\n\nThe [Contributor and Development docs](https://docs.gitlab.com/ee/development/README.html#other-development-guides) are missing guidance on how to get the Web Terminal setup and running, which can be a little complicated.\n\n\n### Proposal\n\nWe should add a section that pulls together all relevant information on how to do this in these docs under a \"Setting up the Web Terminal locally\" section.\n\nThe change / new page could be structured as follows:\n\n- New page for Setting up Web Terminal locally\n\t- GDK \n\t\t- host file instructions\n\t- Minikube\n\t\t- installation\n\t\t- role \u0026 role-binding assignment\n\t\t- obtaining secret token\n\t- Gitlab Runner\n\t\t- installation\n\t\t- registering a new runner\n\t\t- `config.toml` customisation\n\t\t- running the runner\n\t- Troubleshooting\n\t\t- Infinite loading icon (likely pipeline concurrency)\n\t\t- Bad handshake (likely token / config / role setup issue)\n\n### Who can address the issue\n\n@vhawoldar or @a_luna can address this issue having spent some time getting familiar with the process.","state":"closed","created_at":"2020-03-19T09:19:08.013Z","updated_at":"2020-04-17T22:49:43.593Z","closed_at":"2020-04-17T22:49:43.546Z","closed_by":{"id":4717243,"username":"a_luna","name":"Amparo Luna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4717243/avatar.png","web_url":"https://gitlab.com/a_luna"},"labels":["devops::create","documentation","group::editor","workflow::in dev"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":4717243,"username":"a_luna","name":"Amparo Luna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4717243/avatar.png","web_url":"https://gitlab.com/a_luna"}],"author":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"type":"ISSUE","assignee":{"id":4717243,"username":"a_luna","name":"Amparo Luna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4717243/avatar.png","web_url":"https://gitlab.com/a_luna"},"user_notes_count":6,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/211776","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/211776","notes":"https://gitlab.com/api/v4/projects/278964/issues/211776/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/211776/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#211776","relative":"#211776","full":"gitlab-org/gitlab#211776"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32162986,"iid":211762,"project_id":278964,"title":"Show full commit message by default in merge request diff","description":"## Problem to solve\n\nWhen reviewing a single commit the full commit message should be visible so that it can be reviewed.\n\n## Further details\n\n| Current state (collapsed) | Current state (expanded) |\n|---|---|\n| ![Screen_Shot_2020-03-19_at_4.32.04_PM](/uploads/6f53a56b45206925f132dd579238e9d9/Screen_Shot_2020-03-19_at_4.32.04_PM.png) | ![Screen_Shot_2020-03-19_at_4.32.13_PM](/uploads/915a253b49f3c595fefd639ddb8f9f53/Screen_Shot_2020-03-19_at_4.32.13_PM.png) |\n\n## Proposal\n\nThe commit message should be fully expanded by default, and probably not have an option to collapse.\n\nThe visual appearance should also be improved, including:\n\n- full width to match the diff\n- improve contrast\n\n## Links / references","state":"closed","created_at":"2020-03-19T05:35:01.714Z","updated_at":"2020-12-07T17:01:15.523Z","closed_at":"2020-07-20T07:58:03.007Z","closed_by":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"labels":["Category:Code Review Workflow","UX","devops::create","frontend","group::code review","missed:13.0","missed:13.1","type::feature"],"milestone":{"id":1233746,"iid":49,"group_id":9970,"title":"13.2","description":"https://about.gitlab.com/releases/2020/07/22/gitlab-13-2-released/","state":"closed","created_at":"2020-04-09T17:28:01.032Z","updated_at":"2022-04-13T14:48:24.167Z","due_date":"2020-07-17","start_date":"2020-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/49"},"assignees":[{"id":698506,"username":"gilangmlr","name":"Gilang Gumilar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/698506/avatar.png","web_url":"https://gitlab.com/gilangmlr"}],"author":{"id":1187333,"username":"jramsay-gitlab","name":"James Ramsay (ex-GitLab)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1187333/avatar.png","web_url":"https://gitlab.com/jramsay-gitlab"},"type":"ISSUE","assignee":{"id":698506,"username":"gilangmlr","name":"Gilang Gumilar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/698506/avatar.png","web_url":"https://gitlab.com/gilangmlr"},"user_notes_count":3,"merge_requests_count":1,"upvotes":6,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/211762","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/211762","notes":"https://gitlab.com/api/v4/projects/278964/issues/211762/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/211762/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#211762","relative":"#211762","full":"gitlab-org/gitlab#211762"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2399,"epic":{"id":17331,"iid":2399,"title":"Improve navigation and comparison of commits in the merge request","url":"/groups/gitlab-org/-/epics/2399","group_id":9970,"human_readable_end_date":"Jul 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":32157410,"iid":211754,"project_id":278964,"title":"BE: Provide an admin setting to automate deactivation of dormant users","description":"### Problem to solve\n\nUser management is a time consuming effort by admins (self-managed). The effort is exasperated due to our lack of readily available in-app user management tools.\n\nFor example, when an instance has hundreds of users, there is no easy way to identify which users are actively utilizing the system and which have gone dormant.\n\nWe provide some useful data in our API but the effort to identify which users are dormant and subsequently deactivate them is still time consuming. We aren't making it easy to love using GitLab for user management.\n\n### Intended users\n\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n\n\n### Success Criteria\n\n1. We should offer an admin setting for admin users to toggle on the ability to automate deactivation or blocking of dormant users after 90 days of inactivity.\n1. This setting should default to disabled since there is significant potential impact to a user's instance.\n1. In summary: After 90 days of user inactivity, where the setting is enabled, we should automatically [deactivate](https://docs.gitlab.com/ee/user/admin_area/activating_deactivating_users.html#deactivating-a-user) the user. \n     1. By placing the user in a deactivated state, the user will not be counted as an active user in the instance. However, it does not prohibit the user from logging back in via the UI. Once a deactivated user logs back into the GitLab UI, their account is set to active again. \n\n\n### Future Iterations\n\n1. The admin should be able to choose whether the users meeting the inactivity criteria should be blocked or deactivated.\n1. Give the admin the flexibility to dictate the threshold for inactivity while ensuring a minimum of 90 days.\n\n### Designs\n\nhttps://gitlab.com/gitlab-org/gitlab/-/issues/282537/","state":"closed","created_at":"2020-03-19T00:17:55.328Z","updated_at":"2022-11-15T13:10:32.645Z","closed_at":"2021-04-28T02:55:43.969Z","closed_by":{"id":3170776,"username":"krasio","name":"Krasimir Angelov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3170776/avatar.png","web_url":"https://gitlab.com/krasio"},"labels":["Engineering","[deprecated] Category:Utilization","backend","customer","devops::fulfillment","group::utilization","link::parent issue","missed:13.10","missed:13.11","section::fulfillment","self-managed","type::feature","workflow::production"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":3170776,"username":"krasio","name":"Krasimir Angelov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3170776/avatar.png","web_url":"https://gitlab.com/krasio"}],"author":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"type":"ISSUE","assignee":{"id":3170776,"username":"krasio","name":"Krasimir Angelov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3170776/avatar.png","web_url":"https://gitlab.com/krasio"},"user_notes_count":35,"merge_requests_count":0,"upvotes":35,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/211754","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/211754","notes":"https://gitlab.com/api/v4/projects/278964/issues/211754/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/211754/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#211754","relative":"#211754","full":"gitlab-org/gitlab#211754"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5519,"epic":{"id":217169,"iid":5519,"title":"[Self-managed] Deactivation of dormant users","url":"/groups/gitlab-org/-/epics/5519","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":32155306,"iid":211721,"project_id":278964,"title":"Permission Documentation Table Should Include Manage:Analytics Features","description":"To like to clarify expectations for what various users--especially guests--can see in various analytics features, we should include them in the table on https://docs.gitlab.com/ee/user/permissions.html. For a specific case of confusion see https://gitlab.com/gitlab-org/gitlab/-/issues/25327#note_307248259","state":"closed","created_at":"2020-03-18T22:59:35.274Z","updated_at":"2020-04-20T16:15:50.329Z","closed_at":"2020-04-20T16:15:50.275Z","closed_by":{"id":4984614,"username":"mjang1","name":"Mike Jang","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4984614/avatar.png","web_url":"https://gitlab.com/mjang1"},"labels":["devops::manage","documentation","group::optimize","workflow::in dev"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},{"id":5538811,"username":"jshackelford","name":"John-Mason Shackelford","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5538811/avatar.png","web_url":"https://gitlab.com/jshackelford"}],"author":{"id":5538811,"username":"jshackelford","name":"John-Mason Shackelford","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5538811/avatar.png","web_url":"https://gitlab.com/jshackelford"},"type":"ISSUE","assignee":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"user_notes_count":10,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/211721","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/211721","notes":"https://gitlab.com/api/v4/projects/278964/issues/211721/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/211721/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#211721","relative":"#211721","full":"gitlab-org/gitlab#211721"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32149344,"iid":211710,"project_id":278964,"title":"Improve performance of index action for BranchesController under load to meet target and investigate the performance in a large monorepo project","description":"### Summary\n\nPerformance testing is showing that the `BranchesController#index` controller and action is just over our target of 500ms under load:\n\n```\n* Environment:                50k\n* Environment Version:        12.9.0-pre `8962f4f86f3`\n* Option:                     60s_1000rps\n* Date:                       2020-03-10\n* Run Time:                   57m 56.43s (Start: 20:54:19 UTC, End: 21:52:16 UTC)\n* GPT Version:                v1.2.3\n\nNAME                 | RPS    | RPS RESULT           | TTFB AVG  | TTFB P90             | REQ STATUS     | RESULT  \n---------------------|--------|----------------------|-----------|----------------------|----------------|---------\nweb_project_branches | 100/s  | 94.53/s (\u003e48.00/s)   | 594.17ms  | 692.84ms (\u003c1500ms)   | 100.00% (\u003e95%) | Passed\n\nDetailed Stats: \n\n   â–ˆ Web - Project Branches Page\n     data_received.................: 500 MB  8.3 MB/s\n     data_sent.....................: 628 kB  10 kB/s\n     group_duration................: avg=1913.56ms min=521.25ms med=1953.73ms max=2961.47ms p(90)=2140.08ms p(95)=2316.86ms\n     http_req_blocked..............: avg=0.05ms    min=0.00ms   med=0.01ms    max=27.97ms   p(90)=0.01ms    p(95)=0.01ms   \n     http_req_connecting...........: avg=0.03ms    min=0.00ms   med=0.00ms    max=16.72ms   p(90)=0.00ms    p(95)=0.00ms   \n     http_req_duration.............: avg=595.57ms  min=444.35ms med=572.67ms  max=1565.78ms p(90)=694.44ms  p(95)=839.18ms \n     http_req_receiving............: avg=1.36ms    min=0.23ms   med=1.33ms    max=15.53ms   p(90)=1.76ms    p(95)=1.89ms   \n     http_req_sending..............: avg=0.03ms    min=0.02ms   med=0.03ms    max=0.24ms    p(90)=0.05ms    p(95)=0.07ms   \n     http_req_tls_handshaking......: avg=0.00ms    min=0.00ms   med=0.00ms    max=0.00ms    p(90)=0.00ms    p(95)=0.00ms   \n     http_req_waiting..............: avg=594.17ms  min=443.29ms med=571.36ms  max=1564.09ms p(90)=692.84ms  p(95)=838.09ms \n     âœ“ { endpoint:branches/all }...: avg=620.01ms  min=485.44ms med=601.80ms  max=1564.09ms p(90)=704.11ms  p(95)=836.67ms \n     âœ“ { endpoint:branches }.......: avg=568.33ms  min=443.29ms med=547.84ms  max=1530.29ms p(90)=648.70ms  p(95)=840.58ms \n   âœ“ http_reqs.....................: 5672    94.533149/s\n     âœ“ { endpoint:branches/all }...: 2836    47.266574/s\n     âœ“ { endpoint:branches }.......: 2836    47.266574/s\n     iteration_duration............: avg=1912.90ms min=0.17ms   med=1953.70ms max=2961.49ms p(90)=2140.06ms p(95)=2316.88ms\n     iterations....................: 2832    47.199908/s\n   âœ“ successful_requests...........: 100.00% âœ“ 5664  âœ— 0    \n     vus...........................: 1       min=1   max=100\n     vus_max.......................: 100     min=100 max=100\n\n```\n\n#### Performance test against large monorepo project\n\nWorth calling out, that recently we(Quality) ran performance test against large [`monorepo`](https://gitlab.com/gitlab-org/quality/performance-data/-/blob/master/projects_export/linux_export.tar.gz) project with these specs: 3.5 Gb Files, 12.6 Gb Trees, 75 Gb Blobs, 916k commits, 20k issues, 7k MRs and branches, 1.5k labels. Test results degrade significantly with the increased number of branches - 6701 in `monorepo` vs 2815 in `gitlabhq`:\n\n```\n* Environment:                50k_monorepo\n* Environment Version:        12.9.0-pre `8962f4f86f3`\n* Option:                     60s_1000rps\n* Date:                       2020-03-10\n* Run Time:                   57m 56.43s (Start: 20:54:19 UTC, End: 21:52:16 UTC)\n* GPT Version:                v1.2.3\n\nNAME                 | RPS    | RPS RESULT           | TTFB AVG  | TTFB P90             | REQ STATUS     | RESULT  \n---------------------|--------|----------------------|-----------|----------------------|----------------|---------\nweb_project_branches | 100/s  | 68.47/s (\u003e48.00/s)   | 2511.84ms | 3823.73ms (\u003c1500ms)  | 100.00% (\u003e95%) | FAILEDÂ³\n\nDetailed Stats: \n\n    â–ˆ Web - Project Branches Page\n    data_received.................: 358 MB  6.0 MB/s\n    data_sent.....................: 493 kB  8.2 kB/s\n    group_duration................: avg=2626.10ms min=1017.08ms med=2602.70ms max=5567.91ms p(90)=3940.20ms p(95)=4409.26ms\n    http_req_blocked..............: avg=0.06ms    min=0.00ms    med=0.01ms    max=20.02ms   p(90)=0.01ms    p(95)=0.03ms   \n    http_req_connecting...........: avg=0.04ms    min=0.00ms    med=0.00ms    max=13.84ms   p(90)=0.00ms    p(95)=0.00ms   \n    http_req_duration.............: avg=2513.32ms min=897.98ms  med=2492.52ms max=5540.81ms p(90)=3825.43ms p(95)=4253.51ms\n    http_req_receiving............: avg=1.45ms    min=0.76ms    med=1.46ms    max=9.52ms    p(90)=2.00ms    p(95)=2.16ms   \n    http_req_sending..............: avg=0.03ms    min=0.01ms    med=0.03ms    max=0.28ms    p(90)=0.05ms    p(95)=0.07ms   \n    http_req_tls_handshaking......: avg=0.00ms    min=0.00ms    med=0.00ms    max=0.00ms    p(90)=0.00ms    p(95)=0.00ms   \n    http_req_waiting..............: avg=2511.84ms min=896.25ms  med=2491.05ms max=5539.69ms p(90)=3823.73ms p(95)=4252.26ms\n    âœ— { endpoint:branches/all }...: avg=2464.21ms min=896.25ms  med=2444.90ms max=5202.09ms p(90)=3782.14ms p(95)=4201.49ms\n    âœ— { endpoint:branches }.......: avg=2559.51ms min=1004.63ms med=2541.78ms max=5539.69ms p(90)=3881.31ms p(95)=4352.26ms\n  âœ“ http_reqs.....................: 4108    68.466563/s\n    âœ“ { endpoint:branches/all }...: 2055    34.249948/s\n    âœ“ { endpoint:branches }.......: 2053    34.216615/s\n    iteration_duration............: avg=2624.84ms min=0.16ms    med=2601.19ms max=5567.93ms p(90)=3939.71ms p(95)=4409.15ms\n    iterations....................: 2049    34.149948/s\n  âœ“ successful_requests...........: 100.00% âœ“ 4098  âœ— 0    \n    vus...........................: 1       min=1   max=100\n    vus_max.......................: 100     min=100 max=100\n\n```\n\n`web_project_branches` test hits Gitaly significantly harder than before with all nodes jumping to around 75% in comparison with 20% for `gitlabhq`:\n\n![Screenshot_2020-03-18_at_21.34.46](/uploads/dc38999a0f4b4a06a51933b82d9490e2/Screenshot_2020-03-18_at_21.34.46.png)\n\nNote: The monorepo project was inflated with data via API. Not sure if the number of branches is reasonable and typical, but it's probably worth investigation.\n\n### Steps to reproduce\n\n1. Check out the [Performance Tool](https://gitlab.com/gitlab-org/quality/performance)\n1. Run the specific test with the `run-k6` command. For example against the 50k environment you would run this following from the project root: `./run-k6 -e environments/50k.json -o 60s_1000rps.json -t web_project_branches.js`. You will need an ACCESS_TOKEN for this endpoint as well.\n1. If you're seeking to run the test against your own environment the [Tool's documentation has details on how to achieve this](https://gitlab.com/gitlab-org/quality/performance/blob/master/docs/k6.md).\n1. If you're willing to run the test against large [`monorepo`](https://gitlab.com/gitlab-org/quality/performance-data/-/blob/master/projects_export/linux_export.tar.gz) - please use [`import rake task`](https://docs.gitlab.com/ee/development/import_project.html#importing-via-a-rake-task) to import the project unless https://gitlab.com/gitlab-org/gitlab/-/issues/208452 is closed.\n\n### What is the current *bug* behavior?\n\nThe results above show that the Branches page has a P90 of 692.84ms. This was tested on our 50k Reference Architecture with a RPS target of 1000/s. It targeted our own [`gitlabhq`](https://gitlab.com/gitlab-org/quality/performance-data#gitlab-performance-test-framework-data) project that has 2815 branches. More detailed specs: 800 Mb Files, 1.90 Gb Trees, 6.2 Gb Blobs, 150k commits, 7k issues, 3.6 MRs, 33 labels\n\n### What is the expected *correct* behavior?\n\nAs part of the [new performance targets](https://docs.gitlab.com/ee/development/contributing/issue_workflow.html#severity-labels) this endpoint is currently over our TTFB target and just falls into the ~S4 tier. Task is to improve the endpoint's performance to meet our performance target (\u003c500ms).","state":"closed","created_at":"2020-03-18T18:58:11.206Z","updated_at":"2021-02-24T14:26:48.213Z","closed_at":"2021-02-23T12:18:16.778Z","closed_by":{"id":4391348,"username":"sean_carroll","name":"Sean Carroll","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4391348/avatar.png","web_url":"https://gitlab.com/sean_carroll"},"labels":["Category:Source Code Management","Deliverable","Quality:performance-issues","backend","bug::performance","customer","devops::create","frontend","frontend-weight::1","group::source code","performance-refinement","priority::4","section::dev","severity::4","type::bug","workflow::verification"],"milestone":{"id":1233760,"iid":56,"group_id":9970,"title":"13.9","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.334Z","updated_at":"2022-04-21T07:21:28.468Z","due_date":"2021-02-17","start_date":"2021-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/56"},"assignees":[{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"},{"id":4017300,"username":"jboyson","name":"Justin Boyson","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4017300/avatar.png","web_url":"https://gitlab.com/jboyson"}],"author":{"id":4477602,"username":"niskhakova","name":"Nailia Iskhakova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477602/avatar.png","web_url":"https://gitlab.com/niskhakova"},"type":"ISSUE","assignee":{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"},"user_notes_count":29,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/211710","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/211710","notes":"https://gitlab.com/api/v4/projects/278964/issues/211710/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/211710/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#211710","relative":"#211710","full":"gitlab-org/gitlab#211710"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32147463,"iid":211707,"project_id":278964,"title":"Being both a CODEOWNER and reviewer results in MR not showing in filter list","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nLet's say that I'm a CODEOWNER for Project A. If someone opens a Merge Request for that project *and* adds me as an approver through an approval rule on the merge request, that Merge Request won't show up in my list of merge requests. To get the list of Merge Requests where I'm an approver I use:\nhttps://gitlab.com/dashboard/merge_requests?scope=all\u0026utf8=%E2%9C%93\u0026state=opened\u0026approver_usernames[]=dcaixinha\n\nIf I get removed as an approver from that Merge Request (and stay just as a CODEOWNER) the MR appears on that same list.\n\n### Steps to reproduce\n\n- Open a Merge Request in Project A, where User X is a CODEOWNER\n- Add User X as an approver with approval rules on the Merge Request of Project A\n- Try to get the list of Merge Requests where User X is an approver with https://gitlab.com/dashboard/merge_requests?scope=all\u0026utf8=%E2%9C%93\u0026state=opened\u0026approver_usernames[]=\u003cuser_x_username\u003e\n- Check that the Merge Request doesn't show up on that list\n- Remove the user as an approver of Merge Request in Project A\n- Check that the Merge Request now appears on the list of User X https://gitlab.com/dashboard/merge_requests?scope=all\u0026utf8=%E2%9C%93\u0026state=opened\u0026approver_usernames[]=\u003cuser_x_username\u003e\n\n### Example Project\n\nCan't run on GitLab.com as I need access to Merge Request Approvals (and I only have that on my work paid plan).\n\n### What is the current *bug* behavior?\n\nMerge Request isn't showing up on the list.\n\n### What is the expected *correct* behavior?\n\nMerge Request showing up on the list.\n\n### Relevant logs and/or screenshots\n\nCan't take as I can't reproduce this on GitLab.com (due to free plan limitations â€“ this however happens at my work plan).\n\n### Output of checks\n\nCan't take as I can't reproduce this on GitLab.com (due to free plan limitations â€“ this however happens at my work plan).\n\n### Possible fixes\n\nDon't know.\n\nThis is happening running GitLab 12.7 self-hosted.","state":"closed","created_at":"2020-03-18T18:48:42.240Z","updated_at":"2022-05-16T03:04:39.044Z","closed_at":"2022-05-16T03:04:39.030Z","closed_by":{"id":1786152,"username":"gitlab-bot","name":"ðŸ¤– GitLab Bot ðŸ¤–","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1786152/avatar.png","web_url":"https://gitlab.com/gitlab-bot"},"labels":["Category:Source Code Management","[deprecated] Accepting merge requests","[deprecated] ðŸŽ","auto closed","devops::create","good for new contributors","group::source code","missed:12.10","missed:13.0","priority::3","section::dev","severity::4","stale","type::bug","vintage"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":2473226,"username":"dcaixinha","name":"Daniel Caixinha","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2473226/avatar.png","web_url":"https://gitlab.com/dcaixinha"},"type":"ISSUE","assignee":null,"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/211707","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/211707","notes":"https://gitlab.com/api/v4/projects/278964/issues/211707/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/211707/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#211707","relative":"#211707","full":"gitlab-org/gitlab#211707"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5886,"epic":{"id":260137,"iid":5886,"title":"Code Owners","url":"/groups/gitlab-org/-/epics/5886","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":32144277,"iid":211692,"project_id":278964,"title":"Re-use the \"edit release\" form for Release creation","description":"### Problem to solve\n\n\u003c!-- What problem do we solve? --\u003e\n\nOnce we implement a single edit release interface https://gitlab.com/gitlab-org/gitlab/issues/208952, we will want to reuse that creation of release. \n\n### Intended users\n\n\u003c!-- Who will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops)\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/ --\u003e\n\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager)\n\n### Further details\n\n\u003c!-- Include use cases, benefits, and/or goals (contributes to our vision?) --\u003e\n\nThis will enable a user to leverage the same fields in the `Edit Release` form to also create. \n\n### Proposal\n\n\u003c!-- How are we going to solve the problem? Try to include the user journey! https://about.gitlab.com/handbook/journeys/#user-journey --\u003e\n\n\u003e As a Release Manager, I want to create and edit Releases using a similar interface.\n\n#### Acceptance criteria\n\n* This new \"create\" form would be exposed in two places - `tag / new tag` **and** `release / new release`.\n* Similarly, the page title would change to read \"New Tag\" or \"New Release\" to match the breadcrumb.\n* The button label to create the item should be updated: `Create tag` and `Create release`.\n\n#### Out of scope\n\n* Expand/collapse of form UI\n* Updates to the Tags form UI\n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html\nAdd all known Documentation Requirements here, per https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements\nIf this feature requires changing permissions, this document https://docs.gitlab.com/ee/user/permissions.html must be updated accordingly. --\u003e\n\n- We will need to update the release creation and editing screen shots and instructions \n\nPlace to edit: https://docs.gitlab.com/ee/user/project/releases/#creating-a-release \n\n### What does success look like, and how can we measure that?\n\n\u003c!-- Define both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. --\u003e\n\n- We need to be able to measure how many users are creating releases from the UI vs API \n\n### What is the type of buyer?\n\n\u003c!-- Which leads to: in which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#four-tiers --\u003e\n\nCommunity/Core","state":"closed","created_at":"2020-03-18T17:15:31.571Z","updated_at":"2021-04-03T08:39:34.537Z","closed_at":"2020-04-13T17:54:16.255Z","closed_by":{"id":4905402,"username":"jreporter","name":"Jackie Porter","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4905402/avatar.png","web_url":"https://gitlab.com/jreporter"},"labels":["Category:Release Orchestration","UX","devops::release","feature::enhancement","frontend","type::feature"],"milestone":null,"assignees":[{"id":3079878,"username":"rayana","name":"Rayana Verissimo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3079878/avatar.png","web_url":"https://gitlab.com/rayana"}],"author":{"id":4905402,"username":"jreporter","name":"Jackie Porter","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4905402/avatar.png","web_url":"https://gitlab.com/jreporter"},"type":"ISSUE","assignee":{"id":3079878,"username":"rayana","name":"Rayana Verissimo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3079878/avatar.png","web_url":"https://gitlab.com/rayana"},"user_notes_count":15,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/211692","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/211692","notes":"https://gitlab.com/api/v4/projects/278964/issues/211692/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/211692/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#211692","relative":"#211692","full":"gitlab-org/gitlab#211692"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2711,"epic":{"id":23427,"iid":2711,"title":"Support all Release data on the \"New/Edit Release\" page","url":"/groups/gitlab-org/-/epics/2711","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":32143137,"iid":211688,"project_id":278964,"title":"Gradle: Detect software licenses for dependencies sourced from a custom repository","description":"### Problem to solve\n\nI would like the `license_scanning` job to detect software licenses associated with dependencies in a project that are sourced from custom repositories.\n\n### Intended users\n\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n\n### Further details\n\nCustom gradle options can be forwarded to the `LicenseFinder` tool via a `--gradle-command` option.\n\n\n### Proposal\n\n* [x] Capture `GRADLE_CLI_OPTS` and forward them to `LicenseFinder` via the `--gradle-command` option.\n* [x] Update documentation to describe how to forward custom options to gradle to be able to connect to custom sources.\n\n### Permissions and Security\n\nTBD\n\n### Documentation\n\nWe will need to document how to forward custom options to gradle to be able to connect to custom sources. Provide example `.gitlab-ci.yml` files with different ways to configure `gradle`.\n\n\n### Availability \u0026 Testing\n\n* [x] Add an integration test to verify that `GRADLE_CLI_OPTS` are captured and forwarded to `LicenseFinder` correctly.\n\n### What does success look like, and how can we measure that?\n\nThe `license_scanning` job is able to identify software licenses of dependencies that are sourced from custom gradle repositories.\n\n### What is the type of buyer?\n\nTBD\n\n### Is this a cross-stage feature?\n\nNo\n\n### Links / references\n\n* [declaring repositories](https://docs.gradle.org/current/userguide/declaring_repositories.html#sec:repository-types)\n\n/label ~feature","state":"closed","created_at":"2020-03-18T16:39:52.448Z","updated_at":"2020-06-09T12:26:14.943Z","closed_at":"2020-05-04T20:18:21.552Z","closed_by":{"id":971158,"username":"xlgmokha","name":"mo khan","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cc8d289bc1a24067f9af4f92452f4fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/xlgmokha"},"labels":["Category:License Compliance","backend","devops::secure","group::composition analysis","quad-planning::complete-no-action","type::feature"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":971158,"username":"xlgmokha","name":"mo khan","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cc8d289bc1a24067f9af4f92452f4fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/xlgmokha"}],"author":{"id":971158,"username":"xlgmokha","name":"mo khan","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cc8d289bc1a24067f9af4f92452f4fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/xlgmokha"},"type":"ISSUE","assignee":{"id":971158,"username":"xlgmokha","name":"mo khan","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cc8d289bc1a24067f9af4f92452f4fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/xlgmokha"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/211688","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/211688","notes":"https://gitlab.com/api/v4/projects/278964/issues/211688/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/211688/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#211688","relative":"#211688","full":"gitlab-org/gitlab#211688"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2933,"epic":{"id":33491,"iid":2933,"title":"Gradle Java air-gapped (offline) License Compliance","url":"/groups/gitlab-org/-/epics/2933","group_id":9970,"human_readable_end_date":"May 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":32142961,"iid":211686,"project_id":278964,"title":"Move Web Terminal File Sync to Core","description":"### Overview\n\nAs part of an [effort to open source](https://gitlab.com/groups/gitlab-com/packaging-and-pricing/-/epics/1) some currently paid features and move them to our free tier the Web Terminal File Sync for Web IDE has been identified as a feature worth moving down.\n\n### Proposal\n\nThe Web Terminal File Sync for Web IDE should be moved to core. This requires the removal of any licensing checks for the feature which is currently in the Ultimate tier.\n\n### Documentation\n\nDocumentation for this feature should be updated to reflect that this is no longer in a paid tier. However, the feature is not available to all users as it still requires specific runners for use of the feature.","state":"closed","created_at":"2020-03-18T16:33:15.145Z","updated_at":"2020-06-10T05:40:30.651Z","closed_at":"2020-06-10T05:40:30.134Z","closed_by":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier LÃ³pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"labels":["Category:Web IDE","Enterprise Edition","GitLab Core","Stretch","backend","devops::create","documentation","frontend","group::editor","quad-planning::complete-no-action"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":955795,"username":"fjsanpedro","name":"Francisco Javier LÃ³pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},{"id":2398164,"username":"himkp","name":"Himanshu Kapoor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2398164/avatar.png","web_url":"https://gitlab.com/himkp"}],"author":{"id":2935693,"username":"phikai","name":"Kai Armstrong","state":"active","avatar_url":"https://secure.gravatar.com/avatar/2c5d6a63b41cbeb3ea4cccda82e758e1?s=80\u0026d=identicon","web_url":"https://gitlab.com/phikai"},"type":"ISSUE","assignee":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier LÃ³pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"user_notes_count":5,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/211686","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/211686","notes":"https://gitlab.com/api/v4/projects/278964/issues/211686/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/211686/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#211686","relative":"#211686","full":"gitlab-org/gitlab#211686"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32142929,"iid":211685,"project_id":278964,"title":"Move Web Terminal for Web IDE to Core","description":"### Overview\n\nAs part of an [effort to open source](https://gitlab.com/groups/gitlab-com/packaging-and-pricing/-/epics/1) some currently paid features and move them to our free tier the Web Terminal for Web IDE has been identified as a feature worth moving down.\n\n### Proposal\n\nThe Web Terminal for Web IDE should be moved to core. This requires the removal of any licensing checks for the feature which is currently in the Ultimate tier.\n\n### Documentation\n\nDocumentation for this feature should be updated to reflect that this is no longer in a paid tier. However, the feature is not available to all users as it still requires specific runners for use of the feature.\n\n### Testing Activity\n\n* Check web terminal works on Core (@lulalala)\n* We can reuse the existing specs (@fjsanpedro)\n\n### Availability and Testing\nEnd-to-end test for Web Terminal is required. As of now, we only have `web_terminal_spec.rb` (EE only) that is permanently quarantined due to https://gitlab.com/gitlab-org/gitlab/issues/13833. We should investigate if refactoring of the old test is an option or a new test needs to be created.","state":"closed","created_at":"2020-03-18T16:32:10.115Z","updated_at":"2022-03-03T20:26:44.537Z","closed_at":"2020-06-10T05:40:28.250Z","closed_by":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier LÃ³pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"labels":["Category:Web IDE","Deliverable","Enterprise Edition","GitLab Core","backend","devops::create","documentation","frontend","group::editor","quad-planning::complete-action"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":955795,"username":"fjsanpedro","name":"Francisco Javier LÃ³pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},{"id":2398164,"username":"himkp","name":"Himanshu Kapoor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2398164/avatar.png","web_url":"https://gitlab.com/himkp"}],"author":{"id":2935693,"username":"phikai","name":"Kai Armstrong","state":"active","avatar_url":"https://secure.gravatar.com/avatar/2c5d6a63b41cbeb3ea4cccda82e758e1?s=80\u0026d=identicon","web_url":"https://gitlab.com/phikai"},"type":"ISSUE","assignee":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier LÃ³pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"user_notes_count":25,"merge_requests_count":0,"upvotes":5,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/211685","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/211685","notes":"https://gitlab.com/api/v4/projects/278964/issues/211685/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/211685/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#211685","relative":"#211685","full":"gitlab-org/gitlab#211685"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32141167,"iid":211679,"project_id":278964,"title":"Break `repository/index` coupling to `initBlob`","description":"## Description\n\nThe module which sets up the Vue file list has some implicit coupling to some modules of `initBlob` being called. Specifically, the dropzone for uploading new files was never initialized. This is very indirect and hard to maintain.\n\n## Proposal\n\n- Ideally we can set up the dropzone in the component that needs it (and even move our file upload modal to Vue).\n- If this is unfeasible, then maybe we can move the dropzone setup to `repository/index.js`\n\n## Context\n\nThe following discussion from !26828 should be addressed:\n\n- [ ] @pslaughter started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/26828#note_307191450): \n\n    \u003e **note:** The reason this was no longer being loaded is because the `#tree-slider` is not being rendered now that the `vue_file_list_enabled` is on.\n    \u003e \n    \u003e https://gitlab.com/gitlab-org/gitlab/blob/74fb4a1a226c8a68b8c76646383831945e935d5a/app/views/projects/_files.html.haml#L22\n\n## Detail update\n\nFrom discussion with @pslaughter \n\n\u003e Basically, we're trying to remove `initBlob` from `app/assets/javascripts/pages/projects/show/index.js` since only a small piece is actually needed. In particular probably just the `uploadBlobForm` piece.\n\u003e \n\u003e @jboyson","state":"closed","created_at":"2020-03-18T15:43:39.409Z","updated_at":"2020-12-21T17:53:28.553Z","closed_at":"2020-12-21T17:53:27.829Z","closed_by":{"id":853414,"username":"andr3","name":"AndrÃ© LuÃ­s","state":"active","avatar_url":"https://secure.gravatar.com/avatar/241e39726efb512a29621070ccf26a90?s=80\u0026d=identicon","web_url":"https://gitlab.com/andr3"},"labels":["Category:Source Code Management","Deliverable","devops::create","frontend","group::source code","maintenance::refactor","section::dev","workflow::canary"],"milestone":{"id":1233757,"iid":54,"group_id":9970,"title":"13.7","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:43:14.893Z","updated_at":"2022-04-13T14:51:12.240Z","due_date":"2020-12-17","start_date":"2020-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/54"},"assignees":[{"id":4017300,"username":"jboyson","name":"Justin Boyson","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4017300/avatar.png","web_url":"https://gitlab.com/jboyson"}],"author":{"id":2233420,"username":"pslaughter","name":"Paul Slaughter","state":"active","avatar_url":"https://secure.gravatar.com/avatar/631b25421eb206ab44cb2793ef09d881?s=80\u0026d=identicon","web_url":"https://gitlab.com/pslaughter"},"type":"ISSUE","assignee":{"id":4017300,"username":"jboyson","name":"Justin Boyson","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4017300/avatar.png","web_url":"https://gitlab.com/jboyson"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/211679","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/211679","notes":"https://gitlab.com/api/v4/projects/278964/issues/211679/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/211679/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#211679","relative":"#211679","full":"gitlab-org/gitlab#211679"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32140006,"iid":211672,"project_id":278964,"title":"Geo: maintenance mode design MVC","description":"Maintenance mode the first iteration might include the read-only mode for the users.\n\n## Proposed design\n\n- Admin area \u003e Settings\n\n\n![Iteration1_-_settings](/uploads/7505182662c9aa3d2fa4faa37c2c36db/Iteration1_-_settings.png)\n\n- Admin area \u003e Settings \u003e Maintenance mode\n\n![Iteration1_-_main_page](/uploads/a6302b77665f3a7ae2a1827e32dc4190/Iteration1_-_main_page.png)\n\n- [Spec](https://gitlab-org.gitlab.io/gitlab-design/hosted/sunjung/%23211672-maintenance-mode-first/#artboard1)\n\n## Reference\n\n- [Toggle](https://gitlab-org.gitlab.io/gitlab-ui/?path=/story/base-toggle--default)\n\n","state":"closed","created_at":"2020-03-18T15:21:38.388Z","updated_at":"2020-09-28T08:20:28.672Z","closed_at":"2020-03-30T16:08:59.641Z","closed_by":{"id":262533,"username":"afontaine","name":"Andrew Fontaine","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/262533/avatar.png","web_url":"https://gitlab.com/afontaine"},"labels":["Technical Writing","UI text","UX","devops::systems","frontend","workflow::in review"],"milestone":null,"assignees":[{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"}],"author":{"id":4903414,"username":"sunjungp","name":"Sunjung Park","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a2c072c26031ffd81b676b43eeb7b781?s=80\u0026d=identicon","web_url":"https://gitlab.com/sunjungp"},"type":"ISSUE","assignee":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"user_notes_count":13,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/211672","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/211672","notes":"https://gitlab.com/api/v4/projects/278964/issues/211672/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/211672/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#211672","relative":"#211672","full":"gitlab-org/gitlab#211672"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2149,"epic":{"id":14636,"iid":2149,"title":"Geo: Create a read-only mode (maintenance mode)","url":"/groups/gitlab-org/-/epics/2149","group_id":9970,"human_readable_end_date":"Feb 21, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":32139550,"iid":211671,"project_id":278964,"title":"JSON upgrades and optimisations","description":"There are various improvements we can make to our JSON handling. These are the currently planned steps:\n\n1. [x] Introduce cop for JSON wrapper, disabled\n2. [x] Add JSON wrapper\n3. ~~Enable cop but not for old code~~ Cancelled because it's the same number of changes as autocorrecting\n4. [x] Multiple smaller MRs to update all existing usage to use wrapper\n5. [x] Enable cop for everything (requires an issue for discussion first)\n6. [x] Update wrapper to handle old way of parsing JSON\n7. [x] Upgrade `json` gem from `1.8.6` to `2.3.0`\n\nI'll be linking the MRs to this issue.\n\n## Relevant feature flags\n\n`:json_wrapper_legacy_mode, default_enabled: true`","state":"closed","created_at":"2020-03-18T15:09:05.908Z","updated_at":"2020-05-21T04:12:08.754Z","closed_at":"2020-05-20T18:44:16.322Z","closed_by":{"id":4554599,"username":"m_gill","name":"Michelle Gill","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4554599/avatar.png","web_url":"https://gitlab.com/m_gill"},"labels":["Deliverable","backend","backstage [DEPRECATED]","bug::performance","devops::create","group::source code","workflow::verification"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":2167502,"username":"robotmay_gitlab","name":"Robert May","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2167502/avatar.png","web_url":"https://gitlab.com/robotmay_gitlab"}],"author":{"id":2167502,"username":"robotmay_gitlab","name":"Robert May","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2167502/avatar.png","web_url":"https://gitlab.com/robotmay_gitlab"},"type":"ISSUE","assignee":{"id":2167502,"username":"robotmay_gitlab","name":"Robert May","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2167502/avatar.png","web_url":"https://gitlab.com/robotmay_gitlab"},"user_notes_count":9,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/211671","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":6},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"6 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/211671","notes":"https://gitlab.com/api/v4/projects/278964/issues/211671/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/211671/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#211671","relative":"#211671","full":"gitlab-org/gitlab#211671"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3026,"epic":{"id":38569,"iid":3026,"title":"ðŸš€ 500ms Response Times","url":"/groups/gitlab-org/-/epics/3026","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":"on_track"}]