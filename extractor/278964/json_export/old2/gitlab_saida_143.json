[{"id":32633838,"iid":212845,"project_id":278964,"title":"Investigate `master` canceled jobs","description":"Following https://gitlab.com/gitlab-org/gitlab/-/merge_requests/27611, it seems some `master` jobs are being canceled, e.g. https://gitlab.com/gitlab-org/gitlab/pipelines/130894307/failures.\n\nInterestingly, the pipeline status is `failed`, not `canceled`.","state":"closed","created_at":"2020-03-30T13:58:21.235Z","updated_at":"2020-04-07T18:29:16.106Z","closed_at":"2020-03-31T11:28:15.810Z","closed_by":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"labels":["Engineering Productivity","ci-build","ep::pipeline","needs investigation","severity::2","type::bug"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"}],"author":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"type":"ISSUE","assignee":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"user_notes_count":7,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212845","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212845","notes":"https://gitlab.com/api/v4/projects/278964/issues/212845/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212845/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212845","relative":"#212845","full":"gitlab-org/gitlab#212845"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32627618,"iid":212832,"project_id":278964,"title":"Remove enable milestones in roadmap Feature Flag","description":"## What\n\nRemove the `:milestones_in_roadmap` feature flag\n\n## Owners\n\n- Team: Plan stage\n- Most appropriate slack channel to reach out to: `#s_plan`\n- Best individual to reach out to: @felipe_artur @fguibert \n\n## Expectations\n\n### What are we expecting to happen?\n\n### What might happen if this goes wrong?\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n\n## Beta groups/projects\n\nIf applicable, any groups/projects that are happy to have this feature turned on early. Some organizations may wish to test big changes they are interested in with a small subset of users ahead of time for example.\n\n- `gitlab-org` group\n\n## Roll Out Steps\n\n- [x] Enable on staging\n- [x] Test on staging\n- [x] Ensure that documentation has been updated\n- [x] Enable on GitLab.com for individual groups/projects listed above and verify behaviour\n- [x] Coordinate a time to enable the flag with `#production` and `#g_delivery` on slack.\n- [x] Announce on the issue an estimated time this will be enabled on GitLab.com\n- [x] Enable on GitLab.com by running chatops command in `#production`\n- [x] Cross post chatops slack command to `#support_gitlab-com` and in your team channel\n- [x] Announce on the issue that the flag has been enabled\n- [x] Remove feature flag and add changelog entry\n- [x] After the flag removal is deployed, [clean up the feature flag](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) by running chatops command in `#production` channel","state":"closed","created_at":"2020-03-30T11:38:53.313Z","updated_at":"2021-11-08T17:02:21.092Z","closed_at":"2020-05-14T11:54:39.069Z","closed_by":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"labels":["Category:Portfolio Management","Enterprise Edition","GitLab Premium","GitLab Ultimate","backend","customer","devops::plan","docs::feature","frontend","group::product planning","missed:12.10","roadmaps","type::feature","workflow::solution validation"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"}],"author":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"type":"ISSUE","assignee":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"user_notes_count":14,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212832","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":11,"completed_count":11},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"11 of 11 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212832","notes":"https://gitlab.com/api/v4/projects/278964/issues/212832/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212832/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212832","relative":"#212832","full":"gitlab-org/gitlab#212832"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32626877,"iid":212830,"project_id":278964,"title":"Consolidate AuditEvent model to EE namespace","description":"The following discussion from !27785 should be addressed:\n\n- [ ] @patrickbajao started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/27785#note_313636989):  (+1 comment)\n\n    \u003e Should we add this to `ee/app/models/ee/audit_event.rb` instead since this is EE-only IIUC?\n    \u003e \n    \u003e Actually, looking at [the documentation](https://docs.gitlab.com/ee/administration/audit_events.html), it seems that audit event is an EE-only feature. Should we instead move the entire model to `ee/` instead?\n    \u003e \n    \u003e I do see the `AuditEvent` being used outside `ee/` directory though so maybe it's by design (or a technical debt).\n    \u003e \n    \u003e I think it's going to require more changes so I feel it's better to be done in a follow-up issue/MR. This may also be already known (I haven't found an issue though). WDYT? :thinking:","state":"closed","created_at":"2020-03-30T11:17:48.387Z","updated_at":"2020-12-15T20:16:50.286Z","closed_at":"2020-07-23T23:46:27.373Z","closed_by":{"id":398752,"username":"tancnle","name":"Tan Le","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/398752/avatar.png","web_url":"https://gitlab.com/tancnle"},"labels":["backend","devops::manage","group::compliance","type::maintenance"],"milestone":{"id":1233752,"iid":50,"group_id":9970,"title":"13.3","description":"https://about.gitlab.com/releases/2020/08/22/gitlab-13-3-released/","state":"closed","created_at":"2020-04-09T17:39:21.090Z","updated_at":"2022-04-13T14:50:18.976Z","due_date":"2020-08-17","start_date":"2020-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/50"},"assignees":[{"id":398752,"username":"tancnle","name":"Tan Le","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/398752/avatar.png","web_url":"https://gitlab.com/tancnle"}],"author":{"id":398752,"username":"tancnle","name":"Tan Le","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/398752/avatar.png","web_url":"https://gitlab.com/tancnle"},"type":"ISSUE","assignee":{"id":398752,"username":"tancnle","name":"Tan Le","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/398752/avatar.png","web_url":"https://gitlab.com/tancnle"},"user_notes_count":10,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212830","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212830","notes":"https://gitlab.com/api/v4/projects/278964/issues/212830/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212830/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212830","relative":"#212830","full":"gitlab-org/gitlab#212830"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32614688,"iid":212816,"project_id":278964,"title":"Container registry: missing elipsis on tag name","description":"### Problem\n\nCurrently, for very long tag names, the name can span two rows and the copy icon goes to a new line. This can create a jarring experience and disconnects the button's action from its context.\n\n![Screenshot_2020-03-30_at_9.35.44](/uploads/6dde38c7ee9d198a9cde628b16f9b2cf/Screenshot_2020-03-30_at_9.35.44.png)\n\n### Solution\n\nWe should fix this, have the tag name on a single line and add an elipsis if the name exceeds a dynamic width, ensuring there is always space for the copy button on the same line.","state":"closed","created_at":"2020-03-30T07:38:25.385Z","updated_at":"2020-05-12T08:15:50.026Z","closed_at":"2020-05-12T08:15:49.998Z","closed_by":{"id":4584738,"username":"nmezzopera","name":"Nicolò Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"},"labels":["Category:Container Registry","Package:P2","UX","[deprecated] Accepting merge requests","devops::package","frontend","group::package registry","priority::4","severity::4","type::bug","workflow::production"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":4584738,"username":"nmezzopera","name":"Nicolò Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"}],"author":{"id":4584738,"username":"nmezzopera","name":"Nicolò Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"},"type":"ISSUE","assignee":{"id":4584738,"username":"nmezzopera","name":"Nicolò Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212816","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212816","notes":"https://gitlab.com/api/v4/projects/278964/issues/212816/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212816/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212816","relative":"#212816","full":"gitlab-org/gitlab#212816"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32594719,"iid":212775,"project_id":278964,"title":"No longer possible to edit Deploy Keys/Deploy Tokens without enabling Pipelines","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nFollowing the recent [move of Deploy Tokens to the CI/CD tab in Project Settings](#199370), it is no longer possible to create or edit deploy keys or deploy tokens without enabling Pipelines.\n\n### Steps to reproduce\n\nOn Gitlab 12.9 or later, create a project, disable pipelines in \"visibility settings\". \n\n### Example Project\n\nNot useful in context; you have to own the project to reproduce. The screenshot below was generated from drmoose/wiki-files-issue-example\n\n### What is the current *bug* behavior?\n\nThe \"CI/CD\" tab in project settings disappears. Deploy Keys / Deploy Tokens subsections of that tab are no longer reachable from the UI.\n\n\n### What is the expected *correct* behavior?\n\nI'm not sure what makes the most sense from a UI perspective. Some possibilities:\n- When Pipelines is off, the Deploy Tokens and Deploy Keys sections appear under \"Repository\" where they were before (this seems like it'd just be confusing and inconsistent)\n- When Pipelines is off, CI/CD still shows in \"Settings\" but the other subsections are hidden\n\n\n### Relevant logs and/or screenshots\n\n![image](/uploads/efbe8366f01b5013105ed22e6254f9d8/image.png)\n\n\n### Output of checks\n\nGitlab.com\n\n### Possible fixes\n\nThe merge request that introduced this behavior is !25444. The easiest fix would be to just revert that, but I'm sure you had a reason for doing it.\n\n#### Workaround\n\n *leave* Pipelines \"on\" or just have to turn it on long enough to enable the UI element, make changes, and then turn it off again. The changes will stick.","state":"closed","created_at":"2020-03-29T15:26:16.546Z","updated_at":"2021-02-19T09:38:40.414Z","closed_at":"2020-05-15T19:36:12.603Z","closed_by":{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"labels":["Category:Continuous Delivery","UX","cicd::active","devops::release","group::release","missed:12.10","priority::3","regression","regression:12.9","severity::3","type::bug","workflow::in review"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"}],"author":{"id":591698,"username":"drmoose","name":"Dan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/591698/avatar.png","web_url":"https://gitlab.com/drmoose"},"type":"ISSUE","assignee":{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"user_notes_count":24,"merge_requests_count":1,"upvotes":7,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212775","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212775","notes":"https://gitlab.com/api/v4/projects/278964/issues/212775/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212775/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212775","relative":"#212775","full":"gitlab-org/gitlab#212775"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32582939,"iid":212763,"project_id":278964,"title":"Web UI shows deleted commits and contents.","description":"reopen or port #49480 from GitLab-foss https://gitlab.com/gitlab-org/gitlab-foss/issues/49480#\n\nstill a problem, today.\n\n## Ported: Web UI shows deleted commits and contents.\n\n### Summary\n\nDeleted commits still show in user profiles, including the diffs/contents of the commit.\n\n### Steps to reproduce\n\nPush commits to a repository.\nUse git reset or rebase to delete some commits and push - ensure git log and Commits page on project show that the targeted commits have been deleted.\nGo to the user's (who pushed the commits) profile.\nThe deleted commit should still show on their profile history. Clicking on that commit should open a page with all of the commit details.\n\n### Example Project\n\nhttps://gitlab.com/services-support-testing/gitstuff\n\n### What is the current bug behavior?\n\nDeleted commits can still be seen on web UI.\n\n### What is the expected correct behavior?\n\nDeleted commits should be removed entirely as these are often deleted to remove sensitive information that was accidentally pushed.\n\n### Relevant logs and/or screenshots\n\n\u003cp\u003e\n\u003cdetails\u003e\n\u003csummary\u003eGit log\u003c/summary\u003e\n![Git log](/uploads/eedfa8aa4cca6cc9b290932f53696b57/image.png)\n\u003c/details\u003e\n\u003c/p\u003e\n\n\u003cp\u003e\n\u003cdetails\u003e\n\u003csummary\u003eProfile history\u003c/summary\u003e\n![Profile history](/uploads/82fb536cd8eea92d73b979eb7f525831/image.png)\n\u003c/details\u003e\n\u003c/p\u003e\n\n\u003cp\u003e\n\u003cdetails\u003e\n\u003csummary\u003eDeleted commit contents\u003c/summary\u003e\n![Deleted commit contents](/uploads/52cf52c7f116d99976c22ffcc3a2e4f9/image.png)\n\u003c/details\u003e\n\u003c/p\u003e\n\n### Output of checks\n\nThis bug happens on GitLab.com\n\n`GitLab Enterprise Edition 11.1.0-ee 9a9f41d`\n\n### Possible fixes\n\n(If you can, link to the line of code that might be responsible for the problem)","state":"closed","created_at":"2020-03-29T02:32:55.371Z","updated_at":"2022-11-15T13:10:32.864Z","closed_at":"2022-10-18T10:55:40.119Z","closed_by":{"id":4391348,"username":"sean_carroll","name":"Sean Carroll","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4391348/avatar.png","web_url":"https://gitlab.com/sean_carroll"},"labels":["Category:Source Code Management","Deliverable","approaching-SLO","backend","customer","devops::create","group::source code","missed-SLO","priority::2","section::dev","security-backlog::reclassified","severity::2","type::bug","workflow::in review"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":4711480,"username":"SheepReaper","name":"Bryan Gonzalez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8b2d785c0c7b106a395ef6798d9af079?s=80\u0026d=identicon","web_url":"https://gitlab.com/SheepReaper"},"type":"ISSUE","assignee":null,"user_notes_count":79,"merge_requests_count":0,"upvotes":37,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212763","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212763","notes":"https://gitlab.com/api/v4/projects/278964/issues/212763/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212763/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212763","relative":"#212763","full":"gitlab-org/gitlab#212763"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32555950,"iid":212725,"project_id":278964,"title":"Remove previous job definitions from Code Quality documentation","description":"\u003c!--\n\n* Use this issue template for suggesting new docs or updates to existing docs.\n  Note: Doc work as part of feature development is covered in the Feature Request template.\n\n* For issues related to features of the docs.gitlab.com site, see\n     https://gitlab.com/gitlab-org/gitlab-docs/issues/\n\n* For information about documentation content and process, see\n     https://docs.gitlab.com/ee/development/documentation/ --\u003e\n\n### Problem to solve\n\nThere are a lot of examples in the [Code Quality documentation](https://docs.gitlab.com/ee/user/project/merge_requests/code_quality.html#previous-job-definitions) of job definitions that we would like to deprecate and do not want people to use.\n\n### Proposal\n\nWe should remove all but the most preferred method for implementing code quality from the documentation.\n\n### Who can address the issue\nA backend engineer from ~\"group::testing\" who is knowledgeable about the best way to use the Code Quality feature in GitLab.\nAnyone else with a good handle on the Code Quality Feature in GitLab.\n### Other links/references\n\n\u003c!-- E.g. related GitLab issues/MRs --\u003e","state":"closed","created_at":"2020-03-27T21:04:08.532Z","updated_at":"2020-07-31T18:02:17.393Z","closed_at":"2020-07-31T18:02:17.344Z","closed_by":{"id":4061070,"username":"rickywiens","name":"Ricky Wiens","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4061070/avatar.png","web_url":"https://gitlab.com/rickywiens"},"labels":["Category:Code Quality","Technical Writing","devops::verify","docs-only","documentation","group::pipeline insights","workflow::production"],"milestone":{"id":1233752,"iid":50,"group_id":9970,"title":"13.3","description":"https://about.gitlab.com/releases/2020/08/22/gitlab-13-3-released/","state":"closed","created_at":"2020-04-09T17:39:21.090Z","updated_at":"2022-04-13T14:50:18.976Z","due_date":"2020-08-17","start_date":"2020-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/50"},"assignees":[{"id":4061070,"username":"rickywiens","name":"Ricky Wiens","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4061070/avatar.png","web_url":"https://gitlab.com/rickywiens"}],"author":{"id":4061070,"username":"rickywiens","name":"Ricky Wiens","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4061070/avatar.png","web_url":"https://gitlab.com/rickywiens"},"type":"ISSUE","assignee":{"id":4061070,"username":"rickywiens","name":"Ricky Wiens","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4061070/avatar.png","web_url":"https://gitlab.com/rickywiens"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212725","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212725","notes":"https://gitlab.com/api/v4/projects/278964/issues/212725/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212725/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212725","relative":"#212725","full":"gitlab-org/gitlab#212725"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32555399,"iid":212721,"project_id":278964,"title":"Allow SCIM to create an identity for an existing user","description":"With the new SCIM identity implementation there's a gap that we need to figure out how to handle. That is, when a user already exists on the instance, but does not yet have a SCIM Identity, how do we create one? \n\nI believe there's some level of risk if we allow creating a SCIM identity for just any user. So probably we can see if there's a SAML identity for the user for the same group, and if so, create a SCIM identity. \n\nThis should probably happen on the SCIM Create endpoint. And match based on email address?","state":"closed","created_at":"2020-03-27T20:31:10.090Z","updated_at":"2020-06-04T09:17:50.781Z","closed_at":"2020-04-14T09:59:28.476Z","closed_by":{"id":171554,"username":"reprazent","name":"Bob Van Landuyt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/171554/avatar.png","web_url":"https://gitlab.com/reprazent"},"labels":["Category:Authentication and Authorization","backend","devops::manage","group::authentication and authorization","scim","type::bug","workflow::in review"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":13356,"username":"dblessing","name":"Drew Blessing","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b5bf44866b4eeafa2d8114bfe15da02f?s=80\u0026d=identicon","web_url":"https://gitlab.com/dblessing"}],"author":{"id":13356,"username":"dblessing","name":"Drew Blessing","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b5bf44866b4eeafa2d8114bfe15da02f?s=80\u0026d=identicon","web_url":"https://gitlab.com/dblessing"},"type":"ISSUE","assignee":{"id":13356,"username":"dblessing","name":"Drew Blessing","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b5bf44866b4eeafa2d8114bfe15da02f?s=80\u0026d=identicon","web_url":"https://gitlab.com/dblessing"},"user_notes_count":4,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212721","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212721","notes":"https://gitlab.com/api/v4/projects/278964/issues/212721/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212721/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212721","relative":"#212721","full":"gitlab-org/gitlab#212721"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32554510,"iid":212720,"project_id":278964,"title":"Geo - Make Registry tables as SSOT for Designs","description":"","state":"closed","created_at":"2020-03-27T19:54:03.922Z","updated_at":"2020-07-21T16:26:14.929Z","closed_at":"2020-07-15T07:07:58.633Z","closed_by":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"labels":["Deliverable","devops::systems","group::geo","missed-deliverable","missed:13.1","workflow::in review"],"milestone":{"id":1233746,"iid":49,"group_id":9970,"title":"13.2","description":"https://about.gitlab.com/releases/2020/07/22/gitlab-13-2-released/","state":"closed","created_at":"2020-04-09T17:28:01.032Z","updated_at":"2022-04-13T14:48:24.167Z","due_date":"2020-07-17","start_date":"2020-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/49"},"assignees":[{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"}],"author":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"type":"ISSUE","assignee":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212720","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212720","notes":"https://gitlab.com/api/v4/projects/278964/issues/212720/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212720/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212720","relative":"#212720","full":"gitlab-org/gitlab#212720"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2851,"epic":{"id":29462,"iid":2851,"title":"Geo: Improve Geo scalability by simplifying backfill operations","url":"/groups/gitlab-org/-/epics/2851","group_id":9970,"human_readable_end_date":"Jul 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":32554497,"iid":212719,"project_id":278964,"title":"Geo - Make RegistryConsistencyWorker clean up project registries","description":"For more information see https://gitlab.com/gitlab-org/gitlab/-/issues/204797","state":"closed","created_at":"2020-03-27T19:53:24.487Z","updated_at":"2021-06-10T21:42:25.228Z","closed_at":"2020-06-19T17:03:03.024Z","closed_by":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"labels":["[deprecated] Accepting merge requests","devops::systems","group::geo","missed:13.1"],"milestone":{"id":1233746,"iid":49,"group_id":9970,"title":"13.2","description":"https://about.gitlab.com/releases/2020/07/22/gitlab-13-2-released/","state":"closed","created_at":"2020-04-09T17:28:01.032Z","updated_at":"2022-04-13T14:48:24.167Z","due_date":"2020-07-17","start_date":"2020-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/49"},"assignees":[],"author":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212719","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212719","notes":"https://gitlab.com/api/v4/projects/278964/issues/212719/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212719/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212719","relative":"#212719","full":"gitlab-org/gitlab#212719"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32554231,"iid":212717,"project_id":278964,"title":"Geo - Make RegistryConsistencyWorker clean up upload registries","description":"For more information see https://gitlab.com/gitlab-org/gitlab/-/issues/204797","state":"closed","created_at":"2020-03-27T19:52:29.228Z","updated_at":"2020-06-15T22:26:03.358Z","closed_at":"2020-06-05T12:48:30.599Z","closed_by":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"labels":["devops::systems","group::geo"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"}],"author":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"type":"ISSUE","assignee":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212717","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212717","notes":"https://gitlab.com/api/v4/projects/278964/issues/212717/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212717/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212717","relative":"#212717","full":"gitlab-org/gitlab#212717"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2851,"epic":{"id":29462,"iid":2851,"title":"Geo: Improve Geo scalability by simplifying backfill operations","url":"/groups/gitlab-org/-/epics/2851","group_id":9970,"human_readable_end_date":"Jul 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":32554180,"iid":212716,"project_id":278964,"title":"Geo - Make RegistryConsistencyWorker clean up job artifacs registries","description":"For more information see https://gitlab.com/gitlab-org/gitlab/-/issues/20479","state":"closed","created_at":"2020-03-27T19:51:09.521Z","updated_at":"2020-06-10T10:39:22.510Z","closed_at":"2020-06-05T12:48:42.044Z","closed_by":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"labels":["devops::systems","group::geo"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"}],"author":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"type":"ISSUE","assignee":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212716","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212716","notes":"https://gitlab.com/api/v4/projects/278964/issues/212716/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212716/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212716","relative":"#212716","full":"gitlab-org/gitlab#212716"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2851,"epic":{"id":29462,"iid":2851,"title":"Geo: Improve Geo scalability by simplifying backfill operations","url":"/groups/gitlab-org/-/epics/2851","group_id":9970,"human_readable_end_date":"Jul 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":32549068,"iid":212704,"project_id":278964,"title":"GraphQL query error when JiraImport.jiraProjectKey is null","description":"### What is the bug?\n\nWhen JiraImport.jiraProjectKey in the backend is null, doing a GraphQL query for field `jiraImports` produces a response with an error `Cannot return null for non-nullable field JiraImport.jiraProjectKey`\n\n### Steps to reproduce\n\n1. Go to the import Jira page of a project, e.g. http://localhost:3000/gitlab-org/gitlab-test/-/import/jira (make sure Jira integration has been activated for the project)\n1. The dropdown was empty (not populated with anything) but clicked Import anyway\n1. It now says `Import in progress` with a flash saying `Import scheduled`\n1. Make GraphQL query:\n```\nquery {\n  project(fullPath: \"gitlab-org/gitlab-test\") {\n    jiraImports {\n      nodes {\n        jiraProjectKey\n        scheduledAt\n        scheduledBy {\n          username\n        }\n      }\n    }\n  }\n}\n```\n1. Get the following error:\n```\n{\n  data: {\n    project: {\n      jiraImports: { \n        nodes: [\n          null\n        ], \n        __typename: 'JiraImportConnection'\n      },\n      __typename: 'Project',\n    },\n  },\n  errors: [{ \n    message: 'Cannot return null for non-nullable field JiraImport.jiraProjectKey'\n  }],\n}\n```","state":"closed","created_at":"2020-03-27T16:48:20.172Z","updated_at":"2021-01-21T14:10:29.286Z","closed_at":"2020-04-10T14:32:59.124Z","closed_by":{"id":3483274,"username":"acroitor","name":"Alexandru Croitor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/461378ef52c26eec55e6c15ec09bb9ed?s=80\u0026d=identicon","web_url":"https://gitlab.com/acroitor"},"labels":["Category:Jira Importer","backend","devops::plan","group::project management","type::bug","workflow::production"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":508743,"username":"jarka","name":"Jarka Košanová","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"}],"author":{"id":4545397,"username":"cngo","name":"Coung Ngo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4545397/avatar.png","web_url":"https://gitlab.com/cngo"},"type":"ISSUE","assignee":{"id":508743,"username":"jarka","name":"Jarka Košanová","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212704","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212704","notes":"https://gitlab.com/api/v4/projects/278964/issues/212704/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212704/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212704","relative":"#212704","full":"gitlab-org/gitlab#212704"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2766,"epic":{"id":26382,"iid":2766,"title":"Import Jira Issues MVC","url":"/groups/gitlab-org/-/epics/2766","group_id":9970,"human_readable_end_date":"May 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":32548848,"iid":212703,"project_id":278964,"title":"Wiki events for update and delete do not have icons","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nWiki events in activity streams do not have icons when their `action` is `Event::UPDATED` or `Event::DESTROYED`. See:\n\n![1585326568](/uploads/dd15c4bfb55f6ca54d9d7f518f8022b3/1585326568.png)\n\nThis is pretty minor, but we should probably have ~UX let us know what this should look like.\n\n### Steps to reproduce\n\nUpdate/delete wiki pages, then view the activity stream\n\n### Example Project\n\nhttps://staging.gitlab.com/alexkalderimis/wiki-events-test/activity\n\n### Proposal\n\nFor delete events, we will use the Trash can icon:\n\n![Screen_Shot_2020-04-16_at_9.10.56_AM](/uploads/320e48427ef290fb656611771af8452c/Screen_Shot_2020-04-16_at_9.10.56_AM.png)\n* svg class=\"s14\"\n* URL: https://gitlab.com/gitlab-org/gitlab-svgs/-/blob/master/sprite_icons/remove.svg\n* color: rgb(112,112,112)\n\nFor update events, we will use the Pencil icon:\n\n![Screen_Shot_2020-04-16_at_9.15.51_AM](/uploads/f2d4cfe0c65ac212aea0aec8191a9996/Screen_Shot_2020-04-16_at_9.15.51_AM.png)\n* svg class=\"s14\"\n* URL: https://gitlab.com/gitlab-org/gitlab-svgs/-/blob/master/sprite_icons/pencil.svg\n* color: rgb(27,85,102)","state":"closed","created_at":"2020-03-27T16:42:38.668Z","updated_at":"2020-12-10T18:54:46.115Z","closed_at":"2020-05-15T04:32:44.796Z","closed_by":{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"},"labels":["Category:Wiki","Deliverable","devops::create","frontend","frontend-weight::1","group::editor","priority::2","priority::3","severity::3","type::bug","workflow::production"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"}],"author":{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"},"type":"ISSUE","assignee":{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"},"user_notes_count":22,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212703","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212703","notes":"https://gitlab.com/api/v4/projects/278964/issues/212703/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212703/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212703","relative":"#212703","full":"gitlab-org/gitlab#212703"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32548826,"iid":212702,"project_id":278964,"title":"Hook up Maintenance Mode Backend to Frontend","description":"Follow up for the MVC of the ~frontend here: https://gitlab.com/gitlab-org/gitlab/-/issues/211672\n\nFollow up for the MVC of the ~backend here: https://gitlab.com/gitlab-org/gitlab/-/issues/212428\n\nThis issue is essentially to track the effort of hooking up these two changes and removing the feature flag `:maintenance_mode`\n\nMake template tests more valuable: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/28158#note_314026350","state":"closed","created_at":"2020-03-27T16:41:52.052Z","updated_at":"2020-12-15T19:59:05.359Z","closed_at":"2020-12-11T09:10:05.355Z","closed_by":{"id":3944199,"username":"fzimmer","name":"Fabian Zimmer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3944199/avatar.png","web_url":"https://gitlab.com/fzimmer"},"labels":["Deliverable","api","devops::systems","frontend","group::geo","missed-deliverable","missed:13.4","missed:13.6","section::enablement","type::feature","workflow::in review"],"milestone":{"id":1233757,"iid":54,"group_id":9970,"title":"13.7","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:43:14.893Z","updated_at":"2022-04-13T14:51:12.240Z","due_date":"2020-12-17","start_date":"2020-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/54"},"assignees":[{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"}],"author":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"type":"ISSUE","assignee":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212702","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212702","notes":"https://gitlab.com/api/v4/projects/278964/issues/212702/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212702/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212702","relative":"#212702","full":"gitlab-org/gitlab#212702"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2149,"epic":{"id":14636,"iid":2149,"title":"Geo: Create a read-only mode (maintenance mode)","url":"/groups/gitlab-org/-/epics/2149","group_id":9970,"human_readable_end_date":"Feb 21, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":32545318,"iid":212691,"project_id":278964,"title":"Pipelines are linked to wrong MR on Merge Request page","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nIn our on premise gitlab (v12.9) have a CI/CD pipeline which users can run manually to deploy their accepted MR to a set of environments. On the merge, the correct pipeline is displayed for that MR, but if we look at the closed MRs later, a great deal of our MR will list whatever the latest pipeline is as their pipeline of record.\n\nHere is the latest MR and its pipeline:\n\n![image](/uploads/197b48f4b2944fc279ad69b1b464ae03/image.png)\n\nand now that pipeline is the pipeline of record for older MRs as well, which is wrong\n\n![image](/uploads/961025e47111c888dc7b1692bb73ec6f/image.png)\n\nWe looked at this issue:\n\n[text](https://gitlab.com/gitlab-org/gitlab/-/issues/212243)\n\nand felt like maybe this is somehow related\n\n### Steps to reproduce\n\n1) create branch from master\n2) do work on branch\n3) merge branch into master\n4) go to merge merged request page (/-/merge_requests?scope=all\u0026utf8=✓\u0026state=merged)\n5) all (most) of the MRs will have the newest pipeline, and not the pipeline created by the MR\n\nImportant Notes: we use FF merging, and we recently downgraded from EE to CE before we noticed the issue.\n\n\n### Example Project\n\nNA\n\n### What is the current *bug* behavior?\n\n The most current pipeline is linked to many MRs\n\n### What is the expected *correct* behavior?\n\nThe correct pipeline should be properly displayed on the MR page.\n\n### Relevant logs and/or screenshots\n\nsee screenshots above\n\n### Output of checks\n\n-\n\n#### Results of GitLab environment info\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n\n\u001b[33mSystem information\u001b[0m\nSystem:\t\t\nCurrent User:\tgit\nUsing RVM:\tno\nRuby Version:\t2.6.5p114\nGem Version:\t2.7.10\nBundler Version:1.17.3\nRake Version:\t12.3.3\nRedis Version:\t\u001b[31munknown\u001b[0m\nGit Version:\t\u001b[31munknown\u001b[0m\nSidekiq Version:5.2.7\nGo Version:\t\u001b[31munknown\u001b[0m\n\n\u001b[33mGitLab information\u001b[0m\nVersion:\t12.8.8\nRevision:\t\nDirectory:\t/srv/gitlab\nDB Adapter:\tPostgreSQL\nDB Version:\t9.6.11\nURL:\t\thttps://code.wm.edu\nHTTP Clone URL:\thttps://code.wm.edu/some-group/some-project.git\nSSH Clone URL:\tgit@code.wm.edu:some-group/some-project.git\nUsing LDAP:\tno\nUsing Omniauth:\t\u001b[32myes\u001b[0m\nOmniauth Providers: saml\n\n\u001b[33mGitLab Shell\u001b[0m\nVersion:\t11.0.0\nRepository storage paths:\n- default: \t/var/opt/gitlab/repo\n- part_two: \t/var/opt/gitlab/repo\nGitLab Shell path:\t\t/home/git/gitlab-shell\nGit:\t\t/usr/bin/git\n\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\nPlease note we are running in k8s mode, so some of these will have errors.\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\nChecking \u001b[33mGitLab subtasks\u001b[0m ...\n\nChecking \u001b[33mGitLab Shell\u001b[0m ...\n\nGitLab Shell: ... GitLab Shell version \u003e= 11.0.0 ? ... \u001b[32mOK (11.0.0)\u001b[0m\nRunning /home/git/gitlab-shell/bin/check\n\u001b[31mgitlab-shell self-check failed\u001b[0m\n\u001b[34m  Try fixing it:\u001b[0m\n  Make sure GitLab is running;\n  Check the gitlab-shell configuration file:\n  sudo -u git -H editor /home/git/gitlab-shell/config.yml\n\u001b[31m  Please fix the error above and rerun the checks.\u001b[0m\n\nChecking \u001b[33mGitLab Shell\u001b[0m ... \u001b[32mFinished\u001b[0m\n\nChecking \u001b[33mGitaly\u001b[0m ...\n\nGitaly: ... default ... \u001b[32mOK\u001b[0m\npart_two ... \u001b[32mOK\u001b[0m\n\nChecking \u001b[33mGitaly\u001b[0m ... \u001b[32mFinished\u001b[0m\n\nChecking \u001b[33mSidekiq\u001b[0m ...\n\nSidekiq: ... Running? ... \u001b[31mno\u001b[0m\n\u001b[34m  Try fixing it:\u001b[0m\n  sudo -u git -H RAILS_ENV=production bin/background_jobs start\n\u001b[34m  For more information see:\u001b[0m\n  doc/install/installation.md in section \"Install Init Script\"\n  see log/sidekiq.log for possible errors\n\u001b[31m  Please fix the error above and rerun the checks.\u001b[0m\n\nChecking \u001b[33mSidekiq\u001b[0m ... \u001b[32mFinished\u001b[0m\n\nChecking \u001b[33mIncoming Email\u001b[0m ...\n\nIncoming Email: ... Reply by email is disabled in config/gitlab.yml\n\nChecking \u001b[33mIncoming Email\u001b[0m ... \u001b[32mFinished\u001b[0m\n\nChecking \u001b[33mLDAP\u001b[0m ...\n\nLDAP: ... LDAP is disabled in config/gitlab.yml\n\nChecking \u001b[33mLDAP\u001b[0m ... \u001b[32mFinished\u001b[0m\n\nChecking \u001b[33mGitLab App\u001b[0m ...\n\nGit configured correctly? ... \u001b[31mno\u001b[0m\nTrying to fix error automatically. ...\u001b[31mFailed\u001b[0m\n\u001b[34m  Try fixing it:\u001b[0m\n  sudo -u git -H \"/usr/bin/git\" config --global core.autocrlf \"input\"\n\u001b[34m  For more information see:\u001b[0m\n  doc/install/installation.md in section \"GitLab\"\nDatabase config exists? ... \u001b[32myes\u001b[0m\nAll migrations up? ... \u001b[32myes\u001b[0m\nDatabase contains orphaned GroupMembers? ... \u001b[32mno\u001b[0m\nGitLab config exists? ... \u001b[32myes\u001b[0m\nGitLab config up to date? ... \u001b[32myes\u001b[0m\nLog directory writable? ... \u001b[32myes\u001b[0m\nTmp directory writable? ... \u001b[32myes\u001b[0m\nUploads directory exists? ... \u001b[32myes\u001b[0m\nUploads directory has correct permissions? ... \u001b[32myes\u001b[0m\nUploads directory tmp has correct permissions? ... \u001b[35mskipped (no tmp uploads folder yet)\u001b[0m\nInit script exists? ... \u001b[31mno\u001b[0m\n\u001b[34m  Try fixing it:\u001b[0m\n  Install the init script\n\u001b[34m  For more information see:\u001b[0m\n  doc/install/installation.md in section \"Install Init Script\"\n\u001b[31m  Please fix the error above and rerun the checks.\u001b[0m\nInit script up-to-date? ... \u001b[35mcan't check because of previous errors\u001b[0m\nProjects have namespace: ... \n\u001b[33m2\u001b[0m/\u001b[33m1\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m30\u001b[0m/\u001b[33m4\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m2\u001b[0m/\u001b[33m5\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m13\u001b[0m/\u001b[33m7\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m4\u001b[0m/\u001b[33m8\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m17\u001b[0m/\u001b[33m10\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m17\u001b[0m/\u001b[33m12\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m17\u001b[0m/\u001b[33m13\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m10\u001b[0m/\u001b[33m14\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m21\u001b[0m/\u001b[33m16\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m13\u001b[0m/\u001b[33m18\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m17\u001b[0m/\u001b[33m19\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m24\u001b[0m/\u001b[33m20\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m2\u001b[0m/\u001b[33m22\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m27\u001b[0m/\u001b[33m25\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m27\u001b[0m/\u001b[33m26\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m17\u001b[0m/\u001b[33m28\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m30\u001b[0m/\u001b[33m29\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m30\u001b[0m/\u001b[33m30\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m4\u001b[0m/\u001b[33m31\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m33\u001b[0m/\u001b[33m32\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m36\u001b[0m/\u001b[33m33\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m12\u001b[0m/\u001b[33m34\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m17\u001b[0m/\u001b[33m36\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m2\u001b[0m/\u001b[33m37\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m4\u001b[0m/\u001b[33m38\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m17\u001b[0m/\u001b[33m39\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m17\u001b[0m/\u001b[33m40\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m43\u001b[0m/\u001b[33m41\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m45\u001b[0m/\u001b[33m43\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m45\u001b[0m/\u001b[33m45\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m45\u001b[0m/\u001b[33m46\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m47\u001b[0m/\u001b[33m50\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m21\u001b[0m/\u001b[33m52\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m38\u001b[0m/\u001b[33m54\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m14\u001b[0m/\u001b[33m56\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m4\u001b[0m/\u001b[33m57\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m55\u001b[0m/\u001b[33m58\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m57\u001b[0m/\u001b[33m59\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m24\u001b[0m/\u001b[33m60\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m59\u001b[0m/\u001b[33m63\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m59\u001b[0m/\u001b[33m64\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m59\u001b[0m/\u001b[33m65\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m59\u001b[0m/\u001b[33m66\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m59\u001b[0m/\u001b[33m67\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m59\u001b[0m/\u001b[33m68\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m59\u001b[0m/\u001b[33m69\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m59\u001b[0m/\u001b[33m70\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m59\u001b[0m/\u001b[33m71\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m59\u001b[0m/\u001b[33m72\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m59\u001b[0m/\u001b[33m73\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m59\u001b[0m/\u001b[33m74\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m47\u001b[0m/\u001b[33m75\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m61\u001b[0m/\u001b[33m76\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m17\u001b[0m/\u001b[33m77\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m62\u001b[0m/\u001b[33m78\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m24\u001b[0m/\u001b[33m79\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m24\u001b[0m/\u001b[33m80\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m17\u001b[0m/\u001b[33m81\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m12\u001b[0m/\u001b[33m82\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m4\u001b[0m/\u001b[33m83\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m24\u001b[0m/\u001b[33m84\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m69\u001b[0m/\u001b[33m85\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m47\u001b[0m/\u001b[33m86\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m68\u001b[0m/\u001b[33m87\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m18\u001b[0m/\u001b[33m88\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m4\u001b[0m/\u001b[33m89\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m2\u001b[0m/\u001b[33m91\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m12\u001b[0m/\u001b[33m92\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m51\u001b[0m/\u001b[33m93\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m12\u001b[0m/\u001b[33m94\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m12\u001b[0m/\u001b[33m95\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m17\u001b[0m/\u001b[33m96\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m59\u001b[0m/\u001b[33m97\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m59\u001b[0m/\u001b[33m98\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m12\u001b[0m/\u001b[33m99\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m24\u001b[0m/\u001b[33m100\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m51\u001b[0m/\u001b[33m104\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m62\u001b[0m/\u001b[33m105\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m41\u001b[0m/\u001b[33m106\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m83\u001b[0m/\u001b[33m107\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m24\u001b[0m/\u001b[33m108\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m62\u001b[0m/\u001b[33m109\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m62\u001b[0m/\u001b[33m110\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m21\u001b[0m/\u001b[33m111\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m21\u001b[0m/\u001b[33m112\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m62\u001b[0m/\u001b[33m113\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m84\u001b[0m/\u001b[33m115\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m84\u001b[0m/\u001b[33m116\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m84\u001b[0m/\u001b[33m117\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m18\u001b[0m/\u001b[33m118\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m14\u001b[0m/\u001b[33m119\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m14\u001b[0m/\u001b[33m120\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m14\u001b[0m/\u001b[33m121\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m17\u001b[0m/\u001b[33m122\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m21\u001b[0m/\u001b[33m123\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m18\u001b[0m/\u001b[33m124\u001b[0m ... \u001b[32myes\u001b[0m\n\u001b[33m17\u001b[0m/\u001b[33m125\u001b[0m ... \u001b[32myes\u001b[0m\nRedis version \u003e= 2.8.0? ... \u001b[31mno\u001b[0m\n\u001b[34m  Try fixing it:\u001b[0m\n  Update your redis server to a version \u003e= 2.8.0\n\u001b[34m  For more information see:\u001b[0m\n  gitlab-public-wiki/wiki/Trouble-Shooting-Guide in section sidekiq\n\u001b[31m  Please fix the error above and rerun the checks.\u001b[0m\nRuby version \u003e= 2.5.3 ? ... \u001b[32myes (2.6.5)\u001b[0m\nGit version \u003e= 2.22.0 ? ... \u001b[31mno\u001b[0m\nYour git bin path is \"/usr/bin/git\"\n\u001b[34m  Try fixing it:\u001b[0m\n  Update your git to a version \u003e= 2.22.0 from Unknown\n\u001b[31m  Please fix the error above and rerun the checks.\u001b[0m\nGit user has default SSH configuration? ... \u001b[32myes\u001b[0m\nActive users: ... \u001b[32m54\u001b[0m\nIs authorized keys file accessible? ... \u001b[35mskipped (authorized keys not enabled)\u001b[0m\n\nChecking \u001b[33mGitLab App\u001b[0m ... \u001b[32mFinished\u001b[0m\n\n\nChecking \u001b[33mGitLab subtasks\u001b[0m ... \u001b[32mFinished\u001b[0m\n\n\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes","state":"closed","created_at":"2020-03-27T15:46:34.030Z","updated_at":"2020-08-24T17:56:51.281Z","closed_at":"2020-08-24T17:56:34.284Z","closed_by":{"id":5370821,"username":"lexicalunit","name":"Amy Troschinetz","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5370821/avatar.png","web_url":"https://gitlab.com/lexicalunit"},"labels":["Category:Continuous Delivery","cicd::active","devops::release","group::release","missed:13.2","missed:13.3","priority::3","severity::3","type::bug"],"milestone":{"id":1233753,"iid":51,"group_id":9970,"title":"13.4","description":"https://about.gitlab.com/releases/2020/09/22/gitlab-13-4-released/","state":"closed","created_at":"2020-04-09T17:39:21.662Z","updated_at":"2022-04-13T14:50:33.769Z","due_date":"2020-09-17","start_date":"2020-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/51"},"assignees":[{"id":5370821,"username":"lexicalunit","name":"Amy Troschinetz","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5370821/avatar.png","web_url":"https://gitlab.com/lexicalunit"}],"author":{"id":5693597,"username":"wsstewart","name":"Scott Stewart","state":"active","avatar_url":"https://secure.gravatar.com/avatar/97d79377a1a6c5cd861ea5e697f4aabf?s=80\u0026d=identicon","web_url":"https://gitlab.com/wsstewart"},"type":"ISSUE","assignee":{"id":5370821,"username":"lexicalunit","name":"Amy Troschinetz","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5370821/avatar.png","web_url":"https://gitlab.com/lexicalunit"},"user_notes_count":15,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212691","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212691","notes":"https://gitlab.com/api/v4/projects/278964/issues/212691/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212691/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212691","relative":"#212691","full":"gitlab-org/gitlab#212691"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32543795,"iid":212688,"project_id":278964,"title":"Insights \"error gathering the chart data\" for certain projects","description":"### Summary\n\nFor certain projects, the Insights feature errors on every chart with the message: \"There was an error gathering the chart data\".  This is due to a 500 response produced by Projects::InsightsController#query, as a result of \"NoMethodError: undefined method `group_by' for nil:NilClass\".  See the [Sentry report](https://sentry.gitlab.net/gitlab/gitlabcom/issues/1431033/).\n\n### Steps to reproduce\n\n1. Go to https://gitlab.com/gitlab-org/uxr_insights/insights/#/bugClassification\n1. See the error message \"There was an error gathering the chart data\"\n1. Note that this doesn't happen with [gitlab project Insights](https://gitlab.com/gitlab-org/gitlab/insights/#/bugClassification)\n\n### What is the current *bug* behavior?\n\nFor certain projects, the Insights feature displays an error message and no charts.\n\n### What is the expected *correct* behavior?\n\nFor all projects, the Insights feature displays no error messages and all charts, as with [gitlab project Insights](https://gitlab.com/gitlab-org/gitlab/insights/#/bugClassification).\n\n### Relevant logs and/or screenshots\n\n![Screen_Shot_2020-03-27_at_10.07.41_AM](/uploads/9abd049b62159144070251b901234108/Screen_Shot_2020-03-27_at_10.07.41_AM.png)\n\n### Output of checks\n\nThis bug happens on GitLab.com.\n\n### Possible fixes\n\nApparently `issuables` can be `nil` in [`CountPerPeriodReducer`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/lib/gitlab/insights/reducers/count_per_period_reducer.rb), which should not be possible.","state":"closed","created_at":"2020-03-27T15:18:29.591Z","updated_at":"2020-06-23T04:14:43.244Z","closed_at":"2020-05-06T19:30:56.091Z","closed_by":{"id":444,"username":"dzaporozhets","name":"Dmytro Zaporozhets (DZ)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/444/avatar.png","web_url":"https://gitlab.com/dzaporozhets"},"labels":["backend","devops::manage","group::optimize","insights","severity::3","type::bug","workflow::in review"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"}],"author":{"id":4512390,"username":"djensen","name":"Dan Jensen","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4512390/avatar.png","web_url":"https://gitlab.com/djensen"},"type":"ISSUE","assignee":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"user_notes_count":5,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212688","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212688","notes":"https://gitlab.com/api/v4/projects/278964/issues/212688/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212688/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212688","relative":"#212688","full":"gitlab-org/gitlab#212688"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32542472,"iid":212684,"project_id":278964,"title":"Document specific tag for each analyzer where custom CA cert support was introduced","description":"\u003c!--\n\n* Use this issue template for suggesting new docs or updates to existing docs.\n  Note: Doc work as part of feature development is covered in the Feature Request template.\n\n* For issues related to features of the docs.gitlab.com site, see\n     https://gitlab.com/gitlab-org/gitlab-docs/issues/\n\n* For information about documentation content and process, see\n     https://docs.gitlab.com/ee/development/documentation/ --\u003e\n\n### Problem to solve\n\n\u003c!-- Include the following detail as necessary:\n* What product or feature(s) affected?\n* What docs or doc section affected? Include links or paths.\n* Is there a problem with a specific document, or a feature/process that's not addressed sufficiently in docs?\n* Any other ideas or requests?\n--\u003e\n\nCustom CA cert support was added to Secure analyzers in %\"12.9\" and was documented at that time. However, we didn't document the specific tag for each analyzer in which this feature was released. Customers needing this particular feature typically need to clear specific docker images before they're allowed into their environments, making this an important detail to have documented.\n\n### Further details\n\n\u003c!--\n* Any concepts, procedures, reference info we could add to make it easier to successfully use GitLab?\n* Include use cases, benefits, and/or goals for this work.\n* If adding content: What audience is it intended for? (What roles and scenarios?)\n  For ideas, see personas at https://design.gitlab.com/research/personas or the persona labels at\n  https://gitlab.com/groups/gitlab-org/-/labels?utf8=%E2%9C%93\u0026subscribed=\u0026search=persona%3A\n--\u003e\n\n### Proposal\n\n\u003c!-- Further specifics for how can we solve the problem. --\u003e\n\nIntroduce tables in the documentation for each feature documenting the specific tag for each analyzer which can make use of Custom CA certificates.\n\n### Who can address the issue\n\n\u003c!-- What if any special expertise is required to resolve this issue? --\u003e\n\n### Other links/references\n\n\u003c!-- E.g. related GitLab issues/MRs --\u003e","state":"closed","created_at":"2020-03-27T14:45:41.040Z","updated_at":"2020-10-18T07:10:43.116Z","closed_at":"2020-10-14T12:56:10.980Z","closed_by":{"id":3652047,"username":"twoodham","name":"Thomas Woodham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3652047/avatar.png","web_url":"https://gitlab.com/twoodham"},"labels":["Category:SAST","Deliverable","Technical Writing","backend","devops::secure","docs-only","documentation","group::static analysis","missed-deliverable","missed:12.10","missed:13.0","missed:13.1","missed:13.2","missed:13.3","missed:13.4","priority::3","section::sec","severity::3","type::bug","workflow::in review"],"milestone":{"id":1233754,"iid":52,"group_id":9970,"title":"13.5","description":"https://about.gitlab.com/releases/2020/10/22/gitlab-13-5-released/","state":"closed","created_at":"2020-04-09T17:39:21.990Z","updated_at":"2022-04-21T07:21:12.213Z","due_date":"2020-10-17","start_date":"2020-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/52"},"assignees":[{"id":3658061,"username":"rdickenson","name":"Russell Dickenson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3658061/avatar.png","web_url":"https://gitlab.com/rdickenson"},{"id":5329074,"username":"tmccaslin","name":"Taylor McCaslin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5329074/avatar.png","web_url":"https://gitlab.com/tmccaslin"}],"author":{"id":3652047,"username":"twoodham","name":"Thomas Woodham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3652047/avatar.png","web_url":"https://gitlab.com/twoodham"},"type":"ISSUE","assignee":{"id":3658061,"username":"rdickenson","name":"Russell Dickenson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3658061/avatar.png","web_url":"https://gitlab.com/rdickenson"},"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212684","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212684","notes":"https://gitlab.com/api/v4/projects/278964/issues/212684/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212684/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212684","relative":"#212684","full":"gitlab-org/gitlab#212684"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3246,"epic":{"id":51772,"iid":3246,"title":"Simplify \u0026 Cleanup","url":"/groups/gitlab-org/-/epics/3246","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":32542146,"iid":212682,"project_id":278964,"title":"Code Review Analytics: Replace legacy filtered search with Vue implementation","description":"We're using the legacy filtered search bar (which is built in HAML and plain JS) on the `Code Review Analytics` page.\n\nWe should look into replacing the outdated search implementation with the [gitlab/ui filtered search](https://gitlab-org.gitlab.io/gitlab-ui/?path=/story/base-filtered-search--default).\n\n![code_review_analytics](/uploads/191a39b06a3dc56ebd2a21f9a75d08a3/code_review_analytics.png)\n\n### Implementation Plan:\n\n- [x] Introduce feature flags: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/29580\n- [x] Implement filtered search bar: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/29669\n  * [x] Create milestone token: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/30610\n  * [x] Create label token (https://gitlab.com/gitlab-org/gitlab/-/merge_requests/30706)\n  * [x] Implement `Vuex` store for filters: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/30361","state":"closed","created_at":"2020-03-27T14:38:12.981Z","updated_at":"2020-09-30T09:08:04.112Z","closed_at":"2020-09-30T09:08:04.059Z","closed_by":{"id":4961018,"username":"mlunoe","name":"Michael Lunøe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4961018/avatar.png","web_url":"https://gitlab.com/mlunoe"},"labels":["backstage [DEPRECATED]","devops::manage","feature flag","frontend","group::optimize","section::dev","workflow::production"],"milestone":{"id":1233753,"iid":51,"group_id":9970,"title":"13.4","description":"https://about.gitlab.com/releases/2020/09/22/gitlab-13-4-released/","state":"closed","created_at":"2020-04-09T17:39:21.662Z","updated_at":"2022-04-13T14:50:33.769Z","due_date":"2020-09-17","start_date":"2020-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/51"},"assignees":[{"id":4961018,"username":"mlunoe","name":"Michael Lunøe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4961018/avatar.png","web_url":"https://gitlab.com/mlunoe"}],"author":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"type":"ISSUE","assignee":{"id":4961018,"username":"mlunoe","name":"Michael Lunøe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4961018/avatar.png","web_url":"https://gitlab.com/mlunoe"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212682","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":5,"completed_count":5},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"5 of 5 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212682","notes":"https://gitlab.com/api/v4/projects/278964/issues/212682/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212682/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212682","relative":"#212682","full":"gitlab-org/gitlab#212682"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32538175,"iid":212673,"project_id":278964,"title":"Projects::Settings::RepositoryController#show ActionView::Template::Error: undefined method `\u003c=' for nil:NilClass","description":"https://sentry.gitlab.net/gitlab/gitlabcom/issues/1427710/?referrer=gitlab_plugin\n\n```\nNoMethodError: undefined method `\u003c=' for nil:NilClass\n  ee/project_import_state.rb:104:in `mirror_update_due?'\n    next_execution_timestamp \u003c= Time.now\n  /opt/gitlab/embedded/service/gitlab-rails/ee/app/views/projects/mirrors/_table_pull_row.html.haml:23:in `_ee_app_views_projects_mirrors__table_pull_row_html_haml__2009490988920495238_69923685652700'\n    - if import_state.mirror_update_due? || import_state.updating_mirror?\n  action_view/base.rb:274:in `_run'\n    send(method, locals, buffer, \u0026block)\n  action_view/template.rb:185:in `block in render'\n    view._run(method_name, self, locals, buffer, \u0026block)\n  active_support/notifications.rb:182:in `instrument'\n    yield payload if block_given?\n...\n(203 additional frame(s) were not displayed)\n\nActionView::Template::Error: undefined method `\u003c=' for nil:NilClass\n\nActionView::Template::Error: undefined method `\u003c=' for nil:NilClass\n```\n\n# Workaround\n\nDelete the project and configure the mirror settings once more.\n\n# Related Support Tickets (internal)\n\n- https://gitlab.zendesk.com/agent/tickets/151543\n- https://gitlab.zendesk.com/agent/tickets/151936\n- https://gitlab.zendesk.com/agent/tickets/152190\n- https://gitlab.zendesk.com/agent/tickets/152759\n- https://gitlab.zendesk.com/agent/tickets/153105\n- https://gitlab.zendesk.com/agent/tickets/153681\n- https://gitlab.zendesk.com/agent/tickets/153839\n- https://gitlab.zendesk.com/agent/tickets/154754","state":"closed","created_at":"2020-03-27T13:04:22.193Z","updated_at":"2020-04-28T01:09:13.415Z","closed_at":"2020-04-22T07:33:36.694Z","closed_by":{"id":120073,"username":"DylanGriffith","name":"Dylan Griffith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/120073/avatar.png","web_url":"https://gitlab.com/DylanGriffith"},"labels":["Support Team Contributions","backend","backstage [DEPRECATED]","customer","devops::create","group::source code","mirror","priority::2","severity::2","type::bug","workflow::in review"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":1944308,"username":"deandre","name":"DeAndre Harris","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1944308/avatar.png","web_url":"https://gitlab.com/deandre"}],"author":{"id":402401,"username":"jobbot","name":"Bot","state":"active","avatar_url":"https://secure.gravatar.com/avatar/aaa6738f1ebf25404010884af511b0e7?s=80\u0026d=identicon","web_url":"https://gitlab.com/jobbot"},"type":"ISSUE","assignee":{"id":1944308,"username":"deandre","name":"DeAndre Harris","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1944308/avatar.png","web_url":"https://gitlab.com/deandre"},"user_notes_count":10,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212673","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212673","notes":"https://gitlab.com/api/v4/projects/278964/issues/212673/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212673/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212673","relative":"#212673","full":"gitlab-org/gitlab#212673"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32537816,"iid":212671,"project_id":278964,"title":"Epics state is always 'opened' on Group Import","description":"There is a bug in Group Import where exported epics do not preserve their state on import. This is probably due to `state_id` being filtered out by `AttributeCleaner` and we are losing this information. \n\nOut unit tests did not catch this because every epic in our fixture files has state_id: opened.","state":"closed","created_at":"2020-03-27T12:54:17.324Z","updated_at":"2021-05-18T20:46:45.537Z","closed_at":"2020-03-31T10:09:06.388Z","closed_by":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"labels":["Category:Importers","DEPRECATED_group import","Importer:Group Export/Import","devops::manage","group::import","type::bug","workflow::production"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"}],"author":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"type":"ISSUE","assignee":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212671","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212671","notes":"https://gitlab.com/api/v4/projects/278964/issues/212671/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212671/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212671","relative":"#212671","full":"gitlab-org/gitlab#212671"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1952,"epic":{"id":12745,"iid":1952,"title":"Group Export/Import API","url":"/groups/gitlab-org/-/epics/1952","group_id":9970,"human_readable_end_date":"Feb 21, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":32532939,"iid":212666,"project_id":278964,"title":"Take User min and max IDs only one time for all counters","description":"Most of the distinct counters are on user ID\n\nFor example https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/lib/ee/gitlab/usage_data.rb\n\nCould we take one single time MIN and MAX user ID at the begining and use it for all the counters?\n\nWe could have that one single query for MIN and one for MAX\n\nResult of discussion from here https://gitlab.com/gitlab-org/gitlab/-/merge_requests/27589#note_312237472\n\n","state":"closed","created_at":"2020-03-27T11:06:41.097Z","updated_at":"2020-06-04T14:57:13.583Z","closed_at":"2020-06-04T14:57:13.521Z","closed_by":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"labels":["backend","backstage [DEPRECATED]","devops::growth","group::product intelligence","maintenance::refactor","product intelligence","workflow::in review"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"}],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"user_notes_count":2,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212666","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212666","notes":"https://gitlab.com/api/v4/projects/278964/issues/212666/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212666/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212666","relative":"#212666","full":"gitlab-org/gitlab#212666"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32531360,"iid":212662,"project_id":278964,"title":"Bug with images in Snippets","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nSnippet blob data can now be images due to the snippet versions epic, but if a user tries to edit a snippet that has image data, it will error because the form does not support images. To reduce the number of errors we see, we are going to check if the blob data is binary, and redirect the user to the show view instead - until the edit view has been updated to handle it.\n\n### Steps to reproduce\n\nAdd an image to a snippet repo, then try to edit that snippet\n\n### What is the current *bug* behavior?\n\nIt attempts to render the edit form for personal/project snippets and throws an error.\n\n### What is the expected *correct* behavior?\n\nIt should redirect to the snippet show view","state":"closed","created_at":"2020-03-27T10:32:14.239Z","updated_at":"2020-03-31T16:47:42.810Z","closed_at":"2020-03-31T16:47:42.318Z","closed_by":{"id":171554,"username":"reprazent","name":"Bob Van Landuyt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/171554/avatar.png","web_url":"https://gitlab.com/reprazent"},"labels":["Category:Snippets","backend","devops::create","group::editor","type::bug","workflow::in dev"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"}],"author":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"type":"ISSUE","assignee":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"user_notes_count":2,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212662","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212662","notes":"https://gitlab.com/api/v4/projects/278964/issues/212662/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212662/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212662","relative":"#212662","full":"gitlab-org/gitlab#212662"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32530385,"iid":212659,"project_id":278964,"title":"Unhandled exceptions should set the import into failed state","description":"Check and ensure that on unhandled exceptions when retry limit is reached the import stop and is set to failed state","state":"closed","created_at":"2020-03-27T10:11:32.639Z","updated_at":"2020-04-13T11:13:06.842Z","closed_at":"2020-04-13T11:13:06.450Z","closed_by":{"id":3483274,"username":"acroitor","name":"Alexandru Croitor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/461378ef52c26eec55e6c15ec09bb9ed?s=80\u0026d=identicon","web_url":"https://gitlab.com/acroitor"},"labels":["Category:Jira Importer","auto updated","backend","devops::plan","direction","group::project management","planning priority","type::feature","workflow::verification"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":3483274,"username":"acroitor","name":"Alexandru Croitor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/461378ef52c26eec55e6c15ec09bb9ed?s=80\u0026d=identicon","web_url":"https://gitlab.com/acroitor"}],"author":{"id":3483274,"username":"acroitor","name":"Alexandru Croitor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/461378ef52c26eec55e6c15ec09bb9ed?s=80\u0026d=identicon","web_url":"https://gitlab.com/acroitor"},"type":"ISSUE","assignee":{"id":3483274,"username":"acroitor","name":"Alexandru Croitor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/461378ef52c26eec55e6c15ec09bb9ed?s=80\u0026d=identicon","web_url":"https://gitlab.com/acroitor"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212659","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212659","notes":"https://gitlab.com/api/v4/projects/278964/issues/212659/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212659/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212659","relative":"#212659","full":"gitlab-org/gitlab#212659"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2766,"epic":{"id":26382,"iid":2766,"title":"Import Jira Issues MVC","url":"/groups/gitlab-org/-/epics/2766","group_id":9970,"human_readable_end_date":"May 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":32528424,"iid":212654,"project_id":278964,"title":"Remove index index_ci_builds_on_name_for_security_reports_values","description":"\u003e @a_akgun if I understand correctly and the queries provided in gitlab-org/gitlab!24090 fully cover the query load that uses the `index_ci_builds_on_name_for_security_reports_values` index, then we could drop that index as it will no longer be used any more. Moreover, the new partial index having the additional `((type)::text = 'Ci::Build'::text))` would even help to speedup the execution of those queries as well.\n\nExample Query provided in gitlab-org/gitlab!24090:\n\n```\nSELECT Count(*) FROM \"ci_builds\" WHERE \"ci_builds\".\"type\" IN ('Ci::Build') AND \"ci_builds\".\"name\" IN ('license_scanning')\n```\n\nAs far as I can tell, the optimizer should choose to use the new `index_ci_builds_on_name_and_security_type_eq_ci_build` index.\n\n@brytannia can you confirm that the index introduced in gitlab-org/gitlab!24090 is indeed used in queries that always include a where clause always filtering by `\"ci_builds\".\"type\" IN ('Ci::Build')`?\n\nIf that's the case, I think that we should also check the query provided above, remove `index_ci_builds_on_name_for_security_reports_values` and check again. If everything works as expected, we can include the removal of that index in this MR as well. What do you think @a_akgun?","state":"closed","created_at":"2020-03-27T09:24:41.691Z","updated_at":"2020-04-08T14:04:27.460Z","closed_at":"2020-04-08T14:04:27.408Z","closed_by":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"labels":["backstage [DEPRECATED]","bug::performance","devops::growth","group::product intelligence","missed:12.9"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"}],"author":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"type":"ISSUE","assignee":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212654","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212654","notes":"https://gitlab.com/api/v4/projects/278964/issues/212654/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212654/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212654","relative":"#212654","full":"gitlab-org/gitlab#212654"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32523833,"iid":212645,"project_id":278964,"title":"\"Deleted projects\" does not get deleted","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nI have deleted several projects and they have all been tagged with `pending removal`. After waiting for a week the projects still has not been deleted. \n\n### Steps to reproduce\n\n1. Create a project on gitlab.com\n1. Add something to it (or not)\n1. Delete project\n1. Wait for project to be deleted\n\n### Example Project\n\n* https://gitlab.com/jimmy.ljungberg/nexus - Supposed to be deleted on 2020-03-27\n* https://gitlab.com/jimmy.ljungberg/yatsy-server-old - Empty project, lacking warning message when it will be deleted\n* https://gitlab.com/jimmy.ljungberg/sysdev - Supposed to be deleted on 2020-03-27\n* https://gitlab.com/jimmy.ljungberg/yatsy-klient - Supposed to be deleted on 2020-03-23\n* https://gitlab.com/jimmy.ljungberg/yatsy - Empty project, lacking warning message when it will be deleted\n\n### What is the current *bug* behavior?\n\nProjects don't get deleted\n\n### What is the expected *correct* behavior?\n\nProject should no longer exist\n\n### Output of checks\n\nThis bug happens on GitLab.com\n\n----\n\n## Theoretical Issue\n\nThe [cron worker that finds projects scheduled for delection](https://gitlab.com/gitlab-org/gitlab/blob/5534fdcf27dbd7352ea0f9a2029497dd1eb8833e/ee/app/workers/adjourned_projects_deletion_cron_worker.rb#L7-8) adds an artifical spacing between jobs. This increases exponentially with each project scheduled for deletion.\n\nThe table below shows how long it would take the _last project_ picked up by the cron job to execute.\n\n|              | Last deletion starts after |\n|--------------|----------------------------|\n| 5 projects    | 25 minutes                 |\n| 100 projects  | 8 hours                    |\n| 1000 projects | 3 days                    |\n\n## Proposal\n\nRemove this artifical spacing between jobs and allow sidekiq to schedule the jobs instead.","state":"closed","created_at":"2020-03-27T07:28:33.146Z","updated_at":"2020-09-23T09:35:31.126Z","closed_at":"2020-07-07T08:29:25.125Z","closed_by":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"labels":["devops::manage","group::compliance","priority::1","severity::1","type::bug","workflow::verification"],"milestone":{"id":1233746,"iid":49,"group_id":9970,"title":"13.2","description":"https://about.gitlab.com/releases/2020/07/22/gitlab-13-2-released/","state":"closed","created_at":"2020-04-09T17:28:01.032Z","updated_at":"2022-04-13T14:48:24.167Z","due_date":"2020-07-17","start_date":"2020-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/49"},"assignees":[{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"}],"author":{"id":4662235,"username":"jimmy.ljungberg","name":"Jimmy Ljungberg","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8e87c8a68592e5a86477d51d4a9df120?s=80\u0026d=identicon","web_url":"https://gitlab.com/jimmy.ljungberg"},"type":"ISSUE","assignee":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"user_notes_count":50,"merge_requests_count":0,"upvotes":8,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212645","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212645","notes":"https://gitlab.com/api/v4/projects/278964/issues/212645/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212645/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212645","relative":"#212645","full":"gitlab-org/gitlab#212645"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3626,"epic":{"id":69474,"iid":3626,"title":"Improvements to delayed project deletion","url":"/groups/gitlab-org/-/epics/3626","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":32520699,"iid":212643,"project_id":278964,"title":"Review app deployment is not pulling latest image","description":"## Problem\n\nIt looks like review app deployment might not pull the latest container image created by the most recent CNG build.\n\nIn pipeline https://gitlab.com/gitlab-org/gitlab/pipelines/130217195:\n- CNG-Mirror pipeline: https://gitlab.com/gitlab-org/build/CNG-mirror/pipelines/130220464\n    - gitlab-webservice-ee job: https://gitlab.com/gitlab-org/build/CNG-mirror/-/jobs/487689891\n        - this job pushed image `sha256:34f501f26067720744513a50cca90543b7765a682146d9da1d11c951c4d70ca7` to the tag\n- review-deploy job https://gitlab.com/gitlab-org/gitlab/-/jobs/487714638\n    - this deployment has `global.imagePullPolicy: ifNotPresent` set ([see log line 3662](https://gitlab.com/gitlab-org/gitlab/-/jobs/487714638#L3662))\n    - the pods were not replaced in this deployment - they are 91m old ([see log line 10953](https://gitlab.com/gitlab-org/gitlab/-/jobs/487714638#L10953))\n    - inspecting the pod `review-caalberts-4xwx45-unicorn-969d64479-khc9k`, the image id is not the latest image id pushed in `gitlab-webservice-ee` job above\n\n```\nContainers:\n  unicorn:\n    Container ID:   containerd://e595dd04fddf800d72adfa81c128c17fa57288b83752404a8d4084fab5978e5f\n    Image:          registry.gitlab.com/gitlab-org/build/cng-mirror/gitlab-webservice-ee:caalberts-test-review-apps\n    Image ID:       registry.gitlab.com/gitlab-org/build/cng-mirror/gitlab-webservice-ee@sha256:3caeb387480cc51d6fc9fd7825c23fd4daa98571c7607f82daefeffb7778a628\n```\n\n## Solution\n\nWe should use deployment strategy `Recreate` to immediately recreate pods","state":"closed","created_at":"2020-03-27T04:15:55.536Z","updated_at":"2020-05-11T12:00:51.788Z","closed_at":"2020-05-11T12:00:51.748Z","closed_by":{"id":423915,"username":"godfat","name":"Lin Jen-Shin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8c73dab2ecd23d5b5627a0235ae2f9b1?s=80\u0026d=identicon","web_url":"https://gitlab.com/godfat"},"labels":["Engineering Productivity","ep::review-apps","needs investigation","priority::3"],"milestone":null,"assignees":[{"id":461042,"username":"caalberts","name":"Albert Salim","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/461042/avatar.png","web_url":"https://gitlab.com/caalberts"}],"author":{"id":461042,"username":"caalberts","name":"Albert Salim","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/461042/avatar.png","web_url":"https://gitlab.com/caalberts"},"type":"ISSUE","assignee":{"id":461042,"username":"caalberts","name":"Albert Salim","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/461042/avatar.png","web_url":"https://gitlab.com/caalberts"},"user_notes_count":13,"merge_requests_count":2,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212643","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212643","notes":"https://gitlab.com/api/v4/projects/278964/issues/212643/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212643/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212643","relative":"#212643","full":"gitlab-org/gitlab#212643"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32519269,"iid":212639,"project_id":278964,"title":"Consider faster deployment strategy for review app deployment","description":"Currently the review app deployments are configured with the default deployment strategy:\n```\nStrategyType:           RollingUpdate\nMinReadySeconds:        0\nRollingUpdateStrategy:  25% max unavailable, 25% max surge\n```\n\nThis would add up to the total time taken to complete a deployment in an upgrade scenario where there is an existing deployment.\n\nThe reason is that pods are spun up and taken off one by one, and each one could take a few minutes to complete.\n\nExamples:\n- https://gitlab.com/gitlab-org/gitlab/-/jobs/486324551\n\nSince review app is not bearing production load, we can consider quicker deployment strategy. The options are (from most aggressive to least aggresive):\n- Change to `.spec.strategy.type==Recreate` - this kills all pods and replace them with new ones immediately\n- Increase `.spec.strategy.rollingUpdate.maxUnavailable` from default 25% to 50%.","state":"closed","created_at":"2020-03-27T02:25:31.781Z","updated_at":"2020-05-19T08:31:28.178Z","closed_at":"2020-05-19T08:31:28.131Z","closed_by":{"id":461042,"username":"caalberts","name":"Albert Salim","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/461042/avatar.png","web_url":"https://gitlab.com/caalberts"},"labels":["Engineering Productivity","ep::review-apps","priority::2"],"milestone":null,"assignees":[{"id":461042,"username":"caalberts","name":"Albert Salim","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/461042/avatar.png","web_url":"https://gitlab.com/caalberts"}],"author":{"id":461042,"username":"caalberts","name":"Albert Salim","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/461042/avatar.png","web_url":"https://gitlab.com/caalberts"},"type":"ISSUE","assignee":{"id":461042,"username":"caalberts","name":"Albert Salim","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/461042/avatar.png","web_url":"https://gitlab.com/caalberts"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212639","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212639","notes":"https://gitlab.com/api/v4/projects/278964/issues/212639/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212639/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212639","relative":"#212639","full":"gitlab-org/gitlab#212639"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":605,"epic":{"id":2314,"iid":605,"title":"EP: Improve Review Apps reliability \u0026 efficiency","url":"/groups/gitlab-org/-/epics/605","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":32518895,"iid":212637,"project_id":278964,"title":"Upgrade review-app cluster to kubernetes 1.15","description":"Following from #36021, we should consider upgrading the `review-apps-ee` and `review-apps-ce` clusters to kubernetes v1.15, since we have seen a number of failed deployment due to forbidden changes to poddisruptionbudget.\n\nRelease notes for v1.15: https://v1-15.docs.kubernetes.io/docs/setup/release/notes/#kubernetes-v1-15-release-notes\n- https://v1-15.docs.kubernetes.io/docs/setup/release/notes/#deprecations-and-removals - none that seems to affect us\n- https://v1-15.docs.kubernetes.io/docs/setup/release/notes/#changelog-since-v1-14-0 - no action that seems to apply\n\n/cc @gl-quality/eng-prod ","state":"closed","created_at":"2020-03-27T02:01:25.637Z","updated_at":"2020-03-31T08:01:30.842Z","closed_at":"2020-03-30T08:32:34.956Z","closed_by":{"id":461042,"username":"caalberts","name":"Albert Salim","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/461042/avatar.png","web_url":"https://gitlab.com/caalberts"},"labels":["Engineering Productivity","ep::review-apps","priority::2"],"milestone":null,"assignees":[{"id":461042,"username":"caalberts","name":"Albert Salim","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/461042/avatar.png","web_url":"https://gitlab.com/caalberts"}],"author":{"id":461042,"username":"caalberts","name":"Albert Salim","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/461042/avatar.png","web_url":"https://gitlab.com/caalberts"},"type":"ISSUE","assignee":{"id":461042,"username":"caalberts","name":"Albert Salim","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/461042/avatar.png","web_url":"https://gitlab.com/caalberts"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212637","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212637","notes":"https://gitlab.com/api/v4/projects/278964/issues/212637/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212637/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212637","relative":"#212637","full":"gitlab-org/gitlab#212637"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32518569,"iid":212635,"project_id":278964,"title":"Location fingerprint for a DAST vulnerability should be stable between executions","description":"### Problem to solve\r\n\r\nVulnerability rules executed by DAST work by being passed information about a URL on the target website. Depending on how deep the scan goes, the rule can generate many requests with fuzzed properties to the provided URL. This means that two executions of DAST against the same website produces the same vulnerabilities, but each having potentially different locations (URLs).\r\n\r\nWhen a DAST scan runs on an MR, this can result in the MR Security widget showing fixed and new vulnerabilities. These vulnerabilities are conceptually the same.\r\n\r\nLack of stability of location will be exacerbated by the introduction of https://gitlab.com/gitlab-org/gitlab/issues/205489, because Vulnerability feedback added on an MR is not guaranteed to persist when the MR is merged.\r\n\r\n\r\n### Intended users\r\n\r\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\r\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\r\n\r\n### Proposal\r\n\r\nOpportunities for non-deterministic behaviour that could lead to different `locations`:\r\n- Spider scans perform posts, I believe form data is fuzzed (not verified)\r\n- AJAX scans (not verified)\r\n- Active (Full) Scan validation rules\r\n- The website under test can behave differently on different runs (not in DAST's control)\r\n\r\n### Permissions and Security\r\n\r\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?--\u003e\r\n\r\n### Documentation\r\n\r\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html\r\nAdd all known Documentation Requirements here, per https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements\r\nIf this feature requires changing permissions, this document https://docs.gitlab.com/ee/user/permissions.html must be updated accordingly. --\u003e\r\n\r\n\r\n### What is the type of buyer?\r\n\r\n[Gold/Ultimate](https://about.gitlab.com/handbook/product/pricing/#four-tiers)\r\n\r\n\r\n### Implementation plan\r\n\r\n__Exploratory phase__\r\n- [x] On a relatively complicated website, run DAST on master, and on a MR. Explore differences in the MR widget\r\n- [x] Print URLs on the attack surface, and URLs hit. Are they related? Do vulnerabilities get registered with the URL on the attack surface?\r\n- [x] Explore the ZAP Plugin code to get an idea of which vulnerability rules fuzz\r\n- [x] Explore the ZAP Plugin code to get an idea of which vulnerability rules use the `param`, and for what\r\n- [x] Run multiple ZAP spider scans on the same website. How deterministic are spider scans? \r\n- [x] Run multiple ZAP spider scans on the same website. How deterministic are spider scans? \r\n\r\n__Implementation phase__\r\n\r\nThe outcome of the exploratory phase will guide the implementation.\r\n\r\nSuggestions\r\n- [ ] Remove query parameters on `path` in `location_fingerprint`. This may need to be configurable.\r\n- [ ] Remove `param` in the `location_fingerprint`","state":"closed","created_at":"2020-03-27T01:44:30.330Z","updated_at":"2021-04-03T08:42:30.137Z","closed_at":"2020-06-22T22:14:27.838Z","closed_by":{"id":4312863,"username":"cam_swords","name":"Cameron Swords","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3b729cf96bcced6384ebb94f0362bd4b?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam_swords"},"labels":["Category:DAST","backend","devops::secure","group::dynamic analysis","missed:13.1","type::feature"],"milestone":{"id":1233746,"iid":49,"group_id":9970,"title":"13.2","description":"https://about.gitlab.com/releases/2020/07/22/gitlab-13-2-released/","state":"closed","created_at":"2020-04-09T17:28:01.032Z","updated_at":"2022-04-13T14:48:24.167Z","due_date":"2020-07-17","start_date":"2020-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/49"},"assignees":[{"id":4312863,"username":"cam_swords","name":"Cameron Swords","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3b729cf96bcced6384ebb94f0362bd4b?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam_swords"}],"author":{"id":4312863,"username":"cam_swords","name":"Cameron Swords","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3b729cf96bcced6384ebb94f0362bd4b?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam_swords"},"type":"ISSUE","assignee":{"id":4312863,"username":"cam_swords","name":"Cameron Swords","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3b729cf96bcced6384ebb94f0362bd4b?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam_swords"},"user_notes_count":15,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212635","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":8,"completed_count":6},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"6 of 8 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212635","notes":"https://gitlab.com/api/v4/projects/278964/issues/212635/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212635/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212635","relative":"#212635","full":"gitlab-org/gitlab#212635"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32515652,"iid":212630,"project_id":278964,"title":"Stored XSS via Zoom meeting url on project import","description":"**[HackerOne report #832117](https://hackerone.com/reports/832117)** by `vakzz` on 2020-03-26, assigned to @rchan-gitlab:\n\n### Summary  \nWhen importing a project that has an issue with a zoom meeting, the `ZoomUrlValidator` only checks to see if the `url` fields *contains* a valid url not that the whole field is a valid url. This allows a url such as `javascript:alert(document.domain);//https://zoom.us/my/5556` to pass the validation and to be set as the `href` of the `Join Zoom meeting` link.  \n \n```ruby  \nclass ZoomUrlValidator \u003c ActiveModel::EachValidator  \n  def validate_each(record, attribute, value)  \n    return if Gitlab::ZoomLinkExtractor.new(value).links.size == 1\n\n    record.errors.add(:url, 'must contain one valid Zoom URL')  \n  end  \nend\n\nclass ZoomLinkExtractor  \n  ZOOM_REGEXP = %r{https://(?:[\\w-]+\\.)?zoom\\.us/(?:s|j|my)/\\S+}.freeze\n\n  def initialize(text)  \n    [@]text = text.to_s  \n  end\n\n  def links  \n    [@]text.scan(ZOOM_REGEXP)  \n  end\n\n  def match?  \n    ZOOM_REGEXP.match?([@]text)  \n  end  \nend  \n```\n\n### Steps to reproduce  \n1. Create a new project  \n1. Add an issue  \n1. Add a comment with `/zoom https://zoom.us/my/5556` to add a zoom meeting  \n1. Export the project  \n1. Change the `url` attribute of the zoom meeting in `project.json` to be `javascript:alert(document.domain);//https://zoom.us/my/5556\"`  \n1. Import the project  \n1. Command/Control clicking the `Join zoom meeting` button will trigger the payload in Chrome/Firefox or a regular left click in Safari/Edge\n\nDemo  \n![zoom-xss.mp4](https://h1.sec.gitlab.net/a/37490f08-d814-41bd-868a-60720b53cefc/zoom-xss.mp4)\n\n### Examples  \nThis also happens on gitlab.com but is blocked due to the CSP\n\nhttps://gitlab.com https://gitlab.com/vakzz-h1/zoom_xss/-/issues/1  \n![Screen_Shot_2020-03-27_at_12.31.49_am.png](https://h1.sec.gitlab.net/a/abcfab5c-4779-4535-8cd0-81926cbc72a5/Screen_Shot_2020-03-27_at_12.31.49_am.png)\n\n### What is the current *bug* behavior?  \nThe url of a `ZoomMeeting` can be anything so long as it contains a valid zoom link somewhere inside it.\n\n### What is the expected *correct* behavior?  \nThe url of a `ZoomMeeting` should be a valid zoom url.\n\n### Output of checks  \n#### Results of GitLab environment info\n\n```  \nSystem information  \nSystem:\t\tUbuntu 18.04  \nProxy:\t\tno  \nCurrent User:\tgit  \nUsing RVM:\tno  \nRuby Version:\t2.6.5p114  \nGem Version:\t2.7.10  \nBundler Version:1.17.3  \nRake Version:\t12.3.3  \nRedis Version:\t5.0.7  \nGit Version:\t2.24.1  \nSidekiq Version:5.2.7  \nGo Version:\tunknown\n\nGitLab information  \nVersion:\t12.8.7-ee  \nRevision:\t2643fd87200  \nDirectory:\t/opt/gitlab/embedded/service/gitlab-rails  \nDB Adapter:\tPostgreSQL  \nDB Version:\t10.12  \nURL:\t\thttp://gitlab-vm.local  \nHTTP Clone URL:\thttp://gitlab-vm.local/some-group/some-project.git  \nSSH Clone URL:\tgit@gitlab-vm.local:some-group/some-project.git  \nElasticsearch:\tno  \nGeo:\t\tno  \nUsing LDAP:\tno  \nUsing Omniauth:\tyes  \nOmniauth Providers:\n\nGitLab Shell  \nVersion:\t11.0.0  \nRepository storage paths:  \n- default: \t/var/opt/gitlab/git-data/repositories  \nGitLab Shell path:\t\t/opt/gitlab/embedded/service/gitlab-shell  \nGit:\t\t/opt/gitlab/embedded/bin/git  \n```\n\n## Impact\n\nIf a user clicks the link then the attacker could execute requests on behalf of the user\n\n## Attachments\n\n**Warning:** Attachments received through HackerOne, please exercise caution!\n\n* [zoom-xss.tar.gz](https://h1.sec.gitlab.net/a/57616af1-3406-46c0-a2c7-d55854952eec/zoom-xss.tar.gz)\n* [zoom-xss.mp4](https://h1.sec.gitlab.net/a/37490f08-d814-41bd-868a-60720b53cefc/zoom-xss.mp4)\n* [Screen_Shot_2020-03-27_at_12.31.49_am.png](https://h1.sec.gitlab.net/a/abcfab5c-4779-4535-8cd0-81926cbc72a5/Screen_Shot_2020-03-27_at_12.31.49_am.png)","state":"closed","created_at":"2020-03-26T22:31:17.062Z","updated_at":"2021-05-24T07:48:09.931Z","closed_at":"2020-12-07T21:42:43.487Z","closed_by":{"id":4226366,"username":"ankelly","name":"Andrew Kelly","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4226366/avatar.png","web_url":"https://gitlab.com/ankelly"},"labels":["Category:Importers","HackerOne","Importer:Project Export/Import","Next Up","Weakness::CWE-79","backend","devops::manage","estimation::completed","group::import","milestone::p3","priority::3","section::dev","security","security-backlog::not-reviewed","severity::3","workflow::verification"],"milestone":{"id":1233757,"iid":54,"group_id":9970,"title":"13.7","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:43:14.893Z","updated_at":"2022-04-13T14:51:12.240Z","due_date":"2020-12-17","start_date":"2020-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/54"},"assignees":[{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"}],"author":{"id":2741139,"username":"gitlab-securitybot","name":"GitLab SecurityBot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2741139/avatar.png","web_url":"https://gitlab.com/gitlab-securitybot"},"type":"ISSUE","assignee":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2020-06-27","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212630","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212630","notes":"https://gitlab.com/api/v4/projects/278964/issues/212630/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212630/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212630","relative":"#212630","full":"gitlab-org/gitlab#212630"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2959,"epic":{"id":34392,"iid":2959,"title":"Project Export/Import","url":"/groups/gitlab-org/-/epics/2959","group_id":9970},"iteration":null,"health_status":null},{"id":32510649,"iid":212621,"project_id":278964,"title":"API does not support setting the forward_deployment_enabled (Skip outdated deployment jobs) parameter","description":"### Summary\n\nI am unable to set the forward_deployment_enabled parameter when creating new projects via the API. As of 12.9 gitlab released https://docs.gitlab.com/ee/ci/pipelines/settings.html#skip-outdated-deployment-jobs.  This defaults to true per this MR: https://gitlab.com/gitlab-org/gitlab/-/commit/42a9c143a7dbf8fd71da042179e60c98046a99a8#d86aa02ea6bc14d4b12f653b37a36e78922ec35f. The only way to toggle it is to manually go into each project and toggle the check box for newly created projects. You should be able to toggle this parameter when creating new projects via api. \n\n### Steps to reproduce\n\n```\ncurl --request POST \\\n  --url https://gitlab.com/api/v4/projects \\\n  --header 'accept: application/json' \\\n  --header 'content-type: application/json' \\\n  --header 'private-token: redacted' \\\n  --data '{\"name\": \"foo\",\n  \"auto_cancel_pending_pipelines\": \"disabled\",\n  \"forward_deployment_enabled\": false\n}'\n```\n\nA gitlab ci general setting `auto_cancel_pending_pipelines` is able to be set via API, while the `forward_deployment_enabled` is not.\n\n### What is the current *bug* behavior?\n\nforward_deployment_enabled defaults to true, ignoring value in json post\n\n### What is the expected *correct* behavior?\n\nTo be able to set `forward_deployment_enabled` to `true` or `false`\n\n### Relevant logs and/or screenshots\n\n![image](/uploads/8ccc1ecbf4b65a08b2362dac150545dc/image.png)","state":"closed","created_at":"2020-03-26T20:27:56.723Z","updated_at":"2022-10-20T06:41:17.984Z","closed_at":"2020-10-22T19:28:36.933Z","closed_by":{"id":5370821,"username":"lexicalunit","name":"Amy Troschinetz","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5370821/avatar.png","web_url":"https://gitlab.com/lexicalunit"},"labels":["Category:Continuous Delivery","Release::P3","api","cicd::active","customer","devops::release","environments","group::release","section::ops","type::feature","workflow::production"],"milestone":{"id":1233754,"iid":52,"group_id":9970,"title":"13.5","description":"https://about.gitlab.com/releases/2020/10/22/gitlab-13-5-released/","state":"closed","created_at":"2020-04-09T17:39:21.990Z","updated_at":"2022-04-21T07:21:12.213Z","due_date":"2020-10-17","start_date":"2020-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/52"},"assignees":[{"id":5370821,"username":"lexicalunit","name":"Amy Troschinetz","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5370821/avatar.png","web_url":"https://gitlab.com/lexicalunit"}],"author":{"id":4751271,"username":"elijah_ops","name":"Elijah Roberts","state":"active","avatar_url":"https://secure.gravatar.com/avatar/223efb2f68544f778344bcf9b86997dd?s=80\u0026d=identicon","web_url":"https://gitlab.com/elijah_ops"},"type":"ISSUE","assignee":{"id":5370821,"username":"lexicalunit","name":"Amy Troschinetz","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5370821/avatar.png","web_url":"https://gitlab.com/lexicalunit"},"user_notes_count":19,"merge_requests_count":0,"upvotes":17,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212621","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212621","notes":"https://gitlab.com/api/v4/projects/278964/issues/212621/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212621/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212621","relative":"#212621","full":"gitlab-org/gitlab#212621"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32508832,"iid":212618,"project_id":278964,"title":"User#gitlab_employee? should return `false` for users with unverified email","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\n[`gitlab_employee?`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/models/user.rb#L1695) returns `true` even if the user has not verified their email. On gitlab.com a user can register with any email address and post comments without verifying their email. This could potentially cause issues as someone could signup with a `@gitlab.com` email address even if they are not a GitLab employee.\n\nWill mostly be an issue for #212259\n\n### Steps to reproduce\n\n- Turn on Email confirmation in Admin settings: https://docs.gitlab.com/ee/security/user_email_confirmation.html\n- Enable the `:soft_email_confirmation` feature flag (used on gitlab.com)\n- Register with a user with a `@gitlab.com` email address\n- Check the return value of `gitlab_employee?` in the console\n  - `u = User.last`\n  - `u.gitlab_employee?`\n\n### What is the current *bug* behavior?\n\n[`gitlab_employee?`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/models/user.rb#L1695) returns `true` even if user has not verified their email.\n\n### What is the expected *correct* behavior?\n\n[`gitlab_employee?`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/models/user.rb#L1695) should return `false` if user has not verified their email.\n\n### Relevant logs and/or screenshots\n\n![Screen_Shot_2020-03-26_at_12.34.32_PM](/uploads/45fe86e1b4705e24b4e991a9fe2a08bc/Screen_Shot_2020-03-26_at_12.34.32_PM.png)\n\n### Possible fixes\n\nAdd check for verified email","state":"closed","created_at":"2020-03-26T19:52:52.300Z","updated_at":"2020-05-08T19:56:05.651Z","closed_at":"2020-04-02T16:39:26.127Z","closed_by":{"id":444,"username":"dzaporozhets","name":"Dmytro Zaporozhets (DZ)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/444/avatar.png","web_url":"https://gitlab.com/dzaporozhets"},"labels":["backend","devops::manage","group::spaces DEPRECATED","priority::3","severity::2","type::bug","workflow::verification"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":4014344,"username":"aishbuilds","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4014344/avatar.png","web_url":"https://gitlab.com/aishbuilds"}],"author":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"type":"ISSUE","assignee":{"id":4014344,"username":"aishbuilds","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4014344/avatar.png","web_url":"https://gitlab.com/aishbuilds"},"user_notes_count":0,"merge_requests_count":1,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212618","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212618","notes":"https://gitlab.com/api/v4/projects/278964/issues/212618/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212618/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212618","relative":"#212618","full":"gitlab-org/gitlab#212618"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3241,"epic":{"id":51379,"iid":3241,"title":"GitLab Team Member badges","url":"/groups/gitlab-org/-/epics/3241","group_id":9970,"human_readable_end_date":"May 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":32498856,"iid":212595,"project_id":278964,"title":"Improve web UI/editor UI for CODEOWNER failures","description":"When a user attempts to merge a change to a protected branch, and that changeset includes files that would violate the project's `CODEOWNERS` rules, we display mixed messaging.\n\n## Editor\n\nIts messaging is correct, but might want to be visited with some formatting; it is using a recycled version of the CLI error message.\n\n![_deloox___GitLab_2020-03-19_11-02-32](/uploads/056e6454aa0a55ef4d15b9849679da4e/_deloox___GitLab_2020-03-19_11-02-32.png)\n\n## Web IDE\n\nMeanwhile, the Web IDE's error is flatly wrong; the FE interprets any kind of error from the merge attempt as a conflict.\n\n![deloox___GitLab_2020-02-13_12-09-37](/uploads/9420e586af49e61e412c9051973b9399/deloox___GitLab_2020-02-13_12-09-37.png)\n\nIn our initial exploration, we identified other opportunities for improvement, such as flagging files in the tree view _before_ merge attempt, as well as adding integration tests that actually test the entire cycle within the context of an existing `CODEOWNERS` rule.\n\nhttps://gitlab.com/gitlab-org/gitlab/-/issues/118807#note_287984794\n\n### Proposal\nDisplay error messages matching the following scenarios when committing.  For the single file editor display error messages in an alert.  In the Web IDE display messages in a modal.\n\n| Scenario | Message | Action buttons |\n| ------ | ------ | ------ |\n| Unexpected error| Could not commit.  An unexpected error occurred | Cancel |\n| CODEOWNERS rule violation | Pushes to protected branches that contain changes to files that match patterns defined in `CODEOWNERS` are disabled for this project. Please submit these changes via a merge request. The following pattern(s) from `CODEOWNERS` were matched: - *.md  | Create new branch, Cancel |\n| Branch changed | This branch has changed since you started editing. Would you like to create a new branch?  | Create new branch, Cancel |\n\n### Availability and Testing\n\nRegression testing: running `package-and-qa` in MR recommended to ensure existing functionality is not affected by the modifications. We might also need to modify any front-end/QA tests that verify error messages.","state":"closed","created_at":"2020-03-26T17:05:50.786Z","updated_at":"2020-09-25T12:22:25.843Z","closed_at":"2020-09-21T18:39:20.226Z","closed_by":{"id":4058309,"username":"mnohr","name":"Matt Nohr","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f2b70c7a75fd0a15ef789d4b1e620449?s=80\u0026d=identicon","web_url":"https://gitlab.com/mnohr"},"labels":["Category:Web IDE","Deliverable","UX","backend","backend-weight::1","devops::create","frontend","frontend-weight::2","group::editor","missed-deliverable","missed:13.0","missed:13.1","missed:13.2","quad-planning::complete-action","section::dev","type::feature","workflow::verification"],"milestone":{"id":1233753,"iid":51,"group_id":9970,"title":"13.4","description":"https://about.gitlab.com/releases/2020/09/22/gitlab-13-4-released/","state":"closed","created_at":"2020-04-09T17:39:21.662Z","updated_at":"2022-04-13T14:50:33.769Z","due_date":"2020-09-17","start_date":"2020-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/51"},"assignees":[{"id":2233420,"username":"pslaughter","name":"Paul Slaughter","state":"active","avatar_url":"https://secure.gravatar.com/avatar/631b25421eb206ab44cb2793ef09d881?s=80\u0026d=identicon","web_url":"https://gitlab.com/pslaughter"},{"id":3719688,"username":"mnichols1","name":"Mike Nichols","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3719688/avatar.png","web_url":"https://gitlab.com/mnichols1"},{"id":5068667,"username":"rkuba","name":"Roman Kuba","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5068667/avatar.png","web_url":"https://gitlab.com/rkuba"},{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"}],"author":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"type":"ISSUE","assignee":{"id":2233420,"username":"pslaughter","name":"Paul Slaughter","state":"active","avatar_url":"https://secure.gravatar.com/avatar/631b25421eb206ab44cb2793ef09d881?s=80\u0026d=identicon","web_url":"https://gitlab.com/pslaughter"},"user_notes_count":24,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212595","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212595","notes":"https://gitlab.com/api/v4/projects/278964/issues/212595/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212595/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212595","relative":"#212595","full":"gitlab-org/gitlab#212595"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32498779,"iid":212592,"project_id":278964,"title":"Disable Edit button in snippets, when the blob is binary","description":"At the moment, we don't have any UI component to deal with editing/updating snippets with binary files (like images). Instead, we're going to disable editing if this `blob.binary?`.\n\nIn the frontend side, we can disable the button if this is the case","state":"closed","created_at":"2020-03-26T17:03:20.260Z","updated_at":"2020-06-30T13:57:54.758Z","closed_at":"2020-05-08T08:47:19.797Z","closed_by":{"id":3199302,"username":"dmishunov","name":"Denys Mishunov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d85e45af29611ac2c1395e3c3d6ec5d6?s=80\u0026d=identicon","web_url":"https://gitlab.com/dmishunov"},"labels":["Category:Snippets","Deliverable","devops::create","frontend","group::editor"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":3199302,"username":"dmishunov","name":"Denys Mishunov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d85e45af29611ac2c1395e3c3d6ec5d6?s=80\u0026d=identicon","web_url":"https://gitlab.com/dmishunov"}],"author":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"type":"ISSUE","assignee":{"id":3199302,"username":"dmishunov","name":"Denys Mishunov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d85e45af29611ac2c1395e3c3d6ec5d6?s=80\u0026d=identicon","web_url":"https://gitlab.com/dmishunov"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212592","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212592","notes":"https://gitlab.com/api/v4/projects/278964/issues/212592/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212592/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212592","relative":"#212592","full":"gitlab-org/gitlab#212592"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32497950,"iid":212587,"project_id":278964,"title":"Python Custom registry - Detect software licenses in a python project that has a Pipfile.lock file from a pypi mirror","description":"Main issue: https://gitlab.com/gitlab-org/gitlab/-/issues/212573\n\nPull packages from a custom python mirror. Use [--index-url](https://pip.pypa.io/en/stable/reference/pip_install/#install-index-url)","state":"closed","created_at":"2020-03-26T16:35:44.219Z","updated_at":"2020-04-03T19:00:01.852Z","closed_at":"2020-04-03T19:00:01.807Z","closed_by":{"id":971158,"username":"xlgmokha","name":"mo khan","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cc8d289bc1a24067f9af4f92452f4fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/xlgmokha"},"labels":["Category:License Compliance","backend","devops::secure","group::composition analysis","sub-issue","type::feature"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":971158,"username":"xlgmokha","name":"mo khan","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cc8d289bc1a24067f9af4f92452f4fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/xlgmokha"}],"author":{"id":971158,"username":"xlgmokha","name":"mo khan","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cc8d289bc1a24067f9af4f92452f4fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/xlgmokha"},"type":"ISSUE","assignee":{"id":971158,"username":"xlgmokha","name":"mo khan","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cc8d289bc1a24067f9af4f92452f4fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/xlgmokha"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212587","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212587","notes":"https://gitlab.com/api/v4/projects/278964/issues/212587/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212587/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212587","relative":"#212587","full":"gitlab-org/gitlab#212587"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32497753,"iid":212585,"project_id":278964,"title":"Python Custom registry - Detect software licenses in a python project that has a requirements.txt file from a pypi mirror. E.g. https://test.pypi.org/simple/","description":"Main issue: https://gitlab.com/gitlab-org/gitlab/-/issues/212573\n\nPull packages from a custom python mirror. Use [--index-url](https://pip.pypa.io/en/stable/reference/pip_install/#install-index-url)","state":"closed","created_at":"2020-03-26T16:30:45.580Z","updated_at":"2020-04-02T02:39:19.427Z","closed_at":"2020-04-02T02:39:19.380Z","closed_by":{"id":971158,"username":"xlgmokha","name":"mo khan","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cc8d289bc1a24067f9af4f92452f4fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/xlgmokha"},"labels":["Category:License Compliance","devops::secure","group::composition analysis","workflow::production"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":971158,"username":"xlgmokha","name":"mo khan","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cc8d289bc1a24067f9af4f92452f4fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/xlgmokha"}],"author":{"id":971158,"username":"xlgmokha","name":"mo khan","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cc8d289bc1a24067f9af4f92452f4fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/xlgmokha"},"type":"ISSUE","assignee":{"id":971158,"username":"xlgmokha","name":"mo khan","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cc8d289bc1a24067f9af4f92452f4fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/xlgmokha"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212585","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212585","notes":"https://gitlab.com/api/v4/projects/278964/issues/212585/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212585/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212585","relative":"#212585","full":"gitlab-org/gitlab#212585"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32496953,"iid":212584,"project_id":278964,"title":"Version Control for Snippets: Render snippet blobs","description":"Before git version snippets, we stream the data from the database to the user. Now that we have blobs in the repository, we can pass the blob id to Workhorse, and let it do the streaming part.\n\nWe need to ensure we still render snippet without repository blobs in the old way, as text.","state":"closed","created_at":"2020-03-26T16:07:14.560Z","updated_at":"2020-03-30T16:35:22.413Z","closed_at":"2020-03-30T16:28:05.666Z","closed_by":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"labels":["Category:Snippets","backend","devops::create","group::editor","workflow::verification"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"}],"author":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"type":"ISSUE","assignee":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212584","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212584","notes":"https://gitlab.com/api/v4/projects/278964/issues/212584/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212584/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212584","relative":"#212584","full":"gitlab-org/gitlab#212584"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":239,"epic":{"id":470,"iid":239,"title":"Version control for snippets","url":"/groups/gitlab-org/-/epics/239","group_id":9970,"human_readable_end_date":"Jun 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":32496833,"iid":212583,"project_id":278964,"title":"Version Control for Snippets: Implement access rights checking file content type (MVP)","description":"At the moment, the UI is not ready to handle files other than text files. We need to add a checker to prevent pushing binary files to the repository.","state":"closed","created_at":"2020-03-26T16:04:03.506Z","updated_at":"2020-03-26T16:34:18.844Z","closed_at":"2020-03-26T16:34:18.790Z","closed_by":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"labels":["Category:Snippets","backend","devops::create","group::editor","workflow::in dev"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"}],"author":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"type":"ISSUE","assignee":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212583","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212583","notes":"https://gitlab.com/api/v4/projects/278964/issues/212583/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212583/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212583","relative":"#212583","full":"gitlab-org/gitlab#212583"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32492958,"iid":212568,"project_id":278964,"title":"Vulnerability Database information page","description":"### Problem to solve\n\n\u003c!-- What problem do we solve? --\u003e\n\nIt is difficult for users and GitLab staff to understand what is and is not currently inside the Vulnerability Database and information about how often this information is updated.\n\nIt is difficult for users to understand when a new vulnerability is announced, if GitLab is already scanning for it or if they are potentially exposed to it.\n\nWhen users don't understand what we are scanning for and if it is current, they become fearful and have doubts. If they can't get the answer to the questions they have, they either have to live with that fear or engage with GitLab field staff.\n\n### Intended users\n\n\u003c!-- Who will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\n\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops)\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/ --\u003e\n\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n\n\n### Further details\n\n\u003c!-- Include use cases, benefits, and/or goals (contributes to our vision?) --\u003e\n\nThere have been several customers conversations along the lines of \"I heard about CVE XYZ - am I protected against it?\" that this is intended to help address. This has come from non-security engineers, such as PMs, release managers, or CXOs.\n\n### Proposal\n\n\u003c!-- How are we going to solve the problem? Try to include the user journey! https://about.gitlab.com/handbook/journeys/#user-journey --\u003e\n\nCreate a new page inside GitLab.com that allows viewers to:\n\n1. ~~See how many vulnerabilities are currently in the Vulnerability Database~~\n    - This requirement was removed since it requires a large amount of context for the numbers to be meaningful beyond a vanity metric. We anticipate many users will not have this context when viewing the screen so it is not helpful. We will consider re-adding it in a new issue if we get feedback that the raw number would be helpful.\n1. The last time the database was updated\n1. What our current mean time-to-merge is\n1. Search for a specific CVE and see if we currently scan for it.\n1. Domain must be inside GitLab.com and not part of the Handbook\n\nNote: This page does not need to be part of a self-hosted installation - there can be a single copy hosted on GitLab.com.\n\nConsider re-using the work done at https://caneldem.gitlab.io/vuln-pages/, https://about.gitlab.com/handbook/engineering/development/performance-indicators/#cve-issue-to-update, and the [Security Advisories dashboard](https://app.periscopedata.com/app/gitlab/588449/Security-Advisories) for this.\n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?--\u003e\n\nShould be publicly visible on GitLab.com\n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html\nAdd all known Documentation Requirements here, per https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements\nIf this feature requires changing permissions, this document https://docs.gitlab.com/ee/user/permissions.html must be updated accordingly. --\u003e\n\nDocumentation should be updated to reference the new page.\n\n### What does success look like, and how can we measure that?\n\n\u003c!-- Define both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. --\u003e\n\n* Field staff can confidently answer customers that a given vulnerability they are concerned about is being scanned for. =\u003e Canvas field staff that they get value out of the page\n* Customers can directly access vulnerability information to understand what we scan for. =\u003e Measure page views\n\n### What is the type of buyer?\n\n\u003c!-- Which leads to: in which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#four-tiers --\u003e\n\n### Is this a cross-stage feature?\n\n\u003c!-- Communicate if this change will affect multiple Stage Groups or product areas. We recommend always start with the assumption that a feature request will have an impact into another Group. Loop in the most relevant PM and Product Designer from that Group to provide strategic support to help align the Group's broader plan and vision, as well as to avoid UX and technical debt. https://about.gitlab.com/handbook/product/#cross-stage-features --\u003e\n\n### Links / references\n\n* [Security Advisories dashboard](https://app.periscopedata.com/app/gitlab/588449/Security-Advisories)\n* [CVE updates in handbook](https://about.gitlab.com/handbook/engineering/development/performance-indicators/#cve-issue-to-update)\n* [Can's Vulnerability list page](https://caneldem.gitlab.io/vuln-pages/)","state":"closed","created_at":"2020-03-26T14:34:19.410Z","updated_at":"2020-05-20T14:10:06.017Z","closed_at":"2020-05-20T14:10:05.974Z","closed_by":{"id":4161201,"username":"tstadelhofer","name":"Todd Stadelhofer","state":"active","avatar_url":"https://secure.gravatar.com/avatar/462ca93b61be9ab6c88dc8009eb12c3e?s=80\u0026d=identicon","web_url":"https://gitlab.com/tstadelhofer"},"labels":["Deliverable","devops::secure","frontend","group::vulnerability research","secure:refinement-frontend","type::feature","vulnerability research::advisory"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":4161201,"username":"tstadelhofer","name":"Todd Stadelhofer","state":"active","avatar_url":"https://secure.gravatar.com/avatar/462ca93b61be9ab6c88dc8009eb12c3e?s=80\u0026d=identicon","web_url":"https://gitlab.com/tstadelhofer"},{"id":4376883,"username":"stkerr","name":"Sam Kerr","state":"active","avatar_url":"https://secure.gravatar.com/avatar/591c8b969464f7b4fb97b6f2f654f11a?s=80\u0026d=identicon","web_url":"https://gitlab.com/stkerr"}],"author":{"id":4376883,"username":"stkerr","name":"Sam Kerr","state":"active","avatar_url":"https://secure.gravatar.com/avatar/591c8b969464f7b4fb97b6f2f654f11a?s=80\u0026d=identicon","web_url":"https://gitlab.com/stkerr"},"type":"ISSUE","assignee":{"id":4161201,"username":"tstadelhofer","name":"Todd Stadelhofer","state":"active","avatar_url":"https://secure.gravatar.com/avatar/462ca93b61be9ab6c88dc8009eb12c3e?s=80\u0026d=identicon","web_url":"https://gitlab.com/tstadelhofer"},"user_notes_count":40,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212568","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212568","notes":"https://gitlab.com/api/v4/projects/278964/issues/212568/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212568/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212568","relative":"#212568","full":"gitlab-org/gitlab#212568"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1309,"epic":{"id":7083,"iid":1309,"title":"Vulnerability Database Category Vision","url":"/groups/gitlab-org/-/epics/1309","group_id":9970,"human_readable_end_date":"May 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":32492175,"iid":212566,"project_id":278964,"title":"Move Design Management Point of Interest Discussions to Core/Foss","description":"### Overview\n\nAs part of an [effort to open source](https://gitlab.com/groups/gitlab-com/packaging-and-pricing/-/epics/1) some currently paid features and move them to our free tier the Point of Interest Discussions in Design Management has been identified as a feature worth moving down.\n\n\n### Proposal\n\nAll of the current features for Designs on issues should be moved down to Core.\n\nEng team to list steps required:\n\n\n\u003c!-- ### Permissions and Security\n\nWhat permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?--\u003e\n\n### Documentation\n\nDocumentation for this feature should be updated to reflect that this is no longer in a paid tier.  \n\n### MR Breakdown\n\n#### Backend\n\n@alexkalderimis:\n\nMostly a case of moving files out of `EE`, but there are a lot of them, so this might want to be broken down into chunks.\n* 1 MR for Models\n* 1 MR for Services\n* 1 MR for GraphQL\n\n@toupeira:\nMostly a case of moving files out of `EE`, but there are a lot of them, so this might want to be broken down into chunks\n* 1 MR to Port models, permissions\n* 1 MR to Port GraphQL types and mutations\n* 1 MR to Port controllers\n\n@.Luke:\n\n* There would be one tweak to License and to Project#design_management_enabled? and tweaks to associated tests but very minor.\n* The rest of the work is a giant code move and removing the namespacing of every design management backend Ruby class.\n\n#### Frontend\n\n@tomquirk:\n\n1. (https://gitlab.com/gitlab-org/gitlab/-/merge_requests/31058) Move all JS files\n    - Move design management Vue app code from `ee/app/assets/javascripts/design_management/` =\u003e `app/assets/javascripts/design_management/` \n    - Move design management specs from `ee/spec/frontend/design_management/` =\u003e `spec/frontend/design_management/`\n2. (https://gitlab.com/gitlab-org/gitlab/-/merge_requests/31306) Import and initialize the Vue app from within `app/assets/javascripts/pages/projects/issues/show.js` (and remove the initialization from `ee/app/assets/javascripts/pages/projects/issues/show.js`)\n    - check first for `.js-design-management` before mounting (this won't exist yet, so at this point, design management still won't be visible in FOSS)\n3. (https://gitlab.com/gitlab-org/gitlab/-/merge_requests/31309) Add Designs tab to FOSS (**this makes Design Management actually useable in the UI**)\n    - Shift Discussions tab and Designs tab HAML (`ee/app/views/projects/issues/_discussion.html.haml`) to a file under `app/views/projects/issues/`\n    - Update `app/views/projects/issues/show.html.haml` to render this new template from above ^\n4. (!31309) Move Ruby feature specs to FOSS\n\n### Testing Activity\n\n@.Luke:\n* Existing tests will pass after being moved. \n* Project#design_management_enabled? test will change. \n* Tests will no longer need to stub the license.\n\n\n### Availability \u0026 Testing\n\n@tmslvnkc:\n\n* [ ]  ~QA Moving the existing E2E test for ~\"Category:Design Management\" to `core`","state":"closed","created_at":"2020-03-26T14:21:00.227Z","updated_at":"2022-04-13T03:57:16.228Z","closed_at":"2020-05-18T14:48:17.060Z","closed_by":{"id":4669960,"username":"cdybenko","name":"Christen Dybenko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4669960/avatar.png","web_url":"https://gitlab.com/cdybenko"},"labels":["Category:Design Management","Deliverable","auto updated","backend","backend-weight::3","devops::plan","direction","documentation","frontend","frontend-weight::2","group::product planning","potential proposal","quad-planning::complete-action","type::feature","workflow::canary"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"},{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"}],"author":{"id":4669960,"username":"cdybenko","name":"Christen Dybenko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4669960/avatar.png","web_url":"https://gitlab.com/cdybenko"},"type":"ISSUE","assignee":{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"},"user_notes_count":72,"merge_requests_count":1,"upvotes":24,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212566","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":6,"blocking_issues_count":1,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212566","notes":"https://gitlab.com/api/v4/projects/278964/issues/212566/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212566/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212566","relative":"#212566","full":"gitlab-org/gitlab#212566"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1710,"epic":{"id":10359,"iid":1710,"title":"[MATURITY] Design Management - Viable","url":"/groups/gitlab-org/-/epics/1710","group_id":9970,"human_readable_end_date":"Sep 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"needs_attention"},{"id":32487324,"iid":212549,"project_id":278964,"title":"Padding in snippet blob header","description":"### Summary\n\nThe padding between the two button groups in the header of a blob view for snippets is an HTML whitespace, so about 3.95px. According to Pajamas, spacing for this should actually be 8px.\n\n![image](/uploads/433627b11455741933bf1b85f495c9bd/image.png)","state":"closed","created_at":"2020-03-26T12:14:39.267Z","updated_at":"2020-04-27T09:14:32.270Z","closed_at":"2020-04-22T13:42:02.972Z","closed_by":{"id":3199302,"username":"dmishunov","name":"Denys Mishunov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d85e45af29611ac2c1395e3c3d6ec5d6?s=80\u0026d=identicon","web_url":"https://gitlab.com/dmishunov"},"labels":["Category:Snippets","Community contribution","UI polish","UX","UX debt","devops::create","group::editor","priority::4","severity::4","type::bug"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":5568539,"username":"Karthick_Venkatesan","name":"Karthick Venkatesan","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d9615228b74879c02cf5e2c09c3da764?s=80\u0026d=identicon","web_url":"https://gitlab.com/Karthick_Venkatesan"}],"author":{"id":3688647,"username":"mvanremmerden","name":"Marcel van Remmerden","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4f46ed49b87eab9e74f20e0e25b36d0f?s=80\u0026d=identicon","web_url":"https://gitlab.com/mvanremmerden"},"type":"ISSUE","assignee":{"id":5568539,"username":"Karthick_Venkatesan","name":"Karthick Venkatesan","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d9615228b74879c02cf5e2c09c3da764?s=80\u0026d=identicon","web_url":"https://gitlab.com/Karthick_Venkatesan"},"user_notes_count":9,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212549","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212549","notes":"https://gitlab.com/api/v4/projects/278964/issues/212549/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212549/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212549","relative":"#212549","full":"gitlab-org/gitlab#212549"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32486945,"iid":212547,"project_id":278964,"title":"Child pipeline jobs timeout before they should","description":"### Summary\n\nJobs are timing out unexpectedly after 6-7 hours of being in the \"Pending\" state when they are run as part of a child pipeline and queued waiting for a runner (in this case a Windows runner). The following timeout settings are in place:\n* Project: 5d\n* Job: 5d\n* Runner: 5d\n\n![image](/uploads/5eed39b7ca9b531a04614258343e0f39/image.png)\n\n### Steps to reproduce\n\nI have this issue with the following setup:\n* 3 child pipelines are triggered in parallel from a parent\n* Each child pipeline runs 10 jobs in parallel that are all waiting for the same runner\n* So at the start there are 29 jobs \"Pending\" and 1 \"Running\"\n* After 6-7 hours ~ 20 jobs have completed and the remaining jobs all \"timeout\" with the screenshot shown above.\n* The three timeouts that I am away of are defined above.\n* The other jobs that successfully run all have a \"Timeout\" of 5d: ![image](/uploads/c7cda89f28e8003393bbb15b743b8150/image.png)\n\n### Dev investigation\n\nLooking at the logic though it seems that if a job is stuck is due to either:\n\n1. a runner has not contacted the server for a while (time limit is 1 hour) then it's considered offline. If all available runners are offline then the job is stuck.\n1. you have available runners but none of them can pick the given job. E.g. protected runner or tags don't match.\n\nAs per (1) above, if you have a very limited number of runners (e.g. 1) and each job runs for long time (e.g. more than 1h) you are prone to see these timeouts frequently.\n\n### Potential solutions\n\n- Update `Runner#contacted_at` more frequently. Currently it's done when a Runner requests a new job to execute. The next contact is when the job finishes. It may be possible to update the timestamp more frequently (e.g. when job logs are appended) but it may be too frequent and we need to ensure we don't invalidate the cache too frequently. Perhaps updating it every minute in the job log API endpoint.\n  - It's recommended to add this fix behind a feature flag to ensure we don't introduce any issues with updating the `contacted_at` more frequently.\n\n### Current workaround\n\nBy breaking down long jobs into smaller chunks that take less than 1 hour each it should be possible not to see this issue \n\n### What is the current *bug* behavior?\n\nJobs time out before the defined timeouts\n\n### What is the expected *correct* behavior?\n\nJobs should only time out once the configured timeout has elapsed\n\n### Versions\nThis issue was found on a hosted deployment running 12.9. The Windows runner is 12.9.0","state":"closed","created_at":"2020-03-26T12:04:07.709Z","updated_at":"2022-03-28T03:03:40.021Z","closed_at":"2022-03-28T03:03:40.008Z","closed_by":{"id":1786152,"username":"gitlab-bot","name":"🤖 GitLab Bot 🤖","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1786152/avatar.png","web_url":"https://gitlab.com/gitlab-bot"},"labels":["Category:Continuous Integration","Seeking community contributions","Verify candidate","[deprecated] Accepting merge requests","auto closed","backend","devops::verify","group::pipeline execution","missed-deliverable","missed:13.4","priority::3","section::ops","severity::3","stale","type::bug","vintage","workflow::ready for development"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":4775806,"username":"dave.studley","name":"Dave","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c0931b540c609d76e1f1a98457dca798?s=80\u0026d=identicon","web_url":"https://gitlab.com/dave.studley"},"type":"ISSUE","assignee":null,"user_notes_count":21,"merge_requests_count":0,"upvotes":4,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212547","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212547","notes":"https://gitlab.com/api/v4/projects/278964/issues/212547/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212547/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212547","relative":"#212547","full":"gitlab-org/gitlab#212547"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32485598,"iid":212543,"project_id":278964,"title":"Add filtering support for Requirements list","description":"# Summary\n\nAdd support for filtered search bar in Requirements list page which can be used to filter requirements based on `title` \u0026 `author`. The relevant frontend MR to implement the UI should also include sorting support to sort the list based on create/update dates.\n\n![image](/uploads/0a4bd4eb40f2bea2d5f8675db1689a12/image.png)","state":"closed","created_at":"2020-03-26T11:24:17.334Z","updated_at":"2020-10-16T19:49:30.420Z","closed_at":"2020-06-05T14:11:29.004Z","closed_by":{"id":1230286,"username":"xanf","name":"Illya Klymov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ce4d16557b46210fa57641531b570dd4?s=80\u0026d=identicon","web_url":"https://gitlab.com/xanf"},"labels":["Breakdown Sufficient","GitLab Ultimate","Technical Writing","backend","devops::plan","direction","documentation","frontend","group::product planning","missed:13.0","planning priority","type::feature","workflow::in dev"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":411701,"username":"kushalpandya","name":"Kushal Pandya","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/411701/avatar.png","web_url":"https://gitlab.com/kushalpandya"},{"id":3717078,"username":"cablett","name":"charlie ablett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3717078/avatar.png","web_url":"https://gitlab.com/cablett"}],"author":{"id":411701,"username":"kushalpandya","name":"Kushal Pandya","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/411701/avatar.png","web_url":"https://gitlab.com/kushalpandya"},"type":"ISSUE","assignee":{"id":411701,"username":"kushalpandya","name":"Kushal Pandya","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/411701/avatar.png","web_url":"https://gitlab.com/kushalpandya"},"user_notes_count":11,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212543","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212543","notes":"https://gitlab.com/api/v4/projects/278964/issues/212543/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212543/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212543","relative":"#212543","full":"gitlab-org/gitlab#212543"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2898,"epic":{"id":32201,"iid":2898,"title":"Improve Requirement Management Experience","url":"/groups/gitlab-org/-/epics/2898","group_id":9970,"human_readable_end_date":"Dec 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":32482539,"iid":212539,"project_id":278964,"title":"It is not possible to force user confirmation from Admin Area if confirmation was expired","description":"### Summary\n\nIt is not possible to force user confirmation from Admin Area if confirmation was expired: after clicking `Confirm user` one sees the message `Successfully confirmed` but user remains unconfirmed.\n\n### Steps to reproduce\n\n- make sure that `Send confirmation email on sign-up` and `Sign-up enabled` options are enabled in Admin Area \u003e Settings \u003e General \u003e Sign-up restrictions.\n- register a new user in your GitLab instance and wait for the confirmation e-mail to expire. Judging by https://gitlab.com/gitlab-org/gitlab/-/blob/master/config/initializers/8_devise.rb#L92, it is hardcoded to 1 day, but to emulate expiration one can change the value of `confirmation_sent_at`:\n\n   ```ruby\n   u = User.find(\u003cUSER_ID\u003e)\n   u.confirmation_sent_at = \u003cSOME_DATE_IN_THE_PAST\u003e\n   u.save\n   ```\n- go to the Admin Area \u003e Users, click this user and click `Confirm user`.\n- you will get a confirmation prompt and the message `Successfully confirmed` but in fact the user will remain unconfirmed, and `Confirm user` block will be still shown.\n \n### What is the current *bug* behavior?\n\nThe user remains unconfirmed after clicking `Confirm user`, no errors are shown. \n\n### What is the expected *correct* behavior?\n\nThe user should be confirmed successfully after clicking `Confirm user`.\n\n### Relevant logs and/or screenshots\n\n- no errors are shown in UI: \n\n   ![confirm_user](/uploads/6e87f9f784f053350c4c7a563444e339/confirm_user.png)\n\n- `production_json.log` also looks good: \n\n   ```shell\n   {\"method\":\"PUT\",\"path\":\"/admin/users/test10u10/confirm\",\"format\":\"html\",\"controller\":\"Admin::UsersController\",\"action\":\"confirm\",\"status\":302,\"duration\":178.76,\"view\":0.0,\"db\":34.16,\"location\":\"https://atatahost.ml/admin/users/test10u10\",\"time\":\"2020-03-26T09:42:41.174Z\",\"params\":[{\"key\":\"_method\",\"value\":\"put\"},{\"key\":\"authenticity_token\",\"value\":\"[FILTERED]\"},{\"key\":\"id\",\"value\":\"test10u10\"}],\"remote_ip\":\"94.180.110.46\",\"user_id\":1,\"username\":\"root\",\"ua\":\"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.149 Safari/537.36\",\"queue_duration\":179.51,\"correlation_id\":\"l7fUJx8epB6\",\"cpu_s\":0.32313987400000005\n   {\"method\":\"GET\",\"path\":\"/admin/users/test10u10\",\"format\":\"html\",\"controller\":\"Admin::UsersController\",\"action\":\"show\",\"status\":200,\"duration\":858.26,\"view\":789.4,\"db\":41.39,\"time\":\"2020-03-26T09:42:42.478Z\",\"params\":[{\"key\":\"id\",\"value\":\"test10u10\"}],\"remote_ip\":\"94.180.110.46\",\"user_id\":1,\"username\":\"root\",\"ua\":\"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.149 Safari/537.36\",\"queue_duration\":15.8,\"correlation_id\":\"Cf6sEDqItG8\",\"cpu_s\":0.8313956560000001}\n   ```\n\n### Output of checks\n\n#### Results of GitLab environment info\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\nSystem information\nSystem:     Ubuntu 16.04\nProxy:      no\nCurrent User:   git\nUsing RVM:  no\nRuby Version:   2.6.5p114\nGem Version:    2.7.10\nBundler Version:1.17.3\nRake Version:   12.3.3\nRedis Version:  5.0.7\nGit Version:    2.24.1\nSidekiq Version:5.2.7\nGo Version: unknown\n\nGitLab information\nVersion:    12.9.0-ee\nRevision:   073a4ba8016\nDirectory:  /opt/gitlab/embedded/service/gitlab-rails\nDB Adapter: PostgreSQL\nDB Version: 10.12\nURL:        https://gitlabdomain.tld\nHTTP Clone URL: https://gitlabdomain.tld/some-group/some-project.git\nSSH Clone URL:  git@gitlabdomain.tld:some-group/some-project.git\nElasticsearch:  no\nGeo:        no\nUsing LDAP: no\nUsing Omniauth: yes\nOmniauth Providers:\n\nGitLab Shell\nVersion:    12.0.0\nRepository storage paths:\n- default:  /var/opt/gitlab/git-data/repositories\nGitLab Shell path:      /opt/gitlab/embedded/service/gitlab-shell\nGit:        /opt/gitlab/embedded/bin/git\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\nChecking GitLab subtasks ...\n\nChecking GitLab Shell ...\n\nGitLab Shell: ... GitLab Shell version \u003e= 12.0.0 ? ... OK (12.0.0)\nRunning /opt/gitlab/embedded/service/gitlab-shell/bin/check\nInternal API available: OK\nRedis available via internal API: OK\ngitlab-shell self-check successful\n\nChecking GitLab Shell ... Finished\n\nChecking Gitaly ...\n\nGitaly: ... default ... OK\n\nChecking Gitaly ... Finished\n\nChecking Sidekiq ...\n\nSidekiq: ... Running? ... yes\nNumber of Sidekiq processes ... 1\n\nChecking Sidekiq ... Finished\n\nChecking Incoming Email ...\n\nIncoming Email: ... Reply by email is disabled in config/gitlab.yml\n\nChecking Incoming Email ... Finished\n\nChecking LDAP ...\n\nLDAP: ... LDAP is disabled in config/gitlab.yml\n\nChecking LDAP ... Finished\n\nChecking GitLab App ...\n\nGit configured correctly? ... yes\nDatabase config exists? ... yes\nAll migrations up? ... yes\nDatabase contains orphaned GroupMembers? ... no\nGitLab config exists? ... yes\nGitLab config up to date? ... yes\nLog directory writable? ... yes\nTmp directory writable? ... yes\nUploads directory exists? ... yes\nUploads directory has correct permissions? ... yes\nUploads directory tmp has correct permissions? ... yes\nInit script exists? ... skipped (omnibus-gitlab has no init script)\nInit script up-to-date? ... skipped (omnibus-gitlab has no init script)\nProjects have namespace: ...\n...\n1/130 ... yes\nRedis version \u003e= 2.8.0? ... yes\nRuby version \u003e= 2.5.3 ? ... yes (2.6.5)\nGit version \u003e= 2.22.0 ? ... yes (2.24.1)\nGit user has default SSH configuration? ... yes\nActive users: ... 41\nIs authorized keys file accessible? ... yes\nElasticsearch version 5.6 - 6.x? ... skipped (elasticsearch is disabled)\n\nChecking GitLab App ... Finished\n\nChecking GitLab subtasks ... Finished\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Notes:\n\n- looks like the issue comes from the third-party module https://github.com/heartcombo/devise/blob/master/lib/devise/models/confirmable.rb#L79. \n\n- the issue may be also partially related to [When LDAP doesn't supply email address the user is no longer allowed to set it in the UI](https://gitlab.com/gitlab-org/gitlab/-/issues/209047).\n\n### Workaround:\n\nFound two of them:\n\n1. run `User.find(\u003cUSER_ID\u003e).send_confirmation_instructions` via the rails console. Then confirm user via one of the three options: via confirmation e-mail, via `Confirm user` in Admin Area, or by running `User.find(\u003cUSER_ID\u003e).confirm` in the console.\n\n2. run `User.find(\u003cUSER_ID\u003e).skip_confirmation!` in the console for the affected user.\n\nTo activate all users on your instance, you may run:\n\n```ruby\nUser.where(confirmed_at: nil).update_all(confirmed_at: Time.now)\n```\n\n### Zendesk Reports (GitLab Internal)\n\n- https://gitlab.zendesk.com/agent/tickets/155957\n- https://gitlab.zendesk.com/agent/tickets/164478\n- https://gitlab.zendesk.com/agent/tickets/166471\n- https://gitlab.zendesk.com/agent/tickets/167299\n- https://gitlab.zendesk.com/agent/tickets/176247\n- https://gitlab.zendesk.com/agent/tickets/183072\n- https://gitlab.zendesk.com/agent/tickets/193370","state":"closed","created_at":"2020-03-26T10:05:44.973Z","updated_at":"2022-01-06T16:04:20.867Z","closed_at":"2022-01-06T04:18:21.107Z","closed_by":{"id":4093067,"username":"manojmj","name":"Manoj M J","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4093067/avatar.png","web_url":"https://gitlab.com/manojmj"},"labels":["Category:Authentication and Authorization","Category:User Management","Support Efficiency","customer","devops::manage","gitlab.com","group::authentication and authorization","internal customer","reproduced on GitLab.com","section::dev","severity::3","type::bug","user settings","workflow::in review"],"milestone":{"id":2156369,"iid":68,"group_id":9970,"title":"14.7","description":"","state":"active","created_at":"2021-07-21T17:39:41.786Z","updated_at":"2021-07-21T17:39:41.786Z","due_date":"2022-01-17","start_date":"2021-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/68"},"assignees":[{"id":4093067,"username":"manojmj","name":"Manoj M J","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4093067/avatar.png","web_url":"https://gitlab.com/manojmj"}],"author":{"id":1990167,"username":"atanayno","name":"Alexandr Tanayno","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1990167/avatar.png","web_url":"https://gitlab.com/atanayno"},"type":"ISSUE","assignee":{"id":4093067,"username":"manojmj","name":"Manoj M J","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4093067/avatar.png","web_url":"https://gitlab.com/manojmj"},"user_notes_count":29,"merge_requests_count":0,"upvotes":16,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212539","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212539","notes":"https://gitlab.com/api/v4/projects/278964/issues/212539/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212539/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212539","relative":"#212539","full":"gitlab-org/gitlab#212539"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32476672,"iid":212530,"project_id":278964,"title":"Unsilence Let's Encrypt errors in Sentry","description":"Revert changes to ACME errors in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/28058 after https://gitlab.com/gitlab-org/gitlab/-/issues/30146 is in production.","state":"closed","created_at":"2020-03-26T07:36:37.537Z","updated_at":"2021-11-18T13:19:43.500Z","closed_at":"2021-11-18T13:19:43.475Z","closed_by":{"id":3379682,"username":"vshushlin","name":"Vladimir Shushlin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3379682/avatar.png","web_url":"https://gitlab.com/vshushlin"},"labels":["Category:Pages","[deprecated] Accepting merge requests","backend","devops::release","group::release","maintenance::refactor","section::ops","workflow::scheduling"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":3379682,"username":"vshushlin","name":"Vladimir Shushlin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3379682/avatar.png","web_url":"https://gitlab.com/vshushlin"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212530","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212530","notes":"https://gitlab.com/api/v4/projects/278964/issues/212530/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212530/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212530","relative":"#212530","full":"gitlab-org/gitlab#212530"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32474631,"iid":212529,"project_id":278964,"title":"Investigate deploying review apps using Helm 3","description":"To investigate what it takes to deploy review app using Helm 3.\n\nFrom team meeting discussion:\n\nDistribution issue:\n- https://gitlab.com/gitlab-org/charts/gitlab/issues/760 \n- https://gitlab.com/groups/gitlab-org/charts/-/epics/1 \n- https://gitlab.com/groups/gitlab-org/charts/-/epics/7\n- Jason’s comment on compatibility: https://gitlab.com/gitlab-org/charts/gitlab/issues/760#note_262723642\n\nRemy: We need to update CI build image (`registry.gitlab.com/gitlab-org/gitlab-build-images:gitlab-charts-build-base`) - we are currently using the same image between review-apps job and charts gitlab project\nSplit the current image to a helm2 image (the current one) and a new helm3 image\nKyle: keep in mind of helm 2 specific steps in the review deploy job\n\n## Todo:\n\n- [x] New CI image with Helm `3.1.2` and `kubectl` `1.18.0`: https://gitlab.com/gitlab-org/gitlab-build-images/-/merge_requests/282/\n- [x] Verify current deployment script with Helm 3 CLI\n- [x] Verify clean up script with Helm 3 CLI\n\n## Questions\n\n- [x] Rollout plan for helm 3\n- [x] can helm 3 releases coexist with helm 2 releases in the same k8s namespace?\n- [x] can 2 external-dns (1 by helm 2 and 1 by helm 3) coexist in the same k8s namespace?\n- [x] how would clean up be done? would helm 3 clean up releases created by helm 2?\n- [x] do we need to migrate helm 2 release to helm 3?\n\n\n## Findings\n\n1. Concurrent deployments from helm2 and helm3 into the same namespace is possible. I had an issue with repeated certmanager installation, but since review app is using its own TLS certificate, this wouldn't be an issue\n    - helm2: https://gitlab.glh2.asalim-k8s.gogitlab.com/\n    - helm3: https://gitlab.glh3.asalim-k8s.gogitlab.com/\n1. Changes needed to related scripts:\n    - `review-deploy`:\n        - `--timeout` option now requires unit: change `900` to `900s`\n        - remove `install_tiller()`\n        - `install_external_dns`:\n            - replace `--tiller-namespace` with `--namespace` in `deploy_exists()`\n            - remove `--tiller-namespace` in `helm repo update` and `helm install`\n            - change repo to bitnami  `helm install --name=release bitnami/external-dns`  https://github.com/helm/charts/tree/master/stable/external-dns#this-helm-chart-is-deprecated\n            - can 2 external-dns coexist in the same k8s namespace? if so, we can install 1 by helm 3, and use it in helm 3 deployment\n    - `review-stop-failed-deployment`:\n        - replace `--tiller-namespace` with `--namespace` in `previous_deploy_failed()`\n    - `review-stop`\n        - change `delete --purge` to `uninstall`\n        - replace `--tiller-namespace` with `namespace`\n    - `review-cleanup`:\n        - `Quality::HelmClient`:\n            - remove `tiller_namespace` from \n            - change `delete --purge` to `uninstall`\n            - remove `--tiller-namespace` in `#raw_releases`\n            - change parsing of helm list json output into `Release` struct\n                - helm2: `{\"Next\":\"\",\"Releases\":[{\"Name\":\"glh2\",\"Revision\":1,\"Updated\":\"Wed Apr  1 13:29:09 2020\",\"Status\":\"DEPLOYED\",\"Chart\":\"gitlab-3.2.1\",\"AppVersion\":\"12.9.1\",\"Namespace\":\"gitlab\"}]}`\n                - helm3: `[{\"name\":\"glh3\",\"namespace\":\"gitlab\",\"revision\":\"1\",\"updated\":\"2020-04-01 13:33:31.716462 +0800 +08\",\"status\":\"deployed\",\"chart\":\"gitlab-3.2.1\",\"app_version\":\"12.9.1\"}]`\n1. Changes needed to configuration:\n    - Verify `redis.metrics.resources.enabled: false` in `base-config.yaml`. This looks like it should be `redis.metrics.enabled: false` (https://gitlab.com/gitlab-org/charts/gitlab/blob/d094b6b23b994f4178ef6883cc27e3c7da906cc0/doc/charts/redis/index.md#L79). This has not failed in helm 2, but when deploying with helm 3, it throws a spec validation error.\n1. helm2 and helm3 keeps track of release history independently, so only helm2 can remove / upgrade helm2 releases and vice versa, unless data is migrated.\n\n# Proposed roll out plan\n\n`review-apps-ee`\n1. https://gitlab.com/gitlab-org/gitlab/-/issues/213197 Create \"helm upgrade\" MR to change scripts to helm 3. This MR would:\n    1. Change `review-deploy`, `review-stop`, `review-stop-failed-deployment` to use helm 3\n    1. Keep `review-cleanup` to use helm 2 for cleaning up helm 2 review apps\n    1. Delete `dns-gitlab-review-app` manually\n    1. Install a new `dns-gitlab-review-app` using helm 3 into the same release name `dns-gitlab-review-app` as part of `review_deploy`\n1. https://gitlab.com/gitlab-org/gitlab/-/issues/213198 Create \"helm3 clean up\" MR to enable clean up of helm 3 tracked review apps\n    1. Create new job `review-cleanup-helm3` to clean up helm 3 review apps\n    1. Change `Quality::HelmClient` to be able to support helm 2 and helm 3 CLI\nhttps://gitlab.com/gitlab-org/gitlab/-/issues/212529#note_315350954) \n1. Merge \"helm upgrade\" MR\n    1. Delete master review app helm 2 installation (see https://gitlab.com/gitlab-org/gitlab/-/issues/212529#note_315355338)\n    1. Next scheduled pipeline will install master review app using helm 3\n    1. Scheduled clean up will clean up helm 2 review apps\n1. Merge \"helm3 clean up\" MR\n    1. At this point, helm 2 and helm 3 releases will be cleaned up by respective jobs\n 1. Existing open MRs will continue to use helm 2 to install review app until they are rebased with master\n      - Upon rebase, helm 3 would attempt to install into the same release name that was previously used by helm 2. If there is an existing helm 2 deployment, this could fail, and requires deleting the helm 2 release first, as noted in https://gitlab.com/gitlab-org/gitlab/-/issues/212529#note_316837035\n 1. New open MRs will use helm 3 to install review app\n 1. Monitor review apps in helm 2 release list\n 1. https://gitlab.com/gitlab-org/gitlab/-/issues/213199 Deprecate helm 2 when there is no more releases - create new \"deprecate helm 2\" MR to:\n    1. Rename `review-cleanup-helm3` to `review-cleanup` and remove the old `review-cleanup` job\n    1. Clean up `Quality::HelmClient`\n    1. clean up tiller\n\n`review-apps-ce`\n1. It shouldn't take additional work, as there are no MRs to this repo\n1.After the change from \"helm upgrade\" MR is pulled into `gitlab-foss`, the pipeline would start using helm 3.\n    1. Delete `dns-gitlab-review-app` manually\n    1. Install a new `dns-gitlab-review-app` using helm 3 into the same release name `dns-gitlab-review-app` (see https://gitlab.com/gitlab-org/gitlab/-/issues/212529#note_315350954) as part of `review_deploy`\n1. After the change from \"deprecate helm 2\" MR is pulled into `gitlab-foss`\n    1. clean up tiller\n\n/cc @gl-quality/eng-prod","state":"closed","created_at":"2020-03-26T06:32:04.012Z","updated_at":"2021-03-22T22:58:44.813Z","closed_at":"2020-04-23T06:39:47.278Z","closed_by":{"id":461042,"username":"caalberts","name":"Albert Salim","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/461042/avatar.png","web_url":"https://gitlab.com/caalberts"},"labels":["Engineering Productivity","ep::review-apps","priority::2"],"milestone":null,"assignees":[{"id":461042,"username":"caalberts","name":"Albert Salim","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/461042/avatar.png","web_url":"https://gitlab.com/caalberts"}],"author":{"id":461042,"username":"caalberts","name":"Albert Salim","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/461042/avatar.png","web_url":"https://gitlab.com/caalberts"},"type":"ISSUE","assignee":{"id":461042,"username":"caalberts","name":"Albert Salim","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/461042/avatar.png","web_url":"https://gitlab.com/caalberts"},"user_notes_count":23,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212529","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":8,"completed_count":8},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"8 of 8 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212529","notes":"https://gitlab.com/api/v4/projects/278964/issues/212529/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212529/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212529","relative":"#212529","full":"gitlab-org/gitlab#212529"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32470297,"iid":212523,"project_id":278964,"title":"DELETE /projects/:id/deploy_tokens/:token_id doesn't remove the token from GET /deploy_tokens","description":"Removing a project deploy token using `DELETE /projects/:id/deploy_tokens/:token_id` removes this token from `GET /projects/:id/deploy_tokens` but doesn't remove it from `GET /deploy_tokens` Is this the desired behaviour ?\n\nIf yes, how can we remove it from `GET /deploy_tokens` ?\n\nI note that the token becomes invalid (at least for a project read_repository token)\n\nI didn't test for group deploy tokens.\n\nEDIT:\n\nThe behaviour is the same when I delete a project deploy token using the UI.\n\nThe token is revoked, but it still exists in the BD, and `GET /deploy_tokens` returns it. The problem is that the response doesn't mark the token as revoked and that can be confusing.\n\nAnd how can we clean those revoked rows from the table `deploy_tokens`, are they removed once they expire ? Is there a cleaning process ?","state":"closed","created_at":"2020-03-26T02:39:06.958Z","updated_at":"2020-04-06T21:29:55.818Z","closed_at":"2020-04-06T21:29:55.774Z","closed_by":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"labels":["devops::package","group::package registry","priority::4","severity::4","type::bug","workflow::verification"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"}],"author":{"id":3768676,"username":"machine424","name":"machine424","state":"active","avatar_url":"https://secure.gravatar.com/avatar/12f2d4258e2d60005c8320f39448b740?s=80\u0026d=identicon","web_url":"https://gitlab.com/machine424"},"type":"ISSUE","assignee":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"user_notes_count":9,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212523","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212523","notes":"https://gitlab.com/api/v4/projects/278964/issues/212523/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212523/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212523","relative":"#212523","full":"gitlab-org/gitlab#212523"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32467449,"iid":212516,"project_id":278964,"title":"Create Issues for Design Management Rearchitecture Epic","description":"### About\n\nThe product vision for Design Management outlined in https://gitlab.com/groups/gitlab-org/-/epics/2613 and https://gitlab.com/gitlab-org/gitlab/-/issues/204743 requires refactoring the architecture of Design Management.\n\nWe want to capture the work required and break it down into a series of MVC Epics in order to:\n\n- Understand the change as a whole.\n- Organize changes into sensible MVCs.\n- Plan the changes into release cycles.\n\nWe will follow the same process Create:Knowledge underwent to form the Group-level Wiki Epics https://gitlab.com/groups/gitlab-org/-/epics/240.\n\n### Outcome\n\n1. One or more MVC Epics \n1. All issues added to https://docs.google.com/spreadsheets/d/17wg-qQPMqe7JqcUtRHA1K-HQXR1bcavLlftEeeW1ufg/edit#gid=0.","state":"closed","created_at":"2020-03-25T23:06:17.459Z","updated_at":"2020-12-10T18:58:40.139Z","closed_at":"2020-04-20T04:54:06.621Z","closed_by":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"labels":["Category:Design Management","Deliverable","backend","devops::plan","group::product planning","meta"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"}],"author":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"type":"ISSUE","assignee":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212516","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212516","notes":"https://gitlab.com/api/v4/projects/278964/issues/212516/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212516/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212516","relative":"#212516","full":"gitlab-org/gitlab#212516"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32456226,"iid":212497,"project_id":278964,"title":"Update data sent to vulnerabilities page to include less information and use the new data model","description":"## Summary\n\nPer several discussions ([MR27542](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/27542#note_308809632), [MR23553](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/23553#note_287912224), [NoteOn209896](https://gitlab.com/gitlab-org/gitlab/-/issues/209896#note_311505395)) on how much data and which data should be sent up, the data model for the the `Vulnerability` object is being update to remove the dependence on the `finding` object.\n\nTo decouple the dependency of the UI on this data model change, the UI work will continue forward utilizing the `finding` object (if necessary) and this issue will serve as the clean up issue for the UI once the data model.\n\n## Improvements\n\nOnce the `Vulnerability` data model is updated, it will have only the necessary data from the `finding` object, making the payload to the UI smaller.\n\n### Payload\nSuggested payload based on what the UI is using\n```\n    vulnerability_data = {\n        category: vulnerability.report_type,\n        confidence: vulnerability.confidence,\n        create_issue_url: create_vulnerability_feedback_issue_path(vulnerability.finding.project),\n        create_mr_url: create_vulnerability_feedback_merge_request_path(vulnerability.finding.project),\n        description: vulnerability.finding.description,\n        discussion_url: discussions_project_security_vulnerability_path(vulnerability.project, vulnerability),\n        has_mr: !!vulnerability.finding.merge_request_feedback.try(:merge_request_iid),\n        id: vulnerability.id,\n        identifiers: vulnerability.finding.identifiers,\n        issue_feedback: vulnerability.finding.issue_feedback, // Ensure it has the issue_url as well\n        links: vulnerability.finding.links,\n        location: vulnerability.finding.location,\n        notes_url: project_security_vulnerability_notes_path(vulnerability.project, vulnerability),\n        pipeline_json: vulnerability_pipeline_data(pipeline).to_json,\n        project: vulnerability.finding.project\n        project_default_branch\n        project_fingerprint: vulnerability.finding.project_fingerprint,\n        remediations: vulnerability.finding.remediations,\n        resolved_on_default_branch\n        severity: vulnerability.severity,\n        solution: vulnerability.finding.solution,\n        state: vulnerability.state,\n        timestamp: Time.now.to_i\n        title: vulnerability.title,\n        vulnerability_feedback_help_path: help_page_path('user/application_security/index', anchor: 'interacting-with-the-vulnerabilities'),\n        ${vulnerability.state}_by_id // dismissed, resolved, confirmed, and detected by id\n        ${vulnerability.state}_at // dismissed, resolved, confirmed, and detected _at\n    }\n```\n\n## Risks\n\nNone\n\n## Involved components\n\n`gitlab/ee/app/views/projects/security/vulnerabilities/show.html.haml`\n\n`gitlab/ee/app/helpers/vulnerabilities_helper.rb`\n\n`gitlab/ee/app/assets/javascripts/pages/projects/security/vulnerabilities/show/index.js`\n\n\n\n\nRelates to #209896 \n\nRelates to #209994","state":"closed","created_at":"2020-03-25T20:10:35.701Z","updated_at":"2020-07-29T21:23:39.102Z","closed_at":"2020-07-07T22:56:39.261Z","closed_by":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"labels":["Category:Vulnerability Management","[deprecated] Accepting merge requests","backend","backend-weight::3","backstage [DEPRECATED]","devops::govern","frontend","frontend-weight::3","group::threat insights","missed:13.1","workflow::verification"],"milestone":{"id":1233746,"iid":49,"group_id":9970,"title":"13.2","description":"https://about.gitlab.com/releases/2020/07/22/gitlab-13-2-released/","state":"closed","created_at":"2020-04-09T17:28:01.032Z","updated_at":"2022-04-13T14:48:24.167Z","due_date":"2020-07-17","start_date":"2020-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/49"},"assignees":[],"author":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"type":"ISSUE","assignee":null,"user_notes_count":19,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212497","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":8,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212497","notes":"https://gitlab.com/api/v4/projects/278964/issues/212497/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212497/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212497","relative":"#212497","full":"gitlab-org/gitlab#212497"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2997,"epic":{"id":37254,"iid":2997,"title":"Standalone Vulnerabilities MVC Fast Follows","url":"/groups/gitlab-org/-/epics/2997","group_id":9970,"human_readable_end_date":"Sep 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":32455791,"iid":212496,"project_id":278964,"title":"Bulk editing Labels not applying label","description":"### Summary\n\nWhen attempting to bulk add a label to a set of issues from the issue list, the label addition is not being applied. \n\n### Steps to reproduce\n\n* Go to issue list\n* Click Edit Issue\n* Select at least one issue\n* Add a label\n* Click Update All\n\n### Example Project\n\nOccurred on GitLab.org for me. \n\n### What is the current *bug* behavior?\n\nWhen attempting to bulk add a label to a set of issues from the issue list, the label addition is not being applied. \n\n### What is the expected *correct* behavior?\n\nBulk edits should actual edit the issues selected. \n\n### Relevant logs and/or screenshots\nWas attempting to add the ~\"GitLab Ultimate\" label to a set of issues in an Epic. (Some already had it)\nWhen I selected all issues, the ~\"GitLab Ultimate\" wasn't applied, when I selected a single issue, the ~\"GitLab Ultimate\" wasn't applied\n\nIssue List query\nhttps://gitlab.com/groups/gitlab-org/-/issues?scope=all\u0026utf8=%E2%9C%93\u0026state=opened\u0026epic_id=15028\n\nVideo of bug:\n![bulk-edit-issues-bug](/uploads/9bb240337ce40f012b0d5783666a27a2/bulk-edit-issues-bug.mov)\n\n### Output of checks\n\n(If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com)\n\n#### Results of GitLab environment info\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n(If you can, link to the line of code that might be responsible for the problem)","state":"closed","created_at":"2020-03-25T20:01:36.734Z","updated_at":"2020-07-06T15:38:35.570Z","closed_at":"2020-07-06T15:38:35.532Z","closed_by":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"labels":["devops::plan","frontend","group::product planning","issue list","priority::3","severity::3","type::bug","workflow::verification"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":3236898,"username":"rajatgitlab","name":"Rajat Jain","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3236898/avatar.png","web_url":"https://gitlab.com/rajatgitlab"}],"author":{"id":4478389,"username":"kokeefe","name":"Keanon O'Keefe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4478389/avatar.png","web_url":"https://gitlab.com/kokeefe"},"type":"ISSUE","assignee":{"id":3236898,"username":"rajatgitlab","name":"Rajat Jain","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3236898/avatar.png","web_url":"https://gitlab.com/rajatgitlab"},"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212496","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212496","notes":"https://gitlab.com/api/v4/projects/278964/issues/212496/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212496/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212496","relative":"#212496","full":"gitlab-org/gitlab#212496"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32454892,"iid":212494,"project_id":278964,"title":"Allow Hiding/Collapsing of Milestone header on Roadmap","description":"### Problem to solve\n\nAs a Roadmaps user, I'd like to hide/collapse the milestone header, so I can keep the roadmap clean when presenting it to stakeholders who aren't concerned about individual time boxes.\n\n### Intended users\n\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n\n### Proposal\n\n* A click to collapse option for the milestone header  \n* Add milestone icon with total milestone count to milestone row\n* Milestones are open by default\n\n\n![milestonescollapse](/uploads/6e74a5cc314eb65d3765038c65396d83/milestonescollapse.gif)\n\n\n**Specs:** https://gitlab-org.gitlab.io/gitlab-design/hosted/alexis/%23212494-collapse-roadmap-milestones-spec-previews/\n\n### Documentation\n\nUpdate roadmap documentation\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\n What risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\n### What does success look like, and how can we measure that?\n\nMonitor [Roadmap view SMAU](https://app.periscopedata.com/app/gitlab/602355/Keanons-Working-Dash?widget=7929492\u0026udv=962108)","state":"closed","created_at":"2020-03-25T19:45:17.124Z","updated_at":"2021-11-08T17:02:21.618Z","closed_at":"2020-06-29T06:26:04.137Z","closed_by":{"id":5961404,"username":"euko","name":"Eulyeon Ko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5961404/avatar.png","web_url":"https://gitlab.com/euko"},"labels":["Breakdown Sufficient","Category:Portfolio Management","Technical Writing","devops::plan","frontend","group::product planning","roadmaps","type::feature","workflow::production"],"milestone":{"id":1233746,"iid":49,"group_id":9970,"title":"13.2","description":"https://about.gitlab.com/releases/2020/07/22/gitlab-13-2-released/","state":"closed","created_at":"2020-04-09T17:28:01.032Z","updated_at":"2022-04-13T14:48:24.167Z","due_date":"2020-07-17","start_date":"2020-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/49"},"assignees":[{"id":3617348,"username":"uhlexsis","name":"Alexis Ginsberg","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3617348/avatar.png","web_url":"https://gitlab.com/uhlexsis"},{"id":5961404,"username":"euko","name":"Eulyeon Ko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5961404/avatar.png","web_url":"https://gitlab.com/euko"}],"author":{"id":4478389,"username":"kokeefe","name":"Keanon O'Keefe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4478389/avatar.png","web_url":"https://gitlab.com/kokeefe"},"type":"ISSUE","assignee":{"id":3617348,"username":"uhlexsis","name":"Alexis Ginsberg","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3617348/avatar.png","web_url":"https://gitlab.com/uhlexsis"},"user_notes_count":15,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212494","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212494","notes":"https://gitlab.com/api/v4/projects/278964/issues/212494/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212494/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212494","relative":"#212494","full":"gitlab-org/gitlab#212494"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32449509,"iid":212483,"project_id":278964,"title":"Update Threat Monitoring empty state link to new threat monitoring page","description":"### Problem to solve\n\nThe current empty state for the \"Threat Monitoring\" page currently links to the WAF docs directly. We should update this link to point to [the dedicated Threat Monitoring page in our docs](https://docs.gitlab.com/ee/user/application_security/threat_monitoring/#threat-monitoring-ultimate).\n\n### Intended users\n\n\u003c!-- Who will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops)\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/ --\u003e\n\n### Further details\n\n![Screen_Shot_2020-03-25_at_10.49.35_AM](/uploads/9d084cccb598f3a182cd3c9a2f93faab/Screen_Shot_2020-03-25_at_10.49.35_AM.png)\n\n### Proposal\n\nUpdate link to point to dedicated Threat Monitoring page\n\n### Permissions and Security\n\nN/A\n\n### Documentation\n\nBetter documentation link\n\n### Availability \u0026 Testing\n\nN/A\n\n### What does success look like, and how can we measure that?\n\nBetter documentation links\n\n### What is the type of buyer?\n\n~\"GitLab Ultimate\" \n\n### Is this a cross-stage feature?\n\nNo\n\n### Links / references","state":"closed","created_at":"2020-03-25T17:51:51.234Z","updated_at":"2020-06-18T07:09:18.993Z","closed_at":"2020-05-25T03:06:20.974Z","closed_by":{"id":480804,"username":"thiagocsf","name":"Thiago Figueiró","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480804/avatar.png","web_url":"https://gitlab.com/thiagocsf"},"labels":["Category:WAF","Deliverable","devops::govern","frontend","group::security policies","priority::4","severity::4","type::bug","workflow::production"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":5535431,"username":"mparuszewski","name":"Alan (Maciej) Paruszewski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535431/avatar.png","web_url":"https://gitlab.com/mparuszewski"}],"author":{"id":401232,"username":"theoretick","name":"Lucas Charles","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/401232/squares-nail-wall-art.jpg","web_url":"https://gitlab.com/theoretick"},"type":"ISSUE","assignee":{"id":5535431,"username":"mparuszewski","name":"Alan (Maciej) Paruszewski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535431/avatar.png","web_url":"https://gitlab.com/mparuszewski"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212483","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212483","notes":"https://gitlab.com/api/v4/projects/278964/issues/212483/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212483/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212483","relative":"#212483","full":"gitlab-org/gitlab#212483"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32448666,"iid":212477,"project_id":278964,"title":"License Compliance - Remove legacy \"License Management\" area from Settings -\u003e CI/CD","description":"Now that we have the License Compliance page with the \"Policy\" tab, we had talked about removing the legacy \"License Management\" (now called License Compliance) that exists under \"Settings -\u003e CI/CD -\u003e License Compliance\"\n\n\nCurrent Screenshot of Settings -\u003e CI/CD:\n\n![Screen_Shot_2020-01-28_at_7.32.58_PM](/uploads/3120e3b40773fc343ac03c1d6c1fc0f3/Screen_Shot_2020-01-28_at_7.32.58_PM.png)\n\n\n## Development Notes:\nJust remove the code relevant to rendering the dropdown. Should be a quick win.\n\n## Tasks (Caution)\n\n* [ ]  We need to first do https://gitlab.com/gitlab-org/gitlab/-/issues/212474. We need to make sure we don't link to this old area anymore.\n\n* [ ]  Need to update docs and screenshots to reflect the removal of this area in favor of the \"Policy\" tab in License complliance.\n\n\n## Preferred Usage\n\n![Screen_Shot_2020-01-13_at_9.28.57_AM](/uploads/0451357d17e2ef3b812b19f0a6beb0a6/Screen_Shot_2020-01-13_at_9.28.57_AM.png)\n\n## Availability and Testing\n\nSet is to fix/rewrite the licence compliance feature end-to-end test as per https://gitlab.com/gitlab-org/gitlab/-/issues/219461\n\nThis test won't test Settings - CI/CD - License Management as it is to be removed.","state":"closed","created_at":"2020-03-25T17:32:49.095Z","updated_at":"2020-11-13T17:26:53.139Z","closed_at":"2020-06-21T05:50:12.891Z","closed_by":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"labels":["Category:License Compliance","Deliverable","Enterprise Edition","GitLab Ultimate","devops::secure","frontend","group::composition analysis","quad-planning::complete-no-action","type::feature","workflow::production"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},{"id":3614383,"username":"kmann","name":"Kyle Mann","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614383/avatar.png","web_url":"https://gitlab.com/kmann"}],"author":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"type":"ISSUE","assignee":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"user_notes_count":18,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212477","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212477","notes":"https://gitlab.com/api/v4/projects/278964/issues/212477/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212477/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212477","relative":"#212477","full":"gitlab-org/gitlab#212477"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":32448133,"iid":212473,"project_id":278964,"title":"Allow for filtering of health status in board views","description":"### Problem to solve\n\n\u003e *As a user of Issues and Health/Risk Status, I need to be able to find items in a certain state easily and quickly, so that I can communicate and act fast.*\n\n### Intended users\n\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n\n### Further details\n\nNow that we have health/risk status live, we need to enable users to find and act on them quickly. \n\n### Proposal\n\n* Display Issue Health Status on Issue List\n* Enable Health/ Status as a filter option on Issue list\n\n### Permissions and Security\n\nSame as current Health Status view and editing permissions\n\n### Documentation\n\n[Update Health Status Docs](https://docs.gitlab.com/ee/user/group/epics/index.md#issue-status-in-epic-tree-ultimate)\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\n What risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\n### What does success look like, and how can we measure that?\n\nMonitor increase of health status usage (leverage tracking that will be implemented via https://gitlab.com/gitlab-org/gitlab/-/issues/211837)\n\n### Links / references\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2020-03-25T17:14:14.539Z","updated_at":"2022-10-18T08:47:06.660Z","closed_at":"2022-10-18T08:47:06.609Z","closed_by":{"id":3509693,"username":"nicolasdular","name":"Nicolas Dular","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c4a21f15150c12ddf13fd848597cddd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/nicolasdular"},"labels":["Category:Portfolio Management","Category:Team Planning","GitLab Ultimate","backend","backend complete","boards","devops::plan","direction","documentation","epics","frontend","group::product planning","health status","section::dev","type::feature","workflow::verification"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":3509693,"username":"nicolasdular","name":"Nicolas Dular","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c4a21f15150c12ddf13fd848597cddd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/nicolasdular"}],"author":{"id":4478389,"username":"kokeefe","name":"Keanon O'Keefe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4478389/avatar.png","web_url":"https://gitlab.com/kokeefe"},"type":"ISSUE","assignee":{"id":3509693,"username":"nicolasdular","name":"Nicolas Dular","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c4a21f15150c12ddf13fd848597cddd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/nicolasdular"},"user_notes_count":18,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212473","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212473","notes":"https://gitlab.com/api/v4/projects/278964/issues/212473/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212473/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212473","relative":"#212473","full":"gitlab-org/gitlab#212473"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2952,"epic":{"id":33858,"iid":2952,"title":"Increase visibility and accessibility of Issue/Epic Health Status","url":"/groups/gitlab-org/-/epics/2952","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":"on_track"},{"id":32446358,"iid":212470,"project_id":278964,"title":"Update text on sign in page","description":"## Overview\n\nThe sign in page for self-managed GitLab has old marketing copy that needs updating. ![Screen_Shot_2020-03-24_at_4.38.06_PM](/uploads/d507f1e3ea714a96da1adad25a3745cc/Screen_Shot_2020-03-24_at_4.38.06_PM.png)\n\n## Proposal\nUpdate the text to match the gitlab.com Register page. A design mockup is coming soon...\n1.  Keep \"GitLab Enterprise Edition\" as the top-level header\n1.  Use \"Speed up your DevOps with GitLab\" as the H2 header\n1.  Use \"GitLab is a single application for the entire software development lifecycle. From project planning and source code management to CI/CD, monitoring, and security.\" as the copy for the body.\n\n## Proposed design\n\n![Self-managed](/uploads/3f92ab79e1b634d0162030f9b06af8cb/Self-managed.png)\n\n- [Spec](https://gitlab-org.gitlab.io/gitlab-design/hosted/sunjung/%23212470-first-page/)\n\n## Reference\n.com Register page\n![Screen_Shot_2020-03-24_at_5.21.48_PM](/uploads/ccdfab4344a9fa70fdefd37278c7b1a8/Screen_Shot_2020-03-24_at_5.21.48_PM.png)","state":"closed","created_at":"2020-03-25T16:33:43.478Z","updated_at":"2020-05-26T17:15:21.604Z","closed_at":"2020-04-27T20:50:29.578Z","closed_by":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"labels":["CEO Interest","Deliverable","Technical Writing","UI text","UX","UX scorecard-rec","devops::systems","frontend","group::distribution","priority::3"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":2602134,"username":"rmarshall","name":"Robert Marshall","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c78f467da196431abcc7aa223fdc1c64?s=80\u0026d=identicon","web_url":"https://gitlab.com/rmarshall"}],"author":{"id":4447217,"username":"ljlane","name":"Larissa Lane","state":"blocked","avatar_url":"https://secure.gravatar.com/avatar/ac4027d3a4e3bd62740ea1443a42f6c5?s=80\u0026d=identicon","web_url":"https://gitlab.com/ljlane"},"type":"ISSUE","assignee":{"id":2602134,"username":"rmarshall","name":"Robert Marshall","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c78f467da196431abcc7aa223fdc1c64?s=80\u0026d=identicon","web_url":"https://gitlab.com/rmarshall"},"user_notes_count":18,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212470","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212470","notes":"https://gitlab.com/api/v4/projects/278964/issues/212470/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212470/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212470","relative":"#212470","full":"gitlab-org/gitlab#212470"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32446237,"iid":212469,"project_id":278964,"title":"Group Maintainers can Create/Delete Deploy tokens using API","description":"**[HackerOne report #828154](https://hackerone.com/reports/828154)** by `ashish_r_padelkar` on 2020-03-24, assigned to @dcouture:\n\n### Summary\n\nHello,\n\n New API release in 12.9 of Deploy tokens,A group maintainer is able to create/delete group deploy tokens which i think is not intended. These create/delete functionality is only available to group owners in group settings in UI.\n\n`https://docs.gitlab.com/ee/api/deploy_tokens.html#create-a-group-deploy-token`\n\n### Steps to reproduce\n\n1. As a group maintainer, just run the below API\n\n`curl --request POST --header \"PRIVATE-TOKEN: \u003cToken\u003e\" --header \"Content-Type: application/json\" --data '{\"name\": \"My deploy token\", \"expires_at\": \"2098-02-02\", \"username\": \"custom-user\", \"scopes\": [\"read_repository\"]}' \"https://gitlab.com/api/v4/groups/\u003cID\u003e/deploy_tokens/\"`\n\n2. This will create a group level deploy token.\n\n3. You can also delete the tokens created by group admin using below API\n\n`curl --request DELETE --header \"PRIVATE-TOKEN: \u003cToken\u003e\" \"https://gitlab.com/api/v4/groups/\u003cID\u003e/deploy_tokens/\u003cID\u003e\"`\n\n\n\n### What is the current *bug* behavior?\n\nGroup Maintainers are able to create/delete group deploy tokens\n\n### What is the expected *correct* behavior?\n\nGroup Maintainers shouldnt be allowed to create /delete deploy tokens\n\n\n### Output of checks\n\nThis bug happens on GitLab.com and probably on omnibus installations too!\n\nRegards,  \nAshish\n\n## Impact\n\nGroup Maintainers are able to create/delete deploy tokens","state":"closed","created_at":"2020-03-25T16:31:36.046Z","updated_at":"2023-01-04T11:45:58.667Z","closed_at":"2020-07-02T13:09:17.239Z","closed_by":{"id":4086191,"username":"cmaxim","name":"Costel Maxim","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4086191/avatar.png","web_url":"https://gitlab.com/cmaxim"},"labels":["Category:Continuous Delivery","HackerOne","Release::P2","cicd::active","devops::release","group::release","priority::3","security","severity::3","workflow::verification"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"}],"author":{"id":2741139,"username":"gitlab-securitybot","name":"GitLab SecurityBot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2741139/avatar.png","web_url":"https://gitlab.com/gitlab-securitybot"},"type":"ISSUE","assignee":{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"user_notes_count":18,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212469","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212469","notes":"https://gitlab.com/api/v4/projects/278964/issues/212469/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212469/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212469","relative":"#212469","full":"gitlab-org/gitlab#212469"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32445633,"iid":212468,"project_id":278964,"title":"Explain/Clarify \"Error: Dockerfile does not exist\" message when scanning containers","description":"### Summary\n\nWhen running the container scanner, I got this confusing error message:\n\n [WARN] ▶ Encountered error while reading Dockerfile for remediation, halting remediation processing. Error: Dockerfile does not exist\n\nApparently, this is caused by Gitlab autocreating a Docker container for my project because it couldn't find a Dockerfile in the project's root directory.\n\n### Steps to reproduce\n\nYou can see the error message here: https://gitlab.com/wichers/benchmark/-/jobs/471409845#L51  (Line 51)\n\nSimply scan a project that has no Dockerfile in the root directory and hasn't configured the DOCKERFILE_PATH to point at a Dockerfile.\n\n### Example Project\n\nhttps://gitlab.com/wichers/benchmark has this problem right now.\n\n### What is the current *bug* behavior?\n\nThis error is reported:\n [WARN] ▶ Encountered error while reading Dockerfile for remediation, halting remediation processing. Error: Dockerfile does not exist\n\n### What is the expected *correct* behavior?\n\nSome kind of better explanation of why this is occurring and what the user can do about it? For example, it could suggest, if you have an existing Dockerfile, please configure your DOCKERFILE_PATH environment variable to point to it (and how to do that). Or suggest they should create one, if they want one, or if they don't care about Docker at all, how to turn container scanning off (If that even makes any sense in Gitlab).\n\n### Output of checks\n\nThis bug happens on GitLab.com.","state":"closed","created_at":"2020-03-25T16:20:28.749Z","updated_at":"2021-09-21T19:51:20.580Z","closed_at":"2021-09-21T19:51:20.564Z","closed_by":{"id":5292351,"username":"sam.white","name":"Sam White","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d467fb024d1858d279e6a36e028436ac?s=80\u0026d=identicon","web_url":"https://gitlab.com/sam.white"},"labels":["Category:Container Scanning","Enterprise Edition","GitLab Ultimate","[deprecated] Accepting merge requests","backend","devops::secure","group::security policies","section::sec","type::feature","workflow::scheduling"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":5608923,"username":"wichers","name":"Dave Wichers","state":"active","avatar_url":"https://secure.gravatar.com/avatar/805e322ba12246e10117bc4b391ca917?s=80\u0026d=identicon","web_url":"https://gitlab.com/wichers"},"type":"ISSUE","assignee":null,"user_notes_count":21,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212468","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212468","notes":"https://gitlab.com/api/v4/projects/278964/issues/212468/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212468/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212468","relative":"#212468","full":"gitlab-org/gitlab#212468"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5774,"epic":{"id":251014,"iid":5774,"title":"Container Scanning - Other","url":"/groups/gitlab-org/-/epics/5774","group_id":9970,"human_readable_end_date":"Apr 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":32444662,"iid":212465,"project_id":278964,"title":"LDAP doesn't work for new accounts","description":"### Summary\n\nWe switched now to LDAP. Users can successfully login with LDAP mask and credentials when the user is locally created in Gitlab.\n\n### Steps to reproduce\n\nNew users which aren't created in Gitlab localy can't login and get the message:\n\n\u003e   Could not authenticate you from Ldapmain because \"Undefined method `downcase!' for nil:nilclass\".\n\nAfter creating localy this users they can login.\n\n### What is the current *bug* behavior?\n\nNew LDAP user can't login. And get unhelpful error message.\n\n### What is the expected *correct* behavior?\n\nUser should be able to login.\n\n### Relevant logs and/or screenshots\n\n```\ngitlab_rails['ldap_enabled'] = true\ngitlab_rails['prevent_ldap_sign_in'] = false\n\n###! **remember to close this block with 'EOS' below**\n gitlab_rails['ldap_servers'] = YAML.load \u003c\u003c-'EOS'\n   main: # 'main' is the GitLab 'provider ID' of this LDAP server\n     label: 'LDAP'\n     host: 'xxx'\n     port: 636\n     uid: 'cn'\n     bind_dn: 'uid=xxx'\n     password: 'xxx'\n     encryption: 'simple_tls' \n     verify_certificates: true\n     active_directory: false\n     allow_username_or_email_login: false\n     lowercase_usernames: true\n     block_auto_created_users: false\n     base: 'ou=xxx'\n     user_filter: '(\u0026(objectclass=inetOrgPerson)(memberOf=cn=xxx))'\nEOS\n```\n\nWe are using the newest Gitlab CE omnibus version. \nComponents up-to-date (17:04, 25.03.2020)\n* GitLab 12.9.0 (9a382ff2c82)\n* GitLab Shell12.0.0\n* GitLab Workhorsev8.25.0\n* GitLab APIv4\n* GitLab Pages1.17.0\n* Ruby 2.6.5p114\n* Rails 6.0.2\n* PostgreSQL 10.12\n\nAs LDAP we use OpenLDAP Server.","state":"closed","created_at":"2020-03-25T16:08:14.955Z","updated_at":"2020-06-04T09:18:16.331Z","closed_at":"2020-04-03T03:45:43.392Z","closed_by":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"labels":["backend","devops::manage","group::authentication and authorization","ldap","type::bug","workflow::in review"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":13356,"username":"dblessing","name":"Drew Blessing","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b5bf44866b4eeafa2d8114bfe15da02f?s=80\u0026d=identicon","web_url":"https://gitlab.com/dblessing"}],"author":{"id":2776977,"username":"RogerSik","name":"Roger Sikorski","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c3e07e5029f0dca7af2b12fef0d5cab6?s=80\u0026d=identicon","web_url":"https://gitlab.com/RogerSik"},"type":"ISSUE","assignee":{"id":13356,"username":"dblessing","name":"Drew Blessing","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b5bf44866b4eeafa2d8114bfe15da02f?s=80\u0026d=identicon","web_url":"https://gitlab.com/dblessing"},"user_notes_count":21,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212465","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212465","notes":"https://gitlab.com/api/v4/projects/278964/issues/212465/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212465/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212465","relative":"#212465","full":"gitlab-org/gitlab#212465"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32443752,"iid":212461,"project_id":278964,"title":"Job to mark Organization of GitLab employees","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nAs observed in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/27045#note_308209218, it can so happen that the Organization field of a GitLab employee is out of sync. Meaning, a user can have their email domain as `gitlab.com`, and the organization could be set to something other than GitLab.\n\nThis issue is to ensure that we run a job (maybe just once) to mark the Organization of all GitLab employees as `GitLab`.\n\nAlso, for new users - add a after create a hook to automatically set Organization as 'GitLab', if the user is a GitLab employee.\n\n### Steps to reproduce\n\n(How one can reproduce the issue - this is very important)\n\n### Example Project\n\n(If possible, please create an example project here on GitLab.com that exhibits the problematic behavior, and link to it here in the bug report)\n\n(If you are using an older version of GitLab, this will also determine whether the bug is fixed in a more recent version)\n\n### What is the current *bug* behavior?\n\n(What actually happens)\n\n### What is the expected *correct* behavior?\n\n(What you should see instead)\n\n### Relevant logs and/or screenshots\n\n(Paste any relevant logs - please use code blocks (```) to format console output,\nlogs, and code as it's tough to read otherwise.)\n\n### Output of checks\n\n(If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com)\n\n#### Results of GitLab environment info\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n(If you can, link to the line of code that might be responsible for the problem)","state":"closed","created_at":"2020-03-25T15:46:22.742Z","updated_at":"2021-05-24T02:11:37.380Z","closed_at":"2021-05-24T02:11:37.371Z","closed_by":{"id":1786152,"username":"gitlab-bot","name":"🤖 GitLab Bot 🤖","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1786152/avatar.png","web_url":"https://gitlab.com/gitlab-bot"},"labels":["[deprecated] Accepting merge requests","auto closed","backend","devops::manage","group::authentication and authorization","missed:12.10","priority::3","section::dev","stale","type::bug","vintage","workflow::in review"],"milestone":null,"assignees":[],"author":{"id":4014344,"username":"aishbuilds","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4014344/avatar.png","web_url":"https://gitlab.com/aishbuilds"},"type":"ISSUE","assignee":null,"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212461","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212461","notes":"https://gitlab.com/api/v4/projects/278964/issues/212461/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212461/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212461","relative":"#212461","full":"gitlab-org/gitlab#212461"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3241,"epic":{"id":51379,"iid":3241,"title":"GitLab Team Member badges","url":"/groups/gitlab-org/-/epics/3241","group_id":9970,"human_readable_end_date":"May 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":32441292,"iid":212451,"project_id":278964,"title":"Deploy freeze: remove a freeze period via UI","description":"### Problem to solve\n\nhttps://gitlab.com/gitlab-org/gitlab/-/issues/24295 introduces Deployment Freezes on a project level. This issue is a follow up of the MVC, and intends to allow users to delete existing freeze periods using GitLab's ui (project settings).\n\nThis issue depends on having the ability to edit a deploy freeze https://gitlab.com/gitlab-org/gitlab/-/issues/212449.\n\n### Intended users\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager)\n\n### Further details\n\n\u003c!-- Include use cases, benefits, and/or goals (contributes to our vision?) --\u003e\n\nDepends on https://gitlab.com/gitlab-org/gitlab/-/issues/212449\n\n### Proposal\n\n\u003e As a DevOps Engineer/Release Manager, I want to delete deployment freezes I specified, so that I can keep my information up to date.\n\n* On project `settings \u003e ci/cd \u003e deployment freezes`: once the section is expanded, the user will see a list of existing deploy freezes, if applicable.\n* User should have an option to Edit an existing deploy freeze. The option is available depending on user permission.\n  * When editing a deploy freeze, the modal should popup with the form pre-filled.  \n  * A secondary danger button should be displayed for `Remove deployment freeze`.\n  * Clicking the `Cancel` button should close the modal. No information is stored or updated.\n  * Clicking the `Remove deployment freeze` button should close the modal.\n    * For now, we won't ask for a second confirmation when deleting an item.\n* The item should be removed from the page.\n\n\n### UX Prototypes\n\n:star: [SEE PROTOTYPES ON THE `DESIGN` TAB](https://gitlab.com/gitlab-org/gitlab/-/issues/212451/designs/deploy-freeze__settings--expanded.png) :star:\n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?--\u003e\n\n### Documentation\nYes, this will require a new documentation page.\n\nLink to new page: https://docs.gitlab.com/ee/user/project/releases/#remove-a-deploy-freeze\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\n What risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\n### What does success look like, and how can we measure that?\n\nUsers will be able to remove existing deployment freezes via UI.\n\n### What is the type of buyer?\n\n\u003c!-- Which leads to: in which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#four-tiers --\u003e\n\n### Is this a cross-stage feature?\n\n\u003c!-- Communicate if this change will affect multiple Stage Groups or product areas. We recommend always start with the assumption that a feature request will have an impact into another Group. Loop in the most relevant PM and Product Designer from that Group to provide strategic support to help align the Group's broader plan and vision, as well as to avoid UX and technical debt. https://about.gitlab.com/handbook/product/#cross-stage-features --\u003e\n\nNo.\n\n### Links / references","state":"closed","created_at":"2020-03-25T14:52:40.996Z","updated_at":"2021-09-22T18:35:39.145Z","closed_at":"2021-09-08T22:19:41.020Z","closed_by":{"id":5622641,"username":"nicolewilliams","name":"Nicole Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5622641/avatar.png","web_url":"https://gitlab.com/nicolewilliams"},"labels":["1st contribution","Category:Release Orchestration","Community contribution","GitLab Core","Release::P3","UX","[deprecated] Accepting merge requests","cicd::active","devops::release","direction","frontend","frontend-weight::1","group::release","missed:14.0","missed:14.2","section::ops","type::feature","workflow::in dev"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[],"author":{"id":3079878,"username":"rayana","name":"Rayana Verissimo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3079878/avatar.png","web_url":"https://gitlab.com/rayana"},"type":"ISSUE","assignee":null,"user_notes_count":39,"merge_requests_count":0,"upvotes":18,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212451","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212451","notes":"https://gitlab.com/api/v4/projects/278964/issues/212451/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212451/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212451","relative":"#212451","full":"gitlab-org/gitlab#212451"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2884,"epic":{"id":31312,"iid":2884,"title":"Advanced Deploy Freezes","url":"/groups/gitlab-org/-/epics/2884","group_id":9970,"human_readable_end_date":"Sep 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":32440860,"iid":212449,"project_id":278964,"title":"Deploy freeze: edit a freeze period via UI","description":"### Problem to solve\n\nhttps://gitlab.com/gitlab-org/gitlab/-/issues/24295 introduces Deployment Freezes on a project level. This issue is a follow up of the MVC, and intends to allow users to edit/manage existing freeze periods using GitLab's ui (project settings).\n\n### Intended users\n\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager)\n\n### Further details\n\n\u003c!-- Include use cases, benefits, and/or goals (contributes to our vision?) --\u003e\n\n### Proposal\n\n\u003e As a DevOps Engineer/Release Manager, I want to edit deployment freezes I specified, so that I can keep my information up to date.\n\n* On project `settings \u003e ci/cd \u003e deployment freezes`: once the section is expanded, the user will see a list of existing deploy freezes, if applicable.\n* User should have an option to Edit an existing deploy freeze. The option is available depending on user permission.\n  * When editing a deploy freeze, the modal should popup with the form pre-filled. \n  * User should be able to update the information. Form validation should apply.\n  * The primary modal button should read `Save changes`.\n  * Clicking the `Cancel` button should close the modal. No information is stored or updated.\n  * Clicking the `Save changes` button should close the modal and the new information about the deployment freeze should be displayed on the page.\n\n### UX Prototypes\n\n:star: [SEE PROTOTYPES ON THE `DESIGN` TAB](https://gitlab.com/gitlab-org/gitlab/-/issues/212449/designs/deploy-freeze__settings--expanded.png) :star:\n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?--\u003e\n\n### Documentation\n\nYes, this will require a new documentation page.\n\nLink to new page: https://docs.gitlab.com/ee/user/project/releases/#edit-a-deploy-freeze\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\n What risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\n### What does success look like, and how can we measure that?\n\n\u003c!-- Define both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. --\u003e\n\nUsers will be able to edit/update existing deployment freezes via UI.\n\n### What is the type of buyer?\n\n\u003c!-- Which leads to: in which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#four-tiers --\u003e\n\n### Is this a cross-stage feature?\n\n\u003c!-- Communicate if this change will affect multiple Stage Groups or product areas. We recommend always start with the assumption that a feature request will have an impact into another Group. Loop in the most relevant PM and Product Designer from that Group to provide strategic support to help align the Group's broader plan and vision, as well as to avoid UX and technical debt. https://about.gitlab.com/handbook/product/#cross-stage-features --\u003e\n\nNo.\n\n### Links / references","state":"closed","created_at":"2020-03-25T14:41:48.463Z","updated_at":"2021-04-18T07:08:40.542Z","closed_at":"2021-04-12T13:51:19.645Z","closed_by":{"id":262533,"username":"afontaine","name":"Andrew Fontaine","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/262533/avatar.png","web_url":"https://gitlab.com/afontaine"},"labels":["Category:Release Orchestration","Deliverable","UX","cicd::active","devops::release","direction","frontend","frontend-weight::1","group::release","release post item::in review","section::ops","type::feature","workflow::verification"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":262533,"username":"afontaine","name":"Andrew Fontaine","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/262533/avatar.png","web_url":"https://gitlab.com/afontaine"}],"author":{"id":3079878,"username":"rayana","name":"Rayana Verissimo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3079878/avatar.png","web_url":"https://gitlab.com/rayana"},"type":"ISSUE","assignee":{"id":262533,"username":"afontaine","name":"Andrew Fontaine","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/262533/avatar.png","web_url":"https://gitlab.com/afontaine"},"user_notes_count":23,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212449","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212449","notes":"https://gitlab.com/api/v4/projects/278964/issues/212449/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212449/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212449","relative":"#212449","full":"gitlab-org/gitlab#212449"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2884,"epic":{"id":31312,"iid":2884,"title":"Advanced Deploy Freezes","url":"/groups/gitlab-org/-/epics/2884","group_id":9970,"human_readable_end_date":"Sep 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":32436866,"iid":212444,"project_id":278964,"title":"Use the new Security Dashboard Layout in the Security Dashboard component","description":"## Summary\r\n\r\nWe're about to move the security dashboard to a GraphQL approach, however, parts of the application still need to use the Rest API. Therefore, as discussed [here](https://youtu.be/Owbgo51tnRw?t=192), we have [created](!27674) a `security_dashboard_layout` component that will be used by both the GraphQL and Rest versions of the security dashboard.\r\n\r\nThis is issue is to update the current `security_dashboard` component to use the new `security_dashboard_layout` component and rename it to something like `security_dashboard_rest` or ~~`security_dashboard_legacy`~~  [(see below)](https://gitlab.com/gitlab-org/gitlab/-/issues/212444#note_311787295) `security_dashboard_vuex`.\r\n\r\n## Improvements\r\n\r\nThis approach lets us work simultaneously on the GraphQL migration, as while one person takes care of the GraphQL part, the other one works on refactoring the current component.\r\n\r\n## Risks\r\n\r\nI'll quote @samdbeckham here:\r\n\r\n\u003e I can't forsee any risks here, but they sound like famous last words :sweat_smile: \r\n\r\n## Involved components\r\n\r\n- `ee/app/assets/javascripts/security_dashboard/components/security_dashboard.vue`\r\n- `ee/app/assets/javascripts/security_dashboard/components/security_dashboard_layout.vue`\r\n\r\nAlong with the relevant test files.","state":"closed","created_at":"2020-03-25T13:49:22.174Z","updated_at":"2020-04-20T10:14:42.020Z","closed_at":"2020-04-20T10:14:41.976Z","closed_by":{"id":5535246,"username":"svedova","name":"Savas Vedova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535246/avatar.png","web_url":"https://gitlab.com/svedova"},"labels":["Category:Vulnerability Management","devops::govern","frontend","group::threat insights","security dashboard","workflow::verification"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":5535246,"username":"svedova","name":"Savas Vedova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535246/avatar.png","web_url":"https://gitlab.com/svedova"}],"author":{"id":5535246,"username":"svedova","name":"Savas Vedova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535246/avatar.png","web_url":"https://gitlab.com/svedova"},"type":"ISSUE","assignee":{"id":5535246,"username":"svedova","name":"Savas Vedova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535246/avatar.png","web_url":"https://gitlab.com/svedova"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2020-04-16","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212444","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212444","notes":"https://gitlab.com/api/v4/projects/278964/issues/212444/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212444/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212444","relative":"#212444","full":"gitlab-org/gitlab#212444"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3039,"epic":{"id":38748,"iid":3039,"title":"Standalone Vulnerabilities - MVP","url":"/groups/gitlab-org/-/epics/3039","group_id":9970,"human_readable_end_date":"May 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":32435723,"iid":212440,"project_id":278964,"title":"Follow-up refactor for dashboard filtering tests","description":"## Summary\n\n\u003c!--\nPlease briefly describe what part of the code base needs to be refactored.\n--\u003e\n\nThe test structure could be revamped since we aim to stay economical and have just one boot of a cluster per whole spec while still being aware of duplicated work by future calls on variables such as `@project` or `@cluster`.\n## Improvements\n\n\u003c!--\nExplain the benefits of refactoring this code.\nSee also https://about.gitlab.com/handbook/values/index.html#say-why-not-just-what\n--\u003e\n [Consider the use of let for strong memoization](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/27506#note_310735084).\n\n\n## Risks\n\n\u003c!--\nPlease list features that can break because of this refactoring and how you intend to solve that.\n--\u003e\n\n## Involved components\n\n\u003c!--\nList files or directories that will be changed by the refactoring.\n--\u003e\n\n## Optional: Intended side effects\n\n\u003c!--\nIf the refactoring involves changes apart from the main improvements (such as a better UI), list them here.\nIt may be a good idea to create separate issues and link them here.\n--\u003e\n\n\n## Optional: Missing test coverage\n\n\u003c!--\nIf you are aware of tests that need to be written or adjusted apart from unit tests for the changed components,\nplease list them here.\n--\u003e","state":"closed","created_at":"2020-03-25T13:21:21.845Z","updated_at":"2020-11-16T12:44:21.158Z","closed_at":"2020-05-13T15:12:44.475Z","closed_by":{"id":4763342,"username":"svistas","name":"Sofia Vistas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4763342/avatar.png","web_url":"https://gitlab.com/svistas"},"labels":["QA","Quality","backstage [DEPRECATED]","devops::monitor","group::respond","missed:12.10","workflow::in dev"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":4763342,"username":"svistas","name":"Sofia Vistas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4763342/avatar.png","web_url":"https://gitlab.com/svistas"}],"author":{"id":4763342,"username":"svistas","name":"Sofia Vistas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4763342/avatar.png","web_url":"https://gitlab.com/svistas"},"type":"ISSUE","assignee":{"id":4763342,"username":"svistas","name":"Sofia Vistas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4763342/avatar.png","web_url":"https://gitlab.com/svistas"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212440","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212440","notes":"https://gitlab.com/api/v4/projects/278964/issues/212440/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212440/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212440","relative":"#212440","full":"gitlab-org/gitlab#212440"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32433985,"iid":212435,"project_id":278964,"title":"Multi-Project Pipelines - Rerunning a failed downstream job doesn't update the upstream pipeline result","description":"### Summary\n\nReexecuting a downtream job doesn't update the upstream pipeline result. \n\n### Steps to reproduce\n\nUse Multi-project pipelines to trigger a downstream pipeline (using `strategy: depend`). This downstream pipeline should have a flaky job.\n\n1. Initial execution of the pipeline needs to get a failure from the downstream flaky job\n2. You rerun this flaky job, and it passes.\n\n### What is the current *bug* behavior?\n\nEven though all jobs passed after the downstream job rerun, the pipeline status stays as failure.\n\n### What is the expected *correct* behavior?\n\nPipeline status is changed from failure to success.\n\n### Relevant logs and/or screenshots\n![image](/uploads/e3823fc980283c7304d9074b5855a452/image.png)\n\n### Output of checks\n\nThis bug happens on GitLab.com.","state":"closed","created_at":"2020-03-25T13:00:36.959Z","updated_at":"2021-06-23T11:29:57.292Z","closed_at":"2020-09-18T11:48:56.106Z","closed_by":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"labels":["CI/CD Core Platform","Category:Continuous Integration","Category:Pipeline Authoring","Deliverable","Enterprise Edition","backend","bridge pipelines","customer","devops::verify","group::pipeline authoring","missed-SLO","priority::2","section::ops","severity::2","type::bug","workflow::production"],"milestone":{"id":1233753,"iid":51,"group_id":9970,"title":"13.4","description":"https://about.gitlab.com/releases/2020/09/22/gitlab-13-4-released/","state":"closed","created_at":"2020-04-09T17:39:21.662Z","updated_at":"2022-04-13T14:50:33.769Z","due_date":"2020-09-17","start_date":"2020-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/51"},"assignees":[{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"}],"author":{"id":4005752,"username":"marcelo.lima","name":"Marcelo Lima","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4005752/avatar.png","web_url":"https://gitlab.com/marcelo.lima"},"type":"ISSUE","assignee":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"user_notes_count":27,"merge_requests_count":0,"upvotes":13,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212435","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212435","notes":"https://gitlab.com/api/v4/projects/278964/issues/212435/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212435/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212435","relative":"#212435","full":"gitlab-org/gitlab#212435"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":32432979,"iid":212433,"project_id":278964,"title":"Group Activity Analytics: Add New Members count","description":"We recently implemented https://gitlab.com/gitlab-org/gitlab/-/merge_requests/26285 to display the following metrics in the `Group Activity` card:\n- `Merge Requests created`\n- `Issues created`\n\nOnce the API changes in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/26601 are implemented, we should update the FE by adding the `New Members created` metric to the group activity card.","state":"closed","created_at":"2020-03-25T12:33:22.333Z","updated_at":"2020-05-22T08:41:09.607Z","closed_at":"2020-04-07T08:46:58.245Z","closed_by":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"labels":["devops::manage","frontend","group::optimize","priority::1","type::feature","workflow::production"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"}],"author":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"type":"ISSUE","assignee":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"user_notes_count":1,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212433","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212433","notes":"https://gitlab.com/api/v4/projects/278964/issues/212433/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212433/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212433","relative":"#212433","full":"gitlab-org/gitlab#212433"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32432315,"iid":212428,"project_id":278964,"title":"Add Maintenance mode application settings fields","description":"## Problem to solve\n\nWe want to add a read-only maintenance mode so sysadmins can block writes. In particular, this allows Geo to finish replicating before planned failovers.\n\n## Proposal\n\nThe feature flagged frontend design is shown in https://gitlab.com/gitlab-org/gitlab/-/issues/211672\n\n- [ ] Add e.g. `maintenance_mode_enabled` and `maintenance_mode_message` to application_settings (and modify the model, set up defaults, API, etc, whatever boilerplate is needed to add setting fields, I would look at MRs of recently added settings)\n\nLater, the frontend can be hooked up to toggle it in https://gitlab.com/gitlab-org/gitlab/-/issues/212702.\n\nAfter that, it'll be easy to build out the features of what the setting does.","state":"closed","created_at":"2020-03-25T12:18:32.405Z","updated_at":"2020-10-21T16:27:28.509Z","closed_at":"2020-07-16T02:41:44.011Z","closed_by":{"id":2187482,"username":"ashmckenzie","name":"Ash McKenzie","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2187482/avatar.png","web_url":"https://gitlab.com/ashmckenzie"},"labels":["Deliverable","backend","devops::systems","direction","group::geo","missed-deliverable","missed:13.1","type::feature","workflow::in review"],"milestone":{"id":1233746,"iid":49,"group_id":9970,"title":"13.2","description":"https://about.gitlab.com/releases/2020/07/22/gitlab-13-2-released/","state":"closed","created_at":"2020-04-09T17:28:01.032Z","updated_at":"2022-04-13T14:48:24.167Z","due_date":"2020-07-17","start_date":"2020-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/49"},"assignees":[{"id":2293,"username":"brodock","name":"Gabriel Mazetto","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2293/avatar.png","web_url":"https://gitlab.com/brodock"}],"author":{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"},"type":"ISSUE","assignee":{"id":2293,"username":"brodock","name":"Gabriel Mazetto","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2293/avatar.png","web_url":"https://gitlab.com/brodock"},"user_notes_count":6,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212428","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212428","notes":"https://gitlab.com/api/v4/projects/278964/issues/212428/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212428/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212428","relative":"#212428","full":"gitlab-org/gitlab#212428"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2149,"epic":{"id":14636,"iid":2149,"title":"Geo: Create a read-only mode (maintenance mode)","url":"/groups/gitlab-org/-/epics/2149","group_id":9970,"human_readable_end_date":"Feb 21, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":32431855,"iid":212427,"project_id":278964,"title":"Cleanup / Optimize `maven_packages_spec.rb`","description":"## Summary\n\n`maven_packages_spec.rb` is in deep need of a cleanup.\n\nSee:\n* https://gitlab.com/gitlab-org/gitlab/-/merge_requests/27612#note_308491765\n* https://gitlab.com/gitlab-org/gitlab/-/merge_requests/27612#note_311115132\n\n## Improvements\n\n* Use `let_it_be` vars\n* Use shared vars at the top of the file\n* Review factories usage with https://test-prof.evilmartians.io/#/factory_prof\n* Remove those AR queries to get maven XML files.\n\n## Risks\n\nThey are pretty low, at worst, the specs examples would not work anymore.\n\n## Involved components\n\n* [`ee/spec/requests/api/maven_packages_spec.rb`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/spec/requests/api/maven_packages_spec.rb)","state":"closed","created_at":"2020-03-25T12:10:09.110Z","updated_at":"2020-05-06T09:16:23.439Z","closed_at":"2020-05-06T09:16:23.376Z","closed_by":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"labels":["Category:Package Registry","Maven Repository","[deprecated] Accepting merge requests","backend","backstage [DEPRECATED]","devops::package","group::package registry","ruby"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212427","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212427","notes":"https://gitlab.com/api/v4/projects/278964/issues/212427/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212427/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212427","relative":"#212427","full":"gitlab-org/gitlab#212427"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32424056,"iid":212421,"project_id":278964,"title":"Show which child pipeline belongs to which trigger job","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nIn [parent-child pipelines](https://docs.gitlab.com/ee/ci/parent_child_pipelines.html) UI it's completely unclear which of the downstream pipelines was started by which trigger.\n\n### Steps to reproduce\n\nJust follow the example from https://docs.gitlab.com/ee/ci/parent_child_pipelines.html.\nImage from docs already showcases the problem: \n![](https://docs.gitlab.com/ee/ci/img/parent_pipeline_graph_expanded_v12_6.png)\n\nThere is no way to figure out that downstream pipeline is related to `microservice_a`, `b` or `c`.\n\n### Example Project\n\nExample from https://docs.gitlab.com/ee/ci/parent_child_pipelines.html\n\n### What is the current *bug* behavior?\n\nIt's completely unclear which of the downstream pipelines was started by which trigger.\n\n### What is the expected *correct* behavior?\n\nThere should be a way to tell from UI that child pipeline #1 related to e.g. `microservice_a`. This can be as simple as changing the label of the child pipelines.\n\n#### Results of GitLab environment info\n\nWe're currently using GitLab 12.8","state":"closed","created_at":"2020-03-25T10:40:18.067Z","updated_at":"2020-08-07T13:20:35.397Z","closed_at":"2020-08-03T16:12:21.280Z","closed_by":{"id":4828839,"username":"thaoyeager","name":"Thao Yeager","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4828839/avatar.png","web_url":"https://gitlab.com/thaoyeager"},"labels":["Category:Continuous Integration","UX","[deprecated] Accepting merge requests","bridge pipelines","customer","devops::verify","direction","group::pipeline execution","pipeline","type::feature"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":5679533,"username":"tsareg","name":"Kostiantyn Tsaregradskyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ada85aa54804455c1edeb32f04770c03?s=80\u0026d=identicon","web_url":"https://gitlab.com/tsareg"},"type":"ISSUE","assignee":null,"user_notes_count":13,"merge_requests_count":0,"upvotes":12,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212421","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212421","notes":"https://gitlab.com/api/v4/projects/278964/issues/212421/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212421/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":"https://gitlab.com/api/v4/projects/278964/issues/197140"},"references":{"short":"#212421","relative":"#212421","full":"gitlab-org/gitlab#212421"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32416316,"iid":212399,"project_id":278964,"title":"Unable to create more than one snippet per project","description":"### Summary\n\nOn production/staging, when `version_snippets` is enabled, sometime it would err when creating public/private snippets.\n\nI can only reproduce this on production/staging, not locally.\n\n### Steps to reproduce\n\nEnable feature flag `version_snippets` first.\n\nCase 1\n\n1. Create a public project\n1. In that project, create a snippet\n1. In that project, create a snippet again\n1. It would give error flash message \"API is not accessible\"\n\nCase 2\n\n1. Create a public project\n1. In that project, create a snippet\n1. It would give error flash message \"API is not accessible\"\n\nSometimes it happens when creating public snippet, and sometimes private. However I was never able to create past three snippets in one project.\n\n### Example Project\n\nhttps://staging.gitlab.com/lulalala/op1/snippets\nhttps://staging.gitlab.com/lulalala/op2/snippets\nhttps://staging.gitlab.com/lulalala/op3/snippets\n\n### What is the current *bug* behavior?\n\nCreating snippets results in error\n\n### What is the expected *correct* behavior?\n\nShould create snippet successfully.\n\n### Relevant logs and/or screenshots\n\n\n### Output of checks\n\nThis bug happens on GitLab.com\n\n### Possible fixes\n\n(If you can, link to the line of code that might be responsible for the problem)","state":"closed","created_at":"2020-03-25T07:04:23.844Z","updated_at":"2020-03-25T15:27:35.430Z","closed_at":"2020-03-25T11:26:07.795Z","closed_by":{"id":438961,"username":"splattael","name":"Peter Leitzen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/97c2ff0fc99cc4eede69be9ac238c304?s=80\u0026d=identicon","web_url":"https://gitlab.com/splattael"},"labels":["Category:Snippets","backend","devops::create","feature flag","group::editor","type::bug","workflow::verification"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"}],"author":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"type":"ISSUE","assignee":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"user_notes_count":1,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212399","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212399","notes":"https://gitlab.com/api/v4/projects/278964/issues/212399/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212399/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212399","relative":"#212399","full":"gitlab-org/gitlab#212399"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":239,"epic":{"id":470,"iid":239,"title":"Version control for snippets","url":"/groups/gitlab-org/-/epics/239","group_id":9970,"human_readable_end_date":"Jun 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":32410083,"iid":212388,"project_id":278964,"title":"Offline License Compliance - Ship offline copy of SPDX catalogue for omnibus","description":"### Problem to solve\n\nToday we have a cron job that runs weekly to fetch the latest software license catalogue from [SPDX](https://spdx.org/licenses/licenses.json). This catalogue includes identifiers for each software license that we use for matching detected software licenses.\n\nIn order to support airgap installations we need to be able to populate the `software_licenses.spdx_identifier` without connecting to `https://spdx.org` directly.\n\n### Intended users\n\n\u003c!-- Who will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops)\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/ --\u003e\n\n### Further details\n\nThe benefit is that self managed airgap installations do not need to allow outbound connections to `https://spdx.org/licenses/licenses.json`.\n\n* [job](https://gitlab.com/gitlab-org/gitlab/-/blob/9add2593c5542812d745a8d0e45700a7940e35d2/ee/app/workers/import_software_licenses_worker.rb)\n* [cron](https://gitlab.com/gitlab-org/gitlab/-/blob/9add2593c5542812d745a8d0e45700a7940e35d2/config/initializers/1_settings.rb#L522-524)\n* [database column](https://gitlab.com/gitlab-org/gitlab/-/blob/9add2593c5542812d745a8d0e45700a7940e35d2/db/structure.sql#L5804)\n* [usage](https://gitlab.com/gitlab-org/gitlab/-/blob/9add2593c5542812d745a8d0e45700a7940e35d2/ee/lib/gitlab/ci/reports/license_scanning/report.rb#L67)\n\n### Proposal\n\nUpdate [this code](https://gitlab.com/gitlab-org/gitlab/-/blob/9add2593c5542812d745a8d0e45700a7940e35d2/ee/app/workers/import_software_licenses_worker.rb#L37) to parse an offline copy of the SPDX catalogue instead of reaching out to the internet in airgap mode.\n\n#### Implementation Plan\n\n* [x] Create a rake task to fetch the latest version of `https://spdx.org/licenses/licenses.json` and store it in [`config/spdx.json`](https://gitlab.com/gitlab-org/gitlab/-/tree/master/config). (Or find a more suitable location)\n* [ ] Update [this code](https://gitlab.com/gitlab-org/gitlab/-/blob/9add2593c5542812d745a8d0e45700a7940e35d2/ee/lib/gitlab/spdx/catalogue.rb#L23) to `return new(JSON.parse(Rails.root.join('config/spdx.json')) if offline_env?`\n* [ ] Update documentation to describe how to use offline copy of the `spdx.json` catalogue in an offline environment; remove feature flag and add tests for rake task.\n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?--\u003e\n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html\nAdd all known Documentation Requirements here, per https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements\nIf this feature requires changing permissions, this document https://docs.gitlab.com/ee/user/permissions.html must be updated accordingly. --\u003e\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\n What risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\nEngineer to test solution manually.\n\nSET to look into offline testing of SPDX\n\n### What does success look like, and how can we measure that?\n\n\u003c!-- Define both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. --\u003e\n\n### What is the type of buyer?\n\n\u003c!-- Which leads to: in which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#four-tiers --\u003e\n\n### Is this a cross-stage feature?\n\n\u003c!-- Communicate if this change will affect multiple Stage Groups or product areas. We recommend always start with the assumption that a feature request will have an impact into another Group. Loop in the most relevant PM and Product Designer from that Group to provide strategic support to help align the Group's broader plan and vision, as well as to avoid UX and technical debt. https://about.gitlab.com/handbook/product/#cross-stage-features --\u003e\n\n### Links / references","state":"closed","created_at":"2020-03-24T23:42:30.501Z","updated_at":"2022-04-07T17:25:10.512Z","closed_at":"2020-08-18T14:00:39.559Z","closed_by":{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"},"labels":["Category:License Compliance","Deliverable","Enterprise Edition","GitLab Ultimate","backend","devops::secure","direction","group::composition analysis","quad-planning::complete-action","secure offline scanning","type::feature","workflow::verification"],"milestone":{"id":1233752,"iid":50,"group_id":9970,"title":"13.3","description":"https://about.gitlab.com/releases/2020/08/22/gitlab-13-3-released/","state":"closed","created_at":"2020-04-09T17:39:21.090Z","updated_at":"2022-04-13T14:50:18.976Z","due_date":"2020-08-17","start_date":"2020-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/50"},"assignees":[{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"}],"author":{"id":971158,"username":"xlgmokha","name":"mo khan","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cc8d289bc1a24067f9af4f92452f4fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/xlgmokha"},"type":"ISSUE","assignee":{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212388","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":1},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212388","notes":"https://gitlab.com/api/v4/projects/278964/issues/212388/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212388/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212388","relative":"#212388","full":"gitlab-org/gitlab#212388"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3881,"epic":{"id":80173,"iid":3881,"title":"Offline GitLab for on-prem instances usability improvements","url":"/groups/gitlab-org/-/epics/3881","group_id":9970,"human_readable_end_date":"Aug 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":32408851,"iid":212384,"project_id":278964,"title":"Simplify code intelligence setup for GitLab native code intelligence","description":"## Problem to solve\n\nTo enable native code intelligence for a project, a CI pipeline must generate an LSIF file, and convert it into a custom GitLab format, and make it available as a report. We should make this simpler, and avoid forcing the user to run custom GitLab scripts that they need to fork into their own GitLab instance or download from the internet.\n\n```yaml\ncode_navigation:\n  script:\n    - echo \"Up to you! 🤷‍♂️\"\n  artifacts:\n    reports:\n      lsif: lsif.json\n```\n\n## Further details\n\n## Proposal\n\nThe report should use the documented standard LSIF format that can be validated by other tool.\n\n```yaml\ncode_navigation:\n  script:\n    - go get github.com/sourcegraph/lsif-go/cmd/lsif-go\n    - lsif-go\n artifacts:\n    reports:\n      lsif: dump.lsif\n```\n\nIf the CI job passes, GitLab should convert the dump into our internal representation, and store this in an appropriate location.\n\n## Testing\n\nThis is a good candidate for a new end-to-end test so that we can confirm that the `.lsif` file is picked up by the runner, processed by the backend, and the content is revealed in the frontend. Of course each step should still be covered by unit/integration tests.\n\n## Links / references","state":"closed","created_at":"2020-03-24T22:25:04.640Z","updated_at":"2020-07-30T12:46:01.670Z","closed_at":"2020-05-25T09:34:50.991Z","closed_by":{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"},"labels":["Category:Source Code Management","Deliverable","backend","devops::create","direction","group::source code","missed-deliverable","missed:13.0","quad-planning::complete-action","type::feature","workflow::in review"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"}],"author":{"id":1187333,"username":"jramsay-gitlab","name":"James Ramsay (ex-GitLab)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1187333/avatar.png","web_url":"https://gitlab.com/jramsay-gitlab"},"type":"ISSUE","assignee":{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"},"user_notes_count":21,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212384","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212384","notes":"https://gitlab.com/api/v4/projects/278964/issues/212384/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212384/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212384","relative":"#212384","full":"gitlab-org/gitlab#212384"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1576,"epic":{"id":9289,"iid":1576,"title":"🌀 Code intelligence MVC (jump to definition, find references)","url":"/groups/gitlab-org/-/epics/1576","group_id":9970,"human_readable_end_date":"Nov 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"at_risk"},{"id":32407020,"iid":212378,"project_id":278964,"title":"Failure in qa/qa/specs/features/ee/browser_ui/1_manage/group/group_saml_non_enforced_sso_spec.rb","description":"\u003c!---\nBefore opening a new QA failure issue, make sure to first search for it in the\nQA failures board: https://gitlab.com/groups/gitlab-org/-/boards/1385578\n\nThe issue should have the following:\n\n- The relative path of the failing spec file in the title, e.g. if the login\n  test fails, include `qa/specs/features/browser_ui/1_manage/login/log_in_spec.rb` in the title.\n  This is required so that existing issues can easily be found by searching for the spec file.\n- If the issue is about multiple test failures, include the path for each failing spec file in the description.\n- A link to the failing job.\n- The stack trace from the job's logs in the \"Stack trace\" section below.\n- A screenshot (if available), and HTML capture (if available), in the \"Screenshot / HTML page\" section below.\n---\u003e\n\n### Summary\n\nAn alert message with the text `\"Failed to load group activity metrics. Please try again.\"` shows up.\n\nhttps://gitlab.com/gitlab-org/gitlab-qa/-/jobs/484029027 from pipeline https://gitlab.com/gitlab-org/gitlab-qa/pipelines/129274052\n\n### Stack trace\n\n```\nFailures:\n  1) Manage Group SAML SSO - Non enforced SSO User logs in to group with SAML SSO\n     Failure/Error: expect(page).to have_content(\"SAML for #{@group.path} was added to your connected accounts\")\n       expected to find text \"SAML for saml_sso_group_fef1e8017bd7ccf6 was added to your connected accounts\" in \"Skip to content Projects Groups More S saml_sso_group_fef1e8017bd7ccf6 Group overview Details Activity Epics 0 Issues 0 Merge Requests 0 Security \u0026 Compliance Kubernetes Packages Analytics Members Settings Collapse sidebar saml_sso_group_fef1e8017bd7ccf6 Details Failed to load group activity metrics. Please try again. S saml_sso_group_fef1e8017bd7ccf6 Group ID: 4 Recent activity (last 90 days) - Merge Requests created - Issues created Subgroups and projects Shared projects Archived projects Last created A group is a collection of several projects. If you organize your projects under a group, it works like a folder. You can manage your group member’s permissions and access to each project in the group. No groups or projects matched your search\"\n     # ./qa/specs/features/ee/browser_ui/1_manage/group/group_saml_non_enforced_sso_spec.rb:34:in `block (3 levels) in \u003cmodule:QA\u003e'\n     # ./qa/runtime/browser.rb:55:in `block (2 levels) in configure!'\n     # ./qa/runtime/browser.rb:55:in `block (2 levels) in configure!'\n     # ./qa/runtime/browser.rb:55:in `block (2 levels) in configure!'\n     # /usr/local/bundle/gems/rspec-retry-0.6.1/lib/rspec/retry.rb:123:in `block in run'\n     # /usr/local/bundle/gems/rspec-retry-0.6.1/lib/rspec/retry.rb:110:in `loop'\n     # /usr/local/bundle/gems/rspec-retry-0.6.1/lib/rspec/retry.rb:110:in `run'\n     # /usr/local/bundle/gems/rspec-retry-0.6.1/lib/rspec_ext/rspec_ext.rb:12:in `run_with_retry'\n     # ./spec/spec_helper.rb:68:in `block (2 levels) in \u003ctop (required)\u003e'\n     # ./qa/runtime/browser.rb:55:in `block (2 levels) in configure!'\n     # /usr/local/bundle/gems/rspec-retry-0.6.1/lib/rspec/retry.rb:123:in `block in run'\n     # /usr/local/bundle/gems/rspec-retry-0.6.1/lib/rspec/retry.rb:110:in `loop'\n     # /usr/local/bundle/gems/rspec-retry-0.6.1/lib/rspec/retry.rb:110:in `run'\n     # /usr/local/bundle/gems/rspec-retry-0.6.1/lib/rspec_ext/rspec_ext.rb:12:in `run_with_retry'\n     # /usr/local/bundle/gems/rspec-retry-0.6.1/lib/rspec/retry.rb:37:in `block (2 levels) in setup'\n     # ./qa/runtime/browser.rb:55:in `block (2 levels) in configure!'\n     # ./qa/specs/runner.rb:69:in `perform'\n     # ./qa/scenario/template.rb:10:in `block in perform'\n     # ./qa/scenario/template.rb:8:in `tap'\n     # ./qa/scenario/template.rb:8:in `perform'\n     # ./qa/scenario/template.rb:33:in `perform'\n     # ./qa/scenario/template.rb:10:in `block in perform'\n     # ./qa/scenario/template.rb:8:in `tap'\n     # ./qa/scenario/template.rb:8:in `perform'\n     # ./qa/scenario/bootable.rb:28:in `launch!'\n```\n\n### Screenshot / HTML page\n\n![manage_group_saml_sso_-_non_enforced_sso_user_logs_in_to_group_with_saml_sso](/uploads/340a233462987fe0a1fd04d8d0520094/manage_group_saml_sso_-_non_enforced_sso_user_logs_in_to_group_with_saml_sso.png)\n\n### Possible fixes\n\n\n\u003c!-- Default due date. --\u003e\n\u003c!-- Base labels. --\u003e\n\u003c!-- Test failure type label, please use just one.--\u003e\n\u003c!--\nChoose the stage that appears in the test path, e.g. ~\"devops::create\" for\n`qa/specs/features/browser_ui/3_create/web_ide/add_file_template_spec.rb`.\n--\u003e\n\u003c!--\nSelect a label for where the failure was found, e.g. if the failure occurred in\na nightly pipeline, select ~\"found:nightly\".\n--\u003e\n\u003c!--\nhttps://about.gitlab.com/handbook/engineering/quality/guidelines/#priorities:\n- ~P1: Tests that are needed to verify fundamental GitLab functionality.\n- ~P2: Tests that deal with external integrations which may take a longer time to debug and fix.\n--\u003e\n\n\u003c!-- Select the current milestone if ~P1 or the next milestone if ~P2. --\u003e","state":"closed","created_at":"2020-03-24T21:26:01.066Z","updated_at":"2020-04-07T13:33:12.354Z","closed_at":"2020-04-07T13:33:12.309Z","closed_by":{"id":2632430,"username":"sliaquat","name":"Sanad Liaquat","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2632430/avatar.png","web_url":"https://gitlab.com/sliaquat"},"labels":["Category:Authentication and Authorization","QA","Quality","awaiting feedback","devops::manage","failure::investigating","found:master","group::authentication and authorization","test","type::bug","workflow::in dev"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":4158075,"username":"aakriti.gupta","name":"Aakriti Gupta","state":"active","avatar_url":"https://secure.gravatar.com/avatar/992a080bc7d9f8c22ff7186db1c76dbd?s=80\u0026d=identicon","web_url":"https://gitlab.com/aakriti.gupta"}],"author":{"id":272636,"username":"ddavison","name":"Dan Davison","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6e56557ffa1baafe3e73e45bd2dc9524?s=80\u0026d=identicon","web_url":"https://gitlab.com/ddavison"},"type":"ISSUE","assignee":{"id":4158075,"username":"aakriti.gupta","name":"Aakriti Gupta","state":"active","avatar_url":"https://secure.gravatar.com/avatar/992a080bc7d9f8c22ff7186db1c76dbd?s=80\u0026d=identicon","web_url":"https://gitlab.com/aakriti.gupta"},"user_notes_count":21,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2020-04-07","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212378","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212378","notes":"https://gitlab.com/api/v4/projects/278964/issues/212378/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212378/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212378","relative":"#212378","full":"gitlab-org/gitlab#212378"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32406636,"iid":212377,"project_id":278964,"title":"User can double-award emoji","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nI can double-award an emoji with a numerical value.\n\n### Steps to reproduce\n\n1. Identify a comment where you have awarded an emoji with a numerical name (e.g. `1234`)\n2. Click on the emoji again\n3. Instead of untoggling it, it awards it again (and toggles it normally thereafter)\n\n### Example Project\n\nHere is a comment where this happens:\n\nhttps://gitlab.com/gitlab-com/www-gitlab-com/-/merge_requests/42790#note_304676812\n\n### What is the current *bug* behavior?\n\nInstead of toggling off, the emoji is awarded again - so a user can award it twice.\n\n### What is the expected *correct* behavior?\n\n- The emoji should not be awarded more than once for a single user\n- The emoji should award only if it has not already been awarded by that user\n\n### Relevant logs and/or screenshots\n\nBefore toggle:\n\n![image](/uploads/9be8b96a9384dd81aa0c0c285bd4b656/image.png)\n\nAfter toggle:\n\n![image](/uploads/7fef6994dfcfb42f7966f6647969187c/image.png)\n\nRequest to `toggle_award_emoji` was 200, with the following payload:\n\n![image](/uploads/80b9f6154d402d4e2d844baae8f5ee84/image.png)\n\nI think this only happens with numerical emoji.\n\n### Output of checks\n\n(If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com)\n\n#### Results of GitLab environment info\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n(If you can, link to the line of code that might be responsible for the problem)","state":"closed","created_at":"2020-03-24T21:04:47.180Z","updated_at":"2020-04-21T13:28:23.828Z","closed_at":"2020-04-21T13:28:23.780Z","closed_by":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"labels":["[deprecated] Accepting merge requests","award emoji","devops::plan","frontend","group::project management","priority::4","severity::4","type::bug","workflow::verification"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[],"author":{"id":3717078,"username":"cablett","name":"charlie ablett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3717078/avatar.png","web_url":"https://gitlab.com/cablett"},"type":"ISSUE","assignee":null,"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212377","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212377","notes":"https://gitlab.com/api/v4/projects/278964/issues/212377/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212377/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212377","relative":"#212377","full":"gitlab-org/gitlab#212377"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32406168,"iid":212373,"project_id":278964,"title":"Triggering multiple dynamically generated child pipelines in a single phase causes all but one to fail","description":"### Summary\n\nRunning multiple children pipelines in the same stage which use different causes all of them except one to fail. The first job as specified in the `.gitlab-ci.yml` succeeds, the rest fail with a \"yaml invalid\" error ([ex](https://gitlab.com/fgrimshaw/dynamic-ci/pipelines/129356827)).\n\n### Steps to reproduce\n\n.gitlab-ci.yml:\n```yaml\nstages:\n  - generate\n  - run\n\ngenerate-config:\n  stage: generate\n  script:\n    - ./generate-configs.sh\n    - cat config-a.yml\n    - cat config-b.yml\n  artifacts:\n    paths:\n      - config-a.yml\n      - config-b.yml\n\ntrigger-a:\n  stage: run\n  trigger:\n    include:\n      - artifact: config-a.yml\n        job: generate-config\n\ntrigger-b:\n  stage: run\n  trigger:\n    include:\n      - artifact: config-b.yml\n        job: generate-config\n```\n\ngenerate-configs.sh:\n```bash\n#!/bin/bash\n\ncat \u003e config-a.yml \u003c\u003cHEREDOC\nservice-a-1:\n  script:\n    - echo 'job 1 for service A'\nservice-a-2:\n  script:\n    - echo 'job 2 for service A'\nHEREDOC\n\ncat \u003e config-b.yml \u003c\u003cHEREDOC\nservice-b-1:\n  script:\n    - echo 'job 1 for service B'\nservice-b-2:\n  script:\n    - echo 'job 2 for service B'\nHEREDOC\n```\n\n### Example Project\n\nhttps://gitlab.com/fgrimshaw/dynamic-ci\n\n### What is the current *bug* behavior?\n\nThe second generated child pipeline here fails with an invalid yaml error: https://gitlab.com/fgrimshaw/dynamic-ci/pipelines/129356665\n\n### What is the expected *correct* behavior?\n\nThe second generated child pipeline here shouldn't fail with an invalid yaml error\n\n### Relevant logs and/or screenshots\n\nNot logs or screenshots, but here is some relevant information:\n\n- In the example .gitlab-ci.yml, reversing the order of `trigger-a` and `trigger-b` causes b to succeed and a to fail\n- Any extra dynamic child pipelines fail similar to b in the example project\n- Splitting up `generate-config` into separate jobs for a and b does not have an effect\n- This only occurs when `trigger-a` and `trigger-b` appear in the same stages; this does not happen when they are in separate stages\n- The bug does not occur in Fabio Pitino's demo video here: https://www.youtube.com/watch?v=nMdfus2JWHM\n\n### Output of checks\n\nThis bug happens on GitLab.com\n\n#### Results of GitLab environment info\n\nN/A\n\n#### Results of GitLab application Check\n\nN/A\n\n### Possible fixes\n\nN/A","state":"closed","created_at":"2020-03-24T20:44:13.097Z","updated_at":"2022-01-20T11:01:59.373Z","closed_at":"2020-09-18T08:06:32.192Z","closed_by":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"labels":["Category:Continuous Integration","Category:Pipeline Authoring","Deliverable","backend","bridge pipelines","customer","devops::verify","group::pipeline authoring","missed-SLO","priority::2","section::ops","severity::3","type::bug","workflow::production"],"milestone":{"id":1233753,"iid":51,"group_id":9970,"title":"13.4","description":"https://about.gitlab.com/releases/2020/09/22/gitlab-13-4-released/","state":"closed","created_at":"2020-04-09T17:39:21.662Z","updated_at":"2022-04-13T14:50:33.769Z","due_date":"2020-09-17","start_date":"2020-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/51"},"assignees":[{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"}],"author":{"id":3445178,"username":"fgrimshaw","name":"Finn Grimshaw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3445178/avatar.png","web_url":"https://gitlab.com/fgrimshaw"},"type":"ISSUE","assignee":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"user_notes_count":46,"merge_requests_count":0,"upvotes":20,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212373","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212373","notes":"https://gitlab.com/api/v4/projects/278964/issues/212373/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212373/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212373","relative":"#212373","full":"gitlab-org/gitlab#212373"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":32406013,"iid":212371,"project_id":278964,"title":"Create system notes when changing issues health status","description":"We implemented issue health status on https://gitlab.com/gitlab-org/gitlab/-/issues/36427,  \nnow we need to create system notes when an issue health status is updated.  \n\nSystem notes are created for all other attributes that gets updated. We can copy\nits behavior here.\n\nIcon for system notes: http://gitlab-org.gitlab.io/gitlab-svgs/?q=health","state":"closed","created_at":"2020-03-24T20:36:55.764Z","updated_at":"2020-04-14T21:19:06.217Z","closed_at":"2020-04-06T13:50:21.388Z","closed_by":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"labels":["GitLab Ultimate","backend","devops::plan","frontend","group::product planning","type::feature","workflow::verification"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"},{"id":3617348,"username":"uhlexsis","name":"Alexis Ginsberg","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3617348/avatar.png","web_url":"https://gitlab.com/uhlexsis"}],"author":{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"},"type":"ISSUE","assignee":{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"},"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212371","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212371","notes":"https://gitlab.com/api/v4/projects/278964/issues/212371/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212371/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212371","relative":"#212371","full":"gitlab-org/gitlab#212371"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2204,"epic":{"id":15028,"iid":2204,"title":"Health Status of Work MVC : Assign to Issue and View within an Epic","url":"/groups/gitlab-org/-/epics/2204","group_id":9970,"human_readable_end_date":"May 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":34564498,"iid":217804,"project_id":278964,"title":"Notify self-managed admin as they approach the user limit in their subscription","description":"### Problem\n\nSelf-managed admins don't get any alerts when they are approaching their user limit. This can cause surprises for customers at renewal, and when they are contacted or charged for overages.\n\n### Proposal\n\nWe should provide alerting to the admin potentially via the following modes:\n\n1. In-instance banner displayed to the admin, on all pages.\n1. Email to admin\n1. Thoughts about a notification bubble on the admin wrench to call attention? (maybe overkill given the first step)\n\nI'd like to get feedback on cadence of these alerts. Example, this happen when x% of the seats are used?","state":"closed","created_at":"2020-03-24T20:22:20.761Z","updated_at":"2022-11-28T19:00:32.854Z","closed_at":"2020-08-11T11:53:54.747Z","closed_by":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"labels":["Data team review","Deliverable","Engineering","devops::fulfillment","documentation","frontend","group::purchase","link::parent issue","missed-deliverable","missed:13.2","section::fulfillment","workflow::verification"],"milestone":{"id":1233752,"iid":50,"group_id":9970,"title":"13.3","description":"https://about.gitlab.com/releases/2020/08/22/gitlab-13-3-released/","state":"closed","created_at":"2020-04-09T17:39:21.090Z","updated_at":"2022-04-13T14:50:18.976Z","due_date":"2020-08-17","start_date":"2020-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/50"},"assignees":[{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"}],"author":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"type":"ISSUE","assignee":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"user_notes_count":54,"merge_requests_count":2,"upvotes":3,"downvotes":1,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217804","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217804","notes":"https://gitlab.com/api/v4/projects/278964/issues/217804/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217804/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217804","relative":"#217804","full":"gitlab-org/gitlab#217804"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2948,"epic":{"id":33575,"iid":2948,"title":"Make consumption management easier for Enterprise customers","url":"/groups/gitlab-org/-/epics/2948","group_id":9970},"iteration":null,"health_status":null},{"id":32416516,"iid":212400,"project_id":278964,"title":"Harden Usage Ping | Alternative counts","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\nCurrently in Usage Ping there are \\~400 usage ping counters with varying implementations, this causes stability issues and in some causes an uncaught error can cause the entire usage ping to fail. Some of these aren't really counters like version information, date etc. These include anything miscellaneous such as https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/usage_data.rb#L26\n\n\n\n### Proposal\n\nMake these miscellaneous metrics more resilient by reworking them so they are isolated within a Alternative Counter method which is isolated with rescue fail safes.\n\n### Result\n\nA more robust usage ping without single points of failure\n\n### Next steps (if any)\n\nChecked for this metrics\n\nChecking for counters located:\n\n* https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/usage_data.rb#L26 \n\n```ruby\n        usage_data = {\n          uuid: Gitlab::CurrentSettings.uuid,\n          hostname: Gitlab.config.gitlab.host,\n          version: Gitlab::VERSION,\n          installation_type: installation_type,\n          active_user_count: count(User.active),\n          recorded_at: Time.now,\n          edition: 'CE'\n        }\n\n```\n\n* https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/usage_data.rb#L134\n\n```ruby\n      def features_usage_data_ce\n        {\n          container_registry_enabled: Gitlab.config.registry.enabled,\n          dependency_proxy_enabled: Gitlab.config.try(:dependency_proxy)\u0026.enabled,\n          gitlab_shared_runners_enabled: Gitlab.config.gitlab_ci.shared_runners_enabled,\n          gravatar_enabled: Gitlab::CurrentSettings.gravatar_enabled?,\n          influxdb_metrics_enabled: Gitlab::Metrics.influx_metrics_enabled?,\n          ldap_enabled: Gitlab.config.ldap.enabled,\n          mattermost_enabled: Gitlab.config.mattermost.enabled,\n          omniauth_enabled: Gitlab::Auth.omniauth_enabled?,\n          prometheus_metrics_enabled: Gitlab::Metrics.prometheus_metrics_enabled?,\n          reply_by_email_enabled: Gitlab::IncomingEmail.enabled?,\n          signup_enabled: Gitlab::CurrentSettings.allow_signup?,\n          web_ide_clientside_preview_enabled: Gitlab::CurrentSettings.web_ide_clientside_preview_enabled?,\n          ingress_modsecurity_enabled: Feature.enabled?(:ingress_modsecurity)\n        }\n      end\n```\n\nhttps://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/usage_data.rb#L134\n\n```ruby\n     def features_usage_data_ce\n        {\n          container_registry_enabled: Gitlab.config.registry.enabled,\n          dependency_proxy_enabled: Gitlab.config.try(:dependency_proxy)\u0026.enabled,\n          gitlab_shared_runners_enabled: Gitlab.config.gitlab_ci.shared_runners_enabled,\n          gravatar_enabled: Gitlab::CurrentSettings.gravatar_enabled?,\n          influxdb_metrics_enabled: Gitlab::Metrics.influx_metrics_enabled?,\n          ldap_enabled: Gitlab.config.ldap.enabled,\n          mattermost_enabled: Gitlab.config.mattermost.enabled,\n          omniauth_enabled: Gitlab::Auth.omniauth_enabled?,\n          prometheus_metrics_enabled: Gitlab::Metrics.prometheus_metrics_enabled?,\n          reply_by_email_enabled: Gitlab::IncomingEmail.enabled?,\n          signup_enabled: Gitlab::CurrentSettings.allow_signup?,\n          web_ide_clientside_preview_enabled: Gitlab::CurrentSettings.web_ide_clientside_preview_enabled?,\n          ingress_modsecurity_enabled: Feature.enabled?(:ingress_modsecurity)\n        }\n      end\n\n```\n\n* https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/usage_data.rb#L172\n\n```ruby\n     def components_usage_data\n        {\n          git: { version: Gitlab::Git.version },\n          gitaly: { version: Gitaly::Server.all.first.server_version, servers: Gitaly::Server.count, filesystems: Gitaly::Server.filesystems },\n          gitlab_pages: { enabled: Gitlab.config.pages.enabled, version: Gitlab::Pages::VERSION },\n          database: { adapter: Gitlab::Database.adapter_name, version: Gitlab::Database.version },\n          app_server: { type: app_server_type }\n        }\n      end\n\n```\n* https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/lib/ee/gitlab/usage_data.rb#L52\n\n```ruby\n        def features_usage_data_ee\n          {\n            elasticsearch_enabled: ::Gitlab::CurrentSettings.elasticsearch_search?,\n            license_trial_ends_on: License.trial_ends_on,\n            geo_enabled: ::Gitlab::Geo.enabled?\n          }\n        end\n\n```\n\n* https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/lib/ee/gitlab/usage_data.rb#L60\n\n```ruby\n        def license_usage_data\n          usage_data = super\n          license = ::License.current\n          usage_data[:edition] =\n            if license\n              license.edition\n            else\n              'EE Free'\n            end\n\n          if license\n            usage_data[:license_md5] = license.md5\n            usage_data[:license_id] = license.license_id\n            usage_data[:historical_max_users] = ::HistoricalData.max_historical_user_count\n            usage_data[:licensee] = license.licensee\n            usage_data[:license_user_count] = license.restricted_user_count\n            usage_data[:license_starts_at] = license.starts_at\n            usage_data[:license_expires_at] = license.expires_at\n            usage_data[:license_plan] = license.plan\n            usage_data[:license_add_ons] = license.add_ons\n            usage_data[:license_trial] = license.trial?\n          end\n\n          usage_data\n        end\n\n```","state":"closed","created_at":"2020-03-24T19:58:27.975Z","updated_at":"2021-01-26T21:02:36.574Z","closed_at":"2020-04-07T03:45:55.818Z","closed_by":{"id":120073,"username":"DylanGriffith","name":"Dylan Griffith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/120073/avatar.png","web_url":"https://gitlab.com/DylanGriffith"},"labels":["devops::growth","group::product intelligence","workflow::in dev"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"}],"author":{"id":4787282,"username":"sid_reddy","name":"Sid Reddy","state":"blocked","avatar_url":"https://secure.gravatar.com/avatar/95c7d8737742bea3cde673543ab16529?s=80\u0026d=identicon","web_url":"https://gitlab.com/sid_reddy"},"type":"ISSUE","assignee":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"user_notes_count":2,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212400","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212400","notes":"https://gitlab.com/api/v4/projects/278964/issues/212400/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212400/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212400","relative":"#212400","full":"gitlab-org/gitlab#212400"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32405064,"iid":212365,"project_id":278964,"title":"Backend: Make `ci_pipeline_size` and `ci_active_jobs` set to an arbitrarily very high number","description":"## Problem\n\nCurrently the following columns of `plan_limits` are zero:\n\n- ~~`ci_active_jobs` (only set for Free plan)~~ - done in https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/15476\n- `ci_pipeline_size`\n\n## Solution\n\n- Define a default limit if possible (even arbitrarily high number) so limits are shipped to self-hosted.\n    - Use data from kibana logging done in https://gitlab.com/gitlab-org/gitlab/-/issues/356570+\n- Define limits for SaaS\n    - we check for these limits, alway log the actual number (e.g. number of currently active jobs) in Kibana with details like namespace_id, project_id, etc. This will help identify and troubleshoot potential hitters.\n    - also log if the limit is hit with the same data as above. This can help us differentiate observations below the limit with those above the limit.\n    - Use the Kibana data above together with [Prometheus data](https://thanos-query.ops.gitlab.net/graph?g0.expr=sum(rate(gitlab_ci_active_jobs_bucket%5B1m%5D))%20by%20(le)\u0026g0.tab=0\u0026g0.stacked=0\u0026g0.range_input=2h\u0026g0.max_source_resolution=0s\u0026g0.deduplicate=1\u0026g0.partial_response=0\u0026g0.store_matches=%5B%5D) to come up with a limit\n    - Have a Gitlab.com administrator set the limit via the UI, initially high and lowering it as we monitor for any false positives.","state":"closed","created_at":"2020-03-24T19:56:03.628Z","updated_at":"2023-01-05T10:53:29.867Z","closed_at":"2022-06-20T18:02:53.645Z","closed_by":{"id":9468400,"username":"marknuzzo","name":"Mark Nuzzo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9468400/avatar.png","web_url":"https://gitlab.com/marknuzzo"},"labels":["Application Limits","Category:Continuous Integration","Eng-Inter-Dept::Rate Limits","[deprecated] Accepting merge requests","availability::limit","backend","devops::verify","group::pipeline execution","maintenance::refactor","pipeline processing","section::ops","severity::2","type::maintenance","workflow::ready for development"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":2535118,"username":"tkuah","name":"Thong Kuah","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f7b51bdd49a4914d29504d7ff4c3f7b9?s=80\u0026d=identicon","web_url":"https://gitlab.com/tkuah"},"type":"ISSUE","assignee":null,"user_notes_count":39,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212365","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212365","notes":"https://gitlab.com/api/v4/projects/278964/issues/212365/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212365/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212365","relative":"#212365","full":"gitlab-org/gitlab#212365"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2037,"epic":{"id":13522,"iid":2037,"title":"Verify - application limits","url":"/groups/gitlab-org/-/epics/2037","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":32415983,"iid":212398,"project_id":278964,"title":"Harden \u0026 optimize  jira usage data","description":"### Problem\nCurrently in Usage Ping there are \\~400 usage ping counters with varying implementations, this causes stability issues and in some causes an uncaught error can cause the entire usage ping to fail.\n\njira_usage is one of the usage ping counters that has a custom implementation.\n\n### Proposal\n\nRework the jira_usage counter with batch counting\n\n### Result\n\nA more robust usage ping without single points of failure\n\n","state":"closed","created_at":"2020-03-24T19:55:07.532Z","updated_at":"2021-01-26T21:02:36.645Z","closed_at":"2020-04-08T14:04:16.645Z","closed_by":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"labels":["backstage [DEPRECATED]","bug::performance","devops::growth","group::product intelligence","milestone::p2"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"}],"author":{"id":4787282,"username":"sid_reddy","name":"Sid Reddy","state":"blocked","avatar_url":"https://secure.gravatar.com/avatar/95c7d8737742bea3cde673543ab16529?s=80\u0026d=identicon","web_url":"https://gitlab.com/sid_reddy"},"type":"ISSUE","assignee":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212398","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212398","notes":"https://gitlab.com/api/v4/projects/278964/issues/212398/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212398/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212398","relative":"#212398","full":"gitlab-org/gitlab#212398"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32416526,"iid":212402,"project_id":278964,"title":"Harden Usage Ping | Redis Counters","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nCurrently in Usage Ping there are \\~400 usage ping counters with varying implementations, this causes stability issues and in some causes an uncaught error can cause the entire usage ping to fail.\n\nIn `lib/gitlab/usage_data.rb`\n\n1. Gitlab::UsageDataCounters::WikiPageCounter, =\u003e redis?\n1. Gitlab::UsageDataCounters::WebIdeCounter, =\u003e redis?\n1. Gitlab::UsageDataCounters::NoteCounter, =\u003e redis?\n1. Gitlab::UsageDataCounters::SnippetCounter, =\u003e redis?\n1. Gitlab::UsageDataCounters::SearchCounter, =\u003e redis?\n1. Gitlab::UsageDataCounters::CycleAnalyticsCounter, =\u003e redis?\n1. Gitlab::UsageDataCounters::ProductivityAnalyticsCounter, =\u003e redis?\n1. Gitlab::UsageDataCounters::SourceCodeCounter, =\u003e redis?\n1. Gitlab::UsageDataCounters::MergeRequestCounter =\u003e redis?\n\nIn `ee/lib/ee.gitlab/usage_data/*`\n\n1. Gitlab::UsageCounters::DesignsCounter =\u003e redis?\n1. Gitlab::UsageDataCounters::LicensesList =\u003e redis?\n1. Gitlab::UsageCounters::DependencyList. =\u003e redis?\n1. Gitlab::UsageCounters::PodLogs =\u003e redis?\n\nNote - For Redis Counters: this includes anything that uses redis, this however may be a \"russian doll\" where usage pings calculations are temporarily stored in Redis / multiple usage pings. We will need to spend time tracing this.\n\n### Proposal\n\nRework redis counters so they are isolated within a redis count method which is isolated with rescue fail safes.\n\n### Result\n\nA more robust usage ping without single points of failure\n\n### Next steps (if any)","state":"closed","created_at":"2020-03-24T19:47:08.291Z","updated_at":"2021-01-26T21:02:36.681Z","closed_at":"2020-05-06T01:35:47.331Z","closed_by":{"id":120073,"username":"DylanGriffith","name":"Dylan Griffith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/120073/avatar.png","web_url":"https://gitlab.com/DylanGriffith"},"labels":["devops::growth","group::product intelligence","link::child issue","workflow::in review"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"}],"author":{"id":4787282,"username":"sid_reddy","name":"Sid Reddy","state":"blocked","avatar_url":"https://secure.gravatar.com/avatar/95c7d8737742bea3cde673543ab16529?s=80\u0026d=identicon","web_url":"https://gitlab.com/sid_reddy"},"type":"ISSUE","assignee":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"user_notes_count":8,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212402","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":8,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212402","notes":"https://gitlab.com/api/v4/projects/278964/issues/212402/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212402/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212402","relative":"#212402","full":"gitlab-org/gitlab#212402"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32416520,"iid":212401,"project_id":278964,"title":"Harden Usage Ping | CycleAnalytics","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n[Parent Issue ](https://gitlab.com/gitlab-org/telemetry/-/issues/350)\n\n### Problem\n\nCurrently in Usage Ping there are \\~400 usage ping counters with varying implementations, this causes stability issues and in some causes an uncaught error can cause the entire usage ping to fail.\n\nCycleAnalytics (Gitlab::CycleAnalytics::UsageData) is one of the usage ping counters that has a custom implementation.\n\n### Proposal\n\nRework CycleAnalytics so it is isolated with rescue fail safes\n\n### Result\n\nA more robust usage ping without single points of failure\n\n### Next steps (if any)","state":"closed","created_at":"2020-03-24T19:31:59.873Z","updated_at":"2021-05-21T07:48:33.738Z","closed_at":"2021-05-21T07:48:33.720Z","closed_by":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"labels":["[deprecated] Accepting merge requests","devops::growth","group::product intelligence","missed:13.0","missed:13.1","missed:13.2","missed:13.3","missed:13.4","section::growth","workflow::solution validation"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":4787282,"username":"sid_reddy","name":"Sid Reddy","state":"blocked","avatar_url":"https://secure.gravatar.com/avatar/95c7d8737742bea3cde673543ab16529?s=80\u0026d=identicon","web_url":"https://gitlab.com/sid_reddy"},"type":"ISSUE","assignee":null,"user_notes_count":18,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212401","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212401","notes":"https://gitlab.com/api/v4/projects/278964/issues/212401/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212401/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212401","relative":"#212401","full":"gitlab-org/gitlab#212401"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32400858,"iid":212356,"project_id":278964,"title":"Log Project/Group member additions when importing","description":"When using Project/Group Import functionality, it is possible to map imported relations to existing users (for example to have an issue created by a correct user). When that happens, an identified user becomes a member of imported Project/Group. We would like to have visibility into which users are being added as members to Project/Group by adding a log entry on when that addition happens.","state":"closed","created_at":"2020-03-24T17:53:11.854Z","updated_at":"2021-05-18T20:46:45.378Z","closed_at":"2020-03-31T10:08:37.298Z","closed_by":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"labels":["Importer:Group Export/Import","devops::manage","group::import","workflow::production"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"}],"author":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"type":"ISSUE","assignee":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212356","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212356","notes":"https://gitlab.com/api/v4/projects/278964/issues/212356/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212356/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212356","relative":"#212356","full":"gitlab-org/gitlab#212356"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1952,"epic":{"id":12745,"iid":1952,"title":"Group Export/Import API","url":"/groups/gitlab-org/-/epics/1952","group_id":9970,"human_readable_end_date":"Feb 21, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":32400671,"iid":212355,"project_id":278964,"title":"ActiveRecord::QueryCanceled: PG::QueryCanceled: ERROR:  canceling statement due to statement timeout","description":"User is not receiving the project export email when a particular project is triggered to export via the UI or API.\n\nhttps://sentry.gitlab.net/gitlab/gitlabcom/issues/1400214/?referrer=gitlab_plugin\n\n```\nPG::QueryCanceled: ERROR:  canceling statement due to statement timeout\n\n  lib/gitlab/import_export/fast_hash_serializer.rb:143:in `block in serialize_record'\n    data += batch.as_json(options)\n  lib/gitlab/import_export/fast_hash_serializer.rb:138:in `serialize_record'\n    record.in_batches(of: @batch_size) do |batch| # rubocop:disable Cop/InBatches\n  lib/gitlab/import_export/fast_hash_serializer.rb:119:in `serialize_include_definition'\n    serialized_record = serialize_record(key, record, options)\n  lib/gitlab/import_export/fast_hash_serializer.rb:102:in `map'\n    .map(\u0026method(:serialize_include_definition))\n  lib/gitlab/import_export/fast_hash_serializer.rb:102:in `serialize_includes'\n    .map(\u0026method(:serialize_include_definition))\n...\n(108 additional frame(s) were not displayed)\n\nActiveRecord::QueryCanceled: PG::QueryCanceled: ERROR:  canceling statement due to statement timeout\n\nActiveRecord::QueryCanceled: PG::QueryCanceled: ERROR:  canceling statement due to statement timeout\n\n```\n\nZD: https://gitlab.zendesk.com/agent/tickets/147816 (GitLab Internal)","state":"closed","created_at":"2020-03-24T17:45:18.776Z","updated_at":"2021-05-18T20:57:31.370Z","closed_at":"2020-07-09T10:22:09.779Z","closed_by":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"labels":["Category:Importers","DEPRECATED_project export","Importer:Project Export/Import","customer","devops::manage","group::import","type::bug","workflow::production"],"milestone":{"id":1233746,"iid":49,"group_id":9970,"title":"13.2","description":"https://about.gitlab.com/releases/2020/07/22/gitlab-13-2-released/","state":"closed","created_at":"2020-04-09T17:28:01.032Z","updated_at":"2022-04-13T14:48:24.167Z","due_date":"2020-07-17","start_date":"2020-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/49"},"assignees":[{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"}],"author":{"id":402401,"username":"jobbot","name":"Bot","state":"active","avatar_url":"https://secure.gravatar.com/avatar/aaa6738f1ebf25404010884af511b0e7?s=80\u0026d=identicon","web_url":"https://gitlab.com/jobbot"},"type":"ISSUE","assignee":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"user_notes_count":34,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212355","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212355","notes":"https://gitlab.com/api/v4/projects/278964/issues/212355/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212355/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212355","relative":"#212355","full":"gitlab-org/gitlab#212355"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3054,"epic":{"id":39522,"iid":3054,"title":"🐞 Project Export/Import bugs","url":"/groups/gitlab-org/-/epics/3054","group_id":9970},"iteration":null,"health_status":null},{"id":32400527,"iid":212354,"project_id":278964,"title":"Manual `review-deploy` isn't playable until previous jobs are done","description":"When Review Apps deployments are manual, `review-deploy` isn't playable until previous jobs are done, which is a problem since `review-build-cng` tries to play it, but it doesn't success since the job isn't playable at this point.\n\nThis works if you retry `review-build-cng` once it's finished once, but it's wasting 20 minutes of compute and clock time since it's rebuilding the CNG components...\n\n![Screen_Shot_2020-03-24_at_17.14.22](/uploads/845e90477f620e145494206952b4d65f/Screen_Shot_2020-03-24_at_17.14.22.png)\n\nUnfortunately, if we add `needs: []` to `review-deploy`, that'll either block the pipeline if `review-build-cng` is never played (see https://gitlab.com/gitlab-org/gitlab/-/issues/199979), or start `review-deploy` before `review-build-cng` when Review Apps deployments are automated (i.e. MR with ~frontend changes). Being able to specify a different `needs` depending on `when` could improve that (i.e. `needs: []` for `when: manual` and `needs: [\"review-build-cng\"]` for `when: on_success`).\n\nA solution would be to put both jobs in the same stage but we'd need https://gitlab.com/gitlab-org/gitlab/issues/30632 to be implemented.\n\n## Working solution\n\n1. Always make the `review-deploy` job manual.\n1. Move `review-build-cng` to the `review` stage so that `review-build-cng` and `review-deploy` can be started without the other being done first.\n1. Always try to trigger `review-deploy` at the end of `review-build-cng`.\n1. In `review-deploy`:\n   1. If `review-build-cng` is not started, start it.\n   1. Wait for `review-build-cng` to finish.\n   1. Proceed to deployment.\n   1. At the end, play `review-qa-smoke` and `review-performance`.\n1. In `review-qa-smoke` and `review-performance`, wait for `review-deploy` to be finished, then download its `environment_url.txt` artifact.\n\nNote that https://gitlab.com/gitlab-org/gitlab/issues/31264 would allow to avoid most if not all of these workarounds.","state":"closed","created_at":"2020-03-24T17:39:55.720Z","updated_at":"2022-01-27T14:55:04.767Z","closed_at":"2022-01-27T14:55:04.718Z","closed_by":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"labels":["Engineering Productivity","ci-build","ep::review-apps","missed-SLO","priority::3","severity::2","type::bug","workflow::blocked"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"type":"ISSUE","assignee":null,"user_notes_count":6,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212354","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212354","notes":"https://gitlab.com/api/v4/projects/278964/issues/212354/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212354/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212354","relative":"#212354","full":"gitlab-org/gitlab#212354"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4136,"epic":{"id":91032,"iid":4136,"title":"Always process pipelines using DAG algorithm","url":"/groups/gitlab-org/-/epics/4136","group_id":9970},"iteration":null,"health_status":null},{"id":32399857,"iid":212351,"project_id":278964,"title":"Registry tables as SSOT for Projects","description":"Following on from https://gitlab.com/gitlab-org/gitlab/issues/34269, we now need to make this change for Projects. This would unblock the effort to enable Geo on Staging as it will remove the need for the FDW queries that are currently timing out. ","state":"closed","created_at":"2020-03-24T17:19:24.266Z","updated_at":"2020-08-04T17:16:23.917Z","closed_at":"2020-06-19T07:37:42.077Z","closed_by":{"id":3944199,"username":"fzimmer","name":"Fabian Zimmer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3944199/avatar.png","web_url":"https://gitlab.com/fzimmer"},"labels":["Deliverable","Enterprise Edition","GitLab Premium","devops::systems","group::geo","missed-deliverable","missed:12.10","missed:13.1","workflow::in review"],"milestone":{"id":1233746,"iid":49,"group_id":9970,"title":"13.2","description":"https://about.gitlab.com/releases/2020/07/22/gitlab-13-2-released/","state":"closed","created_at":"2020-04-09T17:28:01.032Z","updated_at":"2022-04-13T14:48:24.167Z","due_date":"2020-07-17","start_date":"2020-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/49"},"assignees":[{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"}],"author":{"id":3944199,"username":"fzimmer","name":"Fabian Zimmer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3944199/avatar.png","web_url":"https://gitlab.com/fzimmer"},"type":"ISSUE","assignee":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212351","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212351","notes":"https://gitlab.com/api/v4/projects/278964/issues/212351/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212351/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212351","relative":"#212351","full":"gitlab-org/gitlab#212351"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2851,"epic":{"id":29462,"iid":2851,"title":"Geo: Improve Geo scalability by simplifying backfill operations","url":"/groups/gitlab-org/-/epics/2851","group_id":9970,"human_readable_end_date":"Jul 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":32398891,"iid":212344,"project_id":278964,"title":"URL for latest pipeline returns error 500 if there are no pipelines on that branch","description":"### Summary\n\nAs mentioned at gitlab-org/gitlab-foss!20865 that merge request added the ability to link to the latest pipeline in a project at `\u003cproject\u003e/pipelines/latest` (for the default branch) or `\u003cproject\u003e/piplines/\u003cbranch\u003e/latest` for the latest pipeline run on a specific branch.\n\nHowever, if a pipeline has not been run on the specified branch or on the default branch, this URL returns an HTTP error 500, as opposed to say, a 404.\n\n### Steps to reproduce\n\nCreate a new project.  It is not even necessary to configure a pipeline first.\n\nGo to `\u003csite-base\u003e/\u003cproject\u003e/pipelines/latest`\n\nConfirm that it returns an HTTP 500 status.\n\n### Example Project\n\nhttps://gitlab.com/embray/test-gitlab-foss-20865\n\nLinks demonstrating the issue:\n\n* https://gitlab.com/embray/test-gitlab-foss-20865/pipelines/latest\n* https://gitlab.com/embray/test-gitlab-foss-20865/pipelines/master/latest\n\nIn the above case it was not even necessary to configure a pipeline, whereas in my original case I did have a pipeline configured, but without having run it on \"master\" (the default branch) yet, only other branches.  Suspect without confirmation that the same bug is responsible in both cases.\n\n### What is the current *bug* behavior?\n\nAn HTTP 500 status code is returned.\n\n### What is the expected *correct* behavior?\n\nAt HTTP 404 (or some other more appropriate status code and/or error message) is returned.","state":"closed","created_at":"2020-03-24T16:49:56.576Z","updated_at":"2020-05-19T15:58:25.398Z","closed_at":"2020-05-19T15:58:25.360Z","closed_by":{"id":4828839,"username":"thaoyeager","name":"Thao Yeager","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4828839/avatar.png","web_url":"https://gitlab.com/thaoyeager"},"labels":["Category:Continuous Integration","UI polish","[deprecated] Accepting merge requests","backend","devops::verify","group::pipeline execution","pipeline","priority::3","severity::3","type::bug","workflow::ready for development"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[],"author":{"id":455349,"username":"embray","name":"E. Madison Bray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c7d341e2b002754f2b21fbab3a3fd072?s=80\u0026d=identicon","web_url":"https://gitlab.com/embray"},"type":"ISSUE","assignee":null,"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212344","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212344","notes":"https://gitlab.com/api/v4/projects/278964/issues/212344/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212344/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212344","relative":"#212344","full":"gitlab-org/gitlab#212344"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32398742,"iid":212342,"project_id":278964,"title":"Support License Compliance in self-hosted instances on networks with a custom Certificate Authority","description":"### Problem to solve\n\n\u003c!-- What problem do we solve? --\u003e\n\n### Intended users\n\n\u003c!-- Who will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops)\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/ --\u003e\n\n### Further details\n\n\u003c!-- Include use cases, benefits, and/or goals (contributes to our vision?) --\u003e\n\n### Proposal\n\n\u003c!-- How are we going to solve the problem? Try to include the user journey! https://about.gitlab.com/handbook/journeys/#user-journey --\u003e\n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?--\u003e\n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html\nAdd all known Documentation Requirements here, per https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements\nIf this feature requires changing permissions, this document https://docs.gitlab.com/ee/user/permissions.html must be updated accordingly. --\u003e\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\n What risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\n### What does success look like, and how can we measure that?\n\n\u003c!-- Define both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. --\u003e\n\n### What is the type of buyer?\n\n\u003c!-- Which leads to: in which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#four-tiers --\u003e\n\n### Is this a cross-stage feature?\n\n\u003c!-- Communicate if this change will affect multiple Stage Groups or product areas. We recommend always start with the assumption that a feature request will have an impact into another Group. Loop in the most relevant PM and Product Designer from that Group to provide strategic support to help align the Group's broader plan and vision, as well as to avoid UX and technical debt. https://about.gitlab.com/handbook/product/#cross-stage-features --\u003e\n\n### Implementation Plan\n\n* [x] Extract/Install `ADDITIONAL_CA_CERT_BUNDLE` using `keytool` to support maven. https://gitlab.com/gitlab-org/security-products/license-management/-/merge_requests/139\n* [x] Extract/Install `ADDITIONAL_CA_CERT_BUNDLE` using `keytool` to support gradle. https://gitlab.com/gitlab-org/security-products/license-management/-/merge_requests/144\n* [x] Extract/Install `ADDITIONAL_CA_CERT_BUNDLE` using `update-ca-certificates` to support curl/wget etc. https://gitlab.com/gitlab-org/security-products/license-management/-/merge_requests/126\n* [x] Extract/Install `ADDITIONAL_CA_CERT_BUNDLE` using `PIP_CERT` to support pipenv https://gitlab.com/gitlab-org/security-products/license-management/-/merge_requests/126\n* [x] Extract/Install `ADDITIONAL_CA_CERT_BUNDLE` using `PIP_CERT` to support pip https://gitlab.com/gitlab-org/security-products/license-management/-/merge_requests/133\n* [x] TLS support for npm https://gitlab.com/gitlab-org/security-products/license-management/-/merge_requests/145\n* [x] TLS support for yarn https://gitlab.com/gitlab-org/security-products/license-management/-/merge_requests/148\n* [x] TLS support for bower https://gitlab.com/gitlab-org/security-products/license-management/-/merge_requests/150\n* [x] TLS support for golang. https://gitlab.com/gitlab-org/security-products/license-management/-/merge_requests/161, https://gitlab.com/gitlab-org/gitlab/-/merge_requests/33901\n* ~~[ ] Research: TLS support for bundler~~ https://gitlab.com/gitlab-org/gitlab/-/issues/217897#implementation-plan has a task to ensure TLS support is taken care of.\n\n### Links / references\n\n\n","state":"closed","created_at":"2020-03-24T16:46:03.605Z","updated_at":"2020-06-19T03:57:28.870Z","closed_at":"2020-06-19T03:57:14.011Z","closed_by":{"id":52092,"username":"gonzoyumo","name":"Olivier Gonzalez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/651e0ff81c3995a05269f7c80895fe89?s=80\u0026d=identicon","web_url":"https://gitlab.com/gonzoyumo"},"labels":["Category:License Compliance","backend","devops::secure","group::composition analysis","type::feature","workflow::design"],"milestone":null,"assignees":[{"id":52092,"username":"gonzoyumo","name":"Olivier Gonzalez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/651e0ff81c3995a05269f7c80895fe89?s=80\u0026d=identicon","web_url":"https://gitlab.com/gonzoyumo"},{"id":3913516,"username":"NicoleSchwartz","name":"Nicole Schwartz","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3913516/avatar.png","web_url":"https://gitlab.com/NicoleSchwartz"}],"author":{"id":4376883,"username":"stkerr","name":"Sam Kerr","state":"active","avatar_url":"https://secure.gravatar.com/avatar/591c8b969464f7b4fb97b6f2f654f11a?s=80\u0026d=identicon","web_url":"https://gitlab.com/stkerr"},"type":"ISSUE","assignee":{"id":52092,"username":"gonzoyumo","name":"Olivier Gonzalez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/651e0ff81c3995a05269f7c80895fe89?s=80\u0026d=identicon","web_url":"https://gitlab.com/gonzoyumo"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212342","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":9,"completed_count":9},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"9 of 9 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212342","notes":"https://gitlab.com/api/v4/projects/278964/issues/212342/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212342/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212342","relative":"#212342","full":"gitlab-org/gitlab#212342"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2748,"epic":{"id":25827,"iid":2748,"title":"Custom Certificate Authority for Secure scans","url":"/groups/gitlab-org/-/epics/2748","group_id":9970,"human_readable_end_date":"Sep 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":32396724,"iid":212338,"project_id":278964,"title":"Maven test repository with and without creds License Scanning","description":"### Problem to solve\n\n\u003c!-- What problem do we solve? --\u003e\n\n### Intended users\n\n\u003c!-- Who will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops)\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/ --\u003e\n\n### Further details\n\n\u003c!-- Include use cases, benefits, and/or goals (contributes to our vision?) --\u003e\n\n### Proposal\n\n\u003c!-- How are we going to solve the problem? Try to include the user journey! https://about.gitlab.com/handbook/journeys/#user-journey --\u003e\n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?--\u003e\n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html\nAdd all known Documentation Requirements here, per https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements\nIf this feature requires changing permissions, this document https://docs.gitlab.com/ee/user/permissions.html must be updated accordingly. --\u003e\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\n What risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\n### What does success look like, and how can we measure that?\n\n\u003c!-- Define both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. --\u003e\n\n### What is the type of buyer?\n\n\u003c!-- Which leads to: in which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#four-tiers --\u003e\n\n### Is this a cross-stage feature?\n\n\u003c!-- Communicate if this change will affect multiple Stage Groups or product areas. We recommend always start with the assumption that a feature request will have an impact into another Group. Loop in the most relevant PM and Product Designer from that Group to provide strategic support to help align the Group's broader plan and vision, as well as to avoid UX and technical debt. https://about.gitlab.com/handbook/product/#cross-stage-features --\u003e\n\n### Links / references","state":"closed","created_at":"2020-03-24T16:25:02.789Z","updated_at":"2020-06-17T03:44:37.985Z","closed_at":"2020-06-02T03:26:01.744Z","closed_by":{"id":971158,"username":"xlgmokha","name":"mo khan","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cc8d289bc1a24067f9af4f92452f4fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/xlgmokha"},"labels":["Category:License Compliance","backend","devops::secure","group::composition analysis","secure offline scanning","type::feature","wontfix","workflow::planning breakdown"],"milestone":null,"assignees":[],"author":{"id":3913516,"username":"NicoleSchwartz","name":"Nicole Schwartz","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3913516/avatar.png","web_url":"https://gitlab.com/NicoleSchwartz"},"type":"ISSUE","assignee":null,"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212338","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212338","notes":"https://gitlab.com/api/v4/projects/278964/issues/212338/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212338/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212338","relative":"#212338","full":"gitlab-org/gitlab#212338"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2928,"epic":{"id":33486,"iid":2928,"title":"Java Maven air-gapped (offline) License Compliance","url":"/groups/gitlab-org/-/epics/2928","group_id":9970},"iteration":null,"health_status":null},{"id":32395017,"iid":212335,"project_id":278964,"title":"Upgrade Review Apps chart version to 3.2.0","description":"Changelog: https://gitlab.com/gitlab-org/charts/gitlab/-/blob/master/CHANGELOG.md#320-2020-03-22\n\nNoticeable item from 3.1.0: https://gitlab.com/gitlab-org/charts/gitlab/-/merge_requests/1157","state":"closed","created_at":"2020-03-24T15:51:46.344Z","updated_at":"2020-04-01T12:21:36.889Z","closed_at":"2020-04-01T12:21:36.711Z","closed_by":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"labels":["Engineering Productivity","backstage [DEPRECATED]","ep::review-apps","workflow::in review"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"}],"author":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"type":"ISSUE","assignee":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212335","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212335","notes":"https://gitlab.com/api/v4/projects/278964/issues/212335/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212335/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212335","relative":"#212335","full":"gitlab-org/gitlab#212335"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32395000,"iid":212334,"project_id":278964,"title":"Fix the \"two button submit\" on the MR when completing multiple points of feedback","description":"### Problem to solve\n\nDuring a live coding session, @sytses ran into an issue with the two green buttons that appear when you resolve a group of comments. See video: https://youtu.be/ymUqM82wj6Y?t=375\n\n### Intended users\n\nWho will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\n\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n\n### Further details\n\n\u003c!-- Include use cases, benefits, and/or goals (contributes to our vision?) --\u003e\n\n### Proposal\n\n1. Rename `Finish review` to `Submit review`: And make it submit the review immediately, instead of showing the list of pending comments.\n1. Move the “list of pending comments” into its own button: The split button should be for alternative actions. Viewing the list of pending comments is not an alternative to `Submit`. We can have a `Pending comments` button just for that, showing the list like we do today.\n   1. As a consequence of the two previous points, remove the `Submit review` button at the bottom the list of pending comments.\n1. Remove the `Discard review` button: How often do people “Discard” a review? It can be helpful, but how often does it make sense to completely delete an entire review? We still have the alternative solution of deleting the individual comments. Having this button here thus only makes the absolute worst case slightly less painful, and we will have to take it into account again when we think about the future iteration with an additional textbox.\n\n![image](/uploads/a97eab4ff9dab94270ac8e570b23a2f0/image.png)\n\n\u003c!-- How are we going to solve the problem? Try to include the user journey! https://about.gitlab.com/handbook/journeys/#user-journey --\u003e\n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?--\u003e\n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html\nAdd all known Documentation Requirements here, per https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements\nIf this feature requires changing permissions, this document https://docs.gitlab.com/ee/user/permissions.html must be updated accordingly. --\u003e\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\n What risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\n### What does success look like, and how can we measure that?\n\n\u003c!-- Define both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. --\u003e\n\n### What is the type of buyer?\n\n\u003c!-- Which leads to: in which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#four-tiers --\u003e\n\n### Is this a cross-stage feature?\n\n\u003c!-- Communicate if this change will affect multiple Stage Groups or product areas. We recommend always start with the assumption that a feature request will have an impact into another Group. Loop in the most relevant PM and Product Designer from that Group to provide strategic support to help align the Group's broader plan and vision, as well as to avoid UX and technical debt. https://about.gitlab.com/handbook/product/#cross-stage-features --\u003e\n\n### Links / references","state":"closed","created_at":"2020-03-24T15:51:33.906Z","updated_at":"2020-12-07T16:46:55.252Z","closed_at":"2020-10-02T09:24:35.152Z","closed_by":{"id":411701,"username":"kushalpandya","name":"Kushal Pandya","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/411701/avatar.png","web_url":"https://gitlab.com/kushalpandya"},"labels":["CEO Interest","Category:Code Review Workflow","Stretch","UX","devops::create","frontend","group::code review","merge requests","section::dev","severity::4","type::bug","workflow::scheduling"],"milestone":{"id":1233754,"iid":52,"group_id":9970,"title":"13.5","description":"https://about.gitlab.com/releases/2020/10/22/gitlab-13-5-released/","state":"closed","created_at":"2020-04-09T17:39:21.990Z","updated_at":"2022-04-21T07:21:12.213Z","due_date":"2020-10-17","start_date":"2020-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/52"},"assignees":[{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"}],"author":{"id":4669960,"username":"cdybenko","name":"Christen Dybenko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4669960/avatar.png","web_url":"https://gitlab.com/cdybenko"},"type":"ISSUE","assignee":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"user_notes_count":10,"merge_requests_count":2,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212334","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212334","notes":"https://gitlab.com/api/v4/projects/278964/issues/212334/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212334/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212334","relative":"#212334","full":"gitlab-org/gitlab#212334"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":32393406,"iid":212327,"project_id":278964,"title":"Import and Export Groups with ndjson","description":"To improve the memory usage of the Group Import/Export feature, it's proposed to use [ndjson](http://ndjson.org/) instead of json, as defined on this [epic](https://gitlab.com/groups/gitlab-org/-/epics/2734).\n\n## The proposed structure\n```\ntree\n└── groups\n    ├── 4351\n    │   ├── badges.ndjson\n    │   ├── boards.ndjson\n    │   ├── epics.ndjson\n    │   ├── labels.ndjson\n    │   ├── members.ndjson\n    │   └── milestones.ndjson\n    ├── 4352\n    │   ├── badges.ndjson\n    │   ├── boards.ndjson\n    │   ├── epics.ndjson\n    │   ├── labels.ndjson\n    │   ├── members.ndjson\n    │   └── milestones.ndjson\n    ├── _all.ndjson \n    ├── 4351.json \n    └── 4352.json\n```\n\n### The files\n\n#### _all.ndjson\nThis file will work as a catalog, ordered by depth, of the group ids (one per line). \\\nIn the example above, 4351 is the parent of 4352, this way the _all.ndjson would have:\n\n```\n4351\n4352\n```\n\n#### id.json\nThe file containing the group attributes\n\n#### id/relation.ndjson\nEach `relation.ndjson` file will have one json per line with the `relation` attributes.","state":"closed","created_at":"2020-03-24T15:26:18.442Z","updated_at":"2021-05-18T20:57:01.057Z","closed_at":"2020-05-13T09:44:28.483Z","closed_by":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"labels":["Category:Importers","Deliverable","Importer:Project Export/Import","bug::performance","devops::manage","estimation::completed","group::import","maintenance::refactor","milestone::p2"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"}],"author":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"type":"ISSUE","assignee":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212327","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212327","notes":"https://gitlab.com/api/v4/projects/278964/issues/212327/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212327/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212327","relative":"#212327","full":"gitlab-org/gitlab#212327"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2734,"epic":{"id":24334,"iid":2734,"title":"Introduce `.ndjson` as a way to process import","url":"/groups/gitlab-org/-/epics/2734","group_id":9970,"human_readable_end_date":"Jun 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":32393380,"iid":212326,"project_id":278964,"title":"Group Export with ndjson","description":"Related to https://gitlab.com/gitlab-org/gitlab/-/issues/199430","state":"closed","created_at":"2020-03-24T15:25:53.732Z","updated_at":"2021-05-18T20:57:31.195Z","closed_at":"2020-03-30T13:26:08.548Z","closed_by":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"labels":["Category:Importers","Importer:Project Export/Import","devops::manage","group::import","workflow::in dev"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"}],"author":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"type":"ISSUE","assignee":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212326","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212326","notes":"https://gitlab.com/api/v4/projects/278964/issues/212326/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212326/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212326","relative":"#212326","full":"gitlab-org/gitlab#212326"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2734,"epic":{"id":24334,"iid":2734,"title":"Introduce `.ndjson` as a way to process import","url":"/groups/gitlab-org/-/epics/2734","group_id":9970,"human_readable_end_date":"Jun 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":32392382,"iid":212322,"project_id":278964,"title":"Recalculate UUIDs for Vulnerabilities::Findings using UUIDv5","description":"## Summary\n\nDuring discussion on https://gitlab.com/gitlab-org/gitlab/-/issues/205489 it was mentioned we could reuse `uuid` column present on `Vulnerabilities::Finding` model to store UUIDv5 which would be stable enough for us to use when matching `Vulnerabilities::Feedback` with `Vulnerabilities::Finding` models.\n\n## Implementation plan\n\n- [X] ~backend Create GenerateFindingUUIDService which takes https://github.com/rails/rails/issues/37681 into consideration (see https://gitlab.com/gitlab-org/gitlab/-/issues/212322#note_418715710 for more context)\n- [X] ~backend Change the StoreReport service to save findings with their UUID V5 values. Calculate them using `report_type + \u003cfingerprint of the primary_identifier\u003e + \u003cfingerprint of the location\u003e + project_id`\n- [X] ~database Remove the default value from UUID column.\n- [x] ~backend Adjust `Security::StoreReportService` to look up findings using UUIDv5 (https://gitlab.com/gitlab-org/gitlab/-/issues/292236)\n- [x] ~database Remove duplicate rows from `vulnerability_occurrences` table (https://gitlab.com/gitlab-org/gitlab/-/issues/292239)\n- [X] ~database Implement a migration to update the existing data (https://gitlab.com/gitlab-org/gitlab/-/merge_requests/47529)","state":"closed","created_at":"2020-03-24T15:09:43.827Z","updated_at":"2022-08-12T22:04:06.871Z","closed_at":"2021-06-02T10:57:28.260Z","closed_by":{"id":487608,"username":"Quintasan","name":"Michał Zając","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/487608/avatar.png","web_url":"https://gitlab.com/Quintasan"},"labels":["Category:Vulnerability Management","backend","database","devops::secure","group::threat insights","maintenance::refactor","missed:13.11","missed:13.12","missed:13.8","section::sec","type::maintenance","workflow::verification"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[],"author":{"id":3696420,"username":"caneldem","name":"Can Eldem","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3696420/avatar.png","web_url":"https://gitlab.com/caneldem"},"type":"ISSUE","assignee":null,"user_notes_count":42,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212322","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":6},"weight":5,"blocking_issues_count":1,"has_tasks":true,"task_status":"6 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212322","notes":"https://gitlab.com/api/v4/projects/278964/issues/212322/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212322/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212322","relative":"#212322","full":"gitlab-org/gitlab#212322"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2787,"epic":{"id":26927,"iid":2787,"title":"Vulnerability Management - Tech Debt","url":"/groups/gitlab-org/-/epics/2787","group_id":9970},"iteration":null,"health_status":null},{"id":32386710,"iid":212313,"project_id":278964,"title":"Integrate FortiToken Cloud to GitLab 2FA options","description":"FortiToken Cloud is the SaaS version of FortiAuthenticator\n\n# Questions\n\nDo we have access to a ruby SDK? we don't have a ruby SDK, but as shown here `lib/gitlab/auth/otp/strategies/forti_authenticator.rb` https://gitlab.com/gitlab-org/gitlab/-/merge_requests/45055/diffs we added a HTTP client to integrate with their API, so something similar should be possible here.\n\nForti docs https://drive.google.com/drive/u/1/folders/1d67dJ2cEuOMrTmPCR7_Vn41BGUwgIyYG (internal)","state":"closed","created_at":"2020-03-24T13:59:03.486Z","updated_at":"2020-12-11T19:10:32.008Z","closed_at":"2020-12-11T19:10:31.956Z","closed_by":{"id":5709669,"username":"mushakov","name":"Melissa Ushakov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5709669/avatar.png","web_url":"https://gitlab.com/mushakov"},"labels":["2FA","Category:Authentication and Authorization","Next Up","authentication","devops::manage","group::authentication and authorization","quad-planning::ready","section::dev","workflow::in review"],"milestone":{"id":1233757,"iid":54,"group_id":9970,"title":"13.7","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:43:14.893Z","updated_at":"2022-04-13T14:51:12.240Z","due_date":"2020-12-17","start_date":"2020-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/54"},"assignees":[{"id":4093067,"username":"manojmj","name":"Manoj M J","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4093067/avatar.png","web_url":"https://gitlab.com/manojmj"}],"author":{"id":4412196,"username":"sarcila","name":"Sebastián Arcila Valenzuela","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3a4e06d560d693fb3a842f5201df3746?s=80\u0026d=identicon","web_url":"https://gitlab.com/sarcila"},"type":"ISSUE","assignee":{"id":4093067,"username":"manojmj","name":"Manoj M J","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4093067/avatar.png","web_url":"https://gitlab.com/manojmj"},"user_notes_count":20,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212313","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212313","notes":"https://gitlab.com/api/v4/projects/278964/issues/212313/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212313/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212313","relative":"#212313","full":"gitlab-org/gitlab#212313"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2889,"epic":{"id":31779,"iid":2889,"title":"2FA Support for CLI","url":"/groups/gitlab-org/-/epics/2889","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":32386580,"iid":212312,"project_id":278964,"title":"Integrate FortiAuthenticator to GitLab 2FA options","description":"# Questions\n\nDo we have access to a ruby SDK?\n\n# Resources\n\nFortinet reference docs: https://drive.google.com/drive/folders/1d67dJ2cEuOMrTmPCR7_Vn41BGUwgIyYG?usp=sharing","state":"closed","created_at":"2020-03-24T13:57:39.633Z","updated_at":"2020-12-02T15:34:25.250Z","closed_at":"2020-11-02T08:38:18.923Z","closed_by":{"id":1315784,"username":"ifarkas","name":"Imre Farkas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b4dcfa5185b8513751b447d76b069bf6?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifarkas"},"labels":["2FA","Category:Authentication and Authorization","Next Up","authentication","backend","customer","devops::manage","group::authentication and authorization","section::dev","workflow::production"],"milestone":{"id":1233754,"iid":52,"group_id":9970,"title":"13.5","description":"https://about.gitlab.com/releases/2020/10/22/gitlab-13-5-released/","state":"closed","created_at":"2020-04-09T17:39:21.990Z","updated_at":"2022-04-21T07:21:12.213Z","due_date":"2020-10-17","start_date":"2020-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/52"},"assignees":[{"id":1315784,"username":"ifarkas","name":"Imre Farkas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b4dcfa5185b8513751b447d76b069bf6?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifarkas"}],"author":{"id":4412196,"username":"sarcila","name":"Sebastián Arcila Valenzuela","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3a4e06d560d693fb3a842f5201df3746?s=80\u0026d=identicon","web_url":"https://gitlab.com/sarcila"},"type":"ISSUE","assignee":{"id":1315784,"username":"ifarkas","name":"Imre Farkas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b4dcfa5185b8513751b447d76b069bf6?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifarkas"},"user_notes_count":23,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212312","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212312","notes":"https://gitlab.com/api/v4/projects/278964/issues/212312/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212312/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212312","relative":"#212312","full":"gitlab-org/gitlab#212312"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2889,"epic":{"id":31779,"iid":2889,"title":"2FA Support for CLI","url":"/groups/gitlab-org/-/epics/2889","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":32385857,"iid":212308,"project_id":278964,"title":"Add Private API endpoint to check user 2FA setup","description":"Related: https://gitlab.com/gitlab-org/gitlab/-/issues/212305\n\nwe will check if we the user requires to reinput the 2FA or if the user requires to use a 2FA, and if the provider allows will send a push notification instead so we can bypass the user input.\n\nThis endpoint will be consumed by GitLab PAM","state":"closed","created_at":"2020-03-24T13:46:04.782Z","updated_at":"2020-12-02T16:22:12.692Z","closed_at":"2020-12-02T16:21:31.391Z","closed_by":{"id":2629166,"username":"lmcandrew","name":"Liam McAndrew","state":"active","avatar_url":"https://secure.gravatar.com/avatar/5801f5e2fd21127836c0be61ec71f06b?s=80\u0026d=identicon","web_url":"https://gitlab.com/lmcandrew"},"labels":["2FA","Category:Authentication and Authorization","Next Up","authentication","backend","devops::manage","direction","group::authentication and authorization","missed:13.4","missed:13.5","missed:13.6","section::dev","workflow::production"],"milestone":{"id":1233754,"iid":52,"group_id":9970,"title":"13.5","description":"https://about.gitlab.com/releases/2020/10/22/gitlab-13-5-released/","state":"closed","created_at":"2020-04-09T17:39:21.990Z","updated_at":"2022-04-21T07:21:12.213Z","due_date":"2020-10-17","start_date":"2020-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/52"},"assignees":[{"id":4412196,"username":"sarcila","name":"Sebastián Arcila Valenzuela","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3a4e06d560d693fb3a842f5201df3746?s=80\u0026d=identicon","web_url":"https://gitlab.com/sarcila"}],"author":{"id":4412196,"username":"sarcila","name":"Sebastián Arcila Valenzuela","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3a4e06d560d693fb3a842f5201df3746?s=80\u0026d=identicon","web_url":"https://gitlab.com/sarcila"},"type":"ISSUE","assignee":{"id":4412196,"username":"sarcila","name":"Sebastián Arcila Valenzuela","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3a4e06d560d693fb3a842f5201df3746?s=80\u0026d=identicon","web_url":"https://gitlab.com/sarcila"},"user_notes_count":2,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212308","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212308","notes":"https://gitlab.com/api/v4/projects/278964/issues/212308/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212308/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212308","relative":"#212308","full":"gitlab-org/gitlab#212308"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2889,"epic":{"id":31779,"iid":2889,"title":"2FA Support for CLI","url":"/groups/gitlab-org/-/epics/2889","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":32380807,"iid":212298,"project_id":278964,"title":"'Missing author' note is being added to correctly mapped users on Project/Group Import","description":"When using Project/Group Import existing users on destination GitLab instance can be mapped to exported relations from a project/group (when import is being done by an admin). If a user is not mapped, any content will be author by an importer user and for each note there will be an additional text describing the original author, for example: \n\nSource:\n![image](/uploads/ad2367d2bd7e8dde7b4a613b0bad5aaa/image.png)\n\nDestination:\n![image](/uploads/575e27b07f6e169b1158aa420701852d/image.png)\n\nHowever, when user on destination exists and was properly mapped, a missing author note `By George Koltsov on 2020-03-24T12:06:33 (imported from GitLab project)` is still being added, when it shouldn't.\n\nFrom https://gitlab.com/gitlab-org/gitlab/-/issues/19128#note_309051263 \n![image](/uploads/edb57a6cc8e20cb3c13b45173c5977a5/image.png)\n\n\nIt looks like `old_author_id` https://gitlab.com/gitlab-org/gitlab/-/blob/v12.8.7-ee/lib/gitlab/import_export/base_relation_factory.rb#L242 is not a source user id, it's a destination user id, since it gets replaced in `update_user_references` before this method is executed https://gitlab.com/gitlab-org/gitlab/blob/master/lib/gitlab/import_export/base/relation_factory.rb#L115-115","state":"closed","created_at":"2020-03-24T12:20:14.943Z","updated_at":"2022-03-28T19:17:28.663Z","closed_at":"2020-09-23T16:27:17.301Z","closed_by":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"labels":["Category:Importers","DEPRECATED_project import","Importer:Project Export/Import","customer","devops::manage","estimation::completed","group::import","milestone::p3","missed:13.3","missed:13.4","section::dev","type::bug"],"milestone":{"id":1233754,"iid":52,"group_id":9970,"title":"13.5","description":"https://about.gitlab.com/releases/2020/10/22/gitlab-13-5-released/","state":"closed","created_at":"2020-04-09T17:39:21.990Z","updated_at":"2022-04-21T07:21:12.213Z","due_date":"2020-10-17","start_date":"2020-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/52"},"assignees":[{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"}],"author":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"type":"ISSUE","assignee":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"user_notes_count":13,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212298","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212298","notes":"https://gitlab.com/api/v4/projects/278964/issues/212298/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212298/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212298","relative":"#212298","full":"gitlab-org/gitlab#212298"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3054,"epic":{"id":39522,"iid":3054,"title":"🐞 Project Export/Import bugs","url":"/groups/gitlab-org/-/epics/3054","group_id":9970},"iteration":null,"health_status":null},{"id":32373994,"iid":212290,"project_id":278964,"title":"Instance-level final integration: Frontend, Backend and Docs","description":"### Description\n\nAs part of the Instance-Level integration https://gitlab.com/groups/gitlab-org/-/epics/2430 MVP, this issue is a placeholder to finish the latest touches between the frontend and the backend, check that everything works correctly, review the banners and workflows and check that all the documentation is ready.","state":"closed","created_at":"2020-03-24T10:42:39.741Z","updated_at":"2022-11-22T20:08:45.771Z","closed_at":"2020-08-18T14:43:54.816Z","closed_by":{"id":1315742,"username":"arturoherrero","name":"Arturo Herrero","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1315742/avatar.png","web_url":"https://gitlab.com/arturoherrero"},"labels":["backend","devops::manage","documentation","frontend","group::ecosystem [DEPRECATED]","missed:12.10","section::dev","type::feature"],"milestone":{"id":1233752,"iid":50,"group_id":9970,"title":"13.3","description":"https://about.gitlab.com/releases/2020/08/22/gitlab-13-3-released/","state":"closed","created_at":"2020-04-09T17:39:21.090Z","updated_at":"2022-04-13T14:50:18.976Z","due_date":"2020-08-17","start_date":"2020-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/50"},"assignees":[{"id":4704683,"username":"justin_ho","name":"Justin Ho Tuan Duong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4704683/avatar.png","web_url":"https://gitlab.com/justin_ho"}],"author":{"id":1315742,"username":"arturoherrero","name":"Arturo Herrero","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1315742/avatar.png","web_url":"https://gitlab.com/arturoherrero"},"type":"ISSUE","assignee":{"id":4704683,"username":"justin_ho","name":"Justin Ho Tuan Duong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4704683/avatar.png","web_url":"https://gitlab.com/justin_ho"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212290","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212290","notes":"https://gitlab.com/api/v4/projects/278964/issues/212290/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212290/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212290","relative":"#212290","full":"gitlab-org/gitlab#212290"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2430,"epic":{"id":17736,"iid":2430,"title":"Integrations: Instance-level and project-level configuration","url":"/groups/gitlab-org/-/epics/2430","group_id":9970},"iteration":null,"health_status":null},{"id":32371060,"iid":212286,"project_id":278964,"title":"Wrong summary counts on group level VSA","description":"Group level value stream analytics shows wrong summary counts (on top) when a project is selected.\n\nPossible cause: the project id parameter is not passed properly to the underlying query.\n\nExample: https://gitlab.com/groups/gitlab-org/-/analytics/value_stream_analytics?group_id=gitlab-org\u0026project_ids%5B%5D=4456656\u0026created_after=2020-03-22\u0026created_before=2020-03-23","state":"closed","created_at":"2020-03-24T10:06:10.389Z","updated_at":"2020-03-25T09:43:29.383Z","closed_at":"2020-03-25T09:43:28.547Z","closed_by":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"labels":["devops::manage","group::optimize","priority::2","type::bug","workflow::in dev"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"}],"author":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"type":"ISSUE","assignee":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/212286","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/212286","notes":"https://gitlab.com/api/v4/projects/278964/issues/212286/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/212286/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#212286","relative":"#212286","full":"gitlab-org/gitlab#212286"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null}]