[{"id":22274118,"iid":12442,"project_id":278964,"title":"Add static issue \u0026 epic counter to epics page","description":"### Problem\n\nOur current epics and issues counters are dynamic, and change when you expand items in the tree view. This current implementation is confusing and makes it seem like we're adding additional items, rather than just viewing what's already there.\n\n\n\n![epics](/uploads/f55d3c27b77ce03cd1aba804e51be5d5/epics.gif)\n\nAnother issue is that if an epic has more than 100 items, the total only shows 100 until you click `See more`\n\n### Proposal\n\nShow the total numbers of epics and issues.\n\nWe should also add the combined total in the tab itself, like we do for issues and MR tabs:\n\n![Screen_Shot_2019-09-17_at_2.50.03_PM](/uploads/251770d4faed823b4a954e53f2c2641a/Screen_Shot_2019-09-17_at_2.50.03_PM.png)\n\n\u003cdetails\u003e\n\u003csummary\u003eOriginal issue\u003c/summary\u003e\n\nWe have a counter on the discussion tab now; would it be possible to add a counter to the tree tab too? I know we discussed limitations with the actual tree issue/epic counter :thinking: \n\n\nDo you have any thoughts here @kushalpandya @digitalmoksha?\n\n\u003c/details\u003e","state":"closed","created_at":"2019-06-26T14:22:21.665Z","updated_at":"2021-11-08T16:56:25.617Z","closed_at":"2019-11-25T20:29:57.972Z","closed_by":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"labels":["Category:Portfolio Management","Enterprise Edition","UX","backend","devops::plan","epics","frontend","group::product planning","missed:12.5","type::feature","workflow::verification"],"milestone":{"id":891797,"iid":40,"group_id":9970,"title":"12.6","description":"https://about.gitlab.com/releases/2019/12/22/gitlab-12-6-released","state":"closed","created_at":"2019-05-31T08:38:03.539Z","updated_at":"2020-04-27T16:27:13.329Z","due_date":"2019-12-17","start_date":"2019-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/40"},"assignees":[{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"}],"author":{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},"type":"ISSUE","assignee":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"user_notes_count":26,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/12442","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/12442","notes":"https://gitlab.com/api/v4/projects/278964/issues/12442/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/12442/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#12442","relative":"#12442","full":"gitlab-org/gitlab#12442"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2024,"epic":{"id":13463,"iid":2024,"title":"Epic List and Tree view MVC","url":"/groups/gitlab-org/-/epics/2024","group_id":9970,"human_readable_end_date":"Jan 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":22274113,"iid":12441,"project_id":278964,"title":"Group board assignee scope stuck on single user, unable to set to \"Any assignee\"","description":"### Summary\nVersion: 12.0.1-ee Self Hosted\n\nI updated the assignee scope of a group board to a single user. Now I'm unable to change it back to the default \"Any assignee\"\n\n### Steps to reproduce\n\n![Screencast_26-06-19_15_15_41](/uploads/4a31c1013848a1f0b41c22754a7a17fb/Screencast_26-06-19_15_15_41.webm)\n\n#### Results of GitLab environment info\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\u003cpre\u003e\nSystem information\nSystem:\t\tUbuntu 18.04\nProxy:\t\tno\nCurrent User:\tgit\nUsing RVM:\tno\nRuby Version:\t2.6.3p62\nGem Version:\t2.7.9\nBundler Version:1.17.3\nRake Version:\t12.3.2\nRedis Version:\t3.2.12\nGit Version:\t2.21.0\nSidekiq Version:5.2.7\nGo Version:\tunknown\n\nGitLab information\nVersion:\t12.0.1-ee\nRevision:\t3a5f14fef4e\nDirectory:\t/opt/gitlab/embedded/service/gitlab-rails\nDB Adapter:\tPostgreSQL\nDB Version:\t10.7\nURL:\t\thttps://projects.lovefurniture.ie\nHTTP Clone URL:\thttps://projects.lovefurniture.ie/some-group/some-project.git\nSSH Clone URL:\tgit@projects.lovefurniture.ie:some-group/some-project.git\nElasticsearch:\tno\nGeo:\t\tno\nUsing LDAP:\tno\nUsing Omniauth:\tyes\nOmniauth Providers: \n\nGitLab Shell\nVersion:\t9.3.0\nRepository storage paths:\n- default: \t/var/opt/gitlab/git-data/repositories\nGitLab Shell path:\t\t/opt/gitlab/embedded/service/gitlab-shell\nGit:\t\t/opt/gitlab/embedded/bin/git\n\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\nChecking GitLab subtasks ...\n\nChecking GitLab Shell ...\n\nGitLab Shell: ... GitLab Shell version \u003e= 9.3.0 ? ... OK (9.3.0)\nRunning /opt/gitlab/embedded/service/gitlab-shell/bin/check\nCheck GitLab API access: OK\nRedis available via internal API: OK\n\nAccess to /var/opt/gitlab/.ssh/authorized_keys: OK\ngitlab-shell self-check successful\n\nChecking GitLab Shell ... Finished\n\nChecking Gitaly ...\n\nGitaly: ... default ... OK\n\nChecking Gitaly ... Finished\n\nChecking Sidekiq ...\n\nSidekiq: ... Running? ... yes\nNumber of Sidekiq processes ... 1\n\nChecking Sidekiq ... Finished\n\nChecking Incoming Email ...\n\nIncoming Email: ... Checking Reply by email ...\n\nIMAP server credentials are correct? ... yes\nInit.d configured correctly? ... skipped\nMailRoom running? ... skipped\n\nChecking Reply by email ... Finished\n\n\nChecking Incoming Email ... Finished\n\nChecking LDAP ...\n\nLDAP: ... LDAP is disabled in config/gitlab.yml\n\nChecking LDAP ... Finished\n\nChecking GitLab App ...\n\nGit configured correctly? ... yes\nDatabase config exists? ... yes\nAll migrations up? ... yes\nDatabase contains orphaned GroupMembers? ... no\nGitLab config exists? ... yes\nGitLab config up to date? ... yes\nLog directory writable? ... yes\nTmp directory writable? ... yes\nUploads directory exists? ... yes\nUploads directory has correct permissions? ... yes\nUploads directory tmp has correct permissions? ... no\n  Try fixing it:\n  sudo chown -R git /var/opt/gitlab/gitlab-rails/uploads\n  sudo find /var/opt/gitlab/gitlab-rails/uploads -type f -exec chmod 0644 {} \\;\n  sudo find /var/opt/gitlab/gitlab-rails/uploads -type d -not -path /var/opt/gitlab/gitlab-rails/uploads -exec chmod 0700 {} \\;\n  For more information see:\n  doc/install/installation.md in section \"GitLab\"\n  Please fix the error above and rerun the checks.\nInit script exists? ... skipped (omnibus-gitlab has no init script)\nInit script up-to-date? ... skipped (omnibus-gitlab has no init script)\nProjects have namespace: ... \n11/1 ... yes\n11/2 ... yes\n2/3 ... yes\n11/4 ... yes\n2/5 ... yes\n2/8 ... yes\n11/10 ... yes\n2/11 ... yes\n6/12 ... yes\n2/13 ... yes\n2/14 ... yes\n2/15 ... yes\n2/18 ... yes\n2/19 ... yes\n2/20 ... yes\n2/21 ... yes\nRedis version \u003e= 2.8.0? ... yes\nRuby version \u003e= 2.5.3 ? ... yes (2.6.3)\nGit version \u003e= 2.21.0 ? ... yes (2.21.0)\nGit user has default SSH configuration? ... no\n  Try fixing it:\n  mkdir ~/gitlab-check-backup-1561558817\n  sudo mv /var/opt/gitlab/.ssh/id_rsa ~/gitlab-check-backup-1561558817\n  sudo mv /var/opt/gitlab/.ssh/id_rsa.pub ~/gitlab-check-backup-1561558817\n  For more information see:\n  doc/ssh/README.md in section \"SSH on the GitLab server\"\n  Please fix the error above and rerun the checks.\nActive users: ... 3\nElasticsearch version 5.6 - 6.x? ... skipped (elasticsearch is disabled)\n\nChecking GitLab App ... Finished\n\n\nChecking GitLab subtasks ... Finished\n\n\n\u003c/pre\u003e\n\u003c/details\u003e","state":"closed","created_at":"2019-06-26T14:22:14.021Z","updated_at":"2022-05-19T16:07:21.369Z","closed_at":"2019-08-08T20:02:28.809Z","closed_by":{"id":443319,"username":"smcgivern","name":"Sean McGivern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/443319/avatar.png","web_url":"https://gitlab.com/smcgivern"},"labels":["Category:Team Planning","Enterprise Edition","[deprecated] Accepting merge requests","backend","boards","customer","customer+","devops::plan","group::product planning","priority::2","reproduced on GitLab.com","severity::2","type::bug"],"milestone":{"id":731038,"iid":37,"group_id":9970,"title":"12.3","description":"https://about.gitlab.com/releases/2019/09/22/gitlab-12-3-released/","state":"closed","created_at":"2018-12-07T12:40:55.400Z","updated_at":"2020-04-23T21:06:04.173Z","due_date":"2019-09-17","start_date":"2019-08-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/37"},"assignees":[],"author":{"id":855474,"username":"ultralisk","name":"ultralisk","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8de4bb74c6199a97107f6479d81ba8b7?s=80\u0026d=identicon","web_url":"https://gitlab.com/ultralisk"},"type":"ISSUE","assignee":null,"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/12441","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/12441","notes":"https://gitlab.com/api/v4/projects/278964/issues/12441/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/12441/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#12441","relative":"#12441","full":"gitlab-org/gitlab#12441"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1715,"epic":{"id":10378,"iid":1715,"title":"Targeted Feature Enhancements","url":"/groups/gitlab-org/-/epics/1715","group_id":9970,"human_readable_end_date":"Mar 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":22249660,"iid":12420,"project_id":278964,"title":"Prevent projects from being shared outside a GMA group","description":"### Problem\n\nWhen [enforcing SSO and group-managed accounts](https://docs.gitlab.com/ee/user/group/saml_sso/#sso-enforcement), the desired experience is to require SSO for access to any projects and subgroups within a top-level group.\n\nHowever, it's currently possible to share a project within a group enforcing SSO with a group outside of the top-level group's namespace - or by adding members outside the group directly to a project. While this has to be initiated by the group's Owner, this edge case has the potential to effectively subvert SSO enforcement.\n\n### Proposal\n\n* When SSO enforcement is enabled for a group, present an error if:\n  * A user attempts to share a project in the group outside the top-level group. \n  * A user attempts to add members to the project who are not members of the group enforcing GMA.\n* This should apply to projects in the GMA group, as well as projects forked from those projects.\n* Sharing projects with subgroups within the top level group should be possible.\n\n\"GMA\" here refers to Group Managed Accounts.\n\n### Availability \u0026 Testing\n\n What risks does this change pose to our availability? \n\n* Any existing access of groups outside the top level GMA group shared with a project in a GMA group gets revoked. (Would this be intentional/expected behaviour?)\n* For forked projects, any existing access of groups outside the top level GMA group shared with the forked project in a GMA group gets revoked.\n* The restriction is applied to SSO enabled groups that do not have GMA enabled. \n* [Share with group lock](https://docs.gitlab.com/ee/user/group/index.html#share-with-group-lock) functionality breaks and allows sharing with groups with the same top-level group.\n\nWhat additional test coverage or changes to tests will be needed?\n\nTests and at unit and feature level should provide enough coverage. New End-to-end tests should not be required however, we should run the `package-and-qa` job before merging to ensure current tests are fine.\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nHow might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e","state":"closed","created_at":"2019-06-26T00:29:56.107Z","updated_at":"2020-05-06T11:48:33.338Z","closed_at":"2020-03-09T17:57:55.977Z","closed_by":{"id":64248,"username":"stanhu","name":"Stan Hu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/64248/stanhu.jpg","web_url":"https://gitlab.com/stanhu"},"labels":["Deliverable","Enterprise Edition","GitLab.com Priority","Kickoff Highlight","backend","customer","devops::manage","direction","estimation::completed","gitlab.com","group::authentication and authorization","missed-deliverable","missed:12.4","priority::1","quad-planning::complete-action","saml","workflow::ready for development"],"milestone":{"id":1001916,"iid":44,"group_id":9970,"title":"12.9","description":"https://about.gitlab.com/releases/2020/03/22/gitlab-12-9-released","state":"closed","created_at":"2019-09-15T20:54:50.875Z","updated_at":"2020-09-02T11:04:41.671Z","due_date":"2020-03-17","start_date":"2020-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/44"},"assignees":[{"id":2982208,"username":"mksionek","name":"Gosia Ksionek","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2982208/avatar.png","web_url":"https://gitlab.com/mksionek"}],"author":{"id":1086520,"username":"jeremy-gl","name":"Jeremy Watson (ex-GitLab)","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1086520/avatar.png","web_url":"https://gitlab.com/jeremy-gl"},"type":"ISSUE","assignee":{"id":2982208,"username":"mksionek","name":"Gosia Ksionek","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2982208/avatar.png","web_url":"https://gitlab.com/mksionek"},"user_notes_count":12,"merge_requests_count":3,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/12420","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/12420","notes":"https://gitlab.com/api/v4/projects/278964/issues/12420/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/12420/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#12420","relative":"#12420","full":"gitlab-org/gitlab#12420"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1785,"epic":{"id":11091,"iid":1785,"title":"Group SSO: Stability, Availability, and Security","url":"/groups/gitlab-org/-/epics/1785","group_id":9970,"human_readable_end_date":"May 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":22248347,"iid":12417,"project_id":278964,"title":"Add messages to warn and stop users when attempting to change the path of projects with NPM packages","description":"The following discussion from !13986 should be addressed:\n\n- [ ] @engwan started a [discussion](https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/13986#note_184928635):  (+2 comments)\n\n    \u003e Thanks @sabrams. Left more comments.\n    \u003e \n    \u003e Also a question: What happens to the packages when project / group paths are renamed?\n\n## Problem \n\nIf a user renames a project or group path when the project contains NPM packages, the NPM functionality will fail, `npm publish` and `npm install` will no longer work because the name is validated and searched for based on the project path.\n\nOnce #9960 is resolved and !13986 is merged, the `npm install` functionality will work because packages will be found based on package name, not based on project path. However there will be problems with `npm publish` if the root namespace (i.e. `foo` in `gitlab.com/foo/my-subgroup/my-project`) is changed. This can occur if `foo` is a top level group and the path to that group is updated. It can also occur if `my-subgroup` or `my-project` is transferred out of `foo`. \n\n## Proposal\n\nWhen a user attempts to change the path to a project that contains a container registry with tags, the path does not update, and the user sees an error saying \"Cannot rename project because it contains container registry tags!\".\n\nWe should implement a similar blocking error if a user attempts to rename a top level group (the root namespace) that contains NPM packages, as well as if a user attempts to move any project or subgroup that contains NPM packages.\n\n### Other considerations\n\nAll other packages registries (i.e. Maven) should be considered as well.","state":"closed","created_at":"2019-06-25T21:57:48.570Z","updated_at":"2019-12-18T11:31:28.434Z","closed_at":"2019-11-21T10:57:21.308Z","closed_by":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"labels":["Category:Package Registry","Deliverable","Enterprise Edition","backend","devops::package","documentation","frontend","group::package registry","missed-deliverable","missed:12.5","package:active","type::feature","workflow::production"],"milestone":{"id":891797,"iid":40,"group_id":9970,"title":"12.6","description":"https://about.gitlab.com/releases/2019/12/22/gitlab-12-6-released","state":"closed","created_at":"2019-05-31T08:38:03.539Z","updated_at":"2020-04-27T16:27:13.329Z","due_date":"2019-12-17","start_date":"2019-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/40"},"assignees":[{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"}],"author":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"type":"ISSUE","assignee":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"user_notes_count":19,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/12417","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/12417","notes":"https://gitlab.com/api/v4/projects/278964/issues/12417/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/12417/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#12417","relative":"#12417","full":"gitlab-org/gitlab#12417"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":22244546,"iid":12412,"project_id":278964,"title":"Document DS_PIP_DEPENDENCY_PATH option for Dependency Scanning and add to vendored template","description":"### Problem to solve\n\nTo address https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-python/merge_requests/11 we've added an option to specify a path to the installed python pip dependencies.\n\nWe should document this new option and allow to use this variable from the Dependency Scanning vendored template.\n\n### Intended users\n~\"Persona: Software developer\" \n\n### Proposal\n\n* [x] rename the `PIP_DEPENDENCY_PATH` environment variable in [gemnasium-python](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-python/blob/e5c7dd5c961d736a4f0b0b3fa1a12177782c3fa0/analyze.go#L27) into `DS_PIP_DEPENDENCY_PATH`. Keep the old `PIP_DEPENDENCY_PATH` value as an alias for backward compatibility. (https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-python/merge_requests/24)\n* [x] add the `DS_PIP_DEPENDENCY_PATH` variable to [the vendored template](https://gitlab.com/gitlab-org/gitlab-ee/blob/36055d4586161fae7b08ed72cc8b9a1b89408a80/lib/gitlab/ci/templates/Security/Dependency-Scanning.gitlab-ci.yml#L33-42) (https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/30762)\n* [x] document `DS_PIP_DEPENDENCY_PATH` in the [Available variables](https://docs.gitlab.com/ee/user/application_security/dependency_scanning/index.html#available-variables) section (https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/30762)\n\n### Testing\n\n* [x] update the [python-pip](https://gitlab.com/gitlab-org/security-products/tests/python-pip/blob/296773a5f10ed24ec44344648d5e61cd6498fdc6/.gitlab-ci.yml#L40) test project to use `DS_PIP_DEPENDENCY_PATH`, and make sure it really uses it - that's not the case right now and the integration test is misleading (https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-python/merge_requests/24#note_193912902)\n\n### What does success look like, and how can we measure that?\n\n`DS_PIP_DEPENDENCY_PATH` option is properly documented.\n\n### What is the type of buyer? \n~\"GitLab Ultimate\" \n\n### Links / references","state":"closed","created_at":"2019-06-25T18:50:54.859Z","updated_at":"2019-11-18T15:57:24.903Z","closed_at":"2019-08-14T15:50:49.862Z","closed_by":{"id":971158,"username":"xlgmokha","name":"mo khan","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cc8d289bc1a24067f9af4f92452f4fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/xlgmokha"},"labels":["Category:Dependency Scanning","Deliverable","Enterprise Edition","devops::secure","group::composition analysis","priority::2","severity::3","type::bug"],"milestone":{"id":693521,"iid":35,"group_id":9970,"title":"12.2","description":"https://about.gitlab.com/releases/2019/08/22/gitlab-12-2-released","state":"closed","created_at":"2018-10-30T16:48:32.567Z","updated_at":"2020-04-27T16:30:20.799Z","due_date":"2019-08-22","start_date":"2019-07-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/35"},"assignees":[{"id":971158,"username":"xlgmokha","name":"mo khan","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cc8d289bc1a24067f9af4f92452f4fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/xlgmokha"}],"author":{"id":52092,"username":"gonzoyumo","name":"Olivier Gonzalez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/651e0ff81c3995a05269f7c80895fe89?s=80\u0026d=identicon","web_url":"https://gitlab.com/gonzoyumo"},"type":"ISSUE","assignee":{"id":971158,"username":"xlgmokha","name":"mo khan","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cc8d289bc1a24067f9af4f92452f4fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/xlgmokha"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/12412","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":4},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"4 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/12412","notes":"https://gitlab.com/api/v4/projects/278964/issues/12412/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/12412/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#12412","relative":"#12412","full":"gitlab-org/gitlab#12412"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24698785,"iid":29683,"project_id":278964,"title":"Endpoint for auto-completing Assignee discloses the members of private groups","description":"**[HackerOne report #627507](https://hackerone.com/reports/627507)** by `ngalog` on 2019-06-24, assigned to `estrike`:\n\n### Summary\n\nI have a project, with id `10257668`, and I have invited a private group as a developer to this project.  As that group is private, you should not see its membership.  However, there is a way to find out project's private membership:\n\n* Correct permission check: https://gitlab.com/api/v4/projects/:project_id/members - does not disclose private group's membership.\n* Incorrect permission check: https://gitlab.com/autocomplete/users.json?search=\u0026active=true\u0026project_id=10257668\u0026current_user=true - discloses the members of private group.\n\n## Steps to reproduce:\n\n1. Login to gitlab.com.\n1. Visit this project members page: https://gitlab.com/api/v4/projects/10257668/members.  See this project has only one member. \n1. Visit https://gitlab.com/autocomplete/users.json?search=\u0026active=true\u0026project_id=10257668\u0026current_user=true.  See this project has more than one member, thus disclosing the private membership.\n\n## Impact\n\nDisclosure of members in a private group.\n\n## Proposal\n\nThe autocomplete endpoint should use the permission check from the Project Members API endpoint (`https://gitlab.com/api/v4/projects/[project-id]/members`).","state":"closed","created_at":"2019-06-25T15:16:51.719Z","updated_at":"2022-06-03T15:49:23.965Z","closed_at":"2022-01-11T00:08:33.582Z","closed_by":{"id":9425173,"username":"hsutor","name":"Hannah Sutor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9425173/avatar.png","web_url":"https://gitlab.com/hsutor"},"labels":["Category:Authentication and Authorization","Category:User Management","Epic 6340","FY22::Q3","HackerOne","Weakness::CWE-284","backend","devops::manage","group::organization","missed-deliverable","missed:14.2","priority::3","quad-planning::complete-no-action","section::dev","security","security-backlog::review-complete","severity::3","type::bug"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":4826728,"username":"m_frankiewicz","name":"Magdalena Frankiewicz","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ca314fa77051f58ced6e3e5bf7f0dd48?s=80\u0026d=identicon","web_url":"https://gitlab.com/m_frankiewicz"}],"author":{"id":2741139,"username":"gitlab-securitybot","name":"GitLab SecurityBot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2741139/avatar.png","web_url":"https://gitlab.com/gitlab-securitybot"},"type":"ISSUE","assignee":{"id":4826728,"username":"m_frankiewicz","name":"Magdalena Frankiewicz","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ca314fa77051f58ced6e3e5bf7f0dd48?s=80\u0026d=identicon","web_url":"https://gitlab.com/m_frankiewicz"},"user_notes_count":27,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2022-02-28","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/29683","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/29683","notes":"https://gitlab.com/api/v4/projects/278964/issues/29683/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/29683/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#29683","relative":"#29683","full":"gitlab-org/gitlab#29683"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6636,"epic":{"id":336273,"iid":6636,"title":"Security - Group Permissions","url":"/groups/gitlab-org/-/epics/6636","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":22231200,"iid":12402,"project_id":278964,"title":"elastic: note bulk importing often fails due to statement timeout","description":"### Summary\n\nNoted while working on https://gitlab.com/gitlab-com/gl-infra/production/issues/800\n\nDuring initial index backfill for elasticsearch, we run code like `project.notes.searchable.es_import` in the `Elastic::IndexRecordService`. This loads the records in batches and inserts them into the ES index.\n\nHowever, this is backed by quite an inefficient database query, and it fairly-often fails with the 5-second statement timeout enforced on GitLab.com\n\nThis makes it very difficult to backfill notes for projects with lots of notes, such as `gitaly`, `gitlab-ce`, etc. \n\n### Steps to reproduce\n\n```ruby\nProject.find_by_full_path(\"gitlab-org/gitlab-ce\").notes.searchable.es_import\n```\n\n### What is the current *bug* behavior?\n\n```\n: SELECT  \"notes\".* FROM \"notes\" WHERE \"notes\".\"project_id\" = 13083 AND \"notes\".\"system\" = 'f' AND (\"notes\".\"id\" \u003e 326281) ORDER BY \"notes\".\"id\" ASC LIMIT 1000\nirb(main):792:0\u003e projects[207].notes.searchable.es_import\nTraceback (most recent call last):\n       11: from (irb):792\n       10: from (irb):792:in `rescue in irb_binding'\n        9: from ee/app/models/concerns/elastic/application_search.rb:331:in `es_import'\n        8: from ee/lib/gitlab/database/load_balancing/connection_proxy.rb:41:in `select_all'\n        7: from ee/lib/gitlab/database/load_balancing/connection_proxy.rb:62:in `read_using_load_balancer'\n        6: from ee/lib/gitlab/database/load_balancing/load_balancer.rb:67:in `read_write'\n        5: from ee/lib/gitlab/database/load_balancing/load_balancer.rb:118:in `retry_with_backoff'\n        4: from ee/lib/gitlab/database/load_balancing/load_balancer.rb:68:in `block in read_write'\n        3: from ee/lib/gitlab/database/load_balancing/connection_proxy.rb:63:in `block in read_using_load_balancer'\n        2: from config/initializers/peek.rb:18:in `exec_params'\n        1: from config/initializers/peek.rb:18:in `async_exec_params'\nActiveRecord::StatementInvalid (PG::QueryCanceled: ERROR:  canceling statement due to statement timeout)\n: SELECT  \"notes\".* FROM \"notes\" WHERE \"notes\".\"project_id\" = 13083 AND \"notes\".\"system\" = 'f' AND (\"notes\".\"id\" \u003e 1053393) ORDER BY \"notes\".\"id\" ASC LIMIT 1000\n```\n\n### What is the expected *correct* behavior?\n\n`0`\n\n### Output of checks\n\nThis bug happens on GitLab.com\n\n### Possible fixes\n\nI think the issue is in the `AND system = 'f'` part of the query. Filtering on a boolean field is generally hard to optimize.\n\nWe might want to consider adding a partial index to optimise exactly this query, although it's annoying since the index will only ever be used if elasticsearch is enabled.\n\nAlternatively, we might want to consider moving system notes to a separate table altogether. They don't have all that much in common with real notes.\n\ncc @yguo @phikai","state":"closed","created_at":"2019-06-25T13:46:11.572Z","updated_at":"2019-09-23T16:19:12.232Z","closed_at":"2019-09-23T16:19:11.866Z","closed_by":{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},"labels":["Category:Global Search","Deliverable","Enterprise Edition","advanced search","backend","bug::performance","database","devops::create","group::editor","priority::2","severity::2","type::bug"],"milestone":{"id":731038,"iid":37,"group_id":9970,"title":"12.3","description":"https://about.gitlab.com/releases/2019/09/22/gitlab-12-3-released/","state":"closed","created_at":"2018-12-07T12:40:55.400Z","updated_at":"2020-04-23T21:06:04.173Z","due_date":"2019-09-17","start_date":"2019-08-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/37"},"assignees":[{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"}],"author":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"type":"ISSUE","assignee":{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},"user_notes_count":24,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/12402","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/12402","notes":"https://gitlab.com/api/v4/projects/278964/issues/12402/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/12402/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#12402","relative":"#12402","full":"gitlab-org/gitlab#12402"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24698770,"iid":29676,"project_id":278964,"title":"Merge request webhooks no longer contain assignee changes","description":"### Summary\n\nWe are running GitLab Community Edition 12.0.0.\n\nWhen changing the assignee on a merge request, the webhook payload that gets sent doesn't include the assignee change in the `changes` json key (the changes value is an empty object `changes: {}`). \n\n### Steps to reproduce\n\n1. Add a merge request webhook to a project\n2. Assign a merge request to someone\n\n### What is the current *bug* behavior?\n\nThe payload delivered to the webhook URL doesn't contain the assigne change under the `changes` json key\n\n### What is the expected *correct* behavior?\n\nThe payload delivered to the webhook URL should contain the assignee change","state":"closed","created_at":"2019-06-25T11:09:40.487Z","updated_at":"2021-04-21T16:21:15.123Z","closed_at":"2019-09-16T17:41:59.367Z","closed_by":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"labels":["Category:Code Review Workflow","[deprecated] Accepting merge requests","backend","devops::create","group::code review","merge requests","missed-SLO","priority::2","regression","regression:12.0","severity::2","type::bug"],"milestone":{"id":731039,"iid":38,"group_id":9970,"title":"12.4","description":"https://about.gitlab.com/releases/2019/10/22/gitlab-12-4-released","state":"closed","created_at":"2018-12-07T12:41:53.212Z","updated_at":"2020-04-27T16:30:43.889Z","due_date":"2019-10-17","start_date":"2019-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/38"},"assignees":[],"author":{"id":2255273,"username":"pmill","name":"Peter Millard","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a1e0b3491b718916d69fbada2adef884?s=80\u0026d=identicon","web_url":"https://gitlab.com/pmill"},"type":"ISSUE","assignee":null,"user_notes_count":5,"merge_requests_count":1,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/29676","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/29676","notes":"https://gitlab.com/api/v4/projects/278964/issues/29676/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/29676/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#29676","relative":"#29676","full":"gitlab-org/gitlab#29676"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":22219075,"iid":12398,"project_id":278964,"title":"Compile a list of created data types, which ones are replicated, verified and tested","description":"This list should the Geo team understand which data types are not yet replicated and which data types are priorities.\n\n| Data Type | Replicated | Verified |\n|-----------|------------|----------|\n| Database | {+Yes+} | {+Yes+} |\n| Project Repository | {+Yes+} | {+Yes+} |\n| Wiki Repository | {+Yes+} | {+Yes+} |\n| Designs Repository | {-No-} | {-No-} |\n| Uploads | {+Yes+} | {+Yes+}, only on transfer, or manually [^1] |\n| LFS Objects | {+Yes+} | {+Yes+}, only on transfer, or manually [^1] |\n| CI Job Artifacts (other than traces) | {+Yes+} | {-No-}, only manually [^1] |\n| Archived Traces | {+Yes+} | {+Yes+}, only on transfer, or manually [^1] |\n| Personal Snippets | {+Yes+} | {+Yes+} |\n| Personal Snippets (after https://gitlab.com/gitlab-org/gitlab-ce/issues/13426) | {-No-} | {-No-} |\n| Project Snippets | {+Yes+} | {+Yes+} |\n| Project Snippets (after https://gitlab.com/gitlab-org/gitlab-ce/issues/13426) | {-No-} | {-No-} |\n| Custom Hooks | {-No-} | {-No-} |\n| Elastisearch | {-No-} | {-No-} |\n| GitLab Pages | {-No-} | {-No-} |\n| Docker Container Registry | WIP | {-No-} |\n| NPM Packages Registry | {-No-} | {-No-} |\n| Maven Packages | {-No-} | {-No-} |\n| Object pools for forked project deduplication | {-No-} | {-No-} |\n| External merge request diffs | {-No-}, if they are on-disk | {-No-} |\n| Data in object storage | WIP | {-No-} |\n| Persistent Redis | {-No-} | {-No-} |\n\n[^1]: We can verify their integrity manually by following these instructions https://docs.gitlab.com/ee/administration/raketasks/check.html on both nodes and comparing the output between them.","state":"closed","created_at":"2019-06-25T09:48:28.985Z","updated_at":"2020-05-13T10:58:24.993Z","closed_at":"2019-08-01T15:04:19.146Z","closed_by":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"labels":["Category:Geo Replication","Deliverable","Enterprise Edition","auto updated","devops::systems","group::geo","workflow::in dev"],"milestone":{"id":693521,"iid":35,"group_id":9970,"title":"12.2","description":"https://about.gitlab.com/releases/2019/08/22/gitlab-12-2-released","state":"closed","created_at":"2018-10-30T16:48:32.567Z","updated_at":"2020-04-27T16:30:20.799Z","due_date":"2019-08-22","start_date":"2019-07-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/35"},"assignees":[{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"}],"author":{"id":3944199,"username":"fzimmer","name":"Fabian Zimmer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3944199/avatar.png","web_url":"https://gitlab.com/fzimmer"},"type":"ISSUE","assignee":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"user_notes_count":27,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/12398","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/12398","notes":"https://gitlab.com/api/v4/projects/278964/issues/12398/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/12398/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#12398","relative":"#12398","full":"gitlab-org/gitlab#12398"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":893,"epic":{"id":4883,"iid":893,"title":"Geo: Add Unreplicated Data Types","url":"/groups/gitlab-org/-/epics/893","group_id":9970,"human_readable_end_date":"Dec 22, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":22216852,"iid":12396,"project_id":278964,"title":"Discloses private groups in service desk emails while transfering the (public) projects.","description":"**[HackerOne report #602515](https://hackerone.com/reports/602515)** by `uzsunny` on 2019-06-06, assigned to `jmatos_bgtvf`:\n\n### Summary\n\nWhile transferring the public projects the private groups will be disclosed in service desk emails.\n\n### Steps to reproduce\n\n\n\nGo to gitlab.com create public project in your own profile \n\nmy user name is hack2hackgitab i created the project at https://gitlab.com/hack2hackgitab/test-project-hackerone-gitlab/\n\n\nEncourage users to submit service desk emails.\n\nIn service desk emails reply from victim side to the attacker. and save the email for future attack.\n\n\nNext victim tries to transfer his project to any private group and in real scenario the public project becomes private when you transfer the public project to private group.\n\nNow victim transfers his public project to private group https://gitlab.com/private-test-group-hackerone/test-project-hackerone-gitlab\n\n\nafter transferring when you reply to the attackers service desk emails the private group is getting disclosed.\n\n![private_groups_disclosed_in_service_desk_emails_during_transferring_the_public_project.png](https://h1.sec.gitlab.net/a/e830182a-087d-46af-b71c-2534d73ef394/private_groups_disclosed_in_service_desk_emails_during_transferring_the_public_project.png)\n\nBy this attacker can view the private group names in service desk emails after transferring the public project to private groups.\n\nAnd from next time if the user transfers his project from one private group  another group. The private groups also disclosed.\n\n## Impact\n\nThe attacker will able to disclose the private group names in service desk emails when the public project is transferred to private group.\n\n## Attachments\n**Warning:** Attachments received through HackerOne, please exercise caution!\n* [private_groups_disclosed_in_service_desk_emails_during_transferring_the_public_project.png](https://h1.sec.gitlab.net/a/e830182a-087d-46af-b71c-2534d73ef394/private_groups_disclosed_in_service_desk_emails_during_transferring_the_public_project.png)","state":"closed","created_at":"2019-06-25T08:53:41.683Z","updated_at":"2020-10-16T19:51:30.859Z","closed_at":"2019-09-18T06:34:25.059Z","closed_by":{"id":2683848,"username":"eread","name":"Evan Read","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2683848/avatar.png","web_url":"https://gitlab.com/eread"},"labels":["Enterprise Edition","HackerOne","backend","devops::plan","documentation","group::product planning","priority::3","security","severity::3","workflow::production"],"milestone":{"id":731038,"iid":37,"group_id":9970,"title":"12.3","description":"https://about.gitlab.com/releases/2019/09/22/gitlab-12-3-released/","state":"closed","created_at":"2018-12-07T12:40:55.400Z","updated_at":"2020-04-23T21:06:04.173Z","due_date":"2019-09-17","start_date":"2019-08-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/37"},"assignees":[{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"}],"author":{"id":2741139,"username":"gitlab-securitybot","name":"GitLab SecurityBot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2741139/avatar.png","web_url":"https://gitlab.com/gitlab-securitybot"},"type":"ISSUE","assignee":{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"},"user_notes_count":11,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":"2019-09-20","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/12396","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/12396","notes":"https://gitlab.com/api/v4/projects/278964/issues/12396/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/12396/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#12396","relative":"#12396","full":"gitlab-org/gitlab#12396"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":22214720,"iid":12394,"project_id":278964,"title":"Add yarn audit wrapper to Dependency Scanning","description":"### Problem to solve\n\nGitLab's Dependency Scanning already support yarn projects via the\n[Gemnasium analyzer](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium).\nHowever, it could also integrate [yarn audit](https://yarnpkg.com/lang/en/docs/cli/audit/)\nto benefit from a different, possibly complementary vulnerability database.\n\nThis is possible because Dependency Scanning is already capable of removing duplicates,\nso there's no harm in having the same vulnerability reported by both Gemnasium and yarn-audit.\n\n### Intended users\n\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n\n### Proposal\n\n- Create a new analyzer for Dependency Scanning.\n- Publish the new analyzer as a Docker image.\n- Add this Docker image to the ones Dependency Scanning loads automatically.\n\n### Permissions and Security\n\nSame as Dependency Scanning.\n\n### Documentation\n\nTo be documented in [Supported languages and frameworks](https://docs.gitlab.com/ee/user/application_security/sast/index.html#supported-languages-and-frameworks).\n\n### Testing\n\nSame as existing Dependency Scanning analyzers.\n\nIntegration tests would rely on the exiting\n[tests/js-yarn](https://gitlab.com/gitlab-org/security-products/tests/js-yarn) project.\n\n### What does success look like, and how can we measure that?\n\nThe new analyzer based on yarn-audit complements the Gemnasium analyzer and reports vulnerabilities that would have been missed otherwise, or brings additional information to vulnerabilities already present in the Gemnasium DB.\n\n### Links / references\n\n/cc @NicoleSchwartz @gonzoyumo @leipert","state":"closed","created_at":"2019-06-25T07:51:29.008Z","updated_at":"2021-01-14T02:48:14.292Z","closed_at":"2020-10-07T17:19:15.450Z","closed_by":{"id":52092,"username":"gonzoyumo","name":"Olivier Gonzalez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/651e0ff81c3995a05269f7c80895fe89?s=80\u0026d=identicon","web_url":"https://gitlab.com/gonzoyumo"},"labels":["AST Leadership","Category:Dependency Scanning","Enterprise Edition","GitLab Ultimate","[deprecated] Accepting merge requests","backend","devops::secure","group::composition analysis","section::sec","type::feature","wontfix","workflow::scheduling"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":1958785,"username":"fcatteau","name":"Fabien Catteau","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1958785/avatar.png","web_url":"https://gitlab.com/fcatteau"},"type":"ISSUE","assignee":null,"user_notes_count":12,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/12394","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/12394","notes":"https://gitlab.com/api/v4/projects/278964/issues/12394/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/12394/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#12394","relative":"#12394","full":"gitlab-org/gitlab#12394"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3276,"epic":{"id":52489,"iid":3276,"title":"Technical work - backstage - Secure Composition Analysis","url":"/groups/gitlab-org/-/epics/3276","group_id":9970,"human_readable_end_date":"May 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":22209232,"iid":12390,"project_id":278964,"title":"Dependency Scanning for projects using sbt package manager","description":"### Problem to solve\n\nDependency scanning does not currently support `sbt` affecting users relying on this tool. We should fix this.\n\n### Further details\n\n### Proposal\n\nAdd a new analyzer type for scanning sbt projects.\n\n### Implementation plan\n\n1. [x] Validate [sbt-dependency-graph](https://github.com/jrudolph/sbt-dependency-graph) plugin for dependency scanning use case\n1. [x] Update `gemnasium-maven` to leverage above plugin and generate a report in the common format\n1. [-] Update `gemnasium/semver` for parsing ivy revisions added by sbt\n1. [x] Update `gemnasium` to parse the new dependency report generated\n1. [x] Add vulnerable project to [test projects](https://gitlab.com/gitlab-org/security-products/tests/)\n1. [-] Update `gemnasium-maven` dependency in Dependency Scanning orchestrator (Docker-in-Docker mode)\n1. [x] Switch `gemnasium-maven` to a tagged version of `gemnasium` after merging https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/merge_requests/54\n\n### Documentation\n\n- [x] Update [supported languages](https://docs.gitlab.com/ee/user/application_security/dependency_scanning/index.html#supported-languages-and-package-managers)\n- [x] Add any options required by this new analyzer\n\n### Testing\n\nCreate qa stage for this analyzer running against test project (added in implementation plan)\n\n### What does success look like, and how can we measure that?\n\nAbility to generate a dependency scanning report for projects that are built with sbt.\n\n### Links / references\n\n### Product\n- [ ] [release post](https://gitlab.com/gitlab-com/www-gitlab-com/merge_requests/36386)","state":"closed","created_at":"2019-06-25T01:16:04.021Z","updated_at":"2020-11-13T16:56:06.900Z","closed_at":"2019-12-17T19:58:26.954Z","closed_by":{"id":4668304,"username":"ifrenkel","name":"Igor Frenkel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a73e8113c53ac25297ce751e59bbb1d3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifrenkel"},"labels":["Category:Dependency Scanning","Deliverable","Enterprise Edition","GitLab Ultimate","backend","customer","devops::secure","group::composition analysis","release post item","type::feature","workflow::verification"],"milestone":{"id":891797,"iid":40,"group_id":9970,"title":"12.6","description":"https://about.gitlab.com/releases/2019/12/22/gitlab-12-6-released","state":"closed","created_at":"2019-05-31T08:38:03.539Z","updated_at":"2020-04-27T16:27:13.329Z","due_date":"2019-12-17","start_date":"2019-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/40"},"assignees":[{"id":4668304,"username":"ifrenkel","name":"Igor Frenkel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a73e8113c53ac25297ce751e59bbb1d3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifrenkel"}],"author":{"id":4173852,"username":"phaikean","name":"phaikean","state":"active","avatar_url":"https://secure.gravatar.com/avatar/2d6e972e96717822c273ec2e6bdc6332?s=80\u0026d=identicon","web_url":"https://gitlab.com/phaikean"},"type":"ISSUE","assignee":{"id":4668304,"username":"ifrenkel","name":"Igor Frenkel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a73e8113c53ac25297ce751e59bbb1d3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifrenkel"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/12390","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":8,"completed_count":7},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"7 of 8 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/12390","notes":"https://gitlab.com/api/v4/projects/278964/issues/12390/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/12390/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#12390","relative":"#12390","full":"gitlab-org/gitlab#12390"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":22204495,"iid":12382,"project_id":278964,"title":"Removing epic from tree modal","description":"When I remove an epic from the tree view, I get this modal:\n\n![Screen_Shot_2019-06-24_at_2.09.53_PM](/uploads/2ab3cc82876b79a4da7cc09139e25611/Screen_Shot_2019-06-24_at_2.09.53_PM.png)\n\nWould it be possible to only mention the descendants if there _are_ any descendants? In this case the epic I was removing had no descendants, so the modal is sort of confusing. I would expect it to show the standard text \"Are you sure you want to remove [issue name] from [epic name]?\"\n\n## Docs Support\n\nFor issues requiring an update to GitLab docs, please note that this is part of the definition of done for this issue. Please create a separate MR for the docs update related to the MR for the actual change to ensure code reviews are not blocked by TW reviews.\n\n- [ ] This issue requires an update to GitLab docs\n- [x] This issue does not require an update to GitLab docs","state":"closed","created_at":"2019-06-24T19:12:37.475Z","updated_at":"2022-10-21T12:00:55.417Z","closed_at":"2022-10-19T04:02:49.760Z","closed_by":{"id":411701,"username":"kushalpandya","name":"Kushal Pandya","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/411701/avatar.png","web_url":"https://gitlab.com/kushalpandya"},"labels":["Category:Portfolio Management","Enterprise Edition","Track Health Status","devops::plan","epic tree","epics","frontend","group::product planning","missed:15.5","section::dev","type::feature","workflow::in dev"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":411701,"username":"kushalpandya","name":"Kushal Pandya","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/411701/avatar.png","web_url":"https://gitlab.com/kushalpandya"}],"author":{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},"type":"ISSUE","assignee":{"id":411701,"username":"kushalpandya","name":"Kushal Pandya","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/411701/avatar.png","web_url":"https://gitlab.com/kushalpandya"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/12382","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":1},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/12382","notes":"https://gitlab.com/api/v4/projects/278964/issues/12382/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/12382/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#12382","relative":"#12382","full":"gitlab-org/gitlab#12382"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2685,"epic":{"id":22091,"iid":2685,"title":"Clean up Errors around Epic Tree Usage","url":"/groups/gitlab-org/-/epics/2685","group_id":9970,"human_readable_end_date":"Nov 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":22204328,"iid":12381,"project_id":278964,"title":"`Error fetching the dashboard data...` on Security Dashboard","description":"### Summary\n\n`Error fetching the dashboard data. Please check your network connection and try again.` after upgrade of gitlab.com to 12.0\n\n### Steps to reproduce\n\nRun any pipeline on a project with some vulnerabilities.  The vulnerabilities show up on the Pipeline \u003e Security tab.  But the Project \u003e Security Dashboard shows the error message display above.\n\n### Example Project\n\nhttps://gitlab.com/ps-cs-sk-demos/springsample/security/dashboard\n\nNote that the project was created and worked on prior to 12.0 upgrade.\n\n\n### What is the current *bug* behavior?\n\nError displayed\n![Screen_Shot_2019-06-24_at_2.55.21_PM](/uploads/ddc4de2de25f3e610ce5f71345812d69/Screen_Shot_2019-06-24_at_2.55.21_PM.png)\n\n### What is the expected *correct* behavior?\n\nVulnerability data from the scans should be summarized.\n\n### Relevant logs and/or screenshots\n\nNone available\n\n### Output of checks\n\nThis bug happens on GitLab.com\n\n#### Results of GitLab environment info\n\n\n\n#### Results of GitLab application Check\n\n\n\n### Possible fixes\n\nSecurity Front End team needs to evaluate and fix the issue.","state":"closed","created_at":"2019-06-24T19:02:50.333Z","updated_at":"2019-11-18T15:57:24.910Z","closed_at":"2019-08-06T23:46:40.854Z","closed_by":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"labels":["Enterprise Edition","Secure UX::Compliance \u0026 Auditing","devops::secure","group::static analysis","missed-SLO","missed:12.1","priority::1","severity::1","type::bug"],"milestone":{"id":693521,"iid":35,"group_id":9970,"title":"12.2","description":"https://about.gitlab.com/releases/2019/08/22/gitlab-12-2-released","state":"closed","created_at":"2018-10-30T16:48:32.567Z","updated_at":"2020-04-27T16:30:20.799Z","due_date":"2019-08-22","start_date":"2019-07-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/35"},"assignees":[{"id":4059128,"username":"avielle","name":"Avielle Wolfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4059128/avatar.png","web_url":"https://gitlab.com/avielle"}],"author":{"id":3794691,"username":"skamani","name":"Sameer Kamani","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3794691/avatar.png","web_url":"https://gitlab.com/skamani"},"type":"ISSUE","assignee":{"id":4059128,"username":"avielle","name":"Avielle Wolfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4059128/avatar.png","web_url":"https://gitlab.com/avielle"},"user_notes_count":15,"merge_requests_count":2,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/12381","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/12381","notes":"https://gitlab.com/api/v4/projects/278964/issues/12381/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/12381/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#12381","relative":"#12381","full":"gitlab-org/gitlab#12381"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":22197850,"iid":12377,"project_id":278964,"title":"A group managed account should only be able to create private projects","description":"### Overview\n\nWhile we'll restrict work in a group using group managed accounts to users mapped to that group, we don't restrict any behavior on the user's side. \n\n### Proposal\n\nTo limit the number of accidental project issues, any user mapped to a group using group managed accounts should not be able to create a public or internal project.\n\nThis would also require the group using group managed accounts enforcement to be private.","state":"closed","created_at":"2019-06-24T16:06:23.048Z","updated_at":"2020-06-24T14:55:30.895Z","closed_at":"2020-04-15T18:30:03.108Z","closed_by":{"id":1903246,"username":"tipyn","name":"Luca Kisielius","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1903246/avatar.png","web_url":"https://gitlab.com/tipyn"},"labels":["Enterprise Edition","[deprecated] Accepting merge requests","backend","devops::manage","estimation::needed","group::spaces DEPRECATED","isolation","permissions","priority::2","project","workflow::ready for development"],"milestone":null,"assignees":[],"author":{"id":1086520,"username":"jeremy-gl","name":"Jeremy Watson (ex-GitLab)","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1086520/avatar.png","web_url":"https://gitlab.com/jeremy-gl"},"type":"ISSUE","assignee":null,"user_notes_count":7,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/12377","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/12377","notes":"https://gitlab.com/api/v4/projects/278964/issues/12377/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/12377/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#12377","relative":"#12377","full":"gitlab-org/gitlab#12377"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2963,"epic":{"id":34667,"iid":2963,"title":" Improved Administration of Group Managed Accounts","url":"/groups/gitlab-org/-/epics/2963","group_id":9970,"human_readable_end_date":"Jun 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":24698738,"iid":29660,"project_id":278964,"title":"Users can access private repositories","description":"**[HackerOne report #616327](https://hackerone.com/reports/616327)** by `mclaren650sspider` on 2019-06-16, assigned to `jmatos_bgtvf`:\n\n### Summary\n\nThis vulnerability allows an attacker to read sensitive information from private repositories. When user's access is revoked from the repository, the user can still access the repository. This is possible due to lack of access control check.\n\nWhen user runs command `git archive --remote origin -o archive.zip --format zip HEAD`, behind the scenes, Git connects to the remote server via SSH and executes the command `git-upload-archive user/repo` on the remote server. Arguments such as format of the archive are given via the stdin to the process. However, the client can wait as long as it wants before sending any arguments to the process. When the arguments are finally received, the `git-upload-archive` process creates archive of the repository and sends it to the client. The server does not check that the user still has the access before creating and sending the archive.\n\nWhile the user still has access to the repository, they can create a SSH connection and initiate `git-upload-archive` process. After the access is removed from the user, the user can send necessary data to the process and receive the repository with the changes made after the access was removed. As there is no limit on how long SSH connection or process can run, the repository could be fetched weeks, months or even years after the removal of the access.  \nSimilarly, it is possible to use the same technique to write to the repository with `git-receive-pack` command.\n\n### Steps to reproduce  \nNode.js is needed to run the PoC. The latest version should work fine, I used Node v8.9.1 myself.\n\n 1. Create two accounts, let's call them A and B. A creates private repository and adds B as an collaborator (under Settings-\u003eMembers). Change value of the variable `TEST_REPO` in PoC's server.js file to the name of the repository.  \n 2. Initialize the private repository with some data. Clone the repository to any directory.  \n 3. Generate and add SSH key to the account B. Save it to file `B_private_key` in the PoC directory.  \n 4. Run PoC with `node server.js`.  \n 5. Remove B from collaborators.  \n 6. Make modifications with account A to the files of the repository. This is necessary to make sure that the modifications made after the removal of access are included in the archive as well.  \n 7. In the previously cloned repo, execute the following commands to change the origin:  \n`git remote remove origin \u0026\u0026 git remote add origin ssh://127.0.0.1:7410/testrepo`  \nNote that the repo name in the URL does not matter in this step.  \n 8. Run the archive command to retrieve the repository:  \n`git archive --remote origin -o archive.zip --format zip HEAD`  \n 9. The repository is now in the `archive.zip` file.\n\n### What is the current *bug* behavior?\n\nCurrently, users can access repositories from which their access has been removed.\n\n### What is the expected *correct* behavior?\n\nThe expected behavior is that the users can not access the repositories after their access has been revoked.\n\n### Output of checks\n\nThis bug happens on GitLab.com.\n\n## Impact\n\nDue to this vulnerability, the attacker can access sensitive information from private repositories. In addition, attacker can modify the content in the repositories and possibly add malicious code.\n\nThere are numerous scenarios in which this bug could be abused. For instance, when an employee is terminated at a company, the ex-employee could steal sensitive information from company's servers months or even years after the termination. In addition, this method leaves no evidence behind.\n\nIf an attacker gains access to someone with access to the private repository, the attacker can retrieve data even after the compromised user has changed their credentials.\n\n## Attachments\n**Warning:** Attachments received through HackerOne, please exercise caution!\n* [GitlabPoC.zip](https://h1.sec.gitlab.net/a/c5c1ceef-6ae5-41e9-88b6-f14dc201dafc/GitlabPoC.zip)","state":"closed","created_at":"2019-06-24T15:00:52.965Z","updated_at":"2020-01-30T22:15:06.584Z","closed_at":"2019-11-27T14:28:00.738Z","closed_by":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"labels":["Deliverable","HackerOne","backend","devops::create","group::source code","priority::3","repository","security","severity::3","workflow::in review"],"milestone":{"id":891796,"iid":39,"group_id":9970,"title":"12.5","description":"https://about.gitlab.com/releases/2019/11/22/gitlab-12-5-released","state":"closed","created_at":"2019-05-31T08:38:03.087Z","updated_at":"2020-04-27T16:27:03.474Z","due_date":"2019-11-17","start_date":"2019-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/39"},"assignees":[{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"}],"author":{"id":2741139,"username":"gitlab-securitybot","name":"GitLab SecurityBot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2741139/avatar.png","web_url":"https://gitlab.com/gitlab-securitybot"},"type":"ISSUE","assignee":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"user_notes_count":43,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2019-09-20","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/29660","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/29660","notes":"https://gitlab.com/api/v4/projects/278964/issues/29660/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/29660/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#29660","relative":"#29660","full":"gitlab-org/gitlab#29660"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":22193890,"iid":12375,"project_id":278964,"title":"elastic: Allow maximum bulk request size to be configured","description":"### Problem to solve\n\nElasticsearch clusters have a \"batch API\", which is used extensively when submitting repository data. Clusters are configured to have a maximum request size which varies by cluster. In particular, in AWS, smaller ES instances are configured to have a maximum batch size of 10MiB, while larger instances are configured to have a maximum batch size of 100MiB.\n\nCurrently, we hard-code bulk request API sizes on the client to 10MiB. This is to allow us to fit into \"small\" AWS elastic node resource limits. However, it's much more normal for the maximum bulk request size to be 100MiB than 10MiB on normal-sized nodes.\n\n### Intended users\n\nInstance administrators wrestling with elasticsearch :sweat_smile:\n\n### Further details\n\nBulk request API slots are a limited resource - each shard has 200 slots by default, and once they're full, the bulk API endpoint starts to reject requests, which is expensive and needs retries that we don't currently have (https://gitlab.com/gitlab-org/gitlab-ee/issues/12372). So artificially making these numbers *even more restricted* is bad for us. Further reading on this is here: https://www.elastic.co/blog/why-am-i-seeing-bulk-rejections-in-my-elasticsearch-cluster\n\n### Proposal\n\nAdd a setting to configure the maximum batch request size in the elasticsearch section of the admin panel. This would just be another box next to the \"Elasticsearch Shards\" and replicas setting. Users can then set this to a value that makes sense for their elasticsearch cluster.\n\nPeople can set up their own elasticsearch clusters with arbitrary limits, so I don't think limiting to the AWS tiers makes much sense. We should probably default to 10MiB so we work in the broadest range of cases though.\n\nOn GitLab.com, I'd love to set it to 100MiB - that would drastically reduce the number of bulk-indexing failures we see, which is super-valuable at initial backfill indexing time, as well as under high `git push` load.\n\nI don't think it's introspectable from the elastic cluster. If it were, we could autodetect instead of making it configurable.\n\nThe setting needs to be respected both by the `es_import` method (so `Gitlab::Elastic::Client.build` needs to take it into account) and by `gitlab-elasticsearch-indexer` (so we pass it through in `ELASTIC_CONNECTION_INFO`, overriding the currently hardcoded numbers here: https://gitlab.com/gitlab-org/gitlab-elasticsearch-indexer/blob/master/elastic/client.go#L28).\n\n### Permissions and Security\n\nOnly for instance admins\n\n### Documentation\n\nWe'll need to update https://docs.gitlab.com/ee/integration/elasticsearch.html\n\n### Testing\n\nUnit testing in both the gitlab-ee and gitlab-elasticsearch-indexer projects\n\n### What does success look like, and how can we measure that?\n\nWe can index projects against large AWS indexes more efficiently\n\n### What is the type of buyer?\n\n~\"GitLab Starter\"\n\n### Links / references\n\ncc @phikai","state":"closed","created_at":"2019-06-24T14:09:15.941Z","updated_at":"2022-05-31T11:55:41.149Z","closed_at":"2020-02-17T18:15:04.487Z","closed_by":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"labels":["Enterprise Edition","admin dashboard","advanced search","backend","devops::data_stores","golang","group::global search","type::feature","workflow::verification"],"milestone":{"id":1001915,"iid":43,"group_id":9970,"title":"12.8","description":"https://about.gitlab.com/releases/2020/02/22/gitlab-12-8-released","state":"closed","created_at":"2019-09-15T20:53:58.792Z","updated_at":"2020-05-19T14:23:44.837Z","due_date":"2020-02-17","start_date":"2020-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/43"},"assignees":[{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"}],"author":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"type":"ISSUE","assignee":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"user_notes_count":9,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/12375","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/12375","notes":"https://gitlab.com/api/v4/projects/278964/issues/12375/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/12375/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#12375","relative":"#12375","full":"gitlab-org/gitlab#12375"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2526,"epic":{"id":18587,"iid":2526,"title":"Increase the stability of Advanced Search pipeline","url":"/groups/gitlab-org/-/epics/2526","group_id":9970,"human_readable_end_date":"Oct 21, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":22192615,"iid":12374,"project_id":278964,"title":"JsonCache class should not probably be used together with Gitlab::SafeRequestStore backend at all","description":"The data is stored during one request so it probably makes no sense to use `JsonCache` for this backend.\n\nrelated https://gitlab.com/gitlab-org/gitlab-ce/issues/63510 and https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/8802","state":"closed","created_at":"2019-06-24T13:36:28.527Z","updated_at":"2019-12-16T11:56:31.729Z","closed_at":"2019-06-26T00:00:04.321Z","closed_by":{"id":64248,"username":"stanhu","name":"Stan Hu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/64248/stanhu.jpg","web_url":"https://gitlab.com/stanhu"},"labels":["Enterprise Edition","bug::performance","devops::systems","group::geo","workflow::in review"],"milestone":{"id":693520,"iid":34,"group_id":9970,"title":"12.1","description":"https://about.gitlab.com/releases/2019/07/22/gitlab-12-1-released","state":"closed","created_at":"2018-10-30T16:47:58.826Z","updated_at":"2020-04-27T16:30:09.107Z","due_date":"2019-07-22","start_date":"2019-06-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/34"},"assignees":[{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"}],"author":{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"},"type":"ISSUE","assignee":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"user_notes_count":7,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/12374","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/12374","notes":"https://gitlab.com/api/v4/projects/278964/issues/12374/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/12374/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#12374","relative":"#12374","full":"gitlab-org/gitlab#12374"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":22191628,"iid":12372,"project_id":278964,"title":"elastic: Intelligently retry bulk-insert failures when indexing","description":"### Summary\n\nDiscovered while working on https://gitlab.com/gitlab-com/gl-infra/production/issues/800\n\nWe use the elastic bulk insert API to index many documents quickly. This is true for all repository content, and also for the initial import of database content.\n\nIt is a **design feature** of elasticsearch that some bulk-inserts can fail: https://www.elastic.co/blog/why-am-i-seeing-bulk-rejections-in-my-elasticsearch-cluster - essentially, it's a backoff mechanism: too much parallelism would cause the elasticsearch server to drown in a queue of updates, so it rejects some requests.\n\nHowever, we don't handle this well on the GitLab side. For bulk-indexing database content, we **silently ignore** the failures. I've observed this cause, e.g., 10% of snippets to fail to be indexed. At a bad time, it could cause 100% of a given project's database records to fail to be indexed, yet we'd consider the project to have been successfully indexed; and it's quite possible we've already seen this on production.\n\nWe have persistent status data for repositories, so there the impact is somewhat reduced - we can see that the repo hasn't been properly indexed, and so retry the operation at the sidekiq level. \n\n### Steps to reproduce\n\nIndex projects with lots and lots of parallelism. Observe many mysterious failures. \n\n`PersonalSnippet.es_import` in a rails console will return a number greater than 0, indicating some documents failed to index.\n\n`ElasticCommitIndexerWorker.new.perform` on certain projects (especially ones with a large number of documents) will cause later bulk requests to fail with output like:\n\n```\nFlushing error:  Failed to perform all operations\n2019/06/24 11:55:01 bulk request 4: failed to insert 2/2 documents \n2019/06/24 11:55:01 bulk request 5: failed to insert 6/6 documents \n2019/06/24 11:55:01 bulk request 6: failed to insert 1/1 documents \n2019/06/24 11:55:01 bulk request 7: failed to insert 2/2 documents \n2019/06/24 11:55:01 bulk request 8: failed to insert 1/1 documents \n2019/06/24 11:55:01 bulk request 9: failed to insert 1/1 documents \n2019/06/24 11:55:01 bulk request 10: failed to insert 1/1 documents \n```\n\nSince repository indexing is an all-or-nothing scenario, our sidekiq-level retries must redo the work that was in bulk requests 1-3 in this example.\n\n### Output of checks\n\nThis bug happens on GitLab.com\n\n### Possible fixes\n\nIn both cases, having some documents fail is an *expected* part of making bulk requests. We can get status information back listing exactly the documents that failed, and use that to retry the documents at the operation level before failing the whole operation.\n\nFor database content, we need to ensure that we *do* fail the operation. At present, we don't track database indexing status at all, meaning initial indexing can easily leave out some documents, causing search gaps. cc @phikai","state":"closed","created_at":"2019-06-24T13:01:47.536Z","updated_at":"2019-08-12T14:58:11.633Z","closed_at":"2019-08-06T07:46:15.301Z","closed_by":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"labels":["Create [DEPRECATED]","Deliverable","Enterprise Edition","advanced search","backend","devops::create","group::editor","priority::2","severity::2","type::bug","workflow::verification"],"milestone":{"id":693521,"iid":35,"group_id":9970,"title":"12.2","description":"https://about.gitlab.com/releases/2019/08/22/gitlab-12-2-released","state":"closed","created_at":"2018-10-30T16:48:32.567Z","updated_at":"2020-04-27T16:30:20.799Z","due_date":"2019-08-22","start_date":"2019-07-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/35"},"assignees":[{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"}],"author":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"type":"ISSUE","assignee":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/12372","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/12372","notes":"https://gitlab.com/api/v4/projects/278964/issues/12372/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/12372/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#12372","relative":"#12372","full":"gitlab-org/gitlab#12372"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":153,"epic":{"id":274,"iid":153,"title":"Rollout Advanced Global Search  on GitLab.com","url":"/groups/gitlab-org/-/epics/153","group_id":9970,"human_readable_end_date":"Jul 13, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":22186083,"iid":12362,"project_id":278964,"title":"Project imports unconditionally enqueue an `ElasticCommitIndexerWorker`","description":"### Summary\n\nSpotted while working on https://gitlab.com/gitlab-com/gl-infra/production/issues/800\n\n### Steps to reproduce\n\nSet up an elasticsearch-enabled GitLab instance with the following settings:\n\n* `elasticsearch_indexing: true`\n* `elasticsearch_limit_indexing: true`\n* `ElasticsearchIndexed{Namespace,{Project}.count =\u003e 0`\n\n### What is the current *bug* behavior?\n\nEvery time a project is imported, an `ElasticCommitIndexerWorker` is unconditionally enqueued\n\n### What is the expected *correct* behavior?\n\nSince we should be indexing zero projects with this setup, zero `ElasticCommitIndexerWorker` jobs should be enqueued.\n\n### Output of checks\n\nThis bug happens on GitLab.com\n\n### Possible fixes\n\nThe issue is here: https://gitlab.com/gitlab-org/gitlab-ee/blob/master/ee/app/models/ee/project_import_state.rb#L68\n\nWe need to check `project.use_elasticsearch?` before enqueuing the job.\n\nSince we check it inside `ElasticCommitIndexerWorker#perform`, this bug is *almost* free - it just creates a constant level of no-op sidekiq jobs that must be discarded. We're not blocked on it for GitLab.com, but we'll benefit, resource and clarity-wise, from fixing this quickly. cc @phikai","state":"closed","created_at":"2019-06-24T09:59:47.209Z","updated_at":"2019-08-12T14:58:12.343Z","closed_at":"2019-07-29T13:31:05.684Z","closed_by":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"labels":["Create [DEPRECATED]","Deliverable","Enterprise Edition","Stretch","advanced search","backend","devops::create","group::editor","missed-deliverable","missed:12.1","priority::3","severity::3","type::bug","workflow::verification"],"milestone":{"id":693521,"iid":35,"group_id":9970,"title":"12.2","description":"https://about.gitlab.com/releases/2019/08/22/gitlab-12-2-released","state":"closed","created_at":"2018-10-30T16:48:32.567Z","updated_at":"2020-04-27T16:30:20.799Z","due_date":"2019-08-22","start_date":"2019-07-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/35"},"assignees":[{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"}],"author":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"type":"ISSUE","assignee":{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},"user_notes_count":10,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/12362","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/12362","notes":"https://gitlab.com/api/v4/projects/278964/issues/12362/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/12362/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#12362","relative":"#12362","full":"gitlab-org/gitlab#12362"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":153,"epic":{"id":274,"iid":153,"title":"Rollout Advanced Global Search  on GitLab.com","url":"/groups/gitlab-org/-/epics/153","group_id":9970,"human_readable_end_date":"Jul 13, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":22180289,"iid":12361,"project_id":278964,"title":"undefined method `geo_node' for nil:NilClass","description":"```\n-------------------------------------------------------------------------------------\n GitLab:       12.0.0-ee (3b13818e833)\n GitLab Shell: 9.3.0\n PostgreSQL:   9.6.11\n Geo enabled:  yes\n Geo server:   misconfigured\n-------------------------------------------------------------------------------------\n```\n\n```sh\nroot@selective-sync-test-primary:/etc/gitlab# gitlab-rake geo:status --trace                             \n** Invoke geo:status (first_time)                                                                                   \n** Invoke environment (first_time)\n** Execute environment                                                                          \n** Execute geo:status                       \nrake aborted!                                 \nNoMethodError: undefined method `geo_node' for nil:NilClass\n/opt/gitlab/embedded/service/gitlab-rails/ee/lib/tasks/geo.rake:212:in `block (2 levels) in \u003ctop (required)\u003e'\n```","state":"closed","created_at":"2019-06-24T07:04:24.070Z","updated_at":"2019-12-11T20:02:40.145Z","closed_at":"2019-07-10T19:12:24.986Z","closed_by":{"id":64248,"username":"stanhu","name":"Stan Hu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/64248/stanhu.jpg","web_url":"https://gitlab.com/stanhu"},"labels":["Enterprise Edition","Geo Administration","devops::systems","group::geo","priority::3","severity::3","type::bug","workflow::in review"],"milestone":{"id":693520,"iid":34,"group_id":9970,"title":"12.1","description":"https://about.gitlab.com/releases/2019/07/22/gitlab-12-1-released","state":"closed","created_at":"2018-10-30T16:47:58.826Z","updated_at":"2020-04-27T16:30:09.107Z","due_date":"2019-07-22","start_date":"2019-06-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/34"},"assignees":[{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"}],"author":{"id":2187482,"username":"ashmckenzie","name":"Ash McKenzie","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2187482/avatar.png","web_url":"https://gitlab.com/ashmckenzie"},"type":"ISSUE","assignee":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"user_notes_count":7,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/12361","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/12361","notes":"https://gitlab.com/api/v4/projects/278964/issues/12361/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/12361/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#12361","relative":"#12361","full":"gitlab-org/gitlab#12361"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":22174233,"iid":12342,"project_id":278964,"title":"Geo: Document how to access the Geo tracking DB","description":"Document how to access the Geo tracking DB as discussed at https://gitlab.com/gitlab-org/omnibus-gitlab/issues/4186\n\n- [x] https://gitlab.com/gitlab-org/gitlab/merge_requests/22564\n- [ ] Omnibus-gitlab MR for Maintenance commands doc =\u003e https://gitlab.com/gitlab-org/omnibus-gitlab/merge_requests/3864","state":"closed","created_at":"2019-06-23T23:23:58.797Z","updated_at":"2020-02-18T12:48:28.587Z","closed_at":"2020-01-21T16:51:21.826Z","closed_by":{"id":787914,"username":"ibaum","name":"Ian Baum","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7c508dc85ddd5049564a95662311543b?s=80\u0026d=identicon","web_url":"https://gitlab.com/ibaum"},"labels":["Enterprise Edition","Geo Administration","devops::systems","group::geo","missed:12.5","missed:12.7"],"milestone":{"id":1001915,"iid":43,"group_id":9970,"title":"12.8","description":"https://about.gitlab.com/releases/2020/02/22/gitlab-12-8-released","state":"closed","created_at":"2019-09-15T20:53:58.792Z","updated_at":"2020-05-19T14:23:44.837Z","due_date":"2020-02-17","start_date":"2020-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/43"},"assignees":[{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"}],"author":{"id":2187482,"username":"ashmckenzie","name":"Ash McKenzie","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2187482/avatar.png","web_url":"https://gitlab.com/ashmckenzie"},"type":"ISSUE","assignee":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"user_notes_count":6,"merge_requests_count":1,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/12342","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":1},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/12342","notes":"https://gitlab.com/api/v4/projects/278964/issues/12342/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/12342/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#12342","relative":"#12342","full":"gitlab-org/gitlab#12342"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":917,"epic":{"id":5025,"iid":917,"title":"Geo: Resolve Setup Problems and Improve Documentation","url":"/groups/gitlab-org/-/epics/917","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":22161275,"iid":12340,"project_id":278964,"title":"Fix golint in CI pipelines of Security Products to lint the entire code trees","description":"### Problem to solve\n\nIt looks like `golint` checks only the projects' root dirs for all Golang projects being developed for [Security Products](https://gitlab.com/gitlab-org/security-products). Code linting is not actually working in pipelines.\n\nSee [this job](https://gitlab.com/gitlab-org/security-products/analyzers/common/-/jobs/238122078) as an example of what `golint` emits for the [`common` library](https://gitlab.com/gitlab-org/security-products/analyzers/common) when executed correctly.\n\n### Intended users\n\n@gl-secure\n\n### Further details\n\n- There's [a relevant addition to the Go guide](https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/30262)\n- Some work [has already been started](https://gitlab.com/gitlab-org/security-products/analyzers/common/merge_requests/40) for the `common` library.\n\n### Proposal\n\n- `golint -set_exit_status` command in linting jobs of these projects must be replaced with `golint -set_exit_status $(go list ./... | grep -v \"vendor/\")`\n- all linter's complaints for these projects after this change should be addressed\n\n### Approach\n\n#### For [analyzer projects](https://gitlab.com/gitlab-org/security-products/analyzers/)\n\n1. Add a second linting job with `allow_failure: true` and correct `golint` invocation to [this shared config](https://gitlab.com/gitlab-org/security-products/ci-templates/blob/ea85033ad834c83f95c6320f11e576ffd8a78f6f/includes-dev/analyzer.yml#L36)\n1. Fix all `golint` offenses reported by that second job in the analyzers' Go code (one-by-one, see the [list](#projects-to-update))\n1. Wait for all our analyzers are fixed\n1. Remove second linting job from [shared config](https://gitlab.com/gitlab-org/security-products/ci-templates/blob/ea85033ad834c83f95c6320f11e576ffd8a78f6f/includes-dev/analyzer.yml#L36)\n1. Update the default `go lint` job in [shared config](https://gitlab.com/gitlab-org/security-products/ci-templates/blob/ea85033ad834c83f95c6320f11e576ffd8a78f6f/includes-dev/analyzer.yml#L36) with correct `golint` invocation\n1. The End\n\n#### For any other Go project from Secure section\n\nPerform the same steps as for [analyzer projects](#for-analyzer-projects) but in the project's CI config ([example](https://gitlab.com/gitlab-org/security-products/analyzers/common/blob/95aef4cfffee3d5ac1dcf9ab04b55b8dcea5d429/.gitlab-ci.yml#L18)).\n\n#### Projects to update\n\n_NOTE: please link the dedicated corresponding merge requests to the items of this list_\n\n**Common library**\n\n- [x] [common library](#14026)\n\n**Analyzers (SAST)**\n\n- [x] bandit https://gitlab.com/gitlab-org/security-products/analyzers/bandit/-/merge_requests/18\n- [x] brakeman https://gitlab.com/gitlab-org/security-products/analyzers/brakeman/-/merge_requests/20 (todo labels)\n- [x] gosec https://gitlab.com/gitlab-org/security-products/analyzers/gosec/-/merge_requests/29 (todo labels)\n- [x] spotbugs https://gitlab.com/gitlab-org/security-products/analyzers/spotbugs/-/merge_requests/29 (todo labels)\n- [x] flawfinder https://gitlab.com/gitlab-org/security-products/analyzers/flawfinder/-/merge_requests/16 (todo labels)\n- [x] kubesec https://gitlab.com/gitlab-org/security-products/analyzers/kubesec/-/merge_requests/11\n- [x] phpcs-security-audit https://gitlab.com/gitlab-org/security-products/analyzers/phpcs-security-audit/-/merge_requests/17\n- [x] security-code-scan https://gitlab.com/gitlab-org/security-products/analyzers/security-code-scan/-/merge_requests/25 (todo labels)\n- [x] nodejs-scan https://gitlab.com/gitlab-org/security-products/analyzers/nodejs-scan/-/merge_requests/30 (todo labels)\n- [x] eslint https://gitlab.com/gitlab-org/security-products/analyzers/eslint/-/merge_requests/18 (todo labels)\n- [x] tslint https://gitlab.com/gitlab-org/security-products/analyzers/tslint/-/merge_requests/11\n- [x] secrets https://gitlab.com/gitlab-org/security-products/analyzers/secrets/-/merge_requests/35\n- [x] sobelow https://gitlab.com/gitlab-org/security-products/analyzers/sobelow/-/merge_requests/15\n- [x] pmd-apex https://gitlab.com/gitlab-org/security-products/analyzers/pmd-apex/-/merge_requests/10\n- [x] kubesec https://gitlab.com/gitlab-org/security-products/analyzers/kubesec/-/merge_requests/11\n\n**Analyzers (Dependency Scanning)**\n\n- [x] bundler-audit https://gitlab.com/gitlab-org/security-products/analyzers/bundler-audit/-/merge_requests/34\n- [x] retire.js https://gitlab.com/gitlab-org/security-products/analyzers/retire.js/-/merge_requests/31\n- [x] gemnasium https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/-/merge_requests/74\n- [x] gemnasium-maven https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-maven/-/merge_requests/41\n- [x] gemnasium-python https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-python/-/merge_requests/51\n\n**Standalone Go projects**\n\n- [x] sast\n- [x] dependency-scanning\n- [x] gemnasium-db\n- [x] gemnasium-db-toolbox https://gitlab.com/gitlab-org/security-products/gemnasium-db-toolbox/-/merge_requests/17\n\n### Documentation\n\nIt could be useful to present this to other Go teams across GitLab and include into our [Go guidelines](https://docs.gitlab.com/ee/development/go_guide/#go-standards-and-style-guidelines).\n\n### What does success look like, and how can we measure that?\n\n- All Golang projects in [Security Products](https://gitlab.com/gitlab-org/security-products) have their `golint` command fixed in their CI configs\n  - For analyzers - see the proposed approach [below](https://gitlab.com/gitlab-org/gitlab-ee/issues/12340#note_192545198)\n- All linting issues in these projects are addressed\n- This fix is documented and presented across GitLab to avoid such hidden linter misbehavior on other Golang projects","state":"closed","created_at":"2019-06-22T20:06:49.088Z","updated_at":"2020-04-20T18:50:18.335Z","closed_at":"2020-04-16T15:40:38.540Z","closed_by":{"id":5211947,"username":"zrice","name":"Zach Rice","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5211947/avatar.png","web_url":"https://gitlab.com/zrice"},"labels":["Deliverable","Enterprise Edition","backend","backstage [DEPRECATED]","devops::secure","documentation","golang","group::static analysis","missed-deliverable","missed:12.3","missed:12.4","missed:12.5","workflow::production"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[],"author":{"id":3337413,"username":"vzagorodny","name":"Victor Zagorodny","state":"blocked","avatar_url":"https://secure.gravatar.com/avatar/56410d67aa18e03b13e1585d436bf313?s=80\u0026d=identicon","web_url":"https://gitlab.com/vzagorodny"},"type":"ISSUE","assignee":null,"user_notes_count":16,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/12340","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":25,"completed_count":25},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"25 of 25 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/12340","notes":"https://gitlab.com/api/v4/projects/278964/issues/12340/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/12340/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#12340","relative":"#12340","full":"gitlab-org/gitlab#12340"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":22156166,"iid":12339,"project_id":278964,"title":"SAST for golang doesn't resolve dependencies correctly","description":"We added SAST to our project using \n\n```yaml\ninclude:\n  - template: SAST.gitlab-ci.yml\n```\n\nIn the GitLab-Runner logs we can see the following error message\n\n```logs\nRunning with gitlab-runner 11.7.0 (8bb608ff)\n  on gitlab-ci-groupalarm-com M2ngRWrg\nUsing Docker executor with image docker:stable ...\nStarting service docker:stable-dind ...\nPulling docker image docker:stable-dind ...\nUsing docker image sha256:12adad4e12e25288e665131d5235d98a8edf2a39d26679dabbe2728442729e26 for docker:stable-dind ...\nWaiting for services to be up and running...\nPulling docker image docker:stable ...\nUsing docker image sha256:805bea199b249bfed61cdcd7cdbfe240ee998d51f59bbf365674a15b619f5a86 for docker:stable ...\nRunning on runner-M2ngRWrg-project-1-concurrent-0 via gitlab-ci-groupalarm-com...\nFetching changes...\nHEAD is now at ca4b952c try to fix manually\nFrom https://gitlab2.mycompany.io/mycompany.com/mycompany.com\n   ca4b952c..845ae733  add-sast   -\u003e origin/add-sast\nAuto packing the repository in background for optimum performance.\nSee \"git help gc\" for manual housekeeping.\nChecking out 845ae733 as add-sast...\nSkipping Git submodules setup\n$ export SAST_VERSION=${SP_VERSION:-$(echo \"$CI_SERVER_VERSION\" | sed 's/^\\([0-9]*\\)\\.\\([0-9]*\\).*/\\1-\\2-stable/')}\n$ if ! docker info \u0026\u003e/dev/null; then # collapsed multi-line command\n$ function propagate_env_vars() { # collapsed multi-line command\n$ docker run \\ # collapsed multi-line command\nUnable to find image 'registry.gitlab.com/gitlab-org/security-products/sast:11-11-stable' locally\n11-11-stable: Pulling from gitlab-org/security-products/sast\nf9e13c93af52: Pulling fs layer\nf9e13c93af52: Verifying Checksum\nf9e13c93af52: Download complete\nf9e13c93af52: Pull complete\nDigest: sha256:9d50c62159598b191f970b92d5d35e3e037c258f41ea6780a4d8014d70cd19f9\nStatus: Downloaded newer image for registry.gitlab.com/gitlab-org/security-products/sast:11-11-stable\n2019/06/22 10:43:44 Copy project directory to containers\n2019/06/22 10:43:44 [bandit] Detect project using plugin\n2019/06/22 10:43:44 [bandit] Project not compatible\n2019/06/22 10:43:44 [brakeman] Detect project using plugin\n2019/06/22 10:43:44 [brakeman] Project not compatible\n2019/06/22 10:43:44 [gosec] Detect project using plugin\n2019/06/22 10:43:44 [gosec] Project is compatible\n2019/06/22 10:43:44 [gosec] Starting analyzer...\n2: Pulling from gitlab-org/security-products/analyzers/gosec\n4fe2ade4980c: Pulling fs layer\n2e793f0ebe8a: Pulling fs layer\n77995fba1918: Pulling fs layer\n37a0800ca4c6: Pulling fs layer\n387d73a1a3a0: Pulling fs layer\n2ddfff49a459: Pulling fs layer\ne9282348564a: Pulling fs layer\n4c4de8e283ae: Pulling fs layer\nc4c63fb4ac2b: Pulling fs layer\n387d73a1a3a0: Waiting\n2ddfff49a459: Waiting\ne9282348564a: Waiting\n4c4de8e283ae: Waiting\n37a0800ca4c6: Waiting\n77995fba1918: Verifying Checksum\n77995fba1918: Download complete\n4fe2ade4980c: Download complete\n2e793f0ebe8a: Verifying Checksum\n2e793f0ebe8a: Download complete\n4fe2ade4980c: Pull complete\n2e793f0ebe8a: Pull complete\n77995fba1918: Pull complete\n387d73a1a3a0: Verifying Checksum\n387d73a1a3a0: Download complete\ne9282348564a: Verifying Checksum\ne9282348564a: Download complete\n4c4de8e283ae: Verifying Checksum\n4c4de8e283ae: Download complete\n2ddfff49a459: Verifying Checksum\n2ddfff49a459: Download complete\nc4c63fb4ac2b: Verifying Checksum\nc4c63fb4ac2b: Download complete\n37a0800ca4c6: Verifying Checksum\n37a0800ca4c6: Download complete\n37a0800ca4c6: Pull complete\n387d73a1a3a0: Pull complete\n2ddfff49a459: Pull complete\ne9282348564a: Pull complete\n4c4de8e283ae: Pull complete\nc4c63fb4ac2b: Pull complete\nDigest: sha256:3e53025404e9a6c05b05dc3738c8ec24634a5078515f492eede8b2ec10ffca98\nStatus: Downloaded newer image for registry.gitlab.com/gitlab-org/security-products/analyzers/gosec:2\nFound project in /tmp/app/go/admin\npackage mycompany.com/go/admin/api/handler: unrecognized import path \"mycompany.com/go/admin/api/handler\" (parse https://mycompany.com/go/admin/api/handler?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/admin/api/metrics: unrecognized import path \"mycompany.com/go/admin/api/metrics\" (parse https://mycompany.com/go/admin/api/metrics?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/admin/api/services: unrecognized import path \"mycompany.com/go/admin/api/services\" (parse https://mycompany.com/go/admin/api/services?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/common: unrecognized import path \"mycompany.com/go/common\" (parse https://mycompany.com/go/common?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/rbac/client: unrecognized import path \"mycompany.com/go/rbac/client\" (parse https://mycompany.com/go/rbac/client?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/replication: unrecognized import path \"mycompany.com/go/replication\" (parse https://mycompany.com/go/replication?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/alarming/api/handler: unrecognized import path \"mycompany.com/go/alarming/api/handler\" (parse https://mycompany.com/go/alarming/api/handler?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/alarming/api/metrics: unrecognized import path \"mycompany.com/go/alarming/api/metrics\" (parse https://mycompany.com/go/alarming/api/metrics?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/alarming/api/services: unrecognized import path \"mycompany.com/go/alarming/api/services\" (parse https://mycompany.com/go/alarming/api/services?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/els-cobra/api/handler: unrecognized import path \"mycompany.com/go/els-cobra/api/handler\" (parse https://mycompany.com/go/els-cobra/api/handler?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/instruction/api/services: unrecognized import path \"mycompany.com/go/instruction/api/services\" (parse https://mycompany.com/go/instruction/api/services?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/organization/api/services: unrecognized import path \"mycompany.com/go/organization/api/services\" (parse https://mycompany.com/go/organization/api/services?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/rbac/api/services: unrecognized import path \"mycompany.com/go/rbac/api/services\" (parse https://mycompany.com/go/rbac/api/services?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/shop/api/services: unrecognized import path \"mycompany.com/go/shop/api/services\" (parse https://mycompany.com/go/shop/api/services?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/shop/client: unrecognized import path \"mycompany.com/go/shop/client\" (parse https://mycompany.com/go/shop/client?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/audit/api/services: unrecognized import path \"mycompany.com/go/audit/api/services\" (parse https://mycompany.com/go/audit/api/services?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/app/api/handler: unrecognized import path \"mycompany.com/go/app/api/handler\" (parse https://mycompany.com/go/app/api/handler?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/app/api/metrics: unrecognized import path \"mycompany.com/go/app/api/metrics\" (parse https://mycompany.com/go/app/api/metrics?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/app/api/services: unrecognized import path \"mycompany.com/go/app/api/services\" (parse https://mycompany.com/go/app/api/services?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/messaging/api/services: unrecognized import path \"mycompany.com/go/messaging/api/services\" (parse https://mycompany.com/go/messaging/api/services?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/user/client: unrecognized import path \"mycompany.com/go/user/client\" (parse https://mycompany.com/go/user/client?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/appointment/api/handler: unrecognized import path \"mycompany.com/go/appointment/api/handler\" (parse https://mycompany.com/go/appointment/api/handler?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/appointment/api/metrics: unrecognized import path \"mycompany.com/go/appointment/api/metrics\" (parse https://mycompany.com/go/appointment/api/metrics?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/appointment/api/services: unrecognized import path \"mycompany.com/go/appointment/api/services\" (parse https://mycompany.com/go/appointment/api/services?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/email/mail: unrecognized import path \"mycompany.com/go/email/mail\" (parse https://mycompany.com/go/email/mail?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/audit/api/handler: unrecognized import path \"mycompany.com/go/audit/api/handler\" (parse https://mycompany.com/go/audit/api/handler?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/audit/api/metrics: unrecognized import path \"mycompany.com/go/audit/api/metrics\" (parse https://mycompany.com/go/audit/api/metrics?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/billing/api/controller: unrecognized import path \"mycompany.com/go/billing/api/controller\" (parse https://mycompany.com/go/billing/api/controller?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/billing/api/metrics: unrecognized import path \"mycompany.com/go/billing/api/metrics\" (parse https://mycompany.com/go/billing/api/metrics?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/billing/api/services: unrecognized import path \"mycompany.com/go/billing/api/services\" (parse https://mycompany.com/go/billing/api/services?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/user/api/services: unrecognized import path \"mycompany.com/go/user/api/services\" (parse https://mycompany.com/go/user/api/services?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/call/api/handler: unrecognized import path \"mycompany.com/go/call/api/handler\" (parse https://mycompany.com/go/call/api/handler?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/call/api/metrics: unrecognized import path \"mycompany.com/go/call/api/metrics\" (parse https://mycompany.com/go/call/api/metrics?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/call/api/services: unrecognized import path \"mycompany.com/go/call/api/services\" (parse https://mycompany.com/go/call/api/services?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/els-cobra/api/metrics: unrecognized import path \"mycompany.com/go/els-cobra/api/metrics\" (parse https://mycompany.com/go/els-cobra/api/metrics?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/els-cobra/api/services: unrecognized import path \"mycompany.com/go/els-cobra/api/services\" (parse https://mycompany.com/go/els-cobra/api/services?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/els-cobra/api/cobra/wdx: unrecognized import path \"mycompany.com/go/els-cobra/api/cobra/wdx\" (parse https://mycompany.com/go/els-cobra/api/cobra/wdx?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/els-cobra/api/cobra/grpc/location: unrecognized import path \"mycompany.com/go/els-cobra/api/cobra/grpc/location\" (parse https://mycompany.com/go/els-cobra/api/cobra/grpc/location?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/els-cobra/api/cobra/geo: unrecognized import path \"mycompany.com/go/els-cobra/api/cobra/geo\" (parse https://mycompany.com/go/els-cobra/api/cobra/geo?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/els-cobra/api/cobra/operation: unrecognized import path \"mycompany.com/go/els-cobra/api/cobra/operation\" (parse https://mycompany.com/go/els-cobra/api/cobra/operation?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/els-cobra/api/cobra/login: unrecognized import path \"mycompany.com/go/els-cobra/api/cobra/login\" (parse https://mycompany.com/go/els-cobra/api/cobra/login?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/email/api/handler: unrecognized import path \"mycompany.com/go/email/api/handler\" (parse https://mycompany.com/go/email/api/handler?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/email/api/metrics: unrecognized import path \"mycompany.com/go/email/api/metrics\" (parse https://mycompany.com/go/email/api/metrics?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/email/api/services: unrecognized import path \"mycompany.com/go/email/api/services\" (parse https://mycompany.com/go/email/api/services?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/feedback/api/handler: unrecognized import path \"mycompany.com/go/feedback/api/handler\" (parse https://mycompany.com/go/feedback/api/handler?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/feedback/api/metrics: unrecognized import path \"mycompany.com/go/feedback/api/metrics\" (parse https://mycompany.com/go/feedback/api/metrics?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/feedback/api/services: unrecognized import path \"mycompany.com/go/feedback/api/services\" (parse https://mycompany.com/go/feedback/api/services?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/grpc/api/handler: unrecognized import path \"mycompany.com/go/grpc/api/handler\" (parse https://mycompany.com/go/grpc/api/handler?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/grpc/api/metrics: unrecognized import path \"mycompany.com/go/grpc/api/metrics\" (parse https://mycompany.com/go/grpc/api/metrics?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/grpc/api/groupalarm: unrecognized import path \"mycompany.com/go/grpc/api/groupalarm\" (parse https://mycompany.com/go/grpc/api/groupalarm?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/instruction/api/handler: unrecognized import path \"mycompany.com/go/instruction/api/handler\" (parse https://mycompany.com/go/instruction/api/handler?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/instruction/api/metrics: unrecognized import path \"mycompany.com/go/instruction/api/metrics\" (parse https://mycompany.com/go/instruction/api/metrics?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/journal/api/handler: unrecognized import path \"mycompany.com/go/journal/api/handler\" (parse https://mycompany.com/go/journal/api/handler?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/journal/api/metrics: unrecognized import path \"mycompany.com/go/journal/api/metrics\" (parse https://mycompany.com/go/journal/api/metrics?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/journal/api/services: unrecognized import path \"mycompany.com/go/journal/api/services\" (parse https://mycompany.com/go/journal/api/services?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/messaging/api/handler: unrecognized import path \"mycompany.com/go/messaging/api/handler\" (parse https://mycompany.com/go/messaging/api/handler?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/messaging/api/metrics: unrecognized import path \"mycompany.com/go/messaging/api/metrics\" (parse https://mycompany.com/go/messaging/api/metrics?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/monitor/api/controller: unrecognized import path \"mycompany.com/go/monitor/api/controller\" (parse https://mycompany.com/go/monitor/api/controller?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/monitor/api/metrics: unrecognized import path \"mycompany.com/go/monitor/api/metrics\" (parse https://mycompany.com/go/monitor/api/metrics?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/monitor/api/services: unrecognized import path \"mycompany.com/go/monitor/api/services\" (parse https://mycompany.com/go/monitor/api/services?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/newshub/api/handler: unrecognized import path \"mycompany.com/go/newshub/api/handler\" (parse https://mycompany.com/go/newshub/api/handler?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/newshub/api/metrics: unrecognized import path \"mycompany.com/go/newshub/api/metrics\" (parse https://mycompany.com/go/newshub/api/metrics?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/newshub/api/services: unrecognized import path \"mycompany.com/go/newshub/api/services\" (parse https://mycompany.com/go/newshub/api/services?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/organization/api/handler: unrecognized import path \"mycompany.com/go/organization/api/handler\" (parse https://mycompany.com/go/organization/api/handler?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/organization/api/metrics: unrecognized import path \"mycompany.com/go/organization/api/metrics\" (parse https://mycompany.com/go/organization/api/metrics?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/pager/api/handler: unrecognized import path \"mycompany.com/go/pager/api/handler\" (parse https://mycompany.com/go/pager/api/handler?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/pager/api/metrics: unrecognized import path \"mycompany.com/go/pager/api/metrics\" (parse https://mycompany.com/go/pager/api/metrics?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/pager/api/services: unrecognized import path \"mycompany.com/go/pager/api/services\" (parse https://mycompany.com/go/pager/api/services?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/pager/hmsgr: unrecognized import path \"mycompany.com/go/pager/hmsgr\" (parse https://mycompany.com/go/pager/hmsgr?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/pager/client: unrecognized import path \"mycompany.com/go/pager/client\" (parse https://mycompany.com/go/pager/client?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/pager/common: unrecognized import path \"mycompany.com/go/pager/common\" (parse https://mycompany.com/go/pager/common?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/rbac/api/handler: unrecognized import path \"mycompany.com/go/rbac/api/handler\" (parse https://mycompany.com/go/rbac/api/handler?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/rbac/api/metrics: unrecognized import path \"mycompany.com/go/rbac/api/metrics\" (parse https://mycompany.com/go/rbac/api/metrics?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/support/api/services: unrecognized import path \"mycompany.com/go/support/api/services\" (parse https://mycompany.com/go/support/api/services?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/shop/api/handler: unrecognized import path \"mycompany.com/go/shop/api/handler\" (parse https://mycompany.com/go/shop/api/handler?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/shop/api/metrics: unrecognized import path \"mycompany.com/go/shop/api/metrics\" (parse https://mycompany.com/go/shop/api/metrics?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/sms/api/handler: unrecognized import path \"mycompany.com/go/sms/api/handler\" (parse https://mycompany.com/go/sms/api/handler?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/sms/api/metrics: unrecognized import path \"mycompany.com/go/sms/api/metrics\" (parse https://mycompany.com/go/sms/api/metrics?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/sms/api/services: unrecognized import path \"mycompany.com/go/sms/api/services\" (parse https://mycompany.com/go/sms/api/services?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/support/api/handler: unrecognized import path \"mycompany.com/go/support/api/handler\" (parse https://mycompany.com/go/support/api/handler?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/support/api/metrics: unrecognized import path \"mycompany.com/go/support/api/metrics\" (parse https://mycompany.com/go/support/api/metrics?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/systemhook/api/handler: unrecognized import path \"mycompany.com/go/systemhook/api/handler\" (parse https://mycompany.com/go/systemhook/api/handler?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/systemhook/api/metrics: unrecognized import path \"mycompany.com/go/systemhook/api/metrics\" (parse https://mycompany.com/go/systemhook/api/metrics?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/systemhook/api/services: unrecognized import path \"mycompany.com/go/systemhook/api/services\" (parse https://mycompany.com/go/systemhook/api/services?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/user/api/handler: unrecognized import path \"mycompany.com/go/user/api/handler\" (parse https://mycompany.com/go/user/api/handler?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/user/api/metrics: unrecognized import path \"mycompany.com/go/user/api/metrics\" (parse https://mycompany.com/go/user/api/metrics?go-get=1: no go-import meta tags ())\npackage mycompany.com/go/webin-proxy/api/metrics: unrecognized import path \"mycompany.com/go/webin-proxy/api/metrics\" (parse https://mycompany.com/go/webin-proxy/api/metrics?go-get=1: no go-import meta tags ())\npackage github.com/coreos/prometheus-operator/pkg/client/monitoring/v1: cannot find package \"github.com/coreos/prometheus-operator/pkg/client/monitoring/v1\" in any of:\n\t/usr/local/go/src/github.com/coreos/prometheus-operator/pkg/client/monitoring/v1 (from $GOROOT)\n\t/go/src/github.com/coreos/prometheus-operator/pkg/client/monitoring/v1 (from $GOPATH)\npackage github.com/coreos/prometheus-operator/pkg/client/monitoring: cannot find package \"github.com/coreos/prometheus-operator/pkg/client/monitoring\" in any of:\n\t/usr/local/go/src/github.com/coreos/prometheus-operator/pkg/client/monitoring (from $GOROOT)\n\t/go/src/github.com/coreos/prometheus-operator/pkg/client/monitoring (from $GOPATH)\npackage github.com/coreos/prometheus-operator/pkg/client/monitoring/v1alpha1: cannot find package \"github.com/coreos/prometheus-operator/pkg/client/monitoring/v1alpha1\" in any of:\n\t/usr/local/go/src/github.com/coreos/prometheus-operator/pkg/client/monitoring/v1alpha1 (from $GOROOT)\n\t/go/src/github.com/coreos/prometheus-operator/pkg/client/monitoring/v1alpha1 (from $GOPATH)\n2019/06/22 10:44:32 exit status 1\n2019/06/22 10:44:34 Container exited with non zero status code\nUploading artifacts...\nWARNING: gl-sast-report.json: no matching files    \nERROR: No files to upload                          \nERROR: Job failed: exit code 1\n```\n\nThe project has the following structure\n```\nmycompany.com/  \n frontend/  \n    ...  \n    ...  \n go/  \n     go.sum  \n     go.mod  \n     vendor\n    |    github.com\n    |   |     ...\n    |   |     ...    \n    |    ...   \n     service_1  \n        main.go  \n        ...  \n     service_2  \n        main.go \n        ...  \n     ...  \n```\nLocally and in the normal CI-Job the binaries just build fine, it seems that in the SAST CI-Job is some problem regarding the local path and detecting the vendor directory.","state":"closed","created_at":"2019-06-22T10:58:11.270Z","updated_at":"2019-11-18T15:57:25.478Z","closed_at":"2019-08-14T17:57:24.027Z","closed_by":{"id":401232,"username":"theoretick","name":"Lucas Charles","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/401232/squares-nail-wall-art.jpg","web_url":"https://gitlab.com/theoretick"},"labels":["Category:SAST","Enterprise Edition","backend","devops::secure","group::static analysis","priority::2","severity::3","type::bug"],"milestone":{"id":693521,"iid":35,"group_id":9970,"title":"12.2","description":"https://about.gitlab.com/releases/2019/08/22/gitlab-12-2-released","state":"closed","created_at":"2018-10-30T16:48:32.567Z","updated_at":"2020-04-27T16:30:20.799Z","due_date":"2019-08-22","start_date":"2019-07-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/35"},"assignees":[{"id":401232,"username":"theoretick","name":"Lucas Charles","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/401232/squares-nail-wall-art.jpg","web_url":"https://gitlab.com/theoretick"}],"author":{"id":1104475,"username":"JohnnyQQQQ","name":"Jean-Philippe Qumner","state":"active","avatar_url":"https://secure.gravatar.com/avatar/28aeff89fe66d94225aa57c8ce79cc6a?s=80\u0026d=identicon","web_url":"https://gitlab.com/JohnnyQQQQ"},"type":"ISSUE","assignee":{"id":401232,"username":"theoretick","name":"Lucas Charles","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/401232/squares-nail-wall-art.jpg","web_url":"https://gitlab.com/theoretick"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/12339","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/12339","notes":"https://gitlab.com/api/v4/projects/278964/issues/12339/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/12339/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#12339","relative":"#12339","full":"gitlab-org/gitlab#12339"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24722559,"iid":31471,"project_id":278964,"title":"Make it really clear how users can buy GitLab from the group billing page","description":"\u003c!-- \nPlease remove /confidential from the bottom if this issue can be made public.\n\nPlease complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nWhen you visit the group billing page whilst on the Free plan, there is nowhere to purchase GitLab.  You can click the `Free` link but that's not a clear pathway to purchase. You can only start a trial. This causes users to either have to visit the user settings billing page or find the pricing page on about.gitlab.com (or they might already know to go to the portal, but that's doubtful).\n\nI've created a [separate issue](https://gitlab.com/gitlab-data/analytics/issues/1544) to discuss increasing visibility to buy GitLab on the homepage.\n\n![Screenshot_2019-06-21_at_6.11.14_PM](/uploads/9f9f074b949b3a173733fc4eeb20bb4f/Screenshot_2019-06-21_at_6.11.14_PM.png)\n\nWe should make it really easy for people to buy GitLab via this page and reach the checkout page in very few clicks. \n\n### Original Proposal\n\nCould we add a green CTA that simply says `Buy Now` that takes them to the pricing page either next to or instead of the `Start your Free Trial` CTA? I'm not sure what's the best user experience here. \n\n### Design Proposal\n\n| Upgrade (No Current Plan) | Upgrade (Active Current Plan) |\n| ------ | ------ |\n| ![Group_Billing_-_Proposal_Free_Plan_2x](/uploads/5c5a814925c3615cd5b068d0d7358570/Group_Billing_-_Proposal_Free_Plan_2x.png) | ![Group_Billing_-_Proposal_Current_Plan_2x](/uploads/e1f805ad14154ccfac412a43e0371fa2/Group_Billing_-_Proposal_Current_Plan_2x.png) | \n\n**Upgrade (No Current Plan)**\u003cbr\u003e\nWe should create a **4 column Card component** layout to showcase Upgrade opportunities, displaying short, informative and easily digestible information. The Card would contain three top features, with a link to learn more about each Plan. This seems like a reasonable bitesize amount of information for our users to make an informed choice.\n\n**Upgrade (Active Current Plan)**\u003cbr\u003e\nIf a user is already on a Plan (i.e. Bronze) we should display the \"Active\" Plan with a disabled styling, including a note next to the Title with the text `Current Plan`. We should also disable the Upgrade Button.\n\n**URLs**\u003cbr\u003e\n* All of the `See All {Plan} features` links = https://about.gitlab.com/pricing/gitlab-com/feature-comparison/\n\n* Since downgrading is currently a manual process via support I've also included some text *\"Please contact Customer Support if you would like to downgrade your Plan.\"* to inform users of this process. This would only appear for users above the `Free` plan.\u003cbr\u003e\n\"Customer Support\" link = `https://support.gitlab.com`\n\n### Design Specs\nhttps://gitlab-org.gitlab.io/gitlab-design/hosted/tim/gitlab%2315437-use-billing-plan-card-layout-in-profile-billing-and-group-billing-spec-previews/\n\n### Result\n\nLess confusion for our users, improved user experience and a potential increase in GitLab.com subscription revenue.","state":"closed","created_at":"2019-06-22T00:05:53.509Z","updated_at":"2021-04-03T08:34:00.438Z","closed_at":"2019-10-16T21:55:42.539Z","closed_by":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"labels":["Deliverable","[deprecated] ","backend","devops::fulfillment","frontend","gitlab.com","group::purchase","priority::3","section::fulfillment","workflow::in review"],"milestone":{"id":731039,"iid":38,"group_id":9970,"title":"12.4","description":"https://about.gitlab.com/releases/2019/10/22/gitlab-12-4-released","state":"closed","created_at":"2018-12-07T12:41:53.212Z","updated_at":"2020-04-27T16:30:43.889Z","due_date":"2019-10-17","start_date":"2019-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/38"},"assignees":[{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},{"id":3354144,"username":"timnoah","name":"Tim Noah","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3354144/avatar.png","web_url":"https://gitlab.com/timnoah"}],"author":{"id":1903246,"username":"tipyn","name":"Luca Kisielius","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1903246/avatar.png","web_url":"https://gitlab.com/tipyn"},"type":"ISSUE","assignee":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"user_notes_count":45,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/31471","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/31471","notes":"https://gitlab.com/api/v4/projects/278964/issues/31471/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/31471/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#31471","relative":"#31471","full":"gitlab-org/gitlab#31471"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1277,"epic":{"id":6644,"iid":1277,"title":" Improved Purchase Flow (parent epic)","url":"/groups/gitlab-org/-/epics/1277","group_id":9970,"human_readable_end_date":"Nov 17, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":24698566,"iid":29651,"project_id":278964,"title":"Allow child pipelines to trigger their own child pipelines","description":"### Problem to solve\n\nWith https://gitlab.com/gitlab-org/gitlab-ce/issues/22972 we introduce the new idea of child/parent pipelines. For the MVC, however, we limit the relationship only to parent-\u003echild, and disallow parent-\u003echild-\u003echild-\u003e(...). One level of relationship is good for many use cases, but in a more complex workflow you have pipeline branches creating one or maybe two pipeline branches of their own.\n\n### Intended users\n\nSoftware Developers\n\n### Further details\n\n- See https://gitlab.com/gitlab-org/gitlab-ce/issues/22972 for details on parent/child implementation.\n\n### Proposal\n\nRemove the limitation for child pipelines, and set a maximum depth for relationships. A decent starter value could be 5, but even 2 is better (that at least unlocks an alternative to https://gitlab.com/gitlab-org/gitlab/-/issues/229134). If the max depth is reached, the pipeline should fail to start and return a failure status attribution, and there should be a clear message what happened.\n\nWe could implement this using [Gitlab::ObjectHierarchy](https://gitlab.com/gitlab-org/gitlab/blob/60689fc347f768c6dde375565ea5e43dc574ea3f/lib/gitlab/object_hierarchy.rb) utility which is already used today for groups/sub-groups. This would allow us to find out all descendants or all ancestors as well as calculating the `max_descendants_dept` which should be used to enforce the limit.\n\n- change `Ci::Pipeline#same_family_pipeline_ids` to take in consideration a wider hierarchy\n- change `Ci::CreateCrossProjectPipelineService#ensure_preconditions!` to account for a wider hierarchy\n- ensure pipeline processing works as expected with status attribution\n\n### Permissions and Security\n\nA maximum depth is important to prevent recursive/runaway pipelines causing a denial of service.\n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html\nAdd all known Documentation Requirements here, per https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements --\u003e\n\n### Testing\n\n\u003c!-- What risks does this change pose? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing? See the test engineering process for further guidelines: https://about.gitlab.com/handbook/engineering/quality/guidelines/test-engineering/ --\u003e\n\n### What does success look like, and how can we measure that?\n\n\u003c!-- Define both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. --\u003e\n\n### Links / references","state":"closed","created_at":"2019-06-21T09:12:33.868Z","updated_at":"2021-04-03T08:23:28.763Z","closed_at":"2020-09-17T19:28:28.842Z","closed_by":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"labels":["Category:Pipeline Authoring","Deliverable","Product Vision FY20","auto updated","backend","bridge pipelines","customer","customer+","devops::verify","direction","group::pipeline authoring","pipeline","popular proposal","potential proposal","section::ops","type::feature","workflow::production"],"milestone":{"id":1233753,"iid":51,"group_id":9970,"title":"13.4","description":"https://about.gitlab.com/releases/2020/09/22/gitlab-13-4-released/","state":"closed","created_at":"2020-04-09T17:39:21.662Z","updated_at":"2022-04-13T14:50:33.769Z","due_date":"2020-09-17","start_date":"2020-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/51"},"assignees":[{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"}],"author":{"id":2243533,"username":"jyavorska","name":"Jason Yavorska","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2243533/avatar.png","web_url":"https://gitlab.com/jyavorska"},"type":"ISSUE","assignee":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"user_notes_count":25,"merge_requests_count":0,"upvotes":24,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/29651","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/29651","notes":"https://gitlab.com/api/v4/projects/278964/issues/29651/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/29651/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#29651","relative":"#29651","full":"gitlab-org/gitlab#29651"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4020,"epic":{"id":85334,"iid":4020,"title":"MVC for easier dynamic, runtime generation of `.gitlab-ci.yml`","url":"/groups/gitlab-org/-/epics/4020","group_id":9970,"human_readable_end_date":"Sep 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":24698496,"iid":29642,"project_id":278964,"title":"When slugifying project name, replace unicode characters with ascii equivalent","description":"The following discussion from gitlab-ee!10570 should be addressed:\n\n- [ ] @pslaughter started a [discussion](https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/10570#note_182227234):  (+5 comments)\n\n    \u003e **issue:** I think this could be an issue an I'd like to get someone in UX's opinion... \n    \u003e \n    \u003e @mvanremmerden, WDYT of this change which would update the way we automatically slugify the project name.\n    \u003e \n    \u003e | Current (on `master`) | After |\n    \u003e |--------|-------|\n    \u003e | (Errors when submitted) ![Screen_Shot_2019-06-17_at_4.26.44_PM](/uploads/b677faafcee59173d968d0bdf558b614/Screen_Shot_2019-06-17_at_4.26.44_PM.png) | (Success when submitted) ![Screen_Shot_2019-06-17_at_4.26.59_PM](/uploads/d981e31c884010506944657a913da955/Screen_Shot_2019-06-17_at_4.26.59_PM.png)","state":"closed","created_at":"2019-06-20T19:33:02.106Z","updated_at":"2020-09-02T22:11:45.597Z","closed_at":"2020-08-25T09:22:43.783Z","closed_by":{"id":1230286,"username":"xanf","name":"Illya Klymov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ce4d16557b46210fa57641531b570dd4?s=80\u0026d=identicon","web_url":"https://gitlab.com/xanf"},"labels":["Category:Importers","Category:Internationalization","DEPRECATED_project import","Github","UX","[deprecated] Accepting merge requests","devops::manage","frontend","good for new contributors","group::import","project","type::feature","workflow::production",""],"milestone":{"id":1233753,"iid":51,"group_id":9970,"title":"13.4","description":"https://about.gitlab.com/releases/2020/09/22/gitlab-13-4-released/","state":"closed","created_at":"2020-04-09T17:39:21.662Z","updated_at":"2022-04-13T14:50:33.769Z","due_date":"2020-09-17","start_date":"2020-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/51"},"assignees":[],"author":{"id":2233420,"username":"pslaughter","name":"Paul Slaughter","state":"active","avatar_url":"https://secure.gravatar.com/avatar/631b25421eb206ab44cb2793ef09d881?s=80\u0026d=identicon","web_url":"https://gitlab.com/pslaughter"},"type":"ISSUE","assignee":null,"user_notes_count":16,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/29642","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/29642","notes":"https://gitlab.com/api/v4/projects/278964/issues/29642/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/29642/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#29642","relative":"#29642","full":"gitlab-org/gitlab#29642"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1890,"epic":{"id":12129,"iid":1890,"title":"Projects - Improvements","url":"/groups/gitlab-org/-/epics/1890","group_id":9970,"human_readable_end_date":"Sep 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":22085027,"iid":12299,"project_id":278964,"title":"Metrics report needs multiple refreshes before showing up","description":"### Summary\n\nCorrect metrics report on merge request shows up from second refresh onwards.\n\n### Steps to reproduce\n\n#### Example 1\n1. Have a merge request open with running pipeline that creates metrics report. Let the pipeline finish.\n   - Test summary report does get automatically refreshed when the pipeline continues. One would assume code quality report and metrics report to refresh too, but they do not.\n     ![1-autorefresh](/uploads/001254fd59b2da1a70ff4199a19b4ede/1-autorefresh.png)\n2. Refresh the merge request page (using cache override, for Firefox CTRL + SHIFT + R)\n   - Code quality report appears normally, metrics show **incorrectly** that nothing changed, but it doesn't show the *Expand* button to see it further, even though there *was* changes.\n     ![2-firstrefresh](/uploads/6592d4407cee0466ed9fb089057284c0/2-firstrefresh.png)\n3. Refresh the merge request page once more (again with cache override)\n   - Now metrics changes appear as they should have on the first step\n     ![3-secondrefresh](/uploads/ba44573644ced5252fff28fa24211ddc/3-secondrefresh.png)\n\n#### Example 2 (taken from #13015)\n1. Create a new repository that publishes a metric report that is gauranteed to change. For example, here is the `.gitlab-ci.yml` I was using to test this behavior:\n\n   ```yaml\n   create_metrics:\n     script:\n       - echo timestamp $(date +%s) \u003e metrics.txt\n     artifacts:\n       reports:\n         metrics: metrics.txt\n   ```\n\n1. Create a new merge request and navigate away from the merge request page.\n1. Once the pipeline has finished, navigate back to the merge request page.\n\nAt this point in time, the metrics widget will incorrectly show \"Metrics report did not change\".  Refreshing the page will cause the widget to update and correctly register a change to the metric.\n\nI'm not sure if this will be helpful, but here is the repository I was using to test this behavior: https://gitlab.com/nfriend/metrics-testing\n\n#### Example 3 (taken from #216352)\n\nOpen https://gitlab.com/gitlab-org/gitlab/-/merge_requests/28407, wait for metrics report widget to be loaded the first time, then reload page.\n\n### What is the current *bug* behavior?\n\n#### Example 1\nSee *Steps to reproduce*\n\n#### Example 2\n![2019-07-23_13.16.05](/uploads/e31c27a258b329d9431ade467836bab1/2019-07-23_13.16.05.gif)\n\n(The pause in the middle of the GIF is me hitting \u003ckbd\u003e\u003c/kbd\u003e+\u003ckbd\u003eR\u003c/kbd\u003e to refresh the page.)\n\n#### Example 3\n![Metrics_report](/uploads/b11ee69b2878c7a5867e739eafaa1681/Metrics_report.mp4)\n\n### What is the expected *correct* behavior?\n\nMetrics report (and code quality report) should autorefresh when pipelines are completed. Or at least metrics report shouldn't show incorrectly that \"nothing changed\" when the page is refreshed.\n\n### Relevant logs and/or screenshots\n\nSee *Steps to reproduce*\n\n### Output of checks\n\n#### Results of GitLab environment info\n\nUsing gitlab-runner `11.11.2`, and self-hosted omnibus gitlab `11.11.1-ee`. Tried with browsers `Firefox 67.0.2 (64-bit)` and `Chromium 74.0.3729.169` with same results.\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\u003cpre\u003e\ngitlab-rake gitlab:env:info\n\nSystem information\nSystem:         Ubuntu 16.04\nProxy:          no\nCurrent User:   git\nUsing RVM:      no\nRuby Version:   2.5.3p105\nGem Version:    2.7.9\nBundler Version:1.17.3\nRake Version:   12.3.2\nRedis Version:  3.2.12\nGit Version:    2.21.0\nSidekiq Version:5.2.7\nGo Version:     unknown\n\nGitLab information\nVersion:        11.11.1-ee\nRevision:       4ce2f9746d3\nDirectory:      /opt/gitlab/embedded/service/gitlab-rails\nDB Adapter:     PostgreSQL\nDB Version:     9.6.11\nURL:            https://gitlab.domain.tld\nHTTP Clone URL: https://gitlab.domain.tld/some-group/some-project.git\nSSH Clone URL:  git@gitlab.domain.tld:some-group/some-project.git\nElasticsearch:  no\nGeo:            no\nUsing LDAP:     no\nUsing Omniauth: yes\nOmniauth Providers:\n\nGitLab Shell\nVersion:        9.1.0\nRepository storage paths:\n  default:      /var/opt/gitlab/git-data/repositories\nGitLab Shell path:              /opt/gitlab/embedded/service/gitlab-shell\nGit:            /opt/gitlab/embedded/bin/git\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\nChecking GitLab subtasks ...                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            \n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                \nChecking GitLab Shell ...                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            \n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                \nGitLab Shell: ... GitLab Shell version \u003e= 9.1.0 ? ... OK (9.1.0)\nRunning /opt/gitlab/embedded/service/gitlab-shell/bin/check\nCheck GitLab API access: OK\nRedis available via internal API: OK\n\nAccess to /var/opt/gitlab/.ssh/authorized_keys: OK\ngitlab-shell self-check successful\n\nChecking GitLab Shell ... Finished\n\nChecking Gitaly ...\n\nGitaly: ... default ... OK\n\nChecking Gitaly ... Finished\n\nChecking Sidekiq ...\n\nSidekiq: ... Running? ... yes\nNumber of Sidekiq processes ... 1\n\nChecking Sidekiq ... Finished\n\nChecking Incoming Email ...\n\nIncoming Email: ... Reply by email is disabled in config/gitlab.yml\n\nChecking Incoming Email ... Finished\n\nChecking LDAP ...\n\nLDAP: ... LDAP is disabled in config/gitlab.yml\n\nChecking LDAP ... Finished\n\nChecking GitLab App ...\n\nGit configured correctly? ... yes\nDatabase config exists? ... yes\nAll migrations up? ... yes\nDatabase contains orphaned GroupMembers? ... no\nGitLab config exists? ... yes\nGitLab config up to date? ... yes\nLog directory writable? ... yes\nTmp directory writable? ... yes\nUploads directory exists? ... yes\nUploads directory has correct permissions? ... yes\nUploads directory tmp has correct permissions? ... yes\nInit script exists? ... skipped (omnibus-gitlab has no init script)\nInit script up-to-date? ... skipped (omnibus-gitlab has no init script)\nProjects have namespace: ...\n6/2 ... yes\n18/5 ... yes\n18/6 ... yes\n18/7 ... yes\n24/8 ... yes\n24/9 ... yes\n24/10 ... yes\n24/11 ... yes\n24/12 ... yes\n24/13 ... yes\n24/14 ... yes\n24/15 ... yes\n24/16 ... yes\n24/17 ... yes\n2/19 ... yes\n1/20 ... yes\n6/25 ... yes\n18/26 ... yes\n19/27 ... yes\n19/30 ... yes\n19/33 ... yes\n18/35 ... yes\n1/36 ... yes\n10/39 ... yes\n24/41 ... yes\n24/42 ... yes\n19/43 ... yes\n19/44 ... yes\n24/45 ... yes\n23/46 ... yes\n1/47 ... yes\n1/48 ... yes\n10/49 ... yes\n19/50 ... yes\n18/51 ... yes\n18/52 ... yes\n19/53 ... yes\n1/54 ... yes\n10/55 ... yes\n25/56 ... yes\n24/57 ... yes\n1/58 ... yes\n21/59 ... yes\n1/61 ... yes\n1/62 ... yes\n1/63 ... yes\n1/64 ... yes\n1/65 ... yes\n1/66 ... yes\n1/67 ... yes\n1/68 ... yes\n8/69 ... yes\n1/70 ... yes\n1/71 ... yes\n19/72 ... yes\n19/73 ... yes\n22/74 ... yes\n18/76 ... yes\n19/77 ... yes\n21/78 ... yes\n19/79 ... yes\n19/80 ... yes\n1/82 ... yes\n8/83 ... yes\n18/84 ... yes\n1/85 ... yes\n25/86 ... yes\n26/87 ... yes\n14/88 ... yes\n10/89 ... yes\n14/90 ... yes\n26/91 ... yes\n14/92 ... yes\n26/93 ... yes\n26/94 ... yes\n10/95 ... yes\n26/97 ... yes\n19/98 ... yes\n19/99 ... yes\n8/100 ... yes\n10/101 ... yes\n23/102 ... yes\n24/103 ... yes\n24/104 ... yes\n19/105 ... yes\n1/106 ... yes\n8/107 ... yes\n8/108 ... yes\n8/109 ... yes\n27/110 ... yes\n27/111 ... yes\n19/112 ... yes\n18/113 ... yes\n10/114 ... yes\n26/115 ... yes\n27/116 ... yes\n26/117 ... yes\n19/118 ... yes\n26/119 ... yes\n26/120 ... yes\n26/121 ... yes\n26/122 ... yes\n26/123 ... yes\n22/124 ... yes\n8/125 ... yes\n26/126 ... yes\n21/127 ... yes\n26/129 ... yes\n1/131 ... yes\n18/132 ... yes\n29/133 ... yes\n26/134 ... yes\n19/135 ... yes\n18/136 ... yes\n29/137 ... yes\n1/138 ... yes\n1/139 ... yes\n19/140 ... yes\n26/141 ... yes\nRedis version \u003e= 2.8.0? ... yes\nRuby version \u003e= 2.5.3 ? ... yes (2.5.3)\nGit version \u003e= 2.21.0 ? ... yes (2.21.0)\nGit user has default SSH configuration? ... yes\nActive users: ... 8\nElasticsearch version 5.6 - 6.x? ... skipped (elasticsearch is disabled)\n\nChecking GitLab App ... Finished\n\n\nChecking GitLab subtasks ... Finished\n\u003c/pre\u003e\n\u003c/details\u003e\n\n\n### Possible Fixes\n\n@matteeyah mentioned in Slack that this might be a caching issue.","state":"closed","created_at":"2019-06-20T07:53:25.200Z","updated_at":"2020-10-26T14:50:04.121Z","closed_at":"2020-06-18T19:44:03.142Z","closed_by":{"id":5327378,"username":"f_caplette","name":"Frdric Caplette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5327378/avatar.png","web_url":"https://gitlab.com/f_caplette"},"labels":["Category:Code Testing and Coverage","Enterprise Edition","GitLab Premium","customer","devops::verify","frontend","group::pipeline insights","priority::3","severity::3","type::bug"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":5327378,"username":"f_caplette","name":"Frdric Caplette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5327378/avatar.png","web_url":"https://gitlab.com/f_caplette"}],"author":{"id":1357310,"username":"Zachu","name":"Jani Korhonen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/241154dfeb84d7261c5d36a0e95facf1?s=80\u0026d=identicon","web_url":"https://gitlab.com/Zachu"},"type":"ISSUE","assignee":{"id":5327378,"username":"f_caplette","name":"Frdric Caplette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5327378/avatar.png","web_url":"https://gitlab.com/f_caplette"},"user_notes_count":13,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/12299","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/12299","notes":"https://gitlab.com/api/v4/projects/278964/issues/12299/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/12299/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#12299","relative":"#12299","full":"gitlab-org/gitlab#12299"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"needs_attention"},{"id":22073594,"iid":12291,"project_id":278964,"title":"Fix error message when attempting to add a sub-epic to an epic from a different domain.","description":"### Summary\n\nWhen attempting to add a sub-epic to an epic from a different domain, user receives the message, \" \"could not be found\" which is not specific enough to help them understand why the action failed and or how to resolve. \n\n### Steps to reproduce\n\n1. Attempt to add a sub-epic to an epic from a different domain.\n3. Note the error message.\n\n### What is the current *bug* behavior?\n\nWhen attempting to add a sub-epic to an epic from a different domain, user receives thge message, \" \"could not be found\" which is not specific enough to help them understand why the action failed and or how to resolve. \n\n### What is the expected *correct* behavior?\n\nChange the message to more accurately reflect the reason the action cannot be completed and help the user resolve the issue. For example \"Epic could not be added. Check the epic is on \u003cdomain name\u003e and you have the correct URL. Learn More\" Direct Learn more to troubleshooting help article.\n\n### Relevant logs and/or screenshots\n\n(Paste any relevant logs - please use code blocks (```) to format console output,\nlogs, and code as it's tough to read otherwise.)\n\n### Output of checks\n\n(If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com)\n\n#### Results of GitLab environment info\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n(If you can, link to the line of code that might be responsible for the problem)\n\n@annabeldunstone @uhlexsis @tauriedavis for awareness...","state":"closed","created_at":"2019-06-19T19:30:41.329Z","updated_at":"2022-05-19T16:07:19.437Z","closed_at":"2019-10-14T18:38:05.109Z","closed_by":{"id":4554611,"username":"hollyreynolds","name":"Holly Reynolds","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4554611/avatar.png","web_url":"https://gitlab.com/hollyreynolds"},"labels":["Enterprise Edition","UX","backend","devops::plan","group::product planning","priority::3","severity::4","type::bug","workflow::solution validation"],"milestone":{"id":731039,"iid":38,"group_id":9970,"title":"12.4","description":"https://about.gitlab.com/releases/2019/10/22/gitlab-12-4-released","state":"closed","created_at":"2018-12-07T12:41:53.212Z","updated_at":"2020-04-27T16:30:43.889Z","due_date":"2019-10-17","start_date":"2019-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/38"},"assignees":[{"id":4554611,"username":"hollyreynolds","name":"Holly Reynolds","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4554611/avatar.png","web_url":"https://gitlab.com/hollyreynolds"}],"author":{"id":3879630,"username":"sbouchard1","name":"Shane Bouchard","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3879630/avatar.png","web_url":"https://gitlab.com/sbouchard1"},"type":"ISSUE","assignee":{"id":4554611,"username":"hollyreynolds","name":"Holly Reynolds","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4554611/avatar.png","web_url":"https://gitlab.com/hollyreynolds"},"user_notes_count":13,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/12291","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/12291","notes":"https://gitlab.com/api/v4/projects/278964/issues/12291/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/12291/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#12291","relative":"#12291","full":"gitlab-org/gitlab#12291"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24698413,"iid":29611,"project_id":278964,"title":"Setting up developer environment (db, fixtures) fails","description":"Running `rake dev:setup` will setup developer environment (db, fixtures) but the seed will fail when importing `24_forks.rb` with the following error:\n\n```sh\n== Seed from /path/to/gdk/gitlab/db/fixtures/development/24_forks.rb\nrake aborted!\nActiveRecord::NotNullViolation: PG::NotNullViolation: ERROR:  null value in column \"project_id\" violates not-null constraint\nDETAIL:  Failing row contains (2, 1, null, 2).\n: INSERT INTO \"fork_network_members\" (\"fork_network_id\", \"forked_from_project_id\") VALUES ($1, $2) RETURNING \"id\"\n```","state":"closed","created_at":"2019-06-19T09:16:07.337Z","updated_at":"2019-09-25T04:15:22.529Z","closed_at":"2019-09-25T04:15:22.388Z","closed_by":{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"},"labels":["missed:12.1","missed:12.1","missed:12.2","missed:12.3","rake tasks","type::bug"],"milestone":{"id":731039,"iid":38,"group_id":9970,"title":"12.4","description":"https://about.gitlab.com/releases/2019/10/22/gitlab-12-4-released","state":"closed","created_at":"2018-12-07T12:41:53.212Z","updated_at":"2020-04-27T16:30:43.889Z","due_date":"2019-10-17","start_date":"2019-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/38"},"assignees":[{"id":2187482,"username":"ashmckenzie","name":"Ash McKenzie","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2187482/avatar.png","web_url":"https://gitlab.com/ashmckenzie"}],"author":{"id":1474048,"username":"gtsiolis","name":"George Tsiolis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1474048/avatar.png","web_url":"https://gitlab.com/gtsiolis"},"type":"ISSUE","assignee":{"id":2187482,"username":"ashmckenzie","name":"Ash McKenzie","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2187482/avatar.png","web_url":"https://gitlab.com/ashmckenzie"},"user_notes_count":5,"merge_requests_count":0,"upvotes":4,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/29611","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/29611","notes":"https://gitlab.com/api/v4/projects/278964/issues/29611/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/29611/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#29611","relative":"#29611","full":"gitlab-org/gitlab#29611"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":22051258,"iid":12275,"project_id":278964,"title":"Geo::BaseSyncService class name is misleading","description":"`Geo::BaseSyncService` class name is misleading as it's only used for repository and wiki syncs. It should be something like `Geo::BaseGitSyncService` or `Geo::BaseGitRepositorySyncService`","state":"closed","created_at":"2019-06-19T08:47:53.771Z","updated_at":"2019-12-11T20:02:43.305Z","closed_at":"2019-09-02T15:12:01.806Z","closed_by":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"labels":["Enterprise Edition","[deprecated] Accepting merge requests","devops::systems","group::geo","maintenance::refactor"],"milestone":{"id":731038,"iid":37,"group_id":9970,"title":"12.3","description":"https://about.gitlab.com/releases/2019/09/22/gitlab-12-3-released/","state":"closed","created_at":"2018-12-07T12:40:55.400Z","updated_at":"2020-04-23T21:06:04.173Z","due_date":"2019-09-17","start_date":"2019-08-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/37"},"assignees":[],"author":{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"},"type":"ISSUE","assignee":null,"user_notes_count":3,"merge_requests_count":1,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/12275","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/12275","notes":"https://gitlab.com/api/v4/projects/278964/issues/12275/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/12275/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#12275","relative":"#12275","full":"gitlab-org/gitlab#12275"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":22051098,"iid":12274,"project_id":278964,"title":"Code Quality no 'Download' option and 'Keep' results in 404","description":"### Summary\n\nWhen using [`artifacts:reports:codequality`](https://docs.gitlab.com/ee/ci/yaml/#artifactsreportscodequality-starter) the resulting job has no ability to download the report and due to gitlab-org/gitlab-ee#4189 there is no way to view it. There is a 'Keep' button but clicking this results in a 404.\n\n![Screenshot_2019-06-19_at_09.37.52](/uploads/d71fbfb9e6af6339d3a6da3d43c92fa9/Screenshot_2019-06-19_at_09.37.52.png)\n\n### Steps to reproduce\n\n1. Use the [`Jobs/Code-Quality.gitlab-ci.yml`](https://gitlab.com/gitlab-org/gitlab-ee/blob/master/lib/gitlab/ci/templates/Jobs/Code-Quality.gitlab-ci.yml) job within a pipeline. This has `artifacts:reports:codequality` set.\n2. Run pipeline,\n3. Navigate to the code_quality job and observe right hand panel.\n\n### Example Project\n\nN/A\n\n### What is the current *bug* behavior?\n\nNot possible to view or download code quality report.\n\n### What is the expected *correct* behavior?\n\nView or download code quality report.\n\n### Relevant logs and/or screenshots\n\nN/A\n\n### Proposal\nGoing forward the Keep button will not be necessary after completion of #16267 and so will be removed.\n\nThe Download button will now download the codeclimate generated code climate report will then be available until the expire_in has passed and the download button should be made inactive.\n\nAnother [issue](https://gitlab.com/gitlab-org/gitlab/issues/39530) was opened to improve the experience when no buttons are present but the job created one.\n\n### Output of checks\n\nThis bug happens on GitLab.com","state":"closed","created_at":"2019-06-19T08:45:06.238Z","updated_at":"2021-01-04T16:17:03.159Z","closed_at":"2020-02-06T11:46:54.495Z","closed_by":{"id":1758950,"username":"iamricecake","name":"Erick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1758950/avatar.png","web_url":"https://gitlab.com/iamricecake"},"labels":["CI artifacts","Category:Code Quality","Deliverable","Enterprise Edition","Technical Writing","backend","customer","devops::verify","docs::improvement","group::pipeline insights","missed-SLO","missed-deliverable","missed:12.6","missed:12.7","priority::2","severity::2","type::bug","workflow::production"],"milestone":{"id":1001915,"iid":43,"group_id":9970,"title":"12.8","description":"https://about.gitlab.com/releases/2020/02/22/gitlab-12-8-released","state":"closed","created_at":"2019-09-15T20:53:58.792Z","updated_at":"2020-05-19T14:23:44.837Z","due_date":"2020-02-17","start_date":"2020-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/43"},"assignees":[{"id":1758950,"username":"iamricecake","name":"Erick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1758950/avatar.png","web_url":"https://gitlab.com/iamricecake"}],"author":{"id":3107389,"username":"daniel.siviter1","name":"Dan Siviter","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3107389/avatar.png","web_url":"https://gitlab.com/daniel.siviter1"},"type":"ISSUE","assignee":{"id":1758950,"username":"iamricecake","name":"Erick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1758950/avatar.png","web_url":"https://gitlab.com/iamricecake"},"user_notes_count":89,"merge_requests_count":0,"upvotes":16,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/12274","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/12274","notes":"https://gitlab.com/api/v4/projects/278964/issues/12274/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/12274/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#12274","relative":"#12274","full":"gitlab-org/gitlab#12274"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":22050349,"iid":12273,"project_id":278964,"title":"Can gitlab-rake gitlab:geo:check be run automatically when upgrading?","description":"The last step in the [Geo Deployment] instructions is to run `gitlab-rake gitlab:geo:check`. Could this be automated? Based on our technical understanding, the answer could be yes. \n\nThis should be covered by \\#12746\n\nThe outcome of this issue is to confirm if it is possible to automate this. ","state":"closed","created_at":"2019-06-19T08:28:24.338Z","updated_at":"2019-12-11T20:02:43.983Z","closed_at":"2019-08-26T12:58:13.205Z","closed_by":{"id":660180,"username":"toon","name":"Toon Claes","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/660180/avatar.png","web_url":"https://gitlab.com/toon"},"labels":["Deliverable","Enterprise Edition","Geo Administration","[deprecated] Accepting merge requests","devops::systems","group::geo"],"milestone":{"id":731038,"iid":37,"group_id":9970,"title":"12.3","description":"https://about.gitlab.com/releases/2019/09/22/gitlab-12-3-released/","state":"closed","created_at":"2018-12-07T12:40:55.400Z","updated_at":"2020-04-23T21:06:04.173Z","due_date":"2019-09-17","start_date":"2019-08-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/37"},"assignees":[],"author":{"id":3944199,"username":"fzimmer","name":"Fabian Zimmer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3944199/avatar.png","web_url":"https://gitlab.com/fzimmer"},"type":"ISSUE","assignee":null,"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/12273","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/12273","notes":"https://gitlab.com/api/v4/projects/278964/issues/12273/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/12273/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#12273","relative":"#12273","full":"gitlab-org/gitlab#12273"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1935,"epic":{"id":12494,"iid":1935,"title":"Geo: Improved Geo upgrade documentation","url":"/groups/gitlab-org/-/epics/1935","group_id":9970,"human_readable_end_date":"Nov 17, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":22049760,"iid":12270,"project_id":278964,"title":"Investigate if updating tracking DB is necessary on secondaries for GitLab upgrade","description":"The documentation [describes](https://docs.gitlab.com/ee/administration/geo/replication/updating_the_geo_nodes.html#update-tracking-database-on-secondary-node) to run `sudo gitlab-rake geo:db:migrate` on each secondary after updating. \n\nBut AFAICS, omnibus does this automatically https://gitlab.com/gitlab-org/omnibus-gitlab/blob/master/files/gitlab-cookbooks/gitlab-ee/recipes/geo_database_migrations.rb#L31:\n\n```ruby\nbash 'migrate gitlab-geo tracking database' do\n  code \u003c\u003c-EOH\n    set -e\n    log_file=\"#{node['gitlab']['gitlab-rails']['log_directory']}/gitlab-geo-db-migrate-$(date +%Y-%m-%d-%H-%M-%S).log\"\n    umask 077\n    /opt/gitlab/bin/gitlab-rake geo:db:migrate 2\u003e\u0026 1 | tee ${log_file}\n    STATUS=${PIPESTATUS[0]}\n    echo $STATUS \u003e #{gitlab_geo_helper.db_migrate_status_file}\n    exit $STATUS\n  EOH\n\n  notifies :run, 'execute[start geo-postgresql]', :before if omnibus_helper.should_notify?('geo-postgresql')\n  dependent_services.each do |svc|\n    notifies :restart, svc, :immediately\n  end\n  not_if { gitlab_geo_helper.migrated? }\n  only_if { node['gitlab']['geo-secondary']['auto_migrate'] \u0026\u0026 node['gitlab']['geo-postgresql']['enable'] }\nend\n```\n\n### Proposal\n\nTest this actually works and remove this step from the docs if so.","state":"closed","created_at":"2019-06-19T08:08:32.687Z","updated_at":"2019-12-11T20:02:45.434Z","closed_at":"2019-08-06T10:19:27.517Z","closed_by":{"id":2722370,"username":"rnienaber","name":"Rachel Nienaber","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2722370/avatar.png","web_url":"https://gitlab.com/rnienaber"},"labels":["Enterprise Edition","Geo Administration","devops::systems","group::geo"],"milestone":{"id":693521,"iid":35,"group_id":9970,"title":"12.2","description":"https://about.gitlab.com/releases/2019/08/22/gitlab-12-2-released","state":"closed","created_at":"2018-10-30T16:48:32.567Z","updated_at":"2020-04-27T16:30:20.799Z","due_date":"2019-08-22","start_date":"2019-07-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/35"},"assignees":[{"id":2293,"username":"brodock","name":"Gabriel Mazetto","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2293/avatar.png","web_url":"https://gitlab.com/brodock"}],"author":{"id":3944199,"username":"fzimmer","name":"Fabian Zimmer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3944199/avatar.png","web_url":"https://gitlab.com/fzimmer"},"type":"ISSUE","assignee":{"id":2293,"username":"brodock","name":"Gabriel Mazetto","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2293/avatar.png","web_url":"https://gitlab.com/brodock"},"user_notes_count":7,"merge_requests_count":1,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/12270","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/12270","notes":"https://gitlab.com/api/v4/projects/278964/issues/12270/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/12270/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#12270","relative":"#12270","full":"gitlab-org/gitlab#12270"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1935,"epic":{"id":12494,"iid":1935,"title":"Geo: Improved Geo upgrade documentation","url":"/groups/gitlab-org/-/epics/1935","group_id":9970,"human_readable_end_date":"Nov 17, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":22044287,"iid":12264,"project_id":278964,"title":"Update Gitlab::Geo.repository_verification_enabled? to use newer feature lookup method","description":"From: https://gitlab.com/gitlab-org/gitlab-ee/issues/12263#note_182833814\n\n@ashmckenzie The failure is related to the changes introduced in https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/29816 and the way we are testing the `GeoNodeStatus#update_cache!` using message expectations. The `Gitlab::Geo.repository_verification_enabled?` uses an old implementation to default the flag to being enabled, changing it to use the new one fixes this issue but it would be great if we can improve the specs for `GeoNodeStatus#update_cache!` as well.\n\n```ruby\ndiff --git a/ee/lib/gitlab/geo.rb b/ee/lib/gitlab/geo.rb\nindex 93eae27c2ec..cd41765f326 100644\n--- a/ee/lib/gitlab/geo.rb\n+++ b/ee/lib/gitlab/geo.rb\n@@ -123,14 +123,7 @@ module Gitlab\n     end\n \n     def self.repository_verification_enabled?\n-      feature = ::Feature.get('geo_repository_verification')\n-\n-      # If the feature has been set, always evaluate\n-      if ::Feature.persisted?(feature)\n-        return feature.enabled?\n-      else\n-        true\n-      end\n+      Feature.enabled?('geo_repository_verification', default_enabled: true)\n     end\n \n     def self.allowed_ip?(ip)\n```","state":"closed","created_at":"2019-06-19T02:53:26.796Z","updated_at":"2019-12-11T20:02:46.318Z","closed_at":"2019-06-21T20:23:55.911Z","closed_by":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"labels":["Enterprise Edition","Geo Administration","devops::systems","group::geo"],"milestone":{"id":693520,"iid":34,"group_id":9970,"title":"12.1","description":"https://about.gitlab.com/releases/2019/07/22/gitlab-12-1-released","state":"closed","created_at":"2018-10-30T16:47:58.826Z","updated_at":"2020-04-27T16:30:09.107Z","due_date":"2019-07-22","start_date":"2019-06-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/34"},"assignees":[{"id":2187482,"username":"ashmckenzie","name":"Ash McKenzie","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2187482/avatar.png","web_url":"https://gitlab.com/ashmckenzie"}],"author":{"id":2187482,"username":"ashmckenzie","name":"Ash McKenzie","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2187482/avatar.png","web_url":"https://gitlab.com/ashmckenzie"},"type":"ISSUE","assignee":{"id":2187482,"username":"ashmckenzie","name":"Ash McKenzie","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2187482/avatar.png","web_url":"https://gitlab.com/ashmckenzie"},"user_notes_count":0,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/12264","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/12264","notes":"https://gitlab.com/api/v4/projects/278964/issues/12264/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/12264/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#12264","relative":"#12264","full":"gitlab-org/gitlab#12264"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":22043541,"iid":12263,"project_id":278964,"title":"Job Failed #234179843 and #234179838","description":"Two geo tests are failing in EE for 42881910bbfd9217303687210165729e0fc20d85:\n\n* Job [#234179843](https://gitlab.com/gitlab-org/gitlab-ee/-/jobs/234179843)\n\n```\nFailures:\n\n  1) GeoNodeStatus#update_cache! writes a cache\n     Failure/Error: Rails.cache.fetch('flipper:persisted_names', expires_in: 1.minute) { FlipperFeature.feature_names }\n       #\u003cDouble (anonymous)\u003e received unexpected message :fetch with (\"flipper:persisted_names\", {:expires_in=\u003e1 minute})\n     # ./vendor/ruby/2.6.0/gems/rspec-support-3.7.1/lib/rspec/support.rb:97:in `block in \u003cmodule:Support\u003e'\n     # ./vendor/ruby/2.6.0/gems/rspec-support-3.7.1/lib/rspec/support.rb:106:in `notify_failure'\n     # ./vendor/ruby/2.6.0/gems/rspec-mocks-3.7.0/lib/rspec/mocks/error_generator.rb:327:in `notify'\n     # ./vendor/ruby/2.6.0/gems/rspec-mocks-3.7.0/lib/rspec/mocks/error_generator.rb:311:in `__raise'\n     # ./vendor/ruby/2.6.0/gems/rspec-mocks-3.7.0/lib/rspec/mocks/error_generator.rb:50:in `raise_unexpected_message_error'\n     # ./vendor/ruby/2.6.0/gems/rspec-mocks-3.7.0/lib/rspec/mocks/proxy.rb:201:in `raise_unexpected_message_error'\n     # ./vendor/ruby/2.6.0/gems/rspec-mocks-3.7.0/lib/rspec/mocks/test_double.rb:102:in `method_missing'\n     # ./lib/feature.rb:39:in `persisted_names'\n     # ./lib/feature.rb:47:in `persisted?'\n     # ./ee/lib/gitlab/geo.rb:129:in `repository_verification_enabled?'\n     # ./ee/app/models/geo_node_status.rb:140:in `initialize_feature_flags'\n\nFinished in 11 minutes 39 seconds (files took 20.93 seconds to load)\n634 examples, 1 failure\n\nFailed examples:\n\nrspec ./ee/spec/models/geo_node_status_spec.rb:34 # GeoNodeStatus#update_cache! writes a cache\n! Generating reports is disabled. To enable it, please set the `FLAKY_RSPEC_GENERATE_REPORT=1` !\n```\n\n* Job [#234179838](https://gitlab.com/gitlab-org/gitlab-ee/-/jobs/234179838)\n\n```\nFailures:\n\n  1) GeoNodeStatus#update_cache! writes a cache\n     Failure/Error: Rails.cache.fetch('flipper:persisted_names', expires_in: 1.minute) { FlipperFeature.feature_names }\n       #\u003cDouble (anonymous)\u003e received unexpected message :fetch with (\"flipper:persisted_names\", {:expires_in=\u003e1 minute})\n     # ./vendor/ruby/2.6.0/gems/rspec-support-3.7.1/lib/rspec/support.rb:97:in `block in \u003cmodule:Support\u003e'\n     # ./vendor/ruby/2.6.0/gems/rspec-support-3.7.1/lib/rspec/support.rb:106:in `notify_failure'\n     # ./vendor/ruby/2.6.0/gems/rspec-mocks-3.7.0/lib/rspec/mocks/error_generator.rb:327:in `notify'\n     # ./vendor/ruby/2.6.0/gems/rspec-mocks-3.7.0/lib/rspec/mocks/error_generator.rb:311:in `__raise'\n     # ./vendor/ruby/2.6.0/gems/rspec-mocks-3.7.0/lib/rspec/mocks/error_generator.rb:50:in `raise_unexpected_message_error'\n     # ./vendor/ruby/2.6.0/gems/rspec-mocks-3.7.0/lib/rspec/mocks/proxy.rb:201:in `raise_unexpected_message_error'\n     # ./vendor/ruby/2.6.0/gems/rspec-mocks-3.7.0/lib/rspec/mocks/test_double.rb:102:in `method_missing'\n     # ./lib/feature.rb:39:in `persisted_names'\n     # ./lib/feature.rb:47:in `persisted?'\n     # ./ee/lib/gitlab/geo.rb:129:in `repository_verification_enabled?'\n     # ./ee/app/models/geo_node_status.rb:140:in `initialize_feature_flags'\n\nFinished in 10 minutes 11 seconds (files took 22.36 seconds to load)\n634 examples, 1 failure\n\nFailed examples:\n\nrspec ./ee/spec/models/geo_node_status_spec.rb:34 # GeoNodeStatus#update_cache! writes a cache\n! Generating reports is disabled. To enable it, please set the `FLAKY_RSPEC_GENERATE_REPORT=1` !\n```","state":"closed","created_at":"2019-06-19T02:32:08.559Z","updated_at":"2019-08-12T14:58:32.413Z","closed_at":"2019-06-19T05:04:00.922Z","closed_by":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"labels":["Enterprise Edition","master:broken"],"milestone":null,"assignees":[{"id":2187482,"username":"ashmckenzie","name":"Ash McKenzie","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2187482/avatar.png","web_url":"https://gitlab.com/ashmckenzie"}],"author":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"type":"ISSUE","assignee":{"id":2187482,"username":"ashmckenzie","name":"Ash McKenzie","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2187482/avatar.png","web_url":"https://gitlab.com/ashmckenzie"},"user_notes_count":2,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/12263","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/12263","notes":"https://gitlab.com/api/v4/projects/278964/issues/12263/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/12263/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#12263","relative":"#12263","full":"gitlab-org/gitlab#12263"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":22036695,"iid":12259,"project_id":278964,"title":"Allow users to search for Epics when adding sub-Epics","description":"\u003cdetails\u003e### Problem to solve\nCopy + pasting Epic links to add a related Epic into the widget is a cumbersome experience. I propose we match a user's expected workflow of searching for and selecting an Epic to add within the context of the widget itself without having to open a new page or tab.\n\n### Proposal\n\nSome basic ideas were captured [here](https://gitlab.com/gitlab-org/gitlab-ee/issues/7331#note_153161694), but a search experience is TBD.\nIdeally it will not stray too far from the experience built in https://gitlab.com/gitlab-org/gitlab-ee/issues/6878.\n\n\n\u003cimg src=\"/uploads/369d9b2c3fd001f6e3895c06d85b991f/image.png\" width=\"500\"\u003e\n\n\n### What does success look like, and how can we measure that?\n\nUsers are more quickly adding Epics to their widget without having to break their workflow and hunt for links in another page. \n\n### Links / references\n\u003c/details\u003e\n\n### Solution\n#### User is prompted to search for epic\n\n![](https://gitlab.com/gitlab-org/gitlab/uploads/dc7a825456fec579621e73c420c5832b/add_epic_1.png)\n\n#### On click of the input, the user is able to access the epic dropdown and add multiple epics. The epics tokenize in the input as they add.\n\nThis looks a bit weird since the input is wide, kind of similar to the search/filter bar though I guess?\n\n![](https://gitlab.com/gitlab-org/gitlab/uploads/4ec1f2c26bfaaa1ced9404c2f0fe0f38/add_epic.png)\n\n#### User sees the tokenized list of epics they would be adding\n\n![](https://gitlab.com/gitlab-org/gitlab/uploads/e9cdbccf5cacfeff819ba8cddb704b23/add_epic_3.png)\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2019-06-18T18:58:05.184Z","updated_at":"2022-05-19T16:07:19.719Z","closed_at":"2019-11-13T15:03:34.200Z","closed_by":{"id":4478389,"username":"kokeefe","name":"Keanon O'Keefe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4478389/avatar.png","web_url":"https://gitlab.com/kokeefe"},"labels":["Enterprise Edition","Technical Writing","UX","depth","devops::plan","direction","documentation","frontend","group::product planning","type::feature","workflow::planning breakdown"],"milestone":null,"assignees":[{"id":4554611,"username":"hollyreynolds","name":"Holly Reynolds","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4554611/avatar.png","web_url":"https://gitlab.com/hollyreynolds"}],"author":{"id":3617348,"username":"uhlexsis","name":"Alexis Ginsberg","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3617348/avatar.png","web_url":"https://gitlab.com/uhlexsis"},"type":"ISSUE","assignee":{"id":4554611,"username":"hollyreynolds","name":"Holly Reynolds","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4554611/avatar.png","web_url":"https://gitlab.com/hollyreynolds"},"user_notes_count":37,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/12259","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/12259","notes":"https://gitlab.com/api/v4/projects/278964/issues/12259/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/12259/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#12259","relative":"#12259","full":"gitlab-org/gitlab#12259"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":134,"epic":{"id":247,"iid":134,"title":"Make easier to add/remove issues/epics to/from epics","url":"/groups/gitlab-org/-/epics/134","group_id":9970,"human_readable_end_date":"Feb 29, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":22034738,"iid":12257,"project_id":278964,"title":"Move EE differences for `app/assets/javascripts/sidebar/sidebar_mediator.js`","description":"Move EE differences for `app/assets/javascripts/sidebar/sidebar_mediator.js`\n\n## Differences\n\n```diff\n--- gitlab/app/assets/javascripts/sidebar/sidebar_mediator.js\n+++ gitlab/app/assets/javascripts/sidebar/sidebar_mediator.js\n@@ -1,7 +1,7 @@\n+import Store from 'ee/sidebar/stores/sidebar_store';\n import { visitUrl } from '../lib/utils/url_utility';\n import Flash from '../flash';\n import Service from './services/sidebar_service';\n-import Store from './stores/sidebar_store';\n import { __ } from '~/locale';\n\n export default class SidebarMediator {\n\n```","state":"closed","created_at":"2019-06-18T17:15:22.662Z","updated_at":"2022-05-19T16:07:18.906Z","closed_at":"2019-06-26T14:45:15.609Z","closed_by":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"labels":["Enterprise Edition","devops::plan","frontend","single codebase"],"milestone":{"id":693520,"iid":34,"group_id":9970,"title":"12.1","description":"https://about.gitlab.com/releases/2019/07/22/gitlab-12-1-released","state":"closed","created_at":"2018-10-30T16:47:58.826Z","updated_at":"2020-04-27T16:30:09.107Z","due_date":"2019-07-22","start_date":"2019-06-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/34"},"assignees":[{"id":482476,"username":"filipa","name":"Filipa Lacerda","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/482476/avatar.png","web_url":"https://gitlab.com/filipa"}],"author":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"type":"ISSUE","assignee":{"id":482476,"username":"filipa","name":"Filipa Lacerda","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/482476/avatar.png","web_url":"https://gitlab.com/filipa"},"user_notes_count":5,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/12257","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/12257","notes":"https://gitlab.com/api/v4/projects/278964/issues/12257/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/12257/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#12257","relative":"#12257","full":"gitlab-org/gitlab#12257"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":22032724,"iid":12254,"project_id":278964,"title":"Error when viewing page 2 or later of ElasticSearch search results","description":"https://sentry.gitlab.net/gitlab/staginggitlabcom/issues/810154/\n\n```\nNoMethodError: undefined method `-' for \"2\":String\nDid you mean?  -@\n  gitlab/elastic/search_results.rb:59:in `eager_load'\n    offset: per_page * (page - 1)\n  gitlab/metrics/instrumentation.rb:161:in `block in eager_load'\n    .measure { super }\n  gitlab/metrics/method_call.rb:36:in `measure'\n    retval = yield\n  gitlab/metrics/instrumentation.rb:161:in `eager_load'\n    .measure { super }\n  gitlab/elastic/search_results.rb:28:in `objects'\n    eager_load(projects, page, eager: [:route, :namespace])\n...\n(123 additional frame(s) were not displayed)\n\nNoMethodError: undefined method `-' for \"2\":String\nDid you mean?  -@\n```","state":"closed","created_at":"2019-06-18T14:56:40.100Z","updated_at":"2020-07-02T15:45:34.682Z","closed_at":"2019-06-24T13:55:58.555Z","closed_by":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"labels":["Create [DEPRECATED]","Enterprise Edition","advanced search","backend","devops::create","group::editor","priority::2","regression","regression:12.0","severity::2","type::bug"],"milestone":{"id":693518,"iid":33,"group_id":9970,"title":"12.0","description":"https://about.gitlab.com/releases/2019/06/22/gitlab-12-0-released/","state":"closed","created_at":"2018-10-30T16:47:37.975Z","updated_at":"2020-04-22T19:51:03.475Z","due_date":"2019-06-22","start_date":"2019-05-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/33"},"assignees":[{"id":590748,"username":"mdelaossa","name":"Mario de la Ossa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/590748/avatar.png","web_url":"https://gitlab.com/mdelaossa"}],"author":{"id":402401,"username":"jobbot","name":"Bot","state":"active","avatar_url":"https://secure.gravatar.com/avatar/aaa6738f1ebf25404010884af511b0e7?s=80\u0026d=identicon","web_url":"https://gitlab.com/jobbot"},"type":"ISSUE","assignee":{"id":590748,"username":"mdelaossa","name":"Mario de la Ossa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/590748/avatar.png","web_url":"https://gitlab.com/mdelaossa"},"user_notes_count":7,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/12254","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/12254","notes":"https://gitlab.com/api/v4/projects/278964/issues/12254/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/12254/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#12254","relative":"#12254","full":"gitlab-org/gitlab#12254"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":853,"epic":{"id":4555,"iid":853,"title":"Elasticsearch on GitLab.com MVC","url":"/groups/gitlab-org/-/epics/853","group_id":9970,"human_readable_end_date":"Jul 22, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":24698337,"iid":29580,"project_id":278964,"title":"ESCALATED: Lack Of State Parameter On Github Import Project Oauth","description":"**[HackerOne report #605576](https://hackerone.com/reports/605576)** by `aryan2808` on 2019-06-10, assigned to `jmatos_bgtvf`:\n\nHi Gitlab Security Team,\n\n**Summary** :\n\nGitlab Allow Users To Import Projects From Various Company Like Github , Importing Project From Github To Gitlab Suffers From Lack Of State Parameter Which Allows Attacker To Connect His Github To Victim Gitlab Import Project Function Moreover Interesting Thing Is There Is No Option to Disconnect Github Account On This Function.\n\n**Steps To Reproduce** :\n\n1. Attacker Navigate To Create Project \u003e Import Project \u003e Github  \nURL : https://gitlab.com/import/github/new\n\n2. Attacker Authorize His Github Account Via List Your Github Function.\n\n3. As There Is No State Parameter On Request Attacker Capture The Request And Pass That Request To Victim.\n\n4. Upon Opening Link Attacker Github Connect To Import Function For Forever , There Is No Option to Disconnect Github Account On This Function.\n\n**HTTP Request** :\n\nGET /users/auth/-/import/github/callback?code=2d162be301039cd44cf4 HTTP/1.1  \nHost: gitlab.com  \nConnection: close  \nUpgrade-Insecure-Requests: 1  \nUser-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/74.0.3729.169 Safari/537.36  \nAccept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3  \nReferer: https://github.com/  \nAccept-Encoding: gzip, deflate  \nAccept-Language: en-US,en;q=0.9  \nCookie: \n\n**Mitigation** :\n\nImplement The State Parameter.\n\nThanks,  \nAryan.\n\n## Impact\n\nAttacker Could Connect His Github Account To Import Function For Forever","state":"closed","created_at":"2019-06-18T14:51:57.338Z","updated_at":"2022-02-15T20:45:46.487Z","closed_at":"2022-01-12T11:42:22.732Z","closed_by":{"id":5054702,"username":"vdesousa","name":"Vitor Meireles De Sousa","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f44d19f10d5b0c54a02e79c13812ff77?s=80\u0026d=identicon","web_url":"https://gitlab.com/vdesousa"},"labels":["Category:Importers","Engineering Allocation","FY22::Q3","Github","HackerOne","Importer:GitHub","Next Up","Weakness::CWE-352","backend","bug::vulnerability","devops::manage","estimation::completed","frontend","group::import","milestone::p3","oauth","priority::3","section::dev","security","security-backlog::review-complete","severity::4","type::bug","workflow::awaiting security release"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":1230286,"username":"xanf","name":"Illya Klymov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ce4d16557b46210fa57641531b570dd4?s=80\u0026d=identicon","web_url":"https://gitlab.com/xanf"}],"author":{"id":2741139,"username":"gitlab-securitybot","name":"GitLab SecurityBot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2741139/avatar.png","web_url":"https://gitlab.com/gitlab-securitybot"},"type":"ISSUE","assignee":{"id":1230286,"username":"xanf","name":"Illya Klymov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ce4d16557b46210fa57641531b570dd4?s=80\u0026d=identicon","web_url":"https://gitlab.com/xanf"},"user_notes_count":22,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2022-01-21","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/29580","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/29580","notes":"https://gitlab.com/api/v4/projects/278964/issues/29580/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/29580/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#29580","relative":"#29580","full":"gitlab-org/gitlab#29580"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6619,"epic":{"id":332692,"iid":6619,"title":"Manage:Import Security","url":"/groups/gitlab-org/-/epics/6619","group_id":9970,"human_readable_end_date":"Dec 16, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":22025123,"iid":12248,"project_id":278964,"title":"EE::Namespace#feature_available? return false when the feature is enabled for a specific group or project","description":"The `insights` feature was behind a feature flag for the last 2 releases and we enabled it for specific groups and projects meaning that `::Feature.enabled?(feature, \u003cgroup or project\u003e)` would return `true`. This is used in `EE::Namespace#beta_feature_available?`.\n\nThe problem is that now that we made the feature Generally Available, we've replaced our usage of `EE::Namespace#beta_feature_available?` with `EE::Namespace#feature_available?`, and this method has a different implementation:\n\n- It `return false unless ::Feature.enabled?(feature, default_enabled: true)`\n- But since we've enabled the feature for groups/projects and not globally on GitLab.com right now, this condition actually evaluates to `false`, meaning that `EE::Namespace#feature_available?` returns `false` for the groups/projects that we specifically enabled the `insights` feature flag for.\n\nThe easy fix for GitLab.com is to remove the feature flag value entirely (using the ChatOps or API) once it's deployed to production.\n\nA proper long-term fix would be to make `EE::Namespace#feature_available?` check for `::Feature.enabled?(feature, self, default_enabled: true)` in addition to `::Feature.enabled?(feature, default_enabled: true)`, i.e.\n\n```ruby\n    def feature_available?(feature)\n      # This feature might not be behind a feature flag at all, so default to true\n      return false unless ::Feature.enabled?(feature, default_enabled: true) || ::Feature.enabled?(feature, self, default_enabled: true)\n\n      available_features = strong_memoize(:feature_available) do\n        Hash.new do |h, f|\n          h[f] = load_feature_available(f)\n        end\n      end\n\n      available_features[feature]\n    end\n```","state":"closed","created_at":"2019-06-18T13:51:14.523Z","updated_at":"2021-01-04T02:07:24.268Z","closed_at":"2021-01-04T02:07:24.222Z","closed_by":{"id":1786152,"username":"gitlab-bot","name":" GitLab Bot ","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1786152/avatar.png","web_url":"https://gitlab.com/gitlab-bot"},"labels":["Enterprise Edition","[deprecated] Accepting merge requests","auto closed","feature flag","priority::4","reproduced on GitLab.com","severity::4","stale","type::bug","vintage"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":128633,"username":"rymai","name":"Rmy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"type":"ISSUE","assignee":null,"user_notes_count":10,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/12248","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/12248","notes":"https://gitlab.com/api/v4/projects/278964/issues/12248/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/12248/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#12248","relative":"#12248","full":"gitlab-org/gitlab#12248"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1462,"epic":{"id":8334,"iid":1462,"title":"Quality: Measure track","url":"/groups/gitlab-org/-/epics/1462","group_id":9970,"human_readable_end_date":"Dec 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":24698282,"iid":29574,"project_id":278964,"title":"Unauthorized Access to Container Registry of other groups / CVE-2019-12825","description":"**[HackerOne report #615168](https://hackerone.com/reports/615168)** by `atomic111` on 2019-06-14, assigned to `gitlab_cmaxim`:\n\n# Unauthorized Access to Container Registry of other groups\n\n## created two users\n\n### pentest1  \nusername = pentest1  \nmail = pentest1@groupofdestruction.de  \npw = Pentest1]\n\n\n### pentest2  \nusername = pentest2  \nmail = pentest2@groupofdestruction.de  \npw = Pentest2]\n\n## Login as pentest1\n\n- Go to https://gitlab.com/dashboard/groups?nav_source=navbar  \n- Create a new group with user pentest1 https://gitlab.com/groups/new called `grouppentest1` with private as default selection  \n- Create a new private project with name `trial1` in group `grouppentest1`  \n- Go to https://gitlab.com/grouppentest1/trial1  \n- Create a new file `.gitlab-ci.yml` https://gitlab.com/grouppentest1/trial1/new/master with the content located in this repo\n\n~~~ yml  \nbuild:docker:  \n  stage: build  \n  image: docker:18  \n  services:  \n    - docker:dind  \n  before_script:  \n    - docker login -u $CI_REGISTRY_USER -p $CI_REGISTRY_PASSWORD $CI_REGISTRY  \n  script:  \n    # fetches a image, this could also be built here  \n    - docker pull centos:7  \n    - docker pull centos:6  \n    - docker pull oraclelinux:7  \n    # instead of docker build, we are using docker tag here, but it does not really   \n    # - \u003e  \n    #   DOCKER_BUILDKIT=1  \n    #   docker build  \n    #   --tag $CI_REGISTRY_IMAGE:$CI_COMMIT_SHORT_SHA  \n    #   --tag $CI_REGISTRY_IMAGE:$CI_COMMIT_REF_NAME  \n    #   -f Dockerfile  \n    #   .  \n    - docker tag docker.io/centos:7 $CI_REGISTRY_IMAGE:$CI_COMMIT_SHORT_SHA  \n    - docker tag docker.io/centos:7 $CI_REGISTRY_IMAGE:$CI_COMMIT_REF_NAME  \n    - docker tag docker.io/centos:6 $CI_REGISTRY_IMAGE:2.12.1  \n    - docker tag docker.io/oraclelinux:7 $CI_REGISTRY_IMAGE:2.13.1\n\n    # push image to gitlab registry  \n    - docker push $CI_REGISTRY_IMAGE:$CI_COMMIT_SHORT_SHA  \n    - docker push $CI_REGISTRY_IMAGE:$CI_COMMIT_REF_NAME  \n    - docker push $CI_REGISTRY_IMAGE:2.12.1  \n    - docker push $CI_REGISTRY_IMAGE:2.13.1  \n~~~\n\n![Add gitlab.yml](Screenshots/complete_trail1_repo_withgitlab-ci_yml.png)\n\n- Wait until CI is done and go to https://gitlab.com/grouppentest1/trial1/container_registry\n\n![Pipeline success](Screenshots/success_pipeline_trial1_repo.png)\n\n- you should see the published repos\n\n![Registry with docker images](Screenshots/gitlab_docker_registry_for_trial1.png)\n\n- Go to group management  https://gitlab.com/groups/grouppentest1/-/edit and change groupname to 'grouppentest2' and path to `grouppentest2`\n\n![rename to grouppentest2](Screenshots/rename_to_grouppentest2.png)\n\n- Project registry does not show any container https://gitlab.com/grouppentest1/trial1/container_registry\n\n![registry after renaming to grouppentest2](Screenshots/registry_after_rename_to_grouppentest2.png)\n\n- Logout as pentest1\n\n## Login as pentest2\n\n- Login with user pentest2  \n- Create a new group called `grouppentest1`\n\n![created_grouppentest1_group_with_user_pentest2.png](Screenshots/created_grouppentest1_group_with_user_pentest2.png)\n\n- Create a new project called `trial1`\n\n![create_project_trial1_as_pentest2.png](Screenshots/create_project_trial1_as_pentest2.png)\n\n- See docker images from previous user\n\n![see_docker_images_from_user_pentest1.png](Screenshots/see_docker_images_from_user_pentest1.png)\n\n## Impact\n\n- get access to docker registries of other groups without having the rights\n\n## Attachments\n**Warning:** Attachments received through HackerOne, please exercise caution!\n* [complete_trail1_repo_withgitlab-ci_yml.png](https://h1.sec.gitlab.net/a/4e1ecde4-6568-4f41-a63c-68ef2e726fb5/complete_trail1_repo_withgitlab-ci_yml.png)\n* [created_grouppentest1_group_with_user_pentest2.png](https://h1.sec.gitlab.net/a/669be550-f037-4228-a587-2b854794656e/created_grouppentest1_group_with_user_pentest2.png)\n* [create_project_trial1_as_pentest2.png](https://h1.sec.gitlab.net/a/a1cac71b-f725-4c68-aa89-eae2b34454db/create_project_trial1_as_pentest2.png)\n* [gitlab_docker_registry_for_trial1.png](https://h1.sec.gitlab.net/a/d69264ab-4cba-4c6c-aec6-af8695af99f8/gitlab_docker_registry_for_trial1.png)\n* [gitlab_version.png](https://h1.sec.gitlab.net/a/1128561d-9bec-4ce5-aa36-ba47526c6e57/gitlab_version.png)\n* [registry_after_rename_to_grouppentest2.png](https://h1.sec.gitlab.net/a/96599d24-15b6-45b1-80ca-40fedde60757/registry_after_rename_to_grouppentest2.png)\n* [rename_to_grouppentest2.png](https://h1.sec.gitlab.net/a/fc5ec661-02d9-4ee0-86ff-0cc86ab7b99c/rename_to_grouppentest2.png)\n* [success_pipeline_trial1_repo.png](https://h1.sec.gitlab.net/a/c3506915-2d7d-45c4-a3f6-ecfe70d6cd7c/success_pipeline_trial1_repo.png)\n* [see_docker_images_from_user_pentest1.png](https://h1.sec.gitlab.net/a/f47be580-2d34-4ae0-a1c5-ba464b221b8a/see_docker_images_from_user_pentest1.png)\n* [Advisory_CVE-2019-12825.txt](https://h1.sec.gitlab.net/a/e12731d9-e0bb-437c-b0fb-b808ad96452f/Advisory_CVE-2019-12825.txt)","state":"closed","created_at":"2019-06-18T13:19:58.646Z","updated_at":"2021-11-03T18:01:16.298Z","closed_at":"2019-12-06T09:17:34.396Z","closed_by":{"id":4086191,"username":"cmaxim","name":"Costel Maxim","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4086191/avatar.png","web_url":"https://gitlab.com/cmaxim"},"labels":["Category:Container Registry","Deliverable","HackerOne","[deprecated] Accepting merge requests","backend","devops::package","group::package registry","priority::3","security","severity::3","type::bug","workflow::scheduling"],"milestone":{"id":891797,"iid":40,"group_id":9970,"title":"12.6","description":"https://about.gitlab.com/releases/2019/12/22/gitlab-12-6-released","state":"closed","created_at":"2019-05-31T08:38:03.539Z","updated_at":"2020-04-27T16:27:13.329Z","due_date":"2019-12-17","start_date":"2019-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/40"},"assignees":[],"author":{"id":2741139,"username":"gitlab-securitybot","name":"GitLab SecurityBot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2741139/avatar.png","web_url":"https://gitlab.com/gitlab-securitybot"},"type":"ISSUE","assignee":null,"user_notes_count":25,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2019-09-22","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/29574","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/29574","notes":"https://gitlab.com/api/v4/projects/278964/issues/29574/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/29574/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#29574","relative":"#29574","full":"gitlab-org/gitlab#29574"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":22018065,"iid":12244,"project_id":278964,"title":"ActionView::Template::ErrorProjects::Security::DashboardController#show error No route matches","description":"https://sentry.gitlab.net/gitlab/gitlabcom/issues/803530/\n\n```\nActionController::UrlGenerationError: No route matches {:action=\u003e\"index\", :controller=\u003e\"groups/security/vulnerabilities\", :group_id=\u003enil, :namespace_id=\u003e\"j-steinblock\", :project_id=\u003e\"slideshow\"}, possible unmatched constraints: [:group_id]\n  action_dispatch/journey/formatter.rb:55:in `generate'\n    raise ActionController::UrlGenerationError, message\n  action_dispatch/routing/route_set.rb:748:in `generate'\n    @set.formatter.generate(named_route, options, recall, PARAMETERIZE)\n  action_dispatch/routing/route_set.rb:779:in `generate'\n    Generator.new(route_key, options, recall, self).generate\n  action_dispatch/routing/route_set.rb:826:in `url_for'\n    path, params = generate(route_name, path_options, recall)\n  action_dispatch/routing/route_set.rb:277:in `call'\n    t._routes.url_for(hash, route_name, url_strategy)\n...\n(155 additional frame(s) were not displayed)\n\nActionView::Template::Error: No route matches {:action=\u003e\"index\", :controller=\u003e\"groups/security/vulnerabilities\", :group_id=\u003enil, :namespace_id=\u003e\"j-steinblock\", :project_id=\u003e\"slideshow\"}, possible unmatched constraints: [:group_id]\n\nActionView::Template::Error: No route matches {:action=\u003e\"index\", :controller=\u003e\"groups/security/vulnerabilities\", :group_id=\u003enil, :namespace_id=\u003e\"j-steinblock\", :project_id=\u003e\"slideshow\"}, possible unmatched constraints: [:group_id]\n```\n\nZD: https://gitlab.zendesk.com/agent/tickets/124238 (internal)","state":"closed","created_at":"2019-06-18T10:23:23.048Z","updated_at":"2019-11-18T15:57:26.623Z","closed_at":"2019-08-06T23:46:40.548Z","closed_by":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"labels":["Enterprise Edition","backend","customer","devops::secure","group::static analysis","missed-SLO","missed:12.1","priority::1","security dashboard","severity::2","type::bug"],"milestone":{"id":693521,"iid":35,"group_id":9970,"title":"12.2","description":"https://about.gitlab.com/releases/2019/08/22/gitlab-12-2-released","state":"closed","created_at":"2018-10-30T16:48:32.567Z","updated_at":"2020-04-27T16:30:20.799Z","due_date":"2019-08-22","start_date":"2019-07-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/35"},"assignees":[{"id":4059128,"username":"avielle","name":"Avielle Wolfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4059128/avatar.png","web_url":"https://gitlab.com/avielle"}],"author":{"id":402401,"username":"jobbot","name":"Bot","state":"active","avatar_url":"https://secure.gravatar.com/avatar/aaa6738f1ebf25404010884af511b0e7?s=80\u0026d=identicon","web_url":"https://gitlab.com/jobbot"},"type":"ISSUE","assignee":{"id":4059128,"username":"avielle","name":"Avielle Wolfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4059128/avatar.png","web_url":"https://gitlab.com/avielle"},"user_notes_count":3,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/12244","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/12244","notes":"https://gitlab.com/api/v4/projects/278964/issues/12244/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/12244/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#12244","relative":"#12244","full":"gitlab-org/gitlab#12244"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24698267,"iid":29568,"project_id":278964,"title":"Ability to render a processed (merged) gitlab-ci.yml file via API","description":"### Problem to solve\n\nWriting and debugging nested or complex pipelines is not a trivial task. Especially when working around limitations (or bugs) of advanced features (like include), the resulting pipeline could come handy for finding errors quicker.\n\n### Intended users\n\nDeveloper\n\n### Further details\n\n\u003c!-- Include use cases, benefits, and/or goals (contributes to our vision?) --\u003e\n\n### Proposal\n\nBuild on https://gitlab.com/gitlab-org/gitlab/-/issues/30066\n\n1. `YamlProcessor` to add to the `Result` object the merged YAML (result of `Ci::Config#expand_config`)\n1. in the CI Lint API: add a key `merged_config` to expose the merged YAML if API request specifies the param `include_merged_yaml=true`\n\nPossibly we also solve https://gitlab.com/gitlab-org/gitlab/-/issues/37915 with this change.\n\n### Limitations\n\nThere are three \"levels\" of processing that are possible:\n\n1. each `include` keyword is processed and the result merged with the main yaml\n1. each job using `.extends` is merged with the given extension\n1. the full data structure is being composed and validated recursively. If syntax/logical errors are found it returns the same data as (2). If it succeeds it will include a normalized list of jobs containing also all sensible defaults that GitLab applies. E.g. default `allow_failure: false` or `default:` specs copied in each job.\n\nThis feature will only go to level 1. Additional layers are possible in follow on issues, if needed.\n\n### Permissions and Security\n\nSecurity Risks:\n- If the merged .gitlab-ci.yml contains variables from this project or one of the included project they could leak. The pipeline should be rendered with the permissions of the user who is running the linter, and not giving them access to anything they wouldn't already have access to.\n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html\nAdd all known Documentation Requirements here, per https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements --\u003e\n\n### Testing\n\n\u003c!-- What risks does this change pose? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing? See the test engineering process for further guidelines: https://about.gitlab.com/handbook/engineering/quality/guidelines/test-engineering/ --\u003e\n\n### What does success look like, and how can we measure that?\n\n\u003c!-- Define both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. --\u003e\n\n### Links / references","state":"closed","created_at":"2019-06-18T09:44:02.514Z","updated_at":"2021-04-15T15:34:55.151Z","closed_at":"2020-10-08T20:43:52.052Z","closed_by":{"id":722076,"username":"matteeyah","name":"Matija upi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8bc04cc15e0adba406cf56fecd9d910a?s=80\u0026d=identicon","web_url":"https://gitlab.com/matteeyah"},"labels":["Category:Pipeline Authoring","DEPRECATE_pipeline authoring","Deliverable","backend","customer","devops::verify","direction","group::pipeline authoring","missed-deliverable","missed:13.3","pipeline","section::ops","type::feature","workflow::production"],"milestone":{"id":1233754,"iid":52,"group_id":9970,"title":"13.5","description":"https://about.gitlab.com/releases/2020/10/22/gitlab-13-5-released/","state":"closed","created_at":"2020-04-09T17:39:21.990Z","updated_at":"2022-04-21T07:21:12.213Z","due_date":"2020-10-17","start_date":"2020-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/52"},"assignees":[{"id":722076,"username":"matteeyah","name":"Matija upi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8bc04cc15e0adba406cf56fecd9d910a?s=80\u0026d=identicon","web_url":"https://gitlab.com/matteeyah"}],"author":{"id":2802112,"username":"bene64","name":"Bene","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2802112/avatar.png","web_url":"https://gitlab.com/bene64"},"type":"ISSUE","assignee":{"id":722076,"username":"matteeyah","name":"Matija upi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8bc04cc15e0adba406cf56fecd9d910a?s=80\u0026d=identicon","web_url":"https://gitlab.com/matteeyah"},"user_notes_count":54,"merge_requests_count":0,"upvotes":20,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/29568","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/29568","notes":"https://gitlab.com/api/v4/projects/278964/issues/29568/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/29568/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#29568","relative":"#29568","full":"gitlab-org/gitlab#29568"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"at_risk"},{"id":24698237,"iid":29553,"project_id":278964,"title":"Pipeline status of related merge request of issue is visible for non members despite settings","description":"**[HackerOne report #587945](https://hackerone.com/reports/587945)** by `ashish_r_padelkar` on 2019-05-22, assigned to `jritchey`:\n\n### Summary\n\nHello,\n\nWith introduction of `https://about.gitlab.com/2019/05/22/gitlab-11-11-released/#more-details-for-related-merge-requests` , It is possible to see the pipeline status of merge requests associated with issues when we have below settings for the public projects\n\n![Screenshot_2019-05-23_at_00.17.09.png](https://h1.sec.gitlab.net/a/ac103f32-4b9e-4ae4-9436-6ab625adfece/Screenshot_2019-05-23_at_00.17.09.png)\n\n### Steps to reproduce\n\n1. As an owner of public projects, set the settings shown in above screen shot. I.e set pipelines as `Only Project Members`\n\n2. Now any authenticated/ non member can navigate to an issue where there are related merge requests exists.\n\n3. You should see the pipeline status of such merge requests despite the `Only Project Members` settings!\n\n![Screenshot_2019-05-23_at_00.20.49.png](https://h1.sec.gitlab.net/a/0f97acaf-6448-4992-9487-533e8835e158/Screenshot_2019-05-23_at_00.20.49.png)\n\n\n### What is the current *bug* behavior?\n\nPipeline status of related merge requests in issues are visible!\n\n### What is the expected *correct* behavior?\n\nPipeline status should not be visible if the settings are `Only Project Members`  in public projects\n\n\n### Output of checks\n\nThis bug happens on GitLab.com and might be on omnibus installations too!\n\nRegards,  \nAshish\n\n## Impact\n\nPipeline status of related merge requests are visible for non members\n\n## Attachments\n**Warning:** Attachments received through HackerOne, please exercise caution!\n* [Screenshot_2019-05-23_at_00.17.09.png](https://h1.sec.gitlab.net/a/ac103f32-4b9e-4ae4-9436-6ab625adfece/Screenshot_2019-05-23_at_00.17.09.png)\n* [Screenshot_2019-05-23_at_00.20.49.png](https://h1.sec.gitlab.net/a/0f97acaf-6448-4992-9487-533e8835e158/Screenshot_2019-05-23_at_00.20.49.png)","state":"closed","created_at":"2019-06-17T17:37:06.265Z","updated_at":"2022-05-19T16:07:27.951Z","closed_at":"2020-07-06T18:44:12.040Z","closed_by":{"id":4086191,"username":"cmaxim","name":"Costel Maxim","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4086191/avatar.png","web_url":"https://gitlab.com/cmaxim"},"labels":["HackerOne","[deprecated] Accepting merge requests","backend","devops::plan","group::project management","priority::4","security","severity::4","workflow::verification"],"milestone":{"id":891796,"iid":39,"group_id":9970,"title":"12.5","description":"https://about.gitlab.com/releases/2019/11/22/gitlab-12-5-released","state":"closed","created_at":"2019-05-31T08:38:03.087Z","updated_at":"2020-04-27T16:27:03.474Z","due_date":"2019-11-17","start_date":"2019-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/39"},"assignees":[],"author":{"id":2741139,"username":"gitlab-securitybot","name":"GitLab SecurityBot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2741139/avatar.png","web_url":"https://gitlab.com/gitlab-securitybot"},"type":"ISSUE","assignee":null,"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/29553","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/29553","notes":"https://gitlab.com/api/v4/projects/278964/issues/29553/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/29553/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#29553","relative":"#29553","full":"gitlab-org/gitlab#29553"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":22789563,"iid":12843,"project_id":278964,"title":"User Settings Billing Page Improvement - Avatar and Username","description":"### Proposal\n\n* The top illustration to include the users Avatar at the largest size. This is to help closer link the current active Subscription with the users custom namespace.\n* Include the username in the reference copy. \n\n**[Design Specs](https://gitlab-org.gitlab.io/gitlab-design/hosted/tim/cg%23545-user-settings-billing-page-improvement-avatar-spec-previews/)**\n\n![4._User_Settings_-_Proposal_MVC_2x](/uploads/3115a2d881a670689e209d090a6af059/4._User_Settings_-_Proposal_MVC_2x.png)","state":"closed","created_at":"2019-06-17T15:17:54.678Z","updated_at":"2020-10-06T13:59:53.738Z","closed_at":"2019-08-06T10:03:40.336Z","closed_by":{"id":411701,"username":"kushalpandya","name":"Kushal Pandya","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/411701/avatar.png","web_url":"https://gitlab.com/kushalpandya"},"labels":["Deliverable","Enterprise Edition","[deprecated] ","devops::fulfillment","frontend","gitlab.com","group::purchase","priority::4","section::fulfillment","severity::4","workflow::in review"],"milestone":{"id":693521,"iid":35,"group_id":9970,"title":"12.2","description":"https://about.gitlab.com/releases/2019/08/22/gitlab-12-2-released","state":"closed","created_at":"2018-10-30T16:48:32.567Z","updated_at":"2020-04-27T16:30:20.799Z","due_date":"2019-08-22","start_date":"2019-07-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/35"},"assignees":[{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"}],"author":{"id":3354144,"username":"timnoah","name":"Tim Noah","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3354144/avatar.png","web_url":"https://gitlab.com/timnoah"},"type":"ISSUE","assignee":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"user_notes_count":2,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/12843","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/12843","notes":"https://gitlab.com/api/v4/projects/278964/issues/12843/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/12843/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#12843","relative":"#12843","full":"gitlab-org/gitlab#12843"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":22720458,"iid":12797,"project_id":278964,"title":"MVC: Group Billing Page Improvement - Group Avatar","description":"### Problem\n\nThe [current stock icon](https://gitlab.com/gitlab-org/customers-gitlab-com/uploads/08e87826d775114c97f6998d2779a45b/1._Group_Billing_-_Current_2x.png) doesn't really communicate anything helpful to users.\n\n### Proposal\n\nInclude the Group Level Avatar in its largest format to closely align the group with the Active Subscription. \n\n**[Design Specs](https://gitlab-org.gitlab.io/gitlab-design/hosted/tim/cg%23544-group-billing-page-improvement-group-avatar-spec-previews/)**\n\n![2._Group_Billing_-_Proposal_MVC_2x](/uploads/3ba80f597fa534877aa6e5ece1136e63/2._Group_Billing_-_Proposal_MVC_2x.png)\n\n### Results\n\nA more personalised and consistent experience for our users.","state":"closed","created_at":"2019-06-17T14:52:39.674Z","updated_at":"2020-10-06T13:59:54.263Z","closed_at":"2019-08-06T10:03:40.806Z","closed_by":{"id":411701,"username":"kushalpandya","name":"Kushal Pandya","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/411701/avatar.png","web_url":"https://gitlab.com/kushalpandya"},"labels":["Deliverable","Enterprise Edition","[deprecated] ","backend","devops::fulfillment","estimation::completed","frontend","gitlab.com","group::purchase","priority::3","section::fulfillment","severity::3","workflow::in review"],"milestone":{"id":693521,"iid":35,"group_id":9970,"title":"12.2","description":"https://about.gitlab.com/releases/2019/08/22/gitlab-12-2-released","state":"closed","created_at":"2018-10-30T16:48:32.567Z","updated_at":"2020-04-27T16:30:20.799Z","due_date":"2019-08-22","start_date":"2019-07-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/35"},"assignees":[{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"}],"author":{"id":3354144,"username":"timnoah","name":"Tim Noah","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3354144/avatar.png","web_url":"https://gitlab.com/timnoah"},"type":"ISSUE","assignee":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"user_notes_count":16,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/12797","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/12797","notes":"https://gitlab.com/api/v4/projects/278964/issues/12797/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/12797/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#12797","relative":"#12797","full":"gitlab-org/gitlab#12797"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":21976993,"iid":12222,"project_id":278964,"title":"Gitlab elasticsearch client configuration is not respected in rails console","description":"Discovered while working on https://gitlab.com/gitlab-org/gitlab-ee/issues/11419\n\nIn [`config/initializers/elastic_client_setup.rb`](https://gitlab.com/gitlab-org/gitlab-ee/blob/master/config/initializers/elastic_client_setup.rb) we try to ensure that:\n\n1. Every process importing the gitlab-ee environment returns a correctly-configured elasticsearch client out of `Elasticsearch::Model.client`\n1. Every time the elasticsearch settings are changed in the database (`application_settings.elastic_*`), all gitlab-ee-environment-importing processes refresh their client instance with the new settings.\n\nHowever, in at least the Rails console (running `gitlab-rails console`), these settings are not respected, which can lead to surprising outcomes when debugging things.\n\nI started work on an MR to improve this in https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/13807 , but forgot about requirement 2, so I'm going to close it unresolved.","state":"closed","created_at":"2019-06-17T14:01:25.145Z","updated_at":"2022-05-31T11:55:43.831Z","closed_at":"2020-10-12T09:14:55.034Z","closed_by":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"labels":["Category:Global Search","Create [DEPRECATED]","Enterprise Edition","[deprecated] Accepting merge requests","advanced search","backend","devops::data_stores","group::global search","priority::3","section::enablement","severity::3","stale","type::bug","vintage"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"type":"ISSUE","assignee":null,"user_notes_count":17,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/12222","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/12222","notes":"https://gitlab.com/api/v4/projects/278964/issues/12222/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/12222/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#12222","relative":"#12222","full":"gitlab-org/gitlab#12222"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":21972102,"iid":12219,"project_id":278964,"title":"Guests can see number of commits in Cycle Analytics","description":"**[HackerOne report #603797](https://hackerone.com/reports/603797)** by `ashish_r_padelkar` on 2019-06-08, assigned to `jmatos_bgtvf`:\n\n### Summary\n\nHello,\n\nVery low severity issue where guests can see number of commits in a project which they shouldn't.\n\n### Steps to reproduce  \nLogin as a guest in private project and navigate to `Cycle Analytics` and look at the numbers in `commits` column of `Recent Project Activity`\n\n![Screenshot_2019-06-08_at_11.35.51.png](https://h1.sec.gitlab.net/a/62035609-e0cf-4507-a327-74bc0990eb76/Screenshot_2019-06-08_at_11.35.51.png)\n\n### Impact\n\nGuests are not allowed to see repository menu in private projects hence they shouldn't see the information related to commits. However, they can see the number of commits that took place in project for last 90 days using cycle analytics!\n\n### What is the current *bug* behavior?\n\nGuest in private project are allowed to see number of commits that took place in last 90 days \n\nThis also works for public project where repository is set as `Only Project Members` yet anybody can see the number of commits\n\n### What is the expected *correct* behavior?\n\nThis information related to commits shouldn't be visible to anyone\n\n\n\n### Output of checks  \nThis bug happens on GitLab.com and should also happen on omnibus installations too!\n\nRegards,  \nAshish\n\n## Impact\n\nAs mentioned above, guest in private project can see these numbers and also any logged in user in public project even when repository settings are set as `Only Project Members`\n\n## Attachments\n**Warning:** Attachments received through HackerOne, please exercise caution!\n* [Screenshot_2019-06-08_at_11.35.51.png](https://h1.sec.gitlab.net/a/62035609-e0cf-4507-a327-74bc0990eb76/Screenshot_2019-06-08_at_11.35.51.png)","state":"closed","created_at":"2019-06-17T12:58:58.208Z","updated_at":"2020-05-27T05:45:22.912Z","closed_at":"2019-11-27T22:31:03.255Z","closed_by":{"id":4226366,"username":"ankelly","name":"Andrew Kelly","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4226366/avatar.png","web_url":"https://gitlab.com/ankelly"},"labels":["Category:Value Stream Management","Enterprise Edition","HackerOne","backend","devops::manage","group::optimize","missed:12.4","priority::3","security","severity::3","workflow::in review"],"milestone":{"id":891796,"iid":39,"group_id":9970,"title":"12.5","description":"https://about.gitlab.com/releases/2019/11/22/gitlab-12-5-released","state":"closed","created_at":"2019-05-31T08:38:03.087Z","updated_at":"2020-04-27T16:27:03.474Z","due_date":"2019-11-17","start_date":"2019-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/39"},"assignees":[{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"},{"id":4158075,"username":"aakriti.gupta","name":"Aakriti Gupta","state":"active","avatar_url":"https://secure.gravatar.com/avatar/992a080bc7d9f8c22ff7186db1c76dbd?s=80\u0026d=identicon","web_url":"https://gitlab.com/aakriti.gupta"}],"author":{"id":2741139,"username":"gitlab-securitybot","name":"GitLab SecurityBot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2741139/avatar.png","web_url":"https://gitlab.com/gitlab-securitybot"},"type":"ISSUE","assignee":{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"},"user_notes_count":22,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2019-08-23","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/12219","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/12219","notes":"https://gitlab.com/api/v4/projects/278964/issues/12219/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/12219/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#12219","relative":"#12219","full":"gitlab-org/gitlab#12219"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24698199,"iid":29536,"project_id":278964,"title":"Apply BFG Object map might fail due to race condition","description":"The `Projects::CleanupService` calls the `GitGarbageCollectWorker` without a lease key. This results in a race condition with any other call to `GitGarbageCollectWorker` without a lease key because the exclusive key being used on Redis is: `\"gitlab:exclusive_lease:#{key}\"` and the key is `nil`.\n\nGitGarbageCollectWorker should always require a lease_key, or maybe default to `\"#{task}:#{project_id}`?\n\n/cc @nick.thomas","state":"closed","created_at":"2019-06-17T09:19:23.833Z","updated_at":"2020-08-06T15:30:42.849Z","closed_at":"2020-08-06T15:30:42.810Z","closed_by":{"id":5918904,"username":"marc_shaw","name":"Marc Shaw","state":"active","avatar_url":"https://secure.gravatar.com/avatar/78c946cb19e40815a2b5d97cefecec6a?s=80\u0026d=identicon","web_url":"https://gitlab.com/marc_shaw"},"labels":["devops::create","group::source code","priority::3","severity::3","type::bug"],"milestone":{"id":1233752,"iid":50,"group_id":9970,"title":"13.3","description":"https://about.gitlab.com/releases/2020/08/22/gitlab-13-3-released/","state":"closed","created_at":"2020-04-09T17:39:21.090Z","updated_at":"2022-04-13T14:50:18.976Z","due_date":"2020-08-17","start_date":"2020-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/50"},"assignees":[{"id":5918904,"username":"marc_shaw","name":"Marc Shaw","state":"active","avatar_url":"https://secure.gravatar.com/avatar/78c946cb19e40815a2b5d97cefecec6a?s=80\u0026d=identicon","web_url":"https://gitlab.com/marc_shaw"}],"author":{"id":101578,"username":"zj-gitlab","name":"Zeger-Jan van de Weg","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/101578/avatar.png","web_url":"https://gitlab.com/zj-gitlab"},"type":"ISSUE","assignee":{"id":5918904,"username":"marc_shaw","name":"Marc Shaw","state":"active","avatar_url":"https://secure.gravatar.com/avatar/78c946cb19e40815a2b5d97cefecec6a?s=80\u0026d=identicon","web_url":"https://gitlab.com/marc_shaw"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/29536","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/29536","notes":"https://gitlab.com/api/v4/projects/278964/issues/29536/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/29536/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#29536","relative":"#29536","full":"gitlab-org/gitlab#29536"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":407,"epic":{"id":1185,"iid":407,"title":"Remove sensitive and large data from Git repos","url":"/groups/gitlab-org/-/epics/407","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":22008756,"iid":12241,"project_id":278964,"title":"Current active users \u003e historic max","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nWe are seeing below from SFDC for a customer where multiple entries show historic max lower than current active users.\n\n![image](/uploads/25f1a6c13abefba9034efa4f6cef73b5/image.png)\n\nOriginal link at https://gitlab.my.salesforce.com/0016100000AjFEy#0016100000AjFEy_00N6100000HlLH0_target\n\n### Proposal\n\n### Result\n\n### Next steps (if any)\n\n\n@tipyn @jameslopez","state":"closed","created_at":"2019-06-15T01:50:41.176Z","updated_at":"2019-10-10T17:25:01.167Z","closed_at":"2019-08-15T23:18:15.964Z","closed_by":{"id":64248,"username":"stanhu","name":"Stan Hu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/64248/stanhu.jpg","web_url":"https://gitlab.com/stanhu"},"labels":["Deliverable","Enterprise Edition","UX","[deprecated] ","backend","customer","devops::fulfillment","devops::growth","priority::2","self-managed","severity::2","type::bug","workflow::production"],"milestone":{"id":693521,"iid":35,"group_id":9970,"title":"12.2","description":"https://about.gitlab.com/releases/2019/08/22/gitlab-12-2-released","state":"closed","created_at":"2018-10-30T16:48:32.567Z","updated_at":"2020-04-27T16:30:20.799Z","due_date":"2019-08-22","start_date":"2019-07-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/35"},"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"}],"author":{"id":915692,"username":"xiaogang_gitlab","name":"Xiaogang Wen","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/915692/avatar.png","web_url":"https://gitlab.com/xiaogang_gitlab"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":12,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/12241","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/12241","notes":"https://gitlab.com/api/v4/projects/278964/issues/12241/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/12241/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#12241","relative":"#12241","full":"gitlab-org/gitlab#12241"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":21932597,"iid":12189,"project_id":278964,"title":"SSO enforcement should enforce on subgroups","description":"### Overview\n\nWhen enforcing SAML SSO, this enforcement should apply to subgroups and projects as well as the top-level group. Currently, it appears that only navigating to the top-level group redirects to the SSO URL.\n\n### Reproduction\n\n* Enable SSO enforcement on a group.\n* Navigate to the group. You should be directed to the SSO URL (good!).\n* Navigate to a known subgroup under the top level group. (e.g. https://gitlab.com/manage-sso-test-group/subgroup-1)\n   * If you've got an active session, it should present the subgroup's overview.\n   * If you don't, it should present the `sign_in` page.\n\n### Desired behavior\n\nWhen enforcing SSO, subgroups and projects should check for SSO and redirect the user to the SSO URL if needed.","state":"closed","created_at":"2019-06-15T00:42:10.269Z","updated_at":"2022-05-19T09:36:56.346Z","closed_at":"2019-07-04T00:46:24.185Z","closed_by":{"id":2535118,"username":"tkuah","name":"Thong Kuah","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f7b51bdd49a4914d29504d7ff4c3f7b9?s=80\u0026d=identicon","web_url":"https://gitlab.com/tkuah"},"labels":["Deliverable","Enterprise Edition","Manage [DEPRECATED]","authentication","backend","devops::manage","gitlab.com","group::authentication and authorization","priority::2","saml","type::bug"],"milestone":{"id":693520,"iid":34,"group_id":9970,"title":"12.1","description":"https://about.gitlab.com/releases/2019/07/22/gitlab-12-1-released","state":"closed","created_at":"2018-10-30T16:47:58.826Z","updated_at":"2020-04-27T16:30:09.107Z","due_date":"2019-07-22","start_date":"2019-06-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/34"},"assignees":[{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"}],"author":{"id":1086520,"username":"jeremy-gl","name":"Jeremy Watson (ex-GitLab)","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1086520/avatar.png","web_url":"https://gitlab.com/jeremy-gl"},"type":"ISSUE","assignee":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"user_notes_count":3,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/12189","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/12189","notes":"https://gitlab.com/api/v4/projects/278964/issues/12189/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/12189/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#12189","relative":"#12189","full":"gitlab-org/gitlab#12189"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":21931800,"iid":12187,"project_id":278964,"title":"Users cannot apply a subscription to a group which is currently on a trial","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nCustomers have purchased a subscription are unable to apply the subscription to their group on GitLab.com if that group is currently on a trial. The trial will need to be expired manually by dotcom support first.\n\nThis is a frustrating and unnecessary step for users who decide to purchase early before completing their trial and it causes unnecessary work for the support engineering team.\n\n### Proposal\n\nWhen a subscription is applied to a group which has a trial applied to it, immediately and automatically expire the trial and apply the paid subscription. \n\n**Considerations** - do we want to expire the trial on the original trial expiry date and have the subscription apply automatically when it ends so that they get the full value from the trial period?\n\n### Result\n\nA significant reduction in support requests and a better experience for customers who decide to purchase GitLab before their trial is over.\n\n### Next steps (if any)\n\n* [ ] @tipyn: Understand ROI - track ticket volume / how many folks buy before their trial is over cc @eli_kastelein @lyle \n* [x] @jameslopez: Apply a weight estimate\n* [x] @dennis: Confirm if ~frontend work is needed\n* [ ] @timnoah: Review any possible UX impact and provide design suggestions where necessary","state":"closed","created_at":"2019-06-14T22:27:33.464Z","updated_at":"2020-04-23T13:47:29.804Z","closed_at":"2019-08-22T22:50:47.064Z","closed_by":{"id":4014344,"username":"aishbuilds","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4014344/avatar.png","web_url":"https://gitlab.com/aishbuilds"},"labels":["Deliverable","Enterprise Edition","[deprecated] ","backend","devops::fulfillment","devops::growth","gitlab.com","missed-SLO","priority::2","severity::1","trials","type::bug","workflow::ready for development"],"milestone":{"id":693521,"iid":35,"group_id":9970,"title":"12.2","description":"https://about.gitlab.com/releases/2019/08/22/gitlab-12-2-released","state":"closed","created_at":"2018-10-30T16:48:32.567Z","updated_at":"2020-04-27T16:30:20.799Z","due_date":"2019-08-22","start_date":"2019-07-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/35"},"assignees":[{"id":3354144,"username":"timnoah","name":"Tim Noah","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3354144/avatar.png","web_url":"https://gitlab.com/timnoah"},{"id":4014344,"username":"aishbuilds","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4014344/avatar.png","web_url":"https://gitlab.com/aishbuilds"}],"author":{"id":1903246,"username":"tipyn","name":"Luca Kisielius","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1903246/avatar.png","web_url":"https://gitlab.com/tipyn"},"type":"ISSUE","assignee":{"id":3354144,"username":"timnoah","name":"Tim Noah","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3354144/avatar.png","web_url":"https://gitlab.com/timnoah"},"user_notes_count":26,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/12187","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":2},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/12187","notes":"https://gitlab.com/api/v4/projects/278964/issues/12187/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/12187/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#12187","relative":"#12187","full":"gitlab-org/gitlab#12187"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1464,"epic":{"id":8336,"iid":1464,"title":" Trial Bug Fixes","url":"/groups/gitlab-org/-/epics/1464","group_id":9970,"human_readable_end_date":"Sep 17, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":21929792,"iid":12181,"project_id":278964,"title":"Group Cycle Analytics Over Time - (1) Get Cycle Analytics to work on Group Level","description":"Part of #12078 - please see issue description for problem statement. Breaking down at the request of engineering. \n\nImplementing analytics at an instance level will allow us to move forward with our vision for VSM and have one place for dashboards, which can be used by developers, managers and executives. Many customers have expressed interest in instance level analytics with customizable dashboards allowing users to drill-down in order to uncover actionable insights. (https://gitlab.com/gitlab-org/gitlab-ce/issues/48807)\n\n* [ ]   Replicate cycle analytics logic on a group level on a separate page as part of [Analytics] (https://gitlab.com/gitlab-org/gitlab-ee/issues/12077) new top Nav button.","state":"closed","created_at":"2019-06-14T20:40:01.363Z","updated_at":"2020-10-30T17:05:16.177Z","closed_at":"2019-09-26T12:54:51.263Z","closed_by":{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"},"labels":["Category:Value Stream Management","Deliverable","Enterprise Edition","GitLab Premium","Manage [DEPRECATED]","UX","backend","breadth","customer","devops::manage","direction","estimation::needed","group::optimize","missed-deliverable","missed:12.1","missed:12.2","missed:12.3","priority::1","product discovery [DEPRECATED]","type::feature","workflow::in review"],"milestone":{"id":731039,"iid":38,"group_id":9970,"title":"12.4","description":"https://about.gitlab.com/releases/2019/10/22/gitlab-12-4-released","state":"closed","created_at":"2018-12-07T12:41:53.212Z","updated_at":"2020-04-27T16:30:43.889Z","due_date":"2019-10-17","start_date":"2019-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/38"},"assignees":[{"id":563185,"username":"cperessini","name":"Chris Peressini","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/563185/avatar.png","web_url":"https://gitlab.com/cperessini"},{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"}],"author":{"id":3511154,"username":"valexieva","name":"Virjinia Alexieva","state":"blocked","avatar_url":"https://secure.gravatar.com/avatar/bc036fa2e7b6fa926a175324a948169f?s=80\u0026d=identicon","web_url":"https://gitlab.com/valexieva"},"type":"ISSUE","assignee":{"id":563185,"username":"cperessini","name":"Chris Peressini","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/563185/avatar.png","web_url":"https://gitlab.com/cperessini"},"user_notes_count":20,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/12181","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/12181","notes":"https://gitlab.com/api/v4/projects/278964/issues/12181/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/12181/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#12181","relative":"#12181","full":"gitlab-org/gitlab#12181"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24698147,"iid":29508,"project_id":278964,"title":"The behaviour of the merge request pipelines is unclear","description":"## Description\n\nThe documentation about \"Pipelines for merge requests\" seems to miss a few details which cause me some confusion.\n\n## Steps to reproduce\n\nRunning a job for a merge request is quite clear: add `merge_requests` to the \"only\" array.\n\nThe problem is when `gitlab-ci.yml` has many jobs which must run to validate any push, including a merge request.\n\nSuppose that we have the following stages:\n\n```yml\nstages:\n    - pre-flight\n    - quality\n    - test\n    - build\n    - documentation\n    - deploy\n```\n\n### pre-flight\n\nContains only one job which builds a dependencies cache using a \"push\" policy.\n\n### quality\n\nContains several jobs:\n\n- One runs some static code analysis on the changed code (\"merge_request\" only, since that's the only way to get the source and target branch which are required to build a proper diff).\n- A few other jobs run full static code analysis: only \"master\" and \"develop\" (not sure if I must specify \"except: merge_requests\"\n\n### Test\n\nAll sort of automated tests.\n\n\"merge_requests\" is not specified in \"except/only\".\n\n### Build, Documentation, Deploy\n\nI think their purpose is pretty clear.\n\n\"merge_requests\" is not specified in \"except/only\".\n\n## Actual result\n\nWhen I create a merge request or push changes in a branch which has a merge request, I get two pipelines, as described in the docs.\n\nThe docs also say that the detached pipeline has the precedence, but it seems that if this pipeline pass and the other one fails, the merge request will show no issues and will allow merging despite the \"Pipelines must succeed\" setting being checked. \n\n## Expected result\n\nThe merge request must show the failed pipeline below the description and prevent merging if any pipeline (attached or not) fails.\n\n## Further details\n\n![image](/uploads/43c3774ada69832e4a13bc6528f8402b/image.png)\n\n\u003c!-- Do not edit below this line --\u003e","state":"closed","created_at":"2019-06-14T15:36:24.126Z","updated_at":"2021-03-05T19:27:55.638Z","closed_at":"2021-03-05T19:27:55.593Z","closed_by":{"id":5753253,"username":"cnorris","name":"Craig Norris","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5753253/avatar.png","web_url":"https://gitlab.com/cnorris"},"labels":["Category:Continuous Integration","Technical Writing","[deprecated] Accepting merge requests","depth","devops::verify","documentation","group::pipeline execution","section::ops","workflow::ready for development"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":436702,"username":"andrea.s","name":"Andrea Sciamanna","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ba3bbf364c5d083cfaa7b263e4f9899b?s=80\u0026d=identicon","web_url":"https://gitlab.com/andrea.s"},"type":"ISSUE","assignee":null,"user_notes_count":50,"merge_requests_count":0,"upvotes":9,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/29508","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/29508","notes":"https://gitlab.com/api/v4/projects/278964/issues/29508/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/29508/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#29508","relative":"#29508","full":"gitlab-org/gitlab#29508"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":957,"epic":{"id":5304,"iid":957,"title":"UX issues with only: merge_requests","url":"/groups/gitlab-org/-/epics/957","group_id":9970},"iteration":null,"health_status":null},{"id":21906259,"iid":12162,"project_id":278964,"title":"Dependency List contains duplicates (npm project)","description":"### Summary\n\nA npm project may have duplicates in its dependency list: a single `package-lock.json` file may have the same package version multiple times in its dependencies. This issue may affect other types of dependency files - to be investigated.\n\nThe problem comes from the [Gemnasium analyzer](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium) and is visible in the generated Dependency Scanning report it generates. It may impact gemnasium-python and gemnasium-maven as well.\n\n### Steps to reproduce\n\nCreate a npm project with a `package-lock.json` file, and where the same package version appears multiple times in the dependency graph.\n\n### Example Project\n\nhttps://gitlab.com/gitlab-org/security-products/tests/js-npm/blob/master/qa/expect/gl-dependency-scanning-report.json#L11322-11333\n\n### What is the current *bug* behavior?\n\nThis JSON object appears twice in the `dependencies` of `package-lock.json`:\n\n```json\n        {\n          \"package\": {\n            \"name\": \"yallist\"\n          },\n          \"version\": \"2.1.2\"\n        }\n```\n\n### What is the expected *correct* behavior?\n\n`yallist@v2.1.2` should appear only once in the list.\n\n### Possible fixes\n\nIn this particular case the root cause is the way the dependencies list is generated in the `npm` parser, to be fixed in [parser/npm/npm.go](https://gitlab.com/gitlab-org/security-products/gemnasium/client/blob/1.0.1/parser/npm/npm.go#L57).\n\nThat being said, the problem may be generic and affects multiple parsers, in which case it's best to remove the dups when converting the dependencies returned by the parser, in [convert/convert.go](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/blob/v2.2.1/convert/convert.go#L59).\n\n/cc @gonzoyumo","state":"closed","created_at":"2019-06-14T08:27:27.678Z","updated_at":"2020-04-17T15:34:21.171Z","closed_at":"2019-08-23T09:59:12.840Z","closed_by":{"id":3696420,"username":"caneldem","name":"Can Eldem","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3696420/avatar.png","web_url":"https://gitlab.com/caneldem"},"labels":["Category:Dependency Scanning","Deliverable","Enterprise Edition","backend","devops::secure","group::composition analysis","priority::3","severity::3","type::bug","workflow::in review"],"milestone":{"id":731038,"iid":37,"group_id":9970,"title":"12.3","description":"https://about.gitlab.com/releases/2019/09/22/gitlab-12-3-released/","state":"closed","created_at":"2018-12-07T12:40:55.400Z","updated_at":"2020-04-23T21:06:04.173Z","due_date":"2019-09-17","start_date":"2019-08-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/37"},"assignees":[{"id":3696420,"username":"caneldem","name":"Can Eldem","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3696420/avatar.png","web_url":"https://gitlab.com/caneldem"}],"author":{"id":1958785,"username":"fcatteau","name":"Fabien Catteau","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1958785/avatar.png","web_url":"https://gitlab.com/fcatteau"},"type":"ISSUE","assignee":{"id":3696420,"username":"caneldem","name":"Can Eldem","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3696420/avatar.png","web_url":"https://gitlab.com/caneldem"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/12162","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/12162","notes":"https://gitlab.com/api/v4/projects/278964/issues/12162/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/12162/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#12162","relative":"#12162","full":"gitlab-org/gitlab#12162"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":21903818,"iid":12161,"project_id":278964,"title":"Follow-up from \"Geo - Remove legacy queries from Geo::ExpireUploadsFinder\"","description":"The following discussion from !14073 should be addressed:\n\n- [ ] @ashmckenzie started a [discussion](https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/14073#note_181301370): \n\n    \u003e One for possibly another Issue but I feel `UPLOAD_TYPE = 'file'` should be defined in `Geo::Fdw::Upload` because it's already used _and_ defined in `Geo::ExpireUploadsFinder`.","state":"closed","created_at":"2019-06-14T07:21:24.331Z","updated_at":"2019-12-16T11:56:34.822Z","closed_at":"2019-06-20T12:13:34.519Z","closed_by":{"id":2187482,"username":"ashmckenzie","name":"Ash McKenzie","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2187482/avatar.png","web_url":"https://gitlab.com/ashmckenzie"},"labels":["Enterprise Edition","bug::performance","devops::systems","group::geo","maintenance::refactor","workflow::in review"],"milestone":{"id":693520,"iid":34,"group_id":9970,"title":"12.1","description":"https://about.gitlab.com/releases/2019/07/22/gitlab-12-1-released","state":"closed","created_at":"2018-10-30T16:47:58.826Z","updated_at":"2020-04-27T16:30:09.107Z","due_date":"2019-07-22","start_date":"2019-06-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/34"},"assignees":[{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"}],"author":{"id":2187482,"username":"ashmckenzie","name":"Ash McKenzie","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2187482/avatar.png","web_url":"https://gitlab.com/ashmckenzie"},"type":"ISSUE","assignee":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/12161","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/12161","notes":"https://gitlab.com/api/v4/projects/278964/issues/12161/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/12161/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#12161","relative":"#12161","full":"gitlab-org/gitlab#12161"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24698096,"iid":29494,"project_id":278964,"title":"NoMethodError: undefined method `commits_count' for nil:NilClass","description":"https://sentry.gitlab.net/gitlab/gitlabcom/issues/779729/\n\n```\nNoMethodError: undefined method `commits_count' for nil:NilClass\n  merge_request.rb:355:in `commits_count'\n    merge_request_diff.commits_count\n  gitlab/metrics/instrumentation.rb:161:in `block in commits_count'\n    .measure { super }\n  gitlab/metrics/method_call.rb:36:in `measure'\n    retval = yield\n  gitlab/metrics/instrumentation.rb:161:in `commits_count'\n    .measure { super }\n  projects/merge_requests_controller.rb:47:in `block (2 levels) in show'\n    @commits_count = @merge_request.commits_count\n...\n(122 additional frame(s) were not displayed)\n\nNoMethodError: undefined method `commits_count' for nil:NilClass\n```","state":"closed","created_at":"2019-06-14T04:54:41.630Z","updated_at":"2021-04-21T16:21:15.193Z","closed_at":"2020-03-06T03:55:22.472Z","closed_by":{"id":4901936,"username":"dskim_gitlab","name":"Sincheol (David) Kim","state":"active","avatar_url":"https://secure.gravatar.com/avatar/84a984a56c54d1d31338678421cecc32?s=80\u0026d=identicon","web_url":"https://gitlab.com/dskim_gitlab"},"labels":["Category:Code Review Workflow","Deliverable","backend","customer","devops::create","group::code review","merge requests","missed-SLO","missed-deliverable","missed:12.8","priority::2","reproduced on GitLab.com","severity::2","type::bug"],"milestone":{"id":1001916,"iid":44,"group_id":9970,"title":"12.9","description":"https://about.gitlab.com/releases/2020/03/22/gitlab-12-9-released","state":"closed","created_at":"2019-09-15T20:54:50.875Z","updated_at":"2020-09-02T11:04:41.671Z","due_date":"2020-03-17","start_date":"2020-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/44"},"assignees":[{"id":4901936,"username":"dskim_gitlab","name":"Sincheol (David) Kim","state":"active","avatar_url":"https://secure.gravatar.com/avatar/84a984a56c54d1d31338678421cecc32?s=80\u0026d=identicon","web_url":"https://gitlab.com/dskim_gitlab"}],"author":{"id":402401,"username":"jobbot","name":"Bot","state":"active","avatar_url":"https://secure.gravatar.com/avatar/aaa6738f1ebf25404010884af511b0e7?s=80\u0026d=identicon","web_url":"https://gitlab.com/jobbot"},"type":"ISSUE","assignee":{"id":4901936,"username":"dskim_gitlab","name":"Sincheol (David) Kim","state":"active","avatar_url":"https://secure.gravatar.com/avatar/84a984a56c54d1d31338678421cecc32?s=80\u0026d=identicon","web_url":"https://gitlab.com/dskim_gitlab"},"user_notes_count":30,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/29494","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/29494","notes":"https://gitlab.com/api/v4/projects/278964/issues/29494/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/29494/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#29494","relative":"#29494","full":"gitlab-org/gitlab#29494"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":21896273,"iid":12159,"project_id":278964,"title":"Billing page not properly updating","description":"### Summary\n\nGroup Billing page on .com is not updating properly when users are given higher permissions than Guest at lower levels.  Customer is currently at the Gold level and Guest users should not be counted in the total.  However, if you promote a guest user to a different permission, the billing page is not updating properly.  \n\n```mermaid\ngraph TD;\nA[\"Top Level Group\"] --- B[\"SubGroup1\"];\nA[\"Top Level Group\"] --- C[\"SubGroup2\"];\nC --- D[\"Project1\"]\n```\n\nIn the example above, imagine 8 users being added at the Top Level Group. 4 have guest access and 4 have owner access.  In that situation, in a Gold account, only 4 licenses should be counted.  If you then traverse down to SubGroup2 and promote one of those Guest users to \"Developer\", the Billing page should now reflect 5 seats in use.  It is not.  \n\n\n### Steps to reproduce\n\nCheck out the video here:\nhttps://www.youtube.com/watch?v=PLvnrq0fILA\u0026t=4s . (GitLab Unfiltered link)\n\nTwo things to keep in mind for this situation:\n1. Customer is set up for Group SSO on .com\n2. Customer has a license applied.\n\nIn my testing on my own Gold Trial .com group, I was not able to reproduce this behavior.  However, I am not able to mimic those two scenarios above.\n\n### Example Project\n\nThis came from a customer. You can see it in the video.   \n\n### What is the current *bug* behavior?\n\nBilling page is not updated when a user at a SubGroup is promoted to a higher permission than Guest. \n\n### What is the expected *correct* behavior?\n\nBilling page should reflect the proper count of users","state":"closed","created_at":"2019-06-14T02:23:49.443Z","updated_at":"2020-09-01T15:34:15.958Z","closed_at":"2020-07-14T02:21:43.619Z","closed_by":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"labels":["Cannot reproduce","Enterprise Edition","[deprecated] Accepting merge requests","[deprecated] ","backend","customer","devops::fulfillment","devops::growth","missed-SLO","priority::2","severity::3","type::bug"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":1463053,"username":"disastor","name":"David Astor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f1cefbc10e4fb6c3b3fcd7efceac6d9e?s=80\u0026d=identicon","web_url":"https://gitlab.com/disastor"},"type":"ISSUE","assignee":null,"user_notes_count":32,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/12159","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/12159","notes":"https://gitlab.com/api/v4/projects/278964/issues/12159/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/12159/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#12159","relative":"#12159","full":"gitlab-org/gitlab#12159"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":21896059,"iid":12158,"project_id":278964,"title":"[Feature flag] Remove store_designs_in_lfs feature flag","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## What\n\nRemove the `store_designs_in_lfs` feature flag from GitLab when we are certain that saving designs to LFS causes no problems.\n\n## Owners\n\n- Team: ~\"group::knowledge\" ~\"devops::create\" \n- Most appropriate slack channel to reach out to: `#g_create_knowledge`\n- Best individual to reach out to: @.luke \n\n## Expectations\n\n###What are we expecting to happen?\n\nNo change, as this feature has been enabled by default for weeks.\n\n### What might happen if this goes wrong?\n\nErrors when uploading designs.\n\n### What can we monitor to detect problems with this?\n\n- https://sentry.gitlab.net/gitlab/gitlabcom/\n\n## Roll Out Steps\n\n- [x] Enable on staging\n- [x] Test on staging\n- [x] Ensure that documentation has been updated\n- [x] Enable on GitLab.com for individual groups/projects listed above and verify behaviour\n- [x] Announce on the issue an estimated time this will be enabled on GitLab.com\n- [x] Enable on GitLab.com by running chatops command in `#production`\n- [x] Cross post chatops slack command to `#support_gitlab-com` and in your team channel\n- [x] Announce on the issue that the flag has been enabled\n- [x] Remove feature flag and add changelog entry\n- [x] After the flag removal is deployed, [clean up the feature flag](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) by running chatops command in `#production` channel","state":"closed","created_at":"2019-06-14T02:01:04.374Z","updated_at":"2020-12-10T19:08:01.756Z","closed_at":"2019-08-29T01:43:01.083Z","closed_by":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"labels":["Category:Design Management","Deliverable","Enterprise Edition","backend","backstage [DEPRECATED]","devops::plan","feature flag","group::product planning"],"milestone":{"id":731038,"iid":37,"group_id":9970,"title":"12.3","description":"https://about.gitlab.com/releases/2019/09/22/gitlab-12-3-released/","state":"closed","created_at":"2018-12-07T12:40:55.400Z","updated_at":"2020-04-23T21:06:04.173Z","due_date":"2019-09-17","start_date":"2019-08-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/37"},"assignees":[{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"}],"author":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"type":"ISSUE","assignee":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/12158","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":10,"completed_count":10},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"10 of 10 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/12158","notes":"https://gitlab.com/api/v4/projects/278964/issues/12158/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/12158/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#12158","relative":"#12158","full":"gitlab-org/gitlab#12158"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":21896010,"iid":12157,"project_id":278964,"title":"Geo: `geo:db:reset` rake task fails on dr.gitlab.com","description":"It was observed the `geo:db:reset` was failing on dr.gitlab.com:\n\n```bash\n$ sudo gitlab-rake geo:db:reset\nERROR:  No such database: postgres\nCouldn't drop database 'gitlabhq_geo_production'\nrake aborted!\nPG::ConnectionBad: ERROR:  No such database: postgres\n/opt/gitlab/embedded/service/gitlab-rails/ee/lib/gitlab/geo/database_tasks.rb:14:in `public_send'\n/opt/gitlab/embedded/service/gitlab-rails/ee/lib/gitlab/geo/database_tasks.rb:14:in `block in method_missing'\n/opt/gitlab/embedded/service/gitlab-rails/ee/lib/gitlab/geo/database_tasks.rb:181:in `with_geo_db'\n/opt/gitlab/embedded/service/gitlab-rails/ee/lib/gitlab/geo/database_tasks.rb:13:in `method_missing'\n/opt/gitlab/embedded/service/gitlab-rails/ee/lib/tasks/geo.rake:14:in `block (3 levels) in \u003ctop (required)\u003e'\n/opt/gitlab/embedded/service/gitlab-rails/ee/lib/tasks/geo.rake:46:in `block (3 levels) in \u003ctop (required)\u003e'\n/opt/gitlab/embedded/bin/bundle:23:in `load'\n/opt/gitlab/embedded/bin/bundle:23:in `\u003cmain\u003e'\nTasks: TOP =\u003e geo:db:drop\n(See full trace by running task with --trace)\n```\n\ncc @devin, @abrandl, @geo-team ","state":"closed","created_at":"2019-06-14T01:54:33.965Z","updated_at":"2019-12-16T14:47:14.228Z","closed_at":"2019-11-12T22:40:58.207Z","closed_by":{"id":2336046,"username":"devin","name":"Devin Sylva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/424b025122218e9a586245e301c1c725?s=80\u0026d=identicon","web_url":"https://gitlab.com/devin"},"labels":["Category:Geo Replication","Enterprise Edition","devops::systems","geo::planning","group::geo","internal customer","missed:12.4","workflow::solution validation"],"milestone":{"id":891796,"iid":39,"group_id":9970,"title":"12.5","description":"https://about.gitlab.com/releases/2019/11/22/gitlab-12-5-released","state":"closed","created_at":"2019-05-31T08:38:03.087Z","updated_at":"2020-04-27T16:27:03.474Z","due_date":"2019-11-17","start_date":"2019-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/39"},"assignees":[{"id":2187482,"username":"ashmckenzie","name":"Ash McKenzie","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2187482/avatar.png","web_url":"https://gitlab.com/ashmckenzie"},{"id":2336046,"username":"devin","name":"Devin Sylva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/424b025122218e9a586245e301c1c725?s=80\u0026d=identicon","web_url":"https://gitlab.com/devin"}],"author":{"id":2187482,"username":"ashmckenzie","name":"Ash McKenzie","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2187482/avatar.png","web_url":"https://gitlab.com/ashmckenzie"},"type":"ISSUE","assignee":{"id":2187482,"username":"ashmckenzie","name":"Ash McKenzie","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2187482/avatar.png","web_url":"https://gitlab.com/ashmckenzie"},"user_notes_count":30,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/12157","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/12157","notes":"https://gitlab.com/api/v4/projects/278964/issues/12157/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/12157/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#12157","relative":"#12157","full":"gitlab-org/gitlab#12157"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1909,"epic":{"id":12324,"iid":1909,"title":"Roll out Geo to dr.gitlab.com","url":"/groups/gitlab-org/-/epics/1909","group_id":9970},"iteration":null,"health_status":null},{"id":21895379,"iid":12156,"project_id":278964,"title":"Update Jobs detail page banner to include CTA to buy more CI mins","description":"### Problem\n\nThe current Job detail page Alert Component banner notification does not include a CTA for users to buy more minutes when their quota expires.\n\n### Proposal\n\nUpdate the Job detail page Alert Component banner notification to include a CTA (call to action) for users to `Purchase More Minutes` and link to the purchase page.\n\n![image](/uploads/a95884134f7fa6915f102656dff2094b/image.png)\n\nExample:\n\n![Alert](/uploads/0a87c85d239cb8c5678f718fab5b3559/Alert.png)\n\nThe `Purchase More Minutes` link should go to https://customers.gitlab.com/subscriptions/new?plan_id=2c92a0086a07f4a8016a2c0a1f7b4b4c\n\n### Dependencies\n\n- [x] Confirm where the \"Purchase More Minutes\" link should go [Discussion](https://gitlab.com/gitlab-org/gitlab-ee/issues/12156#note_193833725)\n- [x] Whether the `plan_id` in customer portal for upgrading would change for any reason. [Discussion](https://gitlab.com/gitlab-org/gitlab-ee/issues/12156#note_194469591)\n\n### Result\n\nUsers are able to easily purchase more minutes once their quota expires.\n\n### Next steps (if any)","state":"closed","created_at":"2019-06-14T00:39:56.820Z","updated_at":"2020-10-06T13:59:54.895Z","closed_at":"2019-09-04T20:48:08.438Z","closed_by":{"id":2233420,"username":"pslaughter","name":"Paul Slaughter","state":"active","avatar_url":"https://secure.gravatar.com/avatar/631b25421eb206ab44cb2793ef09d881?s=80\u0026d=identicon","web_url":"https://gitlab.com/pslaughter"},"labels":["Deliverable","Enterprise Edition","[deprecated] ","add-ons","devops::fulfillment","frontend","gitlab.com","group::purchase","priority::2","section::fulfillment","severity::2","workflow::in review"],"milestone":{"id":731038,"iid":37,"group_id":9970,"title":"12.3","description":"https://about.gitlab.com/releases/2019/09/22/gitlab-12-3-released/","state":"closed","created_at":"2018-12-07T12:40:55.400Z","updated_at":"2020-04-23T21:06:04.173Z","due_date":"2019-09-17","start_date":"2019-08-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/37"},"assignees":[{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},{"id":1903246,"username":"tipyn","name":"Luca Kisielius","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1903246/avatar.png","web_url":"https://gitlab.com/tipyn"},{"id":3354144,"username":"timnoah","name":"Tim Noah","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3354144/avatar.png","web_url":"https://gitlab.com/timnoah"}],"author":{"id":1903246,"username":"tipyn","name":"Luca Kisielius","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1903246/avatar.png","web_url":"https://gitlab.com/tipyn"},"type":"ISSUE","assignee":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"user_notes_count":27,"merge_requests_count":2,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/12156","time_stats":{"time_estimate":28800,"total_time_spent":0,"human_time_estimate":"8h","human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":2},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/12156","notes":"https://gitlab.com/api/v4/projects/278964/issues/12156/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/12156/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#12156","relative":"#12156","full":"gitlab-org/gitlab#12156"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1354,"epic":{"id":7621,"iid":1354,"title":" Add-on Purchase Improvements","url":"/groups/gitlab-org/-/epics/1354","group_id":9970,"human_readable_end_date":"Sep 17, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":21895259,"iid":12155,"project_id":278964,"title":"Update Pipelines Minutes expiry banner to an Alert Component type","description":"### Problem\n\nThe current Pipelines jobs page minutes expiry banner notification does not allow CTA's (call to actions). This means we cannot link users to the `Purchase More Minutes` page when their usage quota expires.\n\n![image](/uploads/632ecf9c6c645feb6d84b69411b51e75/image.png)\n\n### Proposal\n\nUpdate the pipelines jobs page banner to use an Alert Component, and include a `Purchase More Minutes` button to link to the purchase page.\n\nExample: \n\n![image](/uploads/5ae9c613c69cfa107728bd0aa612fe15/image.png)\n\nThe `Purchase More Minutes` link should go to https://customers.gitlab.com/subscriptions/new?plan_id=2c92a0086a07f4a8016a2c0a1f7b4b4c\n\n### Dependencies\n\n- [x] Confirm where the \"Purchase More Minutes\" link should go [Discussion](https://gitlab.com/gitlab-org/gitlab-ee/issues/12156#note_193833725)\n- [x] Whether the `plan_id` in customer portal for upgrading would change for any reason. [Discussion](https://gitlab.com/gitlab-org/gitlab-ee/issues/12156#note_194469591)\n\n### Result\n\nUsers are able to easily purchase more minutes once their quota expires.\n\n### Next steps (if any)","state":"closed","created_at":"2019-06-14T00:33:20.348Z","updated_at":"2020-10-06T13:59:55.451Z","closed_at":"2019-09-04T20:48:08.919Z","closed_by":{"id":2233420,"username":"pslaughter","name":"Paul Slaughter","state":"active","avatar_url":"https://secure.gravatar.com/avatar/631b25421eb206ab44cb2793ef09d881?s=80\u0026d=identicon","web_url":"https://gitlab.com/pslaughter"},"labels":["Deliverable","Enterprise Edition","[deprecated] ","add-ons","devops::fulfillment","frontend","gitlab.com","group::purchase","priority::2","section::fulfillment","severity::2","workflow::in review"],"milestone":{"id":731038,"iid":37,"group_id":9970,"title":"12.3","description":"https://about.gitlab.com/releases/2019/09/22/gitlab-12-3-released/","state":"closed","created_at":"2018-12-07T12:40:55.400Z","updated_at":"2020-04-23T21:06:04.173Z","due_date":"2019-09-17","start_date":"2019-08-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/37"},"assignees":[{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"}],"author":{"id":1903246,"username":"tipyn","name":"Luca Kisielius","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1903246/avatar.png","web_url":"https://gitlab.com/tipyn"},"type":"ISSUE","assignee":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"user_notes_count":14,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/12155","time_stats":{"time_estimate":28800,"total_time_spent":0,"human_time_estimate":"8h","human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":2},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/12155","notes":"https://gitlab.com/api/v4/projects/278964/issues/12155/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/12155/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#12155","relative":"#12155","full":"gitlab-org/gitlab#12155"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1354,"epic":{"id":7621,"iid":1354,"title":" Add-on Purchase Improvements","url":"/groups/gitlab-org/-/epics/1354","group_id":9970,"human_readable_end_date":"Sep 17, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":21888393,"iid":12149,"project_id":278964,"title":"Implement Pajamas tree component for deploy boards on Environments Page","description":"The environments page currently lists all environments used by a project. If deploy boards are enabled, top-level environments (not review apps) will be shown as an accordion. When expanded, the deploy board is shown.\n\n### Problem\n\nCurrently, deploy boards are lacking a visual cue that ties them to the environment above. The only indicator is the down arrow. \n\n![Screen_Shot_2019-06-13_at_11.01.55_AM](/uploads/9bf0220d3dafbf89df3364bfde64da83/Screen_Shot_2019-06-13_at_11.01.55_AM.png)\n\nThis problem is exacerbated when there is a problem with the deploy board and a warning is shown.\n\n![Screen_Shot_2019-06-13_at_11.01.01_AM](/uploads/e257c6b81d3dd9d73e7f71c58fba05c5/Screen_Shot_2019-06-13_at_11.01.01_AM.png)\n\nWhen a user is viewing their environments, they should be able to quickly understand which deploy board is associated with which environment. When there is an issue with a board, it should be clear to the user which board is having the issue.\n\n### Proposal\n\n#### Phase 1\n\nSmall UI tweaks to aid in creating a visual hierarchy. Such as increasing border size or adding box shadows to create an emphasis that a deploy board belongs to an environment. Adjusting the proximity and placement of UI elements. De-emphasizing less important visual cues. As there is currently no design to go off of, this will require ~UX collaboration.\n\n#### Phase 2\n\nOnce the [Pajamas Tree component](https://design.gitlab.com/components/tree/) is complete, revisit this issue and evaluate implementing the Environments Row and Deploy Board as a tree component.\n\n[Design](https://gitlab.com/gitlab-org/gitlab/issues/199097#note_287256331):\n\n![image](/uploads/3cf1dc69be41dc758af057941489cfdd/image.png)","state":"closed","created_at":"2019-06-13T18:03:36.166Z","updated_at":"2022-12-06T23:56:00.276Z","closed_at":"2022-12-06T23:56:00.250Z","closed_by":{"id":9677998,"username":"cbalane","name":"Chris Balane","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9677998/avatar.png","web_url":"https://gitlab.com/cbalane"},"labels":["Category:Release Orchestration","Enterprise Edition","UX","UX FY21-Q4","[deprecated] Accepting merge requests","cicd::active","component:tree","devops::release","environments","feature::enhancement","frontend","group::release","section::ops","type::feature","workflow::scheduling"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":516904,"username":"tauriedavis","name":"Taurie Davis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/516904/avatar.png","web_url":"https://gitlab.com/tauriedavis"},"type":"ISSUE","assignee":null,"user_notes_count":9,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/12149","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/12149","notes":"https://gitlab.com/api/v4/projects/278964/issues/12149/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/12149/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#12149","relative":"#12149","full":"gitlab-org/gitlab#12149"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24698053,"iid":29477,"project_id":278964,"title":"Email notification settings not displaying all user groups","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label.\n\nFor the Community Edition issue tracker:\n\n- https://gitlab.com/gitlab-org/gitlab-ce/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab-ce/issues?label_name%5B%5D=bug\n\nFor the Enterprise Edition issue tracker:\n\n- https://gitlab.com/gitlab-org/gitlab-ee/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab-ee/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nWe recently added group-level email routing with https://gitlab.com/gitlab-org/gitlab-ce/issues/8111 which is now live on GitLab.com.  Unfortunately, only a portion of user groups are displaying preventing one from modifying the notification email associated.\n\n### Steps to reproduce\n\n1. Visit https://gitlab.com/profile/notifications and count displayed groups\n2. Compare list to user groups https://gitlab.com/dashboard/groups\n\n### Example Project\n\nN/A\n\n### What is the current *bug* behavior?\n\nOnly a subset of a user's groups are displayed (possibly those which have had the default settings modified?)\n\n### What is the expected *correct* behavior?\n\nAll of a user's groups should be displayed on the notifications page\n\n### Relevant logs and/or screenshots\n\n![Image_2019-06-13_at_10.15.49](/uploads/7200f2dbdab673288d832a3524b62616/Image_2019-06-13_at_10.15.49.png)\n\n### Output of checks\n\nThis bug happens on GitLab.com\n\n#### Results of GitLab environment info\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n(If you can, link to the line of code that might be responsible for the problem)","state":"closed","created_at":"2019-06-13T17:18:26.154Z","updated_at":"2022-09-26T01:17:49.747Z","closed_at":"2019-10-21T17:21:27.064Z","closed_by":{"id":590748,"username":"mdelaossa","name":"Mario de la Ossa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/590748/avatar.png","web_url":"https://gitlab.com/mdelaossa"},"labels":["backend","devops::plan","group::project management","missed:12.3","missed:12.4","notifications","priority::3","severity::3","type::bug","workflow::verification"],"milestone":{"id":731039,"iid":38,"group_id":9970,"title":"12.4","description":"https://about.gitlab.com/releases/2019/10/22/gitlab-12-4-released","state":"closed","created_at":"2018-12-07T12:41:53.212Z","updated_at":"2020-04-27T16:30:43.889Z","due_date":"2019-10-17","start_date":"2019-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/38"},"assignees":[{"id":590748,"username":"mdelaossa","name":"Mario de la Ossa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/590748/avatar.png","web_url":"https://gitlab.com/mdelaossa"}],"author":{"id":401232,"username":"theoretick","name":"Lucas Charles","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/401232/squares-nail-wall-art.jpg","web_url":"https://gitlab.com/theoretick"},"type":"ISSUE","assignee":{"id":590748,"username":"mdelaossa","name":"Mario de la Ossa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/590748/avatar.png","web_url":"https://gitlab.com/mdelaossa"},"user_notes_count":11,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/29477","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/29477","notes":"https://gitlab.com/api/v4/projects/278964/issues/29477/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/29477/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#29477","relative":"#29477","full":"gitlab-org/gitlab#29477"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":21886061,"iid":12144,"project_id":278964,"title":"Geo: Setting an internal URL for the primary breaks replication","description":"### Summary\n\nWhen setting an Internal URL for the Geo primary, replication breaks. We see `Error syncing repository: 2:Fetching remote geo failed: fatal: could not read Username for 'https://\u003cexternal_url\u003e:443': No such device or address` for the error message.\n\nWhen a new project is created, the initial sync is successful. However, any subsequent pushes cause the above error.\n\n### Steps to reproduce\n\n1. Set or change the Internal URL on the primary node Geo admin area\n2. Restart GitLab on both the primary and secondary nodes (not sure if this is needed)\n3. See project synchronization failing\n\n### What is the current *bug* behavior?\n\nChanging the Internal URL for the primary node breaks replication.\n\n### What is the expected *correct* behavior?\n\nChanging the Internal URL should not break replication.\n\n### Relevant logs and/or screenshots\n\nAlso seeing this in the `geo.log`:\n\n```{\"severity\":\"ERROR\",\"time\":\"2019-06-13T16:27:12.933Z\",\"correlation_id\":\"2777f863-0a41-4f19-9360-529828a6aa18\",\"class\":\"Geo::NodeStatusPostService\",\"message\":\"Could not connect to Geo primary node - HTTP Status Code: 404 Not Found\",\"job_id\":\"98de79c9d5f1d6820048ac39\"}```\n\n`gitlab-rake gitlab:geo:check` is unable to connect to the primary:\n\n```Checking Geo ...\n\nGitLab Geo is available ... yes\nGitLab Geo is enabled ... yes\nGitLab Geo secondary database is correctly configured ... yes\nDatabase replication enabled? ... yes\nDatabase replication working? ... yes\nGitLab Geo tracking database is configured to use Foreign Data Wrapper? ... yes\nGitLab Geo tracking database Foreign Data Wrapper schema is up-to-date? ... yes\nGitLab Geo HTTP(S) connectivity ...\n* Can connect to the primary node ... no\nHTTP/HTTPS repository cloning is enabled ... yes\nMachine clock is synchronized ... yes\nGit user has default SSH configuration? ... yes\nOpenSSH configured to use AuthorizedKeysCommand ... yes\nGitLab configured to disable writing to authorized_keys file ... yes\nGitLab configured to store new projects in hashed storage? ... yes\nAll projects are in hashed storage? ... yes\n\nChecking Geo ... Finished\n\n```\n\nHowvever, the database seems to have the correct `internal_url`. From the rails console on the secondary node:\n\n```\nirb(main):002:0\u003e Gitlab::Geo.primary_node.internal_uri\n=\u003e #\u003cURI::HTTP http://\u003cinternal_url\u003e/\u003e\nirb(main):003:0\u003e Gitlab::Geo.primary_node.internal_uri.host\n=\u003e \"\u003cinternal_url\u003e\"\n```\n\nAlso, the `config` file from the repositories has the correct, updated internal URL for `remote \"geo\"`.\n\n\n\n/cc @dbalexandre @fzimmer @mark.cesario","state":"closed","created_at":"2019-06-13T16:36:30.592Z","updated_at":"2019-12-16T14:47:15.475Z","closed_at":"2019-07-09T14:46:07.253Z","closed_by":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"labels":["Category:Geo Replication","Enterprise Edition","auto updated","customer","devops::systems","group::geo","priority::1","severity::3","type::bug","workflow::in dev"],"milestone":{"id":693520,"iid":34,"group_id":9970,"title":"12.1","description":"https://about.gitlab.com/releases/2019/07/22/gitlab-12-1-released","state":"closed","created_at":"2018-10-30T16:47:58.826Z","updated_at":"2020-04-27T16:30:09.107Z","due_date":"2019-07-22","start_date":"2019-06-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/34"},"assignees":[{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"}],"author":{"id":1625112,"username":"abuerer1","name":"Aric Buerer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1625112/avatar.png","web_url":"https://gitlab.com/abuerer1"},"type":"ISSUE","assignee":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"user_notes_count":24,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/12144","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/12144","notes":"https://gitlab.com/api/v4/projects/278964/issues/12144/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/12144/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#12144","relative":"#12144","full":"gitlab-org/gitlab#12144"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24698044,"iid":29472,"project_id":278964,"title":"`in` should not be externalised","description":"We are currently externalising the word `in` which is likely part of a full sentence that should be externalised.","state":"closed","created_at":"2019-06-13T14:36:21.974Z","updated_at":"2021-11-11T23:52:42.479Z","closed_at":"2021-11-11T23:52:42.433Z","closed_by":{"id":5247073,"username":"hdelalic","name":"Haris Delali","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5247073/avatar.png","web_url":"https://gitlab.com/hdelalic"},"labels":["Cannot reproduce","Category:Internationalization","[deprecated] Accepting merge requests","devops::manage","frontend","good for new contributors","group::import","priority::4","section::dev","severity::4","type::bug"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":534669,"username":"lbennett","name":"Luke Bennett","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/534669/avatar.png","web_url":"https://gitlab.com/lbennett"},"type":"ISSUE","assignee":null,"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/29472","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/29472","notes":"https://gitlab.com/api/v4/projects/278964/issues/29472/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/29472/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#29472","relative":"#29472","full":"gitlab-org/gitlab#29472"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3199,"epic":{"id":49396,"iid":3199,"title":"Improve Current Translations","url":"/groups/gitlab-org/-/epics/3199","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":21877338,"iid":12136,"project_id":278964,"title":"Add TODO task when MR is removed from Merge Train by the system","description":"\u003c!--Thefirstfoursections:\"Problemtosolve\",\"Intendedusers\", \"User experience goal\",and\"Proposal\",arestronglyrecommended,whiletherestofthesectionscanbefilledoutduring the problem validation or breakdown phase. However, keep in mind that providing complete and relevant information early helps our product team validate the problem and start working on a solution.--\u003e\n\n### Problem to solve\n\n\u003c!-- What problem do we solve? Trytodefinethewho/what/whyoftheopportunityasauserstory.Forexample,\"Asa(who),Iwant(what),soIcan(why/value).\" --\u003e\n\nThere is no notification to the user when an MR is dropped from a train.\n\n```math\n\\text{When } \\underline{\\text{ a merge request is dropped from a merge train }} \\newline\\text{, I want to } \\underline{\\text{ be made aware of this }} \\newline\\text{ so I can } \\underline{\\text{ resolve the reason why and get my merge request merged }}\n```\n\n### Intended users\n\n\u003c!-- Who will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n\n* [Cameron (Compliance Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#cameron-compliance-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Alex (Security Operations Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#alex-security-operations-engineer)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops) \n* [Priyanka (Platform Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#priyanka-platform-engineer)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n--\u003e\n\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager) \n\n### User experience goal\n\n\u003c!-- What is the single user experience workflow this problem addresses? \nFor example, \"The user should be able to use the UI/API/.gitlab-ci.yml with GitLab to \u003cperform a specific task\u003e\"\nhttps://about.gitlab.com/handbook/engineering/ux/ux-research-training/user-story-mapping/ --\u003e \n\n\n### Proposal\n\n\u003c!-- How are we going to solve the problem? Try to include the user journey! https://about.gitlab.com/handbook/journeys/#user-journey --\u003e\n\n\u003e\u003e\u003e\n* Cancel means a user removed a merge request from a merge train (e.g. user realized that the MR had a bug).\n* Abort means the merge request was removed from a merge train by the system (e.g. there was a merge conflict and requires user interaction to resolve it).\n\u003e\u003e\u003e\n\nIf the merge request was removed from a merge train by the system we need to alert the user of this. If the merge request was canceled by the user we do not need to alert the user of this.\n\nThe merge author (triggerer of the merge) of the merge request should receive a TODO in that case.\n\nTODO:\n* Type: `Merge request`\n* Action: `Merge` (new)\n* Copy: `Removed from Merge Train \u003cMR ID\u003e \"[MR TITLE]\" at [NAME SPACE]  [TIME AGO]`\n* Example:\n\n| ScreenshotMockup (browser made) |\n|---------------------------------|\n| ![TODO_notification](/uploads/a09ec09a1ace4425a0f9ce1b3aee6d89/TODO_notification.png)|\n\n### Further details\n\n\u003c!-- Include use cases, benefits, goals, or any other details that will help us understand the problem better. --\u003e\n\nhttps://gitlab.com/gitlab-org/gitlab-ee/merge_requests/13767/diffs#note_181000683\n\n\u003e Consider that:\n\u003e \n\u003e 1. cancel as user action should not generate for example TODOs,\n\u003e 1. failure as an event of system failing to execute action should likely generate TODOs.\n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?--\u003e\n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/workflow.html#for-a-product-change\n\n* Add all known Documentation Requirements in this section. See https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements\n* If this feature requires changing permissions, update the permissions document. See https://docs.gitlab.com/ee/user/permissions.html --\u003e\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\n* Unit test changes: Required, there should be new unit test for every newly added logic accordingly\n* End-to-end test change: Required, this is a good candidate for a new E2E test, please see proposal [test case](https://gitlab.com/gitlab-org/quality/testcases/-/issues/927) for more details.\n\n### What does success look like, and how can we measure that?\n\n\u003c!-- Define both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. --\u003e\n\n### What is the type of buyer?\n\n\u003c!-- Whatisthebuyerpersonaforthisfeature?Seehttps://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/buyer-persona/\nIn which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#four-tiers --\u003e\n\n### Is this a cross-stage feature?\n\n\u003c!-- Communicate if this change will affect multiple Stage Groups or product areas. We recommend always start with the assumption that a feature request will have an impact into another Group. Loop in the most relevant PM and Product Designer from that Group to provide strategic support to help align the Group's broader plan and vision, as well as to avoid UX and technical debt. https://about.gitlab.com/handbook/product/#cross-stage-features --\u003e\n\n### Links / references\n\n### Follow ups\n\n- Additionally, notify the merge request author if it is not the same person as the merge author/triggerer (Potentially)","state":"closed","created_at":"2019-06-13T13:25:04.661Z","updated_at":"2021-03-24T17:15:17.667Z","closed_at":"2020-07-17T23:04:16.029Z","closed_by":{"id":5709468,"username":"cheryl.li","name":"Cheryl Li","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5709468/avatar.png","web_url":"https://gitlab.com/cheryl.li"},"labels":["Category:Merge Trains","Enterprise Edition","MR-Improvements","Technical Writing","UI text","UX","UX debt","backend","devops::verify","direction","group::pipeline execution","quad-planning::complete-action","severity::2","tw::doing","type::feature","workflow::production"],"milestone":{"id":1233746,"iid":49,"group_id":9970,"title":"13.2","description":"https://about.gitlab.com/releases/2020/07/22/gitlab-13-2-released/","state":"closed","created_at":"2020-04-09T17:28:01.032Z","updated_at":"2022-04-13T14:48:24.167Z","due_date":"2020-07-17","start_date":"2020-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/49"},"assignees":[{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"}],"author":{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"},"type":"ISSUE","assignee":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"user_notes_count":84,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/12136","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/12136","notes":"https://gitlab.com/api/v4/projects/278964/issues/12136/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/12136/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#12136","relative":"#12136","full":"gitlab-org/gitlab#12136"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3776,"epic":{"id":75116,"iid":3776,"title":"Merge Request Constancy","url":"/groups/gitlab-org/-/epics/3776","group_id":9970,"human_readable_end_date":"Nov 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":24697969,"iid":29452,"project_id":278964,"title":"Remove .no_timeout as a timeout option from GitalyClient","description":"### Problem to solve\n\nWe have a range of timeout values defined in [`GitalyClient`](https://gitlab.com/gitlab-org/gitlab-ce/blob/master/lib/gitlab/gitaly_client.rb). One of these values is [`no_timeout`](https://gitlab.com/gitlab-org/gitlab-ce/blob/b8372598e910cfd5b0b70cb62f465a915780fc55/lib/gitlab/gitaly_client.rb#L402). There is an issue with `no_timeout`, as some calls have been known to hang forever (see https://gitlab.com/gitlab-org/gitlab-ce/issues/53704).\n\n`no_timeout` currently will [become the default timeout for a Gitaly call from a Sidekiq worker](https://gitlab.com/gitlab-org/gitlab-ce/blob/b8372598e910cfd5b0b70cb62f465a915780fc55/lib/gitlab/gitaly_client.rb#L389) if no `timeout:` argument was passed to `Gitaly.call`.\n\n### Proposal\n\n- Replace `Gitaly.no_timeout` with a very high timeout value. All cases of `Gitaly.no_timeout` in the app should use this new high timeout instead. This new high timeout value will be called `slow_timeout`\n\n**Up for discussion**\n\nNote: These were the initial set of questions, however, please read the discussions in this Issue as some answers are being formed there.\n\n- Should the default timeout for Sidekiq jobs become the same as for non-Sidekiq calls? Or,\n- Should there be a new user-configurable default timeout created for Sidekiq jobs? (a `gitaly_timeout_worker_default`), or\n- Should the default timeout for Sidekiq jobs become `slow_timeout`\n- Should `slow_timeout` be set to 24 hours?\n\n### Documentation\n\nTo be updated:\n\n- [api/settings docs](https://docs.gitlab.com/ee/api/settings.html#list-of-settings-that-can-be-accessed-via-api-calls)\n- [app/views/admin/application_settings/_gitaly.html.haml](https://gitlab.com/gitlab-org/gitlab-ce/blob/master/app/views/admin/application_settings/_gitaly.html.haml)","state":"closed","created_at":"2019-06-12T22:59:08.735Z","updated_at":"2019-12-18T11:28:52.513Z","closed_at":"2019-12-03T07:42:02.346Z","closed_by":{"id":101578,"username":"zj-gitlab","name":"Zeger-Jan van de Weg","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/101578/avatar.png","web_url":"https://gitlab.com/zj-gitlab"},"labels":["Application Limits","Deliverable","backend","backstage [DEPRECATED]","devops::create","group::source code","missed-deliverable","missed:12.1","missed:12.1","workflow::ready for development"],"milestone":{"id":891797,"iid":40,"group_id":9970,"title":"12.6","description":"https://about.gitlab.com/releases/2019/12/22/gitlab-12-6-released","state":"closed","created_at":"2019-05-31T08:38:03.539Z","updated_at":"2020-04-27T16:27:13.329Z","due_date":"2019-12-17","start_date":"2019-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/40"},"assignees":[{"id":4901936,"username":"dskim_gitlab","name":"Sincheol (David) Kim","state":"active","avatar_url":"https://secure.gravatar.com/avatar/84a984a56c54d1d31338678421cecc32?s=80\u0026d=identicon","web_url":"https://gitlab.com/dskim_gitlab"}],"author":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"type":"ISSUE","assignee":{"id":4901936,"username":"dskim_gitlab","name":"Sincheol (David) Kim","state":"active","avatar_url":"https://secure.gravatar.com/avatar/84a984a56c54d1d31338678421cecc32?s=80\u0026d=identicon","web_url":"https://gitlab.com/dskim_gitlab"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/29452","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/29452","notes":"https://gitlab.com/api/v4/projects/278964/issues/29452/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/29452/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#29452","relative":"#29452","full":"gitlab-org/gitlab#29452"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1787,"epic":{"id":11108,"iid":1787,"title":"Source Code-related application limits","url":"/groups/gitlab-org/-/epics/1787","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":24697966,"iid":29451,"project_id":278964,"title":"Use current commit SHA when requesting IDE file tree and contents","description":"## Description\n\nFrom https://gitlab.com/gitlab-org/gitlab-ce/issues/59023#note_160196362\n\n\u003e We already store the initial SHA of the last known commit in the IDE. Which is either the commit the IDE is loaded at or the last commit done in the IDE.\n\u003e\n\u003e \u003e should we also pass that SHA (instead of the branch name), when loading the tree and specific blobs?\n\u003e\n\u003e Yeah good point :thinking: We currently just request the file content from `/PROJET_NAMESPACE/raw/BRANCH_NAME/FILE_PATH` so I guess we would need to do `/PROJET_NAMESPACE/raw/LAST_COMMIT_SHA/FILE_PATH` instead\n\nLet's update our requests to the Web IDE to use the commit sha instead of the branch name.\n\n## Why?\n\nIt's possible that the branch is updated while the IDE is open. This would lead to strange behavior if a file is loaded and we pull the most recent changes (but the rest of the content is based on my current Web IDE HEAD).","state":"closed","created_at":"2019-06-12T21:35:38.181Z","updated_at":"2020-08-10T20:19:38.467Z","closed_at":"2019-11-19T08:03:34.439Z","closed_by":{"id":2398164,"username":"himkp","name":"Himanshu Kapoor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2398164/avatar.png","web_url":"https://gitlab.com/himkp"},"labels":["Category:Web IDE","Create [DEPRECATED]","Deliverable","devops::create","frontend","group::editor","priority::2","severity::2","type::bug","workflow::verification"],"milestone":{"id":891796,"iid":39,"group_id":9970,"title":"12.5","description":"https://about.gitlab.com/releases/2019/11/22/gitlab-12-5-released","state":"closed","created_at":"2019-05-31T08:38:03.087Z","updated_at":"2020-04-27T16:27:03.474Z","due_date":"2019-11-17","start_date":"2019-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/39"},"assignees":[{"id":2398164,"username":"himkp","name":"Himanshu Kapoor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2398164/avatar.png","web_url":"https://gitlab.com/himkp"}],"author":{"id":2233420,"username":"pslaughter","name":"Paul Slaughter","state":"active","avatar_url":"https://secure.gravatar.com/avatar/631b25421eb206ab44cb2793ef09d881?s=80\u0026d=identicon","web_url":"https://gitlab.com/pslaughter"},"type":"ISSUE","assignee":{"id":2398164,"username":"himkp","name":"Himanshu Kapoor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2398164/avatar.png","web_url":"https://gitlab.com/himkp"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/29451","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/29451","notes":"https://gitlab.com/api/v4/projects/278964/issues/29451/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/29451/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#29451","relative":"#29451","full":"gitlab-org/gitlab#29451"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":21848838,"iid":12119,"project_id":278964,"title":"Geo: Trailing / missing from secondary Name in geo admin area causes Not a secondary node","description":"### Summary\n\nWhen setting up the `Name` of a secondary node in the admin area of the primary, the trailing `/` is necessary. When it is missing, `gitlab-rake gitlab:geo:check` returns `not a secondary node`. The trailing `/` is necessary even when it is not included in the `external_url` of the secondary node.\n\n### Steps to reproduce\n\n1. Navigate to the Geo admin area on the primary (`/admin/geo/nodes`).\n2. Add or edit a secondary node.\n3. Set the `Name` without the trailing `/` (i.e.`https://geo-secondary.example.com`)\n4. Run `gitlab-rake gitlab:geo:check` on the secondary and see `not a secondary node`\n5. Adding the trailing `/` will make the check pass.\n\n### What is the current *bug* behavior?\n\nA trailing `/` is needed in the `Name` of the secondary node in the primary Geo admin area. Even when it is not included in the `external_url` of the secondary.\n\n### What is the expected *correct* behavior?\n\nThe trailing `/` should not be needed. Especially when it is not included in `external_url`\n\n\nNoticed on 11.11.x","state":"closed","created_at":"2019-06-12T17:06:53.996Z","updated_at":"2019-12-11T20:02:53.371Z","closed_at":"2019-07-10T19:12:24.618Z","closed_by":{"id":64248,"username":"stanhu","name":"Stan Hu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/64248/stanhu.jpg","web_url":"https://gitlab.com/stanhu"},"labels":["Deliverable","Enterprise Edition","Geo Administration","[deprecated] Accepting merge requests","customer","devops::systems","group::geo","internal customer","priority::3","severity::3","type::bug","workflow::in review"],"milestone":{"id":693521,"iid":35,"group_id":9970,"title":"12.2","description":"https://about.gitlab.com/releases/2019/08/22/gitlab-12-2-released","state":"closed","created_at":"2018-10-30T16:48:32.567Z","updated_at":"2020-04-27T16:30:20.799Z","due_date":"2019-08-22","start_date":"2019-07-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/35"},"assignees":[{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"}],"author":{"id":1625112,"username":"abuerer1","name":"Aric Buerer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1625112/avatar.png","web_url":"https://gitlab.com/abuerer1"},"type":"ISSUE","assignee":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"user_notes_count":3,"merge_requests_count":1,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/12119","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/12119","notes":"https://gitlab.com/api/v4/projects/278964/issues/12119/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/12119/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#12119","relative":"#12119","full":"gitlab-org/gitlab#12119"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":369,"epic":{"id":1104,"iid":369,"title":"Geo: Improve UI/UX on Administrator Panel","url":"/groups/gitlab-org/-/epics/369","group_id":9970},"iteration":null,"health_status":null},{"id":21843449,"iid":12111,"project_id":278964,"title":"elasticsearch: Cannot index large snippets","description":"Observed while working on https://gitlab.com/gitlab-org/gitlab-ee/issues/11419\n\nTo bulk-import snippets, we use `rake gitlab:elastic:index_snippets` and the `es_import` helper. This reliably times out on staging.gitlab.com\n\nIt looks like the problem occurs when a batch contains a large-enough snippet. At least one in the database is ~5MiB in size.\n\nI'd suggest we exclude or truncate the content for larger snippets. More generally, do we have size limits on snippets? Should we?","state":"closed","created_at":"2019-06-12T15:05:11.953Z","updated_at":"2019-09-11T18:21:54.149Z","closed_at":"2019-09-04T07:02:20.167Z","closed_by":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"labels":["Category:Snippets","Create [DEPRECATED]","Deliverable","Enterprise Edition","advanced search","backend","customer","devops::create","group::editor","missed-SLO","priority::2","severity::2","type::bug"],"milestone":{"id":731038,"iid":37,"group_id":9970,"title":"12.3","description":"https://about.gitlab.com/releases/2019/09/22/gitlab-12-3-released/","state":"closed","created_at":"2018-12-07T12:40:55.400Z","updated_at":"2020-04-23T21:06:04.173Z","due_date":"2019-09-17","start_date":"2019-08-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/37"},"assignees":[{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"}],"author":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"type":"ISSUE","assignee":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/12111","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/12111","notes":"https://gitlab.com/api/v4/projects/278964/issues/12111/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/12111/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#12111","relative":"#12111","full":"gitlab-org/gitlab#12111"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":153,"epic":{"id":274,"iid":153,"title":"Rollout Advanced Global Search  on GitLab.com","url":"/groups/gitlab-org/-/epics/153","group_id":9970,"human_readable_end_date":"Jul 13, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":24697938,"iid":29437,"project_id":278964,"title":"Missing `X-GitLab-NotificationReason` header in email notifications","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label.\n\nFor the Community Edition issue tracker:\n\n- https://gitlab.com/gitlab-org/gitlab-ce/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab-ce/issues?label_name%5B%5D=bug\n\nFor the Enterprise Edition issue tracker:\n\n- https://gitlab.com/gitlab-org/gitlab-ee/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab-ee/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nThe header `X-GitLab-NotificationReason` is missing in email notifications.\nIt seems to be only missing in comments according to @smcgivern in our [Slack conversation](https://gitlab.slack.com/archives/CETG54GQ0/p1560334117066300).\n\n### Steps to reproduce\n\n- Create an account on GitLab.com \n- Enable notifications\n- Ask someone to comment on an issue or an MR and ping you\n- Check out your emails\n\n### Example Project\n\n- GitLab-CE\n\n### What is the current *bug* behavior?\n\nEmail is received but doesn't contain the header mentioned in this documentation page: https://docs.gitlab.com/ee/workflow/notifications.html#x-gitlab-notificationreason.\nSome other notifications, like \"Epic was closed by [user]\" have the header, but empty: \n\n```\nX-GitLab-NotificationReason: \n```\n\n### What is the expected *correct* behavior?\n\nComments notifications should have the `X-GitLab-NotificationReason` header, set to one of the values supported and described in https://docs.gitlab.com/ee/workflow/notifications.html#x-gitlab-notificationreason (as of today, `own_activity`, `assigned` or `mentioned`).\n\n### Relevant logs and/or screenshots\n\n![screenshot_2019-06-11_20.38.33_360](/uploads/527aecb1e68e4f3b34831245db34480f/screenshot_2019-06-11_20.38.33_360.png)\n\n### Output of checks\n\nThis bug happens on GitLab.com\n\n\nrefs https://gitlab.com/gitlab-org/gitlab-ce/issues/41532\n\n/cc @smcgivern","state":"closed","created_at":"2019-06-12T11:51:05.072Z","updated_at":"2022-05-19T16:08:25.796Z","closed_at":"2019-09-19T14:49:55.699Z","closed_by":{"id":590748,"username":"mdelaossa","name":"Mario de la Ossa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/590748/avatar.png","web_url":"https://gitlab.com/mdelaossa"},"labels":["backend","devops::plan","group::project management","notifications","priority::3","severity::3","type::bug","workflow::verification"],"milestone":{"id":731038,"iid":37,"group_id":9970,"title":"12.3","description":"https://about.gitlab.com/releases/2019/09/22/gitlab-12-3-released/","state":"closed","created_at":"2018-12-07T12:40:55.400Z","updated_at":"2020-04-23T21:06:04.173Z","due_date":"2019-09-17","start_date":"2019-08-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/37"},"assignees":[{"id":443319,"username":"smcgivern","name":"Sean McGivern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/443319/avatar.png","web_url":"https://gitlab.com/smcgivern"}],"author":{"id":30915,"username":"plafoucriere","name":"Philippe Lafoucrire","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/30915/avatar.png","web_url":"https://gitlab.com/plafoucriere"},"type":"ISSUE","assignee":{"id":443319,"username":"smcgivern","name":"Sean McGivern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/443319/avatar.png","web_url":"https://gitlab.com/smcgivern"},"user_notes_count":5,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/29437","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/29437","notes":"https://gitlab.com/api/v4/projects/278964/issues/29437/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/29437/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#29437","relative":"#29437","full":"gitlab-org/gitlab#29437"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":21820117,"iid":12097,"project_id":278964,"title":"Group level webhooks not triggering on merge request actions when the project is deeply nested","description":"I'm currently on Gitlab Silver plan. \n\nGroup level webhooks are not triggering on merge request actions when the project is nested within another group (i.e. is a grandchild rather than a child). \n\nIf you have a structure like:\n```\ntop-level\n  nested-group\n    my-nested-project\n  my-top-level-project\n```\nSetting up a merge_request webhook for the `top-level` group it will be triggered by MR actions on `my-top-level-project`, but actions in `my-nested-project` won't trigger the webhook - to get these to work you need to setup the webhook in `nested-group`\n\n\n### Steps to reproduce\n\n* Setup a group structure like\ntop-level\n  nested-group\n    my-nested-project\n  my-top-level-project\n\n* Create a webhook for the top level group on merge request events\n* Create a merge request in my-nested-project \n* Observe that the webhook is not invoked (check for a log in whatever service you handle the webhook - unfortunately there is not visibility of webhook invocations at a group level)\n* Create a merge request in my-top-level-project\n* Observe that the webhook is invoked\n\n### What is the current *bug* behavior?\n\nWebhooks aren't triggered when the project is not the child of the group where webhooks are defined (e.g. the project is grandchild rather than children of the group)\n\n### What is the expected *correct* behavior?\n\nWebhooks are triggered for all descendants of the group webhook","state":"closed","created_at":"2019-06-12T02:07:22.520Z","updated_at":"2022-11-24T18:24:11.581Z","closed_at":"2020-02-17T19:27:24.369Z","closed_by":{"id":4554077,"username":"nhxnguyen","name":"Nick Nguyen","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4554077/avatar.png","web_url":"https://gitlab.com/nhxnguyen"},"labels":["Category:Integrations","Category:Webhooks","Deliverable","Enterprise Edition","customer","devops::manage","group::ecosystem [DEPRECATED]","merge requests","potential proposal","priority::3","release post item","severity::3","subgroups","type::bug","workflow::verification"],"milestone":{"id":1001915,"iid":43,"group_id":9970,"title":"12.8","description":"https://about.gitlab.com/releases/2020/02/22/gitlab-12-8-released","state":"closed","created_at":"2019-09-15T20:53:58.792Z","updated_at":"2020-05-19T14:23:44.837Z","due_date":"2020-02-17","start_date":"2020-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/43"},"assignees":[{"id":16943,"username":"Andysoiron","name":"Andy Soiron","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/16943/avatar.png","web_url":"https://gitlab.com/Andysoiron"}],"author":{"id":2827314,"username":"samjeffresslwb","name":"Sam Jeffress","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2827314/avatar.png","web_url":"https://gitlab.com/samjeffresslwb"},"type":"ISSUE","assignee":{"id":16943,"username":"Andysoiron","name":"Andy Soiron","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/16943/avatar.png","web_url":"https://gitlab.com/Andysoiron"},"user_notes_count":29,"merge_requests_count":1,"upvotes":10,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/12097","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/12097","notes":"https://gitlab.com/api/v4/projects/278964/issues/12097/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/12097/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#12097","relative":"#12097","full":"gitlab-org/gitlab#12097"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2318,"epic":{"id":16059,"iid":2318,"title":"Expanding and Improving Webhooks","url":"/groups/gitlab-org/-/epics/2318","group_id":9970},"iteration":null,"health_status":null},{"id":21813098,"iid":12092,"project_id":278964,"title":"Test and validate PostgreSQL 10.0 upgrade for Geo","description":"With %\"12.0\" release, we shipped new PostgreSQL 10.0 that will be automatically upgraded. This automatic upgrade doesnt handle Geo secondary nodes automatically (this is a limitation on how PostgreSQL upgrade process work). We need to validate our documentation has the correct documentation and covers the whole process. \nIdeally we should instruct our users to disable PostgreSQL 10.0 automatic upgrade to plan ahead when/how to rollout it when Geo is enabled.\nA simplified walkthrough of the upgrade to 12.0 with Geo would be: \n- Disable PostgreSQL automatic upgrade\n- Upgrade GitLab to 12.0\n- Schedule downtime on secondary nodes\n- Put secondary in maintenance mode (halt access)\n- Upgrade primary\n- Trigger postgresql upgrade on secondary\n- Backup/restore database from primary\n- Enable access again\n\n### Update\n\nThe 12.0 release will not impact Geo users as the auto upgrade will be skipped for both primary and secondary nodes. When the related issue https://gitlab.com/gitlab-org/omnibus-gitlab/issues/4309#note_181022415 is complete, we will need to verify and document the upgrade process. \n\n### Update (September 2019)\n\nWe have performed some upgrades ourselves that have not succeeded first time, and we have a few reports from customers that have struggled over these releases. We need to take a closer look at if there is a problem around this series of upgrades. \n\n1. Install 11.11 in an HA configuration\n1. Upgrade to 12.0\n1. Upgrade to 12.1\n\n### Update from 13 September 2019\nthe current state of the investigation is:\n\n1. There are issues when upgrading from 11.11.5 through to 12.1.8 using Geo for zero downtime upgrades\n1. There are issues when upgrading from 11.11.5 through to 12.1.8 using down time upgrades\n1. We don't know yet how HA upgrades behave but @mkozono will perform an upgrade soon.\n\nThe individual problems may be different bugs and a first next step is to try and pin those down.\n","state":"closed","created_at":"2019-06-11T19:57:07.369Z","updated_at":"2019-09-23T14:20:03.003Z","closed_at":"2019-09-23T14:19:48.952Z","closed_by":{"id":2722370,"username":"rnienaber","name":"Rachel Nienaber","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2722370/avatar.png","web_url":"https://gitlab.com/rnienaber"},"labels":["Enterprise Edition","Geo Administration","[deprecated] Accepting merge requests","customer","devops::systems","documentation","group::geo","missed:12.1","priority::2","severity::2"],"milestone":{"id":731039,"iid":38,"group_id":9970,"title":"12.4","description":"https://about.gitlab.com/releases/2019/10/22/gitlab-12-4-released","state":"closed","created_at":"2018-12-07T12:41:53.212Z","updated_at":"2020-04-27T16:30:43.889Z","due_date":"2019-10-17","start_date":"2019-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/38"},"assignees":[],"author":{"id":2293,"username":"brodock","name":"Gabriel Mazetto","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2293/avatar.png","web_url":"https://gitlab.com/brodock"},"type":"ISSUE","assignee":null,"user_notes_count":57,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/12092","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/12092","notes":"https://gitlab.com/api/v4/projects/278964/issues/12092/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/12092/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#12092","relative":"#12092","full":"gitlab-org/gitlab#12092"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1931,"epic":{"id":12422,"iid":1931,"title":"Geo Upgrade Demos","url":"/groups/gitlab-org/-/epics/1931","group_id":9970,"human_readable_end_date":"Nov 17, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":21827584,"iid":12101,"project_id":278964,"title":"Epic Ancestor Links link to Self vs. Ancestor Epic","description":"### Summary\n\nWhen clicking on the Ancestor Link from within an Epic it correctly displays the name of the Ancestor epic, but the link is pointed at the same page as the currently viewed Epic.\n\n### Steps to reproduce\n\n(How one can reproduce the issue - this is very important)\n\n### Example Project\n\nIf you visit: https://gitlab.com/groups/gitlab-org/-/epics/990, and click on the Ancestor Epic you're directed to the same epic you're already viewing.\n\n### What is the current *bug* behavior?\n\nLink directs to the same Epic you're already viewing.\n\n### What is the expected *correct* behavior?\n\nYou should be directed to the Ancestor Epic.","state":"closed","created_at":"2019-06-11T13:56:00.815Z","updated_at":"2022-05-19T16:08:09.867Z","closed_at":"2019-06-24T15:51:48.485Z","closed_by":{"id":194645,"username":"digitalmoksha","name":"Brett Walker","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/194645/avatar.png","web_url":"https://gitlab.com/digitalmoksha"},"labels":["Enterprise Edition","backend","devops::plan","group::project management","priority::2","severity::2","type::bug"],"milestone":{"id":693520,"iid":34,"group_id":9970,"title":"12.1","description":"https://about.gitlab.com/releases/2019/07/22/gitlab-12-1-released","state":"closed","created_at":"2018-10-30T16:47:58.826Z","updated_at":"2020-04-27T16:30:09.107Z","due_date":"2019-07-22","start_date":"2019-06-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/34"},"assignees":[{"id":194645,"username":"digitalmoksha","name":"Brett Walker","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/194645/avatar.png","web_url":"https://gitlab.com/digitalmoksha"}],"author":{"id":2935693,"username":"phikai","name":"Kai Armstrong","state":"active","avatar_url":"https://secure.gravatar.com/avatar/2c5d6a63b41cbeb3ea4cccda82e758e1?s=80\u0026d=identicon","web_url":"https://gitlab.com/phikai"},"type":"ISSUE","assignee":{"id":194645,"username":"digitalmoksha","name":"Brett Walker","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/194645/avatar.png","web_url":"https://gitlab.com/digitalmoksha"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/12101","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/12101","notes":"https://gitlab.com/api/v4/projects/278964/issues/12101/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/12101/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#12101","relative":"#12101","full":"gitlab-org/gitlab#12101"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24697868,"iid":29407,"project_id":278964,"title":"Backend: Disable expansion of file type variables when referenced in gitlab-ci.yml variables section","description":"## Status update (2022-10-19)\n\n- We have a [MR](https://gitlab.com/gitlab-org/gitlab-runner/-/merge_requests/3613) ready to ship. When shipped (**target 15.7**), job variable expansion will be changed and handled as expected for variables of type = file. In summary, going forward, variables that reference/alias file variables are expanded to the file variable's file name/path *instead* of its value (i.e., the file's content).\n\nThis is a **breaking change** but does resolve a potential security issue as secrets may be leaked with the current bug.\n\n- The plan is to simply ship the MR with the fix. There is no option as mentioned in some of the threads below, for shipping this fix behind a feature flag, providing a warning to the users.\n\n- I will keep the option open to pull the ship date into 15.6, as there are solid reasons, as outlined below, to do so. But I do want to give other users and customers that have not been following this issue the opportunity to be made aware of this change as there is a likelihood that the fix does, in fact impact a current workflow. Add comments to the new [comment thread](https://gitlab.com/gitlab-org/gitlab/-/issues/29407#note_1142232304) below.  @DarrenEastman \n\n[Link](https://gitlab.com/gitlab-org/gitlab-runner/-/merge_requests/3613#whats-the-best-way-to-test-this-mr) to before and after.\n\n\n\n### Summary\n\nWhen using file variables in the \"variables\" section of a job in .gitlab-ci.yml the contents are being written to the new variable.\n\n### Steps to reproduce\n\nThe following gitlab-ci.yml \n\n```yaml\n.deployment:\n   image: alpine:latest\n   script:\n      - kubectl config set-cluster ${KUBE_CLUSTER} --server=${KUBE_SERVER} --certificate-authority=\"${KUBE_CA}\"\n\n\"Deploy to stage\":\n   extends: .deployment\n   stage: deploy:stage\n   when: manual\n   variables:\n      KUBE_CA: $KUBE_CA_STAGE\n\n\"Deploy to prod\":\n   extends: .deployment\n   stage: deploy:prod\n   when: manual\n   variables:\n      KUBE_CA: $KUBE_CA_PROD\n```\n\nThe variable KUBE_CA_PROD / KUBE_CA_STAGE are file variables in Gitlab. When using the variable KUBE_CA the contents are no longer a path to a file but the content of the file.\n\n### What is the current *bug* behavior?\n\nContents of file variables are written to variables\n\n### What is the expected *correct* behavior?\n\nPath of file variable is used as variable\n\n#### Results of GitLab environment info\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\u003cpre\u003e\n\nSystem information\nSystem:         Ubuntu 18.04\nProxy:          no\nCurrent User:   git\nUsing RVM:      no\nRuby Version:   2.5.3p105\nGem Version:    2.7.9\nBundler Version:1.17.3\nRake Version:   12.3.2\nRedis Version:  3.2.12\nGit Version:    2.21.0\nSidekiq Version:5.2.7\nGo Version:     unknown\n\nGitLab information\nVersion:        11.11.2-ee\nRevision:       cfdecb7c5de\nDirectory:      /opt/gitlab/embedded/service/gitlab-rails\nDB Adapter:     PostgreSQL\nDB Version:     9.6.11\nURL:            https://gitlab.XXXXX.com\nHTTP Clone URL: https://gitlab.XXXXX.com/some-group/some-project.git\nSSH Clone URL:  git@gitlab.XXXXX.com:some-group/some-project.git\nElasticsearch:  no\nGeo:            no\nUsing LDAP:     yes\nUsing Omniauth: yes\nOmniauth Providers:\n\nGitLab Shell\nVersion:        9.1.0\nRepository storage paths:\n- default:      /var/opt/gitlab/git-data/repositories\nGitLab Shell path:              /opt/gitlab/embedded/service/gitlab-shell\nGit:            /opt/gitlab/embedded/bin/git\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\nnot relevant\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Proposal \n\n| Step | Status |\n| ------ | ------ |\n| 1. GitLab: Stop expanding file variables when sending to Runner | https://gitlab.com/gitlab-org/gitlab/-/issues/365859 |\n| 2. Runner: Refactor the creation of the job temporary file path | https://gitlab.com/gitlab-org/gitlab-runner/-/issues/29128 |\n| **3. Fix file variables in Runner** | :point_left: You are here |\n\n#### Technical\n\nhttps://gitlab.com/gitlab-org/gitlab/-/issues/29407#note_935276800\n\n### Note\n\nTODO: Update the docs in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/75477 when this issue is closed.\n\n## Solution\nOnce https://gitlab.com/gitlab-org/gitlab-runner/-/merge_requests/3613 is merged, file variables and variables the reference file variables will work as follows:\n\nHaving created a file variable via the GitLab UI named `A_FILE_VAR` with content `this is some super secret content`, the following job definition:\n\n```yaml\nwork:\n   stage: test\n   variables:\n     REF_FILE_VAR: $A_FILE_VAR\n   script:\n     - echo $A_FILE_VAR\n     - cat $A_FILE_VAR\n     - echo $REF_FILE_VAR\n     - cat $REF_FILE_VAR\n```\n\nwill result in the following **before** and **after** outputs:\n\n### Before\n```sh\n$ echo $A_FILE_VAR\n/builds/avonbertoldi/test-project.tmp/A_FILE_VAR\n$ cat $A_FILE_VAR\nthis is some super secret content\n$ echo $REF_FILE_VAR\nthis is some super secret content\n$ cat $REF_FILE_VAR\ncat: can't open 'this': No such file or directory\ncat: can't open 'is': No such file or directory\ncat: can't open 'some': No such file or directory\ncat: can't open 'super': No such file or directory\ncat: can't open 'secret': No such file or directory\ncat: can't open 'content': No such file or directory\n```\n### After\n```sh\n$ echo $A_FILE_VAR\n/builds/avonbertoldi/test-project.tmp/A_FILE_VAR\n$ cat $A_FILE_VAR\nthis is some super secret content\n$ echo $REF_FILE_VAR\n/builds/avonbertoldi/test-project.tmp/A_FILE_VAR\n$ cat $REF_FILE_VAR\nthis is some super secret content\n```","state":"closed","created_at":"2019-06-11T11:41:06.760Z","updated_at":"2023-01-13T11:11:21.107Z","closed_at":"2022-12-15T15:59:27.431Z","closed_by":{"id":11925179,"username":"avonbertoldi","name":"Axel von Bertoldi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11925179/avatar.png","web_url":"https://gitlab.com/avonbertoldi"},"labels":["CI variables","Category:Pipeline Authoring","Category:Secrets Management","backend","customer","devops::verify","frequently duplicated","group::pipeline authoring","priority::2","section::ops","security","severity::3","type::bug","workflow::in review"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":11925179,"username":"avonbertoldi","name":"Axel von Bertoldi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11925179/avatar.png","web_url":"https://gitlab.com/avonbertoldi"}],"author":{"id":3275967,"username":"philip.schiffer","name":"Philip Schiffer","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a10d8487709e14b91674c20facc5a8d7?s=80\u0026d=identicon","web_url":"https://gitlab.com/philip.schiffer"},"type":"ISSUE","assignee":{"id":11925179,"username":"avonbertoldi","name":"Axel von Bertoldi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11925179/avatar.png","web_url":"https://gitlab.com/avonbertoldi"},"user_notes_count":221,"merge_requests_count":0,"upvotes":83,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/29407","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/29407","notes":"https://gitlab.com/api/v4/projects/278964/issues/29407/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/29407/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#29407","relative":"#29407","full":"gitlab-org/gitlab#29407"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"at_risk"},{"id":24697859,"iid":29403,"project_id":278964,"title":"Issue Trackers: Migrate data from properties to separated tables","description":"- move data from services properties to `issue_tracker_data` and `jira_tracker_data` tables\n- move title \u0026 description from properties to `title` and `description` fields in `services` table","state":"closed","created_at":"2019-06-11T10:27:06.856Z","updated_at":"2022-05-19T16:08:25.291Z","closed_at":"2020-01-23T07:30:45.293Z","closed_by":{"id":508743,"username":"jarka","name":"Jarka Koanov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"},"labels":["Integration::Jira","backend","backstage [DEPRECATED]","database","devops::plan","group::product planning","missed:12.3","missed:12.4","missed:12.5","missed:12.6","missed:12.7","workflow::in review"],"milestone":{"id":891798,"iid":41,"group_id":9970,"title":"12.7","description":"https://about.gitlab.com/releases/2020/01/22/gitlab-12-7-released/","state":"closed","created_at":"2019-05-31T08:38:04.523Z","updated_at":"2020-05-19T13:46:24.737Z","due_date":"2020-01-17","start_date":"2019-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/41"},"assignees":[{"id":508743,"username":"jarka","name":"Jarka Koanov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"}],"author":{"id":508743,"username":"jarka","name":"Jarka Koanov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"},"type":"ISSUE","assignee":{"id":508743,"username":"jarka","name":"Jarka Koanov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/29403","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/29403","notes":"https://gitlab.com/api/v4/projects/278964/issues/29403/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/29403/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#29403","relative":"#29403","full":"gitlab-org/gitlab#29403"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1443,"epic":{"id":8202,"iid":1443,"title":"Extract fields in Issue Tracker Project Services to a separate table","url":"/groups/gitlab-org/-/epics/1443","group_id":9970,"human_readable_end_date":"Mar 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":24697856,"iid":29402,"project_id":278964,"title":"Start using issue tracker data models for reading \u0026 storing data","description":"In https://gitlab.com/gitlab-org/gitlab-ce/issues/63081 we created fields for storing data, now stored in `service.properties`. \n\nThis issue is about using them.\n\nWe don't have data migrated yet so we need to keep backward compatibility and still be able to read data from `properties`.","state":"closed","created_at":"2019-06-11T10:25:17.524Z","updated_at":"2022-05-19T16:08:25.091Z","closed_at":"2019-09-24T12:56:02.061Z","closed_by":{"id":508743,"username":"jarka","name":"Jarka Koanov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"},"labels":["Integration::Jira","backend","backstage [DEPRECATED]","database","devops::plan","group::project management","missed:12.1","missed:12.1","missed:12.3","workflow::in review"],"milestone":{"id":731038,"iid":37,"group_id":9970,"title":"12.3","description":"https://about.gitlab.com/releases/2019/09/22/gitlab-12-3-released/","state":"closed","created_at":"2018-12-07T12:40:55.400Z","updated_at":"2020-04-23T21:06:04.173Z","due_date":"2019-09-17","start_date":"2019-08-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/37"},"assignees":[{"id":508743,"username":"jarka","name":"Jarka Koanov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"}],"author":{"id":508743,"username":"jarka","name":"Jarka Koanov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"},"type":"ISSUE","assignee":{"id":508743,"username":"jarka","name":"Jarka Koanov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/29402","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/29402","notes":"https://gitlab.com/api/v4/projects/278964/issues/29402/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/29402/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#29402","relative":"#29402","full":"gitlab-org/gitlab#29402"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1443,"epic":{"id":8202,"iid":1443,"title":"Extract fields in Issue Tracker Project Services to a separate table","url":"/groups/gitlab-org/-/epics/1443","group_id":9970,"human_readable_end_date":"Mar 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":24697841,"iid":29395,"project_id":278964,"title":"SSRF possible due to shared address space not being blocked.","description":"**[HackerOne report #579934](https://hackerone.com/reports/579934)** by `no1zy` on 2019-05-14, assigned to `estrike`:\n\n### Summary\n\nBecause `/lib/gitlab/url_blocker.rb` does not block shared address space, [SSRF](https://owasp.org/www-community/attacks/Server_Side_Request_Forgery) is possible.\n\n### Steps to reproduce\n\n1. Go to http://{host}/projects/new\".  \n2. Click to \"Repo by URL\".  \n3. Enter the following in Git repository URL field. `http://100.64.0.5:9999/ssrf`  \n4. Enter other required fields.  \n5. Click to \"Create project\".\n\n```  \nGET /ssrf/info/refs?service=git-upload-pack HTTP/1.1  \nHost: 100.64.0.5:9999  \nUser-Agent: git/2.18.1  \nAccept: */*  \nAccept-Encoding: deflate, gzip  \nPragma: no-cache\n\n\n```\n\n6. If you want to send parameters, specify the URL as follows:\n\n```  \nhttp://100.64.0.5:9999/ssrf?param=true#  \n```\n\n\n\n```  \nGET /ssrf?param=true HTTP/1.1  \nHost: 100.64.0.5:9999  \nUser-Agent: git/2.18.1  \nAccept: */*  \nAccept-Encoding: deflate, gzip  \nPragma: no-cache\n\n\n```\n\n## Impact\n\nThe shared address space is used as a private network address by the ISP.  \nReference: https://en.wikipedia.org/wiki/IPv4_shared_address_space\n\nThis issue affects all actions using `/lib/gitlab/url_blocker.rb`.\n\n## Proposal\n\nTo fix this issue, also block the `100.64.0.0/10` netmask.","state":"closed","created_at":"2019-06-10T19:59:47.570Z","updated_at":"2022-06-06T13:29:25.835Z","closed_at":"2022-02-03T11:41:54.349Z","closed_by":{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"},"labels":["Category:Source Code Management","Deliverable","Eng-Consumer::Security","Eng-Producer::Development","Engineering Allocation","HackerOne","backend","bug::vulnerability","devops::create","group::source code","internal customer","priority::4","section::dev","security","security request","security-backlog::review-complete","severity::4","type::bug","workflow::in review"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"}],"author":{"id":2741139,"username":"gitlab-securitybot","name":"GitLab SecurityBot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2741139/avatar.png","web_url":"https://gitlab.com/gitlab-securitybot"},"type":"ISSUE","assignee":{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"},"user_notes_count":29,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/29395","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/29395","notes":"https://gitlab.com/api/v4/projects/278964/issues/29395/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/29395/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#29395","relative":"#29395","full":"gitlab-org/gitlab#29395"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7128,"epic":{"id":384256,"iid":7128,"title":"Security Engineering Allocation (Source Code BE): 10-NOV-2021","url":"/groups/gitlab-org/-/epics/7128","group_id":9970,"human_readable_end_date":"Apr 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":21762313,"iid":12063,"project_id":278964,"title":"Allow DAST to scan sites with self-signed or untrusted certificates","description":"\nZAProxy supports the ability to scan sites that have insecure certificates. Examples of insecure certificates include those that are expired, self-signed or are for the wrong host.\n\nBefore each scan, DAST runs a check on the target website to see if it returns a successful HTTP response. If not, it retries every 5 seconds. If still failing after 60 seconds in total, it attempts to run the scan anyway.\n\nIn the case of an invalid certificate, the response is always considered unsuccessful and the pre-scan check unnecessarily takes 60 seconds. \n\n### Proposal\nThe pre-scan check should check based on the HTTP response, and should not fail if the certificate is invalid.\nThis should be tested to verify that it works as expected.\n\n\n\u003cp\u003e\n\u003cdetails\u003e\n\u003csummary\u003eOld MVC\u003c/summary\u003e\nThere are no unresolved discussions. Review the conversation in https://gitlab.com/gitlab-org/security-products/dast/merge_requests/21\n\nLet's see if we can safely exit if curl can't reach the target website.\u003c/details\u003e\n\u003c/p\u003e\n","state":"closed","created_at":"2019-06-10T15:19:01.078Z","updated_at":"2019-11-19T03:05:12.119Z","closed_at":"2019-11-19T03:05:12.065Z","closed_by":{"id":4312863,"username":"cam_swords","name":"Cameron Swords","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3b729cf96bcced6384ebb94f0362bd4b?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam_swords"},"labels":["Category:DAST","Enterprise Edition","backstage [DEPRECATED]","devops::secure","group::dynamic analysis","missed:12.5","workflow::verification"],"milestone":{"id":891797,"iid":40,"group_id":9970,"title":"12.6","description":"https://about.gitlab.com/releases/2019/12/22/gitlab-12-6-released","state":"closed","created_at":"2019-05-31T08:38:03.539Z","updated_at":"2020-04-27T16:27:13.329Z","due_date":"2019-12-17","start_date":"2019-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/40"},"assignees":[{"id":4312863,"username":"cam_swords","name":"Cameron Swords","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3b729cf96bcced6384ebb94f0362bd4b?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam_swords"}],"author":{"id":30915,"username":"plafoucriere","name":"Philippe Lafoucrire","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/30915/avatar.png","web_url":"https://gitlab.com/plafoucriere"},"type":"ISSUE","assignee":{"id":4312863,"username":"cam_swords","name":"Cameron Swords","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3b729cf96bcced6384ebb94f0362bd4b?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam_swords"},"user_notes_count":22,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/12063","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/12063","notes":"https://gitlab.com/api/v4/projects/278964/issues/12063/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/12063/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#12063","relative":"#12063","full":"gitlab-org/gitlab#12063"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":21754141,"iid":12061,"project_id":278964,"title":"geo_nodes.primary should not allow nil","description":"We rely on it being `false` or `true` while nil is possible.","state":"closed","created_at":"2019-06-10T10:56:09.040Z","updated_at":"2019-12-16T14:49:40.215Z","closed_at":"2019-06-21T10:16:54.043Z","closed_by":{"id":1562869,"username":"abrandl","name":"Andreas Brandl","state":"active","avatar_url":"https://secure.gravatar.com/avatar/487c4c74f7e1714b5a270e00d4735e84?s=80\u0026d=identicon","web_url":"https://gitlab.com/abrandl"},"labels":["Category:Geo Replication","Community contribution","Enterprise Edition","devops::systems","group::geo","maintenance::refactor","workflow::in dev"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":495035,"username":"auua","name":"Arun Kumar Mohan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/495035/avatar.png","web_url":"https://gitlab.com/auua"}],"author":{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"},"type":"ISSUE","assignee":{"id":495035,"username":"auua","name":"Arun Kumar Mohan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/495035/avatar.png","web_url":"https://gitlab.com/auua"},"user_notes_count":11,"merge_requests_count":2,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/12061","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/12061","notes":"https://gitlab.com/api/v4/projects/278964/issues/12061/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/12061/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#12061","relative":"#12061","full":"gitlab-org/gitlab#12061"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":21714763,"iid":12055,"project_id":278964,"title":"API for overriding Merge Request Approval rules","description":"## Problem to solve\n\nThe API cannot be used to override merge request approval rules.\n\nWhen overriding merge request approval rules is allowed, it is possible to override the approval rules via the interface, but not via the API. This prevents automation via the API, which is most relevant for per merge request changes for automating custom policies or workflows.\n\n## Intended Users\n\nDevelopers\n\n## Further details\n\nThe Merge Request Approvals API is important to customers who implement automation and policy tools around GitLab, and it is important that the API support the core features of GitLab.\n\n## Proposal\n\nExtend the Merge Requests Approval API so that, in addition to viewing the approval requirements for a merge request, a **developer** will be able to:\n\n- edit approval rules\n- create new approval rules\n- remove approval rules\n\n## Permissions and Security\n\nPermissions of the API should be consistent with interface permissions of the user performing the operation.\n\n## Documentation\n\nUpdate the Approvals API documentation\n\n## Links / references\n","state":"closed","created_at":"2019-06-10T01:02:00.076Z","updated_at":"2019-09-09T13:40:04.891Z","closed_at":"2019-09-06T04:39:35.593Z","closed_by":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"labels":["Deliverable","Enterprise Edition","GitLab Starter","api","approvals","backend","devops::create","group::source code","type::feature"],"milestone":{"id":731038,"iid":37,"group_id":9970,"title":"12.3","description":"https://about.gitlab.com/releases/2019/09/22/gitlab-12-3-released/","state":"closed","created_at":"2018-12-07T12:40:55.400Z","updated_at":"2020-04-23T21:06:04.173Z","due_date":"2019-09-17","start_date":"2019-08-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/37"},"assignees":[{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"}],"author":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"type":"ISSUE","assignee":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"user_notes_count":38,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/12055","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/12055","notes":"https://gitlab.com/api/v4/projects/278964/issues/12055/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/12055/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#12055","relative":"#12055","full":"gitlab-org/gitlab#12055"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24697575,"iid":29335,"project_id":278964,"title":"Profile page remains active after user has been blocked","description":"### Summary\n\nUser profile pages remain \"active\"/public after the user has been blocked for abuse. This defeats the purpose of blocking users that use then \"Name\" field to post spam. Examples:\n1. https://gitlab.com/654851245\n2. https://gitlab.com/654223390\n3. https://gitlab.com/654365452\n4. https://gitlab.com/654165444\n\n### Steps to reproduce\n\nOpen the above mentioned profile pages or look for any blocked account in the admin console and open their profile page.\n\n### What is the current *bug* behavior?\n\nAn account gets blocked for behavior/content that breaches our Terms of Use however their profile page remains publicly accessible after the block.\n\n### What is the expected *correct* behavior?\n\nWhen a user is blocked their profile page should not be visible anymore. \n\nWe can use a similar approach when viewing a private profile, only change the copy to reflect that the profile for this user is no longer available.\n\n### Relevant logs and/or screenshots\n\n1. https://gitlab.com/654851245\n2. https://gitlab.com/654223390\n3. https://gitlab.com/654365452\n4. https://gitlab.com/654165444\n\n### Output of checks\n\nThis bug happens on GitLab.com","state":"closed","created_at":"2019-06-07T14:06:12.700Z","updated_at":"2021-10-05T09:12:13.539Z","closed_at":"2019-12-23T14:23:57.257Z","closed_by":{"id":1230286,"username":"xanf","name":"Illya Klymov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ce4d16557b46210fa57641531b570dd4?s=80\u0026d=identicon","web_url":"https://gitlab.com/xanf"},"labels":["devops::manage","estimation::completed","frontend","group::authentication and authorization","internal customer","priority::3","security","severity::3","spam fighting","type::bug","workflow::verification"],"milestone":{"id":891797,"iid":40,"group_id":9970,"title":"12.6","description":"https://about.gitlab.com/releases/2019/12/22/gitlab-12-6-released","state":"closed","created_at":"2019-05-31T08:38:03.539Z","updated_at":"2020-04-27T16:27:13.329Z","due_date":"2019-12-17","start_date":"2019-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/40"},"assignees":[{"id":1230286,"username":"xanf","name":"Illya Klymov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ce4d16557b46210fa57641531b570dd4?s=80\u0026d=identicon","web_url":"https://gitlab.com/xanf"}],"author":{"id":3917793,"username":"dewit","name":"Charl de Wit","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3917793/avatar.png","web_url":"https://gitlab.com/dewit"},"type":"ISSUE","assignee":{"id":1230286,"username":"xanf","name":"Illya Klymov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ce4d16557b46210fa57641531b570dd4?s=80\u0026d=identicon","web_url":"https://gitlab.com/xanf"},"user_notes_count":15,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/29335","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/29335","notes":"https://gitlab.com/api/v4/projects/278964/issues/29335/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/29335/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#29335","relative":"#29335","full":"gitlab-org/gitlab#29335"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":21664312,"iid":12026,"project_id":278964,"title":"Use NotesFinder#target to find Epics","description":"The following discussion from !13265 should be addressed:\n\n- [ ] @felipe_artur started a [discussion](https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/13265#note_174884867):  (+4 comments)\n\n    \u003e I think we should also make `NotesFinder#target` be able to return epics here, but that would require an EE module for it.  \n    \u003e \n    \u003e Maybe it is out of the scope for this merge request.\n\nSo we should:\n\n1.\nOverride NotesFinder#target so it is able to find epics.\n\n2.\nEvaluate refactoring of the discussed code part (is it needed after using NotesFinder#target for epics?)","state":"closed","created_at":"2019-06-07T08:59:55.758Z","updated_at":"2022-05-19T16:08:09.219Z","closed_at":"2019-08-08T15:38:55.778Z","closed_by":{"id":15139,"username":"rspeicher","name":"Robert Speicher","state":"active","avatar_url":"https://secure.gravatar.com/avatar/73c8253932541a7b5cbc5d79493f2bea?s=80\u0026d=identicon","web_url":"https://gitlab.com/rspeicher"},"labels":["Enterprise Edition","backend","backstage [DEPRECATED]","devops::plan","group::project management","maintenance::refactor","workflow::in review"],"milestone":null,"assignees":[{"id":3078895,"username":"pd-gitlab","name":"Patrick Derichs","state":"blocked","avatar_url":"https://secure.gravatar.com/avatar/7e106768fae83577b0eec7daf082cb7d?s=80\u0026d=identicon","web_url":"https://gitlab.com/pd-gitlab"}],"author":{"id":3078895,"username":"pd-gitlab","name":"Patrick Derichs","state":"blocked","avatar_url":"https://secure.gravatar.com/avatar/7e106768fae83577b0eec7daf082cb7d?s=80\u0026d=identicon","web_url":"https://gitlab.com/pd-gitlab"},"type":"ISSUE","assignee":{"id":3078895,"username":"pd-gitlab","name":"Patrick Derichs","state":"blocked","avatar_url":"https://secure.gravatar.com/avatar/7e106768fae83577b0eec7daf082cb7d?s=80\u0026d=identicon","web_url":"https://gitlab.com/pd-gitlab"},"user_notes_count":2,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/12026","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/12026","notes":"https://gitlab.com/api/v4/projects/278964/issues/12026/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/12026/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#12026","relative":"#12026","full":"gitlab-org/gitlab#12026"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24697498,"iid":29306,"project_id":278964,"title":"Set Dashboard endpoints outside of component","description":"In `monitoring_bundle.js` we can call `store.dispatch('monitoringDashboard/setEndpoints', endpoints)`, and then we do not need to pass them to dashboard.vue at all\n\n\nThe following discussion from gitlab-ce!29226 should be addressed:\n\n- [ ] @winh started a [discussion](https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/29226#note_178521117):  (+1 comment)\n\n    \u003e This is not directly related to this merge request: I'm wondering why we pass the endpoints to the component only to put them in the store. Couldn't we do this in the page bundle directly?","state":"closed","created_at":"2019-06-06T22:45:17.026Z","updated_at":"2022-01-27T17:15:23.130Z","closed_at":"2022-01-27T17:15:22.646Z","closed_by":{"id":9304687,"username":"abellucci","name":"Alana Bellucci","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9304687/avatar.png","web_url":"https://gitlab.com/abellucci"},"labels":["Category:Metrics","[deprecated] Accepting merge requests","devops::monitor","frontend","group::observability","section::ops","type::maintenance"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":832471,"username":"psimyn","name":"Simon Knox","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3de75939c39eecd6ea2215ec740a8037?s=80\u0026d=identicon","web_url":"https://gitlab.com/psimyn"},"type":"ISSUE","assignee":null,"user_notes_count":3,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/29306","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/29306","notes":"https://gitlab.com/api/v4/projects/278964/issues/29306/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/29306/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#29306","relative":"#29306","full":"gitlab-org/gitlab#29306"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":21647600,"iid":12012,"project_id":278964,"title":"Pipfile.lock support for License Management","description":"### Problem to solve\n\n[license-management](https://gitlab.com/gitlab-org/security-products/license-management) has a limited support for Python, and it can only report licenses for Python projects using pip. Projects having a `Pipfile.lock`are not supported, even though they are easier to process (no need to fetch the Python packages, no need to install system libraries).\n\n### Intended users\n\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n\n### Further details\n\nAs of [LicenseFinder](https://github.com/pivotal/LicenseFinder) v5.11.1, Python support is limited to Pip. It's implemented in the [Pip::PackageManager](https://github.com/pivotal/LicenseFinder/blob/v5.11.1/lib/license_finder/package_managers/pip.rb) class and relies on the [license_finder_pip.py](https://github.com/pivotal/LicenseFinder/blob/v5.11.1/bin/license_finder_pip.py) Python script to fetch and install the Python packages (which is not reliable and will fail if the system dependencies are not satisfied). `Pip::PackageManager` processes the output of `license_finder_pip.py`, builds a list of dependencies, and queries pypi.org to get metadata (named `spec`) on these packages. See [`pypi_def`](https://github.com/pivotal/LicenseFinder/blob/v5.11.1/lib/license_finder/package_managers/pip.rb#L20). `Pip::PackageManager` returns an array of [PipPackage::Package](https://github.com/pivotal/LicenseFinder/blob/v5.11.1/lib/license_finder/packages/pip_package.rb#L25).\n\n### Proposal\n\nAdd `Pipfile.lock` support to [LicenseFinder](https://github.com/pivotal/LicenseFinder). Ideally this would be contributed back to the upstream project, but we may need a temporary solution if the pull requests is not quickly merged into the [LicenseFinder](https://github.com/pivotal/LicenseFinder) repo. For instance, we may overload [LicenseFinder](https://github.com/pivotal/LicenseFinder) in [license-management](https://gitlab.com/gitlab-org/security-products/license-management) until `Pipfile.lock` support is merged.\n\nPipfile.lock may reuse part of the code used to implement [pip support](https://github.com/pivotal/LicenseFinder/blob/v5.11.1/lib/license_finder/package_managers/pip.rb) but it will be significantly different because there's no need to call a Python script to fetch, install, and list the Python packages. The implementation would mostly parse a JSON document, like the code used to provide [npm support](https://github.com/pivotal/LicenseFinder/blob/v5.11.1/lib/license_finder/packages/npm_package.rb).\n\n### Implementation plan\n\n- Update [LicenseFinder](https://github.com/pivotal/LicenseFinder)\n  - Extract generic code from [Pip::PackageManager](https://github.com/pivotal/LicenseFinder/blob/v5.11.1/lib/license_finder/package_managers/pip.rb#L20), and make `pypi_def` method reusable\n  - Extract generic code from [PipPackage::Package](https://github.com/pivotal/LicenseFinder/blob/v5.11.1/lib/license_finder/packages/pip_package.rb#L25) (class method `license_names_from_spec`) or possibly rename class to something more generic\n  - Create new package manager class for Pipfile.lock support\n  - Create or reuse package class\n- Update [license-management](https://gitlab.com/gitlab-org/security-products/license-management)\n  - Update CI config and add QA job to test with a project having a `Pipfile.lock`\n  - Release new version\n\n### Permissions and Security\n\nNo change.\n\n### Documentation\n\nUpdate [license-management](https://gitlab.com/gitlab-org/security-products/license-management) documentation.\n\n### Testing\n\n- Rspec specs, similar to what already exists in License Finder\n- QA job using a test project having `Pipfile.lock`\n\n### What does success look like, and how can we measure that?\n\nLicenses successfully reported for Python projects with a `Pipfile.lock`, even when system dependencies are not satisfied by the `license-management` Docker image.\n\n### What is the type of buyer? \n\n\u003c!-- Which leads to: in which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#four-tiers --\u003e\n\n### Links / references\n\nhttps://gitlab.com/gitlab-org/gitlab/issues/6783\n\n### Product\n- Release Post - Not Needed","state":"closed","created_at":"2019-06-06T16:14:18.523Z","updated_at":"2020-01-16T17:27:38.439Z","closed_at":"2020-01-16T17:27:38.380Z","closed_by":{"id":971158,"username":"xlgmokha","name":"mo khan","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cc8d289bc1a24067f9af4f92452f4fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/xlgmokha"},"labels":["Category:License Compliance","Enterprise Edition","Stretch","backend","devops::secure","group::composition analysis","type::feature"],"milestone":{"id":891798,"iid":41,"group_id":9970,"title":"12.7","description":"https://about.gitlab.com/releases/2020/01/22/gitlab-12-7-released/","state":"closed","created_at":"2019-05-31T08:38:04.523Z","updated_at":"2020-05-19T13:46:24.737Z","due_date":"2020-01-17","start_date":"2019-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/41"},"assignees":[{"id":971158,"username":"xlgmokha","name":"mo khan","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cc8d289bc1a24067f9af4f92452f4fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/xlgmokha"}],"author":{"id":52092,"username":"gonzoyumo","name":"Olivier Gonzalez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/651e0ff81c3995a05269f7c80895fe89?s=80\u0026d=identicon","web_url":"https://gitlab.com/gonzoyumo"},"type":"ISSUE","assignee":{"id":971158,"username":"xlgmokha","name":"mo khan","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cc8d289bc1a24067f9af4f92452f4fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/xlgmokha"},"user_notes_count":19,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/12012","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":8,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/12012","notes":"https://gitlab.com/api/v4/projects/278964/issues/12012/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/12012/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#12012","relative":"#12012","full":"gitlab-org/gitlab#12012"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1401,"epic":{"id":7869,"iid":1401,"title":"Improve License Compliance support for Python","url":"/groups/gitlab-org/-/epics/1401","group_id":9970,"human_readable_end_date":"Jan 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":24697474,"iid":29295,"project_id":278964,"title":"Time tracked info are different during right side open and collapsed","description":"Steps to reproduce\n\n1. go to any issue page\n1. let's say total time logged in that issue is 3h 45m (not in multiple of hours but have some minutes) \n1. then when the right side bar is open everything is well\n1. but when collapsed and we move mouse over to time tracked/logged section it shows only *Time spent: 3h / --* in tooltip in desktop computer instead of `3h 45m`. This is important because this is used in billing in many cases and showing the right info in tooltip (when right side bar is collapsed) saves time and is more user friendly \n1. havn't checked anything in mobile\n\nEdit:\nI am using self hosted gitlab instance but this issue also exist on gitlab.com","state":"closed","created_at":"2019-06-06T15:28:25.162Z","updated_at":"2022-05-19T16:08:23.722Z","closed_at":"2019-10-04T11:27:50.880Z","closed_by":{"id":4545397,"username":"cngo","name":"Coung Ngo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4545397/avatar.png","web_url":"https://gitlab.com/cngo"},"labels":["Category:Team Planning","UX","devops::plan","frontend","group::project management","missed:12.3","priority::3","severity::2","time tracking","type::bug","workflow::production"],"milestone":{"id":731039,"iid":38,"group_id":9970,"title":"12.4","description":"https://about.gitlab.com/releases/2019/10/22/gitlab-12-4-released","state":"closed","created_at":"2018-12-07T12:41:53.212Z","updated_at":"2020-04-27T16:30:43.889Z","due_date":"2019-10-17","start_date":"2019-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/38"},"assignees":[{"id":4545397,"username":"cngo","name":"Coung Ngo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4545397/avatar.png","web_url":"https://gitlab.com/cngo"}],"author":{"id":3195707,"username":"sohelahmed7","name":"Sohel Ahmed Mesaniya","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3195707/avatar.png","web_url":"https://gitlab.com/sohelahmed7"},"type":"ISSUE","assignee":{"id":4545397,"username":"cngo","name":"Coung Ngo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4545397/avatar.png","web_url":"https://gitlab.com/cngo"},"user_notes_count":9,"merge_requests_count":2,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/29295","time_stats":{"time_estimate":360000,"total_time_spent":0,"human_time_estimate":"100h","human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/29295","notes":"https://gitlab.com/api/v4/projects/278964/issues/29295/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/29295/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#29295","relative":"#29295","full":"gitlab-org/gitlab#29295"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24697458,"iid":29289,"project_id":278964,"title":"[FE] Group Level Analytics","description":"gitlab-ce~3412464 issue for https://gitlab.com/gitlab-org/gitlab-ce/issues/62346","state":"closed","created_at":"2019-06-06T11:54:25.354Z","updated_at":"2019-10-18T12:21:17.586Z","closed_at":"2019-10-03T19:26:32.008Z","closed_by":{"id":3511154,"username":"valexieva","name":"Virjinia Alexieva","state":"blocked","avatar_url":"https://secure.gravatar.com/avatar/bc036fa2e7b6fa926a175324a948169f?s=80\u0026d=identicon","web_url":"https://gitlab.com/valexieva"},"labels":["Deliverable","GitLab Premium","Manage [DEPRECATED]","Persona: Development Team Lead","devops::manage","frontend","group::optimize","missed-deliverable","missed:12.2","missed:12.3","priority::1","type::feature","workflow::in review"],"milestone":{"id":731039,"iid":38,"group_id":9970,"title":"12.4","description":"https://about.gitlab.com/releases/2019/10/22/gitlab-12-4-released","state":"closed","created_at":"2018-12-07T12:41:53.212Z","updated_at":"2020-04-27T16:30:43.889Z","due_date":"2019-10-17","start_date":"2019-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/38"},"assignees":[{"id":750946,"username":"dennis","name":"Dennis Tang","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/750946/avatar.png","web_url":"https://gitlab.com/dennis"}],"author":{"id":750946,"username":"dennis","name":"Dennis Tang","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/750946/avatar.png","web_url":"https://gitlab.com/dennis"},"type":"ISSUE","assignee":{"id":750946,"username":"dennis","name":"Dennis Tang","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/750946/avatar.png","web_url":"https://gitlab.com/dennis"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/29289","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/29289","notes":"https://gitlab.com/api/v4/projects/278964/issues/29289/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/29289/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#29289","relative":"#29289","full":"gitlab-org/gitlab#29289"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":21969479,"iid":12217,"project_id":278964,"title":"[FE] Productivity Analytics MVC","description":"gitlab-ce~3412464 issue for https://gitlab.com/gitlab-org/gitlab-ee/issues/12079","state":"closed","created_at":"2019-06-06T11:54:23.404Z","updated_at":"2019-09-12T12:19:57.022Z","closed_at":"2019-09-11T16:16:05.473Z","closed_by":{"id":15139,"username":"rspeicher","name":"Robert Speicher","state":"active","avatar_url":"https://secure.gravatar.com/avatar/73c8253932541a7b5cbc5d79493f2bea?s=80\u0026d=identicon","web_url":"https://gitlab.com/rspeicher"},"labels":["Deliverable","Enterprise Edition","GitLab Premium","Manage [DEPRECATED]","Persona: Development Team Lead","devops::manage","estimation::completed","frontend","group::optimize","missed-deliverable","missed:12.1","missed:12.2","priority::1","workflow::in review"],"milestone":{"id":731038,"iid":37,"group_id":9970,"title":"12.3","description":"https://about.gitlab.com/releases/2019/09/22/gitlab-12-3-released/","state":"closed","created_at":"2018-12-07T12:40:55.400Z","updated_at":"2020-04-23T21:06:04.173Z","due_date":"2019-09-17","start_date":"2019-08-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/37"},"assignees":[{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"}],"author":{"id":750946,"username":"dennis","name":"Dennis Tang","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/750946/avatar.png","web_url":"https://gitlab.com/dennis"},"type":"ISSUE","assignee":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"user_notes_count":9,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/12217","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":10,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/12217","notes":"https://gitlab.com/api/v4/projects/278964/issues/12217/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/12217/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#12217","relative":"#12217","full":"gitlab-org/gitlab#12217"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":21636080,"iid":12002,"project_id":278964,"title":"Move SAST reports logic for the Merge Request widget to the backend","description":"The security request reports on the merge request widget currently use the generated artifacts to generate SAST reports on the frontend. \nWe should move this logic into the backend, and provide final results to the frontend, like [junit reports](https://docs.gitlab.com/ee//ci/junit_test_reports.html) do.\n\nThis will improve performances of page load and will allow more flexibility.\n\n### Proposal\n\nWe should compare the SAST reports in the backend and expose the result to frontend, using a ready to use and common json entity. Such [entities already exist](https://gitlab.com/gitlab-org/gitlab-ee/blob/master/ee/app/serializers/vulnerabilities/occurrence_entity.rb) as part of the Group Security Dashboard and should be reused to provide the same structure everywhere and allow frontend to reuse standard components.\n\nThis API should then be consumed by the frontend and the older artifacts code should be moved behind a feature flag so we can revert back to using it if we need to.\n\n* [x]  Frontend #13647 / !15804","state":"closed","created_at":"2019-06-06T10:46:21.630Z","updated_at":"2019-11-18T15:57:32.455Z","closed_at":"2019-10-17T14:03:45.124Z","closed_by":{"id":1125848,"username":"samdbeckham","name":"Sam Beckham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1125848/avatar.png","web_url":"https://gitlab.com/samdbeckham"},"labels":["Category:SAST","Deliverable","Enterprise Edition","backend","backstage [DEPRECATED]","bug::performance","devops::secure","frontend","group::static analysis","maintenance::refactor","missed-deliverable","missed:12.3"],"milestone":{"id":731039,"iid":38,"group_id":9970,"title":"12.4","description":"https://about.gitlab.com/releases/2019/10/22/gitlab-12-4-released","state":"closed","created_at":"2018-12-07T12:41:53.212Z","updated_at":"2020-04-27T16:30:43.889Z","due_date":"2019-10-17","start_date":"2019-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/38"},"assignees":[{"id":32707,"username":"rossfuhrman","name":"rossfuhrman","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/32707/avatar.png","web_url":"https://gitlab.com/rossfuhrman"},{"id":1125848,"username":"samdbeckham","name":"Sam Beckham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1125848/avatar.png","web_url":"https://gitlab.com/samdbeckham"}],"author":{"id":1125848,"username":"samdbeckham","name":"Sam Beckham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1125848/avatar.png","web_url":"https://gitlab.com/samdbeckham"},"type":"ISSUE","assignee":{"id":32707,"username":"rossfuhrman","name":"rossfuhrman","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/32707/avatar.png","web_url":"https://gitlab.com/rossfuhrman"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/12002","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":1},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/12002","notes":"https://gitlab.com/api/v4/projects/278964/issues/12002/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/12002/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#12002","relative":"#12002","full":"gitlab-org/gitlab#12002"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1425,"epic":{"id":8072,"iid":1425,"title":"Move reports logic for security reports to backend","url":"/groups/gitlab-org/-/epics/1425","group_id":9970,"human_readable_end_date":"Feb 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":24697447,"iid":29284,"project_id":278964,"title":"Video preview not working","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label.\n\nFor the Community Edition issue tracker:\n\n- https://gitlab.com/gitlab-org/gitlab-ce/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab-ce/issues?label_name%5B%5D=bug\n\nFor the Enterprise Edition issue tracker:\n\n- https://gitlab.com/gitlab-org/gitlab-ee/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab-ee/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nI attached an MP4 file to a comment on a MR, and it shows up like:\n\n![image](/uploads/f16c38a2e6590f341fe1445cc5227abc/image.png)\n\n### Steps to reproduce\n\n(How one can reproduce the issue - this is very important)\n\n### Example Project\n\n(If possible, please create an example project here on GitLab.com that exhibits the problematic behavior, and link to it here in the bug report)\n\n(If you are using an older version of GitLab, this will also determine whether the bug is fixed in a more recent version)\n\n### What is the current *bug* behavior?\n\nThe HTML for it is:\n\n```html\n\u003ca class=\"no-attachment-icon\" href=\"https://gitlab.com/\u003credacted\u003e/ScreenRecording_06-06-2019_12-14-17.MP4\" target=\"_blank\" rel=\"noopener noreferrer\"\u003e\n    \u003cimg src=\"https://gitlab.com/\u003credacted\u003e/ScreenRecording_06-06-2019_12-14-17.MP4\" alt=\"ScreenRecording_06-06-2019_12-14-17\" class=\"js-lazy-loaded qa-js-lazy-loaded\"\u003e\n\u003c/a\u003e\n```\n\n### What is the expected *correct* behavior?\n\nThe `src` of the `img` tag should not be pointing to a video, I think.\n\n### Output of checks\n\nThis bug happens on GitLab.com","state":"closed","created_at":"2019-06-06T09:23:05.013Z","updated_at":"2022-05-19T16:08:22.922Z","closed_at":"2019-10-10T07:11:51.192Z","closed_by":{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"},"labels":["backend","banzai","devops::plan","group::project management","issues","priority::3","severity::3","type::bug"],"milestone":{"id":731039,"iid":38,"group_id":9970,"title":"12.4","description":"https://about.gitlab.com/releases/2019/10/22/gitlab-12-4-released","state":"closed","created_at":"2018-12-07T12:41:53.212Z","updated_at":"2020-04-27T16:30:43.889Z","due_date":"2019-10-17","start_date":"2019-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/38"},"assignees":[{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"}],"author":{"id":206339,"username":"mondly-iulian-onofrei","name":"Iulian Onofrei","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/206339/avatar.png","web_url":"https://gitlab.com/mondly-iulian-onofrei"},"type":"ISSUE","assignee":{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"},"user_notes_count":5,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/29284","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/29284","notes":"https://gitlab.com/api/v4/projects/278964/issues/29284/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/29284/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#29284","relative":"#29284","full":"gitlab-org/gitlab#29284"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":21625791,"iid":11994,"project_id":278964,"title":"`ee/spec/features/boards/group_boards/user_edits_issues_spec.rb` spec failure on master","description":"Job [#226254052](https://gitlab.com/gitlab-org/gitlab-ee/-/jobs/226254052) failed for 4b6a58b3495a74a308708d7b88c9fdb05fa61088:\n\n\n```\nFailures:\n\n  1) label issues adds a new group label from sidebar\n     Failure/Error: expect(page).to have_link 'test label'\n       expected to find visible link \"test label\" within #\u003cCapybara::Node::Element tag=\"div\" path=\"/html/body/div[2]/div[2]/div[3]/div/div/aside/div/div[2]/div[5]\"\u003e but there were no matches\n     # ./vendor/ruby/2.6.0/gems/rspec-support-3.7.1/lib/rspec/support.rb:97:in `block in \u003cmodule:Support\u003e'\n     # ./vendor/ruby/2.6.0/gems/rspec-support-3.7.1/lib/rspec/support.rb:106:in `notify_failure'\n     # ./vendor/ruby/2.6.0/gems/rspec-expectations-3.7.0/lib/rspec/expectations/fail_with.rb:35:in `fail_with'\n     # ./vendor/ruby/2.6.0/gems/rspec-expectations-3.7.0/lib/rspec/expectations/handler.rb:40:in `handle_failure'\n     # ./vendor/ruby/2.6.0/gems/rspec-expectations-3.7.0/lib/rspec/expectations/handler.rb:50:in `block in handle_matcher'\n     # ./vendor/ruby/2.6.0/gems/rspec-expectations-3.7.0/lib/rspec/expectations/handler.rb:27:in `with_matcher'\n     # ./vendor/ruby/2.6.0/gems/rspec-expectations-3.7.0/lib/rspec/expectations/handler.rb:48:in `handle_matcher'\n     # ./vendor/ruby/2.6.0/gems/rspec-expectations-3.7.0/lib/rspec/expectations/expectation_target.rb:65:in `to'\n     # ./ee/spec/features/boards/group_boards/user_edits_issues_spec.rb:38:in `block (3 levels) in \u003ctop (required)\u003e'\n     # ./vendor/ruby/2.6.0/gems/capybara-2.18.0/lib/capybara/session.rb:341:in `within'\n     # ./ee/spec/features/boards/group_boards/user_edits_issues_spec.rb:37:in `block (2 levels) in \u003ctop (required)\u003e'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.7.1/lib/rspec/core/example.rb:254:in `instance_exec'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.7.1/lib/rspec/core/example.rb:254:in `block in run'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.7.1/lib/rspec/core/example.rb:500:in `block in with_around_and_singleton_context_hooks'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.7.1/lib/rspec/core/example.rb:457:in `block in with_around_example_hooks'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.7.1/lib/rspec/core/hooks.rb:466:in `block in run'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.7.1/lib/rspec/core/hooks.rb:606:in `block in run_around_example_hooks_for'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.7.1/lib/rspec/core/example.rb:342:in `call'\n     # ./vendor/ruby/2.6.0/gems/rspec-rails-3.7.2/lib/rspec/rails/adapters.rb:127:in `block (2 levels) in \u003cmodule:MinitestLifecycleAdapter\u003e'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.7.1/lib/rspec/core/example.rb:447:in `instance_exec'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.7.1/lib/rspec/core/example.rb:447:in `instance_exec'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.7.1/lib/rspec/core/hooks.rb:375:in `execute_with'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.7.1/lib/rspec/core/hooks.rb:608:in `block (2 levels) in run_around_example_hooks_for'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.7.1/lib/rspec/core/example.rb:342:in `call'\n     # ./vendor/ruby/2.6.0/gems/rspec-retry-0.4.5/lib/rspec/retry.rb:98:in `block in run'\n     # ./vendor/ruby/2.6.0/gems/rspec-retry-0.4.5/lib/rspec/retry.rb:88:in `loop'\n     # ./vendor/ruby/2.6.0/gems/rspec-retry-0.4.5/lib/rspec/retry.rb:88:in `run'\n     # ./vendor/ruby/2.6.0/gems/rspec-retry-0.4.5/lib/rspec_ext/rspec_ext.rb:12:in `run_with_retry'\n     # ./vendor/ruby/2.6.0/gems/rspec-retry-0.4.5/lib/rspec/retry.rb:22:in `block (2 levels) in setup'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.7.1/lib/rspec/core/example.rb:447:in `instance_exec'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.7.1/lib/rspec/core/example.rb:447:in `instance_exec'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.7.1/lib/rspec/core/hooks.rb:375:in `execute_with'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.7.1/lib/rspec/core/hooks.rb:608:in `block (2 levels) in run_around_example_hooks_for'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.7.1/lib/rspec/core/example.rb:342:in `call'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.7.1/lib/rspec/core/hooks.rb:609:in `run_around_example_hooks_for'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.7.1/lib/rspec/core/hooks.rb:466:in `run'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.7.1/lib/rspec/core/example.rb:457:in `with_around_example_hooks'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.7.1/lib/rspec/core/example.rb:500:in `with_around_and_singleton_context_hooks'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.7.1/lib/rspec/core/example.rb:251:in `run'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.7.1/lib/rspec/core/example_group.rb:628:in `block in run_examples'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.7.1/lib/rspec/core/example_group.rb:624:in `map'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.7.1/lib/rspec/core/example_group.rb:624:in `run_examples'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.7.1/lib/rspec/core/example_group.rb:590:in `run'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.7.1/lib/rspec/core/runner.rb:118:in `block (3 levels) in run_specs'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.7.1/lib/rspec/core/runner.rb:118:in `map'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.7.1/lib/rspec/core/runner.rb:118:in `block (2 levels) in run_specs'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.7.1/lib/rspec/core/configuration.rb:1926:in `with_suite_hooks'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.7.1/lib/rspec/core/runner.rb:113:in `block in run_specs'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.7.1/lib/rspec/core/reporter.rb:79:in `report'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.7.1/lib/rspec/core/runner.rb:112:in `run_specs'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.7.1/lib/rspec/core/runner.rb:87:in `run'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.7.1/lib/rspec/core/runner.rb:71:in `run'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.7.1/lib/rspec/core/runner.rb:45:in `invoke'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.7.1/exe/rspec:4:in `\u003ctop (required)\u003e'\n     # ./vendor/ruby/2.6.0/bin/rspec:23:in `load'\n     # ./vendor/ruby/2.6.0/bin/rspec:23:in `\u003ctop (required)\u003e'\n     # /usr/local/lib/ruby/2.6.0/bundler/cli/exec.rb:74:in `load'\n     # /usr/local/lib/ruby/2.6.0/bundler/cli/exec.rb:74:in `kernel_load'\n     # /usr/local/lib/ruby/2.6.0/bundler/cli/exec.rb:28:in `run'\n     # /usr/local/lib/ruby/2.6.0/bundler/cli.rb:463:in `exec'\n     # /usr/local/lib/ruby/2.6.0/bundler/vendor/thor/lib/thor/command.rb:27:in `run'\n     # /usr/local/lib/ruby/2.6.0/bundler/vendor/thor/lib/thor/invocation.rb:126:in `invoke_command'\n     # /usr/local/lib/ruby/2.6.0/bundler/vendor/thor/lib/thor.rb:387:in `dispatch'\n     # /usr/local/lib/ruby/2.6.0/bundler/cli.rb:27:in `dispatch'\n     # /usr/local/lib/ruby/2.6.0/bundler/vendor/thor/lib/thor/base.rb:466:in `start'\n     # /usr/local/lib/ruby/2.6.0/bundler/cli.rb:18:in `start'\n     # /usr/local/lib/ruby/gems/2.6.0/gems/bundler-1.17.2/exe/bundle:30:in `block in \u003ctop (required)\u003e'\n     # /usr/local/lib/ruby/2.6.0/bundler/friendly_errors.rb:124:in `with_friendly_errors'\n     # /usr/local/lib/ruby/gems/2.6.0/gems/bundler-1.17.2/exe/bundle:22:in `\u003ctop (required)\u003e'\n     # /usr/local/bin/bundle:23:in `load'\n     # /usr/local/bin/bundle:23:in `\u003cmain\u003e'\n\nFinished in 11 minutes 26 seconds (files took 15.64 seconds to load)\n314 examples, 1 failure, 2 pending\n\nFailed examples:\n\nrspec ./ee/spec/features/boards/group_boards/user_edits_issues_spec.rb:24 # label issues adds a new group label from sidebar\n```","state":"closed","created_at":"2019-06-06T07:48:08.718Z","updated_at":"2022-05-19T16:08:08.845Z","closed_at":"2019-09-25T12:45:19.819Z","closed_by":{"id":178079,"username":"wlsf82","name":"Walmyr Lima e Silva Filho","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/178079/avatar.png","web_url":"https://gitlab.com/wlsf82"},"labels":["Enterprise Edition","Quality","backend","devops::plan","failure::flaky-test","group::project management","missed:12.0","missed:12.1","missed:12.3","workflow::in review"],"milestone":{"id":731039,"iid":38,"group_id":9970,"title":"12.4","description":"https://about.gitlab.com/releases/2019/10/22/gitlab-12-4-released","state":"closed","created_at":"2018-12-07T12:41:53.212Z","updated_at":"2020-04-27T16:30:43.889Z","due_date":"2019-10-17","start_date":"2019-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/38"},"assignees":[{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"}],"author":{"id":171554,"username":"reprazent","name":"Bob Van Landuyt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/171554/avatar.png","web_url":"https://gitlab.com/reprazent"},"type":"ISSUE","assignee":{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"},"user_notes_count":7,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/11994","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/11994","notes":"https://gitlab.com/api/v4/projects/278964/issues/11994/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/11994/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#11994","relative":"#11994","full":"gitlab-org/gitlab#11994"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":21619098,"iid":11989,"project_id":278964,"title":"Track clicks on /sign_in with Snowplow","description":"### Overview\n\nI'm not aware of any click tracking on the `/sign_in` page. To understand where users are running into difficulty during registration, we should track what users are clicking on where they run into trouble.\n\n### Further details\n\nGitLab tracks events using Snowplow's `trackStructEvent` function. You can read more about it in the [Snowplow documentation](https://github.com/snowplow/snowplow/wiki/2-Specific-event-tracking-with-the-Javascript-tracker#custom-structured-events).\n\n`snowplow_name_here('trackStructEvent', 'category', 'action', 'label', 'property', 'value');`\n\nPlease also check out our [documentation](https://docs.gitlab.com/ee/development/fe_guide/event_tracking.html). You can see our existing Snowplow header implementation in `_snowplow.html.haml` in `app/views/layouts`, and also read more about [instrumentation in general](https://about.gitlab.com/handbook/product/feature-instrumentation).\n\n### Proposal\n\n![image](/uploads/f24f39188ea05d44d8aba04cd959fe39/image.png)\n\n`category` will be set to the Rails page attribute by default (`sign_in`)\n\n#### DONE\n\n* Record an event when clicked:\n    * Register tab: `('trackStructEvent','sign_in','click_tab','register','','')` - https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/13995\n\n#### TODO\n\n* Record an event when clicked:\n    * Sign in tab: `('trackStructEvent','sign_in','click_tab','sign_in','','')`\n* Record an event on input fields:\n    * Username field activated: `('trackStructEvent','sign_in','activate_form_input','sign_in','username_or_email','')`\n    * Password field activated: `('trackStructEvent','sign_in','activate_form_input','sign_in','password','')`\n    * Full name field activated: `('trackStructEvent','sign_in','activate_form_input','register','full_name','')`\n    * Username field activated: `('trackStructEvent','sign_in','activate_form_input','register','username','')`\n    * Email field activated: `('trackStructEvent','sign_in','activate_form_input','register','email','')`\n    * Email confirmation field activated: `('trackStructEvent','sign_in','activate_form_input','register','email_confirmation','')`\n    * Password field activated: `('trackStructEvent','sign_in','activate_form_input','register','password','')`\n* Record an event when options are checked:\n    * Accept terms: `('trackStructEvent','sign_in','activate_form_input','register','accept_tos','true/false')`\n    * Receive updates: `('trackStructEvent','sign_in','activate_form_input','register','receive_updates','true/false')`\n    * Sign-in remember me: `('trackStructEvent','sign_in','activate_form_input','sign_in','remember_me','true/false')`","state":"closed","created_at":"2019-06-06T01:33:37.960Z","updated_at":"2019-12-09T15:52:29.345Z","closed_at":"2019-12-09T15:52:29.251Z","closed_by":{"id":2683007,"username":"jeromezng","name":"Jerome Z Ng","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2683007/avatar.png","web_url":"https://gitlab.com/jeromezng"},"labels":["Enterprise Edition","[deprecated] Accepting merge requests","devops::growth","frontend","group::activation","missed:12.1","missed:12.2","missed:12.3","missed:12.4","missed:12.5","priority::3","snowplow tracking events"],"milestone":{"id":891797,"iid":40,"group_id":9970,"title":"12.6","description":"https://about.gitlab.com/releases/2019/12/22/gitlab-12-6-released","state":"closed","created_at":"2019-05-31T08:38:03.539Z","updated_at":"2020-04-27T16:27:13.329Z","due_date":"2019-12-17","start_date":"2019-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/40"},"assignees":[],"author":{"id":1086520,"username":"jeremy-gl","name":"Jeremy Watson (ex-GitLab)","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1086520/avatar.png","web_url":"https://gitlab.com/jeremy-gl"},"type":"ISSUE","assignee":null,"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/11989","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/11989","notes":"https://gitlab.com/api/v4/projects/278964/issues/11989/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/11989/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#11989","relative":"#11989","full":"gitlab-org/gitlab#11989"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":21605426,"iid":11976,"project_id":278964,"title":"Move DAST reports logic for Pipelines to the backend","description":"The pipeline reports currently use the generated artifacts to generate DAST reports on the frontend. \nWe should move this logic into the backend, and provide final results to the frontend, like [junit reports](https://docs.gitlab.com/ee//ci/junit_test_reports.html) do.\n\nThis will improve performances of page load and will allow more flexibility.\n\n### Proposal\n\nCreate a new API to deliver DAST reports content to frontend, using a ready to use and common json entity. Such [entities already exist](https://gitlab.com/gitlab-org/gitlab-ee/blob/master/ee/app/serializers/vulnerabilities/occurrence_entity.rb) as part of the Group Security Dashboard and should be reused to provide the same structure everywhere and allow frontend to reuse standard components.\n\nThis API should then be consumed by the frontend and the older artifacts code should be moved behind a feature flag so we can revert back to using it if we need to.","state":"closed","created_at":"2019-06-05T15:52:22.976Z","updated_at":"2019-11-18T15:57:32.306Z","closed_at":"2019-08-14T11:37:36.658Z","closed_by":{"id":181229,"username":"leipert","name":"Lukas 'Eipi' Eipert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/19a1f1260fa70323f35bc508927921a2?s=80\u0026d=identicon","web_url":"https://gitlab.com/leipert"},"labels":["Category:DAST","Enterprise Edition","backend","backstage [DEPRECATED]","bug::performance","devops::secure","group::dynamic analysis","maintenance::refactor"],"milestone":{"id":693521,"iid":35,"group_id":9970,"title":"12.2","description":"https://about.gitlab.com/releases/2019/08/22/gitlab-12-2-released","state":"closed","created_at":"2018-10-30T16:48:32.567Z","updated_at":"2020-04-27T16:30:20.799Z","due_date":"2019-08-22","start_date":"2019-07-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/35"},"assignees":[{"id":32707,"username":"rossfuhrman","name":"rossfuhrman","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/32707/avatar.png","web_url":"https://gitlab.com/rossfuhrman"}],"author":{"id":1125848,"username":"samdbeckham","name":"Sam Beckham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1125848/avatar.png","web_url":"https://gitlab.com/samdbeckham"},"type":"ISSUE","assignee":{"id":32707,"username":"rossfuhrman","name":"rossfuhrman","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/32707/avatar.png","web_url":"https://gitlab.com/rossfuhrman"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/11976","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/11976","notes":"https://gitlab.com/api/v4/projects/278964/issues/11976/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/11976/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#11976","relative":"#11976","full":"gitlab-org/gitlab#11976"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1425,"epic":{"id":8072,"iid":1425,"title":"Move reports logic for security reports to backend","url":"/groups/gitlab-org/-/epics/1425","group_id":9970,"human_readable_end_date":"Feb 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":21605378,"iid":11975,"project_id":278964,"title":"Move SAST reports logic for Pipelines to the backend","description":"The pipeline reports currently use the generated artifacts to generate SAST reports on the frontend. \nWe should move this logic into the backend, and provide final results to the frontend, like [junit reports](https://docs.gitlab.com/ee//ci/junit_test_reports.html) do.\n\nThis will improve performances of page load and will allow more flexibility.\n\n### Proposal\n\nCreate a new API to deliver SAST reports content to frontend, using a ready to use and common json entity. Such [entities already exist](https://gitlab.com/gitlab-org/gitlab-ee/blob/master/ee/app/serializers/vulnerabilities/occurrence_entity.rb) as part of the Group Security Dashboard and should be reused to provide the same structure everywhere and allow frontend to reuse standard components.\n\nThis API should then be consumed by the frontend and the older artifacts code should be moved behind a feature flag so we can revert back to using it if we need to.","state":"closed","created_at":"2019-06-05T15:49:43.414Z","updated_at":"2019-11-18T15:57:32.480Z","closed_at":"2019-08-14T11:37:44.448Z","closed_by":{"id":181229,"username":"leipert","name":"Lukas 'Eipi' Eipert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/19a1f1260fa70323f35bc508927921a2?s=80\u0026d=identicon","web_url":"https://gitlab.com/leipert"},"labels":["Category:SAST","Deliverable","Enterprise Edition","backend","backstage [DEPRECATED]","bug::performance","devops::secure","group::static analysis","maintenance::refactor"],"milestone":{"id":693521,"iid":35,"group_id":9970,"title":"12.2","description":"https://about.gitlab.com/releases/2019/08/22/gitlab-12-2-released","state":"closed","created_at":"2018-10-30T16:48:32.567Z","updated_at":"2020-04-27T16:30:20.799Z","due_date":"2019-08-22","start_date":"2019-07-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/35"},"assignees":[{"id":32707,"username":"rossfuhrman","name":"rossfuhrman","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/32707/avatar.png","web_url":"https://gitlab.com/rossfuhrman"}],"author":{"id":1125848,"username":"samdbeckham","name":"Sam Beckham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1125848/avatar.png","web_url":"https://gitlab.com/samdbeckham"},"type":"ISSUE","assignee":{"id":32707,"username":"rossfuhrman","name":"rossfuhrman","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/32707/avatar.png","web_url":"https://gitlab.com/rossfuhrman"},"user_notes_count":9,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/11975","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/11975","notes":"https://gitlab.com/api/v4/projects/278964/issues/11975/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/11975/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#11975","relative":"#11975","full":"gitlab-org/gitlab#11975"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1425,"epic":{"id":8072,"iid":1425,"title":"Move reports logic for security reports to backend","url":"/groups/gitlab-org/-/epics/1425","group_id":9970,"human_readable_end_date":"Feb 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":21601683,"iid":11971,"project_id":278964,"title":"Lazy-load more items in Epic Tree on scroll","description":"# Summary\n\nIn Epic tree (introduced in https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/10999), we're limiting the number of child items the API returns on page load in order to reduce GraphQL query complexity, but since an Epic can any number of children, we need to handle this page limit by having some sort of pagination in place. One way of doing is by handling data size as follows;\n\nImagine an `Epic A` has 500 direct child items (both Epics and Issues combined), and one of the child epic `Epic Child C` has further 300 items. Then a possible approach to handle this situation can be as follows;\n\n*  We load only 50 children of `Epic A` on page load.\n    *  Once user scrolls to bottom of the tree, we load next 50 children.\n*  In case user tries of expand child epic `Epic Child C` (which is direct child of `Epic A`), we show only first 50 items.\n    *  At the end of these 50 items, we show a placeholder link which says; `Open 'Epic Child C' to show all children`.\n\n### We have already implemented this UX in Group Dashboard (where max count is `20`);\n\n![image](/uploads/250cac31f9948286b39d099629c69132/image.png)","state":"closed","created_at":"2019-06-05T14:15:10.924Z","updated_at":"2022-05-19T16:08:08.524Z","closed_at":"2019-07-02T11:20:48.391Z","closed_by":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"labels":["Category:Portfolio Management","Enterprise Edition","GraphQL","UX","backend","bug::performance","devops::plan","epics","frontend"],"milestone":{"id":693520,"iid":34,"group_id":9970,"title":"12.1","description":"https://about.gitlab.com/releases/2019/07/22/gitlab-12-1-released","state":"closed","created_at":"2018-10-30T16:47:58.826Z","updated_at":"2020-04-27T16:30:09.107Z","due_date":"2019-07-22","start_date":"2019-06-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/34"},"assignees":[{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},{"id":411701,"username":"kushalpandya","name":"Kushal Pandya","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/411701/avatar.png","web_url":"https://gitlab.com/kushalpandya"}],"author":{"id":411701,"username":"kushalpandya","name":"Kushal Pandya","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/411701/avatar.png","web_url":"https://gitlab.com/kushalpandya"},"type":"ISSUE","assignee":{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},"user_notes_count":23,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/11971","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/11971","notes":"https://gitlab.com/api/v4/projects/278964/issues/11971/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/11971/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#11971","relative":"#11971","full":"gitlab-org/gitlab#11971"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24697372,"iid":29256,"project_id":278964,"title":"Create dynamic frontend fixture for monitoring mock data","description":"We should generate the mock data in spec/javascripts/monitoring/mock_data.js dynamically from Rails controller\n\nFor values that cannot (e.g. Prometheus results) we could potentially generate these in JS as they are often simple arrays of values.","state":"closed","created_at":"2019-06-05T11:17:55.603Z","updated_at":"2020-11-16T12:56:52.458Z","closed_at":"2020-03-06T09:49:51.732Z","closed_by":{"id":4763342,"username":"svistas","name":"Sofia Vistas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4763342/avatar.png","web_url":"https://gitlab.com/svistas"},"labels":["Category:Metrics","backstage [DEPRECATED]","devops::monitor","frontend","group::respond","maintenance::refactor","test","workflow::in dev"],"milestone":null,"assignees":[{"id":4763342,"username":"svistas","name":"Sofia Vistas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4763342/avatar.png","web_url":"https://gitlab.com/svistas"}],"author":{"id":832471,"username":"psimyn","name":"Simon Knox","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3de75939c39eecd6ea2215ec740a8037?s=80\u0026d=identicon","web_url":"https://gitlab.com/psimyn"},"type":"ISSUE","assignee":{"id":4763342,"username":"svistas","name":"Sofia Vistas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4763342/avatar.png","web_url":"https://gitlab.com/svistas"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/29256","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/29256","notes":"https://gitlab.com/api/v4/projects/278964/issues/29256/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/29256/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#29256","relative":"#29256","full":"gitlab-org/gitlab#29256"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":21594727,"iid":11965,"project_id":278964,"title":"[Geo] Prevent using non-empty tracking database","description":"It seems like there are some flows when it sounds reasonable (at least, at first glance) to use an already existing tracking database. In this case, the secondary node will be invalid and sometimes it's hard to debug. I propose to add a special check into our geo health checker. The first thing that comes to my mind is to check the oldest record in the tracking database and compare it with GeoNode record's `created_at`.","state":"closed","created_at":"2019-06-05T10:24:24.300Z","updated_at":"2019-12-11T20:02:55.221Z","closed_at":"2019-08-08T21:34:36.428Z","closed_by":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"labels":["Enterprise Edition","Geo Administration","customer","devops::systems","group::geo","workflow::in review"],"milestone":{"id":693521,"iid":35,"group_id":9970,"title":"12.2","description":"https://about.gitlab.com/releases/2019/08/22/gitlab-12-2-released","state":"closed","created_at":"2018-10-30T16:48:32.567Z","updated_at":"2020-04-27T16:30:20.799Z","due_date":"2019-08-22","start_date":"2019-07-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/35"},"assignees":[{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"}],"author":{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"},"type":"ISSUE","assignee":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"user_notes_count":7,"merge_requests_count":1,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/11965","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/11965","notes":"https://gitlab.com/api/v4/projects/278964/issues/11965/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/11965/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#11965","relative":"#11965","full":"gitlab-org/gitlab#11965"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":917,"epic":{"id":5025,"iid":917,"title":"Geo: Resolve Setup Problems and Improve Documentation","url":"/groups/gitlab-org/-/epics/917","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":21584477,"iid":11958,"project_id":278964,"title":"Return underlying promises from async actions in Dependency List store","description":"The Vuex store added in !13674 has a few async actions (e.g., `fetchDependencies`, `setSortField`, `toggleSortOrder`) which return nothing, which greatly reduces their [composability](https://vuex.vuejs.org/guide/actions.html#composing-actions).\n\nThey should be made to return their underlying promises.","state":"closed","created_at":"2019-06-05T01:39:49.788Z","updated_at":"2020-03-05T21:35:06.043Z","closed_at":"2020-03-05T21:35:04.844Z","closed_by":{"id":5329074,"username":"tmccaslin","name":"Taylor McCaslin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5329074/avatar.png","web_url":"https://gitlab.com/tmccaslin"},"labels":["Backlog Cleanup","Enterprise Edition","backstage [DEPRECATED]","dependency list","devops::secure","frontend","group::static analysis","maintenance::refactor"],"milestone":null,"assignees":[],"author":{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/11958","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/11958","notes":"https://gitlab.com/api/v4/projects/278964/issues/11958/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/11958/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#11958","relative":"#11958","full":"gitlab-org/gitlab#11958"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null}]