[{"id":111619471,"iid":367822,"project_id":278964,"title":"Environment External URL should be rendered as a link for HTTP(S) schems only","description":"## Problem\n\nIn the [Invalid environment external_url disturbs the entire environment update process](https://gitlab.com/gitlab-org/gitlab/-/issues/337417) issue, we've changed to soft validation on External URL field of Environments. Because of this, users can flexibility set an URL, such as custom schema `postgresql://gitlab.com`. This should not be rendered as a link as it can't be opened in a browser.\n\n## Proposal\n\n- If it's HTTP(S) schema e.g. `https://gitlab.com`, UI renders the URL as a link. This feature already exists in bunch of places (See https://gitlab.com/gitlab-org/gitlab/-/merge_requests/91970#screenshots-or-screen-recordings).\n- If it's other schema e.g. `postgresql://gitlab.com`:\n   1. UI renders clipboard-copy button to copy the value. So that users can see the value without opening in browser.","state":"closed","created_at":"2022-07-14T06:24:57.620Z","updated_at":"2022-10-19T12:27:08.927Z","closed_at":"2022-10-19T12:27:08.905Z","closed_by":{"id":262533,"username":"afontaine","name":"Andrew Fontaine","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/262533/avatar.png","web_url":"https://gitlab.com/afontaine"},"labels":["Category:Environment Management","Next Up","Release::P3","UX","backend","backend-weight::1","devops::release","feature::enhancement","frontend","frontend-weight::1","group::release","section::ops","type::feature","workflow::production"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":262533,"username":"afontaine","name":"Andrew Fontaine","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/262533/avatar.png","web_url":"https://gitlab.com/afontaine"}],"author":{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"},"type":"ISSUE","assignee":{"id":262533,"username":"afontaine","name":"Andrew Fontaine","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/262533/avatar.png","web_url":"https://gitlab.com/afontaine"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367822","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367822","notes":"https://gitlab.com/api/v4/projects/278964/issues/367822/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367822/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367822","relative":"#367822","full":"gitlab-org/gitlab#367822"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":111618794,"iid":367820,"project_id":278964,"title":"Follow-up from \"Ability to remove parent/child link in hierarchy widget\"","description":"The following discussion from !91564 should be addressed:\n\n- [ ] @fguibert started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/91564#note_1026032805):  (+1 comment)\n\n    \u003e **note**: I feel like this mutation could be consolidated with the one I'm introducing here: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/92056\n    \u003e \n    \u003e Something to look into in a follow up.","state":"closed","created_at":"2022-07-14T06:11:02.211Z","updated_at":"2022-08-08T08:48:59.320Z","closed_at":"2022-08-08T08:48:59.301Z","closed_by":{"id":3236898,"username":"rajatgitlab","name":"Rajat Jain","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3236898/avatar.png","web_url":"https://gitlab.com/rajatgitlab"},"labels":["Stretch","devops::plan","frontend","group::product planning","section::dev","type::maintenance","workflow::verification"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":3236898,"username":"rajatgitlab","name":"Rajat Jain","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3236898/avatar.png","web_url":"https://gitlab.com/rajatgitlab"}],"author":{"id":3236898,"username":"rajatgitlab","name":"Rajat Jain","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3236898/avatar.png","web_url":"https://gitlab.com/rajatgitlab"},"type":"ISSUE","assignee":{"id":3236898,"username":"rajatgitlab","name":"Rajat Jain","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3236898/avatar.png","web_url":"https://gitlab.com/rajatgitlab"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367820","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367820","notes":"https://gitlab.com/api/v4/projects/278964/issues/367820/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367820/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367820","relative":"#367820","full":"gitlab-org/gitlab#367820"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":111616714,"iid":367776,"project_id":278964,"title":"Migrate CSS rules to utility classes in app/assets/stylesheets/page_bundles/boards.scss","description":"Migrate CSS rules to utility classes in `app/assets/stylesheets/page_bundles/boards.scss`\n\n- Use our utility classes reference to find equivalent replacements or combinations: https://unpkg.com/browse/@gitlab/ui@latest/src/scss/utilities.scss\n-  Delete unused or dead code\n-  Perform a visual regression test on the page your migrating CSS for.\n\nIn your Merge Request description, please include the number of CSS lines you deleted (this is to track the progress of our OKR):\n\n```\nNumber of CSS lines deleted: \n```","state":"closed","created_at":"2022-07-14T04:51:09.561Z","updated_at":"2022-08-19T02:06:22.450Z","closed_at":"2022-08-19T02:05:18.591Z","closed_by":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"labels":["CSS optimization","OKR-FE","automation:ml","automation:ml wrong","devops::plan","frontend","group::product planning","section::dev","type::maintenance"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"}],"author":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"type":"ISSUE","assignee":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367776","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367776","notes":"https://gitlab.com/api/v4/projects/278964/issues/367776/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367776/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367776","relative":"#367776","full":"gitlab-org/gitlab#367776"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8326,"epic":{"id":557715,"iid":8326,"title":"Migrate CSS rules to utility classes","url":"/groups/gitlab-org/-/epics/8326","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":111614828,"iid":367754,"project_id":278964,"title":"Shift option to prevent users from creating groups to Instance Admin UI","description":"Presently the option to configure whether or not users can create top-level groups is controlled within `gitlab.rb`, which is only available to those who have admin access to the instances file system. There isn't a good reason why this feature is within `gitlab.rb`, it is ultimately an option which restricts user beha vior, not something fundamental to how the instance operates.  (Doc link to feature: https://docs.gitlab.com/ee/administration/user_settings.html#prevent-users-from-creating-top-level-groups)\n\nWe should shift this option over to the Admin UI, such that GitLab administrators can access this setting without needing access to the file system. In addition, being present within `gitlab.rb` also means that for Dedicated customers, we would have to build and expose this setting within the control plane. If the feature is instead available in the UI, customers could directly configure it.","state":"closed","created_at":"2022-07-14T03:39:20.819Z","updated_at":"2022-11-04T10:51:41.229Z","closed_at":"2022-10-03T08:40:28.993Z","closed_by":{"id":4093067,"username":"manojmj","name":"Manoj M J","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4093067/avatar.png","web_url":"https://gitlab.com/manojmj"},"labels":["auto updated","backend","devops::manage","feature","group::organization","release post item","release post item::in review","section::dev","type::maintenance","workflow::production"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":4093067,"username":"manojmj","name":"Manoj M J","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4093067/avatar.png","web_url":"https://gitlab.com/manojmj"}],"author":{"id":926632,"username":"joshlambert","name":"Joshua Lambert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a0bdc5209b11e9c0953f80234dcb4ffb?s=80\u0026d=identicon","web_url":"https://gitlab.com/joshlambert"},"type":"ISSUE","assignee":{"id":4093067,"username":"manojmj","name":"Manoj M J","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4093067/avatar.png","web_url":"https://gitlab.com/manojmj"},"user_notes_count":40,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367754","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367754","notes":"https://gitlab.com/api/v4/projects/278964/issues/367754/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367754/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367754","relative":"#367754","full":"gitlab-org/gitlab#367754"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7314,"epic":{"id":407708,"iid":7314,"title":"Move Admin Area features to Organization","url":"/groups/gitlab-org/-/epics/7314","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":111607150,"iid":367732,"project_id":278964,"title":"[Feature Flag] Performance improvements for cleanup policies","description":"","state":"closed","created_at":"2022-07-13T21:06:34.425Z","updated_at":"2022-10-21T12:03:56.154Z","closed_at":"2022-10-03T07:39:36.032Z","closed_by":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"labels":["Background Processing","Category:Container Registry","Deliverable","Package:P1","[deprecated] Accepting merge requests","backend","devops::package","group::package registry","performance-refinement","rails","ruby","section::ops","type::feature","workflow::ready for development"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[],"author":{"id":3799560,"username":"trizzi","name":"Tim Rizzi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3799560/avatar.png","web_url":"https://gitlab.com/trizzi"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367732","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367732","notes":"https://gitlab.com/api/v4/projects/278964/issues/367732/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367732/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":"https://gitlab.com/api/v4/projects/278964/issues/375037"},"references":{"short":"#367732","relative":"#367732","full":"gitlab-org/gitlab#367732"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8379,"epic":{"id":566159,"iid":8379,"title":"Use the creation timestamp returned by the Container Registry API in cleanup policies","url":"/groups/gitlab-org/-/epics/8379","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":111607140,"iid":367731,"project_id":278964,"title":"Introduce a switch (based on the repository migration status)","description":"## :fire: Problem\n\nCurrently, [cleanup policies](https://docs.gitlab.com/ee/user/packages/container_registry/reduce_container_registry_storage.html#cleanup-policy) are slow for a main technical issue: getting the creation timestamp of a single tag is a Container Registry API request.\n\nAs we can imagine, the more tags we need to process, the more pings to the Container Registry we're going to trigger.\n\nWe improved the situation around this using caching in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/69459.\n\n## Proposal\n\nUse a switch to support both the old and new code paths of the GitLab Container Registry. \n\n### :microscope: Implementation details\n\nSee the implementation details here: https://gitlab.com/groups/gitlab-org/-/epics/8379#note_1025779804","state":"closed","created_at":"2022-07-13T21:06:04.211Z","updated_at":"2022-10-21T12:03:56.211Z","closed_at":"2022-10-17T07:05:58.115Z","closed_by":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"labels":["Background Processing","Category:Container Registry","Deliverable","Package:P1","backend","devops::package","group::package registry","package:active","performance-refinement","rails","section::ops","type::feature","workflow::production"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"}],"author":{"id":3799560,"username":"trizzi","name":"Tim Rizzi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3799560/avatar.png","web_url":"https://gitlab.com/trizzi"},"type":"ISSUE","assignee":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367731","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367731","notes":"https://gitlab.com/api/v4/projects/278964/issues/367731/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367731/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367731","relative":"#367731","full":"gitlab-org/gitlab#367731"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8379,"epic":{"id":566159,"iid":8379,"title":"Use the creation timestamp returned by the Container Registry API in cleanup policies","url":"/groups/gitlab-org/-/epics/8379","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":111607133,"iid":367729,"project_id":278964,"title":"Introduce the new cleanup tags service that uses the new API","description":"## :fire: Problem\n\nCurrently, [cleanup policies](https://docs.gitlab.com/ee/user/packages/container_registry/reduce_container_registry_storage.html#cleanup-policy) are slow for a main technical issue: getting the creation timestamp of a single tag is a Container Registry API request.\n\nAs we can imagine, the more tags we need to process, the more pings to the Container Registry we're going to trigger.\n\nWe improved the situation around this using caching in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/69459.\n\n## Proposal\n\nThe new service will need to implement exactly the same filters as the old path service. In addition, it will need to return the same response structure so that the change is completely transparent to the callers of these services. The new service can drop a few optimizations we have in the old path:\n\n* Truncation. We don't need to truncate anymore. Simply get a certain amount of pages and use that as the current truncated list.\n  * Alternative: walk through pages until a certain amount of tags to delete is hit.\n* Redis caching. The whole purpose of the new API: fetching the creation timestamp is not a performance anymore = we don't need to cache it anymore.\n\nIn addition:\n\n* The new service will basically loop through pages. That's great, however, we're still limited in time as this is called by a background job. As such, limit the execution time.\n* The new API uses a more accurate way to compute the `created_at` and `updated_at`. As such, the service should consider `updated_at` and fall back to `created_at`. Basically: `updated_at || created_at`. See https://gitlab.com/gitlab-org/container-registry/-/issues/757#note_1067919936 for the full explanations.\n\n\n### :microscope: Implementation details\n\nSee the implementation details here: https://gitlab.com/groups/gitlab-org/-/epics/8379#note_1025779804","state":"closed","created_at":"2022-07-13T21:05:29.391Z","updated_at":"2022-09-22T13:29:25.616Z","closed_at":"2022-09-14T09:20:41.851Z","closed_by":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"labels":["Background Processing","Category:Container Registry","Deliverable","Package:P1","backend","devops::package","group::package registry","performance-refinement","rails","ruby","section::ops","type::feature","workflow::production"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"}],"author":{"id":3799560,"username":"trizzi","name":"Tim Rizzi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3799560/avatar.png","web_url":"https://gitlab.com/trizzi"},"type":"ISSUE","assignee":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"user_notes_count":14,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367729","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367729","notes":"https://gitlab.com/api/v4/projects/278964/issues/367729/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367729/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367729","relative":"#367729","full":"gitlab-org/gitlab#367729"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8379,"epic":{"id":566159,"iid":8379,"title":"Use the creation timestamp returned by the Container Registry API in cleanup policies","url":"/groups/gitlab-org/-/epics/8379","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":111607129,"iid":367728,"project_id":278964,"title":"Update the GitLab Container Registry client to support the new API","description":"## :fire: Problem\n\nCurrently, [cleanup policies](https://docs.gitlab.com/ee/user/packages/container_registry/reduce_container_registry_storage.html#cleanup-policy) are slow for a main technical issue: getting the creation timestamp of a single tag is a Container Registry API request.\n\nAs we can imagine, the more tags we need to process, the more pings to the Container Registry we're going to trigger.\n\nWe improved the situation around this using caching in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/69459.\n\n## Proposal\n\nAs for integrating the new API, we will need a new function on the \"gitlab\" (container registry) client class. Given that the API is paginated, we need to make sure that callers of that function are aware of that. For this, we can simply require a block. That block will receive an array of tags (which is basically the page of tags).\n\n### :microscope: Implementation details\n\nSee the implementation details here: https://gitlab.com/groups/gitlab-org/-/epics/8379#note_1025779804","state":"closed","created_at":"2022-07-13T21:05:13.176Z","updated_at":"2022-08-21T12:04:02.373Z","closed_at":"2022-08-17T13:09:37.398Z","closed_by":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"labels":["Background Processing","Category:Container Registry","Deliverable","Package:P1","backend","devops::package","group::package registry","package:active","performance-refinement","rails","ruby","section::ops","type::feature","workflow::production"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"}],"author":{"id":3799560,"username":"trizzi","name":"Tim Rizzi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3799560/avatar.png","web_url":"https://gitlab.com/trizzi"},"type":"ISSUE","assignee":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"user_notes_count":7,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367728","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367728","notes":"https://gitlab.com/api/v4/projects/278964/issues/367728/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367728/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367728","relative":"#367728","full":"gitlab-org/gitlab#367728"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8379,"epic":{"id":566159,"iid":8379,"title":"Use the creation timestamp returned by the Container Registry API in cleanup policies","url":"/groups/gitlab-org/-/epics/8379","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":111603522,"iid":367718,"project_id":278964,"title":"Extend security approval rules under project settings to support group-level policies","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\u003c!--\nA brief explanation of the why, not the what or how. Assume the reader doesn't know the\nbackground and won't have time to dig-up information from comment threads.\n--\u003e\n\nCurrently scan result policies are not supported by the group level security policies.\n\n\n## Relevant links\n\u003c!--\nInformation that the developer might need to refer to when implementing the issue.\n\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e)\n  - [Design 1](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n  - [Design 2](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n- [Similar implementation](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/\u003cid\u003e)\n--\u003e\n\nThis will follow the design from [this epic](https://gitlab.com/groups/gitlab-org/-/epics/4425) with ~UX team being involved as part of the merge request review process.\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [ ] Documentation:\n- [ ] Feature flag:\n- [ ] Performance:\n- [ ] Testing:\n\n\n## Implementation plan\n\u003c!--\nSteps and the parts of the code that will need to get updated. The plan can also\ncall-out responsibilities for other team members or teams.\n\ne.g.:\n\n- [ ] ~frontend Step 1\n  - [ ] `@person` Step 1a\n- [ ] ~frontend Step 2\n\n--\u003e\n\n* ~frontend add the [created graphql](https://gitlab.com/gitlab-org/gitlab/-/issues/367716) group level query to also consider group level policies in `ee/app/assets/javascripts/approvals/stores/modules/security_orchestration/actions.js`.\n\n\u003c!--\nWorkflow and other relevant labels\n\n# ~\"group::\" ~\"Category:\" ~\"GitLab Ultimate\"\nOther settings you might want to include when creating the issue.\n\n# /assign @\n# /epic \u0026\n--\u003e\n\n## Verification steps\n\u003c!--\nAdd verification steps to help GitLab team members test the implementation. This is particularly useful\nduring the MR review and the ~\"workflow::verification\" step. You may not know exactly what the\nverification steps should be during issue refinement, so you can always come back later to add\nthem.\n\n1. Check-out the corresponding branch\n1. ...\n1. Profit!\n--\u003e","state":"closed","created_at":"2022-07-13T19:04:50.682Z","updated_at":"2022-10-31T16:04:47.968Z","closed_at":"2022-10-31T16:04:47.937Z","closed_by":{"id":4906322,"username":"zmartins","name":"Zamir Martins","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4906322/avatar.png","web_url":"https://gitlab.com/zmartins"},"labels":["Category:Security Policy Management","devops::govern","frontend","frontend-weight::2","group::security policies","missed:15.3","missed:15.4","section::sec","secure merge request approval","type::feature","workflow::verification"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":4906322,"username":"zmartins","name":"Zamir Martins","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4906322/avatar.png","web_url":"https://gitlab.com/zmartins"}],"author":{"id":4906322,"username":"zmartins","name":"Zamir Martins","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4906322/avatar.png","web_url":"https://gitlab.com/zmartins"},"type":"ISSUE","assignee":{"id":4906322,"username":"zmartins","name":"Zamir Martins","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4906322/avatar.png","web_url":"https://gitlab.com/zmartins"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367718","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":7,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 7 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367718","notes":"https://gitlab.com/api/v4/projects/278964/issues/367718/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367718/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367718","relative":"#367718","full":"gitlab-org/gitlab#367718"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7622,"epic":{"id":450493,"iid":7622,"title":"Group Level Security Approval Policies","url":"/groups/gitlab-org/-/epics/7622","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":111603261,"iid":367716,"project_id":278964,"title":"Extend group level policy list to include scan result policies","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\u003c!--\nA brief explanation of the why, not the what or how. Assume the reader doesn't know the\nbackground and won't have time to dig-up information from comment threads.\n--\u003e\n\nCurrently scan result policies are not supported by the group level security policies.\n\n\n## Relevant links\n\u003c!--\nInformation that the developer might need to refer to when implementing the issue.\n\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e)\n  - [Design 1](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n  - [Design 2](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n- [Similar implementation](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/\u003cid\u003e)\n--\u003e\n\nThis will follow the design from [this epic](https://gitlab.com/groups/gitlab-org/-/epics/4425) with ~UX team being involved as part of the merge request review process.\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [ ] Documentation:\n- [ ] Feature flag:\n- [ ] Performance:\n- [ ] Testing:\n\n\n## Implementation plan\n\u003c!--\nSteps and the parts of the code that will need to get updated. The plan can also\ncall-out responsibilities for other team members or teams.\n\ne.g.:\n\n- [ ] ~frontend Step 1\n  - [ ] `@person` Step 1a\n- [ ] ~frontend Step 2\n\n--\u003e\n\n* ~frontend add support for scan result policies through `NAMESPACE_QUERY_DICT` in policy list `ee/app/assets/javascripts/security_orchestration/components/policies/policies_list.vue`\n* ~frontend create a graphql for group level query as in `ee/app/assets/javascripts/security_orchestration/graphql/queries/group_scan_execution_policies.query.graphql`.\n* ~backend create finder for scan result policies similar to `ee/app/finders/security/scan_execution_policies_finder.rb` in order to be used by the resolver.\n* ~backend reuse the resolver for namespace `ee/app/graphql/ee/types/namespace_type.rb`.\n* ~backend update `ee/app/graphql/resolvers/security_orchestration/scan_result_policy_resolver.rb` to support `relationship` similar to `ee/app/graphql/resolvers/security_orchestration/scan_execution_policy_resolver.rb`\n\n\n\u003c!--\nWorkflow and other relevant labels\n\n# ~\"group::\" ~\"Category:\" ~\"GitLab Ultimate\"\nOther settings you might want to include when creating the issue.\n\n# /assign @\n# /epic \u0026\n--\u003e\n\n## Verification steps\n\u003c!--\nAdd verification steps to help GitLab team members test the implementation. This is particularly useful\nduring the MR review and the ~\"workflow::verification\" step. You may not know exactly what the\nverification steps should be during issue refinement, so you can always come back later to add\nthem.\n\n1. Check-out the corresponding branch\n1. ...\n1. Profit!\n--\u003e","state":"closed","created_at":"2022-07-13T18:56:46.056Z","updated_at":"2022-10-31T20:43:18.056Z","closed_at":"2022-10-31T16:03:23.910Z","closed_by":{"id":4906322,"username":"zmartins","name":"Zamir Martins","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4906322/avatar.png","web_url":"https://gitlab.com/zmartins"},"labels":["Category:Security Policy Management","Enterprise Edition","GitLab Ultimate","backend","backend-weight::3","customer","devops::govern","frontend","frontend-weight::3","group::security policies","missed:15.3","missed:15.4","section::sec","secure merge request approval","type::feature","workflow::verification"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":4906322,"username":"zmartins","name":"Zamir Martins","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4906322/avatar.png","web_url":"https://gitlab.com/zmartins"}],"author":{"id":4906322,"username":"zmartins","name":"Zamir Martins","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4906322/avatar.png","web_url":"https://gitlab.com/zmartins"},"type":"ISSUE","assignee":{"id":4906322,"username":"zmartins","name":"Zamir Martins","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4906322/avatar.png","web_url":"https://gitlab.com/zmartins"},"user_notes_count":13,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367716","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":7,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 7 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367716","notes":"https://gitlab.com/api/v4/projects/278964/issues/367716/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367716/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367716","relative":"#367716","full":"gitlab-org/gitlab#367716"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7622,"epic":{"id":450493,"iid":7622,"title":"Group Level Security Approval Policies","url":"/groups/gitlab-org/-/epics/7622","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":111597623,"iid":367704,"project_id":278964,"title":"Remove legacy license compliance widget from MR page and remove feature flag","description":"\nAs a result of the license compliance[ MR widget extension migration epic](https://gitlab.com/groups/gitlab-org/-/epics/7763) we no longer need the old widget. We should remove the cold code from the MR page.\n\nAfter rolling out the feature flag in https://gitlab.com/gitlab-org/gitlab/-/issues/367703, we should be good to remove this code.\n\nThis would also unblock us from using the VueX module refactor for https://gitlab.com/gitlab-org/gitlab/-/issues/363079\n\n## Implementation Plan\n\n- [x] From `ee/app/assets/javascripts/vue_merge_request_widget/mr_widget_options.vue` remove `mr-widget-licenses` component and `import MrWidgetLicenses from 'ee/vue_shared/license_compliance/mr_widget_license_report.vue';`\n\n- [x] Update unit tests in `ee/spec/frontend/vue_mr_widget/ee_mr_widget_options_spec.js`\n\n- [x] Update any rspec or browser automation tests.\n\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\nYou can either [create a follow-up issue for Feature Flag Cleanup](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) or use the checklist below in this same issue.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [x] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag. Ask for review and merge it.\n    - [x] Remove all references to the feature flag from the codebase.\n    - [ ] Remove the YAML definitions for the feature from the repository.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [x] Ensure that the cleanup MR has been included in the release package.\n      If the merge request was deployed before [the monthly release was tagged](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [x] `/chatops run release check \u003cmerge-request-url\u003e \u003cmilestone\u003e`\n- [x] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [x] If not already done, clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [x] `/chatops run feature delete \u003cfeature-flag-name\u003e --dev --staging --staging-ref --production`\n- [x] Close this rollout issue.","state":"closed","created_at":"2022-07-13T17:00:43.037Z","updated_at":"2022-09-21T12:06:41.169Z","closed_at":"2022-09-13T14:44:01.005Z","closed_by":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"labels":["Category:License Compliance","Deliverable","GitLab Ultimate","devops::secure","feature flag","frontend","group::composition analysis","quad-planning::complete-action","section::sec","type::maintenance","workflow::verification"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"}],"author":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"type":"ISSUE","assignee":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367704","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":13,"completed_count":12},"weight":2,"blocking_issues_count":1,"has_tasks":true,"task_status":"12 of 13 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367704","notes":"https://gitlab.com/api/v4/projects/278964/issues/367704/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367704/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367704","relative":"#367704","full":"gitlab-org/gitlab#367704"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":111597581,"iid":367703,"project_id":278964,"title":"Feature flag rollout license compliance MR widget extension","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout [the feature](ISSUE LINK) on production,\nthat is currently behind the `:refactor_license_compliance_extension` feature flag.\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\n## Owners\n\n- Team: ~\"group::composition analysis\" \n- Most appropriate slack channel to reach out to: `#g_secure-composition-analysis`\n- Best individual to reach out to: @farias-gl \n- PM: @sam.white \n\n\n## Expectations\n\n### What are we expecting to happen?\n\nThe legacy MR widget is replaced with the new MR widget extension\n\n| Before | After |\n| ------ | ------ |\n| ![Screen_Shot_2022-05-30_at_12.58.24_AM](/uploads/0fb36bf0f51d0cccba14e5ee92fb1bb6/Screen_Shot_2022-05-30_at_12.58.24_AM.png) | ![Screen_Shot_2022-06-01_at_6.59.33_PM](/uploads/16066f02e177b0bb25db8862a8d0ad74/Screen_Shot_2022-06-01_at_6.59.33_PM.png) |\n\n### When is the feature viable?\n\n\u003c!-- What are the settings we need to configure in order to have this feature viable? --\u003e\n\n\u003c!-- \nExample below:\n \n1. Enable service ping collection\n   `ApplicationSetting.first.update(usage_ping_enabled: true)`\n--\u003e\n\n### What might happen if this goes wrong?\n\nLicense compliance widget won't render\n\n\u003c!-- Should the feature flag be turned off? Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\n### What can we monitor to detect problems with this?\n\nTest project in production https://gitlab.com/gitlab-org/frontend/playground/gitlab-mr-widgets-demo/-/merge_requests/7\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n_Consider mentioning checks for 5xx errors or other anomalies like an increase in redirects \n(302 HTTP response status)_\n\n### What can we check for monitoring production after rollouts?\n\n_Consider adding links to check for Sentry errors, Production logs for 5xx, 302s, etc._\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Enable the feature globally on non-production environments.\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e true --dev --staging --staging-ref`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n      The best environment to validate the feature in is [staging-canary](https://about.gitlab.com/handbook/engineering/infrastructure/environments/#staging-canary)\n      as this is the first environment deployed to. Note you will need to make sure you are configured to use canary as outlined [here](https://about.gitlab.com/handbook/engineering/infrastructure/environments/canary-stage/)\n      when accessing the staging environment in order to make sure you are testing appropriately.\n\n### Specific rollout on production\n\n- Ensure that the feature MRs have been deployed to both production and canary.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- If you're using [project-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [x] `/chatops run feature set --project=gitlab-org/gitlab,gitlab-org/gitlab-foss,gitlab-com/www-gitlab-com \u003cfeature-flag-name\u003e true`\n- If you're using [group-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --group=gitlab-org,gitlab-com \u003cfeature-flag-name\u003e true`\n- If you're using [user-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --user=\u003cyour-username\u003e \u003cfeature-flag-name\u003e true`\n- [x] Verify that the feature works on the specific entries. Posting the QA result in this issue is preferable.\n\n### Preparation before global rollout\n\n- [x] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [x] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [ ] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [ ] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com. \n- [x] Ensure that any breaking changes have been announced following the [release post process](https://about.gitlab.com/handbook/marketing/blog/release-posts/#deprecations-removals-and-breaking-changes) to ensure GitLab customers are aware.\n- [ ] Notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nFor visibility, all `/chatops` commands that target production should be executed in the `#production` slack channel and cross-posted (with the command results) to the responsible team's slack channel (`#g_TEAM_NAME`).\n\n- [x] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e --random`\n  - Enable the feature globally on production environment.\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e true`\n- [ ] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [ ] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [x] Create a merge request with the following changes. Ask for review and merge it.\n    - [x] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [x] Ensure that the default-enabling MR has been included in the release package.\n      If the merge request was deployed before [the monthly release was tagged](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [x] `/chatops run release check \u003cmerge-request-url\u003e \u003cmilestone\u003e`\n- [x] Consider cleaning up the feature flag from all environments by running these chatops command in `#production` channel. Otherwise these settings may override the default enabled.\n    - [x] `/chatops run feature delete \u003cfeature-flag-name\u003e --dev --staging --staging-ref --production`\n- [x] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [x] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [ ] (Optional) You can [create a separate issue](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [ ] Set the title to \"[Feature flag] Cleanup `\u003cfeature-flag-name\u003e`\".\n    - [ ] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [ ] Link this rollout issue as a related issue.\n    - [ ] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\nYou can either [create a follow-up issue for Feature Flag Cleanup](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) or use the checklist below in this same issue.\n\nFollow-up clean-up issue here: https://gitlab.com/gitlab-org/gitlab/-/issues/367704\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set \u003cfeature-flag-name\u003e false\n```\n\n## Testing\n\nOnce rolled out, SET shall investigate if current test coverage is sufficient, or if tests need added to cover new functionality.","state":"closed","created_at":"2022-07-13T16:59:35.733Z","updated_at":"2022-09-04T11:17:45.094Z","closed_at":"2022-08-17T17:53:09.278Z","closed_by":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"labels":["Category:License Compliance","GitLab Ultimate","devops::secure","feature flag","feature::enhancement","frontend","group::composition analysis","quad-planning::complete-action","section::sec","type::feature","workflow::verification"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},{"id":3658061,"username":"rdickenson","name":"Russell Dickenson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3658061/avatar.png","web_url":"https://gitlab.com/rdickenson"},{"id":5292351,"username":"sam.white","name":"Sam White","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d467fb024d1858d279e6a36e028436ac?s=80\u0026d=identicon","web_url":"https://gitlab.com/sam.white"}],"author":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"type":"ISSUE","assignee":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367703","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":36,"completed_count":19},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"19 of 36 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367703","notes":"https://gitlab.com/api/v4/projects/278964/issues/367703/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367703/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367703","relative":"#367703","full":"gitlab-org/gitlab#367703"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7763,"epic":{"id":476528,"iid":7763,"title":"[MR Widget Eng] - License Compliance MR widget extension migration feature parity with legacy widget","url":"/groups/gitlab-org/-/epics/7763","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"needs_attention"},{"id":111594263,"iid":367696,"project_id":278964,"title":"focus title of release if tag was preselected","description":"Follow up from https://gitlab.com/gitlab-org/gitlab/-/merge_requests/90960#note_1025159385:\n\n**suggestion**: could we put initial focus on a title field instead of a tag name when tag is pre-selected?\n| Before | After |\n|--------|-------|\n| ![image](https://gitlab.com/gitlab-org/gitlab/uploads/9945d1f98a333475f2a104ff703fd09d/image.png) | ![image](https://gitlab.com/gitlab-org/gitlab/uploads/471c34d84a4a9d10173e11001eea9788/image.png) |","state":"closed","created_at":"2022-07-13T15:50:44.184Z","updated_at":"2022-08-16T08:12:43.357Z","closed_at":"2022-08-16T08:12:43.324Z","closed_by":{"id":92994,"username":"fabsrc","name":"Fabian Schneider","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/92994/FS.jpg","web_url":"https://gitlab.com/fabsrc"},"labels":["Category:Release Orchestration","Community contribution","Next Up","UX","[deprecated] low hanging fruit","auto updated","devops::release","frontend","frontend-weight::1","group::release","section::ops","type::feature"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":92994,"username":"fabsrc","name":"Fabian Schneider","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/92994/FS.jpg","web_url":"https://gitlab.com/fabsrc"}],"author":{"id":3379682,"username":"vshushlin","name":"Vladimir Shushlin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3379682/avatar.png","web_url":"https://gitlab.com/vshushlin"},"type":"ISSUE","assignee":{"id":92994,"username":"fabsrc","name":"Fabian Schneider","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/92994/FS.jpg","web_url":"https://gitlab.com/fabsrc"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367696","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367696","notes":"https://gitlab.com/api/v4/projects/278964/issues/367696/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367696/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367696","relative":"#367696","full":"gitlab-org/gitlab#367696"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":111593581,"iid":367692,"project_id":278964,"title":"[ci_minimal_cost_factor_for_gitlab_namespaces] Enable gitlab namespaces","description":":warning: This flag should never be globally enabled. This flag should only ever be enabled for gitlab-org and gitlab-com ATM. This is a long lived ops feature flag and should stay in the code base.\n\n## Summary\n\nThis issue is to rollout [the feature](https://gitlab.com/gitlab-org/gitlab/-/issues/365447) on production,\nthat is currently behind the `ci_minimal_cost_factor_for_gitlab_namespaces` feature flag.\n\n\n## Owners\n\n- Team: ~\"group::pipeline execution\" \n- Most appropriate slack channel to reach out to: `#g_pipeline_execution`\n- Best individual to reach out to: @allison.browne or @fabiopitino \n- PM: @jheimbuck_gl \n\n## Rollout Steps\n\n* `/chatops run feature set --namespace=gitlab-org,gitlab-com ci_minimal_cost_factor_for_gitlab_namespaces true --staging --dev`\n* `/chatops run feature set --namespace=gitlab-org,gitlab-com ci_minimal_cost_factor_for_gitlab_namespaces true`\n\nThis is a long lived feature flag and should not be deleted or globally enabled. It should only be enabled for namespaces which contain gitlab projects that the community can contribute to.","state":"closed","created_at":"2022-07-13T15:34:36.061Z","updated_at":"2022-07-19T13:17:27.955Z","closed_at":"2022-07-19T13:17:27.911Z","closed_by":{"id":4626651,"username":"allison.browne","name":"Allison Browne","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4bc33904c3bd3f2dce3db4e5af4ad1ae?s=80\u0026d=identicon","web_url":"https://gitlab.com/allison.browne"},"labels":["CI minutes","Category:Continuous Integration","devops::verify","feature flag","feature::addition","group::pipeline execution","section::ops","type::feature","workflow::planning breakdown"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":4626651,"username":"allison.browne","name":"Allison Browne","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4bc33904c3bd3f2dce3db4e5af4ad1ae?s=80\u0026d=identicon","web_url":"https://gitlab.com/allison.browne"}],"author":{"id":4626651,"username":"allison.browne","name":"Allison Browne","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4bc33904c3bd3f2dce3db4e5af4ad1ae?s=80\u0026d=identicon","web_url":"https://gitlab.com/allison.browne"},"type":"ISSUE","assignee":{"id":4626651,"username":"allison.browne","name":"Allison Browne","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4bc33904c3bd3f2dce3db4e5af4ad1ae?s=80\u0026d=identicon","web_url":"https://gitlab.com/allison.browne"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367692","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367692","notes":"https://gitlab.com/api/v4/projects/278964/issues/367692/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367692/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367692","relative":"#367692","full":"gitlab-org/gitlab#367692"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":111591502,"iid":367685,"project_id":278964,"title":"Fix Github project importer from creating releases without author_id","description":"Creating this issue for tracking purpose as we promoted the original [parent issue](https://gitlab.com/gitlab-org/gitlab/-/issues/343448) to epic.\n\nEnsure that releases created from Github project importer have author_id entry.\n\nPart of - gitlab-org\u0026amp;8375","state":"closed","created_at":"2022-07-13T14:58:32.377Z","updated_at":"2022-07-13T14:58:47.322Z","closed_at":"2022-07-13T14:58:47.276Z","closed_by":{"id":9253328,"username":"bala.kumar","name":"Bala Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9253328/avatar.png","web_url":"https://gitlab.com/bala.kumar"},"labels":["group::release"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":9253328,"username":"bala.kumar","name":"Bala Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9253328/avatar.png","web_url":"https://gitlab.com/bala.kumar"}],"author":{"id":9253328,"username":"bala.kumar","name":"Bala Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9253328/avatar.png","web_url":"https://gitlab.com/bala.kumar"},"type":"ISSUE","assignee":{"id":9253328,"username":"bala.kumar","name":"Bala Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9253328/avatar.png","web_url":"https://gitlab.com/bala.kumar"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367685","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367685","notes":"https://gitlab.com/api/v4/projects/278964/issues/367685/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367685/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367685","relative":"#367685","full":"gitlab-org/gitlab#367685"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8375,"epic":{"id":565993,"iid":8375,"title":"Ensure new Releases always have `author_id`","url":"/groups/gitlab-org/-/epics/8375","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":111591310,"iid":367684,"project_id":278964,"title":"Add validation for author_id during release creation","description":"Creating this issue for tracking purpose as we promoted the original [parent issue](https://gitlab.com/gitlab-org/gitlab/-/issues/343448) to epic.\n\nEnsure that new releases created have a valid author_id field value.\n\n\nPart of - gitlab-org\u00268375","state":"closed","created_at":"2022-07-13T14:55:14.206Z","updated_at":"2022-07-13T14:59:43.958Z","closed_at":"2022-07-13T14:55:34.132Z","closed_by":{"id":9253328,"username":"bala.kumar","name":"Bala Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9253328/avatar.png","web_url":"https://gitlab.com/bala.kumar"},"labels":["group::release"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":9253328,"username":"bala.kumar","name":"Bala Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9253328/avatar.png","web_url":"https://gitlab.com/bala.kumar"}],"author":{"id":9253328,"username":"bala.kumar","name":"Bala Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9253328/avatar.png","web_url":"https://gitlab.com/bala.kumar"},"type":"ISSUE","assignee":{"id":9253328,"username":"bala.kumar","name":"Bala Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9253328/avatar.png","web_url":"https://gitlab.com/bala.kumar"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367684","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367684","notes":"https://gitlab.com/api/v4/projects/278964/issues/367684/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367684/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367684","relative":"#367684","full":"gitlab-org/gitlab#367684"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8375,"epic":{"id":565993,"iid":8375,"title":"Ensure new Releases always have `author_id`","url":"/groups/gitlab-org/-/epics/8375","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":111590761,"iid":367683,"project_id":278964,"title":"[Feature flag] Rollout of `always_async_project_authorizations_refresh`","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout [the feature](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/93352) on production,\nthat is currently behind the `always_async_project_authorizations_refresh` feature flag.\n\nThe effects of enabling this change is mentioned here: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/92333#note_1033648348\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\n## Owners\n\n- Team: Manage::Workspace\n- Most appropriate slack channel to reach out to: `#g_manage_workspace`\n- Best individual to reach out to: Manoj M J\n- PM: Christina Lohr\n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## Expectations\n\n### What are we expecting to happen?\n\n\u003c!-- Describe the expected outcome when rolling out this feature --\u003e\n\n### When is the feature viable?\n\n\u003c!-- What are the settings we need to configure in order to have this feature viable? --\u003e\n\n\u003c!-- \nExample below:\n \n1. Enable service ping collection\n   `ApplicationSetting.first.update(usage_ping_enabled: true)`\n--\u003e\n\n### What might happen if this goes wrong?\n\n\u003c!-- Should the feature flag be turned off? Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n_Consider mentioning checks for 5xx errors or other anomalies like an increase in redirects \n(302 HTTP response status)_\n\n### What can we check for monitoring production after rollouts?\n\n_Consider adding links to check for Sentry errors, Production logs for 5xx, 302s, etc._\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Enable the feature globally on non-production environments.\n    - [x] /chatops run feature set \u003cfeature-flag-name\u003e true --dev --staging --staging-ref\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n      The best environment to validate the feature in is [staging-canary](https://about.gitlab.com/handbook/engineering/infrastructure/environments/#staging-canary)\n      as this is the first environment deployed to. Note you will need to make sure you are configured to use canary as outlined [here](https://about.gitlab.com/handbook/engineering/infrastructure/environments/canary-stage/)\n      when accessing the staging environment in order to make sure you are testing appropriately.\n\n### Specific rollout on production\n\n- Ensure that the feature MRs have been deployed to both production and canary.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- If you're using [project-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --project=gitlab-org/gitlab,gitlab-org/gitlab-foss,gitlab-com/www-gitlab-com \u003cfeature-flag-name\u003e true`\n- If you're using [group-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --group=gitlab-org,gitlab-com \u003cfeature-flag-name\u003e true`\n- If you're using [user-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --user=\u003cyour-username\u003e \u003cfeature-flag-name\u003e true`\n- [ ] Verify that the feature works on the specific entries. Posting the QA result in this issue is preferable.\n\n### Preparation before global rollout\n\n- [x] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [x] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [ ] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [ ] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com. \n- [ ] Ensure that any breaking changes have been announced following the [release post process](https://about.gitlab.com/handbook/marketing/blog/release-posts/#deprecations-removals-and-breaking-changes) to ensure GitLab customers are aware.\n- [x] Notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nFor visibility, all `/chatops` commands that target production should be executed in the `#production` slack channel and cross-posted (with the command results) to the responsible team's slack channel (`#g_TEAM_NAME`).\n\n- [x] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e --random`\n  - Enable the feature globally on production environment.\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e true`\n- [ ] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [x] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [x] Create a merge request with the following changes. Ask for review and merge it.\n    - [x] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the default-enabling MR has been included in the release package.\n      If the merge request was deployed before [the monthly release was tagged](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run release check \u003cmerge-request-url\u003e \u003cmilestone\u003e`\n- [ ] Consider cleaning up the feature flag from all environments by running these chatops command in `#production` channel. Otherwise these settings may override the default enabled.\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --dev --staging --staging-ref --production`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [ ] (Optional) You can [create a separate issue](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [ ] Set the title to \"[Feature flag] Cleanup `\u003cfeature-flag-name\u003e`\".\n    - [ ] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [ ] Link this rollout issue as a related issue.\n    - [ ] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\nYou can either [create a follow-up issue for Feature Flag Cleanup](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) or use the checklist below in this same issue.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [x] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag. Ask for review and merge it.\n    - [x] Remove all references to the feature flag from the codebase.\n    - [x] Remove the YAML definitions for the feature from the repository.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the cleanup MR has been included in the release package.\n      If the merge request was deployed before [the monthly release was tagged](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run release check \u003cmerge-request-url\u003e \u003cmilestone\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [x] If not already done, clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [x] `/chatops run feature delete \u003cfeature-flag-name\u003e --dev --staging --staging-ref --production`\n- [x] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set \u003cfeature-flag-name\u003e false\n```","state":"closed","created_at":"2022-07-13T14:48:42.451Z","updated_at":"2022-12-19T15:53:50.878Z","closed_at":"2022-11-28T12:42:12.430Z","closed_by":{"id":4093067,"username":"manojmj","name":"Manoj M J","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4093067/avatar.png","web_url":"https://gitlab.com/manojmj"},"labels":["backend","devops::manage","feature flag","feature::addition","group::organization","missed:15.4","missed:15.5","section::dev","type::feature","workflow::in review"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":4093067,"username":"manojmj","name":"Manoj M J","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4093067/avatar.png","web_url":"https://gitlab.com/manojmj"}],"author":{"id":4093067,"username":"manojmj","name":"Manoj M J","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4093067/avatar.png","web_url":"https://gitlab.com/manojmj"},"type":"ISSUE","assignee":{"id":4093067,"username":"manojmj","name":"Manoj M J","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4093067/avatar.png","web_url":"https://gitlab.com/manojmj"},"user_notes_count":20,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367683","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":46,"completed_count":21},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"21 of 46 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367683","notes":"https://gitlab.com/api/v4/projects/278964/issues/367683/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367683/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367683","relative":"#367683","full":"gitlab-org/gitlab#367683"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":111587441,"iid":367681,"project_id":278964,"title":"🎨 Design: Improve IF/Then setup for execution policies","description":"For more details, please go to [Epic](https://gitlab.com/groups/gitlab-org/-/epics/5363)\n\n### Specific Problem of this issue\n\nThe current way of setup schedule scans is using the existing IF/THEN pattern, but when it is applied to this situation, as the picture shows, it is not a natural way human thinks or speaks. And in the IF part, scheduling an \"Action\" is ambiguous in this situation, it is not very clear what the action is.  \n\n\u003cimg src=\"/uploads/f8cfe84a9ec2c8749c67359e6143764a/Screenshot_2022-07-08_at_12.41.48.png\"  width=\"600\"\u003e\n\n\n### Solution\n\n\n![improve_IF_Then_Final](/uploads/6919380ce05b46e3f1f9230f5f5a360c/improve_IF_Then_Final.png)","state":"closed","created_at":"2022-07-13T14:19:40.146Z","updated_at":"2022-09-12T03:23:01.904Z","closed_at":"2022-09-08T14:45:21.931Z","closed_by":{"id":5292351,"username":"sam.white","name":"Sam White","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d467fb024d1858d279e6a36e028436ac?s=80\u0026d=identicon","web_url":"https://gitlab.com/sam.white"},"labels":["Category:Security Policy Management","UX","auto updated","devops::govern","group::security policies","missed:15.3","section::sec","type::feature"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":4544240,"username":"cam.x","name":"Camellia X Yang","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7ea4de9b3092f62013d2cfd0c340811a?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam.x"}],"author":{"id":4544240,"username":"cam.x","name":"Camellia X Yang","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7ea4de9b3092f62013d2cfd0c340811a?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam.x"},"type":"ISSUE","assignee":{"id":4544240,"username":"cam.x","name":"Camellia X Yang","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7ea4de9b3092f62013d2cfd0c340811a?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam.x"},"user_notes_count":42,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367681","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367681","notes":"https://gitlab.com/api/v4/projects/278964/issues/367681/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367681/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367681","relative":"#367681","full":"gitlab-org/gitlab#367681"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8695,"epic":{"id":597732,"iid":8695,"title":"Follow-up UX enhancements for scan execution policy rule mode","url":"/groups/gitlab-org/-/epics/8695","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":111584618,"iid":367675,"project_id":278964,"title":"Compliance report does not always show properly filtered results","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"type::bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=type::bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\n\u003c!-- Summarize the bug encountered concisely. --\u003e\n\nThe Compliance Report does not always show all violations that should appear for the current day with the default date filters.\n\nInterestingly, this appears to be a UI bug for only some users. After discussing on [Slack](https://gitlab.slack.com/archives/CN7C8029H/p1657645688460859) with @rob.hunt, it was confirmed that some users correctly see all results for the given date range in the UI while others do not. Both users were able to see all the expected results when using the GraphQL API directly.\n\nOf note, Rob is in the UK while Sam is in the US, so perhaps something related to timezones is at play.\n\n### Steps to reproduce\n\n\u003c!-- Describe how one can reproduce the issue - this is very important. Please use an ordered list. --\u003e\n\nI confirmed this happens in my normal browser, a second browser, and a logged-in incognito session on the original browser.\n\nI confirmed this result happens if I look at the Compliance Report on both the root group and in a child group.\n\nThis was all done on GitLab.com.\n\n### Example Project\n\n\u003c!-- If possible, please create an example project here on GitLab.com that exhibits the problematic \nbehavior, and link to it here in the bug report. If you are using an older version of GitLab, this \nwill also determine whether the bug is fixed in a more recent version. --\u003e\n\nhttps://gitlab.com/groups/sam-s-test-group/compliance-framework-demo/-/security/compliance_dashboard?mergedAfter=2022-06-13\u0026mergedBefore=2022-07-13\n\n### What is the current *bug* behavior?\n\n\u003c!-- Describe what actually happens. --\u003e\n\n(All images were taken on 2022-07-13, so that day is considered \"today.\")\n\nThis image shows the Compliance Report with only 3 results, when there should be 6. This was reached by clicking the `Compliance report` button on the sidebar. Note the URL and date filters selected. This same URL showed 6 results for Rob when he tried it.\n\n![image](/uploads/c2bb0d80b8d6b21686b704eef8e52463/image.png)\n\nThis image shows the Compliance Report with 6 results, but the URL string was manually edited to be one day in the future.\n\n![image](/uploads/b29f1d1eeeca7262cbed1291bb744085/image.png)\n\nThis image shows a GraphQL returning all 6 results as expected.\n\n![image](/uploads/e5cd8eff29850b2444d7661f693fcfe8/image.png)\n\n### What is the expected *correct* behavior?\n\n\u003c!-- Describe what you should see instead. --\u003e\n\nThe UI should be displaying all 6 results to include the current day's results.\n\n### Relevant logs and/or screenshots\n\n\u003c!-- Paste any relevant logs - please use code blocks (```) to format console output, logs, and code\n as it's tough to read otherwise. --\u003e\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Current workarounds\n\nThere are two possible options:\n\n1. Change your device's timezone to a UTC neutral (`UTC+0`) or UTC positive timezone (`UTC+`) by either changing the system clock or using a browser extension to spoof it.\n2. Change the URL's `mergedBefore` date to be the date for tomorrow. It won't be reflected in the filters but it does trick the date formatter into using the current date instead.\n\n### Implementation plan\n\n~frontend - :two: - reasoning: https://gitlab.com/gitlab-org/gitlab/-/issues/367675#note_1025545194\n\n1. Set `utc` property to `true` for `formatDate()` usages\n2. Add test to `utils_spec.js` to confirm that the timezone is now ignored as with the rest of the codebase\n\nA quick patch for the `utc` property change:\n\n```patch\nIndex: ee/app/assets/javascripts/compliance_dashboard/utils.js\n\u003c+\u003eUTF-8\n===================================================================\ndiff --git a/ee/app/assets/javascripts/compliance_dashboard/utils.js b/ee/app/assets/javascripts/compliance_dashboard/utils.js\n--- a/ee/app/assets/javascripts/compliance_dashboard/utils.js\t(revision Staged)\n+++ b/ee/app/assets/javascripts/compliance_dashboard/utils.js\t(date 1657726262123)\n@@ -13,8 +13,8 @@\n \n export const parseViolationsQueryFilter = ({ mergedBefore, mergedAfter, projectIds }) =\u003e ({\n   projectIds: projectIds ? convertProjectIdsToGraphQl(projectIds) : [],\n-  mergedBefore: formatDate(mergedBefore, ISO_SHORT_FORMAT),\n-  mergedAfter: formatDate(mergedAfter, ISO_SHORT_FORMAT),\n+  mergedBefore: formatDate(mergedBefore, ISO_SHORT_FORMAT, true),\n+  mergedAfter: formatDate(mergedAfter, ISO_SHORT_FORMAT, true),\n });\n \n export const buildDefaultFilterParams = (queryString) =\u003e ({\n```","state":"closed","created_at":"2022-07-13T13:34:41.984Z","updated_at":"2022-12-06T02:25:52.976Z","closed_at":"2022-08-05T21:52:20.385Z","closed_by":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"labels":["Category:Compliance Management","devops::manage","frontend","group::compliance","priority::2","section::dev","severity::3","type::bug","workflow::verification"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"}],"author":{"id":4376883,"username":"stkerr","name":"Sam Kerr","state":"active","avatar_url":"https://secure.gravatar.com/avatar/591c8b969464f7b4fb97b6f2f654f11a?s=80\u0026d=identicon","web_url":"https://gitlab.com/stkerr"},"type":"ISSUE","assignee":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367675","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367675","notes":"https://gitlab.com/api/v4/projects/278964/issues/367675/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367675/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367675","relative":"#367675","full":"gitlab-org/gitlab#367675"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":111574888,"iid":367656,"project_id":278964,"title":"Generate links to package managers (GoSum)","description":"As part of [Link to package managers when viewing dependency files with highlight.js](https://gitlab.com/groups/gitlab-org/-/epics/7888) we should ensure package names and versions are linked to their respective package managers when viewing `GoSum` files.","state":"closed","created_at":"2022-07-13T11:22:03.257Z","updated_at":"2022-12-21T12:02:13.778Z","closed_at":"2022-12-02T14:18:33.012Z","closed_by":{"id":11703928,"username":"nradina","name":"Nataliia Radina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11703928/avatar.png","web_url":"https://gitlab.com/nradina"},"labels":["Category:Source Code Management","Deliverable","[deprecated] Accepting merge requests","devops::create","frontend","group::source code","quad-planning::complete-no-action","section::dev","type::feature","workflow::production"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":11703928,"username":"nradina","name":"Nataliia Radina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11703928/avatar.png","web_url":"https://gitlab.com/nradina"}],"author":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"type":"ISSUE","assignee":{"id":11703928,"username":"nradina","name":"Nataliia Radina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11703928/avatar.png","web_url":"https://gitlab.com/nradina"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367656","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367656","notes":"https://gitlab.com/api/v4/projects/278964/issues/367656/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367656/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367656","relative":"#367656","full":"gitlab-org/gitlab#367656"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7888,"epic":{"id":497868,"iid":7888,"title":"Link to package managers when viewing dependency files with highlight.js","url":"/groups/gitlab-org/-/epics/7888","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":111574796,"iid":367652,"project_id":278964,"title":"Generate links to package managers (GodepsJson)","description":"As part of [Link to package managers when viewing dependency files with highlight.js](https://gitlab.com/groups/gitlab-org/-/epics/7888) we should ensure package names and versions are linked to their respective package managers when viewing `GodepsJson` files.\n\n- [example](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/assets/javascripts/vue_shared/components/source_viewer/plugins/utils/package_json_linker.js)","state":"closed","created_at":"2022-07-13T11:20:13.092Z","updated_at":"2022-11-21T12:01:25.224Z","closed_at":"2022-11-03T10:02:28.590Z","closed_by":{"id":11703928,"username":"nradina","name":"Nataliia Radina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11703928/avatar.png","web_url":"https://gitlab.com/nradina"},"labels":["Category:Source Code Management","Deliverable","devops::create","frontend","group::source code","missed-deliverable","missed:15.5","quad-planning::complete-no-action","section::dev","type::feature","workflow::production"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":11703928,"username":"nradina","name":"Nataliia Radina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11703928/avatar.png","web_url":"https://gitlab.com/nradina"}],"author":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"type":"ISSUE","assignee":{"id":11703928,"username":"nradina","name":"Nataliia Radina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11703928/avatar.png","web_url":"https://gitlab.com/nradina"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367652","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367652","notes":"https://gitlab.com/api/v4/projects/278964/issues/367652/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367652/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367652","relative":"#367652","full":"gitlab-org/gitlab#367652"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7888,"epic":{"id":497868,"iid":7888,"title":"Link to package managers when viewing dependency files with highlight.js","url":"/groups/gitlab-org/-/epics/7888","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":111574762,"iid":367650,"project_id":278964,"title":"Generate links to package managers (PodspecJson)","description":"As part of [Link to package managers when viewing dependency files with highlight.js](https://gitlab.com/groups/gitlab-org/-/epics/7888) we should ensure package names and versions are linked to their respective package managers when viewing `PodspecJson` files.","state":"closed","created_at":"2022-07-13T11:19:05.835Z","updated_at":"2022-11-21T12:01:25.288Z","closed_at":"2022-11-15T13:20:23.270Z","closed_by":{"id":11703928,"username":"nradina","name":"Nataliia Radina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11703928/avatar.png","web_url":"https://gitlab.com/nradina"},"labels":["Category:Source Code Management","Deliverable","devops::create","frontend","group::source code","quad-planning::complete-no-action","section::dev","type::feature","workflow::production"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":11703928,"username":"nradina","name":"Nataliia Radina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11703928/avatar.png","web_url":"https://gitlab.com/nradina"}],"author":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"type":"ISSUE","assignee":{"id":11703928,"username":"nradina","name":"Nataliia Radina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11703928/avatar.png","web_url":"https://gitlab.com/nradina"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367650","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367650","notes":"https://gitlab.com/api/v4/projects/278964/issues/367650/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367650/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367650","relative":"#367650","full":"gitlab-org/gitlab#367650"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7888,"epic":{"id":497868,"iid":7888,"title":"Link to package managers when viewing dependency files with highlight.js","url":"/groups/gitlab-org/-/epics/7888","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":111574582,"iid":367646,"project_id":278964,"title":"Generate links to package managers (ComposerJson)","description":"As part of [Link to package managers when viewing dependency files with highlight.js](https://gitlab.com/groups/gitlab-org/-/epics/7888) we should ensure package names and versions are linked to their respective package managers when viewing `ComposerJson` files.","state":"closed","created_at":"2022-07-13T11:15:50.945Z","updated_at":"2022-11-21T12:01:25.346Z","closed_at":"2022-11-16T09:12:21.493Z","closed_by":{"id":11703928,"username":"nradina","name":"Nataliia Radina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11703928/avatar.png","web_url":"https://gitlab.com/nradina"},"labels":["Category:Source Code Management","Deliverable","devops::create","frontend","group::source code","quad-planning::complete-no-action","section::dev","type::feature","workflow::production"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":11703928,"username":"nradina","name":"Nataliia Radina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11703928/avatar.png","web_url":"https://gitlab.com/nradina"}],"author":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"type":"ISSUE","assignee":{"id":11703928,"username":"nradina","name":"Nataliia Radina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11703928/avatar.png","web_url":"https://gitlab.com/nradina"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367646","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367646","notes":"https://gitlab.com/api/v4/projects/278964/issues/367646/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367646/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367646","relative":"#367646","full":"gitlab-org/gitlab#367646"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7888,"epic":{"id":497868,"iid":7888,"title":"Link to package managers when viewing dependency files with highlight.js","url":"/groups/gitlab-org/-/epics/7888","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":111574474,"iid":367645,"project_id":278964,"title":"Generate links to package managers (gemspec)","description":"As part of [Link to package managers when viewing dependency files with highlight.js](https://gitlab.com/groups/gitlab-org/-/epics/7888) we should ensure package names and versions are linked to their respective package managers when viewing `gemspec` files.","state":"closed","created_at":"2022-07-13T11:13:59.123Z","updated_at":"2022-11-16T09:31:47.292Z","closed_at":"2022-07-22T07:09:49.867Z","closed_by":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"labels":["Category:Source Code Management","Deliverable","devops::create","frontend","group::source code","section::dev","type::feature","workflow::verification"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"}],"author":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"type":"ISSUE","assignee":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367645","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367645","notes":"https://gitlab.com/api/v4/projects/278964/issues/367645/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367645/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367645","relative":"#367645","full":"gitlab-org/gitlab#367645"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7888,"epic":{"id":497868,"iid":7888,"title":"Link to package managers when viewing dependency files with highlight.js","url":"/groups/gitlab-org/-/epics/7888","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":111574375,"iid":367644,"project_id":278964,"title":"Generate links to package managers (gemfile)","description":"As part of [Link to package managers when viewing dependency files with highlight.js](https://gitlab.com/groups/gitlab-org/-/epics/7888) we should ensure package names and versions are linked to their respective package managers when viewing `gemfile` files.","state":"closed","created_at":"2022-07-13T11:12:41.432Z","updated_at":"2022-11-21T12:01:25.416Z","closed_at":"2022-11-14T08:32:45.389Z","closed_by":{"id":11703928,"username":"nradina","name":"Nataliia Radina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11703928/avatar.png","web_url":"https://gitlab.com/nradina"},"labels":["Category:Source Code Management","Deliverable","devops::create","feature::enhancement","frontend","group::source code","quad-planning::complete-no-action","section::dev","type::feature","workflow::production"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":11703928,"username":"nradina","name":"Nataliia Radina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11703928/avatar.png","web_url":"https://gitlab.com/nradina"}],"author":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"type":"ISSUE","assignee":{"id":11703928,"username":"nradina","name":"Nataliia Radina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11703928/avatar.png","web_url":"https://gitlab.com/nradina"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367644","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367644","notes":"https://gitlab.com/api/v4/projects/278964/issues/367644/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367644/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367644","relative":"#367644","full":"gitlab-org/gitlab#367644"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7888,"epic":{"id":497868,"iid":7888,"title":"Link to package managers when viewing dependency files with highlight.js","url":"/groups/gitlab-org/-/epics/7888","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":111568227,"iid":367636,"project_id":278964,"title":"Generate links for dependencies containing characters that are escaped by HLJS","description":"In https://gitlab.com/gitlab-org/gitlab/-/merge_requests/91886 we added a mechanism for generating links to dependency managers for content that is highlighted by Highlight.js\n\nSometimes dependency names and versions contain characters that are escaped by Highlight.js and these cases are currently ignored by our implementation for generating links: \n\n![Screenshot_2022-07-13_at_11.16.54](/uploads/d365ccb8312227d772b55a3f40e24c4c/Screenshot_2022-07-13_at_11.16.54.png)\n\nWe need to investigate a way to generate links for dependencies that contain escaped characters without introducing any security vulnerabilities.","state":"closed","created_at":"2022-07-13T09:31:17.953Z","updated_at":"2022-08-21T12:00:58.834Z","closed_at":"2022-07-26T07:18:17.218Z","closed_by":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"labels":["Category:Source Code Management","Deliverable","auto updated","devops::create","feature","frontend","group::source code","section::dev","type::feature","workflow::ready for development"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"}],"author":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"type":"ISSUE","assignee":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367636","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367636","notes":"https://gitlab.com/api/v4/projects/278964/issues/367636/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367636/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367636","relative":"#367636","full":"gitlab-org/gitlab#367636"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7888,"epic":{"id":497868,"iid":7888,"title":"Link to package managers when viewing dependency files with highlight.js","url":"/groups/gitlab-org/-/epics/7888","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":111546391,"iid":367612,"project_id":278964,"title":"Group Name not properly rendered in Exported group membership list","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"type::bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=type::bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nA [customer](https://gitlab.zendesk.com/agent/tickets/307609) reported that the email sent when generating a CSV export of group members is not rendered properly and is showing the following values.\n\n```\nHi,\nAttached to this email is the list of members of \u003c%= @group.name %\u003e in CSV format.\n```\n\n### Steps to reproduce\n\n\u003c!-- Describe how one can reproduce the issue - this is very important. Please use an ordered list. --\u003e\n\n1. Go to any group you have permission to in Gitlab.com\n2. Click on Subgroup information.\n3. Click on Export as CSV.\n4. Check the email sent to your account and see that the group name is not rendered properly.\n\n### Example Project\n\n\u003c!-- If possible, please create an example project here on GitLab.com that exhibits the problematic \nbehavior, and link to it here in the bug report. If you are using an older version of GitLab, this \nwill also determine whether the bug is fixed in a more recent version. --\u003e\n\n- N/A\n\n### What is the current *bug* behavior?\n\n\u003c!-- Describe what actually happens. --\u003e\n\n- The group name is not parsed and rendered properly.\n\n### What is the expected *correct* behavior?\n\n\u003c!-- Describe what you should see instead. --\u003e\n\n- The group name should be parsed and rendered properly.\n\n### Relevant logs and/or screenshots\n\n\u003c!-- Paste any relevant logs - please use code blocks (```) to format console output, logs, and code\n as it's tough to read otherwise. --\u003e\n\n![export_group_member_list](/uploads/8dbcd39fdc7e1fcf1f892aeab76081b3/export_group_member_list.png)\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\n\nThis bug happens on GitLab.com\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e\n\n## Implementation plan\n\nThe issue seems to stem from the email HAML template:\n\n1. Update the `ee/app/views/notify/memberships_export_email.html.haml` template as follows:\n\n```haml\n%p\n  Hi,\n  %br\n\n%p\n  Attached to this email is the list of members of #{@group.name} in CSV format.\n```\n\nWe could also consider linking to the group with `#{link_to(@group.name, group_url(@group)}`.","state":"closed","created_at":"2022-07-13T02:10:04.883Z","updated_at":"2022-12-06T02:26:13.065Z","closed_at":"2022-09-16T10:42:26.192Z","closed_by":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"labels":["Category:Audit Reports [DEPRECATED]","SUS::Impacting","UX","backend","bug::ux","customer","devops::govern","frontend","group::compliance","priority::2","section::sec","severity::3","type::bug","workflow::verification"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"}],"author":{"id":10051186,"username":"kballon","name":"Kent Japhet Ballon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10051186/avatar.png","web_url":"https://gitlab.com/kballon"},"type":"ISSUE","assignee":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"user_notes_count":7,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367612","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367612","notes":"https://gitlab.com/api/v4/projects/278964/issues/367612/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367612/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367612","relative":"#367612","full":"gitlab-org/gitlab#367612"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":111534819,"iid":367574,"project_id":278964,"title":"MVC: Job Log Search","description":"\u003c!-- This template is a great use for issues that are feature::additions or technical tasks for larger issues.--\u003e\n\n### Problem to solve\n\nFinding errors in job logs is hard when they get long/verbose/long winded.\n\n### Proposal\n\nAdd a simple search at the top of the job log. This search should be low level since it's an MVC.\n\n![Screen_Shot_2022-07-14_at_2.46.45_PM](/uploads/9dc3b5eaa9df6f18e1d4476287fb9d66/Screen_Shot_2022-07-14_at_2.46.45_PM.png)\n\n\u003c!-- Use this section to explain the feature and how it will work. It can be helpful to add technical details, design proposals, and links to related epics or issues. --\u003e\n\n\u003c!-- Consider adding related issues and epics to this issue. You can also reference the Feature Proposal Template (https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal%20-%20detailed.md) for additional details to consider adding to this issue. Additionally, as a data oriented organization, when your feature exits planning breakdown, consider adding the `What does success look like, and how can we measure that?` section.\n--\u003e\n\n\u003c!-- Label reminders\nUse the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n--\u003e","state":"closed","created_at":"2022-07-12T21:29:48.766Z","updated_at":"2022-08-17T14:18:32.662Z","closed_at":"2022-07-15T14:17:00.469Z","closed_by":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"labels":["Category:Continuous Integration","GitLab Free","devops::verify","documentation","feature::addition","group::pipeline execution","section::ops","type::feature","workflow::verification"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"}],"author":{"id":4512666,"username":"jheimbuck_gl","name":"James Heimbuck","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8dd2ef9c1cacb6e80d7ca47db6f0ce22?s=80\u0026d=identicon","web_url":"https://gitlab.com/jheimbuck_gl"},"type":"ISSUE","assignee":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367574","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367574","notes":"https://gitlab.com/api/v4/projects/278964/issues/367574/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367574/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367574","relative":"#367574","full":"gitlab-org/gitlab#367574"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":111532430,"iid":367570,"project_id":278964,"title":"[Feature Flag] Enable OAuth access token hashing","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout [the feature](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/91501) on production,\nthat is currently behind the `hash_oauth_tokens` feature flag.\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\n## Owners\n\n- Team: ~\"group::authentication and authorization\" \n- Most appropriate slack channel to reach out to: `#g_manage_auth`\n- Best individual to reach out to: @dblessing\n- PM: @hsutor\n\n## Stakeholders\n\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- The Support Team\n\n## Expectations\n\nThe expectation is that no users notice any changes to OAuth functionality. Tokens will be proactively migrated to hashed format when the feature flag is enabled. \n\n### What are we expecting to happen?\n\nNothing from the end-user perspective. On the database level we expect that tokens will be proactively migrated on use, and all new tokens will be hashed from the beginning. \n\n### When is the feature viable?\n\nOnce enabled on production we should know fairly quickly of any trouble. If nothing surfaces within the first few hours we should be safe. \n\n### What might happen if this goes wrong?\n\nUsers may not be able to authenticate using GitLab as an OAuth provider. \n\n### What can we monitor to detect problems with this?\n\nhttps://log.gprd.gitlab.net/app/discover#/view/5c2b4480-021d-11ed-b86b-d963a1a6788e?_g=(filters%3A!()%2CrefreshInterval%3A(pause%3A!t%2Cvalue%3A0)%2Ctime%3A(from%3Anow-1h%2Cto%3Anow))\n\nThe above link shows all POSTs/create action requests to `/oauth/token` which accounts for new token creation. If we see a spike in non-200 response codes here that will be an indicator of issues. \n\nAnother indicator is if we start seeing increase error rates in the API in general due to failed authentication with the OAuth token sent in the request. \n\n### What can we check for monitoring production after rollouts?\n\n_Consider adding links to check for Sentry errors, Production logs for 5xx, 302s, etc._\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Enable the feature globally on non-production environments.\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e true --dev --staging --staging-ref`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n      The best environment to validate the feature in is [staging-canary](https://about.gitlab.com/handbook/engineering/infrastructure/environments/#staging-canary)\n      as this is the first environment deployed to. Note you will need to make sure you are configured to use canary as outlined [here](https://about.gitlab.com/handbook/engineering/infrastructure/environments/canary-stage/)\n      when accessing the staging environment in order to make sure you are testing appropriately.\n\n### Specific rollout on production\n\n- Ensure that the feature MRs have been deployed to both production and canary.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- If you're using [project-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [x] `/chatops run feature set --project=gitlab-org/gitlab,gitlab-org/gitlab-foss,gitlab-com/www-gitlab-com \u003cfeature-flag-name\u003e true`\n- If you're using [group-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [x] `/chatops run feature set --group=gitlab-org,gitlab-com \u003cfeature-flag-name\u003e true`\n- If you're using [user-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [x] `/chatops run feature set --user=\u003cyour-username\u003e \u003cfeature-flag-name\u003e true`\n- [x] Verify that the feature works on the specific entries. Posting the QA result in this issue is preferable.\n\n### Preparation before global rollout\n\n- [x] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [x] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [x] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [x] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com. \n- [x] Ensure that any breaking changes have been announced following the [release post process](https://about.gitlab.com/handbook/marketing/blog/release-posts/#deprecations-removals-and-breaking-changes) to ensure GitLab customers are aware.\n- [x] Notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nFor visibility, all `/chatops` commands that target production should be executed in the `#production` slack channel and cross-posted (with the command results) to the responsible team's slack channel (`#g_TEAM_NAME`).\n\n- [x] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e --random`\n  - Enable the feature globally on production environment.\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e true`\n- [x] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [x] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [x] Create a merge request with the following changes. Ask for review and merge it.\n    - [x] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [x] Ensure that the default-enabling MR has been included in the release package.\n      If the merge request was deployed before [the monthly release was tagged](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [x] `/chatops run release check \u003cmerge-request-url\u003e \u003cmilestone\u003e`\n- [x] Consider cleaning up the feature flag from all environments by running these chatops command in `#production` channel. Otherwise these settings may override the default enabled.\n    - [x] `/chatops run feature delete \u003cfeature-flag-name\u003e --dev --staging --staging-ref --production`\n- [x] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [x] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [x] (Optional) You can [create a separate issue](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [x] Set the title to \"[Feature flag] Cleanup `\u003cfeature-flag-name\u003e`\".\n    - [x] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [x] Link this rollout issue as a related issue.\n    - [x] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\nYou can either [create a follow-up issue for Feature Flag Cleanup](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) or use the checklist below in this same issue.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [x] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag. Ask for review and merge it.\n    - [x] Remove all references to the feature flag from the codebase.\n    - [x] Remove the YAML definitions for the feature from the repository.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [x] Ensure that the cleanup MR has been included in the release package.\n      If the merge request was deployed before [the monthly release was tagged](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [x] `/chatops run release check \u003cmerge-request-url\u003e \u003cmilestone\u003e`\n- [x] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] If not already done, clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --dev --staging --staging-ref --production`\n- [ ] Close this rollout issue.\n\n## Rollback Steps\n\n- [x] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set hash_oauth_tokens false\n```\n\n**Note:** Once enabled, only disable the flag in a catastrophic situation. Once disabled, any token that is encrypted will be invalid. This includes refresh tokens, which will essentially break integrations until the end user/client re-authorizes and receives a new token.","state":"closed","created_at":"2022-07-12T20:04:54.097Z","updated_at":"2022-11-21T12:02:21.611Z","closed_at":"2022-10-24T17:50:58.863Z","closed_by":{"id":13356,"username":"dblessing","name":"Drew Blessing","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b5bf44866b4eeafa2d8114bfe15da02f?s=80\u0026d=identicon","web_url":"https://gitlab.com/dblessing"},"labels":["Deliverable","auto updated","backend","devops::manage","feature flag","group::authentication and authorization","oauth","section::dev","security","securitybot::ignore","type::feature","workflow::verification"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":13356,"username":"dblessing","name":"Drew Blessing","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b5bf44866b4eeafa2d8114bfe15da02f?s=80\u0026d=identicon","web_url":"https://gitlab.com/dblessing"}],"author":{"id":13356,"username":"dblessing","name":"Drew Blessing","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b5bf44866b4eeafa2d8114bfe15da02f?s=80\u0026d=identicon","web_url":"https://gitlab.com/dblessing"},"type":"ISSUE","assignee":{"id":13356,"username":"dblessing","name":"Drew Blessing","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b5bf44866b4eeafa2d8114bfe15da02f?s=80\u0026d=identicon","web_url":"https://gitlab.com/dblessing"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367570","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":46,"completed_count":43},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"43 of 46 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367570","notes":"https://gitlab.com/api/v4/projects/278964/issues/367570/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367570/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367570","relative":"#367570","full":"gitlab-org/gitlab#367570"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":111530104,"iid":367566,"project_id":278964,"title":"Ability to retain job filter in URL","description":"With the release of the new jobs table and jobs table search (CI/CD \u003e Jobs) we don't have the ability to share URLs and retain the filter added.\n\nThis issue serves as a feature issue to add the ability to retain the filter added in the URL.\n\nExample: `https://gitlab.com/gitlab-org/gitlab/-/jobs?page=1\u0026status=success`\n\n![Screen_Shot_2022-07-12_at_2.53.03_PM](/uploads/2515bc9c0d1c120cd024c583e32e4b22/Screen_Shot_2022-07-12_at_2.53.03_PM.png)","state":"closed","created_at":"2022-07-12T18:56:32.543Z","updated_at":"2022-09-12T22:14:58.847Z","closed_at":"2022-08-23T20:55:16.342Z","closed_by":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"labels":["Category:Continuous Integration","GraphQL","UX","devops::verify","feature::enhancement","frontend","group::pipeline execution","section::ops","type::feature","usability","workflow::production"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"}],"author":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"type":"ISSUE","assignee":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"user_notes_count":8,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367566","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367566","notes":"https://gitlab.com/api/v4/projects/278964/issues/367566/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367566/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367566","relative":"#367566","full":"gitlab-org/gitlab#367566"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":111523837,"iid":367550,"project_id":278964,"title":"Phase 1: Introduce incident-specific Slack notifications in the Settings page","description":"\u003c!-- This issue template can be used as a great starting point for feature requests. The section \"Release notes\" can be used as a summary of the feature and is also required if you want to have your release post blog MR auto generated using the release post item generator:  https://about.gitlab.com/handbook/marketing/blog/release-posts/#release-post-item-generator. The remaining sections are the backbone for every feature in GitLab.\n\nThe goal of this template is brevity for quick/smaller iterations. For a more thorough list of considerations for larger features or feature sets, you can leverage the detailed [feature proposal](https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal%20-%20detailed.md). --\u003e\n\n### Release notes\n\n\u003c!-- What is the problem and solution you're proposing? This content sets the overall vision for the feature and serves as the release notes that will populate in various places, including the [release post blog](https://about.gitlab.com/releases/categories/releases/) and [Gitlab project releases](https://gitlab.com/gitlab-org/gitlab/-/releases). \" --\u003e\n\nIn 15.8 we're releasing the first iteration of the GitLab Slack App for Incident Management. We want to make it easy for incident response teams to use Slack and GitLab incident management, ensuring Slack-to-GitLab workflows are seamless to minimize repetitive, manual work for incident response teams. With this release you can declare an incident from Slack and set your Slack integration to receive all incident notifications to a specific channel.\n\nhttps://docs.gitlab.com/ee/operations/incident_management/slack.html\n\n### Problem to solve\n\n\u003c!-- What is the user problem you are trying to solve with this issue? --\u003e\n\nRight now, Slack notifications for incidents are included within the notification settings for Issues. This means that there is currently no way for incident responders to receive their incident notifications in a separate Slack channel, or for them to define what notifications they would like to receive specifically for incidents.\n\n### Proposal\n\n\u003c!-- Use this section to explain the feature and how it will work. It can be helpful to add technical details, design proposals, and links to related epics or issues. --\u003e\n\n_Note: the Slack notifications are currently [being integrated](https://gitlab.com/gitlab-org/gitlab/-/issues/335673) into the newly updated GitLab Slack app. So, how our new notification section for incidents will look and where it will be located (either in Settings \u003e Integrations \u003e Slack app or Settings \u003e Integrations \u003e Slack notifications) will depend on where this work is at. The preference would be to wait until the notifications are ported over to the app, though, so that no re-work is required when notifications are ported over._ **See https://gitlab.com/groups/gitlab-org/-/epics/8545#note_1097603833 for specific context related to this issue.**\n\nIntroduce a section in the Slack notifications settings page specifically for incidents.\n\n![Settings_updates](/uploads/d96d8e6a95aaa104aa237cb905b4b730/Settings_updates.png)\n\nAs a first pass, we can start with notifications for when an incident is created. We can build on this initial notification to add notifications for things like status changes, in future. \n\nNote that other incident notifications (updates, closures, etc) can continue to be looped into the general `issue` notifications. We're not completely separating out incident notifications at this time, just creating a separate space for incident creation notifications to be sent. Confidential and non-confidential incidents should be treated the same.\n\n\nThere will also be a new notification style for incidents. There will be a [separate implementation issue](https://gitlab.com/gitlab-org/gitlab/-/issues/369365) for that work. You can use the [standard issue styles](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/models/integrations/chat_message/issue_message.rb) for notifications as a first pass. \n\n### Intended users\n\n\u003c!-- Who will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n\n* [Cameron (Compliance Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#cameron-compliance-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Priyanka (Platform Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#priyanka-platform-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager)\n* [Alex (Security Operations Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#alex-security-operations-engineer)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops)\n* [Ingrid (Infrastructure Operator)](https://about.gitlab.com/handbook/product/personas/#ingrid-infrastructure-operator)\n* [Dakota (Application Development Director)](https://about.gitlab.com/handbook/product/personas/#dakota-application-development-director)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n* [Eddie (Content Editor)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#eddie-content-editor)\n--\u003e\n\n### Feature Usage Metrics\n\n\u003c!-- How are you going to track usage of this feature? Think about user behavior and their interaction with the product. What indicates someone is getting value from it?\n\nCreate tracking issue using the Snowplow event tracking template. See https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Snowplow%20event%20tracking.md\n\n--\u003e\n\n\u003c!-- Label reminders\nUse the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n--\u003e","state":"closed","created_at":"2022-07-12T16:16:23.891Z","updated_at":"2023-01-12T21:15:22.994Z","closed_at":"2023-01-12T21:15:22.956Z","closed_by":{"id":9304687,"username":"abellucci","name":"Alana Bellucci","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9304687/avatar.png","web_url":"https://gitlab.com/abellucci"},"labels":["Category:Incident Management","GitLab Core","GitLab Free","UX","auto updated","devops::monitor","documentation","group::respond","release post item::in review","section::ops","type::feature","workflow::production"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[{"id":8198564,"username":"rkadam3","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8198564/avatar.png","web_url":"https://gitlab.com/rkadam3"}],"author":{"id":2799498,"username":"ameliabauerly","name":"Amelia Bauerly","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2799498/avatar.png","web_url":"https://gitlab.com/ameliabauerly"},"type":"ISSUE","assignee":{"id":8198564,"username":"rkadam3","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8198564/avatar.png","web_url":"https://gitlab.com/rkadam3"},"user_notes_count":17,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367550","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367550","notes":"https://gitlab.com/api/v4/projects/278964/issues/367550/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367550/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367550","relative":"#367550","full":"gitlab-org/gitlab#367550"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8806,"epic":{"id":605990,"iid":8806,"title":"Manage incident updates through Slack","url":"/groups/gitlab-org/-/epics/8806","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":111510801,"iid":367533,"project_id":278964,"title":"Add Authentication Options for DAST API On-Demand screens - Frontend","description":"This is ~frontend implementation issue for https://gitlab.com/gitlab-org/gitlab/-/issues/350514/\n\n### Problem \nThe design for DAST API on-demand scans does not support the use of authentication. Depending on the use case for customers, they may have a need to pass in username/passwords for basic authentication or use another method. \n\nWhile they can put authentication values in the header fields, this is not a good practice as all sensitive information should be encrypted in the database, or use CI variables.\n\n### Proposal\n- Update the `Excluded paths` and `Additional request headers` fields as follows:\n   - Add documentation on the screen on how to use https://docs.gitlab.com/ee/user/application_security/dast_api/#token-doesnt-expire\n   - Update the description text for both form fields\n   - Move the current description text to the help text area (below input)\n- Add fields for inputting username/password for basic authentication.\n\n[🎨 Figma designs](https://www.figma.com/file/o6NoqgLnxv0KnK2y9Qum51/DAST-Configuration-UI?node-id=1462%3A106239)","state":"closed","created_at":"2022-07-12T13:02:13.272Z","updated_at":"2022-09-14T05:26:37.421Z","closed_at":"2022-09-01T08:46:15.477Z","closed_by":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"labels":["Category:API Security","SUS::Impacting","Technical Writing","UI text","auto updated","devops::secure","documentation","feature flag","frontend","group::dynamic analysis","section::sec","severity::3","type::feature","workflow::production"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"}],"author":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"type":"ISSUE","assignee":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367533","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367533","notes":"https://gitlab.com/api/v4/projects/278964/issues/367533/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367533/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367533","relative":"#367533","full":"gitlab-org/gitlab#367533"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5892,"epic":{"id":260281,"iid":5892,"title":"API Scanner for DAST should be separate from DAST","url":"/groups/gitlab-org/-/epics/5892","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":111509802,"iid":367532,"project_id":278964,"title":"Consolidate VSA Group \u0026 Project into a single object - Workspace","description":"### Problem to solve\n\nValue Stream Analytics (VSA) is implemented in two levels:\n\n1. [Group-level](https://gitlab.com/gitlab-org/gitlab/-/value_stream_analytics?created_after=2022-06-13\u0026created_before=2022-07-12\u0026stage_id=issue\u0026sort=end_event\u0026direction=desc\u0026page=1)\n1. [Project-level](https://gitlab.com/groups/gitlab-org/-/analytics/value_stream_analytics?created_after=2022-05-01\u0026created_before=2022-06-22\u0026value_stream_id=1022\u0026label_name[]=group%3A%3Aoptimize\u0026project_ids[]=278964) \n\nIn the past year, the team focused on improving the maturity of group-level VSA. As a result, these features are missing from the project-level:\n- [Overview stage](https://docs.gitlab.com/ee/user/group/value_stream_analytics/#view-dora-metrics-and-key-metrics-for-a-group) \n- [Custom value streams](https://docs.gitlab.com/ee/user/group/value_stream_analytics/#create-a-value-stream-with-custom-stages).\n- Stage charts\n\nThis is also one ~\"group::optimize\" objectives for ~\"Category:Value Stream Management\" [Complete maturity](https://gitlab.com/groups/gitlab-org/-/epics/8325#complete).\n\n\n### Proposal \n\n1. Create an instance-level workspace for VSA.\n1. Migration VSA features to the [namespace level](https://gitlab.com/gitlab-org/gitlab/-/issues/364711).\n2. Consolidate all VSA features under workspace to reach feature parity between Group-level and Project-level. \n\n#### VSA feature licensing tiers for this ~spike:\n\n| VSA feature | Tier |\n|-------------|------|\n| Overview page with default stages time path navigation | free |\n| Stages path navigation | free |\n| Filter bar | free |\n| Flow metrics | free |\n| Custom stages and value streams | Premium |\n| Overview time chart | Premium |\n| Stage time chart | Premium |\n| 4 DORA metrics | Ultimate |\n\n### Open question:\n\n\n\n### TO DO:\n\nThe purpose of this issue is to facilitate discussion and formulate a follow-up plan.","state":"closed","created_at":"2022-07-12T12:45:06.020Z","updated_at":"2023-01-15T16:59:48.546Z","closed_at":"2022-11-14T09:56:31.285Z","closed_by":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"labels":["Category:DevOps Reports","Deliverable","Discussion","auto updated","backend","devops::plan","frontend","group::optimize","priority::2","section::dev","spike","type::feature","workflow::planning breakdown"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"}],"author":{"id":10879254,"username":"hsnir1","name":"Haim Snir","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10879254/avatar.png","web_url":"https://gitlab.com/hsnir1"},"type":"ISSUE","assignee":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"user_notes_count":44,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367532","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":8,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367532","notes":"https://gitlab.com/api/v4/projects/278964/issues/367532/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367532/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367532","relative":"#367532","full":"gitlab-org/gitlab#367532"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9295,"epic":{"id":659663,"iid":9295,"title":"[VSA parity phase 1] Release of group-level features on the project level for licensed customers","url":"/groups/gitlab-org/-/epics/9295","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":111503400,"iid":367522,"project_id":278964,"title":"On user deletion associate releases author_id to ghost user","description":"Currently when the user who created a release entry is deleted, the associated `author_id` column value is set to null on the releases table using the foreign key [`fk_8e4456f90f`](https://gitlab.com/gitlab-org/gitlab/-/blob/15071640564d2cf55b88f5d37b7fb1ea81078d33/db/structure.sql#L32102-L32103).\n\nWe should set the associated records to ghost user to make it consistent with Gitlab user deletion behaviour https://docs.gitlab.com/ee/user/profile/account/delete_account.html#associated-records\n\nThis would logically close out the edge case where the author_id value can be nil and also helps to debug and process the logs better as observed with this scenario where we are not able to clearly understand if the users were deleted https://gitlab.com/gitlab-org/gitlab/-/issues/366797#note_1023386074 using logs and rails console.\n\n#### Technical Proposal:\n\nInclude `migrate_releases` call to `services/users/migrate_to_ghost_user_service`\n\nMigration of old records can be kept as is, since they are harmless. Let us [discuss with team](https://gitlab.com/gitlab-org/gitlab/-/issues/367522#note_1026342088) and then make this conclusion.\n\n```diff\ndiff --git a/app/services/users/migrate_to_ghost_user_service.rb b/app/services/users/migrate_to_ghost_user_service.rb\nindex 3eb220c0e408..dae996429de5 100644\n--- a/app/services/users/migrate_to_ghost_user_service.rb\n+++ b/app/services/users/migrate_to_ghost_user_service.rb\n@@ -62,6 +62,7 @@ def migrate_records\n       migrate_award_emoji\n       migrate_snippets\n       migrate_reviews\n+      migrate_releases\n     end\n\n     # rubocop: disable CodeReuse/ActiveRecord\n@@ -99,6 +100,10 @@ def migrate_reviews\n       batched_migrate(Review, :author_id)\n     end\n\n+    def migrate_releases\n+      batched_migrate(Release, :author_id)\n+    end\n+\n     # rubocop:disable CodeReuse/ActiveRecord\n     def batched_migrate(base_scope, column, batch_size: 50)\n       loop do\n```","state":"closed","created_at":"2022-07-12T10:46:12.327Z","updated_at":"2022-12-21T12:05:44.326Z","closed_at":"2022-12-17T12:07:23.895Z","closed_by":{"id":9253328,"username":"bala.kumar","name":"Bala Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9253328/avatar.png","web_url":"https://gitlab.com/bala.kumar"},"labels":["Category:Release Orchestration","Deliverable","Release::P1","backend","devops::release","group::release","maintenance::refactor","section::ops","type::maintenance","workflow::verification"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":9253328,"username":"bala.kumar","name":"Bala Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9253328/avatar.png","web_url":"https://gitlab.com/bala.kumar"}],"author":{"id":9253328,"username":"bala.kumar","name":"Bala Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9253328/avatar.png","web_url":"https://gitlab.com/bala.kumar"},"type":"ISSUE","assignee":{"id":9253328,"username":"bala.kumar","name":"Bala Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9253328/avatar.png","web_url":"https://gitlab.com/bala.kumar"},"user_notes_count":15,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367522","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367522","notes":"https://gitlab.com/api/v4/projects/278964/issues/367522/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367522/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367522","relative":"#367522","full":"gitlab-org/gitlab#367522"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8375,"epic":{"id":565993,"iid":8375,"title":"Ensure new Releases always have `author_id`","url":"/groups/gitlab-org/-/epics/8375","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":111500790,"iid":367517,"project_id":278964,"title":"Add value units to VSA \"Stage time chart\"","description":"### Problem to solve\n\nSome users of VSA are unsure if the VSA stage time chart is displaying stage time in days or hours. There are different units in view on the screen and no units on the chart. This is made harder if users can't make the link between values in the path component and individual data points on the chart.\n\n\u003cdetails\u003e\n\u003csummary\u003eBased on conversation on slack\u003c/summary\u003e\n\n\u003e Haim is \"Stage time... Average time to completion\" when viewing a custom stage in a VSA report based on days or hours?\n\u003e\n\u003e I ask because looking at https://gitlab.com/groups/gitlab-org/-/analytics/value_stream_analytics?created_after=2022-06-09\u0026created_before=2022-07-08\u0026value_stream_id=491\u0026stage_id=890\u0026sort=end_event\u0026direction=desc\u0026page=1, the \"Ready for Development\" button says `2w` but the average of all the values on the chart is \\~45 (which is not anywhere close to 2 weeks)\n\n---\n\n\u003e It should be days. Looks like we miss the (days) for the Y axis.\n\u003e\n\u003e \u003e average of all the values on the chart is \\~45 (which is not anywhere close to 2 weeks) These are differently aggregated metrics\n\u003e\n\u003e * 2w is median (top)\n\u003e * for each day we aggregate the durations of the finished items (average). (each dot on the chart)\n\u003c/details\u003e\n\n### Solution \n\nMake units clearer within the context of the chart.\n\n1. Add unit `(Days)` to the chart y-axis title.\n2. Append unit `day` | `days` to the popover content.\n3. Remove `(Date)` from the popover content.\n\n| Total time | Stage time |\n| ------ | ------ |\n| ![Screenshot_2022-07-26_at_14.25.07](/uploads/1c2430d05869d4cf2ab35cf1790f2386/Screenshot_2022-07-26_at_14.25.07.png) | ![Screenshot_2022-07-26_at_14.24.14](/uploads/4fdfd247d211e447558ea9c5577f9362/Screenshot_2022-07-26_at_14.24.14.png) |\n\nI didn't see any formatting guidance in Pajamas for units in charts. In the popover I chose to include the unit in the value of the `key:value` pair. This mirrors pattern in the path.","state":"closed","created_at":"2022-07-12T09:50:27.470Z","updated_at":"2022-09-21T12:02:50.693Z","closed_at":"2022-09-07T05:48:36.513Z","closed_by":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"labels":["Deliverable","SUS::Impacting","UX","auto updated","design-weight::1","devops::manage","frontend","group::optimize","maintenance::usability","priority::3","section::dev","severity::4","type::maintenance","workflow::production"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"}],"author":{"id":10879254,"username":"hsnir1","name":"Haim Snir","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10879254/avatar.png","web_url":"https://gitlab.com/hsnir1"},"type":"ISSUE","assignee":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"user_notes_count":24,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367517","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367517","notes":"https://gitlab.com/api/v4/projects/278964/issues/367517/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367517/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367517","relative":"#367517","full":"gitlab-org/gitlab#367517"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":111496446,"iid":367510,"project_id":278964,"title":"Account owner being removed results in a group with no owner","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"type::bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=type::bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nIt is possible to remove the last person in the group and to have a situation where the group has no owner.\n\n### Steps to reproduce\n\n- Use terraform and define users and resources\n\n```tf\nterraform {\n  backend \"http\" {\n  }\n}\n\nresource \"gitlab_group_membership\" \"exampleuser\" {\n  group_id     = gitlab_group.examplegroup.id\n  user_id      = gitlab_user.exampleuser.id\n  access_level = \"owner\"\n}\n\nresource \"gitlab_group\" \"examplegroup\" {\n  name = \"examplegroup\"\n  path = \"examplegroup\"\n}\nterraform {\n  required_providers {\n    gitlab = {\n      source  = \"gitlabhq/gitlab\"\n      version = \"3.15.1\"\n    }\n  }\n}\n\nvariable \"GITLAB_ACCESS_TOKEN\" {\n  type = string\n}\n\nprovider \"gitlab\" {\n  token = var.GITLAB_ACCESS_TOKEN\n}\n\nresource \"gitlab_project\" \"gitlab-manage\" {\n  name                             = \"GitLab Manage\"\n  namespace_id                     = gitlab_group.examplegroup.id\n  remove_source_branch_after_merge = true\n  shared_runners_enabled           = \"true\"\n}\n\nresource \"gitlab_user\" \"exampleuser\" {\n  name             = \"Example User\"\n  username         = \"exampleuser\"\n  email            = \"example@user.com\"\n  is_admin         = true\n  can_create_group = true\n  is_external      = false\n}\n```\n\n- Run pipeline\n\n```yaml\ninclude:\n  - template: Terraform.latest.gitlab-ci.yml\n\nvariables:\n TF_STATE_NAME: default\n TF_CACHE_KEY: default\n TF_ROOT: terraform\n TF_VAR_GITLAB_ACCESS_TOKEN: $GITLAB_ACCESS_TOKEN\n```\n\n- Destroy resources\n- Observe as the users are removed from the group\n\n### Example Project\n\nCurrently not available.\n\n### What is the current *bug* behavior?\n\nThe owner is removed from the group\n\n### What is the expected *correct* behavior?\n\nAt least one user should remain in the group\n\n### Relevant logs and/or screenshots\n\n- Note that the below IDs are sanitized \n\n```\nRunning with gitlab-runner 15.1.0~beta.20.g62206bb2 (62206bb2)\n  on green-4.shared.runners-manager.gitlab.com/default ntHFEtyX\nResolving secrets 00:00\nPreparing the \"docker+machine\" executor 00:11\nUsing Docker executor with image registry.gitlab.com/gitlab-org/terraform-images/stable:latest ...\nAuthenticating with credentials from job payload (GitLab Registry)\nPulling docker image registry.gitlab.com/gitlab-org/terraform-images/stable:latest ...\nUsing docker image sha256:764fe72b1590cf6b9ec9bc4c088dbeaef76d41694ab475aaecf64bf8b8322c94 for registry.gitlab.com/gitlab-org/terraform-images/stable:latest with digest registry.gitlab.com/gitlab-org/terraform-images/stable@sha256:85ef4c5f18dca0e28d106741d7a9fd8f50b1beb8599d3571614ccf83cecc100f ...\nPreparing environment 00:01\nRunning on runner-nthfetyx-project-123456-concurrent-0 via runner-nthfetyx-shared-1656011042-f5703aec...\nGetting source from Git repository 00:02\n$ eval \"$CI_PRE_CLONE_SCRIPT\"\nFetching changes with git depth set to 20...\nInitialized empty Git repository in /builds/project-name/gitlab-manage/.git/\nCreated fresh repository.\nChecking out 691723a7 as main...\nSkipping Git submodules setup\nRestoring cache 00:01\nChecking cache for terraform-protected...\nDownloading cache.zip from https://storage.googleapis.com/gitlab-com-runners-cache/project/123456/terraform-protected \nSuccessfully extracted cache\nDownloading artifacts 00:01\nDownloading artifacts for build (2633059180)...\nDownloading artifacts from coordinator... ok        id=2633059180 responseStatus=200 OK token=nkVZT_N3\nExecuting \"step_script\" stage of the job script 00:05\nUsing docker image sha256:764fe72b1590cf6b9ec9bc4c088dbeaef76d41694ab475aaecf64bf8b8322c94 for registry.gitlab.com/gitlab-org/terraform-images/stable:latest with digest registry.gitlab.com/gitlab-org/terraform-images/stable@sha256:85ef4c5f18dca0e28d106741d7a9fd8f50b1beb8599d3571614ccf83cecc100f ...\n$ cd \"${TF_ROOT}\"\n$ gitlab-terraform apply\nInitializing the backend...\nSuccessfully configured the backend \"http\"! Terraform will automatically\nuse this backend unless the backend configuration changes.\nInitializing provider plugins...\n- Finding gitlabhq/gitlab versions matching \"3.15.1\"...\n- Installing gitlabhq/gitlab v3.15.1...\n- Installed gitlabhq/gitlab v3.15.1 (signed by a HashiCorp partner, key ID BC097C3333027B14)\nPartner and community providers are signed by their developers.\nIf you'd like to know more about provider signing, you can read about it here:\nhttps://www.terraform.io/docs/cli/plugins/signing.html\nTerraform has created a lock file .terraform.lock.hcl to record the provider\nselections it made above. Include this file in your version control repository\nso that Terraform can guarantee to make the same selections by default when\nyou run \"terraform init\" in the future.\nTerraform has been successfully initialized!\ngitlab_group_membership.a-lastname: Destroying... [id=123456:5001]\ngitlab_group_membership.b-lastname: Destroying... [id=123456:5002]\ngitlab_group_membership.c-lastname: Destroying... [id=123456:5003]\ngitlab_group_membership.d-lastname: Destroying... [id=123456:5004]\ngitlab_group_membership.f-lastname: Destroying... [id=123456:5005]\ngitlab_group_membership.f-lastname: Destruction complete after 1s\ngitlab_user.f-lastname: Destroying... [id=5005]\ngitlab_group_membership.c-lastname: Destruction complete after 1s\ngitlab_user.c-lastname: Destroying... [id=5003]\ngitlab_group_membership.a-lastname: Destruction complete after 1s\ngitlab_user.a-lastname: Destroying... [id=5001]\n╷\n│ Error: DELETE https://gitlab.com/api/v4/users/5003: 403 {message: 403 Forbidden}\n│ \n│ \n╵\n╷\n│ Error: DELETE https://gitlab.com/api/v4/users/5001: 403 {message: 403 Forbidden}\n│ \n│ \n╵\n╷\n│ Error: DELETE https://gitlab.com/api/v4/groups/123456/members/5004: 403 {message: 403 Forbidden}\n│ \n│ \n╵\n╷\n│ Error: DELETE https://gitlab.com/api/v4/groups/123456/members/5002: 403 {message: 403 Forbidden}\n│ \n│ \n╵\n╷\n│ Error: DELETE https://gitlab.com/api/v4/users/5005: 403 {message: 403 Forbidden}\n│ \n│ \n╵\n╷\n│ Error: Failed to save state\n│ \n│ Error saving state: HTTP error: 404\n╵\n╷\n│ Error: Failed to persist state to backend\n│ \n│ The error shown above has prevented Terraform from writing the updated\n│ state to the configured backend. To allow for recovery, the state has been\n│ written to the file \"errored.tfstate\" in the current working directory.\n│ \n│ Running \"terraform apply\" again at this point will create a forked state,\n│ making it harder to recover.\n│ \n│ To retry writing this state, use the following command:\n│     terraform state push errored.tfstate\n│ \n╵\n╷\n│ Error: Error releasing the state lock\n│ \n│ Error message: Unexpected HTTP response code 404\n│ \n│ Terraform acquires a lock when accessing your state to prevent others\n│ running Terraform to potentially modify the state at the same time. An\n│ error occurred while releasing this lock. This could mean that the lock\n│ did or did not release properly. If the lock didn't release properly,\n│ Terraform may not be able to run future commands since it'll appear as if\n│ the lock is held.\n│ \n│ In this scenario, please call the \"force-unlock\" command to unlock the\n│ state manually. This is a very dangerous operation since if it is done\n│ erroneously it could result in two people modifying state at the same time.\n│ Only call this command if you're certain that the unlock above failed and\n│ that no one else is holding a lock.\n╵\nCleaning up project directory and file based variables 00:01\nERROR: Job failed: exit code 1\n```\n\n### Output of checks\n\nThis bug happens on GitLab.com, GitLab Enterprise Edition 15.2.0-pre c26682b71bf\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e","state":"closed","created_at":"2022-07-12T08:32:39.617Z","updated_at":"2022-11-24T09:36:56.028Z","closed_at":"2022-10-13T12:13:38.893Z","closed_by":{"id":11485419,"username":"lohrc","name":"Christina Lohr","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11485419/avatar.png","web_url":"https://gitlab.com/lohrc"},"labels":["Deliverable","Support Priority","backend","customer","devops::manage","group::organization","internal customer","milestone::p2","missed-deliverable","missed:15.4","release post item","reproduced on GitLab.com","section::dev","severity::3","type::bug","workflow::production"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":11991798,"username":"khanmansoor","name":"Mansoor Khan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11991798/avatar.png","web_url":"https://gitlab.com/khanmansoor"}],"author":{"id":9938509,"username":"faleksic","name":"Filip Aleksic","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9938509/avatar.png","web_url":"https://gitlab.com/faleksic"},"type":"ISSUE","assignee":{"id":11991798,"username":"khanmansoor","name":"Mansoor Khan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11991798/avatar.png","web_url":"https://gitlab.com/khanmansoor"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367510","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367510","notes":"https://gitlab.com/api/v4/projects/278964/issues/367510/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367510/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367510","relative":"#367510","full":"gitlab-org/gitlab#367510"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":111495124,"iid":367507,"project_id":278964,"title":"Controlling Background Migrations via ChatOps - Iteration 2","description":"As a follow up iteration for the issue:\nhttps://gitlab.com/gitlab-org/gitlab/-/issues/346357\n\nWe should add the ability for Gitlab Engineers to control the Batched Background Migrations via ChapOps commands.\n\nWhen developers get the ID of a Background Migration via the command:\n`/chatops run background-migration list --database DATABASE --env ENV`\nthey should be able to issue any of the commands:\n\n- `/chatops run batched-background-migration pause --database DATABASE --env ENV ID`\n- `/chatops run batched-background-migration resume --database DATABASE --env ENV ID`","state":"closed","created_at":"2022-07-12T08:08:22.337Z","updated_at":"2022-10-02T16:03:54.026Z","closed_at":"2022-09-29T19:58:12.310Z","closed_by":{"id":9231122,"username":"dfrazao-gitlab","name":"Diogo Frazão","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9231122/avatar.png","web_url":"https://gitlab.com/dfrazao-gitlab"},"labels":["Category:Database","devops::data_stores","group::database","section::enablement","type::feature","workflow::production"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":9231122,"username":"dfrazao-gitlab","name":"Diogo Frazão","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9231122/avatar.png","web_url":"https://gitlab.com/dfrazao-gitlab"}],"author":{"id":10823725,"username":"OmarQunsulGitlab","name":"Omar Qunsul","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10823725/avatar.png","web_url":"https://gitlab.com/OmarQunsulGitlab"},"type":"ISSUE","assignee":{"id":9231122,"username":"dfrazao-gitlab","name":"Diogo Frazão","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9231122/avatar.png","web_url":"https://gitlab.com/dfrazao-gitlab"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367507","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367507","notes":"https://gitlab.com/api/v4/projects/278964/issues/367507/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367507/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367507","relative":"#367507","full":"gitlab-org/gitlab#367507"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7454,"epic":{"id":428836,"iid":7454,"title":"Batched Background Migrations: improve developer experience","url":"/groups/gitlab-org/-/epics/7454","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":111494433,"iid":367505,"project_id":278964,"title":"Frontend: Downstream pipelines link in the mini-pipeline graph opens the MR page","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"type::bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=type::bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nClicking on “downstream pipelines” in the mini pipeline graph links to the MR itself. \n\n![Untitled](/uploads/11516e1230bb52a7c1707496ffb436f2/Untitled.mov)\n\n\u003c!-- Summarize the bug encountered concisely. --\u003e\n\n### Steps to reproduce\n\nClick on a downstream pipeline counter in a mini pipeline graph.\n\n\u003c!-- Describe how one can reproduce the issue - this is very important. Please use an ordered list. --\u003e\n\n### Example Project\n\n\u003c!-- If possible, please create an example project here on GitLab.com that exhibits the problematic \nbehavior, and link to it here in the bug report. If you are using an older version of GitLab, this \nwill also determine whether the bug is fixed in a more recent version. --\u003e\n\n### What is the current *bug* behavior?\n\nClicking on “downstream pipelines” in the mini pipeline graph links to the MR itself. \n\n\u003c!-- Describe what actually happens. --\u003e\n\n### What is the expected *correct* behavior?\n\nClicking on the downstream pipeline counter in the mini pipeline graph should link to the pipeline page where all downstream pipelines can be found.\n\n\u003c!-- Describe what you should see instead. --\u003e\n\n### Relevant logs and/or screenshots\n\n\u003c!-- Paste any relevant logs - please use code blocks (```) to format console output, logs, and code\n as it's tough to read otherwise. --\u003e\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e\n\n### User Impact\n\nClicking on the `Additional Pipelines` link should go to the pipeline page where all downstream pipelines can be found and not to the MR page itself.","state":"closed","created_at":"2022-07-12T07:56:42.292Z","updated_at":"2022-12-16T18:04:35.712Z","closed_at":"2022-12-12T14:28:01.707Z","closed_by":{"id":5327378,"username":"f_caplette","name":"Frédéric Caplette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5327378/avatar.png","web_url":"https://gitlab.com/f_caplette"},"labels":["Category:Pipeline Authoring","SUS::Impacting","UX","[deprecated] Accepting merge requests","approaching-SLO","bug::ux","candidate::15.7","devops::verify","frontend","group::pipeline authoring","missed-SLO","priority::2","section::ops","severity::2","type::bug"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":5327378,"username":"f_caplette","name":"Frédéric Caplette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5327378/avatar.png","web_url":"https://gitlab.com/f_caplette"}],"author":{"id":4706959,"username":"nadia_sotnikova","name":"Nadia Sotnikova","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4706959/avatar.png","web_url":"https://gitlab.com/nadia_sotnikova"},"type":"ISSUE","assignee":{"id":5327378,"username":"f_caplette","name":"Frédéric Caplette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5327378/avatar.png","web_url":"https://gitlab.com/f_caplette"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367505","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367505","notes":"https://gitlab.com/api/v4/projects/278964/issues/367505/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367505/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367505","relative":"#367505","full":"gitlab-org/gitlab#367505"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":111483947,"iid":367497,"project_id":278964,"title":"Update the cadence form to support manual iteration management","description":"- [x] Add the ability to enable/disable automated scheduling (frontend)","state":"closed","created_at":"2022-07-12T02:50:25.014Z","updated_at":"2022-10-31T13:35:34.511Z","closed_at":"2022-08-30T02:03:44.407Z","closed_by":{"id":5961404,"username":"euko","name":"Eulyeon Ko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5961404/avatar.png","web_url":"https://gitlab.com/euko"},"labels":["Deliverable","auto updated","devops::plan","documentation","frontend","group::project management","missed-deliverable","missed:15.3","section::dev","type::feature","workflow::production"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":5961404,"username":"euko","name":"Eulyeon Ko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5961404/avatar.png","web_url":"https://gitlab.com/euko"}],"author":{"id":5961404,"username":"euko","name":"Eulyeon Ko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5961404/avatar.png","web_url":"https://gitlab.com/euko"},"type":"ISSUE","assignee":{"id":5961404,"username":"euko","name":"Eulyeon Ko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5961404/avatar.png","web_url":"https://gitlab.com/euko"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367497","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":1},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367497","notes":"https://gitlab.com/api/v4/projects/278964/issues/367497/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367497/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367497","relative":"#367497","full":"gitlab-org/gitlab#367497"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8328,"epic":{"id":557889,"iid":8328,"title":"Manually create, name, and schedule iterations within a cadence","url":"/groups/gitlab-org/-/epics/8328","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":111483915,"iid":367495,"project_id":278964,"title":"Re-introduce manual cadence creation and conversion","description":"- [x] Add the ability to enable/disable automated scheduling in the backend\n\nPlease read the epic for the reason \u00268328.","state":"closed","created_at":"2022-07-12T02:47:33.780Z","updated_at":"2022-08-16T00:31:00.008Z","closed_at":"2022-08-16T00:28:06.283Z","closed_by":{"id":5961404,"username":"euko","name":"Eulyeon Ko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5961404/avatar.png","web_url":"https://gitlab.com/euko"},"labels":["Stretch","auto updated","backend","devops::plan","group::project management","section::dev","type::feature","workflow::production"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":5961404,"username":"euko","name":"Eulyeon Ko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5961404/avatar.png","web_url":"https://gitlab.com/euko"}],"author":{"id":5961404,"username":"euko","name":"Eulyeon Ko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5961404/avatar.png","web_url":"https://gitlab.com/euko"},"type":"ISSUE","assignee":{"id":5961404,"username":"euko","name":"Eulyeon Ko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5961404/avatar.png","web_url":"https://gitlab.com/euko"},"user_notes_count":2,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367495","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":1},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367495","notes":"https://gitlab.com/api/v4/projects/278964/issues/367495/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367495/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367495","relative":"#367495","full":"gitlab-org/gitlab#367495"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8328,"epic":{"id":557889,"iid":8328,"title":"Manually create, name, and schedule iterations within a cadence","url":"/groups/gitlab-org/-/epics/8328","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":111483905,"iid":367494,"project_id":278964,"title":"Rename cadence start date to effective date","description":"","state":"closed","created_at":"2022-07-12T02:46:50.252Z","updated_at":"2022-07-27T06:22:15.234Z","closed_at":"2022-07-27T06:22:15.212Z","closed_by":{"id":5961404,"username":"euko","name":"Eulyeon Ko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5961404/avatar.png","web_url":"https://gitlab.com/euko"},"labels":["auto updated","backend","database","devops::plan","group::project management","section::dev"],"milestone":null,"assignees":[],"author":{"id":5961404,"username":"euko","name":"Eulyeon Ko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5961404/avatar.png","web_url":"https://gitlab.com/euko"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367494","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367494","notes":"https://gitlab.com/api/v4/projects/278964/issues/367494/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367494/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367494","relative":"#367494","full":"gitlab-org/gitlab#367494"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":111483865,"iid":367493,"project_id":278964,"title":"Users can set a new start date for automated iterations","description":"This issue will track the following tasks from the parent epic https://gitlab.com/groups/gitlab-org/-/epics/8328.\n\n* The day of the week iterations start can be changed at any point in time.\n* The duration of the iterations within a cadence can be changed at any point in time.\n* The number of future iterations within a cadence can be changed at any point in time.\n* When updating any of the cadence settings, future iterations are gracefully updated to reflect the new settings.","state":"closed","created_at":"2022-07-12T02:45:29.883Z","updated_at":"2022-08-21T12:00:48.085Z","closed_at":"2022-08-10T13:11:24.070Z","closed_by":{"id":5961404,"username":"euko","name":"Eulyeon Ko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5961404/avatar.png","web_url":"https://gitlab.com/euko"},"labels":["Deliverable","auto updated","backend","devops::plan","frontend","group::project management","section::dev","type::feature","workflow::production"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":5961404,"username":"euko","name":"Eulyeon Ko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5961404/avatar.png","web_url":"https://gitlab.com/euko"}],"author":{"id":5961404,"username":"euko","name":"Eulyeon Ko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5961404/avatar.png","web_url":"https://gitlab.com/euko"},"type":"ISSUE","assignee":{"id":5961404,"username":"euko","name":"Eulyeon Ko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5961404/avatar.png","web_url":"https://gitlab.com/euko"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367493","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367493","notes":"https://gitlab.com/api/v4/projects/278964/issues/367493/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367493/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367493","relative":"#367493","full":"gitlab-org/gitlab#367493"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8328,"epic":{"id":557889,"iid":8328,"title":"Manually create, name, and schedule iterations within a cadence","url":"/groups/gitlab-org/-/epics/8328","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":111472683,"iid":367486,"project_id":278964,"title":"Follow-up from \"Move shared code into SignedCommit\"","description":"The following discussion from !89171 should be addressed:\n\n- [ ] `@stanhu` started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/89171#note_1020992303):  (+1 comment)\n\n    \u003e I see code coverage is green here, but I don't see a unit test in `spec/lib/gitlab/gpg/commit_spec.rb`. Maybe we should for completeness?\n\n- [ ] https://gitlab.com/gitlab-org/gitlab/-/merge_requests/89171#note_1020993803\n\n`lib/gitlab/gpg/commit_spec.rb` and `lib/gitlab/x509/commit_spec.rb` currently do not have test coverage for the `#update_signature!` method.\n\n- Refactor the specs to use common test scaffolding (they currently redeclare variables in each context)\n- Add test cases for `update_signature!` to both specs","state":"closed","created_at":"2022-07-11T19:06:14.474Z","updated_at":"2022-07-14T11:44:16.104Z","closed_at":"2022-07-14T11:44:16.077Z","closed_by":{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"},"labels":["backend","devops::govern","follow-up","group::security policies","maintenance::test-gap","section::sec","type::maintenance","workflow::in review"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"}],"author":{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"},"type":"ISSUE","assignee":{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367486","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367486","notes":"https://gitlab.com/api/v4/projects/278964/issues/367486/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367486/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367486","relative":"#367486","full":"gitlab-org/gitlab#367486"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":111467020,"iid":367479,"project_id":278964,"title":"Update translations levels (August 2022)","description":"## Introduction\n\nWith the implementation of the feature to show the [translation coverage](https://gitlab.com/gitlab-org/gitlab/-/issues/328430) in the language selection dropdown, the translation levels need to be updated on a monthly cadence. \n\n## Proposal\n\nOnce the monthly merge of the new translations is complete, update the translation levels [data](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/i18n.rb#L43) from Crowdin.\n\n## Documentation\n\n* https://docs.gitlab.com/ee/development/i18n/merging_translations.html#manually-update-the-translation-levels\n\n#### ToDo\n* [x] After cloning: update Title, set Milestone, Due date (15th), Related to previous month's issue.\n* [x] After the 1st of the month: assign to yourself, set ~2526320 \n* [x] Complete the [regular monthly merge](https://gitlab.com/groups/gitlab-org/-/epics/3571) of translations from Crowdin.\n* [x] Get the translation levels (% approved words) from [Crowdin](https://crowdin.com/project/gitlab-ee).\n* [x] Create an MR to update the translation levels [data](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/i18n.rb#L43).\n* [x] Associate that MR to this issue.\n* [x] Complete the MR.\n* [x] When done, clone [this template issue](https://gitlab.com/gitlab-org/gitlab/-/issues/349815) for the next milestone.","state":"closed","created_at":"2022-07-11T16:17:59.001Z","updated_at":"2022-08-21T12:02:33.661Z","closed_at":"2022-08-20T07:35:01.292Z","closed_by":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"labels":["Category:Internationalization","Deliverable","Next Up","backend","devops::manage","estimation::completed","group::import","section::dev","type::maintenance","workflow::production"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"}],"author":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"type":"ISSUE","assignee":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2022-08-15","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367479","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":8,"completed_count":8},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"8 of 8 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367479","notes":"https://gitlab.com/api/v4/projects/278964/issues/367479/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367479/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367479","relative":"#367479","full":"gitlab-org/gitlab#367479"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3571,"epic":{"id":67045,"iid":3571,"title":"Regular i18n translation merges","url":"/groups/gitlab-org/-/epics/3571","group_id":9970,"human_readable_timestamp":"\u003cstrong\u003e1033\u003c/strong\u003e days elapsed"},"iteration":null,"health_status":null},{"id":111466878,"iid":367478,"project_id":278964,"title":"Update translations levels (July 2022)","description":"## Introduction\n\nWith the implementation of the feature to show the [translation coverage](https://gitlab.com/gitlab-org/gitlab/-/issues/328430) in the language selection dropdown, the translation levels need to be updated on a monthly cadence. \n\n## Proposal\n\nOnce the monthly merge of the new translations is complete, update the translation levels [data](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/i18n.rb#L43) from Crowdin.\n\n## Documentation\n\n* https://docs.gitlab.com/ee/development/i18n/merging_translations.html#manually-update-the-translation-levels\n\n#### ToDo\n* [x] After cloning: update Title, set Milestone, Due date (15th), Related to previous month's issue.\n* [x] After the 1st of the month: assign to yourself, set ~2526320 \n* [x] Complete the [regular monthly merge](https://gitlab.com/groups/gitlab-org/-/epics/3571) of translations from Crowdin.\n* [x] Get the translation levels (% approved words) from [Crowdin](https://crowdin.com/project/gitlab-ee).\n* [x] Create an MR to update the translation levels [data](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/i18n.rb#L43).\n* [x] Associate that MR to this issue.\n* [x] Complete the MR.\n* [x] When done, clone [this template issue](https://gitlab.com/gitlab-org/gitlab/-/issues/349815) for the next milestone.","state":"closed","created_at":"2022-07-11T16:14:38.556Z","updated_at":"2022-08-16T07:36:46.427Z","closed_at":"2022-07-18T08:45:02.839Z","closed_by":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"labels":["Category:Internationalization","Deliverable","Next Up","backend","devops::manage","estimation::completed","group::import","section::dev","type::maintenance","workflow::production"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"}],"author":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"type":"ISSUE","assignee":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367478","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":8,"completed_count":8},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"8 of 8 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367478","notes":"https://gitlab.com/api/v4/projects/278964/issues/367478/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367478/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367478","relative":"#367478","full":"gitlab-org/gitlab#367478"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3571,"epic":{"id":67045,"iid":3571,"title":"Regular i18n translation merges","url":"/groups/gitlab-org/-/epics/3571","group_id":9970,"human_readable_timestamp":"\u003cstrong\u003e1033\u003c/strong\u003e days elapsed"},"iteration":null,"health_status":null},{"id":111465132,"iid":367473,"project_id":278964,"title":"Move cards on a board to the top or bottom of lists","description":"## Problem \n\nIt is super cumbersome to manually drag an issue from way down in a board list all the way up to the top (or vice-versa)\n\n## Proposal\n\n- Provide the ability to move an issue to the top of the list, end of the list\n- Applied filters from the filter bar are intentionally not taken into consideration when doing this. (i.e. `move to top` literally makes the issue have the highest relative position out of all issues within the given list).\n- :point_up: The list attribute (label, iteration, assignee, or milestone) is taken into consideration, and moving to the top position updates the relative position to be the highest within that list. \n\n| |  Menu |\n| ---- | ---- |\n| List | ![image](/uploads/41cfa5d10f3afe22e89e4b47f6fd4239/image.png) |\n\n## Release Notes\n\nWhen your board lists have dozens of cards in them, it is extraordinarily cumbersome to manually drag an issue from the top to the bottom or bottom to the top. Cards on issue and epic boards now have an action menu with options to move the card to the top or bottom of the card's current list. \n\n![image](/uploads/41cfa5d10f3afe22e89e4b47f6fd4239/image.png)","state":"closed","created_at":"2022-07-11T15:38:37.523Z","updated_at":"2022-09-21T12:00:45.601Z","closed_at":"2022-09-19T18:48:40.905Z","closed_by":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"labels":["Category:Team Planning","Deliverable","GitLab Free","UX","backend","devops::plan","documentation","feature::enhancement","frontend","group::project management","missed-deliverable","missed:15.3","release post item","release post item::in review","section::dev","type::feature","workflow::in review"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"},{"id":11701495,"username":"deepika.guliani","name":"Deepika Guliani","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11701495/avatar.png","web_url":"https://gitlab.com/deepika.guliani"}],"author":{"id":4303289,"username":"gweaver","name":"Gabe Weaver","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4303289/avatar.png","web_url":"https://gitlab.com/gweaver"},"type":"ISSUE","assignee":{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"},"user_notes_count":62,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367473","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367473","notes":"https://gitlab.com/api/v4/projects/278964/issues/367473/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367473/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367473","relative":"#367473","full":"gitlab-org/gitlab#367473"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8350,"epic":{"id":563555,"iid":8350,"title":"Manual sorting controls in issue lists and boards","url":"/groups/gitlab-org/-/epics/8350","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":111463955,"iid":367463,"project_id":278964,"title":"Associate a work item to a milestone","description":"## Problem\n\nThere is no way to set a milestone on an issue. We can view a list of possible milestones now, but there is no way to save the selected milestone. \n\n## Proposal \n\n- When viewing a list of possible milestones, I can select one of the milestones from the list to associate an iteration with a work item. \n- If the work item already has a synced milestone, the manually selected milestone takes precedence and the \"sync\" is disabled. \n\n## Acceptance\n\n- [x] Associate a work item to a milestone.\n- [ ] Properly handle disabling the sync and allowing the manually set milestone to take precedence. \n- [x] Redis counter\n\n## Redis Counter\n\n* **name:** `users_updating_work_item_milestone`\n* **category:** `work_items`\n* **redis_slot:** `users`\n* **include in the following aggregation counters:**\n  * [x] `xmau_plan`\n  * [x] `xmau_project_management`\n  * [ ] `xmau_product_planning`\n  * [ ] `xmau_certify`\n  * [x] `users_work_items` \n\n\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2022-07-11T15:20:33.629Z","updated_at":"2022-12-29T17:01:01.221Z","closed_at":"2022-12-12T19:31:10.102Z","closed_by":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"labels":["Category:Team Planning","Deliverable","GitLab Premium","Track Health Status","backend","devops::plan","direction","documentation","feature::consolidation","frontend","group::project management","missed-deliverable","missed:15.5","missed:15.6","section::dev","type::feature","workflow::verification"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":5961404,"username":"euko","name":"Eulyeon Ko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5961404/avatar.png","web_url":"https://gitlab.com/euko"},{"id":11701495,"username":"deepika.guliani","name":"Deepika Guliani","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11701495/avatar.png","web_url":"https://gitlab.com/deepika.guliani"}],"author":{"id":4303289,"username":"gweaver","name":"Gabe Weaver","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4303289/avatar.png","web_url":"https://gitlab.com/gweaver"},"type":"ISSUE","assignee":{"id":5961404,"username":"euko","name":"Eulyeon Ko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5961404/avatar.png","web_url":"https://gitlab.com/euko"},"user_notes_count":20,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367463","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":8,"completed_count":5},"weight":4,"blocking_issues_count":1,"has_tasks":true,"task_status":"5 of 8 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367463","notes":"https://gitlab.com/api/v4/projects/278964/issues/367463/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367463/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367463","relative":"#367463","full":"gitlab-org/gitlab#367463"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8362,"epic":{"id":564835,"iid":8362,"title":"🚀 Add support for milestones in work items","url":"/groups/gitlab-org/-/epics/8362","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":111462352,"iid":367456,"project_id":278964,"title":"Associate a work item to an iteration","description":"## Problem\n\nThere is no way to set an iteration on a work item. We can view a list of possible iterations now, but there is no way to save the selected iteration. \n\n## Proposal \n\n- When viewing a list of possible iterations, I can select one of the iterations from the list to associate an iteration with a work item. \n- If the work item already has a synced iteration, the manually selected iteration takes precedence and the \"sync\" is disabled (\"Sync\" is explained in this issue https://gitlab.com/gitlab-org/gitlab/-/issues/367454.)\n\n## Acceptance\n\n- [ ] Associate a work item to an iteration.\n- [ ] ~~Properly handle disabling the sync and allowing the manually set iteration to take precedence.~~ Follow the same procedure as confidentiality initially. If parent has an iteration, default to that iteration for the task.\n- [x] Redis counter\n\n## Redis Counter\n\n* **name:** `users_updating_work_item_iteration`\n* **category:** `work_items`\n* **redis_slot:** `users`\n* **include in the following aggregation counters:**\n  * [x] `xmau_plan`\n  * [x] `xmau_project_management`\n  * [ ] `xmau_product_planning`\n  * [ ] `xmau_certify`\n  * [x] `users_work_items` \n\n\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2022-07-11T14:49:31.190Z","updated_at":"2022-12-21T12:01:49.911Z","closed_at":"2022-11-29T19:13:10.199Z","closed_by":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"labels":["Category:Team Planning","Deliverable","GitLab Premium","Track Health Status","backend","devops::plan","direction","documentation","feature::consolidation","frontend","group::project management","missed-deliverable","missed:15.5","section::dev","type::feature","workflow::verification"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":5961404,"username":"euko","name":"Eulyeon Ko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5961404/avatar.png","web_url":"https://gitlab.com/euko"},{"id":11701495,"username":"deepika.guliani","name":"Deepika Guliani","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11701495/avatar.png","web_url":"https://gitlab.com/deepika.guliani"}],"author":{"id":4303289,"username":"gweaver","name":"Gabe Weaver","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4303289/avatar.png","web_url":"https://gitlab.com/gweaver"},"type":"ISSUE","assignee":{"id":5961404,"username":"euko","name":"Eulyeon Ko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5961404/avatar.png","web_url":"https://gitlab.com/euko"},"user_notes_count":43,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367456","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":8,"completed_count":4},"weight":4,"blocking_issues_count":1,"has_tasks":true,"task_status":"4 of 8 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367456","notes":"https://gitlab.com/api/v4/projects/278964/issues/367456/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367456/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367456","relative":"#367456","full":"gitlab-org/gitlab#367456"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8363,"epic":{"id":564836,"iid":8363,"title":"🚀 Add support for iterations in work items","url":"/groups/gitlab-org/-/epics/8363","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":111414087,"iid":367430,"project_id":278964,"title":"Import Groups page - Column titles  are confusing","description":"## Problem to solve\n\nThe field after the \"/\" in the `To new group` column is confusing as it looks like it is the new group name, however this is the part of the group URL.  \n\n## Screenshot\n![Screen_Shot_2022-07-06_at_10.23.28](/uploads/18a8d65773bb9bc82930fe470b661cc1/Screen_Shot_2022-07-06_at_10.23.28.png)\n\n\n## Proposed solution\n\n* For the first column, rename `From source group` to `Source group`. \n* For the second column, rename `To destination group` to `New group`. Also, add an info icon + tooltip to second column. On hover, the text `The path of the new group` will be shown.","state":"closed","created_at":"2022-07-10T08:57:45.427Z","updated_at":"2022-11-13T14:03:41.309Z","closed_at":"2022-11-04T15:20:32.986Z","closed_by":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"labels":["Category:Importers","Importer:GitLab Migration","Next Up","SUS::Impacting","UX","bug::ux","devops::manage","frontend","group::import","priority::3","section::dev","severity::3","type::bug","workflow::production"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"}],"author":{"id":3672006,"username":"iganbaruch","name":"Itzik Gan Baruch","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3672006/avatar.png","web_url":"https://gitlab.com/iganbaruch"},"type":"ISSUE","assignee":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367430","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367430","notes":"https://gitlab.com/api/v4/projects/278964/issues/367430/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367430/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367430","relative":"#367430","full":"gitlab-org/gitlab#367430"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6629,"epic":{"id":335099,"iid":6629,"title":"🐞 GitLab Migration bugs","url":"/groups/gitlab-org/-/epics/6629","group_id":9970},"iteration":null,"health_status":null},{"id":111404395,"iid":367426,"project_id":278964,"title":"Report AlloyDB usage in usage ping","description":"Currently we report various flavors of PostgreSQL, we should also try to detect if any customers use AlloyDB in a similar fashion.\n\nSimilar to [other checks](https://gitlab.com/gitlab-org/gitlab/-/blob/66003173da7c699bd969f4b4dd3b552503607a79/lib/gitlab/database/reflection.rb#L110-127), we can try to detect some of the AlloyDB specific database flags - https://cloud.google.com/alloydb/docs/reference/database-flags, for example `alloydb.*` or `google_columnar_engine.enabled`.\n\n## Definition of Done\n- [x] AlloyDB is a detectable flavor in usage ping","state":"closed","created_at":"2022-07-09T16:26:00.010Z","updated_at":"2022-09-27T19:36:26.571Z","closed_at":"2022-09-23T16:42:29.733Z","closed_by":{"id":12352353,"username":"jon_jenkins","name":"Jon Jenkins","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12352353/avatar.png","web_url":"https://gitlab.com/jon_jenkins"},"labels":["Category:Database","database::active","devops::data_stores","group::database","missed:15.3","missed:15.4","section::enablement","type::maintenance","workflow::in review"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":12352353,"username":"jon_jenkins","name":"Jon Jenkins","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12352353/avatar.png","web_url":"https://gitlab.com/jon_jenkins"}],"author":{"id":480097,"username":"alexives","name":"Alex Ives","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480097/avatar.png","web_url":"https://gitlab.com/alexives"},"type":"ISSUE","assignee":{"id":12352353,"username":"jon_jenkins","name":"Jon Jenkins","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12352353/avatar.png","web_url":"https://gitlab.com/jon_jenkins"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367426","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":1},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367426","notes":"https://gitlab.com/api/v4/projects/278964/issues/367426/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367426/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367426","relative":"#367426","full":"gitlab-org/gitlab#367426"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8360,"epic":{"id":564516,"iid":8360,"title":"GitLab AlloyDB Support","url":"/groups/gitlab-org/-/epics/8360","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":111393460,"iid":367412,"project_id":278964,"title":"Refactor Environment tracking code in Ci::Build model","description":"## Problem\n\nhttps://gitlab.com/gitlab-org/gitlab/-/merge_requests/91925#note_1021237212\n\n\u003e\u003e\u003e\nNon-blocker/Suggestion: As @ali-gitlab's [pointed out](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/91925#note_1018427829). `Ci::Build#track_verify_usage`, including `count_user_verification?`, doesn't quite convey the actual intent of the method. For example, this can be interpreted as tracking testing jobs as part of the ~\"group::pipeline insights\" [categories](https://about.gitlab.com/handbook/product/categories/#pipeline-insights-group). Especially, this is important in a congested model which is cross-referenced by multiple different domains.\n\nI suggest explicitly clarifying the purpose of the method or classifying the methods group, that these are used for ~\"group::release\" [usage](https://about.gitlab.com/handbook/product/categories/#release-stage). For example, we can refactor `Ci::HasDeploymentName` module to `Gitlab::Ci::Build::TrackEnvironmentUsage` and maintain these `track_deployment_usage`, `track_verify_usage` and `count_user_verification?` there.\n\u003e\u003e\u003e","state":"closed","created_at":"2022-07-09T03:26:09.296Z","updated_at":"2022-09-17T09:37:18.763Z","closed_at":"2022-09-17T09:37:18.537Z","closed_by":{"id":11334402,"username":"ahmed.hemdan","name":"Ahmed Hemdan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11334402/avatar.png","web_url":"https://gitlab.com/ahmed.hemdan"},"labels":["Category:Environment Management","Next Up","Release::P3","devops::release","group::release","maintenance::refactor","section::ops","type::maintenance"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":11334402,"username":"ahmed.hemdan","name":"Ahmed Hemdan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11334402/avatar.png","web_url":"https://gitlab.com/ahmed.hemdan"}],"author":{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"},"type":"ISSUE","assignee":{"id":11334402,"username":"ahmed.hemdan","name":"Ahmed Hemdan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11334402/avatar.png","web_url":"https://gitlab.com/ahmed.hemdan"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367412","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367412","notes":"https://gitlab.com/api/v4/projects/278964/issues/367412/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367412/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367412","relative":"#367412","full":"gitlab-org/gitlab#367412"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":111392926,"iid":367410,"project_id":278964,"title":"Update GraphQL API to support environment detail page","description":"## Problem\n\nOriginally raised in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/91573/diffs#note_1021201259.\n\nIt looks like `deployment_approval_data` is serialized for each deployment row in the environment detail page, thus `find_approval_rule_for` is executed for each row, which hits `group.users.exists?(user.id)`. This could result in N+1 issue as [tested](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/91573/diffs#note_1021201259).\n\nWe should reconsider the way how we [serialize the data in environment detail page](https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/helpers/ee/environments_helper.rb#L7).\n\n## Proposal\n\n- In deployments index page, Frontend checks if the environment is protected, and if so, the details of the protection (e.g. who can deploy/approve). We can use [this query](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/96221) for this purpose.\n- If the environment is protected and requires an approval, frontend renders the approval button in all rows. When a user clicks the button, frontend renders the approval details. We can use [this query](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/97102) for this purpose.\n- By this reason, we don't need to check `find_approval_rule_for` for every deployment rows. We can drop the legacy path.\n- The frontend will need to be rewritten in Vue in order to use this endpoint: https://gitlab.com/gitlab-org/gitlab/-/issues/23036\n\nA few notes:\n\n- Batch-loading approval details with [GraphQL BatchLoader](https://docs.gitlab.com/ee/development/graphql_guide/batchloader.html#graphql-batchloader) would result in a very complicated process that could be another [complexity and fragility point](https://gitlab.com/groups/gitlab-org/-/epics/8433). We should avoid such process by fetching the necessary information efficiently, as described above.\n\n## Related\n\n- [PoC issue](https://gitlab.com/gitlab-org/gitlab/-/issues/370421)","state":"closed","created_at":"2022-07-09T02:25:50.546Z","updated_at":"2022-12-14T13:43:23.056Z","closed_at":"2022-10-21T02:06:39.011Z","closed_by":{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"},"labels":["Category:Environment Management","Next Up","Release::P1","backend","devops::release","group::release","maintenance::refactor","section::ops","type::maintenance","workflow::verification"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"}],"author":{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"},"type":"ISSUE","assignee":{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"},"user_notes_count":18,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367410","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367410","notes":"https://gitlab.com/api/v4/projects/278964/issues/367410/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367410/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367410","relative":"#367410","full":"gitlab-org/gitlab#367410"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8433,"epic":{"id":572223,"iid":8433,"title":"Resolve Environment Serializer's complexity and fragility","url":"/groups/gitlab-org/-/epics/8433","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":111381321,"iid":367399,"project_id":278964,"title":"Add metrics exploration to Metrics Dictionary","description":"## Summary\n\nIn https://gitlab.com/gitlab-data/product-analytics/-/issues/505, the Product Insights team create [an awesome dashboard](https://app.periscopedata.com/app/gitlab/1049395/WIP:-Service-Ping-Exploration-Dashboard) for us of recent Service Ping values. In this issue, we want to link this dashboard as a tool within the [Metrics Dictionary](https://metrics.gitlab.com/) for user exploration. \n\n## Proposal\n\nI'm open to alternate suggestions, but WDYT about adding `Data Exploration` next to `Status` on the top right of the Metrics Dictionary page as a link to the SiSense dashboard?\n\n![Screen_Shot_2022-07-08_at_12.54.09_PM](/uploads/c209ad70fd218b53341529e52ca9719c/Screen_Shot_2022-07-08_at_12.54.09_PM.png)\n\n## Testing\n\n- Ensure the link is working as expected","state":"closed","created_at":"2022-07-08T17:57:09.262Z","updated_at":"2022-08-17T10:28:36.144Z","closed_at":"2022-08-17T07:21:48.944Z","closed_by":{"id":4807002,"username":"mikolaj_wawrzyniak","name":"Mikołaj Wawrzyniak","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4807002/avatar.png","web_url":"https://gitlab.com/mikolaj_wawrzyniak"},"labels":["devops::analytics","frontend","group::product intelligence","quad-planning::complete-action","section::analytics","type::feature","workflow::in review"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":4807002,"username":"mikolaj_wawrzyniak","name":"Mikołaj Wawrzyniak","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4807002/avatar.png","web_url":"https://gitlab.com/mikolaj_wawrzyniak"}],"author":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"type":"ISSUE","assignee":{"id":4807002,"username":"mikolaj_wawrzyniak","name":"Mikołaj Wawrzyniak","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4807002/avatar.png","web_url":"https://gitlab.com/mikolaj_wawrzyniak"},"user_notes_count":9,"merge_requests_count":2,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367399","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367399","notes":"https://gitlab.com/api/v4/projects/278964/issues/367399/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367399/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367399","relative":"#367399","full":"gitlab-org/gitlab#367399"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6522,"epic":{"id":321040,"iid":6522,"title":"Scalable Metrics Dictionary","url":"/groups/gitlab-org/-/epics/6522","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":111380484,"iid":367397,"project_id":278964,"title":"Cleanup BackfillDraftStatusOnMergeRequests","description":"Cleanup from !63703, with `finalize_background_migration`","state":"closed","created_at":"2022-07-08T17:20:24.721Z","updated_at":"2022-08-12T09:56:59.063Z","closed_at":"2022-07-18T15:54:14.310Z","closed_by":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"labels":["Deliverable","backend","database","devops::create","group::code review","missed-deliverable","missed:15.1","quad-planning::complete-no-action","section::dev","type::maintenance"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"}],"author":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"type":"ISSUE","assignee":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367397","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367397","notes":"https://gitlab.com/api/v4/projects/278964/issues/367397/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367397/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367397","relative":"#367397","full":"gitlab-org/gitlab#367397"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":111379219,"iid":367396,"project_id":278964,"title":"[Follow-up] Load hierarchy widget's children argument","description":"The following discussion from !91494 should be addressed:\n\n- [ ] @felipe_artur started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/91494#note_1020739316): \n\n    \u003e Non-blocking: Is it possible to also use `loads: ::Types::WorkItemType` here? We could keep both arguments consistent.  \n    \u003e \n    \u003e This is out of the scope of this MR so maybe we could do it in a follow-up, if possible.","state":"closed","created_at":"2022-07-08T16:49:05.927Z","updated_at":"2022-07-21T10:33:20.190Z","closed_at":"2022-07-21T10:33:20.180Z","closed_by":{"id":3509693,"username":"nicolasdular","name":"Nicolas Dular","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c4a21f15150c12ddf13fd848597cddd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/nicolasdular"},"labels":["GraphQL","backend","devops::plan","group::product planning","section::dev","type::maintenance","work items","workflow::verification"],"milestone":null,"assignees":[{"id":3509693,"username":"nicolasdular","name":"Nicolas Dular","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c4a21f15150c12ddf13fd848597cddd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/nicolasdular"}],"author":{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"},"type":"ISSUE","assignee":{"id":3509693,"username":"nicolasdular","name":"Nicolas Dular","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c4a21f15150c12ddf13fd848597cddd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/nicolasdular"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367396","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367396","notes":"https://gitlab.com/api/v4/projects/278964/issues/367396/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367396/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367396","relative":"#367396","full":"gitlab-org/gitlab#367396"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8280,"epic":{"id":549868,"iid":8280,"title":"MVC 2 -  Complete CRUD flow for Tasks in Hierarchy Widget","url":"/groups/gitlab-org/-/epics/8280","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":111365389,"iid":367341,"project_id":278964,"title":"Add a visual indication to show that a streaming audit event destination has filters applied","description":"\u003c!-- This issue template can be used as a great starting point for feature requests. The section \"Release notes\" can be used as a summary of the feature and is also required if you want to have your release post blog MR auto generated using the release post item generator:  https://about.gitlab.com/handbook/marketing/blog/release-posts/#release-post-item-generator. The remaining sections are the backbone for every feature in GitLab.\n\nThe goal of this template is brevity for quick/smaller iterations. For a more thorough list of considerations for larger features or feature sets, you can leverage the detailed [feature proposal](https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal%20-%20detailed.md). --\u003e\n\n### Release notes\n\n\u003c!-- What is the problem and solution you're proposing? This content sets the overall vision for the feature and serves as the release notes that will populate in various places, including the [release post blog](https://about.gitlab.com/releases/categories/releases/) and [Gitlab project releases](https://gitlab.com/gitlab-org/gitlab/-/releases). \" --\u003e\n\n### Problem to solve\n\n\u003c!-- What is the user problem you are trying to solve with this issue? --\u003e\n\nUsers will add filters to their [streaming audit destinations](https://gitlab.com/groups/gitlab-org/-/epics/7058) using the API, but it is not immediately clear in the UI which destinations have a set of filters applied and which do not. This means that users might unknowingly be using a filtered destination when they do not wish to and be losing events.\n\n### Design\n\n\u003c!-- Use this section to explain the feature and how it will work. It can be helpful to add technical details, design proposals, and links to related epics or issues. --\u003e\n\nAdd a visual indicator (badge) that signifies \"this destination has one or more event filters applied to it.\" \n\n[![Filtering](/uploads/4efb6bdaf7223eb3f8c67b5504ed572a/image.png)](https://gitlab.com/gitlab-org/gitlab/-/issues/367341/designs/Filtering.png)\n\n_The ability to act on and change the filters in the UI will be handled in other issues, such as [this one](https://gitlab.com/gitlab-org/gitlab/-/issues/344846)._\n\n\u003cdetails\u003e\u003csummary\u003eConcept diagram\u003c/summary\u003e\n![image](/uploads/b2bad8b3f0fc3ac7747e899e4b0fca52/image.png)\n\u003c/details\u003e\n\n\n### Intended users\n\n* [Cameron (Compliance Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#cameron-compliance-manager)\n\n\u003c!-- Who will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Priyanka (Platform Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#priyanka-platform-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager)\n* [Alex (Security Operations Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#alex-security-operations-engineer)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops)\n* [Ingrid (Infrastructure Operator)](https://about.gitlab.com/handbook/product/personas/#ingrid-infrastructure-operator)\n* [Dakota (Application Development Director)](https://about.gitlab.com/handbook/product/personas/#dakota-application-development-director)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n* [Eddie (Content Editor)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#eddie-content-editor)\n--\u003e\n\n### Feature Usage Metrics\n\n\u003c!-- How are you going to track usage of this feature? Think about user behavior and their interaction with the product. What indicates someone is getting value from it?\n\nCreate tracking issue using the Snowplow event tracking template. See https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Snowplow%20event%20tracking.md\n\n--\u003e\n\n### Implementation plan\n\n1. [x] Update `get_external_destinations.query.graphql` to also fetch the filter status.\n   - :exclamation: field not implemented yet https://gitlab.com/gitlab-org/gitlab/-/issues/344845\n1. [x] Add a [warning variant `GlBadge`](https://gitlab-org.gitlab.io/gitlab-ui/?path=/story/base-badge--default\u0026args=variant:warning) to `stream/stream_item.vue` if a destination is filtered.\n   - Note: Badge contents should start with a [warning icon](https://gitlab-org.gitlab.io/gitlab-svgs/?q=~warning).\n   - Note: Make sure the badge has a tabindex, else the tooltip won't show for keyboard users.\n1. [x] Add a tooltip to the warning badge badge.\n1. [x] Update specs.\n1. [ ] Update ~documentation if needed.\n\n\u003c!-- Label reminders\nUse the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n--\u003e\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2022-07-08T12:34:12.426Z","updated_at":"2022-12-19T20:06:33.953Z","closed_at":"2022-11-29T19:22:41.892Z","closed_by":{"id":12187344,"username":"nrosandich","name":"Nathan Rosandich","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12187344/avatar.png","web_url":"https://gitlab.com/nrosandich"},"labels":["GitLab Ultimate","devops::govern","direction","documentation","frontend","group::compliance","missed:15.6","priority::3","section::sec","type::feature","workflow::verification"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":12187344,"username":"nrosandich","name":"Nathan Rosandich","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12187344/avatar.png","web_url":"https://gitlab.com/nrosandich"}],"author":{"id":4376883,"username":"stkerr","name":"Sam Kerr","state":"active","avatar_url":"https://secure.gravatar.com/avatar/591c8b969464f7b4fb97b6f2f654f11a?s=80\u0026d=identicon","web_url":"https://gitlab.com/stkerr"},"type":"ISSUE","assignee":{"id":12187344,"username":"nrosandich","name":"Nathan Rosandich","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12187344/avatar.png","web_url":"https://gitlab.com/nrosandich"},"user_notes_count":37,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367341","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":5,"completed_count":4},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"4 of 5 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367341","notes":"https://gitlab.com/api/v4/projects/278964/issues/367341/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367341/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367341","relative":"#367341","full":"gitlab-org/gitlab#367341"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7059,"epic":{"id":379961,"iid":7059,"title":"Streamed audit event filtering with UI","url":"/groups/gitlab-org/-/epics/7059","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":111359938,"iid":367328,"project_id":278964,"title":"Show User ID on profile page","description":"# Challange\nToday the `Group ID` is displayed on the group page, the `Project ID` is shown on the project page. This functionality would also be appropriate for the `user ID`, since the `user ID` is often used, e.g. for tasks such as automation, etc.\n\n# Proposal\nLet's add the `user ID` to the `user profile` page as well.\n\n# Screenshots\n### Group\nToday: ![image](/uploads/f639ba040f2e4caf68235516ccacbb9b/image.png)\n\n### Project\nToday: ![image](/uploads/26a8461efc68aaff5c938c174597c9ea/image.png)\n\n\n### User Profile: \nToday/Before: ![before](/uploads/a00a44470cbbcee9338c3b12a7445892/before.png)\n\nAfter: ![after](/uploads/3f2393e58367e28f21c26e432200b588/after.png)","state":"closed","created_at":"2022-07-08T10:24:04.657Z","updated_at":"2022-10-11T14:42:10.339Z","closed_at":"2022-08-04T12:06:42.364Z","closed_by":{"id":11485419,"username":"lohrc","name":"Christina Lohr","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11485419/avatar.png","web_url":"https://gitlab.com/lohrc"},"labels":["Community contribution","GitLab Free","GitLab Premium","GitLab Ultimate","devops::manage","group::organization","release post item::in review","section::dev","type::feature","user profile"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":11507162,"username":"TrueKalix","name":"Andreas Deicha","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11507162/avatar.png","web_url":"https://gitlab.com/TrueKalix"}],"author":{"id":11507162,"username":"TrueKalix","name":"Andreas Deicha","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11507162/avatar.png","web_url":"https://gitlab.com/TrueKalix"},"type":"ISSUE","assignee":{"id":11507162,"username":"TrueKalix","name":"Andreas Deicha","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11507162/avatar.png","web_url":"https://gitlab.com/TrueKalix"},"user_notes_count":29,"merge_requests_count":0,"upvotes":1,"downvotes":1,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367328","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367328","notes":"https://gitlab.com/api/v4/projects/278964/issues/367328/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367328/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367328","relative":"#367328","full":"gitlab-org/gitlab#367328"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":111354130,"iid":367321,"project_id":278964,"title":"Merge i18n translations (August 2022)","description":"Merge the latest i18n translations from Crowdin on a monthly cadence.\n\nDocumentation available here: https://docs.gitlab.com/ee/development/i18n/merging_translations.html\n\n#### ToDo\n* [x] After cloning: update Title, set Milestone, Due date (15th), Related to previous month's issue.\n* [x] After the 1st of the month: assign to yourself, set ~\"workflow::in dev\" \n* [x] If needed, configure the [GitLab-Crowdin integration](https://docs.gitlab.com/ee/development/i18n/merging_translations.html#recreate-the-gitlab-integration-in-crowdin)\n* [x] Kick off a sync from [Crowdin](https://crowdin.com/project/gitlab-ee/apps/system/gitlab)\n* [x] Find the [MR](https://gitlab.com/gitlab-org/gitlab/-/merge_requests?scope=all\u0026utf8=%E2%9C%93\u0026state=opened\u0026author_username=gitlab-crowdin-bot) created by @gitlab-crowdin-bot and associate it with this issue\n* [x] Complete the MR\n* [x] Update the translation levels [data](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/i18n.rb#L43) with the latest numbers. (Find the issue [here](https://gitlab.com/groups/gitlab-org/-/epics/3571))\n* [x] When done, clone [this template issue](https://gitlab.com/gitlab-org/gitlab/-/issues/339980) for the next milestone.","state":"closed","created_at":"2022-07-08T08:45:26.637Z","updated_at":"2022-10-14T05:27:00.766Z","closed_at":"2022-10-14T05:27:00.738Z","closed_by":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"labels":["Category:Internationalization","Deliverable","Next Up","backend","devops::manage","estimation::completed","group::import","section::dev","type::maintenance","workflow::production"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"}],"author":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"type":"ISSUE","assignee":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2022-08-15","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367321","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":8,"completed_count":8},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"8 of 8 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367321","notes":"https://gitlab.com/api/v4/projects/278964/issues/367321/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367321/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367321","relative":"#367321","full":"gitlab-org/gitlab#367321"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3571,"epic":{"id":67045,"iid":3571,"title":"Regular i18n translation merges","url":"/groups/gitlab-org/-/epics/3571","group_id":9970,"human_readable_timestamp":"\u003cstrong\u003e1033\u003c/strong\u003e days elapsed"},"iteration":null,"health_status":null},{"id":111353567,"iid":367320,"project_id":278964,"title":"Broken Delete/Replace buttons on file blame page","description":"\n### Summary\n\nThe Delete and Replace buttons are not working on the file Blame Page.\n\n### Example Project\n\nhttps://gitlab.com/gitlab-org/gitlab/-/blame/master/app/assets/javascripts/repository/components/table/row.vue\n\n### What is the current *bug* behavior?\n\nClicking Delete or Replace does not do anything.\n\n### What is the expected *correct* behavior?\n\nClicking Delete or Replace should bring up the relevant modals.\nUpdate: UX department decided to just remove buttons, as thew were considered as excess functionality\n\n### Relevant logs and/or screenshots\n\n![Screen_Recording_2022-07-08_at_10.33.57](/uploads/3fe5704e4215e0d6fd8b961d9efaf526/Screen_Recording_2022-07-08_at_10.33.57.mov)\n\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e","state":"closed","created_at":"2022-07-08T08:36:16.434Z","updated_at":"2022-09-21T12:01:12.610Z","closed_at":"2022-09-14T08:05:49.251Z","closed_by":{"id":11703928,"username":"nradina","name":"Nataliia Radina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11703928/avatar.png","web_url":"https://gitlab.com/nradina"},"labels":["Category:Source Code Management","Deliverable","bug::functional","devops::create","frontend","group::source code","priority::3","section::dev","severity::3","type::bug","workflow::production"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":11703928,"username":"nradina","name":"Nataliia Radina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11703928/avatar.png","web_url":"https://gitlab.com/nradina"}],"author":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"type":"ISSUE","assignee":{"id":11703928,"username":"nradina","name":"Nataliia Radina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11703928/avatar.png","web_url":"https://gitlab.com/nradina"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367320","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367320","notes":"https://gitlab.com/api/v4/projects/278964/issues/367320/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367320/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367320","relative":"#367320","full":"gitlab-org/gitlab#367320"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":111347754,"iid":367316,"project_id":278964,"title":"Add vulnerability_advisories database table and model","description":"## Why are we doing this work\n\nThis issue handles the creation of `vulnerability_advisories` table and its associated model to facilitate the storage of advisories from different sources.\n\n## Relevant links\n\nEpic: https://gitlab.com/groups/gitlab-org/-/epics/8025+\n\n## Non-functional requirements\n\n- [ ] Documentation:\n- [ ] Feature flag:\n- [ ] Performance:\n- [ ] Testing:\n\n\n## Implementation plan\n\n![SBOM_Advisories_Projects](/uploads/e2c8a137cddaf62bb322542f27a181e8/SBOM_Advisories_Projects.png)\n\n```ruby\ncreate_table :vulnerability_advisories do |t|\n  t.integer :component_type, null: false, limit: 2\n  t.string :title\n  t.string :affected_range\n  t.string :not_impacted\n  t.string :component_name\n  t.string :solution\n  t.string :cvss_v2\n  t.string :cvss_v3\n  t.datetime_with_timezone :created_date, null: false\n  t.datetime_with_timezone :published_date, null: false\n  t.uuid :uuid, null: false\n  t.text :description\n  t.text :identifiers, array: true, default: []\n  t.text :fixed_versions, array: true, default: []\n  t.text :urls, array: true, default: []\n  t.text :links, array: true, default: []\nend\n\ncreate_table :vulnerable_component_version do |t|\n  t.references :vulnerability_advisory,\n  t.references :sbom_component_version\nend\n```\n\nCreate these models\n- `Vulnerabilities::Advisory`\n- `Vulnerabilities::ComponentVersion`\n\n## Verification steps\n\u003c!--\nAdd verification steps to help GitLab team members test the implementation. This is particularly useful\nduring the MR review and the ~\"workflow::verification\" step. You may not know exactly what the\nverification steps should be during issue refinement, so you can always come back later to add\nthem.\n\n1. Check-out the corresponding branch\n1. ...\n1. Profit!\n--\u003e","state":"closed","created_at":"2022-07-08T06:58:33.144Z","updated_at":"2022-12-21T19:44:25.624Z","closed_at":"2022-09-20T13:26:57.748Z","closed_by":{"id":8401507,"username":"sashi_kumar","name":"Sashi Kumar Kumaresan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8401507/avatar.png","web_url":"https://gitlab.com/sashi_kumar"},"labels":["Category:Security Policy Management","GitLab Ultimate","Threat Insights::Tangerine","WorkingGroup::ContinuousScanning","auto updated","automation:ml","automation:ml wrong","backend","devops::govern","feature::addition","group::threat insights","missed:15.3","section::sec","type::feature","workflow::verification"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":8401507,"username":"sashi_kumar","name":"Sashi Kumar Kumaresan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8401507/avatar.png","web_url":"https://gitlab.com/sashi_kumar"}],"author":{"id":8401507,"username":"sashi_kumar","name":"Sashi Kumar Kumaresan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8401507/avatar.png","web_url":"https://gitlab.com/sashi_kumar"},"type":"ISSUE","assignee":{"id":8401507,"username":"sashi_kumar","name":"Sashi Kumar Kumaresan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8401507/avatar.png","web_url":"https://gitlab.com/sashi_kumar"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367316","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367316","notes":"https://gitlab.com/api/v4/projects/278964/issues/367316/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367316/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367316","relative":"#367316","full":"gitlab-org/gitlab#367316"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8025,"epic":{"id":518304,"iid":8025,"title":"Ingest advisory databases","url":"/groups/gitlab-org/-/epics/8025","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":111341993,"iid":367308,"project_id":278964,"title":"BE - VSA Exclude stages a user does not have permissions for","description":"## Summary\n\nRelated to #257830, in project VSA we currently query the ~backend for the current user's permissions for each stage in the value stream, instead, we should look to [filter the list of stages on the \\~backend](https://gitlab.com/gitlab-org/gitlab/-/issues/257830#note_622358243) so we can remove this additional API request.\n\n## TODO\n* [x] Exclude stages a user does not have permissions for\n\n## Possible approaches\n\nhttps://gitlab.com/gitlab-org/gitlab/-/issues/335810#note_676785054","state":"closed","created_at":"2022-07-08T03:08:33.036Z","updated_at":"2022-08-21T12:02:14.611Z","closed_at":"2022-07-29T10:51:25.928Z","closed_by":{"id":4826728,"username":"m_frankiewicz","name":"Magdalena Frankiewicz","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ca314fa77051f58ced6e3e5bf7f0dd48?s=80\u0026d=identicon","web_url":"https://gitlab.com/m_frankiewicz"},"labels":["Category:Value Stream Management","Deliverable","backend","devops::manage","group::optimize","priority::3","section::dev","type::maintenance","workflow::production"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":4826728,"username":"m_frankiewicz","name":"Magdalena Frankiewicz","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ca314fa77051f58ced6e3e5bf7f0dd48?s=80\u0026d=identicon","web_url":"https://gitlab.com/m_frankiewicz"}],"author":{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"},"type":"ISSUE","assignee":{"id":4826728,"username":"m_frankiewicz","name":"Magdalena Frankiewicz","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ca314fa77051f58ced6e3e5bf7f0dd48?s=80\u0026d=identicon","web_url":"https://gitlab.com/m_frankiewicz"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367308","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":1},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367308","notes":"https://gitlab.com/api/v4/projects/278964/issues/367308/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367308/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367308","relative":"#367308","full":"gitlab-org/gitlab#367308"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":111341239,"iid":367306,"project_id":278964,"title":"[🎨 Design] Allow users to enable \u0026 disable epic colors in the epic board","description":"#### Context\n\nFollow-up from https://gitlab.com/gitlab-org/gitlab/-/merge_requests/90979#note_1011347242\n\n\n#### Proposal\n\n- 🎨 [Figma](https://www.figma.com/file/DPii53OVQW5eeelDmuxB0f/Allow-users-to-enable-%26-disable-epic-colors-in-the-epic-board?node-id=0%3A1)\n\n###### In epic boards\n- Add a `Display epic colors` checkbox to the \"edit board\" modal under `View options` as the last item in the list\n\n###### In board epic and issue boards\n- Change [-List options-] to [+View options+]\n- Change the description text from [-Configure which lists are shown for anyone who visits this board-] to [+Configure the default view for anyone who visits this board+]\n\n###### Stretch\n- Change all description text to `$gray-900` to better conform with Pajamas.\n- Convert `Open` and `Closed` within the view options area to neutral badges\n- Ensure font size and form spacing conforms with Pajamas (specs in Figma doc if logged in).","state":"closed","created_at":"2022-07-08T02:19:24.074Z","updated_at":"2023-01-09T23:56:15.743Z","closed_at":"2022-11-15T16:01:21.620Z","closed_by":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"labels":["SUS::Impacting","Technical Writing","UI polish","UX","UX Design","boards","design-weight::2","devops::plan","docs::feature","feature::enhancement","group::project management","section::dev","severity::2","type::feature"],"milestone":null,"assignees":[],"author":{"id":3617348,"username":"uhlexsis","name":"Alexis Ginsberg","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3617348/avatar.png","web_url":"https://gitlab.com/uhlexsis"},"type":"ISSUE","assignee":null,"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367306","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":2,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367306","notes":"https://gitlab.com/api/v4/projects/278964/issues/367306/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367306/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367306","relative":"#367306","full":"gitlab-org/gitlab#367306"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9033,"epic":{"id":628005,"iid":9033,"title":"Visually distinguish epics using colors","url":"/groups/gitlab-org/-/epics/9033","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":111330090,"iid":367278,"project_id":278964,"title":"FE: Create schedule agent rule component","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n- Users want to create rules that are based off of a schedule for a cluster\n\n## Relevant links\n\nNOTE: Instead of `cluster`, use `agent`\n![image](/uploads/43d5d4770ff3302f66d24e5bab87a6d7/image.png)\n\nNamespace Labels\n\n![namespaces](/uploads/e4cda912a64400aacf18046c362c5b24/image.png)\n\n## Non-functional requirements\n- [ ] Feature flag:\n- [ ] Testing:\n\n## Implementation plan\n- [ ] ~3412464 create schedule agent rule mode on both the project and group levels (for more context, read the [`schedule` schema docs](https://docs.gitlab.com/ee/user/application_security/policies/scan-execution-policies.html#schedule-rule-type)) \n  - look at `scan_result_policy_editor.vue` for examples on using the `policy_rule_builder.vue` component\n  - rule dropdown\n    - there are two options for rules:\n      1. `A pipeline is run` (handled by https://gitlab.com/gitlab-org/gitlab/-/issues/359885+)\n      1. `Schedule` (handled by this issue)\n    - for this issue, only focus on `2`, but feel free to make it a drop down\n  - agents dropdown\n    - per https://gitlab.com/groups/gitlab-org/-/epics/5363#note_894764465, give the user an input box instead for the user to type comma-delimited agents for MVP. There is a graphql endpoint for both (e.g. `Project.clusterAgents` and `Group.clusterAgents`), so this could be a dropdown for v2\n  - namespace dropdown\n    - per https://gitlab.com/gitlab-org/gitlab/-/issues/365820#note_998547239, give the user an input box instead for the user to type comma-delimited namespaces because there is no endpoint to retrieve all namespaces\n  - CRON dropdowns\n    - per https://gitlab.com/groups/gitlab-org/-/epics/5363#note_894814030, limit users to only specific schedules, allowing a user to use `yaml` mode to do anything more complicated\n\n## Verification steps\n1. Upload a ~3207279 license\n1. Turn on the `:scan_execution_rule_mode` feature flag\n1. Navigate to a project =\u003e `Security \u0026 Compliance` =\u003e `Policies` =\u003e `New policy` =\u003e `Scan Execution Policy`\n1. Verify rule mode schedule agent rule works\n1. Navigate to a group =\u003e `Security \u0026 Compliance` =\u003e `Policies` =\u003e `New policy` =\u003e `Scan Execution Policy`\n1. Verify rule mode schedule agent rule works","state":"closed","created_at":"2022-07-07T17:44:46.071Z","updated_at":"2022-10-17T17:09:12.403Z","closed_at":"2022-10-17T17:09:12.380Z","closed_by":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"labels":["Category:Security Policy Management","devops::govern","frontend","frontend-weight::5","group::security policies","section::sec","type::feature","workflow::blocked"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":10762712,"username":"arfedoro","name":"Artur Fedorov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10762712/avatar.png","web_url":"https://gitlab.com/arfedoro"}],"author":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"type":"ISSUE","assignee":{"id":10762712,"username":"arfedoro","name":"Artur Fedorov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10762712/avatar.png","web_url":"https://gitlab.com/arfedoro"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367278","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367278","notes":"https://gitlab.com/api/v4/projects/278964/issues/367278/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367278/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367278","relative":"#367278","full":"gitlab-org/gitlab#367278"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5363,"epic":{"id":198785,"iid":5363,"title":"Allow Users to Edit Rule-mode Scan Execution Policies in the Policy UI","url":"/groups/gitlab-org/-/epics/5363","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":111329055,"iid":367266,"project_id":278964,"title":"[Spike] Investigate limitations of chained MR dependencies","description":"\u003c!-- This template is a great use for issues that are feature::additions or technical tasks for larger issues.--\u003e\n\n### Proposal\n\nThere is an effort to work on improving the state of MR dependencies and in specific look into enhancing the ability to add a sequence of dependencies.\n\n* A depends on B\n* B depends on C\n\nWe have a limitation in place that prevents these chains from being created, related to avoiding circular dependencies, etc.\n\nWe'd like to understand the reasons for this limitation and whether that's something we can expand without sacrificing reliability.\n\nQuoting from an ongoing discussion:\n\n\u003e I was wondering if there would be a way to implement this partially that wouldn't incur in the recursive dependency cycle check? I can see that we're enforcing the \"shallow\" dependency by checking [3 rules when introducing the MR block](https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/models/merge_request_block.rb#L28):\n\u003e \n\u003e 1. No self-block\n\u003e 1. Blocking MR can't itself be blocked\n\u003e 1. Blocked MR can't block others\n\u003e \n\u003e It seems to me that we could drop rule 3 and still avoid cycles, thereby enabling more complex orders. Modifying the dependency tree after the fact with a large dependency tree would be cumbersome, though.\n\n\n### Questions\n\n* Can we remove the rule 3 (above) altogether or should we still have some sort of limitation?\n* Why the limit? :thinking: \n* Can we handle this with a warnings in case a circular dependency is detected?\n\n\u003c!-- Use this section to explain the feature and how it will work. It can be helpful to add technical details, design proposals, and links to related epics or issues. --\u003e\n\n\u003c!-- Consider adding related issues and epics to this issue. You can also reference the Feature Proposal Template (https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal%20-%20detailed.md) for additional details to consider adding to this issue. Additionally, as a data oriented organization, when your feature exits planning breakdown, consider adding the `What does success look like, and how can we measure that?` section.\n--\u003e\n\n\u003c!-- Label reminders\nUse the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n--\u003e","state":"closed","created_at":"2022-07-07T17:15:20.119Z","updated_at":"2022-10-03T14:11:10.952Z","closed_at":"2022-09-07T15:45:46.528Z","closed_by":{"id":5918904,"username":"marc_shaw","name":"Marc Shaw","state":"active","avatar_url":"https://secure.gravatar.com/avatar/78c946cb19e40815a2b5d97cefecec6a?s=80\u0026d=identicon","web_url":"https://gitlab.com/marc_shaw"},"labels":["Category:Code Review Workflow","Deliverable","backend","devops::create","group::code review","quad-planning::complete-no-action","section::dev","spike","type::maintenance","workflow::in review"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":5918904,"username":"marc_shaw","name":"Marc Shaw","state":"active","avatar_url":"https://secure.gravatar.com/avatar/78c946cb19e40815a2b5d97cefecec6a?s=80\u0026d=identicon","web_url":"https://gitlab.com/marc_shaw"}],"author":{"id":853414,"username":"andr3","name":"André Luís","state":"active","avatar_url":"https://secure.gravatar.com/avatar/241e39726efb512a29621070ccf26a90?s=80\u0026d=identicon","web_url":"https://gitlab.com/andr3"},"type":"ISSUE","assignee":{"id":5918904,"username":"marc_shaw","name":"Marc Shaw","state":"active","avatar_url":"https://secure.gravatar.com/avatar/78c946cb19e40815a2b5d97cefecec6a?s=80\u0026d=identicon","web_url":"https://gitlab.com/marc_shaw"},"user_notes_count":36,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367266","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367266","notes":"https://gitlab.com/api/v4/projects/278964/issues/367266/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367266/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367266","relative":"#367266","full":"gitlab-org/gitlab#367266"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5308,"epic":{"id":193100,"iid":5308,"title":"Merge Request Dependency Improvements","url":"/groups/gitlab-org/-/epics/5308","group_id":9970},"iteration":null,"health_status":null},{"id":111321996,"iid":367248,"project_id":278964,"title":"Extend Insights to support the query option","description":"## Release notes\n\nThis issue is a breakdown from a [spike](https://gitlab.com/gitlab-org/gitlab/-/issues/364499) issue which makes the DORA metrics exposable via the Insights feature.\n\n**High-level Steps**\n\n- Introduce an extra library layer for supporting the new YAML schema and delegating to the correct backend (finder).\n- Adjust the Insights parameter validation rules to accommodate the new schema changes.\n- Update the documentation with examples.\n\n### Details\n\nTo make this work, we can introduce an extra layer (maybe a lib?) which is responsible for the YAML options processing and delegation to the correct backend (finder). This is currently implemented as a mixin on the controller-level: [`InsightsActions`](https://gitlab.com/gitlab-org/gitlab/-/tree/master/ee/app/controllers/concerns/insights_actions.rb)\n\nAfter this change, the controller would look much cleaner, something like this:\n\n```ruby\ndef query\n  Gitlab::Insights::Validators::ParamsValidator.new(params).validate!\n\n  render json: Serializer.new(Insights::Loader.new(chart_params).call)\nend\n```\n\nThe Loader is responsible for the following:\n\n- Handle/transform the incoming parameters in a backwards-compatible manner (old Insights files should still work.\n- Delegate to the correct Finder class and return the data to the serializer.\n\n## Configuration\n\nOld configuration (it should work with the new changes):\n\n```yaml\nbugsCharts:\n  title: \"Charts for bugs\"\n  charts:\n    - title: \"Monthly bugs created\"\n      description: \"Open bugs created per month\"\n      type: bar\n      query:\n        issuable_type: issue\n        issuable_state: opened\n        group_by: month\n        period_limit: 12\n```\n\nNew configuration (with 2 charts, Issuable finder based and DORA base):\n\n\n```yaml\nbugsCharts:\n  title: \"Charts for bugs\"\n  charts:\n    - title: \"Monthly bugs created\"\n      description: \"Open bugs created per month\"\n      type: bar\n      query:\n        data_source: issuable\n        params:\n          issuable_type: issue\n          issuable_state: opened\n          group_by: month\n          period_limit: 12\n    - title: \"DORA DF\"\n      description: \"Deployment frequency\"\n      type: bar\n      query:\n        data_source: dora\n        params:\n          metric: deployment_frequency\n          environment_tiers: \n            - production\n          period_limit: 12\n  \n```\n\nNote: the DORA finder might not support all the possible chart times or period options.","state":"closed","created_at":"2022-07-07T14:50:27.886Z","updated_at":"2022-11-03T13:15:20.824Z","closed_at":"2022-08-19T05:24:43.213Z","closed_by":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"labels":["Deliverable","GitLab Ultimate","auto updated","backend","devops::manage","documentation","feature::enhancement","group::optimize","priority::1","release post item::in review","section::dev","type::feature","workflow::verification"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"}],"author":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"type":"ISSUE","assignee":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"user_notes_count":24,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367248","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367248","notes":"https://gitlab.com/api/v4/projects/278964/issues/367248/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367248/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367248","relative":"#367248","full":"gitlab-org/gitlab#367248"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8195,"epic":{"id":540318,"iid":8195,"title":"🧰  Insights improvements","url":"/groups/gitlab-org/-/epics/8195","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":111317222,"iid":367242,"project_id":278964,"title":"Add license_sha256 to usage_data table in VersionApp","description":"For backward compatibility of usage_data models, we should add the license_sha256 to usage data_table too.\n\nThe value should be filled with the value we receive in Service Ping. This is introduced in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/91335/diffs#698e729e08eded1c0551919e7eddb666fecb0075\n\nRelated https://gitlab.com/gitlab-org/gitlab/-/issues/361269","state":"closed","created_at":"2022-07-07T13:33:41.451Z","updated_at":"2022-10-03T13:39:27.986Z","closed_at":"2022-08-01T08:07:13.683Z","closed_by":{"id":1863977,"username":"michold","name":"Michał Wielich","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1863977/avatar.png","web_url":"https://gitlab.com/michold"},"labels":["Deliverable","VersionApp","backend","devops::analytics","feature::consolidation","group::product intelligence","section::analytics","type::maintenance","workflow::in dev"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":1863977,"username":"michold","name":"Michał Wielich","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1863977/avatar.png","web_url":"https://gitlab.com/michold"}],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":{"id":1863977,"username":"michold","name":"Michał Wielich","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1863977/avatar.png","web_url":"https://gitlab.com/michold"},"user_notes_count":15,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367242","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367242","notes":"https://gitlab.com/api/v4/projects/278964/issues/367242/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367242/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367242","relative":"#367242","full":"gitlab-org/gitlab#367242"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":111311375,"iid":367230,"project_id":278964,"title":"Parse DAST CWE active check YAML files","description":"\n### Purpose\n\nParse YAML active check definitions into Browserker active checks so that checks can be added and updated quickly by the vulnerability research team.\n\n### Implementation plan\n\n- [x] Merge the MR https://gitlab.com/gitlab-org/security-products/dast-cwe-checks/-/merge_requests/109 into DAST CWE checks. It will likely need to be updated to reflect changes to the DAST CWE checks schema - https://gitlab.com/gitlab-org/security-products/dast-cwe-checks/-/merge_requests/175\n- [x] Browserker should parse the YAML files, creating an active check for each. Attack types that are not defined by Browserker should result in the attack being \"unsupported\"\n- [x] Follow similar patterns to the way passive checks are defined\n- [x] Remove the `vulnerability_definitions.FileBaseLoader` hard-coded check `22.1`. This should not fail integration tests or the end-to-end test (the check should be imported from YAML and parsed)\n- [x] Ensure that errors are gracefully handled. Browserker should fail with a sensible message if the vulnerability definitions fail to parse.\n  - [x] Add type to unsupported error message https://gitlab.com/gitlab-org/security-products/analyzers/browserker/-/merge_requests/858#note_1115195962\n- [x] No need to parse attacks of type `callback_attack`, these will likely change anyway\n- [x] Parse `timing_attack` attacks\n- [x] Parse `match_response_attack` attacks\n- [x] Ensure that referenced `affixes` parse correctly, for example:\n  ```go\n      affixes: \u0026affixes-1\n        - affix:\n          prefix: \"foo\"\n          suffix: \"bar\"\n      injections:\n        - injection:\n          template: \"{{prefix}}{{payload}}{{suffix}}\"\n          affixes: *affixes-1\n  ```\n- [x] Rename `VulnerabilityDefinitionParser` to `PassiveCheckParser` or create a `passive_check` package and move it there.","state":"closed","created_at":"2022-07-07T11:54:32.730Z","updated_at":"2022-10-03T03:26:27.813Z","closed_at":"2022-09-30T05:18:54.233Z","closed_by":{"id":5344211,"username":"craigmsmith","name":"Craig Smith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5344211/avatar.png","web_url":"https://gitlab.com/craigmsmith"},"labels":["Category:DAST","dast::browserker","devops::secure","group::dynamic analysis","section::sec","type::feature","workflow::in dev"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":5344211,"username":"craigmsmith","name":"Craig Smith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5344211/avatar.png","web_url":"https://gitlab.com/craigmsmith"}],"author":{"id":4312863,"username":"cam_swords","name":"Cameron Swords","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3b729cf96bcced6384ebb94f0362bd4b?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam_swords"},"type":"ISSUE","assignee":{"id":5344211,"username":"craigmsmith","name":"Craig Smith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5344211/avatar.png","web_url":"https://gitlab.com/craigmsmith"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367230","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":11,"completed_count":11},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"11 of 11 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367230","notes":"https://gitlab.com/api/v4/projects/278964/issues/367230/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367230/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367230","relative":"#367230","full":"gitlab-org/gitlab#367230"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5780,"epic":{"id":251193,"iid":5780,"title":"Browser-based DAST -  Active Attack Parity","url":"/groups/gitlab-org/-/epics/5780","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":111309706,"iid":367227,"project_id":278964,"title":"Fix DORA metrics project level docs to include all metric types","description":"## Summary\n\nDORA metrics docs for projects state outdated 3 metrics as acceptable param. Please add 4th `change_failure_rate` metric type to the docs.","state":"closed","created_at":"2022-07-07T11:20:22.811Z","updated_at":"2022-07-18T10:09:03.432Z","closed_at":"2022-07-18T10:09:03.410Z","closed_by":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"labels":["devops::manage","documentation","group::optimize","section::dev","type::maintenance","workflow::verification"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"}],"author":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"type":"ISSUE","assignee":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367227","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367227","notes":"https://gitlab.com/api/v4/projects/278964/issues/367227/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367227/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367227","relative":"#367227","full":"gitlab-org/gitlab#367227"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":111297419,"iid":367213,"project_id":278964,"title":"Average number of approval metrics failing in Service Ping for Gitlab.com","description":"## Problem\n\nOne of the metrics introduced with https://gitlab.com/gitlab-org/gitlab/-/merge_requests/90089 is failing in the Service Ping generated for GitLab.com for %\"15.2\":\n\n- `usage_activity_by_stage_monthly.release.protected_environments_average_required_approvals`\n\nBelow is the error stacktrace:\n\n```bash\nTraceback (most recent call last):\n       16: from lib/gitlab/usage/service_ping/instrumented_payload.rb:18:in `map'\n       15: from lib/gitlab/usage/service_ping/instrumented_payload.rb:19:in `block in build'\n       14: from lib/gitlab/usage/service_ping/instrumented_payload.rb:36:in `compute_instrumental_value'\n       13: from lib/gitlab/usage/service_ping/instrumented_payload.rb:36:in `call'\n       12: from lib/gitlab/usage/metric.rb:21:in `with_value'\n       11: from lib/gitlab/usage/metric.rb:37:in `with_availability'\n       10: from lib/gitlab/usage/metric.rb:21:in `block in with_value'\n        9: from lib/gitlab/usage/metrics/instrumentations/database_metric.rb:68:in `value'\n        8: from lib/gitlab/usage/metrics/instrumentations/database_metric.rb:68:in `call'\n        7: from lib/gitlab/utils/usage_data.rb:108:in `average'\n        6: from lib/gitlab/utils/usage_data.rb:48:in `with_duration'\n        5: from lib/gitlab/utils/usage_data.rb:109:in `block in average'\n        4: from lib/gitlab/database/batch_count.rb:47:in `batch_average'\n        3: from lib/gitlab/database/batch_counter.rb:57:in `count'\n        2: from lib/gitlab/database/batch_counter.rb:85:in `merge_results'\n        1: from lib/gitlab/database/batch_counter.rb:85:in `+'\nTypeError (nil can't be coerced into BigDecimal)\n```\n\nLooking at the error, it seems that the SQL executed by [`average operation`](https://gitlab.com/gitlab-org/gitlab/-/blob/2ef5a008fae928f2609934a84775ed7bf714b0af/lib/gitlab/database/batch_counter.rb#L57) (passed here to the `merge_results` method) is returning `nil`, which results in an error because `nil` cannot be coerced into a `BigDecimal` for the addition taking place in [line #85](https://gitlab.com/gitlab-org/gitlab/-/blob/2ef5a008fae928f2609934a84775ed7bf714b0af/lib/gitlab/database/batch_counter.rb#L85).\n\nSee [this](https://gitlab.com/gitlab-org/gitlab/-/issues/362743#note_1016983910), and [this](https://gitlab.com/gitlab-org/gitlab/-/issues/362743#note_1020690856) for more information about the failure.\n\n## Proposal\n\nUpdate the batch counter class to handle nil value for `object` in `merge_results` method without throwing errors. Additionally, it might be worth investigating why the SQL query had returned a `nil` result to begin with.","state":"closed","created_at":"2022-07-07T08:14:53.575Z","updated_at":"2022-09-06T08:01:48.862Z","closed_at":"2022-09-06T08:01:48.843Z","closed_by":{"id":11334402,"username":"ahmed.hemdan","name":"Ahmed Hemdan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11334402/avatar.png","web_url":"https://gitlab.com/ahmed.hemdan"},"labels":["Category:Environment Management","Next Up","backend","broken metric","devops::release","group::release","priority::3","product intelligence","section::ops","severity::3","type::bug"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":11334402,"username":"ahmed.hemdan","name":"Ahmed Hemdan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11334402/avatar.png","web_url":"https://gitlab.com/ahmed.hemdan"}],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":{"id":11334402,"username":"ahmed.hemdan","name":"Ahmed Hemdan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11334402/avatar.png","web_url":"https://gitlab.com/ahmed.hemdan"},"user_notes_count":22,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367213","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367213","notes":"https://gitlab.com/api/v4/projects/278964/issues/367213/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367213/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367213","relative":"#367213","full":"gitlab-org/gitlab#367213"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":111293004,"iid":367208,"project_id":278964,"title":"Fix batched background migration to backfill missing search data","description":"We had to pause the batched background migration to backfill missing search data for #361219. \n\nThe reason is that because of `batching_scope: -\u003e (relation) { Issue }`, each batched job instead of breaking down the work in sub-batches, starts iterating `issues` table from the start, until eventually gets terminated with `Sidekiq::Shutdown`. The related Slack discussion is here - https://gitlab.slack.com/archives/CNZ8E900G/p1657161519642019?thread_ts=1656578448.257079\u0026cid=CNZ8E900G.\n\nSpecifying `batching_scope` is needed when we have additional filters and not iterating by id only. There is some work in progress to improve `BatchedMigrationJob`'s API, and we should add more docs/examples to make it easier to understand and use.\n\nIn order to complete this migration we need new MR that will:\n\n* Fix `lib/gitlab/background_migration/backfill_imported_issue_search_data.rb`\n* Make `db/post_migrate/20220621040800_backfill_imported_issue_search_data.rb` a no-op\n* Reschedule the migration by deleting the old one and enqueuing a new migration\n\nHere is an example MR of rescheduling a batched migration - https://gitlab.com/gitlab-org/gitlab/-/merge_requests/87496/diffs.","state":"closed","created_at":"2022-07-07T07:03:00.127Z","updated_at":"2022-08-02T12:16:22.330Z","closed_at":"2022-08-02T12:16:22.311Z","closed_by":{"id":11342168,"username":"carlad-gl","name":"Carla Drago","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11342168/avatar.png","web_url":"https://gitlab.com/carlad-gl"},"labels":["Category:Importers","Importer:GitHub","Next Up","database","devops::manage","group::import","priority::2","section::dev","severity::2","type::bug","workflow::post-deploy-db-production"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":11342168,"username":"carlad-gl","name":"Carla Drago","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11342168/avatar.png","web_url":"https://gitlab.com/carlad-gl"}],"author":{"id":11342168,"username":"carlad-gl","name":"Carla Drago","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11342168/avatar.png","web_url":"https://gitlab.com/carlad-gl"},"type":"ISSUE","assignee":{"id":11342168,"username":"carlad-gl","name":"Carla Drago","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11342168/avatar.png","web_url":"https://gitlab.com/carlad-gl"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367208","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367208","notes":"https://gitlab.com/api/v4/projects/278964/issues/367208/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367208/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367208","relative":"#367208","full":"gitlab-org/gitlab#367208"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":111287937,"iid":367202,"project_id":278964,"title":"Fix inconsistent deployment_tier in `$CI_ENVIRONMENT_TIER` predefined variable","description":"## Problem\n\nIt looks like `CI_ENVIRONMENT_TIER` predefined variable can contain old tier value if a tier is being changed in the pipeline job.\n\nhttps://gitlab.com/gitlab-org/gitlab/-/merge_requests/91099#note_1018472004\n\n\u003e\u003e\u003e\n@shinya.maeda Thanks for the explanation! I'll stick with the original proposal for now.\n\n\u003e alternatively we can consider to update the tier in `EnsureEnvironments` always, and remove the `renew_deployment_tier` for SSOT sake\n\nI noticed that `$CI_ENVIRONMENT_TIER` reflects the old value when changing `deployment_tier`. See the commit vs job log in this example: https://gitlab.com/ali-gitlab/golang-app/-/pipelines/581980000. This happens because we [load ](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/models/environment.rb#L255)`$CI_ENVIRONMENT_TIER` from the environment.\n\nI wonder what else would be affected by moving `renew_deployment_tier` earlier, and whether or not we should move `renew_external_url` and `renew_auto_stop_in` into `EnsureEnvironments` as part of the same effort.\n\nShould we create an issue to discuss this?\n\u003e\u003e\u003e\n\n## Proposal\n\n```diff\ndiff --git a/app/models/ci/build.rb b/app/models/ci/build.rb\nindex a624c665353..a5e489d5671 100644\n--- a/app/models/ci/build.rb\n+++ b/app/models/ci/build.rb\n@@ -533,6 +533,10 @@ def environment_deployment_tier\n       self.options.dig(:environment, :deployment_tier) if self.options\n     end\n \n+    def actual_deployment_tier\n+      environment_deployment_tier || persisted_environment.tier\n+    end\n+\n     def triggered_by?(current_user)\n       user == current_user\n     end\n@@ -587,6 +591,7 @@ def persisted_environment_variables\n         variables.concat(persisted_environment.predefined_variables)\n \n         variables.append(key: 'CI_ENVIRONMENT_ACTION', value: environment_action)\n+        variables.append(key: 'CI_ENVIRONMENT_TIER', value: actual_deployment_tier)\n \n         # Here we're passing unexpanded environment_url for runner to expand,\n         # and we need to make sure that CI_ENVIRONMENT_NAME and\ndiff --git a/app/models/environment.rb b/app/models/environment.rb\nindex 68540ce0f5c..0fb0f70a8e3 100644\n--- a/app/models/environment.rb\n+++ b/app/models/environment.rb\n@@ -252,7 +252,6 @@ def predefined_variables\n     Gitlab::Ci::Variables::Collection.new\n       .append(key: 'CI_ENVIRONMENT_NAME', value: name)\n       .append(key: 'CI_ENVIRONMENT_SLUG', value: slug)\n-      .append(key: 'CI_ENVIRONMENT_TIER', value: tier)\n   end\n \n   def recently_updated_on_branch?(ref)\ndiff --git a/lib/gitlab/ci/jwt.rb b/lib/gitlab/ci/jwt.rb\nindex 19678def666..98685cbc9d4 100644\n--- a/lib/gitlab/ci/jwt.rb\n+++ b/lib/gitlab/ci/jwt.rb\n@@ -64,7 +64,8 @@ def custom_claims\n         if environment.present?\n           fields.merge!(\n             environment: environment.name,\n-            environment_protected: environment_protected?.to_s\n+            environment_protected: environment_protected?.to_s,\n+            deployment_tier: build.actual_deployment_tier\n           )\n         end\n```","state":"closed","created_at":"2022-07-07T04:48:26.489Z","updated_at":"2022-09-29T05:15:28.227Z","closed_at":"2022-08-02T09:49:53.507Z","closed_by":{"id":3379682,"username":"vshushlin","name":"Vladimir Shushlin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3379682/avatar.png","web_url":"https://gitlab.com/vshushlin"},"labels":["Category:Environment Management","Next Up","Release::P2","devops::release","group::release","priority::3","section::ops","severity::3","type::bug","workflow::in review"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":3379682,"username":"vshushlin","name":"Vladimir Shushlin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3379682/avatar.png","web_url":"https://gitlab.com/vshushlin"}],"author":{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"},"type":"ISSUE","assignee":{"id":3379682,"username":"vshushlin","name":"Vladimir Shushlin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3379682/avatar.png","web_url":"https://gitlab.com/vshushlin"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367202","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367202","notes":"https://gitlab.com/api/v4/projects/278964/issues/367202/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367202/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367202","relative":"#367202","full":"gitlab-org/gitlab#367202"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":111270573,"iid":367160,"project_id":278964,"title":"Reduce memory used by highlighted-diff-files:merge_request_diffs on Redis cache","description":"Coming from the investigation in https://gitlab.com/gitlab-com/gl-infra/scalability/-/issues/1601#note_1015069256 we noticed that the `highlight-diff-cache:` namespace consumed almost 5GB of memory at the time we sampled.\n\nThe cache is built from [`Gitlab::Diff::HighlightCache`](https://gitlab.com/gitlab-org/gitlab/blob/3d4ac4563658e6bd3ceb9e47681b7208eda49957/lib/gitlab/diff/highlight_cache.rb#L73) and contains rendered HTML for diffs, including syntax highlighting. \n\nThis cache is shared across users, is being compressed before storing. So there's no obvious low hanging fruit by moving caching to the browser.\n\nThe TTL is set to 1 week, while the average idletime for the key is about 6 hours. So we often don't reuse these caches for quite a while. \n\nThe cache namespace `highlighted-diff-files:merge_request_diffs/` accounted for about 12% of the memory usage of the total `cache:` namespace\n\nSome ideas:\n\n1. Perhaps we can reduce the TTL to a few hours to reduce the footprint?\n1. Can we add active invalidation of the cache when it becomes invalid?\n1. Store this kind of data elsewhere, perhaps in object storage?","state":"closed","created_at":"2022-07-06T17:38:05.784Z","updated_at":"2022-09-23T11:10:00.246Z","closed_at":"2022-08-23T06:27:22.329Z","closed_by":{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"},"labels":["Category:Source Code Management","Deliverable","approaching-SLO","backend","devops::create","group::source code","infradev","priority::2","section::dev","severity::2","type::bug","workflow::verification"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"}],"author":{"id":171554,"username":"reprazent","name":"Bob Van Landuyt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/171554/avatar.png","web_url":"https://gitlab.com/reprazent"},"type":"ISSUE","assignee":{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"},"user_notes_count":24,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367160","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367160","notes":"https://gitlab.com/api/v4/projects/278964/issues/367160/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367160/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367160","relative":"#367160","full":"gitlab-org/gitlab#367160"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8419,"epic":{"id":570642,"iid":8419,"title":"Modify redis caching strategies to reduce maxmemory events on redis-cache instances","url":"/groups/gitlab-org/-/epics/8419","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":111262880,"iid":367145,"project_id":278964,"title":"Improve efficiency of serialized diff caching for merge requests","description":"In https://gitlab.com/gitlab-com/gl-infra/scalability/-/issues/1601#note_1015069256 we've seen that caches for the `PaginatedDiffSerializer` account for more than 5GB of memory used. This seems to come from [`Projects::MergeRequests::DiffsController#diffs_batch`](https://gitlab.com/gitlab-org/gitlab/blob/61f92db8f51ee8fb6b3c548d53c73064dc804fba/app/controllers/projects/merge_requests/diffs_controller.rb#L67).\n\nSimilar to https://gitlab.com/gitlab-org/gitlab/-/issues/367098, this cache is also scoped to the [current user](https://gitlab.com/gitlab-org/gitlab/blob/3d4ac4563658e6bd3ceb9e47681b7208eda49957/app/controllers/projects/merge_requests/diffs_controller.rb#L54) and how they prefer to view. Meaning that this cache can't be shared across users.\n\nFurthermore, the data from the diffs is also cached in Redis [another level down](https://gitlab.com/gitlab-org/gitlab/blob/3d4ac4563658e6bd3ceb9e47681b7208eda49957/app/controllers/projects/merge_requests/diffs_controller.rb#L40). I believe this cache can be reused across users, but this one duplicates the information across users.\n\nThe cache namespace `cache:gitlab:PaginatedDiffSerializer:` accounted for about 13% of the memory usage of the total `cache:` namespace\n\n### Proposal\n\nSince this part of the cache is also bound to the user and their preferences. Would it make sense to use ETag caching for this as well?","state":"closed","created_at":"2022-07-06T14:57:16.542Z","updated_at":"2022-09-08T08:04:04.809Z","closed_at":"2022-08-16T19:19:55.381Z","closed_by":{"id":4058309,"username":"mnohr","name":"Matt Nohr","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f2b70c7a75fd0a15ef789d4b1e620449?s=80\u0026d=identicon","web_url":"https://gitlab.com/mnohr"},"labels":["Category:Code Review Workflow","Deliverable","backend","devops::create","group::code review","infradev","priority::2","section::dev","severity::2","type::bug","workflow::in dev"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":5918904,"username":"marc_shaw","name":"Marc Shaw","state":"active","avatar_url":"https://secure.gravatar.com/avatar/78c946cb19e40815a2b5d97cefecec6a?s=80\u0026d=identicon","web_url":"https://gitlab.com/marc_shaw"}],"author":{"id":171554,"username":"reprazent","name":"Bob Van Landuyt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/171554/avatar.png","web_url":"https://gitlab.com/reprazent"},"type":"ISSUE","assignee":{"id":5918904,"username":"marc_shaw","name":"Marc Shaw","state":"active","avatar_url":"https://secure.gravatar.com/avatar/78c946cb19e40815a2b5d97cefecec6a?s=80\u0026d=identicon","web_url":"https://gitlab.com/marc_shaw"},"user_notes_count":15,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2022-08-22","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367145","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367145","notes":"https://gitlab.com/api/v4/projects/278964/issues/367145/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367145/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367145","relative":"#367145","full":"gitlab-org/gitlab#367145"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8419,"epic":{"id":570642,"iid":8419,"title":"Modify redis caching strategies to reduce maxmemory events on redis-cache instances","url":"/groups/gitlab-org/-/epics/8419","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":111261463,"iid":367142,"project_id":278964,"title":"Make cards in app/views/projects/pages/_access.html.haml Pajamas-compliant","description":"One or more cards in [`app/views/projects/pages/_access.html.haml`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/views/projects/pages/_access.html.haml) are not Pajamas-compliant. See the [parent epic](https://gitlab.com/groups/gitlab-org/-/epics/8337) for guidance.","state":"closed","created_at":"2022-07-06T14:34:11.883Z","updated_at":"2022-11-22T18:33:13.768Z","closed_at":"2022-08-07T02:08:46.922Z","closed_by":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"labels":["OKR","SUS::Impacting","component:card","devops::manage","frontend","group::composition analysis","pajamas::integrate","priority::1","section::dev","severity::4","type::maintenance","workflow::verification"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"}],"author":{"id":11485645,"username":"thutterer","name":"Thomas Hutterer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11485645/avatar.png","web_url":"https://gitlab.com/thutterer"},"type":"ISSUE","assignee":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367142","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367142","notes":"https://gitlab.com/api/v4/projects/278964/issues/367142/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367142/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367142","relative":"#367142","full":"gitlab-org/gitlab#367142"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8337,"epic":{"id":560577,"iid":8337,"title":"Cards \u003e HAML \u003e Migrate card class to Pajamas::CardComponent","url":"/groups/gitlab-org/-/epics/8337","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":111261456,"iid":367136,"project_id":278964,"title":"Make cards in app/views/projects/pages/_list.html.haml Pajamas-compliant","description":"One or more cards in [`app/views/projects/pages/_list.html.haml`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/views/projects/pages/_list.html.haml) are not Pajamas-compliant. See the [parent epic](https://gitlab.com/groups/gitlab-org/-/epics/8337) for guidance.","state":"closed","created_at":"2022-07-06T14:34:11.717Z","updated_at":"2022-11-22T18:33:34.785Z","closed_at":"2022-08-08T15:16:32.239Z","closed_by":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"labels":["OKR","SUS::Impacting","component:card","devops::manage","frontend","group::composition analysis","pajamas::integrate","priority::1","section::dev","severity::4","type::maintenance","workflow::verification"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"}],"author":{"id":11485645,"username":"thutterer","name":"Thomas Hutterer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11485645/avatar.png","web_url":"https://gitlab.com/thutterer"},"type":"ISSUE","assignee":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367136","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367136","notes":"https://gitlab.com/api/v4/projects/278964/issues/367136/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367136/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367136","relative":"#367136","full":"gitlab-org/gitlab#367136"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8337,"epic":{"id":560577,"iid":8337,"title":"Cards \u003e HAML \u003e Migrate card class to Pajamas::CardComponent","url":"/groups/gitlab-org/-/epics/8337","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":111261432,"iid":367114,"project_id":278964,"title":"Make cards in app/views/shared/admin/_admin_note.html.haml Pajamas-compliant","description":"One or more cards in [`app/views/shared/admin/_admin_note.html.haml`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/views/shared/admin/_admin_note.html.haml) are not Pajamas-compliant. See the [parent epic](https://gitlab.com/groups/gitlab-org/-/epics/8337) for guidance.","state":"closed","created_at":"2022-07-06T14:34:11.715Z","updated_at":"2022-11-22T18:33:35.499Z","closed_at":"2022-08-07T02:14:05.955Z","closed_by":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"labels":["OKR","SUS::Impacting","component:card","devops::manage","frontend","group::composition analysis","pajamas::integrate","priority::1","section::dev","severity::4","type::maintenance","workflow::verification"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"}],"author":{"id":11485645,"username":"thutterer","name":"Thomas Hutterer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11485645/avatar.png","web_url":"https://gitlab.com/thutterer"},"type":"ISSUE","assignee":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367114","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367114","notes":"https://gitlab.com/api/v4/projects/278964/issues/367114/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367114/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367114","relative":"#367114","full":"gitlab-org/gitlab#367114"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8337,"epic":{"id":560577,"iid":8337,"title":"Cards \u003e HAML \u003e Migrate card class to Pajamas::CardComponent","url":"/groups/gitlab-org/-/epics/8337","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":111261430,"iid":367112,"project_id":278964,"title":"Make cards in app/views/shared/_custom_attributes.html.haml Pajamas-compliant","description":"One or more cards in [`app/views/shared/_custom_attributes.html.haml`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/views/shared/_custom_attributes.html.haml) are not Pajamas-compliant. See the [parent epic](https://gitlab.com/groups/gitlab-org/-/epics/8337) for guidance.","state":"closed","created_at":"2022-07-06T14:34:11.696Z","updated_at":"2022-11-22T18:33:38.118Z","closed_at":"2022-10-06T12:53:07.315Z","closed_by":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"labels":["OKR","SUS::Impacting","component:card","devops::manage","frontend","group::foundations","pajamas::integrate","section::dev","severity::4","type::maintenance","workflow::verification"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"}],"author":{"id":11485645,"username":"thutterer","name":"Thomas Hutterer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11485645/avatar.png","web_url":"https://gitlab.com/thutterer"},"type":"ISSUE","assignee":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367112","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367112","notes":"https://gitlab.com/api/v4/projects/278964/issues/367112/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367112/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367112","relative":"#367112","full":"gitlab-org/gitlab#367112"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8337,"epic":{"id":560577,"iid":8337,"title":"Cards \u003e HAML \u003e Migrate card class to Pajamas::CardComponent","url":"/groups/gitlab-org/-/epics/8337","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":111261460,"iid":367140,"project_id":278964,"title":"Make cards in app/views/projects/protected_tags/shared/_create_protected_tag.html.haml Pajamas-compliant","description":"One or more cards in [`app/views/projects/protected_tags/shared/_create_protected_tag.html.haml`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/views/projects/protected_tags/shared/_create_protected_tag.html.haml) are not Pajamas-compliant. See the [parent epic](https://gitlab.com/groups/gitlab-org/-/epics/8337) for guidance.","state":"closed","created_at":"2022-07-06T14:34:11.682Z","updated_at":"2022-11-22T18:33:39.370Z","closed_at":"2022-10-06T13:10:18.156Z","closed_by":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"labels":["OKR","SUS::Impacting","component:card","devops::manage","frontend","group::foundations","pajamas::integrate","section::dev","severity::4","type::maintenance","workflow::verification"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"}],"author":{"id":11485645,"username":"thutterer","name":"Thomas Hutterer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11485645/avatar.png","web_url":"https://gitlab.com/thutterer"},"type":"ISSUE","assignee":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367140","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367140","notes":"https://gitlab.com/api/v4/projects/278964/issues/367140/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367140/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367140","relative":"#367140","full":"gitlab-org/gitlab#367140"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8337,"epic":{"id":560577,"iid":8337,"title":"Cards \u003e HAML \u003e Migrate card class to Pajamas::CardComponent","url":"/groups/gitlab-org/-/epics/8337","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":111261464,"iid":367143,"project_id":278964,"title":"Make cards in app/views/projects/compare/show.html.haml Pajamas-compliant","description":"One or more cards in [`app/views/projects/compare/show.html.haml`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/views/projects/compare/show.html.haml) are not Pajamas-compliant. See the [parent epic](https://gitlab.com/groups/gitlab-org/-/epics/8337) for guidance.","state":"closed","created_at":"2022-07-06T14:34:11.677Z","updated_at":"2022-11-22T18:33:40.749Z","closed_at":"2022-08-07T02:20:39.487Z","closed_by":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"labels":["OKR","SUS::Impacting","component:card","devops::manage","frontend","group::composition analysis","pajamas::integrate","priority::1","section::dev","severity::4","type::maintenance","workflow::verification"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"}],"author":{"id":11485645,"username":"thutterer","name":"Thomas Hutterer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11485645/avatar.png","web_url":"https://gitlab.com/thutterer"},"type":"ISSUE","assignee":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367143","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367143","notes":"https://gitlab.com/api/v4/projects/278964/issues/367143/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367143/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367143","relative":"#367143","full":"gitlab-org/gitlab#367143"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8337,"epic":{"id":560577,"iid":8337,"title":"Cards \u003e HAML \u003e Migrate card class to Pajamas::CardComponent","url":"/groups/gitlab-org/-/epics/8337","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":111261447,"iid":367128,"project_id":278964,"title":"Make cards in app/views/projects/commits/_commit_list.html.haml Pajamas-compliant","description":"One or more cards in [`app/views/projects/commits/_commit_list.html.haml`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/views/projects/commits/_commit_list.html.haml) are not Pajamas-compliant. See the [parent epic](https://gitlab.com/groups/gitlab-org/-/epics/8337) for guidance.","state":"closed","created_at":"2022-07-06T14:34:11.667Z","updated_at":"2022-11-22T18:33:41.403Z","closed_at":"2022-08-07T02:26:03.443Z","closed_by":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"labels":["OKR","SUS::Impacting","component:card","devops::manage","frontend","group::composition analysis","pajamas::integrate","priority::1","section::dev","severity::4","type::maintenance"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"}],"author":{"id":11485645,"username":"thutterer","name":"Thomas Hutterer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11485645/avatar.png","web_url":"https://gitlab.com/thutterer"},"type":"ISSUE","assignee":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367128","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367128","notes":"https://gitlab.com/api/v4/projects/278964/issues/367128/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367128/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367128","relative":"#367128","full":"gitlab-org/gitlab#367128"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8337,"epic":{"id":560577,"iid":8337,"title":"Cards \u003e HAML \u003e Migrate card class to Pajamas::CardComponent","url":"/groups/gitlab-org/-/epics/8337","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":111261428,"iid":367110,"project_id":278964,"title":"Make cards in ee/app/views/projects/protected_environments/_form.html.haml Pajamas-compliant","description":"One or more cards in [`ee/app/views/projects/protected_environments/_form.html.haml`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/views/projects/protected_environments/_form.html.haml) are not Pajamas-compliant. See the [parent epic](https://gitlab.com/groups/gitlab-org/-/epics/8337) for guidance.","state":"closed","created_at":"2022-07-06T14:34:11.651Z","updated_at":"2022-11-22T18:33:42.235Z","closed_at":"2022-09-28T19:50:02.723Z","closed_by":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"labels":["OKR","SUS::Impacting","component:card","devops::manage","frontend","group::foundations","pajamas::integrate","section::dev","severity::4","type::maintenance","workflow::verification"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"}],"author":{"id":11485645,"username":"thutterer","name":"Thomas Hutterer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11485645/avatar.png","web_url":"https://gitlab.com/thutterer"},"type":"ISSUE","assignee":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367110","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367110","notes":"https://gitlab.com/api/v4/projects/278964/issues/367110/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367110/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367110","relative":"#367110","full":"gitlab-org/gitlab#367110"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8337,"epic":{"id":560577,"iid":8337,"title":"Cards \u003e HAML \u003e Migrate card class to Pajamas::CardComponent","url":"/groups/gitlab-org/-/epics/8337","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":111261425,"iid":367107,"project_id":278964,"title":"Make cards in app/views/projects/branches/_panel.html.haml Pajamas-compliant","description":"One or more cards in [`app/views/projects/branches/_panel.html.haml`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/views/projects/branches/_panel.html.haml) are not Pajamas-compliant. See the [parent epic](https://gitlab.com/groups/gitlab-org/-/epics/8337) for guidance.","state":"closed","created_at":"2022-07-06T14:34:11.615Z","updated_at":"2022-11-22T18:33:44.900Z","closed_at":"2022-08-16T07:21:10.320Z","closed_by":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"labels":["OKR","SUS::Impacting","component:card","devops::manage","frontend","group::composition analysis","pajamas::integrate","priority::1","section::dev","severity::4","type::maintenance","workflow::verification"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"}],"author":{"id":11485645,"username":"thutterer","name":"Thomas Hutterer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11485645/avatar.png","web_url":"https://gitlab.com/thutterer"},"type":"ISSUE","assignee":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367107","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367107","notes":"https://gitlab.com/api/v4/projects/278964/issues/367107/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367107/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367107","relative":"#367107","full":"gitlab-org/gitlab#367107"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8337,"epic":{"id":560577,"iid":8337,"title":"Cards \u003e HAML \u003e Migrate card class to Pajamas::CardComponent","url":"/groups/gitlab-org/-/epics/8337","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":111261424,"iid":367106,"project_id":278964,"title":"Make cards in ee/app/views/groups/protected_environments/_form.html.haml Pajamas-compliant","description":"One or more cards in [`ee/app/views/groups/protected_environments/_form.html.haml`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/views/groups/protected_environments/_form.html.haml) are not Pajamas-compliant. See the [parent epic](https://gitlab.com/groups/gitlab-org/-/epics/8337) for guidance.","state":"closed","created_at":"2022-07-06T14:34:11.594Z","updated_at":"2022-11-22T18:33:45.548Z","closed_at":"2022-10-06T12:52:27.676Z","closed_by":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"labels":["OKR","SUS::Impacting","component:card","devops::manage","frontend","group::foundations","pajamas::integrate","section::dev","severity::4","type::maintenance","workflow::verification"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"}],"author":{"id":11485645,"username":"thutterer","name":"Thomas Hutterer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11485645/avatar.png","web_url":"https://gitlab.com/thutterer"},"type":"ISSUE","assignee":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367106","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367106","notes":"https://gitlab.com/api/v4/projects/278964/issues/367106/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367106/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367106","relative":"#367106","full":"gitlab-org/gitlab#367106"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8337,"epic":{"id":560577,"iid":8337,"title":"Cards \u003e HAML \u003e Migrate card class to Pajamas::CardComponent","url":"/groups/gitlab-org/-/epics/8337","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":111261138,"iid":367104,"project_id":278964,"title":"Make cards in app/views/profiles/active_sessions/index.html.haml Pajamas-compliant","description":"One or more cards in [`app/views/profiles/active_sessions/index.html.haml`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/views/profiles/active_sessions/index.html.haml) are not Pajamas-compliant. See the [parent epic](https://gitlab.com/groups/gitlab-org/-/epics/8337) for guidance.","state":"closed","created_at":"2022-07-06T14:30:50.630Z","updated_at":"2022-09-19T09:58:55.123Z","closed_at":"2022-09-19T09:58:55.084Z","closed_by":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"labels":["OKR","SUS::Impacting","Stretch","component:card","devops::secure","frontend","group::composition analysis","pajamas::integrate","priority::1","section::sec","severity::4","type::maintenance","workflow::verification"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"}],"author":{"id":11485645,"username":"thutterer","name":"Thomas Hutterer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11485645/avatar.png","web_url":"https://gitlab.com/thutterer"},"type":"ISSUE","assignee":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367104","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367104","notes":"https://gitlab.com/api/v4/projects/278964/issues/367104/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367104/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367104","relative":"#367104","full":"gitlab-org/gitlab#367104"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8337,"epic":{"id":560577,"iid":8337,"title":"Cards \u003e HAML \u003e Migrate card class to Pajamas::CardComponent","url":"/groups/gitlab-org/-/epics/8337","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":"on_track"},{"id":111261136,"iid":367102,"project_id":278964,"title":"Make cards in app/views/groups/projects.html.haml Pajamas-compliant","description":"One or more cards in [`app/views/groups/projects.html.haml`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/views/groups/projects.html.haml) are not Pajamas-compliant. See the [parent epic](https://gitlab.com/groups/gitlab-org/-/epics/8337) for guidance.","state":"closed","created_at":"2022-07-06T14:30:50.582Z","updated_at":"2022-11-22T18:33:47.548Z","closed_at":"2022-09-28T20:03:55.972Z","closed_by":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"labels":["OKR","SUS::Impacting","component:card","devops::manage","frontend","group::foundations","pajamas::integrate","section::dev","severity::4","type::maintenance","workflow::verification"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"}],"author":{"id":11485645,"username":"thutterer","name":"Thomas Hutterer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11485645/avatar.png","web_url":"https://gitlab.com/thutterer"},"type":"ISSUE","assignee":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367102","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367102","notes":"https://gitlab.com/api/v4/projects/278964/issues/367102/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367102/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367102","relative":"#367102","full":"gitlab-org/gitlab#367102"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8337,"epic":{"id":560577,"iid":8337,"title":"Cards \u003e HAML \u003e Migrate card class to Pajamas::CardComponent","url":"/groups/gitlab-org/-/epics/8337","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":111260593,"iid":367098,"project_id":278964,"title":"Improve efficiency of Discussion caching for merge requests","description":"Currently, we store the serialized discussions in Redis from [`IssuableActions#discussions`](https://gitlab.com/gitlab-org/gitlab/blob/61f92db8f51ee8fb6b3c548d53c73064dc804fba/app/controllers/concerns/issuable_actions.rb#L174). From the investigation in https://gitlab.com/gitlab-com/gl-infra/scalability/-/issues/1601#note_1015069256 this cache key occupied just more than 5GB of memory at the time we sampled.\n\nThe investigation also shows that the keys live quite long without being used (avg idletime of 6 hours), that's lower than the 1 day expiry set on them because we have likely evicted the key before the TTL was expired.\n\nThis cache can't be shared across users, because not all users can see the same information in the rendered notes. \n\nThe cache namespace `cache:gitlab:DiscussionSerializer:` accounted for about 15% of the memory usage of the total `cache:` namespace\n\n### Proposal \n\nSince the cache isn't useful for any other user, and only used by our frontend, would it make sense to switch to client-side (ETag) caching for this instead? This is similar to what we do for the issue discussions in the same controller.","state":"closed","created_at":"2022-07-06T14:23:26.856Z","updated_at":"2022-09-06T06:11:57.659Z","closed_at":"2022-08-17T08:31:20.401Z","closed_by":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"labels":["Category:Code Review Workflow","Deliverable","Error Budget Improvement","backend","devops::create","group::code review","infradev","priority::2","section::dev","severity::2","type::maintenance","workflow::in review"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"}],"author":{"id":171554,"username":"reprazent","name":"Bob Van Landuyt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/171554/avatar.png","web_url":"https://gitlab.com/reprazent"},"type":"ISSUE","assignee":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"user_notes_count":35,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2022-08-22","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367098","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367098","notes":"https://gitlab.com/api/v4/projects/278964/issues/367098/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367098/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367098","relative":"#367098","full":"gitlab-org/gitlab#367098"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8419,"epic":{"id":570642,"iid":8419,"title":"Modify redis caching strategies to reduce maxmemory events on redis-cache instances","url":"/groups/gitlab-org/-/epics/8419","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":111257535,"iid":367090,"project_id":278964,"title":"[Feature flag] Rollout of `contribution_analytics_optimized_base_query`","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout [optimization for Contribution Analytics query](https://gitlab.com/gitlab-org/gitlab/-/issues/362724) on production,\nthat is currently behind the `contribution_analytics_optimized_base_query` feature flag.\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\n## Owners\n\n- Team: Optimize\n- Most appropriate slack channel to reach out to: `#g_manage_optimize`\n- Best individual to reach out to: @m_frankiewicz @ahegyi \n- PM: @hsnir1 \n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## Expectations\n\n### What are we expecting to happen?\n\nWe expect that after the index `index_on_events_to_improve_contribution_analytics_performance` is applied, [optimized query](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/91468#new-version-of-changed-query) would perform better than [previous query version](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/91468#previous-version-of-changed-query).\n\n\nBefore turning on the flag we see for the last 7 days (last day 2022/07/15), notice duration of the query, from \u003e 5 to \u003e 1 second:\n\n\n![Screen_Shot_2022-07-15_at_11.05.56_AM](/uploads/f207872fcc9b8f9fd02625a88d52c007/Screen_Shot_2022-07-15_at_11.05.56_AM.png)\n\n![Screen_Shot_2022-07-15_at_11.05.34_AM](/uploads/e7968c17586615d40d2ea98bcae3e034/Screen_Shot_2022-07-15_at_11.05.34_AM.png)\n\n![Screen_Shot_2022-07-15_at_11.05.13_AM](/uploads/12016cbe45880b6d6df750aff57e1310/Screen_Shot_2022-07-15_at_11.05.13_AM.png)\n\n\n![Screen_Shot_2022-07-15_at_11.04.33_AM](/uploads/26bd69acde2ea9cbd9ae92669bee9c7a/Screen_Shot_2022-07-15_at_11.04.33_AM.png)\n\n![Screen_Shot_2022-07-15_at_11.02.05_AM](/uploads/f2ff7d9d2f8bd4b7f485182d690a8a79/Screen_Shot_2022-07-15_at_11.02.05_AM.png)\n\n\n#### Update: check on 2022-07-22 (~ week after the screenshots above were taken)\n\n![Screen_Shot_2022-07-22_at_9.55.28_AM](/uploads/6cb577a188570dbc6e0065e55931978e/Screen_Shot_2022-07-22_at_9.55.28_AM.png)\n\n![Screen_Shot_2022-07-22_at_9.55.12_AM](/uploads/863cc9c89dfa1547748d7c7716c33d45/Screen_Shot_2022-07-22_at_9.55.12_AM.png)\n\n![Screen_Shot_2022-07-22_at_9.54.53_AM](/uploads/b9288ff416eb9f81e555284ce3e5ce5f/Screen_Shot_2022-07-22_at_9.54.53_AM.png)\n\n![Screen_Shot_2022-07-22_at_9.54.37_AM](/uploads/517b005d92e6b251894f16bb3a961272/Screen_Shot_2022-07-22_at_9.54.37_AM.png)\n\n![Screen_Shot_2022-07-22_at_9.54.11_AM](/uploads/da1fb217e868e1273d6a7c40bb0c5e29/Screen_Shot_2022-07-22_at_9.54.11_AM.png)\n\n### When is the feature viable?\n\n\u003c!-- What are the settings we need to configure in order to have this feature viable? --\u003e\n\n\u003c!-- \nExample below:\n \n1. Enable service ping collection\n   `ApplicationSetting.first.update(usage_ping_enabled: true)`\n--\u003e\n\n### What might happen if this goes wrong?\n\n[Optimized query](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/91468#new-version-of-changed-query) performs worse than [previous query version](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/91468#previous-version-of-changed-query).\n\n\u003c!-- Should the feature flag be turned off? Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n_Consider mentioning checks for 5xx errors or other anomalies like an increase in redirects \n(302 HTTP response status)_\n\nCheck [Kibana](https://log.gprd.gitlab.net/goto/1adafc70-d6b0-11ec-aade-19e9974a7229), compare long query occurrences to those posted above.\n\n### What can we check for monitoring production after rollouts?\n\n_Consider adding links to check for Sentry errors, Production logs for 5xx, 302s, etc._\n\nCheck [Kibana](https://log.gprd.gitlab.net/goto/1adafc70-d6b0-11ec-aade-19e9974a7229), compare long query occurrences to those posted above.\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Enable the feature globally on non-production environments.\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e true --dev --staging --staging-ref`\n- [ ] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n      The best environment to validate the feature in is [staging-canary](https://about.gitlab.com/handbook/engineering/infrastructure/environments/#staging-canary)\n      as this is the first environment deployed to. Note you will need to make sure you are configured to use canary as outlined [here](https://about.gitlab.com/handbook/engineering/infrastructure/environments/canary-stage/)\n      when accessing the staging environment in order to make sure you are testing appropriately.\n\n### Specific rollout on production\n\n- Ensure that the feature MRs have been deployed to both production and canary.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- If you're using [project-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --project=gitlab-org/gitlab,gitlab-org/gitlab-foss,gitlab-com/www-gitlab-com \u003cfeature-flag-name\u003e true`\n- If you're using [group-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --group=gitlab-org,gitlab-com \u003cfeature-flag-name\u003e true`\n- If you're using [user-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --user=\u003cyour-username\u003e \u003cfeature-flag-name\u003e true`\n- [ ] Verify that the feature works on the specific entries. Posting the QA result in this issue is preferable.\n\n### Preparation before global rollout\n\n- [ ] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [ ] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [ ] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [ ] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com. \n- [ ] Ensure that any breaking changes have been announced following the [release post process](https://about.gitlab.com/handbook/marketing/blog/release-posts/#deprecations-removals-and-breaking-changes) to ensure GitLab customers are aware.\n- [ ] Notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nFor visibility, all `/chatops` commands that target production should be executed in the `#production` slack channel and cross-posted (with the command results) to the responsible team's slack channel (`#g_TEAM_NAME`).\n\n- [ ] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e --random`\n  - Enable the feature globally on production environment.\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e true`\n- [x] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [ ] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [ ] Create a merge request with the following changes. Ask for review and merge it.\n    - [ ] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the default-enabling MR has been included in the release package.\n      If the merge request was deployed before [the monthly release was tagged](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run release check \u003cmerge-request-url\u003e \u003cmilestone\u003e`\n- [ ] Consider cleaning up the feature flag from all environments by running these chatops command in `#production` channel. Otherwise these settings may override the default enabled.\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --dev --staging --staging-ref --production`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [ ] (Optional) You can [create a separate issue](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [ ] Set the title to \"[Feature flag] Cleanup `\u003cfeature-flag-name\u003e`\".\n    - [ ] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [ ] Link this rollout issue as a related issue.\n    - [ ] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\nYou can either [create a follow-up issue for Feature Flag Cleanup](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) or use the checklist below in this same issue.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [ ] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag. Ask for review and merge it.\n    - [ ] Remove all references to the feature flag from the codebase.\n    - [ ] Remove the YAML definitions for the feature from the repository.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the cleanup MR has been included in the release package.\n      If the merge request was deployed before [the monthly release was tagged](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run release check \u003cmerge-request-url\u003e \u003cmilestone\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] If not already done, clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --dev --staging --staging-ref --production`\n- [ ] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set \u003cfeature-flag-name\u003e false\n```","state":"closed","created_at":"2022-07-06T13:33:36.958Z","updated_at":"2022-09-20T10:50:56.420Z","closed_at":"2022-09-20T10:50:56.368Z","closed_by":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"labels":["Error Budget Improvement","backend","bug::performance","devops::manage","feature flag","feature::addition","group::optimize","priority::3","section::dev","severity::4","type::bug","workflow::production"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"}],"author":{"id":4826728,"username":"m_frankiewicz","name":"Magdalena Frankiewicz","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ca314fa77051f58ced6e3e5bf7f0dd48?s=80\u0026d=identicon","web_url":"https://gitlab.com/m_frankiewicz"},"type":"ISSUE","assignee":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"user_notes_count":4,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367090","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":46,"completed_count":5},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"5 of 46 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367090","notes":"https://gitlab.com/api/v4/projects/278964/issues/367090/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367090/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367090","relative":"#367090","full":"gitlab-org/gitlab#367090"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":111256918,"iid":367088,"project_id":278964,"title":"Cleanup spec for N+1 environments check on merge requests controller","description":"Clean up Rspec as noted in https://gitlab.com/gitlab-org/gitlab/-/issues/29791#note_1017711969\n\n### Proposed cleanup diff\n\n```diff\ndiff --git a/spec/controllers/projects/merge_requests_controller_spec.rb b/spec/controllers/projects/merge_requests_controller_spec.rb\nindex 8ccbc0d3fe2..a943a5e0205 100644\n--- a/spec/controllers/projects/merge_requests_controller_spec.rb\n+++ b/spec/controllers/projects/merge_requests_controller_spec.rb\n@@ -1894,15 +1894,12 @@ def post_assign_issues\n         # First run to insert test data from lets, which does take up some 30 queries\n         get_ci_environments_status\n\n-        control_count = ActiveRecord::QueryRecorder.new(skip_cached: false) { get_ci_environments_status }.count\n+        control_count = ActiveRecord::QueryRecorder.new { get_ci_environments_status }\n\n         environment2 = create(:environment, project: forked)\n         create(:deployment, :succeed, environment: environment2, sha: sha, ref: 'master', deployable: build)\n\n-        # TODO address the last 3 queries\n-        # See https://gitlab.com/gitlab-org/gitlab-foss/issues/63952 (3 queries)\n-        leeway = 3\n-        expect { get_ci_environments_status }.not_to exceed_all_query_limit(control_count + leeway)\n+        expect { get_ci_environments_status }.not_to exceed_all_query_limit(control_count)\n       end\n     end\n```","state":"closed","created_at":"2022-07-06T13:23:55.253Z","updated_at":"2022-08-05T16:24:26.225Z","closed_at":"2022-08-05T16:24:26.202Z","closed_by":{"id":5622641,"username":"nicolewilliams","name":"Nicole Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5622641/avatar.png","web_url":"https://gitlab.com/nicolewilliams"},"labels":["Category:Environment Management","Community contribution","Next Up","Release::P3","[deprecated] low hanging fruit","backend","devops::release","good for new contributors","group::release","maintenance::refactor","section::ops","type::maintenance"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":6010931,"username":"imskr","name":"Shubham Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6010931/avatar.png","web_url":"https://gitlab.com/imskr"}],"author":{"id":9253328,"username":"bala.kumar","name":"Bala Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9253328/avatar.png","web_url":"https://gitlab.com/bala.kumar"},"type":"ISSUE","assignee":{"id":6010931,"username":"imskr","name":"Shubham Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6010931/avatar.png","web_url":"https://gitlab.com/imskr"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367088","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367088","notes":"https://gitlab.com/api/v4/projects/278964/issues/367088/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367088/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367088","relative":"#367088","full":"gitlab-org/gitlab#367088"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":111247840,"iid":367045,"project_id":278964,"title":"Milestones are reopened when a project with closed group milestones is transferred between groups","description":"### Summary\n\nProject transfer: milestones are reopened when a project with closed group milestones is transferred between groups.\n\n### Steps to reproduce\n\n- create a project `test-project01` in group `test-group-01` \n- create some milestones on the group level in `test-group-01`: `release-1.1` and `release-1.2`\n- create issues and merge requests in the project `test-project01` and assign milestones to them\n- close both group milestones\n- create another group `test-group02` and group milestones there: `release-2.1` and `release-2.2`\n- transfer the project `test-project01` to `test-group02`\n- check the status of the old milestones assigned to issues MRs: both of them were converted to project milestones, and both of them are back in open status\n\n### What is the current *bug* behavior?\n\nMilestones are reopened when a project with closed group milestones is transferred between groups.\n\n### What is the expected *correct* behavior?\n\nMilestones should remain closed when a project with closed group milestones is transferred between groups.\n\n### Relevant logs and/or screenshots\n\nn/a\n\n### Output of checks\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\nSystem information\nSystem:   Debian 10\nProxy:    no\nCurrent User: git\nUsing RVM:  no\nRuby Version: 2.7.5p203\nGem Version:  3.1.4\nBundler Version:2.3.15\nRake Version: 13.0.6\nRedis Version:  6.2.7\nSidekiq Version:6.4.0\nGo Version: unknown\n\nGitLab information\nVersion:  15.1.0-ee\nRevision: 31c24d2d864\nDirectory:  /opt/gitlab/embedded/service/gitlab-rails\nDB Adapter: PostgreSQL\nDB Version: 12.10\nURL:    https://gitlabhost.tld\nHTTP Clone URL: https://gitlabhost.tld/some-group/some-project.git\nSSH Clone URL:  git@gitlabhost.tld:some-group/some-project.git\nElasticsearch:  no\nGeo:    no\nUsing LDAP: yes\nUsing Omniauth: yes\nOmniauth Providers:\n\nGitLab Shell\nVersion:  14.7.4\nRepository storage paths:\n- default:  /var/opt/gitlab/git-data/repositories\nGitLab Shell path:    /opt/gitlab/embedded/service/gitlab-shell\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\nn/a\n\n### Additional information\n\nThe issue has been found by one of our Ultimate customers: [internal ZD ticket](https://gitlab.zendesk.com/agent/tickets/303872), also mentioned in https://gitlab.com/gitlab-org/gitlab/-/issues/366479.","state":"closed","created_at":"2022-07-06T11:01:17.219Z","updated_at":"2022-11-13T14:03:35.797Z","closed_at":"2022-11-04T09:33:37.568Z","closed_by":{"id":3483274,"username":"acroitor","name":"Alexandru Croitor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/461378ef52c26eec55e6c15ec09bb9ed?s=80\u0026d=identicon","web_url":"https://gitlab.com/acroitor"},"labels":["customer","devops::plan","group::project management","priority::4","section::dev","severity::4","type::bug","workflow::production"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":3483274,"username":"acroitor","name":"Alexandru Croitor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/461378ef52c26eec55e6c15ec09bb9ed?s=80\u0026d=identicon","web_url":"https://gitlab.com/acroitor"}],"author":{"id":1990167,"username":"atanayno","name":"Alexandr Tanayno","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1990167/avatar.png","web_url":"https://gitlab.com/atanayno"},"type":"ISSUE","assignee":{"id":3483274,"username":"acroitor","name":"Alexandru Croitor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/461378ef52c26eec55e6c15ec09bb9ed?s=80\u0026d=identicon","web_url":"https://gitlab.com/acroitor"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367045","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367045","notes":"https://gitlab.com/api/v4/projects/278964/issues/367045/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367045/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367045","relative":"#367045","full":"gitlab-org/gitlab#367045"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":111242305,"iid":367037,"project_id":278964,"title":"Follow-up from \"Cache external MR diffs on disk during Project Export to speed up export process\"","description":"The following discussion from !90159 should be addressed:\n\n- [ ] @georgekoltsov started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/90159#note_997994183):  (+2 comments)\n\n    \u003e If anything went wrong, fallback to the old method of diff retrieval.\n\n\u003e We probably want to log a exception if this happens?","state":"closed","created_at":"2022-07-06T09:29:32.686Z","updated_at":"2022-07-07T13:27:17.557Z","closed_at":"2022-07-07T13:27:17.540Z","closed_by":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"labels":["Category:Importers","Importer:GitLab Migration","devops::manage","group::import","section::dev","type::maintenance"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"}],"author":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"type":"ISSUE","assignee":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367037","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367037","notes":"https://gitlab.com/api/v4/projects/278964/issues/367037/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367037/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367037","relative":"#367037","full":"gitlab-org/gitlab#367037"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":111241559,"iid":367034,"project_id":278964,"title":"Active attacks can inject into multipart form value request bodies","description":"\n### Purpose\n\nBrowsers can encode the body of a request multiple ways when a form is submitted by the user. One of these is `multipart/form-data`.\n\nForm values POSTed using this content type should be parsed so that injection locations are created for each field. Injection locations should not be created for file upload fields.\n\n### Example \n\nFor a request that has the header `Content-Type: multipart/form-data; boundary=WebkitFormBoundary1234` and the body:\n\n```\n--WebkitFormBoundary1234\nContent-Disposition: form-data; name=user\n\nfred\n--WebkitFormBoundary1234\nContent-Disposition: form-data; name=pwd\n\nPa$$w0rd\n--WebkitFormBoundary1234--\n```\n\nTwo injection locations should be created, one that substitutes the field `user`, and one which substitutes the field `pwd`.\n\n### Implementation plan\n\n- Build an implementation of `browserk.InjectionLocation`, called `MultipartFormDataInjectionLocation`.\n- The new type should define a `Find...` method that returns an `browserk.InjectionLocationDetector`. This method should find all possible injection locations.\n  - Add the Find method to the `InitializeInjectionLocationDetectionService` in DI\n  - Go libraries should be used to parse a multipart form request. For an example, see `HTTPRequest.FormValues`.\n  - Query string parameters should not result in an injection location (this is handled separately in `QueryParameterValueInjectionLocation`)\n  - Form URL encoded form submit post request bodies should not result in an injection location (this is handled separately by `XWWWFormURLEncodedBodyInjectionLocation`)\n- The `Modify` method should recreate a `multipart/form-data` request body. The `injection` should be used in place of the injection location's value. Update the `browserk.AttackRequest` with the new body.\n- Ensure that proper encoding is used (may have to look up the RFC specification)\n- Uploading files often uses multipart form data requests, these are likely not going to be supported as an injection location (please test)\n- This must be very well unit tested, including both happy and sad paths. Please look up examples of how this request body can be formatted and ensure they work.\n- Please add an integration test (example: `TestCheck22_1WithQueryParameterInjection`)\n\n### Reference\n\nAn example equivalent MR of adding a similar injection location is [Add query parameter injection location to active attacks](https://gitlab.com/gitlab-org/security-products/analyzers/browserker/-/merge_requests/745)","state":"closed","created_at":"2022-07-06T09:18:24.884Z","updated_at":"2022-10-17T03:22:38.203Z","closed_at":"2022-10-14T05:11:58.943Z","closed_by":{"id":8995688,"username":"atiwari71","name":"Aditya Tiwari","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8995688/avatar.png","web_url":"https://gitlab.com/atiwari71"},"labels":["Category:DAST","dast::browserker","devops::secure","good for new contributors","group::dynamic analysis","missed:15.4","section::sec","type::feature"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":8995688,"username":"atiwari71","name":"Aditya Tiwari","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8995688/avatar.png","web_url":"https://gitlab.com/atiwari71"}],"author":{"id":4312863,"username":"cam_swords","name":"Cameron Swords","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3b729cf96bcced6384ebb94f0362bd4b?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam_swords"},"type":"ISSUE","assignee":{"id":8995688,"username":"atiwari71","name":"Aditya Tiwari","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8995688/avatar.png","web_url":"https://gitlab.com/atiwari71"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367034","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367034","notes":"https://gitlab.com/api/v4/projects/278964/issues/367034/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367034/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367034","relative":"#367034","full":"gitlab-org/gitlab#367034"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8343,"epic":{"id":562455,"iid":8343,"title":"Add active check injection locations","url":"/groups/gitlab-org/-/epics/8343","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":111241490,"iid":367033,"project_id":278964,"title":"Active attacks can inject into JSON request bodies","description":"\n### Purpose\n\nRequest bodies that are JSON should be injected with active check attacks. Injection locations should be created for string values in the JSON request. A maximum of 5 injection locations should be created.\n\n### Example \n\nA request that sends the body:\n\n```json\n{\n  \"metadata\": {\n    \"version\": \"1234\"\n  },\n  \"search\": {\n    \"file\": {\n      \"name\": \"foobar\",\n      \"size\": 1000\n    }\n  }\n}\n```\n\nTwo injection locations should be created, one for `metadata.version` and one for `search.file.name`.\n\n### Implementation plan\n\n- [x] Build an implementation of `browserk.InjectionLocation`, called `JSONInjectionLocation`.\n- [x] The new type should define a `Find...` method that returns an `browserk.InjectionLocationDetector`. This method should find all possible injection locations.\n  - Add the Find method to the `InitializeInjectionLocationDetectionService` in DI\n  - The Go JSON library should be used to parse the JSON\n  - A maximum of 5 locations should be found. This should be deterministic, given the same JSON it should return the same 5 locations.\n- [x] The `Modify` method should recreate a JSON request body. The `injection` should be used in place of the injection location's value. Update the `browserk.AttackRequest` with the new body.\n- [x] Ensure that proper encoding is used (may have to look up the RFC specification)\n- [x] This must be very well unit tested, including both happy and sad paths. Please look up examples of how this request body can be formatted and ensure they work.\n  - [x] What happens when the JSON is malformed? (please write a test case)\n- [x] Please add an integration test (example: `TestCheck22_1WithQueryParameterInjection`)\n- [x] Handle arrays of objects/strings\n\n### Reference\n\nAn example equivalent MR of adding a similar injection location is [Add query parameter injection location to active attacks](https://gitlab.com/gitlab-org/security-products/analyzers/browserker/-/merge_requests/745)","state":"closed","created_at":"2022-07-06T09:17:17.649Z","updated_at":"2022-09-19T03:27:58.965Z","closed_at":"2022-09-13T11:08:42.635Z","closed_by":{"id":4312863,"username":"cam_swords","name":"Cameron Swords","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3b729cf96bcced6384ebb94f0362bd4b?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam_swords"},"labels":["Category:DAST","dast::browserker","devops::secure","good for new contributors","group::dynamic analysis","section::sec","type::feature","workflow::start"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":8995688,"username":"atiwari71","name":"Aditya Tiwari","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8995688/avatar.png","web_url":"https://gitlab.com/atiwari71"}],"author":{"id":4312863,"username":"cam_swords","name":"Cameron Swords","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3b729cf96bcced6384ebb94f0362bd4b?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam_swords"},"type":"ISSUE","assignee":{"id":8995688,"username":"atiwari71","name":"Aditya Tiwari","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8995688/avatar.png","web_url":"https://gitlab.com/atiwari71"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/367033","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":8,"completed_count":8},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"8 of 8 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/367033","notes":"https://gitlab.com/api/v4/projects/278964/issues/367033/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/367033/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#367033","relative":"#367033","full":"gitlab-org/gitlab#367033"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8343,"epic":{"id":562455,"iid":8343,"title":"Add active check injection locations","url":"/groups/gitlab-org/-/epics/8343","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":111205459,"iid":366945,"project_id":278964,"title":"Investigate why  _OVERRIDES_CMD seems not to execute commands along with the parameters","description":"## Problem\n\nIn order to use the override feature in API Security, it has been set the configuration variable: `DAST_API_OVERRIDES_CMD: python $CI_PROJECT_DIR/renew_token.py` .\nIt is expected to execute `python` command using as parameter `$CI_PROJECT_DIR/renew_token.py`. The command does not get executed properly.\nIt seems that as the override wraps the CMD in a `bash -c`, it wasn't picking up the command/context, properly. \n\n## Workaround\nRemoving the `python` from the command, and relying on the `env` setting in the `.py` \n\n## Issues\n\n- Relates to issue https://gitlab.com/gitlab-org/gitlab/-/issues/364046 in specific https://gitlab.com/gitlab-org/gitlab/-/issues/364046#note_1016615094\n\n\n/cc @mikeeddington @sethgitlab @derekferguson @DavidNelsonGL","state":"closed","created_at":"2022-07-05T17:24:44.166Z","updated_at":"2022-07-13T14:04:17.029Z","closed_at":"2022-07-12T16:16:03.045Z","closed_by":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"labels":["Category:API Security","devops::secure","group::dynamic analysis","milestone::p1","priority::3","section::sec","severity::3","type::bug","workflow::production"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"}],"author":{"id":7488329,"username":"herbmadrigal","name":"Herber Madrigal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7488329/avatar.png","web_url":"https://gitlab.com/herbmadrigal"},"type":"ISSUE","assignee":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"user_notes_count":1,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366945","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366945","notes":"https://gitlab.com/api/v4/projects/278964/issues/366945/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366945/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366945","relative":"#366945","full":"gitlab-org/gitlab#366945"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":111201055,"iid":366936,"project_id":278964,"title":"Expensive query on /admin/applications times out - Remove \"clients\" column","description":"\u003c!--\nTriage of infradev Issues is desired to occur asynchronously.\nFor maximum efficiency, please ensure the following, so that your infradev issues can gain maximum traction.\n\nhttps://about.gitlab.com/handbook/engineering/workflow/#a-guide-to-creating-effective-infradev-issues\n--\u003e\n\n## Summary\n\u003c!--\nClearly state the scope of the problem, and how it affects GitLab.com\n--\u003e\n\nThere is a query on `/admin/applications` that is preventing the page from loading (it produces a 500 error).\n\n\n## Impact\n\u003c!--\n- Quantify the effect of the problem to help ensure that correct prioritization occurs.\n- Include costs to availability. The Incident Budget Explorer dashboard can help here.\n- Include the number of times alerts have fired owing to the problem, how much time was spent dealing with the problem, and how many people were involved.\n- Link to affected incidents, and cross-reference them as related issues.\n- Include screenshots of visualization from Grafana or Kibana.\n- Always include a permalink to the source of the screenshot so that others can investigate further.\n--\u003e\n\nThis makes it impossible to perform changes to any of our applications in production. A recent example of such a change: https://gitlab.com/gitlab-com/gl-infra/production/-/issues/7270.\n\n\n## Analysis\n\nThe query in question is:\n\n```sql\n/*application:web,correlation_id:01G77F4G77Q579EYMQA3HA6760,endpoint_id:Admin::ApplicationsController#index,db_config_name:main_replica*/ SELECT COUNT(DISTINCT \"oauth_access_tokens\".\"resource_owner_id\") AS count_resource_owner_id, \"oauth_access_tokens\".\"application_id\" AS oauth_access_tokens_application_id FROM \"oauth_access_tokens\" WHERE \"oauth_access_tokens\".\"application_id\" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13) GROUP BY \"oauth_access_tokens\".\"application_id\"\n```\n\nA query plan (`EXPLAIN ANALYZE`) can be seen here: https://explain.depesz.com/s/yg6i.\n\nIt appears the page is trying to calculate a unique count of resource owners per token for the set of applications on that page. In doing so, it spends almost 2 minutes scanning over a million rows, reading 2 GB of data from disk.\n\n## Recommendation\n\u003c!--\nProvide a clear, unambiguous, self-contained solution to the problem.\n--\u003e\n\n\u003cs\u003eWe should not try to run that query, as computing the count is prohibitively expensive. If we must, we should at the very least degrade gracefully if those counts cannot be loaded, and display the rest of the page without counts instead.\u003c/s\u003e\n\nThe proposal in this case is to remove the column from the UI and subsequently the query. \n\n\n## Verification\n\u003c!--\nProvide a method for validating that the original issue still exists.\n\nHaving a way of checking validity can save on a great deal of back-and-forth discussion between Infradev Triage participants including Engineering Managers, Directors and Product Managers and make space for other non-resolved issues to get scheduled sooner.\n\nIdeally, provide a link to a Thanos query or an ELK query and clear instructions on how to interpret the results to determine whether the problem is still occurring.\n--\u003e\n\nThis can be verified by visiting https://gitlab.com/admin/applications with an admin account.\n\n\u003c!--\nWorkflow and other relevant labels\n\nSee also:\n- https://about.gitlab.com/handbook/engineering/quality/issue-triage/#availability\n- https://about.gitlab.com/handbook/product/categories/\n- https://gitlab.com/gitlab-com/www-gitlab-com/blob/master/data/stages.yml\n--\u003e","state":"closed","created_at":"2022-07-05T16:00:24.155Z","updated_at":"2022-08-30T09:11:32.128Z","closed_at":"2022-08-16T12:41:38.328Z","closed_by":{"id":4554599,"username":"m_gill","name":"Michelle Gill","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4554599/avatar.png","web_url":"https://gitlab.com/m_gill"},"labels":["backend complete","devops::manage","group::authentication and authorization","infradev","priority::3","section::dev","severity::3","type::bug","workflow::verification"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":12188811,"username":"tachyons-gitlab","name":"Aboobacker MK","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12188811/avatar.png","web_url":"https://gitlab.com/tachyons-gitlab"}],"author":{"id":876203,"username":"igorwwwwwwwwwwwwwwwwwwww","name":"Igor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/876203/avatar.png","web_url":"https://gitlab.com/igorwwwwwwwwwwwwwwwwwwww"},"type":"ISSUE","assignee":{"id":12188811,"username":"tachyons-gitlab","name":"Aboobacker MK","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12188811/avatar.png","web_url":"https://gitlab.com/tachyons-gitlab"},"user_notes_count":17,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366936","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366936","notes":"https://gitlab.com/api/v4/projects/278964/issues/366936/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366936/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366936","relative":"#366936","full":"gitlab-org/gitlab#366936"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":111199974,"iid":366932,"project_id":278964,"title":"Link bubble menu doesn’t display URL and title field for new links in the Content Editor","description":"\n### Summary\n\nThe bubble menu to edit links in the Content Editor doesn’t display the Title and URL form when the link doesn’t have this data. This happens after opening the bubble menu for the first time and then trying to create a 2nd link. I also notice that I have to click the Cancel button two times if I type text in the Title field.\n\n### Steps to reproduce\n\nSee the videos below.\n\n### Example Project\n\nWe can reproduce this problem on any project with Wikis enabled. \n\n### What is the current *bug* behavior?\n\n1. The link bubble menu stays in an incorrect state after clicking the Cancel button.\n2. If I enter a value in the URL field, I have to click \"Cancel\" twice to hide the bubble menu.\n\n### What is the expected *correct* behavior?\n\n- The URL and Title form appears when a link doesn’t have a URL set.\n- I don’t have to click cancel  \n\n### Relevant logs and/or screenshots\n\n![2022-07-04_22.53.04](/uploads/fd3cae2cbedd397749f053d69bdd0817/2022-07-04_22.53.04.gif)\n\n![2022-07-05_11.35.16](/uploads/3b640cc7c6c4bded03ffe7de63b5f11f/2022-07-05_11.35.16.gif)\n\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e","state":"closed","created_at":"2022-07-05T15:39:48.348Z","updated_at":"2022-09-22T13:33:37.919Z","closed_at":"2022-09-02T15:41:59.091Z","closed_by":{"id":3540517,"username":"ealcantara","name":"Enrique Alcántara","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3540517/avatar.png","web_url":"https://gitlab.com/ealcantara"},"labels":["Content Editor","bug::ux","devops::create","frontend","group::editor","section::dev","type::bug","workflow::verification"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":2398164,"username":"himkp","name":"Himanshu Kapoor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2398164/avatar.png","web_url":"https://gitlab.com/himkp"},{"id":3540517,"username":"ealcantara","name":"Enrique Alcántara","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3540517/avatar.png","web_url":"https://gitlab.com/ealcantara"}],"author":{"id":3540517,"username":"ealcantara","name":"Enrique Alcántara","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3540517/avatar.png","web_url":"https://gitlab.com/ealcantara"},"type":"ISSUE","assignee":{"id":2398164,"username":"himkp","name":"Himanshu Kapoor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2398164/avatar.png","web_url":"https://gitlab.com/himkp"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366932","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366932","notes":"https://gitlab.com/api/v4/projects/278964/issues/366932/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366932/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366932","relative":"#366932","full":"gitlab-org/gitlab#366932"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":111198419,"iid":366930,"project_id":278964,"title":"License Compliance - Update computed props to access correct field in JSON response for denied license","description":"We need to align the frontend fields with the backend fields `has_denied_licenses` https://gitlab.com/gitlab-org/gitlab/-/merge_requests/90841 and `approval_required` https://gitlab.com/gitlab-org/gitlab/-/merge_requests/87150","state":"closed","created_at":"2022-07-05T15:17:23.531Z","updated_at":"2022-07-11T03:22:51.845Z","closed_at":"2022-07-11T03:04:29.128Z","closed_by":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"labels":["Category:License Compliance","GitLab Ultimate","UX","devops::secure","feature::enhancement","frontend","group::composition analysis","merge request widget","section::sec","type::feature","workflow::verification"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"}],"author":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"type":"ISSUE","assignee":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366930","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366930","notes":"https://gitlab.com/api/v4/projects/278964/issues/366930/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366930/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366930","relative":"#366930","full":"gitlab-org/gitlab#366930"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7763,"epic":{"id":476528,"iid":7763,"title":"[MR Widget Eng] - License Compliance MR widget extension migration feature parity with legacy widget","url":"/groups/gitlab-org/-/epics/7763","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":111197250,"iid":366928,"project_id":278964,"title":"Same access token can appear duplicated in different pages","description":"After the introduction of [pagination for access tokens](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/91372) the same token can appear in different pages.\n\nThis is caused by sorting of the query by an optional field `expires_at`. Because the `order by` clause is not deterministic the results are not stable and _could_ cause the same token to appear in several pages. \n\nHere is an example:\n\n```\ngitlabhq_development=# delete from personal_access_tokens;\nDELETE 1000\n\ngitlabhq_development=# DO $$                                                                                                                                      \n  BEGIN \n    FOR X IN 1..1000 LOOP\n      INSERT INTO \"personal_access_tokens\" (name, created_at, updated_at, user_id) VALUES (X, '2022-06-02', '2022-06-02', 1);\n    END LOOP;\n  END;\n$$;\n\ngitlabhq_development=# SELECT name FROM personal_access_tokens WHERE user_id = 1 ORDER BY expires_at ASC LIMIT 10 OFFSET 0;\n name\n------\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n 10\n 1\n(10 rows)\n\ngitlabhq_development=# SELECT name FROM personal_access_tokens WHERE user_id = 1 ORDER BY expires_at ASC LIMIT 10 OFFSET 10;\n name\n------\n 12\n 13\n 14\n 15\n 16\n 17\n 18\n 19\n 20\n 1\n(10 rows)\n```\n\nAlthough different offset were requested, token `1` appeared repeated in the results of both queries. Also note that this is not always reproducible. \n\nThe solution for this is to order by both `expired_at` and `id`. In case of two tokens not having `expired_at` the sorting will be decided based on `id`, which is guaranteed. Sorting by `id` is equivalent to sorting by `created_at`.\n\nExample:\n\n```\ngitlabhq_development=# SELECT name FROM personal_access_tokens WHERE user_id = 1 ORDER BY expires_at ASC, id ASC LIMIT 10 OFFSET 0;\n name\n------\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n 10\n(10 rows)\n\ngitlabhq_development=# SELECT name FROM personal_access_tokens WHERE user_id = 1 ORDER BY expires_at ASC, id ASC LIMIT 10 OFFSET 10;\n name\n------\n 11\n 12\n 13\n 14\n 15\n 16\n 17\n 18\n 19\n 20\n(10 rows)\n```","state":"closed","created_at":"2022-07-05T14:58:18.728Z","updated_at":"2022-08-01T18:21:59.480Z","closed_at":"2022-08-01T18:21:59.470Z","closed_by":{"id":4554599,"username":"m_gill","name":"Michelle Gill","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4554599/avatar.png","web_url":"https://gitlab.com/m_gill"},"labels":["backend","devops::manage","group::authentication and authorization","section::dev","type::bug","workflow::verification"],"milestone":null,"assignees":[{"id":11811081,"username":"sgarg_gitlab","name":"Smriti Garg","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11811081/avatar.png","web_url":"https://gitlab.com/sgarg_gitlab"}],"author":{"id":11004366,"username":"eduardosanz","name":"Eduardo Sanz García","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11004366/avatar.png","web_url":"https://gitlab.com/eduardosanz"},"type":"ISSUE","assignee":{"id":11811081,"username":"sgarg_gitlab","name":"Smriti Garg","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11811081/avatar.png","web_url":"https://gitlab.com/sgarg_gitlab"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366928","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366928","notes":"https://gitlab.com/api/v4/projects/278964/issues/366928/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366928/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366928","relative":"#366928","full":"gitlab-org/gitlab#366928"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":111191116,"iid":366919,"project_id":278964,"title":"Limit recent activity widget data to 1000","description":"## Summary\n\nAs part of load reducing initiative we should consider changing \"Recent activity\" widget to be faster. Currently it calculates number of recently created issues, MRs and added users. Corresponding queries load way too much data which leads to slow queries or even timeouts for large groups.\n\nHere is my couple assumptions on \"recent activity\" widget.\n\n1. Main use case is to estimate how active is an open sourced public project. Not that useful for private projects since those are not publicly visible.\n2. Exact number doesn't matter much. Degree of activity is what that matters.\n\n## Suggestion\n\nLimit counters to 1000. So if a group has 1000 or more recent issues we can display \"1000+\". Same for MRs and members added.\n\n* ~frontend add a limit param to the API calls for 1001 records. If the value returned from the API = the limit, display the limit value minus 1 and a '+' i.e. if the limit is 1001 display `1000+`. Add a tooltip which says \"More than 1,000\".\n* ~backend add the limiting functionality to the API\n\n## Expected impact\n\nAccording to #database-lab tests this change will reduce the load roughly 5 times for large groups.","state":"closed","created_at":"2022-07-05T13:36:57.878Z","updated_at":"2022-12-14T19:11:03.724Z","closed_at":"2022-11-25T13:12:14.470Z","closed_by":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"labels":["Category:DevOps Reports","Stretch","backend","devops::plan","frontend","group::optimize","priority::1","section::dev","severity::3","type::maintenance","workflow::verification"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"}],"author":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"type":"ISSUE","assignee":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"user_notes_count":38,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366919","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366919","notes":"https://gitlab.com/api/v4/projects/278964/issues/366919/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366919/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366919","relative":"#366919","full":"gitlab-org/gitlab#366919"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":111190223,"iid":366917,"project_id":278964,"title":"[Follow-up] Revise hierarchy widget error messages","description":"The following discussion from !90908 should be addressed:\n\n- [ ] @egrieff started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/90908#note_1010547819):  (+1 comment)\n\n    \u003e I've changed the error message to use ID instead of URL because the input for the mutation is an ID.\n    \u003e \n    \u003e Should we change the error messages from [`link_issuables`](https://gitlab.com/gitlab-org/gitlab/blob/master/app/services/issuable_links/create_service.rb#L74) too? It's currently using the issuable reference instead of the ID. Example:\n    \u003e \n    \u003e `#4 cannot be added: Only Issue can be parent of Task.`\n    \u003e \n    \u003e See more examples in specs: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/90908/diffs#e098502055980a18b939e49d09990df90e3d40b3_0_116","state":"closed","created_at":"2022-07-05T13:23:11.541Z","updated_at":"2022-08-22T11:30:17.085Z","closed_at":"2022-08-22T11:25:09.759Z","closed_by":{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"},"labels":["backend","devops::plan","group::product planning","section::dev","type::maintenance","work items","workflow::ready for development"],"milestone":null,"assignees":[{"id":12044147,"username":"sdobrovolschii","name":"Stanislav Dobrovolschii","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12044147/avatar.png","web_url":"https://gitlab.com/sdobrovolschii"}],"author":{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"},"type":"ISSUE","assignee":{"id":12044147,"username":"sdobrovolschii","name":"Stanislav Dobrovolschii","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12044147/avatar.png","web_url":"https://gitlab.com/sdobrovolschii"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366917","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366917","notes":"https://gitlab.com/api/v4/projects/278964/issues/366917/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366917/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366917","relative":"#366917","full":"gitlab-org/gitlab#366917"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8282,"epic":{"id":549874,"iid":8282,"title":"MVC 4 - UX Improvements","url":"/groups/gitlab-org/-/epics/8282","group_id":9970,"human_readable_end_date":"Mar 31, 2023","human_readable_timestamp":"\u003cstrong\u003e3\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":111186442,"iid":366913,"project_id":278964,"title":"Add Snowplow tracking to analytics_cycle_analytics_group_stages table","description":"## Background\n\nFor sake of evaluating Desing Spike from Data team https://gitlab.com/gitlab-data/analytics/-/issues/12397 it was requested to add Snowplow tracking that would report on any changes done to `analytics_cycle_analytics_group_stages`\n\n## Goal \n\nTrigger Snowplow event whenever insert, update or delete is called on `analytics_cycle_analytics_group_stages` table. Snowplow event should report additional data (for the MVC we can use `extra` attribute from gitlab standard context) coming from following columns:\n\n- id\n- created_at\n- updated_at\n- relative_position\n- start_event_identifier\n- end_event_identifier\n- group_id\n- start_event_label_id\n- end_event_label_id\n- hidden\n- custom\n- name\n- group_value_stream_id\n\n## Implementation tips\n\n1. Use extra from gitlab standard context to pass additional data\n2. Copy relevant code from PoC at https://gitlab.com/gitlab-org/gitlab/-/merge_requests/88295\n3. It is ok to have hardcoded list of column and only work on single model for the MVC, we can look for abstractions and automations later on. \n4. Consider using feature flag in order to have more control over feature rollout","state":"closed","created_at":"2022-07-05T12:28:09.846Z","updated_at":"2022-08-02T00:43:40.017Z","closed_at":"2022-08-02T00:43:40.003Z","closed_by":{"id":9712164,"username":"nbelokolodov","name":"Niko Belokolodov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9712164/avatar.png","web_url":"https://gitlab.com/nbelokolodov"},"labels":["backend","devops::analytics","group::product intelligence","section::analytics","type::feature","workflow::production"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":9712164,"username":"nbelokolodov","name":"Niko Belokolodov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9712164/avatar.png","web_url":"https://gitlab.com/nbelokolodov"}],"author":{"id":4807002,"username":"mikolaj_wawrzyniak","name":"Mikołaj Wawrzyniak","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4807002/avatar.png","web_url":"https://gitlab.com/mikolaj_wawrzyniak"},"type":"ISSUE","assignee":{"id":9712164,"username":"nbelokolodov","name":"Niko Belokolodov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9712164/avatar.png","web_url":"https://gitlab.com/nbelokolodov"},"user_notes_count":5,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/366913","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/366913","notes":"https://gitlab.com/api/v4/projects/278964/issues/366913/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/366913/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#366913","relative":"#366913","full":"gitlab-org/gitlab#366913"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null}]