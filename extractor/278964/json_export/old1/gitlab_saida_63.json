[{"id":88849885,"iid":333887,"project_id":278964,"title":"Reduce reactivity of MR Diffs by employing Object.freeze on the diff lines data structures","description":"\u003c!-- This template is a great use for issues that are feature::additions or technical tasks for larger issues.--\u003e\n\n### Proposal \n\nIn the past we've looked at employing `Object.freeze` but it didn't yield that big of a result in our tests.\n\nWe need to go deeper and adjust the way we're updating the state as well to ensure we're freezing the objects at the right moment and not erroneously update them when they don't need to be updated.\n\nThis involves combing the codebase for any state updates that might be touching the unnecessarily reactive objects.\n\nPlease see the section \"Restricting reactivity using Object.freeze\" in https://codeburst.io/5-vue-performance-tips-98e184338439#dad3 for some deeper explanation\n\n### Approach\n\n* Identify the part of the state we want to freeze\n* Update the setting of the state\n* Explore the ramifications and potential moments where we're inadvertently updating that property\n* If required, move the frozen state elsewhere and update the code to read from there instead\n* ...\n\n### Target of this issue:\n\n* Diff Lines\n\nOthers will be handled in a separate issue: https://gitlab.com/gitlab-org/gitlab/-/issues/333880\n\n\n\u003c!-- Use this section to explain the feature and how it will work. It can be helpful to add technical details, design proposals, and links to related epics or issues. --\u003e\n\n\u003c!-- Consider adding related issues and epics to this issue. You can also reference the Feature Proposal Template (https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal%20-%20detailed.md) for additional details to consider adding to this issue. Additionally, as a data oriented organization, when your feature exits planning breakdown, consider adding the `What does success look like, and how can we measure that?` section.\n\n--\u003e","state":"closed","created_at":"2021-06-17T03:19:51.395Z","updated_at":"2021-07-18T07:07:04.423Z","closed_at":"2021-07-09T13:13:09.616Z","closed_by":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"labels":["Category:Code Review Workflow","Deliverable","OKR FY22 Q2::Large MR","bug::performance","devops::create","frontend","group::code review","section::dev"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"}],"author":{"id":853414,"username":"andr3","name":"André Luís","state":"active","avatar_url":"https://secure.gravatar.com/avatar/241e39726efb512a29621070ccf26a90?s=80\u0026d=identicon","web_url":"https://gitlab.com/andr3"},"type":"ISSUE","assignee":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333887","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333887","notes":"https://gitlab.com/api/v4/projects/278964/issues/333887/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333887/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333887","relative":"#333887","full":"gitlab-org/gitlab#333887"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88849597,"iid":333885,"project_id":278964,"title":"[Feature flag] Remove virtual scrolling flag from MR Diffs","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout [Virtual Scrolling in MR Diffs](https://gitlab.com/gitlab-org/gitlab/-/issues/326773) on production,\nthat is currently behind the `diffs_virtual_scrolling` feature flag.\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\n## Owners\n\n- Team: ~\"group::code review\" ~frontend \n- Most appropriate slack channel to reach out to: `#g_create_source-code-review` `#g_create_source-code-review-fe`\n- Best individual to reach out to: @iamphill @andr3\n- PM: @phikai\n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## The Rollout Plan\n\n- Partial Rollout on GitLab.com with testing groups: `gitlab-org/gitlab` and `gitlab-com/www-gitlab.com`\n- Rollout on GitLab.com for a certain period: 5 days\n- Rollout Feature by default after 5 days without blockers identified\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? Sentry errors reports can also be useful to review --\u003e\n\n## Testing Groups/Projects/Users\n\n\u003c!-- If applicable, any groups/projects that are happy to have this feature turned on early. Some organizations may wish to test big changes they are interested in with a small subset of users ahead of time for example. --\u003e\n\n- [x] `gitlab-org/gitlab` project\n- [x] `gitlab-org/gitlag-foss` project\n- [x] `gitlab-com/www-gitlab-com` project\n\n\n## Expectations\n\n### What are we expecting to happen?\n\n\u003c!-- Describe the expected outcome when rolling out this feature --\u003e\n\nMR Page performance is improved: faster to render and faster to interaction.\n\n### What might happen if this goes wrong?\n\nAs users scroll, the browser is adding/removing elements from the page. Small quirks might arise.\n\nSome unexpected features might break, despite our testing will attempt to identify all and fix them beforehand.\n\n\n\u003c!-- Should the feature flag be turned off? Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- [x] Ensure that the feature MRs have been deployed to non-production environments.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Enable the feature globally on non-production environments.\n    - [ ] `/chatops run feature set diffs_virtual_scrolling true --dev`\n    - [x] `/chatops run feature set diffs_virtual_scrolling true --staging`\n- [ ] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Preparation before production rollout\n\n- [x] Ensure that the feature MRs have been deployed to both production and canary.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [x] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [x] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [ ] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com.\n- [x] If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), enable it on GitLab.com for [testing groups/projects](#testing-groupsprojectsusers).\n    - [ ] `/chatops run feature set --\u003cactor-type\u003e=\u003cactor\u003e diffs_virtual_scrolling true`\n- [ ] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Global rollout on production\n\n- [x] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [ ] `/chatops run feature set diffs_virtual_scrolling \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [ ] `/chatops run feature set diffs_virtual_scrolling \u003crollout-percentage\u003e`\n  - Enable the feature globally on production environment.\n    - [x] `/chatops run feature set diffs_virtual_scrolling true`\n- [ ] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [x] Cross-post chatops slack command to `#support_gitlab-com`.\n  ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)) and in your team channel\n- [ ] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [x] Create a merge request with the following changes. Ask for review and merge it.\n    - [x] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [x] Ensure that the above MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit\u003e`\n- [x] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [x] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [ ] (Optional) You can create a separate issue for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [ ] Set the title to \"[Feature flag] Cleanup `diffs_virtual_scrolling`\".\n    - [ ] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [ ] Link this rollout issue as a related issue.\n    - [ ] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [x] Create a merge request to remove `diffs_virtual_scrolling` feature flag. Ask for review and merge it.\n    - [x] Remove all references to the feature flag from the codebase.\n    - [x] Remove the YAML definitions for the feature from the repository.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [x] Ensure that the above MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit\u003e`\n- [x] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [x] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [x] `/chatops run feature delete diffs_virtual_scrolling --dev`\n    - [x] `/chatops run feature delete diffs_virtual_scrolling --staging`\n    - [x] `/chatops run feature delete diffs_virtual_scrolling`\n- [x] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set \u003cfeature-flag-name\u003e false\n```","state":"closed","created_at":"2021-06-17T03:04:56.124Z","updated_at":"2022-02-18T07:01:13.100Z","closed_at":"2022-02-17T14:20:08.422Z","closed_by":{"id":10539680,"username":"slashmanov","name":"Stanislav Lashmanov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10539680/avatar.png","web_url":"https://gitlab.com/slashmanov"},"labels":["Category:Code Review Workflow","Deliverable","OKR FY22 Q2::Large MR","Technical Writing","bug::performance","devops::create","documentation","feature flag","frontend","group::code review","missed-deliverable","missed:14.6","missed:14.7","section::dev","tw-weight::3","type::maintenance"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":10539680,"username":"slashmanov","name":"Stanislav Lashmanov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10539680/avatar.png","web_url":"https://gitlab.com/slashmanov"}],"author":{"id":853414,"username":"andr3","name":"André Luís","state":"active","avatar_url":"https://secure.gravatar.com/avatar/241e39726efb512a29621070ccf26a90?s=80\u0026d=identicon","web_url":"https://gitlab.com/andr3"},"type":"ISSUE","assignee":{"id":10539680,"username":"slashmanov","name":"Stanislav Lashmanov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10539680/avatar.png","web_url":"https://gitlab.com/slashmanov"},"user_notes_count":20,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333885","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":50,"completed_count":32},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"32 of 50 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333885","notes":"https://gitlab.com/api/v4/projects/278964/issues/333885/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333885/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333885","relative":"#333885","full":"gitlab-org/gitlab#333885"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5952,"epic":{"id":266300,"iid":5952,"title":":rocket: Diffs virtual scrolling","url":"/groups/gitlab-org/-/epics/5952","group_id":9970,"human_readable_end_date":"Feb 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88849355,"iid":333884,"project_id":278964,"title":"Identify more costly elements to render in the Diffs app and conditionally render them","description":"\u003c!-- This template is a great use for issues that are feature::additions or technical tasks for larger issues.--\u003e\n\n### Proposal \n\nIn the effort of rolling out Virtual Scrolling, we identified the browser struggles to repaint the elements in place.\n\nEven outside of the Virtual Scrolling, making the MR Diff Files lighter to render will be beneficial as well.\n\nWe should look at the components that prove to be the more costly to render and then leverage IntersectionObserver to add another layer for conditionally rendering them (`v-if`).\n\nPrioritise the diff content and discussions, potentially letting Diff Header components render in the next tick and potentially fading them in with CSS animation could prove a lightened load for the browser to re-render the Diff File on scroll while still providing the user with the functionality in a smooth and elegant way.\n\n\n\n\u003c!-- Use this section to explain the feature and how it will work. It can be helpful to add technical details, design proposals, and links to related epics or issues. --\u003e\n\n\u003c!-- Consider adding related issues and epics to this issue. You can also reference the Feature Proposal Template (https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal%20-%20detailed.md) for additional details to consider adding to this issue. Additionally, as a data oriented organization, when your feature exits planning breakdown, consider adding the `What does success look like, and how can we measure that?` section.\n\n--\u003e","state":"closed","created_at":"2021-06-17T02:53:31.473Z","updated_at":"2021-07-19T17:16:26.663Z","closed_at":"2021-07-19T17:16:26.647Z","closed_by":{"id":853414,"username":"andr3","name":"André Luís","state":"active","avatar_url":"https://secure.gravatar.com/avatar/241e39726efb512a29621070ccf26a90?s=80\u0026d=identicon","web_url":"https://gitlab.com/andr3"},"labels":["Category:Code Review Workflow","Deliverable","OKR FY22 Q2::Large MR","automation:ml","devops::create","frontend","group::code review","section::dev"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":626804,"username":"pedroms","name":"Pedro Moreira da Silva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c306f087d191ac15549f3c11e3bed321?s=80\u0026d=identicon","web_url":"https://gitlab.com/pedroms"},{"id":4017300,"username":"jboyson","name":"Justin Boyson","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4017300/avatar.png","web_url":"https://gitlab.com/jboyson"}],"author":{"id":853414,"username":"andr3","name":"André Luís","state":"active","avatar_url":"https://secure.gravatar.com/avatar/241e39726efb512a29621070ccf26a90?s=80\u0026d=identicon","web_url":"https://gitlab.com/andr3"},"type":"ISSUE","assignee":{"id":626804,"username":"pedroms","name":"Pedro Moreira da Silva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c306f087d191ac15549f3c11e3bed321?s=80\u0026d=identicon","web_url":"https://gitlab.com/pedroms"},"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333884","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333884","notes":"https://gitlab.com/api/v4/projects/278964/issues/333884/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333884/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333884","relative":"#333884","full":"gitlab-org/gitlab#333884"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88847941,"iid":333880,"project_id":278964,"title":"Reduce reactivity of MR Diffs by employing Object.freeze where appropriate","description":"\u003c!-- This template is a great use for issues that are feature::additions or technical tasks for larger issues.--\u003e\n\n### Proposal \n\nIn the past we've looked at employing `Object.freeze` but it didn't yield that big of a result in our tests.\n\nWe need to go deeper and adjust the way we're updating the state as well to ensure we're freezing the objects at the right moment and not erroneously update them when they don't need to be updated.\n\nThis involves combing the codebase for any state updates that might be touching the unnecessarily reactive objects.\n\nPlease see the section \"Restricting reactivity using Object.freeze\" in https://codeburst.io/5-vue-performance-tips-98e184338439#dad3 for some deeper explanation\n\n### Approach\n\n* Identify the part of the state we want to freeze\n* Update the setting of the state\n* Explore the ramifications and potential moments where we're inadvertently updating that property\n* If required, move the frozen state elsewhere and update the code to read from there instead\n* ...\n\n### Candidates\n\n* Diff Files / Metadata objects \n* _Anything that is not expected to update by changes elsewhere_\n\nDiff Lines will be handled in https://gitlab.com/gitlab-org/gitlab/-/issues/333887\n\n\n\u003c!-- Use this section to explain the feature and how it will work. It can be helpful to add technical details, design proposals, and links to related epics or issues. --\u003e\n\n\u003c!-- Consider adding related issues and epics to this issue. You can also reference the Feature Proposal Template (https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal%20-%20detailed.md) for additional details to consider adding to this issue. Additionally, as a data oriented organization, when your feature exits planning breakdown, consider adding the `What does success look like, and how can we measure that?` section.\n\n--\u003e","state":"closed","created_at":"2021-06-17T01:49:41.571Z","updated_at":"2021-07-18T07:07:04.488Z","closed_at":"2021-07-14T10:23:57.260Z","closed_by":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"labels":["Category:Code Review Workflow","Deliverable","OKR FY22 Q2::Large MR","bug::performance","devops::create","frontend","group::code review","section::dev"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"}],"author":{"id":853414,"username":"andr3","name":"André Luís","state":"active","avatar_url":"https://secure.gravatar.com/avatar/241e39726efb512a29621070ccf26a90?s=80\u0026d=identicon","web_url":"https://gitlab.com/andr3"},"type":"ISSUE","assignee":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333880","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333880","notes":"https://gitlab.com/api/v4/projects/278964/issues/333880/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333880/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333880","relative":"#333880","full":"gitlab-org/gitlab#333880"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88841885,"iid":333875,"project_id":278964,"title":"Remove unused pagination data from diff_batch","description":"The following discussion from !55478 should be addressed:\n\n- [ ] @avielle started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/55478#note_601991619):  (+2 comments)\n\n    \u003e Are `next_page` and `current_page` still used anywhere? If there not, it might make sense to remove them in this MR","state":"closed","created_at":"2021-06-16T23:02:45.394Z","updated_at":"2021-10-28T13:55:53.876Z","closed_at":"2021-06-29T06:11:57.947Z","closed_by":{"id":4901936,"username":"dskim_gitlab","name":"Sincheol (David) Kim","state":"active","avatar_url":"https://secure.gravatar.com/avatar/84a984a56c54d1d31338678421cecc32?s=80\u0026d=identicon","web_url":"https://gitlab.com/dskim_gitlab"},"labels":["backend","devops::create","group::code review","section::dev","type::maintenance"],"milestone":null,"assignees":[{"id":4901936,"username":"dskim_gitlab","name":"Sincheol (David) Kim","state":"active","avatar_url":"https://secure.gravatar.com/avatar/84a984a56c54d1d31338678421cecc32?s=80\u0026d=identicon","web_url":"https://gitlab.com/dskim_gitlab"}],"author":{"id":4901936,"username":"dskim_gitlab","name":"Sincheol (David) Kim","state":"active","avatar_url":"https://secure.gravatar.com/avatar/84a984a56c54d1d31338678421cecc32?s=80\u0026d=identicon","web_url":"https://gitlab.com/dskim_gitlab"},"type":"ISSUE","assignee":{"id":4901936,"username":"dskim_gitlab","name":"Sincheol (David) Kim","state":"active","avatar_url":"https://secure.gravatar.com/avatar/84a984a56c54d1d31338678421cecc32?s=80\u0026d=identicon","web_url":"https://gitlab.com/dskim_gitlab"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333875","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333875","notes":"https://gitlab.com/api/v4/projects/278964/issues/333875/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333875/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333875","relative":"#333875","full":"gitlab-org/gitlab#333875"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88841116,"iid":333872,"project_id":278964,"title":"OpenAPI v3 duplicates base path when using API Fuzzing, DAST API","description":"## Problem\n\nWhile testing the solution for https://gitlab.com/gitlab-org/gitlab/-/issues/333446. It was noticed that OpenAPI v3 applies base path twice as noticed in Job [jobs-1353126037 output](https://gitlab.com/gitlab-org/security-products/tests/api-fuzzing-e2e/openapi-v3/-/jobs/1353126037).\nThis happens because the OpenAPI reader uses the BaseUrl when the specification does not provide a host, but later one the OperationRunner applies the  BaseUrl. This current flow allows to apply twice the BaseUrl.\n\n## Solution\n1. [x] Update Specification Readers (HAR Reader, Postman Reader, OpenAPI Reader) to apply the base URL when loading specification from the file.\n1. [x] Tests\n    1. [x] Add Unit tests for each specification format when:\n        1. [X] Postman: A BaseUrl is provided\n        1. [X] Postman: A baseUrl is not provided.\n        1. [x] HAR: A BaseUrl is provided\n        1. [x] HAR: A baseUrl is not provided.\n    1. [x] Add C# Integration Tests\n        1. [x] Postman: A baseUrl is provided.\n        1. [x] Har: A baseUrl is provided.\n        1. [x] OpenAPI: A baseUrl is provided.","state":"closed","created_at":"2021-06-16T22:19:02.890Z","updated_at":"2021-06-23T20:46:11.911Z","closed_at":"2021-06-23T20:46:11.875Z","closed_by":{"id":7488329,"username":"herbmadrigal","name":"Herber Madrigal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7488329/avatar.png","web_url":"https://gitlab.com/herbmadrigal"},"labels":["Category:Fuzz Testing","GitLab Ultimate","backend","devops::secure","group::dynamic analysis","priority::2","section::sec","severity::2","type::bug","workflow::verification"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":7488329,"username":"herbmadrigal","name":"Herber Madrigal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7488329/avatar.png","web_url":"https://gitlab.com/herbmadrigal"}],"author":{"id":7488329,"username":"herbmadrigal","name":"Herber Madrigal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7488329/avatar.png","web_url":"https://gitlab.com/herbmadrigal"},"type":"ISSUE","assignee":{"id":7488329,"username":"herbmadrigal","name":"Herber Madrigal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7488329/avatar.png","web_url":"https://gitlab.com/herbmadrigal"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333872","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":11,"completed_count":11},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"11 of 11 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333872","notes":"https://gitlab.com/api/v4/projects/278964/issues/333872/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333872/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333872","relative":"#333872","full":"gitlab-org/gitlab#333872"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88839828,"iid":333867,"project_id":278964,"title":"Grype not consistently using CVSSv3 score to determine severity","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\nGitLab relies on individual scanners to report an accurate severity level.  The severity level should be determined by the CVSS score.\n\nCurrently, the Grype scanner is reporting some severity levels that correspond to the CVSSv2 score rather than the CVSSv3 score.  Ideally, all vulnerability severities will correspond to the underlying CVSSv3 score for consistency.  We need to determine whether this error is occurring in GitLab code or whether we need to open a bug in the upstream [Grype project](https://github.com/anchore/grype).\n\n\u003c!--\nA brief explanation of the why, not the what or how. Assume the reader doesn't know the\nbackground and won't have time to dig-up information from comment threads.\n--\u003e\n\n\n## Relevant links\n\u003c!--\nInformation that the developer might need to refer to when implementing the issue.\n\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e)\n  - [Design 1](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n  - [Design 2](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n- [Similar implementation](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/\u003cid\u003e)\n--\u003e\n\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [ ] Documentation:\n- [ ] Feature flag:\n- [ ] Performance:\n- [ ] Testing:\n\n\n## Implementation plan\n\u003c!--\nSteps and the parts of the code that will need to get updated. The plan can also\ncall-out responsibilities for other team members or teams.\n\ne.g.:\n\n- [ ] ~frontend Step 1\n  - [ ] `@person` Step 1a\n- [ ] ~frontend Step 2\n\n--\u003e\n\n- [ ] ~backend update `lib/gitlab.grype.tpl` to calculate severity based on `Vulnerability.VulnerabilityMetadata.Cvss[]` value (find in the collection `Cvss` with version \u003e= 3.0, take value of `Metrics.BaseScore`, and based on that value calculate severity, according to https://www.first.org/cvss/v3.0/specification-document#Qualitative-Severity-Rating-Scale):\n\n| Rating | CVSS Score |\n|--------|------------|\n| None | 0.0 |\n| Low | 0.1 - 3.9 |\n| Medium | 4.0 - 6.9 |\n| High | 7.0 - 8.9 |\n| Critical | 9.0 - 10.0 |\n\n\u003c!--\nWorkflow and other relevant labels\n\n# ~\"group::\" ~\"Category:\" ~\"GitLab Ultimate\"\nOther settings you might want to include when creating the issue.\n\n# /assign @\n# /epic \u0026\n--\u003e","state":"closed","created_at":"2021-06-16T21:23:48.607Z","updated_at":"2021-10-28T13:55:54.259Z","closed_at":"2021-07-13T15:43:34.775Z","closed_by":{"id":5292351,"username":"sam.white","name":"Sam White","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d467fb024d1858d279e6a36e028436ac?s=80\u0026d=identicon","web_url":"https://gitlab.com/sam.white"},"labels":["Category:Container Scanning","backend","devops::govern","group::security policies","section::sec","type::maintenance","workflow::blocked"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[],"author":{"id":5292351,"username":"sam.white","name":"Sam White","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d467fb024d1858d279e6a36e028436ac?s=80\u0026d=identicon","web_url":"https://gitlab.com/sam.white"},"type":"ISSUE","assignee":null,"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333867","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":8,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 8 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333867","notes":"https://gitlab.com/api/v4/projects/278964/issues/333867/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333867/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333867","relative":"#333867","full":"gitlab-org/gitlab#333867"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88839012,"iid":333863,"project_id":278964,"title":"Add docker image location to DAST and Browserker release notes","description":"\n### Proposal\n\nTo make the DAST and Browserker images easier to find, add their locations to the release notes. \n\nThis issue addresses https://gitlab.com/gitlab-org/security-products/dast/-/merge_requests/471#note_601364736\n\n### What is the type of buyer?\n\n[Gold/Ultimate](https://about.gitlab.com/handbook/product/pricing/#three-tiers)\n\n\u003c!-- Label reminders - you should have one of each of the following labels.\nUse the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n--\u003e","state":"closed","created_at":"2021-06-16T21:00:45.970Z","updated_at":"2021-07-15T06:31:05.960Z","closed_at":"2021-07-15T06:31:05.945Z","closed_by":{"id":5344211,"username":"craigmsmith","name":"Craig Smith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5344211/avatar.png","web_url":"https://gitlab.com/craigmsmith"},"labels":["Category:DAST","devops::secure","group::dynamic analysis","section::sec","workflow::in review"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":5344211,"username":"craigmsmith","name":"Craig Smith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5344211/avatar.png","web_url":"https://gitlab.com/craigmsmith"}],"author":{"id":5344211,"username":"craigmsmith","name":"Craig Smith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5344211/avatar.png","web_url":"https://gitlab.com/craigmsmith"},"type":"ISSUE","assignee":{"id":5344211,"username":"craigmsmith","name":"Craig Smith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5344211/avatar.png","web_url":"https://gitlab.com/craigmsmith"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333863","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333863","notes":"https://gitlab.com/api/v4/projects/278964/issues/333863/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333863/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333863","relative":"#333863","full":"gitlab-org/gitlab#333863"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88836321,"iid":333859,"project_id":278964,"title":"Remove all references to former tracking.js file","description":"The following discussion from !56869 should be addressed:\n\n- [ ] @tkuah started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/56869#note_602397221):  (+1 comment)\n\n    \u003e @agarciatesares There are still some references to `app/assets/javascripts/tracking.js` which should be updated ?","state":"closed","created_at":"2021-06-16T20:41:30.596Z","updated_at":"2021-06-21T23:05:06.843Z","closed_at":"2021-06-21T23:05:06.820Z","closed_by":{"id":5412956,"username":"agarciatesares","name":"Axel García","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"},"labels":["Unplanned","devops::growth","frontend","group::product intelligence","maintenance::refactor","missed:14.0","section::growth","workflow::production"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":5412956,"username":"agarciatesares","name":"Axel García","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"}],"author":{"id":5412956,"username":"agarciatesares","name":"Axel García","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"},"type":"ISSUE","assignee":{"id":5412956,"username":"agarciatesares","name":"Axel García","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333859","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333859","notes":"https://gitlab.com/api/v4/projects/278964/issues/333859/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333859/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333859","relative":"#333859","full":"gitlab-org/gitlab#333859"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5569,"epic":{"id":223482,"iid":5569,"title":"Snowplow Maintenance","url":"/groups/gitlab-org/-/epics/5569","group_id":9970,"human_readable_end_date":"Jan 31, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88834682,"iid":333856,"project_id":278964,"title":"Show confidentiality icon for child epics","description":"The confidentiality icon does not appear for confidential epics. On the image below it is possible to the icon\nfor issues(in green) and missing for epics(in red).  \n\n![confidentiality_image](/uploads/eba3d158ac94754c20019f6a0a1b5fdf/confidentiality_image.png)\n\nWe could re-use the same icon from issues","state":"closed","created_at":"2021-06-16T19:51:24.167Z","updated_at":"2021-11-08T16:50:22.998Z","closed_at":"2021-06-22T23:00:12.730Z","closed_by":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"labels":["Category:Portfolio Management","GitLab Premium","GitLab Ultimate","devops::plan","epics","frontend","group::product planning","section::dev","type::maintenance","workflow::production"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"}],"author":{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"},"type":"ISSUE","assignee":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333856","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333856","notes":"https://gitlab.com/api/v4/projects/278964/issues/333856/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333856/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333856","relative":"#333856","full":"gitlab-org/gitlab#333856"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88832430,"iid":333851,"project_id":278964,"title":"Allow License to be Applied on a SM instance where overage is below 10%","description":"## User Story\n\nAs product owner, I want to ease the restriction on license activation for renewals or mid-term add-ons, so that customers can apply the license without validation issues, even if they exceed the number of users in their license.\n\n## Acceptance Criteria\n- The license file is applied without errors and the instance is activated for cases where the total number of add-on users does not exceed  10% of the actual number of users that had been paid for.\n   - (`Users over Subscription`) \u003c= 10% (`Users in Subscription`)\n\n## Context and Supporting Issues\nPlaceholder for https://gitlab.com/gitlab-com/Finance-Division/finance/-/issues/4201#note_603189661\n\u003e  \n\u003e * [Initial design allowing 10% overage](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/46407) should be expanded to encompass renewals (currently only applies to new business)\n\u003e   * Example: If a customer transacts a 100 user renewal, but has 103 max users by the time the license is applied, the 100 user license is accepted. (i.e. The 3 user overage does not prevent the license from functioning.)\n\u003e     * Note: In this example, the 3 users are not forgiven, but would be paid for at the next true-up, as the max users would still be higher than the licensed users even though the license works.\n\u003e   * Example (not within 10%): If a customer transacts a 100 user renewal, but has 111 max users by the time the license is applied, the 100 user license is *not* accepted. The customer must then go back to Sales to transact an add-on deal to add true ups to the subscription.\n\nAdditional [requirement]  (https://gitlab.com/gitlab-org/gitlab/-/issues/333851#note_615441522) noted here:\n\u003e We also need a similar acceptable overage range for **mid term 'add-ons'** **Example**: Mid term addon extended the license count to 66 but the account has grown by 4 users resulting in a rejected license key, **REF**- https://gitlab.my.salesforce.com/0016100001Eo9un","state":"closed","created_at":"2021-06-16T18:40:23.055Z","updated_at":"2022-02-23T14:04:50.243Z","closed_at":"2021-08-18T23:06:53.191Z","closed_by":{"id":4717243,"username":"a_luna","name":"Amparo Luna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4717243/avatar.png","web_url":"https://gitlab.com/a_luna"},"labels":["[deprecated] Category:Provision","backend","customer","devops::fulfillment","documentation","group::provision","missed:14.2","quad-planning::complete-no-action","section::fulfillment","workflow::production"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":4717243,"username":"a_luna","name":"Amparo Luna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4717243/avatar.png","web_url":"https://gitlab.com/a_luna"},{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"}],"author":{"id":7971452,"username":"teresatison","name":"Teresa Tison","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7971452/avatar.png","web_url":"https://gitlab.com/teresatison"},"type":"ISSUE","assignee":{"id":4717243,"username":"a_luna","name":"Amparo Luna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4717243/avatar.png","web_url":"https://gitlab.com/a_luna"},"user_notes_count":23,"merge_requests_count":0,"upvotes":7,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333851","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333851","notes":"https://gitlab.com/api/v4/projects/278964/issues/333851/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333851/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333851","relative":"#333851","full":"gitlab-org/gitlab#333851"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6383,"epic":{"id":310864,"iid":6383,"title":"THEME: Maintenance and Support","url":"/groups/gitlab-org/-/epics/6383","group_id":9970,"human_readable_end_date":"Nov 16, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88827294,"iid":333830,"project_id":278964,"title":"Improve the patterns used for the dependency scanning jobs to be dependency files-specific","description":"At the moment, [we run the dependency scanning jobs for any code/backstage/qa change](https://gitlab.com/gitlab-org/gitlab/-/blob/6d0519eb7b5dbbe8a3ad476be8934b3312b32b26/.gitlab/ci/rules.gitlab-ci.yml#L1032-1039):\n\n```yaml\n.reports:rules:dependency_scanning:\n  rules:\n    - if: '$DEPENDENCY_SCANNING_DISABLED || $GITLAB_FEATURES !~ /\\bdependency_scanning\\b/'\n      when: never\n    # - \u003c\u003c: *if-default-branch-refs  # To be done in a later iteration: https://gitlab.com/gitlab-org/gitlab/issues/31160#note_278188255\n    - \u003c\u003c: *if-default-refs\n      changes: *code-backstage-qa-patterns\n      allow_failure: true\n```\n\nI think we should limit the cases when these jobs run [similarly to how the original jobs do it](https://gitlab.com/gitlab-org/gitlab/-/blob/1924379cf1d03742b9a16512ae23aec069cef232/lib/gitlab/ci/templates/Security/Dependency-Scanning.gitlab-ci.yml#L53-61).\n\nFor instance, for the `gemnasium-dependency_scanning` job, we should introduce a new `.reports:rules:gemnasium-dependency_scanning` rule to specifically replace https://gitlab.com/gitlab-org/gitlab/-/blob/1924379cf1d03742b9a16512ae23aec069cef232/.gitlab/ci/reports.gitlab-ci.yml#L77.\n\nThis rule should be a mix of the default rule and our own conditions, something like\n\n```yaml\n.reports:rules:gemnasium-dependency_scanning:\n  rules:\n    - if: '$DEPENDENCY_SCANNING_DISABLED || $GITLAB_FEATURES !~ /\\bdependency_scanning\\b/'\n      when: never\n    # - \u003c\u003c: *if-default-branch-refs  # To be done in a later iteration: https://gitlab.com/gitlab-org/gitlab/issues/31160#note_278188255\n    - \u003c\u003c: *if-default-refs\n      changes: *dependency-patterns\n      allow_failure: true\n```\n\nWe'd have to define this new `dependency-patterns` patterns list as well, to match [the default one](https://gitlab.com/gitlab-org/gitlab/-/blob/1924379cf1d03742b9a16512ae23aec069cef232/lib/gitlab/ci/templates/Security/Dependency-Scanning.gitlab-ci.yml#L53-61), e.g.\n\n```yaml\n.dependency-patterns: \u0026dependency-patterns\n  - '{Gemfile.lock,*/Gemfile.lock,*/*/Gemfile.lock}'\n  - '{composer.lock,*/composer.lock,*/*/composer.lock}'\n  - '{gems.locked,*/gems.locked,*/*/gems.locked}'\n  - '{go.sum,*/go.sum,*/*/go.sum}'\n  - '{npm-shrinkwrap.json,*/npm-shrinkwrap.json,*/*/npm-shrinkwrap.json}'\n  - '{package-lock.json,*/package-lock.json,*/*/package-lock.json}'\n  - '{yarn.lock,*/yarn.lock,*/*/yarn.lock}'\n  - '{packages.lock.json,*/packages.lock.json,*/*/packages.lock.json}'\n  - '{conan.lock,*/conan.lock,*/*/conan.lock}'\n```\n\nWe might also want to do something similar for other dependency scanning jobs.","state":"closed","created_at":"2021-06-16T16:27:09.944Z","updated_at":"2022-03-16T11:41:51.819Z","closed_at":"2021-06-21T21:09:57.244Z","closed_by":{"id":4303148,"username":"kwiebers","name":"Kyle Wiebers","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4303148/avatar.png","web_url":"https://gitlab.com/kwiebers"},"labels":["Engineering Productivity","maintenance::pipelines","type::maintenance"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[],"author":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333830","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333830","notes":"https://gitlab.com/api/v4/projects/278964/issues/333830/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333830/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333830","relative":"#333830","full":"gitlab-org/gitlab#333830"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88827092,"iid":333829,"project_id":278964,"title":"Provide image integration test job and helpers to Secure analyzer projects","description":"### Problem to solve \n\nAs a developer working on a GitLab Secure analyzer project, I'd like to write specs for the analyzer image, but I can't reuse the RSpec shared examples used to test the `gemnasium` image (Dependency Scanning). I need an easy way to set up image integration tests similar to the ones of the Gemnasium projects without additional maintenance cost. \n\n### User experience goal\n\nAs a developer of a GitLab Secure analyzer, I write RSpec examples to test the analyzer image. These examples use shared examples for image testing. I then set up a CI job that simply calls `rspec` in the context of an image that provides the shared examples as well as the system dependencies needed to run these shared examples.\n\n### Proposal \n\n- Make the shared examples generic enough to handle Dependency Scanning, Secret Detection, and SAST.\n- Create a Ruby gem that combines the shared examples, the Ruby dependencies, and the Ruby classes developers commonly use to write image specs.\n- Create a new project that builds an image where Ruby, rspec, and the aforementioned Ruby gem are installed. The image also provides the system libraries needed to run the specs (such as `ruby-json`), the Docker CLI, and the JSON schemas needed for schema validation.\n- Document this project, and explain how to use it to write image integration tests.\n- Use this in the `gemnasium` project, ~\"Category:Dependency Scanning\".\n- Invite project maintainers of ~\"Category:SAST\" and ~\"Category:Secret Detection\" to use it to.\n\nThe project name is to be defined. See [discussion](#note_619352563).\n\nOptional: Add the `image test` job to the [shared CI config](https://gitlab.com/gitlab-org/security-products/ci-templates/blob/master/includes-dev/analyzer.yml), and set the `rules:exists` parameter so that the job is skipped when there are no image integration tests.\n\n### Implementation plan\n\n- [x] Update the `gemnasium` project to make the shared examples generic\n   - [x] Include all security report schemas, so that it can validate any report https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/-/merge_requests/212\n- [x] Import shared examples and dependencies into a new [integration-test](https://gitlab.com/gitlab-org/security-products/analyzers/integration-test) project\n- [x] Make this new project build a Docker image that contains all we need for integration tests\n- [x] Use this Docker image in the `gemnasium` project\n- [x] Update README of [integration-test](https://gitlab.com/gitlab-org/security-products/analyzers/integration-test) project and cover image integration tests using rspec https://gitlab.com/gitlab-org/security-products/analyzers/integration-test/-/merge_requests/5\n- [x] Share with other Secure teams, and encourage them to use the same testing tool =\u003e brown bag session on July 29th\n\nFollow-up issues:\n- [ ] Move definition of `image test` job to [shared CI config](https://gitlab.com/gitlab-org/security-products/ci-templates/blob/master/includes-dev/analyzer.yml) (optional, if doesn't impact other Secure analyzers) \n- [ ] Convert job integration tests to image integration tests when relevant\n- [ ] Publish `gitlab-secure_integration-test` Rubygem, so that it can be used out of the integration-test image \n\n### Further details\n\nThe [gemnasium](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium) project has an [`image test`](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/-/jobs/1391837658) job that runs the specs defined in [spec/image_spec.rb](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/-/blob/master/spec/image_spec.rb). These specs directly use generic code:\n- shared examples for the generated report\n- shared examples for the scan itself (exit code)\n- a helper class that runs the analyzer image and collects the generated report as well as the exit code\n\nThis generic code could be used to test the Docker images of other analyzer projects.\n\n### Documentation\n\nThe new project should document:\n- how to use the gem in rspec examples\n  - shared examples for reports\n  - shared examples for scans\n  - runner class\n- how to check reports using the QA scripts\n- how to use the Docker image\n  - job template for image integration tests\n  - job template for job integration tests\n\n### Availability \u0026 Testing\n\n- The `Comparable` module is tested using rspec. It's used in shared examples for images.\n- Shared examples for image are tested when testing QA scripts.\n- The QA scripts are tested by comparing expected report to similar and different reports.\n- TBD: Should we test the shared examples for reports?\n- TBD: Should we test the runner class?\n\n### What does success look like, and how can we measure that?\n\nDevelopers working on Secure analyzer projects can easily set up image integration tests.\n\n### Is this a cross-stage feature?\n\nPotentially. This could be used by ~\"devops::protect\".\n\n### Links / references","state":"closed","created_at":"2021-06-16T16:22:52.595Z","updated_at":"2022-03-16T12:01:43.680Z","closed_at":"2021-07-17T12:26:11.915Z","closed_by":{"id":1958785,"username":"fcatteau","name":"Fabien Catteau","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1958785/avatar.png","web_url":"https://gitlab.com/fcatteau"},"labels":["Category:Dependency Scanning","Category:SAST","Category:Secret Detection","Deliverable","Enterprise Edition","GitLab Ultimate","backend","devops::secure","group::composition analysis","maintenance::refactor","maintenance::workflow","section::sec","test","type::maintenance","workflow::production"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":1958785,"username":"fcatteau","name":"Fabien Catteau","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1958785/avatar.png","web_url":"https://gitlab.com/fcatteau"}],"author":{"id":1958785,"username":"fcatteau","name":"Fabien Catteau","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1958785/avatar.png","web_url":"https://gitlab.com/fcatteau"},"type":"ISSUE","assignee":{"id":1958785,"username":"fcatteau","name":"Fabien Catteau","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1958785/avatar.png","web_url":"https://gitlab.com/fcatteau"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333829","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":10,"completed_count":7},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"7 of 10 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333829","notes":"https://gitlab.com/api/v4/projects/278964/issues/333829/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333829/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333829","relative":"#333829","full":"gitlab-org/gitlab#333829"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5823,"epic":{"id":255201,"iid":5823,"title":"Composition Analysis Testing improvements","url":"/groups/gitlab-org/-/epics/5823","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":88826445,"iid":333825,"project_id":278964,"title":"[UX] Move the upgrade flow into GitLab.com","description":"### Proposal \n\nThis is the UX issue for https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1993\n\nA couple of notes:\n\n1. We will handle the EoA for Bronze use case in a separate issue, this issue is just for a typical upgrade.\n1. The scope of this issue is just the upgrade checkout and success message. The billing page (soon the subscription \u0026 purchases page) where you click the button to upgrade will be tackled in [another issue](https://gitlab.com/gitlab-org/gitlab/-/issues/333823). The page will be changing, but the information will remain largely the same (ie, you will still see a card that details the features of the Ultimate plan and click a button that says `Upgrade`).\n1. These designs assume that we want to prioritize adding the ability to add seats during upgrade (which is still an outstanding question, see more details in [this comment](https://gitlab.com/gitlab-org/gitlab/-/issues/333825#note_679813782)).\n\n### Design\n\n- See design section for overall flow and discussion\n- [See Figma](https://www.figma.com/file/Ql1Cqokfkq5b9bjUAra54F/Subscription-management-in-GitLab.com?node-id=609%3A6369) for implementation specs\n     - Sign up for a free account with your gitlab email and you can view specs in Figma","state":"closed","created_at":"2021-06-16T16:11:18.825Z","updated_at":"2021-10-08T21:37:19.531Z","closed_at":"2021-10-08T21:37:19.513Z","closed_by":{"id":4377833,"username":"esybrant","name":"Emily Sybrant","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4377833/avatar.png","web_url":"https://gitlab.com/esybrant"},"labels":["Category:Purchase","Technical Writing","UI text","UX","devops::fulfillment","group::purchase","missed:14.3","section::fulfillment","workflow::ready for design"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":4377833,"username":"esybrant","name":"Emily Sybrant","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4377833/avatar.png","web_url":"https://gitlab.com/esybrant"}],"author":{"id":4377833,"username":"esybrant","name":"Emily Sybrant","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4377833/avatar.png","web_url":"https://gitlab.com/esybrant"},"type":"ISSUE","assignee":{"id":4377833,"username":"esybrant","name":"Emily Sybrant","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4377833/avatar.png","web_url":"https://gitlab.com/esybrant"},"user_notes_count":15,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333825","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333825","notes":"https://gitlab.com/api/v4/projects/278964/issues/333825/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333825/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333825","relative":"#333825","full":"gitlab-org/gitlab#333825"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6542,"epic":{"id":324150,"iid":6542,"title":"Move the upgrade flow to GitLab.com","url":"/groups/gitlab-org/-/epics/6542","group_id":9970,"human_readable_end_date":"Oct 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88826194,"iid":333824,"project_id":278964,"title":"[UX] Move add seats flow into GitLab.com","description":"### Proposal \n\nThis is the UX issue for https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1992","state":"closed","created_at":"2021-06-16T16:06:54.346Z","updated_at":"2022-12-08T03:43:49.749Z","closed_at":"2022-12-08T03:43:49.727Z","closed_by":{"id":8110789,"username":"tgolubeva","name":"Tatyana Golubeva","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110789/avatar.png","web_url":"https://gitlab.com/tgolubeva"},"labels":["UX","[deprecated] Accepting merge requests","[deprecated] Category:Billing and Subscription Management","devops::fulfillment","group::billing and subscription management","section::fulfillment","type::feature"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":4377833,"username":"esybrant","name":"Emily Sybrant","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4377833/avatar.png","web_url":"https://gitlab.com/esybrant"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333824","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333824","notes":"https://gitlab.com/api/v4/projects/278964/issues/333824/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333824/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333824","relative":"#333824","full":"gitlab-org/gitlab#333824"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6544,"epic":{"id":324159,"iid":6544,"title":"Move the add seats flow to GitLab.com","url":"/groups/gitlab-org/-/epics/6544","group_id":9970},"iteration":null,"health_status":null},{"id":88825564,"iid":333821,"project_id":278964,"title":"Group feature flag for cleanup policies","description":"### :fire: Problem\n\nEnabling cleanup policies is done through a ~\"feature flag\". This ~\"feature flag\" is scoped by project.\n\nWe're starting rolling out this feature and targeting several projects at once. It becomes tedious to enable the ~\"feature flag\" on each project.\n\n### :fire_engine: Solution\n\nIntroduce a second ~\"feature flag\"  that works on Group. The cleanup policy feature would be unlocked if:\n\n* the direct parent group of the project has the ~\"feature flag\" \n\nIdeally, we could check the whole group hierarchy but there are some concerns regarding the ~performance of that. That's basically walking all project group's ancestors and checking each against the ~\"feature flag\"","state":"closed","created_at":"2021-06-16T15:55:41.970Z","updated_at":"2021-09-14T12:10:29.866Z","closed_at":"2021-09-14T12:10:29.832Z","closed_by":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"labels":["Category:Container Registry","[deprecated] Accepting merge requests","backend","devops::package","group::package registry","ruby","section::ops"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333821","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333821","notes":"https://gitlab.com/api/v4/projects/278964/issues/333821/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333821/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333821","relative":"#333821","full":"gitlab-org/gitlab#333821"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88825054,"iid":333819,"project_id":278964,"title":"Broken test with PG11: ee/spec/services/iterations/roll_over_issues_service_spec.rb:82","description":"Job [#1352239725](https://gitlab.com/gitlab-org/gitlab/-/jobs/1352239725) failed for 5cb95f443198fe19555524d7cbd422448584c6e7:\n\n```\n  1) Iterations::RollOverIssuesService when iterations are present when user has permissions to roll-over issues when user is the automation bot rolls-over issues to next iteration\n     Failure/Error:\n       expect { subject }.to change { started_iteration.reload.issues }.from([]).to(open_issues)\n                             .and(change { closed_iteration1.reload.issues }.from(open_issues + closed_issues).to(closed_issues) )\n                             .and(change(ResourceIterationEvent, :count).by(10))\n       expected `closed_iteration1.reload.issues` to have initially been [#\u003cIssue id:269 namespace1026/project1536#1\u003e, #\u003cIssue id:270 namespace1027/project1537#1\u003e, #\u003cIssue id...ct1543#1\u003e, #\u003cIssue id:277 namespace1034/project1544#1\u003e, #\u003cIssue id:278 namespace1035/project1545#1\u003e], but was #\u003cActiveRecord::Associations::CollectionProxy [#\u003cIssue id:278 namespace1035/project1545#1\u003e, #\u003cIssue i...t1538#1\u003e, #\u003cIssue id:270 namespace1027/project1537#1\u003e, #\u003cIssue id:269 namespace1026/project1536#1\u003e]\u003e\n     # ./ee/spec/services/iterations/roll_over_issues_service_spec.rb:83:in `block (5 levels) in \u003ctop (required)\u003e'\n     # ./spec/spec_helper.rb:372:in `block (3 levels) in \u003ctop (required)\u003e'\n     # ./spec/support/sidekiq_middleware.rb:9:in `with_sidekiq_server_middleware'\n     # ./spec/spec_helper.rb:363:in `block (2 levels) in \u003ctop (required)\u003e'\n     # ./spec/spec_helper.rb:359:in `block (3 levels) in \u003ctop (required)\u003e'\n     # ./lib/gitlab/application_context.rb:31:in `with_raw_context'\n     # ./spec/spec_helper.rb:359:in `block (2 levels) in \u003ctop (required)\u003e'\nFinished in 23 minutes 12 seconds (files took 57.8 seconds to load)\n2489 examples, 1 failure, 9 pending\nFailed examples:\nrspec ./ee/spec/services/iterations/roll_over_issues_service_spec.rb:82 # Iterations::RollOverIssuesService when iterations are present when user has permissions to roll-over issues when user is the automation bot rolls-over issues to next iteration\n```\n\nIntroduced by https://gitlab.com/gitlab-org/gitlab/-/merge_requests/62350.","state":"closed","created_at":"2021-06-16T15:47:09.622Z","updated_at":"2021-07-27T18:37:59.964Z","closed_at":"2021-06-17T09:38:14.809Z","closed_by":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"labels":["Engineering Productivity","failure::flaky-test","test","type::bug"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"}],"author":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"type":"ISSUE","assignee":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333819","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333819","notes":"https://gitlab.com/api/v4/projects/278964/issues/333819/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333819/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333819","relative":"#333819","full":"gitlab-org/gitlab#333819"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88821160,"iid":333811,"project_id":278964,"title":"Remove indexes on `ci_builds` that are no longer required","description":"## Description\n\nOnce we rollout `ci_pending_builds` on-premises and this new mechanism is fully enabled everywhere, we should remove indexes on `ci_builds` that are no longer necessary.\n\nThis issue is blocked by https://gitlab.com/gitlab-org/gitlab/-/issues/332952.\n\nRelated to https://gitlab.com/gitlab-org/gitlab/-/issues/332472#note_591248174\n\n/cc @abrandl","state":"closed","created_at":"2021-06-16T14:51:04.655Z","updated_at":"2022-07-21T15:14:39.361Z","closed_at":"2022-07-14T09:04:37.983Z","closed_by":{"id":263716,"username":"grzesiek","name":"Grzegorz Bizon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/263716/avatar.jpeg","web_url":"https://gitlab.com/grzesiek"},"labels":["auto updated","pods::active"],"milestone":null,"assignees":[],"author":{"id":263716,"username":"grzesiek","name":"Grzegorz Bizon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/263716/avatar.jpeg","web_url":"https://gitlab.com/grzesiek"},"type":"ISSUE","assignee":null,"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333811","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333811","notes":"https://gitlab.com/api/v4/projects/278964/issues/333811/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333811/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333811","relative":"#333811","full":"gitlab-org/gitlab#333811"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4685,"epic":{"id":131789,"iid":4685,"title":"CICD data partition sub-tasks","url":"/groups/gitlab-org/-/epics/4685","group_id":9970,"human_readable_end_date":"Jun 1, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88817173,"iid":333805,"project_id":278964,"title":"List acceptable characters for project suffix and improve validation message (Service Desk)","description":"The following discussion from !63781 should be addressed:\n\n- [ ] @leetickett started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/63781#note_602143858): \n\n    \u003e As an aside, I didn't realise this. It doesn't seem to say this in the UI... and when trying to use an invalid character the error message doesn't explain why it can't be saved. Should we create a follow-up to improve that?\n\n### Proposal\n\n- [x] Improve the validation error message when setting project suffix fails https://gitlab.com/gitlab-org/gitlab/-/merge_requests/64352\n- [ ] Improve text guidance on input field https://gitlab.com/gitlab-org/gitlab/-/merge_requests/73864/","state":"closed","created_at":"2021-06-16T14:01:59.027Z","updated_at":"2023-01-12T00:33:23.321Z","closed_at":"2021-11-15T10:37:03.136Z","closed_by":{"id":3236898,"username":"rajatgitlab","name":"Rajat Jain","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3236898/avatar.png","web_url":"https://gitlab.com/rajatgitlab"},"labels":["Category:Service Desk","UI text","backend","devops::plan","frontend","good for new contributors","group::respond","section::dev","workflow::production"],"milestone":null,"assignees":[{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"}],"author":{"id":4418630,"username":"johnhope","name":"John Hope","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4418630/avatar.png","web_url":"https://gitlab.com/johnhope"},"type":"ISSUE","assignee":{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"},"user_notes_count":9,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333805","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":1},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333805","notes":"https://gitlab.com/api/v4/projects/278964/issues/333805/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333805/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333805","relative":"#333805","full":"gitlab-org/gitlab#333805"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88808873,"iid":333791,"project_id":278964,"title":"Fix terraform wrong use of `GroupPackagesFinder`","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nThe terraform API class uses `GroupPackagesFinder` in a wrong way.\n\nIt [passes](https://gitlab.com/gitlab-org/gitlab/-/blob/40154e7a951f550bb676e0a369704d5ddb20ff25/lib/api/terraform/modules/v1/packages.rb#L57-61) a package name but actually the finder is doing a [fuzzy search](https://gitlab.com/gitlab-org/gitlab/-/blob/4317bf918c407439c1f527dc7e876e6a30799550/app/finders/concerns/packages/finder_helper.rb#L54).\n\nThis could lead to ~bugs where package `foobar` is returned when package name `foo` is used.\n\n### Solution\n\nUse a custom finder to find the package by exact name or implement https://gitlab.com/gitlab-org/gitlab/-/issues/333790 and use that.","state":"closed","created_at":"2021-06-16T12:15:20.377Z","updated_at":"2022-01-25T09:11:51.372Z","closed_at":"2021-11-11T22:52:40.076Z","closed_by":{"id":3916059,"username":"mattkasa","name":"Matt Kasa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3916059/avatar.png","web_url":"https://gitlab.com/mattkasa"},"labels":["Category:Infrastructure as Code","Deliverable","Terraform Registry","backend","candidate::14.5","customer","devops::configure","group::configure","missed-SLO","priority::1","ruby","section::ops","severity::1","type::bug"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":3916059,"username":"mattkasa","name":"Matt Kasa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3916059/avatar.png","web_url":"https://gitlab.com/mattkasa"}],"author":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"type":"ISSUE","assignee":{"id":3916059,"username":"mattkasa","name":"Matt Kasa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3916059/avatar.png","web_url":"https://gitlab.com/mattkasa"},"user_notes_count":12,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333791","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333791","notes":"https://gitlab.com/api/v4/projects/278964/issues/333791/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333791/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333791","relative":"#333791","full":"gitlab-org/gitlab#333791"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6753,"epic":{"id":349088,"iid":6753,"title":"Packages code improvements","url":"/groups/gitlab-org/-/epics/6753","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":88804651,"iid":333779,"project_id":278964,"title":"Analyse and fix settings that are not correctly overridden","description":"With https://gitlab.com/gitlab-org/gitlab/-/issues/333269 we found that `CurrentSettings` can be called with any method and delegates to `ApplicationSettings`. In `ApplicationSettingImplementation` we override some of these methods. However, since Rails Active Record attributes can all be called with either `column_name` or `column_name?`, we'd should always override both methods with an `alias`, as we did with https://gitlab.com/gitlab-org/gitlab/-/merge_requests/63784\n\nWith this issue we want to look at all ~\"group::product intelligence\" related settings and make sure that we have:\n- Do not call the wrong method anywhere, so the `ApplicationSettingImplementation` methods don't get used\n- Have a proper test coverage for the settings\n- An `alias` method available to make sure it can be called with both variants\n\n### Settings to investigate\n\n- [x] `usage_ping_enabled`\n- [x] `seat_link_enabled`\n- [x] `snowplow_enabled`\n- [x] `snowplow_collector_hostname`\n- [x] `snowplow_cookie_domain`\n\n### Settings outside ~\"group::product intelligence\" to investigate\n\n- [x] `elasticsearch_indexing`\n- [x] `elasticsearch_pause_indexing`\n- [x] `elasticsearch_search`","state":"closed","created_at":"2021-06-16T10:52:44.643Z","updated_at":"2021-06-22T16:06:05.792Z","closed_at":"2021-06-22T16:06:05.777Z","closed_by":{"id":8013274,"username":"pskorupa","name":"Piotr Skorupa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8013274/avatar.png","web_url":"https://gitlab.com/pskorupa"},"labels":["backend","corrective action","devops::growth","group::product intelligence","section::growth","workflow::verification"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":8013274,"username":"pskorupa","name":"Piotr Skorupa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8013274/avatar.png","web_url":"https://gitlab.com/pskorupa"}],"author":{"id":3509693,"username":"nicolasdular","name":"Nicolas Dular","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c4a21f15150c12ddf13fd848597cddd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/nicolasdular"},"type":"ISSUE","assignee":{"id":8013274,"username":"pskorupa","name":"Piotr Skorupa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8013274/avatar.png","web_url":"https://gitlab.com/pskorupa"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333779","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":8,"completed_count":8},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"8 of 8 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333779","notes":"https://gitlab.com/api/v4/projects/278964/issues/333779/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333779/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333779","relative":"#333779","full":"gitlab-org/gitlab#333779"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88802173,"iid":333776,"project_id":278964,"title":"Expose \"canPushCode\" to GraphQL RepositoryBlob Query","description":"This attribute is required for the Replace Modal in the Blob Header. \n\n| Replace button | Modal |\n| ------ | ------ |\n|![image](/uploads/2e63ed91658e86b04267d6bd3d96f60a/image.png) | ![image](/uploads/bfeba00f78a243dd29a71f01d13263bf/image.png)|\n\n\nIn this MR \u003e https://gitlab.com/gitlab-org/gitlab/-/merge_requests/62880, we implemented the \"Replace\" feature into Vue from HAML. During the migration, we noticed the original HAML file was using [can_push_code](https://gitlab.com/gitlab-org/gitlab/blob/3fec2fa58d97ac606550da662faf8692acdb32ea/app/views/shared/_new_commit_form.html.haml#L12). Unfortunately this attribute was not available in the GraphQL query. So the next best thing was used `canModifyBlob`. However, these 2 attributes are NOT exactly the same, see https://gitlab.com/gitlab-org/gitlab/-/merge_requests/62880#note_600893034. So in this issue, let's expose this attribute and make it available in the GraphQL query for the \"RepositoryBlob\" 💪\n\n## Proposal\n\n### 1. ~backend\n\nPlease make \"canPushCode\" attribute available in the GraphQL query for the \"RepositoryBlob\"\n\n\u003cimg src=\"/uploads/c9ec4b7f938bbae23ebc777e055c80ca/image.png\" height=\"300px\"\u003e\n\n\n### 2. ~frontend \n\nLet's update it to use the updated `canPushCode` \u003e https://gitlab.com/gitlab-org/gitlab/blob/f779a43b65b46cac74fddc937088f7e72704f5ee/app/assets/javascripts/repository/components/blob_content_viewer.vue#L140","state":"closed","created_at":"2021-06-16T10:12:12.820Z","updated_at":"2021-07-18T07:06:54.867Z","closed_at":"2021-07-12T22:21:02.413Z","closed_by":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"labels":["Category:Source Code Management","Deliverable","backend","backend-weight::2","devops::create","frontend","frontend-weight::1","group::source code","quad-planning::complete-no-action","section::dev","type::feature","workflow::verification"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"}],"author":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"type":"ISSUE","assignee":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333776","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333776","notes":"https://gitlab.com/api/v4/projects/278964/issues/333776/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333776/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333776","relative":"#333776","full":"gitlab-org/gitlab#333776"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88795254,"iid":333773,"project_id":278964,"title":"Reimplement Delete button to Blob Header in Vue","description":"This is a follow-up issue to https://gitlab.com/gitlab-org/gitlab/-/issues/323210, where we are rebuilding the Blob header into Vue.\n\nThis issue is to cover the \"Delete\" button\n\n| Button | Modal |\n| ------ | ------ |\n| ![image](/uploads/e0aa6793b4e7d5bad911ca07fb8c074b/image.png) | ![image](/uploads/0853bdb5a282a5e72751e7463657f6d3/image.png) |\n\n## Backend Support\n\nSimilarly to how we have the `replacePath` for the \"Replace\" button. Can we please also expose a `deletePath` in the GraphQL endpoint 😁\n\nFor reference, this is the `replacePath` info:\n\n\u003cimg src=\"/uploads/98f3345c6308507c9957cd617b79922e/image.png\" height=\"300px\"\u003e","state":"closed","created_at":"2021-06-16T09:04:26.775Z","updated_at":"2021-08-18T07:00:48.079Z","closed_at":"2021-07-22T15:15:09.432Z","closed_by":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"labels":["Category:Source Code Management","Deliverable","backend","backend-weight::1","devops::create","frontend","frontend-weight::3","group::source code","missed-deliverable","missed:14.1","section::dev","type::feature","workflow::in dev"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":421631,"username":"vyaklushin","name":"Vasilii Iakliushin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/421631/avatar.png","web_url":"https://gitlab.com/vyaklushin"},{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"}],"author":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"type":"ISSUE","assignee":{"id":421631,"username":"vyaklushin","name":"Vasilii Iakliushin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/421631/avatar.png","web_url":"https://gitlab.com/vyaklushin"},"user_notes_count":20,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333773","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333773","notes":"https://gitlab.com/api/v4/projects/278964/issues/333773/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333773/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333773","relative":"#333773","full":"gitlab-org/gitlab#333773"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88794041,"iid":333770,"project_id":278964,"title":"Move some Gitlab::Ci::Config::Entry::Job ALLOWED _KEYS to EE","description":"The following discussion from !63370 should be addressed:\n\n- [x] [Add moving `secrets: job[:secrets]` to `ee/lib/ee/gitlab/ci/yaml_processor/result.rb`](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/73017)\n- [x] @furkanayhan started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/63370#note_596477575):  (+1 comment) [Done](!72829)\n\n    \u003e I am not sure how important it is but do you think we should handle this in EE.\n    \u003e \n    \u003e We can add a class method and override like;\n    \u003e \n    \u003e ```ruby\n    \u003e # lib/gitlab/ci/config/entry/job.rb\n    \u003e \n    \u003e def self.allowed_keys\n    \u003e   ALLOWED_KEYS\n    \u003e end\n    \u003e \n    \u003e # ee/lib/ee/gitlab/ci/config/entry/job.rb\n    \u003e \n    \u003e EE_ALLOWED_KEYS = %i[dast_configuration secrets].freeze\n    \u003e \n    \u003e def self.allowed_keys\n    \u003e   super + EE_ALLOWED_KEYS\n    \u003e end\n    \u003e ```\n    \u003e \n    \u003e I'll create a follow-up issue for this.\n\ncc @philipcunningham","state":"closed","created_at":"2021-06-16T08:52:26.325Z","updated_at":"2021-11-01T13:13:53.219Z","closed_at":"2021-11-01T13:13:53.200Z","closed_by":{"id":9430722,"username":"mc_rocha","name":"Marcos Rocha","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9430722/avatar.png","web_url":"https://gitlab.com/mc_rocha"},"labels":["Category:DAST","backend","devops::secure","group::dynamic analysis","maintenance::refactor","section::sec","workflow::in dev"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":5749348,"username":"philipcunningham","name":"Philip Cunningham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5749348/avatar.png","web_url":"https://gitlab.com/philipcunningham"},{"id":9430722,"username":"mc_rocha","name":"Marcos Rocha","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9430722/avatar.png","web_url":"https://gitlab.com/mc_rocha"}],"author":{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"},"type":"ISSUE","assignee":{"id":5749348,"username":"philipcunningham","name":"Philip Cunningham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5749348/avatar.png","web_url":"https://gitlab.com/philipcunningham"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333770","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":2},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333770","notes":"https://gitlab.com/api/v4/projects/278964/issues/333770/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333770/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333770","relative":"#333770","full":"gitlab-org/gitlab#333770"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88781071,"iid":333760,"project_id":278964,"title":"Grype to only report OS findings in container-scanning","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\nWe have an analyzer specific to report security findings for dependencies. If the container-scanning analyzer also reports findings in dependencies (e.g. python packages, rubygems), these might appear twice in the security report.\n\nUntil we have a better way of correlating/deduplicating findings across analyzers, each report should focus on its own area.\n\nTo this end, we need Grype to only report OS findings. The equivalent setting for Trivy is `--vuln-type os`.\n\n\u003c!--\nA brief explanation of the why, not the what or how. Assume the reader doesn't know the\nbackground and won't have time to dig-up information from comment threads.\n--\u003e\n\n\n## Relevant links\n\u003c!--\nInformation that the developer might need to refer to when implementing the issue.\n\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e)\n  - [Design 1](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n  - [Design 2](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n- [Similar implementation](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/\u003cid\u003e)\n--\u003e\n\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [ ] Documentation:\n- [ ] Feature flag:\n- [ ] Performance:\n- [ ] Testing:\n\n\n## Implementation plan\n\u003c!--\nSteps and the parts of the code that will need to get updated. The plan can also\ncall-out responsibilities for other team members or teams.\n\ne.g.:\n\n- [ ] ~frontend Step 1\n  - [ ] `@person` Step 1a\n- [ ] ~frontend Step 2\n\n--\u003e\n\n- [x] ~backend modify `lib/gitlab.grype.tpl` template to not add vulnerability when value of `.Artifact.Language` is not empty:\n\n```\n{{ if ne .Artifact.Language \"\" -}}\n... everything in range body ...\n{{- end -}}\n```\n\n\u003c!--\nWorkflow and other relevant labels\n\n# ~\"group::\" ~\"Category:\" ~\"GitLab Ultimate\"\nOther settings you might want to include when creating the issue.\n\n# /assign @\n# /epic \u0026\n--\u003e","state":"closed","created_at":"2021-06-16T05:14:00.730Z","updated_at":"2021-10-28T13:55:55.989Z","closed_at":"2021-07-06T13:47:20.985Z","closed_by":{"id":5535431,"username":"mparuszewski","name":"Alan (Maciej) Paruszewski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535431/avatar.png","web_url":"https://gitlab.com/mparuszewski"},"labels":["Category:Container Scanning","backend","devops::govern","group::security policies","section::sec","type::maintenance","workflow::verification"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":5535431,"username":"mparuszewski","name":"Alan (Maciej) Paruszewski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535431/avatar.png","web_url":"https://gitlab.com/mparuszewski"},{"id":8401507,"username":"sashi_kumar","name":"Sashi Kumar Kumaresan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8401507/avatar.png","web_url":"https://gitlab.com/sashi_kumar"}],"author":{"id":480804,"username":"thiagocsf","name":"Thiago Figueiró","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480804/avatar.png","web_url":"https://gitlab.com/thiagocsf"},"type":"ISSUE","assignee":{"id":5535431,"username":"mparuszewski","name":"Alan (Maciej) Paruszewski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535431/avatar.png","web_url":"https://gitlab.com/mparuszewski"},"user_notes_count":21,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333760","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":8,"completed_count":1},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 8 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333760","notes":"https://gitlab.com/api/v4/projects/278964/issues/333760/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333760/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333760","relative":"#333760","full":"gitlab-org/gitlab#333760"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88780748,"iid":333759,"project_id":278964,"title":"Follow-up from \"Move monitoring integrations to `Integrations::` [RUN ALL RSPEC] [RUN AS-IF-FOSS]\"","description":"The following discussion from !62645 should be addressed:\n\n- [ ] @cablett started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/62645#note_602377706):  (+1 comment)\n\n    \u003e nit: this is probably out of scope but we could maybe delegate this to `current_settings`? (follow-up OK if this is even a good idea)","state":"closed","created_at":"2021-06-16T05:01:55.139Z","updated_at":"2022-11-22T19:39:35.680Z","closed_at":"2021-06-23T01:44:45.841Z","closed_by":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"labels":["automation:ml","backend","devops::manage","group::ecosystem [DEPRECATED]","section::dev","type::maintenance"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"}],"author":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"type":"ISSUE","assignee":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333759","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333759","notes":"https://gitlab.com/api/v4/projects/278964/issues/333759/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333759/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333759","relative":"#333759","full":"gitlab-org/gitlab#333759"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2504,"epic":{"id":18352,"iid":2504,"title":"Rename \"Services\" to \"Integrations\"","url":"/groups/gitlab-org/-/epics/2504","group_id":9970},"iteration":null,"health_status":null},{"id":88776285,"iid":333752,"project_id":278964,"title":"Generate implementer defined handling from YAML payload","description":"\n### Problem to solve\n\nYAML payloads conforming to the [DAST CWE Checks Schema](https://gitlab.com/gitlab-org/security-products/dast-cwe-checks/-/blob/main/dast-cwe-check-schema.json) that include the `implementer_defined` type should allow for browserker to determine which backing code file to call to implement the check.\n\n### Proposal\n\n\n\n### Specification\n\n\n### Intended users\n\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n\n### What does success look like, and how can we measure that?\n\nBrowserker is able to import yaml files that contain the `implementer_defined` object types and determine which backing code file to execute.\n\n### What is the type of buyer?\n\n[Gold/Ultimate](https://about.gitlab.com/handbook/product/pricing/#four-tiers)\n\n### Links / references","state":"closed","created_at":"2021-06-16T01:51:47.348Z","updated_at":"2021-11-24T00:28:41.477Z","closed_at":"2021-11-24T00:28:41.464Z","closed_by":{"id":4310743,"username":"sethgitlab","name":"Seth Berger","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4310743/avatar.png","web_url":"https://gitlab.com/sethgitlab"},"labels":["Category:DAST","GitLab Ultimate","dast-cwe-check-implementer-defined","dast::browserker","devops::secure","group::dynamic analysis","section::sec"],"milestone":{"id":2156369,"iid":68,"group_id":9970,"title":"14.7","description":"","state":"active","created_at":"2021-07-21T17:39:41.786Z","updated_at":"2021-07-21T17:39:41.786Z","due_date":"2022-01-17","start_date":"2021-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/68"},"assignees":[{"id":5344211,"username":"craigmsmith","name":"Craig Smith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5344211/avatar.png","web_url":"https://gitlab.com/craigmsmith"}],"author":{"id":5324454,"username":"idawson","name":"Isaac Dawson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5324454/avatar.png","web_url":"https://gitlab.com/idawson"},"type":"ISSUE","assignee":{"id":5344211,"username":"craigmsmith","name":"Craig Smith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5344211/avatar.png","web_url":"https://gitlab.com/craigmsmith"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333752","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333752","notes":"https://gitlab.com/api/v4/projects/278964/issues/333752/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333752/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333752","relative":"#333752","full":"gitlab-org/gitlab#333752"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6195,"epic":{"id":289811,"iid":6195,"title":"Implement YAML based vulnerability check engine","url":"/groups/gitlab-org/-/epics/6195","group_id":9970,"human_readable_end_date":"Jan 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88775579,"iid":333747,"project_id":278964,"title":"Optimize handling static assets in browser-based scans","description":"\n### Problem \n\nDAST browser-based (Browserker) scans open and close a new Chromium browser each time a new path is scanned. Closing and opening the browser clears the cache, hence when the new browser runs it must request common page assets again. Examples of common assets include application JavaScript and CSS files.\n\nThe extra requests pose two classes of problem:\n- Performance. Loading requests over and over again adds unnecessary time to the scan.\n- Memory. When using ZAP as a proxy server, ZAP will passive scan each request made and save results to the database. This causes scans to fail due to lack of memory issues as seen in https://gitlab.com/gitlab-org/gitlab/-/issues/333743.\n\n### Proposal\n\nBrowserker should cache JavaScript and CSS responses, and serve the response from its own cache for subsequent requests.\n\n1. When a \"cacheable\" resource is loaded via the browser, then Browserker should store the response in cache\n1. When a subsequent request to the same request is made, even using a different browser instance, then the request should be intercepted via the [fullfillRequest](https://chromedevtools.github.io/devtools-protocol/tot/Fetch/#method-fulfillRequest) DevTools protocol method. The response should be returned from the cache.\n1. When a request has the response returned from the cache, the original request should be discontinued and not reach the original destination application server.\n1. Consider using a way of recognising that the response was served from Browserker cache (e.g. extra response header)\n\n### What is a \"cacheable\" resource?\n\nTo be determined, some ideas:\n\n- `request.Type == “Media” || request.Type == “JS”`\n- Investigating the `cache-control` header","state":"closed","created_at":"2021-06-16T01:17:21.571Z","updated_at":"2022-07-11T03:22:52.734Z","closed_at":"2022-07-08T09:18:16.623Z","closed_by":{"id":4312863,"username":"cam_swords","name":"Cameron Swords","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3b729cf96bcced6384ebb94f0362bd4b?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam_swords"},"labels":["Category:DAST","dast::browserker","devops::secure","group::dynamic analysis","missed:14.4","section::sec","type::feature"],"milestone":{"id":1212252,"iid":48,"group_id":9970,"title":"Next 1-3 releases","description":"Issues which are not quite ready to schedule, but should be considered as part of the near-term roadmap.","state":"active","created_at":"2020-03-26T20:39:10.889Z","updated_at":"2020-03-26T20:39:10.889Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/48"},"assignees":[{"id":5324454,"username":"idawson","name":"Isaac Dawson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5324454/avatar.png","web_url":"https://gitlab.com/idawson"}],"author":{"id":4312863,"username":"cam_swords","name":"Cameron Swords","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3b729cf96bcced6384ebb94f0362bd4b?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam_swords"},"type":"ISSUE","assignee":{"id":5324454,"username":"idawson","name":"Isaac Dawson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5324454/avatar.png","web_url":"https://gitlab.com/idawson"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333747","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333747","notes":"https://gitlab.com/api/v4/projects/278964/issues/333747/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333747/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333747","relative":"#333747","full":"gitlab-org/gitlab#333747"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88774951,"iid":333745,"project_id":278964,"title":"Make Gitlab::Tracking.enabled? the SSoT for the snowplow_enabled setting","description":"`Gitlab::Tracking.enabled?` already checks if `Gitlab::CurrentSettings.snowplow_enabled?`, but then so do a number of other places.\n\nIt makes sense to make `Gitlab::Tracking.enabled?` the single-source-of-truth for that information.\n\nThis also makes it simpler to extend GitLab’s tracking capabilities in the future by making it more flexible in regards to what collector is being used/enabled.","state":"closed","created_at":"2021-06-16T00:43:12.973Z","updated_at":"2021-10-28T13:55:57.050Z","closed_at":"2021-06-22T20:41:32.951Z","closed_by":{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"},"labels":["devops::growth","group::acquisition","section::growth","type::maintenance"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"}],"author":{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"},"type":"ISSUE","assignee":{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333745","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333745","notes":"https://gitlab.com/api/v4/projects/278964/issues/333745/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333745/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333745","relative":"#333745","full":"gitlab-org/gitlab#333745"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88768189,"iid":333727,"project_id":278964,"title":"FE: Fetch scan execution policies in policy list","description":"## Why are we doing this work\n\nWe want to display scan execution policies along with network policies in Threat Monitoring. Now that the backend supports it, the frontend can fetch scan execution policies and display them in the list.\n\n## Relevant links\n\n* Epic: https://gitlab.com/groups/gitlab-org/-/epics/5362\n* Issue for creating the scan execution policies GraphQL endpoint: https://gitlab.com/gitlab-org/gitlab/-/issues/329423\n\n## Non-functional requirements\n\n- [x] Testing:\n  - [x] GraphQL query is triggered.\n\n\n## Implementation plan\n\n- [x] Create the `scan_execution_policies.query.graphql` query.\n- [x] Trigger the query from `NetworkPolicyList`.\n- [x] Display fetched items in the list.","state":"closed","created_at":"2021-06-15T19:43:43.971Z","updated_at":"2021-07-18T07:09:45.370Z","closed_at":"2021-06-30T11:28:12.132Z","closed_by":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"labels":["Deliverable","devops::govern","frontend","frontend-weight::2","group::security policies","section::sec","workflow::verification"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"}],"author":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"type":"ISSUE","assignee":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333727","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":5,"completed_count":5},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"5 of 5 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333727","notes":"https://gitlab.com/api/v4/projects/278964/issues/333727/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333727/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333727","relative":"#333727","full":"gitlab-org/gitlab#333727"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5362,"epic":{"id":198770,"iid":5362,"title":"Allow Users to Edit yaml-mode Scan Execution Policies in the Policy UI","url":"/groups/gitlab-org/-/epics/5362","group_id":9970,"human_readable_end_date":"Sep 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88767574,"iid":333721,"project_id":278964,"title":"API For Disable Sharing of Groups Outside of Hierarchy","description":"https://gitlab.com/gitlab-org/gitlab/-/issues/217623 introduced a new feature to prevent sharing groups outside the group hierarchy.\n\nThis issue is to add the API for this feature as described in the original issue here: https://gitlab.com/gitlab-org/gitlab/-/issues/217623#further-details\n\n\u003e This feature should expose an API attribute, similar to `share_with_group_lock` in the [Groups API](https://docs.gitlab.com/ee/api/groups.html). Enterprise customers need API attributes to automate their configuration.","state":"closed","created_at":"2021-06-15T19:23:21.346Z","updated_at":"2021-06-30T20:35:26.562Z","closed_at":"2021-06-30T20:35:26.546Z","closed_by":{"id":3716529,"username":"jagood","name":"Jason Goodman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6696c95a1788e2d4bee67df636805ecc?s=80\u0026d=identicon","web_url":"https://gitlab.com/jagood"},"labels":["[deprecated] Category:Utilization","backend","devops::fulfillment","group::utilization","section::fulfillment","workflow::in review"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":3716529,"username":"jagood","name":"Jason Goodman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6696c95a1788e2d4bee67df636805ecc?s=80\u0026d=identicon","web_url":"https://gitlab.com/jagood"}],"author":{"id":3716529,"username":"jagood","name":"Jason Goodman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6696c95a1788e2d4bee67df636805ecc?s=80\u0026d=identicon","web_url":"https://gitlab.com/jagood"},"type":"ISSUE","assignee":{"id":3716529,"username":"jagood","name":"Jason Goodman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6696c95a1788e2d4bee67df636805ecc?s=80\u0026d=identicon","web_url":"https://gitlab.com/jagood"},"user_notes_count":16,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333721","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333721","notes":"https://gitlab.com/api/v4/projects/278964/issues/333721/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333721/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333721","relative":"#333721","full":"gitlab-org/gitlab#333721"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88762360,"iid":333712,"project_id":278964,"title":"Navigating directly to pipelines' tabs don't reflect properly in sidebar","description":"\n### Summary\n\nIf you go directly to a specific pipeline tab, the left sidebar doesn't show the full `Pipeline` navigation as you would expect. If you go to the tab via the sidebar, it works as expected.\n\n### Steps to reproduce\n\n- Go directly to https://gitlab.com/gitlab-org/gitlab/-/pipelines/321415773/security\n- Sidebar `CI/CD` section is not expanded to see sub nav items\n- Go to same pipeline via the sidebar\n- Pipeline sub nav expanded correctly\n\n\n\n### What is the expected *correct* behavior?\n\nSidebar should show correct sub-nav items regardless of how user got to specific page\n\n### Relevant logs and/or screenshots\n\n| Pipeline page accessed via sidebar | Pipeline page accessed via direct URL |\n| ------ | ------ |\n| ![Screen_Shot_2021-06-15_at_11.15.37_AM](/uploads/83046f1ddc931f7d69f5aa2ef5758a7e/Screen_Shot_2021-06-15_at_11.15.37_AM.png) | ![Screen_Shot_2021-06-15_at_11.14.36_AM](/uploads/fd1abc0eb3661cf5ff10bbb98cd8c115/Screen_Shot_2021-06-15_at_11.14.36_AM.png) |","state":"closed","created_at":"2021-06-15T17:01:59.787Z","updated_at":"2021-06-17T08:06:33.847Z","closed_at":"2021-06-17T08:06:33.819Z","closed_by":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"labels":["Category:Navigation \u0026 Settings","devops::create","group::editor","section::dev","type::bug"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"}],"author":{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},"type":"ISSUE","assignee":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333712","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333712","notes":"https://gitlab.com/api/v4/projects/278964/issues/333712/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333712/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333712","relative":"#333712","full":"gitlab-org/gitlab#333712"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88761444,"iid":333705,"project_id":278964,"title":"Regularly updated mirror of the trivy and trivy-db","description":"## Why are we doing this work\nCreate a regularly updated mirror of [trivy](https://github.com/aquasecurity/trivy) and [trivy-db](https://github.com/aquasecurity/trivy-db) within GitLab \n\n\n## Relevant links\n\u003c!--\nInformation that the developer might need to refer to when implementing the issue.\n\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e)\n  - [Design 1](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n  - [Design 2](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n- [Similar implementation](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/\u003cid\u003e)\n--\u003e\n\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [-] Documentation:\n- [-] Feature flag:\n- [-] Performance:\n- [-] Testing:\n\n\n## Implementation plan\n\n- We currently have cloned projects: https://gitlab.com/gitlab-org/security-products/analyzers/trivyclone and https://gitlab.com/gitlab-org/security-products/analyzers/trivy-dbclone But they have to be mirrored inside https://gitlab.com/gitlab-org/security-products/dependencies with [pull mirroring](https://docs.gitlab.com/ee/user/project/repository/repository_mirroring.html#pulling-from-a-remote-repository) enabled.\n\n\n\u003c!--\nWorkflow and other relevant labels\n\n# ~\"group::\" ~\"Category:\" ~\"GitLab Ultimate\"\nOther settings you might want to include when creating the issue.\n\n# /assign @\n# /epic \u0026\n--\u003e","state":"closed","created_at":"2021-06-15T16:39:43.262Z","updated_at":"2022-12-29T06:47:21.032Z","closed_at":"2021-10-25T14:57:40.537Z","closed_by":{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"},"labels":["Category:Container Scanning","backend","devops::govern","feature::enhancement","group::security policies","missed:14.2","section::sec","type::feature","workflow::verification"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"}],"author":{"id":8401507,"username":"sashi_kumar","name":"Sashi Kumar Kumaresan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8401507/avatar.png","web_url":"https://gitlab.com/sashi_kumar"},"type":"ISSUE","assignee":{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"},"user_notes_count":7,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333705","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333705","notes":"https://gitlab.com/api/v4/projects/278964/issues/333705/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333705/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333705","relative":"#333705","full":"gitlab-org/gitlab#333705"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88755790,"iid":333695,"project_id":278964,"title":"Technical discovery: Content Editor context menu","description":"\u003c!-- Instructions: Use this template for a proof of concept or when a deeper technical evaluation is required. Please weigh tech evaluation issues and follow the instructions below accordingly. --\u003e \n\n### Topic to Evaluate\n\nIn %14.1 we are implementing insertion of images and tables in the Content Editor. These content types require in-context editing tools for specific actions that are only relevant to them:\n\n- Inserting / removing rows and columns into tables.\n- Changing the URL or the alternative text of an image. \n- Resizing an image or adding a caption. \n\nThe purpose of this issue is researching and validating the implementation of a context menu component that can be reused across content types. The context menu component should allow customizing the actions that it allows based on the selected content type. \n\n### Tasks to  Evaluate\n\n- [x] Determine feasibility of the feature\n- [x] Create issue for implementation or update existing implementation issue description with implementation proposal \n- [x] Set weight on implementation issue\n- [x] If weight is greater than 5, break issue into smaller issues\n\n### Risks and Implementation Considerations \n\n\u003c!-- Identify any risks found in the research, whether this is performance, impacts to other functionality or other bugs --\u003e\n\n### Team\n\n- [x] Add ~\"workflow::planning breakdown\" ~feature and the corresponding `~devops::\u003cstage\u003e` and `~group::\u003cgroup\u003e` labels.\n- [x] Ping the PM and EM.","state":"closed","created_at":"2021-06-15T14:49:06.081Z","updated_at":"2021-07-18T07:07:29.556Z","closed_at":"2021-07-15T15:42:03.731Z","closed_by":{"id":3540517,"username":"ealcantara","name":"Enrique Alcántara","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3540517/avatar.png","web_url":"https://gitlab.com/ealcantara"},"labels":["Deliverable","devops::create","frontend","group::editor","section::dev","workflow::planning breakdown"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":2338505,"username":"mle","name":"Michael Le","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2338505/avatar.png","web_url":"https://gitlab.com/mle"},{"id":3540517,"username":"ealcantara","name":"Enrique Alcántara","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3540517/avatar.png","web_url":"https://gitlab.com/ealcantara"}],"author":{"id":3540517,"username":"ealcantara","name":"Enrique Alcántara","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3540517/avatar.png","web_url":"https://gitlab.com/ealcantara"},"type":"ISSUE","assignee":{"id":2338505,"username":"mle","name":"Michael Le","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2338505/avatar.png","web_url":"https://gitlab.com/mle"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333695","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":6},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"6 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333695","notes":"https://gitlab.com/api/v4/projects/278964/issues/333695/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333695/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333695","relative":"#333695","full":"gitlab-org/gitlab#333695"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5404,"epic":{"id":203848,"iid":5404,"title":"Basic Markdown formatting extensions for the Content Editor","url":"/groups/gitlab-org/-/epics/5404","group_id":9970,"human_readable_end_date":"Aug 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88753568,"iid":333691,"project_id":278964,"title":"Deduplicate MR diff row array generation for lower memory usage","description":"For each diff file we change the diff lines array to a format that suits our components which is fine. However the issue we have is that anytime _any_ data inside _any_ diff line in the array gets changed the whole array needs to get re-generated. \n\nWhat does this mean? Well it means we technically have **2** arrays for the same data, so double the memory usage. It also means that anytime this array gets changed each `diff_row.vue` component gets updated. Not a massive issue as the computed props etc. get cached. However, if we want to have functional components where the caching isn't the same then we need to figure this out so that whenever data changes only that line re-renders, not the whole diff file.\n\nI'm marking this as ~performance, i'm not sure how much performance or memory we will save, but it _should_ unblock other work to help performance. \n\n/cc @andr3","state":"closed","created_at":"2021-06-15T14:30:57.640Z","updated_at":"2021-07-18T07:07:04.539Z","closed_at":"2021-07-06T08:14:22.600Z","closed_by":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"labels":["Deliverable","OKR FY22 Q2::Large MR","bug::performance","devops::create","frontend","group::code review","section::dev"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"}],"author":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"type":"ISSUE","assignee":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333691","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333691","notes":"https://gitlab.com/api/v4/projects/278964/issues/333691/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333691/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333691","relative":"#333691","full":"gitlab-org/gitlab#333691"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88751093,"iid":333687,"project_id":278964,"title":"Update ListConflictFiles to support listing conflicts even when there is a missing side","description":"## Problem to solve\n\nWe want to be able to show which type of conflict occurred in a file in https://gitlab.com/gitlab-org/gitlab/-/issues/281171. For some scenarios, like when the file is removed from source/target branch or rename conflicts, one of the sides (ours or theirs) can be missing.\n\nCurrently the `ListConflictFiles` RPC doesn't return list of conflicts when there's a missing side. It returns an error instead.\n\n## Proposal\n\n1. Make `ListConflictFiles` RPC support returning list of conflicts even if there are missing sides. Right now, it doesn't support it. We need it so we can know which type of conflict occurred for a specific file. This requires changes on Gitaly.\n1. Ensure that when consuming the updated `ListConflictFiles` on the gitlab-rails side, that we only show the resolve button for really resolvable conflicts.\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2021-06-15T13:56:06.013Z","updated_at":"2022-08-10T16:23:34.229Z","closed_at":"2021-07-28T05:34:38.797Z","closed_by":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"labels":["Deliverable","backend","devops::create","direction","group::code review","missed:14.1","section::dev","type::maintenance"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"}],"author":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"type":"ISSUE","assignee":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333687","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333687","notes":"https://gitlab.com/api/v4/projects/278964/issues/333687/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333687/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333687","relative":"#333687","full":"gitlab-org/gitlab#333687"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4893,"epic":{"id":142729,"iid":4893,"title":"Merge conflicts in diffs","url":"/groups/gitlab-org/-/epics/4893","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":88747885,"iid":333681,"project_id":278964,"title":"Filter usage_data payload considering metric category","description":"Compute regular usage ping and filter data before sending it to versions app considering the instance configuration.\n\n\n### Scenarios\n\n\n|   | CE / EE | Instance Service Ping Enabled | License Service Ping Enabled | Optional | Operational | Standard | Subscription  | Comment                                                                            |\n|---|---------|-------------------------------|------------------------------|----------|-------------|----------|---------------|------------------------------------------------------------------------------------|\n| 1 | CE      | No                            | No                           | No       | No          | No       | No            | Nothing enabled, nothing gets sent                                                 |\n| 2 | CE      | Yes                           | No (not possible)            | Yes      | Yes         | Yes      | Yes (partial( | Everything gets sent, Subscription data only for metrics that are available for CE |\n| 3 | EE      | No                            | No                           | No       | No          | No       | No            | Nothing enabled, nothing gets sent                                                 |\n| 4 | EE      | No                            | Yes                          | No       | Yes         | Yes      | Yes           | Enabled via TAM service, everything but optional                                   |\n| 5 | EE      | Yes                           | No                           | Yes      | Yes         | Yes      | Yes           | Instance Setting overrules everything, we want to send everything                  |\n| 6 | EE      | Yes                           | Yes                          | Yes      | Yes         | Yes      | Yes           | Everything is enabled, everything gets sent                                        |\n\n\nGiven the following metrics with the information in their YAML definitions\n\n```\nuuid: Standard\nhostname: Standard\nlicense_subscription_id: Standard\nlicense_md5: Standard\ncounts.license_management_jobs: Subscription\ncounts.merge_requests: Operational\ncounts.epics: Operational\ncounts.keys: Optional\ncounts.groups: Optional\n```\n#### Scenario 1\n\nIf there is no single users consent we send no data `User.single_user\u0026.requires_usage_stats_consent? == true`\n\n[Current behaviour](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/services/submit_usage_ping_service.rb#L21)\n\n```ruby\n  def requires_usage_stats_consent?\n    self.admin? \u0026\u0026 7.days.ago \u003e self.created_at \u0026\u0026 !has_current_license? \u0026\u0026 User.single_user? \u0026\u0026 !consented_usage_stats?\n  end\n\n```\n\n#### Scenario 1\n\nFor a free user, when `License.current` is blank when usage ping enabled we send\n\nStandard + Subscription + Optional + Operational\n\n```ruby\n{\n   uuid: 1, # Standard\n   hostname: 'name', # Standard\n   license_subscription_id: 1, # Standard\n   license_md5: 'md5', # Standard\n   counts: { \n      license_management_jobs: 100, # Subscription\n      merge_requests: 100, # Operational\n      epics: 100, # Operational     \n      keys: 100, # Optional\n      groups: 100 # Optional\n   }\n}\n```\n\n#### Scenario 2\n\nFor a free user, when `License.current` is blank when usage ping is disabled we don't send any data\n\n#### Scenario 3\n\nFor a customer, when `License.current` is not blank. When usage ping enabled and operational data enabled(`License.current.usage_ping? ==. true`) we send\n\nStandard + Subscription + Optional + Operational\n\n```ruby\n{\n   uuid: 1, # Standard\n   hostname: 'name', # Standard\n   license_subscription_id: 1, # Standard\n   license_md5: 'md5', # Standard\n   counts: { \n      license_management_jobs: 100, # Subscription\n      merge_requests: 100, # Operational\n      epics: 100, # Operational     \n      keys: 100, # Optional\n      groups: 100 # Optional\n   }\n}\n```\n\n#### Scenario 4\n\nFor a customer, when `License.current` is not blank. When usage ping enabled and operational data disabled(`License.current.usage_ping? == false`) we send\n\nStandard + Subscription + Optional + Operational\n\n```ruby\n{\n   uuid: 1, # Standard\n   hostname: 'name', # Standard\n   license_subscription_id: 1, # Standard\n   license_md5: 'md5', # Standard\n   counts: { \n      license_management_jobs: 100, # Subscription\n      merge_requests: 100, # Operational\n      epics: 100, # Operational     \n      keys: 100, # Optional\n      groups: 100 # Optional\n   }\n}\n```\n\n#### Scenario 5\n\nFor a customer, when `License.current` is not blank. When usage ping disabled and operational data enabled(`License.current.usage_ping? ==. true`) we send\n\nStandard + Subscription + Operational\n\n```ruby\n{\n   uuid: 1, # Standard\n   hostname: 'name', # Standard\n   license_subscription_id: 1, # Standard\n   license_md5: 'md5', # Standard\n   counts: { \n      counts.license_management_jobs: 100# Subscription\n      merge_requests: 100, # Operational\n      epics: 100, # Operational     \n   }\n}\n```\n\n#### Scenario 6\n\nFor a customer, when `License.current` is not blank. When usage ping disabled and operational data disabled(`License.current.usage_ping? == false`) we don't send any data.\n\n##  Notes\n\n- We should calculate Devops score only when sending all types of data [Standard, Subscription, Operational, Optional]\n\n- When previewing usage going in admin setting we should filter the data considering instance configuration. `app/controllers/admin/application_settings_controller.rb`\n\n- For instance review page with the redirect on CustomerDot should be prefilled with data after filtering usage ping `app/controllers/admin/instance_review_controller.rb` according to the instance configuration\n\n- The data we send should be reflected to [collected_data_types](https://gitlab.com/gitlab-org/gitlab/-/issues/333680) metric we add to usage ping\n\n- With this changes, there should be tests that we can successfully post all types of payload to VersionsApp and values are successfully saved in `raw_usage_data` table\n\n## Implementation proposal\n\nThis could be one way to implemented it, there might be other better ways. Maybe having a separate class that takes care of deciding what data is selected, up to the developer picking up the issue to decide on implementation.\n\nhttps://gitlab.com/gitlab-org/gitlab/-/blob/master/app/services/submit_usage_ping_service.rb#L19\n\nThis is pseudocode, please refer to initial [implementation](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/services/submit_usage_ping_service.rb#L19)\n\n```ruby\n  def execute\n    # This is part of the old logic, please confirm we should check this right at the begining\n    return if User.single_user\u0026.requires_usage_stats_consent?\n    \n    usage_data = filter_usage_data(Gitlab::UsageData.data(force_refresh: true))\n    \n    # save the filtered data.\n    raw_usage_data = save_raw_usage_data(usage_data)\n\n    response = post_to_versions_app(usage_data)\n\n    raw_usage_data.update_version_metadata!(usage_data_id: response.version_usage_data_id)\n    \n    # We would. have devops score to save only when we send to VersionsApp all data.\n    store_metrics(response)\n  end\n\n  private\n\n  # This could be done probably in a better way\n  def filter_usage_data(usage_data)\n    if License.current.present?\n       if Gitlab::CurrentSettings.usage_ping_enabled? \u0026\u0026 License.current.usage_ping?\n         # we can calculate devops scopre with this set\n         select_metrics(data_type: ['Standard', 'Subscription', 'Operational', 'Optional'])\n       elsif Gitlab::CurrentSettings.usage_ping_enabled?\n         select_metrics(data_type: ['Standard', `Subscription`, 'Optional']) \n       elsif  License.current.usage_ping?\n         select_metrics(data_type: ['Standard', 'Operational']) \n       end\n    else\n      if Gitlab::CurrentSettings.usage_ping_enabled? \n        # we can calculate devops scopre with this set \n        select_metrics(data_type: ['Standard', 'Subscription', 'Operational', 'Optional'])\n      end\n    end\n  end\n\n  def select_metrics(data_type:)\n    # TODO\n  end\n  \n  # conv index deptends on operational and optional data. In order to compute it we should have both available.\n  def store_metrics(response)\n    metrics = response['conv_index'] || response['dev_ops_score'] # leaving dev_ops_score here, as the response data comes from the gitlab-version-com\n\n    return unless metrics.present?\n\n    DevOpsReport::Metric.create!(\n      metrics.slice(*METRICS)\n    )\n  end\n\n```","state":"closed","created_at":"2021-06-15T13:16:42.300Z","updated_at":"2021-09-15T12:16:41.868Z","closed_at":"2021-07-15T15:09:48.514Z","closed_by":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"labels":["Deliverable","backend","devops::growth","feature::addition","group::product intelligence","section::growth","type::feature","workflow::verification"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":4807002,"username":"mikolaj_wawrzyniak","name":"Mikołaj Wawrzyniak","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4807002/avatar.png","web_url":"https://gitlab.com/mikolaj_wawrzyniak"},{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"}],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":{"id":4807002,"username":"mikolaj_wawrzyniak","name":"Mikołaj Wawrzyniak","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4807002/avatar.png","web_url":"https://gitlab.com/mikolaj_wawrzyniak"},"user_notes_count":22,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333681","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333681","notes":"https://gitlab.com/api/v4/projects/278964/issues/333681/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333681/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333681","relative":"#333681","full":"gitlab-org/gitlab#333681"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6191,"epic":{"id":289512,"iid":6191,"title":"MVC Service Ping","url":"/groups/gitlab-org/-/epics/6191","group_id":9970,"human_readable_end_date":"Jul 18, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88747614,"iid":333680,"project_id":278964,"title":"Add collected_data_categories to usage ping payload","description":"## Requirements\n\n1. Add a new metric to indicate what data types we send in JSON payload\n\n   Add `Standard` metric `collected_data_categories` to usage ping payload.\n\n   The values we set in this metric should be aligned and reflect the [data sent to VersionsApp](https://gitlab.com/gitlab-org/gitlab/-/issues/333681)\n\n1. Add examples of payloads to issue https://gitlab.com/gitlab-data/analytics/-/issues/9384 for data team.\n\n## Scenarios\n\n### Scenario 1\n\nFor free users when there is no license `License.current.present? == false` and usage ping enabled\n\n`collected_data_categories: [Standard, Subscription, Optional, Operational]`\n\n### Scenario 2\n\nFor free users when there is no license `License.current.present? == false` and usage ping disabled we don't send any data\n\n### Scenario 3\n\nFor a customer when there is a license `License.current.present? == true`. With usage ping enabled and operational data enabled(`License.current.usage_ping? == true`) \n\n`collected_data_categories: [Standard, Subscription, Optional, Operational]`\n\n### Scenario 4\n\nFor a customer when there is a license `License.current.present? == true`. With usage ping disabled and operational data enabled(`License.current.usage_ping? == true`) \n\n`collected_data_categories: [Standard, Subscription, Operational]`\n\n### Scenario 5\n\nFor a customer when there is a license `License.current.present? == true`. With usage ping enabled and operational data diabled(`License.current.usage_ping? == false`) \n\n`collected_data_categories: [Standard, Subscription, Optional]`\n\n### Scenario 6\n\nFor a customer when there is a license `License.current.present? == true`. With usage ping disabled and operational data disabled(`License.current.usage_ping? == false`)  we don't send any data\n\n## Implementation proposal\n\nThis can be added as a [Generic instrumentation class](https://docs.gitlab.com/ee/development/usage_ping/metrics_instrumentation.html#generic-metrics). \n\n```ruby\nmodule Gitlab\n  module Usage\n    module Metrics\n     class CollectedDataCategoriesMetric \u003c GenericMetric\n      # # This could be done probably in a better way\n       value do \n         if License.current.present?\n           if Gitlab::CurrentSettings.usage_ping_enabled? \u0026\u0026 License.current.usage_ping?\n             select_metrics(data_type: ['Standard', 'Subscription', 'Operational', 'Optional'])\n           elsif Gitlab::CurrentSettings.usage_ping_enabled?\n             select_metrics(data_type: ['Standard', `Subscription`, 'Optional']) \n           elsif  License.current.usage_ping?\n             select_metrics(data_type: ['Standard', 'Subscription', 'Operational']) \n           end\n         else\n          if Gitlab::CurrentSettings.usage_ping_enabled?\n            select_metrics(data_type: ['Standard', 'Subscription', 'Operational', 'Optional'])\n          end\n         end\n       end\n    end  \n  end\nend\n\n# later in usage_data.rb\n\ncollected_data_categories: Gitlab::Usage::Metrics::Instrumentations::CollectedDataCategoriesMetric.new(time_frame: 'none').value\n```","state":"closed","created_at":"2021-06-15T13:12:51.091Z","updated_at":"2021-07-14T08:59:09.631Z","closed_at":"2021-07-14T08:58:06.966Z","closed_by":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"labels":["backend","devops::growth","feature::addition","group::product intelligence","section::growth","type::feature","workflow::verification"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":4807002,"username":"mikolaj_wawrzyniak","name":"Mikołaj Wawrzyniak","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4807002/avatar.png","web_url":"https://gitlab.com/mikolaj_wawrzyniak"}],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":{"id":4807002,"username":"mikolaj_wawrzyniak","name":"Mikołaj Wawrzyniak","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4807002/avatar.png","web_url":"https://gitlab.com/mikolaj_wawrzyniak"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333680","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333680","notes":"https://gitlab.com/api/v4/projects/278964/issues/333680/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333680/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333680","relative":"#333680","full":"gitlab-org/gitlab#333680"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6191,"epic":{"id":289512,"iid":6191,"title":"MVC Service Ping","url":"/groups/gitlab-org/-/epics/6191","group_id":9970,"human_readable_end_date":"Jul 18, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88742634,"iid":333673,"project_id":278964,"title":"Remove `ci_register_job_service_one_by_one` feature flag","description":"## Description\n\nSome time ago we added `ci_register_job_service_one_by_one` feature flag to the `Ci::RegisterJobService` to make builds queuing more efficient.\n\nThis has been successfully rolled out and this feature flag is now enabled by default.\n\nHaving it in the code results in one additional conditional branch and level of indirection. We should remove it to make it easier to implement #333114.\n\n/cc @darbyfrey","state":"closed","created_at":"2021-06-15T12:04:24.703Z","updated_at":"2021-06-21T19:46:16.300Z","closed_at":"2021-06-16T19:00:09.820Z","closed_by":{"id":5251734,"username":"morefice","name":"Max Orefice","state":"active","avatar_url":"https://secure.gravatar.com/avatar/0a910912e24727d7eef579cd047f7651?s=80\u0026d=identicon","web_url":"https://gitlab.com/morefice"},"labels":["Engineering Allocation","devops::verify","group::pipeline execution","section::ops","workflow::production"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":5251734,"username":"morefice","name":"Max Orefice","state":"active","avatar_url":"https://secure.gravatar.com/avatar/0a910912e24727d7eef579cd047f7651?s=80\u0026d=identicon","web_url":"https://gitlab.com/morefice"}],"author":{"id":263716,"username":"grzesiek","name":"Grzegorz Bizon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/263716/avatar.jpeg","web_url":"https://gitlab.com/grzesiek"},"type":"ISSUE","assignee":{"id":5251734,"username":"morefice","name":"Max Orefice","state":"active","avatar_url":"https://secure.gravatar.com/avatar/0a910912e24727d7eef579cd047f7651?s=80\u0026d=identicon","web_url":"https://gitlab.com/morefice"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333673","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333673","notes":"https://gitlab.com/api/v4/projects/278964/issues/333673/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333673/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333673","relative":"#333673","full":"gitlab-org/gitlab#333673"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5909,"epic":{"id":261464,"iid":5909,"title":"Introduce additional database table to improve builds queuing mechanisms","url":"/groups/gitlab-org/-/epics/5909","group_id":9970,"human_readable_end_date":"Oct 22, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88738243,"iid":333669,"project_id":278964,"title":"Repository file tree: Move commit data to initial GraphQL request","description":"\u003c!-- This template is a great use for issues that are feature::additions or technical tasks for larger issues.--\u003e\n\n### Description\n\nWhen viewing the repository file tree, we request the list of files via a GraphQL request and then do separate REST requests (in batches) for the commit data for each item in the list.\n\nThis split made sense initially because the commit data took very long to load so having it part of the initial GraphQL request would've resulted in the list of files taking long to load.\n\n### Proposal \n\nThe Gitaly team has been working on [making the processing a lot cheaper](https://gitlab.com/gitlab-org/gitaly/-/merge_requests/3545), which might speed up getting the commit data for a given file.\n\nWhen https://gitlab.com/gitlab-org/gitaly/-/merge_requests/3545 hits production we might want to reconsider loading the commit data as part of the initial (GraphQL) request. This would mean we don't have to make separate requests on the FE for each entry and can in turn have a positive impact on the performance of the page.\n\nRef: https://gitlab.com/gitlab-org/gitlab/-/issues/332432#note_594050455\n\n\u003e I'm not surprised; getting the last commit for a given path is pretty slow at the moment. https://gitlab.com/gitlab-org/gitaly/-/merge_requests/3545 would make this a lot faster once it lands in production (see https://devblogs.microsoft.com/devops/super-charging-the-git-commit-graph-iv-bloom-filters/).","state":"closed","created_at":"2021-06-15T10:43:34.068Z","updated_at":"2022-09-21T12:01:13.283Z","closed_at":"2022-09-08T07:14:01.214Z","closed_by":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"labels":["Category:Source Code Management","Deliverable","backend","devops::create","frontend","frontend-weight::3","group::source code","maintenance::refactor","missed-deliverable","missed:14.10","missed:14.4","missed:14.5","missed:14.6","missed:14.7","missed:14.8","missed:14.9","section::dev","type::maintenance","wontfix","workflow::blocked"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":11703928,"username":"nradina","name":"Nataliia Radina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11703928/avatar.png","web_url":"https://gitlab.com/nradina"}],"author":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"type":"ISSUE","assignee":{"id":11703928,"username":"nradina","name":"Nataliia Radina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11703928/avatar.png","web_url":"https://gitlab.com/nradina"},"user_notes_count":17,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333669","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333669","notes":"https://gitlab.com/api/v4/projects/278964/issues/333669/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333669/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333669","relative":"#333669","full":"gitlab-org/gitlab#333669"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88729823,"iid":333658,"project_id":278964,"title":"Give immediate feedback when emoji reacting to an issuable","description":"Compare the two experiences below:\n\n| Twitter | GitLab |\n|---|---|\n| ![twttr_favourite](/uploads/d57a776ac36722579f36c1018e506eff/twttr_favourite.mp4) | ![CleanShot_20210812164512](/uploads/11d7107589c682150682bf7e9f099416/CleanShot_20210812164512.mp4) |\n\nGiven the nature of reacting to an issue/epic/MR with an emoji, I believe we can give an immediate feedback response without having to wait for an API call to succeed. From https://simonhearne.com/2021/optimistic-ui-patterns/#optimistic-atomic-actions:\n\n\u003e Note that the animation starts as soon as you click, giving an immediate feedback response. This happens separately and in parallel to the actual API call to log the action. Further to the instant animation, the API call is resilient to network failures. If the API call fails it is added to a queue to be retried later. Only if the API call fails multiple times is the action “undone” in the UI - the heart icon simply fades back to the unchecked state.","state":"closed","created_at":"2021-06-15T09:39:33.509Z","updated_at":"2022-03-07T07:41:16.313Z","closed_at":"2022-03-02T17:12:09.430Z","closed_by":{"id":2935693,"username":"phikai","name":"Kai Armstrong","state":"active","avatar_url":"https://secure.gravatar.com/avatar/2c5d6a63b41cbeb3ea4cccda82e758e1?s=80\u0026d=identicon","web_url":"https://gitlab.com/phikai"},"labels":["Category:Portfolio Management","UX","award emoji","backend","devops::plan","epics","feature::enhancement","frontend","group::project management","issues","merge requests","section::dev","type::feature"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":2190515,"username":"KevSlashNull","name":"Kev","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f3861b3746ee5f779cbdcf1efa4a2a1e?s=80\u0026d=identicon","web_url":"https://gitlab.com/KevSlashNull"}],"author":{"id":626804,"username":"pedroms","name":"Pedro Moreira da Silva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c306f087d191ac15549f3c11e3bed321?s=80\u0026d=identicon","web_url":"https://gitlab.com/pedroms"},"type":"ISSUE","assignee":{"id":2190515,"username":"KevSlashNull","name":"Kev","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f3861b3746ee5f779cbdcf1efa4a2a1e?s=80\u0026d=identicon","web_url":"https://gitlab.com/KevSlashNull"},"user_notes_count":11,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333658","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333658","notes":"https://gitlab.com/api/v4/projects/278964/issues/333658/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333658/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333658","relative":"#333658","full":"gitlab-org/gitlab#333658"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88717879,"iid":333640,"project_id":278964,"title":"Flaky test spec/features/projects/terraform_spec.rb:61 # Terraform when user is a terraform administrator when user has a terraform state when clicking on the delete button removes the state","description":"Job [#1346867570](https://gitlab.com/gitlab-org/gitlab/-/jobs/1346867570) failed for 1a9a0e69cf5c02b82c604756205d3bc0bb908832:\n\n```\n  1) Terraform when user is a terraform administrator when user has a terraform state when clicking on the delete button removes the state\n     Failure/Error: expect(page).to have_content(additional_state.name)\n       expected to find text \"state-2\" in \"Skip to content GitLab Menu Help P project116 Project information Issues 0 CI/CD Security \u0026 Compliance Deployments Monitor Infrastructure Kubernetes clusters Serverless platform Terraform Packages \u0026 Registries Analytics Wiki Snippets Settings Collapse sidebar John Doe443 project116 Terraform States 1 Name Pipeline Details Actions state-1 Locked pending John Doe445 updated 17 seconds ago\"\n     # ./spec/features/projects/terraform_spec.rb:64:in `block (5 levels) in \u003ctop (required)\u003e'\n     # ./spec/spec_helper.rb:372:in `block (3 levels) in \u003ctop (required)\u003e'\n     # ./spec/support/sidekiq_middleware.rb:9:in `with_sidekiq_server_middleware'\n     # ./spec/spec_helper.rb:363:in `block (2 levels) in \u003ctop (required)\u003e'\n     # ./spec/spec_helper.rb:359:in `block (3 levels) in \u003ctop (required)\u003e'\n     # ./lib/gitlab/application_context.rb:31:in `with_raw_context'\n     # ./spec/spec_helper.rb:359:in `block (2 levels) in \u003ctop (required)\u003e'\nFinished in 15 minutes 53 seconds (files took 49.28 seconds to load)\n517 examples, 1 failure\nFailed examples:\nrspec ./spec/features/projects/terraform_spec.rb:61 # Terraform when user is a terraform administrator when user has a terraform state when clicking on the delete button removes the state\n```\n\n[terraform_when_user_is_a_terraform_administrator_when_user_has_a_terraform_state_when_clicking_on_th.html](/uploads/f18b91732667fe7ac13fa8418f835e89/terraform_when_user_is_a_terraform_administrator_when_user_has_a_terraform_state_when_clicking_on_th.html)\n\n![terraform_when_user_is_a_terraform_administrator_when_user_has_a_terraform_state_when_clicking_on_th](/uploads/2c11d73b747f504667875e3affa20ef9/terraform_when_user_is_a_terraform_administrator_when_user_has_a_terraform_state_when_clicking_on_th.png)\n\n### Implementation plan\n\n- [x] Fix the issue of not finding an additional state created in the `'when clicking on the delete button'` context block.\n- [x] Update the spec to respect the deletion in progress state.\n- [x] Dequarantine the spec.","state":"closed","created_at":"2021-06-15T06:20:56.516Z","updated_at":"2023-01-10T04:35:43.920Z","closed_at":"2023-01-10T04:33:23.261Z","closed_by":{"id":12514438,"username":"partiaga","name":"Pam Artiaga","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12514438/avatar.png","web_url":"https://gitlab.com/partiaga"},"labels":["approaching-SLO","backend","devops::configure","failure::flaky-test","group::configure","missed-SLO","priority::2","quarantined test","section::ops","severity::2","terraform","test","type::maintenance","workflow::production"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[{"id":12514438,"username":"partiaga","name":"Pam Artiaga","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12514438/avatar.png","web_url":"https://gitlab.com/partiaga"}],"author":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"type":"ISSUE","assignee":{"id":12514438,"username":"partiaga","name":"Pam Artiaga","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12514438/avatar.png","web_url":"https://gitlab.com/partiaga"},"user_notes_count":16,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333640","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333640","notes":"https://gitlab.com/api/v4/projects/278964/issues/333640/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333640/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333640","relative":"#333640","full":"gitlab-org/gitlab#333640"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88714533,"iid":333634,"project_id":278964,"title":"Adjust styling of downstream and upstream pipelines to match the rest of the pipeline graph","description":"## 🧩 Problem\n\nThis issue is a follow-up to https://gitlab.com/gitlab-org/gitlab/-/issues/271562, and it addresses small discrepancies between how we style the downstream and upstream pipelines and jobs in the pipeline graph.\n\nCurrently, the jobs have rounded corners while the upstream and downstream pipelines have sharp corners. Also, the spacing inside the upstream and downstream jobs can be improved.\n\n## 🎨 Proposal\n\nMake small adjustments to the styling on the downstream and upstream pipelines in the graph:\n\nChanges:\n\n* Status icon: 24x24px\n* Border radius on the downstream pipeline: 8px\n* Padding inside the downstream pipeline component: 8px on all sides\n* Pipeline number link use Regular small UI label text style\n* Vertical distance between downstream pipelines should equal the vertical distance between jobs (8px)\n\n➡ [Figma specs](https://www.figma.com/file/sfiMvCL6LqwpK3QrYvTwM7/PA-Allow-for-easier-correlation-of-child-pipelines-with-their-trigger-jobs?node-id=609%3A265) ⬅\n\n![image](/uploads/4f64740e571f3347c2b903e5f5cdd743/image.png)","state":"closed","created_at":"2021-06-15T04:33:59.636Z","updated_at":"2022-05-22T20:18:02.523Z","closed_at":"2022-05-22T20:18:02.507Z","closed_by":{"id":11222776,"username":"bsandlin","name":"Briley  Sandlin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11222776/avatar.png","web_url":"https://gitlab.com/bsandlin"},"labels":["Category:Pipeline Authoring","SUS::Impacting","UI polish","UX","Verify candidate","devops::verify","frontend","group::pipeline authoring","onboarding","pipeline graphs","section::ops","severity::4"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":11222776,"username":"bsandlin","name":"Briley  Sandlin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11222776/avatar.png","web_url":"https://gitlab.com/bsandlin"}],"author":{"id":4706959,"username":"nadia_sotnikova","name":"Nadia Sotnikova","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4706959/avatar.png","web_url":"https://gitlab.com/nadia_sotnikova"},"type":"ISSUE","assignee":{"id":11222776,"username":"bsandlin","name":"Briley  Sandlin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11222776/avatar.png","web_url":"https://gitlab.com/bsandlin"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333634","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333634","notes":"https://gitlab.com/api/v4/projects/278964/issues/333634/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333634/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333634","relative":"#333634","full":"gitlab-org/gitlab#333634"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5542,"epic":{"id":218495,"iid":5542,"title":"UI polish - Pipeline Authoring","url":"/groups/gitlab-org/-/epics/5542","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":{"id":50314,"iid":63,"sequence":16,"group_id":9970,"title":"Iteration 16","description":"Target milestone `15.1`","state":3,"created_at":"2022-03-06T00:05:02.043Z","updated_at":"2022-05-30T00:05:02.370Z","start_date":"2022-05-16","due_date":"2022-05-29","web_url":"https://gitlab.com/groups/gitlab-org/-/iterations/50314"},"health_status":null},{"id":88709345,"iid":333627,"project_id":278964,"title":"Update pipeline editor to follow GraphQL naming conventions","description":"Follow-up to https://gitlab.com/gitlab-org/gitlab/-/merge_requests/62872#note_599949190.\n\nThere are some inconsistencies with how we name our graphql queries. We should follow the [recommended naming conventions](https://docs.gitlab.com/ee/development/fe_guide/graphql.html#graphql-queries).\n\n### Implementation Plan\n\nAll graphql files for the pipeline editor can be found in `app/assets/javascripts/pipeline_editor/graphql`. The following needs to be updated:\n\n- [x] mutations are using the `[file_name].mutation.graphql` convention\n- [x] queries are using the `[file_name].query.graphql` convention\n- [x] use consistent import naming (e.g. `*.query.graphql` and `*.mutation.graphql`)","state":"closed","created_at":"2021-06-15T01:36:30.126Z","updated_at":"2022-04-01T05:18:18.381Z","closed_at":"2022-04-01T05:18:18.357Z","closed_by":{"id":7598233,"username":"mgandres","name":"Mireya Andres","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c96bce45a06f2dd722144db3f52456bf?s=80\u0026d=identicon","web_url":"https://gitlab.com/mgandres"},"labels":["Category:Pipeline Authoring","GraphQL","Verify candidate","[deprecated] Accepting merge requests","devops::verify","frontend","group::pipeline authoring","maintenance::refactor","section::ops","type::maintenance"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":7598233,"username":"mgandres","name":"Mireya Andres","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c96bce45a06f2dd722144db3f52456bf?s=80\u0026d=identicon","web_url":"https://gitlab.com/mgandres"},"type":"ISSUE","assignee":null,"user_notes_count":5,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333627","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333627","notes":"https://gitlab.com/api/v4/projects/278964/issues/333627/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333627/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333627","relative":"#333627","full":"gitlab-org/gitlab#333627"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88709306,"iid":333626,"project_id":278964,"title":"Refactor `getClient` methods in pipeline editor","description":"Follow-up to https://gitlab.com/gitlab-org/gitlab/-/merge_requests/62872#note_599949199.\n\nWhen updating the apollo cache, we should prefer using a `@client` mutation and a local resolver instead of introducing `getClient` methods and directly writing to the cache. This is more in line with our current development pattern and is the recommended best practice of  [Vue Apollo](https://apollo.vuejs.org/guide/local-state.html#change-local-data-with-mutations).\n\n### Implementation Plan\n\nIn the pipeline editor, there are two more instances of `getClient.writeQuery` being used. All of them reside in [pipeline_editor_app.vue](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/assets/javascripts/pipeline_editor/pipeline_editor_app.vue).\n\nThe cache data to update are:\n- [isNewCiConfigFile](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/assets/javascripts/pipeline_editor/pipeline_editor_app.vue#L236)\n- [appStatus](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/assets/javascripts/pipeline_editor/pipeline_editor_app.vue#L233)\n\nThere are also some direct cache writing as well in [commit_section.vue](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/assets/javascripts/pipeline_editor/components/commit/commit_section.vue)\n- [commitSha](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/assets/javascripts/pipeline_editor/components/commit/commit_section.vue#L101)\n- [pipelineEtag](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/assets/javascripts/pipeline_editor/components/commit/commit_section.vue#L105)\n\nThese should all be updated to use a local mutation and client resolver to update the cache.\n\n### Sample Code\n\nA sample implementation can be found for `currentBranch` in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/62872.\n\n[Vue Apollo](https://apollo.vuejs.org/guide/local-state.html#change-local-data-with-mutations) also has an example on updating the cache with local mutation.\n\nCreate a mutation for the data we want to update.\n```graphql\n# ~/pipeline_editor/graphql/mutations/update_current_branch.mutation.graphql\nmutation updateCurrentBranch($currentBranch: String) {\n  updateCurrentBranch(currentBranch: $currentBranch) @client\n}\n```\n\nAdd the `@client` resolver in `app/assets/javascripts/pipeline_editor/graphql/resolvers.js`\n\n```js\nimport produce from 'immer';\n\nexport const resolvers = {\n  Mutation: {\n    updateCurrentBranch: (_, { currentBranch = undefined }, { cache }) =\u003e {\n      cache.writeQuery({\n        query: getCurrentBranchQuery,\n        data: produce(cache.readQuery({ query: getCurrentBranchQuery }), (draftData) =\u003e {\n          draftData.currentBranch = currentBranch;\n        }),\n      });\n    },\n  },\n};\n```\n\nReplace `writeQuery` with the apollo mutation.\n```js\nupdateCurrentBranch(currentBranch) {\n  this.$apollo.mutate({\n    mutation: updateCurrentBranchMutation,\n    variables: { currentBranch },\n  });\n}\n```\n\n```diff\n- await this.$apollo.getClient().writeQuery({\n-   query: getCurrentBranch,\n-   data: { currentBranch: newBranch },\n- });\n+ this.updateCurrentBranch(newBranch);\n```","state":"closed","created_at":"2021-06-15T01:34:39.452Z","updated_at":"2021-11-08T21:04:57.962Z","closed_at":"2021-11-08T21:04:57.949Z","closed_by":{"id":5327378,"username":"f_caplette","name":"Frédéric Caplette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5327378/avatar.png","web_url":"https://gitlab.com/f_caplette"},"labels":["Category:Pipeline Authoring","[deprecated] Accepting merge requests","automation:ml","automation:ml wrong","bug::performance","devops::verify","frontend","group::pipeline authoring","maintenance::refactor","section::ops"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":5327378,"username":"f_caplette","name":"Frédéric Caplette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5327378/avatar.png","web_url":"https://gitlab.com/f_caplette"}],"author":{"id":7598233,"username":"mgandres","name":"Mireya Andres","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c96bce45a06f2dd722144db3f52456bf?s=80\u0026d=identicon","web_url":"https://gitlab.com/mgandres"},"type":"ISSUE","assignee":{"id":5327378,"username":"f_caplette","name":"Frédéric Caplette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5327378/avatar.png","web_url":"https://gitlab.com/f_caplette"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333626","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333626","notes":"https://gitlab.com/api/v4/projects/278964/issues/333626/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333626/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333626","relative":"#333626","full":"gitlab-org/gitlab#333626"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88707503,"iid":333624,"project_id":278964,"title":"Write documentation for the \"add manual vulnerability\" feature","description":"**NOTE:** This issue is blocked by:\n\n- https://gitlab.com/gitlab-org/gitlab/-/issues/301003\n- https://gitlab.com/gitlab-org/gitlab/-/issues/301005\n\nThe following functionality will be released in a future iteration \u0026 has been removed from the scope of this issue: \nhttps://gitlab.com/gitlab-org/gitlab/-/issues/333620\n\nNow that the \"add manual vulnerability\" feature is complete, we need to enable the feature flag that was added in #301005 to show the `Submit Vulnerability` button, and add documentation for the feature.\n\n## Implementation details\n\n- [ ] Set the feature flag to on by default.\n- [ ] Add documentation for the feature.\n\nDocumentation guidance from [design issue](https://gitlab.com/groups/gitlab-org/-/epics/5277#documentation)\n\u003e This will be net new functionality so we need to clearly document the new feature including:\n\u003e \n\u003e * The different methods for accessing and creating (in GitLab and via API)\n\u003e * General workflow, specifically what happens to a newly created vulnerability\n\u003e * Suggestions on best practices such as create vulnerabilities in the proper project, provide as much information during creation as possible, etc.","state":"closed","created_at":"2021-06-15T00:38:03.014Z","updated_at":"2022-03-18T07:03:52.082Z","closed_at":"2022-03-15T12:27:08.643Z","closed_by":{"id":5535246,"username":"svedova","name":"Savas Vedova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535246/avatar.png","web_url":"https://gitlab.com/svedova"},"labels":["Category:Vulnerability Management","Deliverable","devops::secure","documentation","frontend","group::threat insights","section::sec","type::maintenance","workflow::verification"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":5535246,"username":"svedova","name":"Savas Vedova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535246/avatar.png","web_url":"https://gitlab.com/svedova"}],"author":{"id":4907528,"username":"dftian","name":"Daniel Tian","state":"active","avatar_url":"https://secure.gravatar.com/avatar/5d7186a64c42708833291afd7749c7b5?s=80\u0026d=identicon","web_url":"https://gitlab.com/dftian"},"type":"ISSUE","assignee":{"id":5535246,"username":"svedova","name":"Savas Vedova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535246/avatar.png","web_url":"https://gitlab.com/svedova"},"user_notes_count":21,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333624","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333624","notes":"https://gitlab.com/api/v4/projects/278964/issues/333624/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333624/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333624","relative":"#333624","full":"gitlab-org/gitlab#333624"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5277,"epic":{"id":188956,"iid":5277,"title":"Manually create a Vulnerability record","url":"/groups/gitlab-org/-/epics/5277","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88704819,"iid":333610,"project_id":278964,"title":"Remove deprecated Managed-Cluster-Applications.gitlab-ci.yml","description":"### Background\n\n`Managed-Cluster-Applications.gitlab-ci.yml` was **deprecated** in https://gitlab.com/gitlab-org/gitlab/-/issues/327908, but the template can still be included via `include:template`, and CI/CD managed apps are still documented.\n\n### Proposal\n\nBy GitLab %15.0, the `Managed-Cluster-Applications.gitlab-ci.yml` any remaining documentation of the feature should be removed. \n\n### How does this affect users?\n\nThis will be a ~\"breaking change\" for users of `include:template` for `Managed-Cluster-Applications.gitlab-ci.yml` (new pipelines will not find the file). Others will be unaffected.\n\n### Migrating away from `include:template` for `Managed-Cluster-Applications.gitlab-ci.yml`\n\n- Users who wish to upgrade to Helm v3 or gain more control over their releases can use the new [project template](https://docs.gitlab.com/ee/user/clusters/management_project_template.html) to get started. \n- Users who are not ready to migrate can stop using `include:template`, and instead inline the template's contents in their `.gitlab-ci.yml`.","state":"closed","created_at":"2021-06-14T22:30:31.427Z","updated_at":"2022-05-24T12:02:50.736Z","closed_at":"2022-05-13T16:50:08.266Z","closed_by":{"id":4088036,"username":"hfyngvason","name":"Hordur Freyr Yngvason","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4088036/avatar.png","web_url":"https://gitlab.com/hfyngvason"},"labels":["Deliverable","breaking change","candidate::15.0","ci::templates","devops::configure","group::configure","section::ops","type::feature","workflow::production"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":4088036,"username":"hfyngvason","name":"Hordur Freyr Yngvason","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4088036/avatar.png","web_url":"https://gitlab.com/hfyngvason"}],"author":{"id":4088036,"username":"hfyngvason","name":"Hordur Freyr Yngvason","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4088036/avatar.png","web_url":"https://gitlab.com/hfyngvason"},"type":"ISSUE","assignee":{"id":4088036,"username":"hfyngvason","name":"Hordur Freyr Yngvason","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4088036/avatar.png","web_url":"https://gitlab.com/hfyngvason"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333610","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333610","notes":"https://gitlab.com/api/v4/projects/278964/issues/333610/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333610/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333610","relative":"#333610","full":"gitlab-org/gitlab#333610"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6940,"epic":{"id":372533,"iid":6940,"title":"[15.0] Configure deprecations","url":"/groups/gitlab-org/-/epics/6940","group_id":9970,"human_readable_end_date":"May 17, 2023","human_readable_timestamp":"\u003cstrong\u003e4\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":88703782,"iid":333606,"project_id":278964,"title":"[ENG] Use UserCallout model to keep track of D14 \u0026 D3 trial status popovers","description":"Use the `UserCallout` model to keep track of users’ dismissals of the forcibly shown D14 \u0026 D3 trial status popovers.\n\nRelates to #334936","state":"closed","created_at":"2021-06-14T21:49:12.380Z","updated_at":"2021-07-20T04:49:37.401Z","closed_at":"2021-07-20T04:45:41.740Z","closed_by":{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"},"labels":["Category:Conversion Experiment","Engineering","Stretch","auto updated","devops::growth","group::acquisition","growth experiment","link::child issue","milestone::p1","section::growth","workflow::verification"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"}],"author":{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"},"type":"ISSUE","assignee":{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333606","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333606","notes":"https://gitlab.com/api/v4/projects/278964/issues/333606/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333606/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333606","relative":"#333606","full":"gitlab-org/gitlab#333606"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3540,"epic":{"id":64886,"iid":3540,"title":"[ENG] Display active trial status","url":"/groups/gitlab-org/-/epics/3540","group_id":9970,"human_readable_end_date":"Aug 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88703756,"iid":333604,"project_id":278964,"title":"[ENG] Add option to forcibly show the trial status popover","description":"We need a way to forcibly show the trial status popover in order to fulfill the requirements of [the Timed Prompt portion of the Trial Status Widget \u0026 Popover experiment](https://gitlab.com/groups/gitlab-org/-/epics/3538#timed-prompt).\n\nRelates to #334936","state":"closed","created_at":"2021-06-14T21:47:26.480Z","updated_at":"2021-07-20T04:49:37.450Z","closed_at":"2021-06-30T18:54:09.698Z","closed_by":{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"},"labels":["Category:Conversion Experiment","Engineering","Stretch","auto updated","devops::growth","group::acquisition","growth experiment","link::child issue","milestone::p1","section::growth"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"}],"author":{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"},"type":"ISSUE","assignee":{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333604","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333604","notes":"https://gitlab.com/api/v4/projects/278964/issues/333604/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333604/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333604","relative":"#333604","full":"gitlab-org/gitlab#333604"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3540,"epic":{"id":64886,"iid":3540,"title":"[ENG] Display active trial status","url":"/groups/gitlab-org/-/epics/3540","group_id":9970,"human_readable_end_date":"Aug 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88703738,"iid":333603,"project_id":278964,"title":"[ENG] Trial Status Widget: Use provide for setup values rather than props","description":"","state":"closed","created_at":"2021-06-14T21:46:15.436Z","updated_at":"2021-07-20T04:49:37.496Z","closed_at":"2021-06-29T21:40:51.537Z","closed_by":{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"},"labels":["Category:Conversion Experiment","Engineering","Stretch","auto updated","devops::growth","group::acquisition","growth experiment","link::child issue","milestone::p1","section::growth"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"}],"author":{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"},"type":"ISSUE","assignee":{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333603","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333603","notes":"https://gitlab.com/api/v4/projects/278964/issues/333603/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333603/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333603","relative":"#333603","full":"gitlab-org/gitlab#333603"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3540,"epic":{"id":64886,"iid":3540,"title":"[ENG] Display active trial status","url":"/groups/gitlab-org/-/epics/3540","group_id":9970,"human_readable_end_date":"Aug 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88703720,"iid":333602,"project_id":278964,"title":"[ENG] Trial Status Widget: Use a constants.js file for magic strings \u0026 shared data","description":"Make use of a separate \u0026 shared constants.js file for housing any magic strings \u0026 shared data.","state":"closed","created_at":"2021-06-14T21:44:47.198Z","updated_at":"2021-07-20T04:49:37.539Z","closed_at":"2021-06-23T15:45:10.810Z","closed_by":{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"},"labels":["Category:Conversion Experiment","Engineering","Stretch","devops::growth","group::acquisition","growth experiment","link::child issue","milestone::p1","section::growth","workflow::production"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"}],"author":{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"},"type":"ISSUE","assignee":{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333602","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333602","notes":"https://gitlab.com/api/v4/projects/278964/issues/333602/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333602/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333602","relative":"#333602","full":"gitlab-org/gitlab#333602"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3540,"epic":{"id":64886,"iid":3540,"title":"[ENG] Display active trial status","url":"/groups/gitlab-org/-/epics/3540","group_id":9970,"human_readable_end_date":"Aug 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88703679,"iid":333601,"project_id":278964,"title":"[ENG] Rename group_trial_status_* → trial_status_*","description":"Rename a few of the trial status widget/popover files to better match what they provide or what they test.\n\n| Before | After\n|---|---\n| `ee/app/assets/…/group_trial_status_widget_and_popover.js` | `…/init_trial_status_widget_and_popover.js`\n| `ee/spec/…/group_trial_status_popover_spec.js` | `…/trial_status_popover_spec.js`\n| `ee/spec/…/__snapshots__/group_trial_status_popover_spec.js.snap` | `…/trial_status_popover_spec.js.snap`\n| `ee/spec/…/group_trial_status_widget_spec.js` | `…/trial_status_widget_spec.js`\n| `ee/spec/…/__snapshots__/group_trial_status_widget_spec.js.snap` | `…/trial_status_widget_spec.js.snap`\n\nAnd update the reference to the newly-renamed `init_trial_status_widget_and_popover.js` file in `ee/app/assets/javascripts/pages/groups/index.js`.","state":"closed","created_at":"2021-06-14T21:43:59.172Z","updated_at":"2021-06-30T19:05:23.210Z","closed_at":"2021-06-16T22:59:11.640Z","closed_by":{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"},"labels":["Category:Conversion Experiment","DEPRECATED Growth-Deliverable","Engineering","Stretch","devops::growth","group::acquisition","growth experiment","link::child issue","milestone::p1","section::growth"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"}],"author":{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"},"type":"ISSUE","assignee":{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333601","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333601","notes":"https://gitlab.com/api/v4/projects/278964/issues/333601/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333601/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333601","relative":"#333601","full":"gitlab-org/gitlab#333601"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3540,"epic":{"id":64886,"iid":3540,"title":"[ENG] Display active trial status","url":"/groups/gitlab-org/-/epics/3540","group_id":9970,"human_readable_end_date":"Aug 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88697103,"iid":333589,"project_id":278964,"title":"Spike: Investigate data needed in GraphQL to complete pipeline schedule refactor","description":"### What\n\nLet's investigate all the data we do have and all the data we don't have to move the pipeline schedules feature over to Vue/GraphQL.\n\nWe can consider this issue complete once the investigation is done and the findings have been posted in this issue. That may include adding details to issues or additional issues to the [parent epic](https://gitlab.com/groups/gitlab-org/-/epics/6189) of the refactor.","state":"closed","created_at":"2021-06-14T18:49:40.918Z","updated_at":"2022-09-02T23:41:33.397Z","closed_at":"2022-08-30T13:57:09.915Z","closed_by":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"labels":["Category:Continuous Integration","GraphQL","[deprecated] Accepting merge requests","devops::verify","frontend","group::pipeline execution","section::ops","type::maintenance","workflow::ready for development"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"}],"author":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"type":"ISSUE","assignee":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333589","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333589","notes":"https://gitlab.com/api/v4/projects/278964/issues/333589/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333589/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333589","relative":"#333589","full":"gitlab-org/gitlab#333589"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6189,"epic":{"id":289009,"iid":6189,"title":"Refactor pipeline schedules - Vue/GraphQL","url":"/groups/gitlab-org/-/epics/6189","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":88696237,"iid":333587,"project_id":278964,"title":"[Feature flag] Disable Composer callback","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis feature flag bypasses the callback `#update_composer_cache` in the package model. It is expected this callback is not needed and has been broken since originally implemented. The feature flag is a safety precaution so we can disable it before removing it without additional risk.\n\n## Owners\n\n- Team: Package\n- Most appropriate slack channel to reach out to: `#s_package`\n- Best individual to reach out to: Steve Abrams\n- PM: Tim Rizzi\n\n## Stakeholders\n\nPackage Team\n\n## The Rollout Plan\n\n- Percentage Rollout on GitLab.com `10, 30, 60, 100`\n\n## Expectations\n\n### What are we expecting to happen?\n\nWe expect nothing to happen in terms of user impact when we disable the feature. We expect [these errors](https://log.gprd.gitlab.net/goto/d9222302e496d4fff5c7db55b8f15f06) to stop when the feature is enabled. \n\n### What might happen if this goes wrong?\n\nIf the cache files in the callback are somehow used, we will may see other errors around composer.\n\n### What can we monitor to detect problems with this?\n\nhttps://log.gprd.gitlab.net/goto/c6f5d34c888b7bcb24c34e86e71349b3 (errors should stop showing if things are going well)\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- [x] Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status 853aafad `\n- [x] Enable the feature globally on non-production environments.\n    - [x] `/chatops run feature set disable_composer_callback true --dev`\n    - [x] `/chatops run feature set disable_composer_callback true --staging`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n```sh\nbefore\n→ curl --request DELETE -H \"Private-Token: $TOKEN\" https://staging.gitlab.com/api/v4/projects/5954293/packages/28670\n{\"message\":\"500 Internal Server Error\"}\n\nafter\n→ curl --request DELETE -H \"Private-Token: $TOKEN\" https://staging.gitlab.com/api/v4/projects/5954293/packages/28670\n```\n\n### Preparation before production rollout\n\n- [x] Ensure that the feature MRs have been deployed to both production and canary.\n    - [x] `/chatops run auto_deploy status 853aafad `\n- [-] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [x] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [x] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [x] Announce on [the feature issue](https://gitlab.com/gitlab-org/gitlab/-/issues/331768) an estimated time this will be enabled on GitLab.com.\n- [-] If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), enable it on GitLab.com for [testing groups/projects](#testing-groupsprojectsusers).\n    - [-] `/chatops run feature set --\u003cactor-type\u003e=\u003cactor\u003e disable_composer_callback true`\n- [-] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Global rollout on production\n\n- [x] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [x] `/chatops run feature set disable_composer_callback 10`\n    - [x] `/chatops run feature set disable_composer_callback 30`\n    - [x] `/chatops run feature set disable_composer_callback 60`\n    - [x] `/chatops run feature set disable_composer_callback 100`\n  - Enable the feature globally on production environment.\n    - [x] `/chatops run feature set disable_composer_callback true`\n- [x] Announce on [the feature issue](https://gitlab.com/gitlab-org/gitlab/-/issues/331768) that the feature has been globally enabled.\n- [x] Cross-post chatops slack command to `#support_gitlab-com`.\n  ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)) and in your team channel\n- [ ] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [x] Create a merge request to remove `disable_composer_callback` feature flag. Ask for review and merge it.\n    - [x] Remove all references to the feature flag from the codebase.\n    - [x] Remove the YAML definitions for the feature from the repository.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [x] Ensure that the above MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [x] `/chatops run auto_deploy status db4fc169`\n- [x] Close [the feature issue](https://gitlab.com/gitlab-org/gitlab/-/issues/331768) to indicate the feature will be released in the current milestone.\n- [x] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [x] `/chatops run feature delete disable_composer_callback --dev`\n    - [x] `/chatops run feature delete disable_composer_callback --staging`\n    - [x] `/chatops run feature delete disable_composer_callback`\n- [x] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set disable_composer_callback false\n```","state":"closed","created_at":"2021-06-14T18:26:47.426Z","updated_at":"2021-10-28T13:55:59.842Z","closed_at":"2021-06-24T18:44:26.203Z","closed_by":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"labels":["Category:Package Registry","Composer Repository","backend","devops::package","feature flag","group::package registry","section::ops","type::maintenance","workflow::production"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"}],"author":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"type":"ISSUE","assignee":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333587","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":33,"completed_count":31},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"31 of 33 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333587","notes":"https://gitlab.com/api/v4/projects/278964/issues/333587/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333587/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333587","relative":"#333587","full":"gitlab-org/gitlab#333587"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88695946,"iid":333586,"project_id":278964,"title":"DevOps Adoption - Allow multi-select for enabling / disabling groups","description":"We moved away from the DevOps Adoption modal which provided multi-select due to the performance constraints of loading all groups into the modal.\n\nOur new approach allows a user to add individual groups to the table by selecting them from an dropdown search feature. \n\n### Proposal \n\n\u003c!-- Use this section to explain the feature and how it will work. It can be helpful to add technical details, design proposals, and links to related epics or issues. --\u003e\n\n\u003c!-- Consider adding related issues and epics to this issue. You can also reference the Feature Proposal Template (https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal%20-%20detailed.md) for additional details to consider adding to this issue. Additionally, as a data oriented organization, when your feature exits planning breakdown, consider adding the `What does success look like, and how can we measure that?` section.\n\n--\u003e\n\nWe should consider allowing multi-select in the dropdown.","state":"closed","created_at":"2021-06-14T18:18:40.097Z","updated_at":"2021-08-04T05:44:20.109Z","closed_at":"2021-08-04T05:44:20.084Z","closed_by":{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"},"labels":["GitLab Ultimate","devops::manage","estimation::completed","feature::enhancement","frontend","group::optimize","priority::2","section::dev","type::feature","workflow::production"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"}],"author":{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"},"type":"ISSUE","assignee":{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333586","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333586","notes":"https://gitlab.com/api/v4/projects/278964/issues/333586/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333586/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333586","relative":"#333586","full":"gitlab-org/gitlab#333586"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88695035,"iid":333585,"project_id":278964,"title":"Remove date from Seat Link data fields","description":"# Problem\n\nIn https://gitlab.com/gitlab-org/gitlab/-/issues/271343, Seat Link data was adjusted to send a timestamp instead of date.  However, [the `date` field is still being included in the Seat Link data](https://gitlab.com/gitlab-org/gitlab/blob/9dc094515375295ea01f49cf67f3c41847ec07d3/ee/app/models/gitlab/seat_link_data.rb#L54) when should not be needed any longer.  The API endpoint in CustomersDot will soon no longer requires this param once https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3163 is resolved.\n\nIt was raised in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/63909#note_600667447 that it might be confusing to users why both `date` and `timestamp` were included in the payload.  This issue should resolve that confusion.\n\n# Proposal\n\nRemove `date` from fields sent in Seat Link data once https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3163 is resolved.","state":"closed","created_at":"2021-06-14T17:53:24.613Z","updated_at":"2021-11-19T20:11:11.254Z","closed_at":"2021-07-14T14:43:46.911Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["[deprecated] Accepting merge requests","[deprecated] Category:Provision","backend","devops::fulfillment","good for new contributors","group::provision","maintenance::refactor","section::fulfillment","workflow::production"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":null,"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333585","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333585","notes":"https://gitlab.com/api/v4/projects/278964/issues/333585/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333585/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333585","relative":"#333585","full":"gitlab-org/gitlab#333585"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88693873,"iid":333582,"project_id":278964,"title":"Use DS_EXCLUDED_ANALYZERS in Dependency Scanning analyzer development templates","description":"## Summary\n\nSwitch Dependency Scanning `ci-templates` and `analyzer` configs to use `DS_EXCLUDED_ANALYZERS` rather than `DS_DEFAULT_ANALYZERS`.\n\n## Improvements\n\n`DS_DEFAULT_ANALYZERS` has been deprecated.\n\n## Involved components\n\n- [x] https://gitlab.com/gitlab-org/security-products/ci-templates (https://gitlab.com/gitlab-org/security-products/ci-templates/-/merge_requests/216/diffs)\n- [x] Update `retire.js` (https://gitlab.com/gitlab-org/security-products/analyzers/retire.js/-/merge_requests/78)\n- [x] Update `bundler-audit` (https://gitlab.com/gitlab-org/security-products/analyzers/bundler-audit/-/merge_requests/77)\n- [x] Update `gemnasium-python` (https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-python/-/merge_requests/107)\n- [x] Update `gemnasium-maven` (https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-maven/-/merge_requests/116)\n- [x] Update `gemnasium` (https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/-/merge_requests/190)","state":"closed","created_at":"2021-06-14T17:22:30.621Z","updated_at":"2022-03-16T11:42:00.347Z","closed_at":"2021-06-18T00:05:58.178Z","closed_by":{"id":4668304,"username":"ifrenkel","name":"Igor Frenkel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a73e8113c53ac25297ce751e59bbb1d3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifrenkel"},"labels":["Category:Dependency Scanning","Enterprise Edition","GitLab Ultimate","Stretch","backend","devops::secure","group::composition analysis","maintenance::pipelines","section::sec","type::maintenance","workflow::in review"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":4668304,"username":"ifrenkel","name":"Igor Frenkel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a73e8113c53ac25297ce751e59bbb1d3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifrenkel"}],"author":{"id":4668304,"username":"ifrenkel","name":"Igor Frenkel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a73e8113c53ac25297ce751e59bbb1d3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifrenkel"},"type":"ISSUE","assignee":{"id":4668304,"username":"ifrenkel","name":"Igor Frenkel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a73e8113c53ac25297ce751e59bbb1d3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifrenkel"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333582","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":6},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"6 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333582","notes":"https://gitlab.com/api/v4/projects/278964/issues/333582/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333582/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333582","relative":"#333582","full":"gitlab-org/gitlab#333582"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88693360,"iid":333580,"project_id":278964,"title":"REST API: Rename services to integrations (without making any functional changes)","description":"### Description\n\nThis is part of the effort to rename services to integrations https://gitlab.com/groups/gitlab-org/-/epics/2504.\n\nWe need to rename all classes (and methods, variables if applicable) involved in the REST `services` API from \"service(s)\" to \"integration(s)\".\n\nNote, that we should not introduce any functional changes to the API itself; so the endpoint will still need to be `services`, with all relevant field and argument names also preserved. This is because in API `v5` we'd make the full breaking change of renaming the endpoint as outlined in the [REST API docs](https://docs.gitlab.com/ee/api/#compatibility-guidelines).","state":"closed","created_at":"2021-06-14T17:09:27.641Z","updated_at":"2022-11-22T19:39:39.102Z","closed_at":"2021-07-19T09:17:56.799Z","closed_by":{"id":16943,"username":"Andysoiron","name":"Andy Soiron","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/16943/avatar.png","web_url":"https://gitlab.com/Andysoiron"},"labels":["Category:API","Category:Integrations","Deliverable","api","backend","devops::manage","good for new contributors","group::ecosystem [DEPRECATED]","section::dev","workflow::verification"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":16943,"username":"Andysoiron","name":"Andy Soiron","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/16943/avatar.png","web_url":"https://gitlab.com/Andysoiron"}],"author":{"id":1315742,"username":"arturoherrero","name":"Arturo Herrero","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1315742/avatar.png","web_url":"https://gitlab.com/arturoherrero"},"type":"ISSUE","assignee":{"id":16943,"username":"Andysoiron","name":"Andy Soiron","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/16943/avatar.png","web_url":"https://gitlab.com/Andysoiron"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333580","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333580","notes":"https://gitlab.com/api/v4/projects/278964/issues/333580/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333580/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333580","relative":"#333580","full":"gitlab-org/gitlab#333580"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6186,"epic":{"id":288969,"iid":6186,"title":"API: Rename services to integrations","url":"/groups/gitlab-org/-/epics/6186","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":88692097,"iid":333578,"project_id":278964,"title":"License compliance report shows legacy approval_status [backend]","description":"### Summary\n\nWhen generating a report comparison the classification of a license uses legacy classification names.\n\nSee [this thread](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/62343#note_600506463) for more information.\n\nThese should be converted to the expected classifications: https://gitlab.com/gitlab-org/gitlab/blob/f385377cf38d187f138885af984a7d66f3628e0f/ee/app/models/software_license_policy.rb#L9\n\n### What is the current *bug* behavior?\n\n`approval_status` is reported as legacy name (e.g. `blacklisted`, `approved`).\n\n### What is the expected *correct* behavior?\n\n`approval_status` should return non-legacy name (`denied`, `allowed`).\n\n### Implementation plan\n\n1. Rename [`approval_status`](https://gitlab.com/gitlab-org/gitlab/-/blob/8ea9b0e2a15db8c9e8728d79c2df4db431efca41/ee/app/models/software_license_policy.rb#L52) into `legacy_approval_status` and use it in [EE::Entity::ManagedLicense](https://gitlab.com/gitlab-org/gitlab/-/blob/8ea9b0e2a15db8c9e8728d79c2df4db431efca41/ee/lib/ee/api/entities/managed_license.rb#L8) we need this to ensure no breaking changes in API, as that will be tackled separately in https://gitlab.com/gitlab-org/gitlab/-/issues/335707\n1. Create a feature flag\n1. Hide under feature flag `lc_remove_legacy_approval_status` new behavior of `approval_status` so it returns classification.\n1. Update tests that will fail:\n    1. ee/spec/controllers/projects/pipelines_controller_spec.rb:107\n    1. ee/spec/models/software_license_policy_spec.rb\n1. Fix https://gitlab.com/gitlab-org/gitlab/-/blob/033101d9a98b2338038c87ec0356de10222a180d/ee/app/models/ee/merge_request.rb#L183 and remove legacy names\n\n### Testing\n\n- [x] update merge request widget spec to disable feature flag (should be turned on after https://gitlab.com/gitlab-org/gitlab/-/issues/335868)\n\nSET to test E2E tests with the feature flag set and unset.","state":"closed","created_at":"2021-06-14T16:39:31.927Z","updated_at":"2022-03-29T15:51:11.409Z","closed_at":"2022-02-18T22:47:18.194Z","closed_by":{"id":4668304,"username":"ifrenkel","name":"Igor Frenkel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a73e8113c53ac25297ce751e59bbb1d3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifrenkel"},"labels":["Category:License Compliance","Deliverable","Enterprise Edition","GitLab Ultimate","backend","devops::secure","group::composition analysis","maintenance::refactor","missed-deliverable","missed:14.7","priority::1","quad-planning::complete-action","section::sec","type::maintenance","workflow::production"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":4668304,"username":"ifrenkel","name":"Igor Frenkel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a73e8113c53ac25297ce751e59bbb1d3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifrenkel"}],"author":{"id":4668304,"username":"ifrenkel","name":"Igor Frenkel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a73e8113c53ac25297ce751e59bbb1d3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifrenkel"},"type":"ISSUE","assignee":{"id":4668304,"username":"ifrenkel","name":"Igor Frenkel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a73e8113c53ac25297ce751e59bbb1d3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifrenkel"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333578","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":1},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333578","notes":"https://gitlab.com/api/v4/projects/278964/issues/333578/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333578/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333578","relative":"#333578","full":"gitlab-org/gitlab#333578"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7393,"epic":{"id":421331,"iid":7393,"title":"License Compliance terminology migration","url":"/groups/gitlab-org/-/epics/7393","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":88691626,"iid":333577,"project_id":278964,"title":"Automated test to know when the vulnerabilities DB is not up-to-date","description":"\n## Why are we doing this work\n\nCreate an automated test that checks the latest production image and if the DB is older than few days(maybe 2), we get an alert so that we know when the vulnerabilities DB are not up-to-date.\n\n\n## Relevant links\n\n\n## Non-functional requirements\n\n- [-] Documentation:\n- [-] Feature flag:\n- [-] Performance:\n- [ ] Testing:\n\n\n## Implementation plan\n\n- ~backend Create a rake task (or maybe a script) in [gcs](https://gitlab.com/gitlab-org/security-products/analyzers/container-scanning) that checks the latest production image and the vulnerabilities DB of trivy and send a slack alert to `#s_protect-alerts` similar to [`s_secure-alerts`](https://gitlab.slack.com/archives/CAU9SFKNU). \nhttps://gitlab.com/gitlab-org/quality/ci/secure-test-project-orchestrator could be used as a reference to send slack alerts. The rake task must be called from a scheduled pipeline.","state":"closed","created_at":"2021-06-14T16:28:51.570Z","updated_at":"2021-11-18T07:03:13.256Z","closed_at":"2021-10-27T11:51:56.471Z","closed_by":{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"},"labels":["Category:Container Scanning","Deliverable","backend","devops::govern","feature::enhancement","group::security policies","missed-deliverable","missed:14.2","section::sec","type::feature","workflow::in review"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"}],"author":{"id":8401507,"username":"sashi_kumar","name":"Sashi Kumar Kumaresan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8401507/avatar.png","web_url":"https://gitlab.com/sashi_kumar"},"type":"ISSUE","assignee":{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"},"user_notes_count":6,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333577","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333577","notes":"https://gitlab.com/api/v4/projects/278964/issues/333577/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333577/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333577","relative":"#333577","full":"gitlab-org/gitlab#333577"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88690072,"iid":333576,"project_id":278964,"title":"operator does not exist: integer[] || bigint in app/models/namespace/traversal_hierarchy.rb","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\n\u003c!-- Summarize the bug encountered concisely. --\u003e\n\n\n\nMaybe related to https://gitlab.com/gitlab-org/gitlab/-/issues/331230?\n\n\n\n\n### Steps to reproduce\n\nUse gitlab/gitlab-ce:13.12.3-ce.0\n\nTry to create an access token in a project\nor create a group\n\n\u003c!-- Describe how one can reproduce the issue - this is very important. Please use an ordered list. --\u003e\n\n\n\n### What is the current *bug* behavior?\n\nGitLab replies with a server error\n\n\n\n### Relevant logs and/or screenshots\n\nLogs show:\n```\n==\u003e /var/log/gitlab/postgresql/current \u003c==\n2021-06-14_15:16:38.95055 ERROR:  operator does not exist: integer[] || bigint at character 350\n2021-06-14_15:16:38.95060 HINT:  No operator matches the given name and argument types. You might need to add explicit type casts.\n2021-06-14_15:16:38.95061 STATEMENT:  /*application:web,correlation_id:01F85HH5T4MPABFN1HPPGXQ039,endpoint_id:Projects::Settings::AccessTokensController#create*/ \n2021-06-14_15:16:38.95061 \t            UPDATE namespaces\n2021-06-14_15:16:38.95062 \t            SET traversal_ids = cte.traversal_ids\n2021-06-14_15:16:38.95062 \t            FROM (WITH RECURSIVE cte(id, traversal_ids, cycle) AS (\n2021-06-14_15:16:38.95062 \t  VALUES(154, ARRAY[154], false)\n2021-06-14_15:16:38.95063 \tUNION ALL\n2021-06-14_15:16:38.95063 \t  SELECT n.id, cte.traversal_ids || n.id, n.id = ANY(cte.traversal_ids)\n2021-06-14_15:16:38.95063 \t  FROM namespaces n, cte\n2021-06-14_15:16:38.95064 \t  WHERE n.parent_id = cte.id AND NOT cycle\n2021-06-14_15:16:38.95064 \t)\n2021-06-14_15:16:38.95064 \tSELECT id, traversal_ids FROM cte\n2021-06-14_15:16:38.95066 \t) as cte\n2021-06-14_15:16:38.95067 \t            WHERE namespaces.id = cte.id\n2021-06-14_15:16:38.95067 \t              AND namespaces.traversal_ids \u003c\u003e cte.traversal_ids\n2021-06-14_15:16:38.95068 \t            \n\n```\n\n```  \napp/models/namespace/traversal_hierarchy.rb:43:in `block in sync_traversal_ids!'\nlib/gitlab/database.rb:371:in `block in transaction'\nlib/gitlab/database.rb:370:in `transaction'\napp/models/namespace/traversal_hierarchy.rb:41:in `sync_traversal_ids!'\napp/models/namespaces/traversal/linear.rb:91:in `sync_traversal_ids'\nlib/gitlab/database.rb:371:in `block in transaction'\nlib/gitlab/database.rb:370:in `transaction'\nlib/gitlab/database.rb:371:in `block in transaction'\nlib/gitlab/database.rb:370:in `transaction'\napp/services/users/create_service.rb:16:in `execute'\nlib/gitlab/metrics/instrumentation.rb:160:in `block in execute'\nlib/gitlab/metrics/method_call.rb:27:in `measure'\nlib/gitlab/metrics/instrumentation.rb:160:in `execute'\napp/services/resource_access_tokens/create_service.rb:51:in `create_user'\napp/services/resource_access_tokens/create_service.rb:15:in `execute'\napp/controllers/projects/settings/access_tokens_controller.rb:21:in `create'\napp/controllers/application_controller.rb:490:in `set_current_admin'\nlib/gitlab/session.rb:11:in `with_session'\napp/controllers/application_controller.rb:481:in `set_session_storage'\nlib/gitlab/i18n.rb:99:in `with_locale'\nlib/gitlab/i18n.rb:105:in `with_user_locale'\napp/controllers/application_controller.rb:475:in `set_locale'\napp/controllers/application_controller.rb:468:in `block in set_current_context'\nlib/gitlab/application_context.rb:70:in `block in use'\nlib/gitlab/application_context.rb:70:in `use'\nlib/gitlab/application_context.rb:27:in `with_context'\napp/controllers/application_controller.rb:459:in `set_current_context'\nlib/gitlab/metrics/elasticsearch_rack_middleware.rb:16:in `call'\nlib/gitlab/middleware/rails_queue_duration.rb:33:in `call'\nlib/gitlab/metrics/rack_middleware.rb:16:in `block in call'\nlib/gitlab/metrics/transaction.rb:56:in `run'\nlib/gitlab/metrics/rack_middleware.rb:16:in `call'\nlib/gitlab/middleware/speedscope.rb:13:in `call'\nlib/gitlab/request_profiler/middleware.rb:17:in `call'\nlib/gitlab/jira/middleware.rb:19:in `call'\nlib/gitlab/middleware/go.rb:20:in `call'\nlib/gitlab/etag_caching/middleware.rb:21:in `call'\nlib/gitlab/middleware/multipart.rb:172:in `call'\nlib/gitlab/middleware/read_only/controller.rb:50:in `call'\nlib/gitlab/middleware/read_only.rb:18:in `call'\nlib/gitlab/middleware/same_site_cookies.rb:27:in `call'\nlib/gitlab/middleware/handle_malformed_strings.rb:21:in `call'\nlib/gitlab/middleware/basic_health_check.rb:25:in `call'\nlib/gitlab/middleware/handle_ip_spoof_attack_error.rb:25:in `call'\nlib/gitlab/middleware/request_context.rb:21:in `call'\nconfig/initializers/fix_local_cache_middleware.rb:11:in `call'\nlib/gitlab/middleware/rack_multipart_tempfile_factory.rb:19:in `call'\nlib/gitlab/metrics/requests_rack_middleware.rb:76:in `call'\nlib/gitlab/middleware/release_env.rb:12:in `call'\n```\n\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n\nSystem information\nSystem:\t\t\nCurrent User:\tgit\nUsing RVM:\tno\nRuby Version:\t2.7.2p137\nGem Version:\t3.1.4\nBundler Version:2.1.4\nRake Version:\t13.0.3\nRedis Version:\t6.0.12\nGit Version:\t2.31.1\nSidekiq Version:5.2.9\nGo Version:\tunknown\n\nGitLab information\nVersion:\t13.12.3\nRevision:\t757327a59bc\nDirectory:\t/opt/gitlab/embedded/service/gitlab-rails\nDB Adapter:\tPostgreSQL\nDB Version:\t12.6\nURL:\t\thttps://xx\nHTTP Clone URL:\thttps://xx/some-group/some-project.git\nSSH Clone URL:\t[git@xx:10022]:some-group/some-project.git\nUsing LDAP:\tno\nUsing Omniauth:\tyes\nOmniauth Providers: \n\nGitLab Shell\nVersion:\t13.18.0\nRepository storage paths:\n- default: \t/var/opt/gitlab/git-data/repositories\nGitLab Shell path:\t\t/opt/gitlab/embedded/service/gitlab-shell\nGit:\t\t/opt/gitlab/embedded/bin/git\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\nChecking GitLab subtasks ...\n\nChecking GitLab Shell ...\n\nGitLab Shell: ... GitLab Shell version \u003e= 13.18.0 ? ... OK (13.18.0)\nRunning /opt/gitlab/embedded/service/gitlab-shell/bin/check\nInternal API available: OK\nRedis available via internal API: OK\ngitlab-shell self-check successful\n\nChecking GitLab Shell ... Finished\n\nChecking Gitaly ...\n\nGitaly: ... default ... OK\n\nChecking Gitaly ... Finished\n\nChecking Sidekiq ...\n\nSidekiq: ... Running? ... yes\nNumber of Sidekiq processes (cluster/worker) ... 1/1\n\nChecking Sidekiq ... Finished\n\nChecking Incoming Email ...\n\nIncoming Email: ... Reply by email is disabled in config/gitlab.yml\n\nChecking Incoming Email ... Finished\n\nChecking LDAP ...\n\nLDAP: ... LDAP is disabled in config/gitlab.yml\n\nChecking LDAP ... Finished\n\nChecking GitLab App ...\n\nGit configured correctly? ... yes\nDatabase config exists? ... yes\nAll migrations up? ... yes\nDatabase contains orphaned GroupMembers? ... no\nGitLab config exists? ... yes\nGitLab config up to date? ... yes\nLog directory writable? ... yes\nTmp directory writable? ... yes\nUploads directory exists? ... yes\nUploads directory has correct permissions? ... yes\nUploads directory tmp has correct permissions? ... no\n  Try fixing it:\n  sudo chown -R git /var/opt/gitlab/gitlab-rails/uploads\n  sudo find /var/opt/gitlab/gitlab-rails/uploads -type f -exec chmod 0644 {} \\;\n  sudo find /var/opt/gitlab/gitlab-rails/uploads -type d -not -path /var/opt/gitlab/gitlab-rails/uploads -exec chmod 0700 {} \\;\n  For more information see:\n  doc/install/installation.md in section \"GitLab\"\n  Please fix the error above and rerun the checks.\nInit script exists? ... skipped (omnibus-gitlab has no init script)\nInit script up-to-date? ... skipped (omnibus-gitlab has no init script)\nProjects have namespace: ... \n4/1 ... yes\n4/2 ... yes\n2/3 ... yes\n2/4 ... yes\n2/5 ... yes\n2/6 ... yes\n4/7 ... yes\n4/8 ... yes\n25/10 ... yes\n12/11 ... yes\n4/13 ... yes\n12/14 ... yes\n31/17 ... yes\n14/18 ... yes\n2/19 ... yes\n33/20 ... yes\n16/21 ... yes\n17/22 ... yes\n17/23 ... yes\n17/24 ... yes\n31/25 ... yes\n5/26 ... yes\n5/27 ... yes\n5/28 ... yes\n5/29 ... yes\n18/32 ... yes\n44/33 ... yes\n13/34 ... yes\n44/35 ... yes\n44/36 ... yes\n20/37 ... yes\n20/38 ... yes\n20/39 ... yes\n20/40 ... yes\n20/41 ... yes\n21/43 ... yes\n21/44 ... yes\n20/45 ... yes\n21/46 ... yes\n23/47 ... yes\n24/49 ... yes\n13/50 ... yes\n20/51 ... yes\n25/52 ... yes\n20/53 ... yes\n25/54 ... yes\n24/55 ... yes\n25/56 ... yes\n2/57 ... yes\n24/58 ... yes\n14/59 ... yes\n24/60 ... yes\n25/61 ... yes\n34/62 ... yes\n13/63 ... yes\n13/64 ... yes\n61/65 ... yes\n61/66 ... yes\n34/67 ... yes\n24/68 ... yes\n31/69 ... yes\n14/70 ... yes\n14/71 ... yes\n20/72 ... yes\n14/73 ... yes\n2/74 ... yes\n13/75 ... yes\n13/76 ... yes\n44/78 ... yes\n13/80 ... yes\n13/81 ... yes\n13/83 ... yes\n13/84 ... yes\n62/85 ... yes\n13/87 ... yes\n2/88 ... yes\n13/89 ... yes\n13/90 ... yes\n13/91 ... yes\n13/93 ... yes\n13/95 ... yes\n14/96 ... yes\n13/98 ... yes\n31/99 ... yes\n25/100 ... yes\n31/101 ... yes\n31/103 ... yes\n13/104 ... yes\n13/105 ... yes\n13/106 ... yes\n20/107 ... yes\n7/108 ... yes\n14/109 ... yes\n28/110 ... yes\n2/112 ... yes\n2/113 ... yes\n28/114 ... yes\n31/115 ... yes\n2/116 ... yes\n2/117 ... yes\n44/119 ... yes\n20/120 ... yes\n13/121 ... yes\n13/123 ... yes\n30/124 ... yes\n8/125 ... yes\n13/126 ... yes\n20/127 ... yes\n13/128 ... yes\n13/129 ... yes\n20/130 ... yes\n13/131 ... yes\n33/132 ... yes\n23/133 ... yes\n34/134 ... yes\n2/136 ... yes\n2/137 ... yes\n31/138 ... yes\n31/140 ... yes\n31/141 ... yes\n13/142 ... yes\n37/143 ... yes\n32/144 ... yes\n32/145 ... yes\n20/146 ... yes\n13/147 ... yes\n30/148 ... yes\n37/149 ... yes\n62/151 ... yes\n14/153 ... yes\n2/154 ... yes\n31/155 ... yes\n20/156 ... yes\n31/157 ... yes\n2/158 ... yes\n2/159 ... yes\n24/160 ... yes\n31/162 ... yes\n33/163 ... yes\n33/164 ... yes\n13/165 ... yes\n21/166 ... yes\n34/168 ... yes\n23/169 ... yes\n13/170 ... yes\n35/172 ... yes\n20/173 ... yes\n33/174 ... yes\n2/175 ... yes\n20/176 ... yes\n20/178 ... yes\n2/179 ... yes\n20/180 ... yes\n20/181 ... yes\n2/182 ... yes\n13/183 ... yes\n20/184 ... yes\n13/185 ... yes\n20/186 ... yes\n20/187 ... yes\n20/188 ... yes\n13/189 ... yes\n20/190 ... yes\n37/192 ... yes\n37/193 ... yes\n37/194 ... yes\n20/195 ... yes\n37/196 ... yes\n29/197 ... yes\n2/198 ... yes\n21/199 ... yes\n13/200 ... yes\n37/201 ... yes\n33/202 ... yes\n33/203 ... yes\n44/204 ... yes\n13/205 ... yes\n44/206 ... yes\n82/208 ... yes\n39/209 ... yes\n83/210 ... yes\n37/211 ... yes\n37/212 ... yes\n37/213 ... yes\n13/215 ... yes\n24/216 ... yes\n31/219 ... yes\n13/220 ... yes\n91/221 ... yes\n40/223 ... yes\n82/224 ... yes\n44/226 ... yes\n39/227 ... yes\n90/228 ... yes\n31/229 ... yes\n89/230 ... yes\n37/232 ... yes\n90/233 ... yes\n62/234 ... yes\n31/236 ... yes\n31/237 ... yes\n38/238 ... yes\n37/239 ... yes\n31/240 ... yes\n37/241 ... yes\n39/242 ... yes\n8/243 ... yes\n41/244 ... yes\n41/245 ... yes\n41/246 ... yes\n13/247 ... yes\n41/249 ... yes\n41/250 ... yes\n41/251 ... yes\n13/253 ... yes\n40/254 ... yes\n34/256 ... yes\n31/257 ... yes\n39/258 ... yes\n44/259 ... yes\n37/260 ... yes\n90/261 ... yes\n37/262 ... yes\n90/263 ... yes\n90/264 ... yes\n90/265 ... yes\n31/266 ... yes\n44/267 ... yes\n41/268 ... yes\n41/269 ... yes\n31/271 ... yes\n44/272 ... yes\n2/273 ... yes\n14/274 ... yes\n45/275 ... yes\n45/276 ... yes\n45/277 ... yes\n31/278 ... yes\n20/279 ... yes\n46/280 ... yes\n39/281 ... yes\n62/282 ... yes\n41/283 ... yes\n41/284 ... yes\n41/291 ... yes\n31/293 ... yes\n62/294 ... yes\n13/295 ... yes\n39/296 ... yes\n62/297 ... yes\n44/298 ... yes\n41/299 ... yes\n13/300 ... yes\n13/301 ... yes\n44/302 ... yes\n14/303 ... yes\n39/304 ... yes\n41/306 ... yes\n90/307 ... yes\n39/309 ... yes\n37/310 ... yes\n44/311 ... yes\n25/312 ... yes\n7/313 ... yes\n2/314 ... yes\n89/315 ... yes\n39/316 ... yes\n89/317 ... yes\n37/318 ... yes\n37/319 ... yes\n39/320 ... yes\n19/321 ... yes\n39/322 ... yes\n37/323 ... yes\n8/324 ... yes\n39/326 ... yes\n29/328 ... yes\n31/329 ... yes\n44/330 ... yes\n13/331 ... yes\n82/332 ... yes\n29/333 ... yes\n48/334 ... yes\n48/335 ... yes\n48/336 ... yes\n45/337 ... yes\n41/338 ... yes\n48/339 ... yes\n39/340 ... yes\n39/341 ... yes\n41/342 ... yes\n45/343 ... yes\n37/344 ... yes\n29/345 ... yes\n41/346 ... yes\n41/347 ... yes\n31/349 ... yes\n14/350 ... yes\n39/351 ... yes\n13/352 ... yes\n31/353 ... yes\n20/354 ... yes\n41/355 ... yes\n7/356 ... yes\n41/357 ... yes\n13/358 ... yes\n87/359 ... yes\n37/360 ... yes\n41/362 ... yes\n41/363 ... yes\n33/364 ... yes\n82/365 ... yes\n31/367 ... yes\n31/368 ... yes\n2/369 ... yes\n31/375 ... yes\n13/376 ... yes\n31/378 ... yes\n37/379 ... yes\n2/380 ... yes\n31/381 ... yes\n2/382 ... yes\n50/383 ... yes\n50/384 ... yes\n31/385 ... yes\n50/386 ... yes\n2/387 ... yes\n2/388 ... yes\n37/389 ... yes\n88/391 ... yes\n51/392 ... yes\n62/393 ... yes\n19/394 ... yes\n2/395 ... yes\n64/396 ... yes\n37/397 ... yes\n31/398 ... yes\n31/399 ... yes\n50/400 ... yes\n41/401 ... yes\n37/402 ... yes\n7/403 ... yes\n89/404 ... yes\n41/405 ... yes\n7/406 ... yes\n41/408 ... yes\n41/409 ... yes\n41/410 ... yes\n41/411 ... yes\n44/412 ... yes\n51/413 ... yes\n41/414 ... yes\n37/415 ... yes\n41/416 ... yes\n51/417 ... yes\n39/418 ... yes\n39/419 ... yes\n87/420 ... yes\n2/421 ... yes\n50/422 ... yes\n50/423 ... yes\n31/424 ... yes\n50/425 ... yes\n41/426 ... yes\n51/428 ... yes\n50/430 ... yes\n7/431 ... yes\n50/432 ... yes\n50/433 ... yes\n33/434 ... yes\n50/435 ... yes\n33/436 ... yes\n31/437 ... yes\n50/438 ... yes\n41/439 ... yes\n50/440 ... yes\n50/441 ... yes\n33/442 ... yes\n2/443 ... yes\n50/444 ... yes\n50/445 ... yes\n20/446 ... yes\n50/447 ... yes\n88/448 ... yes\n41/449 ... yes\n50/450 ... yes\n39/451 ... yes\n33/452 ... yes\n46/453 ... yes\n13/454 ... yes\n37/455 ... yes\n41/456 ... yes\n51/457 ... yes\n41/458 ... yes\n13/459 ... yes\n8/460 ... yes\n50/461 ... yes\n50/462 ... yes\n50/463 ... yes\n31/465 ... yes\n31/466 ... yes\n50/467 ... yes\n33/468 ... yes\n44/469 ... yes\n50/470 ... yes\n37/471 ... yes\n51/472 ... yes\n20/473 ... yes\n37/474 ... yes\n8/475 ... yes\n41/477 ... yes\n37/478 ... yes\n37/479 ... yes\n61/480 ... yes\n87/481 ... yes\n39/482 ... yes\n41/484 ... yes\n13/485 ... yes\n50/487 ... yes\n53/488 ... yes\n31/489 ... yes\n89/490 ... yes\n60/491 ... yes\n13/492 ... yes\n89/494 ... yes\n89/495 ... yes\n50/496 ... yes\n89/497 ... yes\n61/498 ... yes\n41/499 ... yes\n2/500 ... yes\n30/501 ... yes\n13/502 ... yes\n61/503 ... yes\n74/504 ... yes\n61/505 ... yes\n21/506 ... yes\n39/507 ... yes\n60/508 ... yes\n13/509 ... yes\n21/510 ... yes\n13/511 ... yes\n51/512 ... yes\n51/513 ... yes\n100/515 ... yes\n100/516 ... yes\n41/517 ... yes\n126/519 ... yes\n53/520 ... yes\n64/521 ... yes\n64/522 ... yes\n34/523 ... yes\n34/524 ... yes\n110/525 ... yes\n13/526 ... yes\n13/527 ... yes\n65/528 ... yes\n41/529 ... yes\n110/530 ... yes\n92/531 ... yes\n14/532 ... yes\n66/533 ... yes\n2/534 ... yes\n60/535 ... yes\n60/537 ... yes\n8/538 ... yes\n67/540 ... yes\n19/541 ... yes\n50/542 ... yes\n2/543 ... yes\n67/544 ... yes\n60/545 ... yes\n8/546 ... yes\n37/547 ... yes\n66/548 ... yes\n2/550 ... yes\n19/551 ... yes\n41/552 ... yes\n19/553 ... yes\n8/554 ... yes\n50/555 ... yes\n8/556 ... yes\n44/557 ... yes\n51/558 ... yes\n126/559 ... yes\n37/560 ... yes\n50/561 ... yes\n20/562 ... yes\n8/563 ... yes\n7/564 ... yes\n37/565 ... yes\n44/566 ... yes\n68/567 ... yes\n50/568 ... yes\n44/569 ... yes\n41/570 ... yes\n41/571 ... yes\n41/572 ... yes\n41/573 ... yes\n41/575 ... yes\n8/576 ... yes\n41/577 ... yes\n50/578 ... yes\n66/579 ... yes\n41/581 ... yes\n80/582 ... yes\n80/583 ... yes\n41/584 ... yes\n80/585 ... yes\n8/587 ... yes\n68/588 ... yes\n13/589 ... yes\n41/590 ... yes\n24/591 ... yes\n44/592 ... yes\n53/593 ... yes\n94/594 ... yes\n82/595 ... yes\n24/596 ... yes\n13/597 ... yes\n53/598 ... yes\n13/599 ... yes\n37/600 ... yes\n41/601 ... yes\n50/602 ... yes\n82/603 ... yes\n37/604 ... yes\n69/605 ... yes\n68/606 ... yes\n23/607 ... yes\n41/608 ... yes\n41/609 ... yes\n41/610 ... yes\n70/611 ... yes\n41/612 ... yes\n34/613 ... yes\n37/614 ... yes\n50/615 ... yes\n41/616 ... yes\n41/617 ... yes\n70/618 ... yes\n41/619 ... yes\n19/620 ... yes\n126/621 ... yes\n41/622 ... yes\n37/624 ... yes\n70/625 ... yes\n13/626 ... yes\n68/627 ... yes\n8/628 ... yes\n126/630 ... yes\n41/631 ... yes\n41/633 ... yes\n41/634 ... yes\n41/635 ... yes\n51/636 ... yes\n50/637 ... yes\n13/638 ... yes\n37/641 ... yes\n41/642 ... yes\n41/643 ... yes\n112/644 ... yes\n2/645 ... yes\n23/646 ... yes\n2/647 ... yes\n20/648 ... yes\n41/649 ... yes\n19/650 ... yes\n50/651 ... yes\n67/652 ... yes\n87/653 ... yes\n67/654 ... yes\n112/655 ... yes\n44/656 ... yes\n65/659 ... yes\n8/660 ... yes\n8/661 ... yes\n31/662 ... yes\n41/663 ... yes\n126/664 ... yes\n2/665 ... yes\n75/666 ... yes\n21/667 ... yes\n44/668 ... yes\n68/669 ... yes\n23/670 ... yes\n74/672 ... yes\n74/673 ... yes\n75/674 ... yes\n75/675 ... yes\n19/676 ... yes\n19/677 ... yes\n75/678 ... yes\n19/679 ... yes\n77/680 ... yes\n77/681 ... yes\n77/682 ... yes\n77/683 ... yes\n77/684 ... yes\n75/685 ... yes\n50/686 ... yes\n75/687 ... yes\n74/688 ... yes\n46/689 ... yes\n19/690 ... yes\n87/691 ... yes\n87/692 ... yes\n13/693 ... yes\n2/694 ... yes\n99/695 ... yes\n67/696 ... yes\n68/697 ... yes\n37/699 ... yes\n126/700 ... yes\n86/701 ... yes\n126/702 ... yes\n14/703 ... yes\n78/704 ... yes\n84/705 ... yes\n19/706 ... yes\n75/707 ... yes\n67/708 ... yes\n46/709 ... yes\n41/710 ... yes\n2/711 ... yes\n2/712 ... yes\n83/713 ... yes\n14/714 ... yes\n50/715 ... yes\n46/716 ... yes\n99/717 ... yes\n2/718 ... yes\n126/719 ... yes\n62/720 ... yes\n19/721 ... yes\n99/722 ... yes\n19/724 ... yes\n126/725 ... yes\n99/726 ... yes\n2/727 ... yes\n41/728 ... yes\n50/729 ... yes\n14/730 ... yes\n14/731 ... yes\n91/732 ... yes\n2/733 ... yes\n99/734 ... yes\n2/735 ... yes\n2/736 ... yes\n99/737 ... yes\n92/738 ... yes\n92/739 ... yes\n34/740 ... yes\n20/741 ... yes\n14/742 ... yes\n14/743 ... yes\n89/744 ... yes\n19/745 ... yes\n19/746 ... yes\n13/747 ... yes\n93/748 ... yes\n75/749 ... yes\n92/750 ... yes\n14/751 ... yes\n53/752 ... yes\n50/754 ... yes\n13/755 ... yes\n50/756 ... yes\n41/757 ... yes\n89/758 ... yes\n85/759 ... yes\n99/760 ... yes\n50/761 ... yes\n99/762 ... yes\n89/763 ... yes\n50/764 ... yes\n59/765 ... yes\n14/766 ... yes\n126/767 ... yes\n14/768 ... yes\n126/770 ... yes\n99/771 ... yes\n89/772 ... yes\n89/773 ... yes\n89/774 ... yes\n41/775 ... yes\n87/776 ... yes\n13/777 ... yes\n19/778 ... yes\n50/779 ... yes\n93/780 ... yes\n89/781 ... yes\n13/782 ... yes\n89/783 ... yes\n67/784 ... yes\n37/785 ... yes\n126/786 ... yes\n93/787 ... yes\n78/788 ... yes\n93/793 ... yes\n19/794 ... yes\n37/795 ... yes\n37/796 ... yes\n2/797 ... yes\n37/798 ... yes\n37/799 ... yes\n37/800 ... yes\n87/801 ... yes\n93/802 ... yes\n89/803 ... yes\n89/804 ... yes\n93/805 ... yes\n99/806 ... yes\n89/807 ... yes\n41/808 ... yes\n2/809 ... yes\n41/810 ... yes\n2/811 ... yes\n89/812 ... yes\n89/813 ... yes\n44/814 ... yes\n89/815 ... yes\n89/816 ... yes\n41/817 ... yes\n75/818 ... yes\n2/819 ... yes\n101/820 ... yes\n89/821 ... yes\n44/822 ... yes\n2/823 ... yes\n59/824 ... yes\n2/825 ... yes\n20/826 ... yes\n89/827 ... yes\n87/828 ... yes\n89/829 ... yes\n66/830 ... yes\n37/831 ... yes\n75/832 ... yes\n81/833 ... yes\n89/834 ... yes\n20/835 ... yes\n102/836 ... yes\n81/837 ... yes\n99/838 ... yes\n20/839 ... yes\n37/840 ... yes\n67/841 ... yes\n68/842 ... yes\n68/843 ... yes\n13/844 ... yes\n93/845 ... yes\n75/846 ... yes\n89/847 ... yes\n89/848 ... yes\n89/849 ... yes\n51/850 ... yes\n89/851 ... yes\n103/852 ... yes\n104/853 ... yes\n19/854 ... yes\n21/855 ... yes\n21/856 ... yes\n19/857 ... yes\n41/858 ... yes\n89/859 ... yes\n51/860 ... yes\n50/861 ... yes\n95/862 ... yes\n33/863 ... yes\n103/864 ... yes\n89/865 ... yes\n105/866 ... yes\n105/867 ... yes\n89/868 ... yes\n106/869 ... yes\n89/870 ... yes\n89/871 ... yes\n37/872 ... yes\n126/874 ... yes\n46/875 ... yes\n37/876 ... yes\n103/877 ... yes\n103/878 ... yes\n95/880 ... yes\n85/882 ... yes\n19/883 ... yes\n89/884 ... yes\n2/885 ... yes\n13/886 ... yes\n103/888 ... yes\n103/889 ... yes\n13/890 ... yes\n85/891 ... yes\n2/892 ... yes\n104/893 ... yes\n2/895 ... yes\n109/896 ... yes\n126/898 ... yes\n2/899 ... yes\n78/900 ... yes\n104/901 ... yes\n2/902 ... yes\n103/903 ... yes\n126/904 ... yes\n13/905 ... yes\n2/906 ... yes\n19/907 ... yes\n41/908 ... yes\n50/909 ... yes\n126/910 ... yes\n37/911 ... yes\n2/912 ... yes\n92/913 ... yes\n89/914 ... yes\n19/915 ... yes\n2/916 ... yes\n110/917 ... yes\n89/918 ... yes\n23/919 ... yes\n126/920 ... yes\n126/923 ... yes\n89/924 ... yes\n41/925 ... yes\n92/926 ... yes\n2/927 ... yes\n2/928 ... yes\n2/929 ... yes\n89/930 ... yes\n95/931 ... yes\n67/932 ... yes\n41/933 ... yes\n31/934 ... yes\n2/936 ... yes\n14/937 ... yes\n84/938 ... yes\n115/939 ... yes\n89/940 ... yes\n114/941 ... yes\n50/942 ... yes\n50/943 ... yes\n114/944 ... yes\n114/945 ... yes\n2/946 ... yes\n99/947 ... yes\n114/948 ... yes\n37/949 ... yes\n89/950 ... yes\n75/951 ... yes\n94/952 ... yes\n94/953 ... yes\n2/954 ... yes\n75/955 ... yes\n41/956 ... yes\n89/957 ... yes\n50/958 ... yes\n75/959 ... yes\n60/960 ... yes\n34/964 ... yes\n19/965 ... yes\n19/966 ... yes\n20/967 ... yes\n94/968 ... yes\n13/969 ... yes\n20/970 ... yes\n89/971 ... yes\n61/972 ... yes\n89/973 ... yes\n116/974 ... yes\n116/975 ... yes\n116/976 ... yes\n89/977 ... yes\n75/978 ... yes\n34/979 ... yes\n60/980 ... yes\n21/981 ... yes\n2/982 ... yes\n37/984 ... yes\n118/985 ... yes\n116/986 ... yes\n118/987 ... yes\n99/988 ... yes\n89/989 ... yes\n37/990 ... yes\n44/991 ... yes\n116/992 ... yes\n120/993 ... yes\n120/994 ... yes\n120/995 ... yes\n60/996 ... yes\n90/997 ... yes\n93/998 ... yes\n37/999 ... yes\n117/1000 ... yes\n24/1001 ... yes\n50/1002 ... yes\n33/1003 ... yes\n20/1004 ... yes\n50/1005 ... yes\n89/1006 ... yes\n60/1007 ... yes\n37/1008 ... yes\n85/1009 ... yes\n20/1010 ... yes\n116/1011 ... yes\n117/1012 ... yes\n68/1013 ... yes\n60/1014 ... yes\n2/1015 ... yes\n107/1016 ... yes\n107/1017 ... yes\n19/1018 ... yes\nRedis version \u003e= 5.0.0? ... yes\nRuby version \u003e= 2.7.2 ? ... yes (2.7.2)\nGit version \u003e= 2.31.0 ? ... yes (2.31.1)\nGit user has default SSH configuration? ... yes\nActive users: ... 40\nIs authorized keys file accessible? ... yes\nGitLab configured to store new projects in hashed storage? ... yes\nAll projects are in hashed storage? ... yes\n\nChecking GitLab App ... Finished\n\n\nChecking GitLab subtasks ... Finished\n\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n```\nALTER TABLE namespaces ALTER COLUMN id TYPE integer;\n```\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e","state":"closed","created_at":"2021-06-14T15:58:04.908Z","updated_at":"2021-08-13T08:17:32.895Z","closed_at":"2021-08-13T08:17:32.879Z","closed_by":{"id":4092171,"username":"alexpooley","name":"Alex Pooley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4092171/avatar.png","web_url":"https://gitlab.com/alexpooley"},"labels":["Category:Authentication and Authorization","customer","devops::manage","group::authentication and authorization","priority::2","section::dev","severity::2","type::bug","workflow::production"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":4092171,"username":"alexpooley","name":"Alex Pooley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4092171/avatar.png","web_url":"https://gitlab.com/alexpooley"}],"author":{"id":484457,"username":"baracoder","name":"baracoder","state":"active","avatar_url":"https://secure.gravatar.com/avatar/69970ca70a4cdca02d69bae2081e9eae?s=80\u0026d=identicon","web_url":"https://gitlab.com/baracoder"},"type":"ISSUE","assignee":{"id":4092171,"username":"alexpooley","name":"Alex Pooley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4092171/avatar.png","web_url":"https://gitlab.com/alexpooley"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333576","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333576","notes":"https://gitlab.com/api/v4/projects/278964/issues/333576/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333576/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333576","relative":"#333576","full":"gitlab-org/gitlab#333576"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88689774,"iid":333575,"project_id":278964,"title":"Validate rollback of migrations on CI cluster on staging.gitlab.com","description":"TBD","state":"closed","created_at":"2021-06-14T15:52:20.317Z","updated_at":"2022-06-13T09:22:16.023Z","closed_at":"2022-06-13T09:22:16.003Z","closed_by":{"id":3944199,"username":"fzimmer","name":"Fabian Zimmer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3944199/avatar.png","web_url":"https://gitlab.com/fzimmer"},"labels":["auto updated","pods::active"],"milestone":null,"assignees":[],"author":{"id":12452,"username":"ayufan","name":"Kamil Trzciński","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a285e30f35d72526fb0954e8fe7cefa?s=80\u0026d=identicon","web_url":"https://gitlab.com/ayufan"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333575","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333575","notes":"https://gitlab.com/api/v4/projects/278964/issues/333575/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333575/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333575","relative":"#333575","full":"gitlab-org/gitlab#333575"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6160,"epic":{"id":286521,"iid":6160,"title":"Decomposition: Rollout decomposed CI database on GitLab.com (staging and production)","url":"/groups/gitlab-org/-/epics/6160","group_id":9970,"human_readable_end_date":"May 2, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88689753,"iid":333574,"project_id":278964,"title":"Deploy and on-line (using post migration) migrate  CI cluster on staging.gitlab.com","description":"TBD","state":"closed","created_at":"2021-06-14T15:51:55.608Z","updated_at":"2022-01-31T12:52:43.147Z","closed_at":"2022-01-31T12:52:43.134Z","closed_by":{"id":3944199,"username":"fzimmer","name":"Fabian Zimmer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3944199/avatar.png","web_url":"https://gitlab.com/fzimmer"},"labels":["auto updated","pods::active"],"milestone":null,"assignees":[],"author":{"id":12452,"username":"ayufan","name":"Kamil Trzciński","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a285e30f35d72526fb0954e8fe7cefa?s=80\u0026d=identicon","web_url":"https://gitlab.com/ayufan"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333574","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333574","notes":"https://gitlab.com/api/v4/projects/278964/issues/333574/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333574/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333574","relative":"#333574","full":"gitlab-org/gitlab#333574"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6160,"epic":{"id":286521,"iid":6160,"title":"Decomposition: Rollout decomposed CI database on GitLab.com (staging and production)","url":"/groups/gitlab-org/-/epics/6160","group_id":9970,"human_readable_end_date":"May 2, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88689734,"iid":333573,"project_id":278964,"title":"Our database backups can backup CI cluster from staging.gitlab.com","description":"TBD","state":"closed","created_at":"2021-06-14T15:51:18.905Z","updated_at":"2022-01-31T12:53:14.520Z","closed_at":"2022-01-31T12:53:14.513Z","closed_by":{"id":3944199,"username":"fzimmer","name":"Fabian Zimmer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3944199/avatar.png","web_url":"https://gitlab.com/fzimmer"},"labels":["auto updated","pods::active"],"milestone":null,"assignees":[],"author":{"id":12452,"username":"ayufan","name":"Kamil Trzciński","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a285e30f35d72526fb0954e8fe7cefa?s=80\u0026d=identicon","web_url":"https://gitlab.com/ayufan"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333573","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333573","notes":"https://gitlab.com/api/v4/projects/278964/issues/333573/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333573/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333573","relative":"#333573","full":"gitlab-org/gitlab#333573"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6160,"epic":{"id":286521,"iid":6160,"title":"Decomposition: Rollout decomposed CI database on GitLab.com (staging and production)","url":"/groups/gitlab-org/-/epics/6160","group_id":9970,"human_readable_end_date":"May 2, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88689661,"iid":333572,"project_id":278964,"title":"Update Grafana dashboards and other monitoring facilities for CI cluster on staging.gitlab.com","description":"TBD","state":"closed","created_at":"2021-06-14T15:50:17.685Z","updated_at":"2021-08-16T08:58:10.597Z","closed_at":"2021-08-16T08:58:10.540Z","closed_by":{"id":120073,"username":"DylanGriffith","name":"Dylan Griffith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/120073/avatar.png","web_url":"https://gitlab.com/DylanGriffith"},"labels":["auto updated","pods::active"],"milestone":null,"assignees":[],"author":{"id":12452,"username":"ayufan","name":"Kamil Trzciński","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a285e30f35d72526fb0954e8fe7cefa?s=80\u0026d=identicon","web_url":"https://gitlab.com/ayufan"},"type":"ISSUE","assignee":null,"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333572","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333572","notes":"https://gitlab.com/api/v4/projects/278964/issues/333572/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333572/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333572","relative":"#333572","full":"gitlab-org/gitlab#333572"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6134,"epic":{"id":285044,"iid":6134,"title":"Decomposition:  Create observability for multiple database servers","url":"/groups/gitlab-org/-/epics/6134","group_id":9970,"human_readable_end_date":"Aug 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88689637,"iid":333571,"project_id":278964,"title":"Attach CI database cluster on staging.gitlab.com","description":"TBD","state":"closed","created_at":"2021-06-14T15:49:49.709Z","updated_at":"2021-11-08T09:32:13.497Z","closed_at":"2021-11-08T09:32:13.490Z","closed_by":{"id":3944199,"username":"fzimmer","name":"Fabian Zimmer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3944199/avatar.png","web_url":"https://gitlab.com/fzimmer"},"labels":["auto updated","pods::active"],"milestone":null,"assignees":[],"author":{"id":12452,"username":"ayufan","name":"Kamil Trzciński","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a285e30f35d72526fb0954e8fe7cefa?s=80\u0026d=identicon","web_url":"https://gitlab.com/ayufan"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333571","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333571","notes":"https://gitlab.com/api/v4/projects/278964/issues/333571/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333571/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333571","relative":"#333571","full":"gitlab-org/gitlab#333571"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6160,"epic":{"id":286521,"iid":6160,"title":"Decomposition: Rollout decomposed CI database on GitLab.com (staging and production)","url":"/groups/gitlab-org/-/epics/6160","group_id":9970,"human_readable_end_date":"May 2, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88689500,"iid":333570,"project_id":278964,"title":"Create additional database cluster on staging.gitlab.com for CI","description":"We need to create an additional database cluster with the full stack: Patroni/Pgbouncer/Monitoring/Nodes and attach it to the application as a CI shard.\n\nSteps:\n1. Likely this is similar to the work for provisioning registry\n1. Many databases with Patroni/Pgbouncer/Monitoring/Nodes are configured for Staging.GitLab.com (and later GitLab.com)\n\nNote:\n1. This can be done in iterations, and we can start with a single node","state":"closed","created_at":"2021-06-14T15:47:22.083Z","updated_at":"2021-11-08T09:29:35.929Z","closed_at":"2021-11-08T09:29:35.921Z","closed_by":{"id":3944199,"username":"fzimmer","name":"Fabian Zimmer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3944199/avatar.png","web_url":"https://gitlab.com/fzimmer"},"labels":["auto updated","pods::active"],"milestone":null,"assignees":[],"author":{"id":12452,"username":"ayufan","name":"Kamil Trzciński","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a285e30f35d72526fb0954e8fe7cefa?s=80\u0026d=identicon","web_url":"https://gitlab.com/ayufan"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333570","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333570","notes":"https://gitlab.com/api/v4/projects/278964/issues/333570/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333570/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333570","relative":"#333570","full":"gitlab-org/gitlab#333570"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6160,"epic":{"id":286521,"iid":6160,"title":"Decomposition: Rollout decomposed CI database on GitLab.com (staging and production)","url":"/groups/gitlab-org/-/epics/6160","group_id":9970,"human_readable_end_date":"May 2, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88689003,"iid":333567,"project_id":278964,"title":"Left navigation has horizontal scroll when `Show scroll bars` is set to `Always` in MacOS settings","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nIf there is a vertical scroll bar in the left navigation there is also a horizontal scroll.\n\nThis happens in Chrome, Safari, and Firefox on MacOS only when you have `Show scroll bars` set to `Always` in the settings.\n\n![Screen_Shot_2021-06-17_at_9.58.04_AM](/uploads/b8474e976bc85d3039a8f66c44760852/Screen_Shot_2021-06-17_at_9.58.04_AM.png)\n\n### Steps to reproduce\n\n1. Login as an Admin\n1. Click \"Menu\" in the top nav\n1. Click \"Admin\"\n1. Resize the browser window so a vertical scroll bar appears in the left navigation\n1. Scroll horizontally in left navigation\n\n### What is the current *bug* behavior?\n\nLeft navigation can be horizontally scrolled\n\n### What is the expected *correct* behavior?\n\nNo horizontal scroll on the left navigation\n\n### Relevant logs and/or screenshots\n\n![Screen_Recording_2021-06-14_at_8.36.56_AM](/uploads/e22964a3cf15c1ab18c2201b188fdfd1/Screen_Recording_2021-06-14_at_8.36.56_AM.mov)\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e","state":"closed","created_at":"2021-06-14T15:38:16.544Z","updated_at":"2022-02-08T14:31:44.059Z","closed_at":"2022-02-08T14:29:32.636Z","closed_by":{"id":10663381,"username":"OmerFarukMerey","name":"Omer Faruk Merey","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4b169d59008ddc2709aa6c3d7da216bc?s=80\u0026d=identicon","web_url":"https://gitlab.com/OmerFarukMerey"},"labels":["Development Department","devops::create","frontend","good for new contributors","group::editor","priority::4","section::dev","severity::3","type::bug"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":10663381,"username":"OmerFarukMerey","name":"Omer Faruk Merey","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4b169d59008ddc2709aa6c3d7da216bc?s=80\u0026d=identicon","web_url":"https://gitlab.com/OmerFarukMerey"}],"author":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"type":"ISSUE","assignee":{"id":10663381,"username":"OmerFarukMerey","name":"Omer Faruk Merey","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4b169d59008ddc2709aa6c3d7da216bc?s=80\u0026d=identicon","web_url":"https://gitlab.com/OmerFarukMerey"},"user_notes_count":22,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333567","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333567","notes":"https://gitlab.com/api/v4/projects/278964/issues/333567/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333567/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333567","relative":"#333567","full":"gitlab-org/gitlab#333567"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6253,"epic":{"id":296933,"iid":6253,"title":"Navigation \u0026 Settings performance improvements and tech debt","url":"/groups/gitlab-org/-/epics/6253","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88683936,"iid":333556,"project_id":278964,"title":"[Feature flag] Remove group_devops_adoption feature flag","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\n`:group_devops_adoption` flag was [enabled by default](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/60638) on 2021-05-11.  It's time to remove it completely.","state":"closed","created_at":"2021-06-14T14:21:06.140Z","updated_at":"2021-06-24T11:19:43.331Z","closed_at":"2021-06-24T11:19:43.260Z","closed_by":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"labels":["backend","devops::manage","feature flag","group::optimize","maintenance::refactor","priority::3","section::dev"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"}],"author":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"type":"ISSUE","assignee":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333556","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333556","notes":"https://gitlab.com/api/v4/projects/278964/issues/333556/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333556/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333556","relative":"#333556","full":"gitlab-org/gitlab#333556"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88675525,"iid":333551,"project_id":278964,"title":"Refactor billing plan specs","description":"The following discussion from !63731 should be addressed:\n\n```\n    \u003e ee/spec/features/billings/billing_plans_spec.rb:25:    stub_full_request(\"#{EE::SUBSCRIPTIONS_URL}/gitlab_plans?plan=#{plan.name}\u0026namespace_id=#{namespace.id}\")\n    \u003e ee/spec/features/billings/billing_plans_spec.rb:464:          stub_full_request(\"#{EE::SUBSCRIPTIONS_URL}/gitlab_plans?plan=free\u0026namespace_id=#{namespace.id}\")","state":"closed","created_at":"2021-06-14T13:42:10.769Z","updated_at":"2021-06-16T08:54:16.215Z","closed_at":"2021-06-16T08:54:16.199Z","closed_by":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"labels":["devops::growth","group::acquisition","section::growth"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"}],"author":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"type":"ISSUE","assignee":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"user_notes_count":3,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333551","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333551","notes":"https://gitlab.com/api/v4/projects/278964/issues/333551/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333551/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333551","relative":"#333551","full":"gitlab-org/gitlab#333551"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88673271,"iid":333550,"project_id":278964,"title":"[Feature flag] Rollout analytics_devops_adoption_sastdast","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Feature\n\nAnalytics DevOps Adoption uses the `:analytics_devops_adoption_sastdast` feature flag!\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n- https://gitlab.com/gitlab-org/gitlab/-/issues/326143\n\n## Owners\n\n- Team: Optimize\n- Most appropriate slack channel to reach out to: `#g_manage_optimize`\n- Best individual to reach out to: @pshutsin\n- PM: @ljlane\n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## The Rollout Plan\n\n- Partial Rollout on GitLab.com with beta groups\n- Rollout on GitLab.com for a certain period (How long)\n- Percentage Rollout on GitLab.com\n- Rollout Feature for everyone as soon as it's ready\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? Sentry errors reports can also be useful to review --\u003e\n\n**Beta Groups/Projects:**\n\u003c!-- If applicable, any groups/projects that are happy to have this feature turned on early. Some organizations may wish to test big changes they are interested in with a small subset of users ahead of time for example. --\u003e\n\n- `gitlab-org/gitlab` project\n- `gitlab-org`/`gitlab-com` groups\n- ...\n\n\n## Expectations\n\n### What are we expecting to happen?\n\n\u003c!-- Describe the expected outcome when rolling out this feature --\u003e\n\n### What might happen if this goes wrong?\n\n\u003c!-- Should the feature flag be turned off? Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n\n## Rollout Timeline\n\n\u003c!-- Please check which steps are needed and remove those which don't apply --\u003e\n\n**Initial Rollout**\n\n*Preparation Phase*\n- [ ] Enable on staging (`/chatops run feature set feature_name true --staging`)\n\n- [ ] Test on staging\n\n- [ ] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default))\n\n- [ ] Announce on the issue an estimated time this will be enabled on GitLab.com\n\n*Partial Rollout Phase*\n- [ ] Enable on GitLab.com for individual groups/projects listed above and verify behaviour (`/chatops run feature set --project=gitlab-org/gitlab feature_name true`)\n\n- [ ] Verify behaviour (See Beta Groups) and add details with screenshots as a comment on this issue\n\n- [ ] If it is possible to perform an incremental rollout, this should be preferred. Proposed increments are: `10%`, `50%`, `100%`. Proposed minimum time between increments is 15 minutes.\n  - When setting percentages, make sure that the feature works correctly between feature checks. See https://gitlab.com/gitlab-org/gitlab/-/issues/327117 for more information\n  - For actor-based rollout: `/chatops run feature set feature_name 10 --actors`\n  - For time-based rollout: `/chatops run feature set feature_name 10`\n\n- [ ] Make the feature flag enabled by default i.e. Change `default_enabled` to `true`\n\n- [ ] Cross post chatops slack command to `#support_gitlab-com` ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#where-to-run-commands)) and in your team channel\n\n\n**Cleanup**\n\nThis is an __important__ phase, that should be either done in the next Milestone or as soon as possible. For the cleanup phase, please follow our documentation on how to  [clean up the feature flag](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up).\n\n\u003c!-- The checklist here is to keep track of it's status for stakeholders --\u003e\n- [ ] Announce on the issue that the flag has been enabled\n\n- [ ] Remove `:feature_name` feature flag\n    - [ ] Remove all references to the feature flag from the codebase\n    - [ ] Remove the YAML definitions for the feature from the repository\n    - [ ] Create a Changelog Entry\n\n- [ ] Clean up the feature flag from all environments by running this chatops command in `#production` channel `/chatops run feature delete some_feature`.\n\n**Final Step**\n\n- [ ] Close this rollout issue for the feature flag after the feature flag is removed from the codebase.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set --project=gitlab-org/gitlab feature_name false\n```","state":"closed","created_at":"2021-06-14T13:13:18.986Z","updated_at":"2021-07-19T11:25:37.766Z","closed_at":"2021-07-19T11:25:37.749Z","closed_by":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"labels":["backend","devops::manage","feature flag","group::optimize","section::dev","workflow::planning breakdown"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"}],"author":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"type":"ISSUE","assignee":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333550","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":17,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 17 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333550","notes":"https://gitlab.com/api/v4/projects/278964/issues/333550/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333550/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333550","relative":"#333550","full":"gitlab-org/gitlab#333550"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88673185,"iid":333549,"project_id":278964,"title":"Review App and QA image are out of sync","description":"A recent review app deployment and the QA Image used for running the end-to-end tests are out of sync. \n\n[This deployment](https://gitlab.com/gitlab-org/gitlab/-/jobs/1342921160) to https://gitlab-review-332433-add-xyyjh4.gitlab-review.app uses commit [9320e7f55d9](https://gitlab.com/gitlab-org/gitlab/-/commits/9320e7f55d9) which has the [`Enable combined_menu ff by default` commit](https://gitlab.com/gitlab-org/gitlab/-/commit/bcfb16875c505231789f09a8bd9dcd539975fbb6) but the [`review-qa-smoke` job](https://gitlab.com/gitlab-org/gitlab/-/jobs/1343026257#L329) pulled `registry.gitlab.com/gitlab-org/gitlab/gitlab-ee-qa@sha256:c266095492324e1570af22a2ea1f490a9a3f3dde8cb97bcce85fa76f7bdba1ef` which does not have the [`Enable combined_menu ff by default` commit](https://gitlab.com/gitlab-org/gitlab/-/commit/bcfb16875c505231789f09a8bd9dcd539975fbb6)\n\nAs a result, the [test fails to find `projects_dropdown`](https://gitlab.com/gitlab-org/gitlab/-/jobs/1343026257#L392) which is [now not a `required_element`](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/61816/diffs#8328a7f55d242d2bedc56a3b823343f7b45a1508_24_22) on page load after the `combined_menu` feature flag was enabled by default.","state":"closed","created_at":"2021-06-14T13:12:21.552Z","updated_at":"2022-03-16T11:42:01.626Z","closed_at":"2021-06-22T10:01:46.359Z","closed_by":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"labels":["Engineering Productivity","Quality","ep::review-apps","maintenance::workflow","priority::2","type::maintenance","workflow::in review"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"}],"author":{"id":2632430,"username":"sliaquat","name":"Sanad Liaquat","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2632430/avatar.png","web_url":"https://gitlab.com/sliaquat"},"type":"ISSUE","assignee":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333549","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333549","notes":"https://gitlab.com/api/v4/projects/278964/issues/333549/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333549/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333549","relative":"#333549","full":"gitlab-org/gitlab#333549"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88665139,"iid":333538,"project_id":278964,"title":"Rollout of running builds table parity","description":"## Summary\n\nThis issue is about rolling out [the feature](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/62912) on production. The feature is currently hidden behind the ``ci_track_shared_runner_builds` and `ci_untrack_shared_runner_builds` feature flags.\n\n`ci_untrack_shared_runner_builds` feature flag needs to be enabled first.\n\n## Owners\n\n- Team: ~\"group::pipeline execution\" \n- Most appropriate slack channel to reach out to: `#g_pipeline-execution`\n- Best individual to reach out to: @grzesiek\n- PM: @jreporter \n\n## The Rollout Plan\n\n- [x] Full rollout and verification on staging\n- [x] 10% rollout of `ci_untrack_shared_runner_builds` on gitlab.com\n- [x] 100% rollout of `ci_untrack_shared_runner_builds` on gitlab.com\n- [x] 5% rollout of `ci_track_shared_runner_builds` on gitlab.com\n- [x] 20% rollout of `ci_track_shared_runner_builds` on gitlab.com\n- [x] 50% rollout of `ci_track_shared_runner_builds`on gitlab.com\n- [x] 100% rollout of `ci_track_shared_runner_builds` on gitlab.com\n\n## Expectations\n\n### What are we expecting to happen?\n\nBuilds being created and processed correctly.\n\n### What can we monitor to detect problems with this?\n\nhttps://dashboards.gitlab.net/d/stage-groups-pipeline_execution/stage-groups-group-dashboard-verify-pipeline-execution","state":"closed","created_at":"2021-06-14T11:00:38.110Z","updated_at":"2023-01-10T15:52:42.940Z","closed_at":"2021-06-16T10:25:10.288Z","closed_by":{"id":263716,"username":"grzesiek","name":"Grzegorz Bizon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/263716/avatar.jpeg","web_url":"https://gitlab.com/grzesiek"},"labels":["Engineering Allocation","ci::scaling","devops::verify","group::pipeline execution","section::ops"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":263716,"username":"grzesiek","name":"Grzegorz Bizon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/263716/avatar.jpeg","web_url":"https://gitlab.com/grzesiek"}],"author":{"id":263716,"username":"grzesiek","name":"Grzegorz Bizon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/263716/avatar.jpeg","web_url":"https://gitlab.com/grzesiek"},"type":"ISSUE","assignee":{"id":263716,"username":"grzesiek","name":"Grzegorz Bizon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/263716/avatar.jpeg","web_url":"https://gitlab.com/grzesiek"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333538","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":7,"completed_count":7},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"7 of 7 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333538","notes":"https://gitlab.com/api/v4/projects/278964/issues/333538/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333538/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333538","relative":"#333538","full":"gitlab-org/gitlab#333538"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5909,"epic":{"id":261464,"iid":5909,"title":"Introduce additional database table to improve builds queuing mechanisms","url":"/groups/gitlab-org/-/epics/5909","group_id":9970,"human_readable_end_date":"Oct 22, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88665113,"iid":333537,"project_id":278964,"title":"Implement fixtures factory for denormalized pending / running builds","description":"## Description\n\nWe've recently added a few new models - `Ci::PendingBuilds` and `Ci::RunningBuilds`.\n\nWe plan to extend these models and it would be easier to have test fixtures for these using the existing fixtures factories.","state":"closed","created_at":"2021-06-14T10:59:56.942Z","updated_at":"2023-01-10T15:52:42.675Z","closed_at":"2021-06-22T10:08:48.096Z","closed_by":{"id":263716,"username":"grzesiek","name":"Grzegorz Bizon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/263716/avatar.jpeg","web_url":"https://gitlab.com/grzesiek"},"labels":["Engineering Allocation","ci::scaling","devops::verify","group::pipeline execution","section::ops","workflow::in review"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":5251734,"username":"morefice","name":"Max Orefice","state":"active","avatar_url":"https://secure.gravatar.com/avatar/0a910912e24727d7eef579cd047f7651?s=80\u0026d=identicon","web_url":"https://gitlab.com/morefice"}],"author":{"id":263716,"username":"grzesiek","name":"Grzegorz Bizon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/263716/avatar.jpeg","web_url":"https://gitlab.com/grzesiek"},"type":"ISSUE","assignee":{"id":5251734,"username":"morefice","name":"Max Orefice","state":"active","avatar_url":"https://secure.gravatar.com/avatar/0a910912e24727d7eef579cd047f7651?s=80\u0026d=identicon","web_url":"https://gitlab.com/morefice"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333537","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333537","notes":"https://gitlab.com/api/v4/projects/278964/issues/333537/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333537/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333537","relative":"#333537","full":"gitlab-org/gitlab#333537"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5909,"epic":{"id":261464,"iid":5909,"title":"Introduce additional database table to improve builds queuing mechanisms","url":"/groups/gitlab-org/-/epics/5909","group_id":9970,"human_readable_end_date":"Oct 22, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88657467,"iid":333528,"project_id":278964,"title":"Create `ci_instance_variables` on new database","description":"We need to be able to create this table in a new, separate database.","state":"closed","created_at":"2021-06-14T08:59:54.774Z","updated_at":"2022-05-31T12:22:41.195Z","closed_at":"2021-06-29T01:49:35.710Z","closed_by":{"id":2535118,"username":"tkuah","name":"Thong Kuah","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f7b51bdd49a4914d29504d7ff4c3f7b9?s=80\u0026d=identicon","web_url":"https://gitlab.com/tkuah"},"labels":["Category:Pods","automation:ml","automation:ml wrong","database","devops::data_stores","group::pods","section::enablement","wg_database-scalability"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":2535118,"username":"tkuah","name":"Thong Kuah","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f7b51bdd49a4914d29504d7ff4c3f7b9?s=80\u0026d=identicon","web_url":"https://gitlab.com/tkuah"}],"author":{"id":3944199,"username":"fzimmer","name":"Fabian Zimmer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3944199/avatar.png","web_url":"https://gitlab.com/fzimmer"},"type":"ISSUE","assignee":{"id":2535118,"username":"tkuah","name":"Thong Kuah","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f7b51bdd49a4914d29504d7ff4c3f7b9?s=80\u0026d=identicon","web_url":"https://gitlab.com/tkuah"},"user_notes_count":4,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333528","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333528","notes":"https://gitlab.com/api/v4/projects/278964/issues/333528/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333528/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333528","relative":"#333528","full":"gitlab-org/gitlab#333528"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6167,"epic":{"id":287358,"iid":6167,"title":"Decomposition: CI Tables","url":"/groups/gitlab-org/-/epics/6167","group_id":9970,"human_readable_end_date":"Oct 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88656687,"iid":333527,"project_id":278964,"title":"Many DBs are used by the GDK/GCK","description":"The GDK needs to be able to handle multiple databases, otherwise it is hard to develop against this.\n\n## Proposal\n\n1. Require configuration of `ci` DB. If `ci` is configured in `config/database.yml`, then the CI models will use that DB, otherwise the CI models will use the main DB. (https://gitlab.com/gitlab-org/gitlab/-/merge_requests/64289) :white_check_mark: \n1. Setup GDK to configure `config/database.yml` for `ci` DB :white_check_mark: \n1. Setup GCK to configure `config/database.yml` for `ci` DB :white_check_mark: \n\n\n## Follow-ups\n\n- Setup `ci` database in CI https://gitlab.com/gitlab-org/gitlab/-/issues/334233\n- Make `db/schema_migrations/` aware of multiple databases, and clean structure sql for for `db/ci_structure.sql` - https://gitlab.com/gitlab-org/gitlab/-/issues/334232","state":"closed","created_at":"2021-06-14T08:52:44.185Z","updated_at":"2022-05-31T12:22:41.852Z","closed_at":"2021-07-01T21:08:01.730Z","closed_by":{"id":2535118,"username":"tkuah","name":"Thong Kuah","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f7b51bdd49a4914d29504d7ff4c3f7b9?s=80\u0026d=identicon","web_url":"https://gitlab.com/tkuah"},"labels":["Category:Pods","automation:ml","database","devops::data_stores","group::pods","section::enablement","wg_database-scalability","workflow::verification"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":2535118,"username":"tkuah","name":"Thong Kuah","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f7b51bdd49a4914d29504d7ff4c3f7b9?s=80\u0026d=identicon","web_url":"https://gitlab.com/tkuah"}],"author":{"id":3944199,"username":"fzimmer","name":"Fabian Zimmer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3944199/avatar.png","web_url":"https://gitlab.com/fzimmer"},"type":"ISSUE","assignee":{"id":2535118,"username":"tkuah","name":"Thong Kuah","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f7b51bdd49a4914d29504d7ff4c3f7b9?s=80\u0026d=identicon","web_url":"https://gitlab.com/tkuah"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333527","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333527","notes":"https://gitlab.com/api/v4/projects/278964/issues/333527/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333527/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333527","relative":"#333527","full":"gitlab-org/gitlab#333527"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6103,"epic":{"id":281355,"iid":6103,"title":"Decomposition: Support for many databases","url":"/groups/gitlab-org/-/epics/6103","group_id":9970,"human_readable_end_date":"Sep 16, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88653100,"iid":333521,"project_id":278964,"title":"Externalize strings in _diff_limits.html.haml","description":"[_diff_limits.html.haml](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/views/admin/application_settings/_diff_limits.html.haml) contains some strings that need to be externalized.\n\nTake a look at [the guidelines](https://docs.gitlab.com/ee/development/i18n/externalization.html#haml-files) on how to do this.","state":"closed","created_at":"2021-06-14T07:58:34.805Z","updated_at":"2021-06-15T07:34:21.570Z","closed_at":"2021-06-15T07:34:21.552Z","closed_by":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"labels":["Category:Source Code Management","devops::create","frontend","group::source code","maintenance::refactor","section::dev"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"}],"author":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"type":"ISSUE","assignee":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333521","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333521","notes":"https://gitlab.com/api/v4/projects/278964/issues/333521/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333521/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333521","relative":"#333521","full":"gitlab-org/gitlab#333521"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88645610,"iid":333515,"project_id":278964,"title":"Linear queries for GroupsFinder","description":"app/finders/groups_finder.rb queries with ObjectHierarchy directly rather than through group traversal methods.\n\nThese result in [slow queries](https://gitlab.com/gitlab-org/quality/performance/-/issues/451).\n\nAlso for `GET /api/:version/groups` requests as per the slow log. Some of the slowest queries around.","state":"closed","created_at":"2021-06-14T05:42:33.118Z","updated_at":"2021-12-10T05:29:45.918Z","closed_at":"2021-12-10T05:29:45.903Z","closed_by":{"id":4092171,"username":"alexpooley","name":"Alex Pooley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4092171/avatar.png","web_url":"https://gitlab.com/alexpooley"},"labels":["Category:Authentication and Authorization","Linear queries","backend","bug::performance","devops::manage","group::organization","missed:14.1","missed:14.5","section::dev","workflow::verification"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":4092171,"username":"alexpooley","name":"Alex Pooley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4092171/avatar.png","web_url":"https://gitlab.com/alexpooley"}],"author":{"id":4092171,"username":"alexpooley","name":"Alex Pooley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4092171/avatar.png","web_url":"https://gitlab.com/alexpooley"},"type":"ISSUE","assignee":{"id":4092171,"username":"alexpooley","name":"Alex Pooley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4092171/avatar.png","web_url":"https://gitlab.com/alexpooley"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333515","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333515","notes":"https://gitlab.com/api/v4/projects/278964/issues/333515/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333515/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333515","relative":"#333515","full":"gitlab-org/gitlab#333515"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5296,"epic":{"id":190836,"iid":5296,"title":"Linear namespace queries","url":"/groups/gitlab-org/-/epics/5296","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88645466,"iid":333514,"project_id":278964,"title":"Allow Math diagrams to be rendered without restriction on Wiki and Readme.MD","description":"Similar to what we did for Mermaid diagrams, in #331076, we'll lift all restrictions on character limit for Math diagrams on Wiki and Readme.MD (file preview blob). \n\n-----\n\n### Summary\n\nCurrent limitations on Math rendering is `1000` total characters per page OR `2000ms` of runtime, whichever happens first, helps in preventing a DoS attack on all pages where we can render GFM.\n\nThis is non-ideal for pages like Wikis where\n\n1. There is no user-generated content.\n1. The math diagrams can quickly rack up `2000ms` of runtime or `1000` chars.\n\n### Security concerns\n\nSince editing and creating a Wiki or `Readme.md` file requires a Developer or higher role, we can trust the actor to not abuse the uplifted limits.\n\n### Proposal\n\nMaintain an allowlist of all the pages where we can trust the actor, and uplift all limits on the Math diagram blocks.\n\nAllowlist:\n\n- Wiki\n- All repository markdown files","state":"closed","created_at":"2021-06-14T05:36:07.138Z","updated_at":"2022-10-11T18:48:39.951Z","closed_at":"2022-05-26T09:20:50.777Z","closed_by":{"id":3236898,"username":"rajatgitlab","name":"Rajat Jain","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3236898/avatar.png","web_url":"https://gitlab.com/rajatgitlab"},"labels":["customer","devops::plan","frontend","group::product planning","section::dev","type::feature","workflow::production"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":3236898,"username":"rajatgitlab","name":"Rajat Jain","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3236898/avatar.png","web_url":"https://gitlab.com/rajatgitlab"}],"author":{"id":3236898,"username":"rajatgitlab","name":"Rajat Jain","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3236898/avatar.png","web_url":"https://gitlab.com/rajatgitlab"},"type":"ISSUE","assignee":{"id":3236898,"username":"rajatgitlab","name":"Rajat Jain","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3236898/avatar.png","web_url":"https://gitlab.com/rajatgitlab"},"user_notes_count":18,"merge_requests_count":0,"upvotes":5,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333514","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333514","notes":"https://gitlab.com/api/v4/projects/278964/issues/333514/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333514/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333514","relative":"#333514","full":"gitlab-org/gitlab#333514"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88641207,"iid":333511,"project_id":278964,"title":"Integrations.type migration: 6 - Remove `type` ignore rule","description":"This issue is part of https://gitlab.com/groups/gitlab-org/-/epics/6177. See that Epic for a broader description of the feature.\n\nThis step is to remove the ignore rule of the `type` column as [the third and final step](https://docs.gitlab.com/ee/development/avoiding_downtime_in_migrations.html#step-3-removing-the-ignore-rule-release-m2) in its removal.\n\n### Availability \u0026 Testing\n\nSuggestion: add a [migration test](https://docs.gitlab.com/ee/development/testing_guide/testing_migrations_guide.html) for the [type conversion](https://gitlab.com/groups/gitlab-org/-/epics/6177)","state":"closed","created_at":"2021-06-14T02:22:28.897Z","updated_at":"2022-11-22T19:39:43.566Z","closed_at":"2022-06-07T13:38:30.890Z","closed_by":{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"},"labels":["Category:Integrations","Deliverable","backend","database","devops::manage","group::integrations","quad-planning::complete-action","section::dev","type::maintenance","workflow::ready for development"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"}],"author":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"type":"ISSUE","assignee":{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333511","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333511","notes":"https://gitlab.com/api/v4/projects/278964/issues/333511/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333511/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333511","relative":"#333511","full":"gitlab-org/gitlab#333511"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6177,"epic":{"id":288464,"iid":6177,"title":"Data migration: Change `integrations.type` values to reflect new namespaced models","url":"/groups/gitlab-org/-/epics/6177","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88640680,"iid":333510,"project_id":278964,"title":"Services.type migration: 5 - Drop `type`","description":"### About\n\nThis issue is part of https://gitlab.com/groups/gitlab-org/-/epics/6177. See that Epic for a broader description of the feature.\n\nThis step is to drop the `type` column as [the second step](https://docs.gitlab.com/ee/development/avoiding_downtime_in_migrations.html#step-2-dropping-the-column-release-m1) in its removal.","state":"closed","created_at":"2021-06-14T02:01:05.075Z","updated_at":"2022-11-22T19:39:44.212Z","closed_at":"2021-06-15T02:25:40.807Z","closed_by":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"labels":["Category:Integrations","[deprecated] Accepting merge requests","backend","database","devops::manage","group::ecosystem [DEPRECATED]","section::dev","type::maintenance","workflow::ready for development"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[],"author":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333510","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333510","notes":"https://gitlab.com/api/v4/projects/278964/issues/333510/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333510/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333510","relative":"#333510","full":"gitlab-org/gitlab#333510"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88640677,"iid":333509,"project_id":278964,"title":"Integrations.type migration: 5 - Drop triggers and `type`","description":"### About\n\nThis issue is part of https://gitlab.com/groups/gitlab-org/-/epics/6177. See that Epic for a broader description of the feature.\n\nThis step is to:\n- Drop the triggers added in https://gitlab.com/gitlab-org/gitlab/-/issues/333506.\n- Drop the `type` column as [the second step](https://docs.gitlab.com/ee/development/avoiding_downtime_in_migrations.html#step-2-dropping-the-column-release-m1) in its removal.\n\nThis issue is related to https://gitlab.com/gitlab-org/gitlab/-/issues/340304. Can we complete both issues here or shall we have separate issues? :shrug:\n\n\n### Availability \u0026 Testing\n\nSuggestion: add a [migration test](https://docs.gitlab.com/ee/development/testing_guide/testing_migrations_guide.html) for the [type conversion](https://gitlab.com/groups/gitlab-org/-/epics/6177)","state":"closed","created_at":"2021-06-14T02:00:50.770Z","updated_at":"2022-11-22T19:39:44.847Z","closed_at":"2022-06-03T19:08:26.783Z","closed_by":{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"},"labels":["Category:Integrations","Deliverable","backend","database","devops::manage","group::integrations","quad-planning::complete-action","section::dev","type::maintenance"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"}],"author":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"type":"ISSUE","assignee":{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333509","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333509","notes":"https://gitlab.com/api/v4/projects/278964/issues/333509/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333509/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333509","relative":"#333509","full":"gitlab-org/gitlab#333509"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6177,"epic":{"id":288464,"iid":6177,"title":"Data migration: Change `integrations.type` values to reflect new namespaced models","url":"/groups/gitlab-org/-/epics/6177","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88640627,"iid":333508,"project_id":278964,"title":"Integrations.type migration: 4 - Change the application to use `type_new` instead of `type`, and ignore `type`","description":"### About\n\nThis issue is part of https://gitlab.com/groups/gitlab-org/-/epics/6177. See that Epic for a broader description of the feature.\n\nThis step is to:\n\n- Change the application to use the data in `integrations.type_new` by setting the `inheritance_column`.\n- Mark `type` as ignore, as [the first step](https://docs.gitlab.com/ee/development/avoiding_downtime_in_migrations.html#step-1-ignoring-the-column-release-m) to its removal.\n\n\n### Availability \u0026 Testing\n\nThoughts: this should be covered with existing specs.\n\n### Development plan\n\nWe need to implement this issue in a number of steps to deal with mixed-version deployments. The stages are:\n\n - gitlab-org/gitlab!80560 %14.8 (333508-ajk-use-type-new-indices): Ensures we have the correct indices on `integrations.type_new`\n - gitlab-org/gitlab!80537 %14.8 (333508-integrations-type-new-trigger-null-safe): Updates the DB trigger so that when we stop writing to `integrations.type` and start writing to `integrations.type_new` the application functions correctly. Also allows for rollback without data loss.\n - gitlab-org/gitlab!80065 %14.9 (333508-ajk-use-type-new): Switches the STI column to `integrations.type_new`. Ignores `integrations.type`.\n\nIn a subsequent release:\n - gitlab-org/gitlab!80562 %15.0 (333508-ajk-use-type-new-b): Clean-up, removes `integrations.type` and unnecessary files/migrations/specs.","state":"closed","created_at":"2021-06-14T01:58:22.065Z","updated_at":"2022-11-22T19:39:45.404Z","closed_at":"2022-02-23T09:08:23.998Z","closed_by":{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"},"labels":["Category:Integrations","Deliverable","backend","database","devops::manage","group::integrations","quad-planning::complete-no-action","section::dev","type::maintenance","workflow::production"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"}],"author":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"type":"ISSUE","assignee":{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333508","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333508","notes":"https://gitlab.com/api/v4/projects/278964/issues/333508/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333508/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333508","relative":"#333508","full":"gitlab-org/gitlab#333508"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6177,"epic":{"id":288464,"iid":6177,"title":"Data migration: Change `integrations.type` values to reflect new namespaced models","url":"/groups/gitlab-org/-/epics/6177","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88640618,"iid":333507,"project_id":278964,"title":"Integrations.type migration: 2 - Backfill `type_new` for all records","description":"### About\n\nThis issue is part of https://gitlab.com/groups/gitlab-org/-/epics/6177. See that Epic for a broader description of the feature.\n\nWe want to copy data from `type` to `type_new`. The value should be changed in the same way as https://gitlab.com/gitlab-org/gitlab/-/issues/333506, from `\"\u003cintegration name\u003eService\"` (their old model names) to `\"Integrations::\u003cintegration name\u003e\"` (their [new and existing model names](https://gitlab.com/gitlab-org/gitlab/-/tree/master/app/models/integrations)).\n\nWe may be able to make use of [CopyColumnUsingBackgroundMigrationJob](https://gitlab.com/gitlab-org/gitlab/blob/master/lib/gitlab/background_migration/copy_column_using_background_migration_job.rb#L16) - see https://gitlab.com/groups/gitlab-org/-/epics/6177#note_600106425.","state":"closed","created_at":"2021-06-14T01:57:21.017Z","updated_at":"2022-11-22T19:39:45.987Z","closed_at":"2021-08-17T12:27:51.257Z","closed_by":{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},"labels":["Category:Integrations","Deliverable","backend","database","devops::manage","group::integrations","section::dev","type::maintenance"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"}],"author":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"type":"ISSUE","assignee":{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333507","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333507","notes":"https://gitlab.com/api/v4/projects/278964/issues/333507/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333507/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333507","relative":"#333507","full":"gitlab-org/gitlab#333507"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6177,"epic":{"id":288464,"iid":6177,"title":"Data migration: Change `integrations.type` values to reflect new namespaced models","url":"/groups/gitlab-org/-/epics/6177","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88640600,"iid":333506,"project_id":278964,"title":"Integrations.type migration: 1 - Add new column with triggers","description":"### About\n\nThis issue is part of https://gitlab.com/groups/gitlab-org/-/epics/6177. See that Epic for a broader description of the feature.\n\nThe goal of this step is to prepare a new column on `integrations` that will eventually become the STI column.\n\n- Add a `type_new` column to `integrations`.\n- Install database triggers that maintain `integrations.type_new` based on values present in `integrations.type` on any `UPDATE/INSERT` operation.\n\nThe values written to `type_new` should be mapped from `\"\u003cintegration name\u003eService\"` (their old model names) to `\"Integrations::\u003cintegration name\u003e\"` (their [new and existing model names](https://gitlab.com/gitlab-org/gitlab/-/tree/master/app/models/integrations)).","state":"closed","created_at":"2021-06-14T01:56:52.855Z","updated_at":"2022-11-22T19:39:46.671Z","closed_at":"2021-08-02T18:35:44.365Z","closed_by":{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},"labels":["Category:Integrations","Deliverable","backend","database","devops::manage","group::integrations","section::dev","type::maintenance","workflow::verification"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"}],"author":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"type":"ISSUE","assignee":{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333506","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333506","notes":"https://gitlab.com/api/v4/projects/278964/issues/333506/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333506/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333506","relative":"#333506","full":"gitlab-org/gitlab#333506"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6177,"epic":{"id":288464,"iid":6177,"title":"Data migration: Change `integrations.type` values to reflect new namespaced models","url":"/groups/gitlab-org/-/epics/6177","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88601812,"iid":333464,"project_id":278964,"title":"Wiki::EventCreateService: Encoding::CompatibilityError: incompatible character encodings: ASCII-8BIT and UTF-8","description":"https://sentry.gitlab.net/gitlab/gitlabcom/issues/2679099/?referrer=gitlab_plugin\n\n```\nEncoding::CompatibilityError: incompatible character encodings: ASCII-8BIT and UTF-8\n  from activerecord (6.1.3.2) lib/arel/collectors/substitute_binds.rb:24:in `join'\n  from activerecord (6.1.3.2) lib/arel/collectors/substitute_binds.rb:24:in `add_binds'\n  from activerecord (6.1.3.2) lib/arel/visitors/to_sql.rb:340:in `visit_Arel_Nodes_HomogeneousIn'\n  from activerecord (6.1.3.2) lib/arel/visitors/visitor.rb:30:in `visit'\n  from activerecord (6.1.3.2) lib/arel/visitors/to_sql.rb:779:in `block in inject_join'\n  from activerecord (6.1.3.2) lib/arel/visitors/to_sql.rb:777:in `each'\n  from activerecord (6.1.3.2) lib/arel/visitors/to_sql.rb:777:in `each_with_index'\n  from activerecord (6.1.3.2) lib/arel/visitors/to_sql.rb:777:in `inject_join'\n  from activerecord (6.1.3.2) lib/arel/visitors/to_sql.rb:568:in `visit_Arel_Nodes_And'\n  from activerecord (6.1.3.2) lib/arel/visitors/visitor.rb:30:in `visit'\n  from activerecord (6.1.3.2) lib/arel/visitors/to_sql.rb:779:in `block in inject_join'\n  from activerecord (6.1.3.2) lib/arel/visitors/to_sql.rb:777:in `each'\n  from activerecord (6.1.3.2) lib/arel/visitors/to_sql.rb:777:in `each_with_index'\n  from activerecord (6.1.3.2) lib/arel/visitors/to_sql.rb:777:in `inject_join'\n  from activerecord (6.1.3.2) lib/arel/visitors/to_sql.rb:177:in `collect_nodes_for'\n  from activerecord (6.1.3.2) lib/arel/visitors/to_sql.rb:157:in `visit_Arel_Nodes_SelectCore'\n  from activerecord (6.1.3.2) lib/arel/visitors/to_sql.rb:124:in `block in visit_Arel_Nodes_SelectStatement'\n  from activerecord (6.1.3.2) lib/arel/visitors/to_sql.rb:123:in `each'\n  from activerecord (6.1.3.2) lib/arel/visitors/to_sql.rb:123:in `inject'\n  from activerecord (6.1.3.2) lib/arel/visitors/to_sql.rb:123:in `visit_Arel_Nodes_SelectStatement'\n  from activerecord (6.1.3.2) lib/arel/visitors/visitor.rb:30:in `visit'\n  from activerecord (6.1.3.2) lib/arel/visitors/visitor.rb:11:in `accept'\n  from activerecord (6.1.3.2) lib/arel/visitors/to_sql.rb:18:in `compile'\n  from activerecord (6.1.3.2) lib/active_record/connection_adapters/abstract/database_statements.rb:37:in `to_sql_and_binds'\n  from activerecord (6.1.3.2) lib/active_record/connection_adapters/abstract/query_cache.rb:99:in `select_all'\n  from gitlab/database/load_balancing/connection_proxy.rb:90:in `block in read_using_load_balancer'\n  from gitlab/database/load_balancing/load_balancer.rb:101:in `block in read_write'\n  from gitlab/database/load_balancing/load_balancer.rb:190:in `retry_with_backoff'\n  from gitlab/database/load_balancing/load_balancer.rb:97:in `read_write'\n  from gitlab/database/load_balancing/connection_proxy.rb:89:in `read_using_load_balancer'\n  from gitlab/database/load_balancing/connection_proxy.rb:46:in `select_all'\n  from activerecord (6.1.3.2) lib/active_record/querying.rb:47:in `find_by_sql'\n  from activerecord (6.1.3.2) lib/active_record/relation.rb:849:in `block in exec_queries'\n  from activerecord (6.1.3.2) lib/active_record/relation.rb:867:in `skip_query_cache_if_necessary'\n  from activerecord (6.1.3.2) lib/active_record/relation.rb:834:in `exec_queries'\n  from activerecord (6.1.3.2) lib/active_record/relation.rb:638:in `load'\n  from activerecord (6.1.3.2) lib/active_record/relation.rb:249:in `records'\n  from activerecord (6.1.3.2) lib/active_record/relation.rb:244:in `to_ary'\n  from has_wiki_page_meta_attributes.rb:56:in `find_by_canonical_slug'\n  from has_wiki_page_meta_attributes.rb:42:in `block in find_or_create'\n  from activerecord (6.1.3.2) lib/active_record/connection_adapters/abstract/database_statements.rb:318:in `transaction'\n  from gitlab/database/load_balancing/connection_proxy.rb:115:in `block in write_using_load_balancer'\n  from gitlab/database/load_balancing/load_balancer.rb:101:in `block in read_write'\n  from gitlab/database/load_balancing/load_balancer.rb:190:in `retry_with_backoff'\n  from gitlab/database/load_balancing/load_balancer.rb:97:in `read_write'\n  from gitlab/database/load_balancing/connection_proxy.rb:109:in `write_using_load_balancer'\n  from gitlab/database/load_balancing/connection_proxy.rb:67:in `transaction'\n  from activerecord (6.1.3.2) lib/active_record/transactions.rb:209:in `transaction'\n  from gitlab/database.rb:376:in `block in transaction'\n  from activesupport (6.1.3.2) lib/active_support/notifications.rb:203:in `block in instrument'\n  from activesupport (6.1.3.2) lib/active_support/notifications/instrumenter.rb:24:in `instrument'\n  from activesupport (6.1.3.2) lib/active_support/notifications.rb:203:in `instrument'\n  from gitlab/database.rb:375:in `transaction'\n  from has_wiki_page_meta_attributes.rb:40:in `find_or_create'\n  from wiki_pages/event_create_service.rb:14:in `block in execute'\n```","state":"closed","created_at":"2021-06-12T03:58:42.343Z","updated_at":"2021-07-15T13:38:05.939Z","closed_at":"2021-07-02T05:16:48.875Z","closed_by":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"labels":["Category:Wiki","automation:ml","automation:ml wrong","backend","devops::create","group::editor","section::dev","type::bug"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"}],"author":{"id":402401,"username":"jobbot","name":"Bot","state":"active","avatar_url":"https://secure.gravatar.com/avatar/aaa6738f1ebf25404010884af511b0e7?s=80\u0026d=identicon","web_url":"https://gitlab.com/jobbot"},"type":"ISSUE","assignee":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333464","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333464","notes":"https://gitlab.com/api/v4/projects/278964/issues/333464/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333464/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333464","relative":"#333464","full":"gitlab-org/gitlab#333464"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88594228,"iid":333446,"project_id":278964,"title":"API Fuzz scan suddenly broken","description":"### Summary\n\nA previously used and valid configuration for running API Fuzz scans is now failing with an ambiguous error message. \n\n### Steps to reproduce\n\nRun an API Fuzz test from a merge request pipeline. \n\n### Example Project\n\n[This job](https://gitlab.com/gitlab-com/alliances/ibm-red-hat/sandbox/urbancode-deploy-example/-/jobs/1340705104) is failing, see line 168 in the log for the error `System.ArgumentNullException: Value cannot be null. (Parameter 'source')` I do not know what the `source` parameter is or how to populate it, it does not appear to be mentioned in the API Fuzz docs. After this exception is thrown it seems the scan continues rather than terminating the job, which then delivers a false result, see line 197 in the same job log `Testing completed successfully, no security issues detected.` \n\n\n### What is the current *bug* behavior?\n\nThe API Fuzz test throws an exception and fails to run\n\n### What is the expected *correct* behavior?\n\nThe API Fuzz test runs and includes its results within the security report of the merge request\n\n### Relevant logs and/or screenshots\n\nThis is a [successful job](https://gitlab.com/gitlab-com/alliances/ibm-red-hat/sandbox/urbancode-deploy-example/-/jobs/1278426875) from the same project, running against the same endpoint, it works as expected. I ran a diff against the gitlab-ci file from the commit that triggered this job and the commit that triggered the jobs with errors and there is no material difference. Additionally I have run a validator on the OpenAPI file and that returned no errors. I am having other issues with security scanners as part of this project please see issue #332916 \n\n### Output of checks\n\nThis bug happens on GitLab.com\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e","state":"closed","created_at":"2021-06-11T19:23:40.789Z","updated_at":"2021-06-17T18:35:43.240Z","closed_at":"2021-06-17T18:19:28.074Z","closed_by":{"id":7488329,"username":"herbmadrigal","name":"Herber Madrigal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7488329/avatar.png","web_url":"https://gitlab.com/herbmadrigal"},"labels":["Category:Fuzz Testing","GitLab Ultimate","automation:ml wrong","backend","devops::secure","group::dynamic analysis","priority::2","section::sec","severity::3","type::bug","workflow::verification"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":7488329,"username":"herbmadrigal","name":"Herber Madrigal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7488329/avatar.png","web_url":"https://gitlab.com/herbmadrigal"}],"author":{"id":4749185,"username":"kdusek","name":"Kurt Dusek","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4749185/avatar.png","web_url":"https://gitlab.com/kdusek"},"type":"ISSUE","assignee":{"id":7488329,"username":"herbmadrigal","name":"Herber Madrigal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7488329/avatar.png","web_url":"https://gitlab.com/herbmadrigal"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333446","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333446","notes":"https://gitlab.com/api/v4/projects/278964/issues/333446/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333446/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333446","relative":"#333446","full":"gitlab-org/gitlab#333446"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88593909,"iid":333444,"project_id":278964,"title":"Give CI_JOB_TOKEN permission to access internal packages","description":"### Summary\n\nIn https://gitlab.com/gitlab-org/gitlab/-/issues/213723 we updated permissions to allow CI_JOB_TOKENs the ability to install packages from any public project.\n\nIt was noted that the same bug existed for [internal projects](https://gitlab.com/gitlab-org/gitlab/-/issues/213723#note_477982690): On EE instances, if a user is authenticated and has read access to an internal project, they should have read access to the packages within that project.\n\nUnfortunately, [this was not fixed in the previous issue](https://gitlab.com/gitlab-org/gitlab/-/issues/213723#note_572171337) and the bug persists.\n\n### Steps to reproduce\n\n1. Create an internal project\n1. Add a package to the project\n1. Add a different to the internal project as a guest\n1. Attempt to use CI_JOB_TOKEN to install/pull the package from the project\n1. The installation fails\n\n### What is the current *bug* behavior?\n\nUsers with access to an internal project cannot install packages using job tokens in other projects.\n\n### What is the expected *correct* behavior?\n\nUsers with access to an internal project should be able to install packages using job tokens in other projects.\n\n### Output of checks\n\nThis bug happens on GitLab.com\n\n### Possible fixes\n\nThe `find_project!` API helper is [overridden for ee](https://gitlab.com/gitlab-org/gitlab/-/blob/8f0fce0eb0c766795b056d3fdfd3507cb38d7550/ee/lib/ee/api/helpers.rb#L81), with an different permissions check for CI_JOB_TOKENs: `:build_read_project`.\n\nIn the [project policy code](https://gitlab.com/gitlab-org/gitlab/-/blob/8f0fce0eb0c766795b056d3fdfd3507cb38d7550/ee/app/policies/ee/project_policy.rb#L306), we see that internal projects are not included in this permission.\n\nA possible fix is to update and include `internal_access`:\n\n```ruby\n      rule { owner | reporter | internal_access | public_project }.enable :build_read_project\n```\n\n### Considerations\n\nThere is an [effort underway](https://gitlab.com/gitlab-org/gitlab/-/issues/329550) to limit CI_JOB_TOKEN permissions only to have access to the project where they originated by default. We should review how this may or may not be influenced by that update.","state":"closed","created_at":"2021-06-11T19:10:43.429Z","updated_at":"2022-09-15T00:32:19.380Z","closed_at":"2022-07-06T13:55:57.155Z","closed_by":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"labels":["CI permissions","Category:Package Registry","Deliverable","Package:P1","backend","customer","devops::package","group::package registry","permissions","rails","section::ops","type::feature","workflow::production"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"}],"author":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"type":"ISSUE","assignee":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"user_notes_count":33,"merge_requests_count":0,"upvotes":13,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333444","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333444","notes":"https://gitlab.com/api/v4/projects/278964/issues/333444/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333444/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333444","relative":"#333444","full":"gitlab-org/gitlab#333444"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7041,"epic":{"id":379190,"iid":7041,"title":"Package Registry UI/UX improvements","url":"/groups/gitlab-org/-/epics/7041","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":88593729,"iid":333442,"project_id":278964,"title":"Implement SAX::Parser for cobertura parser","description":"## Problem\n\nParsing big (_\u003e 300MB_) XML cobertura files could blow up memory.\n\nWe already discussed about this potential ~performance improvement last year, and today might be a good time to reevaluate our strategy. \n\n## Proposal\n\nFrom my current understanding, our [current implementation](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/ci/parsers/coverage/cobertura.rb#L15) is parsing the XML file at once.\n\nBy leveraging a [SAX::PARSER](https://www.rubydoc.info/github/sparklemotion/nokogiri/Nokogiri/XML/SAX/Parser) we could iterate through the XML instead of loading everything as once leading to ~performance improvement.\n\nWe could also implement this solution for our [Junit parser](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/ci/parsers/test/junit.rb#L12) in a next iteration.\n\nBelow some basic code that we could take inspiration:\n\n```ruby\nrequire 'nokogiri'\nrequire 'memory_profiler'\n\nclass MyDocument \u003c Nokogiri::XML::SAX::Document\n  def end_document\n    puts \"the document has ended\"\n  end\n\n  def start_element name, attributes = []\n#    puts \"#{name} started\"\n  end\nend\n\nparser = Nokogiri::XML::SAX::Parser.new(MyDocument.new)\n\nreport = MemoryProfiler.report do\n  parser.parse(File.open('cobertura-coverage.xml'))\nend\n\nreport.pretty_print\n```\n\ncc @drew @iamricecake @jheimbuck_gl @shampton","state":"closed","created_at":"2021-06-11T19:04:51.214Z","updated_at":"2022-03-18T07:02:15.128Z","closed_at":"2022-03-08T17:08:54.301Z","closed_by":{"id":4905402,"username":"jreporter","name":"Jackie Porter","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4905402/avatar.png","web_url":"https://gitlab.com/jreporter"},"labels":["Category:Code Testing and Coverage","Deliverable","backend","bug::performance","customer","devops::verify","feature::enhancement","group::pipeline insights","section::ops","type::feature","workflow::production"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[],"author":{"id":5251734,"username":"morefice","name":"Max Orefice","state":"active","avatar_url":"https://secure.gravatar.com/avatar/0a910912e24727d7eef579cd047f7651?s=80\u0026d=identicon","web_url":"https://gitlab.com/morefice"},"type":"ISSUE","assignee":null,"user_notes_count":22,"merge_requests_count":0,"upvotes":7,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333442","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333442","notes":"https://gitlab.com/api/v4/projects/278964/issues/333442/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333442/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333442","relative":"#333442","full":"gitlab-org/gitlab#333442"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88593297,"iid":333441,"project_id":278964,"title":"Remove artifacts:reports:cluster_applications in GitLab","description":"### Problem to solve\n\nIn https://gitlab.com/gitlab-org/gitlab/-/merge_requests/63897, we removed the parser for `articacts:reports:cluster_applications` (because it had no user-visible impact, and relied on code being removed), but left the YAML keywords in place to avoid breaking existing pipelines. This is ~\"technical debt\" that needs to be cleaned up, but removing it is a ~\"breaking change\".\n\n### Proposal\n\nRemove support for the `artifacts:reports:cluster_applications` artifact in %15.0.\n\n### More info\n\nAt the time of writing, the [feature depending on this artifact upload](https://docs.gitlab.com/ee/user/clusters/applications.html#install-using-gitlab-cicd-deprecated) was deprecated in %14.0 and is scheduled for removal in %15.0,","state":"closed","created_at":"2021-06-11T18:53:20.607Z","updated_at":"2022-12-29T03:09:17.115Z","closed_at":"2022-05-17T12:22:32.398Z","closed_by":{"id":4584738,"username":"nmezzopera","name":"Nicolò Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"},"labels":["Deliverable","backend","breaking change","candidate::15.0","devops::configure","group::configure","maintenance::removal","section::ops","type::maintenance","workflow::production"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":4088036,"username":"hfyngvason","name":"Hordur Freyr Yngvason","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4088036/avatar.png","web_url":"https://gitlab.com/hfyngvason"}],"author":{"id":4088036,"username":"hfyngvason","name":"Hordur Freyr Yngvason","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4088036/avatar.png","web_url":"https://gitlab.com/hfyngvason"},"type":"ISSUE","assignee":{"id":4088036,"username":"hfyngvason","name":"Hordur Freyr Yngvason","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4088036/avatar.png","web_url":"https://gitlab.com/hfyngvason"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333441","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333441","notes":"https://gitlab.com/api/v4/projects/278964/issues/333441/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333441/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333441","relative":"#333441","full":"gitlab-org/gitlab#333441"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6940,"epic":{"id":372533,"iid":6940,"title":"[15.0] Configure deprecations","url":"/groups/gitlab-org/-/epics/6940","group_id":9970,"human_readable_end_date":"May 17, 2023","human_readable_timestamp":"\u003cstrong\u003e4\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":88589874,"iid":333433,"project_id":278964,"title":"Validate Customer's License File","description":"## User Story\n\nAs product owner, I want to examine the customer's license file, when available, so that I can determine whether the file is valid or not and understand whether that is causing the 401 HTTP response.\n\n## Acceptance Criteria\n- [License file](https://gitlab.com/gitlab-com/account-management/eastern-north-america/ihs-markit/-/issues/69#note_601131184) is validated and a determination is made on whether its validity is causing the 401 error.\n\n\u003e SyncSeatLinkRequestWorker::RequestError: Seat Link request failed! Code:401 Body:{\"success\":false}\n\n\n\n## Customer Issue Reference\n- https://gitlab.com/gitlab-com/account-management/eastern-north-america/ihs-markit/-/issues/69","state":"closed","created_at":"2021-06-11T17:08:01.521Z","updated_at":"2021-07-12T07:46:07.907Z","closed_at":"2021-07-12T07:46:07.599Z","closed_by":{"id":273486,"username":"jameslopez","name":"James Lopez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/273486/avatar.png","web_url":"https://gitlab.com/jameslopez"},"labels":["[deprecated] Accepting merge requests","[deprecated] Category:Provision","backend","customer","devops::fulfillment","group::provision","section::fulfillment","workflow::ready for development"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"}],"author":{"id":7971452,"username":"teresatison","name":"Teresa Tison","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7971452/avatar.png","web_url":"https://gitlab.com/teresatison"},"type":"ISSUE","assignee":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333433","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333433","notes":"https://gitlab.com/api/v4/projects/278964/issues/333433/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333433/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333433","relative":"#333433","full":"gitlab-org/gitlab#333433"},"severity":"UNKNOWN","moved_to_id":90099679,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88589849,"iid":333432,"project_id":278964,"title":"Validate Seat Link Request/Response","description":"## User Story\n\nAs product owner with a valid license key, I want to test Seat Link's request/response, so that I can validate that the service runs and sends license data as expected.\n\n## Acceptance Criteria\n- Emulating the customer setting but with a valid license file results in successful sync\n\u003e On the GitLab instance I manage seat link is not disabled in the `gitlab.yml` and also enabled through the admin UI, however the jobs themselves have never seemed to work. They always show up as dead jobs in sidekiq. Everything else of the GitLab instance works perfectly, no issues, so this is rather confusing.","state":"closed","created_at":"2021-06-11T17:06:41.840Z","updated_at":"2021-07-19T16:20:16.140Z","closed_at":"2021-07-19T16:20:16.121Z","closed_by":{"id":7971452,"username":"teresatison","name":"Teresa Tison","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7971452/avatar.png","web_url":"https://gitlab.com/teresatison"},"labels":["Duplicate","[deprecated] Accepting merge requests","[deprecated] Category:Provision","backend","customer","devops::fulfillment","group::provision","section::fulfillment","workflow::ready for development"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[],"author":{"id":7971452,"username":"teresatison","name":"Teresa Tison","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7971452/avatar.png","web_url":"https://gitlab.com/teresatison"},"type":"ISSUE","assignee":null,"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333432","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333432","notes":"https://gitlab.com/api/v4/projects/278964/issues/333432/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333432/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333432","relative":"#333432","full":"gitlab-org/gitlab#333432"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6175,"epic":{"id":287810,"iid":6175,"title":"SyncSeatLinkRequestWorker::RequestError: Seat Link request failed! Code:401 Body:{\"success\":false}","url":"/groups/gitlab-org/-/epics/6175","group_id":9970,"human_readable_end_date":"Aug 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88583860,"iid":333417,"project_id":278964,"title":"Saving DAST Site Profile results in a 404","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nIf you are create a new Site Profile, clicking Save will result in a 404 although a profile is created. If you are trying to edit an existing Site Profile, an attempt to save the changes results in a 404 and data is not saved. Cancelling the edit screen also results in a 404. The URL redirects to \n\n`group/sub-group/-/security/configuration/dast` rather than `group/sub-group/-/security/configuration/dast_scans` without any parameters.\n\n### Steps to reproduce\n\n1. Create a DAST Site Profile under `group/sub-group/-/security/configuration/dast_scans#site-profiles` Note that you'll receive a 404 when setting it up.\n1. Edit an existing Site Profile under Security \u0026 Compliance \u003e Configuration \u003e Managed DAST Scans \u003e Site Profile \u003e Edit\n1. Make a change such as adding `Additional request headers (Optional)`\n1. Click Save (or cancel)\n\n\n### Example Project\n\nSee [ZD Ticket](https://gitlab.zendesk.com/agent/tickets/217674)\n\n### What is the current *bug* behavior?\n\nSaving or cancelling a Site Profile results in a 404\n\n### What is the expected *correct* behavior?\n\nSaving the page should save the data and return to the previous page. Cancelling should return you to the previous page.\n\n### Relevant logs and/or screenshots\n\n- See .har included in the ZD Ticket\n- Logs did not produce any exceptions or noteable data\n  - https://log.gprd.gitlab.net/goto/967071b3affac1bded6965b79d233b48\n  - https://log.gprd.gitlab.net/goto/4b3f204c58cb15771af8a2bc6a7cd845\n\n### Output of checks\n\nThis bug happens on GitLab.com 14.0.0-pre 9b1c6698078\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e","state":"closed","created_at":"2021-06-11T14:52:56.928Z","updated_at":"2021-06-18T07:09:27.749Z","closed_at":"2021-06-16T23:29:04.928Z","closed_by":{"id":4310743,"username":"sethgitlab","name":"Seth Berger","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4310743/avatar.png","web_url":"https://gitlab.com/sethgitlab"},"labels":["Category:DAST","Deliverable","customer","devops::secure","group::dynamic analysis","section::sec","severity::3","type::bug","workflow::in review"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"}],"author":{"id":5537005,"username":"cleveland","name":"Cleveland Bledsoe Jr","state":"active","avatar_url":"https://secure.gravatar.com/avatar/9b3b602b16b5453efe7c1190e8ae558e?s=80\u0026d=identicon","web_url":"https://gitlab.com/cleveland"},"type":"ISSUE","assignee":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333417","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333417","notes":"https://gitlab.com/api/v4/projects/278964/issues/333417/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333417/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333417","relative":"#333417","full":"gitlab-org/gitlab#333417"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88583612,"iid":333416,"project_id":278964,"title":"Add missing attributes for Project Access Tokens to Audit Event API","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\n\u003c!-- Summarize the bug encountered concisely. --\u003e\n\nWhen retrieving audit event data for project access token being created or revoked there are a few attributes missing from the response.\n\nMerge Request https://gitlab.com/gitlab-org/gitlab/-/merge_requests/51660 that introduce Project Access Tokens into Audit Event\n\n~bug identified in [Slack](https://gitlab.slack.com/archives/CN7C8029H/p1623398618235300)\n\n### Steps to reproduce\n\n\u003c!-- Describe how one can reproduce the issue - this is very important. Please use an ordered list. --\u003e\n\n1. Setup or access a project with at least maintainer privileges. \n2. Create and revoke a project access token\n3. GET a response for those Audit Events\n4. Check the response for the missing attributes `author_name` and `target_type`\n\n### Example Project\n\n\u003c!-- If possible, please create an example project here on GitLab.com that exhibits the problematic \nbehavior, and link to it here in the bug report. If you are using an older version of GitLab, this \nwill also determine whether the bug is fixed in a more recent version. --\u003e\n\nhttps://gitlab.com/sciops/test/-/audit_events\n\n@tancnle has access :point_up: \n\n### What is the current *bug* behavior?\n\n\u003c!-- Describe what actually happens. --\u003e\n\nResponse returns missing `author_name` and `target_type`\n\n```\n    {\n        \"id\": 498183325,\n        \"author_id\": 6193108,\n        \"entity_id\": 21575273,\n        \"entity_type\": \"Project\",\n        \"details\": {\n            \"target_details\": \"austins_test_token (read api only)\",\n            \"action\": \"custom\",\n            \"custom_message\": \"Revoked project access token with token_id: 3642271\",\n            \"ip_address\": \"0.0.0.0\",\n            \"entity_path\": \"sciops/test\"\n        },\n        \"created_at\": \"2021-06-11T14:11:09.656Z\"\n    },\n    {\n        \"id\": 498180904,\n        \"author_id\": 6193108,\n        \"entity_id\": 21575273,\n        \"entity_type\": \"Project\",\n        \"details\": {\n            \"target_details\": \"austins_test_token (read api only)\",\n            \"action\": \"custom\",\n            \"custom_message\": \"Created project access token with token_id: 3642271 with scopes: [\\\"read_api\\\"]\",\n            \"ip_address\": \"0.0.0.0\",\n            \"entity_path\": \"sciops/test\"\n        },\n        \"created_at\": \"2021-06-11T14:06:49.808Z\"\n    },\n```\n\n### What is the expected *correct* behavior?\n\n\u003c!-- Describe what you should see instead. --\u003e\n\nResponse returns with `author_name` and `target_type`\n\n```\n    {\n        \"id\": 498183325,\n        \"author_id\": 6193108,\n        \"entity_id\": 21575273,\n        \"entity_type\": \"Project\",\n        \"details\": {\n            \"author_name\": \"Austin Regnery\"\n            \"target_type\": \"Project access Token\"\n            \"target_details\": \"austins_test_token (read api only)\",\n            \"action\": \"custom\",\n            \"custom_message\": \"Revoked project access token with token_id: 3642271\",\n            \"ip_address\": \"0.0.0.0\",\n            \"entity_path\": \"sciops/test\"\n        },\n        \"created_at\": \"2021-06-11T14:11:09.656Z\"\n    },\n    {\n        \"id\": 498180904,\n        \"author_id\": 6193108,\n        \"entity_id\": 21575273,\n        \"entity_type\": \"Project\",\n        \"details\": {\n            \"author_name\": \"Austin Regnery\"\n            \"target_type\": \"Project access Token\"\n            \"target_details\": \"austins_test_token (read api only)\",\n            \"action\": \"custom\",\n            \"custom_message\": \"Created project access token with token_id: 3642271 with scopes: [\\\"read_api\\\"]\",\n            \"ip_address\": \"0.0.0.0\",\n            \"entity_path\": \"sciops/test\"\n        },\n        \"created_at\": \"2021-06-11T14:06:49.808Z\"\n    },\n```\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e","state":"closed","created_at":"2021-06-11T14:47:20.871Z","updated_at":"2021-06-23T02:40:55.284Z","closed_at":"2021-06-23T02:40:25.386Z","closed_by":{"id":398752,"username":"tancnle","name":"Tan Le","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/398752/avatar.png","web_url":"https://gitlab.com/tancnle"},"labels":["Category:API","Category:Audit Events","Enterprise Edition","GitLab Premium","Next Up","backend","devops::manage","group::compliance","priority::1","section::dev","severity::1","type::bug"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":398752,"username":"tancnle","name":"Tan Le","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/398752/avatar.png","web_url":"https://gitlab.com/tancnle"}],"author":{"id":6193108,"username":"aregnery","name":"Austin Regnery","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6193108/avatar.png","web_url":"https://gitlab.com/aregnery"},"type":"ISSUE","assignee":{"id":398752,"username":"tancnle","name":"Tan Le","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/398752/avatar.png","web_url":"https://gitlab.com/tancnle"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333416","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333416","notes":"https://gitlab.com/api/v4/projects/278964/issues/333416/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333416/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333416","relative":"#333416","full":"gitlab-org/gitlab#333416"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88583441,"iid":333415,"project_id":278964,"title":"Use database SCHEMAs to better isolated CI decomposed features","description":"Once we start decomposing features, it becomes a problem to clearly define boundaries between features\nto prevent code mistakes doing operations forbidden when many databases are used. This creates chaos\nwhat can be freed/removed from main database, or what foreign keys are allowed to be used.\n\n## Proposal\n\nUsage of SCHEMA is convenient way to create logical split of tables within a single logical database.\nFor that particular purpose we should use `SCHEMA` to make it explicit that tables in this SCHEMA\nare a separate logical structure that is migrated into another database.\n\nBenefits of using `SCHEMA`:\n\n- clearly indicate decomposed features with a `SCHEMA`\n- detect foreign keys cross-joining `SCHEMA`\n- limit visibility of schema depending on connection used\n- safety: allow to run production in a permissive mode (seeing all schemas) to retain things just work\n- safety: allow to run development/test in an enforcing mode (limiting schema visibility) to discover cross-joining features and forbid them as part of test run\n- be able to clearly indicate data that is shared (tables required to be present in all databases) vs data owned by the `main` database exclusively that can be truncated/dropped in another context\n\n## Iteration plan\n\nThis plans is defining a number of incremental steps based on assumption that we are using untested\nfeature of Rails (`schema_search_path`) in a highly optimised environment (`PgBouncer` and `Load Balancer`)\nand there's a high risk of causing a production incident.\n\n1. Development: Create migration `create_schema(:gitlab_ci)` (There's a Rails helper in `ActiveRecord::Migration`)\n2. Development: Update `config/database.yml` to define `main: schema_search_path: public,gitlab_ci` for `main:`. This needs to be populated in GDK/GCK/rspec/Omnibus/CNG.\n3. Production: Validate that a proper `search_path` is used on production by doing `ActiveRecord::Base.connection.schema_search_path`.\n4. Development: Ship migration to do `ALTER TABLE ci_instance_variables SET SCHEMA gitlab_ci`.\n5. Development: Model a way to indicate in a code a way to what model schema belongs.\n6. Development: Validate that `ci_instance_variables` is part of `structure.sql`.\n7. Development: Validate that `ci_instance_variables` is part of `backup/restore` (this feature defines exportable schemas) and works with project `import/export`.\n8. Development: Build a failsafe FF in a codebase to make it possible to disable fetching of `ci_instance_variables` (or make it possible to access it via explicitly defined name that includes schema `gitlab_ci.ci_instance_variables`) as we expect that this might break and in some cases schema visibility might be invalid.\n9. Production: Rollout feature flag and validate that instance variables can be accessed.\n10. Development: Ship a rspec code that validates that we do not define FKs that cross-join schemas.\n11. Development: Ship a code that discovers and disallows schema cross-joins (likely not possible yet).\n12. Once confirmed, this is done.\n\n### Example way to indicate schemas\n\n```ruby\n# config/database.yml\nproduction:\n  main:\n    schema_search_path: public,gitlab_ci\n\n# migration\ndef up\n  create_schema(:gitlab_ci)\n  execute(\"ALTER TABLE ci_instance_variables SET SCHEMA gitlab_ci\")\nend\n\n# Describe schema\n# As we can later use that to validate cross-schema joins\nclass ApplicationRecord\n  class_attribute :schema_name, default: :public\nend\n\nclass Ci::BaseModel \u003c ApplicationRecord\n  self.schema_name = :gitlab_ci\nend\n\n# Dynamically alter schema visibility\nmodule DatabaseSchemaHelper\n  def with_search_paths(connection, search_path)\n    # we need transaction to ensure that changes are local\n    # this is required by PgBouncer which might change connections on each subsequent call\n    connection.transaction do\n      saved = connection.schema_search_path\n      connection.schema_search_path = search_path\n      yield\n    end\n  ensure\n    connection.schema_search_path = saved\n  end\nend\n```\n\n### Risks\n\nThere are risks associated with usage of schemas:\n\n- Our customers might be not allowing to create/manage schemas, which will result in failed migrations\n- Dynamically changing schema outside of transaction might change a global context, resulting in an invalid\n  visibility for subsequent requests\n- We might find that schema visibility is not always set if used with PgBouncer, or our Load Balancer implementation\n- We might find that additional schemas are not properly exported as part of backups, or as part of `structure.sql`\n- Validate if PgBouncer managed connections can end-up in a state where invalid schema is used: https://gitlab.com/gitlab-org/gitlab/-/issues/333415#note_616830582.\n- Customers using a different name for main schema, that is not `public`\n\n### Ideally\n\nWe would create and set visibility accordingly.\n\n- `gitlab_shared` - all tables that needs to live in every logical database, like: `schema_migrations` and `*background_migrations`\n- `gitlab_main` - all tables related to `main` database\n- `gitlab_ci` - all tables related to `ci` database\n\n\n### Shared tables\n\n#### Migrations tables\n\nThere are number of tables that are required to be placed in both places (aka. `gitlab_shared`), and are required for each newly configured database:\n- `schema_migrations` required by Rails to know what migrations were executed\n- `batched_background_migration_jobs`, `background_migration_jobs` required by GitLab Rails to implement a method to have a predictable long running migrations\n\nIt is without a question that `schema_migrations` needs to be local to the database.\n\nIt is to question if `background_migrations*` does need to be. However, the good practice\nrather says that it should, since `BG migrations` is affecting always a specific tables\nfor which it is to run. Keeping these tables local to what is to be modified is likely\na desirable architecture. It would create a chaos to keep `BG migrations` only in central\ndatabase \n\n#### Partitioning schemas\n\nWe use a separate schema for hiding partitioned tables `gitlab_partitions_dynamic` and `gitlab_partitions_static`.\nThis serves like a bucket for all partitioned tables.\n\nLikely this model should be change into being explicit about decomposed partition, like:\n\n- `gitlab_main_partitions_dynamic` and `gitlab_main_partitions_static`\n- `gitlab_ci_partitions_dynamic` and `gitlab_ci_partitions_static`","state":"closed","created_at":"2021-06-11T14:44:54.602Z","updated_at":"2021-07-29T21:58:15.838Z","closed_at":"2021-07-26T15:39:57.449Z","closed_by":{"id":12452,"username":"ayufan","name":"Kamil Trzciński","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a285e30f35d72526fb0954e8fe7cefa?s=80\u0026d=identicon","web_url":"https://gitlab.com/ayufan"},"labels":["auto updated","ci-decomposition","pods::active"],"milestone":null,"assignees":[],"author":{"id":12452,"username":"ayufan","name":"Kamil Trzciński","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a285e30f35d72526fb0954e8fe7cefa?s=80\u0026d=identicon","web_url":"https://gitlab.com/ayufan"},"type":"ISSUE","assignee":null,"user_notes_count":56,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":"2021-07-21","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333415","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333415","notes":"https://gitlab.com/api/v4/projects/278964/issues/333415/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333415/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333415","relative":"#333415","full":"gitlab-org/gitlab#333415"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6167,"epic":{"id":287358,"iid":6167,"title":"Decomposition: CI Tables","url":"/groups/gitlab-org/-/epics/6167","group_id":9970,"human_readable_end_date":"Oct 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88583259,"iid":333414,"project_id":278964,"title":"Fix Security features tables cross-joining `ci_builds` to find project","description":"From https://gitlab.com/gitlab-org/gitlab/-/merge_requests/62092 we have seen examples where security feature related tables (eg. `security_scans`) do not have a `project_id` (due to full normalization) and thus they need to join through `ci_builds` in order to find the project (eg. [`Security::Scan.has_dismissal_feedback`](https://gitlab.com/gitlab-org/gitlab/-/blob/e20771af6d0516ddcf99a12a464582b22189fe89/ee/app/models/security/scan.rb#L32), [`Analytics::DevopsAdoption::SnapshotCalculator#security_scan_succeeded`](https://gitlab.com/gitlab-org/gitlab/-/blob/e20771af6d0516ddcf99a12a464582b22189fe89/ee/lib/analytics/devops_adoption/snapshot_calculator.rb#L76), [`Security::Finding.undismissed`](https://gitlab.com/gitlab-org/gitlab/-/blob/0e185a22c5f5c48144de1bd4d82ecdacfdb53bcc/ee/app/models/security/finding.rb#L31)).\n\nBut this will not be possible once we move `ci_builds` to a separate database.\n\n### Options\n\n1. De-normalizing `project_id`. In this case it would be simply adding a `project_id` column to the relevant tables (eg. `security_scans`) and back-filling it. This is a reasonable de-normalization because `project_id` usually doesn't change so it isn't problematic to keep up to date. This is a very common pattern in GitLab. In the past it has been for performance reasons but now it will become necessary to avoid joins that would have had to cross databases but it will also improve performance.\n1. If it's efficient you can sometimes remove joins and just write a separate queries to the different databases to find the project or join in memory with 2 datasets\n1. Remove the feature that needs to do these joins\n\n### Sharding team recommended approach\n\nAdd a `project_id` column to `security_scans`. This table is on the order of millions of rows. This is big but not huge and as such it should be fairly safe to add this extra column and backfill all rows then make it non-nullable. This will improve performance of all these queries and will solve the core problem and will require very little code changes.\n\nA recent example which introduced a similar de-normalization and background migration can be found at https://gitlab.com/gitlab-org/gitlab/-/merge_requests/37713 and can be used as a template for how to do the same thing here.\n\n ### Implementation plan: \n\n- [x] Migration for adding new column \n- [x] Migration for adding index and foreign key\n- [x] Background migration for backfilling data from `ci_builds` to `security_scans`\n- [x] Make sure we are inserting data for new column on save","state":"closed","created_at":"2021-06-11T14:41:37.344Z","updated_at":"2021-09-03T14:29:33.065Z","closed_at":"2021-09-01T23:00:09.820Z","closed_by":{"id":120073,"username":"DylanGriffith","name":"Dylan Griffith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/120073/avatar.png","web_url":"https://gitlab.com/DylanGriffith"},"labels":["auto updated","backend","bug::performance","ci-decomposition","devops::secure","gitlab.com","group::threat insights","pods::active","section::sec","severity::2","workflow::verification"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":7825316,"username":"subashis","name":"Subashis  Chakraborty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7825316/avatar.png","web_url":"https://gitlab.com/subashis"}],"author":{"id":12452,"username":"ayufan","name":"Kamil Trzciński","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a285e30f35d72526fb0954e8fe7cefa?s=80\u0026d=identicon","web_url":"https://gitlab.com/ayufan"},"type":"ISSUE","assignee":{"id":7825316,"username":"subashis","name":"Subashis  Chakraborty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7825316/avatar.png","web_url":"https://gitlab.com/subashis"},"user_notes_count":33,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333414","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":4},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"4 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333414","notes":"https://gitlab.com/api/v4/projects/278964/issues/333414/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333414/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333414","relative":"#333414","full":"gitlab-org/gitlab#333414"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6373,"epic":{"id":309455,"iid":6373,"title":"Decomposition: Make Secure features compatible with Decomposed CI database","url":"/groups/gitlab-org/-/epics/6373","group_id":9970,"human_readable_end_date":"Aug 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88583236,"iid":333413,"project_id":278964,"title":"Move tags + taggings to be on CI database","description":"Move tags + taggings to be on CI database since it is 99% of time used by CI\n\nAccording to https://gitlab.com/gitlab-org/gitlab/-/issues/21399#note_623468507, 99% of rows in `taggings` is CI. The only other non-CI is Project, used for `Project.topics`.\n\n## Proposal\n\n- Move tags + taggings table to CI database\n- Ban further use of `acts_as_taggable*` / `acts_as_ordered_taggable*`\n- Make `acts_as_taggable` to use CI database and CI model\n- Project\n  - Implement new `project_topics` table, stop using acts-as-taggable =\u003e https://gitlab.com/gitlab-org/gitlab/-/issues/335946\n- Issue / MergeRequest\n  - Truncate old data =\u003e https://gitlab.com/gitlab-org/gitlab/-/issues/335794","state":"closed","created_at":"2021-06-11T14:41:02.840Z","updated_at":"2022-05-31T12:22:43.836Z","closed_at":"2021-11-22T14:17:35.715Z","closed_by":{"id":12452,"username":"ayufan","name":"Kamil Trzciński","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a285e30f35d72526fb0954e8fe7cefa?s=80\u0026d=identicon","web_url":"https://gitlab.com/ayufan"},"labels":["Category:Pods","[deprecated] Accepting merge requests","auto updated","ci-decomposition","devops::data_stores","group::pods","section::enablement"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":12452,"username":"ayufan","name":"Kamil Trzciński","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a285e30f35d72526fb0954e8fe7cefa?s=80\u0026d=identicon","web_url":"https://gitlab.com/ayufan"},"type":"ISSUE","assignee":null,"user_notes_count":13,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333413","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333413","notes":"https://gitlab.com/api/v4/projects/278964/issues/333413/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333413/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333413","relative":"#333413","full":"gitlab-org/gitlab#333413"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6167,"epic":{"id":287358,"iid":6167,"title":"Decomposition: CI Tables","url":"/groups/gitlab-org/-/epics/6167","group_id":9970,"human_readable_end_date":"Oct 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88583176,"iid":333412,"project_id":278964,"title":"Remove all foreign key constraints that connect between non `ci_*` and `ci_*` tables","description":"## Problem\n\nAny foreign key constraint in a `ci_*` table must only reference another `ci_*` table. And any foreign key constraints not in a `ci_*` table must not reference a `ci_*` table. This is because they will live in separate databases.\n\nTwo examples that we need to fix to illustrate the point:\n\n1. `ci_builds.project_id` (in `ci_*`) references `projects` (not in `ci_*`)\n2. `merge_requests.head_pipeline_id` (not in `ci_*`) references `ci_pipelines` (in `ci_*`)\n\n## Solution\n\nWe will need to go through and remove all the foreign key constraints but this forces us to also address the lack of cascading deletes/nullify.\n\nFor each of these we need to replace them with the rails version of cascading deletes which is `dependent: :delete_all`.\n\nWe should note that `dependent: :delete_all` is possibly less performant and also does not offer the same data consistency guarantees and we should evaluate in each the problems that might arise from orphaned data if the `dependent: :delete_all` times out but the parent is still deleted.\n\nWe may also want to evaluate if this `dependent: :delete_all` should be pushed into sidekiq workers to improve performance for deletes from the UI as well as improve reliability by relying on Sidekiq retries for failures.","state":"closed","created_at":"2021-06-11T14:39:40.287Z","updated_at":"2022-05-31T12:22:44.787Z","closed_at":"2021-11-24T08:43:37.831Z","closed_by":{"id":2535118,"username":"tkuah","name":"Thong Kuah","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f7b51bdd49a4914d29504d7ff4c3f7b9?s=80\u0026d=identicon","web_url":"https://gitlab.com/tkuah"},"labels":["Category:Pods","[deprecated] Accepting merge requests","auto updated","ci-decomposition","ci-decomposition::phase5","devops::data_stores","group::pods","missed:14.4","missed:14.5","section::enablement","workflow::ready for development"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[],"author":{"id":12452,"username":"ayufan","name":"Kamil Trzciński","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a285e30f35d72526fb0954e8fe7cefa?s=80\u0026d=identicon","web_url":"https://gitlab.com/ayufan"},"type":"ISSUE","assignee":null,"user_notes_count":19,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333412","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333412","notes":"https://gitlab.com/api/v4/projects/278964/issues/333412/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333412/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":"https://gitlab.com/api/v4/projects/278964/issues/345375"},"references":{"short":"#333412","relative":"#333412","full":"gitlab-org/gitlab#333412"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6167,"epic":{"id":287358,"iid":6167,"title":"Decomposition: CI Tables","url":"/groups/gitlab-org/-/epics/6167","group_id":9970,"human_readable_end_date":"Oct 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88582698,"iid":333411,"project_id":278964,"title":"Connection pools of all configured databases are properly sized","description":"We need a way to consistently size pools in `config/initializers/database_config.rb` by likely traversing all db configs to ensure that each pool has at least of `Gitlab::Database.default_pool_size` size.\n\n## Problem\n\n1. Our `pool_size` by default is like 5 connections. We do (dynamic) runtime overwrite of the connection pool size looking at number of threads (+ headroom). We manually re-establish connection on `ActiveRecord::Base` in `config/initializers/database_config.rb`. We today do it only for the AR::Base and Geo.\n\n2. This has two challenges:\n\n  - Ordering: as initialisers are loaded lexicographically. Currently the `database_config.rb` needs to always be executed before `load_balancing.rb`\n  - This today works on a limited set of models","state":"closed","created_at":"2021-06-11T14:29:16.342Z","updated_at":"2022-01-31T13:05:21.412Z","closed_at":"2021-10-29T10:39:10.636Z","closed_by":{"id":12452,"username":"ayufan","name":"Kamil Trzciński","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a285e30f35d72526fb0954e8fe7cefa?s=80\u0026d=identicon","web_url":"https://gitlab.com/ayufan"},"labels":["auto updated","pods::active","workflow::ready for development"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":12452,"username":"ayufan","name":"Kamil Trzciński","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a285e30f35d72526fb0954e8fe7cefa?s=80\u0026d=identicon","web_url":"https://gitlab.com/ayufan"}],"author":{"id":12452,"username":"ayufan","name":"Kamil Trzciński","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a285e30f35d72526fb0954e8fe7cefa?s=80\u0026d=identicon","web_url":"https://gitlab.com/ayufan"},"type":"ISSUE","assignee":{"id":12452,"username":"ayufan","name":"Kamil Trzciński","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a285e30f35d72526fb0954e8fe7cefa?s=80\u0026d=identicon","web_url":"https://gitlab.com/ayufan"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333411","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333411","notes":"https://gitlab.com/api/v4/projects/278964/issues/333411/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333411/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333411","relative":"#333411","full":"gitlab-org/gitlab#333411"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6103,"epic":{"id":281355,"iid":6103,"title":"Decomposition: Support for many databases","url":"/groups/gitlab-org/-/epics/6103","group_id":9970,"human_readable_end_date":"Sep 16, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88582661,"iid":333410,"project_id":278964,"title":"Geo uses a many databases support instead of `database_geo.yml`","description":"Before raising an issue to the GitLab issue tracker, please read through our guide for finding help to determine the best place to post:\n\n* https://about.gitlab.com/getting-help/\n\nIf you are experiencing an issue when using GitLab.com, your first port of call should be the Community Forum. Your issue may have already been reported there by another user. Please check:\n\n* https://forum.gitlab.com/\n\nIf you feel that your issue can be categorized as a reproducible bug or a feature proposal, please use one of the issue templates provided and include as much information as possible.\n\nThank you for helping to make GitLab a better product.","state":"closed","created_at":"2021-06-11T14:28:43.423Z","updated_at":"2022-05-31T12:22:45.365Z","closed_at":"2021-07-14T15:28:48.698Z","closed_by":{"id":12452,"username":"ayufan","name":"Kamil Trzciński","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a285e30f35d72526fb0954e8fe7cefa?s=80\u0026d=identicon","web_url":"https://gitlab.com/ayufan"},"labels":["Category:Pods","auto updated","devops::data_stores","group::pods","section::enablement"],"milestone":null,"assignees":[],"author":{"id":12452,"username":"ayufan","name":"Kamil Trzciński","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a285e30f35d72526fb0954e8fe7cefa?s=80\u0026d=identicon","web_url":"https://gitlab.com/ayufan"},"type":"ISSUE","assignee":null,"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333410","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333410","notes":"https://gitlab.com/api/v4/projects/278964/issues/333410/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333410/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333410","relative":"#333410","full":"gitlab-org/gitlab#333410"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6158,"epic":{"id":286517,"iid":6158,"title":"Decomposition: Geo supports multiple databases","url":"/groups/gitlab-org/-/epics/6158","group_id":9970,"human_readable_end_date":"Dec 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null}]