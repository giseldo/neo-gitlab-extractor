[{"id":105836604,"iid":357425,"project_id":278964,"title":"Remove feature flag configuration","description":"Remove feature flag config file: \n\n- [ ] https://gitlab.com/gitlab-org/gitlab/-/blob/v14.9.1-ee/ee/config/feature_flags/development/lc_remove_legacy_approval_status.yml\n- [ ] remove qa test configuration for this feature flag: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/84206 / https://gitlab.com/gitlab-org/gitlab/-/merge_requests/84599/diffs\n\n*Note**: this issue can only be done in %\"15.2\"\n\n### Testing\n\nSET to update E2E tests where needed and support testing of feature flag","state":"closed","created_at":"2022-03-31T18:13:41.104Z","updated_at":"2022-06-20T03:43:26.227Z","closed_at":"2022-06-14T16:56:43.298Z","closed_by":{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"},"labels":["Category:License Compliance","Enterprise Edition","GitLab Ultimate","[deprecated] Accepting merge requests","backend","devops::secure","feature flag","feature::addition","group::composition analysis","quad-planning::complete-action","section::sec","type::feature","workflow::ready for development"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":4668304,"username":"ifrenkel","name":"Igor Frenkel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a73e8113c53ac25297ce751e59bbb1d3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifrenkel"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/357425","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/357425","notes":"https://gitlab.com/api/v4/projects/278964/issues/357425/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/357425/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#357425","relative":"#357425","full":"gitlab-org/gitlab#357425"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7749,"epic":{"id":473859,"iid":7749,"title":"[15.0 Feature flag] Rollout of legacy approval_status removal for License Compliance","url":"/groups/gitlab-org/-/epics/7749","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":105831878,"iid":357416,"project_id":278964,"title":"Exception thrown during OperationFromRequest","description":"### Problem\n\nA customer is performing a DAST API scan using an openapi v2 document. An exception was thrown when starting a new operation during the `OperationFromRequest` conversion.","state":"closed","created_at":"2022-03-31T16:04:49.781Z","updated_at":"2022-11-14T17:01:05.073Z","closed_at":"2022-11-14T17:01:05.045Z","closed_by":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"labels":["Category:API Security","[deprecated] Accepting merge requests","auto updated","devops::secure","group::dynamic analysis","missed:14.10","missed:15.0","missed:15.1","missed:15.2","missed:15.3","missed:15.4","missed:15.5","section::sec","type::maintenance"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[],"author":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/357416","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/357416","notes":"https://gitlab.com/api/v4/projects/278964/issues/357416/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/357416/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#357416","relative":"#357416","full":"gitlab-org/gitlab#357416"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":105828816,"iid":357409,"project_id":278964,"title":"Remove temporary index tmp_index_for_null_project_namespace_id","description":"Remove temporary index tmp_index_for_null_project_namespace_id in %\"15.0\"","state":"closed","created_at":"2022-03-31T15:03:14.168Z","updated_at":"2022-10-21T15:20:31.909Z","closed_at":"2022-10-01T01:39:10.919Z","closed_by":{"id":5966677,"username":"serenafang","name":"Serena Fang","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5966677/avatar.png","web_url":"https://gitlab.com/serenafang"},"labels":["Deliverable","auto updated","backend","devops::manage","group::organization","milestone::p1","missed-deliverable","missed:15.0","missed:15.1","missed:15.2","namespace","quad-planning::complete-no-action","section::dev","type::maintenance","workflow::blocked"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":5966677,"username":"serenafang","name":"Serena Fang","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5966677/avatar.png","web_url":"https://gitlab.com/serenafang"}],"author":{"id":3483274,"username":"acroitor","name":"Alexandru Croitor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/461378ef52c26eec55e6c15ec09bb9ed?s=80\u0026d=identicon","web_url":"https://gitlab.com/acroitor"},"type":"ISSUE","assignee":{"id":5966677,"username":"serenafang","name":"Serena Fang","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5966677/avatar.png","web_url":"https://gitlab.com/serenafang"},"user_notes_count":5,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/357409","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/357409","notes":"https://gitlab.com/api/v4/projects/278964/issues/357409/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/357409/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#357409","relative":"#357409","full":"gitlab-org/gitlab#357409"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6585,"epic":{"id":328392,"iid":6585,"title":"[Phase3] Migrate basic project functionality to Namespaces","url":"/groups/gitlab-org/-/epics/6585","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":105826120,"iid":357402,"project_id":278964,"title":"Remove ignore_column on project#build_coverage_regex","description":"## Problem\n\nFollowing up https://gitlab.com/gitlab-org/gitlab/-/issues/17633 where we deprecated our [project setting](https://docs.gitlab.com/ee/ci/pipelines/settings.html#add-test-coverage-results-using-project-settings-deprecated) for CI coverage detection \u0026 https://gitlab.com/gitlab-org/gitlab/-/issues/357401 where we dropped our column from the ~database.\n\nThis issue is about cleaning up our codebase as explained in our [documentation](https://docs.gitlab.com/ee/development/avoiding_downtime_in_migrations.html#dropping-columns).\n\n## Solution\n\n- [ ] Remove the `ignore_column` attribute on our `Project` model.\n\ncc @jreporter @shampton","state":"closed","created_at":"2022-03-31T14:18:41.400Z","updated_at":"2022-09-30T18:30:59.017Z","closed_at":"2022-09-27T13:59:08.741Z","closed_by":{"id":1758950,"username":"iamricecake","name":"Erick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1758950/avatar.png","web_url":"https://gitlab.com/iamricecake"},"labels":["Category:Code Testing and Coverage","Verify::P1","devops::verify","group::pipeline insights","maintenance::refactor","priority::2","section::ops","type::maintenance","workflow::in review"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":1758950,"username":"iamricecake","name":"Erick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1758950/avatar.png","web_url":"https://gitlab.com/iamricecake"}],"author":{"id":5251734,"username":"morefice","name":"Max Orefice","state":"active","avatar_url":"https://secure.gravatar.com/avatar/0a910912e24727d7eef579cd047f7651?s=80\u0026d=identicon","web_url":"https://gitlab.com/morefice"},"type":"ISSUE","assignee":{"id":1758950,"username":"iamricecake","name":"Erick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1758950/avatar.png","web_url":"https://gitlab.com/iamricecake"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/357402","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/357402","notes":"https://gitlab.com/api/v4/projects/278964/issues/357402/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/357402/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#357402","relative":"#357402","full":"gitlab-org/gitlab#357402"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":105825952,"iid":357401,"project_id":278964,"title":"Drop project#build_coverage_regex column","description":"## Problem\n\nFollowing up https://gitlab.com/gitlab-org/gitlab/-/issues/17633 where we deprecated our [project setting](https://docs.gitlab.com/ee/ci/pipelines/settings.html#add-test-coverage-results-using-project-settings-deprecated) for CI coverage detection.\n\nThis issue is about cleaning up our codebase as explained in our [documentation](https://docs.gitlab.com/ee/development/avoiding_downtime_in_migrations.html#dropping-columns).\n\n## Solution\n\n- [x] Make the column not accessible anymore: `ignore_columns :build_coverage_regex, remove_after: '2022-07-22', remove_with: '15.0'` in `project.rb`\n- [x] Stop exposing `build_coverage_regex` in `lib/api/entities/project.rb`\n- [x] Write a **migration** to remove the `build_coverage_regex` column\n\ncc @jreporter @shampton","state":"closed","created_at":"2022-03-31T14:15:50.486Z","updated_at":"2023-01-11T19:33:14.536Z","closed_at":"2022-08-23T12:17:27.166Z","closed_by":{"id":5251734,"username":"morefice","name":"Max Orefice","state":"active","avatar_url":"https://secure.gravatar.com/avatar/0a910912e24727d7eef579cd047f7651?s=80\u0026d=identicon","web_url":"https://gitlab.com/morefice"},"labels":["Category:Code Testing and Coverage","Verify::P1","backend","database","devops::verify","group::pipeline insights","maintenance::refactor","priority::2","section::ops","type::maintenance","workflow::production"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":5251734,"username":"morefice","name":"Max Orefice","state":"active","avatar_url":"https://secure.gravatar.com/avatar/0a910912e24727d7eef579cd047f7651?s=80\u0026d=identicon","web_url":"https://gitlab.com/morefice"}],"author":{"id":5251734,"username":"morefice","name":"Max Orefice","state":"active","avatar_url":"https://secure.gravatar.com/avatar/0a910912e24727d7eef579cd047f7651?s=80\u0026d=identicon","web_url":"https://gitlab.com/morefice"},"type":"ISSUE","assignee":{"id":5251734,"username":"morefice","name":"Max Orefice","state":"active","avatar_url":"https://secure.gravatar.com/avatar/0a910912e24727d7eef579cd047f7651?s=80\u0026d=identicon","web_url":"https://gitlab.com/morefice"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/357401","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/357401","notes":"https://gitlab.com/api/v4/projects/278964/issues/357401/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/357401/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#357401","relative":"#357401","full":"gitlab-org/gitlab#357401"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":105820501,"iid":357388,"project_id":278964,"title":"[Bug] Avatar tooltips don't populate and throw an error","description":"## Problem to solve\n\nHovering over an avatar icon the tooltip doesn't populate. Instead, it throws an error because we're passing a GID to the user API rather than the ID.\n\n## Recording\n\n![Screen_Recording_2022-03-31_at_13.55.18](/uploads/7e66459119831eed66b1c118c72affd1/Screen_Recording_2022-03-31_at_13.55.18.mov)\n\n## Suggested solution\n\nConvert the GID at point of use or via the mapper to be an ID instead.\n\n## Implementation\n\nTBD","state":"closed","created_at":"2022-03-31T12:53:07.059Z","updated_at":"2022-04-07T08:47:55.206Z","closed_at":"2022-04-07T08:47:55.183Z","closed_by":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"labels":["devops::manage","feature flag","frontend","group::compliance","section::dev","severity::3","type::bug","workflow::in review"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"}],"author":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"type":"ISSUE","assignee":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/357388","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/357388","notes":"https://gitlab.com/api/v4/projects/278964/issues/357388/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/357388/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#357388","relative":"#357388","full":"gitlab-org/gitlab#357388"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6870,"epic":{"id":364935,"iid":6870,"title":"Compliance report merge request violations frontend MVP","url":"/groups/gitlab-org/-/epics/6870","group_id":9970,"human_readable_end_date":"May 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":105820079,"iid":357385,"project_id":278964,"title":"Attention request counter sometimes shows incorrect count","description":"## Problem to Solve\n\nThe count for merge requests that need your attention sometimes shows an incorrect count and navigating to the page produces different/inconsistent results:\n\n![image](/uploads/ad9be361de09566cdb62af9aaa7c739d/image.png)\n\n\u003e The attention requests counter shows I have 2 MRs that require my attention. However, when I click on the dropdown item, I receive an empty list. Page reload doesn't help:","state":"closed","created_at":"2022-03-31T12:47:16.091Z","updated_at":"2022-08-02T02:56:53.426Z","closed_at":"2022-05-08T07:23:41.042Z","closed_by":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"labels":["backend","devops::create","group::code review","priority::2","section::dev","severity::2","type::bug"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"}],"author":{"id":2935693,"username":"phikai","name":"Kai Armstrong","state":"active","avatar_url":"https://secure.gravatar.com/avatar/2c5d6a63b41cbeb3ea4cccda82e758e1?s=80\u0026d=identicon","web_url":"https://gitlab.com/phikai"},"type":"ISSUE","assignee":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"user_notes_count":17,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/357385","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/357385","notes":"https://gitlab.com/api/v4/projects/278964/issues/357385/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/357385/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#357385","relative":"#357385","full":"gitlab-org/gitlab#357385"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5331,"epic":{"id":195597,"iid":5331,"title":"Merge requests that require my attention","url":"/groups/gitlab-org/-/epics/5331","group_id":9970,"human_readable_end_date":"Nov 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":105819927,"iid":357384,"project_id":278964,"title":"PoC for removal of partitioned resources associated with pipelines","description":"## Description\n\nSimilarly to what we are doing in https://gitlab.com/gitlab-org/gitlab/-/issues/357090+, we want to ship a PoC that will prove that we can efficiently remove resources associated with pipelines (builds, stages, artifacts), connected to a pipeline through Rails associations, like `belongs_to` or `has_many`, when a partitioned CI/CD schema is being used.\n\nWe want to better understand if we will be able to use a pipeline's `partition_id` with our fast_destroy / regular destroy techniques will behave when multiple partitions are being involved.\n\n## Objectives\n\nFind a way to use `partition_id` with deletes done using Rails associations / fast_destroy.\n\n/cc @fabiopitino @mbobin @morefice @jheimbuck_gl","state":"closed","created_at":"2022-03-31T12:45:05.313Z","updated_at":"2023-01-10T15:52:49.077Z","closed_at":"2022-05-16T13:48:21.889Z","closed_by":{"id":263716,"username":"grzesiek","name":"Grzegorz Bizon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/263716/avatar.jpeg","web_url":"https://gitlab.com/grzesiek"},"labels":["CI data partitioning","ci::scaling","devops::verify","group::pipeline execution","section::ops","type::maintenance"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":263716,"username":"grzesiek","name":"Grzegorz Bizon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/263716/avatar.jpeg","web_url":"https://gitlab.com/grzesiek"}],"author":{"id":263716,"username":"grzesiek","name":"Grzegorz Bizon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/263716/avatar.jpeg","web_url":"https://gitlab.com/grzesiek"},"type":"ISSUE","assignee":{"id":263716,"username":"grzesiek","name":"Grzegorz Bizon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/263716/avatar.jpeg","web_url":"https://gitlab.com/grzesiek"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/357384","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/357384","notes":"https://gitlab.com/api/v4/projects/278964/issues/357384/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/357384/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#357384","relative":"#357384","full":"gitlab-org/gitlab#357384"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5417,"epic":{"id":206291,"iid":5417,"title":"Partition CI/CD pipelines data","url":"/groups/gitlab-org/-/epics/5417","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":105812025,"iid":357373,"project_id":278964,"title":"Fix package file cleanup worker with duplicated package files","description":"## :fire: Problem\n\nThe [package file cleanup worker](https://gitlab.com/gitlab-org/gitlab/-/blob/27c053e3e9dc174d6c4622e272f82f67431dde87/app/workers/packages/cleanup_package_file_worker.rb) is a background job that is kick started by a cron job and then, it will execute in loops:\n1. pick the next package file marked as pending destruction.\n1. destroy it.\n1. re_enqueue if there are more package files marked as pending destruction.\n\nThe problem is that for (2.) the worker tries to [update](https://gitlab.com/gitlab-org/gitlab/-/blob/27c053e3e9dc174d6c4622e272f82f67431dde87/app/workers/concerns/packages/cleanup_artifact_worker.rb#L51) the status. If there is any problem during (2.), the job will fail and skip (3.)\n\nThat's what is currently occuring:\n\n![Screenshot_2022-03-31_at_12.08.09](/uploads/5de6f1d873770b300c5a480d5af26bb3/Screenshot_2022-03-31_at_12.08.09.png)\n\nA package file [validation](https://gitlab.com/gitlab-org/gitlab/-/blob/27c053e3e9dc174d6c4622e272f82f67431dde87/app/models/packages/package_file.rb#L37) (only for files from PyPI packages) is not allowing the update and so the worker will simply end.\n\nThis breaks the loop and package files that need to be deleted have started to accumulate on ~\"gitlab.com\".\n\n~~Note that given that the files are hidden from the UI and APIs, those ghost package files that need to be deleted doesn't bring an issue to users.~~ \n\n`pending_destruction` marked package files are still taken into account for storage quotas. Because the cleanup loop is broken, the storage usage can grow because of those \"ghost\" package files. \n\n## :fire_engine: Solution\n\n1. Fix the validation to not run it if the package file is marked as pending destruction\n1. Update (2.) so that the status update is sent with validations disabled.\n   * This is fine to do, we really want to delete the file so we don't really care about validations during the status update.","state":"closed","created_at":"2022-03-31T10:12:21.112Z","updated_at":"2022-04-13T08:19:13.222Z","closed_at":"2022-04-13T08:19:13.123Z","closed_by":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"labels":["Category:Package Registry","backend","devops::package","group::package registry","package:active","ruby","section::ops","type::bug","workflow::production"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"}],"author":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"type":"ISSUE","assignee":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"user_notes_count":6,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/357373","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/357373","notes":"https://gitlab.com/api/v4/projects/278964/issues/357373/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/357373/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#357373","relative":"#357373","full":"gitlab-org/gitlab#357373"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":105790086,"iid":357342,"project_id":278964,"title":"Rearchitect Approval Rules","description":"\nAt the Project level, users create Approval Rules, the details of which -- number of approvals needed, valid approvers, applicable branch(es) -- are stored as `ApprovalProjectRule`. \n\nWhen a Merge Request is created, `ApprovalProjectRule` entries are used as \"templates\" of sorts to create `ApprovalMergeRequestRule` records, using the `ApprovalRule` details as it's defaults.\n\nOnce created, the approval rules associated with the MR are independent records, separate from the `ApprovalProjectRule` that was used as a template to create it. Users can adjust the details, and those changes are stored in the `ApprovalMergeRequestRule` entry, and do not effect the `ApprovalProjectRule` that it was based upon.\n\nThis introduces a bit of a scaling problem, as every change to an `ApprovalRule`, no matter how small, must update rules across every single valid MR target. Now, that update may or may not be a large number, but for large projects this can be in the thousands. We can mitigate it, somewhat, but we still have some other UI choices that could cause us to queue far more work than is reasonable to expect to be performant.\n\nA new model, proposed first by @patrickbajao, would be to rearchitect the model relationships like so:\n\n+ `ApprovalRule`\n+ `ApprovalRulesProject` - join table associating `ApprovalRule` to a `Project`\n+ `ApprovalRulesMergeRequest` - join table associating `ApprovalRule` to a `MergeRequest`\n\nAll approval rules will be an `ApprovalRule`. Whenever a MR gets created, we will associate approval rules to it or create new approval rules. If a rule changes, the changes will automatically reflect to all MRs associated with it (this will only require a single row update). If the rule was overridden, it gets dissociated from the MR, and a new record gets created to hold the changed details, and associated to the MR.\n\nThis change would allow for changes in `ApprovalProjectRules` to be immediately reflected on MRs, as we would be able to, for the vast majority of cases, use what was previously a \"template\" as a Single Source of Truth for the requirements to fulfull an Approval Rule.\n\n(Note that previous investigations into the usage of Approval Rules being modified at the individual MR level has revealed that this feature sees little use, however changes can occur with some frequency at the `ApprovalProjectRule` level.)\n\nCode Owner files are another vector for high rates of change, as entries are parsed and turned into `ApprovalMergeRequestRules`; changed to `CODEOWNERS` result in having to step through each and every open MR, detect which of these code owners-derived rules apply, and then creating those records. Here again, changes to code owner entries would be reflected nearly instantly across merge requests, as the `ApprovalRule` records would become the source of truth.\n\n### Additional Material\nDetails on the [current implementation of Approval Rules](https://docs.gitlab.com/ee/development/approval_rules.html)\n\nPrevious discussion on the performance of Approval Rule changes: \n+ https://gitlab.com/gitlab-org/gitlab/-/merge_requests/48511#note_462842846 \n+ https://gitlab.com/gitlab-org/gitlab/-/issues/254958#note_465553739","state":"closed","created_at":"2022-03-31T00:18:07.304Z","updated_at":"2022-03-31T14:33:55.248Z","closed_at":"2022-03-31T14:33:55.234Z","closed_by":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"labels":["approvals","auto updated","backend","devops::create","group::code review"],"milestone":null,"assignees":[],"author":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"type":"ISSUE","assignee":null,"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/357342","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":10,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/357342","notes":"https://gitlab.com/api/v4/projects/278964/issues/357342/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/357342/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#357342","relative":"#357342","full":"gitlab-org/gitlab#357342"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":105785652,"iid":357336,"project_id":278964,"title":"Auditor cannot see project Merge request Analytics","description":"## Problem to solve\n\nAuditor cannot see Analytics \u003e Merge request in project left nav.\n\nPer [our docs](https://docs.gitlab.com/ee/administration/auditor_users.html#permissions-and-restrictions-of-an-auditor-user)\n\n\u003e Auditor users are able to have ... read-only access to all other resources, except the Admin Area [and Settings].\n\nSee \u00267469 for more details.\n\n## Expected behaviour\n\nAuditor has access to view project Merge request Analytics","state":"closed","created_at":"2022-03-30T22:05:26.936Z","updated_at":"2022-05-24T12:01:16.723Z","closed_at":"2022-05-06T09:14:36.915Z","closed_by":{"id":4826728,"username":"m_frankiewicz","name":"Magdalena Frankiewicz","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ca314fa77051f58ced6e3e5bf7f0dd48?s=80\u0026d=identicon","web_url":"https://gitlab.com/m_frankiewicz"},"labels":["Deliverable","Stretch","backend","devops::manage","group::optimize","internal customer","priority::3","reproduced on GitLab.com","section::dev","severity::3","type::bug","workflow::in review"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":4826728,"username":"m_frankiewicz","name":"Magdalena Frankiewicz","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ca314fa77051f58ced6e3e5bf7f0dd48?s=80\u0026d=identicon","web_url":"https://gitlab.com/m_frankiewicz"}],"author":{"id":2454149,"username":"cynthia","name":"Cynthia \"Arty\" Ng","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2454149/avatar.png","web_url":"https://gitlab.com/cynthia"},"type":"ISSUE","assignee":{"id":4826728,"username":"m_frankiewicz","name":"Magdalena Frankiewicz","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ca314fa77051f58ced6e3e5bf7f0dd48?s=80\u0026d=identicon","web_url":"https://gitlab.com/m_frankiewicz"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/357336","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/357336","notes":"https://gitlab.com/api/v4/projects/278964/issues/357336/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/357336/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#357336","relative":"#357336","full":"gitlab-org/gitlab#357336"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7469,"epic":{"id":432129,"iid":7469,"title":"Ensure Auditor permissions in UI follow docs","url":"/groups/gitlab-org/-/epics/7469","group_id":9970},"iteration":null,"health_status":null},{"id":105780226,"iid":357314,"project_id":278964,"title":"GitLab Migration - investigate migration slowness \u0026 max RSS","description":"## Problem \n\nWhile using GitLab Migration I decided to max a simple test: perform a migration of the same group \u0026 projects structure 10 times concurrently and see what happens. \n\nThe following group structure was used: \n\n![image](/uploads/5410729f930df3de2a9e00a672bd252a/image.png)\n\nRoot group with 2 projects and 1 subgroup. Subgroup has another 2 subgroups. As you can see there are 2 epics, 2 issues, 3 MRs. Pretty small setup. I started the import 10 times using rails console: \n\n```ruby\nFeature.enable(:bulk_import)\nFeature.enable(:bulk_import_projects)\n\n10.times { BulkImports::CreateService.new(User.first, [{ source_type: 'group_entity', source_full_path: 'mygroup', destination_name: \"helloworld#{rand(1..10000)}\", destination_namespace: ''}], { url: 'http://gdk.test:3000', access_token: '\u003cTOKEN\u003e' }).execute }\n```\n\nEach import finished without any failures, however, for such a small source group structure it took such a long time. \n\n![image](/uploads/316d7559d0395ea2b9f110ee94a840d2/image.png)\n\n- As you can see the times of created_at and updated_at it took almost an hour to perform those 10 imports locally on GDK. Why does it take so long? \n- Inspecting the longs closer I can see individual jobs of `BulkImports::PipelineWorker` taking ~30 seconds to complete. That seems like a long time. Why would a worker take such a long time? \n- After the run, sidekiq admin view shows RSS at ~8GB while Mac Activity Monitor shows 17Gb acquired memory (:anguished:). Are we doing too many allocations within individual jobs that make memory consumption grow? \n\n## Possible reasons for migration slowness\n\n1. All 10 imports use the same group structure for the migration. Because of that, we execute [`BulkImports::ExportRequestWorker`](http://gitlab.com/gitlab-org/gitlab/blob/e38d682359bfece0d9d4d98432c196a80859b7d6/app/workers/bulk_imports/export_request_worker.rb#L4-L4) 10 times. The pipelineworker waits for export to finish, but since it gets overridden 10 times, can it cause delays? I wonder if we should not re-export relations if they're not older than X amount of time, e.g. 1-3 minutes old.\n1. All 10 imports use the same source/destination instance GitLab. It's one gdk instance that is used as source and destination. Can rails-web be slow to respond to sidekiq and creating the overall delays in execution? \n1. On individual bulk import level we [throttle concurrent entities import ](http://gitlab.com/gitlab-org/gitlab/blob/e38d682359bfece0d9d4d98432c196a80859b7d6/app/workers/bulk_import_worker.rb#L22-L22) to 5 at a time. Can this cause additional delays to the overall migration? Should we leave it up to sidekiq to manage maximum concurrency? Can this be a potential cause for noise neighbour situation for other jobs on the sidekiq shard? \n1. On a pipeline worker level, there's a [1 minute reenqueue delay](http://gitlab.com/gitlab-org/gitlab/blob/e38d682359bfece0d9d4d98432c196a80859b7d6/app/workers/bulk_imports/pipeline_worker.rb#L114-L114) if the relation export ndjson file is not ready to be downloaded from source. Can we make this a smaller delay? \n\n\n## Possible reasons for memory consumption\n\n1. Our transormation elements of the ETL pipelines use [`.then` syntax](http://gitlab.com/gitlab-org/gitlab/blob/e38d682359bfece0d9d4d98432c196a80859b7d6/lib/bulk_imports/groups/transformers/group_attributes_transformer.rb#L11-L11) that makes object copy, which can lead to memory growth. We should update all our transformers to minimize use of this method. \n2. In general our pipeline workers operate on a collection of data within a job (e.g. 1 job processes 10k issues, another 10k MRs). We should aim to convert this approach and use '1 object per job' approach, similar to what is done in GitHub Importer. A potential solution is described in https://gitlab.com/gitlab-org/gitlab/-/issues/343444#note_717516457 \n\n\nAll in all, the migration speed should be faster than this. 10 concurrent imports of this size shouldn't take an hour, even if it's local development performance. The outcome of this issue should be actionable items/issues which can improve GitLab Migration's performance.","state":"closed","created_at":"2022-03-30T19:10:15.113Z","updated_at":"2022-04-25T16:32:17.216Z","closed_at":"2022-04-25T16:32:17.209Z","closed_by":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"labels":["Category:Importers","Importer:GitLab Migration","Next Up","backend","devops::manage","estimation::completed","group::import","meta","priority::3","section::dev","severity::3","type::bug","workflow::production"],"milestone":null,"assignees":[{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"}],"author":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"type":"ISSUE","assignee":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"user_notes_count":26,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/357314","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/357314","notes":"https://gitlab.com/api/v4/projects/278964/issues/357314/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/357314/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#357314","relative":"#357314","full":"gitlab-org/gitlab#357314"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6629,"epic":{"id":335099,"iid":6629,"title":"🐞 GitLab Migration bugs","url":"/groups/gitlab-org/-/epics/6629","group_id":9970},"iteration":null,"health_status":null},{"id":105780036,"iid":357313,"project_id":278964,"title":"Remove log analysis analyzer from test configurations","description":"### Problem\n\nAPI Security has a feature that is not yet exposed to end users for analyzing logs to detect vulnerabilities. Unfortunately some issues with the current implementation have been identified that are leading to occasional test failures when using the vulnerability count as an assertion for tests passing. Additionally, the move to parallel testing as part of the speed issues will break our current implementation of Log Analysis, preventing it from being used as a test pass indicator. \n\nWe are not planning on redesigning the log analysis as it's not exposed to the customer, deferring the work until we are ready to launch this feature to the end users. Therefor we need to update our tests to use a vulnerability count that is independent of log analysis in order to validate the speed work and also resolve the random test failures.\n\n### Proposal\n\n1. [x] Update the configuration files used for testing, removing the log analysis assertion component\n1. [x] Update affected test counts. With the removal of Log Analysis, ranges of vulnerability counts should no longer be needed.\n1. [x] Remove Log Analysis from the DAST API and API Fuzzing configurations (if present) located in the `dast` project and also `api-fuzzing` project. Make sure to mirror changes to ones checked into `SDK/configs`\n1. [x] Update e2e test counts (relies on dast/api fuzzing project config updates)\n\n#### What To Remove\n\nAll references to `LogAnalysisAssertion` in the configuration Yaml:\n\nEntry in `Assertions:` list:\n\n```yaml\nAssertions:\n- Name: LogAnalysisAssertion\n  Configuration:\n    UserEntries: []\n- Name: ResponseAnalysisAssertion\n  Configuration:\n    UserEntries: []\n```\n\nBecomes\n\n```yaml\nAssertions:\n- Name: ResponseAnalysisAssertion\n  Configuration:\n    UserEntries: []\n```\n\nEntries under `Checks:` in the `Assertions:` arrays:\n\n```yaml\nChecks:\n- Name: ApplicationInformationCheck\n  Configuration: {}\n  Assertions:\n  - Name: LogAnalysisAssertion\n  - Name: ResponseAnalysisAssertion\n```\n\nBecomes\n\n```yaml\nChecks:\n- Name: ApplicationInformationCheck\n  Configuration: {}\n  Assertions:\n  - Name: ResponseAnalysisAssertion\n```","state":"closed","created_at":"2022-03-30T19:04:13.094Z","updated_at":"2022-06-20T03:43:26.277Z","closed_at":"2022-06-14T20:19:13.686Z","closed_by":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"labels":["Category:API Security","GitLab Ultimate","backend","devops::secure","group::dynamic analysis","milestone::p2","section::sec","type::feature","workflow::production"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"}],"author":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"type":"ISSUE","assignee":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/357313","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":4},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"4 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/357313","notes":"https://gitlab.com/api/v4/projects/278964/issues/357313/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/357313/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#357313","relative":"#357313","full":"gitlab-org/gitlab#357313"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":105778575,"iid":357309,"project_id":278964,"title":"Remove the form-based GKE / EKS creation page","description":"## Scope\n\nThis issue is part of a bigger development effort described in detail by its epic. The scope of this issue is to remove the form-based GKE / EKS creation page from GitLab.\n\n## Definition of Done\n\n* [x] Remove the link to this page from the **Actions** menu on `/clusters` page.\n* [x] Change the routing to return 404.\n* [x] Remove the related code.\n* [x] Update the specs and qa tests.\n* [x] Remove the feature from the documentation.","state":"closed","created_at":"2022-03-30T18:26:13.550Z","updated_at":"2022-12-22T03:06:25.555Z","closed_at":"2022-05-06T07:51:36.244Z","closed_by":{"id":9094263,"username":"anna_vovchenko","name":"Anna Vovchenko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9094263/avatar.png","web_url":"https://gitlab.com/anna_vovchenko"},"labels":["Deliverable","QA","candidate::15.0","devops::configure","documentation","frontend","group::configure","section::ops","type::feature","workflow::in review"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":9094263,"username":"anna_vovchenko","name":"Anna Vovchenko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9094263/avatar.png","web_url":"https://gitlab.com/anna_vovchenko"}],"author":{"id":4545061,"username":"nagyv-gitlab","name":"Viktor Nagy (GitLab)","state":"active","avatar_url":"https://secure.gravatar.com/avatar/fb255c1e9c228b9356af165939b3ac9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/nagyv-gitlab"},"type":"ISSUE","assignee":{"id":9094263,"username":"anna_vovchenko","name":"Anna Vovchenko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9094263/avatar.png","web_url":"https://gitlab.com/anna_vovchenko"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/357309","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":5,"completed_count":5},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"5 of 5 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/357309","notes":"https://gitlab.com/api/v4/projects/278964/issues/357309/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/357309/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#357309","relative":"#357309","full":"gitlab-org/gitlab#357309"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7510,"epic":{"id":436938,"iid":7510,"title":"Feature toggle the UI based cluster creation page","url":"/groups/gitlab-org/-/epics/7510","group_id":9970,"human_readable_end_date":"May 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":105778482,"iid":357308,"project_id":278964,"title":"Migrate must have GitLab clusters to the agent","description":"## Goal\n\nMigrate certificate-based cluster integrations owned by GitLab attached to gitlab.com groups and project to be agent-based.\n\n### Prioritization guidance\n\n1. Must have: Clusters that are regularly deployed to (at least once a month).                                                                         \n1. Should have: Clusters without regular deployments, but the apps running there are used continuously in production or are on the path to production.\n1. Could have: Clusters without regular deployments that are not used in production.\n  - Clusters attached to ops.gitlab.net fall here\n1. 1. Won’t have: Demo projects, “sleeping”, rogue clusters.                                                                                             \n\n## Cluster list\n\nhttps://docs.google.com/spreadsheets/u/1/d/11utPZhkP3N_AMJqZuAPd9YXZjZXDIAWeNxrwT1zJ0gM/edit\n\n## Todos\n\nThis issue is ~\"workflow::ready for development\" when\n\n- [ ] It is turned into an epic\n- [ ] We have separate issues for every cluster that needs to be migrated and those are ~\"workflow::ready for development\"","state":"closed","created_at":"2022-03-30T18:23:50.130Z","updated_at":"2022-07-04T10:10:55.751Z","closed_at":"2022-07-04T10:10:55.736Z","closed_by":{"id":4545061,"username":"nagyv-gitlab","name":"Viktor Nagy (GitLab)","state":"active","avatar_url":"https://secure.gravatar.com/avatar/fb255c1e9c228b9356af165939b3ac9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/nagyv-gitlab"},"labels":["candidate::15.0","devops::configure","group::configure","section::ops","type::maintenance","workflow::ready for development"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":4545061,"username":"nagyv-gitlab","name":"Viktor Nagy (GitLab)","state":"active","avatar_url":"https://secure.gravatar.com/avatar/fb255c1e9c228b9356af165939b3ac9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/nagyv-gitlab"}],"author":{"id":4545061,"username":"nagyv-gitlab","name":"Viktor Nagy (GitLab)","state":"active","avatar_url":"https://secure.gravatar.com/avatar/fb255c1e9c228b9356af165939b3ac9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/nagyv-gitlab"},"type":"ISSUE","assignee":{"id":4545061,"username":"nagyv-gitlab","name":"Viktor Nagy (GitLab)","state":"active","avatar_url":"https://secure.gravatar.com/avatar/fb255c1e9c228b9356af165939b3ac9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/nagyv-gitlab"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/357308","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/357308","notes":"https://gitlab.com/api/v4/projects/278964/issues/357308/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/357308/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#357308","relative":"#357308","full":"gitlab-org/gitlab#357308"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7911,"epic":{"id":500079,"iid":7911,"title":"Migrate clusters to agent-based setups","url":"/groups/gitlab-org/-/epics/7911","group_id":9970,"human_readable_end_date":"May 17, 2023","human_readable_timestamp":"\u003cstrong\u003e4\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":105774925,"iid":357301,"project_id":278964,"title":"Expand out user and group names in humanized security policy description","description":"Currently the description for policies shows user IDs instead of their names.\n\n![image__8_](/uploads/4c0f14bd8457e881f89c75e3d00da119/image__8_.png)\n\n## Proposal\n\nExpand this out to display the user and group names instead of their IDs.\n\n - [ ] ~backend Add `user_approvers` and `group_approvers` as new fields into [scan_result_policy_type](https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/graphql/types/security_orchestration/scan_result_policy_type.rb). `Types::UserType` and `Types::GroupType` are already available.\n - [ ] ~backend Add `user_approvers` and `group_approvers` attributes within the scope of `policy_configuration.scan_result_policies.map` in [scan_result_policy_resolver](https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/graphql/resolvers/security_orchestration/scan_result_policy_resolver.rb). Their values can be fetched similarly to [process_scan_result_policy_service](https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/services/security/security_orchestration_policies/process_scan_result_policy_service.rb).\n - [ ] ~frontend Add `userApprovers` and `groupApprovers` with attributes equivalent to [user_basic](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/api/entities/user_basic.rb) and [](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/api/entities/user_safe.rb) in [scan_result_policies](https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/assets/javascripts/security_orchestration/graphql/queries/scan_result_policies.query.graphql).","state":"closed","created_at":"2022-03-30T17:24:38.002Z","updated_at":"2022-07-08T18:32:40.125Z","closed_at":"2022-07-08T18:32:40.109Z","closed_by":{"id":4906322,"username":"zmartins","name":"Zamir Martins","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4906322/avatar.png","web_url":"https://gitlab.com/zmartins"},"labels":["Category:Security Policy Management","GitLab Ultimate","backend","devops::govern","docs-only","frontend","group::security policies","section::sec","secure merge request approval","type::maintenance","workflow::verification"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":4906322,"username":"zmartins","name":"Zamir Martins","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4906322/avatar.png","web_url":"https://gitlab.com/zmartins"}],"author":{"id":5292351,"username":"sam.white","name":"Sam White","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d467fb024d1858d279e6a36e028436ac?s=80\u0026d=identicon","web_url":"https://gitlab.com/sam.white"},"type":"ISSUE","assignee":{"id":4906322,"username":"zmartins","name":"Zamir Martins","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4906322/avatar.png","web_url":"https://gitlab.com/zmartins"},"user_notes_count":27,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/357301","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/357301","notes":"https://gitlab.com/api/v4/projects/278964/issues/357301/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/357301/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#357301","relative":"#357301","full":"gitlab-org/gitlab#357301"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":105774790,"iid":357300,"project_id":278964,"title":"Remove Vulnerability-Check","description":"### Proposal\n\nAll code related to `Vulnerability-Check` will be removed from the product.\n\n1. [x] Documentation about Vulnerability-Check\n   1. [x] https://docs.gitlab.com/ee/user/application_security/#vulnerability-check-rule should be replaced with a reference to scan result policies\n   1. [x] The deprecation notice at https://docs.gitlab.com/ee/api/merge_request_approvals.html#create-project-level-rule\n   1. [x] The deprecation notice at https://docs.gitlab.com/ee/api/merge_request_approvals.html#update-project-level-rule\n1. [x] APIs related to Vulnerability-Check\n   1. [x] Note: I do not believe there is any work to do here, but it would be good to double check.  The most likely place is in the accepted values for `[ApprovalRule.sourceRule](https://docs.gitlab.com/ee/api/graphql/reference/#approvalrule)` and `[ApprovalRule.type](https://docs.gitlab.com/ee/api/graphql/reference/#approvalrule)`\n1. [x] Frontend code related to Vulnerability-Check in the Settings \u003e General \u003e Merge Request Approvals page\n1. [x] Frontend code related to Vulnerability-Check in the MR page\n1. [x] All backend code related to Vulnerability-Check","state":"closed","created_at":"2022-03-30T17:20:27.283Z","updated_at":"2022-12-29T03:08:55.101Z","closed_at":"2022-05-12T18:47:52.608Z","closed_by":{"id":4906322,"username":"zmartins","name":"Zamir Martins","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4906322/avatar.png","web_url":"https://gitlab.com/zmartins"},"labels":["Category:Security Policy Management","Enterprise Edition","GitLab Ultimate","backend","devops::govern","documentation","frontend","group::security policies","maintenance::removal","section::sec","secure merge request approval","type::maintenance","workflow::verification"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":4906322,"username":"zmartins","name":"Zamir Martins","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4906322/avatar.png","web_url":"https://gitlab.com/zmartins"}],"author":{"id":5292351,"username":"sam.white","name":"Sam White","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d467fb024d1858d279e6a36e028436ac?s=80\u0026d=identicon","web_url":"https://gitlab.com/sam.white"},"type":"ISSUE","assignee":{"id":4906322,"username":"zmartins","name":"Zamir Martins","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4906322/avatar.png","web_url":"https://gitlab.com/zmartins"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/357300","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":9,"completed_count":9},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"9 of 9 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/357300","notes":"https://gitlab.com/api/v4/projects/278964/issues/357300/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/357300/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#357300","relative":"#357300","full":"gitlab-org/gitlab#357300"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6237,"epic":{"id":293896,"iid":6237,"title":"Introduce Scan Result Security Policies","url":"/groups/gitlab-org/-/epics/6237","group_id":9970,"human_readable_end_date":"May 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":105767240,"iid":357281,"project_id":278964,"title":"[Feature flag] Allow non-blocking member refreshes","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout [the feature](https://gitlab.com/gitlab-org/gitlab/-/issues/343460) on production,\nthat is currently behind the `allow_non_blocking_member_refresh` feature flag.\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\n## Owners\n\n- Team: ~\"group::authentication and authorization\" \n- Most appropriate slack channel to reach out to: `#g_manage_auth`\n- Best individual to reach out to: dblessing\n- PM: N/A\n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## Expectations\n\n### What are we expecting to happen?\n\n\u003c!-- Describe the expected outcome when rolling out this feature --\u003e\n\n### When is the feature viable?\n\n\u003c!-- What are the settings we need to configure in order to have this feature viable? --\u003e\n\n\u003c!-- \nExample below:\n \n1. Enable service ping collection\n   `ApplicationSetting.first.update(usage_ping_enabled: true)`\n--\u003e\n\n### What might happen if this goes wrong?\n\n\u003c!-- Should the feature flag be turned off? Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n_Consider mentioning checks for 5xx errors or other anomalies like an increase in redirects \n(302 HTTP response status)_\n\n### What can we check for monitoring production after rollouts?\n\n_Consider adding links to check for Sentry errors, Production logs for 5xx, 302s, etc._\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Enable the feature globally on non-production environments.\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e true --dev`\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e true --staging`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Specific rollout on production\n\n- Ensure that the feature MRs have been deployed to both production and canary.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- If you're using [project-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [x] `/chatops run feature set --project=gitlab-org/gitlab \u003cfeature-flag-name\u003e true`\n    - [x] `/chatops run feature set --project=gitlab-org/gitlab-foss \u003cfeature-flag-name\u003e true`\n    - [x] `/chatops run feature set --project=gitlab-com/www-gitlab-com \u003cfeature-flag-name\u003e true`\n- If you're using [group-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [x] `/chatops run feature set --group=gitlab-org \u003cfeature-flag-name\u003e true`\n    - [x] `/chatops run feature set --group=gitlab-com \u003cfeature-flag-name\u003e true`\n- If you're using [user-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [x] `/chatops run feature set --user=\u003cyour-username\u003e \u003cfeature-flag-name\u003e true`\n- [x] Verify that the feature works on the specific entries. Posting the QA result in this issue is preferable.\n\n### Preparation before global rollout\n\n- [x] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [x] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [x] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [x] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com. \n- [x] Ensure that any breaking changes have been announced following the [release post process](https://about.gitlab.com/handbook/marketing/blog/release-posts/#deprecations-removals-and-breaking-changes) to ensure GitLab customers are aware.\n- [x] Notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nFor visibility, all `/chatops` commands that target production should be executed in the `#production` slack channel and cross-posted (with the command results) to the responsible team's slack channel (`#g_TEAM_NAME`).\n\n- [x] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e --random`\n  - Enable the feature globally on production environment.\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e true`\n- [x] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [x] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [ ] Create a merge request with the following changes. Ask for review and merge it.\n    - [ ] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the default-enabling MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-default-enabling-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [ ] (Optional) You can [create a separate issue](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [ ] Set the title to \"[Feature flag] Cleanup `\u003cfeature-flag-name\u003e`\".\n    - [ ] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [ ] Link this rollout issue as a related issue.\n    - [ ] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\nYou can either [create a follow-up issue for Feature Flag Cleanup](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) or use the checklist below in this same issue.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [ ] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag. Ask for review and merge it.\n    - [ ] Remove all references to the feature flag from the codebase.\n    - [ ] Remove the YAML definitions for the feature from the repository.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the cleanup MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-cleanup-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [x] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [x] `/chatops run feature delete \u003cfeature-flag-name\u003e --dev`\n    - [x] `/chatops run feature delete \u003cfeature-flag-name\u003e --staging`\n    - [x] `/chatops run feature delete \u003cfeature-flag-name\u003e`\n- [ ] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set allow_non_blocking_member_refresh false\n```","state":"closed","created_at":"2022-03-30T14:51:06.363Z","updated_at":"2022-10-20T14:13:15.661Z","closed_at":"2022-10-20T14:13:15.627Z","closed_by":{"id":13356,"username":"dblessing","name":"Drew Blessing","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b5bf44866b4eeafa2d8114bfe15da02f?s=80\u0026d=identicon","web_url":"https://gitlab.com/dblessing"},"labels":["[deprecated] 🍎","devops::manage","feature flag","group::authentication and authorization","section::dev","type::maintenance"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":13356,"username":"dblessing","name":"Drew Blessing","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b5bf44866b4eeafa2d8114bfe15da02f?s=80\u0026d=identicon","web_url":"https://gitlab.com/dblessing"}],"author":{"id":13356,"username":"dblessing","name":"Drew Blessing","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b5bf44866b4eeafa2d8114bfe15da02f?s=80\u0026d=identicon","web_url":"https://gitlab.com/dblessing"},"type":"ISSUE","assignee":{"id":13356,"username":"dblessing","name":"Drew Blessing","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b5bf44866b4eeafa2d8114bfe15da02f?s=80\u0026d=identicon","web_url":"https://gitlab.com/dblessing"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/357281","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":50,"completed_count":29},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"29 of 50 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/357281","notes":"https://gitlab.com/api/v4/projects/278964/issues/357281/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/357281/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#357281","relative":"#357281","full":"gitlab-org/gitlab#357281"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":105765075,"iid":357276,"project_id":278964,"title":"AuditEventStreamingWorker enqueued for all groups regardless of destinations","description":"## Overview\n\n* We noticed a spike in the sidekiq queues for `AuditEventStreamingWorker` including for `gitlab-org` which does not utilize audit event streaming.\n* It was determined that a worker was enqueued for _every_ streamable audit event for every ultimate namespace and then immediately completed when evaluating `group.external_audit_event_destinations` was evaluated.\n\n## Proposal\n\n* Add a guard clause before the job is enqueued in `EE::AuditEvent#L57` to avoid enqueuing essentially pointless jobs.","state":"closed","created_at":"2022-03-30T14:23:18.242Z","updated_at":"2022-05-25T19:57:36.829Z","closed_at":"2022-05-25T19:57:36.813Z","closed_by":{"id":10467142,"username":"harsimarsandhu","name":"Harsimar Sandhu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10467142/avatar.png","web_url":"https://gitlab.com/harsimarsandhu"},"labels":["Category:Audit Events","backend","devops::manage","feature::enhancement","group::compliance","priority::3","section::dev","type::bug","workflow::verification"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":10467142,"username":"harsimarsandhu","name":"Harsimar Sandhu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10467142/avatar.png","web_url":"https://gitlab.com/harsimarsandhu"}],"author":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"type":"ISSUE","assignee":{"id":10467142,"username":"harsimarsandhu","name":"Harsimar Sandhu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10467142/avatar.png","web_url":"https://gitlab.com/harsimarsandhu"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/357276","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/357276","notes":"https://gitlab.com/api/v4/projects/278964/issues/357276/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/357276/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#357276","relative":"#357276","full":"gitlab-org/gitlab#357276"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":105758139,"iid":357269,"project_id":278964,"title":"Automated attention requests are confusing and hard to understand what is happening","description":"## Problem to Solve\n\nThe automated behaviors of attention requests can cause confusion or undesirable situations in who's attention is requested. These behaviors are further compounded by the lack of real-time feedback or notice within the application that something has happened and attention changes have occurred. \n\n## Proposal\n\n1. Remove the automatic behavior of requesting the attention of the current user when they add themselves as an assignee or reviewer.\n1. Keep all the other automated behaviors that remove one's attention request.\n1. For the other automated behaviors, add new toasts or extend existing toasts to communicate the automated behavior. **These messages are only shown if the current user has an attention request.**\n   1. Approve the merge request: `Approved. Your attention request was removed.`\n      1. ![CleanShot_20220413161827](https://gitlab.com/gitlab-org/gitlab/uploads/86bcaf97e6d2b4a22906c245e51a0e12/CleanShot_20220413161827.png)\n   1. Add a new user as an assignee: `Assigned user(s). Your attention request was removed.`\n      1. Bonus points if we can get the usernames in there :smile:\n   1. Add a new user as a reviewer: `Requested review. Your attention request was removed.`\n   1. Request the attention of a different assignee or reviewer: `Requested attention from @%{username}. Your own attention request was removed.`\n   1. Multiple actions performed using quick actions: append `Your attention request was removed.` to the info alert message that appears when quick actions are performed.\n      1. ![image](https://gitlab.com/gitlab-org/gitlab/uploads/df1a2f401c4a88a958e38750640c2b46/image.png)\n\n\n\u003cdetails\u003e\u003csummary\u003eOriginal Description\u003c/summary\u003e\n## Problem to Solve\n\nIf I am a reviewer and need to request attention from both myself and another reviewer, I'm unable to do so because requesting attention from another user clears the attention request from myself.\n\nFrom @pslaughter (https://gitlab.com/gitlab-org/gitlab/-/issues/356696#note_886135674)\n\u003e\u003e\u003e\nHmmm.... As a MR coach, I'm often a reviewer and requesting reviews from BE, Database, etc. on behalf of the contributor. It would be confusing to me if assigning a reviewer automatically removed the \"attention request\" before I actually finished my review.\n\n**suggestion:** I'm not sure how flexible these rules are, but it might be preferable to lean towards forcing users to be more explicit (rather than figure it out for them) when attention is removed :shrug:\n\nIMHO, I think it makes sense to automatically remove the attention only when:\n\n* Approve the merge request.\n* Remove yourself (or are removed by someone else) as an assignee or reviewer.\n* Merge or close the merge request.\n\nOtherwise, let's force users to explicitly remove the attention and not risk causing confusion.\n\u003e\u003e\u003e\n\n## Proposal\n\nWe should consider if this is desired behavior, unique situation or something worth fixing.\n\u003c/details\u003e","state":"closed","created_at":"2022-03-30T13:18:47.982Z","updated_at":"2022-05-24T12:00:23.579Z","closed_at":"2022-05-13T12:29:26.553Z","closed_by":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"labels":["Deliverable","auto updated","devops::create","feature::enhancement","frontend","group::code review","section::dev","type::feature","workflow::in review"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"}],"author":{"id":2935693,"username":"phikai","name":"Kai Armstrong","state":"active","avatar_url":"https://secure.gravatar.com/avatar/2c5d6a63b41cbeb3ea4cccda82e758e1?s=80\u0026d=identicon","web_url":"https://gitlab.com/phikai"},"type":"ISSUE","assignee":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/357269","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/357269","notes":"https://gitlab.com/api/v4/projects/278964/issues/357269/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/357269/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#357269","relative":"#357269","full":"gitlab-org/gitlab#357269"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5331,"epic":{"id":195597,"iid":5331,"title":"Merge requests that require my attention","url":"/groups/gitlab-org/-/epics/5331","group_id":9970,"human_readable_end_date":"Nov 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":105757874,"iid":357268,"project_id":278964,"title":"Request attention terms are repetitive and cause confusion","description":"### Problem\n\n\u003e From https://gitlab.com/gitlab-org/gitlab/-/issues/356696#note_893344490\n\nThe terms \"request\" and \"review\" are confusing here. It took me awhile to sort it out.\n\nThe tooltips read:\n\n* Request attention\n* Remove attention request\n* Request attention to review\n\nThat's a lot of terms that start with \"re\".\n\n### Proposal\n\nSimplify messages to just:\n\n* Add attention request\n* Remove attention request","state":"closed","created_at":"2022-03-30T13:15:08.831Z","updated_at":"2022-05-24T12:00:23.642Z","closed_at":"2022-04-20T15:50:11.701Z","closed_by":{"id":10539680,"username":"slashmanov","name":"Stanislav Lashmanov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10539680/avatar.png","web_url":"https://gitlab.com/slashmanov"},"labels":["Deliverable","devops::create","feature::enhancement","frontend","group::code review","section::dev","type::feature","workflow::in dev"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":10539680,"username":"slashmanov","name":"Stanislav Lashmanov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10539680/avatar.png","web_url":"https://gitlab.com/slashmanov"}],"author":{"id":2935693,"username":"phikai","name":"Kai Armstrong","state":"active","avatar_url":"https://secure.gravatar.com/avatar/2c5d6a63b41cbeb3ea4cccda82e758e1?s=80\u0026d=identicon","web_url":"https://gitlab.com/phikai"},"type":"ISSUE","assignee":{"id":10539680,"username":"slashmanov","name":"Stanislav Lashmanov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10539680/avatar.png","web_url":"https://gitlab.com/slashmanov"},"user_notes_count":27,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/357268","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/357268","notes":"https://gitlab.com/api/v4/projects/278964/issues/357268/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/357268/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#357268","relative":"#357268","full":"gitlab-org/gitlab#357268"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7813,"epic":{"id":485763,"iid":7813,"title":"Attention requests enhancements","url":"/groups/gitlab-org/-/epics/7813","group_id":9970,"human_readable_end_date":"May 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":105755434,"iid":357264,"project_id":278964,"title":"Rename container scanning variables to remove references to Docker","description":"\u003c!-- This template is a great use for issues that are feature::additions or technical tasks for larger issues.--\u003e\n\n### Proposal\n\n\u003c!-- Use this section to explain the feature and how it will work. It can be helpful to add technical details, design proposals, and links to related epics or issues. --\u003e\n\nContainer scanning currently has several variables which reference Docker. While we may have been dependent on Docker at some point in the past, our scanners are now OCI-compatible and have nothing to do with Docker. There is no dependency on Docker, and we do not care if the images were built with Docker or a different tool. This means that the current variable names are confusing and frequently mislead users into thinking that there is some dependency on Docker / DinD.\n\nI would like to propose that we rename these variables and remove the references to Docker. We may implement this in a three-step plan:\n\n1. Update the analyzers to being using the new variable names, in addition to the existing variable names. (Meaning, both `DOCKER_IMAGE` and `CS_IMAGE` will work)\n2. Deprecate the old variables and begin using the new variable names in documentation, implementations (CI templates), and communications.\n3. Remove the old variables (%\"16.0\")\n\nHere is a table of all the variables that be renamed:\n\n| Existing Variable Name.       | New Variable Name                       |\n| ----------------------------- | --------------------------------------- |\n| `CS_DOCKER_INSECURE` (Remove) | `CS_REGISTRY_INSECURE` (Already exists) |\n| `DOCKER_IMAGE`                | `CS_IMAGE`                              |\n| `DOCKER_PASSWORD`             | `CS_REGISTRY_PASSWORD`                  |\n| `DOCKER_USER`                 | `CS_REGISTRY_USER`                      |\n| `DOCKERFILE_PATH`             | `CS_DOCKERFILE_PATH` \\*                 |\n\n\\* `CS_DOCKERFILE_PATH` will retain the Dockerfile reference since our auto-remediation implamentiation is\nspecific to Dockerfiles and there is not a generic file format for building images. However, we should\nstill take the opportunity to add the `CS_` prefix to avoid namespace collisions with generic variable names.\n\n\u003c!-- Consider adding related issues and epics to this issue. You can also reference the Feature Proposal Template (https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal%20-%20detailed.md) for additional details to consider adding to this issue. Additionally, as a data oriented organization, when your feature exits planning breakdown, consider adding the `What does success look like, and how can we measure that?` section.\n--\u003e\n\n### Relevant links\n\n- [Container Scanning - Available CI / CD Variables](https://docs.gitlab.com/ee/user/application_security/container_scanning/#available-cicd-variables)\n\n\u003c!-- Label reminders\nUse the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n--\u003e\n\n### Implementation plan\n\n- [ ] ~backend modify `lib/gcs/environment.rb` in `container-scanning` analyzer to support both variables, update specs,\n- [ ] ~documentation modify `Available CI/CD variables` section in `doc/user/application_security/container_scanning/index.md` to include information about new variables, include information about deprecations,\n- [ ] ~issues create new issue for %16.0 to remove support for old variables in the scanner and in the documentation\n- [ ] ~documentation modify `doc/user/application_security/container_scanning/index.md` to include issue link for the planned variable removal in 16.0","state":"closed","created_at":"2022-03-30T12:53:12.644Z","updated_at":"2022-12-29T03:08:56.732Z","closed_at":"2022-09-06T03:17:43.251Z","closed_by":{"id":8401507,"username":"sashi_kumar","name":"Sashi Kumar Kumaresan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8401507/avatar.png","web_url":"https://gitlab.com/sashi_kumar"},"labels":["Category:Container Scanning","Category:Security Policy Management","GitLab Free","GitLab Premium","GitLab Ultimate","backend","devops::govern","documentation","group::security policies","maintenance::removal","section::sec","type::maintenance","workflow::verification"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":8401507,"username":"sashi_kumar","name":"Sashi Kumar Kumaresan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8401507/avatar.png","web_url":"https://gitlab.com/sashi_kumar"}],"author":{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"},"type":"ISSUE","assignee":{"id":8401507,"username":"sashi_kumar","name":"Sashi Kumar Kumaresan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8401507/avatar.png","web_url":"https://gitlab.com/sashi_kumar"},"user_notes_count":10,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/357264","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/357264","notes":"https://gitlab.com/api/v4/projects/278964/issues/357264/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/357264/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#357264","relative":"#357264","full":"gitlab-org/gitlab#357264"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":105751041,"iid":357259,"project_id":278964,"title":"License Scanning silently fails: syntax error in dotnet-install.sh","description":"### Summary\n\nLicense Scanning silently fails when scanning a C# .NET. There are syntax errors in `dotnet-install.sh`. A report is created and the exit code is 0, but .NET dependencies are not in the report.\n\nWorkaround: none.\n\n### Steps to reproduce\n\nRun license-finder (License Scanning job) on a .NET project.\n\n### Example Project\n\nhttps://gitlab.com/gitlab-org/security-products/tests/csharp-nuget-dotnetcore/\n\n### What is the current *bug* behavior?\n\nIt logs error messages and silently fails. The License Scanning report contains nothing.\n\n### What is the expected *correct* behavior?\n\nThe License Scanning report covers the dependencies of the .NET project.\n\n### Relevant logs and/or screenshots\n\nhttps://gitlab.com/gitlab-org/security-products/tests/csharp-nuget-dotnetcore/-/jobs/2269447280#L337\n\n```\nInstalling the CLI requested version 3.1.302. Please wait, installation may take a few minutes.\n/opt/asdf/installs/dotnet-core/3.1.302/dotnet-install.sh: line 1: $'\\r': command not found\n/opt/asdf/installs/dotnet-core/3.1.302/dotnet-install.sh: line 2: $'\\r': command not found\n/opt/asdf/installs/dotnet-core/3.1.302/dotnet-install.sh: line 3: !DOCTYPE: No such file or directory\n/opt/asdf/installs/dotnet-core/3.1.302/dotnet-install.sh: line 4: html: No such file or directory\n/opt/asdf/installs/dotnet-core/3.1.302/dotnet-install.sh: line 5: head: No such file or directory\n/opt/asdf/installs/dotnet-core/3.1.302/dotnet-install.sh: line 6: meta: No such file or directory\n/opt/asdf/installs/dotnet-core/3.1.302/dotnet-install.sh: line 7: $'\\r': command not found\n/opt/asdf/installs/dotnet-core/3.1.302/dotnet-install.sh: line 8: !--: No such file or directory\n/opt/asdf/installs/dotnet-core/3.1.302/dotnet-install.sh: line 9: meta: No such file or directory\n/opt/asdf/installs/dotnet-core/3.1.302/dotnet-install.sh: line 10: $'\\r': command not found\n/opt/asdf/installs/dotnet-core/3.1.302/dotnet-install.sh: line 11: syntax error near unexpected token `404'\n```\n\n### Possible fixes\n\nTo be fixed upstream in https://github.com/emersonsoares/asdf-dotnet-core.\n\nA possible workaround is to use a fork that fixes the problem, similar to what we did in https://gitlab.com/gitlab-org/security-products/analyzers/license-finder/-/merge_requests/33.\n\n/cc @brytannia @NicoleSchwartz @gonzoyumo","state":"closed","created_at":"2022-03-30T11:50:00.946Z","updated_at":"2022-06-10T05:58:27.305Z","closed_at":"2022-03-31T15:11:49.352Z","closed_by":{"id":1958785,"username":"fcatteau","name":"Fabien Catteau","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1958785/avatar.png","web_url":"https://gitlab.com/fcatteau"},"labels":["Category:License Compliance","backend","devops::secure","group::composition analysis","priority::1","section::sec","severity::1","type::bug","workflow::production"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":1958785,"username":"fcatteau","name":"Fabien Catteau","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1958785/avatar.png","web_url":"https://gitlab.com/fcatteau"}],"author":{"id":1958785,"username":"fcatteau","name":"Fabien Catteau","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1958785/avatar.png","web_url":"https://gitlab.com/fcatteau"},"type":"ISSUE","assignee":{"id":1958785,"username":"fcatteau","name":"Fabien Catteau","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1958785/avatar.png","web_url":"https://gitlab.com/fcatteau"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/357259","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/357259","notes":"https://gitlab.com/api/v4/projects/278964/issues/357259/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/357259/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#357259","relative":"#357259","full":"gitlab-org/gitlab#357259"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":105750972,"iid":357258,"project_id":278964,"title":"Instrument monthly user GitLab Group migration flow","description":"\u003c!--\n* Use this issue template for creating requests to track snowplow events\n* Snowplow events can be both Frontend (javascript) or Backend (Ruby)\n* Snowplow is currently not used for self-hosted instances of GitLab - Self-hosted still rely on usage ping for product analytics - Snowplow is used for GitLab SaaS\n* You do not need to create an issue to track generic front-end events, such as All page views, sessions, link clicks, some button clicks, etc.\n* What you should capture are specific events with defined business logic. For example, when a user creates an incident by escalating an existing alert, or when a user creates and pushes up a new Node package to the NPM registry.\n* For more details read https://about.gitlab.com/handbook/business-technology/data-team/programs/data-for-product-managers/\n --\u003e\n\n\u003c!--\nWe generally recommend events be tracked using a [structured event](https://docs.snowplowanalytics.com/docs/understanding-tracking-design/out-of-the-box-vs-custom-events-and-entities/#structured-events) which has 5 properties you can use. There may be instances where structured events are not sufficient. You may want to track an event where the property changes frequently or is general something very unique. In those cases, use a [self-describing event](https://docs.snowplowanalytics.com/docs/understanding-tracking-design/out-of-the-box-vs-custom-events-and-entities/#self-describing-events)\n\n--\u003e\n\n## Purpose\n\nWe have implemented a new GitLab Group migration and plan to remove the old one.\n\nWe already announce the deprecation of the old flow in the product: https://gitlab.com/groups/new#import-group-pane\n\nbut we need to plan the removal of this feature.\n\nIn order to do so we must understand how many users use the old flow and how many the new flow.\n\nIn addition, we should make the old flow less accessible from the UI in order to get our users used to using the new migration.\n\n### Current numbers from the DB\n\n490 records in the database of BulkImport  and 1260 of GroupImportState  for the past 60 days \n\n\n## Structured Snowplow events to track\n\n* Category: The page or backend area of the application. Unless infeasible, please use the Rails page attribute by default in the frontend, and namespace + classname on the backend. If you're not sure what it is, work with your engineering manager to figure it out.\n* Action: A string that is used to define the user action. The first word should always describe the action or aspect: clicks should be `click`, activations should be `activate`, creations should be `create`, etc. Use underscores to describe what was acted on; for example, activating a form field would be `activate_form_input`. An interface action like clicking on a dropdown would be `click_dropdown`, while a behavior like creating a project record from the backend would be `create_project`\n* Label: Optional. The specific element, or object that's being acted on. This is either the label of the element (e.g. a tab labeled 'Create from template' may be `create_from_template`) or a unique identifier if no text is available (e.g. closing the Groups dropdown in the top navbar might be `groups_dropdown_close`), or it could be the name or title attribute of a record being created.\n* Property: Optional. Any additional property of the element, or object being acted on.\n* Value: Optional, numeric. Describes a numeric value (decimal) directly related to the event. This could be the value of an input (e.g. `10` when clicking `internal` visibility)\n\n| Category | Action | Label | Property | Feature Issue | Additional Information |\n| ------ | ------ | ------ | ------ | ------ | ------ |\n| `BulkImports::CreateService` OR `self.class.name` | `create` | `bulk_import_group` | - | - | - |\n| `Groups::ImportExport::ImportService` OR `self.class.name` | `create` | `import_group_from_file` | - | - | - |\n\n\u003c!--\n  Snowplow event tracking starts with instrumentation and completed after a chart is created in Sisense.\n\n  Use this checklist to ensure all steps are completed\n--\u003e\n\n## Snowplow event tracking checklist\n* [x] Engineering complete work and deploy changes to GitLab SaaS\n* [x] Verify the new Snowplow events are listed in the [Snowplow Event Exploration](https://app.periscopedata.com/app/gitlab/539181/Snowplow-Event-Exploration---last-30-days) dashboard\n* [ ] Create chart(s) to track your event(s) in the relevant dashboard\n  * [ ] Use the [Chart Snowplow Actions](https://app.periscopedata.com/app/gitlab/snippet/Chart-Snowplow-Actions/5546da87ae2c4a3fbc98415c88b3eedd/edit) SQL snippet to quickly visualize usage. See [example](https://app.periscopedata.com/app/gitlab/737489/Health-Group-Dashboard?widget=9797112\u0026udv=0) - this will be done in https://gitlab.com/gitlab-org/gitlab/-/issues/378617+\n\n\u003c!-- Label reminders - you should have one of each of the following labels.\nUse the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n--\u003e\n\n## Proposal\n\nLet's implement tracking on the controller level via `GitLab::Tracking.event` (see https://docs.gitlab.com/ee/development/snowplow/implementation.html#implement-ruby-backend-tracking). We'd like to implement two tracking events (one for the GitLab migration and one for the file-based import/export). See the Snowplow section above for more details on these events.\n\n**Note:** We want to track both the internal (private) API and the public API with the same tracking event (i.e., category name)\n\n**Additional Note:** ~~As we are adding tracking events to the controllers _and_ the api endpoints, I propose using the categories `Import::BulkImports` and `Import::GitlabGroups`. This will avoid any confusion e.g. when the event is triggered via an API request, but the category says `Import::BulkImportsController`, a class that plays no part in creating the import service when the api endpoint is used.~~ We're going to move the event tracking to the service level as this is used by both controller and api to create the import service. This means adding to the `app/services//groups/import-export/import_service.rb` \u0026 `app/services/bulk_imports/create_service.rb`","state":"closed","created_at":"2022-03-30T11:49:24.135Z","updated_at":"2022-10-27T09:30:28.952Z","closed_at":"2022-10-21T10:13:09.629Z","closed_by":{"id":4826728,"username":"m_frankiewicz","name":"Magdalena Frankiewicz","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ca314fa77051f58ced6e3e5bf7f0dd48?s=80\u0026d=identicon","web_url":"https://gitlab.com/m_frankiewicz"},"labels":["Category:Importers","Deliverable","Next Up","auto updated","backend","devops::manage","group::import","quad-planning::complete-no-action","section::dev","snowplow tracking events","type::feature","workflow::production"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":11342168,"username":"carlad-gl","name":"Carla Drago","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11342168/avatar.png","web_url":"https://gitlab.com/carlad-gl"}],"author":{"id":4156460,"username":"ogolowinski","name":"Orit Golowinski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4156460/avatar.png","web_url":"https://gitlab.com/ogolowinski"},"type":"ISSUE","assignee":{"id":11342168,"username":"carlad-gl","name":"Carla Drago","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11342168/avatar.png","web_url":"https://gitlab.com/carlad-gl"},"user_notes_count":22,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/357258","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":2},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/357258","notes":"https://gitlab.com/api/v4/projects/278964/issues/357258/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/357258/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#357258","relative":"#357258","full":"gitlab-org/gitlab#357258"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":105750401,"iid":357256,"project_id":278964,"title":"Remove PodLogs Redis counter and related code logic","description":"Related https://gitlab.com/gitlab-org/gitlab/-/issues/355591#note_892807856\n\n# Summary\n\nRemove `PodLogs` and `Common` class in order to avoid bad patterns to spread.\n\n# Details\n\n`Gitlab::UsageCounters::PodLogs` used in https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/controllers/projects/logs_controller.rb#L31\n\nI see that the related service ping metric was removed in 14.0 https://gitlab.com/gitlab-org/gitlab/-/blob/master/config/metrics/counts_all/20210216175021_pod_logs_usages_total.yml\n\nMR removing the metric https://gitlab.com/gitlab-org/gitlab/-/merge_requests/62962 and issue https://gitlab.com/gitlab-org/gitlab/-/issues/321786#note_562109341\n\nI think we should remove the related tracking code logic too.\n\nI would suggest:\n\n* Remove the code remaining code logic for tracking\n* As this is the only class implemented based on Common we can remove this type of counter for Service Ping.\n* Product Intelligence can initiate the removal and we could ask for a review from ~\"group::monitor\" to be sure that we cover any concerns.","state":"closed","created_at":"2022-03-30T11:46:59.373Z","updated_at":"2022-04-22T08:35:40.754Z","closed_at":"2022-04-22T08:35:40.738Z","closed_by":{"id":1863977,"username":"michold","name":"Michał Wielich","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1863977/avatar.png","web_url":"https://gitlab.com/michold"},"labels":["backend","devops::growth","group::product intelligence","product intelligence::onboarding issue","section::growth","type::maintenance","workflow::verification"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":1863977,"username":"michold","name":"Michał Wielich","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1863977/avatar.png","web_url":"https://gitlab.com/michold"}],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":{"id":1863977,"username":"michold","name":"Michał Wielich","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1863977/avatar.png","web_url":"https://gitlab.com/michold"},"user_notes_count":1,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/357256","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/357256","notes":"https://gitlab.com/api/v4/projects/278964/issues/357256/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/357256/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#357256","relative":"#357256","full":"gitlab-org/gitlab#357256"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":105743673,"iid":357253,"project_id":278964,"title":"Flaky test in ee/spec/models/dora/daily_metrics_spec.rb","description":"Job [#2268589289](https://gitlab.com/gitlab-org/gitlab/-/jobs/2268589289) failed for 2744c9781732e461a0e073432c164593313389ef:\n\n```\n  1) Dora::DailyMetrics.aggregate_for! when metric is change_failure_rate when interval is all aggregates the rows\n     Failure/Error: is_expected.to eq(3 / 7.0)\n       expected: 0.42857142857142855\n            got: 0.428571428571429\n       (compared using ==)\n     # ./ee/spec/models/dora/daily_metrics_spec.rb:305:in `block (5 levels) in \u003ctop (required)\u003e'\n     # ./ee/spec/models/dora/daily_metrics_spec.rb:236:in `block (4 levels) in \u003ctop (required)\u003e'\n     # ./ee/spec/models/dora/daily_metrics_spec.rb:235:in `block (3 levels) in \u003ctop (required)\u003e'\n     # ./spec/spec_helper.rb:417:in `block (3 levels) in \u003ctop (required)\u003e'\n     # ./spec/support/sidekiq_middleware.rb:9:in `with_sidekiq_server_middleware'\n     # ./spec/spec_helper.rb:408:in `block (2 levels) in \u003ctop (required)\u003e'\n     # ./spec/spec_helper.rb:404:in `block (3 levels) in \u003ctop (required)\u003e'\n     # ./lib/gitlab/application_context.rb:48:in `with_raw_context'\n     # ./spec/spec_helper.rb:404:in `block (2 levels) in \u003ctop (required)\u003e'\n     # ./spec/spec_helper.rb:266:in `block (2 levels) in \u003ctop (required)\u003e'\n     # ./spec/support/system_exit_detected.rb:7:in `block (2 levels) in \u003ctop (required)\u003e'\n     # ./spec/support/flaky_tests.rb:27:in `block (2 levels) in \u003ctop (required)\u003e'\n     # ./spec/support/database/prevent_cross_joins.rb:106:in `block (3 levels) in \u003ctop (required)\u003e'\n     # ./spec/support/database/prevent_cross_joins.rb:60:in `with_cross_joins_prevented'\n     # ./spec/support/database/prevent_cross_joins.rb:106:in `block (2 levels) in \u003ctop (required)\u003e'\n```\n\nIntroduced in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/83514/diffs#diff-content-80ed92863c1a453424adec4ce387a2d29dd4f2fb.","state":"closed","created_at":"2022-03-30T10:38:29.379Z","updated_at":"2022-03-30T14:12:35.490Z","closed_at":"2022-03-30T14:12:35.467Z","closed_by":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"labels":["backend","failure::flaky-test","type::maintenance"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"}],"author":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"type":"ISSUE","assignee":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/357253","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/357253","notes":"https://gitlab.com/api/v4/projects/278964/issues/357253/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/357253/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#357253","relative":"#357253","full":"gitlab-org/gitlab#357253"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":105739213,"iid":357246,"project_id":278964,"title":"[Feature flag] Enable wiki update page gitaly RPC","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout [the feature](https://gitlab.com/gitlab-org/gitlab/-/issues/36865) on production, which is currently behind the `gitaly_replace_wiki_update_page` feature flag.\n\nOnce we remove the feature flag we can remove the associated code in https://gitlab.com/gitlab-org/gitlab/blob/master/lib/gitlab/git/wiki.rb#L79 and the gitaly service.\n\n## Owners\n\n* Team: ~\"group::editor\"\n* Most appropriate slack channel to reach out to: `#g_create_editor`\n* Best individual to reach out to: @fjsanpedro\n* PM: `@ericschurter`\n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## Expectations\n\n### What are we expecting to happen?\n\n\u003c!-- Describe the expected outcome when rolling out this feature --\u003e\n\n### When is the feature viable?\n\n\u003c!-- What are the settings we need to configure in order to have this feature viable? --\u003e\n\n\u003c!-- \nExample below:\n \n1. Enable service ping collection\n   `ApplicationSetting.first.update(usage_ping_enabled: true)`\n--\u003e\n\n### What might happen if this goes wrong?\n\n\u003c!-- Should the feature flag be turned off? Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n_Consider mentioning checks for 5xx errors or other anomalies like an increase in redirects \n(302 HTTP response status)_\n\n### What can we check for monitoring production after rollouts?\n\n_Consider adding links to check for Sentry errors, Production logs for 5xx, 302s, etc._\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status /chatops run auto_deploy status`\n- [x] Enable the feature globally on non-production environments.\n    - [x] `/chatops run feature set gitaly_replace_wiki_update_page true --dev`\n    - [x] `/chatops run feature set gitaly_replace_wiki_update_page true --staging`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Specific rollout on production\n\n- Ensure that the feature MRs have been deployed to both production and canary.\n    - [x] `/chatops run auto_deploy status 301df757`\n- If you're using [project-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [x] `/chatops run feature set --project=gitlab-org/gitlab gitaly_replace_wiki_update_page true`\n    - [x] `/chatops run feature set --project=gitlab-org/gitlab-foss gitaly_replace_wiki_update_page true`\n    - [x] `/chatops run feature set --project=gitlab-com/www-gitlab-com gitaly_replace_wiki_update_page true`\n- If you're using [group-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [x] `/chatops run feature set --group=gitlab-org gitaly_replace_wiki_update_page true`\n    - [x] `/chatops run feature set --group=gitlab-com gitaly_replace_wiki_update_page true`\n- If you're using [user-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [x] `/chatops run feature set --user=cwoolley-gitlab gitaly_replace_wiki_update_page true`\n- [x] Verify that the feature works on the specific entries. Posting the QA result in this issue is preferable.\n\n### Preparation before global rollout\n\n- [-] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [x] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [-] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [-] Announce on [the feature issue](https://gitlab.com/gitlab-org/gitlab/-/issues/36865) an estimated time this will be enabled on GitLab.com. \n- [-] Ensure that any breaking changes have been announced following the [release post process](https://about.gitlab.com/handbook/marketing/blog/release-posts/#deprecations-removals-and-breaking-changes) to ensure GitLab customers are aware.\n- [-] Notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nFor visibility, all `/chatops` commands that target production should be executed in the `#production` slack channel and cross-posted (with the command results) to the responsible team's slack channel (`#g_TEAM_NAME`).\n\n- [x] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [x] `/chatops run feature set gitaly_replace_wiki_update_page \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [-] `/chatops run feature set gitaly_replace_wiki_update_page \u003crollout-percentage\u003e --random`\n  - Enable the feature globally on production environment.\n    - [x] `/chatops run feature set gitaly_replace_wiki_update_page true`\n- [x] Announce on [the feature issue](https://gitlab.com/gitlab-org/gitlab/-/issues/36865) that the feature has been globally enabled.\n- [x] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [-] Create a merge request with the following changes. Ask for review and merge it.\n    - [-] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [-] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [-] Ensure that the default-enabling MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [-] `/chatops run auto_deploy status \u003cmerge-commit-of-default-enabling-mr\u003e`\n- [-] Close [the feature issue](https://gitlab.com/gitlab-org/gitlab/-/issues/36865) to indicate the feature will be released in the current milestone.\n- [-] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [-] (Optional) You can [create a separate issue](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [-] Set the title to \"[Feature flag] Cleanup `gitaly_replace_wiki_update_page`\".\n    - [-] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [-] Link this rollout issue as a related issue.\n    - [-] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\nYou can either [create a follow-up issue for Feature Flag Cleanup](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) or use the checklist below in this same issue.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [x] Create a merge request to remove `gitaly_replace_wiki_update_page` feature flag. Ask for review and merge it: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/87341+\n    - [x] Remove all references to the feature flag from the codebase.\n    - [x] Remove the YAML definitions for the feature from the repository.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [x] Ensure that the cleanup MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status 07b4708b08d582e8c973cfe8b4c750ec0bd1b35c`\n- [-] Close [the feature issue](https://gitlab.com/gitlab-org/gitlab/-/issues/36865) to indicate the feature will be released in the current milestone. (NOTE: Not closing issue yet, still need to finish rollout of the create flag: https://gitlab.com/gitlab-org/gitlab/-/issues/356983)\n- [x] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [x] `/chatops run feature delete gitaly_replace_wiki_update_page --dev`\n    - [x] `/chatops run feature delete gitaly_replace_wiki_update_page --staging`\n    - [x] `/chatops run feature delete gitaly_replace_wiki_update_page`\n- [x] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set gitaly_replace_wiki_update_page false\n```\n\n## Availability and Testing\n\nPlease ensure `package-and-qa` passes in all associated MRs (there will be two runs triggered automatically with ff on and off whenever YAML definition file is added or changed in a MR) - for regression purposes. Please note that full `package-and-qa` job is currently not available in MRs that delete YAML definition file on feature release - opened https://gitlab.com/gitlab-org/quality/team-tasks/-/issues/1278 to rectify it.","state":"closed","created_at":"2022-03-30T09:48:19.715Z","updated_at":"2022-05-24T12:00:37.630Z","closed_at":"2022-05-13T21:58:18.472Z","closed_by":{"id":4985794,"username":"cwoolley-gitlab","name":"Chad Woolley","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4cf06f1fc667817854991b558103a9e2?s=80\u0026d=identicon","web_url":"https://gitlab.com/cwoolley-gitlab"},"labels":["Category:Wiki","Deliverable","backend","devops::create","feature flag","feature::addition","group::editor","quad-planning::complete-action","section::dev","type::feature","workflow::ready for development"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":4985794,"username":"cwoolley-gitlab","name":"Chad Woolley","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4cf06f1fc667817854991b558103a9e2?s=80\u0026d=identicon","web_url":"https://gitlab.com/cwoolley-gitlab"}],"author":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"type":"ISSUE","assignee":{"id":4985794,"username":"cwoolley-gitlab","name":"Chad Woolley","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4cf06f1fc667817854991b558103a9e2?s=80\u0026d=identicon","web_url":"https://gitlab.com/cwoolley-gitlab"},"user_notes_count":24,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/357246","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":31,"completed_count":29},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"29 of 31 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/357246","notes":"https://gitlab.com/api/v4/projects/278964/issues/357246/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/357246/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#357246","relative":"#357246","full":"gitlab-org/gitlab#357246"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2381,"epic":{"id":17093,"iid":2381,"title":"Wikis should only use the normal repository Gitaly RPCs","url":"/groups/gitlab-org/-/epics/2381","group_id":9970,"human_readable_end_date":"Nov 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":105738515,"iid":357244,"project_id":278964,"title":"[Feature flag] Rollout of `group_member_inherited_group`","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout [Group members: include inherited group links on group members page](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/71465) on production,\nthat is currently behind the `group_member_inherited_group` feature flag.\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\n## Owners\n\n- Team: ~\"group::workspace\" \n- Most appropriate slack channel to reach out to: `#g_workspace`\n- Best individual to reach out to: @wwwjon and @peterhegman \n- PM: @hsutor \n\n## Stakeholders\n\n- @mksionek as engineering manager\n\n## Expectations\n\n### What are we expecting to happen?\n\nGroup's member page listing \"member groups\" will show inherited group members too. It will also have a search bar, in which the user can filter by search term or how group member came to be (either directly a member or inherited by ancestor groups).\n\n### When is the feature viable?\n\nTurn on feature flag\n\n### What might happen if this goes wrong?\n\nGroup member page may time out due to more complex query.\n\n### What can we monitor to detect problems with this?\n\n- Check Sentry logs\n- Check grafana\n\n### What can we check for monitoring production after rollouts?\n\n- Check Sentry logs\n- Check grafana\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Enable the feature globally on non-production environments.\n    - [x] `/chatops run feature set group_member_inherited_group true --dev`\n    - [x] `/chatops run feature set group_member_inherited_group true --staging`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Specific rollout on production\n\n- Ensure that the feature MRs have been deployed to both production and canary.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- If you're using [project-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --project=gitlab-org/gitlab group_member_inherited_group true`\n    - [ ] `/chatops run feature set --project=gitlab-org/gitlab-foss group_member_inherited_group true`\n    - [ ] `/chatops run feature set --project=gitlab-com/www-gitlab-com group_member_inherited_group true`\n- If you're using [group-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --group=gitlab-org group_member_inherited_group true`\n    - [ ] `/chatops run feature set --group=gitlab-com group_member_inherited_group true`\n- If you're using [user-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --user=\u003cyour-username\u003e group_member_inherited_group true`\n- [ ] Verify that the feature works on the specific entries. Posting the QA result in this issue is preferable.\n\n### Preparation before global rollout\n\n- [x] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [x] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [x] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [x] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com. \n- [x] Ensure that any breaking changes have been announced following the [release post process](https://about.gitlab.com/handbook/marketing/blog/release-posts/#deprecations-removals-and-breaking-changes) to ensure GitLab customers are aware.\n- [ ] Notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nFor visibility, all `/chatops` commands that target production should be executed in the `#production` slack channel and cross-posted (with the command results) to the responsible team's slack channel (`#g_TEAM_NAME`).\n\n- [ ] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [x] `/chatops run feature set group_member_inherited_group \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [ ] `/chatops run feature set group_member_inherited_group \u003crollout-percentage\u003e --random`\n  - Enable the feature globally on production environment.\n    - [x] `/chatops run feature set group_member_inherited_group true`\n- [x] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [ ] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\nYou can either [create a follow-up issue for Feature Flag Cleanup](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) or use the checklist below in this same issue.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [x] Create a merge request to remove `group_member_inherited_group` feature flag. Ask for review and merge it.\n    - [x] Remove all references to the feature flag from the codebase.\n    - [x] Remove the YAML definitions for the feature from the repository.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [x] Ensure that the cleanup MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-cleanup-mr\u003e`\n- [x] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [x] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [x] `/chatops run feature delete group_member_inherited_group --dev`\n    - [x] `/chatops run feature delete group_member_inherited_group --staging`\n    - [x] `/chatops run feature delete group_member_inherited_group`\n- [x] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set group_member_inherited_group false\n```","state":"closed","created_at":"2022-03-30T09:42:53.991Z","updated_at":"2022-06-15T15:20:32.550Z","closed_at":"2022-06-15T15:20:32.529Z","closed_by":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"labels":["devops::manage","feature flag","feature::addition","frontend","group::organization","section::dev","type::feature"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"}],"author":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"type":"ISSUE","assignee":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"user_notes_count":16,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/357244","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":38,"completed_count":26},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"26 of 38 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/357244","notes":"https://gitlab.com/api/v4/projects/278964/issues/357244/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/357244/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#357244","relative":"#357244","full":"gitlab-org/gitlab#357244"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":105736751,"iid":357243,"project_id":278964,"title":"Move POST /-/jira_connect/subscriptions to API","description":"The Jira connection [subscription controller](https://gitlab.com/gitlab-org/gitlab/-/blob/315d88d9d74d9c533647466187369d173396e811/app/controllers/jira_connect/subscriptions_controller.rb#L38-46) supports JSON format for frontend requests. The controller does not support authentication via `Authorization` header like [described here](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/83500#note_886699903). To enable this, the endpoint should be moved the REST API. This will also improve consistency because the controller currently already serves as an API.","state":"closed","created_at":"2022-03-30T09:25:19.329Z","updated_at":"2022-11-22T18:55:30.026Z","closed_at":"2022-05-17T05:44:24.106Z","closed_by":{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"},"labels":["Deliverable","Integration::Jira","Jira::ConnectApp","backend","devops::manage","group::integrations","section::dev","type::feature","workflow::production"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":16943,"username":"Andysoiron","name":"Andy Soiron","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/16943/avatar.png","web_url":"https://gitlab.com/Andysoiron"}],"author":{"id":16943,"username":"Andysoiron","name":"Andy Soiron","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/16943/avatar.png","web_url":"https://gitlab.com/Andysoiron"},"type":"ISSUE","assignee":{"id":16943,"username":"Andysoiron","name":"Andy Soiron","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/16943/avatar.png","web_url":"https://gitlab.com/Andysoiron"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/357243","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/357243","notes":"https://gitlab.com/api/v4/projects/278964/issues/357243/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/357243/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#357243","relative":"#357243","full":"gitlab-org/gitlab#357243"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5650,"epic":{"id":230344,"iid":5650,"title":"Self-managed support extended to GitLab for Jira app","url":"/groups/gitlab-org/-/epics/5650","group_id":9970,"human_readable_end_date":"May 17, 2023","human_readable_timestamp":"\u003cstrong\u003e4\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":105726352,"iid":357230,"project_id":278964,"title":"15.0 Advanced Search: Remove old Advanced Search migrations","description":"For every major release, we deprecate old Advanced Search migrations. This is the issue for deprecating migrations in the next major release %\"15.0\".\n\nFollow the instructions for removing old Elasticsearch migrations.\n\nhttps://docs.gitlab.com/ee/development/elasticsearch.html#deleting-advanced-search-migrations-in-a-major-version-upgrade\n\n\n\n## Release Notes\nThis is a breaking change that enables easier Advanced Search migrations for upgrading GitLab.\n\nIndexes that have not finished migrations up to %\"14.9\"  will no longer be supported after GtiLab %15.0\n\nCustomers will need complete all Elasticsearch migrations before upgrading to the latest major version\nhttps://docs.gitlab.com/ee/development/elasticsearch.html#deleting-advanced-search-migrations-in-a-major-version-upgrade\n \n\n\n\n### 14.0 Old Migration removal Refrence\n\n- [Remove old Advanced Search migrations](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/63001)\n- [Remove old Advanced Search migrations [part 2]](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/63020) \n- [Remove old Advanced Search migrations [part 3]](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/63021)\n\n\n/cc @JohnMcGuire @changzhengliu","state":"closed","created_at":"2022-03-30T06:47:49.769Z","updated_at":"2022-05-30T15:58:39.133Z","closed_at":"2022-05-03T14:37:59.399Z","closed_by":{"id":4888751,"username":"changzhengliu","name":"Changzheng Liu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4888751/avatar.png","web_url":"https://gitlab.com/changzhengliu"},"labels":["Category:Global Search","auto updated","automation:ml","devops::data_stores","group::global search","needs weight","section::enablement","workflow::production"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":5054237,"username":"dgruzd","name":"Dmitry Gruzd","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5054237/avatar.png","web_url":"https://gitlab.com/dgruzd"}],"author":{"id":5054237,"username":"dgruzd","name":"Dmitry Gruzd","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5054237/avatar.png","web_url":"https://gitlab.com/dgruzd"},"type":"ISSUE","assignee":{"id":5054237,"username":"dgruzd","name":"Dmitry Gruzd","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5054237/avatar.png","web_url":"https://gitlab.com/dgruzd"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/357230","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/357230","notes":"https://gitlab.com/api/v4/projects/278964/issues/357230/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/357230/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#357230","relative":"#357230","full":"gitlab-org/gitlab#357230"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":105725243,"iid":357229,"project_id":278964,"title":"Return sorted labels in mutation responses.","description":"### Problem \n\n\u003e is it possible to return new labels list in mutation response sorted in alphabetical order? ... mutation returns a list of labels with the newest labels added in the end of the list, then subscription hits in and gets labels sorted alphabetically.\n\n\n### Solution\n\nOption 1. Reload the updated labels in the issuable update service.\n\nOption 2. Sort the labels in the issuable graphql types.","state":"closed","created_at":"2022-03-30T06:23:36.595Z","updated_at":"2022-04-26T19:14:18.447Z","closed_at":"2022-04-06T23:56:45.605Z","closed_by":{"id":5961404,"username":"euko","name":"Eulyeon Ko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5961404/avatar.png","web_url":"https://gitlab.com/euko"},"labels":["GraphQL","auto updated","backend","devops::plan","group::project management","section::dev","workflow::production"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":5961404,"username":"euko","name":"Eulyeon Ko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5961404/avatar.png","web_url":"https://gitlab.com/euko"}],"author":{"id":5961404,"username":"euko","name":"Eulyeon Ko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5961404/avatar.png","web_url":"https://gitlab.com/euko"},"type":"ISSUE","assignee":{"id":5961404,"username":"euko","name":"Eulyeon Ko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5961404/avatar.png","web_url":"https://gitlab.com/euko"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/357229","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/357229","notes":"https://gitlab.com/api/v4/projects/278964/issues/357229/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/357229/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#357229","relative":"#357229","full":"gitlab-org/gitlab#357229"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":105711208,"iid":357205,"project_id":278964,"title":"Optimize similar/duplicate queries in Environment Serializer","description":"## Description\n\nIn https://gitlab.com/gitlab-org/gitlab/-/issues/353209, we fixed all the N+1 queries in `EnvironmentSerializer`. While working on that, we noticed that there are many similar queries being run, which we could potentially remove to gain performance.\n\n\u003cdetails\u003e\u003csummary\u003eAll queries (taken from N+1 test)\u003c/summary\u003e\n\n```ruby\n\"SELECT COUNT(*) AS count_all, COALESCE(environment_type, name) AS coalesce_environment_type_name FROM \\\"environments\\\" WHERE \\\"environments\\\".\\\"project_id\\\" = 7 GROUP BY COALESCE(environment_type, name) LIMIT 10001 /*application:test,correlation_id:8514a4860b3fc18d5113ac2a1429f554,db_config_name:main*/\",\n  \"SELECT COALESCE(environment_type, name) AS folder, COUNT(*) AS size, MAX(id) AS last_id FROM \\\"environments\\\" WHERE \\\"environments\\\".\\\"project_id\\\" = 7 GROUP BY COALESCE(environment_type, name) ORDER BY folder ASC LIMIT 20 OFFSET 0 /*application:test,correlation_id:8514a4860b3fc18d5113ac2a1429f554,db_config_name:main*/\",\n  \"SELECT \\\"environments\\\".* FROM \\\"environments\\\" WHERE \\\"environments\\\".\\\"project_id\\\" = 7 AND \\\"environments\\\".\\\"id\\\" IN (19, 20, 21) /*application:test,correlation_id:8514a4860b3fc18d5113ac2a1429f554,db_config_name:main*/\",\n  \"SELECT \\\"projects\\\".\\\"id\\\", \\\"projects\\\".\\\"name\\\", \\\"projects\\\".\\\"path\\\", \\\"projects\\\".\\\"description\\\", \\\"projects\\\".\\\"created_at\\\", \\\"projects\\\".\\\"updated_at\\\", \\\"projects\\\".\\\"creator_id\\\", \\\"projects\\\".\\\"namespace_id\\\", \\\"projects\\\".\\\"last_activity_at\\\", \\\"projects\\\".\\\"import_url\\\", \\\"projects\\\".\\\"visibility_level\\\", \\\"projects\\\".\\\"archived\\\", \\\"projects\\\".\\\"avatar\\\", \\\"projects\\\".\\\"merge_requests_template\\\", \\\"projects\\\".\\\"star_count\\\", \\\"projects\\\".\\\"merge_requests_rebase_enabled\\\", \\\"projects\\\".\\\"import_type\\\", \\\"projects\\\".\\\"import_source\\\", \\\"projects\\\".\\\"approvals_before_merge\\\", \\\"projects\\\".\\\"reset_approvals_on_push\\\", \\\"projects\\\".\\\"merge_requests_ff_only_enabled\\\", \\\"projects\\\".\\\"issues_template\\\", \\\"projects\\\".\\\"mirror\\\", \\\"projects\\\".\\\"mirror_user_id\\\", \\\"projects\\\".\\\"shared_runners_enabled\\\", \\\"projects\\\".\\\"runners_token\\\", \\\"projects\\\".\\\"build_coverage_regex\\\", \\\"projects\\\".\\\"build_allow_git_fetch\\\", \\\"projects\\\".\\\"build_timeout\\\", \\\"projects\\\".\\\"mirror_trigger_builds\\\", \\\"projects\\\".\\\"pending_delete\\\", \\\"projects\\\".\\\"public_builds\\\", \\\"projects\\\".\\\"last_repository_check_failed\\\", \\\"projects\\\".\\\"last_repository_check_at\\\", \\\"projects\\\".\\\"only_allow_merge_if_pipeline_succeeds\\\", \\\"projects\\\".\\\"has_external_issue_tracker\\\", \\\"projects\\\".\\\"repository_storage\\\", \\\"projects\\\".\\\"repository_read_only\\\", \\\"projects\\\".\\\"request_access_enabled\\\", \\\"projects\\\".\\\"has_external_wiki\\\", \\\"projects\\\".\\\"ci_config_path\\\", \\\"projects\\\".\\\"lfs_enabled\\\", \\\"projects\\\".\\\"description_html\\\", \\\"projects\\\".\\\"only_allow_merge_if_all_discussions_are_resolved\\\", \\\"projects\\\".\\\"repository_size_limit\\\", \\\"projects\\\".\\\"printing_merge_request_link_enabled\\\", \\\"projects\\\".\\\"auto_cancel_pending_pipelines\\\", \\\"projects\\\".\\\"service_desk_enabled\\\", \\\"projects\\\".\\\"cached_markdown_version\\\", \\\"projects\\\".\\\"delete_error\\\", \\\"projects\\\".\\\"last_repository_updated_at\\\", \\\"projects\\\".\\\"disable_overriding_approvers_per_merge_request\\\", \\\"projects\\\".\\\"storage_version\\\", \\\"projects\\\".\\\"resolve_outdated_diff_discussions\\\", \\\"projects\\\".\\\"remote_mirror_available_overridden\\\", \\\"projects\\\".\\\"only_mirror_protected_branches\\\", \\\"projects\\\".\\\"pull_mirror_available_overridden\\\", \\\"projects\\\".\\\"jobs_cache_index\\\", \\\"projects\\\".\\\"external_authorization_classification_label\\\", \\\"projects\\\".\\\"mirror_overwrites_diverged_branches\\\", \\\"projects\\\".\\\"pages_https_only\\\", \\\"projects\\\".\\\"external_webhook_token\\\", \\\"projects\\\".\\\"packages_enabled\\\", \\\"projects\\\".\\\"merge_requests_author_approval\\\", \\\"projects\\\".\\\"pool_repository_id\\\", \\\"projects\\\".\\\"runners_token_encrypted\\\", \\\"projects\\\".\\\"bfg_object_map\\\", \\\"projects\\\".\\\"detected_repository_languages\\\", \\\"projects\\\".\\\"merge_requests_disable_committers_approval\\\", \\\"projects\\\".\\\"require_password_to_approve\\\", \\\"projects\\\".\\\"emails_disabled\\\", \\\"projects\\\".\\\"max_pages_size\\\", \\\"projects\\\".\\\"max_artifacts_size\\\", \\\"projects\\\".\\\"remove_source_branch_after_merge\\\", \\\"projects\\\".\\\"marked_for_deletion_at\\\", \\\"projects\\\".\\\"marked_for_deletion_by_user_id\\\", \\\"projects\\\".\\\"autoclose_referenced_issues\\\", \\\"projects\\\".\\\"suggestion_commit_message\\\", \\\"projects\\\".\\\"project_namespace_id\\\", \\\"projects\\\".\\\"hidden\\\" FROM \\\"projects\\\" WHERE \\\"projects\\\".\\\"id\\\" = 7 /*application:test,correlation_id:8514a4860b3fc18d5113ac2a1429f554,db_config_name:main*/\",\n  \"SELECT \\\"project_features\\\".* FROM \\\"project_features\\\" WHERE \\\"project_features\\\".\\\"project_id\\\" = 7 /*application:test,correlation_id:8514a4860b3fc18d5113ac2a1429f554,db_config_name:main*/\",\n  \"SELECT \\\"routes\\\".* FROM \\\"routes\\\" WHERE \\\"routes\\\".\\\"source_type\\\" = 'Project' AND \\\"routes\\\".\\\"source_id\\\" = 7 /*application:test,correlation_id:8514a4860b3fc18d5113ac2a1429f554,db_config_name:main*/\",\n  \"SELECT \\\"namespaces\\\".\\\"id\\\", \\\"namespaces\\\".\\\"name\\\", \\\"namespaces\\\".\\\"path\\\", \\\"namespaces\\\".\\\"owner_id\\\", \\\"namespaces\\\".\\\"created_at\\\", \\\"namespaces\\\".\\\"updated_at\\\", \\\"namespaces\\\".\\\"type\\\", \\\"namespaces\\\".\\\"description\\\", \\\"namespaces\\\".\\\"avatar\\\", \\\"namespaces\\\".\\\"membership_lock\\\", \\\"namespaces\\\".\\\"share_with_group_lock\\\", \\\"namespaces\\\".\\\"visibility_level\\\", \\\"namespaces\\\".\\\"request_access_enabled\\\", \\\"namespaces\\\".\\\"ldap_sync_status\\\", \\\"namespaces\\\".\\\"ldap_sync_error\\\", \\\"namespaces\\\".\\\"ldap_sync_last_update_at\\\", \\\"namespaces\\\".\\\"ldap_sync_last_successful_update_at\\\", \\\"namespaces\\\".\\\"ldap_sync_last_sync_at\\\", \\\"namespaces\\\".\\\"description_html\\\", \\\"namespaces\\\".\\\"lfs_enabled\\\", \\\"namespaces\\\".\\\"parent_id\\\", \\\"namespaces\\\".\\\"shared_runners_minutes_limit\\\", \\\"namespaces\\\".\\\"repository_size_limit\\\", \\\"namespaces\\\".\\\"require_two_factor_authentication\\\", \\\"namespaces\\\".\\\"two_factor_grace_period\\\", \\\"namespaces\\\".\\\"cached_markdown_version\\\", \\\"namespaces\\\".\\\"project_creation_level\\\", \\\"namespaces\\\".\\\"runners_token\\\", \\\"namespaces\\\".\\\"file_template_project_id\\\", \\\"namespaces\\\".\\\"saml_discovery_token\\\", \\\"namespaces\\\".\\\"runners_token_encrypted\\\", \\\"namespaces\\\".\\\"custom_project_templates_group_id\\\", \\\"namespaces\\\".\\\"auto_devops_enabled\\\", \\\"namespaces\\\".\\\"extra_shared_runners_minutes_limit\\\", \\\"namespaces\\\".\\\"last_ci_minutes_notification_at\\\", \\\"namespaces\\\".\\\"last_ci_minutes_usage_notification_level\\\", \\\"namespaces\\\".\\\"subgroup_creation_level\\\", \\\"namespaces\\\".\\\"emails_disabled\\\", \\\"namespaces\\\".\\\"max_pages_size\\\", \\\"namespaces\\\".\\\"max_artifacts_size\\\", \\\"namespaces\\\".\\\"mentions_disabled\\\", \\\"namespaces\\\".\\\"default_branch_protection\\\", \\\"namespaces\\\".\\\"unlock_membership_to_ldap\\\", \\\"namespaces\\\".\\\"max_personal_access_token_lifetime\\\", \\\"namespaces\\\".\\\"push_rule_id\\\", \\\"namespaces\\\".\\\"shared_runners_enabled\\\", \\\"namespaces\\\".\\\"allow_descendants_override_disabled_shared_runners\\\", \\\"namespaces\\\".\\\"traversal_ids\\\" FROM \\\"namespaces\\\" WHERE \\\"namespaces\\\".\\\"id\\\" = 56 /*application:test,correlation_id:8514a4860b3fc18d5113ac2a1429f554,db_config_name:main*/\",\n  \"SELECT \\\"routes\\\".* FROM \\\"routes\\\" WHERE \\\"routes\\\".\\\"source_type\\\" = 'Namespace' AND \\\"routes\\\".\\\"source_id\\\" = 56 /*application:test,correlation_id:8514a4860b3fc18d5113ac2a1429f554,db_config_name:main*/\",\n  \"SELECT \\\"protected_environments\\\".* FROM \\\"protected_environments\\\" WHERE \\\"protected_environments\\\".\\\"project_id\\\" = 7 /*application:test,correlation_id:8514a4860b3fc18d5113ac2a1429f554,db_config_name:main*/\",\n  \"SELECT \\\"alert_management_alerts\\\".* FROM \\\"alert_management_alerts\\\" WHERE (\\\"alert_management_alerts\\\".\\\"status\\\" IN (0,1)) AND \\\"alert_management_alerts\\\".\\\"environment_id\\\" IN (19, 20, 21) ORDER BY \\\"alert_management_alerts\\\".\\\"severity\\\" ASC, \\\"alert_management_alerts\\\".\\\"started_at\\\" DESC /*application:test,correlation_id:8514a4860b3fc18d5113ac2a1429f554,db_config_name:main*/\",\n  \"SELECT \\\"prometheus_alerts\\\".* FROM \\\"prometheus_alerts\\\" WHERE \\\"prometheus_alerts\\\".\\\"id\\\" IN (21, 20, 19) /*application:test,correlation_id:8514a4860b3fc18d5113ac2a1429f554,db_config_name:main*/\",\n  \"SELECT \\\"deployments\\\".* FROM ((SELECT DISTINCT ON (environment_id) deployments.* FROM \\\"deployments\\\" WHERE \\\"deployments\\\".\\\"environment_id\\\" = 19 AND \\\"deployments\\\".\\\"status\\\" = 2 ORDER BY environment_id, deployments.id DESC LIMIT 1) UNION (SELECT DISTINCT ON (environment_id) deployments.* FROM \\\"deployments\\\" WHERE \\\"deployments\\\".\\\"environment_id\\\" = 20 AND \\\"deployments\\\".\\\"status\\\" = 2 ORDER BY environment_id, deployments.id DESC LIMIT 1) UNION (SELECT DISTINCT ON (environment_id) deployments.* FROM \\\"deployments\\\" WHERE \\\"deployments\\\".\\\"environment_id\\\" = 21 AND \\\"deployments\\\".\\\"status\\\" = 2 ORDER BY environment_id, deployments.id DESC LIMIT 1)) deployments /*application:test,correlation_id:8514a4860b3fc18d5113ac2a1429f554,db_config_name:main*/\",\n  \"SELECT \\\"users\\\".* FROM \\\"users\\\" WHERE \\\"users\\\".\\\"id\\\" = 50 /*application:test,correlation_id:8514a4860b3fc18d5113ac2a1429f554,db_config_name:main*/\",\n  \"SELECT \\\"projects\\\".\\\"id\\\", \\\"projects\\\".\\\"name\\\", \\\"projects\\\".\\\"path\\\", \\\"projects\\\".\\\"description\\\", \\\"projects\\\".\\\"created_at\\\", \\\"projects\\\".\\\"updated_at\\\", \\\"projects\\\".\\\"creator_id\\\", \\\"projects\\\".\\\"namespace_id\\\", \\\"projects\\\".\\\"last_activity_at\\\", \\\"projects\\\".\\\"import_url\\\", \\\"projects\\\".\\\"visibility_level\\\", \\\"projects\\\".\\\"archived\\\", \\\"projects\\\".\\\"avatar\\\", \\\"projects\\\".\\\"merge_requests_template\\\", \\\"projects\\\".\\\"star_count\\\", \\\"projects\\\".\\\"merge_requests_rebase_enabled\\\", \\\"projects\\\".\\\"import_type\\\", \\\"projects\\\".\\\"import_source\\\", \\\"projects\\\".\\\"approvals_before_merge\\\", \\\"projects\\\".\\\"reset_approvals_on_push\\\", \\\"projects\\\".\\\"merge_requests_ff_only_enabled\\\", \\\"projects\\\".\\\"issues_template\\\", \\\"projects\\\".\\\"mirror\\\", \\\"projects\\\".\\\"mirror_user_id\\\", \\\"projects\\\".\\\"shared_runners_enabled\\\", \\\"projects\\\".\\\"runners_token\\\", \\\"projects\\\".\\\"build_coverage_regex\\\", \\\"projects\\\".\\\"build_allow_git_fetch\\\", \\\"projects\\\".\\\"build_timeout\\\", \\\"projects\\\".\\\"mirror_trigger_builds\\\", \\\"projects\\\".\\\"pending_delete\\\", \\\"projects\\\".\\\"public_builds\\\", \\\"projects\\\".\\\"last_repository_check_failed\\\", \\\"projects\\\".\\\"last_repository_check_at\\\", \\\"projects\\\".\\\"only_allow_merge_if_pipeline_succeeds\\\", \\\"projects\\\".\\\"has_external_issue_tracker\\\", \\\"projects\\\".\\\"repository_storage\\\", \\\"projects\\\".\\\"repository_read_only\\\", \\\"projects\\\".\\\"request_access_enabled\\\", \\\"projects\\\".\\\"has_external_wiki\\\", \\\"projects\\\".\\\"ci_config_path\\\", \\\"projects\\\".\\\"lfs_enabled\\\", \\\"projects\\\".\\\"description_html\\\", \\\"projects\\\".\\\"only_allow_merge_if_all_discussions_are_resolved\\\", \\\"projects\\\".\\\"repository_size_limit\\\", \\\"projects\\\".\\\"printing_merge_request_link_enabled\\\", \\\"projects\\\".\\\"auto_cancel_pending_pipelines\\\", \\\"projects\\\".\\\"service_desk_enabled\\\", \\\"projects\\\".\\\"cached_markdown_version\\\", \\\"projects\\\".\\\"delete_error\\\", \\\"projects\\\".\\\"last_repository_updated_at\\\", \\\"projects\\\".\\\"disable_overriding_approvers_per_merge_request\\\", \\\"projects\\\".\\\"storage_version\\\", \\\"projects\\\".\\\"resolve_outdated_diff_discussions\\\", \\\"projects\\\".\\\"remote_mirror_available_overridden\\\", \\\"projects\\\".\\\"only_mirror_protected_branches\\\", \\\"projects\\\".\\\"pull_mirror_available_overridden\\\", \\\"projects\\\".\\\"jobs_cache_index\\\", \\\"projects\\\".\\\"external_authorization_classification_label\\\", \\\"projects\\\".\\\"mirror_overwrites_diverged_branches\\\", \\\"projects\\\".\\\"pages_https_only\\\", \\\"projects\\\".\\\"external_webhook_token\\\", \\\"projects\\\".\\\"packages_enabled\\\", \\\"projects\\\".\\\"merge_requests_author_approval\\\", \\\"projects\\\".\\\"pool_repository_id\\\", \\\"projects\\\".\\\"runners_token_encrypted\\\", \\\"projects\\\".\\\"bfg_object_map\\\", \\\"projects\\\".\\\"detected_repository_languages\\\", \\\"projects\\\".\\\"merge_requests_disable_committers_approval\\\", \\\"projects\\\".\\\"require_password_to_approve\\\", \\\"projects\\\".\\\"emails_disabled\\\", \\\"projects\\\".\\\"max_pages_size\\\", \\\"projects\\\".\\\"max_artifacts_size\\\", \\\"projects\\\".\\\"remove_source_branch_after_merge\\\", \\\"projects\\\".\\\"marked_for_deletion_at\\\", \\\"projects\\\".\\\"marked_for_deletion_by_user_id\\\", \\\"projects\\\".\\\"autoclose_referenced_issues\\\", \\\"projects\\\".\\\"suggestion_commit_message\\\", \\\"projects\\\".\\\"project_namespace_id\\\", \\\"projects\\\".\\\"hidden\\\" FROM \\\"projects\\\" WHERE \\\"projects\\\".\\\"id\\\" = 7 /*application:test,correlation_id:8514a4860b3fc18d5113ac2a1429f554,db_config_name:main*/\",\n  \"SELECT \\\"ci_builds\\\".* FROM \\\"ci_builds\\\" WHERE \\\"ci_builds\\\".\\\"id\\\" IN (37, 39, 41) /*application:test,correlation_id:8514a4860b3fc18d5113ac2a1429f554,db_config_name:ci*/\",\n  \"SELECT \\\"ci_builds_metadata\\\".\\\"project_id\\\", \\\"ci_builds_metadata\\\".\\\"timeout\\\", \\\"ci_builds_metadata\\\".\\\"timeout_source\\\", \\\"ci_builds_metadata\\\".\\\"interruptible\\\", \\\"ci_builds_metadata\\\".\\\"config_options\\\", \\\"ci_builds_metadata\\\".\\\"config_variables\\\", \\\"ci_builds_metadata\\\".\\\"has_exposed_artifacts\\\", \\\"ci_builds_metadata\\\".\\\"environment_auto_stop_in\\\", \\\"ci_builds_metadata\\\".\\\"expanded_environment_name\\\", \\\"ci_builds_metadata\\\".\\\"secrets\\\", \\\"ci_builds_metadata\\\".\\\"build_id\\\", \\\"ci_builds_metadata\\\".\\\"id\\\", \\\"ci_builds_metadata\\\".\\\"runtime_runner_features\\\" FROM \\\"ci_builds_metadata\\\" WHERE \\\"ci_builds_metadata\\\".\\\"build_id\\\" IN (37, 39, 41) /*application:test,correlation_id:8514a4860b3fc18d5113ac2a1429f554,db_config_name:ci*/\",\n  \"SELECT \\\"ci_pipelines\\\".* FROM \\\"ci_pipelines\\\" WHERE \\\"ci_pipelines\\\".\\\"id\\\" IN (37, 39, 41) /*application:test,correlation_id:8514a4860b3fc18d5113ac2a1429f554,db_config_name:ci*/\",\n  \"SELECT \\\"ci_builds\\\".* FROM \\\"ci_builds\\\" WHERE \\\"ci_builds\\\".\\\"type\\\" = 'Ci::Build' AND (\\\"ci_builds\\\".\\\"retried\\\" = FALSE OR \\\"ci_builds\\\".\\\"retried\\\" IS NULL) AND \\\"ci_builds\\\".\\\"when\\\" = 'manual' AND \\\"ci_builds\\\".\\\"status\\\" IN ('success', 'failed', 'canceled', 'skipped', 'manual') AND \\\"ci_builds\\\".\\\"commit_id\\\" IN (37, 39, 41) /*application:test,correlation_id:8514a4860b3fc18d5113ac2a1429f554,db_config_name:ci*/\",\n  \"SELECT \\\"ci_builds\\\".* FROM \\\"ci_builds\\\" WHERE \\\"ci_builds\\\".\\\"type\\\" = 'Ci::Build' AND (\\\"ci_builds\\\".\\\"retried\\\" = FALSE OR \\\"ci_builds\\\".\\\"retried\\\" IS NULL) AND \\\"ci_builds\\\".\\\"when\\\" = 'delayed' AND \\\"ci_builds\\\".\\\"status\\\" IN ('success', 'failed', 'canceled', 'skipped', 'scheduled') AND \\\"ci_builds\\\".\\\"commit_id\\\" IN (37, 39, 41) /*application:test,correlation_id:8514a4860b3fc18d5113ac2a1429f554,db_config_name:ci*/\",\n  \"SELECT \\\"projects\\\".\\\"id\\\", \\\"projects\\\".\\\"name\\\", \\\"projects\\\".\\\"path\\\", \\\"projects\\\".\\\"description\\\", \\\"projects\\\".\\\"created_at\\\", \\\"projects\\\".\\\"updated_at\\\", \\\"projects\\\".\\\"creator_id\\\", \\\"projects\\\".\\\"namespace_id\\\", \\\"projects\\\".\\\"last_activity_at\\\", \\\"projects\\\".\\\"import_url\\\", \\\"projects\\\".\\\"visibility_level\\\", \\\"projects\\\".\\\"archived\\\", \\\"projects\\\".\\\"avatar\\\", \\\"projects\\\".\\\"merge_requests_template\\\", \\\"projects\\\".\\\"star_count\\\", \\\"projects\\\".\\\"merge_requests_rebase_enabled\\\", \\\"projects\\\".\\\"import_type\\\", \\\"projects\\\".\\\"import_source\\\", \\\"projects\\\".\\\"approvals_before_merge\\\", \\\"projects\\\".\\\"reset_approvals_on_push\\\", \\\"projects\\\".\\\"merge_requests_ff_only_enabled\\\", \\\"projects\\\".\\\"issues_template\\\", \\\"projects\\\".\\\"mirror\\\", \\\"projects\\\".\\\"mirror_user_id\\\", \\\"projects\\\".\\\"shared_runners_enabled\\\", \\\"projects\\\".\\\"runners_token\\\", \\\"projects\\\".\\\"build_coverage_regex\\\", \\\"projects\\\".\\\"build_allow_git_fetch\\\", \\\"projects\\\".\\\"build_timeout\\\", \\\"projects\\\".\\\"mirror_trigger_builds\\\", \\\"projects\\\".\\\"pending_delete\\\", \\\"projects\\\".\\\"public_builds\\\", \\\"projects\\\".\\\"last_repository_check_failed\\\", \\\"projects\\\".\\\"last_repository_check_at\\\", \\\"projects\\\".\\\"only_allow_merge_if_pipeline_succeeds\\\", \\\"projects\\\".\\\"has_external_issue_tracker\\\", \\\"projects\\\".\\\"repository_storage\\\", \\\"projects\\\".\\\"repository_read_only\\\", \\\"projects\\\".\\\"request_access_enabled\\\", \\\"projects\\\".\\\"has_external_wiki\\\", \\\"projects\\\".\\\"ci_config_path\\\", \\\"projects\\\".\\\"lfs_enabled\\\", \\\"projects\\\".\\\"description_html\\\", \\\"projects\\\".\\\"only_allow_merge_if_all_discussions_are_resolved\\\", \\\"projects\\\".\\\"repository_size_limit\\\", \\\"projects\\\".\\\"printing_merge_request_link_enabled\\\", \\\"projects\\\".\\\"auto_cancel_pending_pipelines\\\", \\\"projects\\\".\\\"service_desk_enabled\\\", \\\"projects\\\".\\\"cached_markdown_version\\\", \\\"projects\\\".\\\"delete_error\\\", \\\"projects\\\".\\\"last_repository_updated_at\\\", \\\"projects\\\".\\\"disable_overriding_approvers_per_merge_request\\\", \\\"projects\\\".\\\"storage_version\\\", \\\"projects\\\".\\\"resolve_outdated_diff_discussions\\\", \\\"projects\\\".\\\"remote_mirror_available_overridden\\\", \\\"projects\\\".\\\"only_mirror_protected_branches\\\", \\\"projects\\\".\\\"pull_mirror_available_overridden\\\", \\\"projects\\\".\\\"jobs_cache_index\\\", \\\"projects\\\".\\\"external_authorization_classification_label\\\", \\\"projects\\\".\\\"mirror_overwrites_diverged_branches\\\", \\\"projects\\\".\\\"pages_https_only\\\", \\\"projects\\\".\\\"external_webhook_token\\\", \\\"projects\\\".\\\"packages_enabled\\\", \\\"projects\\\".\\\"merge_requests_author_approval\\\", \\\"projects\\\".\\\"pool_repository_id\\\", \\\"projects\\\".\\\"runners_token_encrypted\\\", \\\"projects\\\".\\\"bfg_object_map\\\", \\\"projects\\\".\\\"detected_repository_languages\\\", \\\"projects\\\".\\\"merge_requests_disable_committers_approval\\\", \\\"projects\\\".\\\"require_password_to_approve\\\", \\\"projects\\\".\\\"emails_disabled\\\", \\\"projects\\\".\\\"max_pages_size\\\", \\\"projects\\\".\\\"max_artifacts_size\\\", \\\"projects\\\".\\\"remove_source_branch_after_merge\\\", \\\"projects\\\".\\\"marked_for_deletion_at\\\", \\\"projects\\\".\\\"marked_for_deletion_by_user_id\\\", \\\"projects\\\".\\\"autoclose_referenced_issues\\\", \\\"projects\\\".\\\"suggestion_commit_message\\\", \\\"projects\\\".\\\"project_namespace_id\\\", \\\"projects\\\".\\\"hidden\\\" FROM \\\"projects\\\" WHERE \\\"projects\\\".\\\"id\\\" = 7 /*application:test,correlation_id:8514a4860b3fc18d5113ac2a1429f554,db_config_name:main*/\",\n  \"SELECT \\\"project_features\\\".* FROM \\\"project_features\\\" WHERE \\\"project_features\\\".\\\"project_id\\\" = 7 /*application:test,correlation_id:8514a4860b3fc18d5113ac2a1429f554,db_config_name:main*/\",\n  \"SELECT \\\"routes\\\".* FROM \\\"routes\\\" WHERE \\\"routes\\\".\\\"source_type\\\" = 'Project' AND \\\"routes\\\".\\\"source_id\\\" = 7 /*application:test,correlation_id:8514a4860b3fc18d5113ac2a1429f554,db_config_name:main*/\",\n  \"SELECT \\\"namespaces\\\".\\\"id\\\", \\\"namespaces\\\".\\\"name\\\", \\\"namespaces\\\".\\\"path\\\", \\\"namespaces\\\".\\\"owner_id\\\", \\\"namespaces\\\".\\\"created_at\\\", \\\"namespaces\\\".\\\"updated_at\\\", \\\"namespaces\\\".\\\"type\\\", \\\"namespaces\\\".\\\"description\\\", \\\"namespaces\\\".\\\"avatar\\\", \\\"namespaces\\\".\\\"membership_lock\\\", \\\"namespaces\\\".\\\"share_with_group_lock\\\", \\\"namespaces\\\".\\\"visibility_level\\\", \\\"namespaces\\\".\\\"request_access_enabled\\\", \\\"namespaces\\\".\\\"ldap_sync_status\\\", \\\"namespaces\\\".\\\"ldap_sync_error\\\", \\\"namespaces\\\".\\\"ldap_sync_last_update_at\\\", \\\"namespaces\\\".\\\"ldap_sync_last_successful_update_at\\\", \\\"namespaces\\\".\\\"ldap_sync_last_sync_at\\\", \\\"namespaces\\\".\\\"description_html\\\", \\\"namespaces\\\".\\\"lfs_enabled\\\", \\\"namespaces\\\".\\\"parent_id\\\", \\\"namespaces\\\".\\\"shared_runners_minutes_limit\\\", \\\"namespaces\\\".\\\"repository_size_limit\\\", \\\"namespaces\\\".\\\"require_two_factor_authentication\\\", \\\"namespaces\\\".\\\"two_factor_grace_period\\\", \\\"namespaces\\\".\\\"cached_markdown_version\\\", \\\"namespaces\\\".\\\"project_creation_level\\\", \\\"namespaces\\\".\\\"runners_token\\\", \\\"namespaces\\\".\\\"file_template_project_id\\\", \\\"namespaces\\\".\\\"saml_discovery_token\\\", \\\"namespaces\\\".\\\"runners_token_encrypted\\\", \\\"namespaces\\\".\\\"custom_project_templates_group_id\\\", \\\"namespaces\\\".\\\"auto_devops_enabled\\\", \\\"namespaces\\\".\\\"extra_shared_runners_minutes_limit\\\", \\\"namespaces\\\".\\\"last_ci_minutes_notification_at\\\", \\\"namespaces\\\".\\\"last_ci_minutes_usage_notification_level\\\", \\\"namespaces\\\".\\\"subgroup_creation_level\\\", \\\"namespaces\\\".\\\"emails_disabled\\\", \\\"namespaces\\\".\\\"max_pages_size\\\", \\\"namespaces\\\".\\\"max_artifacts_size\\\", \\\"namespaces\\\".\\\"mentions_disabled\\\", \\\"namespaces\\\".\\\"default_branch_protection\\\", \\\"namespaces\\\".\\\"unlock_membership_to_ldap\\\", \\\"namespaces\\\".\\\"max_personal_access_token_lifetime\\\", \\\"namespaces\\\".\\\"push_rule_id\\\", \\\"namespaces\\\".\\\"shared_runners_enabled\\\", \\\"namespaces\\\".\\\"allow_descendants_override_disabled_shared_runners\\\", \\\"namespaces\\\".\\\"traversal_ids\\\" FROM \\\"namespaces\\\" WHERE \\\"namespaces\\\".\\\"id\\\" = 56 /*application:test,correlation_id:8514a4860b3fc18d5113ac2a1429f554,db_config_name:main*/\",\n  \"SELECT \\\"routes\\\".* FROM \\\"routes\\\" WHERE \\\"routes\\\".\\\"source_type\\\" = 'Namespace' AND \\\"routes\\\".\\\"source_id\\\" = 56 /*application:test,correlation_id:8514a4860b3fc18d5113ac2a1429f554,db_config_name:main*/\",\n  \"SELECT \\\"protected_environments\\\".* FROM \\\"protected_environments\\\" WHERE \\\"protected_environments\\\".\\\"project_id\\\" = 7 /*application:test,correlation_id:8514a4860b3fc18d5113ac2a1429f554,db_config_name:main*/\",\n  \"SELECT \\\"deployment_approvals\\\".* FROM \\\"deployment_approvals\\\" WHERE \\\"deployment_approvals\\\".\\\"deployment_id\\\" IN (37, 39, 41) /*application:test,correlation_id:8514a4860b3fc18d5113ac2a1429f554,db_config_name:main*/\",\n  \"SELECT \\\"deployments\\\".* FROM ((SELECT DISTINCT ON (environment_id) deployments.* FROM \\\"deployments\\\" WHERE \\\"deployments\\\".\\\"environment_id\\\" = 19 AND \\\"deployments\\\".\\\"status\\\" IN (6, 1) ORDER BY environment_id, deployments.id DESC LIMIT 1) UNION (SELECT DISTINCT ON (environment_id) deployments.* FROM \\\"deployments\\\" WHERE \\\"deployments\\\".\\\"environment_id\\\" = 20 AND \\\"deployments\\\".\\\"status\\\" IN (6, 1) ORDER BY environment_id, deployments.id DESC LIMIT 1) UNION (SELECT DISTINCT ON (environment_id) deployments.* FROM \\\"deployments\\\" WHERE \\\"deployments\\\".\\\"environment_id\\\" = 21 AND \\\"deployments\\\".\\\"status\\\" IN (6, 1) ORDER BY environment_id, deployments.id DESC LIMIT 1)) deployments /*application:test,correlation_id:8514a4860b3fc18d5113ac2a1429f554,db_config_name:main*/\",\n  \"SELECT \\\"users\\\".* FROM \\\"users\\\" WHERE \\\"users\\\".\\\"id\\\" = 50 /*application:test,correlation_id:8514a4860b3fc18d5113ac2a1429f554,db_config_name:main*/\",\n  \"SELECT \\\"projects\\\".\\\"id\\\", \\\"projects\\\".\\\"name\\\", \\\"projects\\\".\\\"path\\\", \\\"projects\\\".\\\"description\\\", \\\"projects\\\".\\\"created_at\\\", \\\"projects\\\".\\\"updated_at\\\", \\\"projects\\\".\\\"creator_id\\\", \\\"projects\\\".\\\"namespace_id\\\", \\\"projects\\\".\\\"last_activity_at\\\", \\\"projects\\\".\\\"import_url\\\", \\\"projects\\\".\\\"visibility_level\\\", \\\"projects\\\".\\\"archived\\\", \\\"projects\\\".\\\"avatar\\\", \\\"projects\\\".\\\"merge_requests_template\\\", \\\"projects\\\".\\\"star_count\\\", \\\"projects\\\".\\\"merge_requests_rebase_enabled\\\", \\\"projects\\\".\\\"import_type\\\", \\\"projects\\\".\\\"import_source\\\", \\\"projects\\\".\\\"approvals_before_merge\\\", \\\"projects\\\".\\\"reset_approvals_on_push\\\", \\\"projects\\\".\\\"merge_requests_ff_only_enabled\\\", \\\"projects\\\".\\\"issues_template\\\", \\\"projects\\\".\\\"mirror\\\", \\\"projects\\\".\\\"mirror_user_id\\\", \\\"projects\\\".\\\"shared_runners_enabled\\\", \\\"projects\\\".\\\"runners_token\\\", \\\"projects\\\".\\\"build_coverage_regex\\\", \\\"projects\\\".\\\"build_allow_git_fetch\\\", \\\"projects\\\".\\\"build_timeout\\\", \\\"projects\\\".\\\"mirror_trigger_builds\\\", \\\"projects\\\".\\\"pending_delete\\\", \\\"projects\\\".\\\"public_builds\\\", \\\"projects\\\".\\\"last_repository_check_failed\\\", \\\"projects\\\".\\\"last_repository_check_at\\\", \\\"projects\\\".\\\"only_allow_merge_if_pipeline_succeeds\\\", \\\"projects\\\".\\\"has_external_issue_tracker\\\", \\\"projects\\\".\\\"repository_storage\\\", \\\"projects\\\".\\\"repository_read_only\\\", \\\"projects\\\".\\\"request_access_enabled\\\", \\\"projects\\\".\\\"has_external_wiki\\\", \\\"projects\\\".\\\"ci_config_path\\\", \\\"projects\\\".\\\"lfs_enabled\\\", \\\"projects\\\".\\\"description_html\\\", \\\"projects\\\".\\\"only_allow_merge_if_all_discussions_are_resolved\\\", \\\"projects\\\".\\\"repository_size_limit\\\", \\\"projects\\\".\\\"printing_merge_request_link_enabled\\\", \\\"projects\\\".\\\"auto_cancel_pending_pipelines\\\", \\\"projects\\\".\\\"service_desk_enabled\\\", \\\"projects\\\".\\\"cached_markdown_version\\\", \\\"projects\\\".\\\"delete_error\\\", \\\"projects\\\".\\\"last_repository_updated_at\\\", \\\"projects\\\".\\\"disable_overriding_approvers_per_merge_request\\\", \\\"projects\\\".\\\"storage_version\\\", \\\"projects\\\".\\\"resolve_outdated_diff_discussions\\\", \\\"projects\\\".\\\"remote_mirror_available_overridden\\\", \\\"projects\\\".\\\"only_mirror_protected_branches\\\", \\\"projects\\\".\\\"pull_mirror_available_overridden\\\", \\\"projects\\\".\\\"jobs_cache_index\\\", \\\"projects\\\".\\\"external_authorization_classification_label\\\", \\\"projects\\\".\\\"mirror_overwrites_diverged_branches\\\", \\\"projects\\\".\\\"pages_https_only\\\", \\\"projects\\\".\\\"external_webhook_token\\\", \\\"projects\\\".\\\"packages_enabled\\\", \\\"projects\\\".\\\"merge_requests_author_approval\\\", \\\"projects\\\".\\\"pool_repository_id\\\", \\\"projects\\\".\\\"runners_token_encrypted\\\", \\\"projects\\\".\\\"bfg_object_map\\\", \\\"projects\\\".\\\"detected_repository_languages\\\", \\\"projects\\\".\\\"merge_requests_disable_committers_approval\\\", \\\"projects\\\".\\\"require_password_to_approve\\\", \\\"projects\\\".\\\"emails_disabled\\\", \\\"projects\\\".\\\"max_pages_size\\\", \\\"projects\\\".\\\"max_artifacts_size\\\", \\\"projects\\\".\\\"remove_source_branch_after_merge\\\", \\\"projects\\\".\\\"marked_for_deletion_at\\\", \\\"projects\\\".\\\"marked_for_deletion_by_user_id\\\", \\\"projects\\\".\\\"autoclose_referenced_issues\\\", \\\"projects\\\".\\\"suggestion_commit_message\\\", \\\"projects\\\".\\\"project_namespace_id\\\", \\\"projects\\\".\\\"hidden\\\" FROM \\\"projects\\\" WHERE \\\"projects\\\".\\\"id\\\" = 7 /*application:test,correlation_id:8514a4860b3fc18d5113ac2a1429f554,db_config_name:main*/\",\n  \"SELECT \\\"ci_builds\\\".* FROM \\\"ci_builds\\\" WHERE \\\"ci_builds\\\".\\\"id\\\" IN (42, 40, 38) /*application:test,correlation_id:8514a4860b3fc18d5113ac2a1429f554,db_config_name:ci*/\",\n  \"SELECT \\\"ci_builds_metadata\\\".\\\"project_id\\\", \\\"ci_builds_metadata\\\".\\\"timeout\\\", \\\"ci_builds_metadata\\\".\\\"timeout_source\\\", \\\"ci_builds_metadata\\\".\\\"interruptible\\\", \\\"ci_builds_metadata\\\".\\\"config_options\\\", \\\"ci_builds_metadata\\\".\\\"config_variables\\\", \\\"ci_builds_metadata\\\".\\\"has_exposed_artifacts\\\", \\\"ci_builds_metadata\\\".\\\"environment_auto_stop_in\\\", \\\"ci_builds_metadata\\\".\\\"expanded_environment_name\\\", \\\"ci_builds_metadata\\\".\\\"secrets\\\", \\\"ci_builds_metadata\\\".\\\"build_id\\\", \\\"ci_builds_metadata\\\".\\\"id\\\", \\\"ci_builds_metadata\\\".\\\"runtime_runner_features\\\" FROM \\\"ci_builds_metadata\\\" WHERE \\\"ci_builds_metadata\\\".\\\"build_id\\\" IN (38, 40, 42) /*application:test,correlation_id:8514a4860b3fc18d5113ac2a1429f554,db_config_name:ci*/\",\n  \"SELECT \\\"ci_pipelines\\\".* FROM \\\"ci_pipelines\\\" WHERE \\\"ci_pipelines\\\".\\\"id\\\" IN (38, 40, 42) /*application:test,correlation_id:8514a4860b3fc18d5113ac2a1429f554,db_config_name:ci*/\",\n  \"SELECT \\\"ci_builds\\\".* FROM \\\"ci_builds\\\" WHERE \\\"ci_builds\\\".\\\"type\\\" = 'Ci::Build' AND (\\\"ci_builds\\\".\\\"retried\\\" = FALSE OR \\\"ci_builds\\\".\\\"retried\\\" IS NULL) AND \\\"ci_builds\\\".\\\"when\\\" = 'manual' AND \\\"ci_builds\\\".\\\"status\\\" IN ('success', 'failed', 'canceled', 'skipped', 'manual') AND \\\"ci_builds\\\".\\\"commit_id\\\" IN (38, 40, 42) /*application:test,correlation_id:8514a4860b3fc18d5113ac2a1429f554,db_config_name:ci*/\",\n  \"SELECT \\\"ci_builds\\\".* FROM \\\"ci_builds\\\" WHERE \\\"ci_builds\\\".\\\"type\\\" = 'Ci::Build' AND (\\\"ci_builds\\\".\\\"retried\\\" = FALSE OR \\\"ci_builds\\\".\\\"retried\\\" IS NULL) AND \\\"ci_builds\\\".\\\"when\\\" = 'delayed' AND \\\"ci_builds\\\".\\\"status\\\" IN ('success', 'failed', 'canceled', 'skipped', 'scheduled') AND \\\"ci_builds\\\".\\\"commit_id\\\" IN (38, 40, 42) /*application:test,correlation_id:8514a4860b3fc18d5113ac2a1429f554,db_config_name:ci*/\",\n  \"SELECT \\\"projects\\\".\\\"id\\\", \\\"projects\\\".\\\"name\\\", \\\"projects\\\".\\\"path\\\", \\\"projects\\\".\\\"description\\\", \\\"projects\\\".\\\"created_at\\\", \\\"projects\\\".\\\"updated_at\\\", \\\"projects\\\".\\\"creator_id\\\", \\\"projects\\\".\\\"namespace_id\\\", \\\"projects\\\".\\\"last_activity_at\\\", \\\"projects\\\".\\\"import_url\\\", \\\"projects\\\".\\\"visibility_level\\\", \\\"projects\\\".\\\"archived\\\", \\\"projects\\\".\\\"avatar\\\", \\\"projects\\\".\\\"merge_requests_template\\\", \\\"projects\\\".\\\"star_count\\\", \\\"projects\\\".\\\"merge_requests_rebase_enabled\\\", \\\"projects\\\".\\\"import_type\\\", \\\"projects\\\".\\\"import_source\\\", \\\"projects\\\".\\\"approvals_before_merge\\\", \\\"projects\\\".\\\"reset_approvals_on_push\\\", \\\"projects\\\".\\\"merge_requests_ff_only_enabled\\\", \\\"projects\\\".\\\"issues_template\\\", \\\"projects\\\".\\\"mirror\\\", \\\"projects\\\".\\\"mirror_user_id\\\", \\\"projects\\\".\\\"shared_runners_enabled\\\", \\\"projects\\\".\\\"runners_token\\\", \\\"projects\\\".\\\"build_coverage_regex\\\", \\\"projects\\\".\\\"build_allow_git_fetch\\\", \\\"projects\\\".\\\"build_timeout\\\", \\\"projects\\\".\\\"mirror_trigger_builds\\\", \\\"projects\\\".\\\"pending_delete\\\", \\\"projects\\\".\\\"public_builds\\\", \\\"projects\\\".\\\"last_repository_check_failed\\\", \\\"projects\\\".\\\"last_repository_check_at\\\", \\\"projects\\\".\\\"only_allow_merge_if_pipeline_succeeds\\\", \\\"projects\\\".\\\"has_external_issue_tracker\\\", \\\"projects\\\".\\\"repository_storage\\\", \\\"projects\\\".\\\"repository_read_only\\\", \\\"projects\\\".\\\"request_access_enabled\\\", \\\"projects\\\".\\\"has_external_wiki\\\", \\\"projects\\\".\\\"ci_config_path\\\", \\\"projects\\\".\\\"lfs_enabled\\\", \\\"projects\\\".\\\"description_html\\\", \\\"projects\\\".\\\"only_allow_merge_if_all_discussions_are_resolved\\\", \\\"projects\\\".\\\"repository_size_limit\\\", \\\"projects\\\".\\\"printing_merge_request_link_enabled\\\", \\\"projects\\\".\\\"auto_cancel_pending_pipelines\\\", \\\"projects\\\".\\\"service_desk_enabled\\\", \\\"projects\\\".\\\"cached_markdown_version\\\", \\\"projects\\\".\\\"delete_error\\\", \\\"projects\\\".\\\"last_repository_updated_at\\\", \\\"projects\\\".\\\"disable_overriding_approvers_per_merge_request\\\", \\\"projects\\\".\\\"storage_version\\\", \\\"projects\\\".\\\"resolve_outdated_diff_discussions\\\", \\\"projects\\\".\\\"remote_mirror_available_overridden\\\", \\\"projects\\\".\\\"only_mirror_protected_branches\\\", \\\"projects\\\".\\\"pull_mirror_available_overridden\\\", \\\"projects\\\".\\\"jobs_cache_index\\\", \\\"projects\\\".\\\"external_authorization_classification_label\\\", \\\"projects\\\".\\\"mirror_overwrites_diverged_branches\\\", \\\"projects\\\".\\\"pages_https_only\\\", \\\"projects\\\".\\\"external_webhook_token\\\", \\\"projects\\\".\\\"packages_enabled\\\", \\\"projects\\\".\\\"merge_requests_author_approval\\\", \\\"projects\\\".\\\"pool_repository_id\\\", \\\"projects\\\".\\\"runners_token_encrypted\\\", \\\"projects\\\".\\\"bfg_object_map\\\", \\\"projects\\\".\\\"detected_repository_languages\\\", \\\"projects\\\".\\\"merge_requests_disable_committers_approval\\\", \\\"projects\\\".\\\"require_password_to_approve\\\", \\\"projects\\\".\\\"emails_disabled\\\", \\\"projects\\\".\\\"max_pages_size\\\", \\\"projects\\\".\\\"max_artifacts_size\\\", \\\"projects\\\".\\\"remove_source_branch_after_merge\\\", \\\"projects\\\".\\\"marked_for_deletion_at\\\", \\\"projects\\\".\\\"marked_for_deletion_by_user_id\\\", \\\"projects\\\".\\\"autoclose_referenced_issues\\\", \\\"projects\\\".\\\"suggestion_commit_message\\\", \\\"projects\\\".\\\"project_namespace_id\\\", \\\"projects\\\".\\\"hidden\\\" FROM \\\"projects\\\" WHERE \\\"projects\\\".\\\"id\\\" = 7 /*application:test,correlation_id:8514a4860b3fc18d5113ac2a1429f554,db_config_name:main*/\",\n  \"SELECT \\\"project_features\\\".* FROM \\\"project_features\\\" WHERE \\\"project_features\\\".\\\"project_id\\\" = 7 /*application:test,correlation_id:8514a4860b3fc18d5113ac2a1429f554,db_config_name:main*/\",\n  \"SELECT \\\"routes\\\".* FROM \\\"routes\\\" WHERE \\\"routes\\\".\\\"source_type\\\" = 'Project' AND \\\"routes\\\".\\\"source_id\\\" = 7 /*application:test,correlation_id:8514a4860b3fc18d5113ac2a1429f554,db_config_name:main*/\",\n  \"SELECT \\\"namespaces\\\".\\\"id\\\", \\\"namespaces\\\".\\\"name\\\", \\\"namespaces\\\".\\\"path\\\", \\\"namespaces\\\".\\\"owner_id\\\", \\\"namespaces\\\".\\\"created_at\\\", \\\"namespaces\\\".\\\"updated_at\\\", \\\"namespaces\\\".\\\"type\\\", \\\"namespaces\\\".\\\"description\\\", \\\"namespaces\\\".\\\"avatar\\\", \\\"namespaces\\\".\\\"membership_lock\\\", \\\"namespaces\\\".\\\"share_with_group_lock\\\", \\\"namespaces\\\".\\\"visibility_level\\\", \\\"namespaces\\\".\\\"request_access_enabled\\\", \\\"namespaces\\\".\\\"ldap_sync_status\\\", \\\"namespaces\\\".\\\"ldap_sync_error\\\", \\\"namespaces\\\".\\\"ldap_sync_last_update_at\\\", \\\"namespaces\\\".\\\"ldap_sync_last_successful_update_at\\\", \\\"namespaces\\\".\\\"ldap_sync_last_sync_at\\\", \\\"namespaces\\\".\\\"description_html\\\", \\\"namespaces\\\".\\\"lfs_enabled\\\", \\\"namespaces\\\".\\\"parent_id\\\", \\\"namespaces\\\".\\\"shared_runners_minutes_limit\\\", \\\"namespaces\\\".\\\"repository_size_limit\\\", \\\"namespaces\\\".\\\"require_two_factor_authentication\\\", \\\"namespaces\\\".\\\"two_factor_grace_period\\\", \\\"namespaces\\\".\\\"cached_markdown_version\\\", \\\"namespaces\\\".\\\"project_creation_level\\\", \\\"namespaces\\\".\\\"runners_token\\\", \\\"namespaces\\\".\\\"file_template_project_id\\\", \\\"namespaces\\\".\\\"saml_discovery_token\\\", \\\"namespaces\\\".\\\"runners_token_encrypted\\\", \\\"namespaces\\\".\\\"custom_project_templates_group_id\\\", \\\"namespaces\\\".\\\"auto_devops_enabled\\\", \\\"namespaces\\\".\\\"extra_shared_runners_minutes_limit\\\", \\\"namespaces\\\".\\\"last_ci_minutes_notification_at\\\", \\\"namespaces\\\".\\\"last_ci_minutes_usage_notification_level\\\", \\\"namespaces\\\".\\\"subgroup_creation_level\\\", \\\"namespaces\\\".\\\"emails_disabled\\\", \\\"namespaces\\\".\\\"max_pages_size\\\", \\\"namespaces\\\".\\\"max_artifacts_size\\\", \\\"namespaces\\\".\\\"mentions_disabled\\\", \\\"namespaces\\\".\\\"default_branch_protection\\\", \\\"namespaces\\\".\\\"unlock_membership_to_ldap\\\", \\\"namespaces\\\".\\\"max_personal_access_token_lifetime\\\", \\\"namespaces\\\".\\\"push_rule_id\\\", \\\"namespaces\\\".\\\"shared_runners_enabled\\\", \\\"namespaces\\\".\\\"allow_descendants_override_disabled_shared_runners\\\", \\\"namespaces\\\".\\\"traversal_ids\\\" FROM \\\"namespaces\\\" WHERE \\\"namespaces\\\".\\\"id\\\" = 56 /*application:test,correlation_id:8514a4860b3fc18d5113ac2a1429f554,db_config_name:main*/\",\n  \"SELECT \\\"routes\\\".* FROM \\\"routes\\\" WHERE \\\"routes\\\".\\\"source_type\\\" = 'Namespace' AND \\\"routes\\\".\\\"source_id\\\" = 56 /*application:test,correlation_id:8514a4860b3fc18d5113ac2a1429f554,db_config_name:main*/\",\n  \"SELECT \\\"protected_environments\\\".* FROM \\\"protected_environments\\\" WHERE \\\"protected_environments\\\".\\\"project_id\\\" = 7 /*application:test,correlation_id:8514a4860b3fc18d5113ac2a1429f554,db_config_name:main*/\",\n  \"SELECT \\\"deployment_approvals\\\".* FROM \\\"deployment_approvals\\\" WHERE \\\"deployment_approvals\\\".\\\"deployment_id\\\" IN (42, 40, 38) /*application:test,correlation_id:8514a4860b3fc18d5113ac2a1429f554,db_config_name:main*/\",\n  \"SELECT \\\"users\\\".* FROM \\\"users\\\" WHERE \\\"users\\\".\\\"id\\\" IN (51, 53, 55) /*application:test,correlation_id:8514a4860b3fc18d5113ac2a1429f554,db_config_name:main*/\",\n  \"SELECT \\\"routes\\\".* FROM \\\"routes\\\" WHERE \\\"routes\\\".\\\"source_id\\\" = 7 AND \\\"routes\\\".\\\"source_type\\\" = 'Project' LIMIT 1 /*application:test,correlation_id:8514a4860b3fc18d5113ac2a1429f554,db_config_name:main*/\",\n  \"SELECT \\\"routes\\\".* FROM \\\"routes\\\" WHERE \\\"routes\\\".\\\"source_id\\\" = 7 AND \\\"routes\\\".\\\"source_type\\\" = 'Project' LIMIT 1 /*application:test,correlation_id:8514a4860b3fc18d5113ac2a1429f554,db_config_name:main*/\",\n  \"WITH RECURSIVE \\\"base_and_ancestors\\\" AS ((SELECT \\\"namespaces\\\".\\\"id\\\", \\\"namespaces\\\".\\\"name\\\", \\\"namespaces\\\".\\\"path\\\", \\\"namespaces\\\".\\\"owner_id\\\", \\\"namespaces\\\".\\\"created_at\\\", \\\"namespaces\\\".\\\"updated_at\\\", \\\"namespaces\\\".\\\"type\\\", \\\"namespaces\\\".\\\"description\\\", \\\"namespaces\\\".\\\"avatar\\\", \\\"namespaces\\\".\\\"membership_lock\\\", \\\"namespaces\\\".\\\"share_with_group_lock\\\", \\\"namespaces\\\".\\\"visibility_level\\\", \\\"namespaces\\\".\\\"request_access_enabled\\\", \\\"namespaces\\\".\\\"ldap_sync_status\\\", \\\"namespaces\\\".\\\"ldap_sync_error\\\", \\\"namespaces\\\".\\\"ldap_sync_last_update_at\\\", \\\"namespaces\\\".\\\"ldap_sync_last_successful_update_at\\\", \\\"namespaces\\\".\\\"ldap_sync_last_sync_at\\\", \\\"namespaces\\\".\\\"description_html\\\", \\\"namespaces\\\".\\\"lfs_enabled\\\", \\\"namespaces\\\".\\\"parent_id\\\", \\\"namespaces\\\".\\\"shared_runners_minutes_limit\\\", \\\"namespaces\\\".\\\"repository_size_limit\\\", \\\"namespaces\\\".\\\"require_two_factor_authentication\\\", \\\"namespaces\\\".\\\"two_factor_grace_period\\\", \\\"namespaces\\\".\\\"cached_markdown_version\\\", \\\"namespaces\\\".\\\"project_creation_level\\\", \\\"namespaces\\\".\\\"runners_token\\\", \\\"namespaces\\\".\\\"file_template_project_id\\\", \\\"namespaces\\\".\\\"saml_discovery_token\\\", \\\"namespaces\\\".\\\"runners_token_encrypted\\\", \\\"namespaces\\\".\\\"custom_project_templates_group_id\\\", \\\"namespaces\\\".\\\"auto_devops_enabled\\\", \\\"namespaces\\\".\\\"extra_shared_runners_minutes_limit\\\", \\\"namespaces\\\".\\\"last_ci_minutes_notification_at\\\", \\\"namespaces\\\".\\\"last_ci_minutes_usage_notification_level\\\", \\\"namespaces\\\".\\\"subgroup_creation_level\\\", \\\"namespaces\\\".\\\"emails_disabled\\\", \\\"namespaces\\\".\\\"max_pages_size\\\", \\\"namespaces\\\".\\\"max_artifacts_size\\\", \\\"namespaces\\\".\\\"mentions_disabled\\\", \\\"namespaces\\\".\\\"default_branch_protection\\\", \\\"namespaces\\\".\\\"unlock_membership_to_ldap\\\", \\\"namespaces\\\".\\\"max_personal_access_token_lifetime\\\", \\\"namespaces\\\".\\\"push_rule_id\\\", \\\"namespaces\\\".\\\"shared_runners_enabled\\\", \\\"namespaces\\\".\\\"allow_descendants_override_disabled_shared_runners\\\", \\\"namespaces\\\".\\\"traversal_ids\\\" FROM \\\"namespaces\\\" WHERE \\\"namespaces\\\".\\\"type\\\" = 'Group' AND \\\"namespaces\\\".\\\"id\\\" = 56)\\nUNION\\n(SELECT \\\"namespaces\\\".\\\"id\\\", \\\"namespaces\\\".\\\"name\\\", \\\"namespaces\\\".\\\"path\\\", \\\"namespaces\\\".\\\"owner_id\\\", \\\"namespaces\\\".\\\"created_at\\\", \\\"namespaces\\\".\\\"updated_at\\\", \\\"namespaces\\\".\\\"type\\\", \\\"namespaces\\\".\\\"description\\\", \\\"namespaces\\\".\\\"avatar\\\", \\\"namespaces\\\".\\\"membership_lock\\\", \\\"namespaces\\\".\\\"share_with_group_lock\\\", \\\"namespaces\\\".\\\"visibility_level\\\", \\\"namespaces\\\".\\\"request_access_enabled\\\", \\\"namespaces\\\".\\\"ldap_sync_status\\\", \\\"namespaces\\\".\\\"ldap_sync_error\\\", \\\"namespaces\\\".\\\"ldap_sync_last_update_at\\\", \\\"namespaces\\\".\\\"ldap_sync_last_successful_update_at\\\", \\\"namespaces\\\".\\\"ldap_sync_last_sync_at\\\", \\\"namespaces\\\".\\\"description_html\\\", \\\"namespaces\\\".\\\"lfs_enabled\\\", \\\"namespaces\\\".\\\"parent_id\\\", \\\"namespaces\\\".\\\"shared_runners_minutes_limit\\\", \\\"namespaces\\\".\\\"repository_size_limit\\\", \\\"namespaces\\\".\\\"require_two_factor_authentication\\\", \\\"namespaces\\\".\\\"two_factor_grace_period\\\", \\\"namespaces\\\".\\\"cached_markdown_version\\\", \\\"namespaces\\\".\\\"project_creation_level\\\", \\\"namespaces\\\".\\\"runners_token\\\", \\\"namespaces\\\".\\\"file_template_project_id\\\", \\\"namespaces\\\".\\\"saml_discovery_token\\\", \\\"namespaces\\\".\\\"runners_token_encrypted\\\", \\\"namespaces\\\".\\\"custom_project_templates_group_id\\\", \\\"namespaces\\\".\\\"auto_devops_enabled\\\", \\\"namespaces\\\".\\\"extra_shared_runners_minutes_limit\\\", \\\"namespaces\\\".\\\"last_ci_minutes_notification_at\\\", \\\"namespaces\\\".\\\"last_ci_minutes_usage_notification_level\\\", \\\"namespaces\\\".\\\"subgroup_creation_level\\\", \\\"namespaces\\\".\\\"emails_disabled\\\", \\\"namespaces\\\".\\\"max_pages_size\\\", \\\"namespaces\\\".\\\"max_artifacts_size\\\", \\\"namespaces\\\".\\\"mentions_disabled\\\", \\\"namespaces\\\".\\\"default_branch_protection\\\", \\\"namespaces\\\".\\\"unlock_membership_to_ldap\\\", \\\"namespaces\\\".\\\"max_personal_access_token_lifetime\\\", \\\"namespaces\\\".\\\"push_rule_id\\\", \\\"namespaces\\\".\\\"shared_runners_enabled\\\", \\\"namespaces\\\".\\\"allow_descendants_override_disabled_shared_runners\\\", \\\"namespaces\\\".\\\"traversal_ids\\\" FROM \\\"namespaces\\\", \\\"base_and_ancestors\\\" WHERE \\\"namespaces\\\".\\\"type\\\" = 'Group' AND \\\"namespaces\\\".\\\"id\\\" = \\\"base_and_ancestors\\\".\\\"parent_id\\\")) SELECT \\\"id\\\" FROM \\\"base_and_ancestors\\\" AS \\\"namespaces\\\" /*application:test,correlation_id:8514a4860b3fc18d5113ac2a1429f554,db_config_name:main*/\",\n  \"SELECT \\\"protected_environments\\\".* FROM \\\"protected_environments\\\" WHERE \\\"protected_environments\\\".\\\"project_id\\\" = 7 AND \\\"protected_environments\\\".\\\"name\\\" IN ('environment1', 'environment2', 'environment3') /*application:test,correlation_id:8514a4860b3fc18d5113ac2a1429f554,db_config_name:main*/\",\n  \"SELECT \\\"protected_environment_deploy_access_levels\\\".* FROM \\\"protected_environment_deploy_access_levels\\\" WHERE \\\"protected_environment_deploy_access_levels\\\".\\\"protected_environment_id\\\" IN (19, 20, 21) /*application:test,correlation_id:8514a4860b3fc18d5113ac2a1429f554,db_config_name:main*/\",\n  \"WITH RECURSIVE \\\"clusters_cte\\\" AS ((SELECT \\\"clusters\\\".*, NULL AS group_parent_id, 0 AS depth FROM \\\"clusters\\\" INNER JOIN \\\"cluster_projects\\\" ON \\\"cluster_projects\\\".\\\"cluster_id\\\" = \\\"clusters\\\".\\\"id\\\" INNER JOIN \\\"projects\\\" ON \\\"projects\\\".\\\"id\\\" = \\\"cluster_projects\\\".\\\"project_id\\\" WHERE \\\"clusters\\\".\\\"management_project_id\\\" = 7 AND \\\"clusters\\\".\\\"cluster_type\\\" = 3 AND \\\"projects\\\".\\\"namespace_id\\\" = 56)\\nUNION\\n(SELECT \\\"clusters\\\".*, \\\"projects\\\".\\\"namespace_id\\\" AS group_parent_id, 1 AS depth FROM \\\"projects\\\" LEFT OUTER JOIN \\\"cluster_projects\\\" ON \\\"cluster_projects\\\".\\\"project_id\\\" = \\\"projects\\\".\\\"id\\\" LEFT OUTER JOIN \\\"clusters\\\" ON \\\"clusters\\\".\\\"id\\\" = \\\"cluster_projects\\\".\\\"cluster_id\\\" WHERE \\\"projects\\\".\\\"id\\\" = 7)\\nUNION\\n(SELECT \\\"clusters\\\".*, \\\"namespaces\\\".\\\"parent_id\\\" AS group_parent_id, (\\\"clusters_cte\\\".\\\"depth\\\" + 1) FROM \\\"clusters_cte\\\", \\\"namespaces\\\" LEFT OUTER JOIN cluster_groups ON cluster_groups.group_id = namespaces.id LEFT OUTER JOIN clusters ON cluster_groups.cluster_id = clusters.id WHERE \\\"namespaces\\\".\\\"id\\\" = \\\"clusters_cte\\\".\\\"group_parent_id\\\")) SELECT \\\"clusters\\\".* FROM \\\"clusters_cte\\\" \\\"clusters\\\" WHERE \\\"clusters\\\".\\\"id\\\" IS NOT NULL AND \\\"clusters\\\".\\\"enabled\\\" = TRUE AND (environment_scope IN ('*', 'environment1') OR\\n  'environment1' LIKE\\n    REPLACE(REPLACE(REPLACE(environment_scope,\\n                        '%', '\\\\%'),\\n                '_', '\\\\_'),\\n        '*', '%')\\n\\n) ORDER BY (CASE clusters.management_project_id\\n  WHEN 7 THEN 0\\n  ELSE depth\\nEND) ASC\\n, CASE environment_scope\\n  WHEN '*' THEN 0\\n  WHEN 'environment1' THEN 2\\n  ELSE 1\\nEND DESC\\n LIMIT 1 /*application:test,correlation_id:8514a4860b3fc18d5113ac2a1429f554,db_config_name:main*/\",\n  \"SELECT \\\"clusters\\\".* FROM \\\"clusters\\\" WHERE \\\"clusters\\\".\\\"cluster_type\\\" = 1 AND \\\"clusters\\\".\\\"enabled\\\" = TRUE AND (environment_scope IN ('*', 'environment1') OR\\n  'environment1' LIKE\\n    REPLACE(REPLACE(REPLACE(environment_scope,\\n                        '%', '\\\\%'),\\n                '_', '\\\\_'),\\n        '*', '%')\\n\\n) ORDER BY CASE environment_scope\\n  WHEN '*' THEN 0\\n  WHEN 'environment1' THEN 2\\n  ELSE 1\\nEND DESC\\n LIMIT 1 /*application:test,correlation_id:8514a4860b3fc18d5113ac2a1429f554,db_config_name:main*/\",\n  \"SELECT \\\"integrations\\\".\\\"id\\\", \\\"integrations\\\".\\\"project_id\\\", \\\"integrations\\\".\\\"created_at\\\", \\\"integrations\\\".\\\"updated_at\\\", \\\"integrations\\\".\\\"active\\\", \\\"integrations\\\".\\\"properties\\\", \\\"integrations\\\".\\\"push_events\\\", \\\"integrations\\\".\\\"issues_events\\\", \\\"integrations\\\".\\\"merge_requests_events\\\", \\\"integrations\\\".\\\"tag_push_events\\\", \\\"integrations\\\".\\\"note_events\\\", \\\"integrations\\\".\\\"category\\\", \\\"integrations\\\".\\\"wiki_page_events\\\", \\\"integrations\\\".\\\"pipeline_events\\\", \\\"integrations\\\".\\\"confidential_issues_events\\\", \\\"integrations\\\".\\\"commit_events\\\", \\\"integrations\\\".\\\"job_events\\\", \\\"integrations\\\".\\\"confidential_note_events\\\", \\\"integrations\\\".\\\"deployment_events\\\", \\\"integrations\\\".\\\"comment_on_event_enabled\\\", \\\"integrations\\\".\\\"instance\\\", \\\"integrations\\\".\\\"comment_detail\\\", \\\"integrations\\\".\\\"inherit_from_id\\\", \\\"integrations\\\".\\\"alert_events\\\", \\\"integrations\\\".\\\"group_id\\\", \\\"integrations\\\".\\\"type_new\\\", \\\"integrations\\\".\\\"vulnerability_events\\\", \\\"integrations\\\".\\\"archive_trace_events\\\", \\\"integrations\\\".\\\"encrypted_properties\\\", \\\"integrations\\\".\\\"encrypted_properties_iv\\\" FROM \\\"integrations\\\" WHERE \\\"integrations\\\".\\\"project_id\\\" = 7 /*application:test,correlation_id:8514a4860b3fc18d5113ac2a1429f554,db_config_name:main*/\",\n  \"SELECT \\\"integrations\\\".\\\"id\\\", \\\"integrations\\\".\\\"project_id\\\", \\\"integrations\\\".\\\"created_at\\\", \\\"integrations\\\".\\\"updated_at\\\", \\\"integrations\\\".\\\"active\\\", \\\"integrations\\\".\\\"properties\\\", \\\"integrations\\\".\\\"push_events\\\", \\\"integrations\\\".\\\"issues_events\\\", \\\"integrations\\\".\\\"merge_requests_events\\\", \\\"integrations\\\".\\\"tag_push_events\\\", \\\"integrations\\\".\\\"note_events\\\", \\\"integrations\\\".\\\"category\\\", \\\"integrations\\\".\\\"wiki_page_events\\\", \\\"integrations\\\".\\\"pipeline_events\\\", \\\"integrations\\\".\\\"confidential_issues_events\\\", \\\"integrations\\\".\\\"commit_events\\\", \\\"integrations\\\".\\\"job_events\\\", \\\"integrations\\\".\\\"confidential_note_events\\\", \\\"integrations\\\".\\\"deployment_events\\\", \\\"integrations\\\".\\\"comment_on_event_enabled\\\", \\\"integrations\\\".\\\"instance\\\", \\\"integrations\\\".\\\"comment_detail\\\", \\\"integrations\\\".\\\"inherit_from_id\\\", \\\"integrations\\\".\\\"alert_events\\\", \\\"integrations\\\".\\\"group_id\\\", \\\"integrations\\\".\\\"type_new\\\", \\\"integrations\\\".\\\"vulnerability_events\\\", \\\"integrations\\\".\\\"archive_trace_events\\\", \\\"integrations\\\".\\\"encrypted_properties\\\", \\\"integrations\\\".\\\"encrypted_properties_iv\\\" FROM \\\"integrations\\\" WHERE \\\"integrations\\\".\\\"instance\\\" = TRUE AND \\\"integrations\\\".\\\"type_new\\\" IN ('Integrations::Asana', 'Integrations::Assembla', 'Integrations::Bamboo', 'Integrations::Bugzilla', 'Integrations::Buildkite', 'Integrations::Campfire', 'Integrations::Confluence', 'Integrations::CustomIssueTracker', 'Integrations::Datadog', 'Integrations::Discord', 'Integrations::DroneCi', 'Integrations::EmailsOnPush', 'Integrations::Ewm', 'Integrations::ExternalWiki', 'Integrations::Flowdock', 'Integrations::HangoutsChat', 'Integrations::Harbor', 'Integrations::Irker', 'Integrations::Jira', 'Integrations::Mattermost', 'Integrations::MattermostSlashCommands', 'Integrations::MicrosoftTeams', 'Integrations::Packagist', 'Integrations::PipelinesEmail', 'Integrations::Pivotaltracker', 'Integrations::Prometheus', 'Integrations::Pushover', 'Integrations::Redmine', 'Integrations::Slack', 'Integrations::SlackSlashCommands', 'Integrations::Teamcity', 'Integrations::UnifyCircuit', 'Integrations::WebexTeams', 'Integrations::Youtrack', 'Integrations::Zentao') /*application:test,correlation_id:8514a4860b3fc18d5113ac2a1429f554,db_config_name:main*/\",\n  \"SELECT \\\"namespaces\\\".\\\"id\\\", \\\"namespaces\\\".\\\"name\\\", \\\"namespaces\\\".\\\"path\\\", \\\"namespaces\\\".\\\"owner_id\\\", \\\"namespaces\\\".\\\"created_at\\\", \\\"namespaces\\\".\\\"updated_at\\\", \\\"namespaces\\\".\\\"type\\\", \\\"namespaces\\\".\\\"description\\\", \\\"namespaces\\\".\\\"avatar\\\", \\\"namespaces\\\".\\\"membership_lock\\\", \\\"namespaces\\\".\\\"share_with_group_lock\\\", \\\"namespaces\\\".\\\"visibility_level\\\", \\\"namespaces\\\".\\\"request_access_enabled\\\", \\\"namespaces\\\".\\\"ldap_sync_status\\\", \\\"namespaces\\\".\\\"ldap_sync_error\\\", \\\"namespaces\\\".\\\"ldap_sync_last_update_at\\\", \\\"namespaces\\\".\\\"ldap_sync_last_successful_update_at\\\", \\\"namespaces\\\".\\\"ldap_sync_last_sync_at\\\", \\\"namespaces\\\".\\\"description_html\\\", \\\"namespaces\\\".\\\"lfs_enabled\\\", \\\"namespaces\\\".\\\"parent_id\\\", \\\"namespaces\\\".\\\"shared_runners_minutes_limit\\\", \\\"namespaces\\\".\\\"repository_size_limit\\\", \\\"namespaces\\\".\\\"require_two_factor_authentication\\\", \\\"namespaces\\\".\\\"two_factor_grace_period\\\", \\\"namespaces\\\".\\\"cached_markdown_version\\\", \\\"namespaces\\\".\\\"project_creation_level\\\", \\\"namespaces\\\".\\\"runners_token\\\", \\\"namespaces\\\".\\\"file_template_project_id\\\", \\\"namespaces\\\".\\\"saml_discovery_token\\\", \\\"namespaces\\\".\\\"runners_token_encrypted\\\", \\\"namespaces\\\".\\\"custom_project_templates_group_id\\\", \\\"namespaces\\\".\\\"auto_devops_enabled\\\", \\\"namespaces\\\".\\\"extra_shared_runners_minutes_limit\\\", \\\"namespaces\\\".\\\"last_ci_minutes_notification_at\\\", \\\"namespaces\\\".\\\"last_ci_minutes_usage_notification_level\\\", \\\"namespaces\\\".\\\"subgroup_creation_level\\\", \\\"namespaces\\\".\\\"emails_disabled\\\", \\\"namespaces\\\".\\\"max_pages_size\\\", \\\"namespaces\\\".\\\"max_artifacts_size\\\", \\\"namespaces\\\".\\\"mentions_disabled\\\", \\\"namespaces\\\".\\\"default_branch_protection\\\", \\\"namespaces\\\".\\\"unlock_membership_to_ldap\\\", \\\"namespaces\\\".\\\"max_personal_access_token_lifetime\\\", \\\"namespaces\\\".\\\"push_rule_id\\\", \\\"namespaces\\\".\\\"shared_runners_enabled\\\", \\\"namespaces\\\".\\\"allow_descendants_override_disabled_shared_runners\\\", \\\"namespaces\\\".\\\"traversal_ids\\\" FROM \\\"namespaces\\\" WHERE \\\"namespaces\\\".\\\"id\\\" = 56 LIMIT 1 /*application:test,correlation_id:8514a4860b3fc18d5113ac2a1429f554,db_config_name:main*/\",\n  \"SELECT \\\"routes\\\".* FROM \\\"routes\\\" WHERE \\\"routes\\\".\\\"source_id\\\" = 56 AND \\\"routes\\\".\\\"source_type\\\" = 'Namespace' LIMIT 1 /*application:test,correlation_id:8514a4860b3fc18d5113ac2a1429f554,db_config_name:main*/\",\n  \"SELECT \\\"namespaces\\\".\\\"id\\\", \\\"namespaces\\\".\\\"name\\\", \\\"namespaces\\\".\\\"path\\\", \\\"namespaces\\\".\\\"owner_id\\\", \\\"namespaces\\\".\\\"created_at\\\", \\\"namespaces\\\".\\\"updated_at\\\", \\\"namespaces\\\".\\\"type\\\", \\\"namespaces\\\".\\\"description\\\", \\\"namespaces\\\".\\\"avatar\\\", \\\"namespaces\\\".\\\"membership_lock\\\", \\\"namespaces\\\".\\\"share_with_group_lock\\\", \\\"namespaces\\\".\\\"visibility_level\\\", \\\"namespaces\\\".\\\"request_access_enabled\\\", \\\"namespaces\\\".\\\"ldap_sync_status\\\", \\\"namespaces\\\".\\\"ldap_sync_error\\\", \\\"namespaces\\\".\\\"ldap_sync_last_update_at\\\", \\\"namespaces\\\".\\\"ldap_sync_last_successful_update_at\\\", \\\"namespaces\\\".\\\"ldap_sync_last_sync_at\\\", \\\"namespaces\\\".\\\"description_html\\\", \\\"namespaces\\\".\\\"lfs_enabled\\\", \\\"namespaces\\\".\\\"parent_id\\\", \\\"namespaces\\\".\\\"shared_runners_minutes_limit\\\", \\\"namespaces\\\".\\\"repository_size_limit\\\", \\\"namespaces\\\".\\\"require_two_factor_authentication\\\", \\\"namespaces\\\".\\\"two_factor_grace_period\\\", \\\"namespaces\\\".\\\"cached_markdown_version\\\", \\\"namespaces\\\".\\\"project_creation_level\\\", \\\"namespaces\\\".\\\"runners_token\\\", \\\"namespaces\\\".\\\"file_template_project_id\\\", \\\"namespaces\\\".\\\"saml_discovery_token\\\", \\\"namespaces\\\".\\\"runners_token_encrypted\\\", \\\"namespaces\\\".\\\"custom_project_templates_group_id\\\", \\\"namespaces\\\".\\\"auto_devops_enabled\\\", \\\"namespaces\\\".\\\"extra_shared_runners_minutes_limit\\\", \\\"namespaces\\\".\\\"last_ci_minutes_notification_at\\\", \\\"namespaces\\\".\\\"last_ci_minutes_usage_notification_level\\\", \\\"namespaces\\\".\\\"subgroup_creation_level\\\", \\\"namespaces\\\".\\\"emails_disabled\\\", \\\"namespaces\\\".\\\"max_pages_size\\\", \\\"namespaces\\\".\\\"max_artifacts_size\\\", \\\"namespaces\\\".\\\"mentions_disabled\\\", \\\"namespaces\\\".\\\"default_branch_protection\\\", \\\"namespaces\\\".\\\"unlock_membership_to_ldap\\\", \\\"namespaces\\\".\\\"max_personal_access_token_lifetime\\\", \\\"namespaces\\\".\\\"push_rule_id\\\", \\\"namespaces\\\".\\\"shared_runners_enabled\\\", \\\"namespaces\\\".\\\"allow_descendants_override_disabled_shared_runners\\\", \\\"namespaces\\\".\\\"traversal_ids\\\" FROM \\\"namespaces\\\" WHERE \\\"namespaces\\\".\\\"id\\\" = 56 LIMIT 1 /*application:test,correlation_id:8514a4860b3fc18d5113ac2a1429f554,db_config_name:main*/\",\n  \"SELECT \\\"routes\\\".* FROM \\\"routes\\\" WHERE \\\"routes\\\".\\\"source_id\\\" = 56 AND \\\"routes\\\".\\\"source_type\\\" = 'Namespace' LIMIT 1 /*application:test,correlation_id:8514a4860b3fc18d5113ac2a1429f554,db_config_name:main*/\",\n  \"WITH RECURSIVE \\\"clusters_cte\\\" AS ((SELECT \\\"clusters\\\".*, NULL AS group_parent_id, 0 AS depth FROM \\\"clusters\\\" INNER JOIN \\\"cluster_projects\\\" ON \\\"cluster_projects\\\".\\\"cluster_id\\\" = \\\"clusters\\\".\\\"id\\\" INNER JOIN \\\"projects\\\" ON \\\"projects\\\".\\\"id\\\" = \\\"cluster_projects\\\".\\\"project_id\\\" WHERE \\\"clusters\\\".\\\"management_project_id\\\" = 7 AND \\\"clusters\\\".\\\"cluster_type\\\" = 3 AND \\\"projects\\\".\\\"namespace_id\\\" = 56)\\nUNION\\n(SELECT \\\"clusters\\\".*, \\\"projects\\\".\\\"namespace_id\\\" AS group_parent_id, 1 AS depth FROM \\\"projects\\\" LEFT OUTER JOIN \\\"cluster_projects\\\" ON \\\"cluster_projects\\\".\\\"project_id\\\" = \\\"projects\\\".\\\"id\\\" LEFT OUTER JOIN \\\"clusters\\\" ON \\\"clusters\\\".\\\"id\\\" = \\\"cluster_projects\\\".\\\"cluster_id\\\" WHERE \\\"projects\\\".\\\"id\\\" = 7)\\nUNION\\n(SELECT \\\"clusters\\\".*, \\\"namespaces\\\".\\\"parent_id\\\" AS group_parent_id, (\\\"clusters_cte\\\".\\\"depth\\\" + 1) FROM \\\"clusters_cte\\\", \\\"namespaces\\\" LEFT OUTER JOIN cluster_groups ON cluster_groups.group_id = namespaces.id LEFT OUTER JOIN clusters ON cluster_groups.cluster_id = clusters.id WHERE \\\"namespaces\\\".\\\"id\\\" = \\\"clusters_cte\\\".\\\"group_parent_id\\\")) SELECT \\\"clusters\\\".* FROM \\\"clusters_cte\\\" \\\"clusters\\\" WHERE \\\"clusters\\\".\\\"id\\\" IS NOT NULL AND \\\"clusters\\\".\\\"enabled\\\" = TRUE AND (environment_scope IN ('*', 'environment2') OR\\n  'environment2' LIKE\\n    REPLACE(REPLACE(REPLACE(environment_scope,\\n                        '%', '\\\\%'),\\n                '_', '\\\\_'),\\n        '*', '%')\\n\\n) ORDER BY (CASE clusters.management_project_id\\n  WHEN 7 THEN 0\\n  ELSE depth\\nEND) ASC\\n, CASE environment_scope\\n  WHEN '*' THEN 0\\n  WHEN 'environment2' THEN 2\\n  ELSE 1\\nEND DESC\\n LIMIT 1 /*application:test,correlation_id:8514a4860b3fc18d5113ac2a1429f554,db_config_name:main*/\",\n  \"SELECT \\\"clusters\\\".* FROM \\\"clusters\\\" WHERE \\\"clusters\\\".\\\"cluster_type\\\" = 1 AND \\\"clusters\\\".\\\"enabled\\\" = TRUE AND (environment_scope IN ('*', 'environment2') OR\\n  'environment2' LIKE\\n    REPLACE(REPLACE(REPLACE(environment_scope,\\n                        '%', '\\\\%'),\\n                '_', '\\\\_'),\\n        '*', '%')\\n\\n) ORDER BY CASE environment_scope\\n  WHEN '*' THEN 0\\n  WHEN 'environment2' THEN 2\\n  ELSE 1\\nEND DESC\\n LIMIT 1 /*application:test,correlation_id:8514a4860b3fc18d5113ac2a1429f554,db_config_name:main*/\",\n  \"SELECT \\\"projects\\\".\\\"id\\\", \\\"projects\\\".\\\"name\\\", \\\"projects\\\".\\\"path\\\", \\\"projects\\\".\\\"description\\\", \\\"projects\\\".\\\"created_at\\\", \\\"projects\\\".\\\"updated_at\\\", \\\"projects\\\".\\\"creator_id\\\", \\\"projects\\\".\\\"namespace_id\\\", \\\"projects\\\".\\\"last_activity_at\\\", \\\"projects\\\".\\\"import_url\\\", \\\"projects\\\".\\\"visibility_level\\\", \\\"projects\\\".\\\"archived\\\", \\\"projects\\\".\\\"avatar\\\", \\\"projects\\\".\\\"merge_requests_template\\\", \\\"projects\\\".\\\"star_count\\\", \\\"projects\\\".\\\"merge_requests_rebase_enabled\\\", \\\"projects\\\".\\\"import_type\\\", \\\"projects\\\".\\\"import_source\\\", \\\"projects\\\".\\\"approvals_before_merge\\\", \\\"projects\\\".\\\"reset_approvals_on_push\\\", \\\"projects\\\".\\\"merge_requests_ff_only_enabled\\\", \\\"projects\\\".\\\"issues_template\\\", \\\"projects\\\".\\\"mirror\\\", \\\"projects\\\".\\\"mirror_user_id\\\", \\\"projects\\\".\\\"shared_runners_enabled\\\", \\\"projects\\\".\\\"runners_token\\\", \\\"projects\\\".\\\"build_coverage_regex\\\", \\\"projects\\\".\\\"build_allow_git_fetch\\\", \\\"projects\\\".\\\"build_timeout\\\", \\\"projects\\\".\\\"mirror_trigger_builds\\\", \\\"projects\\\".\\\"pending_delete\\\", \\\"projects\\\".\\\"public_builds\\\", \\\"projects\\\".\\\"last_repository_check_failed\\\", \\\"projects\\\".\\\"last_repository_check_at\\\", \\\"projects\\\".\\\"only_allow_merge_if_pipeline_succeeds\\\", \\\"projects\\\".\\\"has_external_issue_tracker\\\", \\\"projects\\\".\\\"repository_storage\\\", \\\"projects\\\".\\\"repository_read_only\\\", \\\"projects\\\".\\\"request_access_enabled\\\", \\\"projects\\\".\\\"has_external_wiki\\\", \\\"projects\\\".\\\"ci_config_path\\\", \\\"projects\\\".\\\"lfs_enabled\\\", \\\"projects\\\".\\\"description_html\\\", \\\"projects\\\".\\\"only_allow_merge_if_all_discussions_are_resolved\\\", \\\"projects\\\".\\\"repository_size_limit\\\", \\\"projects\\\".\\\"printing_merge_request_link_enabled\\\", \\\"projects\\\".\\\"auto_cancel_pending_pipelines\\\", \\\"projects\\\".\\\"service_desk_enabled\\\", \\\"projects\\\".\\\"cached_markdown_version\\\", \\\"projects\\\".\\\"delete_error\\\", \\\"projects\\\".\\\"last_repository_updated_at\\\", \\\"projects\\\".\\\"disable_overriding_approvers_per_merge_request\\\", \\\"projects\\\".\\\"storage_version\\\", \\\"projects\\\".\\\"resolve_outdated_diff_discussions\\\", \\\"projects\\\".\\\"remote_mirror_available_overridden\\\", \\\"projects\\\".\\\"only_mirror_protected_branches\\\", \\\"projects\\\".\\\"pull_mirror_available_overridden\\\", \\\"projects\\\".\\\"jobs_cache_index\\\", \\\"projects\\\".\\\"external_authorization_classification_label\\\", \\\"projects\\\".\\\"mirror_overwrites_diverged_branches\\\", \\\"projects\\\".\\\"pages_https_only\\\", \\\"projects\\\".\\\"external_webhook_token\\\", \\\"projects\\\".\\\"packages_enabled\\\", \\\"projects\\\".\\\"merge_requests_author_approval\\\", \\\"projects\\\".\\\"pool_repository_id\\\", \\\"projects\\\".\\\"runners_token_encrypted\\\", \\\"projects\\\".\\\"bfg_object_map\\\", \\\"projects\\\".\\\"detected_repository_languages\\\", \\\"projects\\\".\\\"merge_requests_disable_committers_approval\\\", \\\"projects\\\".\\\"require_password_to_approve\\\", \\\"projects\\\".\\\"emails_disabled\\\", \\\"projects\\\".\\\"max_pages_size\\\", \\\"projects\\\".\\\"max_artifacts_size\\\", \\\"projects\\\".\\\"remove_source_branch_after_merge\\\", \\\"projects\\\".\\\"marked_for_deletion_at\\\", \\\"projects\\\".\\\"marked_for_deletion_by_user_id\\\", \\\"projects\\\".\\\"autoclose_referenced_issues\\\", \\\"projects\\\".\\\"suggestion_commit_message\\\", \\\"projects\\\".\\\"project_namespace_id\\\", \\\"projects\\\".\\\"hidden\\\" FROM \\\"projects\\\" WHERE \\\"projects\\\".\\\"id\\\" = 7 LIMIT 1 /*application:test,correlation_id:8514a4860b3fc18d5113ac2a1429f554,db_config_name:main*/\",\n  \"WITH RECURSIVE \\\"clusters_cte\\\" AS ((SELECT \\\"clusters\\\".*, NULL AS group_parent_id, 0 AS depth FROM \\\"clusters\\\" INNER JOIN \\\"cluster_projects\\\" ON \\\"cluster_projects\\\".\\\"cluster_id\\\" = \\\"clusters\\\".\\\"id\\\" INNER JOIN \\\"projects\\\" ON \\\"projects\\\".\\\"id\\\" = \\\"cluster_projects\\\".\\\"project_id\\\" WHERE \\\"clusters\\\".\\\"management_project_id\\\" = 7 AND \\\"clusters\\\".\\\"cluster_type\\\" = 3 AND \\\"projects\\\".\\\"namespace_id\\\" = 56)\\nUNION\\n(SELECT \\\"clusters\\\".*, \\\"projects\\\".\\\"namespace_id\\\" AS group_parent_id, 1 AS depth FROM \\\"projects\\\" LEFT OUTER JOIN \\\"cluster_projects\\\" ON \\\"cluster_projects\\\".\\\"project_id\\\" = \\\"projects\\\".\\\"id\\\" LEFT OUTER JOIN \\\"clusters\\\" ON \\\"clusters\\\".\\\"id\\\" = \\\"cluster_projects\\\".\\\"cluster_id\\\" WHERE \\\"projects\\\".\\\"id\\\" = 7)\\nUNION\\n(SELECT \\\"clusters\\\".*, \\\"namespaces\\\".\\\"parent_id\\\" AS group_parent_id, (\\\"clusters_cte\\\".\\\"depth\\\" + 1) FROM \\\"clusters_cte\\\", \\\"namespaces\\\" LEFT OUTER JOIN cluster_groups ON cluster_groups.group_id = namespaces.id LEFT OUTER JOIN clusters ON cluster_groups.cluster_id = clusters.id WHERE \\\"namespaces\\\".\\\"id\\\" = \\\"clusters_cte\\\".\\\"group_parent_id\\\")) SELECT \\\"clusters\\\".* FROM \\\"clusters_cte\\\" \\\"clusters\\\" WHERE \\\"clusters\\\".\\\"id\\\" IS NOT NULL AND \\\"clusters\\\".\\\"enabled\\\" = TRUE AND (environment_scope IN ('*', 'environment3') OR\\n  'environment3' LIKE\\n    REPLACE(REPLACE(REPLACE(environment_scope,\\n                        '%', '\\\\%'),\\n                '_', '\\\\_'),\\n        '*', '%')\\n\\n) ORDER BY (CASE clusters.management_project_id\\n  WHEN 7 THEN 0\\n  ELSE depth\\nEND) ASC\\n, CASE environment_scope\\n  WHEN '*' THEN 0\\n  WHEN 'environment3' THEN 2\\n  ELSE 1\\nEND DESC\\n LIMIT 1 /*application:test,correlation_id:8514a4860b3fc18d5113ac2a1429f554,db_config_name:main*/\",\n  \"SELECT \\\"clusters\\\".* FROM \\\"clusters\\\" WHERE \\\"clusters\\\".\\\"cluster_type\\\" = 1 AND \\\"clusters\\\".\\\"enabled\\\" = TRUE AND (environment_scope IN ('*', 'environment3') OR\\n  'environment3' LIKE\\n    REPLACE(REPLACE(REPLACE(environment_scope,\\n                        '%', '\\\\%'),\\n                '_', '\\\\_'),\\n        '*', '%')\\n\\n) ORDER BY CASE environment_scope\\n  WHEN '*' THEN 0\\n  WHEN 'environment3' THEN 2\\n  ELSE 1\\nEND DESC\\n LIMIT 1 /*application:test,correlation_id:8514a4860b3fc18d5113ac2a1429f554,db_config_name:main*/\",\n  \"SELECT \\\"projects\\\".\\\"id\\\", \\\"projects\\\".\\\"name\\\", \\\"projects\\\".\\\"path\\\", \\\"projects\\\".\\\"description\\\", \\\"projects\\\".\\\"created_at\\\", \\\"projects\\\".\\\"updated_at\\\", \\\"projects\\\".\\\"creator_id\\\", \\\"projects\\\".\\\"namespace_id\\\", \\\"projects\\\".\\\"last_activity_at\\\", \\\"projects\\\".\\\"import_url\\\", \\\"projects\\\".\\\"visibility_level\\\", \\\"projects\\\".\\\"archived\\\", \\\"projects\\\".\\\"avatar\\\", \\\"projects\\\".\\\"merge_requests_template\\\", \\\"projects\\\".\\\"star_count\\\", \\\"projects\\\".\\\"merge_requests_rebase_enabled\\\", \\\"projects\\\".\\\"import_type\\\", \\\"projects\\\".\\\"import_source\\\", \\\"projects\\\".\\\"approvals_before_merge\\\", \\\"projects\\\".\\\"reset_approvals_on_push\\\", \\\"projects\\\".\\\"merge_requests_ff_only_enabled\\\", \\\"projects\\\".\\\"issues_template\\\", \\\"projects\\\".\\\"mirror\\\", \\\"projects\\\".\\\"mirror_user_id\\\", \\\"projects\\\".\\\"shared_runners_enabled\\\", \\\"projects\\\".\\\"runners_token\\\", \\\"projects\\\".\\\"build_coverage_regex\\\", \\\"projects\\\".\\\"build_allow_git_fetch\\\", \\\"projects\\\".\\\"build_timeout\\\", \\\"projects\\\".\\\"mirror_trigger_builds\\\", \\\"projects\\\".\\\"pending_delete\\\", \\\"projects\\\".\\\"public_builds\\\", \\\"projects\\\".\\\"last_repository_check_failed\\\", \\\"projects\\\".\\\"last_repository_check_at\\\", \\\"projects\\\".\\\"only_allow_merge_if_pipeline_succeeds\\\", \\\"projects\\\".\\\"has_external_issue_tracker\\\", \\\"projects\\\".\\\"repository_storage\\\", \\\"projects\\\".\\\"repository_read_only\\\", \\\"projects\\\".\\\"request_access_enabled\\\", \\\"projects\\\".\\\"has_external_wiki\\\", \\\"projects\\\".\\\"ci_config_path\\\", \\\"projects\\\".\\\"lfs_enabled\\\", \\\"projects\\\".\\\"description_html\\\", \\\"projects\\\".\\\"only_allow_merge_if_all_discussions_are_resolved\\\", \\\"projects\\\".\\\"repository_size_limit\\\", \\\"projects\\\".\\\"printing_merge_request_link_enabled\\\", \\\"projects\\\".\\\"auto_cancel_pending_pipelines\\\", \\\"projects\\\".\\\"service_desk_enabled\\\", \\\"projects\\\".\\\"cached_markdown_version\\\", \\\"projects\\\".\\\"delete_error\\\", \\\"projects\\\".\\\"last_repository_updated_at\\\", \\\"projects\\\".\\\"disable_overriding_approvers_per_merge_request\\\", \\\"projects\\\".\\\"storage_version\\\", \\\"projects\\\".\\\"resolve_outdated_diff_discussions\\\", \\\"projects\\\".\\\"remote_mirror_available_overridden\\\", \\\"projects\\\".\\\"only_mirror_protected_branches\\\", \\\"projects\\\".\\\"pull_mirror_available_overridden\\\", \\\"projects\\\".\\\"jobs_cache_index\\\", \\\"projects\\\".\\\"external_authorization_classification_label\\\", \\\"projects\\\".\\\"mirror_overwrites_diverged_branches\\\", \\\"projects\\\".\\\"pages_https_only\\\", \\\"projects\\\".\\\"external_webhook_token\\\", \\\"projects\\\".\\\"packages_enabled\\\", \\\"projects\\\".\\\"merge_requests_author_approval\\\", \\\"projects\\\".\\\"pool_repository_id\\\", \\\"projects\\\".\\\"runners_token_encrypted\\\", \\\"projects\\\".\\\"bfg_object_map\\\", \\\"projects\\\".\\\"detected_repository_languages\\\", \\\"projects\\\".\\\"merge_requests_disable_committers_approval\\\", \\\"projects\\\".\\\"require_password_to_approve\\\", \\\"projects\\\".\\\"emails_disabled\\\", \\\"projects\\\".\\\"max_pages_size\\\", \\\"projects\\\".\\\"max_artifacts_size\\\", \\\"projects\\\".\\\"remove_source_branch_after_merge\\\", \\\"projects\\\".\\\"marked_for_deletion_at\\\", \\\"projects\\\".\\\"marked_for_deletion_by_user_id\\\", \\\"projects\\\".\\\"autoclose_referenced_issues\\\", \\\"projects\\\".\\\"suggestion_commit_message\\\", \\\"projects\\\".\\\"project_namespace_id\\\", \\\"projects\\\".\\\"hidden\\\" FROM \\\"projects\\\" WHERE \\\"projects\\\".\\\"id\\\" = 7 LIMIT 1 /*application:test,correlation_id:8514a4860b3fc18d5113ac2a1429f554,db_config_name:main*/\"\n\n```\n\u003c/details\u003e\n\n\n\n## Proposal\n\nInvestigate the following similar queries in `EnvironmentSerializer`:\n\n- 7x `SELECT \"projects\"`\n- 3x `SELECT \"project_features\"`\n- 10x `SELECT \"routes\"`\n- 5x `SELECT \"namespaces\"`\n- 3x `SELECT \"users\"`\n- 8x `SELECT \"ci_builds\"`","state":"closed","created_at":"2022-03-29T21:16:45.779Z","updated_at":"2022-04-21T16:55:57.994Z","closed_at":"2022-04-21T16:55:57.971Z","closed_by":{"id":4373269,"username":"ali-gitlab","name":"Alishan Ladhani","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4373269/avatar.png","web_url":"https://gitlab.com/ali-gitlab"},"labels":["Category:Environment Management","Next Up","bug::performance","devops::release","group::release","priority::2","section::ops","severity::2","type::bug","workflow::in review"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":4373269,"username":"ali-gitlab","name":"Alishan Ladhani","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4373269/avatar.png","web_url":"https://gitlab.com/ali-gitlab"}],"author":{"id":4373269,"username":"ali-gitlab","name":"Alishan Ladhani","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4373269/avatar.png","web_url":"https://gitlab.com/ali-gitlab"},"type":"ISSUE","assignee":{"id":4373269,"username":"ali-gitlab","name":"Alishan Ladhani","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4373269/avatar.png","web_url":"https://gitlab.com/ali-gitlab"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/357205","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/357205","notes":"https://gitlab.com/api/v4/projects/278964/issues/357205/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/357205/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#357205","relative":"#357205","full":"gitlab-org/gitlab#357205"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":105710652,"iid":357199,"project_id":278964,"title":"Pages Internal API Caching","description":"## What \n\nFor `GET /api/internal/pages:`. This is the API endpoint that gets called by GitLab pages when a request comes in and we haven't cached what needs to be served for this.\n\nGiven that the `satisfiedThreshold` for writing headers for a response is 0.5s, ideally, this would be even faster than the threshold set for `web-pages`. We think 0.5s for serving a static page is an acceptable target.\n\nSince this information generally does not change a lot, we could add some more caching here to help the metrics.\n\n## Relevant Files \n\n\n- `lib/api/internal/pages.rb`","state":"closed","created_at":"2022-03-29T20:56:17.681Z","updated_at":"2022-06-07T18:10:53.760Z","closed_at":"2022-04-20T14:11:21.232Z","closed_by":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"labels":["Category:Pages","Deliverable","Error Budget Improvement","[deprecated] Accepting merge requests","auto updated","backend","devops::create","group::editor","section::dev","type::maintenance","workflow::problem validation"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"}],"author":{"id":1646689,"username":"oregand","name":"David O'Regan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1646689/avatar.png","web_url":"https://gitlab.com/oregand"},"type":"ISSUE","assignee":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/357199","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":8,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/357199","notes":"https://gitlab.com/api/v4/projects/278964/issues/357199/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/357199/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#357199","relative":"#357199","full":"gitlab-org/gitlab#357199"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7541,"epic":{"id":439450,"iid":7541,"title":"Performance tuning / Error Budget Improvements for GitLab Pages","url":"/groups/gitlab-org/-/epics/7541","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":105708794,"iid":357196,"project_id":278964,"title":"Follow-up from \"Add group level security policies new/edit pages\"","description":"The following discussion from !83488 should be addressed:\n\n- [ ] @pslaughter started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/83488#note_886398284):  (+1 comment)\n\n    \u003e **suggestion (non-blocking,if-minor):** Could this `page_title` follow the pattern which we use when editing other things like milestones?\n    \u003e \n    \u003e https://gitlab.com/gitlab-org/gitlab/blob/501065a3779b1efaab886532c90bcacad43de85e/app/views/projects/milestones/edit.html.haml#L3\n    \u003e \n    \u003e ```\n    \u003e - page_title _('Edit'), @milestone.title, _('Milestones')\n    \u003e ```\n    \u003e \n    \u003e I think it'd be nice to include some identifier for the policy being edited :thinking:","state":"closed","created_at":"2022-03-29T20:08:40.801Z","updated_at":"2023-01-07T01:09:22.384Z","closed_at":"2023-01-07T01:09:22.360Z","closed_by":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"labels":["Category:Security Policy Management","Stretch","devops::govern","frontend","frontend-weight::2","group::security policies","maintenance::refactor","section::sec","type::maintenance","workflow::in review"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"}],"author":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"type":"ISSUE","assignee":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/357196","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/357196","notes":"https://gitlab.com/api/v4/projects/278964/issues/357196/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/357196/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#357196","relative":"#357196","full":"gitlab-org/gitlab#357196"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":105708734,"iid":357195,"project_id":278964,"title":"Add new variable DAST_API_EXCLUDE_URLS which mirrors DAST_EXCLUDE_URLS","description":"### Problem\n\n`DAST_API_EXCLUDE_PATHS` doesn't support commas which makes the on-demand switch over to DAST API could break some users.\n\nDiscussion: https://gitlab.com/gitlab-org/gitlab/-/issues/350514#note_886408439\n\n### Proposal\n\nReview legacy variable (`DAST_EXCLUDE_URLS`) and verify compatibility. Support `,` for URL separation.\nIf the environmental variable  `DAST_API_EXCLUDE_PATHS` cannot be used, then create a new variable `DAST_API_EXCLUDE_URLS` using a comma (`,`) as a separator.\n\n### Remark\n\n- In [DAST documentation](https://docs.gitlab.com/ee/user/application_security/dast/) uses it says `DAST_EXCLUDE_URLS` uses regular expression and `DAST_API_EXCLUDE_PATHS` uses globbing based on [Minimatcher](https://github.com/SLaks/Minimatch/blob/master/Minimatch/Minimatcher.cs). This leads to the creation of `DAST_API_EXCLUDE_URLS`\n- `DAST_EXCLUDE_URLS` seems to be using java regex which is not totally compatible with dotnet regex. Basic regex are likely to be  exchanged without rewriting.\n\n### \n1. [x] Worker-Entry\n    1. [x] Add new variable `DAST_API_EXCLUDE_URLS`\n    1. [x] Send new parameter thru RunnerOptions\n    1. [x] Add/Update tests (TDB if new tests can be unit test)\n        1. [x] Update py test to support new environmental variable\n        1. [x] Add test: excluding one Url\n        1. [x] Add test: excluding two Urls\n        1. [x] Add test: excluding two Urls using RegEx\n        1. [-] ~Add e2e test~\n1. [x] Scanner\n    1. [x] Receive new paramert in RunnerOptions\n    1. [x] Process new Parameter in:\n        1. [x] Update computation for `isOperationExcluded` \n            1. [-] ~Update `FindRoute` to also filter request matching against `AbsoluteUri`~\n            1. [-] ~Update `MoveNextOperation` to also filter request matching against `AbsoluteUri`~\n\n1. [x] Update Documentation\n    1. [x] Add or extent seciont to explain how to exclude URLs\n    1. [x] Add examples on how to exclude URL (specific, one or more and using basic regex)","state":"closed","created_at":"2022-03-29T20:05:18.875Z","updated_at":"2022-09-20T20:56:59.725Z","closed_at":"2022-04-20T15:04:25.236Z","closed_by":{"id":7488329,"username":"herbmadrigal","name":"Herber Madrigal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7488329/avatar.png","web_url":"https://gitlab.com/herbmadrigal"},"labels":["Category:API Security","GitLab Ultimate","backend","devops::secure","group::dynamic analysis","section::sec","type::feature","workflow::verification"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":7488329,"username":"herbmadrigal","name":"Herber Madrigal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7488329/avatar.png","web_url":"https://gitlab.com/herbmadrigal"}],"author":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"type":"ISSUE","assignee":{"id":7488329,"username":"herbmadrigal","name":"Herber Madrigal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7488329/avatar.png","web_url":"https://gitlab.com/herbmadrigal"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/357195","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":15,"completed_count":15},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"15 of 15 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/357195","notes":"https://gitlab.com/api/v4/projects/278964/issues/357195/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/357195/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#357195","relative":"#357195","full":"gitlab-org/gitlab#357195"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":105708664,"iid":357194,"project_id":278964,"title":"Support comma as URL separator in DAST_API_EXCLUDE_PATHS","description":"### Problem\n\n`DAST_API_EXCLUDE_PATHS` doesn't support commas which makes the on demand switch over to DAST API could break some users.\n\nDiscussion: https://gitlab.com/gitlab-org/gitlab/-/issues/350514#note_886408439\n\n### Proposal\n\nReview legacy variable and verify compatibility. Support `,` for URL separation.","state":"closed","created_at":"2022-03-29T20:03:15.007Z","updated_at":"2022-11-14T22:24:35.664Z","closed_at":"2022-11-14T22:24:35.650Z","closed_by":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"labels":["Category:API Security","[deprecated] Accepting merge requests","auto updated","devops::secure","group::dynamic analysis","missed:14.10","missed:15.0","missed:15.1","missed:15.2","missed:15.3","missed:15.4","missed:15.5","section::sec","type::maintenance"],"milestone":null,"assignees":[],"author":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"type":"ISSUE","assignee":null,"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/357194","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/357194","notes":"https://gitlab.com/api/v4/projects/278964/issues/357194/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/357194/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#357194","relative":"#357194","full":"gitlab-org/gitlab#357194"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":105708115,"iid":357193,"project_id":278964,"title":"Create shared MutationObserver renderless component","description":"## Context\n\nThe following discussion from !83873 should be addressed:\n\n- [ ] @pslaughter started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/83873#note_893503696): \n\n    \u003e **thought (non-blocking):** Every `MutationObserver` creates a native-to-JavaScript communication layer which can cause delays if there's too many of them. For this reason it's recommended to **share** `XObserver` instances as much as possible (see [relevant code for ResizeObserver in GitLab UI](https://gitlab.com/gitlab-org/gitlab-ui/blob/168c5325c1fab5174cfa5ad092d829ad11c85363/src/directives/resize_observer/resize_observer.js#L13)).\n    \u003e \n    \u003e I think we can encapsulate most of this `MutationObserver` management in a renderless component. I'll create an issue :eyes:\n    \u003e \n    \u003e /cc @iamphill\n\n## Implementation plan\n\n- Use the `resize-observer` directive in GitLab UI for inspiration https://gitlab.com/gitlab-org/gitlab-ui/blob/168c5325c1fab5174cfa5ad092d829ad11c85363/src/directives/resize_observer/resize_observer.js\n- We want to share the `MutationObserver` instance.","state":"closed","created_at":"2022-03-29T19:46:47.458Z","updated_at":"2022-04-21T17:26:33.136Z","closed_at":"2022-04-21T17:08:19.719Z","closed_by":{"id":2233420,"username":"pslaughter","name":"Paul Slaughter","state":"active","avatar_url":"https://secure.gravatar.com/avatar/631b25421eb206ab44cb2793ef09d881?s=80\u0026d=identicon","web_url":"https://gitlab.com/pslaughter"},"labels":["devops::create","frontend","group::editor","maintenance::refactor","section::dev","type::maintenance","workflow::in dev"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":10539680,"username":"slashmanov","name":"Stanislav Lashmanov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10539680/avatar.png","web_url":"https://gitlab.com/slashmanov"}],"author":{"id":2233420,"username":"pslaughter","name":"Paul Slaughter","state":"active","avatar_url":"https://secure.gravatar.com/avatar/631b25421eb206ab44cb2793ef09d881?s=80\u0026d=identicon","web_url":"https://gitlab.com/pslaughter"},"type":"ISSUE","assignee":{"id":10539680,"username":"slashmanov","name":"Stanislav Lashmanov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10539680/avatar.png","web_url":"https://gitlab.com/slashmanov"},"user_notes_count":32,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/357193","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/357193","notes":"https://gitlab.com/api/v4/projects/278964/issues/357193/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/357193/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#357193","relative":"#357193","full":"gitlab-org/gitlab#357193"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":105697626,"iid":357112,"project_id":278964,"title":"Enable feature flag in QA test for MergeRequest License Widget","description":"Before the [backend](https://gitlab.com/gitlab-org/gitlab/-/issues/333578) and [frontend](https://gitlab.com/gitlab-org/gitlab/-/issues/335868) issues supported the [feature flag](https://gitlab.com/groups/gitlab-org/-/epics/7749), the qa test for the MR widget had to have the flag hard coded to disabled: \n\nOnce both issues close, this test can be updated to remove the feature flag block: https://gitlab.com/gitlab-org/gitlab/-/blob/master/qa/qa/specs/features/ee/browser_ui/13_secure/merge_request_license_widget_spec.rb#L11-18\n\nImplementation plan:\n\n- [ ] remove usage of feature flag and the test ought to pass with ff enabled and disabled.","state":"closed","created_at":"2022-03-29T15:44:35.196Z","updated_at":"2022-04-18T03:24:01.318Z","closed_at":"2022-04-13T18:18:46.612Z","closed_by":{"id":4668304,"username":"ifrenkel","name":"Igor Frenkel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a73e8113c53ac25297ce751e59bbb1d3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifrenkel"},"labels":["Category:License Compliance","backend","devops::secure","feature flag","feature::addition","group::composition analysis","section::sec","type::feature","workflow::production"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":4668304,"username":"ifrenkel","name":"Igor Frenkel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a73e8113c53ac25297ce751e59bbb1d3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifrenkel"}],"author":{"id":4668304,"username":"ifrenkel","name":"Igor Frenkel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a73e8113c53ac25297ce751e59bbb1d3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifrenkel"},"type":"ISSUE","assignee":{"id":4668304,"username":"ifrenkel","name":"Igor Frenkel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a73e8113c53ac25297ce751e59bbb1d3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifrenkel"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/357112","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/357112","notes":"https://gitlab.com/api/v4/projects/278964/issues/357112/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/357112/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#357112","relative":"#357112","full":"gitlab-org/gitlab#357112"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7749,"epic":{"id":473859,"iid":7749,"title":"[15.0 Feature flag] Rollout of legacy approval_status removal for License Compliance","url":"/groups/gitlab-org/-/epics/7749","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":105695077,"iid":357104,"project_id":278964,"title":"Show information about security report schema validation problems in Vulnerability Report (Backend)","description":"## Why are we doing this work?\n\nCurrently, we expose schema validation warnings only in the pipeline security tab. I think it would be more visible if we exposed those warnings or some kind of message in the Vulnerability Report section, see picture.\n\n![image](/uploads/5dda9605c3ce18de178dcdc1555194ef/image.png)\n\n## Implementation plan\n\n1. Adjust `ee/app/helpers/ee/projects_helper.rb` so it contains information about the latest pipeline containing schema validation errors/warnings\n\n## Testing\n\n- [ ] Make sure existing E2E secure specs are not broken\n- [ ] Feature spec/Unit test to cover this change","state":"closed","created_at":"2022-03-29T14:55:36.404Z","updated_at":"2022-07-13T12:06:19.722Z","closed_at":"2022-07-07T17:28:03.715Z","closed_by":{"id":5721376,"username":"minac","name":"Mehmet Emin INAC","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d8bdee790902422e3554e411a173c7c0?s=80\u0026d=identicon","web_url":"https://gitlab.com/minac"},"labels":["Category:Vulnerability Management","auto updated","backend","devops::secure","feature::enhancement","group::threat insights","missed-deliverable","missed:14.10","quad-planning::complete-action","section::sec","type::feature","workflow::verification"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":5721376,"username":"minac","name":"Mehmet Emin INAC","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d8bdee790902422e3554e411a173c7c0?s=80\u0026d=identicon","web_url":"https://gitlab.com/minac"}],"author":{"id":7825316,"username":"subashis","name":"Subashis  Chakraborty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7825316/avatar.png","web_url":"https://gitlab.com/subashis"},"type":"ISSUE","assignee":{"id":5721376,"username":"minac","name":"Mehmet Emin INAC","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d8bdee790902422e3554e411a173c7c0?s=80\u0026d=identicon","web_url":"https://gitlab.com/minac"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/357104","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/357104","notes":"https://gitlab.com/api/v4/projects/278964/issues/357104/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/357104/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#357104","relative":"#357104","full":"gitlab-org/gitlab#357104"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6968,"epic":{"id":374803,"iid":6968,"title":"Enforce validation of security reports","url":"/groups/gitlab-org/-/epics/6968","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":105682926,"iid":357094,"project_id":278964,"title":"Enqueuer: fix the capacity check","description":"### :fire: Problem\n\nThe Enqueuer is using a capacity check to know:\n1. if it can run at the start of `#perform`.\n1. if it should re_enqueue at the end of `#perform`.\n\nThose two checks are not identical:\n1. https://gitlab.com/gitlab-org/gitlab/-/blob/e11d499a655a041fd1134d1f46409590770f40f6/app/workers/container_registry/migration/enqueuer_worker.rb#L75\n1. https://gitlab.com/gitlab-org/gitlab/-/blob/e11d499a655a041fd1134d1f46409590770f40f6/app/workers/container_registry/migration/enqueuer_worker.rb#L144\n\nIn addition, the `current_capacity` should be as fresh as possible. Why? Because a job can be paused and a notification on an ongoing migration is received. In other words, the `current_capacity` can change between (1.) and (2.).\n\n### :fire_engine: Solution\n\n* Use the same comparison for capacity checks: `\u003c`.\n* Don't memoize `#current_capacity`.","state":"closed","created_at":"2022-03-29T12:24:53.283Z","updated_at":"2022-04-04T14:03:48.147Z","closed_at":"2022-04-04T14:03:33.972Z","closed_by":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"labels":["Category:Container Registry","Container Registry Migration","Container Registry Migration Blocker","Container Registry Migration Unplanned","Container Registry Migration::Phase 2","backend","devops::package","group::package registry","ruby","section::ops","type::maintenance","workflow::production"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"}],"author":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"type":"ISSUE","assignee":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"user_notes_count":3,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/357094","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/357094","notes":"https://gitlab.com/api/v4/projects/278964/issues/357094/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/357094/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#357094","relative":"#357094","full":"gitlab-org/gitlab#357094"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7316,"epic":{"id":408066,"iid":7316,"title":"Drive the Container Registry migration Phase 2 from Rails","url":"/groups/gitlab-org/-/epics/7316","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":105680383,"iid":357089,"project_id":278964,"title":"Clean up related_epics_widget feature flag","description":"\u003c!-- Title suggestion: [Feature flag] Cleanup \u003cfeature-flag-name\u003e --\u003e\n\n## Summary\n\nThis issue is to cleanup the `related_epics_widget` feature flag, after the feature flag has been enabled by default for an appropriate amount of time in production.\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\n## Owners\n\n- Team: Plan, Product planning\n- Most appropriate slack channel to reach out to: `#s_plan`\n- Best individual to reach out to: egrieff, felipe_artur, jprovaznik, kushalpandy\n- PM: mushakov\n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## Expectations\n\n### What might happen if this goes wrong?\n\n\u003c!-- Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\n### Cleaning up the feature flag\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [x] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag. Ask for review and merge it.\n    - [ ] Remove all references to the feature flag from the codebase.\n    - [ ] Remove the YAML definitions for the feature from the repository.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [x] Ensure that the cleanup MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-cleanup-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [x] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [x] `/chatops run feature delete \u003cfeature-flag-name\u003e --dev`\n    - [x] `/chatops run feature delete \u003cfeature-flag-name\u003e --staging`\n    - [x] `/chatops run feature delete \u003cfeature-flag-name\u003e`\n- [ ] Close this rollout issue.","state":"closed","created_at":"2022-03-29T11:44:41.182Z","updated_at":"2022-05-24T11:59:55.595Z","closed_at":"2022-05-10T17:17:17.173Z","closed_by":{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"},"labels":["Deliverable","backend","devops::plan","documentation","feature flag","feature::consolidation","group::product planning","section::dev","type::feature","workflow::verification"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"}],"author":{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"},"type":"ISSUE","assignee":{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/357089","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":12,"completed_count":6},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"6 of 12 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/357089","notes":"https://gitlab.com/api/v4/projects/278964/issues/357089/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/357089/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#357089","relative":"#357089","full":"gitlab-org/gitlab#357089"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7736,"epic":{"id":470053,"iid":7736,"title":"Epic to epic linking - Enhancements","url":"/groups/gitlab-org/-/epics/7736","group_id":9970,"human_readable_end_date":"Mar 31, 2023","human_readable_timestamp":"\u003cstrong\u003e3\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":105680352,"iid":357088,"project_id":278964,"title":"Fix naming around `Gitlab::HookData::IssuableBuilder`","description":"## Background\n\nThe following discussion from !83536 should be addressed:\n\n- [ ] @toupeira started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/83536#note_892824640): \n\n    \u003e The current situation with the `Gitlab::HookData` and `Gitlab::DataBuilder` classes is pretty confusing: AFAIK the `DataBuilder` classes build complete payloads for webhooks/integrations, while the `HookData` classes build partial payloads which are added either in `object_attributes` of the full payload, or in other keys like `labels` or `project` for related associations.\n    \u003e\n    \u003e And then we sometimes have `#hook_data` methods on models which use a `DataBuilder`, and `#hook_attrs` which use a `HookData` or directly return a hash, but not sure if that's consistent everywhere.\n\n    \u003e Oh and actually `Gitlab::HookData::IssuableBuilder` seems to build a full payload and is only called from `Issuable#to_hook_data`, so maybe this should actually be renamed to `Gitlab::DataBuilder::Issuable` and `#hook_data` for clarity. I think I'll open a follow-up issue for this.\n\n## Proposal\n\n- Rename `Gitlab::HookData::IssuableBuilder` to `Gitlab::DataBuilder::Issuable`.\n- Maybe also rename `Issuable#to_hook_data` to `#hook_data`, although this is less of a concern.","state":"closed","created_at":"2022-03-29T11:44:12.978Z","updated_at":"2022-11-22T18:55:34.285Z","closed_at":"2022-05-04T12:04:24.855Z","closed_by":{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},"labels":["Category:Integrations","backend","devops::manage","good for new contributors","group::integrations","maintenance::refactor","section::dev","type::maintenance","workflow::ready for development"],"milestone":null,"assignees":[{"id":11458815,"username":"Indu_devop","name":"Indu Thakur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ef769b57fc9a68727971f317d14bd21c?s=80\u0026d=identicon","web_url":"https://gitlab.com/Indu_devop"}],"author":{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},"type":"ISSUE","assignee":{"id":11458815,"username":"Indu_devop","name":"Indu Thakur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ef769b57fc9a68727971f317d14bd21c?s=80\u0026d=identicon","web_url":"https://gitlab.com/Indu_devop"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/357088","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/357088","notes":"https://gitlab.com/api/v4/projects/278964/issues/357088/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/357088/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#357088","relative":"#357088","full":"gitlab-org/gitlab#357088"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":105663359,"iid":357075,"project_id":278964,"title":"[Feature Flag] Rollout of `ci_authenticate_running_job_token_for_artifacts` and  `ci_expose_running_job_token_for_artifacts`","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout [the feature](https://gitlab.com/gitlab-org/gitlab/-/issues/223214) on production. The feature changes the authentication flow for a runner to request job artifacts by using the token of the running job.\n\nTo roll this out without any down time, we need to roll out 2 feature flags:\n1. The first feature flag to be enabled is `ci_authenticate_running_job_token_for_artifacts`. This opens up the GET job artifacts API to authenticate using either the running job's token or the old job token.\n2. The second feature flag to be enabled is `ci_expose_running_job_token_for_artifacts`. This would expose the running job token in the POST job request API, where the runner requests for a job to be executed. Only after this feature flag is enabled, would the runner start using the running job token for the GET job artifacts API.\n\n## Steps to enable\n\nThe steps to enable the feature are:\n1. `/chatops run feature set ci_authenticate_running_job_token_for_artifacts true`\n1. **:warning: Important:** Wait for **5 minutes** for feature flag cache to be invalidated across all API processes.\n1. `/chatops run feature set ci_expose_running_job_token_for_artifacts true`\n\n## Owners\n\n- Team: Pipeline Insights\n- Most appropriate slack channel to reach out to: `#g_pipeline_insights`\n- Best individual to reach out to: @alberts-gitlab \n- PM: @jreporter \n- EM: @shampton \n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## Expectations\n\n### What are we expecting to happen?\n\nNo change to behaviour in pipeline jobs. We are introducing a new approach to authenticating job artifact request from the runner.\n\nWhen the feature flag is cleaned up and the old code is removed, we expect that a job token cannot be used to download artifacts anymore after the job is no longer running.\n\n### When is the feature viable?\n\nEnable feature flag :ci_authenticate_running_job_token_for_artifacts.\n\n### What might happen if this goes wrong?\n\nCI jobs might fail at artifact download step. The MR has added tests for various scenarios where CI jobs need to dwonload artifacts. In the unlikely case that something goes wrong, we can disable the feature flag to revert to the old behaviour.\n\n### What can we monitor to detect problems with this?\n\n- dashboard on job execution success rate.\n\n### What can we check for monitoring production after rollouts?\n\n_Consider adding links to check for Sentry errors, Production logs for 5xx, 302s, etc._\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Enable the feature globally on non-production environments. See Steps to Enable above for step by step instructions.\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e true --dev`\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e true --staging`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Specific rollout on production\n\n- Ensure that the feature MRs have been deployed to both production and canary.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- If you're using [project-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries: (See Steps to Enable above for step by step instructions.)\n    - [x] `/chatops run feature set --project=gitlab-org/gitlab \u003cfeature-flag-name\u003e true`\n    - [ ] `/chatops run feature set --project=gitlab-org/gitlab-foss \u003cfeature-flag-name\u003e true`\n    - [ ] `/chatops run feature set --project=gitlab-com/www-gitlab-com \u003cfeature-flag-name\u003e true`\n- If you're using [group-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries: (See Steps to Enable above for step by step instructions.)\n    - [ ] `/chatops run feature set --group=gitlab-org \u003cfeature-flag-name\u003e true`\n    - [ ] `/chatops run feature set --group=gitlab-com \u003cfeature-flag-name\u003e true`\n- If you're using [user-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries: (See Steps to Enable above for step by step instructions.)\n    - [ ] `/chatops run feature set --user=\u003cyour-username\u003e \u003cfeature-flag-name\u003e true`\n- [x] Verify that the feature works on the specific entries. Posting the QA result in this issue is preferable.\n\n### Preparation before global rollout\n\n- [x] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does. -\u003e https://gitlab.com/gitlab-com/gl-infra/production/-/issues/7054\n- [x] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [x] (N/A) Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [ ] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com. \n- [x] (N/A) Ensure that any breaking changes have been announced following the [release post process](https://about.gitlab.com/handbook/marketing/blog/release-posts/#deprecations-removals-and-breaking-changes) to ensure GitLab customers are aware.\n- [ ] Notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\n**Scheduled date: Tuesday, 2022-05-17 07:00 UTC.**\n\nFor visibility, all `/chatops` commands that target production should be executed in the `#production` slack channel and cross-posted (with the command results) to the responsible team's slack channel (`#g_TEAM_NAME`).\n\n- [x] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e --random`\n  - Enable the feature globally on production environment.\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e true`\n- [x] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [ ] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [ ] Create a merge request with the following changes. Ask for review and merge it.\n    - [ ] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the default-enabling MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-default-enabling-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [ ] (Optional) You can [create a separate issue](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [ ] Set the title to \"[Feature flag] Cleanup `\u003cfeature-flag-name\u003e`\".\n    - [ ] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [ ] Link this rollout issue as a related issue.\n    - [ ] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\nYou can either [create a follow-up issue for Feature Flag Cleanup](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) or use the checklist below in this same issue.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [x] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag. Ask for review and merge it. https://gitlab.com/gitlab-org/gitlab/-/merge_requests/87509\n    - [x] Remove all references to the feature flag from the codebase.\n    - [x] Remove the YAML definitions for the feature from the repository.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [x] Ensure that the cleanup MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-cleanup-mr\u003e`\n- [x] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [x] `/chatops run feature delete \u003cfeature-flag-name\u003e --dev`\n    - [x] `/chatops run feature delete \u003cfeature-flag-name\u003e --staging`\n    - [x] `/chatops run feature delete \u003cfeature-flag-name\u003e`\n- [x] Close this rollout issue.\n\n## Rollback Steps\n\nThe steps to roll back the feature are:\n\n1. `/chatops run feature set ci_expose_running_job_token_for_artifacts false`\n1. **:warning: Important:** Wait for **5 minutes** for feature flag cache to be invalidated across all API processes.\n1. `/chatops run feature set ci_authenticate_running_job_token_for_artifacts false`","state":"closed","created_at":"2022-03-29T07:32:43.686Z","updated_at":"2022-05-24T08:24:50.332Z","closed_at":"2022-05-19T11:45:52.043Z","closed_by":{"id":6354882,"username":"alberts-gitlab","name":"Albert Salim","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6354882/avatar.png","web_url":"https://gitlab.com/alberts-gitlab"},"labels":["Category:Build Artifacts","automation:ml","devops::verify","feature flag","feature::addition","group::pipeline insights","missed:14.10","section::ops","type::feature","workflow::production"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":6354882,"username":"alberts-gitlab","name":"Albert Salim","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6354882/avatar.png","web_url":"https://gitlab.com/alberts-gitlab"}],"author":{"id":6354882,"username":"alberts-gitlab","name":"Albert Salim","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6354882/avatar.png","web_url":"https://gitlab.com/alberts-gitlab"},"type":"ISSUE","assignee":{"id":6354882,"username":"alberts-gitlab","name":"Albert Salim","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6354882/avatar.png","web_url":"https://gitlab.com/alberts-gitlab"},"user_notes_count":16,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/357075","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":49,"completed_count":25},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"25 of 49 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/357075","notes":"https://gitlab.com/api/v4/projects/278964/issues/357075/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/357075/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#357075","relative":"#357075","full":"gitlab-org/gitlab#357075"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":105658135,"iid":357072,"project_id":278964,"title":"Add Chart for DORA Change Failure Rate metric","description":"\n\n### Release notes\n\n\u003c!-- What is the problem and solution you're proposing? This content sets the overall vision for the feature and serves as the release notes that will populate in various places, including the [release post blog](https://about.gitlab.com/releases/categories/releases/) and [Gitlab project releases](https://gitlab.com/gitlab-org/gitlab/-/releases). \" --\u003e\n\n### Problem to solve\n\n\u003c!-- What is the user problem you are trying to solve with this issue? --\u003e\n\nAs a user, I would like to know my team's [Change Failure Rate](https://gitlab.com/gitlab-org/gitlab/-/issues/299407) to ensure the team delivers business value.\n\nTrends: how are speed and reliability changing over time\nBenchmarking: setting and tracking against goals\nIdentify problems earlier: warning signs and real-time action\nGuidance: where to focus next to improve performance and reliability \nInvestment and outcomes: measure investment in value streams and business outcomes\n\nOnce we implement https://gitlab.com/gitlab-org/gitlab/-/issues/357071 the user will need an overtime visualization for the **Change Failure Rate** Metric. \n\n\n### Proposal\n\n\u003c!-- Use this section to explain the feature and how it will work. It can be helpful to add technical details, design proposals, and links to related epics or issues. --\u003e\n\n\n1. Add a new chart under **CI/CD Analytics** page. \n3. Order of the charts tabs (left to right): `Release statistics` - `Deployment frequency` - `Lead time` - `Time to restore service` - `Change Failure Rate` - `Shared Runners Usage`\n3. Chart type: same as https://docs.gitlab.com/ee/user/analytics/ci_cd_analytics.html#view-lead-time-for-changes-chart.\n3. Tile for \"Change Failure Rate\" should also be included in the chart. \n3. Chart and tile should be filtered based on Date pickers with 3 options: `Last week`, `Last month`, `Last 90 days`. \n3. Trendline with `median time` is needed. \n4. Consider performance vs data to ensure smooth page usability.\n5. ~\"GitLab Ultimate\" will see also see group level.\n\n\n### Intended users\n\n\u003c!-- Who will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n\n* [Cameron (Compliance Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#cameron-compliance-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager)\n* [Alex (Security Operations Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#alex-security-operations-engineer)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops)\n* [Priyanka (Platform Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#priyanka-platform-engineer)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n* [Eddie (Content Editor)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#eddie-content-editor)\n\n--\u003e\n\n### Feature Usage Metrics\n\n\u003c!-- How are you going to track usage of this feature? Think about user behavior and their interaction with the product. What indicates someone is getting value from it?\n\n\nCreate tracking issue using the Snowplow event tracking template. See https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Snowplow%20event%20tracking.md\n\n--\u003e\n\n\u003c!-- Label reminders\nUse the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n--\u003e\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2022-03-29T06:05:24.851Z","updated_at":"2022-08-11T08:28:52.110Z","closed_at":"2022-07-07T04:32:27.377Z","closed_by":{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"},"labels":["Deliverable","GitLab Ultimate","auto updated","devops::manage","documentation","feature::addition","frontend","group::optimize","priority::1","release post item::in review","section::dev","type::feature","workflow::verification"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"}],"author":{"id":10879254,"username":"hsnir1","name":"Haim Snir","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10879254/avatar.png","web_url":"https://gitlab.com/hsnir1"},"type":"ISSUE","assignee":{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"},"user_notes_count":18,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/357072","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/357072","notes":"https://gitlab.com/api/v4/projects/278964/issues/357072/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/357072/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#357072","relative":"#357072","full":"gitlab-org/gitlab#357072"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7790,"epic":{"id":484436,"iid":7790,"title":"[VSA] Combining Value stream with DORA4 metrics - Viable maturity","url":"/groups/gitlab-org/-/epics/7790","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":105657934,"iid":357071,"project_id":278964,"title":"Add tile to VSA for DORA Change Failure Rate","description":"\n\n### Release notes\n\n\u003c!-- What is the problem and solution you're proposing? This content sets the overall vision for the feature and serves as the release notes that will populate in various places, including the [release post blog](https://about.gitlab.com/releases/categories/releases/) and [Gitlab project releases](https://gitlab.com/gitlab-org/gitlab/-/releases). \" --\u003e\nIn the VSA Overview stage, a user can view the DORA \"Change Failure Rate\" metric.\n### Problem to solve\n\n\u003c!-- What is the user problem you are trying to solve with this issue? --\u003e\n\nAs a user I would like to know my [DORA](https://docs.gitlab.com/ee/user/analytics/#definitions) **Change Failure Rate**.\n\nOnce we implement https://gitlab.com/gitlab-org/gitlab/-/issues/299407+ this data is accessible but not in the UI.\n\n### Proposal\n\n\u003c!-- Use this section to explain the feature and how it will work. It can be helpful to add technical details, design proposals, and links to related epics or issues. --\u003e\n\n1. Add a new tile to Value Stream Analytics called \"Change Failure Rate\" that polls the into from the DORA API.\n2. For the short-term only for group VSA.\n2. DORA metrics order is to match the order that DORA themselves use.\n\n![image](/uploads/414eee4ddc387a5770ed5a5f2a895d1e/image.png)\n\n### Popover content:\n\n---\n\n#### Change failure rate\n\nPercentage of deployments that cause a failure in production.\n\n[Go to docs](https://docs.gitlab.com/ee/user/analytics/index.html#change-failure-rate)\n\n---\n\n### [:spy:️ Annotated specs in the Figma file →](https://www.figma.com/file/f4ax05m9prTMy9k7lkPFvy/Value-Stream-Analytics?node-id=1509%3A9275)\n\n### Related to:\n\n- https://gitlab.com/gitlab-org/gitlab/-/issues/355304+\n- https://gitlab.com/gitlab-org/gitlab/-/issues/210323+\n\n\n### Intended users\n\n\u003c!-- Who will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n\n* [Cameron (Compliance Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#cameron-compliance-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager)\n* [Alex (Security Operations Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#alex-security-operations-engineer)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops)\n* [Priyanka (Platform Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#priyanka-platform-engineer)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n* [Eddie (Content Editor)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#eddie-content-editor)\n\n--\u003e\n\n### Feature Usage Metrics\n\n\u003c!-- How are you going to track usage of this feature? Think about user behavior and their interaction with the product. What indicates someone is getting value from it?\n\nCreate tracking issue using the Snowplow event tracking template. See https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Snowplow%20event%20tracking.md\n\n--\u003e\n\n\u003c!-- Label reminders\nUse the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n--\u003e\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2022-03-29T05:58:02.452Z","updated_at":"2022-07-12T13:22:50.585Z","closed_at":"2022-05-12T04:59:53.663Z","closed_by":{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"},"labels":["Deliverable","GitLab Ultimate","auto updated","devops::manage","documentation","feature::addition","frontend","group::optimize","priority::2","section::dev","type::feature","workflow::verification"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"},{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"}],"author":{"id":10879254,"username":"hsnir1","name":"Haim Snir","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10879254/avatar.png","web_url":"https://gitlab.com/hsnir1"},"type":"ISSUE","assignee":{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"},"user_notes_count":18,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/357071","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/357071","notes":"https://gitlab.com/api/v4/projects/278964/issues/357071/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/357071/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#357071","relative":"#357071","full":"gitlab-org/gitlab#357071"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7790,"epic":{"id":484436,"iid":7790,"title":"[VSA] Combining Value stream with DORA4 metrics - Viable maturity","url":"/groups/gitlab-org/-/epics/7790","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":105653755,"iid":357066,"project_id":278964,"title":"Search result with long line changes displayed as horizontal scrolling","description":"### Summary\n\nWhen doing a global search, if one changed line is very long, that one line becomes scrollable\n\n![demo](/uploads/9ffb0a472d86d4950fac9fb1c26630be/螢幕錄製_2022-03-29_上午11.23.30.mov)\n\n### Steps to reproduce\n\nSee https://gitlab.com/search?search=gitlab-logo-white-preview.png\u0026nav_source=navbar\u0026project_id=16683102\u0026group_id=2452873\u0026search_code=true\u0026repository_ref=master\n\n### What is the current *bug* behavior?\n\nScrolling happens on long changed lines\n\n### What is the expected *correct* behavior?\n\nlong lines are displayed as multiple lines (similar to [commit display page](https://gitlab.com/gitlab-org/security-products/security-report-schemas/-/commit/9dc82e17bd7a234b5a98632c6ef114328a831e81))\n\n### Relevant logs and/or screenshots\n\nSee above\n\n### Output of checks\n\nThis bug happens on GitLab.com\n\n### Proposal\n\nThis should work as it does for [diffs](https://gitlab.com/gitlab-org/gitlab/-/commit/e3584d858470d239bbecb3451c2c11f059f237e1#4c1335ac30bce35c395f9ee109aea7c43f86fe28_142_141), where if a line doesn't fit within the blob container it wraps to a new line (with blank line number). This should also function responsively, if the page width decreases/increases lines are adjusted as needed (see screenshot and gif below)\n\n![Screen_Shot_2022-04-25_at_9.54.37_AM](/uploads/0d54b38202e62c1f86783ae32560e247/Screen_Shot_2022-04-25_at_9.54.37_AM.png)\n\n_Responsive_\n![line-scrolling](/uploads/166c3c25abcf624cba203813aeb47673/line-scrolling.gif)\n\nThis can be done by setting some bounds in the display details for the Blob result view.","state":"closed","created_at":"2022-03-29T03:42:19.764Z","updated_at":"2022-08-21T12:07:03.122Z","closed_at":"2022-08-12T05:04:57.508Z","closed_by":{"id":4888751,"username":"changzhengliu","name":"Changzheng Liu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4888751/avatar.png","web_url":"https://gitlab.com/changzhengliu"},"labels":["Category:Code Search","Category:Global Search","Deliverable","SUS::Impacting","UX","advanced search","devops::data_stores","frontend","group::global search","priority::2","regression","regression:14.10","section::enablement","severity::2","type::bug","workflow::in review"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":10776513,"username":"tbulva","name":"Tomas Bulva","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10776513/avatar.png","web_url":"https://gitlab.com/tbulva"}],"author":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"type":"ISSUE","assignee":{"id":10776513,"username":"tbulva","name":"Tomas Bulva","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10776513/avatar.png","web_url":"https://gitlab.com/tbulva"},"user_notes_count":17,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/357066","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/357066","notes":"https://gitlab.com/api/v4/projects/278964/issues/357066/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/357066/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#357066","relative":"#357066","full":"gitlab-org/gitlab#357066"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":105652355,"iid":357065,"project_id":278964,"title":"Migrate ee/spec/frontend/vue_shared/license_compliance/components/admin_license_management_row_spec.js to Vue Utils","description":"Migrate ee/spec/frontend/vue_shared/license_compliance/components/admin_license_management_row_spec.js to Vue Utils\n\nFollow-up to https://gitlab.com/gitlab-org/gitlab/-/merge_requests/82865#note_891559626","state":"closed","created_at":"2022-03-29T02:50:25.617Z","updated_at":"2022-06-21T12:06:43.112Z","closed_at":"2022-05-29T21:31:43.966Z","closed_by":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"labels":["Category:License Compliance","Deliverable","Enterprise Edition","GitLab Ultimate","devops::secure","frontend","group::composition analysis","maintenance::refactor","missed-deliverable","missed:15.0","section::sec","test","type::maintenance","workflow::in review"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"}],"author":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"type":"ISSUE","assignee":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/357065","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/357065","notes":"https://gitlab.com/api/v4/projects/278964/issues/357065/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/357065/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#357065","relative":"#357065","full":"gitlab-org/gitlab#357065"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"needs_attention"},{"id":105637733,"iid":357030,"project_id":278964,"title":"Scheduler failed to assign the Job to the Runner when using coverage_report","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"type::bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=type::bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nThe scheduler failed to assign job to the runner\n\n### Steps to reproduce\n\n\u003c!-- Describe how one can reproduce the issue - this is very important. Please use an ordered list. --\u003e\n\n### Example Project\n\n\u003c!-- If possible, please create an example project here on GitLab.com that exhibits the problematic \nbehavior, and link to it here in the bug report. If you are using an older version of GitLab, this \nwill also determine whether the bug is fixed in a more recent version. --\u003e\n\n### What is the current *bug* behavior?\n\n\u003c!-- Describe what actually happens. --\u003e\nThe scheduler fails to assign the job to the runner\n\n### What is the expected *correct* behavior?\n\n\u003c!-- Describe what you should see instead. --\u003e\nThe job is correctly assigned to the runner\n\n### Relevant logs and/or screenshots\n\n#### Partial CI Config\n\nTaken from https://docs.gitlab.com/ee/user/project/merge_requests/test_coverage_visualization.html#gradle-example and slightly modified:\n- needs Job name changed\n- cobertura report exchanged with the newer coverage_report\n- rules changed to fit the workflow\n\n```yaml\ncoverage-gradle:\n  stage: test\n  needs:\n    - test-gradle\n  image: registry.gitlab.com/haynes/jacoco2cobertura:1.0.7\n  script:\n    - python /opt/cover2cover.py build/jacoco/jacoco.xml $CI_PROJECT_DIR/src/main/java/ \u003e build/cobertura.xml\n  artifacts:\n    when: always\n    reports:\n      coverage_report:\n        coverage_format: cobertura\n        path: build/cobertura.xml\n  rules:\n    - if: $NAB_DISABLE_COVERAGE\n      when: never\n    - when: always\n```\n\n#### Raw\n\n```json\n{\n\"severity\":\"ERROR\",\n\"time\":\"2022-03-28T18:21:18.343Z\",\n\"correlation_id\":\"01FZ8W5HSCA0V6EFBBG2NG4EGZ\",\n\"exception.class\":\"KeyError\",\n\"exception.message\":\"key not found: :coverage_report\",\n\"exception.backtrace\":[\"app/presenters/ci/build_runner_presenter.rb:90:in `fetch'\",\"app/presenters/ci/build_runner_presenter.rb:90:in `block in create_reports'\",\"app/presenters/ci/build_runner_presenter.rb:87:in `each'\",\"app/presenters/ci/build_runner_presenter.rb:87:in `map'\",\"app/presenters/ci/build_runner_presenter.rb:87:in `create_reports'\",\"app/presenters/ci/build_runner_presenter.rb:15:in `artifacts'\",\"app/services/ci/register_job_service.rb:213:in `present_build!'\",\"app/services/ci/register_job_service.rb:173:in `process_build'\",\"app/services/ci/register_job_service.rb:82:in `block in process_queue'\",\"app/services/ci/register_job_service.rb:140:in `block in each_build'\",\"app/services/ci/register_job_service.rb:140:in `each'\",\"app/services/ci/register_job_service.rb:140:in `each_build'\",\"app/services/ci/register_job_service.rb:55:in `process_queue'\",\"app/services/ci/register_job_service.rb:31:in `block in execute'\",\"lib/gitlab/ci/queue/metrics.rb:97:in `observe_queue_time'\",\"app/services/ci/register_job_service.rb:30:in `execute'\",\"lib/api/ci/runner.rb:151:in `block (2 levels) in \\u003cclass:Runner\\u003e'\",\"ee/lib/gitlab/middleware/ip_restrictor.rb:14:in `block in call'\",\"ee/lib/gitlab/ip_address_state.rb:10:in `with'\",\"ee/lib/gitlab/middleware/ip_restrictor.rb:13:in `call'\",\"lib/api/api_guard.rb:213:in `call'\",\"lib/gitlab/metrics/elasticsearch_rack_middleware.rb:16:in `call'\",\"lib/gitlab/middleware/rails_queue_duration.rb:33:in `call'\",\"lib/gitlab/middleware/memory_report.rb:13:in `call'\",\"lib/gitlab/middleware/speedscope.rb:13:in `call'\",\"lib/gitlab/request_profiler/middleware.rb:17:in `call'\",\"lib/gitlab/database/load_balancing/rack_middleware.rb:23:in `call'\",\"lib/gitlab/metrics/rack_middleware.rb:16:in `block in call'\",\"lib/gitlab/metrics/web_transaction.rb:46:in `run'\",\"lib/gitlab/metrics/rack_middleware.rb:16:in `call'\",\"lib/gitlab/jira/middleware.rb:19:in `call'\",\"lib/gitlab/middleware/go.rb:20:in `call'\",\"lib/gitlab/etag_caching/middleware.rb:21:in `call'\",\"lib/gitlab/middleware/query_analyzer.rb:11:in `block in call'\",\"lib/gitlab/database/query_analyzer.rb:46:in `within'\",\"lib/gitlab/middleware/query_analyzer.rb:11:in `call'\",\"lib/gitlab/middleware/multipart.rb:173:in `call'\",\"lib/gitlab/middleware/read_only/controller.rb:50:in `call'\",\"lib/gitlab/middleware/read_only.rb:18:in `call'\",\"lib/gitlab/middleware/same_site_cookies.rb:27:in `call'\",\"lib/gitlab/middleware/handle_malformed_strings.rb:21:in `call'\",\"lib/gitlab/middleware/basic_health_check.rb:25:in `call'\",\"lib/gitlab/middleware/handle_ip_spoof_attack_error.rb:25:in `call'\",\"lib/gitlab/middleware/request_context.rb:21:in `call'\",\"lib/gitlab/middleware/webhook_recursion_detection.rb:15:in `call'\",\"config/initializers/fix_local_cache_middleware.rb:11:in `call'\",\"lib/gitlab/middleware/compressed_json.rb:26:in `call'\",\"lib/gitlab/middleware/rack_multipart_tempfile_factory.rb:19:in `call'\",\"lib/gitlab/middleware/sidekiq_web_static.rb:20:in `call'\",\"lib/gitlab/metrics/requests_rack_middleware.rb:77:in `call'\",\"lib/gitlab/middleware/release_env.rb:13:in `call'\"],\n\"user.username\":null,\n\"tags.program\":\"web\",\n\"tags.locale\":\"en\",\n\"tags.feature_category\":\"continuous_integration\",\n\"tags.correlation_id\":\"01FZ8W5HSCA0V6EFBBG2NG4EGZ\",\n\"extra.build_id\":19858,\n\"extra.build_name\":\"coverage-gradle\",\n\"extra.build_stage\":\"test\",\n\"extra.pipeline_id\":6058,\n\"extra.project_id\":54 \n}\n```\n\n#### Parsed from Grafana Loki\n\n![image](/uploads/4a542443fd9b187cf50281af574991a1/image.png)\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\nSystem information\nSystem:         Debian 10\nProxy:          no\nCurrent User:   git\nUsing RVM:      no\nRuby Version:   2.7.5p203\nGem Version:    3.1.4\nBundler Version:2.2.33\nRake Version:   13.0.6\nRedis Version:  6.2.6\nSidekiq Version:6.4.0\nGo Version:     unknown\n\nGitLab information\nVersion:        14.9.1-ee\nRevision:       999a4a9a0bc\nDirectory:      /opt/gitlab/embedded/service/gitlab-rails\nDB Adapter:     PostgreSQL\nDB Version:     12.7\nURL:            https://host\nHTTP Clone URL: https://host/some-group/some-project.git\nSSH Clone URL:  git@host:some-group/some-project.git\nElasticsearch:  no\nGeo:            no\nUsing LDAP:     no\nUsing Omniauth: yes\nOmniauth Providers: \n\nGitLab Shell\nVersion:        13.24.0\nRepository storage paths:\n- default:      /var/opt/gitlab/git-data/repositories\nGitLab Shell path:              /opt/gitlab/embedded/service/gitlab-shell\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\nChecking GitLab subtasks ...\n\nChecking GitLab Shell ...\n\nGitLab Shell: ... GitLab Shell version \u003e= 13.24.0 ? ... OK (13.24.0)\nRunning /opt/gitlab/embedded/service/gitlab-shell/bin/check\nInternal API available: OK\nRedis available via internal API: OK\ngitlab-shell self-check successful\n\nChecking GitLab Shell ... Finished\n\nChecking Gitaly ...\n\nGitaly: ... default ... OK\n\nChecking Gitaly ... Finished\n\nChecking Sidekiq ...\n\nSidekiq: ... Running? ... yes\nNumber of Sidekiq processes (cluster/worker) ... 1/1\n\nChecking Sidekiq ... Finished\n\nChecking Incoming Email ...\n\nIncoming Email: ... Checking Reply by email ...\n\nIMAP server credentials are correct? ... Checking \u003cemail\u003e\nChecking \u003cemail\u003e\nyes\nMailroom enabled? ... skipped\nMailRoom running? ... skipped\n\nChecking Reply by email ... Finished\n\n\nChecking Incoming Email ... Finished\n\nChecking LDAP ...\n\nLDAP: ... LDAP is disabled in config/gitlab.yml\n\nChecking LDAP ... Finished\n\nChecking GitLab App ...\n\nDatabase config exists? ... yes\nAll migrations up? ... yes\nDatabase contains orphaned GroupMembers? ... no\nGitLab config exists? ... yes\nGitLab config up to date? ... yes\nLog directory writable? ... yes\nTmp directory writable? ... yes\nUploads directory exists? ... yes\nUploads directory has correct permissions? ... yes\nUploads directory tmp has correct permissions? ... yes\nSystemd unit files or init script exist? ... skipped (omnibus-gitlab has neither init script nor systemd units)\nSystemd unit files or init script up-to-date? ... skipped (omnibus-gitlab has neither init script nor systemd units)\nProjects have namespace: ... \n2/1 ... yes\n57/3 ... yes\n7/4 ... yes\n55/5 ... yes\n57/6 ... yes\n61/7 ... yes\n55/8 ... yes\n8/9 ... yes\n22/10 ... yes\n8/11 ... yes\n7/12 ... yes\n28/13 ... yes\n55/15 ... yes\n31/16 ... yes\n33/17 ... yes\n33/18 ... yes\n33/19 ... yes\n33/20 ... yes\n57/21 ... yes\n8/22 ... yes\n33/23 ... yes\n55/24 ... yes\n50/25 ... yes\n44/26 ... yes\n10/27 ... yes\n62/28 ... yes\n10/30 ... yes\n50/31 ... yes\n50/32 ... yes\n50/34 ... yes\n50/35 ... yes\n54/36 ... yes\n55/39 ... yes\n61/45 ... yes\n58/48 ... yes\n59/49 ... yes\n59/50 ... yes\n59/51 ... yes\n59/52 ... yes\n50/53 ... yes\n55/54 ... yes\n69/56 ... yes\n50/57 ... yes\n6/58 ... yes\n57/59 ... yes\n81/60 ... yes\n62/61 ... yes\n28/63 ... yes\n28/64 ... yes\n28/65 ... yes\n28/66 ... yes\n28/67 ... yes\n102/68 ... yes\n88/69 ... yes\nRedis version \u003e= 5.0.0? ... yes\nRuby version \u003e= 2.7.2 ? ... yes (2.7.5)\nGit user has default SSH configuration? ... yes\nActive users: ... 20\nIs authorized keys file accessible? ... skipped (authorized keys not enabled)\nGitLab configured to store new projects in hashed storage? ... yes\nAll projects are in hashed storage? ... yes\nElasticsearch version 7.x (6.4 - 6.x deprecated to be removed in 13.8)? ... skipped (elasticsearch is disabled)\n\nChecking GitLab App ... Finished\n\n\nChecking GitLab subtasks ... Finished\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e","state":"closed","created_at":"2022-03-28T18:55:05.517Z","updated_at":"2022-04-22T19:10:04.785Z","closed_at":"2022-04-12T15:13:49.651Z","closed_by":{"id":3029776,"username":"shampton","name":"Scott Hampton","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3029776/avatar.png","web_url":"https://gitlab.com/shampton"},"labels":["Category:Code Testing and Coverage","devops::verify","group::pipeline insights","section::ops"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":6354882,"username":"alberts-gitlab","name":"Albert Salim","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6354882/avatar.png","web_url":"https://gitlab.com/alberts-gitlab"}],"author":{"id":5219924,"username":"Taucher2003","name":"Niklas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5219924/avatar.png","web_url":"https://gitlab.com/Taucher2003"},"type":"ISSUE","assignee":{"id":6354882,"username":"alberts-gitlab","name":"Albert Salim","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6354882/avatar.png","web_url":"https://gitlab.com/alberts-gitlab"},"user_notes_count":17,"merge_requests_count":0,"upvotes":4,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/357030","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/357030","notes":"https://gitlab.com/api/v4/projects/278964/issues/357030/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/357030/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#357030","relative":"#357030","full":"gitlab-org/gitlab#357030"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":105636823,"iid":357028,"project_id":278964,"title":"Kubernetes UI updates","description":"A few UI tweaks on **Infrastructure \u003e Kubernetes clusters** based on our latest guidelines:\n\n1. On the **All** tab, remove the `Install a new agent` button, per [this issue/comment](https://gitlab.com/gitlab-org/gitlab/-/issues/355682#note_874497055).\n\n   ![image](/uploads/fa774e878f36eb07d1f11551a63e76fc/image.png)\n\n1. On both the **All** and **Agent** tabs, change uppercase `GitLab Agent` to `GitLab agent` in the help string:\n\n   ![image](/uploads/cc956df79a18c6af4a4bdc4b1c975755/image.png)\n  \n1. On the **Agent** tab, remove the `Connect with the GitLab Agent` button (it's a duplicate with the button on the top right and likely not controlled by the feature flag):\n\n   ![image](/uploads/39cf87410f101b5fa1bc65c8a20aa79f/image.png)\n\n1. Remove the button from the lower right:\n\n![image](/uploads/812a77515c1a6b8e696c20ca9c03fe93/image.png)","state":"closed","created_at":"2022-03-28T18:27:57.773Z","updated_at":"2022-04-06T22:51:34.794Z","closed_at":"2022-04-06T22:51:34.768Z","closed_by":{"id":9094263,"username":"anna_vovchenko","name":"Anna Vovchenko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9094263/avatar.png","web_url":"https://gitlab.com/anna_vovchenko"},"labels":["SUS::Impacting","Technical Writing","UI text","UX","devops::configure","group::configure","section::ops","severity::4","type::maintenance","workflow::production"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":9094263,"username":"anna_vovchenko","name":"Anna Vovchenko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9094263/avatar.png","web_url":"https://gitlab.com/anna_vovchenko"}],"author":{"id":5213246,"username":"sselhorn","name":"Suzanne Selhorn","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d0d482abba2d40f83c3611b32c8c4cbd?s=80\u0026d=identicon","web_url":"https://gitlab.com/sselhorn"},"type":"ISSUE","assignee":{"id":9094263,"username":"anna_vovchenko","name":"Anna Vovchenko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9094263/avatar.png","web_url":"https://gitlab.com/anna_vovchenko"},"user_notes_count":10,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/357028","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/357028","notes":"https://gitlab.com/api/v4/projects/278964/issues/357028/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/357028/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#357028","relative":"#357028","full":"gitlab-org/gitlab#357028"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":105634294,"iid":357021,"project_id":278964,"title":"List scan result policies under project settings approvals","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\u003c!--\nA brief explanation of the why, not the what or how. Assume the reader doesn't know the\nbackground and won't have time to dig-up information from comment threads.\n--\u003e\n\nAs an administrator for GitLab, I need to be able to see all of the merge request approval rules in a single location so that I can understand everything that will be required for an MR to be approved.\n\n## Relevant links\n\u003c!--\nInformation that the developer might need to refer to when implementing the issue.\n\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e)\n  - [Design 1](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n  - [Design 2](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n- [Similar implementation](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/\u003cid\u003e)\n--\u003e\n\n[Design](https://gitlab.com/groups/gitlab-org/-/epics/7621#design-user-experience-goal)  \n[Scan result policies](https://docs.gitlab.com/ee/user/application_security/policies/scan-result-policies.html#scan-result-policies)     \n[Approval rules](https://docs.gitlab.com/ee/user/project/merge_requests/approvals/rules.html#merge-request-approval-rules)   \n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [ ] Documentation:\n- [ ] Feature flag:\n- [ ] Performance:\n- [ ] Testing:\n\n\n## Implementation plan\n\u003c!--\nSteps and the parts of the code that will need to get updated. The plan can also\ncall-out responsibilities for other team members or teams.\n\ne.g.:\n\n- [ ] ~frontend Step 1\n  - [ ] `@person` Step 1a\n- [ ] ~frontend Step 2\n\n--\u003e\n\n- [x] ~backend Update [payload](https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/helpers/ee/projects_helper.rb#L59) to include path to security policies.\n- [x] ~frontend Add `securityPoliciesPath` (previous item) and `projectPath`(existing) into `provide` in order to be accessible by the new component. [Related code](https://gitlab.com/gitlab-org/gitlab/-/blob/861f52858a1db07bdb122fe947dec9b0a09ce807/ee/app/assets/javascripts/approvals/mount_project_settings.js).\n- [x] ~frontend Render the list of scan result policies [between](https://gitlab.com/gitlab-org/gitlab/-/blob/1b6b78389ba3b1cbc01c2aafa17303b459a462fb/ee/app/assets/javascripts/approvals/components/project_settings/app.vue) project rules and approval settings.\n- [x] ~frontend Load scan result policies via [graphql](https://gitlab.com/gitlab-org/gitlab/-/blob/76fea6fae0a06de0844732c49da85949472143e0/ee/app/assets/javascripts/threat_monitoring/graphql/queries/scan_result_policies.query.graphql).\n- [x] ~frontend Join branches (from all rules) as discussed [here](https://gitlab.com/groups/gitlab-org/-/epics/7621#note_887730806).\n- [x] ~frontend Humanized policy text should use the [existing format](https://gitlab.com/gitlab-org/gitlab/-/blob/74bfe1250ad544abe7c175b596a51f3c69a333f4/ee/app/assets/javascripts/threat_monitoring/components/policy_drawer/scan_result_policy.vue#L55-60) as discussed [here](https://gitlab.com/groups/gitlab-org/-/epics/7621#note_858638672).\n\n\u003c!--\nWorkflow and other relevant labels\n\n# ~\"group::\" ~\"Category:\" ~\"GitLab Ultimate\"\nOther settings you might want to include when creating the issue.\n\n# /assign @\n# /epic \u0026\n--\u003e","state":"closed","created_at":"2022-03-28T17:25:47.840Z","updated_at":"2022-04-25T03:22:30.991Z","closed_at":"2022-04-22T22:20:01.846Z","closed_by":{"id":4906322,"username":"zmartins","name":"Zamir Martins","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4906322/avatar.png","web_url":"https://gitlab.com/zmartins"},"labels":["Category:Security Policy Management","GitLab Ultimate","backend","devops::govern","frontend","group::security policies","section::sec","secure merge request approval","type::feature","workflow::verification"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":4906322,"username":"zmartins","name":"Zamir Martins","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4906322/avatar.png","web_url":"https://gitlab.com/zmartins"}],"author":{"id":4906322,"username":"zmartins","name":"Zamir Martins","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4906322/avatar.png","web_url":"https://gitlab.com/zmartins"},"type":"ISSUE","assignee":{"id":4906322,"username":"zmartins","name":"Zamir Martins","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4906322/avatar.png","web_url":"https://gitlab.com/zmartins"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/357021","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":13,"completed_count":6},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"6 of 13 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/357021","notes":"https://gitlab.com/api/v4/projects/278964/issues/357021/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/357021/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#357021","relative":"#357021","full":"gitlab-org/gitlab#357021"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7621,"epic":{"id":450490,"iid":7621,"title":"List Scan Result Policies in MR Approval Rule Settings Area","url":"/groups/gitlab-org/-/epics/7621","group_id":9970,"human_readable_end_date":"May 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":105628965,"iid":357010,"project_id":278964,"title":"Make `package-and-qa` always available when targeting a stable branch","description":"We want to be able to run `package-and-qa` on patch release preparation merge requests.\n\nFor now this has to be manual because otherwise we can't set `OMNIBUS_BRANCH` properly, however after https://gitlab.com/gitlab-org/gitlab/-/merge_requests/83602 `OMNIBUS_BRANCH` will be set correctly automatically, so if no other variables we want to fill manually, this can be automated.\n\nContext: https://gitlab.com/gitlab-org/release/tasks/-/issues/3641#note_891389231","state":"closed","created_at":"2022-03-28T15:32:57.127Z","updated_at":"2022-04-26T14:32:26.243Z","closed_at":"2022-04-26T14:32:26.221Z","closed_by":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"labels":["Engineering Productivity","maintenance::pipelines","priority::2","type::maintenance","workflow::in review"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"}],"author":{"id":6290669,"username":"godfat-gitlab","name":"Lin Jen-Shin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6290669/avatar.png","web_url":"https://gitlab.com/godfat-gitlab"},"type":"ISSUE","assignee":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/357010","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/357010","notes":"https://gitlab.com/api/v4/projects/278964/issues/357010/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/357010/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#357010","relative":"#357010","full":"gitlab-org/gitlab#357010"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":105624571,"iid":357005,"project_id":278964,"title":"Educate the user about the GitLab agent for Kubernetes when the planned deployment target is Kubernetes","description":"\u003c!-- This issue template can be used as a great starting point for feature requests. The section \"Release notes\" can be used as a summary of the feature and is also required if you want to have your release post blog MR auto generated using the release post item generator:  https://about.gitlab.com/handbook/marketing/blog/release-posts/#release-post-item-generator. The remaining sections are the backbone for every feature in GitLab.\n\nThe goal of this template is brevity for quick/smaller iterations. For a more thorough list of considerations for larger features or feature sets, you can leverage the detailed [feature proposal](https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal%20-%20detailed.md). --\u003e\n\n## Release notes\n\n\u003c!-- What is the problem and solution you're proposing? This content sets the overall vision for the feature and serves as the release notes that will populate in various places, including the [release post blog](https://about.gitlab.com/releases/categories/releases/) and [Gitlab project releases](https://gitlab.com/gitlab-org/gitlab/-/releases). \" --\u003e\n\n## Problem to solve\n\nAs a Development Team Lead, I would like to learn more about available features of GitLab, so that I can benefit from them.\n\n## Proposal\n\n### Task\n\nExtend https://gitlab.com/gitlab-org/gitlab/-/issues/347547\n\nWhen the selected option is Kubernetes, show an extra line under the select box recommending them the GitLab agent for Kubernetes.\n\nCopy:\n\n\u003e Learn more about the [GitLab - Kubernetes integrations](https://docs.gitlab.com/ee/user/clusters/agent/)\n\n### Improvement\n\nMake sure that the whole select box appears only on gitlab.com. As we collect the data with snowplow, self-managed data collection does not work anyways.\n\n## Intended users\n\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n\n## Feature Usage Metrics\n\nUse `utm_` tracking to measure click-through. Discuss with @marcia the recommended usage of `utm_` trackers on the docs site.\n\n\u003c!-- Label reminders\nUse the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n--\u003e\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2022-03-28T14:21:41.875Z","updated_at":"2022-04-11T10:01:32.209Z","closed_at":"2022-04-11T10:01:32.156Z","closed_by":{"id":9094263,"username":"anna_vovchenko","name":"Anna Vovchenko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9094263/avatar.png","web_url":"https://gitlab.com/anna_vovchenko"},"labels":["Category:Kubernetes Management","GitLab Free","Stretch","devops::configure","direction","group::configure","section::ops","type::feature","workflow::production"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":9094263,"username":"anna_vovchenko","name":"Anna Vovchenko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9094263/avatar.png","web_url":"https://gitlab.com/anna_vovchenko"}],"author":{"id":4545061,"username":"nagyv-gitlab","name":"Viktor Nagy (GitLab)","state":"active","avatar_url":"https://secure.gravatar.com/avatar/fb255c1e9c228b9356af165939b3ac9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/nagyv-gitlab"},"type":"ISSUE","assignee":{"id":9094263,"username":"anna_vovchenko","name":"Anna Vovchenko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9094263/avatar.png","web_url":"https://gitlab.com/anna_vovchenko"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/357005","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/357005","notes":"https://gitlab.com/api/v4/projects/278964/issues/357005/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/357005/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#357005","relative":"#357005","full":"gitlab-org/gitlab#357005"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3329,"epic":{"id":54574,"iid":3329,"title":"GitLab Agent for Kubernetes","url":"/groups/gitlab-org/-/epics/3329","group_id":9970,"human_readable_end_date":"May 17, 2023","human_readable_timestamp":"\u003cstrong\u003e4\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":105623782,"iid":357000,"project_id":278964,"title":"Add read_usage_quotas ability to GroupPolicy","description":"The following discussion from !82396 should be addressed:\n\n- [ ] @toupeira started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/82396#note_887526771):  (+2 comments)\n\n    \u003e **thought (non-blocking):** I saw we have a similar situation with `:admin_group` in https://gitlab.com/gitlab-org/gitlab/blob/e7983f2e29073250550fc6df3fdb2e7973863d66/ee/app/controllers/groups/usage_quotas_controller.rb#L4, it probably makes sense to add a `:read_usage_quotas` on `GroupPolicy` as well.\n    \u003e \n    \u003e This could definitely be its own follow-up MR though :grinning:\n\n-------\n\n### Proposal\n\n1. add a new ability, `read_usage_quotas`, to the `GroupPolicy`\n1. modify the `Groups::UsageQuotasController` before action to use the new ability\n1. add test coverage\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\nUnit test coverage should be sufficient","state":"closed","created_at":"2022-03-28T14:09:59.808Z","updated_at":"2022-11-08T07:02:36.914Z","closed_at":"2022-11-03T13:13:48.111Z","closed_by":{"id":12697370,"username":"mhamda","name":"Mohamed Hamda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12697370/avatar.png","web_url":"https://gitlab.com/mhamda"},"labels":["Enterprise Edition","[deprecated] Category:Utilization","backend","devops::fulfillment","estimation::completed","frontend","group::utilization","maintenance::refactor","missed:15.4","quad-planning::complete-action","section::fulfillment","type::maintenance","workflow::verification"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":12697370,"username":"mhamda","name":"Mohamed Hamda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12697370/avatar.png","web_url":"https://gitlab.com/mhamda"}],"author":{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},"type":"ISSUE","assignee":{"id":12697370,"username":"mhamda","name":"Mohamed Hamda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12697370/avatar.png","web_url":"https://gitlab.com/mhamda"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/357000","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/357000","notes":"https://gitlab.com/api/v4/projects/278964/issues/357000/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/357000/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#357000","relative":"#357000","full":"gitlab-org/gitlab#357000"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7176,"epic":{"id":391477,"iid":7176,"title":"Create a common layout for Usage Quotas","url":"/groups/gitlab-org/-/epics/7176","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":105622852,"iid":356999,"project_id":278964,"title":"Enqueuer: log the migration status if available","description":"## :fire: Problem\n\nRight now the Enqueuer is processing the `next` repos and we can have different logic executed:\n1. We start the migration on the repo. This repo will end up in the `pre_importing` state.\n1. The repo doesn't exist on the container registry. This repo will end up in the `import_skipped` state.\n1. We had an issue and the repo will end up in the `import_aborted` state.\n\nFrom the current logs of the Enqueuer job. It's hard to know what is the final migration status.\n\nThis is not a blocking issue but it would be nice to have this: it helps with debugging migrations.\n\n## :fire_engine: Solution\n\nWhen logging the repo id and path, also dump the `migration_status` value.","state":"closed","created_at":"2022-03-28T13:55:43.373Z","updated_at":"2022-04-04T13:28:19.569Z","closed_at":"2022-04-04T13:28:19.511Z","closed_by":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"labels":["Category:Container Registry","Container Registry Migration","Container Registry Migration Unplanned","Container Registry Migration::Phase 2","backend","devops::package","group::package registry","package:active","ruby","section::ops","type::maintenance","workflow::production"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"}],"author":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"type":"ISSUE","assignee":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356999","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356999","notes":"https://gitlab.com/api/v4/projects/278964/issues/356999/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356999/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356999","relative":"#356999","full":"gitlab-org/gitlab#356999"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7316,"epic":{"id":408066,"iid":7316,"title":"Drive the Container Registry migration Phase 2 from Rails","url":"/groups/gitlab-org/-/epics/7316","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":105621897,"iid":356996,"project_id":278964,"title":"Implement migration from vulnerability into scan finding approval rules","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\u003c!--\nA brief explanation of the why, not the what or how. Assume the reader doesn't know the\nbackground and won't have time to dig-up information from comment threads.\n--\u003e\n\nWhen the time comes for removing the existing Vulnerability-Check (i.e., %15.0) then the documentation need to clarify to the user how to transition to the new feature in two possible ways (to be decided further down the road).\n\nThis issue has the aim to finding strategies for the following scenarios:\n\n* [ ] Projects that contain neither a [vulnerability-check rule](https://docs.gitlab.com/ee/user/application_security/index.html#enable-the-vulnerability-check-rule) nor a [Security Policies project](https://docs.gitlab.com/ee/user/application_security/policies/#security-policies-project)\n* [ ] Projects that contain a vulnerability-check rule but no Security Policies project\n* [ ] Projects that don't contain a vulnerability-check rule but does contain a Security Policies project\n* [ ] Projects that contain both a vulnerability-check rule and a Security Policies project\n\n\n## Relevant links\n\u003c!--\nInformation that the developer might need to refer to when implementing the issue.\n\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e)\n  - [Design 1](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n  - [Design 2](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n- [Similar implementation](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/\u003cid\u003e)\n--\u003e\n\n[Vulnerability-Check](https://docs.gitlab.com/ee/update/deprecations.html#vulnerability-check)  \n[Scan result policy](https://docs.gitlab.com/ee/user/application_security/policies/#scan-result-policy-editor)\n[Spike on different approaches](https://gitlab.com/gitlab-org/gitlab/-/issues/352307)\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [ ] Documentation:\n- [ ] Feature flag:\n- [ ] Performance:\n- [ ] Testing:\n\n\n## Implementation plan\n\u003c!--\nSteps and the parts of the code that will need to get updated. The plan can also\ncall-out responsibilities for other team members or teams.\n\ne.g.:\n\n- [ ] ~frontend Step 1\n  - [ ] `@person` Step 1a\n- [ ] ~frontend Step 2\n\n--\u003e\n\n- [x] ~backend Create a new migration (considering each existing vulnerability approval rule) to perform: \n   - [x] creation of orchestration project (if not present)\n   - [x] creation of scan result policy (based on the existing vulnerability approval rule)\n   - [x] update approval rule `report_type` to `scan_finding`\n- [x] ~backend Update [policy commit service](https://gitlab.com/gitlab-org/gitlab/-/blob/8cac7158220dcb282c6c7b1e36d08eacbde8ecde/ee/app/services/security/security_orchestration_policies/policy_commit_service.rb#L78) to support parameter `branch`\n- [x] ~backend Update [migration bot](https://docs.gitlab.com/ee/development/internal_users.html#internal-users) privileges to perform the required actions\n- [x] ~backend Use [group access token](https://docs.gitlab.com/ee/user/group/settings/group_access_tokens.html#group-access-tokens) when performing group/project level actions.\n\n\u003c!--\nWorkflow and other relevant labels\n\n# ~\"group::\" ~\"Category:\" ~\"GitLab Ultimate\"\nOther settings you might want to include when creating the issue.\n\n# /assign @\n# /epic \u0026\n--\u003e","state":"closed","created_at":"2022-03-28T13:42:39.080Z","updated_at":"2022-05-16T22:06:12.632Z","closed_at":"2022-05-16T21:17:55.861Z","closed_by":{"id":480804,"username":"thiagocsf","name":"Thiago Figueiró","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480804/avatar.png","web_url":"https://gitlab.com/thiagocsf"},"labels":["Enterprise Edition","backend","devops::govern","group::security policies","missed:14.10","section::sec","secure merge request approval","type::feature","workflow::verification"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":4906322,"username":"zmartins","name":"Zamir Martins","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4906322/avatar.png","web_url":"https://gitlab.com/zmartins"}],"author":{"id":4906322,"username":"zmartins","name":"Zamir Martins","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4906322/avatar.png","web_url":"https://gitlab.com/zmartins"},"type":"ISSUE","assignee":{"id":4906322,"username":"zmartins","name":"Zamir Martins","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4906322/avatar.png","web_url":"https://gitlab.com/zmartins"},"user_notes_count":16,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356996","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":18,"completed_count":7},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"7 of 18 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356996","notes":"https://gitlab.com/api/v4/projects/278964/issues/356996/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356996/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356996","relative":"#356996","full":"gitlab-org/gitlab#356996"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6605,"epic":{"id":331937,"iid":6605,"title":"Migrate data from `vulnerability-check` to `scan_result_policy`","url":"/groups/gitlab-org/-/epics/6605","group_id":9970,"human_readable_end_date":"May 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":105616434,"iid":356986,"project_id":278964,"title":"Backend: Opt-in OIDC JSON Web Token (JWT)","description":"# Context\n\n## Competitive analysis\n\nThis feature will bring us in par with [GitHub action OIDC](https://github.blog/changelog/2021-10-27-github-actions-secure-cloud-deployments-with-openid-connect/), [Circle CI](https://circleci.com/docs/openid-connect-tokens) and [Jenkins OIDC plugin](https://plugins.jenkins.io/oidc-provider/) which allows authenticating your build jobs to different cloud providers using a JWT token, GitLab feature is currently in Alpha, and could be moved to GA once we complete this work.\n\n## Background\nCurrently, whenever a user configures the JWT token it becomes available to all jobs in the pipeline. Tokens are sensitive information and should not be exposed to all jobs without a reason. We would like to prevent this from happening, and allow users to opt-in the token per job basis\n\n## Requirements\n\nFor any existing or new users:\n- JWT token should not be exposed by default \n- Users need to opt-in the JWT token in their YML configuration per job basis\n- Users should be able to configure their audience claim (`aud:`)\n- `aud` can be either a string or an array of strings\n\n## How does JWT work?\n\nhttps://drive.google.com/file/d/12k82v78CKp46wZm4J0uk1iHRoKPTYU2c/view\n\n# Proposal \n\n## Add configurable JWTs\n\nA new `id_tokens` keyword will allow users to create JWTs that have a custom `aud`. They will only be available in the job in which they are defined and they can be accessed using a custom variable name. The syntax will look like:\n\n```yaml\njob_name:\n  id_tokens:\n    CLOUD_PROVIDER_ID_TOKEN: # or any other variable name\n      aud:\n        - \"AWS\"\n        - \"GCK\"\n    VAULT_ID_TOKEN: # or any other variable name\n      aud: \"Vault\"\n  script:\n    - auth into AWS with $CLOUD_PROVIDER_ID_TOKEN\n    - auth into GCK with $CLOUD_PROVIDER_ID_TOKEN\n    - auth into Vault with $VAULT_ID_TOKEN\n```\n\n## Add an `opt_in_jwt` toggle\n\nAdd an `opt_in_jwt` toggle to project CI settings that disables the injection of the JWT into every job when `true`. It will be `false` by default. This toggle will default to `true` in %16.0.\n\nWhen the toggle is `true`, `CI_JOB_JWT`, `CI_JOB_JWT_V1`, and `CI_JOB_JWT_V2` will no longer be created. Jobs with Vault integrations using the `secrets` keyword must also have an `id_token` defined. The first `id_token` will be used to authenticate with Vault\n\n```yaml\nauth_job:\n  id_tokens:\n    VAULT_JWT_1:  \n      aud: 'Vault'\n    VAULT_JWT_2:\n      aud: 'Another Vault'\n  secrets:\n    STAGING_DATABASE_PASSWORD:\n      vault: staging/db/password@ops # authenticates with VAULT_JWT_1\n```\n\n### Optional `token` sub-keyword\n\nWhen more than one ID token is defined, the user can specify which ID token should be used to authenticate with Vault using a new `token` sub-keyword.\n\n```yaml\nauth_job:\n  id_tokens:\n    VAULT_JWT_1:\n      aud: 'Vault'\n    VAULT_JWT_2:\n      aud: 'Another Vault'\n  secrets:\n    STAGING_DATABASE_PASSWORD:\n      token: $VAULT_JWT_2\n      vault: staging/db/password@ops\n```\n\n#### Implementation Table\n\n| Title | MR Link | Done? |\n| ------ | ------ | ----- |\n| Spike | https://gitlab.com/gitlab-org/gitlab/-/merge_requests/94403 | :white_check_mark: |\n| Add `id_tokens` field to `ci_builds_metadata` | https://gitlab.com/gitlab-org/gitlab/-/merge_requests/94878 | :white_check_mark: |\n| Pass first ID token to the runner | https://gitlab.com/gitlab-org/gitlab/-/merge_requests/95254 | :white_check_mark: |\n| Add `id_tokens` keyword to `.gitlab-ci.yml` | https://gitlab.com/gitlab-org/gitlab/-/merge_requests/103391 | :white_check_mark: |\n| Add `token` keyword to `.gitlab-ci.yml` | https://gitlab.com/gitlab-org/gitlab/-/merge_requests/103801 | |\n| Document `id_tokens` keyword | https://gitlab.com/gitlab-org/gitlab/-/merge_requests/106052 | :white_check_mark: |","state":"closed","created_at":"2022-03-28T12:17:19.360Z","updated_at":"2023-01-07T01:08:42.214Z","closed_at":"2022-12-19T19:37:58.354Z","closed_by":{"id":4509877,"username":"dhershkovitch","name":"Dov Hershkovitch","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7daa3113f0359f08a217fa800d9cc1d2?s=80\u0026d=identicon","web_url":"https://gitlab.com/dhershkovitch"},"labels":["Category:Secrets Management","Deliverable","auto updated","backend","customer","devops::verify","documentation","feature::enhancement","group::pipeline authoring","missed-deliverable","missed:15.4","missed:15.6","section::ops","type::feature","workflow::production"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":4059128,"username":"avielle","name":"Avielle Wolfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4059128/avatar.png","web_url":"https://gitlab.com/avielle"}],"author":{"id":4509877,"username":"dhershkovitch","name":"Dov Hershkovitch","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7daa3113f0359f08a217fa800d9cc1d2?s=80\u0026d=identicon","web_url":"https://gitlab.com/dhershkovitch"},"type":"ISSUE","assignee":{"id":4059128,"username":"avielle","name":"Avielle Wolfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4059128/avatar.png","web_url":"https://gitlab.com/avielle"},"user_notes_count":161,"merge_requests_count":0,"upvotes":8,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356986","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":8,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356986","notes":"https://gitlab.com/api/v4/projects/278964/issues/356986/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356986/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356986","relative":"#356986","full":"gitlab-org/gitlab#356986"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9212,"epic":{"id":651373,"iid":9212,"title":"Native Signing of Build Artifacts","url":"/groups/gitlab-org/-/epics/9212","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":105613782,"iid":356984,"project_id":278964,"title":"Properly handle non-existing repositories","description":"## :fire: Problem\n\nSimilar to https://gitlab.com/gitlab-org/gitlab/-/issues/356562, we need to properly handle not found repositories. These are currently being marked with status `import_skipped` and skipped reason `not_found`. We should restrict `import_skipped` to unexpected failures when trying to initiate/complete a migration.\n\n## :fire_engine: Solution\n\nIf a repository is not found (it doesn't exist in the old and new registry) it means that there is nothing to do and that on the first tag pushed to it the repository will be automatically created on the new registry.\n\nWe should therefore:\n\n* Mark the repository as done instead with:\n   * `migration_status: 'import_done'`\n   * `migration_skip_reason: 'not_found'`","state":"closed","created_at":"2022-03-28T11:31:05.201Z","updated_at":"2022-04-08T11:43:45.076Z","closed_at":"2022-03-30T16:18:26.424Z","closed_by":{"id":5054840,"username":"jdrpereira","name":"João Pereira","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5054840/avatar.png","web_url":"https://gitlab.com/jdrpereira"},"labels":["Category:Container Registry","Container Registry Migration","Container Registry Migration Blocker","Container Registry Migration Unplanned","Container Registry Migration::Phase 2","backend","devops::package","group::package registry","package:active","ruby","section::ops","type::feature"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":5054840,"username":"jdrpereira","name":"João Pereira","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5054840/avatar.png","web_url":"https://gitlab.com/jdrpereira"}],"author":{"id":5054840,"username":"jdrpereira","name":"João Pereira","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5054840/avatar.png","web_url":"https://gitlab.com/jdrpereira"},"type":"ISSUE","assignee":{"id":5054840,"username":"jdrpereira","name":"João Pereira","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5054840/avatar.png","web_url":"https://gitlab.com/jdrpereira"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356984","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356984","notes":"https://gitlab.com/api/v4/projects/278964/issues/356984/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356984/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356984","relative":"#356984","full":"gitlab-org/gitlab#356984"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7316,"epic":{"id":408066,"iid":7316,"title":"Drive the Container Registry migration Phase 2 from Rails","url":"/groups/gitlab-org/-/epics/7316","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":105612928,"iid":356983,"project_id":278964,"title":"[Feature flag] Enable wiki create page gitaly RPC","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout [the feature](https://gitlab.com/gitlab-org/gitlab/-/issues/36865) on production,\nthat is currently behind the `gitaly_replace_wiki_create_page` feature flag.\n\nOnce the feature flag is rolled out, we can remove the associated code in https://gitlab.com/gitlab-org/gitlab/blob/master/lib/gitlab/git/wiki.rb#L73 and the gitaly service.\n\n## Owners\n\n- Team: ~\"group::editor\" \n- Most appropriate slack channel to reach out to: `#g_create_editor`\n- Best individual to reach out to: @cwoolley-gitlab \n- PM: `@ericschurter`\n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## Expectations\n\n### What are we expecting to happen?\n\n\u003c!-- Describe the expected outcome when rolling out this feature --\u003e\n\nWiki creation will work normally.\n\n### When is the feature viable?\n\n\u003c!-- What are the settings we need to configure in order to have this feature viable? --\u003e\n\nAs soon as it is deployed and the flag is enabled.\n\n### What might happen if this goes wrong?\n\n\u003c!-- Should the feature flag be turned off? Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\nWiki creation may fail.\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n_Consider mentioning checks for 5xx errors or other anomalies like an increase in redirects \n(302 HTTP response status)_\n\n1. Sentry for `wiki`: https://sentry.gitlab.net/gitlab/gitlabcom/?query=is%3Aunresolved+wiki\n2. Sentry for `rpc`: https://sentry.gitlab.net/gitlab/gitlabcom/?query=is%3Aunresolved+rpc\n3. Issues reported for wikis.\n\n### What can we check for monitoring production after rollouts?\n\n_Consider adding links to check for Sentry errors, Production logs for 5xx, 302s, etc._\n\nSame as above.\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status 660d14c264116df2e7d64683cd44a4040843dd9e`\n- [x] Enable the feature globally on non-production environments.\n    - [x] `/chatops run feature set gitaly_replace_wiki_create_page true --dev`\n    - [x] `/chatops run feature set gitaly_replace_wiki_create_page true --staging`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Specific rollout on production\n\n- Ensure that the feature MRs have been deployed to both production and canary.\n    - [x] `/chatops run auto_deploy status 660d14c264116df2e7d64683cd44a4040843dd9e`\n- If you're using [project-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [-] `/chatops run feature set --project=gitlab-org/gitlab gitaly_replace_wiki_create_page true`\n    - [-] `/chatops run feature set --project=gitlab-org/gitlab-foss gitaly_replace_wiki_create_page true`\n    - [-] `/chatops run feature set --project=gitlab-com/www-gitlab-com gitaly_replace_wiki_create_page true`\n- If you're using [group-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [x] `/chatops run feature set --group=gitlab-org gitaly_replace_wiki_create_page true`\n    - [x] `/chatops run feature set --group=gitlab-com gitaly_replace_wiki_create_page true`\n- If you're using [user-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [-] `/chatops run feature set --user=\u003cyour-username\u003e gitaly_replace_wiki_create_page true`\n- [x] Verify that the feature works on the specific entries. Posting the QA result in this issue is preferable.\n\n### Preparation before global rollout\n\n- [x] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [x] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [x] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [x] Announce on [the feature issue](https://gitlab.com/gitlab-org/gitlab/-/issues/36865) an estimated time this will be enabled on GitLab.com. \n- [x] Ensure that any breaking changes have been announced following the [release post process](https://about.gitlab.com/handbook/marketing/blog/release-posts/#deprecations-removals-and-breaking-changes) to ensure GitLab customers are aware.\n- [x] Notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nFor visibility, all `/chatops` commands that target production should be executed in the `#production` slack channel and cross-posted (with the command results) to the responsible team's slack channel (`#g_TEAM_NAME`).\n\n- [x] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [x] `/chatops run feature set gitaly_replace_wiki_create_page \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [-] `/chatops run feature set gitaly_replace_wiki_create_page \u003crollout-percentage\u003e --random`\n  - Enable the feature globally on production environment.\n    - [x] `/chatops run feature set gitaly_replace_wiki_create_page true`\n- [x] Announce on [the feature issue](https://gitlab.com/gitlab-org/gitlab/-/issues/36865) that the feature has been globally enabled.\n- [x] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\n**N/A**\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\nYou can either [create a follow-up issue for Feature Flag Cleanup](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) or use the checklist below in this same issue.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [x] Create a merge request to remove `gitaly_replace_wiki_create_page` feature flag. Ask for review and merge it: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/88624+\n    - [x] Remove all references to the feature flag from the codebase.\n    - [x] Remove the YAML definitions for the feature from the repository.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [x] Ensure that the cleanup MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [x] `/chatops run auto_deploy status 5d8fa525`\n- [x] Close [the feature issue](https://gitlab.com/gitlab-org/gitlab/-/issues/36865) to indicate the feature will be released in the current milestone.\n- [x] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [x] `/chatops run feature delete gitaly_replace_wiki_create_page --dev`\n    - [x] `/chatops run feature delete gitaly_replace_wiki_create_page --staging`\n    - [x] `/chatops run feature delete gitaly_replace_wiki_create_page`\n- [x] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set gitaly_replace_wiki_create_page false\n```\n\n## Availability and Testing\n\nPlease ensure `package-and-qa` is run on the MR that default enables the feature flag and a SET reviewer assigned on the feature flag removal MR (as we do not have an option to run the full suite there).","state":"closed","created_at":"2022-03-28T11:14:01.448Z","updated_at":"2022-09-02T23:50:11.980Z","closed_at":"2022-06-01T06:30:47.689Z","closed_by":{"id":4985794,"username":"cwoolley-gitlab","name":"Chad Woolley","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4cf06f1fc667817854991b558103a9e2?s=80\u0026d=identicon","web_url":"https://gitlab.com/cwoolley-gitlab"},"labels":["Category:Wiki","Deliverable","backend","devops::create","feature flag","feature::addition","group::editor","missed-deliverable","missed:15.0","quad-planning::complete-action","section::dev","type::feature","workflow::ready for development"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":4985794,"username":"cwoolley-gitlab","name":"Chad Woolley","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4cf06f1fc667817854991b558103a9e2?s=80\u0026d=identicon","web_url":"https://gitlab.com/cwoolley-gitlab"}],"author":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"type":"ISSUE","assignee":{"id":4985794,"username":"cwoolley-gitlab","name":"Chad Woolley","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4cf06f1fc667817854991b558103a9e2?s=80\u0026d=identicon","web_url":"https://gitlab.com/cwoolley-gitlab"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356983","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":33,"completed_count":32},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"32 of 33 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356983","notes":"https://gitlab.com/api/v4/projects/278964/issues/356983/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356983/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356983","relative":"#356983","full":"gitlab-org/gitlab#356983"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2381,"epic":{"id":17093,"iid":2381,"title":"Wikis should only use the normal repository Gitaly RPCs","url":"/groups/gitlab-org/-/epics/2381","group_id":9970,"human_readable_end_date":"Nov 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":105593254,"iid":356959,"project_id":278964,"title":"Add Chart for DORA \"Time to restore service\" metric","description":"\n\n### Release notes\n\nEnhancing visibility for Software delivery performance with a new trend chart for DORA Time to restore service metric.\n\nWith the addition of the four DORA metrics tiles to the VSA overview dashboard, we are now adding overtime visualization to the \"Time to restore service\" metric. With this new chart, users will have a better understanding of software stability and reliability trends over time.  \n\nThe new Time to restore service chart shows information about how long it takes an organization to recover from a failure in production. GitLab measures this as the median time required to close the incidents in the given time period. \n\nIt is the third DORA chart that is available out of the box in GitLab. We plan to keep improving the visibility into DORA metrics and to add charts for the fourth metric - Change failure rate. \n\n\u003c!-- What is the problem and solution you're proposing? This content sets the overall vision for the feature and serves as the release notes that will populate in various places, including the [release post blog](https://about.gitlab.com/releases/categories/releases/) and [Gitlab project releases](https://gitlab.com/gitlab-org/gitlab/-/releases). \" --\u003e\n\n### Problem to solve\n\n\u003c!-- What is the user problem you are trying to solve with this issue? --\u003e\n\nWhen viewing the [mean time to restore service](https://gitlab.com/gitlab-org/gitlab/-/issues/299096) metric in VSA, I want to drill in and see more detailed information about my deployments so that I can identify trends and understand deployment behaviors of my teams \u0026 projects.\n\nOnce we implement https://gitlab.com/gitlab-org/gitlab/-/issues/355304 the user will need an overtime visualization for **Time to restore service** Metric. \n\n\n### Proposal\n\n\u003c!-- Use this section to explain the feature and how it will work. It can be helpful to add technical details, design proposals, and links to related epics or issues. --\u003e\n\n1. Add a new chart under **CI/CD Analytics** page. \n3. Order of the charts tabs (left to right): `Release statistics` - `Deployment frequency` - `Lead time` - `Time to restore service` - `Change Failure Rate` - `Shared Runners Usage`\n3. Chart type: same as https://docs.gitlab.com/ee/user/analytics/ci_cd_analytics.html#view-lead-time-for-changes-chart.\n3. Tile for \"Time to restore service\" should also be included in the chart. \n3. Chart and tile should be filtered based on Date pickers with 3 options: `Last week`, `Last month`, `Last 90 days`.\n4. Trendline with `median time` is needed. \n4. Consider performance vs data to ensure smooth page usability.\n4. ~\"GitLab Premium\" will see project level.\n5. ~\"GitLab Ultimate\" will see also see group level.\n![Screen_Shot_2022-05-04_at_15.07.27](/uploads/3d6a51f9628270f5a32261102de5802f/Screen_Shot_2022-05-04_at_15.07.27.png)\n\n### Intended users\n\n\u003c!-- Who will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n\n* [Cameron (Compliance Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#cameron-compliance-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager)\n* [Alex (Security Operations Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#alex-security-operations-engineer)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops)\n* [Priyanka (Platform Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#priyanka-platform-engineer)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n* [Eddie (Content Editor)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#eddie-content-editor)\n\n--\u003e\n\n### Feature Usage Metrics\n\n\u003c!-- How are you going to track usage of this feature? Think about user behavior and their interaction with the product. What indicates someone is getting value from it?\n\nCreate tracking issue using the Snowplow event tracking template. See https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Snowplow%20event%20tracking.md\n\n--\u003e\n\n\u003c!-- Label reminders\nUse the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n--\u003e\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2022-03-28T06:21:32.435Z","updated_at":"2022-07-03T17:49:40.485Z","closed_at":"2022-06-14T13:56:13.845Z","closed_by":{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"},"labels":["Deliverable","GitLab Premium","GitLab Ultimate","OKR","SUS::Impacting","UX","UX scorecard-rec","devops::manage","documentation","feature::enhancement","frontend","group::optimize","priority::2","release post item::in review","section::dev","severity::4","type::feature","usability","workflow::verification"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"}],"author":{"id":10879254,"username":"hsnir1","name":"Haim Snir","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10879254/avatar.png","web_url":"https://gitlab.com/hsnir1"},"type":"ISSUE","assignee":{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"},"user_notes_count":30,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356959","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356959","notes":"https://gitlab.com/api/v4/projects/278964/issues/356959/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356959/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356959","relative":"#356959","full":"gitlab-org/gitlab#356959"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7790,"epic":{"id":484436,"iid":7790,"title":"[VSA] Combining Value stream with DORA4 metrics - Viable maturity","url":"/groups/gitlab-org/-/epics/7790","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":105591348,"iid":356957,"project_id":278964,"title":"Add detailed logs for export steps","description":"It seems that we don't have granular timings of export steps like repo export, relations export, etc. Let's add logs for them.","state":"closed","created_at":"2022-03-28T05:41:55.843Z","updated_at":"2022-04-12T10:06:56.404Z","closed_at":"2022-04-12T10:06:56.389Z","closed_by":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"labels":["Error Budget Improvement","Next Up","backend","devops::manage","estimation::completed","group::import","section::dev","type::maintenance","workflow::verification"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"}],"author":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"type":"ISSUE","assignee":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356957","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356957","notes":"https://gitlab.com/api/v4/projects/278964/issues/356957/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356957/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356957","relative":"#356957","full":"gitlab-org/gitlab#356957"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7836,"epic":{"id":491165,"iid":7836,"title":"Importer failures","url":"/groups/gitlab-org/-/epics/7836","group_id":9970,"human_readable_end_date":"Nov 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":105553127,"iid":356934,"project_id":278964,"title":"Incorrect suggestion of project group name","description":"Hello!\n\nDetails are in video\n\n![Screen_Recording_2022-03-27_at_10.00.45](/uploads/8313d237ff231d95f851450b047b4293/Screen_Recording_2022-03-27_at_10.00.45.mov)\n\nWhat's going on - I'm trying to create new group name on gitlab.com SaaS.\n\nThe issue is repeatable with different project group names.\n\nI use Chrome\n\n![Screenshot_2022-03-27_at_10.02.10](/uploads/c805e00d686ab260f635e7227ab2651a/Screenshot_2022-03-27_at_10.02.10.png)\n\n\nExpected behaviour: the project group name is suggested once and it doesn't flicker.\n\n### Availability and Testing\n- There doesn't appear to be a frontend spec for `app/assets/javascripts/group.js`. It may be beneficial to add one to help catch future regressions for the `updateGroupPathSlug` function.\n- If any changes need to be made to the Group URL field specifically, please run `package-and-qa` as we use this field for group fabrication in E2E tests.","state":"closed","created_at":"2022-03-27T08:02:41.647Z","updated_at":"2022-05-24T12:01:04.493Z","closed_at":"2022-05-16T14:42:07.740Z","closed_by":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"labels":["Deliverable","automation:ml","devops::manage","frontend","group::organization","quad-planning::complete-action","section::dev","workflow::verification"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"}],"author":{"id":605635,"username":"gecube","name":"George Gaál","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c6bfb5a741c50baa43e5f32697105058?s=80\u0026d=identicon","web_url":"https://gitlab.com/gecube"},"type":"ISSUE","assignee":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356934","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356934","notes":"https://gitlab.com/api/v4/projects/278964/issues/356934/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356934/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356934","relative":"#356934","full":"gitlab-org/gitlab#356934"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":105522472,"iid":356917,"project_id":278964,"title":"Productivity Analytics exclude filter doesn't work","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"type::bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=type::bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nWhen viewing Productivity Analytics, inclusive (author=user) filters work, but not exclusive (author!=user) ones.\n\nThe backend endpoint works well, as one can see by manually requesting the JSON endpoint adding negated query parameters like `not[author_username]=...`:\n\n  - Example with negated param: https://gitlab.com/groups/gitlab-org/-/analytics/productivity_analytics.json?group_id=gitlab-org\u0026not[author_username]=project_12006272_bot2\u0026merged_after=2022-06-12T00:00:00Z\u0026merged_before=2022-07-12T23:59:59Z\u0026chart_type=histogram\u0026metric_type=commits_count\n  - Example without negated param: https://gitlab.com/groups/gitlab-org/-/analytics/productivity_analytics.json?group_id=gitlab-org\u0026not[author_username]=project_12006272_bot2\u0026merged_after=2022-06-12T00:00:00Z\u0026merged_before=2022-07-12T23:59:59Z\u0026chart_type=histogram\u0026metric_type=commits_count\n\nThe frontend does not translate the filter selection in the UI to a query parameter in the request URL.\n\n### Steps to reproduce\n\n1. Go to a Productivity Analytics.\n2. Filter: Author != (some user)\n3. Nothing changes.\n\n### Example Project\n\nhttps://gitlab.com/groups/gitlab-gold/-/analytics/productivity_analytics?merged_after=2022-03-01T00%3A00%3A00Z\u0026merged_before=2022-03-25T23%3A59%3A59Z\n\nPrompted by ticket (internal): https://gitlab.zendesk.com/agent/tickets/277767\n\n### What is the current *bug* behavior?\n\nNothing changes.\n\n### What is the expected *correct* behavior?\n\nAnalytics are updated with regards to filter conditions.\n\n### Relevant logs and/or screenshots\n\nWith or without the exclusion filter, the graph shows the same number of MRs:\n\n![image](/uploads/465d9e7246dd687e2aa1cc9634ca45d8/image.png)\n\n### Output of checks\n\nGitLab.com, GitLab Enterprise Edition 14.10.0-pre 154c8c541e1\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e","state":"closed","created_at":"2022-03-25T21:56:17.600Z","updated_at":"2022-08-21T12:02:14.886Z","closed_at":"2022-08-11T18:02:14.132Z","closed_by":{"id":2454149,"username":"cynthia","name":"Cynthia \"Arty\" Ng","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2454149/avatar.png","web_url":"https://gitlab.com/cynthia"},"labels":["Deliverable","approaching-SLO","customer","devops::manage","frontend","group::optimize","missed-SLO","priority::3","section::dev","severity::2","type::bug","workflow::verification"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"}],"author":{"id":2454149,"username":"cynthia","name":"Cynthia \"Arty\" Ng","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2454149/avatar.png","web_url":"https://gitlab.com/cynthia"},"type":"ISSUE","assignee":{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"},"user_notes_count":16,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356917","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356917","notes":"https://gitlab.com/api/v4/projects/278964/issues/356917/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356917/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356917","relative":"#356917","full":"gitlab-org/gitlab#356917"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":105501700,"iid":356895,"project_id":278964,"title":"Redmine integration issue on upgrade to v14.9.1 from v14.8.4 - ActionView::Template::Error (undefined method `issue_tracker_path' for #\u003cIntegration","description":"Hi all,\n\nEvery Thursday night we upgrade GitLab. Last night we did a point release deb upgrade:\n\n`2022-03-24 20:10:58 upgrade gitlab-ce:amd64 14.8.4-ce.0 14.9.1-ce.0`\n\n and then we always do this:\n\n```\nsudo chown git /opt/gitlab/embedded/service/gitlab-rails/db/schema.rb\nsudo chown git /opt/gitlab/embedded/service/gitlab-rails/db/structure.sql\nsudo gitlab-rake db:migrate\nsudo gitlab-ctl reconfigure\nsudo gitlab-ctl restart\n```\n\nand now seeing this on two repos via the web gui (error 500) that have Redmine enabled. Disabling Redmine integration globally doesn't help:\n\n```\n==\u003e /var/log/gitlab/gitlab-rails/production.log \u003c==\n  \nActionView::Template::Error (undefined method `issue_tracker_path' for #\u003cIntegration:0x00007ff3e90545d0\u003e\nDid you mean?  issue_tracker_data\n               issue_tracker_data=):\n    2:   - if sidebar_menu.menu_with_partial?\n    3:     = render_if_exists sidebar_menu.menu_partial, **sidebar_menu.menu_partial_options\n    4:   - else\n    5:     = link_to sidebar_menu.link, **sidebar_menu.link_html_options, data: { qa_selector: 'sidebar_menu_link', qa_menu_item: sidebar_menu.title } do\n    6:       - if sidebar_menu.icon_or_image?\n    7:         %span.nav-icon-container\n    8:           - if sidebar_menu.image_path\n  \nlib/sidebars/projects/menus/external_issue_tracker_menu.rb:9:in `link'\napp/views/shared/nav/_sidebar_menu.html.haml:5\napp/helpers/tab_helper.rb:154:in `nav_link'\napp/views/shared/nav/_sidebar_menu.html.haml:1\napp/views/shared/nav/_sidebar.html.haml:10\napp/views/layouts/nav/sidebar/_project.html.haml:1\napp/views/layouts/_page.html.haml:3\napp/views/layouts/application.html.haml:14\napp/views/layouts/project.html.haml:18\napp/controllers/application_controller.rb:142:in `render'\napp/controllers/application_controller.rb:499:in `set_current_admin'\nlib/gitlab/session.rb:11:in `with_session'\napp/controllers/application_controller.rb:490:in `set_session_storage'\nlib/gitlab/i18n.rb:105:in `with_locale'\nlib/gitlab/i18n.rb:111:in `with_user_locale'\napp/controllers/application_controller.rb:484:in `set_locale'\napp/controllers/application_controller.rb:478:in `set_current_context'\nlib/gitlab/middleware/memory_report.rb:13:in `call'\nlib/gitlab/middleware/speedscope.rb:13:in `call'\nlib/gitlab/request_profiler/middleware.rb:17:in `call'\nlib/gitlab/database/load_balancing/rack_middleware.rb:23:in `call'\nlib/gitlab/jira/middleware.rb:19:in `call'\nlib/gitlab/middleware/go.rb:20:in `call'\nlib/gitlab/etag_caching/middleware.rb:21:in `call'\nlib/gitlab/middleware/query_analyzer.rb:11:in `block in call'\nlib/gitlab/database/query_analyzer.rb:46:in `within'\nlib/gitlab/middleware/query_analyzer.rb:11:in `call'\nlib/gitlab/middleware/multipart.rb:173:in `call'\nlib/gitlab/middleware/read_only/controller.rb:50:in `call'\nlib/gitlab/middleware/read_only.rb:18:in `call'\nlib/gitlab/middleware/same_site_cookies.rb:27:in `call'\nlib/gitlab/middleware/handle_malformed_strings.rb:21:in `call'\nlib/gitlab/middleware/basic_health_check.rb:25:in `call'\nlib/gitlab/middleware/handle_ip_spoof_attack_error.rb:25:in `call'\nlib/gitlab/middleware/request_context.rb:21:in `call'\nlib/gitlab/middleware/webhook_recursion_detection.rb:15:in `call'\nconfig/initializers/fix_local_cache_middleware.rb:11:in `call'\nlib/gitlab/middleware/compressed_json.rb:26:in `call'\nlib/gitlab/middleware/rack_multipart_tempfile_factory.rb:19:in `call'\nlib/gitlab/middleware/sidekiq_web_static.rb:20:in `call'\nlib/gitlab/metrics/requests_rack_middleware.rb:77:in `call'\nlib/gitlab/middleware/release_env.rb:13:in `call'\n```\n\nAll other repos seem fine and no other functionality is affected, e.g. git push/pull etc.\n\nThanks,\nGavin.\n\n## Mitigation:\n\nUsers have reported that this can be fixed by manually re-running the affected migration:\n\n```sh\nsudo gitlab-rake db:migrate:down VERSION=20210727113447\nsudo gitlab-rake db:migrate:up VERSION=20210727113447\n```","state":"closed","created_at":"2022-03-25T13:54:53.429Z","updated_at":"2022-11-22T18:55:55.968Z","closed_at":"2022-06-07T13:51:07.092Z","closed_by":{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"},"labels":["Category:Integrations","Stretch","backend","customer","devops::manage","group::integrations","missed-SLO","missed:14.10","missed:15.0","priority::2","section::dev","severity::2","type::bug"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"}],"author":{"id":1751819,"username":"gavinhenry","name":"Gavin Henry","state":"active","avatar_url":"https://secure.gravatar.com/avatar/28eb4575f6eca44ef1ed6b71c949dd36?s=80\u0026d=identicon","web_url":"https://gitlab.com/gavinhenry"},"type":"ISSUE","assignee":{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"},"user_notes_count":59,"merge_requests_count":0,"upvotes":8,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356895","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356895","notes":"https://gitlab.com/api/v4/projects/278964/issues/356895/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356895/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356895","relative":"#356895","full":"gitlab-org/gitlab#356895"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":105481052,"iid":356882,"project_id":278964,"title":"Enqueuer worker: decrease the exclusive lease duration","description":"## :fire: Problem\n\nFollow up of https://gitlab.com/gitlab-org/gitlab/-/merge_requests/83527.\n\nThe lease key duration is `1.hour`.\n\nWe might want to tone that down to let’s say `10.minutes`. The reasoning is that there is a case in which the lease is not released: when the job is terminated/killed. In that case, the lease will stay locked for 1.hour = during 1.hour no Enqueuer job will be allowed to execute their #perform function. I don’t expect this case to happen often but it can happen.\n\n## :fire_engine: Solution\n\nUpdate the lease duration to `10.minutes`.","state":"closed","created_at":"2022-03-25T08:26:09.107Z","updated_at":"2022-04-07T08:00:54.932Z","closed_at":"2022-04-07T08:00:54.423Z","closed_by":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"labels":["Category:Container Registry","Container Registry Migration","Container Registry Migration Unplanned","Container Registry Migration::Phase 2","[deprecated] Accepting merge requests","auto updated","backend","devops::package","group::package registry","ruby","section::ops","type::bug","workflow::ready for development"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356882","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356882","notes":"https://gitlab.com/api/v4/projects/278964/issues/356882/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356882/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":"https://gitlab.com/api/v4/projects/278964/issues/357850"},"references":{"short":"#356882","relative":"#356882","full":"gitlab-org/gitlab#356882"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7316,"epic":{"id":408066,"iid":7316,"title":"Drive the Container Registry migration Phase 2 from Rails","url":"/groups/gitlab-org/-/epics/7316","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":105472141,"iid":356872,"project_id":278964,"title":"14.2 Migration BackfillDraftStatusOnMergeRequests does not always mark itself as complete","description":"Test added in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/83164/diffs#6883a187cd17aa1f1e4e455bcf235892503372a7 demonstrates that this migration does not mark itself as complete after execution when the instance lacks records that match the migration's target.\n\nJobs spawned during its execution will permanently remain in `pending` state.\n\n#### Steps to reproduce\n\n1. Install a new GitLab 14.1 EE omnibus instance\n2. Create a project and create at least one merge request under it\n2. Upgrade it to 14.2 to invoke the background migration: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/67687\n3. Check pending background migrations count: https://docs.gitlab.com/ee/update/#checking-for-background-migrations-before-upgrading \n4. Expectation: Count is non-zero\n5. Observation: Count is 1+","state":"closed","created_at":"2022-03-25T04:43:01.416Z","updated_at":"2022-05-12T16:12:23.248Z","closed_at":"2022-04-21T15:14:24.594Z","closed_by":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"labels":["Category:Database","Engineering Allocation","customer","devops::systems","documentation","group::code review","missed:14.10","section::enablement","type::bug"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"}],"author":{"id":7536567,"username":"hchouraria","name":"Harsh Chouraria","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7536567/avatar.png","web_url":"https://gitlab.com/hchouraria"},"type":"ISSUE","assignee":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"user_notes_count":17,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356872","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356872","notes":"https://gitlab.com/api/v4/projects/278964/issues/356872/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356872/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356872","relative":"#356872","full":"gitlab-org/gitlab#356872"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7712,"epic":{"id":466275,"iid":7712,"title":"Improve DB migration upgrade experience between GitLab 14.X -\u003e 14.Y","url":"/groups/gitlab-org/-/epics/7712","group_id":9970,"human_readable_end_date":"Apr 22, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":105457966,"iid":356842,"project_id":278964,"title":"Update tanuki in bot avatars","description":"Update the general shape of the tanuki in the bot avatars located in the [Illustration Library](https://www.figma.com/file/1ui9w228X0S5WxaD0SRdIA/Illustration-library) (Figma).\n\n![CleanShot_2022-03-24_at_16.15.33_2x](/uploads/bf6e64808f92349e553848f71297bfad/CleanShot_2022-03-24_at_16.15.33_2x.png)\n\n#### :point_right: [Figma branch](https://www.figma.com/file/1ui9w228X0S5WxaD0SRdIA/branch/rgrdfxj3iyD5IgPegaq6Mi/Illustration-library?node-id=441%3A1784)","state":"closed","created_at":"2022-03-24T21:15:54.076Z","updated_at":"2022-11-22T18:55:56.606Z","closed_at":"2022-10-10T15:38:57.772Z","closed_by":{"id":4017299,"username":"jeldergl","name":"Jeremy Elder","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4017299/avatar.png","web_url":"https://gitlab.com/jeldergl"},"labels":["auto updated","devops::manage","group::foundations","section::dev","type::maintenance","workflow::design"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":4017299,"username":"jeldergl","name":"Jeremy Elder","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4017299/avatar.png","web_url":"https://gitlab.com/jeldergl"}],"author":{"id":4017299,"username":"jeldergl","name":"Jeremy Elder","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4017299/avatar.png","web_url":"https://gitlab.com/jeldergl"},"type":"ISSUE","assignee":{"id":4017299,"username":"jeldergl","name":"Jeremy Elder","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4017299/avatar.png","web_url":"https://gitlab.com/jeldergl"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356842","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356842","notes":"https://gitlab.com/api/v4/projects/278964/issues/356842/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356842/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356842","relative":"#356842","full":"gitlab-org/gitlab#356842"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7816,"epic":{"id":486234,"iid":7816,"title":"Product - new branding rollout (not time sensitive)","url":"/groups/gitlab-org/-/epics/7816","group_id":9970,"human_readable_end_date":"Apr 27, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":105448348,"iid":356831,"project_id":278964,"title":"Allow agent CI/CD access sharing within a personal namespace","description":"\u003c!-- This issue template can be used as a great starting point for feature requests. The section \"Release notes\" can be used as a summary of the feature and is also required if you want to have your release post blog MR auto generated using the release post item generator:  https://about.gitlab.com/handbook/marketing/blog/release-posts/#release-post-item-generator. The remaining sections are the backbone for every feature in GitLab.\n\nThe goal of this template is brevity for quick/smaller iterations. For a more thorough list of considerations for larger features or feature sets, you can leverage the detailed [feature proposal](https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal%20-%20detailed.md). --\u003e\n\n### Release notes\n\nGitLab users targeting Kubernetes migrate to the agent for Kubernetes to use a more secure solution for managing their clusters from GitLab CI/CD. You can use a single agent from multiple projects and groups by sharing access to the agent connection. Previously, sharing agent access across projects was unavailable for personal namespaces. The current release expands CI/CD connection sharing to personal namespaces. \n\nYou can now use a single agent from any of your projects under a personal namespace.\n\n### Problem to solve\n\nRight now, the agent sharing CI/CD access and the consuming project need to be in the same group for access to work. Many users expect this to also work for personal namespaces.\n\n\n### Proposal\n\n- Allow CI/CD access sharing between projects in the same personal namespace. This is a matter of slightly tweaking [this check](https://gitlab.com/gitlab-org/gitlab/-/blob/58b61e5513553df9c5e63c37e8db9d09ab364632/app/services/clusters/agents/refresh_authorization_service.rb#L86).\n- Update documentation!\n\n### Discussion\n\n* **Pro:** This would reduce friction for users evaluating the CI/CD tunnel, allowing them to do so in their personal namespace.\n* **Con:** This could be confusing on GitLab.com, as personal namespaces seem to always be on the Free plan, limiting access to GitOps and Impersonation features.\n\n### Intended users\n\n\n\n\u003c!-- Who will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n\n* [Cameron (Compliance Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#cameron-compliance-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Priyanka (Platform Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#priyanka-platform-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager)\n* [Alex (Security Operations Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#alex-security-operations-engineer)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops)\n* [Ingrid (Infrastructure Operator)](https://about.gitlab.com/handbook/product/personas/#ingrid-infrastructure-operator)\n* [Dakota (Application Development Director)](https://about.gitlab.com/handbook/product/personas/#dakota-application-development-director)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n* [Eddie (Content Editor)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#eddie-content-editor)\n--\u003e\n\n### Feature Usage Metrics\n\n\u003c!-- How are you going to track usage of this feature? Think about user behavior and their interaction with the product. What indicates someone is getting value from it?\n\nCreate tracking issue using the Snowplow event tracking template. See https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Snowplow%20event%20tracking.md\n\n--\u003e\n\n\u003c!-- Label reminders\nUse the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n--\u003e\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2022-03-24T18:33:30.300Z","updated_at":"2022-12-28T17:29:58.596Z","closed_at":"2022-12-15T12:57:49.535Z","closed_by":{"id":4584738,"username":"nmezzopera","name":"Nicolò Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"},"labels":["Category:Kubernetes Management","GitLab Free","GitLab Premium","GitLab Ultimate","Track Health Status","[deprecated] Accepting merge requests","backend","devops::configure","direction","documentation","feature::addition","group::configure","release post item::in review","section::ops","type::feature","workflow::production"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":3167938,"username":"tigerwnz","name":"Tiger Watson","state":"active","avatar_url":"https://secure.gravatar.com/avatar/eb2c062f746fe8a57d693ee307942aa5?s=80\u0026d=identicon","web_url":"https://gitlab.com/tigerwnz"}],"author":{"id":4088036,"username":"hfyngvason","name":"Hordur Freyr Yngvason","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4088036/avatar.png","web_url":"https://gitlab.com/hfyngvason"},"type":"ISSUE","assignee":{"id":3167938,"username":"tigerwnz","name":"Tiger Watson","state":"active","avatar_url":"https://secure.gravatar.com/avatar/eb2c062f746fe8a57d693ee307942aa5?s=80\u0026d=identicon","web_url":"https://gitlab.com/tigerwnz"},"user_notes_count":10,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356831","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356831","notes":"https://gitlab.com/api/v4/projects/278964/issues/356831/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356831/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356831","relative":"#356831","full":"gitlab-org/gitlab#356831"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3329,"epic":{"id":54574,"iid":3329,"title":"GitLab Agent for Kubernetes","url":"/groups/gitlab-org/-/epics/3329","group_id":9970,"human_readable_end_date":"May 17, 2023","human_readable_timestamp":"\u003cstrong\u003e4\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":105444180,"iid":356819,"project_id":278964,"title":"Gitlab snippets not displaying correctly","description":"### Summary\n\nGitlab snippets are not displaying correctly on PC and Mobile\n### Steps to reproduce\n\nLive example here: https://www.embeddeddevops.com/post/testing-elf-files\n\n| expected | actual|\n| ------ | ------ |\n|![image](/uploads/96bc306c07b7e6b2b59936627d9ab2a2/image.png) | ![image](/uploads/88e28fb481ec8c1b044196979354e1b7/image.png)|\n\nOn mobile, it's even worse:\n\n| expected | actual|\n| ------ | ------ |\n| ![image](/uploads/a2c709e16007ade9e611a6383c4d3780/image.png)| ![image](/uploads/62042ff0cfe9631a23948fa3b2636339/image.png)|\n\n### Possible fixes\n\nI have traced this bug to [this MR](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/70705).  When using the `figure` element, the browser injects some [default css](https://www.w3schools.com/cssref/css_default_values.asp) for this type of element:\n\n![image](/uploads/faa56082343e1693399e165b8deadab4/image.png)\n\nIt seems like switching from `article` to `figure` was done for superficial reasons. I think the proper fix to should be to revert the element tag instead of adding new CSS to counter the default CSS that is injected by HTML5.","state":"closed","created_at":"2022-03-24T16:53:35.812Z","updated_at":"2022-05-13T14:05:57.199Z","closed_at":"2022-04-21T07:22:05.371Z","closed_by":{"id":8650533,"username":"joshbouganim","name":"Josh Bouganim","state":"active","avatar_url":"https://secure.gravatar.com/avatar/fcc7dd8521bbc1e370b3d001b728945d?s=80\u0026d=identicon","web_url":"https://gitlab.com/joshbouganim"},"labels":["[deprecated] Accepting merge requests","devops::create","frontend","group::editor","missed:14.10","priority::3","section::dev","severity::4","type::bug"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[],"author":{"id":8650533,"username":"joshbouganim","name":"Josh Bouganim","state":"active","avatar_url":"https://secure.gravatar.com/avatar/fcc7dd8521bbc1e370b3d001b728945d?s=80\u0026d=identicon","web_url":"https://gitlab.com/joshbouganim"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356819","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356819","notes":"https://gitlab.com/api/v4/projects/278964/issues/356819/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356819/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356819","relative":"#356819","full":"gitlab-org/gitlab#356819"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":105441000,"iid":356812,"project_id":278964,"title":"DAST site profiles: Hide empty values on the summary card","description":"\u003c!-- This template is a great use for issues that are feature::additions or technical tasks for larger issues.--\u003e\n\n### Proposal\nThis issue is based on: https://gitlab.com/gitlab-org/gitlab/-/issues/355526#note_886037107\n\nIf any optional values for DAST [Site Profiles](https://docs.gitlab.com/ee/user/application_security/dast/#site-profile) are empty, the value should not be displayed on the profile summary card that appears on DAST configuration page(s). \n\n**Optional fields**\n1. DAST Website\n   1. `Excluded URLs`\n   2. `Additional header requests`\n1. DAST API\n   1. `Excluded paths`\n   2. `Additional header requests`\n\n**Location of profile summary cards:**\n1. DAST CI/CD configuration page\n2. On-demand DAST scan configuration page\n3. DAST profile drawer\n\nNote: Some details in the proposal are based on the in-progress DAST configuration design updates ([CI/CD](https://gitlab.com/gitlab-org/gitlab/-/issues/348203) | [On-demand](https://gitlab.com/gitlab-org/gitlab/-/issues/351476))\n\n\u003c!-- Use this section to explain the feature and how it will work. It can be helpful to add technical details, design proposals, and links to related epics or issues. --\u003e\n\n\u003c!-- Consider adding related issues and epics to this issue. You can also reference the Feature Proposal Template (https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal%20-%20detailed.md) for additional details to consider adding to this issue. Additionally, as a data oriented organization, when your feature exits planning breakdown, consider adding the `What does success look like, and how can we measure that?` section.\n--\u003e\n\n\u003c!-- Label reminders\nUse the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n--\u003e","state":"closed","created_at":"2022-03-24T15:50:01.335Z","updated_at":"2022-04-04T03:21:45.596Z","closed_at":"2022-03-30T02:16:21.768Z","closed_by":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"labels":["Category:DAST","UX","feature::enhancement","frontend","section::sec","type::feature","workflow::in review"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"}],"author":{"id":8655314,"username":"mfangman","name":"Michael Fangman","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8655314/avatar.png","web_url":"https://gitlab.com/mfangman"},"type":"ISSUE","assignee":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356812","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356812","notes":"https://gitlab.com/api/v4/projects/278964/issues/356812/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356812/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356812","relative":"#356812","full":"gitlab-org/gitlab#356812"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7631,"epic":{"id":451408,"iid":7631,"title":"On-demand DAST configuration improvements","url":"/groups/gitlab-org/-/epics/7631","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":105439397,"iid":356807,"project_id":278964,"title":"Investigate and fix RepositoryImportWorker job failures","description":"For the last 7 days `RepositoryImportWorker` had [528 jobs with status `fail`](https://log.gprd.gitlab.net/goto/1e7194d0-ab7b-11ec-b73f-692cc1ae8214). Reviewing the failures we can see some of the examples: \n\n```\nError importing repository  into ... - No such file or directory @ rb_sysopen - [FILTERED]\n\nError importing repository  into ... - command exited with error code 2: gzip: stdin: not in gzip format\n\nError importing repository ... - 13:creating repository: cloning repository: exit status 128, stderr: \"fatal: could not read Username for [FILTERED] terminal prompts disabled\\n\"\n\nError importing repository ... into - Rate limit for this resource has been exceeded\n```\n\nGlancing through the logs the first error about no file is the biggest offender. We should investigate these errors to see if there's a way to fix them. \n\n### Proposed solution\n\nErrors that are coming from external systems shouldn't fail the Sidekiq job and contribute towards our error budget.\n\nWe should mark Sidekiq jobs to `done` and import to `failed` where appropriate, like for all the \"external\" errors, that we cannot fix in our code.\n\nNote: That should be a quick win. With that, the visibility of errors to the user won't get worse. The failures will be still visible to the user, at least the 'last one', since in `project_import_state` we have `last_error` db column that we should populate and it will be presented to the user after import has been marked as failed.","state":"closed","created_at":"2022-03-24T15:25:35.699Z","updated_at":"2022-11-21T12:03:08.473Z","closed_at":"2022-11-16T12:20:25.353Z","closed_by":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"labels":["Deliverable","Error Budget Improvement","Importer:Project Export/Import","backend","corrective action","customer","devops::manage","group::import","infradev","priority::2","section::dev","severity::3","type::bug","workflow::verification"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"}],"author":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"type":"ISSUE","assignee":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"user_notes_count":20,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356807","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356807","notes":"https://gitlab.com/api/v4/projects/278964/issues/356807/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356807/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356807","relative":"#356807","full":"gitlab-org/gitlab#356807"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7836,"epic":{"id":491165,"iid":7836,"title":"Importer failures","url":"/groups/gitlab-org/-/epics/7836","group_id":9970,"human_readable_end_date":"Nov 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":105436933,"iid":356802,"project_id":278964,"title":"[docs-only] Announce \"Show paths to dependencies\" MVC completion in release post","description":"### Release notes\n\nIn the \"Evidence\" area of a vulnerability detail page, you can now view the vulnerable package, introduced package, and shortest dependency path for findings identified in your project by Dependency Scanning. This will help you triage the finding and decide your next actions.\n\n### Proposal\n\n\nAs we released multiple small steps each month, we did not announced them in the release post.\n\nThis issue is a placholder to add a release post item once the MVC is completed. See [the Epic](https://gitlab.com/groups/gitlab-org/-/epics/3843) for more details.","state":"closed","created_at":"2022-03-24T14:45:28.051Z","updated_at":"2022-05-24T12:04:34.641Z","closed_at":"2022-05-13T20:06:09.784Z","closed_by":{"id":52092,"username":"gonzoyumo","name":"Olivier Gonzalez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/651e0ff81c3995a05269f7c80895fe89?s=80\u0026d=identicon","web_url":"https://gitlab.com/gonzoyumo"},"labels":["Category:Dependency Scanning","Deliverable","Enterprise Edition","GitLab Ultimate","backend","devops::secure","docs-only","feature::enhancement","group::composition analysis","quad-planning::complete-no-action","release post item","release post item::in review","section::sec","type::feature","workflow::ready for development"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":5292351,"username":"sam.white","name":"Sam White","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d467fb024d1858d279e6a36e028436ac?s=80\u0026d=identicon","web_url":"https://gitlab.com/sam.white"}],"author":{"id":52092,"username":"gonzoyumo","name":"Olivier Gonzalez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/651e0ff81c3995a05269f7c80895fe89?s=80\u0026d=identicon","web_url":"https://gitlab.com/gonzoyumo"},"type":"ISSUE","assignee":{"id":5292351,"username":"sam.white","name":"Sam White","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d467fb024d1858d279e6a36e028436ac?s=80\u0026d=identicon","web_url":"https://gitlab.com/sam.white"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356802","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356802","notes":"https://gitlab.com/api/v4/projects/278964/issues/356802/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356802/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356802","relative":"#356802","full":"gitlab-org/gitlab#356802"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3843,"epic":{"id":78549,"iid":3843,"title":"Show paths to dependencies MVC","url":"/groups/gitlab-org/-/epics/3843","group_id":9970,"human_readable_end_date":"May 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":105428273,"iid":356789,"project_id":278964,"title":"Page doesn't scroll to highlighted line number","description":"#### Problem\n\nPage doesn't scroll to correct line number (eg https://gitlab.com/gitlab-org/gitlab/-/blob/3b865fe8fd79bd166a14ce6ab97bfd3b0764be74/lib/gitlab/database.rb#L336)\n\n#### What should happen\n\nPage should auto scroll to linked line number","state":"closed","created_at":"2022-03-24T12:56:39.758Z","updated_at":"2022-04-13T14:05:45.886Z","closed_at":"2022-04-12T06:02:56.911Z","closed_by":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"labels":["Category:Source Code Management","Stretch","devops::create","frontend","group::source code","priority::2","section::dev","severity::3","type::bug","workflow::in dev"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"}],"author":{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},"type":"ISSUE","assignee":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"user_notes_count":4,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356789","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356789","notes":"https://gitlab.com/api/v4/projects/278964/issues/356789/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356789/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356789","relative":"#356789","full":"gitlab-org/gitlab#356789"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":105415357,"iid":356773,"project_id":278964,"title":"[Feature flag] Enable ci_test_report_artifacts_expired","description":"\n\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout our empty state when test report have expired on production,\nthat is currently behind the `ci_test_report_artifacts_expired` feature flag introduced in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/83113.\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\n## Owners\n\n- Team: ~\"group::sharding\" \n- Most appropriate slack channel to reach out to: `#g_pipeline_insights`\n- Best individual to reach out to: @morefice @mfluharty \n- PM: @jreporter\n- Manager: @shampton \n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## Expectations\n\n### What are we expecting to happen?\n\nWe expect to render an empty state as you can see on [this design](https://gitlab.com/gitlab-org/gitlab/-/issues/296963/designs/Pipelines-Test-Details.png).\n\n### When is the feature viable?\n\n\u003c!-- What are the settings we need to configure in order to have this feature viable? --\u003e\n\n\u003c!-- \nExample below:\n \n1. Enable service ping collection\n   `ApplicationSetting.first.update(usage_ping_enabled: true)`\n--\u003e\n\n### What might happen if this goes wrong?\n\nIf something goes wrong related to this FF, you can disable it by running `/chatops run feature set ci_test_report_artifacts_expired false` in `#production`.\n\n### What can we monitor to detect problems with this?\n\n### What can we check for monitoring production after rollouts?\n\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Enable the feature globally on non-production environments.\n    - [x] `/chatops run feature set ci_test_report_artifacts_expired true --dev`\n    - [x] `/chatops run feature set ci_test_report_artifacts_expired true --staging`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Specific rollout on production\n\n- Ensure that the feature MRs have been deployed to both production and canary.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- If you're using [project-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [x] `/chatops run feature set  --project=gitlab-org/gitlab ci_test_report_artifacts_expired true`\n    - [x] `/chatops run feature set --project=gitlab-org/gitlab-foss ci_test_report_artifacts_expired true`\n    - [x] `/chatops run feature set --project=gitlab-com/www-gitlab-com ci_test_report_artifacts_expired true`\n- If you're using [group-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --group=gitlab-org ci_test_report_artifacts_expired true`\n    - [ ] `/chatops run feature set --group=gitlab-com ci_test_report_artifacts_expired true`\n- If you're using [user-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --user=\u003cyour-username\u003e ci_test_report_artifacts_expired true`\n- [ ] Verify that the feature works on the specific entries. Posting the QA result in this issue is preferable.\n\n### Preparation before global rollout\n\n- [ ] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [ ] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [ ] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [ ] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com.\n- [ ] Notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nFor visibility, all `/chatops` commands that target production should be executed in the `#production` slack channel and cross-posted (with the command results) to the responsible team's slack channel (`#g_TEAM_NAME`).\n\n- [ ] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [ ] `/chatops run feature set ci_test_report_artifacts_expired \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [ ] `/chatops run feature set ci_test_report_artifacts_expired 10`\n    - [ ] `/chatops run feature set ci_test_report_artifacts_expired 25`\n    - [ ] `/chatops run feature set ci_test_report_artifacts_expired 50`\n  - Enable the feature globally on production environment.\n    - [ ] `/chatops run feature set ci_test_report_artifacts_expired true`\n- [ ] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [ ] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [ ] Create a merge request with the following changes. Ask for review and merge it.\n    - [ ] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the default-enabling MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-default-enabling-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [ ] (Optional) You can create a separate issue for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [ ] Set the title to \"[Feature flag] Cleanup `ci_test_report_artifacts_expired`\".\n    - [ ] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [ ] Link this rollout issue as a related issue.\n    - [ ] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [ ] Create a merge request to remove `ci_test_report_artifacts_expired` feature flag. Ask for review and merge it.\n    - [ ] Remove all references to the feature flag from the codebase.\n    - [ ] Remove the YAML definitions for the feature from the repository.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the cleanup MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-cleanup-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [ ] `/chatops run feature delete ci_test_report_artifacts_expired --dev`\n    - [ ] `/chatops run feature delete ci_test_report_artifacts_expired --staging`\n    - [ ] `/chatops run feature delete ci_test_report_artifacts_expired`\n- [ ] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set ci_test_report_artifacts_expired false\n```\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2022-03-24T10:16:54.321Z","updated_at":"2022-09-16T16:59:59.901Z","closed_at":"2022-05-23T10:12:07.460Z","closed_by":{"id":5251734,"username":"morefice","name":"Max Orefice","state":"active","avatar_url":"https://secure.gravatar.com/avatar/0a910912e24727d7eef579cd047f7651?s=80\u0026d=identicon","web_url":"https://gitlab.com/morefice"},"labels":["Category:Code Testing and Coverage","Deliverable","GitLab Core","GitLab Free","SUS::Impacting","Technical Writing","UX","UX debt","Verify::P1","backend","devops::verify","direction","documentation","feature::enhancement","frontend","group::pipeline insights","missed-deliverable","missed:14.10","missed:15.0","section::ops","severity::3","type::feature","workflow::in dev"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":3374280,"username":"mfluharty","name":"Miranda Fluharty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3374280/avatar.png","web_url":"https://gitlab.com/mfluharty"}],"author":{"id":5251734,"username":"morefice","name":"Max Orefice","state":"active","avatar_url":"https://secure.gravatar.com/avatar/0a910912e24727d7eef579cd047f7651?s=80\u0026d=identicon","web_url":"https://gitlab.com/morefice"},"type":"ISSUE","assignee":{"id":3374280,"username":"mfluharty","name":"Miranda Fluharty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3374280/avatar.png","web_url":"https://gitlab.com/mfluharty"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356773","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":51,"completed_count":9},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"9 of 51 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356773","notes":"https://gitlab.com/api/v4/projects/278964/issues/356773/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356773/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356773","relative":"#356773","full":"gitlab-org/gitlab#356773"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":105405768,"iid":356759,"project_id":278964,"title":"Pipeline duration does not include bridge jobs","description":"## Problem\n\nWhen we calculate the pipeline duration we [only consider builds](https://gitlab.com/gitlab-org/gitlab/-/blob/485129278ad7b1bc2e4e48b2de3e9a5e89e10123/lib/gitlab/ci/pipeline/duration.rb#L94). This code predates the introduction of bridge jobs with `strategy:depend` which can extend the pipeline duration.\n\n## Solution\n\nChange [this line](https://gitlab.com/gitlab-org/gitlab/-/blob/485129278ad7b1bc2e4e48b2de3e9a5e89e10123/lib/gitlab/ci/pipeline/duration.rb#L94) to:\n\n```ruby\nbuilds = pipeline.processables.latest\n```\n\nWith `processables` we are including both `Ci::Build` and `Ci::Bridge`. With this change a bridge that takes longer because the downstream pipeline runs using `strategy:depend` will have the duration reflected in its upstream pipeline.","state":"closed","created_at":"2022-03-24T07:50:22.339Z","updated_at":"2023-01-13T14:04:35.451Z","closed_at":"2022-12-29T06:03:57.750Z","closed_by":{"id":12411397,"username":"tianwenchen","name":"Tianwen Chen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4219e592c672f4bd062add405865f9aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/tianwenchen"},"labels":["Category:Continuous Integration","Deliverable","Track Health Status","backend","devops::verify","group::pipeline execution","missed-deliverable","missed:15.5","missed:15.6","missed:15.7","priority::3","section::ops","severity::3","type::bug","workflow::verification"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[{"id":12411397,"username":"tianwenchen","name":"Tianwen Chen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4219e592c672f4bd062add405865f9aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/tianwenchen"}],"author":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"type":"ISSUE","assignee":{"id":12411397,"username":"tianwenchen","name":"Tianwen Chen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4219e592c672f4bd062add405865f9aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/tianwenchen"},"user_notes_count":11,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356759","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356759","notes":"https://gitlab.com/api/v4/projects/278964/issues/356759/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356759/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356759","relative":"#356759","full":"gitlab-org/gitlab#356759"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":105405702,"iid":356758,"project_id":278964,"title":"Pipeline started_at should not change","description":"## Problem\n\nWe set the pipeline's `started_at` time when the pipeline transitions to a `running` state. This works fine on linear pipeline executions: the pipeline starts and finishes without any external interactions.\n\nHowever, if we retry a job or play a manual job or run a scheduled job, the pipeline that had previously completed is back into `running` state. This causes `started_at` to be reset. What's worse is that queueing time is broken. \n\nThe following pipeline https://gitlab.com/gitlab-org/gitlab/-/pipelines/452086059 shows as `queued for 2962 minutes and 3 seconds` because the scheduled job `review-stop` ran 2 days later.\n\n## Solution\n\n[Set `started_at` only once](https://gitlab.com/gitlab-org/gitlab/-/blob/485129278ad7b1bc2e4e48b2de3e9a5e89e10123/app/models/ci/pipeline.rb#L201) (the first time the pipeline transitions to `running` state). Let `finished_at` to be moved (as is) when a pipeline is retried.\n\n```ruby\nbefore_transition [:created, :waiting_for_resource, :preparing, :pending] =\u003e :running do |pipeline|\n  pipeline.started_at ||= Time.current # only set it once\nend\n```","state":"closed","created_at":"2022-03-24T07:44:55.927Z","updated_at":"2022-04-21T06:20:00.541Z","closed_at":"2022-04-21T06:19:59.748Z","closed_by":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"labels":["Category:Continuous Integration","Community contribution","backend","devops::verify","group::pipeline execution","priority::3","section::ops","severity::3","type::bug","workflow::production"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"}],"author":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"type":"ISSUE","assignee":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"user_notes_count":6,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356758","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356758","notes":"https://gitlab.com/api/v4/projects/278964/issues/356758/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356758/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356758","relative":"#356758","full":"gitlab-org/gitlab#356758"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":105391264,"iid":356742,"project_id":278964,"title":"Follow-up: Use gl-form-radio for setting primary security training provider","description":"## What does this MR do and why?\n\nDue to an [issue](https://gitlab.com/gitlab-org/gitlab-ui/-/issues/1720) with `GlFormRadio` the settings for the primary security training provider settings were implemented using a native form radio.\n\nSince then the issue has been fixed and we can now migrate this from using native radios to `GlFormRadio`. This will ensure that the UI will stay consistent in the future.\n\n## How to verify\n\n1. Navigate to a project's \"Security \u0026 Compliance\" -\u003e \"Configuration\" -\u003e \"Vulnerability Management\" section\n1. Enable providers\n1. Toggle primary providers\n1. Make sure there is no difference to the current UI","state":"closed","created_at":"2022-03-24T02:42:21.736Z","updated_at":"2022-03-29T04:23:27.636Z","closed_at":"2022-03-29T04:23:27.616Z","closed_by":{"id":4155411,"username":"dpisek","name":"David Pisek","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4155411/avatar.png","web_url":"https://gitlab.com/dpisek"},"labels":["auto updated","devops::secure","frontend","group::threat insights","section::sec","type::maintenance","workflow::verification"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":4155411,"username":"dpisek","name":"David Pisek","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4155411/avatar.png","web_url":"https://gitlab.com/dpisek"}],"author":{"id":4155411,"username":"dpisek","name":"David Pisek","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4155411/avatar.png","web_url":"https://gitlab.com/dpisek"},"type":"ISSUE","assignee":{"id":4155411,"username":"dpisek","name":"David Pisek","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4155411/avatar.png","web_url":"https://gitlab.com/dpisek"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356742","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356742","notes":"https://gitlab.com/api/v4/projects/278964/issues/356742/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356742/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356742","relative":"#356742","full":"gitlab-org/gitlab#356742"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6176,"epic":{"id":287896,"iid":6176,"title":"Integrate developer security training into vulnerability management","url":"/groups/gitlab-org/-/epics/6176","group_id":9970,"human_readable_end_date":"Apr 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":105390853,"iid":356741,"project_id":278964,"title":"Add loading state for storage purchase flow","description":"### Problem\n\nWhen changing the number of storage packs on storage purchase flow, there is no loading state to indicate that an API request is being processed and `Continue to billing` button is not disabled while fetching data.\n\n![Screen_Recording_2022-03-24_at_3.20.42_PM](/uploads/7b4889ba8d8fda0567085f4ada597ab2/Screen_Recording_2022-03-24_at_3.20.42_PM.mov)\n\n### Proposal\n\nWe could add a loading state similar to the one we created for subscription purchase flow:\n\n![image](/uploads/9fa9eb1c6c8e0f86d5b629ee875825ae/image.png)\n\n### Steps to reproduce\n\n1. Go to a groups usage quota page eg. [http://localhost:3000/groups/flightjs/-/usage_quotas#storage-quota-tab](http://localhost:3000/groups/flightjs/-/usage_quotas#storage-quota-tab)\n2. Click on `Purchase more storage`\n3. Change storage packs quantity\n\n### Implementation details\n\nThe API call to fetch the price happens in [`order_summary.vue`](https://gitlab.com/gitlab-org/gitlab/-/blob/f07ac8a5d8d93d8673091d5b3a5fdd9243013363/ee/app/assets/javascripts/subscriptions/buy_addons_shared/components/order_summary.vue#L53), so we would need to figure out a way to communicate/listen to the loading state from [`addon_purchase_details.vue`](https://gitlab.com/gitlab-org/gitlab/-/blob/f07ac8a5d8d93d8673091d5b3a5fdd9243013363/ee/app/assets/javascripts/subscriptions/buy_addons_shared/components/checkout/addon_purchase_details.vue) component.","state":"closed","created_at":"2022-03-24T02:29:54.576Z","updated_at":"2022-04-05T22:16:29.192Z","closed_at":"2022-04-05T22:16:29.185Z","closed_by":{"id":10325315,"username":"vvempati","name":"Vamsi Vempati","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10325315/avatar.png","web_url":"https://gitlab.com/vvempati"},"labels":["Category:Purchase","auto updated","devops::fulfillment","group::purchase","section::fulfillment"],"milestone":null,"assignees":[],"author":{"id":10325315,"username":"vvempati","name":"Vamsi Vempati","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10325315/avatar.png","web_url":"https://gitlab.com/vvempati"},"type":"ISSUE","assignee":null,"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356741","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356741","notes":"https://gitlab.com/api/v4/projects/278964/issues/356741/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356741/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356741","relative":"#356741","full":"gitlab-org/gitlab#356741"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":105386208,"iid":356738,"project_id":278964,"title":"Add cop that detects usage of dangerous IO method calls","description":"In https://gitlab.com/gitlab-org/gitlab/-/merge_requests/82689/diffs?commit_id=e097465b699f11c8bd64134bc3b8618a3ac4f250#49b1889805b18a3596dd4eee1d3b0925ff993c17_61_75 an MR introduced code that used `IO.foreach`. Similar to `open` (which is already blocked by [this cop](https://github.com/rubocop/rubocop/blob/374a7a3fca2969bbb5f6d14fbe5890ac47320c92/lib/rubocop/cop/security/open.rb)), most `IO` methods have a feature to spawn a subshell if the parameter starts with a `|`.\n\nBased on the [documentation](https://ruby-doc.org/core-3.1.1/IO.html) the dangerous methods appear to be\n\n- `IO.binread`\n- `IO.foreach`\n- `IO.read`\n- `IO.readlines`\n- `IO.write`\n\n```shell\n$ ruby -e 'puts IO.foreach(\"|echo arbitrary command execution\").to_a' \narbitrary command execution\n```\n\nUsage of those methods is extremely dangerous and they all have a safer alternatives in the `File` class. For example:\n\n```shell\n$ ruby -e 'puts File.foreach(\"|echo arbitrary command execution\").to_a'\nTraceback (most recent call last):\n\t3: from -e:1:in `\u003cmain\u003e'\n\t2: from -e:1:in `to_a'\n\t1: from -e:1:in `each'\n-e:1:in `foreach': No such file or directory @ rb_sysopen - |echo arbitrary command execution (Errno::ENOENT)\n```\n\nWe should have a cop that blocks those methods and breaks the build so we don't have to rely completely on the vigilance of the reviewers.","state":"closed","created_at":"2022-03-24T00:27:31.827Z","updated_at":"2022-11-09T14:30:41.252Z","closed_at":"2022-09-27T08:11:56.769Z","closed_by":{"id":10821571,"username":"ddieulivol","name":"David Dieulivol","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10821571/avatar.png","web_url":"https://gitlab.com/ddieulivol"},"labels":["Engineering Productivity","auto updated","ep::contributor tooling","maintenance::workflow","priority::3","security","securitybot::ignore","type::maintenance"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":10821571,"username":"ddieulivol","name":"David Dieulivol","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10821571/avatar.png","web_url":"https://gitlab.com/ddieulivol"}],"author":{"id":4992072,"username":"dcouture","name":"Dominic Couture","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4992072/avatar.png","web_url":"https://gitlab.com/dcouture"},"type":"ISSUE","assignee":{"id":10821571,"username":"ddieulivol","name":"David Dieulivol","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10821571/avatar.png","web_url":"https://gitlab.com/ddieulivol"},"user_notes_count":19,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356738","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356738","notes":"https://gitlab.com/api/v4/projects/278964/issues/356738/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356738/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356738","relative":"#356738","full":"gitlab-org/gitlab#356738"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":105377773,"iid":356729,"project_id":278964,"title":"Add `scan_execution_policies` endpoint to the Kubernetes internal API","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\u003c!--\nA brief explanation of the why, not the what or how. Assume the reader doesn't know the\nbackground and won't have time to dig-up information from comment threads.\n--\u003e\n\nTo facilitate [allowing scan execution policies to enforce scans on agents](https://gitlab.com/gitlab-org/gitlab/-/issues/341358), we need to provide the Agent with an API endpoint which it can use in order to retrieve security policies.\n\n## Relevant links\n\u003c!--\nInformation that the developer might need to refer to when implementing the issue.\n\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e)\n  - [Design 1](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n  - [Design 2](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n- [Similar implementation](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/\u003cid\u003e)\n--\u003e\n\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [x] Documentation: Document this endpoint in the [internal API documentation](https://docs.gitlab.com/ee/development/internal_api/#gitlab-agent-endpoints)\n- [ ] Feature flag:\n- [ ] Performance:\n- [ ] Testing: See https://gitlab.com/gitlab-org/gitlab/-/merge_requests/69022 for an example of how this can be tested\n\n\n## Implementation plan\n\u003c!--\nSteps and the parts of the code that will need to get updated. The plan can also\ncall-out responsibilities for other team members or teams.\n\ne.g.:\n\n- [ ] ~frontend Step 1\n  - [ ] `@person` Step 1a\n- [ ] ~frontend Step 2\n\n--\u003e\n\n\n\u003c!--\nWorkflow and other relevant labels\n\n# ~\"group::\" ~\"Category:\" ~\"GitLab Ultimate\"\nOther settings you might want to include when creating the issue.\n\n# /assign @\n# /epic \u0026\n--\u003e\n\nAdd a `GET internal/kubernetes/modules/starboard_vulnerability/scan_execution_policies` endpoint to the internal API\nat `ee/lib/ee/api/internal/kubernetes.rb`.\nThis endpoint will:\n\n1. Return a 404 error if the `security_orchestration_policies` feature is not available\n2. Use `PolicyFinder` (to be added with https://gitlab.com/gitlab-org/gitlab/-/issues/347066) in order to query for the policies affecting `agent.project` and return them in the API response.","state":"closed","created_at":"2022-03-23T20:44:18.067Z","updated_at":"2022-06-27T03:41:07.981Z","closed_at":"2022-06-21T23:28:24.048Z","closed_by":{"id":480804,"username":"thiagocsf","name":"Thiago Figueiró","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480804/avatar.png","web_url":"https://gitlab.com/thiagocsf"},"labels":["Category:Container Scanning","Category:Security Policy Management","Deliverable","backend","devops::govern","feature::addition","group::security policies","missed-deliverable","missed:14.10","section::sec","type::feature","workflow::verification"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[],"author":{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"},"type":"ISSUE","assignee":null,"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356729","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":7,"completed_count":1},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 7 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356729","notes":"https://gitlab.com/api/v4/projects/278964/issues/356729/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356729/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356729","relative":"#356729","full":"gitlab-org/gitlab#356729"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6771,"epic":{"id":351102,"iid":6771,"title":"Simplify Cluster Image Scanning Setup","url":"/groups/gitlab-org/-/epics/6771","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":105370941,"iid":356722,"project_id":278964,"title":"Show per project break up for shared runner usage in namespace usage quota","description":"\u003c!-- The first section \"Release notes\" is required if you want to have your release post blog MR auto generated. Currently in BETA, details on the **release post item generator** can be found in the handbook:  https://about.gitlab.com/handbook/marketing/blog/release-posts/#release-post-item-generator and this video: https://www.youtube.com/watch?v=rfn9ebgTwKg. The next four sections: \"Problem to solve\", \"Intended users\", \"User experience goal\", and \"Proposal\", are strongly recommended in your first draft, while the rest of the sections can be filled out during the problem validation or breakdown phase. However, keep in mind that providing complete and relevant information early helps our product team validate the problem and start working on a solution. --\u003e\n\n### Release notes\n\n\u003c!-- What is the problem and solution you're proposing? This content sets the overall vision for the feature and serves as the release notes that will populate in various places, including the [release post blog](https://about.gitlab.com/releases/categories/releases/) and [Gitlab project releases](https://gitlab.com/gitlab-org/gitlab/-/releases). \" --\u003e\n\n### Problem to solve\n\n#345795 proposes adding a tab to the usage quota page to show the `Shared runner usage` data.\nCurrently, only the monthly consumption per namespace is available to show on the map.  The per project break up for the shared runner usage is also an important data point for users to get visibility into to be able to make better decisions about their consumption. \n\n\u003c!-- What problem do we solve? Try to define the who/what/why of the opportunity as a user story. For example, \"As a (who), I want (what), so I can (why/value).\" --\u003e\n\n### Intended users\n\n\u003c!-- Who will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n\n* [Cameron (Compliance Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#cameron-compliance-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Priyanka (Platform Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#priyanka-platform-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager)\n* [Alex (Security Operations Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#alex-security-operations-engineer)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops)\n* [Ingrid (Infrastructure Operator)](https://about.gitlab.com/handbook/product/personas/#ingrid-infrastructure-operator)\n* [Dakota (Application Development Director)](https://about.gitlab.com/handbook/product/personas/#dakota-application-development-director)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n* [Eddie (Content Editor)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#eddie-content-editor)\n\n--\u003e\n\n### User experience goal\n\nUsers should get visibility into per project shared runner usage.\n\n\u003e With regarding to displaying consistent data between `shared_runners_duration` and `CI minutes` we could apply a filter `WHERE amount_used \u003e 0 OR shared_runners_duration \u003e 0`. This way we will filter out projects where both values are `0`\n\nUsers should only be shown projects that have \u003e0 shared runner usage to avoid adding noise to the page.\n\n### Proposal\n\n1. Add a chart to usage quota page\u003e\u003e shared runner usage to show per project break up of the shared runner duration consumption.\n2. Add the per project consumption data to the table that already exists at the bottom of the page.\n\n\u003c!-- How are we going to solve the problem? Try to include the user journey! https://about.gitlab.com/handbook/journeys/#user-journey --\u003e\n\n### Further details\n\n\u003c!-- Include use cases, benefits, goals, or any other details that will help us understand the problem better. --\u003e\n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?\nConsider adding checkboxes and expectations of users with certain levels of membership https://docs.gitlab.com/ee/user/permissions.html\n* [ ] Add expected impact to members with no access (0)\n* [ ] Add expected impact to Guest (10) members\n* [ ] Add expected impact to Reporter (20) members\n* [ ] Add expected impact to Developer (30) members\n* [ ] Add expected impact to Maintainer (40) members\n* [ ] Add expected impact to Owner (50) members\n\nPlease consider performing a threat model for the code changes that are introduced as part of this feature. To get started, refer to our Threat Modeling handbook page https://about.gitlab.com/handbook/security/threat_modeling/#threat-modeling.\n\nDon't hesitate to reach out to the Application Security Team (`@gitlab-com/gl-security/appsec`) to discuss any security concerns.\n--\u003e\n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/workflow.html#for-a-product-change\n\n* Add all known Documentation Requirements in this section. See https://docs.gitlab.com/ee/development/documentation/workflow.html\n* If this feature requires changing permissions, update the permissions document. See https://docs.gitlab.com/ee/user/permissions.html --\u003e\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\n### Available Tier\n\n\u003c!-- This section should be used for setting the appropriate tier that this feature will belong to. Pricing can be found here: https://about.gitlab.com/pricing/\n\n* Free\n* Premium/Silver\n* Ultimate/Gold\n--\u003e\n\n### Feature Usage Metrics\n\n\u003c!-- How are you going to track usage of this feature? Think about user behavior and their interaction with the product. What indicates someone is getting value from it?\n\nCreate tracking issue using the Snowplow event tracking template. See https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Snowplow%20event%20tracking.md\n\n--\u003e\n\n### What does success look like, and how can we measure that?\n\n\u003c!--\nDefine both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this.\n\nCreate tracking issue using the Snowplow event tracking template. See https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Snowplow%20event%20tracking.md\n--\u003e\n\n### What is the type of buyer?\n\n\u003c!-- What is the buyer persona for this feature? See https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/buyer-persona/\nIn which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#three-tiers --\u003e\n\n### Is this a cross-stage feature?\n\n\u003c!-- Communicate if this change will affect multiple Stage Groups or product areas. We recommend always start with the assumption that a feature request will have an impact into another Group. Loop in the most relevant PM and Product Designer from that Group to provide strategic support to help align the Group's broader plan and vision, as well as to avoid UX and technical debt. https://about.gitlab.com/handbook/product/#cross-stage-features --\u003e\n\n### Links / references\n\n\u003c!-- Label reminders - you should have one of each of the following labels.\nUse the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n--\u003e\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2022-03-23T18:25:21.194Z","updated_at":"2022-06-27T08:03:15.950Z","closed_at":"2022-05-18T12:29:00.250Z","closed_by":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"labels":["CI minutes","Category:Continuous Integration","UX","Verify::P3","backend","devops::verify","direction","frontend","group::pipeline execution","section::ops","type::feature","workflow::production"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"}],"author":{"id":6115425,"username":"v_mishra","name":"Veethika M","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f09a3a0badac17a57e28b4e18a45c1c0?s=80\u0026d=identicon","web_url":"https://gitlab.com/v_mishra"},"type":"ISSUE","assignee":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356722","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356722","notes":"https://gitlab.com/api/v4/projects/278964/issues/356722/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356722/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356722","relative":"#356722","full":"gitlab-org/gitlab#356722"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7561,"epic":{"id":442014,"iid":7561,"title":"CI minutes and Runner Duration Visibility Charts MVC","url":"/groups/gitlab-org/-/epics/7561","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":105363610,"iid":356712,"project_id":278964,"title":"Group/project members table has horizontal scroll on mid-width screen sizes","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"type::bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=type::bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nGroup/project members table has horizontal scroll on mid-width screen sizes. This is because we added the `Created on` and `Last activity` columns in https://gitlab.com/gitlab-org/gitlab/-/issues/349884 and there isn't enough room in the table to display these new columns.\n\n### Steps to reproduce\n\nGo to a group or project -\u003e `Group/Project information` -\u003e `Members`. Resize the screen\n\n### What is the current *bug* behavior?\n\nHorizontal scroll on mid-width screen sizes\n\n### What is the expected *correct* behavior?\n\nNo horizontal scroll\n\n### Relevant logs and/or screenshots\n\u003cdetails\u003e\u003csummary\u003eScreenshot\u003c/summary\u003e\n![Screen_Shot_2022-03-23_at_9.08.11_AM](/uploads/9a46a7b26b5f2ec759e1168b473b2762/Screen_Shot_2022-03-23_at_9.08.11_AM.png)\n\u003c/details\u003e\n\n### Possible fixes\n\nLook into a \"table builder\" that allows users to select what columns they want to see. There was discussion about this in https://gitlab.com/gitlab-org/gitlab/-/issues/232664#note_463724636 and https://gitlab.com/gitlab-org/gitlab-services/design.gitlab.com/-/issues/1214\n\n### Proposal\nRearrange the members table to allow the row to fit within the space\n\n![image](/uploads/7c1c6858b58608c89f08a04a45a22a18/image.png)","state":"closed","created_at":"2022-03-23T16:13:43.895Z","updated_at":"2023-01-13T14:04:30.508Z","closed_at":"2022-12-21T18:40:58.072Z","closed_by":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"labels":["Deliverable","SUS::Impacting","UX","devops::manage","frontend","group::organization","milestone::p2","missed-deliverable","missed:15.7","priority::2","section::dev","severity::4","type::bug","workflow::complete"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"}],"author":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"type":"ISSUE","assignee":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"user_notes_count":23,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356712","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356712","notes":"https://gitlab.com/api/v4/projects/278964/issues/356712/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356712/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356712","relative":"#356712","full":"gitlab-org/gitlab#356712"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8400,"epic":{"id":568335,"iid":8400,"title":"Organization UI improvements (low effort)","url":"/groups/gitlab-org/-/epics/8400","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":105356740,"iid":356700,"project_id":278964,"title":"Create class to encapsulate free user cap logic","description":"The following discussion from !83146 should be addressed:\n\n- [ ] @nicolasdular started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/83146#note_885330462):  (+2 comments)\n\n    \u003e **thought (non-blocking):** General thought on all of these methods here. No need to implement or tkae action, but maybe start the thought process. We have\n    \u003e 1. Is free user cap reached?\n    \u003e 2. If we should apply preview of free user cap\n    \u003e 3. If free user if over - but only for preview\n    \u003e \n    \u003e This is a combination of view-centric and application logic and we have it spread out into multiple methods in the model now. Maybe for future refactoring and iterations, we want create a separate class? The API could look like this then:\n    \u003e \n    \u003e ```\n    \u003e free_user_cap = FreeUserCap.new(group)\n    \u003e \n    \u003e free_user_cap.show_preview?\n    \u003e free_user_cap.over_limit?\n    \u003e free_user_cap.limit_reached?\n    \u003e free_user_cap.at_limit?\n    \u003e ```\n    \u003e \n    \u003e The idea is then very similar to the pattern we have for the storage limit with the [StorageLimitService](https://gitlab.com/gitlab-org/gitlab/blob/master/ee/app/services/namespaces/check_storage_size_service.rb) and [helper methods for the view](https://gitlab.com/gitlab-org/gitlab/blob/master/ee/app/helpers/ee/namespace_storage_limit_alert_helper.rb)","state":"closed","created_at":"2022-03-23T14:37:18.386Z","updated_at":"2022-04-04T17:43:50.086Z","closed_at":"2022-04-04T17:43:50.063Z","closed_by":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"labels":["auto updated","devops::growth","group::acquisition","maintenance::refactor","section::growth","workflow::in review"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"}],"author":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"type":"ISSUE","assignee":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356700","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356700","notes":"https://gitlab.com/api/v4/projects/278964/issues/356700/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356700/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356700","relative":"#356700","full":"gitlab-org/gitlab#356700"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":105355495,"iid":356697,"project_id":278964,"title":"Rails route update for DAST Profile library","description":"With copy improvements related to DAST Profile library, we need to update the route as well to comply with the naming.\n\n- `dast_scans` \u003e `profile_library`\n\n### Proposal\n\n##### Current Route\n\n`http://gitlab.com/flightjs/Flight/-/security/configuration/dast_scans#site-profiles`\n\n##### Proposed\n\n`http://gitlab.com/flightjs/Flight/-/security/configuration/profile_library#site-profiles`","state":"closed","created_at":"2022-03-23T14:18:03.015Z","updated_at":"2022-04-25T03:22:31.107Z","closed_at":"2022-04-22T01:53:56.373Z","closed_by":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"labels":["Category:DAST","UX","backend","devops::secure","feature::enhancement","group::dynamic analysis","section::sec","type::feature","workflow::in review"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"}],"author":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"type":"ISSUE","assignee":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356697","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356697","notes":"https://gitlab.com/api/v4/projects/278964/issues/356697/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356697/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356697","relative":"#356697","full":"gitlab-org/gitlab#356697"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7631,"epic":{"id":451408,"iid":7631,"title":"On-demand DAST configuration improvements","url":"/groups/gitlab-org/-/epics/7631","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":105353361,"iid":356693,"project_id":278964,"title":"Set content-type as text/plain for javascript file in Workhorse","description":"### Problem\n\nAs brought up in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/83515#note_885513832 by @dcouture, today we rely on a [third party library](https://github.com/golang/go/blob/master/src/net/http/sniff.go#L308) to detect the `Content-type` when serving artifacts in Workhorse.\n\n### Solution\n\nRewrite `application/javascript` into `text/plain` in [Workhorse](https://gitlab.com/gitlab-org/gitlab/-/blob/379a75a3b0fd24f4d1ad6a5ee604d9939ba90226/workhorse/internal/headers/content_headers.go#L51) so we don't have a regression later on. Especially since `application/javascript` is the \"official\" MIME type of JavaScript so at some point they might start using that instead of `text/javascript`.\n\ncc @alberts-gitlab","state":"closed","created_at":"2022-03-23T13:53:12.893Z","updated_at":"2022-04-18T14:30:04.773Z","closed_at":"2022-04-15T22:12:59.033Z","closed_by":{"id":3029776,"username":"shampton","name":"Scott Hampton","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3029776/avatar.png","web_url":"https://gitlab.com/shampton"},"labels":["CI artifacts","Category:Build Artifacts","Category:Continuous Integration","Deliverable","FY23::Q1","OKR","Verify candidate","Verify::P1","backend","devops::verify","follow-up","group::pipeline insights","section::ops","security","security-backlog::valid","securitybot::ignore","type::maintenance","workflow::production"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":1758950,"username":"iamricecake","name":"Erick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1758950/avatar.png","web_url":"https://gitlab.com/iamricecake"}],"author":{"id":5251734,"username":"morefice","name":"Max Orefice","state":"active","avatar_url":"https://secure.gravatar.com/avatar/0a910912e24727d7eef579cd047f7651?s=80\u0026d=identicon","web_url":"https://gitlab.com/morefice"},"type":"ISSUE","assignee":{"id":1758950,"username":"iamricecake","name":"Erick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1758950/avatar.png","web_url":"https://gitlab.com/iamricecake"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356693","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356693","notes":"https://gitlab.com/api/v4/projects/278964/issues/356693/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356693/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356693","relative":"#356693","full":"gitlab-org/gitlab#356693"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":105352326,"iid":356691,"project_id":278964,"title":"[Bug] Compliance violations report not showing the merged by avatar","description":"## Problem to solve\n\nThe compliance violations report doesn't show the merged by user's avatar nor does the link work.\n\n![image](/uploads/82d14a360413706759142408f8ebf85f/image.png)\n\n## Implementation\n\nUpdate the mapper to pass the data to the drawer in the correct format.","state":"closed","created_at":"2022-03-23T13:38:13.548Z","updated_at":"2022-03-24T09:48:55.325Z","closed_at":"2022-03-24T09:48:55.306Z","closed_by":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"labels":["[deprecated] Accepting merge requests","devops::manage","frontend","group::compliance","section::dev","severity::4","type::bug","workflow::verification"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"}],"author":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"type":"ISSUE","assignee":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356691","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356691","notes":"https://gitlab.com/api/v4/projects/278964/issues/356691/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356691/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356691","relative":"#356691","full":"gitlab-org/gitlab#356691"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5237,"epic":{"id":184672,"iid":5237,"title":"Convert compliance dashboard into an insightful report","url":"/groups/gitlab-org/-/epics/5237","group_id":9970,"human_readable_end_date":"May 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":105349262,"iid":356687,"project_id":278964,"title":"Investigate using ViewComponent for shared/global_alert","description":"The following discussion from !83146 should be addressed:\n\n- [ ] @dstull started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/83146#note_884299307): \n\n    \u003e this global alert thing may be good to explore making this a ViewComponent as a follow-up\n\n## Plan\n\n- [x] Implement the component and solve a few cases. !83880\n- [x] Handle converting most of the cases in a follow-up MR https://gitlab.com/gitlab-org/gitlab/-/merge_requests/83686\n- [x] Update that epic. @pgascouvaillancourt will handle this.\n- [x] Remove the alert partial. !84395","state":"closed","created_at":"2022-03-23T12:49:21.682Z","updated_at":"2022-06-09T19:57:45.338Z","closed_at":"2022-04-14T11:44:27.636Z","closed_by":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"labels":["auto updated","devops::growth","feature::enhancement","group::acquisition","maintenance::refactor","section::growth","workflow::in review"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"}],"author":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"type":"ISSUE","assignee":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"user_notes_count":19,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356687","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":5,"completed_count":4},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"4 of 5 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356687","notes":"https://gitlab.com/api/v4/projects/278964/issues/356687/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356687/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356687","relative":"#356687","full":"gitlab-org/gitlab#356687"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":105348905,"iid":356684,"project_id":278964,"title":"Create a background migration to pre-fill existing epic weights","description":"Epics have a new column(s) to cache total issue weight and make roll-ups easier. This weight is adjusted when the issues in an epic are altered.\n\nA background migration is required to calculate and set this value on epics that existed before the change was made.","state":"closed","created_at":"2022-03-23T12:44:16.178Z","updated_at":"2022-10-04T09:51:49.592Z","closed_at":"2022-10-04T09:51:49.534Z","closed_by":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"labels":["Stretch","backend","blocked","database","devops::plan","feature::enhancement","group::product planning","maintenance::refactor","section::dev","type::feature","workflow::in review"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"}],"author":{"id":4418630,"username":"johnhope","name":"John Hope","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4418630/avatar.png","web_url":"https://gitlab.com/johnhope"},"type":"ISSUE","assignee":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356684","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356684","notes":"https://gitlab.com/api/v4/projects/278964/issues/356684/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356684/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356684","relative":"#356684","full":"gitlab-org/gitlab#356684"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7780,"epic":{"id":479514,"iid":7780,"title":"Cache sum of epic weights","url":"/groups/gitlab-org/-/epics/7780","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":105348868,"iid":356683,"project_id":278964,"title":"Update cached weight values when issues within an epic change","description":"Enumerate the ways in which epic weight can change.\n\n* Issue added/removed from epic\n* Issue within epic has weight adjusted\n* Other?\n\nFor each instance, adjust the cached weight on the epic object to match the change in underlying issues.\n\nUpdate: based on https://gitlab.com/groups/gitlab-org/-/epics/7780#note_993065522 this cached weight/count should include also weights/counts from all subpepics.","state":"closed","created_at":"2022-03-23T12:43:16.905Z","updated_at":"2022-09-15T08:43:47.623Z","closed_at":"2022-09-15T08:43:47.567Z","closed_by":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"labels":["Stretch","backend","database","devops::plan","feature::enhancement","group::product planning","maintenance::refactor","missed:15.2","missed:15.3","section::dev","type::feature","workflow::in review"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"}],"author":{"id":4418630,"username":"johnhope","name":"John Hope","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4418630/avatar.png","web_url":"https://gitlab.com/johnhope"},"type":"ISSUE","assignee":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356683","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356683","notes":"https://gitlab.com/api/v4/projects/278964/issues/356683/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356683/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356683","relative":"#356683","full":"gitlab-org/gitlab#356683"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7780,"epic":{"id":479514,"iid":7780,"title":"Cache sum of epic weights","url":"/groups/gitlab-org/-/epics/7780","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":105343132,"iid":356670,"project_id":278964,"title":"Prevent note confidentiality from being changed","description":"https://gitlab.com/gitlab-org/gitlab/-/issues/350670 will deprecate the ability to update confidentiality of a note using the APIs.\n\nIt should not be possible to update note confidentiality in _any_ instance, through an API or otherwise.\n\nA validation should be added at the model level that ensures this attribute cannot be changed once set at the time of creation.\n\n### Acceptance Criteria\n\n* Note confidentiality can be set when a note is created but never changed thereafter.\n* APIs reject a change to a note when it includes a note confidentiality change.","state":"closed","created_at":"2022-03-23T10:57:40.060Z","updated_at":"2022-04-18T07:00:48.084Z","closed_at":"2022-04-06T08:14:32.493Z","closed_by":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"labels":["Deliverable","Next Up","approaching-SLO","auto updated","backend","devops::plan","feature flag","group::product planning","section::dev","type::feature","workflow::verification"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"}],"author":{"id":4418630,"username":"johnhope","name":"John Hope","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4418630/avatar.png","web_url":"https://gitlab.com/johnhope"},"type":"ISSUE","assignee":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356670","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356670","notes":"https://gitlab.com/api/v4/projects/278964/issues/356670/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356670/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356670","relative":"#356670","full":"gitlab-org/gitlab#356670"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7407,"epic":{"id":423916,"iid":7407,"title":"Prepare Confidential Notes MVC for GA","url":"/groups/gitlab-org/-/epics/7407","group_id":9970,"human_readable_end_date":"Nov 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":105334270,"iid":356659,"project_id":278964,"title":"FE: Usage Quotas page standardization - Error/Loading state","description":"The goal is to have a proper loading/error state for the Usage Quotas Page Statistics and StatisticsSeats cards.\n\nThe following discussion from !82399 should be addressed:\n\n- [ ] @dzubova started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/82399#note_884356987):  (+2 comments)\n\n    \u003e **question:** How should the page look when the API is error and/or when the page is loading?\n    \u003e \n    \u003e Should we show the two tiles at all? If yes, should we show 0/0 everywhere?\n    \u003e \n    \u003e @mnearents I think you could help us here with UX insights :smile: \n    \u003e \n    \u003e ![Screenshot_2022-03-22_at_17.19.17](/uploads/b92f3d73188f76bbcc4d13b366621eb2/Screenshot_2022-03-22_at_17.19.17.png)\n\n\n### Summary\n\n- **Loading:** We should add [Skeleton Loaders](https://design.gitlab.com/components/skeleton-loader) wrapper for both `Statistics` and `StatisticsSeats`\n- **Error:** On API error we should persists the skeleton loaders and show an alert banner at the top of the page with the following text: `Something went wrong while loading Usage details`\n\n\n\n\u003cdetails\u003e\u003csummary\u003eOld design suggestion\u003c/summary\u003e\n\n![Error state](/uploads/cbad44902c93d2205f44cdc1f06715e7/Screen_Shot_2022-03-22_at_1.02.56_PM.png)\n\n**question:** should we still show the alert above? @mnearents \n\nDescription updated after [confirming of correct behaviour](https://gitlab.com/gitlab-org/gitlab/-/issues/356659#note_892084542).\n\n\u003c/details\u003e\n\n### Availability \u0026 Testing\nRegarding this change a view/jest or a feature spec would suffice to check that when the API error is returned a correct error message is shown and when Loading is in progress the loader is visible.\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e","state":"closed","created_at":"2022-03-23T08:39:46.742Z","updated_at":"2022-08-30T12:36:20.010Z","closed_at":"2022-08-30T12:36:19.733Z","closed_by":{"id":10373497,"username":"kpalchyk","name":"Kos Palchyk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10373497/avatar.png","web_url":"https://gitlab.com/kpalchyk"},"labels":["SUS::Impacting","Technical Writing","UI text","[deprecated] Category:Utilization","auto updated","devops::fulfillment","frontend","group::utilization","missed:15.1","missed:15.2","missed:15.3","quad-planning::complete-action","section::fulfillment","severity::4","type::maintenance","workflow::production"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":10373497,"username":"kpalchyk","name":"Kos Palchyk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10373497/avatar.png","web_url":"https://gitlab.com/kpalchyk"}],"author":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"type":"ISSUE","assignee":{"id":10373497,"username":"kpalchyk","name":"Kos Palchyk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10373497/avatar.png","web_url":"https://gitlab.com/kpalchyk"},"user_notes_count":31,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356659","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":5,"blocking_issues_count":2,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356659","notes":"https://gitlab.com/api/v4/projects/278964/issues/356659/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356659/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356659","relative":"#356659","full":"gitlab-org/gitlab#356659"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7123,"epic":{"id":383874,"iid":7123,"title":"Usage Quotas page standardization across consumables","url":"/groups/gitlab-org/-/epics/7123","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":105321138,"iid":356634,"project_id":278964,"title":"Creating an issue in a board with a weight in scope does not add weight","description":"### Summary\n\nWhen an issue board has a set weight in its scope, creating an issue in a list should assign this weight to it.\n\n### Steps to reproduce\n\n- On an issue board, click `Edit board` in the top right corner.\n- Select a weight and save.\n- Create an issue in a column\n\n### What is the current *bug* behavior?\n\n- The issue has no weight\n\n### What is the expected *correct* behavior?\n\n- The issue should have the same weight as the one defined in board scope\n\n### Relevant logs and/or screenshots\n\n![Board_weight_-_Before](/uploads/42ca5af7e87be3f5e63031ca94e91ca8/Board_weight_-_Before.mp4)\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e","state":"closed","created_at":"2022-03-23T03:35:35.485Z","updated_at":"2022-04-26T18:49:23.706Z","closed_at":"2022-03-28T23:36:34.315Z","closed_by":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"labels":["boards","devops::plan","frontend","group::product planning","section::dev","type::bug","workflow::production"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"}],"author":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"type":"ISSUE","assignee":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356634","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356634","notes":"https://gitlab.com/api/v4/projects/278964/issues/356634/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356634/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356634","relative":"#356634","full":"gitlab-org/gitlab#356634"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":105320273,"iid":356632,"project_id":278964,"title":"Can't render the Environment Detail page when there are many deployments","description":"## Problem\n\nVisiting https://gitlab.com/gitlab-com/www-gitlab-com/-/environments/137, it gives you 500 error due to a statement timeout. This is because the environment has many deployments.\n\nFor example,\n\n**Query**\n\n```\nSELECT \"deployments\".* FROM \"deployments\" WHERE \"deployments\".\"environment_id\" = 137 AND \"deployments\".\"status\" IN (1, 2, 3, 4, 6) ORDER BY \"deployments\".\"finished_at\" DESC LIMIT 20 OFFSET 0\n```\n\n**Plan**\n\n```\n Limit  (cost=513873.44..513875.78 rows=20 width=145) (actual time=73166.620..73225.642 rows=20 loops=1)\n   Buffers: shared hit=179611 read=169491 dirtied=8312\n   I/O Timings: read=215486.535 write=0.000\n   -\u003e  Gather Merge  (cost=513873.44..550829.03 rows=316740 width=145) (actual time=73166.617..73225.634 rows=20 loops=1)\n         Workers Planned: 2\n         Workers Launched: 2\n         Buffers: shared hit=179611 read=169491 dirtied=8312\n         I/O Timings: read=215486.535 write=0.000\n         -\u003e  Sort  (cost=512873.42..513269.35 rows=158370 width=145) (actual time=73153.596..73153.600 rows=17 loops=3)\n               Sort Key: deployments.finished_at DESC\n               Sort Method: top-N heapsort  Memory: 35kB\n               Buffers: shared hit=179608 read=169491 dirtied=8312\n               I/O Timings: read=215486.535 write=0.000\n               -\u003e  Parallel Index Scan using index_deployments_on_environment_id_status_and_finished_at on public.deployments  (cost=0.57..508659.25 rows=158370 width=145) (actual time=367.500..72762.317 rows=227223 loops=3)\n                     Index Cond: ((deployments.environment_id = 137) AND (deployments.status = ANY ('{1,2,3,4,6}'::integer[])))\n                     Buffers: shared hit=179590 read=169491 dirtied=8312\n                     I/O Timings: read=215486.535 write=0.000\n```\n\n**Timing**\n\n```\nTime: 1.220 min\n  - planning: 0.590 ms\n  - execution: 1.220 min\n    - I/O read: 3.591 min\n    - I/O write: 0.000 ms\n\nShared buffers:\n  - hits: 179611 (~1.40 GiB) from the buffer pool\n  - reads: 169491 (~1.30 GiB) from the OS file cache, including disk I/O\n  - dirtied: 8312 (~64.90 MiB)\n  - writes: 0\n```\n\nThe main problem is that the query fetches `227223` rows and manually sorting them by `finished_at`. We want to make this one-go by creating a dedicated index.\n\n## Proposal\n\n`exec CREATE INDEX index_deployments_on_environment_id_status_and_finished_at_new ON deployments USING btree (environment_id, status, finished_at DESC);`\n\nhttps://gitlab.slack.com/archives/CLJMDRD8C/p1648004772757979\n\n## Sentry\n\n\nActionView::Template::Error: PG::QueryCanceled: ERROR:  canceling statement due to statement timeout\n\nhttps://sentry.gitlab.net/gitlab/gitlabcom/issues/3190848/?referrer=gitlab_plugin\n\n```\nPG::QueryCanceled: ERROR:  canceling statement due to statement timeout\n\n  lib/gitlab/database/load_balancing/connection_proxy.rb:110:in `block in read_using_load_balancer'\n    connection.send(...)\n  lib/gitlab/database/load_balancing/load_balancer.rb:55:in `read'\n    return yield connection\n  lib/gitlab/database/load_balancing/connection_proxy.rb:109:in `read_using_load_balancer'\n    @load_balancer.read do |connection|\n  lib/gitlab/database/load_balancing/connection_proxy.rb:54:in `select_all'\n    read_using_load_balancer(:select_all, arel, name, binds)\n  app/views/projects/environments/show.html.haml:12:\n    - if @deployments.blank?\n...\n(231 additional frame(s) were not displayed)\n\nActiveRecord::QueryCanceled: PG::QueryCanceled: ERROR:  canceling statement due to statement timeout\n\nActionView::Template::Error: PG::QueryCanceled: ERROR:  canceling statement due to statement timeout\n```","state":"closed","created_at":"2022-03-23T02:58:45.447Z","updated_at":"2022-06-30T18:43:09.494Z","closed_at":"2022-04-06T04:25:58.097Z","closed_by":{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"},"labels":["Category:Continuous Delivery","devops::release","group::release","priority::2","section::ops","severity::2","type::bug","workflow::verification"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"}],"author":{"id":402401,"username":"jobbot","name":"Bot","state":"active","avatar_url":"https://secure.gravatar.com/avatar/aaa6738f1ebf25404010884af511b0e7?s=80\u0026d=identicon","web_url":"https://gitlab.com/jobbot"},"type":"ISSUE","assignee":{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356632","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356632","notes":"https://gitlab.com/api/v4/projects/278964/issues/356632/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356632/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356632","relative":"#356632","full":"gitlab-org/gitlab#356632"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":105318027,"iid":356627,"project_id":278964,"title":"Send `/-/work_items` path on list view","description":"Work items are viewed on the `/-/work_items` route such as https://gitlab.com/gitlab-org/plan-stage/test-project/-/work_items/104945157\n\nHowever, the GraphQL API gives work item paths/urls as `/-/issues` routes instead of `/-/work_items` routes. They should be `/-/work_items` routes.\n\n```diff\n// https://gitlab.com/-/graphql-explorer\n{\n  project(fullPath: \"gitlab-org/plan-stage/test-project\") {\n    issue(iid: \"73\") {\n      id\n      title\n      webPath\n      webUrl\n    }\n  }\n}\n\n// response\n{\n  \"data\": {\n    \"project\": {\n      \"issue\": {\n        \"id\": \"gid://gitlab/Issue/104945157\",\n        \"title\": \"This is a work item\",\n-       \"webPath\": \"/gitlab-org/plan-stage/test-project/-/issues/73\",\n+       \"webPath\": \"/gitlab-org/plan-stage/test-project/-/work_items/104945157\",\n-       \"webUrl\": \"https://gitlab.com/gitlab-org/plan-stage/test-project/-/issues/73\"\n+       \"webUrl\": \"https://gitlab.com/gitlab-org/plan-stage/test-project/-/work_items/104945157\"\n      }\n    }\n  }\n}","state":"closed","created_at":"2022-03-23T01:14:52.707Z","updated_at":"2022-04-13T21:26:54.882Z","closed_at":"2022-04-01T20:31:52.679Z","closed_by":{"id":8110537,"username":"mcelicalderonG","name":"Mario Celi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110537/avatar.png","web_url":"https://gitlab.com/mcelicalderonG"},"labels":["backend","devops::plan","feature::addition","group::project management","section::dev","type::feature","workflow::production"],"milestone":null,"assignees":[{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},{"id":8110537,"username":"mcelicalderonG","name":"Mario Celi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110537/avatar.png","web_url":"https://gitlab.com/mcelicalderonG"}],"author":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"type":"ISSUE","assignee":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"user_notes_count":15,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356627","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356627","notes":"https://gitlab.com/api/v4/projects/278964/issues/356627/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356627/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356627","relative":"#356627","full":"gitlab-org/gitlab#356627"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":105314371,"iid":356621,"project_id":278964,"title":"FE - Dispatch Snowplow events from their event definitions","description":"Add a `.definition` method to `Tracking`, with the following signature:\n\n```js\n/**\n * @param  {...any} eventData \n * @returns {undefined|Boolean}\n */\nstatic definition(...eventData)\n```\n\nAfter preloading the to-be-used definitions. This method will:\n\n- Find the definition by the provided filename.\n- Set `category` and `action` from the definition. Overwritable by the method parameters.\n- Pass this as parameters for the `.event` method (which implements a queue).","state":"closed","created_at":"2022-03-22T22:30:09.941Z","updated_at":"2022-04-18T23:13:26.125Z","closed_at":"2022-04-13T13:00:04.002Z","closed_by":{"id":5412956,"username":"agarciatesares","name":"Axel García","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"},"labels":["Unplanned","devops::growth","frontend","group::product intelligence","maintenance::workflow","section::growth","type::maintenance","workflow::production"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":5412956,"username":"agarciatesares","name":"Axel García","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"}],"author":{"id":5412956,"username":"agarciatesares","name":"Axel García","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"},"type":"ISSUE","assignee":{"id":5412956,"username":"agarciatesares","name":"Axel García","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356621","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356621","notes":"https://gitlab.com/api/v4/projects/278964/issues/356621/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356621/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356621","relative":"#356621","full":"gitlab-org/gitlab#356621"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7759,"epic":{"id":476001,"iid":7759,"title":"Dispatch Snowplow events from their event definitions","url":"/groups/gitlab-org/-/epics/7759","group_id":9970,"human_readable_end_date":"May 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":105313538,"iid":356620,"project_id":278964,"title":"BE - Dispatch Snowplow events from their event definitions","description":"Add a `.definition` method to `Gitlab::Tracking`, with the following signature:\n\n```rb\ndef definition(filename, category: nil, action: nil, label: nil, property: nil, value: nil, context: [], project: nil, user: nil, namespace: nil, **extra)\n```\n\nThis method will:\n\n- Find the definition by the provided filename.\n- Set `category` and `action` from the definition. Overwritable by the method parameters.\n- Pass this as parameters for the `.event` method.","state":"closed","created_at":"2022-03-22T21:56:58.364Z","updated_at":"2022-04-13T18:16:31.597Z","closed_at":"2022-04-13T18:16:31.571Z","closed_by":{"id":5412956,"username":"agarciatesares","name":"Axel García","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"},"labels":["Unplanned","backend","devops::growth","group::product intelligence","maintenance::workflow","section::growth","type::maintenance","workflow::production"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":5412956,"username":"agarciatesares","name":"Axel García","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"}],"author":{"id":5412956,"username":"agarciatesares","name":"Axel García","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"},"type":"ISSUE","assignee":{"id":5412956,"username":"agarciatesares","name":"Axel García","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356620","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356620","notes":"https://gitlab.com/api/v4/projects/278964/issues/356620/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356620/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356620","relative":"#356620","full":"gitlab-org/gitlab#356620"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7759,"epic":{"id":476001,"iid":7759,"title":"Dispatch Snowplow events from their event definitions","url":"/groups/gitlab-org/-/epics/7759","group_id":9970,"human_readable_end_date":"May 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":112180985,"iid":368739,"project_id":278964,"title":"Query Reporting: Record the database queries issued during an rspec run","description":"As a first step towards gitlab-org/database-team\u002612+, we should instrument and record all the queries issued during CI rspec runs.\n\nGitlab's rspec run is split across many jobs, so the output file format for these jobs needs to be easy to recombine once all the parallel jobs are finished, similar to code coverage.\n\n## Definition of Done:\n- [ ] All queries are recorded raw to a file and artifact-ed as a part of their jobs.","state":"closed","created_at":"2022-03-22T21:41:56.134Z","updated_at":"2023-01-15T16:03:33.327Z","closed_at":"2022-11-14T21:19:13.415Z","closed_by":{"id":3916059,"username":"mattkasa","name":"Matt Kasa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3916059/avatar.png","web_url":"https://gitlab.com/mattkasa"},"labels":["Category:Database","Engineering Allocation","database::active","devops::data_stores","group::database","missed:15.3","missed:15.4","missed:15.5","section::enablement","type::feature","workflow::in review"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":3916059,"username":"mattkasa","name":"Matt Kasa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3916059/avatar.png","web_url":"https://gitlab.com/mattkasa"}],"author":{"id":9047949,"username":"stomlinson","name":"Simon Tomlinson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9047949/avatar.png","web_url":"https://gitlab.com/stomlinson"},"type":"ISSUE","assignee":{"id":3916059,"username":"mattkasa","name":"Matt Kasa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3916059/avatar.png","web_url":"https://gitlab.com/mattkasa"},"user_notes_count":8,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/368739","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/368739","notes":"https://gitlab.com/api/v4/projects/278964/issues/368739/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/368739/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#368739","relative":"#368739","full":"gitlab-org/gitlab#368739"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8441,"epic":{"id":572842,"iid":8441,"title":"Record all queries during test runs","url":"/groups/gitlab-org/-/epics/8441","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":105311408,"iid":356608,"project_id":278964,"title":"Issues on the Geo secondaries caused by [1] Rails database migrations and [2] paused database replication","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"type::bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=type::bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nGitLab version upgrades with replication paused may result in schema related problems such as methods which don't exist.\n\nI've worked two tickets where this happened. Internal links for GitLab team members:\n\n- https://gitlab.zendesk.com/agent/tickets/276631 - 14.5 to 14.6.6, `undefined method 'max_ssh_key_lifetime'` using git-over-SSH.\n- https://gitlab.zendesk.com/agent/tickets/263769 - 14.5.2 to 14.6.3 - same issue\n\nThe migration that added `max_ssh_key_lifetime` was introduced by https://gitlab.com/gitlab-org/gitlab/-/merge_requests/75098\n\n### Steps to reproduce\n\n1. Pick a GitLab version upgrade that contains schema changes that add columns; columns that in turn create methods. Eg: 14.5 to 14.6\n1. Pause database sync to Geo secondary\n1. Upgrade primary instance; database migrations run.  Puma/sidekiq restarted as needed.\n1. Upgrade Geo secondary\n   - No column present, so method doesn't get created at initialization.\n   - Sync resumed\n   - Column present, but still no method.\n   - As the checks around maximum SSH key lifetime are likely performed whenever a SSH key is used, this would have broken git-over-SSH via the secondary.\n1. Restart of Puma on secondary creates the method.\n\n### Example Project\n\n\u003c!-- If possible, please create an example project here on GitLab.com that exhibits the problematic \nbehavior, and link to it here in the bug report. If you are using an older version of GitLab, this \nwill also determine whether the bug is fixed in a more recent version. --\u003e\n\n### What is the current *bug* behavior?\n\n[The optional steps in the Geo upgrade procedure](https://docs.gitlab.com/ee/administration/geo/replication/updating_the_geo_sites.html#general-update-steps) causes this:\n\n```\n1.  Optional: Pause replication on each secondary sites. \n[..]\n5.  Upgrade GitLab on each secondary site.\n6. If you paused replication in step 1, resume replication on each secondary \n```\n\n### What is the expected *correct* behavior?\n\nUpgrade procedure needs to ensure Puma is properly initialized on the secondaries.\n\n### Relevant logs and/or screenshots\n\n```\n  \"severity\": \"ERROR\",\n  \"exception.class\": \"NoMethodError\",\n  \"exception.message\": \"undefined method `max_ssh_key_lifetime' for #\u003cApplicationSetting:0x00007fcb4f4a01d8\u003e\\nDid you mean? max_ssh_key_lifetime_from_now\",\n  \"exception.backtrace\": [\n    \"lib/gitlab/current_settings.rb:32:in `method_missing'\",\n    \"ee/app/helpers/ee/profiles_helper.rb:31:in `ssh_key_expiration_policy_enabled?'\",\n```\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e","state":"closed","created_at":"2022-03-22T21:04:49.666Z","updated_at":"2022-07-26T14:27:28.908Z","closed_at":"2022-07-26T09:42:22.616Z","closed_by":{"id":4624911,"username":"bprescott_","name":"Ben Prescott_","state":"active","avatar_url":"https://secure.gravatar.com/avatar/91aa28150f430ec564dc5af5952c35a0?s=80\u0026d=identicon","web_url":"https://gitlab.com/bprescott_"},"labels":["[deprecated] Accepting merge requests","customer","devops::systems","documentation","group::geo","section::enablement","severity::3","type::bug","workflow::ready for development"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[],"author":{"id":4624911,"username":"bprescott_","name":"Ben Prescott_","state":"active","avatar_url":"https://secure.gravatar.com/avatar/91aa28150f430ec564dc5af5952c35a0?s=80\u0026d=identicon","web_url":"https://gitlab.com/bprescott_"},"type":"ISSUE","assignee":null,"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356608","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356608","notes":"https://gitlab.com/api/v4/projects/278964/issues/356608/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356608/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356608","relative":"#356608","full":"gitlab-org/gitlab#356608"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":105305456,"iid":356602,"project_id":278964,"title":"[Feature flag] Cleanup users_expanding_widgets_usage_data","description":"\u003c!-- Title suggestion: [Feature flag] Cleanup users_expanding_widgets_usage_data --\u003e\n\n## Summary\n\nThis issue is to cleanup the `users_expanding_widgets_usage_data` feature flag, after the feature flag has been enabled by default for an appropriate amount of time in production.\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\n## Owners\n\n- Team: ~\"group::code review\" \n- Most appropriate slack channel to reach out to: `#g_create_code-review`\n- Best individual to reach out to: NAME\n- PM: @phikai \n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## Expectations\n\n### What might happen if this goes wrong?\n\n\u003c!-- Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\n### Cleaning up the feature flag\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [x] Create a merge request to remove `users_expanding_widgets_usage_data` feature flag. Ask for review and merge it.\n    - [x] Remove all references to the feature flag from the codebase.\n    - [x] Remove the YAML definitions for the feature from the repository.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the cleanup MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-cleanup-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [ ] `/chatops run feature delete users_expanding_widgets_usage_data --dev`\n    - [ ] `/chatops run feature delete users_expanding_widgets_usage_data --staging`\n    - [ ] `/chatops run feature delete users_expanding_widgets_usage_data`\n- [ ] Close this rollout issue.","state":"closed","created_at":"2022-03-22T19:50:49.037Z","updated_at":"2022-04-06T15:41:28.865Z","closed_at":"2022-04-06T15:41:28.837Z","closed_by":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"labels":["backend","devops::create","feature flag","feature::addition","group::code review","section::dev","type::feature"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"}],"author":{"id":4058309,"username":"mnohr","name":"Matt Nohr","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f2b70c7a75fd0a15ef789d4b1e620449?s=80\u0026d=identicon","web_url":"https://gitlab.com/mnohr"},"type":"ISSUE","assignee":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356602","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":12,"completed_count":4},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"4 of 12 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356602","notes":"https://gitlab.com/api/v4/projects/278964/issues/356602/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356602/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356602","relative":"#356602","full":"gitlab-org/gitlab#356602"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":105305425,"iid":356601,"project_id":278964,"title":"[Feature flag] Cleanup usage_data_diff_searches","description":"\u003c!-- Title suggestion: [Feature flag] Cleanup usage_data_diff_searches --\u003e\n\n## Summary\n\nThis issue is to cleanup the `usage_data_diff_searches` feature flag, after the feature flag has been enabled by default for an appropriate amount of time in production.\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\n## Owners\n\n- Team: ~\"group::code review\" \n- Most appropriate slack channel to reach out to: `#g_create_code-review`\n- Best individual to reach out to: NAME\n- PM: @phikai \n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## Expectations\n\n### What might happen if this goes wrong?\n\n\u003c!-- Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\n### Cleaning up the feature flag\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [x] Create a merge request to remove `usage_data_diff_searches` feature flag. Ask for review and merge it.\n    - [x] Remove all references to the feature flag from the codebase.\n    - [x] Remove the YAML definitions for the feature from the repository.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the cleanup MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-cleanup-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [ ] `/chatops run feature delete usage_data_diff_searches --dev`\n    - [ ] `/chatops run feature delete usage_data_diff_searches --staging`\n    - [ ] `/chatops run feature delete usage_data_diff_searches`\n- [ ] Close this rollout issue.","state":"closed","created_at":"2022-03-22T19:50:05.083Z","updated_at":"2022-04-21T16:05:49.586Z","closed_at":"2022-04-06T15:45:18.090Z","closed_by":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"labels":["backend","devops::create","feature flag","feature::addition","group::code review","section::dev","type::feature"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"}],"author":{"id":4058309,"username":"mnohr","name":"Matt Nohr","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f2b70c7a75fd0a15ef789d4b1e620449?s=80\u0026d=identicon","web_url":"https://gitlab.com/mnohr"},"type":"ISSUE","assignee":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356601","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":12,"completed_count":4},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"4 of 12 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356601","notes":"https://gitlab.com/api/v4/projects/278964/issues/356601/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356601/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356601","relative":"#356601","full":"gitlab-org/gitlab#356601"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":105305014,"iid":356598,"project_id":278964,"title":"[Feature flag] Cleanup diff_settings_usage_data","description":"\u003c!-- Title suggestion: [Feature flag] Cleanup diff_settings_usage_data --\u003e\n\n## Summary\n\nThis issue is to cleanup the `diff_settings_usage_data` feature flag, after the feature flag has been enabled by default for an appropriate amount of time in production.\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\n## Owners\n\n- Team: ~\"group::code review\" \n- Most appropriate slack channel to reach out to: `#g_create_code-review`\n- Best individual to reach out to: NAME\n- PM: @phikai \n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## Expectations\n\n### What might happen if this goes wrong?\n\n\u003c!-- Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\n### Cleaning up the feature flag\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [x] Create a merge request to remove `diff_settings_usage_data` feature flag. Ask for review and merge it.\n    - [ ] Remove all references to the feature flag from the codebase.\n    - [ ] Remove the YAML definitions for the feature from the repository.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the cleanup MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-cleanup-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [ ] `/chatops run feature delete diff_settings_usage_data --dev`\n    - [ ] `/chatops run feature delete diff_settings_usage_data --staging`\n    - [ ] `/chatops run feature delete diff_settings_usage_data`\n- [ ] Close this rollout issue.","state":"closed","created_at":"2022-03-22T19:47:34.531Z","updated_at":"2022-05-24T12:00:23.896Z","closed_at":"2022-04-18T11:45:31.596Z","closed_by":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"labels":["Deliverable","backend","devops::create","feature flag","feature::addition","group::code review","section::dev","type::feature"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"}],"author":{"id":4058309,"username":"mnohr","name":"Matt Nohr","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f2b70c7a75fd0a15ef789d4b1e620449?s=80\u0026d=identicon","web_url":"https://gitlab.com/mnohr"},"type":"ISSUE","assignee":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356598","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":12,"completed_count":1},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 12 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356598","notes":"https://gitlab.com/api/v4/projects/278964/issues/356598/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356598/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356598","relative":"#356598","full":"gitlab-org/gitlab#356598"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null}]