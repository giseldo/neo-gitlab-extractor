[{"id":116028453,"iid":375762,"project_id":278964,"title":"Track and display invalid approval rules","description":"Basically there was this issue (https://gitlab.com/gitlab-org/gitlab/-/issues/334698) which contains the MR you linked, which shows invalid MR's. However, we only show `report_approver_rules` where as other approval rules could be invalid too.\n\nThen we had audit log event MRs (https://gitlab.com/gitlab-org/gitlab/-/merge_requests/98636/), which was done in a similar way to reports, but found that it wasn't so valid, then we moved it to after merge (https://gitlab.com/gitlab-org/gitlab/-/merge_requests/100496)\n\nTo achieve this we need to:\n\n- Show all the invalid approval rules as invalid in the UI\n- Track all the invalid approval rules as for report approvals (https://gitlab.com/gitlab-org/gitlab/-/merge_requests/89345)\n\nPrevious work: https://gitlab.com/gitlab-org/gitlab/-/issues/334698\n\n\n#### Testing\nAdd UI test (`frontend` or `spec/features`) to ensure invalid rules are shown as Invalid in the UI SET: @jay_mccure","state":"closed","created_at":"2022-09-29T17:28:48.951Z","updated_at":"2022-12-01T10:02:16.588Z","closed_at":"2022-11-17T11:13:40.274Z","closed_by":{"id":5918904,"username":"marc_shaw","name":"Marc Shaw","state":"active","avatar_url":"https://secure.gravatar.com/avatar/78c946cb19e40815a2b5d97cefecec6a?s=80\u0026d=identicon","web_url":"https://gitlab.com/marc_shaw"},"labels":["Deliverable","Technical Writing","Track Health Status","backend","backend-weight::2","devops::create","documentation","group::code review","maintenance::refactor","quad-planning::complete-action","section::dev","type::maintenance","workflow::in review"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":5918904,"username":"marc_shaw","name":"Marc Shaw","state":"active","avatar_url":"https://secure.gravatar.com/avatar/78c946cb19e40815a2b5d97cefecec6a?s=80\u0026d=identicon","web_url":"https://gitlab.com/marc_shaw"}],"author":{"id":5918904,"username":"marc_shaw","name":"Marc Shaw","state":"active","avatar_url":"https://secure.gravatar.com/avatar/78c946cb19e40815a2b5d97cefecec6a?s=80\u0026d=identicon","web_url":"https://gitlab.com/marc_shaw"},"type":"ISSUE","assignee":{"id":5918904,"username":"marc_shaw","name":"Marc Shaw","state":"active","avatar_url":"https://secure.gravatar.com/avatar/78c946cb19e40815a2b5d97cefecec6a?s=80\u0026d=identicon","web_url":"https://gitlab.com/marc_shaw"},"user_notes_count":26,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375762","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375762","notes":"https://gitlab.com/api/v4/projects/278964/issues/375762/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375762/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375762","relative":"#375762","full":"gitlab-org/gitlab#375762"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":116025108,"iid":375753,"project_id":278964,"title":"Investigate end-to-end test failures","description":"### Problem\n\nAPI Security performs end-to-end testing on default branch builds. Their are some flaky tests and tests that are no longer passing due to incorrect vulnerability counts. They need to be investigated and updated so they pass.\n\n### Proposal\n\nInvestigate each failing e2e test and identify if a problem exists in API Security, or the test needs to be updated.","state":"closed","created_at":"2022-09-29T16:13:56.124Z","updated_at":"2022-10-14T16:46:44.139Z","closed_at":"2022-10-14T16:46:44.113Z","closed_by":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"labels":["Category:API Security","GitLab Ultimate","backend","devops::secure","group::dynamic analysis","maintenance::test-gap","section::sec","type::maintenance","workflow::in dev"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"}],"author":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"type":"ISSUE","assignee":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375753","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375753","notes":"https://gitlab.com/api/v4/projects/278964/issues/375753/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375753/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375753","relative":"#375753","full":"gitlab-org/gitlab#375753"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":116006895,"iid":375737,"project_id":278964,"title":"[Feature flag] Cleanup use_gitaly_pagination_for_refs","description":"\u003c!-- Title suggestion: [Feature flag] Cleanup \u003cfeature-flag-name\u003e --\u003e\n\n## Summary\n\nThis issue is to cleanup the `use_gitaly_pagination_for_refs` feature flag, after the feature flag has been enabled by default for an appropriate amount of time in production.\n\n* Previous FF issue: https://gitlab.com/gitlab-org/gitlab/-/issues/372049\n* Merge request: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/97137\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\n## Owners\n\n- Team: ~\"group::source code\"\n- Most appropriate slack channel to reach out to: `#g_create_source-code-be`\n- Best individual to reach out to: @vyaklushin\n\n\n### What are we expecting to happen?\n\nWe expect to see less 500 errors here.\n\nhttps://log.gprd.gitlab.net/goto/4a3ddb40-2778-11ed-8656-f5f2137823ba\n\n### What might happen if this goes wrong?\n\nWe still see 500 errors.\n\n### What can we monitor to detect problems with this?\n\nhttps://log.gprd.gitlab.net/goto/4a3ddb40-2778-11ed-8656-f5f2137823ba\n\n### Cleaning up the feature flag\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [x] Create a merge request to remove `use_gitaly_pagination_for_refs` feature flag. Ask for review and merge it.\n    - [x] Remove all references to the feature flag from the codebase.\n    - [x] Remove the YAML definitions for the feature from the repository.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [x] Ensure that the cleanup MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-cleanup-mr\u003e`\n- [x] Close [the feature issue](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/96448) to indicate the feature will be released in the current milestone.\n- [x] If not already done, clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [x] `/chatops run feature delete use_gitaly_pagination_for_refs --dev`\n    - [x] `/chatops run feature delete use_gitaly_pagination_for_refs --staging`\n    - [x] `/chatops run feature delete use_gitaly_pagination_for_refs`\n- [x] Close this rollout issue.","state":"closed","created_at":"2022-09-29T12:44:38.939Z","updated_at":"2022-10-21T12:01:12.720Z","closed_at":"2022-10-06T08:09:05.555Z","closed_by":{"id":12517375,"username":"ghinfey","name":"Gavin Hinfey","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12517375/avatar.png","web_url":"https://gitlab.com/ghinfey"},"labels":["Deliverable","backend","devops::create","feature flag","feature::addition","group::source code","section::dev","type::feature","workflow::production"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":12517375,"username":"ghinfey","name":"Gavin Hinfey","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12517375/avatar.png","web_url":"https://gitlab.com/ghinfey"}],"author":{"id":12517375,"username":"ghinfey","name":"Gavin Hinfey","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12517375/avatar.png","web_url":"https://gitlab.com/ghinfey"},"type":"ISSUE","assignee":{"id":12517375,"username":"ghinfey","name":"Gavin Hinfey","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12517375/avatar.png","web_url":"https://gitlab.com/ghinfey"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375737","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":12,"completed_count":12},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"12 of 12 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375737","notes":"https://gitlab.com/api/v4/projects/278964/issues/375737/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375737/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375737","relative":"#375737","full":"gitlab-org/gitlab#375737"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":116005099,"iid":375733,"project_id":278964,"title":"Geo: Image for direction page","description":"# Problem to solve\n\nThe [Geo team has a number of direction pages](https://about.gitlab.com/direction/geo/) related to the different product categories. Geo is a complex product that has multiple use cases.  In order to help customers understand Geo it will be good to have a few illustrations to accompany the descriptions.\n\n\n# Proposal\n\nHave a high level illustration that depicts the main uses of Geo - Disaster Recovery and replication. \n\nI suggest we should multiple Geo sites on a world map.  We have several secondary sites linked to a primary site. Remote teams can be shown to be interacting with GitLab via the secondary sites.\n\nWe should also show a DR site.\n\n- [Figma link 🔗](https://www.figma.com/file/6zDmExHBwBKaeil93vdlBz/Geo?node-id=713%3A66395)\n- MR: https://gitlab.com/gitlab-com/www-gitlab-com/-/merge_requests/112097\n\n\u003c!-- template sourced from https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Default.md --\u003e","state":"closed","created_at":"2022-09-29T12:23:33.522Z","updated_at":"2022-10-14T08:18:03.763Z","closed_at":"2022-10-05T13:24:17.782Z","closed_by":{"id":4903414,"username":"sunjungp","name":"Sunjung Park","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a2c072c26031ffd81b676b43eeb7b781?s=80\u0026d=identicon","web_url":"https://gitlab.com/sunjungp"},"labels":["UX","devops::systems","docs::improvement","documentation","geo::planning","group::geo","maintenance::refactor","section::enablement","type::maintenance","workflow::design"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":4903414,"username":"sunjungp","name":"Sunjung Park","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a2c072c26031ffd81b676b43eeb7b781?s=80\u0026d=identicon","web_url":"https://gitlab.com/sunjungp"}],"author":{"id":10992325,"username":"sranasinghe","name":"Sampath Ranasinghe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10992325/avatar.png","web_url":"https://gitlab.com/sranasinghe"},"type":"ISSUE","assignee":{"id":4903414,"username":"sunjungp","name":"Sunjung Park","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a2c072c26031ffd81b676b43eeb7b781?s=80\u0026d=identicon","web_url":"https://gitlab.com/sunjungp"},"user_notes_count":1,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375733","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375733","notes":"https://gitlab.com/api/v4/projects/278964/issues/375733/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375733/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375733","relative":"#375733","full":"gitlab-org/gitlab#375733"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":115999545,"iid":375728,"project_id":278964,"title":"[Feature flag] Enable \"webhook push events support regular expressions\"","description":"## Summary\n\nThis issue is to rollout [Webhook push events support regular expressions](https://gitlab.com/gitlab-org/gitlab/-/issues/369104) on production,\n\nthat is currently behind the `enhanced_webhook_support_regex` feature flag.\n\n## Owners\n\n- Team: ~\"group::integrations\" \n- Most appropriate slack channel to reach out to: `#g_manage_integrations`\n- Best individuals to reach out to: @luzhiyuan.deer from JiHu, and @.luke from GitLab\n- PM: @lpeng1991 from JiHu, and @g.hickman from GitLab\n\n## Expectations\n\n### What are we expecting to happen?\n\nWebhook push events will support regular expressions, just like how push rules can support.\n\n| Before | After |\n| ------ | ------ |\n| \u003cimg src=\"/uploads/8549c3d05961c92a01bb3fbcf6fc8b89/image.png\" width=500\u003e | \u003cimg src=\"/uploads/3ae456d2a6d7877aa7330b17c4a22bf8/iShot_2022-09-29_15.42.25.gif\" width=500\u003e |\n\n### When is the feature viable?\n\nOnce the changes are done for https://gitlab.com/gitlab-org/gitlab/-/issues/369104\n\n### What might happen if this goes wrong?\n\n\u003c!-- Should the feature flag be turned off? Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\n### What can we monitor to detect problems with this?\n\nSentry exceptions:\n\n- https://sentry.gitlab.net/gitlab/gitlabcom/?query=is%3Aunresolved+WebHook\n- https://sentry.gitlab.net/gitlab/gitlabcom/?query=is%3Aunresolved+ActiveHookFilter\n- https://sentry.gitlab.net/gitlab/gitlabcom/?query=is%3Aunresolved+feature_category%3Aintegrations \n\n### What can we check for monitoring production after rollouts?\n\n_Consider adding links to check for Sentry errors, Production logs for 5xx, 302s, etc._\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Enable the feature globally on non-production environments.\n    - [x] `/chatops run feature set enhanced_webhook_support_regex true --dev --staging --staging-ref`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n      The best environment to validate the feature in is [staging-canary](https://about.gitlab.com/handbook/engineering/infrastructure/environments/#staging-canary)\n      as this is the first environment deployed to. Note you will need to make sure you are configured to use canary as outlined [here](https://about.gitlab.com/handbook/engineering/infrastructure/environments/canary-stage/)\n      when accessing the staging environment in order to make sure you are testing appropriately.\n\n### Specific rollout on production\n\n- Ensure that the feature MRs have been deployed to both production and canary.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- If you're using [project-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --project=gitlab-org/gitlab,gitlab-org/gitlab-foss,gitlab-com/www-gitlab-com enhanced_webhook_support_regex true`\n- If you're using [group-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --group=gitlab-org,gitlab-com enhanced_webhook_support_regex true`\n- If you're using [user-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --user=\u003cyour-username\u003e enhanced_webhook_support_regex true`\n- [ ] Verify that the feature works on the specific entries. Posting the QA result in this issue is preferable.\n\n### Preparation before global rollout\n\n- [x] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [x] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [x] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [x] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com. \n- [x] Ensure that any breaking changes have been announced following the [release post process](https://about.gitlab.com/handbook/marketing/blog/release-posts/#deprecations-removals-and-breaking-changes) to ensure GitLab customers are aware.\n- [x] Notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nFor visibility, all `/chatops` commands that target production should be executed in the `#production` slack channel and cross-posted (with the command results) to the responsible team's slack channel (`#g_TEAM_NAME`).\n\n- [x] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [ ] `/chatops run feature set enhanced_webhook_support_regex \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [x] `/chatops run feature set enhanced_webhook_support_regex \u003crollout-percentage\u003e --random`\n  - Enable the feature globally on production environment.\n    - [x] `/chatops run feature set enhanced_webhook_support_regex true`\n- [x] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [x] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\nYou can either [create a follow-up issue for Feature Flag Cleanup](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) or use the checklist below in this same issue.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [x] Create a merge request to remove `enhanced_webhook_support_regex` feature flag. Ask for review and merge it.\n    - [x] Remove all references to the feature flag from the codebase.\n    - [x] Remove the YAML definitions for the feature from the repository.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [x] Ensure that the cleanup MR has been included in the release package.\n      If the merge request was deployed before [the monthly release was tagged](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [x] `/chatops run release check \u003cmerge-request-url\u003e \u003cmilestone\u003e`\n- [x] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [x] If not already done, clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [x] `/chatops run feature delete enhanced_webhook_support_regex --dev --staging --staging-ref --production`\n- [x] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following rails console command:\n\n```ruby\n/chatops run feature set enhanced_webhook_support_regex false\n```","state":"closed","created_at":"2022-09-29T11:48:10.621Z","updated_at":"2022-12-06T17:42:16.654Z","closed_at":"2022-11-28T21:12:30.912Z","closed_by":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"labels":["Category:Integrations","Category:Webhooks","Community contribution","JiHu contribution","backend","devops::manage","feature flag","feature::enhancement","group::integrations","section::dev","type::feature","workflow::in review"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},{"id":12053347,"username":"luzhiyuan.deer","name":"Zhiyuan Lu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12053347/avatar.png","web_url":"https://gitlab.com/luzhiyuan.deer"}],"author":{"id":12053347,"username":"luzhiyuan.deer","name":"Zhiyuan Lu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12053347/avatar.png","web_url":"https://gitlab.com/luzhiyuan.deer"},"type":"ISSUE","assignee":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"user_notes_count":21,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375728","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":32,"completed_count":26},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"26 of 32 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375728","notes":"https://gitlab.com/api/v4/projects/278964/issues/375728/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375728/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375728","relative":"#375728","full":"gitlab-org/gitlab#375728"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2318,"epic":{"id":16059,"iid":2318,"title":"Expanding and Improving Webhooks","url":"/groups/gitlab-org/-/epics/2318","group_id":9970},"iteration":null,"health_status":null},{"id":115998938,"iid":375726,"project_id":278964,"title":"SPIKE: Investigate ability to complete required onboarding steps","description":"# Overview\n\nThis issue is to investigate possible solutions for https://gitlab.com/gitlab-org/gitlab/-/issues/351738+\n\nRequirements which need to be considered:\n\n* needs to be able ensure user completes all steps in onboarding before they exit onboarding\n* needs to be immune from browser session issues (might mean we need to go to the database)\n* needs to handle standard(non trial) and trial flows\n* needs to handle varying branching concepts - see above with trials and standard\n* needs to handle storing of metadata along the way. Things like glm_params and other params that dictate the user's flow through registration\n* needs to handle our `ee` vs `foss` splitting of code\n* needs to _potentially_ skip step / finish onboarding earlier","state":"closed","created_at":"2022-09-29T11:35:08.377Z","updated_at":"2022-11-14T14:04:53.040Z","closed_at":"2022-11-01T13:37:03.529Z","closed_by":{"id":10216431,"username":"syarynovskyi","name":"Serhii Yarynovskyi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10216431/avatar.png","web_url":"https://gitlab.com/syarynovskyi"},"labels":["devops::growth","feature::enhancement","group::acquisition","section::growth","type::feature","workflow::in dev"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":10216431,"username":"syarynovskyi","name":"Serhii Yarynovskyi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10216431/avatar.png","web_url":"https://gitlab.com/syarynovskyi"}],"author":{"id":10216431,"username":"syarynovskyi","name":"Serhii Yarynovskyi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10216431/avatar.png","web_url":"https://gitlab.com/syarynovskyi"},"type":"ISSUE","assignee":{"id":10216431,"username":"syarynovskyi","name":"Serhii Yarynovskyi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10216431/avatar.png","web_url":"https://gitlab.com/syarynovskyi"},"user_notes_count":16,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375726","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375726","notes":"https://gitlab.com/api/v4/projects/278964/issues/375726/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375726/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375726","relative":"#375726","full":"gitlab-org/gitlab#375726"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8617,"epic":{"id":587358,"iid":8617,"title":"Q3 FY23 - Registration flow cleanup","url":"/groups/gitlab-org/-/epics/8617","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":115987222,"iid":375704,"project_id":278964,"title":"[Feature flag] Rollout of `trigger_mr_subscription_on_merge_status_change`","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout [the feature](https://gitlab.com/gitlab-org/gitlab/-/issues/372517) on production,\nthat is currently behind the `trigger_mr_subscription_on_merge_status_change` feature flag.\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\n## Owners\n\n- Team: ~\"group::code review\" \n- Most appropriate slack channel to reach out to: `#g_create_code-review`\n- Best individual to reach out to: `@patrickbajao`\n- PM: `@phikai`\n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## Expectations\n\n### What are we expecting to happen?\n\nNo negative effects on mergeability of merge requests.\n\n### When is the feature viable?\n\n\u003c!-- What are the settings we need to configure in order to have this feature viable? --\u003e\n\n\u003c!-- \nExample below:\n \n1. Enable service ping collection\n   `ApplicationSetting.first.update(usage_ping_enabled: true)`\n--\u003e\n\n### What might happen if this goes wrong?\n\nMergeability checks for MRs fail.\n\n### What can we monitor to detect problems with this?\n\nError ratio:\n- Staging:\n  - NewMergeRequestWorker: https://dashboards.gitlab.net/d/sidekiq-worker-detail/sidekiq-worker-detail?orgId=1\u0026var-PROMETHEUS_DS=Global\u0026var-environment=gstg\u0026var-stage=main\u0026var-worker=NewMergeRequestWorker\u0026from=now-3h\u0026to=now\n  - MergeRequestMergeabilityCheckWorker: https://dashboards.gitlab.net/d/sidekiq-worker-detail/sidekiq-worker-detail?orgId=1\u0026var-PROMETHEUS_DS=Global\u0026var-environment=gstg\u0026var-stage=main\u0026var-worker=MergeRequestMergeabilityCheckWorker\u0026from=now-3h\u0026to=now\n- Production: \n  - NewMergeRequestWorker: https://dashboards.gitlab.net/d/sidekiq-worker-detail/sidekiq-worker-detail?orgId=1\u0026var-PROMETHEUS_DS=Global\u0026var-environment=gprd\u0026var-stage=main\u0026var-worker=NewMergeRequestWorker\u0026from=now-3h\u0026to=now\n  - MergeRequestMergeabilityCheckWorker: https://dashboards.gitlab.net/d/sidekiq-worker-detail/sidekiq-worker-detail?orgId=1\u0026var-PROMETHEUS_DS=Global\u0026var-environment=gprd\u0026var-stage=main\u0026var-worker=MergeRequestMergeabilityCheckWorker\u0026from=now-3h\u0026to=now\n\nNew errors on Sentry:\n- Staging: https://sentry.gitlab.net/gitlab/staginggitlabcom/?query=is%3Aunresolved+transaction%3ASidekiq%2FMergeRequestMergeabilityCheckWorker\n- Production: https://sentry.gitlab.net/gitlab/gitlabcom/?query=is%3Aunresolved+transaction%3ASidekiq%2FMergeRequestMergeabilityCheckWorker\n\n### What can we check for monitoring production after rollouts?\n\nApdex not dropping than usual and error ratio not going up:\n- NewMergeRequestWorker: https://dashboards.gitlab.net/d/sidekiq-worker-detail/sidekiq-worker-detail?orgId=1\u0026var-PROMETHEUS_DS=Global\u0026var-environment=gprd\u0026var-stage=main\u0026var-worker=NewMergeRequestWorker\u0026from=now-3h\u0026to=now\n- MergeRequestMergeabilityCheckWorker: https://dashboards.gitlab.net/d/sidekiq-worker-detail/sidekiq-worker-detail?orgId=1\u0026var-PROMETHEUS_DS=Global\u0026var-environment=gprd\u0026var-stage=main\u0026var-worker=MergeRequestMergeabilityCheckWorker\u0026from=now-3h\u0026to=now\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- Ensure that the feature MRs have been deployed to non-production environments.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Enable the feature globally on non-production environments.\n    - [x] `/chatops run feature set trigger_mr_subscription_on_merge_status_change true --dev --staging --staging-ref`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n      The best environment to validate the feature in is [staging-canary](https://about.gitlab.com/handbook/engineering/infrastructure/environments/#staging-canary)\n      as this is the first environment deployed to. Note you will need to make sure you are configured to use canary as outlined [here](https://about.gitlab.com/handbook/engineering/infrastructure/environments/canary-stage/)\n      when accessing the staging environment in order to make sure you are testing appropriately.\n\n### Specific rollout on production\n\n- Ensure that the feature MRs have been deployed to both production and canary.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- If you're using [project-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [x] `/chatops run feature set --project=gitlab-org/gitlab,gitlab-org/gitlab-foss,gitlab-com/www-gitlab-com trigger_mr_subscription_on_merge_status_change true`\n- [x] Verify that the feature works on the specific entries. Posting the QA result in this issue is preferable.\n\n### Preparation before global rollout\n\n- [ ] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [ ] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [ ] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [ ] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com. \n- [ ] Ensure that any breaking changes have been announced following the [release post process](https://about.gitlab.com/handbook/marketing/blog/release-posts/#deprecations-removals-and-breaking-changes) to ensure GitLab customers are aware.\n- [ ] Notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nFor visibility, all `/chatops` commands that target production should be executed in the `#production` slack channel and cross-posted (with the command results) to the responsible team's slack channel (`#g_create_code-review`).\n\n- [ ] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [x] `/chatops run feature set trigger_mr_subscription_on_merge_status_change 25 --actors`\n    - [x] `/chatops run feature set trigger_mr_subscription_on_merge_status_change 50 --actors`\n    - [x] `/chatops run feature set trigger_mr_subscription_on_merge_status_change 75 --actors`\n  - Enable the feature globally on production environment.\n    - [x] `/chatops run feature set trigger_mr_subscription_on_merge_status_change true`\n- [x] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [ ] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [ ] Create a merge request with the following changes. Ask for review and merge it.\n    - [ ] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the default-enabling MR has been included in the release package.\n      If the merge request was deployed before [the monthly release was tagged](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run release check \u003cmerge-request-url\u003e \u003cmilestone\u003e`\n- [ ] Consider cleaning up the feature flag from all environments by running these chatops command in `#production` channel. Otherwise these settings may override the default enabled.\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --dev --staging --staging-ref --production`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [ ] (Optional) You can [create a separate issue](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [ ] Set the title to \"[Feature flag] Cleanup `\u003cfeature-flag-name\u003e`\".\n    - [ ] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [ ] Link this rollout issue as a related issue.\n    - [ ] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\nYou can either [create a follow-up issue for Feature Flag Cleanup](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) or use the checklist below in this same issue.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [ ] Create a merge request to remove `trigger_mr_subscription_on_merge_status_change` feature flag. Ask for review and merge it.\n    - [x] Remove all references to the feature flag from the codebase.\n    - [x] Remove the YAML definitions for the feature from the repository.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the cleanup MR has been included in the release package.\n      If the merge request was deployed before [the monthly release was tagged](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [x] `/chatops run release check \u003cmerge-request-url\u003e \u003cmilestone\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] If not already done, clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [x] `/chatops run feature delete trigger_mr_subscription_on_merge_status_change --dev --staging --staging-ref --production`\n- [ ] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set trigger_mr_subscription_on_merge_status_change false\n```\n### Release the feature\nOnce the FF is available, ensure MR-related E2E tests are successful with the FF turned on. Updater E2E if required SET: @jay_mccure","state":"closed","created_at":"2022-09-29T08:36:57.170Z","updated_at":"2022-11-21T12:01:45.561Z","closed_at":"2022-11-16T06:34:44.264Z","closed_by":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"labels":["Deliverable","Track Health Status","backend","devops::create","feature flag","feature::addition","group::code review","quad-planning::complete-action","section::dev","type::feature"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"}],"author":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"type":"ISSUE","assignee":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375704","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":45,"completed_count":15},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"15 of 45 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375704","notes":"https://gitlab.com/api/v4/projects/278964/issues/375704/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375704/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375704","relative":"#375704","full":"gitlab-org/gitlab#375704"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8639,"epic":{"id":589941,"iid":8639,"title":"Real-time merge widget","url":"/groups/gitlab-org/-/epics/8639","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":115985694,"iid":375703,"project_id":278964,"title":"`master` assets is reused without checking its version when `CACHE_ASSETS_AS_PACKAGE=true`, new strategy cache is absent, and `master` cache is present","description":"After https://gitlab.com/gitlab-org/gitlab/-/merge_requests/96297, when the new cache package doesn't exist but `master` cache is present, we use the `master` cache without checking its version.\n\nThe solution would be to check the `master` cache version and re-compile the assets if it doesn't match (similarly to how the \"old\" strategy works).","state":"closed","created_at":"2022-09-29T08:15:57.587Z","updated_at":"2022-10-10T23:28:46.380Z","closed_at":"2022-10-10T23:28:46.299Z","closed_by":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"labels":["Engineering Productivity","bug::functional","ep::pipeline","type::bug"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"}],"author":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"type":"ISSUE","assignee":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375703","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375703","notes":"https://gitlab.com/api/v4/projects/278964/issues/375703/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375703/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375703","relative":"#375703","full":"gitlab-org/gitlab#375703"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":115985612,"iid":375702,"project_id":278964,"title":"Follow-up from \"Add container for group-level exec dashboard\"","description":"The following discussion from !98767 should be addressed:\n\n- [ ] @alberts-gitlab started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/98767#note_1118430783): \n\n    \u003e _for follow up_\n    \u003e \n    \u003e It seems that in the `Groups` namespace and `Group::Analytics::ApplicationController`, a `@group` is always required. Does it make sense to move this `before_action` into `Group::Analytics::ApplicationController`?","state":"closed","created_at":"2022-09-29T08:14:32.793Z","updated_at":"2022-10-20T09:24:12.843Z","closed_at":"2022-10-20T09:24:12.730Z","closed_by":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"labels":["automation:ml","devops::plan","group::optimize","section::dev","type::maintenance","workflow::production"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"}],"author":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"type":"ISSUE","assignee":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375702","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375702","notes":"https://gitlab.com/api/v4/projects/278964/issues/375702/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375702/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375702","relative":"#375702","full":"gitlab-org/gitlab#375702"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":115980204,"iid":375676,"project_id":278964,"title":"Do not allow Group Access Token (bot user) to become the sole owner in a top-level group","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"type::bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=type::bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\n- _This issue is very similar to:_\n    - _[Group access token (bot user) should not be last explicit top-level group owner](https://gitlab.com/gitlab-org/gitlab/-/issues/363387)_\n\n   _However, the steps to replicate the issue are different and still possible to perform at this point in time._\n\nIt's possible for a [Group Access token](https://docs.gitlab.com/ee/user/group/settings/group_access_tokens.html#create-a-group-access-token-using-ui) bot user to be the last explicit owner of a top-level group.\n\n- This is problematic on GitLab.com SaaS where no user can sign in as the bot user to change settings or re-add users.\n- This is problematic on self-managed GitLab instances where it may be more likely that users could erroneously delete a bot user while they're the sole owner of a top-level group, and thus end up removing all of the group's contents. For example, a bot user may inadvertently be removed if the intention is to create a new group access token with a different permission scope _(since this can only be defined on initial token creation)_, or when it's unclear what the bot user is being used for.\n\n    - _Caveat: At the time of writing, I am not currently aware of if there are legitimate use cases to allow these bot users to be sole owners of top-level groups on self-managed instances, but the argument against it on SaaS is pretty clear._\n\n- A Large self-managed Ultimate customer raised this concern after the removal of a bot user that inadvertently ended up as the sole-owner of a top-level group resulted in contribution deletions (subgroups and projects under the top-level group being removed).\n\n    - [Zendesk _(internal use only)_](https://gitlab.zendesk.com/agent/tickets/323351)\n\n### Steps to reproduce\n\n1. Create a top-level group\n1. Add a [Group Access Token](https://docs.gitlab.com/ee/user/group/settings/group_access_tokens.html#group-access-tokens) with `Owner` role to the group.\n    - _(For the sake of this example use the `Owner` role, but be aware that you can set _any_ role and end up with a bot user as a sole _member_ of a group, irrespective of if they are an `Owner`. The cause of this may be due to a [separate outstanding issue](https://gitlab.com/gitlab-org/gitlab/-/issues/364147#note_1117297014))_\n1. Create a new subgroup\n2. Invite a user to the subgroup _(invite your own account for this example)_\n3. Invite the subgroup as a group member under the top-level group created in step 1, with the `Owner` role\n4. Leave the group as a direct member, which will be allowable:\n    ![image](/uploads/acc6601b711f8a2acd2080655d442ff0/image.png)\n1. At this point you can still access the top-level group as a member of the subgroup that was invited to the top-level group. Remove this group as a member of the top-level group.\n    ![image](/uploads/df19fa7c8cad43085bf88a50bea96d8b/image.png)\n\n1. The result is that the top-level group now only has the bot user as the sole owner.\n\n    ![image](/uploads/f8a8aaba30756a2ff9a72aee5db00719/image.png)\n\n### What is the current *bug* behavior?\n\nBot users can be sole owner in a top-level group.\n\nNote: It's possible to use the same reproduction steps to leave the bot user (or any user) as the sole _member_ of a group, irrespective of their role, resulting in a top-level group with no `Owner` at all. This has currently been raised in separate ongoing issues and may have crossover with some of the behavior demonstrated here.\n\n- [Groups can have no owner after deleting members](https://gitlab.com/gitlab-org/gitlab/-/issues/364147)\n- [Account owner being removed results in a group with no owner](https://gitlab.com/gitlab-org/gitlab/-/issues/367510)\n\n### What is the expected *correct* behavior?\n\nBot users should not be allowable as sole owners in top-level groups.\n\n### Output of checks\n\nGitLab.com, GitLab Enterprise Edition 15.5.0-pre f6d32efc08d","state":"closed","created_at":"2022-09-29T06:49:29.629Z","updated_at":"2022-11-21T12:02:21.368Z","closed_at":"2022-11-16T01:41:45.703Z","closed_by":{"id":12519771,"username":"adil.farrukh","name":"Adil Farrukh","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12519771/avatar.png","web_url":"https://gitlab.com/adil.farrukh"},"labels":["Deliverable","Track Health Status","customer","devops::manage","gitlab.com","group::authentication and authorization","priority::2","reproduced on GitLab.com","section::dev","severity::2","type::bug","workflow::in review"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":9717295,"username":"bdenkovych","name":"Bogdan Denkovych","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9717295/avatar.png","web_url":"https://gitlab.com/bdenkovych"}],"author":{"id":9100498,"username":"jamesreed","name":"James Reed","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9100498/avatar.png","web_url":"https://gitlab.com/jamesreed"},"type":"ISSUE","assignee":{"id":9717295,"username":"bdenkovych","name":"Bogdan Denkovych","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9717295/avatar.png","web_url":"https://gitlab.com/bdenkovych"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2022-10-30","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375676","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375676","notes":"https://gitlab.com/api/v4/projects/278964/issues/375676/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375676/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375676","relative":"#375676","full":"gitlab-org/gitlab#375676"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":115977445,"iid":375673,"project_id":278964,"title":"Move this validation in the `initialize` method where `rpc_url` is initialized","description":"The following discussion from !98114 should be addressed:\n\n- [ ] @tle_gitlab started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/98114#note_1118368982): \n\n    \u003e **suggestion (non-blocking):** I wonder if we can move this validation in the `initialize` method where `rpc_url` is initialized. WDYT?","state":"closed","created_at":"2022-09-29T05:41:37.125Z","updated_at":"2022-10-11T13:00:46.323Z","closed_at":"2022-10-11T13:00:46.199Z","closed_by":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"labels":["ai assisted::reviewer-recommender","backend","devops::modelops","group::ai assisted","maintenance::refactor","section::data-science","type::maintenance","workflow::ready for review"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"}],"author":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"type":"ISSUE","assignee":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375673","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375673","notes":"https://gitlab.com/api/v4/projects/278964/issues/375673/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375673/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375673","relative":"#375673","full":"gitlab-org/gitlab#375673"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":115973455,"iid":375667,"project_id":278964,"title":"Work Items should add to contribution graph","description":"Creating a work item shows an entry in the activity feed but does not count as a contribution in the Contribution Graph the way opening an issue does.\n\n![image](/uploads/05d6a79c4d140f15b18ac77c065f3678/image.png)\n\n## To reproduce\n\n- Sign-in if you haven't already, view your profile and the number of contributions today\n- Create a bunch of tasks in an issue\n- View your profile https://gdk.test:3443/yourusername\n- The graph should have increased by the number of tasks","state":"closed","created_at":"2022-09-29T03:03:56.011Z","updated_at":"2022-12-21T12:01:49.693Z","closed_at":"2022-12-19T16:42:36.433Z","closed_by":{"id":8110537,"username":"mcelicalderonG","name":"Mario Celi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110537/avatar.png","web_url":"https://gitlab.com/mcelicalderonG"},"labels":["Deliverable","[deprecated] Accepting merge requests","automation:ml","backend","devops::plan","feature::enhancement","group::project management","missed-deliverable","missed:15.6","quad-planning::complete-no-action","section::dev","type::feature","workflow::in review"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":8110537,"username":"mcelicalderonG","name":"Mario Celi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110537/avatar.png","web_url":"https://gitlab.com/mcelicalderonG"}],"author":{"id":3717078,"username":"cablett","name":"charlie ablett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3717078/avatar.png","web_url":"https://gitlab.com/cablett"},"type":"ISSUE","assignee":{"id":8110537,"username":"mcelicalderonG","name":"Mario Celi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110537/avatar.png","web_url":"https://gitlab.com/mcelicalderonG"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375667","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375667","notes":"https://gitlab.com/api/v4/projects/278964/issues/375667/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375667/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375667","relative":"#375667","full":"gitlab-org/gitlab#375667"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6033,"epic":{"id":273703,"iid":6033,"title":"[INITIATIVE] Work Items","url":"/groups/gitlab-org/-/epics/6033","group_id":9970,"human_readable_end_date":"Jul 31, 2023","human_readable_timestamp":"\u003cstrong\u003e7\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":115970867,"iid":375662,"project_id":278964,"title":"Work item activity entry should be more specific","description":"In the activity list under a profile, the listing for a Task is:\n\n`opened work item #123 \"do the thing\" at group / project`\n\n![image](/uploads/d1a87fd307aa4e9a5c8f1d160ac8aaa3/image.png)\n\nThis should be more specific and list the work item type so it's clearer.\n\nIdeally something like:\n\n`opened task #123 \"do the thing\" at group / project`","state":"closed","created_at":"2022-09-29T01:03:22.055Z","updated_at":"2022-12-16T20:12:52.012Z","closed_at":"2022-10-25T20:30:31.809Z","closed_by":{"id":8110537,"username":"mcelicalderonG","name":"Mario Celi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110537/avatar.png","web_url":"https://gitlab.com/mcelicalderonG"},"labels":["Deliverable","[deprecated] Accepting merge requests","devops::plan","feature::addition","group::project management","section::dev","type::feature","work items","workflow::ready for development"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[],"author":{"id":3717078,"username":"cablett","name":"charlie ablett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3717078/avatar.png","web_url":"https://gitlab.com/cablett"},"type":"ISSUE","assignee":null,"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375662","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375662","notes":"https://gitlab.com/api/v4/projects/278964/issues/375662/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375662/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375662","relative":"#375662","full":"gitlab-org/gitlab#375662"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6258,"epic":{"id":297855,"iid":6258,"title":"Work Items - Work Items exist and track","url":"/groups/gitlab-org/-/epics/6258","group_id":9970,"human_readable_end_date":"Nov 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":115970737,"iid":375661,"project_id":278964,"title":"Custom roles cannot be editable once used","description":"We have an existing validation on memberships that ensure users are granted roles with an access level that \"greater than or equal to\" roles higher in the hierarchy *only*. Because access is inherited via nested namespaces, it would be misleading to allow users to set more restrictive roles for namespaces within other namespaces that they already have higher permissions for (because the higher permissions cascade down).\n\nFor example, I _cannot_ be an Admin for a Group but a Guest for a sub-group within that Group. I _can_ be a Guest for a Group and an Admin for a sub-group within that Group. The validation that ensures this is here: https://gitlab.com/gitlab-org/gitlab/-/blob/25e9b7bc2bc19acf779a587504e6762f5fc35414/app/models/member.rb#L586-592\n\nWhen it comes to custom roles, we will want to perform a similar validation but it is more complex. For example, how do you compare 2 Custom Roles with the same `base_access_level`? \n\nHere is a scenario:\n\n```\nCustomGuestRole1: \n* base_access_level: GUEST\n* download_code: true\n* view error tracking list: false\n\nCustomGuestRole2:\n* base_access_level: GUEST\n* download_code: false\n* view error tracking list: true\n\nUser1:\n* ParentGroup1 -\u003e CustomGuestRole1\n* SubGroup1 -\u003e CustomGuestRole2\n```\n\nThis is allowed because the `base_access_level` of both roles is the same. Can the user `download_code` on `SubGroup1`? According to the logic we have today, the answer would be **Yes**.\n\nBut later on, the admin goes in and edits the custom roles:\n\n```\nCustomGuestRole1: \n* base_access_level: ADMIN\n* download_code: true\n* view error tracking list: false\n\nCustomGuestRole2:\n* base_access_level: GUEST\n* download_code: true\n* view error tracking list: true\n```\n\nNow, a user has a role that enables more for `ParentGroup1` than for the `SubGroup1`. This would be misleading for customers because they might think they are preventing `User1` from viewing the error tracking list for `SubGroup1` but the user would in fact be able to view error tracking for any groups within `ParentGroup1`.\n\nTo prevent this scenario, we should not allow users to edit custom roles once they have been assigned to users. That way, we can validate that permissions are granted so that more restrictive roles are required higher up in the hierarchy.","state":"closed","created_at":"2022-09-29T00:57:26.771Z","updated_at":"2022-12-26T06:25:44.199Z","closed_at":"2022-12-26T06:25:44.171Z","closed_by":{"id":11811081,"username":"sgarg_gitlab","name":"Smriti Garg","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11811081/avatar.png","web_url":"https://gitlab.com/sgarg_gitlab"},"labels":["Category:Permissions","Deliverable","[deprecated] Accepting merge requests","backend","devops::manage","feature","feature::addition","group::authentication and authorization","quad-planning::complete-no-action","section::dev","type::feature","workflow::in review"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[{"id":11811081,"username":"sgarg_gitlab","name":"Smriti Garg","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11811081/avatar.png","web_url":"https://gitlab.com/sgarg_gitlab"}],"author":{"id":11997412,"username":"jessieay","name":"Jessie Young","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11997412/avatar.png","web_url":"https://gitlab.com/jessieay"},"type":"ISSUE","assignee":{"id":11811081,"username":"sgarg_gitlab","name":"Smriti Garg","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11811081/avatar.png","web_url":"https://gitlab.com/sgarg_gitlab"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375661","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375661","notes":"https://gitlab.com/api/v4/projects/278964/issues/375661/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375661/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375661","relative":"#375661","full":"gitlab-org/gitlab#375661"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8408,"epic":{"id":569199,"iid":8408,"title":"Customizable roles MVC - Technical Performance","url":"/groups/gitlab-org/-/epics/8408","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":115968186,"iid":375656,"project_id":278964,"title":"Error if spec stubs a feature flag that does not exist","description":"To keep specs tidy and accurate, we should error if the spec stubs a feature flag that does not exist. \n\nFor example, at the time of writing, there are 3 tests that stub the non-existing `graphql` flag:\n\n- [`spec/controllers/graphql_controller_spec.rb`](https://gitlab.com/gitlab-org/gitlab/-/blob/00fb37c721c224a4c80b1a74f2a7410e5fa9964f/spec/controllers/graphql_controller_spec.rb#L12)\n- [`spec/requests/api/metadata_spec.rb`](https://gitlab.com/gitlab-org/gitlab/-/blob/f4f2034849cc7e10836b7ca72f6ade092949ba53/spec/requests/api/metadata_spec.rb#L79-93)\n- [`spec/requests/api/version_spec.rb`](https://gitlab.com/gitlab-org/gitlab/-/blob/f4f2034849cc7e10836b7ca72f6ade092949ba53/spec/requests/api/version_spec.rb#L78-92)","state":"closed","created_at":"2022-09-28T23:24:59.811Z","updated_at":"2022-10-25T22:22:16.243Z","closed_at":"2022-10-25T22:22:15.798Z","closed_by":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"labels":["Engineering Productivity","maintenance::test-gap","missed:15.5","section::dev","type::maintenance","workflow::in dev"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"}],"author":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"type":"ISSUE","assignee":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"user_notes_count":3,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375656","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375656","notes":"https://gitlab.com/api/v4/projects/278964/issues/375656/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375656/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":"https://gitlab.com/api/v4/projects/278964/issues/378182"},"references":{"short":"#375656","relative":"#375656","full":"gitlab-org/gitlab#375656"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":115967047,"iid":375649,"project_id":278964,"title":"Change Version API to mirror Metadata API","description":"This issue came out of a discussion https://gitlab.com/gitlab-org/gitlab/-/merge_requests/98681#note_1117771619.\n\nThe `/metadata` API is a superset of the `/version` API. \n\nAs @Andysoiron mentioned:\n\n\u003e\u003e\u003e\nIt [is recommended to use metadata](https://docs.gitlab.com/ee/api/version.html) [...] Metadata is the same but has a few more fields. Adding more fields shouldn't break existing clients, so we could redirect version to metadata\n\u003e\u003e\u003e\n\nAlthough we will mirror rather than redirect to make the change more backwards-compatible in case some clients are not configured to follow redirects.","state":"closed","created_at":"2022-09-28T22:44:58.236Z","updated_at":"2022-11-22T18:26:20.124Z","closed_at":"2022-10-04T01:08:19.726Z","closed_by":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"labels":["api","backend","devops::manage","documentation","feature::consolidation","group::integrations","section::dev","type::feature","workflow::verification"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"}],"author":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"type":"ISSUE","assignee":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375649","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375649","notes":"https://gitlab.com/api/v4/projects/278964/issues/375649/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375649/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375649","relative":"#375649","full":"gitlab-org/gitlab#375649"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":115957448,"iid":375641,"project_id":278964,"title":"Update UI to display last updated datetime and/or a note about delayed updates","description":"\u003c!-- This template is a great use for issues that are feature::additions or technical tasks for larger issues.--\u003e\n\n### Proposal\n\n\u003c!-- Use this section to explain the feature and how it will work. It can be helpful to add technical details, design proposals, and links to related epics or issues. --\u003e\n\n\u003c!-- Consider adding related issues and epics to this issue. You can also reference the Feature Proposal Template (https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal%20-%20detailed.md) for additional details to consider adding to this issue. Additionally, as a data oriented organization, when your feature exits planning breakdown, consider adding the `What does success look like, and how can we measure that?` section.\n--\u003e\n\nOver in https://gitlab.com/gitlab-org/gitlab/-/issues/338253+ issue, we discussed how to split that issue out into smaller separate tasks. This issue is one of them where we suggest that we should update the admin dashboard and or user statistics views to include a notice about when the data was last updated and/or that the data is not updated in realtime. \n\nFor example, \n\n`User statistics are updated every 90 minutes. Last update: 2022-09-28 16:20`\n\n**Estimate**\n\nAn estimate was provided previously during the breakdown and refinement of the parent issue. `weight 1`\n\n\u003c!-- Label reminders\nUse the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n--\u003e\n\n**Designs**\n\nhttps://gitlab.com/gitlab-org/gitlab/-/issues/377389\n\nNote: only the date and time additions are relevant. Text changes on the user count descriptions and headings are not part of this implementation.","state":"closed","created_at":"2022-09-28T20:18:18.519Z","updated_at":"2022-11-29T11:42:15.199Z","closed_at":"2022-11-21T13:56:44.156Z","closed_by":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"labels":["Technical Writing","UX","devops::fulfillment","estimation::completed","feature::enhancement","frontend","group::utilization","quad-planning::complete-no-action","section::fulfillment","type::feature","workflow::verification"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"}],"author":{"id":5211906,"username":"csouthard","name":"Chase Southard","state":"active","avatar_url":"https://secure.gravatar.com/avatar/5e2adecb9fa1d32cf007754824aa358f?s=80\u0026d=identicon","web_url":"https://gitlab.com/csouthard"},"type":"ISSUE","assignee":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"user_notes_count":23,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375641","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375641","notes":"https://gitlab.com/api/v4/projects/278964/issues/375641/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375641/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375641","relative":"#375641","full":"gitlab-org/gitlab#375641"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9037,"epic":{"id":628517,"iid":9037,"title":"Streamline billable users calculations","url":"/groups/gitlab-org/-/epics/9037","group_id":9970,"human_readable_end_date":"Nov 18, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":115956993,"iid":375639,"project_id":278964,"title":"Make the UI display of billable users consistent and thus less confusing","description":"## Summary\n\nAs suggested in https://gitlab.com/gitlab-org/gitlab/-/issues/338253+ issue, we have split this issue out for separate contribution.\n\nWe can resolve customer confusion about billable members if we make the UI more consistent possibly by using the data source. See [images in the description of that issue](https://gitlab.com/gitlab-org/gitlab/-/issues/338253#billable-users-on-licensesubscription-page). See admin dashboard and user statistics views.\n\nNote: other efforts here include a spike and additional UX enhancements to further avoid customer confusion\n\n**Estimation**\n\nAn estimation was provided previously in the parent issue. `weight: 1`\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\nIf it just a removal of one the calculation methods and reusing the other in place, then the existing unit and feature tests should cover this already\n\n### Designs\n\nhttps://gitlab.com/gitlab-org/gitlab/-/issues/385107/designs/users_statistics.png","state":"closed","created_at":"2022-09-28T20:04:44.328Z","updated_at":"2023-01-12T17:53:56.406Z","closed_at":"2023-01-12T17:53:56.368Z","closed_by":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"labels":["Category:Subscription Cost Management","UX","[deprecated] Accepting merge requests","[deprecated] Category:Utilization","devops::fulfillment","estimation::completed","feature::enhancement","frontend","group::utilization","missed:15.7","quad-planning::complete-no-action","section::fulfillment","type::feature","workflow::complete"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"}],"author":{"id":5211906,"username":"csouthard","name":"Chase Southard","state":"active","avatar_url":"https://secure.gravatar.com/avatar/5e2adecb9fa1d32cf007754824aa358f?s=80\u0026d=identicon","web_url":"https://gitlab.com/csouthard"},"type":"ISSUE","assignee":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375639","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375639","notes":"https://gitlab.com/api/v4/projects/278964/issues/375639/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375639/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375639","relative":"#375639","full":"gitlab-org/gitlab#375639"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9037,"epic":{"id":628517,"iid":9037,"title":"Streamline billable users calculations","url":"/groups/gitlab-org/-/epics/9037","group_id":9970,"human_readable_end_date":"Nov 18, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":115956555,"iid":375638,"project_id":278964,"title":"Technical Spike - refactor billable users calculations","description":"\n\u003c!--\nA template to use for creating and completing technical spikes.\n--\u003e\n\n#### Process:\n\n1. Write the spike summary and requirement and select Definition of Done (DoD) questions that apply\n1. DRI/s are assigned to the spike\n2. Before starting the spike, engineer should confirm:\n- [ ] Is the problem statement and description of the problem clear\n- [ ] Are the requirements of this spike clear\n- [ ] Are the Definition of done questions relevant/reasonable for this spike\n3. Engineer does an investigation to gather information and note any initial impressions and possible paths for implementation\n4. PM/EM/Collaborators + Engineer asks questions and start to narrow the scope to an appropriate solution/implementation\n5. DoD questions are answered\n6. DRI confirms next steps and the spike issue gets closed\n\n------------------------\n\n# Summary\n\nSpike DRI/s: `@tanuki`\n\n\u003c!-- Give context and background of the feature being explored --\u003e \n\nOver in https://gitlab.com/gitlab-org/gitlab/-/issues/338253+ issue, our estimation [raised concerns](https://gitlab.com/gitlab-org/gitlab/-/issues/338253#note_1101952190) that the original issue may benefit from dedicated time to further investigate a technical solution and perhaps PoC of refactoring billable users calculations. \n\nBriefly, we reference `Billable Users` in various pages in self-managed, but they use difference methods for calculation. These subtle difference in calculation both on update frequency and usage throughout the application cause confusion for customers and internal team members alike. \n\n**Goal**\n- Determine if we can unify how we calculate billable users for SM in the codebase \n\n**Outcomes**\n1. identify all the various places/methods in which we currently work with/calculate billable user counts\n1. identify reasons for differences and whether they can be unified\n1. review performance tradeoffs of one method vs the other (e.g. `UserStatistics#billable` sums 4 different queries, `User.billable` performs one query)\n1. create issues if appropriate (it maybe possible to do them all in one issue but depends on the outcome of :point_up_2_tone3:)\n\n# Requirements / Ask\n\nWhat problems should this feature solve?\n\n* Determine if we can unify how we calculate billable users for SM in the codebase\n* produce a proposal and issues if appropriate as artifacts of the spike see outcomes above. \n\n\n# Definition of done\n\nWhat questions need to be answered in order for this spike to be completed - tick all those that apply:\n\n- [ ] Is the ask possible?\n- [ ] What are the possible implementations / approaches?\n- [ ] What are the possible iterations / how can this implementation be broken down into smaller features?\n- [ ] Is the work reasonable within time constraints?\n- [ ] What is the level of effort (t-shirt size estimate: S,M,L)?\n- [ ] What are the risks / trade-offs?\n- [ ] Where does complexity exist?\n- [ ] Are there any unknowns to be mindful of?\n- [ ] What is your confidence level in this implementation?\n- [ ] Is there technical debt to consider or being created?\n- [ ] Is there a skills gap? Have we used this approach before? Are there any documented reports of using this approach?\n- [ ] Is there a monitoring implication?\n- [ ] Is there an availability implication?\n- [ ] Is there a productivity implication?\n\n# Next steps\n\nSelect the next steps that apply:\n\n1. [ ] Close issue without further action = Spike conclusion is that feature won't be built\n1. [ ] Create follow up issue to start MVC iteration of feature\n1. [ ] Create MR for documentation update as a result of spike","state":"closed","created_at":"2022-09-28T19:50:22.358Z","updated_at":"2022-11-29T11:48:24.999Z","closed_at":"2022-11-15T22:33:05.044Z","closed_by":{"id":3716529,"username":"jagood","name":"Jason Goodman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6696c95a1788e2d4bee67df636805ecc?s=80\u0026d=identicon","web_url":"https://gitlab.com/jagood"},"labels":["[deprecated] Category:Utilization","backend","devops::fulfillment","feature::enhancement","group::utilization","needs investigation","quad-planning::complete-no-action","section::fulfillment","spike","type::feature","workflow::production"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":3716529,"username":"jagood","name":"Jason Goodman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6696c95a1788e2d4bee67df636805ecc?s=80\u0026d=identicon","web_url":"https://gitlab.com/jagood"}],"author":{"id":5211906,"username":"csouthard","name":"Chase Southard","state":"active","avatar_url":"https://secure.gravatar.com/avatar/5e2adecb9fa1d32cf007754824aa358f?s=80\u0026d=identicon","web_url":"https://gitlab.com/csouthard"},"type":"ISSUE","assignee":{"id":3716529,"username":"jagood","name":"Jason Goodman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6696c95a1788e2d4bee67df636805ecc?s=80\u0026d=identicon","web_url":"https://gitlab.com/jagood"},"user_notes_count":31,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375638","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":20,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 20 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375638","notes":"https://gitlab.com/api/v4/projects/278964/issues/375638/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375638/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375638","relative":"#375638","full":"gitlab-org/gitlab#375638"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9037,"epic":{"id":628517,"iid":9037,"title":"Streamline billable users calculations","url":"/groups/gitlab-org/-/epics/9037","group_id":9970,"human_readable_end_date":"Nov 18, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":115950909,"iid":375628,"project_id":278964,"title":"SaaS trial sign up skip option appearing in Safari","description":"# Problem\nWhen starting a SaaS trial from the marketing site `gitlab.com/-/trial_registrations/new` via a Safari browser session if a user selects *\"who will be using this GitLab trial\"* = *\"My company or team\"* (on the backend this is `Setup for company` = `true`) the company information form page is then loaded, however, this page includes the \"skip trial toggle\".\n\n[Loom recording](https://www.loom.com/share/9948246f4bec44b4819044d016fb3d96)\n\n# Solution\n\nIf a user signups up directly for a trial from the marketing site then we should not show the \"skip trial\" toggle on the company information page.","state":"closed","created_at":"2022-09-28T17:50:57.343Z","updated_at":"2023-01-12T14:12:53.590Z","closed_at":"2023-01-12T14:12:53.462Z","closed_by":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"labels":["Next Up","devops::growth","group::acquisition","priority::3","section::growth","severity::4","type::bug","workflow::verification"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"}],"author":{"id":4413992,"username":"s_awezec","name":"Sam Awezec","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4413992/avatar.png","web_url":"https://gitlab.com/s_awezec"},"type":"ISSUE","assignee":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375628","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375628","notes":"https://gitlab.com/api/v4/projects/278964/issues/375628/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375628/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375628","relative":"#375628","full":"gitlab-org/gitlab#375628"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8853,"epic":{"id":612067,"iid":8853,"title":"SaaS sign up improvements","url":"/groups/gitlab-org/-/epics/8853","group_id":9970},"iteration":null,"health_status":null},{"id":115950364,"iid":375627,"project_id":278964,"title":"SaaS trials from marketing site on Safari skips trial form for personal users","description":"# Problem\nWhen starting a SaaS trial from the marketing site `gitlab.com/-/trial_registrations/new` via a Safari browser session if a user selects _\"who will be using this GitLab trial\"_ = _\"Just me\"_ (on the backend this is `Setup for company` = `false`) then company information form and application of the trial is skipped. The user is brought directly to creating a group/project and then enters the product as a free sign up. \n \n[Loom recording](https://www.loom.com/share/5c3077b190e447148470959b70ff4910)\n \n# Solution\nIf a user signs up directly for a trial via a Safari browser session they should always be shown the company information page and the trial should be applied to their namespace.","state":"closed","created_at":"2022-09-28T17:41:24.465Z","updated_at":"2023-01-12T14:20:47.478Z","closed_at":"2023-01-12T14:20:47.426Z","closed_by":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"labels":["Next Up","devops::growth","group::acquisition","priority::2","section::growth","severity::3","type::bug","workflow::verification"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"}],"author":{"id":4413992,"username":"s_awezec","name":"Sam Awezec","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4413992/avatar.png","web_url":"https://gitlab.com/s_awezec"},"type":"ISSUE","assignee":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375627","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375627","notes":"https://gitlab.com/api/v4/projects/278964/issues/375627/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375627/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375627","relative":"#375627","full":"gitlab-org/gitlab#375627"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8853,"epic":{"id":612067,"iid":8853,"title":"SaaS sign up improvements","url":"/groups/gitlab-org/-/epics/8853","group_id":9970},"iteration":null,"health_status":null},{"id":115949985,"iid":375626,"project_id":278964,"title":"Geo - Ignore success column on the job_artifact_registry table","description":"#### Summary\n\nThe job artifacts have been migrated to the self-service framework in https://gitlab.com/groups/gitlab-org/-/epics/3114, which will no longer use this column.\n\n#### Proposal\n\nRemove the ` job_artifact_registry.success` column following our [guidelines](https://docs.gitlab.com/ee/development/database/avoiding_downtime_in_migrations.html#dropping-columns).","state":"closed","created_at":"2022-09-28T17:33:40.504Z","updated_at":"2022-10-04T17:54:18.096Z","closed_at":"2022-10-04T15:39:37.766Z","closed_by":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"labels":["database","devops::systems","group::geo","maintenance::refactor","section::enablement","type::maintenance","workflow::in dev"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"}],"author":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"type":"ISSUE","assignee":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375626","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375626","notes":"https://gitlab.com/api/v4/projects/278964/issues/375626/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375626/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375626","relative":"#375626","full":"gitlab-org/gitlab#375626"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":115949884,"iid":375625,"project_id":278964,"title":"Fix coloured log output in logutil package of secure common library","description":"### Summary\n\nSecure analyzer projects use the [logutil](https://gitlab.com/gitlab-org/security-products/analyzers/common/-/blob/0f8c917b9c03707f53e4843fcb16f61d75405526/logutil/format.go) package to output coloured log messages. The code responsible for formatting these log messages currently includes the newline character in the coloured output.\n\nThis code has been functioning as expected for quite a while, however, we've recently run into a situation where it causes an issue.\n\nWhen https://gitlab.com/gitlab-org/security-products/ci-templates/-/merge_requests/326+ was merged, it added `gotestsum` to the `go test` job, which has resulted in failures in the job output of any Go-based analyzer or package that outputs coloured log messages, [for example](https://gitlab.com/gitlab-org/security-products/analyzers/report/-/jobs/3076778526):\n\n```shell\n=== FAIL: . TestToolExecutionNotifications/testdata/reports/semgrep_js_syntax_error.sarif (unknown)\n[WARN] [2022-09-23T17:29:28Z] ▶ tool notification warning: Syntax error Semgrep Core WARN - Syntax error: When running eslint.detect-non-literal-require on /builds/gitlab-com/gl-security/engineering-and-research/gib/reports/theme/static/js/chart.js: `5:` was unexpected\n```\n\nThese failures do not cause the `go test` job to fail, however, they cause `gotestsum` to incorrectly populate the test widget in the MR with false positive failures:\n\n\u003cimg src=\"/uploads/f7dcf558bf60b90382ad04f4c0a7719c/image.png\" width=\"75%\" height=\"75%\" /\u003e\n\nThe root cause of the issue is that `gotestsum` is interpreting coloured log output which has been formatted by [common/logutil/format.go](https://gitlab.com/gitlab-org/security-products/analyzers/common/-/blob/0f8c917b9c03707f53e4843fcb16f61d75405526/logutil/format.go#L79) as a failure, as described [here](https://github.com/gotestyourself/gotestsum/issues/279). The reason for this behaviour is due to the fact that the `common/logutil/format.go` implementation currently includes the newline character before terminating the colour escape sequence.\n\n### Steps to reproduce\n\n1. Create an MR in any of the [secure analyzer projects](https://gitlab.com/gitlab-org/security-products/analyzers/) whose test output includes log messages\n2. View the output for the `go test` job in the pipeline for the MR, and notice that there are failures reported by `gotestsum`, [for example](https://gitlab.com/gitlab-org/security-products/analyzers/report/-/jobs/3076778526):\n\n   ```shell\n   === RUN   TestToolExecutionNotifications/testdata/reports/semgrep_nonmatching_nosem.sarif\n   [WARN] [2022-09-23T17:29:28Z] ▶ tool notification warning: SemgrepError found 'nosem' comment with id 'bandit.B502', but no corresponding rule trying 'bandit.B501'\n   --- PASS: TestToolExecutionNotifications (0.01s)\n       --- PASS: TestToolExecutionNotifications/testdata/reports/semgrep_invalid_config.sarif (0.00s)\n       --- PASS: TestToolExecutionNotifications/testdata/reports/semgrep_js_syntax_error.sarif (0.00s)\n       --- PASS: TestToolExecutionNotifications/testdata/reports/semgrep_nonmatching_nosem.sarif (0.00s)\n   === FAIL: . TestToolExecutionNotifications/testdata/reports/semgrep_invalid_config.sarif (unknown)\n   DONE 76 tests, 3 failures in 28.916s\n   ```\n\n3. View the MR test widget and notice that false positive test failures have been reported:\n\n   \u003cimg src=\"/uploads/f7dcf558bf60b90382ad04f4c0a7719c/image.png\" width=\"75%\" height=\"75%\" /\u003e\n\n### What is the current *bug* behavior?\n\n`gotestsum` produces failure messages in the job log output, and therefore the MR test widget shows false-positive errors.\n\n### What is the expected *correct* behavior?\n\n`gotestsum` should succeed and not produce any errors, and therefore the MR test widget should be empty.\n\n### Implementation plan\n\n1. [x] Update the `logutil` package of the [common project](https://gitlab.com/gitlab-org/security-products/analyzers/common) to avoid colouring the `\\n` (newline) character in log messages\n\n   - https://gitlab.com/gitlab-org/security-products/analyzers/common/-/merge_requests/163+\n\n1. [x] Update all the secure analyzer projects that use the `logutil` package to use the new version of the `common` library updated in step `1.` above.\n\n      - [x] [security-code-scan](https://gitlab.com/gitlab-org/security-products/analyzers/security-code-scan)\n         - [x] https://gitlab.com/gitlab-org/security-products/analyzers/security-code-scan/-/merge_requests/125+\n      - [x] [nodejs-scan](https://gitlab.com/gitlab-org/security-products/analyzers/nodejs-scan)\n         - [x] https://gitlab.com/gitlab-org/security-products/analyzers/nodejs-scan/-/merge_requests/124+\n      - [x] [kubesec](https://gitlab.com/gitlab-org/security-products/analyzers/kubesec)\n         - [x] https://gitlab.com/gitlab-org/security-products/analyzers/kubesec/-/merge_requests/72+\n      - [x] [secrets](https://gitlab.com/gitlab-org/security-products/analyzers/secrets)\n         - [x] https://gitlab.com/gitlab-org/security-products/analyzers/secrets/-/merge_requests/177+\n      - [x] [gemnasium](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium)\n         - [x] https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/-/merge_requests/412+\n      - [x] [kics](https://gitlab.com/gitlab-org/security-products/analyzers/kics)\n         - [x] https://gitlab.com/gitlab-org/security-products/analyzers/kics/-/merge_requests/53+\n      - [x] [sobelow](https://gitlab.com/gitlab-org/security-products/analyzers/sobelow)\n         - [x] https://gitlab.com/gitlab-org/security-products/analyzers/sobelow/-/merge_requests/86+\n      - [x] [brakeman](https://gitlab.com/gitlab-org/security-products/analyzers/brakeman)\n         - [x] https://gitlab.com/gitlab-org/security-products/analyzers/brakeman/-/merge_requests/109+\n      - [x] [gosec](https://gitlab.com/gitlab-org/security-products/analyzers/gosec)\n         - [x] https://gitlab.com/gitlab-org/security-products/analyzers/gosec/-/merge_requests/161+\n      - [x] [flawfinder](https://gitlab.com/gitlab-org/security-products/analyzers/flawfinder)\n         - [x] https://gitlab.com/gitlab-org/security-products/analyzers/flawfinder/-/merge_requests/84+\n      - [x] [report](https://gitlab.com/gitlab-org/security-products/analyzers/report)\n         - [x] https://gitlab.com/gitlab-org/security-products/analyzers/report/-/merge_requests/45\n      - [x] [command](https://gitlab.com/gitlab-org/security-products/analyzers/command)\n         - [x] https://gitlab.com/gitlab-org/security-products/analyzers/command/-/merge_requests/39+\n      - [x] [mobsf](https://gitlab.com/gitlab-org/security-products/analyzers/mobsf)\n         - [x] https://gitlab.com/gitlab-org/security-products/analyzers/mobsf/-/merge_requests/57+\n\n   **Note:** updating the above analyzers to the most recent version of the `common` package _should be_ a small change, however, it can easily become complicated due to the fact that some of these analyzers are using older versions of the `report` package, which means the expectations are out of date and don't include new fields such as `scan.analyzer`. See [this MR](https://gitlab.com/gitlab-org/security-products/analyzers/gosec/-/merge_requests/161) in the `gosec` project for an example of how this task became much more complicated.\n\nThe following analyers are still using `common/v2` and need to first be upgraded to `common/v3` before we can fix this bug\n\n- [gitlab-cov-fuzz-src](https://gitlab.com/gitlab-org/security-products/analyzers/gitlab-cov-fuzz-src)\n- [bandit](https://gitlab.com/gitlab-org/security-products/analyzers/bandit)\n- [npm-audit](https://gitlab.com/gitlab-org/security-products/analyzers/npm-audit)\n- [eslint](https://gitlab.com/gitlab-org/security-products/analyzers/eslint)\n\n/cc @theoretick @sam.white @brytannia","state":"closed","created_at":"2022-09-28T17:30:55.373Z","updated_at":"2023-01-05T23:15:06.397Z","closed_at":"2022-10-11T17:57:50.147Z","closed_by":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"labels":["Category:Dependency Scanning","Category:SAST","backend","devops::secure","group::composition analysis","maintenance::pipelines","priority::3","section::sec","type::maintenance","workflow::production"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"}],"author":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"type":"ISSUE","assignee":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375625","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":28,"completed_count":28},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"28 of 28 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375625","notes":"https://gitlab.com/api/v4/projects/278964/issues/375625/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375625/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375625","relative":"#375625","full":"gitlab-org/gitlab#375625"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":115946835,"iid":375621,"project_id":278964,"title":"Standardize encoding in YAML check definition files","description":"\n### Problem\n\nDAST CWE check YAML definition files contain pipes `|`. These add a new line to the end of the value, which can cause some payloads to not work as intended.\n\n### Proposal\n\n- [x] Replace `|` with `|-` on all fields where it is used\n- [x] Add a test to verify that new lines are not present except for description/remediation, and that new lines are not present at the end of any value\n- [x] Remove trimming of payload in Browserker","state":"closed","created_at":"2022-09-28T16:28:58.384Z","updated_at":"2022-10-17T08:48:02.742Z","closed_at":"2022-10-17T08:48:02.719Z","closed_by":{"id":4312863,"username":"cam_swords","name":"Cameron Swords","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3b729cf96bcced6384ebb94f0362bd4b?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam_swords"},"labels":["Category:DAST","dast::browserker","devops::secure","feature::enhancement","group::dynamic analysis","section::sec","type::feature","workflow::verification"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":4312863,"username":"cam_swords","name":"Cameron Swords","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3b729cf96bcced6384ebb94f0362bd4b?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam_swords"}],"author":{"id":4312863,"username":"cam_swords","name":"Cameron Swords","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3b729cf96bcced6384ebb94f0362bd4b?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam_swords"},"type":"ISSUE","assignee":{"id":4312863,"username":"cam_swords","name":"Cameron Swords","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3b729cf96bcced6384ebb94f0362bd4b?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam_swords"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375621","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375621","notes":"https://gitlab.com/api/v4/projects/278964/issues/375621/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375621/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375621","relative":"#375621","full":"gitlab-org/gitlab#375621"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5780,"epic":{"id":251193,"iid":5780,"title":"Browser-based DAST -  Active Attack Parity","url":"/groups/gitlab-org/-/epics/5780","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":115945203,"iid":375618,"project_id":278964,"title":"Securely connect the Web IDE to a remote host","description":"## Problem to solve\n\nDevelopers want to be able to connect to a cloud-based runtime from the Web IDE to extend the functionality and get direct access to a live terminal.\n\n## Proposed solution\n\nOur initial iteration should be focused on establishing the most basic connection between the client-side VS Code Web IDE and VS Code Server running on a container or VM. \n\n### What's in scope?\n\n- Open the Terminal in the Web IDE and get command line access to the remote host\n- Establish a new connection from the Web IDE by entering the URL and port\n\n### What's out of scope? \n\n- Starting, stopping, or otherwise managing the environment from the Web IDE\n- Configuring the remote environment from a devfile or other automated process\n\n## Tier\n\n~\"GitLab Free\" \n\n## Open Questions\n\n- Can we establish a secure connection without a script or CLI tool? If not, what is the minimum functionality necessary of that tool?\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2022-09-28T16:10:03.963Z","updated_at":"2022-09-29T16:58:43.949Z","closed_at":"2022-09-29T16:35:11.981Z","closed_by":{"id":5212466,"username":"ericschurter","name":"Eric Schurter","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5212466/avatar.png","web_url":"https://gitlab.com/ericschurter"},"labels":["Category:Remote Development","GitLab Free","[deprecated] Accepting merge requests","devops::create","direction","feature","feature::addition","group::editor","section::dev","type::feature","workflow::refinement"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":5212466,"username":"ericschurter","name":"Eric Schurter","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5212466/avatar.png","web_url":"https://gitlab.com/ericschurter"},"type":"ISSUE","assignee":null,"user_notes_count":16,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375618","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375618","notes":"https://gitlab.com/api/v4/projects/278964/issues/375618/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375618/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375618","relative":"#375618","full":"gitlab-org/gitlab#375618"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8480,"epic":{"id":575447,"iid":8480,"title":"Meta: Define the Remote Development MVC","url":"/groups/gitlab-org/-/epics/8480","group_id":9970},"iteration":null,"health_status":null},{"id":115944557,"iid":375617,"project_id":278964,"title":"Implement BranchRule class to facilitate ApprovalProjectRule and ExternalStatusCheck associations when protected branches are not linked","description":"Related: https://gitlab.com/gitlab-org/gitlab/-/issues/372844#note_1112495519\n\n### Context\n\nAs part of the BranchRulesMVC we are creating additional GraphQL types to expose the branch rule information. The proposed UI designs show that branch rules can optionally have [protected badge](https://gitlab.com/gitlab-org/gitlab/-/issues/372844) if the branchRule has a branchProtection record i.e. who can merge and push to the branch(es) matching the `branchProtect.name`. We also have branch rules which match All Branches and All Protected Branches.\n\nThe current implementation cannot achieve this due to the structure of the data. We expose project -\u003e branchRules -\u003e branchProtection, however, in this case the branch rule and branch protection objects are actually the same ProtectedBranch record in the database.\n\n\u003cdetails\u003e\n\u003csummary\u003eCurrent structure\u003c/summary\u003e\n\n```mermaid\nerDiagram\n    project ||--|{ branchProtection : has_many\n    project {\n        string id FK \"Global ID of the project\"\n    }\n    branchProtection ||--|{ mergeAccessLevel : has_many\n    branchProtection ||--|{ pushAccessLevel : has_many\n    branchProtection ||--|{ pushAccessLevel : has_many\n    branchProtection ||--|{ unprotectAccessLevel : has_many-EE\n    branchProtection {\n        string name\n        boolean allowForcePush\n        boolean codeOwnerApprovalRequired\n        integer matchingBranchesCount\n        string createdAt\n        string updatedAt\n\n    }\n    mergeAccessLevel {\n        integer accessLevel\n        string accessLevelDescription\n    }\n    pushAccessLevel {\n        integer accessLevel\n        string accessLevelDescription\n    }\n    unprotectAccessLevel {\n        integer accessLevel\n        string accessLevelDescription\n    }\n    branchProtection ||--o{ approvalProjectRule : has_and_belongs_to_many-EE\n    branchProtection ||--o{ externalStatusCheck : has_and_belongs_to_many-EE\n    approvalProjectRule {\n        string id\n        string name\n        string type \"Enum value upcased e.g. REPORT_APPROVER\"\n    }\n    externalStatusCheck {\n        string url\n    }\n```\n\u003c/details\u003e\n\nCurrently approvalProjectRule and externalStatusCheck can both be orphans too when the user selects \"All branches\" or \"All protected branches\"\n\n### Proposal\n\nTo solve this I'm proposing we introduce a new class called `BranchRule` which would behave as though it were an ActiveRecord model exposing the required details for branch_rule.project, branch_rule.protected_branch, branch_rule.approval_project_rules, and branch_rule.external_status_checks. This change would allow us to display `All branches` and `All Protected Branches` through the API as we could query for them separately to the project.protected_branches and then manually initialize BranchRule objects before resolving the query.\n\n\n\u003cdetails\u003e\n\u003csummary\u003eProposed structure\u003c/summary\u003e\n\n```mermaid\nerDiagram\n    project ||--|{ branchRule : has_many\n    project {\n        string id FK \"Global ID of the project\"\n    }\n    branchRule ||--o| branchProtection : self\n    branchRule {\n        string name\n        integer matchingBranchesCount\n        string createdAt\n        string updatedAt\n    }\n    branchProtection ||--|{ mergeAccessLevel : has_many\n    branchProtection ||--|{ pushAccessLevel : has_many\n    branchProtection ||--|{ pushAccessLevel : has_many\n    branchProtection ||--|{ unprotectAccessLevel : has_many-EE\n    branchProtection {\n        boolean allowForcePush\n        boolean codeOwnerApprovalRequired\n    }\n    mergeAccessLevel {\n        integer accessLevel\n        string accessLevelDescription\n    }\n    pushAccessLevel {\n        integer accessLevel\n        string accessLevelDescription\n    }\n    unprotectAccessLevel {\n        integer accessLevel\n        string accessLevelDescription\n    }\n    branchRule ||--o{ approvalProjectRule : has_and_belongs_to_many-EE\n    branchRule ||--o{ externalStatusCheck : has_and_belongs_to_many-EE\n    approvalProjectRule {\n        string id\n        string name\n        string type \"Enum value upcased e.g. REPORT_APPROVER\"\n    }\n    externalStatusCheck {\n        string url\n    }\n```\n\u003c/details\u003e\n\nI think we can implement this system without needing to migrate any data if we use the BranchRule class to present each ProtectedBranch. We can also bring in these records that use `All branches` and `All protected branches` by querying for them separately and then building individual BranchRule objects for the graphql logic to consume.","state":"closed","created_at":"2022-09-28T16:03:51.495Z","updated_at":"2023-01-10T12:54:31.973Z","closed_at":"2023-01-10T12:54:31.945Z","closed_by":{"id":11390638,"username":"jwoodwardgl","name":"Joe Woodward","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11390638/avatar.png","web_url":"https://gitlab.com/jwoodwardgl"},"labels":["Category:Source Code Management","Deliverable","backend","devops::create","feature::enhancement","group::source code","missed-deliverable","missed:15.5","quad-planning::complete-no-action","section::dev","type::feature","workflow::in dev"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[{"id":11390638,"username":"jwoodwardgl","name":"Joe Woodward","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11390638/avatar.png","web_url":"https://gitlab.com/jwoodwardgl"}],"author":{"id":11390638,"username":"jwoodwardgl","name":"Joe Woodward","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11390638/avatar.png","web_url":"https://gitlab.com/jwoodwardgl"},"type":"ISSUE","assignee":{"id":11390638,"username":"jwoodwardgl","name":"Joe Woodward","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11390638/avatar.png","web_url":"https://gitlab.com/jwoodwardgl"},"user_notes_count":24,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375617","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375617","notes":"https://gitlab.com/api/v4/projects/278964/issues/375617/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375617/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375617","relative":"#375617","full":"gitlab-org/gitlab#375617"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8578,"epic":{"id":583395,"iid":8578,"title":"MVC: Branch Rules Overview","url":"/groups/gitlab-org/-/epics/8578","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":"on_track"},{"id":115937467,"iid":375606,"project_id":278964,"title":"Periodically delete generic packages","description":"With https://gitlab.com/gitlab-org/gitlab/-/merge_requests/96297, we started building more generic packages for compiled assets.\n\nWe should make sure we periodically delete old packages: https://docs.gitlab.com/ee/api/packages.html#delete-a-project-package\n\nI propose to delete cache packages built from `master` that are older than 5 days for now.","state":"closed","created_at":"2022-09-28T14:40:25.550Z","updated_at":"2022-10-20T15:12:21.293Z","closed_at":"2022-10-20T15:12:21.232Z","closed_by":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"labels":["Engineering Productivity","ep::pipeline","maintenance::pipelines","type::maintenance","workflow::in review"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"}],"author":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"type":"ISSUE","assignee":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375606","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375606","notes":"https://gitlab.com/api/v4/projects/278964/issues/375606/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375606/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375606","relative":"#375606","full":"gitlab-org/gitlab#375606"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8584,"epic":{"id":584486,"iid":8584,"title":"GitLab Pipeline Efficiency Rapid Action","url":"/groups/gitlab-org/-/epics/8584","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":115937149,"iid":375605,"project_id":278964,"title":"Extract some RuboCop docs into own file","description":"The following discussion from !99099 should be addressed:\n\n- [ ] @splattael started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/99099#note_1117314349):  (+1 comment)\n\n    \u003e **Thought** The RuboCop part grew a lot and I feel we could extract some sections into own document because some of them are not useful for contributors to know/understand as they, for example, does not have access to Slack.","state":"closed","created_at":"2022-09-28T14:34:33.738Z","updated_at":"2022-11-15T22:22:47.595Z","closed_at":"2022-11-15T22:22:47.496Z","closed_by":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"labels":["Engineering Productivity","development guidelines","docs::improvement","documentation","maintenance::refactor","static code analysis","type::maintenance","workflow::in review"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"}],"author":{"id":438961,"username":"splattael","name":"Peter Leitzen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/97c2ff0fc99cc4eede69be9ac238c304?s=80\u0026d=identicon","web_url":"https://gitlab.com/splattael"},"type":"ISSUE","assignee":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375605","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375605","notes":"https://gitlab.com/api/v4/projects/278964/issues/375605/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375605/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375605","relative":"#375605","full":"gitlab-org/gitlab#375605"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":115936993,"iid":375604,"project_id":278964,"title":"Catch and log error when failing to async delete container repositories","description":"## Context\n\nRelated to https://gitlab.com/gitlab-org/gitlab/-/issues/375261. Found while investigating its root cause.\n\n## Problem\n\nThe [`DeleteContainerRepositoryWorker`](https://gitlab.com/gitlab-org/gitlab/-/blob/49ede537acdc58645e4451fe0eff8bac2f917e26/app/workers/delete_container_repository_worker.rb) calls [`Projects::ContainerRepository::DestroyService`](https://gitlab.com/gitlab-org/gitlab/-/blob/49ede537acdc58645e4451fe0eff8bac2f917e26/app/services/projects/container_repository/destroy_service.rb) to delete a container repository. There we do this:\n\n```rb\ncontainer_repository.delete_tags!\ncontainer_repository.delete_failed! unless container_repository.destroy\n```\n\nIf the call to [`delete_tags!`](https://gitlab.com/gitlab-org/gitlab/blob/49ede537acdc58645e4451fe0eff8bac2f917e26/app/models/container_repository.rb#L480) fails for some reason (e.g., error deleting tag `N` out of `M`) we're not setting the repository `status` to `delete_failed`. We only flag it as `delete_failed` if failing to delete the corresponding `ContainerRepository` object (last step).\n\n## Proposal\n\nUse `Projects::ContainerRepository::DeleteTagsService` to delete tags instead of calling `ContainerRepository#delete_tags!` as this service detects the proper way to delete tags. This service is also the one used by cleanup policies. See more information here: https://gitlab.com/gitlab-org/gitlab/-/issues/375604#note_1118935553\n\nUsing a feature flag to roll out the change is also good to lessen risk and see the effects gradually.","state":"closed","created_at":"2022-09-28T14:32:07.915Z","updated_at":"2022-12-21T12:05:57.767Z","closed_at":"2022-12-09T15:24:35.599Z","closed_by":{"id":12695021,"username":"adie.po","name":"Adie Po","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12695021/avatar.png","web_url":"https://gitlab.com/adie.po"},"labels":["Category:Container Registry","Deliverable","Observability","Package:P1","Stretch","Track Health Status","devops::package","good for new contributors","group::container registry","onboarding","quick win","rails","section::ops","severity::3","type::bug","workflow::production"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":12695021,"username":"adie.po","name":"Adie Po","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12695021/avatar.png","web_url":"https://gitlab.com/adie.po"}],"author":{"id":5054840,"username":"jdrpereira","name":"João Pereira","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5054840/avatar.png","web_url":"https://gitlab.com/jdrpereira"},"type":"ISSUE","assignee":{"id":12695021,"username":"adie.po","name":"Adie Po","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12695021/avatar.png","web_url":"https://gitlab.com/adie.po"},"user_notes_count":43,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375604","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375604","notes":"https://gitlab.com/api/v4/projects/278964/issues/375604/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375604/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375604","relative":"#375604","full":"gitlab-org/gitlab#375604"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9106,"epic":{"id":638114,"iid":9106,"title":"Container Registry: Storage usage bugs","url":"/groups/gitlab-org/-/epics/9106","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":115921740,"iid":375588,"project_id":278964,"title":"Gitlab Migration gets stuck in the importing state when migrating from CE to EE","description":"### Summary\n\nGitlab Migration gets stuck in the importing state for a long time when migrating from Community Edition (CE) to Enterprise Edition (EE).\n\n### Steps to reproduce\n\nThe easiest way is test is to migrate a group from https://dev.gitlab.org/ (CE) to https://gitlab.com/ (EE)\n\n### What is the current *bug* behavior?\n\nGitlab Migration takes too long to migrate the group/project and sometimes doesn't migrate everything. And in the history page, it's possible to see these failures \n\n```\n[\n  {\n    \"exception_message\": \"Pipeline timeout\",\n    \"exception_class\": \"BulkImports::Pipeline::ExpiredError\",\n    \"pipeline_class\": \"BulkImports::Groups::Pipelines::EpicsPipeline\",\n    \"pipeline_step\": \"pipeline_worker_run\",\n    \"correlation_id_value\": \"1bfcf441e20f2c19e86ef86442b16274\",\n    \"created_at\": \"2022-09-27T23:17:34.726Z\"\n  },\n  {\n    \"exception_message\": \"Pipeline timeout\",\n    \"exception_class\": \"BulkImports::Pipeline::ExpiredError\",\n    \"pipeline_class\": \"BulkImports::Common::Pipelines::BoardsPipeline\",\n    \"pipeline_step\": \"pipeline_worker_run\",\n    \"correlation_id_value\": \"1bfcf441e20f2c19e86ef86442b16274\",\n    \"created_at\": \"2022-09-27T23:17:34.669Z\"\n  },\n  {\n    \"exception_message\": \"Unsuccessful response 404 from [FILTERED] Bod...\",\n    \"exception_class\": \"BulkImports::NetworkError\",\n    \"pipeline_class\": \"BulkImports::Common::Pipelines::WikiPipeline\",\n    \"pipeline_step\": \"extractor\",\n    \"correlation_id_value\": \"1bfcf441e20f2c19e86ef86442b16274\",\n    \"created_at\": \"2022-09-27T23:17:34.658Z\"\n  },\n  {\n    \"exception_message\": \"Pipeline timeout\",\n    \"exception_class\": \"BulkImports::Pipeline::ExpiredError\",\n    \"pipeline_class\": \"BulkImports::Groups::Pipelines::IterationsCadencesPipeline\",\n    \"pipeline_step\": \"pipeline_worker_run\",\n    \"correlation_id_value\": \"1bfcf441e20f2c19e86ef86442b16274\",\n    \"created_at\": \"2022-09-27T23:17:34.410Z\"\n  }\n]\n```\n\n\u003c!-- Describe what actually happens. --\u003e\n\n### What is the expected *correct* behavior?\n\nMigration to complete in a timely manner, and no errors occur\n\n### Cause of the issue\n\nThe CE instance doesn't generate some export relation files because they are only available in the EE edition. For example, `iterations_cadences` and  `epics` are EE-only relations. So when the pipelines to migrate Iterations Cadences and Epics are executed by the EE instance, the pipelines keep waiting for the generating of the files, which never happens. So the migration gets stuck in this step for 90 minutes until the pipeline timeout. \n\n### Possible fixes\n\n**1. Does not execute EE pipelines when migrating from a CE instance.**\n\nFor this solution, GitLab Migration needs to know from which Gitlab edition the migration is happening. Currently, GitLab Migration only knows the version. So we need to amend the `/api/v4/version` to include the edition. Then save the edition when creating the migration and amend the pipelines to know to execute depending on the edition.\n\n \n**2. Change the logic to determine if an export relation file will be generated or not.**\n\nCurrently, when Gitlab Migration requests the source instance for the status of the exported files, it uses the endpoint `/api/v4/groups/:id/export_relations/status`, which returns an array with the status of the relation export files.\n\nExample of a response of the endpoint `/api/v4/groups/:id/export_relations/status`\n```\n[\n    {\n        \"relation\": \"badges\",\n        \"status\": 1,\n        \"error\": null,\n        \"updated_at\": \"2022-09-27T23:03:12.121Z\"\n    },\n    {\n        \"relation\": \"boards\",\n        \"status\": 1,\n        \"error\": null,\n        \"updated_at\": \"2022-09-27T23:03:12.170Z\"\n    },\n    {\n        \"relation\": \"epics\",\n        \"status\": 1,\n        \"error\": null,\n        \"updated_at\": \"2022-09-27T23:03:12.421Z\"\n    }\n]\n```\n\nThe response is empty when accessing the endpoint for a group/project that was never migrated. But after requesting the files to be generated, the relations and their status are gradually added to the list. \n\nBut because the target instance can't know if a file will be added to the list, the pipeline keeps waiting for the file to be added until the pipeline timeout.\n\nThere are a few things that we can do to improve this logic:\n\n1. Create a dedicated endpoint to get the relation status. In case the source instance doesn't recognize the relation, a 422 error could be returned, and the pipeline would know that the source instance doesn't support the relation, and the pipeline could skip the migration.\n\nThe problem with this solution is that the new endpoint would only be available in new Gitlab versions, and for old versions, we would have to fallback to the old endpoint. \n\n2. When using the old endpoint, we could have a lower timeout period for the relation status, for example, 5 minutes instead of 90 minutes. This way, the migration wouldn't get stuck for a long period.\n\n\n## Chosen solution\n\nWe decided to implement solution 1. \n\n**Tasks breakdown:**\n\n1. Reduce the timeout to wait for the file relation status\n1. Add Gitlab instance edition to the API\n1. Create database migration to add `source_edition` to the `bulk_imports` table\n1. Capture and store Gitlab source edition using the updated API\n1. Change BulkImport to skip EE pipelines if the source instance is CE","state":"closed","created_at":"2022-09-28T11:23:26.653Z","updated_at":"2022-12-21T12:04:09.981Z","closed_at":"2022-12-05T09:56:42.592Z","closed_by":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"labels":["Category:Importers","Deliverable","Importer:GitLab Migration","backend","devops::manage","group::import","missed-deliverable","missed:15.6","priority::2","section::dev","severity::3","type::bug","workflow::production"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"}],"author":{"id":11165152,"username":"rodrigo.tomonari","name":"Rodrigo Tomonari","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11165152/avatar.png","web_url":"https://gitlab.com/rodrigo.tomonari"},"type":"ISSUE","assignee":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375588","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375588","notes":"https://gitlab.com/api/v4/projects/278964/issues/375588/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375588/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375588","relative":"#375588","full":"gitlab-org/gitlab#375588"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4931,"epic":{"id":145558,"iid":4931,"title":"GitLab Migration - Technical Improvements","url":"/groups/gitlab-org/-/epics/4931","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":115921681,"iid":375587,"project_id":278964,"title":"[Feature flag] Cleanup jira_raise_timeouts","description":"\u003c!-- Title suggestion: [Feature flag] Cleanup \u003cfeature-flag-name\u003e --\u003e\n\n## Summary\n\nThis issue is to cleanup the `jira_raise_timeouts` feature flag, after the feature flag has not been enabled because we don't need to increase the timeout. See https://gitlab.com/gitlab-org/gitlab/-/issues/356814 and https://gitlab.com/gitlab-org/gitlab/-/merge_requests/86439 for details.\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\n## Owners\n\n- Team: ~\"group::integrations\" \n- Most appropriate slack channel to reach out to: `#g_manage_integrations`\n- Best individual to reach out to: NAME\n- PM: NAME\n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## Expectations\n\n### What might happen if this goes wrong?\n\n\u003c!-- Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\n### Cleaning up the feature flag\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [x] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag. Ask for review and merge it.\n    - [x] Remove all references to the feature flag from the codebase.\n    - [x] Remove the YAML definitions for the feature from the repository.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the cleanup MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-cleanup-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [x] If not already done, clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [x] `/chatops run feature delete \u003cfeature-flag-name\u003e --dev`\n    - [x] `/chatops run feature delete \u003cfeature-flag-name\u003e --staging`\n    - [x] `/chatops run feature delete \u003cfeature-flag-name\u003e`\n- [ ] Close this rollout issue.","state":"closed","created_at":"2022-09-28T11:22:01.105Z","updated_at":"2022-11-22T09:34:23.066Z","closed_at":"2022-11-21T08:11:39.196Z","closed_by":{"id":1315742,"username":"arturoherrero","name":"Arturo Herrero","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1315742/avatar.png","web_url":"https://gitlab.com/arturoherrero"},"labels":["Category:Integrations","Category:Jira Importer","backend","devops::manage","feature flag","group::integrations","maintenance::refactor","section::dev","type::maintenance","workflow::production"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":1315742,"username":"arturoherrero","name":"Arturo Herrero","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1315742/avatar.png","web_url":"https://gitlab.com/arturoherrero"}],"author":{"id":1315742,"username":"arturoherrero","name":"Arturo Herrero","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1315742/avatar.png","web_url":"https://gitlab.com/arturoherrero"},"type":"ISSUE","assignee":{"id":1315742,"username":"arturoherrero","name":"Arturo Herrero","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1315742/avatar.png","web_url":"https://gitlab.com/arturoherrero"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375587","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":12,"completed_count":8},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"8 of 12 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375587","notes":"https://gitlab.com/api/v4/projects/278964/issues/375587/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375587/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375587","relative":"#375587","full":"gitlab-org/gitlab#375587"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":115920195,"iid":375585,"project_id":278964,"title":"Externalize hardcoded string in app/views/groups/projects.html.haml","description":"The following discussion from !98806 should be addressed:\n\n- [ ] @pgascouvaillancourt started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/98806#note_1112589737): \n\n    \u003e **follow-up:** Externalize the string below (L8-9).","state":"closed","created_at":"2022-09-28T10:51:51.604Z","updated_at":"2022-11-22T18:26:23.071Z","closed_at":"2022-10-21T19:48:33.477Z","closed_by":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"labels":["Category:Internationalization","devops::manage","feature::enhancement","frontend","group::foundations","section::dev","type::feature","workflow::in review"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"}],"author":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"type":"ISSUE","assignee":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375585","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375585","notes":"https://gitlab.com/api/v4/projects/278964/issues/375585/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375585/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375585","relative":"#375585","full":"gitlab-org/gitlab#375585"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":115911780,"iid":375577,"project_id":278964,"title":"Add admin settings section","description":"\u003c!-- This template is a great use for issues that are feature::additions or technical tasks for larger issues.--\u003e\n\n### Problem to solve\n\nThe application settings used by the GitLab instance with the Project Analytics stack are currently only accessible via the CLI.\n\n### Proposal\n\nAdd the application settings to the `Admin \u003e General` page below the `Snowplow` section. This should only be shown for ~\"GitLab Ultimate\" and is behind the `cube_api_proxy` ~\"feature flag\".\n\nThe following settings need to be added:\n\n* `product_analytics_enabled`\n\n**Settings for generating project analytics:**\n\n* `jitsu_host`\n* `jitsu_project_xid`\n* `clickhouse_connection_string`\n* `jitsu_administrator_email`\n* `jitsu_administrator_password`\n\n**Settings for retrieving project analytics:**\n\n* `cube_api_base_url`\n* `cube_api_key`\n\n### Implementation plan - :two: \n\n**note: Use the `cupe_api_proxy` ~\"feature flag\"**\n\n1. Add a `render_if_exists` and add new EE-only section template **if the ~\"feature flag\" is enabled**\n1. Add inputs for each setting\n1. Add tests","state":"closed","created_at":"2022-09-28T09:16:52.252Z","updated_at":"2022-11-18T18:39:27.372Z","closed_at":"2022-11-08T13:52:42.193Z","closed_by":{"id":5412956,"username":"agarciatesares","name":"Axel García","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"},"labels":["Category:Product Analytics","GitLab Ultimate","devops::analytics","feature flag","feature::addition","frontend","group::product analytics","section::analytics","type::feature","workflow::production"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":5412956,"username":"agarciatesares","name":"Axel García","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"}],"author":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"type":"ISSUE","assignee":{"id":5412956,"username":"agarciatesares","name":"Axel García","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375577","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375577","notes":"https://gitlab.com/api/v4/projects/278964/issues/375577/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375577/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375577","relative":"#375577","full":"gitlab-org/gitlab#375577"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8616,"epic":{"id":586905,"iid":8616,"title":"Add Product Analytics menu options and screens","url":"/groups/gitlab-org/-/epics/8616","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":115910302,"iid":375575,"project_id":278964,"title":"Evaluate the flag_shih_tzu gem for storing permissions for customizable roles","description":"As suggested in https://gitlab.com/gitlab-org/gitlab/-/issues/352891#note_1059561579, since we only allow [additive permissions](https://gitlab.com/gitlab-org/gitlab/-/issues/375574) for customizable roles, evaluate `flag_shih_tzu` gem and the storage of permissions in bit fields with the help of the ~database team.","state":"closed","created_at":"2022-09-28T08:54:09.455Z","updated_at":"2022-12-21T12:03:16.596Z","closed_at":"2022-12-16T15:34:06.185Z","closed_by":{"id":1315784,"username":"ifarkas","name":"Imre Farkas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b4dcfa5185b8513751b447d76b069bf6?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifarkas"},"labels":["Category:Permissions","Deliverable","Track Health Status","backend","devops::manage","feature","feature::addition","group::authentication and authorization","missed-deliverable","missed:15.6","section::dev","type::feature"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":1315784,"username":"ifarkas","name":"Imre Farkas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b4dcfa5185b8513751b447d76b069bf6?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifarkas"}],"author":{"id":1315784,"username":"ifarkas","name":"Imre Farkas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b4dcfa5185b8513751b447d76b069bf6?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifarkas"},"type":"ISSUE","assignee":{"id":1315784,"username":"ifarkas","name":"Imre Farkas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b4dcfa5185b8513751b447d76b069bf6?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifarkas"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375575","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375575","notes":"https://gitlab.com/api/v4/projects/278964/issues/375575/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375575/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375575","relative":"#375575","full":"gitlab-org/gitlab#375575"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8408,"epic":{"id":569199,"iid":8408,"title":"Customizable roles MVC - Technical Performance","url":"/groups/gitlab-org/-/epics/8408","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":"at_risk"},{"id":115895175,"iid":375549,"project_id":278964,"title":"Projects list API - Improve pre-loader","description":"From an [examination of queries](https://gitlab.com/groups/gitlab-org/-/epics/8164#note_1085141876) it looks like our preload queries perform the same complex subquery a number of times. The proposal is to perform the base query once and use the ID values in the preload queries rather than as a subquery.\n\n### Availability and Testing\n\n* Consider using a feature flag with this change, which will allow us to roll out and monitor any potential issues on staging and production.\n  * This would also trigger `e2e:package-and-test` with `ee:instance-parallel` and `ee:instance-parallel-ff-inverse` jobs on the MR for functional regression tests. \n  * If a feature flag cannot be used, and changes don't trigger a review app pipeline, please trigger `e2e:package-and-test` job manually\n\nFeel free to reach out to:\n\n* `@vburton` for any questions on functional testing, QA failures, etc.\n* The Quality Enablement team for running any additional performance tests needed","state":"closed","created_at":"2022-09-28T02:30:44.875Z","updated_at":"2022-11-22T14:11:45.827Z","closed_at":"2022-11-15T01:37:18.796Z","closed_by":{"id":4092171,"username":"alexpooley","name":"Alex Pooley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4092171/avatar.png","web_url":"https://gitlab.com/alexpooley"},"labels":["Deliverable","Error Budget Improvement","backend","devops::manage","group::organization","milestone::p1","organization-error-budget","quad-planning::complete-action","section::dev","type::maintenance","workflow::in dev"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":4092171,"username":"alexpooley","name":"Alex Pooley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4092171/avatar.png","web_url":"https://gitlab.com/alexpooley"}],"author":{"id":4092171,"username":"alexpooley","name":"Alex Pooley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4092171/avatar.png","web_url":"https://gitlab.com/alexpooley"},"type":"ISSUE","assignee":{"id":4092171,"username":"alexpooley","name":"Alex Pooley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4092171/avatar.png","web_url":"https://gitlab.com/alexpooley"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375549","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375549","notes":"https://gitlab.com/api/v4/projects/278964/issues/375549/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375549/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375549","relative":"#375549","full":"gitlab-org/gitlab#375549"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8164,"epic":{"id":536480,"iid":8164,"title":"Improve performance of Projects List API under load into next tier","url":"/groups/gitlab-org/-/epics/8164","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":115892318,"iid":375544,"project_id":278964,"title":"Use testify in secure report project","description":"### Proposal\n\nWhen https://gitlab.com/gitlab-org/gitlab/-/issues/230600+ was completed, we missed updating the [report](https://gitlab.com/gitlab-org/security-products/analyzers/report) project. The purpose of this issue is to use `require` from the [testify package](https://godoc.org/github.com/stretchr/testify/require) to simplify the tests in the `report` package.\n\nSee the original issue https://gitlab.com/gitlab-org/gitlab/-/issues/230600+ for further details.\n\n### Implementation plan\n\nReplace all occurrences of the following in `*_test.go` files:\n\n1. `reflect.DeepEqual(want, got)` with `require.Equal(t, want, got)`\n1. `if err != nil { t.Fatal(err) }` with `require.NoError(t, err)`\n1. `assert.\u003csome-test\u003e` with `require.\u003csome-test\u003e`\n1. `cmp.Diff(\u0026want, got)` with `require.Equal(t, \u0026want, got)`\n\nSee this Draft MR for an initial implementation: https://gitlab.com/gitlab-org/security-products/analyzers/report/-/merge_requests/44+.\n\n/cc @theoretick @sam.white @brytannia","state":"closed","created_at":"2022-09-28T00:28:35.418Z","updated_at":"2023-01-05T20:38:50.038Z","closed_at":"2023-01-05T01:41:22.632Z","closed_by":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"labels":["Category:Dependency Scanning","Enterprise Edition","GitLab Ultimate","Stretch","[deprecated] Accepting merge requests","backend","devops::secure","group::composition analysis","maintenance::refactor","priority::4","section::sec","type::maintenance","workflow::production"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"}],"author":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"type":"ISSUE","assignee":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"user_notes_count":1,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375544","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375544","notes":"https://gitlab.com/api/v4/projects/278964/issues/375544/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375544/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375544","relative":"#375544","full":"gitlab-org/gitlab#375544"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":115887413,"iid":375527,"project_id":278964,"title":"pdf.js makes a request to object%Object","description":"Related to https://gitlab.com/gitlab-org/gitlab/-/issues/248100\n\n1. Open `Inspector` -\u003e `Network` in your browser.\n1. Load an LFS file in the repository view, such as https://gitlab.com/LER0ever/pdf-preview-issue/-/blob/master/PDF-LFS.pdf\n\n![image](/uploads/7b348d4da7ebc0d1efba2a1407c2508f/image.png)\n\nThis is showing up about 5,000 times a day (https://log.gprd.gitlab.net/goto/946df860-3eae-11ed-b0ec-930003e0679c):\n\n![image](/uploads/d1340ec7ffe444b7d618260bf483c69b/image.png)\n\nThe browser stack trace shows:\n\n![image](/uploads/cfe3c1f04932bc8fe04d2d78f25b7e70/image.png)\n\nThis is also generating a console warning:\n\n![image](/uploads/283731d4577bdcee4594c9a77853992b/image.png)\n\nWhat's odd is that the `pdfjsWorker` does appear to be loading:\n\n![image](/uploads/741e6b1b358492cc837d1fcd9e9949d2/image.png)\n\nIt does seem related to https://gitlab.com/gitlab-org/gitlab/-/blob/9ab8998098f9a6b4eea215d233ca001ba844ca38/app/assets/javascripts/pdf/index.vue#L33 because if I comment out:\n\n```js\n    pdfjsLib.GlobalWorkerOptions.workerSrc = workerSrc;\n```\n\nI see it tries to load a different file. Maybe something like https://stackoverflow.com/a/73467669 would help.","state":"closed","created_at":"2022-09-27T21:59:14.141Z","updated_at":"2022-10-17T22:49:27.172Z","closed_at":"2022-10-17T22:48:41.570Z","closed_by":{"id":3199302,"username":"dmishunov","name":"Denys Mishunov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d85e45af29611ac2c1395e3c3d6ec5d6?s=80\u0026d=identicon","web_url":"https://gitlab.com/dmishunov"},"labels":["SUS::Impacting","bug::ux","devops::create","frontend","group::source code","rich blob viewer","section::dev","severity::4","type::bug","webpack"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":3199302,"username":"dmishunov","name":"Denys Mishunov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d85e45af29611ac2c1395e3c3d6ec5d6?s=80\u0026d=identicon","web_url":"https://gitlab.com/dmishunov"}],"author":{"id":64248,"username":"stanhu","name":"Stan Hu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/64248/stanhu.jpg","web_url":"https://gitlab.com/stanhu"},"type":"ISSUE","assignee":{"id":3199302,"username":"dmishunov","name":"Denys Mishunov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d85e45af29611ac2c1395e3c3d6ec5d6?s=80\u0026d=identicon","web_url":"https://gitlab.com/dmishunov"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375527","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375527","notes":"https://gitlab.com/api/v4/projects/278964/issues/375527/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375527/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375527","relative":"#375527","full":"gitlab-org/gitlab#375527"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":115876597,"iid":375503,"project_id":278964,"title":"Get AppSec review for Jira proxy public key storage","description":"The following discussion from !98431 should be addressed:\n\n- [ ] @georgekoltsov started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/98431#note_1112451307):  (+1 comment)\n\n    \u003e Should this MR be AppSec reviewed? Although most of this new code is not used and behind a feature flag so perhaps we can request one at a later stage?","state":"closed","created_at":"2022-09-27T18:21:13.273Z","updated_at":"2022-11-22T18:26:23.714Z","closed_at":"2022-11-08T22:30:44.077Z","closed_by":{"id":16943,"username":"Andysoiron","name":"Andy Soiron","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/16943/avatar.png","web_url":"https://gitlab.com/Andysoiron"},"labels":["Category:Integrations","Stretch","backend","devops::manage","feature::addition","group::integrations","missed:15.5","section::dev","type::feature"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":16943,"username":"Andysoiron","name":"Andy Soiron","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/16943/avatar.png","web_url":"https://gitlab.com/Andysoiron"}],"author":{"id":16943,"username":"Andysoiron","name":"Andy Soiron","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/16943/avatar.png","web_url":"https://gitlab.com/Andysoiron"},"type":"ISSUE","assignee":{"id":16943,"username":"Andysoiron","name":"Andy Soiron","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/16943/avatar.png","web_url":"https://gitlab.com/Andysoiron"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375503","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":0,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375503","notes":"https://gitlab.com/api/v4/projects/278964/issues/375503/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375503/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375503","relative":"#375503","full":"gitlab-org/gitlab#375503"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5650,"epic":{"id":230344,"iid":5650,"title":"Self-managed support extended to GitLab for Jira app","url":"/groups/gitlab-org/-/epics/5650","group_id":9970,"human_readable_end_date":"May 17, 2023","human_readable_timestamp":"\u003cstrong\u003e4\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":115871677,"iid":375497,"project_id":278964,"title":"Validate against Vulnerabilities::StateTransition to_state and from_state being the same to prevent redundant record creation","description":"Per https://gitlab.com/gitlab-org/gitlab/-/issues/373808#note_1116056198, we want to validate the Vulnerabilities::StateTransition records to prevent them from being saved when their `to_state` and `from_state` match, as this is redundant. Impelmenting this validation will prevent future development from accidentally reintroducing code that creates these redundant records, which need to be culled as part of https://gitlab.com/gitlab-org/gitlab/-/issues/373808.\n\n# Implementation Plan\n\n- [ ] Implement a database level CHECK to prevent `vulnerabilities_state_transitions` records from having the same `to_state` as their `from_state`","state":"closed","created_at":"2022-09-27T17:12:28.497Z","updated_at":"2022-12-02T13:20:58.108Z","closed_at":"2022-11-20T22:36:16.293Z","closed_by":{"id":480804,"username":"thiagocsf","name":"Thiago Figueiró","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480804/avatar.png","web_url":"https://gitlab.com/thiagocsf"},"labels":["Threat Insights::Tangerine","backend","devops::govern","group::threat insights","maintenance::refactor","quad-planning::complete-no-action","section::sec","type::maintenance","workflow::verification"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":11164960,"username":"ghavenga","name":"Gregory Havenga","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11164960/avatar.png","web_url":"https://gitlab.com/ghavenga"}],"author":{"id":11164960,"username":"ghavenga","name":"Gregory Havenga","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11164960/avatar.png","web_url":"https://gitlab.com/ghavenga"},"type":"ISSUE","assignee":{"id":11164960,"username":"ghavenga","name":"Gregory Havenga","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11164960/avatar.png","web_url":"https://gitlab.com/ghavenga"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375497","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375497","notes":"https://gitlab.com/api/v4/projects/278964/issues/375497/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375497/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375497","relative":"#375497","full":"gitlab-org/gitlab#375497"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5629,"epic":{"id":228751,"iid":5629,"title":"Deprecate and remove Vulnerabilities::Feedback","url":"/groups/gitlab-org/-/epics/5629","group_id":9970},"iteration":null,"health_status":null},{"id":115867999,"iid":375494,"project_id":278964,"title":"Set a minimum number of days for automatic deactivation","description":"## Problem to solve\n\nFollow up to this MR - https://gitlab.com/gitlab-org/gitlab/-/merge_requests/95496\n\nBecause deactivated users can rectivate simply by logging in, setting a low threshold could result in unexpected re-activations, and combined with additional users being added, result in seat overages.\n\n## Proposal\n\nThe number of days field should be a text field instead of a drop down.\n\nAccepted number of days should be 90 days and over.","state":"closed","created_at":"2022-09-27T16:16:39.021Z","updated_at":"2022-11-16T17:45:31.393Z","closed_at":"2022-10-26T11:11:39.207Z","closed_by":{"id":4665308,"username":"doniquesmit","name":"Donique Smit","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c5737881c65a3063443d7692dfe04f4a?s=80\u0026d=identicon","web_url":"https://gitlab.com/doniquesmit"},"labels":["OEF::Tracking","Technical Writing","UX","[deprecated] Category:Utilization","devops::fulfillment","estimation::completed","frontend","group::utilization","section::fulfillment","type::maintenance","workflow::production"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":5211906,"username":"csouthard","name":"Chase Southard","state":"active","avatar_url":"https://secure.gravatar.com/avatar/5e2adecb9fa1d32cf007754824aa358f?s=80\u0026d=identicon","web_url":"https://gitlab.com/csouthard"},{"id":9655539,"username":"ofernandez2","name":"Omar Fernandez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9655539/avatar.png","web_url":"https://gitlab.com/ofernandez2"}],"author":{"id":4089849,"username":"jackib","name":"Jacki Bauer","state":"active","avatar_url":"https://secure.gravatar.com/avatar/45cb9a7b286a89f770f76d90b6cf33fd?s=80\u0026d=identicon","web_url":"https://gitlab.com/jackib"},"type":"ISSUE","assignee":{"id":5211906,"username":"csouthard","name":"Chase Southard","state":"active","avatar_url":"https://secure.gravatar.com/avatar/5e2adecb9fa1d32cf007754824aa358f?s=80\u0026d=identicon","web_url":"https://gitlab.com/csouthard"},"user_notes_count":39,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375494","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":0,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375494","notes":"https://gitlab.com/api/v4/projects/278964/issues/375494/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375494/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375494","relative":"#375494","full":"gitlab-org/gitlab#375494"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5519,"epic":{"id":217169,"iid":5519,"title":"[Self-managed] Deactivation of dormant users","url":"/groups/gitlab-org/-/epics/5519","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":115856914,"iid":375485,"project_id":278964,"title":"Cache assets `tmp/cache` in native cache instead of component caching mechanism","description":"The following discussion from !96297 should be addressed:\n\n\u003e That said, I agree that the `tmp/cache` data could still be stored in the \"native\" cache, but I can do that as a follow-up. I was also thinking we could cache `app/assets/javascripts/locale/**/app.js` in separate generic packages (could be a follow-up) as well since they probably change less often (we cannot use native cache since the cache key depends on many `.po` files but [file-based native cache key](https://docs.gitlab.com/ee/ci/yaml/#cachekeyfiles) is limited to two files).","state":"closed","created_at":"2022-09-27T13:54:10.512Z","updated_at":"2022-10-20T15:12:30.731Z","closed_at":"2022-10-20T15:12:30.601Z","closed_by":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"labels":["Engineering Productivity","ep::pipeline","maintenance::pipelines","type::maintenance","workflow::in review"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"}],"author":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"type":"ISSUE","assignee":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"user_notes_count":1,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375485","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375485","notes":"https://gitlab.com/api/v4/projects/278964/issues/375485/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375485/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375485","relative":"#375485","full":"gitlab-org/gitlab#375485"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":115848529,"iid":375476,"project_id":278964,"title":"Markdown math render issues with `markdown_dollar_math`","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"type::bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=type::bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\nThis issue describes two separate problems, accepting multiline input, and properly handling of escaped characters and latex command strings, such as `\u0026` and `\\\\`.\n\nThere is already an issue opened for the second problem, https://gitlab.com/gitlab-org/gitlab/-/issues/373162+.  So I'm refocusing this issue and it's MR to handle fixing multiline input.\n\n---\n\n### Summary\n\nThe experimental feature `markdown_dollar_math` does not behave as the old/Gitlab style math markdown block.\n\n\n### Steps to reproduce\n\n- Enable the feature (`Feature.enable(:markdown_dollar_math)`)\n- Test\n    - Many simple things work as expected :blush:\n    - Breaks on more complicated things :disappointed: \n\n### Example Project\n\nThe following code works \n````markdown\n```math\n\\begin{align*}\n\\Delta t \u0026=  \\frac{d(b_i, a_i)}{c} + \\Delta t_{b_i} + \\Delta t_{add} \\\\\n\u0026\\approx\n\\end{align*}\n```\n````\nResult:\n![image](/uploads/335812c245acfc6f9e7068e3c93e45ae/image.png)\n\nThis one does not work\n```\n$$\n\\begin{align*}\n\\Delta t \u0026=  \\frac{d(b_i, a_i)}{c} + \\Delta t_{b_i} + \\Delta t_{add} \\\\\n\u0026\\approx\n\\end{align*}\n$$\n```\nResult:\n![image](/uploads/800b0b72e6a55f474e4c8f839394ad81/image.png)\n\n### What is the current *bug* behavior?\n\nDifferent behavior between the old and new math code blocks.\n\n### What is the expected *correct* behavior?\n\nBoth behave the same way.\n\n### Relevant logs and/or screenshots\n\n\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\nSystem information\nSystem:\t\tUbuntu 20.04\nCurrent User:\tgit\nUsing RVM:\tno\nRuby Version:\t2.7.5p203\nGem Version:\t3.1.6\nBundler Version:2.3.15\nRake Version:\t13.0.6\nRedis Version:\t6.2.7\nSidekiq Version:6.4.2\nGo Version:\tunknown\n\nGitLab information\nVersion:\t15.4.0\nRevision:\t70d9f335be4\nDirectory:\t/opt/gitlab/embedded/service/gitlab-rails\nDB Adapter:\tPostgreSQL\nDB Version:\t12.10\nURL:\t\thttps://secret.de\nHTTP Clone URL:\thttps://secret.de/some-group/some-project.git\nSSH Clone URL:\tgit@git.secret.de:some-group/some-project.git\nUsing LDAP:\tyes\nUsing Omniauth:\tyes\nOmniauth Providers: \n\nGitLab Shell\nVersion:\t14.10.0\nRepository storage paths:\n- default: \t/mnt/NAS01/git-data/repositories\nGitLab Shell path:\t\t/opt/gitlab/embedded/service/gitlab-shell\n\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\nChecking GitLab subtasks ...\n\nChecking GitLab Shell ...\n\nGitLab Shell: ... GitLab Shell version \u003e= 14.10.0 ? ... OK (14.10.0)\nRunning /opt/gitlab/embedded/service/gitlab-shell/bin/check\nInternal API available: OK\nRedis available via internal API: OK\ngitlab-shell self-check successful\n\nChecking GitLab Shell ... Finished\n\nChecking Gitaly ...\n\nGitaly: ... default ... OK\n\nChecking Gitaly ... Finished\n\nChecking Sidekiq ...\n\nSidekiq: ... Running? ... yes\nNumber of Sidekiq processes (cluster/worker) ... 1/1\n\nChecking Sidekiq ... Finished\n\nChecking Incoming Email ...\n\nIncoming Email: ... Reply by email is disabled in config/gitlab.yml\n\nChecking Incoming Email ... Finished\n\nChecking LDAP ...\n\nLDAP: ... Server: ldapmain\nLDAP authentication... Success\nLDAP users with access to your GitLab server (only showing the first 100 results)\n\tUser output sanitized. Found 26 users of 100 limit.\n\nChecking LDAP ... Finished\n\nChecking GitLab App ...\n\nDatabase config exists? ... yes\nAll migrations up? ... yes\nDatabase contains orphaned GroupMembers? ... no\nGitLab config exists? ... yes\nGitLab config up to date? ... yes\nLog directory writable? ... yes\nTmp directory writable? ... yes\nUploads directory exists? ... yes\nUploads directory has correct permissions? ... yes\nUploads directory tmp has correct permissions? ... yes\nSystemd unit files or init script exist? ... skipped (omnibus-gitlab has neither init script nor systemd units)\nSystemd unit files or init script up-to-date? ... skipped (omnibus-gitlab has neither init script nor systemd units)\nProjects have namespace: ... \n12/1 ... yes\n11/2 ... yes\n7/3 ... yes\n12/4 ... yes\n15/7 ... yes\n10/8 ... yes\n3/11 ... yes\n8/16 ... yes\n23/17 ... yes\n8/19 ... yes\n25/21 ... yes\n26/22 ... yes\n27/23 ... yes\n11/25 ... yes\n11/26 ... yes\n12/28 ... yes\n16/31 ... yes\n31/32 ... yes\n30/33 ... yes\n10/34 ... yes\n30/36 ... yes\n144/37 ... yes\n143/38 ... yes\n10/39 ... yes\n20/40 ... yes\n12/41 ... yes\n7/44 ... yes\n7/45 ... yes\n143/47 ... yes\n30/48 ... yes\n25/51 ... yes\n27/52 ... yes\n12/53 ... yes\n47/55 ... yes\n143/56 ... yes\n30/58 ... yes\n30/59 ... yes\n9/60 ... yes\n30/61 ... yes\n143/62 ... yes\n10/65 ... yes\n9/66 ... yes\n12/67 ... yes\n62/68 ... yes\n12/69 ... yes\n30/73 ... yes\n12/74 ... yes\n46/76 ... yes\n61/78 ... yes\n58/79 ... yes\n10/80 ... yes\n22/82 ... yes\n22/83 ... yes\n22/84 ... yes\n46/85 ... yes\n12/87 ... yes\n46/88 ... yes\n31/89 ... yes\n58/90 ... yes\n66/91 ... yes\n30/92 ... yes\n10/93 ... yes\n46/94 ... yes\n11/95 ... yes\n46/96 ... yes\n58/97 ... yes\n145/98 ... yes\n10/99 ... yes\n58/100 ... yes\n145/101 ... yes\n145/102 ... yes\n145/103 ... yes\n145/104 ... yes\n144/105 ... yes\n144/106 ... yes\nRedis version \u003e= 6.0.0? ... yes\nRuby version \u003e= 2.7.2 ? ... yes (2.7.5)\nGit user has default SSH configuration? ... yes\nActive users: ... 34\nIs authorized keys file accessible? ... yes\nGitLab configured to store new projects in hashed storage? ... yes\nAll projects are in hashed storage? ... yes\n\nChecking GitLab App ... Finished\n\n\nChecking GitLab subtasks ... Finished\n\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e","state":"closed","created_at":"2022-09-27T12:08:21.793Z","updated_at":"2022-12-06T18:31:59.868Z","closed_at":"2022-10-28T16:34:59.993Z","closed_by":{"id":194645,"username":"digitalmoksha","name":"Brett Walker","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/194645/avatar.png","web_url":"https://gitlab.com/digitalmoksha"},"labels":["Deliverable","backend","devops::plan","feature::enhancement","group::project management","section::dev","type::feature","workflow::production"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":194645,"username":"digitalmoksha","name":"Brett Walker","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/194645/avatar.png","web_url":"https://gitlab.com/digitalmoksha"}],"author":{"id":6436813,"username":"q_wertz","name":"Clemens Sonnleitner","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6466232be0b2dc94a322e28a16eb911c?s=80\u0026d=identicon","web_url":"https://gitlab.com/q_wertz"},"type":"ISSUE","assignee":{"id":194645,"username":"digitalmoksha","name":"Brett Walker","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/194645/avatar.png","web_url":"https://gitlab.com/digitalmoksha"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375476","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375476","notes":"https://gitlab.com/api/v4/projects/278964/issues/375476/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375476/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375476","relative":"#375476","full":"gitlab-org/gitlab#375476"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":115824820,"iid":375378,"project_id":278964,"title":"Use named subjects in project_statistics_spec","description":"The following discussion from !97912 should be addressed:\n\n- [ ] @reprazent started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/97912#note_1111950935):  (+1 comment)\n\n    \u003e Same nitpick here :smile:.","state":"closed","created_at":"2022-09-27T06:55:15.846Z","updated_at":"2022-10-04T03:08:35.274Z","closed_at":"2022-10-04T03:08:35.245Z","closed_by":{"id":6354882,"username":"alberts-gitlab","name":"Albert Salim","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6354882/avatar.png","web_url":"https://gitlab.com/alberts-gitlab"},"labels":["Category:Build Artifacts","automation:ml","automation:ml wrong","devops::verify","group::pipeline insights","maintenance::refactor","needs weight","section::ops","type::maintenance"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":6354882,"username":"alberts-gitlab","name":"Albert Salim","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6354882/avatar.png","web_url":"https://gitlab.com/alberts-gitlab"}],"author":{"id":6354882,"username":"alberts-gitlab","name":"Albert Salim","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6354882/avatar.png","web_url":"https://gitlab.com/alberts-gitlab"},"type":"ISSUE","assignee":{"id":6354882,"username":"alberts-gitlab","name":"Albert Salim","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6354882/avatar.png","web_url":"https://gitlab.com/alberts-gitlab"},"user_notes_count":4,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375378","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375378","notes":"https://gitlab.com/api/v4/projects/278964/issues/375378/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375378/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375378","relative":"#375378","full":"gitlab-org/gitlab#375378"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":115806491,"iid":375360,"project_id":278964,"title":"Status and time zone widgets not appearing on profile edit page","description":"### Summary\n\nWhen editing my own profile, the status and profile widgets no longer appear.\n\n### Steps to reproduce\n\n1. On production, navigate to your profile: https://www.gitlab.com/-/profile\n2. See the missing widgets\n\n### What is the current *bug* behavior?\n\nThe widgets do not appear\n\n### What is the expected *correct* behavior?\n\nThe widgets should appear\n\n### Relevant logs and/or screenshots\n\n![image](/uploads/623430ff5fe5e9625628c7f3080f5a87/image.png)\n\nThere is a console error:\n\n![image](/uploads/0a300510920ca07a0db6d502d3736fa1/image.png)\n\nResulting HTML in the inspector:\n\n![image](/uploads/b95f61ff2ec7d1042bc23a85894c0341/image.png)\n\n### Output of checks\n\nThis bug happens on GitLab.com\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e","state":"closed","created_at":"2022-09-26T20:22:05.212Z","updated_at":"2022-09-29T08:39:07.287Z","closed_at":"2022-09-29T08:36:23.821Z","closed_by":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"labels":["Unplanned","[deprecated] Category:Billing and Subscription Management","devops::fulfillment","frontend","group::billing and subscription management","priority::2","regression","regression:15.5","section::fulfillment","severity::3","type::bug","workflow::production"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"}],"author":{"id":3717078,"username":"cablett","name":"charlie ablett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3717078/avatar.png","web_url":"https://gitlab.com/cablett"},"type":"ISSUE","assignee":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375360","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375360","notes":"https://gitlab.com/api/v4/projects/278964/issues/375360/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375360/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375360","relative":"#375360","full":"gitlab-org/gitlab#375360"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":115771849,"iid":375345,"project_id":278964,"title":"Refactor the Slack Application integration form to Vue","description":"As part of the integration of [the Slack Notifications integration into the Slack Application](https://gitlab.com/groups/gitlab-org/-/epics/8670), and in anticipation of [the BE delivering the different Slack integrations as sections](https://gitlab.com/gitlab-org/gitlab/-/issues/375050) for the Slack Application, we should follow the example [set up by the Jira integration](https://gitlab.com/gitlab-org/gitlab/-/issues/342121) and refactor the Slack Application to Vue for the unification and maintainability sake.\n\n## Why?\n\n1. it will allow re-using logic introduces in the Jira integration form\n2. it will identify the similarities in the two integrations to unify those and set the universal way for other integrations to take the same path easier in the future\n\n## UPD:\n\nThe form is already Vue-aware and represents the Vue application. However in a very simple form where the app simply copies the content generated by the Rails app. Here's the structural schema of the dependencies chain on the files level:\n \n```mermaid\ngraph TB;\n  id1[app/views/projects/settings/integrations/edit.html.haml]---|\"= render 'form', integration: @integration\"|id2[app/views/projects/settings/integrations/_form.html.haml];\n  id2---|\"= render 'shared/integration_settings', integration: integration\"|id3[app/views/shared/_integration_settings.html.haml]\n  id3---|\".js-vue-integration-settings - the mounting point for the Vue app\"|id4[app/assets/javascripts/integrations/edit/index.js]\n  id4---|\"New Vue application\"|id5[app/assets/javascripts/integrations/edit/components/integration_form.vue]\n```","state":"closed","created_at":"2022-09-26T10:38:15.593Z","updated_at":"2022-11-22T18:26:29.305Z","closed_at":"2022-10-17T07:05:53.086Z","closed_by":{"id":3199302,"username":"dmishunov","name":"Denys Mishunov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d85e45af29611ac2c1395e3c3d6ec5d6?s=80\u0026d=identicon","web_url":"https://gitlab.com/dmishunov"},"labels":["Category:Integrations","Integration::Slack","devops::manage","feature::enhancement","frontend","group::integrations","section::dev","type::feature"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":3199302,"username":"dmishunov","name":"Denys Mishunov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d85e45af29611ac2c1395e3c3d6ec5d6?s=80\u0026d=identicon","web_url":"https://gitlab.com/dmishunov"}],"author":{"id":3199302,"username":"dmishunov","name":"Denys Mishunov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d85e45af29611ac2c1395e3c3d6ec5d6?s=80\u0026d=identicon","web_url":"https://gitlab.com/dmishunov"},"type":"ISSUE","assignee":{"id":3199302,"username":"dmishunov","name":"Denys Mishunov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d85e45af29611ac2c1395e3c3d6ec5d6?s=80\u0026d=identicon","web_url":"https://gitlab.com/dmishunov"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375345","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375345","notes":"https://gitlab.com/api/v4/projects/278964/issues/375345/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375345/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375345","relative":"#375345","full":"gitlab-org/gitlab#375345"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8670,"epic":{"id":595009,"iid":8670,"title":"Extend Slack app to support notifications","url":"/groups/gitlab-org/-/epics/8670","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":115750076,"iid":375326,"project_id":278964,"title":"Support TLS for metrics endpoint in agentk","description":"agetnk exposes metrics, pprof, and liveness/readiness probes on a dedicated port. It needs to support TLS for FIPS compliance.\n\ncertificate + key could be provided either as command-line arguments or via configuration file in the repo. Decide on the approach and implement.\n\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2022-09-26T04:16:33.156Z","updated_at":"2022-10-11T20:18:44.021Z","closed_at":"2022-10-05T23:46:30.219Z","closed_by":{"id":4855585,"username":"ash2k","name":"Mikhail Mazurskiy","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a3161684bd29f5016064a6c16ccd3bc7?s=80\u0026d=identicon","web_url":"https://gitlab.com/ash2k"},"labels":["Category:Kubernetes Management","FIPS","FIPS Follow-up","FedRAMP Milestone::RAR Requirement","GitLab Free","devops::configure","direction","feature::addition","group::configure","section::ops","type::feature","workflow::in review"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":4855585,"username":"ash2k","name":"Mikhail Mazurskiy","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a3161684bd29f5016064a6c16ccd3bc7?s=80\u0026d=identicon","web_url":"https://gitlab.com/ash2k"}],"author":{"id":4855585,"username":"ash2k","name":"Mikhail Mazurskiy","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a3161684bd29f5016064a6c16ccd3bc7?s=80\u0026d=identicon","web_url":"https://gitlab.com/ash2k"},"type":"ISSUE","assignee":{"id":4855585,"username":"ash2k","name":"Mikhail Mazurskiy","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a3161684bd29f5016064a6c16ccd3bc7?s=80\u0026d=identicon","web_url":"https://gitlab.com/ash2k"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375326","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375326","notes":"https://gitlab.com/api/v4/projects/278964/issues/375326/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375326/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375326","relative":"#375326","full":"gitlab-org/gitlab#375326"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7933,"epic":{"id":507600,"iid":7933,"title":"KAS FIPS compliance","url":"/groups/gitlab-org/-/epics/7933","group_id":9970,"human_readable_timestamp":"\u003cstrong\u003e150\u003c/strong\u003e days elapsed"},"iteration":null,"health_status":null},{"id":115750070,"iid":375325,"project_id":278964,"title":"Support TLS for kas-\u003ekas communication","description":"kas talks to other kas replicas via a dedicated port. It needs to support TLS for FIPS compliance.\n\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2022-09-26T04:15:58.976Z","updated_at":"2022-10-11T20:18:44.080Z","closed_at":"2022-09-28T09:07:16.416Z","closed_by":{"id":4855585,"username":"ash2k","name":"Mikhail Mazurskiy","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a3161684bd29f5016064a6c16ccd3bc7?s=80\u0026d=identicon","web_url":"https://gitlab.com/ash2k"},"labels":["Category:Kubernetes Management","FIPS","FIPS Follow-up","FedRAMP Milestone::RAR Requirement","GitLab Free","devops::configure","direction","feature::addition","group::configure","section::ops","type::feature","workflow::in dev"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":4855585,"username":"ash2k","name":"Mikhail Mazurskiy","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a3161684bd29f5016064a6c16ccd3bc7?s=80\u0026d=identicon","web_url":"https://gitlab.com/ash2k"}],"author":{"id":4855585,"username":"ash2k","name":"Mikhail Mazurskiy","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a3161684bd29f5016064a6c16ccd3bc7?s=80\u0026d=identicon","web_url":"https://gitlab.com/ash2k"},"type":"ISSUE","assignee":{"id":4855585,"username":"ash2k","name":"Mikhail Mazurskiy","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a3161684bd29f5016064a6c16ccd3bc7?s=80\u0026d=identicon","web_url":"https://gitlab.com/ash2k"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375325","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375325","notes":"https://gitlab.com/api/v4/projects/278964/issues/375325/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375325/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375325","relative":"#375325","full":"gitlab-org/gitlab#375325"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7933,"epic":{"id":507600,"iid":7933,"title":"KAS FIPS compliance","url":"/groups/gitlab-org/-/epics/7933","group_id":9970,"human_readable_timestamp":"\u003cstrong\u003e150\u003c/strong\u003e days elapsed"},"iteration":null,"health_status":null},{"id":115750046,"iid":375324,"project_id":278964,"title":"Build agentk in FIPS mode","description":"agentk needs to be built with host Go SDK to include compliant cryptography modules. This is similar to https://gitlab.com/gitlab-org/gitlab/-/issues/364681.\n\nagentk needs to be built for amd64, ~~arm~~ (ubi8 images that we use for FIPS do not exist for 32 bit architectures, only 64 bit), arm64 architectures. See https://gitlab.com/gitlab-org/gitlab/-/issues/364681#note_1092019464.\n\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n\n## Release notes\n\nFor some GitLab customers, U.S. government regulatory requirements require using FIPS (Federal Information Processing Standards) compliant software. The FIPS 140-2 and FIPS 140-3 publications define the security requirements for cryptographic modules used in computer and telecommunication systems and within cyber systems that protect sensitive information. The [agent for Kubernetes](https://docs.gitlab.com/ee/user/clusters/agent/) is now available on a FIPS-enabled GitLab installation accompanied with FIPS-compliant `agent` images to be installed into the clusters.","state":"closed","created_at":"2022-09-26T04:15:25.052Z","updated_at":"2022-10-14T01:19:45.794Z","closed_at":"2022-10-14T01:18:25.306Z","closed_by":{"id":4855585,"username":"ash2k","name":"Mikhail Mazurskiy","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a3161684bd29f5016064a6c16ccd3bc7?s=80\u0026d=identicon","web_url":"https://gitlab.com/ash2k"},"labels":["Category:Kubernetes Management","FIPS","FIPS Follow-up","FedRAMP Milestone::RAR Requirement","GitLab Free","GitLab Premium","GitLab Ultimate","delivery-direction","devops::configure","direction","feature::addition","group::configure","release post item::in review","section::ops","type::feature","workflow::in dev"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":4855585,"username":"ash2k","name":"Mikhail Mazurskiy","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a3161684bd29f5016064a6c16ccd3bc7?s=80\u0026d=identicon","web_url":"https://gitlab.com/ash2k"}],"author":{"id":4855585,"username":"ash2k","name":"Mikhail Mazurskiy","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a3161684bd29f5016064a6c16ccd3bc7?s=80\u0026d=identicon","web_url":"https://gitlab.com/ash2k"},"type":"ISSUE","assignee":{"id":4855585,"username":"ash2k","name":"Mikhail Mazurskiy","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a3161684bd29f5016064a6c16ccd3bc7?s=80\u0026d=identicon","web_url":"https://gitlab.com/ash2k"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2022-10-17","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375324","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375324","notes":"https://gitlab.com/api/v4/projects/278964/issues/375324/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375324/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375324","relative":"#375324","full":"gitlab-org/gitlab#375324"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7933,"epic":{"id":507600,"iid":7933,"title":"KAS FIPS compliance","url":"/groups/gitlab-org/-/epics/7933","group_id":9970,"human_readable_timestamp":"\u003cstrong\u003e150\u003c/strong\u003e days elapsed"},"iteration":null,"health_status":null},{"id":115694834,"iid":375297,"project_id":278964,"title":"Invalid members migration follow-up","description":"\u003c!-- This template is a great use for issues that are feature::additions or technical tasks for larger issues.--\u003e\n\n### Proposal\n\nThe plan is:\n\n1. Add a temp index on null member namespace id so we can index over it later: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/99212 :white_check_mark: \n1. Delete the migration that used the less performant column: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/99231\n1. Create new migration using the more performant column and index with a later timestamp https://gitlab.com/gitlab-org/gitlab/-/merge_requests/99467\n1. Finalize migration https://gitlab.com/gitlab-org/gitlab/-/merge_requests/99080\n1. Drop the temp index\n\n\n______\n\nSome other notes that aren't necessarily the plan but are helpful: \n\nhttps://gitlab.com/gitlab-com/gl-infra/production/-/issues/7779\n\n\u003e 1. Cancel `db/post_migrate/20220809002011_schedule_destroy_invalid_group_members.rb` and `db/post_migrate/20220901035725_schedule_destroy_invalid_project_members.rb` migrations as these do not seem to be succeeding.\n\nA no-op migration would not help in this case as the migration was already scheduled. I think we need to prepare a migration that either removes the scheduled migrations from DB i.e. `delete_batched_background_migration` or my personal opinion add a new `aborted` status for the migrations so that we keep the migration for historical tracking. However adding a new status is a bit more work and perhaps needs to be coordinated with DB team.\n\n\u003e 1. Add back the removed partial index on `member_namespace_id` with the condition of `member_namespace_id is null`\n\nUndo https://gitlab.com/gitlab-org/gitlab/-/merge_requests/98387 changes\n\n\u003e 1. Write a new migration that cleans records `where member_namespace_id is null` which should be much more performant as we should be having very few invalid records.\n\nReimplement https://gitlab.com/gitlab-org/gitlab/-/merge_requests/95881 and https://gitlab.com/gitlab-org/gitlab/-/merge_requests/80253 using `member_namespace_id` instead of `id`\n\n\u003e 1. Make sure that is successful and add back the finalize cleanup migration.\n\nReimplement https://gitlab.com/gitlab-org/gitlab/-/merge_requests/97781 using `member_namespace_id` instead of `id`\n\n____\n\nhttps://gitlab.com/gitlab-com/gl-infra/production/-/issues/7779#note_1115925200\n\n1. We probably need to restore the old index (https://gitlab.com/gitlab-com/gl-infra/production/-/issues/7779#note_1109024224)\n1. Create a new MR containing the removed migration code (use new migration timestamps).\n1. Run the DB-testing pipeline.\n1. Verify that the query performance is bad. (ping me on the MR)\n1. Fix the DB queries (possible fix is mentioned here: https://gitlab.com/gitlab-com/gl-infra/production/-/issues/7779#note_1109024224)\n1. Merge\n\nNext milestone:\n\n1. Finalize the DB migration.\n1. Drop the index.\n\n\n\u003c!-- Use this section to explain the feature and how it will work. It can be helpful to add technical details, design proposals, and links to related epics or issues. --\u003e\n\n\u003c!-- Consider adding related issues and epics to this issue. You can also reference the Feature Proposal Template (https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal%20-%20detailed.md) for additional details to consider adding to this issue. Additionally, as a data oriented organization, when your feature exits planning breakdown, consider adding the `What does success look like, and how can we measure that?` section.\n--\u003e\n\n\u003c!-- Label reminders\nUse the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n--\u003e","state":"closed","created_at":"2022-09-24T00:02:46.120Z","updated_at":"2022-11-21T12:02:38.845Z","closed_at":"2022-11-07T21:49:09.661Z","closed_by":{"id":5966677,"username":"serenafang","name":"Serena Fang","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5966677/avatar.png","web_url":"https://gitlab.com/serenafang"},"labels":["Deliverable","GitLab Free","GitLab Premium","GitLab Ultimate","automation:ml","backend","devops::manage","documentation","feature::addition","group::organization","milestone::p1","namespace","quad-planning::complete-no-action","section::dev","type::feature","workflow::production"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":5966677,"username":"serenafang","name":"Serena Fang","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5966677/avatar.png","web_url":"https://gitlab.com/serenafang"}],"author":{"id":5966677,"username":"serenafang","name":"Serena Fang","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5966677/avatar.png","web_url":"https://gitlab.com/serenafang"},"type":"ISSUE","assignee":{"id":5966677,"username":"serenafang","name":"Serena Fang","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5966677/avatar.png","web_url":"https://gitlab.com/serenafang"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375297","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":8,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375297","notes":"https://gitlab.com/api/v4/projects/278964/issues/375297/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375297/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375297","relative":"#375297","full":"gitlab-org/gitlab#375297"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6768,"epic":{"id":350896,"iid":6768,"title":"[Phase2] Database updates to replace core usages of Project with ProjectNamespace","url":"/groups/gitlab-org/-/epics/6768","group_id":9970,"human_readable_end_date":"Nov 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":115686611,"iid":375292,"project_id":278964,"title":"Geo: The primary site always has the \"Current\" badge on Admin \u003e Geo \u003e Sites","description":"## Problem\n\nFrom https://gitlab.slack.com/archives/C03D96JF4LD/p1663864279632779?thread_ts=1663863245.142319\u0026cid=C03D96JF4LD:\n\n\u003e It’s also a bit confusing because I am in the admin -\u003e Geo area of my secondary node, and it shows the Current badge next to my primary node.\n\n\u003e Ah good catch. Current will be improperly reported now in the context of proxying. It's the same class of problem as https://gitlab.com/gitlab-org/gitlab/-/issues/370494.\n\n## Proposal\n\nRemove \"Current\" badge for now. Weight 0-1.\n\nNote that we could make \"Current\" badge be more accurate in the context of Unified URL. But I wouldn't, for the same reasons as https://gitlab.com/gitlab-org/gitlab/-/issues/370494#note_1101111184, also the meaning of \"Current site\" may be confusing with Unified URL.","state":"closed","created_at":"2022-09-23T21:19:22.491Z","updated_at":"2022-11-07T06:47:36.635Z","closed_at":"2022-10-11T15:08:50.216Z","closed_by":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"labels":["SUS::Impacting","UX","devops::systems","frontend","group::geo","maintenance::usability","section::enablement","severity::4","type::maintenance","workflow::in review"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"}],"author":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"type":"ISSUE","assignee":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375292","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375292","notes":"https://gitlab.com/api/v4/projects/278964/issues/375292/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375292/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375292","relative":"#375292","full":"gitlab-org/gitlab#375292"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":115683052,"iid":375284,"project_id":278964,"title":"Implement Metrics for Security Policies Group","description":"\u003c!-- This template is a great use for issues that are feature::additions or technical tasks for larger issues.--\u003e\n\n### Proposal\n\nThe following metrics will be tracked and will be made available in SiSense:\n\n**General Metrics**\n\n1. The total number of projects with an assigned security policy project.\n1. The total number of groups with an assigned security policy project.\n1. The total number of projects with at least one scan result policy.\n1. The total number of open merge requests with at least one applicable scan result policy.\n1. The total number of users who have created merge requests in Projects that have an assigned security policy project.\n\n\u003c!-- Label reminders\nUse the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n--\u003e","state":"closed","created_at":"2022-09-23T19:09:37.437Z","updated_at":"2022-12-19T03:24:33.193Z","closed_at":"2022-12-14T16:45:08.211Z","closed_by":{"id":5535431,"username":"mparuszewski","name":"Alan (Maciej) Paruszewski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535431/avatar.png","web_url":"https://gitlab.com/mparuszewski"},"labels":["Category:Security Policy Management","GitLab Ultimate","backend","devops::govern","feature::addition","group::security policies","missed:15.5","product metrics","section::sec","type::feature","workflow::verification"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":5535431,"username":"mparuszewski","name":"Alan (Maciej) Paruszewski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535431/avatar.png","web_url":"https://gitlab.com/mparuszewski"}],"author":{"id":5292351,"username":"sam.white","name":"Sam White","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d467fb024d1858d279e6a36e028436ac?s=80\u0026d=identicon","web_url":"https://gitlab.com/sam.white"},"type":"ISSUE","assignee":{"id":5535431,"username":"mparuszewski","name":"Alan (Maciej) Paruszewski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535431/avatar.png","web_url":"https://gitlab.com/mparuszewski"},"user_notes_count":8,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375284","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375284","notes":"https://gitlab.com/api/v4/projects/278964/issues/375284/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375284/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375284","relative":"#375284","full":"gitlab-org/gitlab#375284"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8842,"epic":{"id":608382,"iid":8842,"title":"Security Policies Usage Metrics","url":"/groups/gitlab-org/-/epics/8842","group_id":9970,"human_readable_end_date":"Nov 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":115675793,"iid":375270,"project_id":278964,"title":"Follow-up from \"Draft: Allow cors requests for jira_connect/subscriptions\"","description":"The following discussion from !98705 should be addressed:\n\n- [ ] @justin_ho started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/98705#note_1111615857):  (+1 comment)\n\n    \u003e We also need to update some of the OAuth endpoints with extra headers as per this commit: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/89378/diffs?commit_id=85e691abf97554d983d610a1dba5ee726fc23135\n\nThis issue should also fix https://gitlab.com/gitlab-org/gitlab/-/issues/364680.","state":"closed","created_at":"2022-09-23T15:38:39.415Z","updated_at":"2022-11-22T18:26:33.415Z","closed_at":"2022-11-04T17:23:29.264Z","closed_by":{"id":11722161,"username":"bmarjanovic","name":"Bojan Marjanovic","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11722161/avatar.png","web_url":"https://gitlab.com/bmarjanovic"},"labels":["Category:Integrations","Deliverable","Integration::Jira","Jira::ConnectApp","backend","devops::manage","feature flag","feature::addition","group::integrations","missed-deliverable","missed:15.5","section::dev","type::feature","workflow::post-deploy-db-production"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":16943,"username":"Andysoiron","name":"Andy Soiron","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/16943/avatar.png","web_url":"https://gitlab.com/Andysoiron"},{"id":11722161,"username":"bmarjanovic","name":"Bojan Marjanovic","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11722161/avatar.png","web_url":"https://gitlab.com/bmarjanovic"}],"author":{"id":16943,"username":"Andysoiron","name":"Andy Soiron","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/16943/avatar.png","web_url":"https://gitlab.com/Andysoiron"},"type":"ISSUE","assignee":{"id":16943,"username":"Andysoiron","name":"Andy Soiron","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/16943/avatar.png","web_url":"https://gitlab.com/Andysoiron"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375270","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":0,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375270","notes":"https://gitlab.com/api/v4/projects/278964/issues/375270/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375270/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375270","relative":"#375270","full":"gitlab-org/gitlab#375270"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5650,"epic":{"id":230344,"iid":5650,"title":"Self-managed support extended to GitLab for Jira app","url":"/groups/gitlab-org/-/epics/5650","group_id":9970,"human_readable_end_date":"May 17, 2023","human_readable_timestamp":"\u003cstrong\u003e4\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":115664446,"iid":375261,"project_id":278964,"title":"Inconsistent container registry storage statistics","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"type::bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=type::bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Problem\n\nThere have been a couple of reports about unexpected container registry storage usage statistics, namely:\n\n1. https://gitlab.com/gitlab-com/support/internal-requests/-/issues/16024 (internal): The size of container repositories is not correctly displayed in UI. Even after cleaning up the repositories, the UI is not updating the registry usage.\n\n1. https://gitlab.com/groups/gitlab-org/-/epics/5523#note_1092134573: \"Some root namespaces have *more* storage than their aggregate projects. We are also seeing a handful of namespaces with some namespace level storage and *no* project storage, as well as some with the opposite\".\n\n1. https://gitlab.com/gitlab-com/support/internal-requests/-/issues/16450 (Internal): The size of container repositories is not correctly displayed in UI, even after cleaning up the repositories, and triggering a statistics recalculation.\n\nThis requires an investigation.","state":"closed","created_at":"2022-09-23T12:28:31.867Z","updated_at":"2022-10-28T11:54:49.599Z","closed_at":"2022-10-27T10:04:34.618Z","closed_by":{"id":5054840,"username":"jdrpereira","name":"João Pereira","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5054840/avatar.png","web_url":"https://gitlab.com/jdrpereira"},"labels":["Category:Container Registry","customer","devops::package","group::container registry","needs investigation","section::ops","storage-management","type::bug","workflow::in dev"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":5054840,"username":"jdrpereira","name":"João Pereira","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5054840/avatar.png","web_url":"https://gitlab.com/jdrpereira"}],"author":{"id":581582,"username":"arihantar","name":"Arihant","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cd6c70e8b8153eb2cbaec373628ef394?s=80\u0026d=identicon","web_url":"https://gitlab.com/arihantar"},"type":"ISSUE","assignee":{"id":5054840,"username":"jdrpereira","name":"João Pereira","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5054840/avatar.png","web_url":"https://gitlab.com/jdrpereira"},"user_notes_count":53,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375261","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375261","notes":"https://gitlab.com/api/v4/projects/278964/issues/375261/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375261/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375261","relative":"#375261","full":"gitlab-org/gitlab#375261"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7225,"epic":{"id":401173,"iid":7225,"title":"Storage and limits management for the Container Registry","url":"/groups/gitlab-org/-/epics/7225","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":115663301,"iid":375258,"project_id":278964,"title":"SSH key management enhancements to support SSH signed commits","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\u003c!--\nA brief explanation of the why, not the what or how. Assume the reader doesn't know the\nbackground and won't have time to dig-up information from comment threads.\n--\u003e\n\nhttps://gitlab.com/gitlab-org/gitlab/-/issues/343879 is the first iteration of SSH commit signing,\nwhich allows us to sign commits using SSH keys and verify them using keys already present in GitLab.\nHowever, before the feature can be made generally available, there are enhancements needed to how\nSSH keys are managed in GitLab.\n\n1. Allow the user to designate the purpose of an SSH key (either for authentication or signing)\n\n   ![Screen_Shot_2022-09-23_at_7.05.34_AM](/uploads/342ffc4b5cdbe8ddfe849c8ab2071803/Screen_Shot_2022-09-23_at_7.05.34_AM.png)\n\n2. Signing keys need to be [able to be revoked](https://docs.gitlab.com/ee/user/project/repository/gpg_signed_commits/#revoke-a-gpg-key).\n\n## Relevant links\n\u003c!--\nInformation that the developer might need to refer to when implementing the issue.\n\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e)\n  - [Design 1](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n  - [Design 2](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n- [Similar implementation](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/\u003cid\u003e)\n--\u003e\n\n- https://gitlab.com/gitlab-org/gitlab/-/issues/343879\n- https://gitlab.com/gitlab-org/gitlab/-/merge_requests/97248#note_1093246965\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [ ] Documentation:\n- [ ] Feature flag:\n- [ ] Performance:\n- [ ] Testing:\n\n\n## Implementation plan\n\u003c!--\nSteps and the parts of the code that will need to get updated.\nThe plan can also call-out responsibilities for other team members or teams and\ncan be split into smaller MRs to simplify the code review process.\n\ne.g.:\n\n- MR 1: Part 1\n- [ ] ~frontend Step 1\n- [ ] ~frontend Step 2\n- MR 2: Part 2\n- [ ] ~backend Step 1\n- [ ] ~backend Step 2\n- MR 3: Part 3\n- [ ] ~frontend Step 1\n- [ ] ~frontend Step 2\n\n--\u003e\n\n\n\u003c!--\nWorkflow and other relevant labels\n\n# ~\"group::\" ~\"Category:\" ~\"GitLab Ultimate\"\nOther settings you might want to include when creating the issue.\n\n# /assign @\n# /epic \u0026\n--\u003e\n\n## Verification steps\n\u003c!--\nAdd verification steps to help GitLab team members test the implementation. This is particularly useful\nduring the MR review and the ~\"workflow::verification\" step. You may not know exactly what the\nverification steps should be during issue refinement, so you can always come back later to add\nthem.\n\n1. Check-out the corresponding branch\n1. ...\n1. Profit!\n--\u003e","state":"closed","created_at":"2022-09-23T12:06:36.802Z","updated_at":"2022-12-09T20:11:24.552Z","closed_at":"2022-11-30T16:25:59.031Z","closed_by":{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"},"labels":["Technical Writing","backend","customer","devops::manage","documentation","feature::addition","frontend","group::authentication and authorization","section::dev","type::feature","workflow::in review"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"}],"author":{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"},"type":"ISSUE","assignee":{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"},"user_notes_count":24,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375258","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":10,"completed_count":0},"weight":3,"blocking_issues_count":1,"has_tasks":true,"task_status":"0 of 10 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375258","notes":"https://gitlab.com/api/v4/projects/278964/issues/375258/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375258/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375258","relative":"#375258","full":"gitlab-org/gitlab#375258"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":115662748,"iid":375257,"project_id":278964,"title":"Link container registry size with the storage size at the project statistics level","description":"## :fire: Problem\n\nWe now show the `container_registry_size` on project level statistics (and root namespace statistics).\n\nThe problem is that we do have a `storage_size` metric that doesn't take the `container_registry_size` into account.\n\nThis leads to inconsistent ~UX.\n\nExample: https://gitlab.com/10io/many-docker-tags/-/usage_quotas\n\nThat project contains a tag to `ubuntu:latest` that weights around `30MB`. Still the `Usage breakdown` shows `0`.\n\n## :fire_engine: Solution\n\n* When `container_registry_size` is updated, updates `storage_size` too.\n* This [function](https://gitlab.com/gitlab-org/gitlab/-/blob/1f54b5f5f4c6ca008db38464f1b251a1fcbea0bf/app/models/project_statistics.rb#L99) will need an update too.\n\n## :crystal_ball: Follow up\n\n* We probably need to do the same thing at the root namespace level.","state":"closed","created_at":"2022-09-23T11:56:20.766Z","updated_at":"2022-10-12T21:03:41.113Z","closed_at":"2022-10-12T21:03:41.093Z","closed_by":{"id":3799560,"username":"trizzi","name":"Tim Rizzi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3799560/avatar.png","web_url":"https://gitlab.com/trizzi"},"labels":["Category:Container Registry","[deprecated] Accepting merge requests","backend","devops::package","group::package registry","section::ops","type::bug"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[],"author":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"type":"ISSUE","assignee":null,"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375257","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375257","notes":"https://gitlab.com/api/v4/projects/278964/issues/375257/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375257/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375257","relative":"#375257","full":"gitlab-org/gitlab#375257"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7225,"epic":{"id":401173,"iid":7225,"title":"Storage and limits management for the Container Registry","url":"/groups/gitlab-org/-/epics/7225","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":115644072,"iid":375235,"project_id":278964,"title":"Improve UX of promoting deployments on the Environment index page","description":"## Problems:\n\n### Users lost ability to promote a deployment to another environment\n\nIn [the previous iteration](https://gitlab.com/gitlab-org/gitlab/-/issues/356420), we changed the **play button** behaviour in the Environment index page as the following:\n\n- Before: Showing **a job that promotes a deployment to the other environment**\n- After: Showing **a job that deploys to own environment**\n\n![image](/uploads/a48088d2731c13627147a93ea08206c5/image.png)\n\nHowever, this effectively means that users lost a way to promote a deployment to the other environment. Hence, they reported that it's UX ~regression:\n\n- https://gitlab.com/gitlab-org/gitlab/-/issues/370121+\n- https://gitlab.com/gitlab-org/gitlab/-/issues/365976+\n- https://gitlab.com/gitlab-org/gitlab/-/issues/329202+\n\n#### Proposal:\n\n* Revert to the previous promote behaviour to give users the ability to promote a deployment to another environment.\n\n### The Play Button doesn't visually connect with the word Promote\n\n- Previously, we used a **Play icon** to show the action of promoting a deployment to another environment. When we revert to the previous behaviour, we should fix the icon to a visual that better connects with the action of promoting horizontally.\n\n#### Proposal:\n\n* Replace the **Play** icon to something that is more visually connected to the intended action of promoting a deployment to another environment. \n\n### Properly address the UI/UX from the shortcut aspect \n\n- With reverting to the previous behaviour, we will need to adjust the UX for users who want to promote a deployment to it's own environment. \n\n#### Proposal:\n\n- Re-think the experience for how users will take vertical deployment actions. \n\n### UX Proposal\n\n- TBD\n\n### TODO\n\n- [ ] Update the outdated documentation https://gitlab.com/gitlab-org/gitlab/-/blob/master/doc/ci/environments/index.md?plain=1#L168-169","state":"closed","created_at":"2022-09-23T07:45:50.502Z","updated_at":"2022-10-31T14:58:19.350Z","closed_at":"2022-10-24T21:17:26.500Z","closed_by":{"id":8158913,"username":"emilybauman","name":"Emily Bauman","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8158913/avatar.png","web_url":"https://gitlab.com/emilybauman"},"labels":["Category:Environment Management","Category:Release Orchestration","Next Up","UX","devops::release","feature::enhancement","frontend","group::release","section::ops","severity::2","type::feature","workflow::ready for design"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":8158913,"username":"emilybauman","name":"Emily Bauman","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8158913/avatar.png","web_url":"https://gitlab.com/emilybauman"}],"author":{"id":8158913,"username":"emilybauman","name":"Emily Bauman","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8158913/avatar.png","web_url":"https://gitlab.com/emilybauman"},"type":"ISSUE","assignee":{"id":8158913,"username":"emilybauman","name":"Emily Bauman","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8158913/avatar.png","web_url":"https://gitlab.com/emilybauman"},"user_notes_count":10,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375235","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":1,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375235","notes":"https://gitlab.com/api/v4/projects/278964/issues/375235/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375235/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375235","relative":"#375235","full":"gitlab-org/gitlab#375235"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":115640683,"iid":375225,"project_id":278964,"title":"Delete branch button is shown for users with Reporter access level, but it is not functional","description":"### Summary\n\nDelete branch button is shown for users with Reporter access level, but it does not do anything when clicking it.\n\n### Steps to reproduce\n\n- Create a project and add a member with Reporter access level there\n- Create a new branch in this project\n- Sign in as Reporter, go to **Repository \u003e Branches**\n\n### Example Project\n\nhttps://gitlab.com/atanayno/reporter-test-atanayno/\n\n### What is the current *bug* behavior?\n\n`Delete branch` button is shown there, but it is not functional - nothing happens if a Reporter clicks it.\n\n### What is the expected *correct* behavior?\n\nAccording to the table [Project members permissions](https://docs.gitlab.com/ee/user/permissions.html#project-members-permissions), reporter should not be able to remove branches. So the button should not be visible to them ~~or should be shows as Disabled~~.\n\n### Relevant logs and/or screenshots\n\nNothing is written to the browser console when clicking `Delete branch`.\n\n### Output of checks\n\nThis bug happens on GitLab.com and on a self-managed instance of GitLab 15.3.2.\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e","state":"closed","created_at":"2022-09-23T06:51:58.898Z","updated_at":"2022-11-13T14:05:15.570Z","closed_at":"2022-11-07T19:08:46.719Z","closed_by":{"id":421631,"username":"vyaklushin","name":"Vasilii Iakliushin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/421631/avatar.png","web_url":"https://gitlab.com/vyaklushin"},"labels":["Category:Source Code Management","SUS::Impacting","bug::ux","customer","devops::create","group::source code","priority::4","section::dev","severity::4","type::bug","workflow::verification"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":421631,"username":"vyaklushin","name":"Vasilii Iakliushin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/421631/avatar.png","web_url":"https://gitlab.com/vyaklushin"}],"author":{"id":1990167,"username":"atanayno","name":"Alexandr Tanayno","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1990167/avatar.png","web_url":"https://gitlab.com/atanayno"},"type":"ISSUE","assignee":{"id":421631,"username":"vyaklushin","name":"Vasilii Iakliushin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/421631/avatar.png","web_url":"https://gitlab.com/vyaklushin"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375225","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375225","notes":"https://gitlab.com/api/v4/projects/278964/issues/375225/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375225/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375225","relative":"#375225","full":"gitlab-org/gitlab#375225"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":115624359,"iid":375189,"project_id":278964,"title":"Partioning tooling: Add helper to ensure table is owned by current migration user","description":"During https://gitlab.com/gitlab-com/gl-infra/production/-/issues/7769, we found there are some circumstances where we absolutely need to be running operations as the same users as the table owner or the migration will fail. We should add these checks so we can bail out safely in those circumstances and let the user know what corrective action they need to take.\n\n## Deliverable\n- [x] A helper is added to ensure that the table is owned by the migration user\n- [x] Determine if we need to call this helper from the zero partition helper and add it if needed","state":"closed","created_at":"2022-09-22T21:08:17.431Z","updated_at":"2022-10-30T16:03:34.707Z","closed_at":"2022-10-28T11:53:30.065Z","closed_by":{"id":480097,"username":"alexives","name":"Alex Ives","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480097/avatar.png","web_url":"https://gitlab.com/alexives"},"labels":["Category:Database","corrective action","devops::data_stores","group::database","missed:15.5","section::enablement","type::feature","workflow::in review"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":9047949,"username":"stomlinson","name":"Simon Tomlinson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9047949/avatar.png","web_url":"https://gitlab.com/stomlinson"}],"author":{"id":480097,"username":"alexives","name":"Alex Ives","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480097/avatar.png","web_url":"https://gitlab.com/alexives"},"type":"ISSUE","assignee":{"id":9047949,"username":"stomlinson","name":"Simon Tomlinson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9047949/avatar.png","web_url":"https://gitlab.com/stomlinson"},"user_notes_count":3,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375189","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":2},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375189","notes":"https://gitlab.com/api/v4/projects/278964/issues/375189/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375189/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375189","relative":"#375189","full":"gitlab-org/gitlab#375189"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8476,"epic":{"id":575271,"iid":8476,"title":"Add tools to support ci partitioning","url":"/groups/gitlab-org/-/epics/8476","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":115617644,"iid":375170,"project_id":278964,"title":"Allow feature flags to be disabled on an actor-by-actor basis","description":"Issue corresponding with https://gitlab.com/gitlab-org/gitlab/-/merge_requests/98575+.\n\n### Description\n\nPrior to this change, if a flag has been globally enabled, then disabling it for an actor would not do anything, making it impossible to have flag opt-outs.\n\nThis change maintains a synthetic disabled flag alongside each active flag, and checks them to see if the actor is marked as in the disabled list first. If so, then we return `disabled`, even if the feature is globally enabled, allowing individual opt-outs.","state":"closed","created_at":"2022-09-22T17:55:17.082Z","updated_at":"2022-12-21T12:10:27.079Z","closed_at":"2022-12-07T14:35:49.755Z","closed_by":{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"},"labels":["Category:Integrations","Deliverable","backend","devops::manage","group::integrations","missed-deliverable","missed:15.5","missed:15.6","section::dev","type::maintenance","workflow::in review"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"}],"author":{"id":10222550,"username":"g.hickman","name":"Grant Hickman","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10222550/avatar.png","web_url":"https://gitlab.com/g.hickman"},"type":"ISSUE","assignee":{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375170","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375170","notes":"https://gitlab.com/api/v4/projects/278964/issues/375170/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375170/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375170","relative":"#375170","full":"gitlab-org/gitlab#375170"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8083,"epic":{"id":524600,"iid":8083,"title":"Improve the reliability of webhooks: Auto-disable Failing Webhooks","url":"/groups/gitlab-org/-/epics/8083","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":115612847,"iid":375161,"project_id":278964,"title":"Check that dropdown in `app/views/admin/users/_users.html.haml` rendered with `gl_redirect_listbox_tag` works fine with `GlListbox`","description":"Check that `gl_redirect_listbox_tag` in [`app/views/admin/users/_users.html.haml`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/views/admin/users/_users.html.haml)  works fine with `GlListbox`.\n:eyes: \n\nPlease, see the [parent epic](https://gitlab.com/groups/gitlab-org/-/epics/8818) for guidance.\n\nThank you! :handshake:","state":"closed","created_at":"2022-09-22T16:54:45.199Z","updated_at":"2022-11-22T18:26:39.034Z","closed_at":"2022-09-23T11:59:58.955Z","closed_by":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"labels":["OKR","Pajamas Migration Day","SUS::Impacting","component:dropdown","devops::manage","dropdown::listbox","frontend","group::foundations","pajamas::integrate","section::dev","severity::4","type::maintenance"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"}],"author":{"id":4339707,"username":"ohoral","name":"Olena Horal-Koretska","state":"active","avatar_url":"https://secure.gravatar.com/avatar/42796a7332b4608eb9785986719e7215?s=80\u0026d=identicon","web_url":"https://gitlab.com/ohoral"},"type":"ISSUE","assignee":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375161","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375161","notes":"https://gitlab.com/api/v4/projects/278964/issues/375161/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375161/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375161","relative":"#375161","full":"gitlab-org/gitlab#375161"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8826,"epic":{"id":607231,"iid":8826,"title":"Dropdowns \u003e Listbox \u003e gl_redirect_listbox_tag","url":"/groups/gitlab-org/-/epics/8826","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":115612846,"iid":375160,"project_id":278964,"title":"Check that dropdown in `app/views/shared/labels/_sort_dropdown.html.haml` rendered with `gl_redirect_listbox_tag` works fine with `GlListbox`","description":"Check that `gl_redirect_listbox_tag` in [`app/views/shared/labels/_sort_dropdown.html.haml`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/views/shared/labels/_sort_dropdown.html.haml)  works fine with `GlListbox`.\n:eyes: \n\nPlease, see the [parent epic](https://gitlab.com/groups/gitlab-org/-/epics/8818) for guidance.\n\nThank you! :handshake:","state":"closed","created_at":"2022-09-22T16:54:44.636Z","updated_at":"2022-11-22T18:26:39.709Z","closed_at":"2022-09-23T12:05:33.273Z","closed_by":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"labels":["OKR","Pajamas Migration Day","SUS::Impacting","component:dropdown","devops::manage","dropdown::listbox","frontend","group::foundations","pajamas::integrate","section::dev","severity::4","type::maintenance"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"}],"author":{"id":4339707,"username":"ohoral","name":"Olena Horal-Koretska","state":"active","avatar_url":"https://secure.gravatar.com/avatar/42796a7332b4608eb9785986719e7215?s=80\u0026d=identicon","web_url":"https://gitlab.com/ohoral"},"type":"ISSUE","assignee":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375160","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375160","notes":"https://gitlab.com/api/v4/projects/278964/issues/375160/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375160/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375160","relative":"#375160","full":"gitlab-org/gitlab#375160"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8826,"epic":{"id":607231,"iid":8826,"title":"Dropdowns \u003e Listbox \u003e gl_redirect_listbox_tag","url":"/groups/gitlab-org/-/epics/8826","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":115612844,"iid":375159,"project_id":278964,"title":"Check that dropdown in `app/views/projects/forks/index.html.haml` rendered with `gl_redirect_listbox_tag` works fine with `GlListbox`","description":"Check that `gl_redirect_listbox_tag` in [`app/views/projects/forks/index.html.haml`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/views/projects/forks/index.html.haml)  works fine with `GlListbox`.\n:eyes: \n\nPlease, see the [parent epic](https://gitlab.com/groups/gitlab-org/-/epics/8818) for guidance.\n\nThank you! :handshake:","state":"closed","created_at":"2022-09-22T16:54:44.628Z","updated_at":"2022-11-22T18:26:40.358Z","closed_at":"2022-09-23T12:07:43.184Z","closed_by":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"labels":["OKR","Pajamas Migration Day","SUS::Impacting","component:dropdown","devops::manage","dropdown::listbox","frontend","group::foundations","pajamas::integrate","section::dev","severity::4","type::maintenance"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"}],"author":{"id":4339707,"username":"ohoral","name":"Olena Horal-Koretska","state":"active","avatar_url":"https://secure.gravatar.com/avatar/42796a7332b4608eb9785986719e7215?s=80\u0026d=identicon","web_url":"https://gitlab.com/ohoral"},"type":"ISSUE","assignee":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375159","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375159","notes":"https://gitlab.com/api/v4/projects/278964/issues/375159/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375159/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375159","relative":"#375159","full":"gitlab-org/gitlab#375159"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8826,"epic":{"id":607231,"iid":8826,"title":"Dropdowns \u003e Listbox \u003e gl_redirect_listbox_tag","url":"/groups/gitlab-org/-/epics/8826","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":115612843,"iid":375158,"project_id":278964,"title":"Check that dropdown in `app/views/shared/_milestones_sort_dropdown.html.haml` rendered with `gl_redirect_listbox_tag` works fine with `GlListbox`","description":"Check that `gl_redirect_listbox_tag` in [`app/views/shared/_milestones_sort_dropdown.html.haml`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/views/shared/_milestones_sort_dropdown.html.haml)  works fine with `GlListbox`.\n:eyes: \n\nPlease, see the [parent epic](https://gitlab.com/groups/gitlab-org/-/epics/8818) for guidance.\n\nThank you! :handshake:","state":"closed","created_at":"2022-09-22T16:54:44.583Z","updated_at":"2022-11-22T18:26:41.580Z","closed_at":"2022-09-23T12:10:24.950Z","closed_by":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"labels":["OKR","Pajamas Migration Day","SUS::Impacting","component:dropdown","devops::manage","dropdown::listbox","frontend","group::foundations","pajamas::integrate","section::dev","severity::4","type::maintenance"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"}],"author":{"id":4339707,"username":"ohoral","name":"Olena Horal-Koretska","state":"active","avatar_url":"https://secure.gravatar.com/avatar/42796a7332b4608eb9785986719e7215?s=80\u0026d=identicon","web_url":"https://gitlab.com/ohoral"},"type":"ISSUE","assignee":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375158","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375158","notes":"https://gitlab.com/api/v4/projects/278964/issues/375158/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375158/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375158","relative":"#375158","full":"gitlab-org/gitlab#375158"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8826,"epic":{"id":607231,"iid":8826,"title":"Dropdowns \u003e Listbox \u003e gl_redirect_listbox_tag","url":"/groups/gitlab-org/-/epics/8826","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":115612842,"iid":375157,"project_id":278964,"title":"Check that dropdown in `app/views/projects/starrers/index.html.haml` rendered with `gl_redirect_listbox_tag` works fine with `GlListbox`","description":"Check that `gl_redirect_listbox_tag` in [`app/views/projects/starrers/index.html.haml`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/views/projects/starrers/index.html.haml)  works fine with `GlListbox`.\n:eyes: \n\nPlease, see the [parent epic](https://gitlab.com/groups/gitlab-org/-/epics/8818) for guidance.\n\nThank you! :handshake:","state":"closed","created_at":"2022-09-22T16:54:44.574Z","updated_at":"2022-11-22T18:26:42.297Z","closed_at":"2022-09-23T12:31:23.909Z","closed_by":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"labels":["OKR","Pajamas Migration Day","SUS::Impacting","component:dropdown","devops::manage","dropdown::listbox","frontend","group::foundations","pajamas::integrate","section::dev","severity::4","type::maintenance"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"}],"author":{"id":4339707,"username":"ohoral","name":"Olena Horal-Koretska","state":"active","avatar_url":"https://secure.gravatar.com/avatar/42796a7332b4608eb9785986719e7215?s=80\u0026d=identicon","web_url":"https://gitlab.com/ohoral"},"type":"ISSUE","assignee":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375157","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375157","notes":"https://gitlab.com/api/v4/projects/278964/issues/375157/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375157/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375157","relative":"#375157","full":"gitlab-org/gitlab#375157"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8826,"epic":{"id":607231,"iid":8826,"title":"Dropdowns \u003e Listbox \u003e gl_redirect_listbox_tag","url":"/groups/gitlab-org/-/epics/8826","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":115612841,"iid":375156,"project_id":278964,"title":"Check that dropdown in `app/views/shared/wikis/pages.html.haml` rendered with `gl_redirect_listbox_tag` works fine with `GlListbox`","description":"Check that `gl_redirect_listbox_tag` in [`app/views/shared/wikis/pages.html.haml`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/views/shared/wikis/pages.html.haml)  works fine with `GlListbox`.\n:eyes: \n\nPlease, see the [parent epic](https://gitlab.com/groups/gitlab-org/-/epics/8818) for guidance.\n\nThank you! :handshake:","state":"closed","created_at":"2022-09-22T16:54:44.549Z","updated_at":"2022-11-22T18:26:43.018Z","closed_at":"2022-09-23T12:49:11.501Z","closed_by":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"labels":["OKR","Pajamas Migration Day","SUS::Impacting","component:dropdown","devops::manage","dropdown::listbox","frontend","group::foundations","pajamas::integrate","section::dev","severity::4","type::maintenance"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"}],"author":{"id":4339707,"username":"ohoral","name":"Olena Horal-Koretska","state":"active","avatar_url":"https://secure.gravatar.com/avatar/42796a7332b4608eb9785986719e7215?s=80\u0026d=identicon","web_url":"https://gitlab.com/ohoral"},"type":"ISSUE","assignee":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375156","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375156","notes":"https://gitlab.com/api/v4/projects/278964/issues/375156/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375156/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375156","relative":"#375156","full":"gitlab-org/gitlab#375156"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8826,"epic":{"id":607231,"iid":8826,"title":"Dropdowns \u003e Listbox \u003e gl_redirect_listbox_tag","url":"/groups/gitlab-org/-/epics/8826","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":115612839,"iid":375155,"project_id":278964,"title":"Check that dropdown in `app/views/shared/groups/_dropdown.html.haml` rendered with `gl_redirect_listbox_tag` works fine with `GlListbox`","description":"Check that `gl_redirect_listbox_tag` in [`app/views/shared/groups/_dropdown.html.haml`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/views/shared/groups/_dropdown.html.haml)  works fine with `GlListbox`.\n:eyes: \n\nPlease, see the [parent epic](https://gitlab.com/groups/gitlab-org/-/epics/8818) for guidance.\n\nThank you! :handshake:","state":"closed","created_at":"2022-09-22T16:54:44.414Z","updated_at":"2022-11-22T18:26:43.832Z","closed_at":"2022-09-23T12:23:36.821Z","closed_by":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"labels":["OKR","Pajamas Migration Day","SUS::Impacting","component:dropdown","devops::manage","dropdown::listbox","frontend","group::foundations","pajamas::integrate","section::dev","severity::4","type::maintenance"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"}],"author":{"id":4339707,"username":"ohoral","name":"Olena Horal-Koretska","state":"active","avatar_url":"https://secure.gravatar.com/avatar/42796a7332b4608eb9785986719e7215?s=80\u0026d=identicon","web_url":"https://gitlab.com/ohoral"},"type":"ISSUE","assignee":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375155","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375155","notes":"https://gitlab.com/api/v4/projects/278964/issues/375155/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375155/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375155","relative":"#375155","full":"gitlab-org/gitlab#375155"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8826,"epic":{"id":607231,"iid":8826,"title":"Dropdowns \u003e Listbox \u003e gl_redirect_listbox_tag","url":"/groups/gitlab-org/-/epics/8826","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":115612776,"iid":375152,"project_id":278964,"title":"Check that dropdown in `app/views/shared/issuable/_sort_dropdown.html.haml` rendered with `gl_redirect_listbox_tag` works fine with `GlListbox`","description":"Check that `gl_redirect_listbox_tag` in [`app/views/shared/issuable/_sort_dropdown.html.haml`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/views/shared/issuable/_sort_dropdown.html.haml)  works fine with `GlListbox`.\n:eyes: \n\nPlease, see the [parent epic](https://gitlab.com/groups/gitlab-org/-/epics/8818) for guidance.\n\nThank you! :handshake:","state":"closed","created_at":"2022-09-22T16:54:04.488Z","updated_at":"2022-11-22T18:26:45.204Z","closed_at":"2022-09-23T12:20:02.673Z","closed_by":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"labels":["OKR","Pajamas Migration Day","SUS::Impacting","component:dropdown","devops::manage","dropdown::listbox","frontend","group::foundations","pajamas::integrate","section::dev","severity::4","type::maintenance"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"}],"author":{"id":4339707,"username":"ohoral","name":"Olena Horal-Koretska","state":"active","avatar_url":"https://secure.gravatar.com/avatar/42796a7332b4608eb9785986719e7215?s=80\u0026d=identicon","web_url":"https://gitlab.com/ohoral"},"type":"ISSUE","assignee":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375152","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375152","notes":"https://gitlab.com/api/v4/projects/278964/issues/375152/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375152/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375152","relative":"#375152","full":"gitlab-org/gitlab#375152"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8826,"epic":{"id":607231,"iid":8826,"title":"Dropdowns \u003e Listbox \u003e gl_redirect_listbox_tag","url":"/groups/gitlab-org/-/epics/8826","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":115611967,"iid":375151,"project_id":278964,"title":"Geo: Replicate Dependency Proxy Blobs","description":"## Replicate Dependency Proxy Blobs\n\nThis issue is for implementing Geo replication and verification of Dependency Proxy Blobs.\n\nFor more background, see [Geo self-service framework](https://gitlab.com/gitlab-org/gitlab/-/blob/master/doc/development/geo/framework.md).\n\nIn order to implement and test this feature, you need to first [set up Geo locally](https://gitlab.com/gitlab-org/gitlab-development-kit/blob/main/doc/howto/geo.md).\n\nThere are three main sections below. It is a good idea to structure your merge requests this way as well:\n\n1. Modify database schemas to prepare to add Geo support for Dependency Proxy Blobs\n1. Implement Geo support of Dependency Proxy Blobs behind a feature flag\n1. Release Geo support of Dependency Proxy Blobs\n\nIt is also a good idea to first open a proof-of-concept merge request. It can be helpful for working out kinks and getting initial support and feedback from the Geo team. As an example, see the [Proof of Concept to replicate Pipeline Artifacts](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/56423).\n\nYou can look into the following examples of MRs for implementing replication/verification for a new blob type:\n- [Add db changes](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/60935) and [add verification for MR diffs using SSF](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/63309)\n- [Verify Terraform state versions](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/58800)\n- [Verify LFS objects](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/63981)\n- \n### Modify database schemas to prepare to add Geo support for Cool Widgets\n\nYou might do this section in its own merge request, but it is not required.\n\n#### Add the registry table to track replication and verification state\n\nGeo secondary sites have a [Geo tracking database](https://gitlab.com/gitlab-org/gitlab/-/blob/master/doc/development/geo.md#tracking-database) independent of the main database. It is used to track the replication and verification state of all replicables. Every Model has a corresponding \"registry\" table in the Geo tracking database.\n\n- [x] Create the migration file in `ee/db/geo/migrate`:\n\n  ```shell\n  bin/rails generate migration CreateCoolWidgetRegistry --database geo\n  ```\n\n- [x] Replace the contents of the migration file with the following. Note that we cannot add a foreign key constraint on `cool_widget_id` because the `cool_widgets` table is in a different database. The application code must handle logic such as propagating deletions.\n\n  ```ruby\n  # frozen_string_literal: true\n\n  class CreateCoolWidgetRegistry \u003c Gitlab::Database::Migration[2.0]\n    disable_ddl_transaction!\n\n    def up\n      Geo::TrackingBase.transaction do\n        create_table :cool_widget_registry, id: :bigserial, force: :cascade do |t|\n          t.bigint :cool_widget_id, null: false\n          t.datetime_with_timezone :created_at, null: false\n          t.datetime_with_timezone :last_synced_at\n          t.datetime_with_timezone :retry_at\n          t.datetime_with_timezone :verified_at\n          t.datetime_with_timezone :verification_started_at\n          t.datetime_with_timezone :verification_retry_at\n          t.integer :state, default: 0, null: false, limit: 2\n          t.integer :verification_state, default: 0, null: false, limit: 2\n          t.integer :retry_count, default: 0, limit: 2, null: false\n          t.integer :verification_retry_count, default: 0, limit: 2, null: false\n          t.boolean :checksum_mismatch, default: false, null: false\n          t.binary :verification_checksum\n          t.binary :verification_checksum_mismatched\n          t.text :verification_failure, limit: 255\n          t.text :last_sync_failure, limit: 255\n\n          t.index :cool_widget_id, name: :index_cool_widget_registry_on_cool_widget_id, unique: true\n          t.index :retry_at\n          t.index :state\n          # To optimize performance of CoolWidgetRegistry.verification_failed_batch\n          t.index :verification_retry_at, name:  :cool_widget_registry_failed_verification, order: \"NULLS FIRST\",  where: \"((state = 2) AND (verification_state = 3))\"\n          # To optimize performance of CoolWidgetRegistry.needs_verification_count\n          t.index :verification_state, name:  :cool_widget_registry_needs_verification, where: \"((state = 2)  AND (verification_state = ANY (ARRAY[0, 3])))\"\n          # To optimize performance of CoolWidgetRegistry.verification_pending_batch\n          t.index :verified_at, name: :cool_widget_registry_pending_verification, order: \"NULLS FIRST\", where: \"((state = 2) AND (verification_state = 0))\"\n        end\n      end\n    end\n\n    def down\n      drop_table :cool_widget_registry\n    end\n  end\n  ```\n\n- [x] If deviating from the above example, then be sure to order columns according to [our guidelines](https://gitlab.com/gitlab-org/gitlab/-/blob/master/doc/development/ordering_table_columns.md).\n\n- [x] Add the new table to the GitLab Schema defined in [`ee/lib/ee/gitlab/database/gitlab_schemas.yml`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/lib/ee/gitlab/database/gitlab_schemas.yml).\n\n   ```yaml\n   cool_widget_registry: :gitlab_geo\n   ```\n\n- [x] Run Geo tracking database migrations:\n\n  ```shell\n  bin/rake db:migrate:geo\n  ```\n\n- [x] Be sure to commit the relevant changes in `ee/db/geo/structure.sql`\n\n### Add verification state fields on the Geo primary site\n\nThe Geo primary site needs to checksum every replicable so secondaries can verify their own checksums. To do this, Geo requires fields on the Model. Add verification state fields to a separate table. Consult a database expert if needed.\n\n#### Add verification state fields to a new table\n\n- [x] Create the migration file in `db/migrate`:\n\n  ```shell\n  bin/rails generate migration CreateCoolWidgetStates\n  ```\n\n- [x] Replace the contents of the migration file with:\n\n  ```ruby\n  # frozen_string_literal: true\n\n  class CreateCoolWidgetStates \u003c Gitlab::Database::Migration[2.0]\n    VERIFICATION_STATE_INDEX_NAME = \"index_cool_widget_states_on_verification_state\"\n    PENDING_VERIFICATION_INDEX_NAME = \"index_cool_widget_states_pending_verification\"\n    FAILED_VERIFICATION_INDEX_NAME = \"index_cool_widget_states_failed_verification\"\n    NEEDS_VERIFICATION_INDEX_NAME = \"index_cool_widget_states_needs_verification\"\n\n    enable_lock_retries!\n\n    def up\n      create_table :cool_widget_states, id: false do |t|\n        t.datetime_with_timezone :verification_started_at\n        t.datetime_with_timezone :verification_retry_at\n        t.datetime_with_timezone :verified_at\n        t.references :cool_widget, primary_key: true, default: nil, index: false, foreign_key: { on_delete: :cascade }\n        t.integer :verification_state, default: 0, limit: 2, null: false\n        t.integer :verification_retry_count, limit: 2\n        t.binary :verification_checksum, using: 'verification_checksum::bytea'\n        t.text :verification_failure, limit: 255\n\n        t.index :verification_state, name: VERIFICATION_STATE_INDEX_NAME\n        t.index :verified_at, where: \"(verification_state = 0)\", order: { verified_at: 'ASC NULLS FIRST' }, name: PENDING_VERIFICATION_INDEX_NAME\n        t.index :verification_retry_at, where: \"(verification_state = 3)\", order: { verification_retry_at: 'ASC NULLS FIRST' }, name: FAILED_VERIFICATION_INDEX_NAME\n        t.index :verification_state, where: \"(verification_state = 0 OR verification_state = 3)\", name: NEEDS_VERIFICATION_INDEX_NAME\n      end\n    end\n\n    def down\n      drop_table :cool_widget_states\n    end\n  end\n  ```\n\n- [x] If deviating from the above example, then be sure to order columns according to [our guidelines](https://gitlab.com/gitlab-org/gitlab/-/blob/master/doc/development/ordering_table_columns.md).\n\n- [x] Add the new table to the GitLab Schema defined in [`lib/gitlab/database/gitlab_schemas.yml`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/database/gitlab_schemas.yml) with the databases they need to be added to.\n\n   ```yaml\n   cool_widget_states: :gitlab_main\n   ```\n\n- [x] Run database migrations:\n\n  ```shell\n  bin/rake db:migrate\n  ```\n\n- [x] If `cool_widgets` is a high-traffic table, follow [the database documentation to use `with_lock_retries`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/doc/development/migration_style_guide.md#when-to-use-the-helper-method)\n\n- [x] Be sure to commit the relevant changes in `db/structure.sql`\n\nThat's all of the required database changes.\n\n### Implement Geo support of Cool Widgets behind a feature flag\n\n#### Step 1. Implement replication and verification\n\n- [x] Add the following lines to the `cool_widget` model to accomplish some important tasks:\n  - Include `::Geo::ReplicableModel` in the `CoolWidget` class, and specify the Replicator class `with_replicator Geo::CoolWidgetReplicator`.\n  - Include the `::Geo::VerifiableModel` concern.\n  - Delegate verification related methods to the `cool_widget_state` model.\n  - For verification, override some scopes to use the `cool_widget_states` table instead of the model table.\n  - Implement the `verification_state_object` method to return the object that holds\n    the verification details\n  - Override some methods to use the `cool_widget_states` table in verification-related queries.\n\n  At this point the `CoolWidget` class should look like this:\n\n  ```ruby\n  # frozen_string_literal: true\n\n  class CoolWidget \u003c ApplicationRecord\n    ...\n    include ::Geo::ReplicableModel\n    include ::Geo::VerifiableModel\n\n    delegate(*::Geo::VerificationState::VERIFICATION_METHODS, to: :cool_widget_state)\n\n    with_replicator Geo::CoolWidgetReplicator\n\n    mount_uploader :file, CoolWidgetUploader\n\n    has_one :cool_widget_state, autosave: false, inverse_of: :cool_widget, class_name: 'Geo::CoolWidgetState'\n\n    after_save :save_verification_details\n\n    scope :with_verification_state, -\u003e(state) { joins(:cool_widget_state).where(cool_widget_states: { verification_state: verification_state_value(state) }) }\n    scope :checksummed, -\u003e { joins(:cool_widget_state).where.not(cool_widget_states: { verification_checksum: nil } ) }\n    scope :not_checksummed, -\u003e { joins(:cool_widget_state).where(cool_widget_states: { verification_checksum: nil } ) }\n\n    scope :available_verifiables, -\u003e { joins(:cool_widget_state) }\n\n    # Override the `all` default if not all records can be replicated. For an\n    # example of an existing Model that needs to do this, see\n    # `EE::MergeRequestDiff`.\n    # scope :available_replicables, -\u003e { all }\n\n    def verification_state_object\n      cool_widget_state\n    end\n    ...\n\n    class_methods do\n      extend ::Gitlab::Utils::Override\n      ...\n\n      # @param primary_key_in [Range, CoolWidget] arg to pass to primary_key_in scope\n      # @return [ActiveRecord::Relation\u003cCoolWidget\u003e] everything that should be synced to this node, restricted by primary key\n      def self.replicables_for_current_secondary(primary_key_in)\n        # This issue template does not help you write this method.\n        #\n        # This method is called only on Geo secondary sites. It is called when\n        # we want to know which records to replicate. This is not easy to automate\n        # because for example:\n        #\n        # * The \"selective sync\" feature allows admins to choose which namespaces\n        #   to replicate, per secondary site. Most Models are scoped to a\n        #   namespace, but the nature of the relationship to a namespace varies\n        #   between Models.\n        # * The \"selective sync\" feature allows admins to choose which shards to\n        #   replicate, per secondary site. Repositories are associated with\n        #   shards. Most blob types are not, but Project Uploads are.\n        # * Remote stored replicables are not replicated, by default. But the\n        #   setting `sync_object_storage` enables replication of remote stored\n        #   replicables.\n        #\n        # Search the codebase for examples, and consult a Geo expert if needed.\n      end\n\n      override :verification_state_table_class\n      def verification_state_table_class\n        CoolWidgetState\n      end\n    end\n\n    def cool_widget_state\n      super || build_cool_widget_state\n    end\n\n    ...\n  end\n  ```\n\n- [x] Implement `CoolWidget.replicables_for_current_secondary` above.\n- [x] Ensure `CoolWidget.replicables_for_current_secondary` is well-tested. Search the codebase for `replicables_for_current_secondary` to find examples of parameterized table specs. You may need to add more `FactoryBot` traits.\n- [x] Add the following shared examples to `ee/spec/models/ee/cool_widget_spec.rb`:\n\n  ```ruby\n    include_examples 'a replicable model with a separate table for verification state' do\n      let(:verifiable_model_record) { build(:cool_widget) } # add extra params if needed to make sure the record is included in `available_verifiables`\n      let(:unverifiable_model_record) { build(:cool_widget) } # add extra params if needed to make sure the record is NOT included in `available_verifiables`\n    end\n  ```\n\n- [x] Create `ee/app/replicators/geo/cool_widget_replicator.rb`. Implement the `#carrierwave_uploader` method which should return a `CarrierWave::Uploader`, and implement the class method `.model` to return the `CoolWidget` class:\n\n  ```ruby\n  # frozen_string_literal: true\n\n  module Geo\n    class CoolWidgetReplicator \u003c Gitlab::Geo::Replicator\n      include ::Geo::BlobReplicatorStrategy\n      extend ::Gitlab::Utils::Override\n\n      def self.model\n        ::CoolWidget\n      end\n\n      def carrierwave_uploader\n        model_record.file\n      end\n\n      override :verification_feature_flag_enabled?\n      def self.verification_feature_flag_enabled?\n        # We are adding verification at the same time as replication, so we\n        # don't need to toggle verification separately from replication. When\n        # the replication feature flag is off, then verification is also off\n        # (see `VerifiableReplicator.verification_enabled?`)\n        true\n      end\n\n    end\n  end\n  ```\n\n- [x] Generate the feature flag definition file by running the feature flag commands and following the command prompts:\n\n  ```shell\n  bin/feature-flag --ee geo_cool_widget_replication --type development --group 'group::geo'\n  bin/feature-flag --ee geo_cool_widget_verification --type development --group 'group::geo'\n  ```\n\n- [x] Add this replicator class to the method `replicator_classes` in\n  `ee/lib/gitlab/geo.rb`:\n\n  ```ruby\n  REPLICATOR_CLASSES = [\n    ::Geo::PackageFileReplicator,\n    ::Geo::CoolWidgetReplicator\n  ]\n  end\n  ```\n\n- [x] Create `ee/spec/replicators/geo/cool_widget_replicator_spec.rb` and perform the necessary setup to define the `model_record` variable for the shared examples:\n\n  ```ruby\n  # frozen_string_literal: true\n\n  require 'spec_helper'\n\n  RSpec.describe Geo::CoolWidgetReplicator do\n    let(:model_record) { build(:cool_widget) }\n\n    include_examples 'a blob replicator'\n    include_examples 'a verifiable replicator'\n  end\n  ```\n\n- [x] Create `ee/app/models/geo/cool_widget_registry.rb`:\n\n  ```ruby\n  # frozen_string_literal: true\n\n  module Geo\n    class CoolWidgetRegistry \u003c Geo::BaseRegistry\n      include ::Geo::ReplicableRegistry\n      include ::Geo::VerifiableRegistry\n\n      MODEL_CLASS = ::CoolWidget\n      MODEL_FOREIGN_KEY = :cool_widget_id\n\n      belongs_to :cool_widget, class_name: 'CoolWidget'\n    end\n  end\n  ```\n\n- [x] Update `REGISTRY_CLASSES` in `ee/app/workers/geo/secondary/registry_consistency_worker.rb`.\n- [x] Add a custom factory name if needed in `def model_class_factory_name` in `ee/spec/support/helpers/ee/geo_helpers.rb`.\n- [x] Update `it 'creates missing registries for each registry class'` in `ee/spec/workers/geo/secondary/registry_consistency_worker_spec.rb`.\n- [x] Add `cool_widget_registry` to `ActiveSupport::Inflector.inflections` in `config/initializers_before_autoloader/000_inflections.rb`.\n- [x] Create `ee/spec/factories/geo/cool_widget_registry.rb`:\n\n  ```ruby\n  # frozen_string_literal: true\n\n  FactoryBot.define do\n    factory :geo_cool_widget_registry, class: 'Geo::CoolWidgetRegistry' do\n      cool_widget # This association should have data, like a file or repository\n      state { Geo::CoolWidgetRegistry.state_value(:pending) }\n\n      trait :synced do\n        state { Geo::CoolWidgetRegistry.state_value(:synced) }\n        last_synced_at { 5.days.ago }\n      end\n\n      trait :failed do\n        state { Geo::CoolWidgetRegistry.state_value(:failed) }\n        last_synced_at { 1.day.ago }\n        retry_count { 2 }\n        last_sync_failure { 'Random error' }\n      end\n\n      trait :started do\n        state { Geo::CoolWidgetRegistry.state_value(:started) }\n        last_synced_at { 1.day.ago }\n        retry_count { 0 }\n      end\n\n      trait :verification_succeeded do\n        verification_checksum { 'e079a831cab27bcda7d81cd9b48296d0c3dd92ef' }\n        verification_state { Geo::CoolWidgetRegistry.verification_state_value(:verification_succeeded) }\n        verified_at { 5.days.ago }\n      end\n    end\n  end\n  ```\n\n- [x] Create `ee/spec/models/geo/cool_widget_registry_spec.rb`:\n\n  ```ruby\n  # frozen_string_literal: true\n\n  require 'spec_helper'\n\n  RSpec.describe Geo::CoolWidgetRegistry, :geo, type: :model do\n    let_it_be(:registry) { create(:geo_cool_widget_registry) }\n\n    specify 'factory is valid' do\n      expect(registry).to be_valid\n    end\n\n    include_examples 'a Geo framework registry'\n    include_examples 'a Geo verifiable registry'\n  end\n  ```\n\n- [x] Add the following to `spec/factories/cool_widgets.rb`:\n\n  ```ruby\n  trait :verification_succeeded do\n    with_file\n    verification_checksum { 'abc' }\n    verification_state { CoolWidget.verification_state_value(:verification_succeeded) }\n  end\n\n  trait :verification_failed do\n    with_file\n    verification_failure { 'Could not calculate the checksum' }\n    verification_state { CoolWidget.verification_state_value(:verification_failed) }\n  end\n  ```\n\n- [ ] Make sure the factory also allows setting a `project` attribute. If the model does not have a direct relation to a project, you can use a `transient` attribute. Check out `spec/factories/merge_request_diffs.rb` for an example.\n\n- [x] Following [the example of Merge Request Diffs](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/63309) add a `Geo::CoolWidgetState` model in `ee/app/models/ee/geo/cool_widget_state.rb`:\n\n  ``` ruby\n  # frozen_string_literal: true\n\n  module Geo\n    class CoolWidgetState \u003c ApplicationRecord\n      include EachBatch\n      include ::Geo::VerificationStateDefinition\n\n      self.primary_key = :cool_widget_id\n\n      belongs_to :cool_widget, inverse_of: :cool_widget_state\n\n      validates :verification_failure, length: { maximum: 255 }\n      validates :verification_state, :cool_widget, presence: true\n    end\n  end\n  ```\n\n- [x] Add a `factory` for `cool_widget_state`, in `ee/spec/factories/geo/cool_widget_states.rb`:\n\n  ``` ruby\n  # frozen_string_literal: true\n\n  FactoryBot.define do\n    factory :geo_cool_widget_state, class: 'Geo::CoolWidgetState' do\n      cool_widget\n\n      trait :checksummed do\n        verification_checksum { 'abc' }\n      end\n\n      trait :checksum_failure do\n        verification_failure { 'Could not calculate the checksum' }\n      end\n    end\n  end\n  ```\n\n#### Step 2. Implement metrics gathering\n\nMetrics are gathered by `Geo::MetricsUpdateWorker`, persisted in `GeoNodeStatus` for display in the UI, and sent to Prometheus:\n\n- [x] Add the following fields to Geo Node Status example responses in `doc/api/geo_nodes.md`:\n  - `cool_widgets_count`\n  - `cool_widgets_checksum_total_count`\n  - `cool_widgets_checksummed_count`\n  - `cool_widgets_checksum_failed_count`\n  - `cool_widgets_synced_count`\n  - `cool_widgets_failed_count`\n  - `cool_widgets_registry_count`\n  - `cool_widgets_verification_total_count`\n  - `cool_widgets_verified_count`\n  - `cool_widgets_verification_failed_count`\n  - `cool_widgets_synced_in_percentage`\n  - `cool_widgets_verified_in_percentage`\n- [x] Add the same fields to `GET /geo_nodes/status` example response in\n  `ee/spec/fixtures/api/schemas/public_api/v4/geo_node_status.json`.\n- [x] Add the following fields to the `Sidekiq metrics` table in `doc/administration/monitoring/prometheus/gitlab_metrics.md`:\n  - `geo_cool_widgets`\n  - `geo_cool_widgets_checksum_total`\n  - `geo_cool_widgets_checksummed`\n  - `geo_cool_widgets_checksum_failed`\n  - `geo_cool_widgets_synced`\n  - `geo_cool_widgets_failed`\n  - `geo_cool_widgets_registry`\n  - `geo_cool_widgets_verification_total`\n  - `geo_cool_widgets_verified`\n  - `geo_cool_widgets_verification_failed`\n\nCool Widget replication and verification metrics should now be available in the API, the `Admin \u003e Geo \u003e Nodes` view, and Prometheus.\n\n#### Step 3. Implement the GraphQL API\n\nThe GraphQL API is used by `Admin \u003e Geo \u003e Replication Details` views, and is directly queryable by administrators.\n\n- [x] Add a new field to `GeoNodeType` in `ee/app/graphql/types/geo/geo_node_type.rb`:\n\n  ```ruby\n  field :cool_widget_registries, ::Types::Geo::CoolWidgetRegistryType.connection_type,\n        null: true,\n        resolver: ::Resolvers::Geo::CoolWidgetRegistriesResolver,\n        description: 'Find Cool Widget registries on this Geo node. '\\\n                     'Ignored if `geo_cool_widget_replication` feature flag is disabled.',\n        alpha: { milestone: '15.5' } # Update the milestone\n  ```\n\n- [x] Add the new `cool_widget_registries` field name to the `expected_fields` array in `ee/spec/graphql/types/geo/geo_node_type_spec.rb`.\n- [x] Create `ee/app/graphql/resolvers/geo/cool_widget_registries_resolver.rb`:\n\n  ```ruby\n  # frozen_string_literal: true\n\n  module Resolvers\n    module Geo\n      class CoolWidgetRegistriesResolver \u003c BaseResolver\n        type ::Types::Geo::GeoNodeType.connection_type, null: true\n\n        include RegistriesResolver\n      end\n    end\n  end\n  ```\n\n- [x] Create `ee/spec/graphql/resolvers/geo/cool_widget_registries_resolver_spec.rb`:\n\n  ```ruby\n  # frozen_string_literal: true\n\n  require 'spec_helper'\n\n  RSpec.describe Resolvers::Geo::CoolWidgetRegistriesResolver do\n    it_behaves_like 'a Geo registries resolver', :geo_cool_widget_registry\n  end\n  ```\n\n- [x] Create `ee/app/finders/geo/cool_widget_registry_finder.rb`:\n\n  ```ruby\n  # frozen_string_literal: true\n\n  module Geo\n    class CoolWidgetRegistryFinder\n      include FrameworkRegistryFinder\n    end\n  end\n  ```\n\n- [x] Create `ee/spec/finders/geo/cool_widget_registry_finder_spec.rb`:\n\n  ```ruby\n  # frozen_string_literal: true\n\n  require 'spec_helper'\n\n  RSpec.describe Geo::CoolWidgetRegistryFinder do\n    it_behaves_like 'a framework registry finder', :geo_cool_widget_registry\n  end\n  ```\n\n- [x] Create `ee/app/graphql/types/geo/cool_widget_registry_type.rb`:\n\n  ```ruby\n  # frozen_string_literal: true\n\n  module Types\n    module Geo\n      # rubocop:disable Graphql/AuthorizeTypes because it is included\n      class CoolWidgetRegistryType \u003c BaseObject\n        graphql_name 'CoolWidgetRegistry'\n\n        include ::Types::Geo::RegistryType\n\n        description 'Represents the Geo replication and verification state of a cool_widget'\n\n        field :cool_widget_id, GraphQL::Types::ID, null: false, description: 'ID of the Cool Widget.'\n      end\n      # rubocop:enable Graphql/AuthorizeTypes\n    end\n  end\n  ```\n\n- [x] Create `ee/spec/graphql/types/geo/cool_widget_registry_type_spec.rb`:\n\n  ```ruby\n  # frozen_string_literal: true\n\n  require 'spec_helper'\n\n  RSpec.describe GitlabSchema.types['CoolWidgetRegistry'] do\n    it_behaves_like 'a Geo registry type'\n\n    it 'has the expected fields (other than those included in RegistryType)' do\n      expected_fields = %i[cool_widget_id]\n\n      expect(described_class).to have_graphql_fields(*expected_fields).at_least\n    end\n  end\n  ```\n\n- [x] Add integration tests for providing CoolWidget registry data to the frontend via the GraphQL API, by duplicating and modifying the following shared examples in `ee/spec/requests/api/graphql/geo/registries_spec.rb`:\n\n  ```ruby\n  it_behaves_like 'gets registries for', {\n    field_name: 'coolWidgetRegistries',\n    registry_class_name: 'CoolWidgetRegistry',\n    registry_factory: :geo_cool_widget_registry,\n    registry_foreign_key_field_name: 'coolWidgetId'\n  }\n  ```\n\n- [x] Update the GraphQL reference documentation:\n\n  ```shell\n  bundle exec rake gitlab:graphql:compile_docs\n  ```\n\nIndividual Cool Widget replication and verification data should now be available via the GraphQL API.\n\n#### Step 4. Handle batch destroy\n\nIf batch destroy logic is implemented for a replicable, then that logic must be \"replicated\" by Geo secondaries. The easiest way to do this is use `Geo::BatchEventCreateWorker` to bulk insert a delete event for each replicable.\n\nFor example, if `FastDestroyAll` is used, then you may be able to [use `begin_fast_destroy` and `finalize_fast_destroy` hooks, like we did for uploads](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/69763).\n\nOr if a special service is used to batch delete records and their associated data, then you probably need to [hook into that service, like we did for job artifacts](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/79530).\n\nAs illustrated by the above two examples, batch destroy logic cannot be handled automatically by Geo secondaries without restricting the way other teams perform batch destroys. It is up to you to produce `Geo::BatchEventCreateWorker` attributes before the records are deleted, and then enqueue `Geo::BatchEventCreateWorker` after the records are deleted.\n\n- [ ] Ensure that any batch destroy of this replicable is replicated to secondary sites\n- [ ] Regardless of implementation details, please verify in specs that when the parent object is removed, the new `Geo::Event` records are created:\n\n```ruby\n  describe '#destroy' do\n    subject { create(:cool_widget) }\n\n    context 'when running in a Geo primary node' do\n      let_it_be(:primary) { create(:geo_node, :primary) }\n      let_it_be(:secondary) { create(:geo_node) }\n\n      it 'logs an event to the Geo event log when bulk removal is used', :sidekiq_inline do\n        stub_current_geo_node(primary)\n\n        expect { subject.project.destroy! }.to change(Geo::Event.where(replicable_name: :cool_widget, event_name: :deleted), :count).by(1)\n\n        payload = Geo::Event.where(replicable_name: :cool_widget, event_name: :deleted).last.payload\n\n        expect(payload['model_record_id']).to eq(subject.id)\n        expect(payload['blob_path']).to eq(subject.relative_path)\n        expect(payload['uploader_class']).to eq('CoolWidgetUploader')\n      end\n    end\n  end\n```\n\n### Release Geo support of Cool Widgets\n\n- [ ] In the rollout issue you created when creating the feature flag, modify the Roll Out Steps:\n  - [ ] Cross out any steps related to testing on production GitLab.com, because Geo is not running on production GitLab.com at the moment.\n  - [ ] Add a step to `Test replication and verification of Cool Widgets on a non-GDK-deployment. For example, using GitLab Environment Toolkit`.\n  - [ ] Add a step to `Ping the Geo PM and EM to coordinate testing`. For example, you might add steps to generate Cool Widgets, and then a Geo engineer may take it from there.\n- [ ] In `ee/config/feature_flags/development/geo_cool_widget_replication.yml`, set `default_enabled: true`\n- [ ] In `ee/app/graphql/types/geo/geo_node_type.rb`, remove the `alpha` option for the released type:\n\n  ```ruby\n  field :cool_widget_registries, ::Types::Geo::CoolWidgetRegistryType.connection_type,\n        null: true,\n        resolver: ::Resolvers::Geo::CoolWidgetRegistriesResolver,\n        description: 'Find Cool Widget registries on this Geo node. '\\\n                     'Ignored if `geo_cool_widget_replication` feature flag is disabled.',\n        alpha: { milestone: '15.5' } # Update the milestone\n  ```\n\n- [ ] Run `bundle exec rake gitlab:graphql:compile_docs` after the step above to regenerate the GraphQL docs.\n\n- [ ] Add a row for Cool Widgets to the `Data types` table in [Geo data types support](https://gitlab.com/gitlab-org/gitlab/blob/master/doc/administration/geo/replication/datatypes.md#data-types)\n- [ ] Add a row for Cool Widgets to the `Limitations on replication/verification` table in [Geo data types support](https://gitlab.com/gitlab-org/gitlab/blob/master/doc/administration/geo/replication/datatypes.md#limitations-on-replicationverification). If the row already exists, then update it to show that Replication and Verification is released in the current version.\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2022-09-22T16:45:56.039Z","updated_at":"2022-12-23T17:16:57.972Z","closed_at":"2022-12-06T20:52:25.339Z","closed_by":{"id":787914,"username":"ibaum","name":"Ian Baum","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7c508dc85ddd5049564a95662311543b?s=80\u0026d=identicon","web_url":"https://gitlab.com/ibaum"},"labels":["Category:Dependency Proxy","GitLab Premium","GitLab Ultimate","devops::systems","direction","documentation","feature::addition","group::geo","missed:15.6","section::enablement","type::feature","workflow::verification"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":787914,"username":"ibaum","name":"Ian Baum","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7c508dc85ddd5049564a95662311543b?s=80\u0026d=identicon","web_url":"https://gitlab.com/ibaum"}],"author":{"id":10992325,"username":"sranasinghe","name":"Sampath Ranasinghe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10992325/avatar.png","web_url":"https://gitlab.com/sranasinghe"},"type":"ISSUE","assignee":{"id":787914,"username":"ibaum","name":"Ian Baum","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7c508dc85ddd5049564a95662311543b?s=80\u0026d=identicon","web_url":"https://gitlab.com/ibaum"},"user_notes_count":9,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375151","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":56,"completed_count":44},"weight":4,"blocking_issues_count":0,"has_tasks":true,"task_status":"44 of 56 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375151","notes":"https://gitlab.com/api/v4/projects/278964/issues/375151/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375151/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375151","relative":"#375151","full":"gitlab-org/gitlab#375151"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8833,"epic":{"id":607547,"iid":8833,"title":"Geo: Replicate Dependency Proxy","url":"/groups/gitlab-org/-/epics/8833","group_id":9970,"human_readable_end_date":"Nov 18, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":115611834,"iid":375150,"project_id":278964,"title":"Check that dropdown in `app/views/explore/projects/_filter.html.haml` rendered with `gl_redirect_listbox_tag` works fine with `GlListbox`","description":"Check that `gl_redirect_listbox_tag` in [`app/views/explore/projects/_filter.html.haml`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/views/explore/projects/_filter.html.haml) works fine with `GlListbox`\n\n:eyes: Please, see the [parent epic](https://gitlab.com/groups/gitlab-org/-/epics/8818) for guidance.\n\nThank you! :handshake:","state":"closed","created_at":"2022-09-22T16:44:10.943Z","updated_at":"2022-11-22T18:26:45.837Z","closed_at":"2022-09-23T12:15:29.333Z","closed_by":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"labels":["OKR","Pajamas Migration Day","SUS::Impacting","component:dropdown","devops::manage","dropdown::listbox","frontend","group::foundations","pajamas::integrate","section::dev","severity::4","type::maintenance"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"}],"author":{"id":4339707,"username":"ohoral","name":"Olena Horal-Koretska","state":"active","avatar_url":"https://secure.gravatar.com/avatar/42796a7332b4608eb9785986719e7215?s=80\u0026d=identicon","web_url":"https://gitlab.com/ohoral"},"type":"ISSUE","assignee":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375150","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375150","notes":"https://gitlab.com/api/v4/projects/278964/issues/375150/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375150/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375150","relative":"#375150","full":"gitlab-org/gitlab#375150"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8826,"epic":{"id":607231,"iid":8826,"title":"Dropdowns \u003e Listbox \u003e gl_redirect_listbox_tag","url":"/groups/gitlab-org/-/epics/8826","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":115610865,"iid":375147,"project_id":278964,"title":"Web Hooks: Handle cold-starts of receivers","description":"### Description\n\nSome web-hook receivers suffer from cold-start delays (especially when using systems such as AWS Lambda).\n\nThis can lead to the following cycle of events:\n\n- An event is triggered\n- A web-hook request is sent\n- The receiving endpoint is asleep, and must start up\n- The request times out\n- The hook is suspended (backed-off) after this failure\n- During the suspension, the receiver goes to sleep\n- (Start again at the top...)\n\nThere are several things we can do here:\n\n- shorter initial timeouts. We have quite an aggressive back-off (10min), which is probably long enough for some receiver containers to be reaped. Perhaps reduce this to 1min?\n- allow N failures before backing-off, to allow for cold-starts and avoid penalizing the first expensive request\n- longer timeouts (it would be nice to avoid this!)\n\n### Customer Impact\n\n- We've had one report so far, impacting 1100 projects ([Slack thread, internal, 90 days](https://gitlab.slack.com/archives/C01E55XNCEA/p1663571312627159))","state":"closed","created_at":"2022-09-22T16:34:05.727Z","updated_at":"2022-11-24T18:21:27.694Z","closed_at":"2022-11-16T14:39:28.794Z","closed_by":{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"},"labels":["Category:Integrations","Category:Webhooks","Deliverable","backend","devops::manage","group::integrations","missed-deliverable","missed:15.5","section::dev","type::maintenance","workflow::verification"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"}],"author":{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"},"type":"ISSUE","assignee":{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"},"user_notes_count":20,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375147","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375147","notes":"https://gitlab.com/api/v4/projects/278964/issues/375147/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375147/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375147","relative":"#375147","full":"gitlab-org/gitlab#375147"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8083,"epic":{"id":524600,"iid":8083,"title":"Improve the reliability of webhooks: Auto-disable Failing Webhooks","url":"/groups/gitlab-org/-/epics/8083","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":115609139,"iid":375144,"project_id":278964,"title":"Change GitLab for Jira app feature flag behavior","description":"There are currently two feature flags involved in the development of https://gitlab.com/groups/gitlab-org/-/epics/5650+\n\n## Current feature flags\n\n**https://gitlab.com/gitlab-org/gitlab/-/issues/355048+**\n\n- Hides the OAuth sign-in button on the app settings page\n- Hides the jira_connect_application_key application setting\n- Hides the `api/v4/integrations/jira_connect/subscriptions` endpoint\n\n**https://gitlab.com/gitlab-org/gitlab/-/issues/359940+**\n\n- Hides the /-/jira_connect/oauth_application_id endpoint\n- Hides the self-managed `instance_url` setting on the app settings page\n\n## Rollout plan\nWe discussed this in https://gitlab.com/gitlab-org/gitlab/-/issues/370324#note_1109967563\n\nTo make the feature rollout as smooth as possible, we like to:\n\n1. Enable OAuth login on GitLab.com (already done)\n2. Make the Jira connect application settings available for self-managed\n3. Enable the self-managed flow on GitLab.com\n\n## New feature flag behavior\n\nTo archive this, we have to introduce a new feature flag and change the current feature flag behavior like this:\n\n**https://gitlab.com/gitlab-org/gitlab/-/issues/355048+**\n\n- Hides the OAuth sign-in button on the app settings page\n\n**https://gitlab.com/gitlab-org/gitlab/-/issues/359940+**\n\n- Hides the jira_connect_application_key application setting\n- Hides the `api/v4/integrations/jira_connect/subscriptions` endpoint\n- Hides the /-/jira_connect/oauth_application_id endpoint\n\n**New feature flag**\n\n- Hides the self-managed `instance_url` setting on the app settings page\n\nThen we can:\n\n1. Enable https://gitlab.com/gitlab-org/gitlab/-/issues/355048+ on GitLab.com only\n2. Default enable https://gitlab.com/gitlab-org/gitlab/-/issues/359940+ to be included in %\"15.5\" \n3. Enable the new feature flag on GitLab.com as soon as %\"15.5\" is released","state":"closed","created_at":"2022-09-22T16:15:41.619Z","updated_at":"2022-11-22T18:26:48.048Z","closed_at":"2022-10-20T19:57:56.374Z","closed_by":{"id":16943,"username":"Andysoiron","name":"Andy Soiron","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/16943/avatar.png","web_url":"https://gitlab.com/Andysoiron"},"labels":["Category:Integrations","Deliverable","Integration::Jira","Jira::ConnectApp","backend","devops::manage","feature flag","feature::addition","frontend","group::integrations","missed-deliverable","missed:15.5","section::dev","type::feature","workflow::canary"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":11722161,"username":"bmarjanovic","name":"Bojan Marjanovic","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11722161/avatar.png","web_url":"https://gitlab.com/bmarjanovic"}],"author":{"id":16943,"username":"Andysoiron","name":"Andy Soiron","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/16943/avatar.png","web_url":"https://gitlab.com/Andysoiron"},"type":"ISSUE","assignee":{"id":11722161,"username":"bmarjanovic","name":"Bojan Marjanovic","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11722161/avatar.png","web_url":"https://gitlab.com/bmarjanovic"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375144","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":0,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375144","notes":"https://gitlab.com/api/v4/projects/278964/issues/375144/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375144/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375144","relative":"#375144","full":"gitlab-org/gitlab#375144"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5650,"epic":{"id":230344,"iid":5650,"title":"Self-managed support extended to GitLab for Jira app","url":"/groups/gitlab-org/-/epics/5650","group_id":9970,"human_readable_end_date":"May 17, 2023","human_readable_timestamp":"\u003cstrong\u003e4\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":115607904,"iid":375138,"project_id":278964,"title":"When using a custom group-level project template that contains a wiki, creating a project results in an email error and Wiki, issues, merge requests, and other objects are missing","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"type::bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=type::bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\n\u003c!-- Summarize the bug encountered concisely. --\u003e\n\nWhen using a [custom group-level project template](https://docs.gitlab.com/ee/user/group/custom_project_templates.html#custom-group-level-project-templates) that contains a wiki, creating a project results in an email error and Wiki, issues, merge requests and other objects are missing.\n\nReported on [ZD 327317](https://gitlab.zendesk.com/agent/tickets/327317) (internal)\n\n### Steps to reproduce\n\n1. Create a subgroup in an existing group.\n1. Add a project to the new subgroup to use as the template.\n1. Add a Wiki to that project\n1. Browse to the top level group, select Settings \u003e General.\n1. Expand Custom project templates and select the subgroup.\n1. Create a new project and choose Create from template\n1. Select the template project from the Group tab\n\n\u003c!-- Describe how one can reproduce the issue - this is very important. Please use an ordered list. --\u003e\n\n### Example Project\n\n\u003c!-- If possible, please create an example project here on GitLab.com that exhibits the problematic \nbehavior, and link to it here in the bug report. If you are using an older version of GitLab, this \nwill also determine whether the bug is fixed in a more recent version. --\u003e\n\n1. Go to https://gitlab.com/gitlab-gold/templatetoplevel\n1. Create a new project and choose `Create from template`\n1. Select the Group tab, expand `GitLab.com - Gold / TemplateTopLevel / TemplateGroupTest`\n1. Select WikiTest project\n\n### What is the current *bug* behavior?\n\n\u003c!-- Describe what actually happens. --\u003e\n\nThe new project is created with the repository, but there are no wiki, issues, merge requests and other objects in the new project.\n\nThere are no errors reported in UI.\n\nA few mins later user who created the project receives an email with the error:\n\n\n```\nProject \u003cTEMPLATE_PROJECT\u003e couldn't be exported.\nThe errors we encountered were:\nError importing repository into [FILTERED] - 6:creating repository: repository exists already. debug_error_string:{\"created\":\"@1663856917.749210777\",\"description\":\"Error received from peer [FILTERED] repository: repository exists already\",\"grpc_status\":6}\n```\n\n### What is the expected *correct* behavior?\n\n\u003c!-- Describe what you should see instead. --\u003e\n\nA new project should be created and all the objects existing in the project template should be present in the new project.\n\n### Relevant logs and/or screenshots\n\nfrom `/var/log/gitlab/gitlab-rails/exceptions_json.log`:\n\n```text\n{\n  \"severity\": \"ERROR\",\n  \"time\": \"2022-10-12T09:43:13.003Z\",\n  \"correlation_id\": \"01GF5S70NASHX8B0Y9HCKJET9Y\",\n  \"exception.class\": \"RuntimeError\",\n  \"exception.message\": \"Error importing repository  into root/test_from_template2022 - 6:creating repository: repository exists already. debug_error_string:{\\\"created\\\":\\\"@1665567791.803305225\\\",\\\"description\\\":\\\"Error received from peer [FILTERED] repository: repository exists already\\\",\\\"grpc_status\\\":6}\",\n  \"exception.backtrace\": [\n    \"app/workers/repository_import_worker.rb:37:in `perform'\",\n    \"ee/app/workers/ee/repository_import_worker.rb:9:in `perform'\",\n    \"ee/lib/ee/gitlab/import_export/after_export_strategies/custom_template_export_import_strategy.rb:30:in `strategy_execute'\",\n    \"lib/gitlab/import_export/after_export_strategies/base_after_export_strategy.rb:43:in `execute'\",\n    \"app/services/projects/import_export/export_service.rb:51:in `execute_after_export_action'\",\n    \"app/services/projects/import_export/export_service.rb:21:in `execute'\",\n    \"app/services/concerns/measurable.rb:35:in `execute'\",\n    \"app/workers/project_export_worker.rb:25:in `perform'\",\n...\n```\n\nThe error comes from gitaly:\n\n```\n{\n  \"correlation_id\": \"01GF5S70NASHX8B0Y9HCKJET9Y\",\n  \"error\": \"creating repository: repository exists already\",\n  \"grpc.code\": \"AlreadyExists\",\n  \"grpc.meta.auth_version\": \"v2\",\n  \"grpc.meta.client_name\": \"gitlab-sidekiq\",\n  \"grpc.meta.deadline_type\": \"unknown\",\n  \"grpc.meta.method_type\": \"client_stream\",\n  \"grpc.method\": \"CreateRepositoryFromBundle\",\n  \"grpc.request.deadline\": \"2022-10-12T15:43:11.799\",\n  \"grpc.request.fullMethod\": \"/gitaly.RepositoryService/CreateRepositoryFromBundle\",\n  \"grpc.request.glProjectPath\": \"root/test_from_template2022.wiki\",\n  \"grpc.request.glRepository\": \"wiki-160\",\n  \"grpc.request.payload_bytes\": 480,\n  \"grpc.request.repoPath\": \"@hashed/a5/12/a512db2741cd20693e4b16f19891e72b9ff12cead72761fc5e92d2aaf34740c1.wiki.git\",\n  \"grpc.request.repoStorage\": \"default\",\n  \"grpc.response.payload_bytes\": 0,\n  \"grpc.service\": \"gitaly.RepositoryService\",\n  \"grpc.start_time\": \"2022-10-12T09:43:11.799\",\n  \"grpc.time_ms\": 3.703,\n  \"level\": \"info\",\n  \"msg\": \"finished streaming call with code AlreadyExists\",\n  \"peer.address\": \"@\",\n  \"pid\": 887,\n  \"remote_ip\": \"80.113.68.61\",\n  \"span.kind\": \"server\",\n  \"system\": \"grpc\",\n  \"time\": \"2022-10-12T09:43:11.803Z\",\n  \"username\": \"root\"\n}\n```\n\n### Output of checks\n\nThis bug happens on GitLab.com. Also reproduced on self-managed instances of GitLab starting from 15.1.0. Not reproduced on GitLab 15.0.0.\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e","state":"closed","created_at":"2022-09-22T16:00:54.416Z","updated_at":"2022-12-21T12:02:13.409Z","closed_at":"2022-12-07T10:36:21.994Z","closed_by":{"id":12517375,"username":"ghinfey","name":"Gavin Hinfey","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12517375/avatar.png","web_url":"https://gitlab.com/ghinfey"},"labels":["Deliverable","Manage::P2","[deprecated] Accepting merge requests","backend","bug::functional","customer","devops::create","group::source code","priority::2","reproduced on GitLab.com","section::dev","severity::2","type::bug","workflow::in review"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":12517375,"username":"ghinfey","name":"Gavin Hinfey","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12517375/avatar.png","web_url":"https://gitlab.com/ghinfey"}],"author":{"id":11337692,"username":"pmurray7","name":"Paul Murray","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11337692/avatar.png","web_url":"https://gitlab.com/pmurray7"},"type":"ISSUE","assignee":{"id":12517375,"username":"ghinfey","name":"Gavin Hinfey","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12517375/avatar.png","web_url":"https://gitlab.com/ghinfey"},"user_notes_count":20,"merge_requests_count":0,"upvotes":6,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375138","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375138","notes":"https://gitlab.com/api/v4/projects/278964/issues/375138/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375138/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375138","relative":"#375138","full":"gitlab-org/gitlab#375138"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3496,"epic":{"id":62382,"iid":3496,"title":"🐞 Template bugs","url":"/groups/gitlab-org/-/epics/3496","group_id":9970,"human_readable_end_date":"Apr 17, 2023","human_readable_timestamp":"\u003cstrong\u003e3\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":115601194,"iid":375100,"project_id":278964,"title":"Set BulkImports::Tracker as skipped if entity is failed","description":"Whenever GitLab Migration fails, for each entity trackers we create failure rows in the database with message 'Failed entity status'. This can be confusing because the corresponding pipelines for these trackers were not executed and they are technically skipped. \n\nSkip such trackers instead of marking them as failed and don't create database records for these cases. They are not helpful during debugging into what went wrong during the migration. \n\nExample: \n\n![image](/uploads/46bf23ff2ce11979484eb88389d2a84c/image.png)","state":"closed","created_at":"2022-09-22T14:53:04.036Z","updated_at":"2022-10-13T17:46:19.062Z","closed_at":"2022-09-28T09:08:15.524Z","closed_by":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"labels":["Category:Importers","Importer:GitLab Migration","Next Up","backend","devops::manage","estimation::completed","group::import","priority::2","section::dev","severity::3","type::bug","workflow::production"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"}],"author":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"type":"ISSUE","assignee":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375100","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375100","notes":"https://gitlab.com/api/v4/projects/278964/issues/375100/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375100/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375100","relative":"#375100","full":"gitlab-org/gitlab#375100"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6629,"epic":{"id":335099,"iid":6629,"title":"🐞 GitLab Migration bugs","url":"/groups/gitlab-org/-/epics/6629","group_id":9970},"iteration":null,"health_status":null},{"id":115593014,"iid":375066,"project_id":278964,"title":"Cop/ActiveRecordSerialize is enabled and suggested to be disabled at the same time.","description":"### Summary\n\nWe have [Cop/ActiveRecordSerialize](https://gitlab.com/gitlab-org/ruby/gems/gitlab-styles/-/blob/master/lib/rubocop/cop/active_record_serialize.rb) which prohibits to use serializers in models\n\n\u003e Do not store serialized data in the database, use separate columns and/or tables instead\n\nAt the same time we have [jsonb guidelines](https://docs.gitlab.com/ee/development/migration_style_guide.html#storing-json-in-database) which suggest to disable our own cop. The cop is disabled 35 times in 20 models.\n\nSo I wonder if we need enabled rule which we suggest to disable in our own docs and violate constantly?\n\n@gitlab-org/maintainers/rails-backend WDYT?","state":"closed","created_at":"2022-09-22T13:18:17.650Z","updated_at":"2022-11-21T11:12:09.586Z","closed_at":"2022-11-21T11:12:09.560Z","closed_by":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"labels":["backend","maintenance::refactor","missed:15.5","missed:15.6","type::maintenance","workflow::in dev"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"}],"author":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"type":"ISSUE","assignee":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"user_notes_count":7,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375066","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375066","notes":"https://gitlab.com/api/v4/projects/278964/issues/375066/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375066/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375066","relative":"#375066","full":"gitlab-org/gitlab#375066"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":115581119,"iid":375054,"project_id":278964,"title":"Prepare the Slack Application form to accept sections from the backend","description":"In the course of moving the Slack Notifications integrations into the Slack Application, the latter should be updated to render the sections of settings (see Jira integration for the example). The effort of copying over the notifications integration as a section of the application integration is managed in ~backend in https://gitlab.com/gitlab-org/gitlab/-/issues/375050.\n\n![Updated Slack Application integration design](/uploads/e766a795dfceb4affa5b9ae3b923d1ce/slack-app-proposal-project-level__1_.png).\n\n### Availability \u0026 Testing\n\nThoughts and Suggestions:\n* Run `package-and-test` on the MR.\n* the [integrations_settings_form](https://gitlab.com/gitlab-org/gitlab/-/blob/master/spec/support/shared_examples/integrations/integration_settings_form.rb) feature specs should continue to capture any changes to the settings configuration from a fields perspective.\n* We do not have any feature tests around persisting settings, so it might be good to have a component spec that validates the expected data is being sent to the backend on save\n* There is a QA slack effort that will coincide with this change, it would be great to complete it before the backend work is complete as well.\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the Quality Engineering quad planning and test planning processes and reach out to your counterpart Software Engineer in Test for assistance. \nQuad Planning: https://about.gitlab.com/handbook/engineering/quality/quality-engineering/quad-planning \nTest Planning: https://about.gitlab.com/handbook/engineering/quality/quality-engineering/test-engineering/#test-planning --\u003e","state":"closed","created_at":"2022-09-22T11:02:09.076Z","updated_at":"2022-11-22T18:26:59.705Z","closed_at":"2022-10-17T07:06:26.533Z","closed_by":{"id":3199302,"username":"dmishunov","name":"Denys Mishunov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d85e45af29611ac2c1395e3c3d6ec5d6?s=80\u0026d=identicon","web_url":"https://gitlab.com/dmishunov"},"labels":["Category:Integrations","Deliverable","Integration::Slack","devops::manage","feature::enhancement","frontend","group::integrations","quad-planning::complete-action","section::dev","type::feature"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":3199302,"username":"dmishunov","name":"Denys Mishunov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d85e45af29611ac2c1395e3c3d6ec5d6?s=80\u0026d=identicon","web_url":"https://gitlab.com/dmishunov"}],"author":{"id":3199302,"username":"dmishunov","name":"Denys Mishunov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d85e45af29611ac2c1395e3c3d6ec5d6?s=80\u0026d=identicon","web_url":"https://gitlab.com/dmishunov"},"type":"ISSUE","assignee":{"id":3199302,"username":"dmishunov","name":"Denys Mishunov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d85e45af29611ac2c1395e3c3d6ec5d6?s=80\u0026d=identicon","web_url":"https://gitlab.com/dmishunov"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375054","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375054","notes":"https://gitlab.com/api/v4/projects/278964/issues/375054/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375054/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375054","relative":"#375054","full":"gitlab-org/gitlab#375054"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8670,"epic":{"id":595009,"iid":8670,"title":"Extend Slack app to support notifications","url":"/groups/gitlab-org/-/epics/8670","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":115579059,"iid":375050,"project_id":278964,"title":"Make Slack Notifications returned as a section for the Slack Application","description":"The issue implies model refactoring as per https://gitlab.com/gitlab-org/gitlab/-/issues/372410#backend\n\nRead https://gitlab.com/gitlab-org/gitlab/-/issues/372410 for more context.","state":"closed","created_at":"2022-09-22T10:38:27.644Z","updated_at":"2022-11-22T18:27:00.308Z","closed_at":"2022-11-17T03:21:06.031Z","closed_by":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"labels":["Category:Integrations","Deliverable","Integration::Slack","backend","devops::manage","feature::enhancement","group::integrations","missed-deliverable","missed:15.5","section::dev","type::feature","workflow::in review"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"}],"author":{"id":3199302,"username":"dmishunov","name":"Denys Mishunov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d85e45af29611ac2c1395e3c3d6ec5d6?s=80\u0026d=identicon","web_url":"https://gitlab.com/dmishunov"},"type":"ISSUE","assignee":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375050","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375050","notes":"https://gitlab.com/api/v4/projects/278964/issues/375050/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375050/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375050","relative":"#375050","full":"gitlab-org/gitlab#375050"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8670,"epic":{"id":595009,"iid":8670,"title":"Extend Slack app to support notifications","url":"/groups/gitlab-org/-/epics/8670","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":115576344,"iid":375046,"project_id":278964,"title":"Introduce the integration_slack_app_notifications feature flag","description":"In the effort of consolidating the Slack Application and Slack Notifications integrations, we have to protect the effort with a feature flag.","state":"closed","created_at":"2022-09-22T10:07:54.457Z","updated_at":"2022-12-13T22:01:18.203Z","closed_at":"2022-10-17T07:06:14.515Z","closed_by":{"id":3199302,"username":"dmishunov","name":"Denys Mishunov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d85e45af29611ac2c1395e3c3d6ec5d6?s=80\u0026d=identicon","web_url":"https://gitlab.com/dmishunov"},"labels":["Category:Integrations","Deliverable","Integration::Slack","backend","devops::manage","feature::enhancement","frontend","group::integrations","section::dev","type::feature"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":3199302,"username":"dmishunov","name":"Denys Mishunov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d85e45af29611ac2c1395e3c3d6ec5d6?s=80\u0026d=identicon","web_url":"https://gitlab.com/dmishunov"}],"author":{"id":3199302,"username":"dmishunov","name":"Denys Mishunov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d85e45af29611ac2c1395e3c3d6ec5d6?s=80\u0026d=identicon","web_url":"https://gitlab.com/dmishunov"},"type":"ISSUE","assignee":{"id":3199302,"username":"dmishunov","name":"Denys Mishunov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d85e45af29611ac2c1395e3c3d6ec5d6?s=80\u0026d=identicon","web_url":"https://gitlab.com/dmishunov"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375046","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375046","notes":"https://gitlab.com/api/v4/projects/278964/issues/375046/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375046/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375046","relative":"#375046","full":"gitlab-org/gitlab#375046"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8670,"epic":{"id":595009,"iid":8670,"title":"Extend Slack app to support notifications","url":"/groups/gitlab-org/-/epics/8670","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":115573006,"iid":375042,"project_id":278964,"title":"FE: Storage project table MVC","description":"# Summary\n\nIn order to bring better visibility into storage usage, the project list on the storage tab under Usage quotas has been [redesigned](https://gitlab.com/gitlab-org/gitlab/-/issues/372093/) - see related epic for iteration breakdown\n\n# Proposal\n\n1. Flatten table and set default sort by highest total storage\n\n### Future iterations:\n\n1. [Remove uploads storage type](https://gitlab.com/gitlab-org/gitlab/-/issues/356546)\n1. [Implement column sorting for each header](https://gitlab.com/gitlab-org/gitlab/-/issues/381420)\n\n# Designs\n\nhttps://gitlab.com/gitlab-org/gitlab/-/issues/378420","state":"closed","created_at":"2022-09-22T09:38:31.779Z","updated_at":"2023-01-05T15:13:56.585Z","closed_at":"2022-12-07T14:58:04.880Z","closed_by":{"id":10373497,"username":"kpalchyk","name":"Kos Palchyk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10373497/avatar.png","web_url":"https://gitlab.com/kpalchyk"},"labels":["UX","[deprecated] Category:Utilization","devops::fulfillment","estimation::completed","frontend","group::utilization","missed:15.6","section::fulfillment","type::feature","workflow::in dev"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":10373497,"username":"kpalchyk","name":"Kos Palchyk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10373497/avatar.png","web_url":"https://gitlab.com/kpalchyk"}],"author":{"id":4665308,"username":"doniquesmit","name":"Donique Smit","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c5737881c65a3063443d7692dfe04f4a?s=80\u0026d=identicon","web_url":"https://gitlab.com/doniquesmit"},"type":"ISSUE","assignee":{"id":10373497,"username":"kpalchyk","name":"Kos Palchyk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10373497/avatar.png","web_url":"https://gitlab.com/kpalchyk"},"user_notes_count":17,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375042","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375042","notes":"https://gitlab.com/api/v4/projects/278964/issues/375042/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375042/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375042","relative":"#375042","full":"gitlab-org/gitlab#375042"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8852,"epic":{"id":611391,"iid":8852,"title":"Namespace storage usage visibility requirements for Fulfillment","url":"/groups/gitlab-org/-/epics/8852","group_id":9970,"human_readable_end_date":"Dec 18, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":115568020,"iid":375038,"project_id":278964,"title":"[Frontend] Add the ability to manage a default project compliance framework on groups","description":"## Problem description\n\nThis issue is an iteration in developing https://gitlab.com/groups/gitlab-org/-/epics/8815+.\n\n## Proposal\n\nUpdate the existing group compliance framework settings UI to enable users to select and remove a default framework.\n\n## Designs\n\nhttps://gitlab.com/groups/gitlab-org/-/epics/8815#design\n\n## Implementation plan\n\n~frontend :three: \n\n*Related issue to update the list to match the designs: https://gitlab.com/gitlab-org/gitlab/-/issues/371013+*\n\n1. Update the GraphQL [query](https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/assets/javascripts/groups/settings/compliance_frameworks/graphql/queries/get_compliance_framework.query.graphql#L18-19) to also fetch the `default` status of each framework.\n1. Add a mutation to the list view to set the `default` attribute of a framework.\n   - Note: Setting one framework to `default: true` sets all others to `default: false`. This is worth considering if there's any caching. Ie we mutate one framework to `default: true` but the previous default framework also shows as default.\n1. Add an [ellipses icon](https://gitlab-org.gitlab.io/gitlab-svgs/?q=~ellipsis_h) in a `GlButton` to the end of the actions.\n1. Move the delete action to the ellipses dropdown.\n   * Note: Default frameworks cannot be deleted.\n1. Add an action for marking the framework as `default` when not default.\n1. Add an action for removing the `default` status of a framework when it is default.\n1. Update `list_item.vue` to display a `GlBadge` when the item is `default`.\n1. Update specs.\n1. Update gitlab~2278655 https://docs.gitlab.com/ee/user/group/manage.html#compliance-frameworks","state":"closed","created_at":"2022-09-22T09:11:30.923Z","updated_at":"2022-12-06T07:58:15.125Z","closed_at":"2022-12-04T20:30:30.422Z","closed_by":{"id":12187344,"username":"nrosandich","name":"Nathan Rosandich","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12187344/avatar.png","web_url":"https://gitlab.com/nrosandich"},"labels":["GitLab Ultimate","Next Up","[deprecated] Accepting merge requests","customer","devops::govern","documentation","frontend","group::compliance","priority::2","section::sec","type::feature","workflow::verification"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":12187344,"username":"nrosandich","name":"Nathan Rosandich","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12187344/avatar.png","web_url":"https://gitlab.com/nrosandich"}],"author":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"type":"ISSUE","assignee":{"id":12187344,"username":"nrosandich","name":"Nathan Rosandich","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12187344/avatar.png","web_url":"https://gitlab.com/nrosandich"},"user_notes_count":11,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375038","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375038","notes":"https://gitlab.com/api/v4/projects/278964/issues/375038/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375038/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375038","relative":"#375038","full":"gitlab-org/gitlab#375038"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8815,"epic":{"id":606909,"iid":8815,"title":"Group-level setting for default compliance framework to apply to new projects","url":"/groups/gitlab-org/-/epics/8815","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":115567764,"iid":375036,"project_id":278964,"title":"[Backend] Add the ability to manage a default project compliance framework on groups","description":"## Problem description\n\nThis issue is an iteration in developing https://gitlab.com/groups/gitlab-org/-/epics/8815+.\n\n## Proposal\n\nAdd the ability to CRUD a default compliance framework on namespaces.\n\n## Implementation plan\n\n~backend :three:\n\n1. Update `ee/app/services/ee/projects/create_service.rb` so that whenever a new project is under a group and the group has set a default compliance framework then create a new `ComplianceManagement::ComplianceFramework::ProjectSettings` with `project_id` as the current project and `framework_id = project.root_namespace.default_compliance_framework.id)`. We can define a method `default_compliance_framework` in `group.rb` as follows:\n\n```ruby\ndef default_compliance_framework\n  default_compliance_framework_id = namespace_settings.default_compliance_framework\n  ComplianceManagement::Framework.where(id: default_compliance_framework_id)\nend\n```\n\n2. Whenever a framework is deleted check if it is the default framework, in case it is then prevent the deletion and show an error message to the user.\n3. Add a `default` field to the `Types::ComplianceManagement::ComplianceFrameworkType`, something like the diff below:\n```diff\ndiff --git a/ee/app/graphql/types/compliance_management/compliance_framework_type.rb b/ee/app/graphql/types/compliance_management/compliance_framework_type.rb\nindex 7f80b916c0c0..1f4c1102ba86 100644\n--- a/ee/app/graphql/types/compliance_management/compliance_framework_type.rb\n+++ b/ee/app/graphql/types/compliance_management/compliance_framework_type.rb\n@@ -27,6 +27,13 @@ class ComplianceFrameworkType \u003c Types::BaseObject\n             null: true,\n             description: 'Full path of the compliance pipeline configuration stored in a project repository, such as `.gitlab/.compliance-gitlab-ci.yml@compliance/hipaa` **(ULTIMATE)**.',\n             authorize: :manage_group_level_compliance_pipeline_config\n+\n+      field :default, GraphQL::Types::Boolean,\n+            null: false, description: 'Default compliance framework for the group.'\n+\n+      def default\n+        object.id == object.namespace.namespace_settings.default_compliance_framework\n+      end\n     end\n   end\n end\n\n```\n4. Update the `Types::ComplianceManagement::ComplianceFrameworkInputType` to also accept an optional boolean argument `default`, this will be used by ~frontend to set and remove default compliance frameworks.","state":"closed","created_at":"2022-09-22T09:09:44.217Z","updated_at":"2022-12-06T02:26:32.520Z","closed_at":"2022-10-31T09:48:31.760Z","closed_by":{"id":9821577,"username":"huzaifaiftikhar1","name":"Huzaifa Iftikhar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9821577/avatar.png","web_url":"https://gitlab.com/huzaifaiftikhar1"},"labels":["GitLab Premium","GitLab Ultimate","backend","devops::govern","documentation","group::compliance","section::sec","type::feature","workflow::verification"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":9821577,"username":"huzaifaiftikhar1","name":"Huzaifa Iftikhar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9821577/avatar.png","web_url":"https://gitlab.com/huzaifaiftikhar1"}],"author":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"type":"ISSUE","assignee":{"id":9821577,"username":"huzaifaiftikhar1","name":"Huzaifa Iftikhar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9821577/avatar.png","web_url":"https://gitlab.com/huzaifaiftikhar1"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375036","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375036","notes":"https://gitlab.com/api/v4/projects/278964/issues/375036/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375036/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375036","relative":"#375036","full":"gitlab-org/gitlab#375036"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8815,"epic":{"id":606909,"iid":8815,"title":"Group-level setting for default compliance framework to apply to new projects","url":"/groups/gitlab-org/-/epics/8815","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":115567432,"iid":375035,"project_id":278964,"title":"Add a new column for namepsace default compliance framework","description":"## Problem description\n\nThis issue is an iteration in developing https://gitlab.com/groups/gitlab-org/-/epics/8815+.\n\n## Proposal\n\nAdd a new ~database column to store the default compliance framework of a namespace.\n\n## Implementation plan\n\n~\"database\" :two:\n\n1. Add a migration to add `default_compliance_framework_id` (INT) as a new column to the `namespace_settings` table.\n2. The new column should be a foreign key to the `compliance_management_frameworks(id)` table.","state":"closed","created_at":"2022-09-22T09:07:28.027Z","updated_at":"2022-12-06T02:04:37.870Z","closed_at":"2022-10-17T06:46:09.534Z","closed_by":{"id":9821577,"username":"huzaifaiftikhar1","name":"Huzaifa Iftikhar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9821577/avatar.png","web_url":"https://gitlab.com/huzaifaiftikhar1"},"labels":["GitLab Ultimate","backend","database","devops::govern","group::compliance","priority::2","section::sec","type::feature","workflow::verification"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":9821577,"username":"huzaifaiftikhar1","name":"Huzaifa Iftikhar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9821577/avatar.png","web_url":"https://gitlab.com/huzaifaiftikhar1"}],"author":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"type":"ISSUE","assignee":{"id":9821577,"username":"huzaifaiftikhar1","name":"Huzaifa Iftikhar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9821577/avatar.png","web_url":"https://gitlab.com/huzaifaiftikhar1"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375035","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375035","notes":"https://gitlab.com/api/v4/projects/278964/issues/375035/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375035/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375035","relative":"#375035","full":"gitlab-org/gitlab#375035"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8815,"epic":{"id":606909,"iid":8815,"title":"Group-level setting for default compliance framework to apply to new projects","url":"/groups/gitlab-org/-/epics/8815","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":115567125,"iid":375034,"project_id":278964,"title":"[Feature flag] Enable ci_raw_variables_in_yaml_config","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout [the `variable:raw` syntax](https://gitlab.com/gitlab-org/gitlab/-/issues/353991) on production,\nthat is currently behind the `ci_raw_variables_in_yaml_config` feature flag.\n\n- Feature issue: #353991\n- Introduced in: !98420\n\n## Owners\n\n- Team: ~\"group::pipeline authoring\" \n- Most appropriate slack channel to reach out to: `#g_pipeline-authoring`\n- Best individual to reach out to: @furkanayhan \n- PM: `@dhershkovitch`\n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## Expectations\n\n### What are we expecting to happen?\n\n\u003c!-- Describe the expected outcome when rolling out this feature --\u003e\n\n### When is the feature viable?\n\n\u003c!-- What are the settings we need to configure in order to have this feature viable? --\u003e\n\n\u003c!-- \nExample below:\n \n1. Enable service ping collection\n   `ApplicationSetting.first.update(usage_ping_enabled: true)`\n--\u003e\n\n### What might happen if this goes wrong?\n\n\u003c!-- Should the feature flag be turned off? Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n_Consider mentioning checks for 5xx errors or other anomalies like an increase in redirects \n(302 HTTP response status)_\n\n### What can we check for monitoring production after rollouts?\n\n_Consider adding links to check for Sentry errors, Production logs for 5xx, 302s, etc._\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Enable the feature globally on non-production environments.\n    - [x] `/chatops run feature set ci_raw_variables_in_yaml_config true --dev --staging --staging-ref`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n      The best environment to validate the feature in is [staging-canary](https://about.gitlab.com/handbook/engineering/infrastructure/environments/#staging-canary)\n      as this is the first environment deployed to. Note you will need to make sure you are configured to use canary as outlined [here](https://about.gitlab.com/handbook/engineering/infrastructure/environments/canary-stage/)\n      when accessing the staging environment in order to make sure you are testing appropriately.\n\n### Specific rollout on production\n\n- Ensure that the feature MRs have been deployed to both production and canary.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- If you're using [project-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [x] `/chatops run feature set --project=gitlab-org/gitlab,gitlab-org/gitlab-foss,gitlab-com/www-gitlab-com ci_raw_variables_in_yaml_config true`\n- If you're using [group-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --group=gitlab-org,gitlab-com ci_raw_variables_in_yaml_config true`\n- If you're using [user-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --user=\u003cyour-username\u003e ci_raw_variables_in_yaml_config true`\n- [ ] Verify that the feature works on the specific entries. Posting the QA result in this issue is preferable.\n\n### Preparation before global rollout\n\n- [ ] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [ ] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [ ] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [ ] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com. \n- [ ] Ensure that any breaking changes have been announced following the [release post process](https://about.gitlab.com/handbook/marketing/blog/release-posts/#deprecations-removals-and-breaking-changes) to ensure GitLab customers are aware.\n- [x] Notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nFor visibility, all `/chatops` commands that target production should be executed in the `#production` slack channel and cross-posted (with the command results) to the responsible team's slack channel (`#g_TEAM_NAME`).\n\n- [ ] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [x] `/chatops run feature set ci_raw_variables_in_yaml_config \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [ ] `/chatops run feature set ci_raw_variables_in_yaml_config \u003crollout-percentage\u003e --random`\n  - Enable the feature globally on production environment.\n    - [x] `/chatops run feature set ci_raw_variables_in_yaml_config true`\n- [ ] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [ ] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [ ] Create a merge request with the following changes. Ask for review and merge it.\n    - [ ] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the default-enabling MR has been included in the release package.\n      If the merge request was deployed before [the monthly release was tagged](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run release check \u003cmerge-request-url\u003e \u003cmilestone\u003e`\n- [ ] Consider cleaning up the feature flag from all environments by running these chatops command in `#production` channel. Otherwise these settings may override the default enabled.\n    - [ ] `/chatops run feature delete ci_raw_variables_in_yaml_config --dev --staging --staging-ref --production`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [ ] (Optional) You can [create a separate issue](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [ ] Set the title to \"[Feature flag] Cleanup `ci_raw_variables_in_yaml_config`\".\n    - [ ] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [ ] Link this rollout issue as a related issue.\n    - [ ] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\nYou can either [create a follow-up issue for Feature Flag Cleanup](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) or use the checklist below in this same issue.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [ ] Create a merge request to remove `ci_raw_variables_in_yaml_config` feature flag. Ask for review and merge it.\n    - [ ] Remove all references to the feature flag from the codebase.\n    - [ ] Remove the YAML definitions for the feature from the repository.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the cleanup MR has been included in the release package.\n      If the merge request was deployed before [the monthly release was tagged](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run release check \u003cmerge-request-url\u003e \u003cmilestone\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] If not already done, clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [ ] `/chatops run feature delete ci_raw_variables_in_yaml_config --dev --staging --staging-ref --production`\n- [ ] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set ci_raw_variables_in_yaml_config false\n```","state":"closed","created_at":"2022-09-22T09:04:32.316Z","updated_at":"2023-01-06T21:34:48.114Z","closed_at":"2023-01-05T12:18:49.096Z","closed_by":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"labels":["Category:Pipeline Authoring","backend","devops::verify","documentation","feature flag","feature::addition","group::pipeline authoring","section::ops","type::feature","workflow::production"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"}],"author":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"type":"ISSUE","assignee":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375034","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":46,"completed_count":8},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"8 of 46 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375034","notes":"https://gitlab.com/api/v4/projects/278964/issues/375034/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375034/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375034","relative":"#375034","full":"gitlab-org/gitlab#375034"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":115562498,"iid":375027,"project_id":278964,"title":"Spike: Should we store License Scanning findings in the primary DB, and how?","description":"\u003c!-- Instructions: Use this template for a proof of concept or when a deeper technical evaluation is required. Please weigh tech evaluation issues and follow the instructions below accordingly. --\u003e \n\nTime-box: 3 days\n\n### Topic to Evaluate\n\nIn https://gitlab.com/gitlab-org/gitlab/-/issues/370010#note_1094757590 we identified that there were essentially two ways to report licenses of SBOM components found in projects, using the Postgres DB of the Rails backend:\n- Dynamic findings: The UI directly shows license data available for the SBOM components found in a project. The SBOM components are JOINed their license data available.\n- Stored findings: A License Scanning job or service stores license scanning findings in the DB, similar to the way vulnerability findings are stored. The UI presents these findings. \n\nWe need to identify the pros and cons of each option, and select the best one before implementing https://gitlab.com/gitlab-org/gitlab/-/issues/370010.\n\n### Tasks to  Evaluate\n\n- [ ] Evaluate dynamic license scanning findings\n   - [ ] Propose DB schema.\n   - [ ] Check feasibility.\n   - [ ] Does it support all License Compliance features?\n   - ~~Estimate the size of the DB tables.~~ No dedicated DB tables.\n   - ~~Estimate the complexity of the scan.~~ No scan.\n   - [ ] Estimate the complexity of rendering the UI. Can we efficiently sort, filter, and paginate license info, if needed? https://gitlab.com/gitlab-org/gitlab/-/issues/375027#note_1120321284\n- [ ] Evaluate stored license scanning findings.\n   - [ ] Propose DB schema.\n   - [ ] Check feasibility.\n   - [ ] Does it support all License Compliance features?\n   - [ ] Estimate the size and growth of the DB tables. https://gitlab.com/gitlab-org/gitlab/-/issues/375027#note_1119642045\n      * What is the anticipated growth for the new table over the next 3 months, 6 months, 1 year? What assumptions are these based on?\n      * How many reads and writes per hour would you expect this table to have in 3 months, 6 months, 1 year? Under what circumstances are rows updated? What assumptions are these based on?\n      * Based on the anticipated data volume and access patterns, does the new table pose an availability risk to GitLab.com or self-managed instances? Does the proposed design scale to support the needs of GitLab.com and self-managed customers? \n   - [ ] Estimate the complexity of the scan.\n   - [ ] Estimate the complexity of rendering the UI. Can we efficiently sort, filter, and paginate license info, if needed? https://gitlab.com/gitlab-org/gitlab/-/issues/375027#note_1120321284\n   - [ ] Determine the cost of migrating from dynamic to stored findings. Is this a two-way door?\n- [ ] Identify the best option.\n- [ ] Update https://gitlab.com/gitlab-org/gitlab/-/issues/370010+.\n\nSee https://gitlab.com/gitlab-org/gitlab/-/issues/355102+ for reference.\n\n### Risks and Implementation Considerations \n\n\u003c!-- Identify any risks found in the research, whether this is performance, impacts to other functionality or other bugs --\u003e\n\n/cc @brytannia","state":"closed","created_at":"2022-09-22T08:18:13.258Z","updated_at":"2022-10-21T12:05:50.548Z","closed_at":"2022-10-11T16:34:22.586Z","closed_by":{"id":1958785,"username":"fcatteau","name":"Fabien Catteau","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1958785/avatar.png","web_url":"https://gitlab.com/fcatteau"},"labels":["Category:License Compliance","Deliverable","GitLab Ultimate","backend","database","devops::secure","feature::addition","group::composition analysis","quad-planning::complete-no-action","section::sec","type::feature","won't do","wontfix","workflow::in dev"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":1958785,"username":"fcatteau","name":"Fabien Catteau","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1958785/avatar.png","web_url":"https://gitlab.com/fcatteau"}],"author":{"id":1958785,"username":"fcatteau","name":"Fabien Catteau","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1958785/avatar.png","web_url":"https://gitlab.com/fcatteau"},"type":"ISSUE","assignee":{"id":1958785,"username":"fcatteau","name":"Fabien Catteau","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1958785/avatar.png","web_url":"https://gitlab.com/fcatteau"},"user_notes_count":16,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375027","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":15,"completed_count":0},"weight":3,"blocking_issues_count":1,"has_tasks":true,"task_status":"0 of 15 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375027","notes":"https://gitlab.com/api/v4/projects/278964/issues/375027/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375027/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375027","relative":"#375027","full":"gitlab-org/gitlab#375027"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8072,"epic":{"id":523613,"iid":8072,"title":"Replace license-finder","url":"/groups/gitlab-org/-/epics/8072","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":115546152,"iid":375001,"project_id":278964,"title":"[Feature flag] Rollout of `webhooks_gitlab_instance_header`","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout [the feature](https://gitlab.com/gitlab-org/gitlab/-/issues/31333) on production,\nthat is currently behind the `webhooks_gitlab_instance_header` feature flag.\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\n## Owners\n\n- Team: ~\"group::integrations\" \n- Most appropriate slack channel to reach out to: `#g_ecosystem_integrations`\n- Best individual to reach out to: `@.luke`\n- PM: `@g.hickman` \n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## Expectations\n\n### What are we expecting to happen?\n\n`X-Gitlab-Instance` header sent in webhooks.\n\n### When is the feature viable?\n\nImmediately.\n\n### What might happen if this goes wrong?\n\nAn error with the webhook.\n\n### What can we check for monitoring production after rollouts?\n\n- Sentry:\n    - [WebHookService errors](https://sentry.gitlab.net/gitlab/gitlabcom/?query=is%3Aunresolved+WebHookService)\n    - [WebHookWorker errors](https://sentry.gitlab.net/gitlab/gitlabcom/?query=is%3Aunresolved+WebHookWorker)\n- Kibana for errors\n     - [WebHookWorker failures](https://log.gprd.gitlab.net/goto/20a8a5a0-42c4-11ed-b0ec-930003e0679c)\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Enable the feature globally on non-production environments.\n    - [x] `/chatops run feature set webhooks_gitlab_instance_header true --dev --staging --staging-ref`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n      The best environment to validate the feature in is [staging-canary](https://about.gitlab.com/handbook/engineering/infrastructure/environments/#staging-canary)\n      as this is the first environment deployed to. Note you will need to make sure you are configured to use canary as outlined [here](https://about.gitlab.com/handbook/engineering/infrastructure/environments/canary-stage/)\n      when accessing the staging environment in order to make sure you are testing appropriately.\n\n### Specific rollout on production\n\n- Ensure that the feature MRs have been deployed to both production and canary.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- If you're using [project-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [x] `/chatops run feature set --project=gitlab-org/gitlab,gitlab-org/gitlab-foss,gitlab-com/www-gitlab-com webhooks_gitlab_instance_header true`\n- If you're using [group-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [x] `/chatops run feature set --group=gitlab-org,gitlab-com webhooks_gitlab_instance_header true`\n- If you're using [user-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [x] `/chatops run feature set --user=\u003cyour-username\u003e webhooks_gitlab_instance_header true`\n- [x] Verify that the feature works on the specific entries. Posting the QA result in this issue is preferable.\n\n### Preparation before global rollout\n\n- [x] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [x] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [x] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [x] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com. \n- [x] Ensure that any breaking changes have been announced following the [release post process](https://about.gitlab.com/handbook/marketing/blog/release-posts/#deprecations-removals-and-breaking-changes) to ensure GitLab customers are aware.\n- [x] Notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nFor visibility, all `/chatops` commands that target production should be executed in the `#production` slack channel and cross-posted (with the command results) to the responsible team's slack channel (`#g_TEAM_NAME`).\n\n- [x] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [ ] `/chatops run feature set webhooks_gitlab_instance_header \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [x] `/chatops run feature set webhooks_gitlab_instance_header \u003crollout-percentage\u003e --random`\n  - Enable the feature globally on production environment.\n    - [x] `/chatops run feature set webhooks_gitlab_instance_header true`\n- [x] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [ ] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\nYou can either [create a follow-up issue for Feature Flag Cleanup](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) or use the checklist below in this same issue.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [x] Create a merge request to remove `webhooks_gitlab_instance_header` feature flag. Ask for review and merge it.\n    - [x] Remove all references to the feature flag from the codebase.\n    - [x] Remove the YAML definitions for the feature from the repository.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [x] Ensure that the cleanup MR has been included in the release package.\n      If the merge request was deployed before [the monthly release was tagged](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run release check \u003cmerge-request-url\u003e \u003cmilestone\u003e`\n- [x] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [x] If not already done, clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [x] `/chatops run feature delete webhooks_gitlab_instance_header --dev --staging --staging-ref --production`\n- [ ] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set webhooks_gitlab_instance_header false\n```","state":"closed","created_at":"2022-09-22T03:08:05.840Z","updated_at":"2022-11-22T18:27:01.806Z","closed_at":"2022-10-06T01:31:00.307Z","closed_by":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"labels":["Category:Integrations","automation:ml","automation:ml wrong","devops::manage","feature flag","feature::addition","group::integrations","section::dev","type::feature","workflow::in review"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"}],"author":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"type":"ISSUE","assignee":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/375001","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":32,"completed_count":27},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"27 of 32 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/375001","notes":"https://gitlab.com/api/v4/projects/278964/issues/375001/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/375001/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#375001","relative":"#375001","full":"gitlab-org/gitlab#375001"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":115539797,"iid":374994,"project_id":278964,"title":"Restructure incident management docs around slack features","description":"### Problem\nDocs for how to use Slack with our incident management features are currently very minimal (two sentences!) and presented on the two, separate pages - [Incident docs page](https://docs.gitlab.com/ee/operations/incident_management/incidents.html#manage-incidents-from-slack) and [Paging and notifications](https://docs.gitlab.com/ee/operations/incident_management/paging.html#slack-notifications). \n\nWe should figure out:\n1) Where do we want the Slack docs to go? Should we have create a new page, specifically to document the Slack workflow for incident management? Should we consolidate the Slack docs, so they're only in one place?\n2) How to structure the docs so that, as we add new features to the Slack integration for incident management, we can add them in a way that makes sense.\n\n### Proposal\n\n**Restructure docs pages**\n\n\u003e MR: https://gitlab.com/gitlab-org/gitlab-docs/-/merge_requests/3304\n\nRe-arrange the existing docs pages so that similar content is together. Also introduce a new page for Slack. That would look like this:\n\n*Incident Management*\n\n* Alerts\n  * Integrations\n* Incidents\n* On-call schedules\n  * Escalation Policies\n  * Paging and notifications \n* Slack\n* Status page\n\n**New Slack page structure**\n\n\u003e MR: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/104104\n\n* Incident management in Slack\n  * *description of why to use GitLab Slack app for incident management*\n  * *small diagram of user/data flow*\n* Setup and configuration\n  * Enabling incident slash commands in Slack\n    * *permissions \u0026 link to [Slack app page](https://docs.gitlab.com/ee/user/project/integrations/gitlab_slack_application.html)*\n  * Enabling incident notifications from GitLab to Slack\n    * *permissions \u0026 instructions for [incident-specific notifications](https://gitlab.com/gitlab-org/gitlab/uploads/d96d8e6a95aaa104aa237cb905b4b730/Settings_updates.png)*\n    * *link to instructions for setting up [Slack notifications](https://docs.gitlab.com/ee/user/project/integrations/slack.html) for all issues*\n* Managing a GitLab incident from Slack\n  * Declare an incident\n    * *permissions \u0026 instructions*\n    * Utilize an incident template\n      * *link to incident template docs*\n      * *link to incident-specific quick actions reference below*\n    * Link an existing Slack channel to an incident\n      * *link to resource links docs*\n    * Create a new Slack channel for a new incident **\\[To be added once the feature exists\\]**\n      * *permissions \u0026 instructions*\n  * Add a comment\n    * *permissions \u0026 instructions*\n    * *link to incident-specific quick actions reference below*\n  * Add a timeline event\n    * *permissions \u0026 instructions*\n    * *link to timeline events docs*\n  * Close an incident\n    * *permissions \u0026 instructions*\n    * *link to incident closing docs*\n* Sending GitLab incident notifications to Slack\n  * When an incident is declared\n    * *link to configuration section above*\n    * *description of information included in the notification*\n  * When a timeline event is added **\\[To be added once the feature exists\\]**\n    * *link to configuration section above*\n    * *description of information included in the notification*\n* Incident-specific commands cheat sheet\n  * *link to docs on referencing GitLab usernames from slack*\n  * Slack slash commands\n    * *link to slash command reference page*\n    * *table of incident-specific slash commands*\n  * GitLab quick actions\n    * *link to quick action page*\n    * *table of incident-specific quick actions*\n* Troubleshooting\n  * No projects in the incident creation project dropdown\n  * Slash commands not listed in shortcut menu\n\n**Existing Slack pages**\n\nWhen we have the new Slack page in place, we can add a link to it from the smaller, summary pages on the `Incident` and `Paging and notifications` pages.","state":"closed","created_at":"2022-09-21T22:50:52.333Z","updated_at":"2022-12-15T12:48:34.170Z","closed_at":"2022-12-06T16:39:25.322Z","closed_by":{"id":4867274,"username":"msedlakjakubowski","name":"Marcin Sedlak-Jakubowski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4867274/avatar.png","web_url":"https://gitlab.com/msedlakjakubowski"},"labels":["Technical Writing","devops::monitor","docs::improvement","documentation","group::respond","maintenance::refactor","section::ops","type::maintenance"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":2799498,"username":"ameliabauerly","name":"Amelia Bauerly","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2799498/avatar.png","web_url":"https://gitlab.com/ameliabauerly"}],"author":{"id":3163848,"username":"syasonik","name":"Sarah Yasonik","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3163848/avatar.png","web_url":"https://gitlab.com/syasonik"},"type":"ISSUE","assignee":{"id":2799498,"username":"ameliabauerly","name":"Amelia Bauerly","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2799498/avatar.png","web_url":"https://gitlab.com/ameliabauerly"},"user_notes_count":34,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/374994","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/374994","notes":"https://gitlab.com/api/v4/projects/278964/issues/374994/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/374994/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#374994","relative":"#374994","full":"gitlab-org/gitlab#374994"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8809,"epic":{"id":605999,"iid":8809,"title":"Rollout \u0026 Maintenance: Incident workflow in Slack","url":"/groups/gitlab-org/-/epics/8809","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":115538597,"iid":374981,"project_id":278964,"title":"String values are not escaped by the GraphQlAstPrinter","description":"### Problem\n\nThe GraphQL support in API Security works by creating a GraphQL AST that is updated with mutated values. The AST is then turned into a GraphQL operation using the `GraphQlAstPrinter` component. The `GraphQlAstPrinter` is not escaping special characters in the string when handling `StringValue` AST nodes. This results in mutated values escaping the string value, resulting in invalid GraphQL syntax.\n\nIn this example we see an XXE injection into the `before` argument to the `allThings` things query operation. \nThe quoting around \"1.0\" and \"utf-8\" is one level to shallow, and instead of setting the `before` argument's value, instead we are\ncreating invalid GraphQL syntax. This is validated through the syntax error response.\n\nPipeline Job: https://gitlab.com/gitlab-org/security-products/tests/api-fuzzing-e2e/dast-generic/-/jobs/3042676030\n\nRequest:\n```json\n\"body\": \"{\\\"query\\\":\\\"query allThings {allThings(before: \\\\\\\"\u003c?xml version=\\\\\\\"1.0\\\\\\\" encoding=\\\\\\\"utf-8\\\\\\\"?\u003e\u003c!DOCTYPE foo [  \u003c!ELEMENT foo ANY \u003e  \u003c!ENTITY xmlxxe SYSTEM \\\\\\\"file:///etc/passwd\\\\\\\"\u003e]\u003e\u003cfoo\u003e\u0026xmlxxe;\u003c/foo\u003e\\\\\\\", after: \\\\\\\"hello\\\\\\\", first: 42, last: 42) {pageInfo {hasNextPage}}}\\\",\\\"variables\\\":null}\"\n```\n\nResponse:\n\n```json\n\"body\": \"{\\\"errors\\\":[{\\\"message\\\":\\\"Syntax Error GraphQL (1:52) Expected Name, found Float \\\\\\\"1.0\\\\\\\"\\\\n\\\\n1: query allThings {allThings(before: \\\\\\\"\u003c?xml version=\\\\\\\"1.0\\\\\\\" encoding=\\\\\\\"utf-8\\\\\\\"?\u003e\u003c!DOCTYPE foo [  \u003c!ELEMENT foo ANY \u003e  \u003c!ENTITY xmlxxe SYSTEM \\\\\\\"file:///etc/passwd\\\\\\\"\u003e]\u003e\u003cfoo\u003e\u0026xmlxxe;\u003c/foo\u003e\\\\\\\", after: \\\\\\\"hello\\\\\\\", first: 42, last: 42) {pageInfo {hasNextPage}}}\\\\n                                                      ^\\\\n\\\",\\\"locations\\\":[{\\\"line\\\":1,\\\"column\\\":52}]}]}\"\n```\n\n### Proposal\n\nModify the `GraphQlAstPrinter` to quote string values when they are written out.\n\n_Existing code that doesn't string escape:_\n\n```csharp\n            Config\u003cStringValue\u003e(c =\u003e\n            {\n                c.Field(x =\u003e x.Value);\n                c.Print(f =\u003e\n                {\n                    var val = f.Arg(x =\u003e x.Value);\n                    if (!string.IsNullOrWhiteSpace(val?.ToString()) \u0026\u0026 !val.ToString().StartsWith(\"\\\"\", StringComparison.InvariantCulture))\n                    {\n                        val = $\"\\\"{val}\\\"\";\n                    }\n                    return val;\n                });\n            });\n```\n\n### Tasks\n\n1. [x] Add test to prove bug\n1. [x] Modify code to escape special characters like double-quote (\")\n1. [x] Verify all test are passing\n1. [x] Release new version of API Security","state":"closed","created_at":"2022-09-21T21:46:35.680Z","updated_at":"2022-10-24T17:33:22.020Z","closed_at":"2022-09-28T16:43:17.932Z","closed_by":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"labels":["Category:API Security","GitLab Ultimate","backend","bug::functional","devops::secure","group::dynamic analysis","milestone::p2","priority::3","section::sec","severity::3","type::bug","workflow::production"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"}],"author":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"type":"ISSUE","assignee":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/374981","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":4},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"4 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/374981","notes":"https://gitlab.com/api/v4/projects/278964/issues/374981/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/374981/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#374981","relative":"#374981","full":"gitlab-org/gitlab#374981"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":116830584,"iid":377837,"project_id":278964,"title":"Listbox: Support for reset action","description":"We need a way to add a reset button to listboxes' headers.\n\n![](https://gitlab.com/groups/gitlab-org/-/uploads/92960801461eaf89775bc6cec441ad9f/CleanShot_2022-09-20_at_14.30.26_2x.png)\n\nThe reset button should...\n* ...have a customizable label to reflect the context the listbox is being used in.\n* ...only show up if the listbox has a header. Showing the reset button in an empty header is not allowed.\n* ...be hidden if no item is selected in the listbox.\n\n## Implementation plan\n\n- [x] Expose an `resetButtonLabel` prop.\n- [x] If the prop is omitted, the button never shows up.\n- [x] On click, the `cleared` event is emitted.\n- [x] Left-align the header to match the designs in https://www.figma.com/file/qEddyqCrI7kPSBjGmwkZzQ/branch/5YYrJSrszk6dw9619HHPt9/%F0%9F%93%99-Component-library?node-id=425%3A14.","state":"closed","created_at":"2022-09-21T18:05:12.843Z","updated_at":"2022-11-22T18:27:03.300Z","closed_at":"2022-10-13T16:59:16.398Z","closed_by":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"labels":["component:dropdown","devops::manage","dropdown::listbox","feature::enhancement","frontend","group::foundations","pajamas::build","section::dev","type::feature","workflow::in review"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"}],"author":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"type":"ISSUE","assignee":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/377837","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":4},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"4 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/377837","notes":"https://gitlab.com/api/v4/projects/278964/issues/377837/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/377837/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#377837","relative":"#377837","full":"gitlab-org/gitlab#377837"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8677,"epic":{"id":596381,"iid":8677,"title":"Dropdowns \u003eListbox \u003e Implement","url":"/groups/gitlab-org/-/epics/8677","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":115521776,"iid":374938,"project_id":278964,"title":"Ability to enter additional activation code(s) for future subscription(s)","description":"## Background\nCurrently, when a customer has an active Cloud License enabled subscription, there is no option for them to enter a second activation code. \n\nUnlike with a legacy license MY deal, a cloud license enabled MY deal does not generally require a new activation code to be applied at the start of a new year. Thus, there was not thought to be a need for entering multiple activation codes on a single instance.\n\n## Problem\nFor a MY deal created as a single subscription and activated with cloud licensing, with QSR enabled, there is no issue and no need to enter a second activation code. This is the standard scenario. However, often, limitations in our systems/processes require a single MY deal to be setup as multiple unique subscriptions. In these scenarios, a second activation code is generated and would need to be entered in order for the customer to continue to years 2/3/etc. This occurs in the following scenarios:\n1. Ramp deal created as multiple unique subscriptions\n2. EoA deal created as multiple unique subscriptions\n3. MY deal with CL enabled but QSR disabled (scenario also being reviewed separately: https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4816)\n\nSee current view, no button to add a subscription, so no way for the customer to activate years 2/3:\n![image](/uploads/509c94ed5810b5e4298a0c50a358ec40/image.png)\n\n\n### Workaround\nUntil this ability is added, for customers in this scenario, their options are as follows:\n\nIf their future year subscriptions do not yet have activation codes created (created pre-strict cloud licensing or opted out):\n1. Upload the legacy license key for years 2/3. Once active, Customer can request to move to cloud licensing during years 2 and 3 via Support ticket.\n\nIf their future year subscriptions have activation codes and/or are on strict cloud licensing:\n1. Reach out to sales representative to request a Legacy license. Support can switch the subscription to `TurnOnCloudLicensing` to `No` after Sales get approval from VP, and then follow the above process for legacy upload.\n2. ~~Wait until the new subscription starts. Delete the current activation code and add the new one. NOTE: this will temporarily downgrade the subscription to free, and then risks an error when applying the new code.~~ Support should apply a temporary license for a customer in the grace period between multi year cloud activated subscriptions. This allows the customer to enter the new activation code without reverting to free. \n\n## Proposal\n\n| Task | MR | Status\n| ------ | ------ | ------  |\n|   Change sync button     |  https://gitlab.com/gitlab-org/gitlab/-/merge_requests/106507      | ~\"workflow::production\" |\n|    Remove manage subscription button, replace with CDot link    |   https://gitlab.com/gitlab-org/gitlab/-/merge_requests/106502     | ~\"workflow::production\" |\n|    Add activation code button   |  https://gitlab.com/gitlab-org/gitlab/-/merge_requests/106492 | ~\"workflow::production\"  |\n| Remaining small UI changes (reordering details etc) | https://gitlab.com/gitlab-org/gitlab/-/merge_requests/103983 | ~\"workflow::production\" This will be the final pass, so blocking until the other MRs are through to ensure we have all of the changes outlined in the issue\n\nAdd the ability to enter a second activation code on self-managed instances when one has already been applied. \n* This should work the same way as the applying of a legacy instance today:\n   * User is able to enter a new code\n   * They receive a confirmation pop-up when succesfully applied (or error if unsuccessful)\n   * The subscription then shows up in the list with date uploaded/starts/ends\n\n![Add_Activation_Code](/uploads/f732b1de52e245b2c1aada3e90ae196f/Add_Activation_Code.png)\n\n## Design\n[Figma file](https://www.figma.com/file/xqtLfBNjyhx0It5g9TFyh5/Add-second-activation-code?node-id=0%3A1)\n\n## Reported Examples\n1. https://gitlab.my.salesforce.com/0016100000KvaYA\n2. https://gitlab.zendesk.com/agent/tickets/330534\n2. https://gitlab.zendesk.com/agent/tickets/357946\n3. ![image](/uploads/137d6f14326dbc80977ab3ec85499f08/image.png)","state":"closed","created_at":"2022-09-21T16:39:29.825Z","updated_at":"2023-01-13T16:28:27.742Z","closed_at":"2023-01-04T14:32:51.089Z","closed_by":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"labels":["Category:SM Provisioning","SUS::Impacting","Support Interest","Support::Interest","Technical Writing","Track Health Status","UI text","UX","customer","devops::fulfillment","frontend","group::billing and subscription management","missed:15.5","missed:15.6","missed:15.7","priority::2","section::fulfillment","severity::2","type::feature","workflow::production"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},{"id":10770603,"username":"lmeckley","name":"Laura Meckley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10770603/avatar.png","web_url":"https://gitlab.com/lmeckley"}],"author":{"id":7964536,"username":"courtmeddaugh","name":"Courtney Meddaugh","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7964536/avatar.png","web_url":"https://gitlab.com/courtmeddaugh"},"type":"ISSUE","assignee":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"user_notes_count":76,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/374938","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/374938","notes":"https://gitlab.com/api/v4/projects/278964/issues/374938/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/374938/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#374938","relative":"#374938","full":"gitlab-org/gitlab#374938"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8888,"epic":{"id":613155,"iid":8888,"title":"Cloud Licensing Support for Multi-Year, Multi-Subscription Deals","url":"/groups/gitlab-org/-/epics/8888","group_id":9970,"human_readable_end_date":"Jan 31, 2023","human_readable_timestamp":"\u003cstrong\u003e16\u003c/strong\u003e days remaining"},"iteration":null,"health_status":"on_track"},{"id":115516786,"iid":374927,"project_id":278964,"title":"Ensure batched background migrations are executed as post-migrations","description":"The following methods must be called in post-migrations:\n\n- `ensure_batched_background_migration_is_finished`\n- `queue_batched_background_migration`\n- `delete_batched_background_migration`\n- `finalize_batched_background_migration`\n\nIf one of these methods is used in a regular migration. The rubocop job should fail.","state":"closed","created_at":"2022-09-21T15:15:43.978Z","updated_at":"2022-11-27T16:04:36.424Z","closed_at":"2022-11-21T21:20:01.815Z","closed_by":{"id":12352353,"username":"jon_jenkins","name":"Jon Jenkins","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12352353/avatar.png","web_url":"https://gitlab.com/jon_jenkins"},"labels":["Category:Database","backend","database::active","devops::data_stores","group::database","missed:15.5","missed:15.6","section::enablement","type::maintenance","workflow::in review"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":12352353,"username":"jon_jenkins","name":"Jon Jenkins","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12352353/avatar.png","web_url":"https://gitlab.com/jon_jenkins"}],"author":{"id":9231122,"username":"dfrazao-gitlab","name":"Diogo Frazão","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9231122/avatar.png","web_url":"https://gitlab.com/dfrazao-gitlab"},"type":"ISSUE","assignee":{"id":12352353,"username":"jon_jenkins","name":"Jon Jenkins","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12352353/avatar.png","web_url":"https://gitlab.com/jon_jenkins"},"user_notes_count":4,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/374927","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/374927","notes":"https://gitlab.com/api/v4/projects/278964/issues/374927/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/374927/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#374927","relative":"#374927","full":"gitlab-org/gitlab#374927"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8892,"epic":{"id":613623,"iid":8892,"title":"Database Review: Cops improvement (RuboCop)","url":"/groups/gitlab-org/-/epics/8892","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":115514812,"iid":374926,"project_id":278964,"title":"[Bug] Users can view audit events from other members","description":"\u003c!---\nPlease read this!\n\nThis template is for reporting a security vulnerability about GitLab or \nGitLab.com\n\nStrongly consider reporting via https://hackerone.com/gitlab, as \nHackerOne is our preferred disclosure platform.\n\nSee also:\n\n- https://about.gitlab.com/security/disclosure/\n- https://about.gitlab.com/handbook/engineering/security/#creating-new-security-issues\n- https://about.gitlab.com/handbook/engineering/security/#engaging-the-security-on-call\n\n---\u003e\n\n### Summary\n\nUsers without expected permission can search for and view audit events from other users using the UI.\n\nAs noted in our feature [documentation](https://docs.gitlab.com/ee/administration/audit_events.html#group-events), events by other members should only be visible:\n\n1. On **groups** for `owners` and `admins`.\n1. On **projects** for `maintainers` and above.\n\nUsers with lower access should only be able to view their own events.\n\n### Additional notes\n\n- Users have to be logged in to view the audit events on a group / project.\n- I could not replicate this bug on the [audit events API](https://docs.gitlab.com/ee/api/audit_events.html#group-audit-events).\n\n### Steps to reproduce\n\n1. Log in with user_A and create an audit event (create / import a project / change approval rules).\n1. Log in with user_B that has a `Developer` role and view the audit events page for the same group / project where the event was created:\n   - `https://staging.gitlab.com/groups/[GROUP]/-/audit_events`\n1. Append user_A's username to the URL and hit enter:\n   - `?entity_type=Author\u0026author_username=[USERNAME]`\n1. You should now see user_A's audit events.\n\n### Example Project\n\nhttps://gitlab.com/groups/gitlab-org/-/audit_events?entity_type=Author\u0026author_username=employment-bot\n\nMost users do not have `owner` access on GitLab-org so the above should not show results.\n\n### What is the current *bug* behavior?\n\nGroup and project members can view the audit events from all members.\n\n### What is the expected *correct* behavior?\n\nGroup and project members should only be able to view audit events generated by themselves, unless:\n\n1. They have `owner` and `admin` role in a group.\n1. They have `maintainer` or above role in a project.\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\nI suspect there's an issue or lack of permission checking on the `AuditEventsController`.","state":"closed","created_at":"2022-09-21T14:55:12.033Z","updated_at":"2022-12-06T02:26:32.563Z","closed_at":"2022-11-02T20:12:33.615Z","closed_by":{"id":4992072,"username":"dcouture","name":"Dominic Couture","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4992072/avatar.png","web_url":"https://gitlab.com/dcouture"},"labels":["Weakness::CWE-863","backend","bug::vulnerability","devops::govern","group::compliance","priority::2","section::sec","security","security-awards::awarded","severity::3","type::bug","workflow::awaiting security release"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},{"id":9821577,"username":"huzaifaiftikhar1","name":"Huzaifa Iftikhar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9821577/avatar.png","web_url":"https://gitlab.com/huzaifaiftikhar1"}],"author":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"type":"ISSUE","assignee":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"user_notes_count":16,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2022-10-26","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/374926","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/374926","notes":"https://gitlab.com/api/v4/projects/278964/issues/374926/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/374926/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#374926","relative":"#374926","full":"gitlab-org/gitlab#374926"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":115513158,"iid":374922,"project_id":278964,"title":"[Spike] Investigate the effort to scope issue cards position in a board to that specific board","description":"This issue is just for evaluating the efort needed to have the issue boards support a relative position scoped to the board rather than global relative position similar to epic boards.\n\n#### Links to epic boards relative position implementation\n- https://gitlab.com/gitlab-org/gitlab/-/merge_requests/59379+\n- link 2\n- \n\n#### Potential tasks for implementing the issue boards relative position\n- [ ] Task 1\n- [ ] Task 2\n- [ ] \n\n#### Concerns or things to consider\n- If issue boards are going to no longer use the global positioning, do we need to take care of keeping the positioning of the issues when transitioning to relative position scoped to the board?\n-","state":"closed","created_at":"2022-09-21T14:35:17.438Z","updated_at":"2022-12-14T17:47:54.166Z","closed_at":"2022-12-14T17:47:54.147Z","closed_by":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"labels":["[deprecated] Accepting merge requests","backend","boards","devops::plan","feature::enhancement","group::project management","missed-deliverable","missed:15.5","missed:15.6","section::dev","type::feature","workflow::planning breakdown"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[],"author":{"id":3483274,"username":"acroitor","name":"Alexandru Croitor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/461378ef52c26eec55e6c15ec09bb9ed?s=80\u0026d=identicon","web_url":"https://gitlab.com/acroitor"},"type":"ISSUE","assignee":null,"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/374922","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/374922","notes":"https://gitlab.com/api/v4/projects/278964/issues/374922/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/374922/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#374922","relative":"#374922","full":"gitlab-org/gitlab#374922"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":115512513,"iid":374921,"project_id":278964,"title":"[Feature flag] Rollout of `search_blobs_use_code_analyzer`","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout [the feature](ISSUE LINK) on production,\nthat is currently behind the `\u003cfeature-flag-name\u003e` feature flag.\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\n## Owners\n\n- Team: NAME_OF_TEAM\n- Most appropriate slack channel to reach out to: `#g_TEAM_NAME`\n- Best individual to reach out to: NAME\n- PM: NAME\n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## Expectations\n\n### What are we expecting to happen?\n\n\u003c!-- Describe the expected outcome when rolling out this feature --\u003e\n\n### When is the feature viable?\n\n\u003c!-- What are the settings we need to configure in order to have this feature viable? --\u003e\n\n\u003c!-- \nExample below:\n \n1. Enable service ping collection\n   `ApplicationSetting.first.update(usage_ping_enabled: true)`\n--\u003e\n\n### What might happen if this goes wrong?\n\n\u003c!-- Should the feature flag be turned off? Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n_Consider mentioning checks for 5xx errors or other anomalies like an increase in redirects \n(302 HTTP response status)_\n\n### What can we check for monitoring production after rollouts?\n\n_Consider adding links to check for Sentry errors, Production logs for 5xx, 302s, etc._\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- Ensure that the feature MRs have been deployed to non-production environments.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [ ] Enable the feature globally on non-production environments.\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e true --dev --staging --staging-ref`\n- [ ] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n      The best environment to validate the feature in is [staging-canary](https://about.gitlab.com/handbook/engineering/infrastructure/environments/#staging-canary)\n      as this is the first environment deployed to. Note you will need to make sure you are configured to use canary as outlined [here](https://about.gitlab.com/handbook/engineering/infrastructure/environments/canary-stage/)\n      when accessing the staging environment in order to make sure you are testing appropriately.\n\n### Specific rollout on production\n\n- Ensure that the feature MRs have been deployed to both production and canary.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- If you're using [project-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --project=gitlab-org/gitlab,gitlab-org/gitlab-foss,gitlab-com/www-gitlab-com \u003cfeature-flag-name\u003e true`\n- If you're using [group-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --group=gitlab-org,gitlab-com \u003cfeature-flag-name\u003e true`\n- If you're using [user-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --user=\u003cyour-username\u003e \u003cfeature-flag-name\u003e true`\n- [ ] Verify that the feature works on the specific entries. Posting the QA result in this issue is preferable.\n\n### Preparation before global rollout\n\n- [ ] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [ ] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [ ] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [ ] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com. \n- [ ] Ensure that any breaking changes have been announced following the [release post process](https://about.gitlab.com/handbook/marketing/blog/release-posts/#deprecations-removals-and-breaking-changes) to ensure GitLab customers are aware.\n- [ ] Notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nFor visibility, all `/chatops` commands that target production should be executed in the `#production` slack channel and cross-posted (with the command results) to the responsible team's slack channel (`#g_TEAM_NAME`).\n\n- [ ] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e --random`\n  - Enable the feature globally on production environment.\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e true`\n- [ ] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [ ] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [ ] Create a merge request with the following changes. Ask for review and merge it.\n    - [ ] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the default-enabling MR has been included in the release package.\n      If the merge request was deployed before [the monthly release was tagged](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run release check \u003cmerge-request-url\u003e \u003cmilestone\u003e`\n- [ ] Consider cleaning up the feature flag from all environments by running these chatops command in `#production` channel. Otherwise these settings may override the default enabled.\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --dev --staging --staging-ref --production`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [ ] (Optional) You can [create a separate issue](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [ ] Set the title to \"[Feature flag] Cleanup `\u003cfeature-flag-name\u003e`\".\n    - [ ] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [ ] Link this rollout issue as a related issue.\n    - [ ] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\nYou can either [create a follow-up issue for Feature Flag Cleanup](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) or use the checklist below in this same issue.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [ ] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag. Ask for review and merge it.\n    - [ ] Remove all references to the feature flag from the codebase.\n    - [ ] Remove the YAML definitions for the feature from the repository.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the cleanup MR has been included in the release package.\n      If the merge request was deployed before [the monthly release was tagged](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run release check \u003cmerge-request-url\u003e \u003cmilestone\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] If not already done, clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --dev --staging --staging-ref --production`\n- [ ] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set \u003cfeature-flag-name\u003e false\n```","state":"closed","created_at":"2022-09-21T14:26:34.985Z","updated_at":"2022-09-28T12:06:08.629Z","closed_at":"2022-09-28T12:06:07.936Z","closed_by":{"id":5054237,"username":"dgruzd","name":"Dmitry Gruzd","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5054237/avatar.png","web_url":"https://gitlab.com/dgruzd"},"labels":["Category:Global Search","[deprecated] Accepting merge requests","devops::data_stores","feature flag","feature::addition","group::global search","needs weight","section::enablement","type::feature"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":5054237,"username":"dgruzd","name":"Dmitry Gruzd","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5054237/avatar.png","web_url":"https://gitlab.com/dgruzd"},"type":"ISSUE","assignee":null,"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/374921","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":46,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 46 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/374921","notes":"https://gitlab.com/api/v4/projects/278964/issues/374921/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/374921/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#374921","relative":"#374921","full":"gitlab-org/gitlab#374921"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":115511266,"iid":374919,"project_id":278964,"title":"Improve Insights data loading error - Backend","description":"### Summary\n\nWhen Insights loads data there might be query timeouts due to query volume. We should inform users that the chart wasn't loaded because query tries to load too much data and suggest them to reduce data volume. More info [here](https://gitlab.com/gitlab-org/gitlab/-/issues/338802#note_1086771853)\n\n### Proposal\n\nWhen Insights query timeouts API should return custom error message. This error message should be displayed to user instead of corresponding chart data.\n\n/cc @hsnir1 @blabuschagne","state":"closed","created_at":"2022-09-21T14:10:54.484Z","updated_at":"2022-11-25T03:39:29.355Z","closed_at":"2022-11-07T11:47:44.677Z","closed_by":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"labels":["Category:DevOps Reports","Stretch","Technical Writing","backend","devops::plan","estimation::completed","frontend","group::optimize","insights","priority::2","section::dev","type::maintenance","workflow::production"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"}],"author":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"type":"ISSUE","assignee":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/374919","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/374919","notes":"https://gitlab.com/api/v4/projects/278964/issues/374919/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/374919/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#374919","relative":"#374919","full":"gitlab-org/gitlab#374919"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8195,"epic":{"id":540318,"iid":8195,"title":"🧰  Insights improvements","url":"/groups/gitlab-org/-/epics/8195","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":115504039,"iid":374903,"project_id":278964,"title":"Remove grace period for Gitlab/ServiceResponse","description":"In https://gitlab.com/gitlab-org/gitlab/-/merge_requests/97557+ we deprecated the use of `ServiceResponse#http_status` and added a Rubocop :cop: to detect usages.\n\nThe :cop: was added with a grace period `Details: grace period`. We should remove the grace period after 1-2 weeks from merging https://gitlab.com/gitlab-org/gitlab/-/merge_requests/97557+\n\n\u003e\u003e\u003e\nBy design, `#f_rubocop` should be notified if we see silenced offenses during a grace period. Once we no longer see these notifications we can safely remove the grace period.\n\nI don't have numbers yet but I think having the grace period turned on for a week or two should be sufficient.\n\u003e\u003e\u003e","state":"closed","created_at":"2022-09-21T13:00:03.269Z","updated_at":"2022-11-09T11:38:01.383Z","closed_at":"2022-11-09T11:38:01.326Z","closed_by":{"id":438961,"username":"splattael","name":"Peter Leitzen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/97c2ff0fc99cc4eede69be9ac238c304?s=80\u0026d=identicon","web_url":"https://gitlab.com/splattael"},"labels":["backend","development guidelines","missed:15.5","workflow::ready for development"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":438961,"username":"splattael","name":"Peter Leitzen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/97c2ff0fc99cc4eede69be9ac238c304?s=80\u0026d=identicon","web_url":"https://gitlab.com/splattael"}],"author":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"type":"ISSUE","assignee":{"id":438961,"username":"splattael","name":"Peter Leitzen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/97c2ff0fc99cc4eede69be9ac238c304?s=80\u0026d=identicon","web_url":"https://gitlab.com/splattael"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/374903","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/374903","notes":"https://gitlab.com/api/v4/projects/278964/issues/374903/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/374903/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#374903","relative":"#374903","full":"gitlab-org/gitlab#374903"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":115503796,"iid":374901,"project_id":278964,"title":"Spike: Efficient storage of redundant licenses for SBOM component versions","description":"Time-box: 2 days\n\n### Topic to Evaluate\n\nIn https://gitlab.com/gitlab-org/gitlab/-/issues/372212#note_1091206383 we identified that licenses tend to be the same across all versions of a SBOM component, and that we should leverage these redundancies to keep the Postgres DB as lean as possible.\nWe identified two ways to remove these redundancies:\n- Track license data of SBOM components along with ranges of versions sharing the same licenses.\n- Track license data of SBOM component, and also track license data of SBOM component versions. The former is used as a default value, and the latter is only set for versions that differ from that default value.\n\nBefore moving forward with https://gitlab.com/gitlab-org/gitlab/-/issues/373163+ and updating the DB schema, we need to identify the best option.\n\nWe'll compare the options using the following criteria:\n- size of the DB tables used to track licenses of SBOM components\n- feasibility of importing the External License Database\n- feasibility of License Scanning\n- speed/complexity when performing License Scanning\n\n### Tasks to  Evaluate\n\n\u003c!-- Outline the tasks with issues that you need to evaluate as a part of the implementation issue --\u003e\n\n- [x] Collect data on redundancies.\n   - [x] How frequent are SBOM components whose licenses are the same across all versions?\n   - [x] Ideally, get a distribution of the number of distinct sets of licenses per SBOM component. \n- [x] Evaluate storing licenses of components w/ version range.\n   - [ ] Estimate size of DB tables.\n   - [ ] Check feasibility of license data import. \n   - [ ] Check feasibility of License Scanning.\n   - [ ] Estimate relative complexity of License Scanning.\n- [x] Evaluate storing licenses of components (default), and licenses of versions (exceptions).\n   - [ ] Estimate size of DB tables.\n   - [ ] Check feasibility of license data import. \n   - [ ] Check feasibility of License Scanning.\n   - [ ] Estimate relative complexity of License Scanning.\n- [x] Evaluate storing licenses of component versions, omitting redundancies.\n   - [x] Estimate size of DB tables.\n   - [x] Check feasibility of license data import. \n   - [x] Check feasibility of License Scanning.\n   - [x] Estimate relative complexity of License Scanning.\n- [x] Choose one option.\n- [x] Update https://gitlab.com/gitlab-org/gitlab/-/issues/373163 with the option that's been selected.\n \n### Risks and Implementation Considerations \n\n\u003c!-- Identify any risks found in the research, whether this is performance, impacts to other functionality or other bugs --\u003e\n\n/cc @brytannia\n\n\u003c!-- start-discoto-summary --\u003e\n## Auto-Summary :robot:\n\n\n\u003cdetails\u003e\n\u003csummary\u003eDiscoto Usage\u003c/summary\u003e\n\n---\n\n\u003e **Points**\n\u003e\n\u003e Discussion points are declared by headings, list items, and single\n\u003e lines that start with the text (case-insensitive) `point:`. For\n\u003e example, the following are all valid points:\n\u003e\n\u003e * `#### POINT: This is a point`\n\u003e * `* point: This is a point`\n\u003e * `+ Point: This is a point`\n\u003e * `- pOINT: This is a point`\n\u003e * `point: This is a **point**`\n\u003e\n\u003e Note that any markdown used in the point text will also be propagated\n\u003e into the topic summaries.\n\u003e\n\u003e **Topics**\n\u003e\n\u003e Topics can be stand-alone and contained within an issuable (epic,\n\u003e issue, MR), or can be inline.\n\u003e\n\u003e Inline topics are defined by creating a new thread (discussion)\n\u003e where the first line of the first comment is a heading that starts\n\u003e with (case-insensitive) `topic:`. For example, the following are all\n\u003e valid topics:\n\u003e\n\u003e * `# Topic: Inline discussion topic 1`\n\u003e * `## TOPIC: **{+A Green, bolded topic+}**`\n\u003e * `### tOpIc: Another topic`\n\u003e\n\u003e **Quick Actions**\n\u003e\n\u003e | Action                        | Description                                             |\n\u003e |-------------------------------|---------------------------------------------------------|\n\u003e | `/discuss sub-topic TITLE`    | Create an issue for a sub-topic. Does not work in epics |\n\u003e | `/discuss link ISSUABLE-LINK` | Link an issuable as a child of this discussion          |\n\u003e\n\n---\n\n\u003c/details\u003e\n\nLast updated by [this job](https://gitlab.com/gitlab-org/secure/pocs/discoto-runner/-/jobs/3118760861)\n\n\n* **TOPIC** Storing licenses for versions where licenses change https://gitlab.com/gitlab-org/gitlab/-/issues/374901#note_1110980868\n  * {+efficient storage+} https://gitlab.com/gitlab-org/gitlab/-/issues/374901#note_1111924326\n  * {+only needs comparison of versions+} https://gitlab.com/gitlab-org/gitlab/-/issues/374901#note_1111928145\n  * {+simple to evaluate+} https://gitlab.com/gitlab-org/gitlab/-/issues/374901#note_1111939674\n  * Size of DB table https://gitlab.com/gitlab-org/gitlab/-/issues/374901#note_1111983450\n  * Import https://gitlab.com/gitlab-org/gitlab/-/issues/374901#note_1117940020\n  * License Scanning https://gitlab.com/gitlab-org/gitlab/-/issues/374901#note_1117957521\n  * Total size of DB tables https://gitlab.com/gitlab-org/gitlab/-/issues/374901#note_1118718916\n* **TOPIC** Storing licenses of components with version range https://gitlab.com/gitlab-org/gitlab/-/issues/374901#note_1111873025\n  * {-need for a version range syntax-} https://gitlab.com/gitlab-org/gitlab/-/issues/374901#note_1111929635\n  * {-complex upserts when the licenses change-} https://gitlab.com/gitlab-org/gitlab/-/issues/374901#note_1111932712\n* **TOPIC** Storing licenses of components, and licenses of outliner versions https://gitlab.com/gitlab-org/gitlab/-/issues/374901#note_1111895166\n  * {-Too many records when multiple license sets-} https://gitlab.com/gitlab-org/gitlab/-/issues/374901#note_1111918356\n  * {-Too many inserts to track new versions with non-default licenses-} https://gitlab.com/gitlab-org/gitlab/-/issues/374901#note_1111918356\n  * {-Default not suitable to versions not yet listed-} https://gitlab.com/gitlab-org/gitlab/-/issues/374901#note_1111918356\n* **TOPIC** Accuracy when storing licenses of versions introducing a change https://gitlab.com/gitlab-org/gitlab/-/issues/374901#note_1115937001\n* **TOPIC** Composite primary keys https://gitlab.com/gitlab-org/gitlab/-/issues/374901#note_1121926442\n* **TOPIC** No compression for project-specific license data https://gitlab.com/gitlab-org/gitlab/-/issues/374901#note_1122314183\n\u003c!-- end-discoto-summary --\u003e\n\n\n\n\u003c!-- start-discoto-topic-settings --\u003e\u003cdetails\u003e\n\u003csummary\u003eDiscoto Settings\u003c/summary\u003e\n\n\u003cbr/\u003e\n\n```yaml\n---\nsummary:\n  max_items: -1\n  sort_by: created\n  sort_direction: ascending\n\n```\n\nSee the [settings schema](https://gitlab.com/gitlab-org/secure/pocs/discussion-automation#settings-schema) for details.\n\n\u003c/details\u003e\n\u003c!-- end-discoto-topic-settings --\u003e","state":"closed","created_at":"2022-09-21T12:56:39.356Z","updated_at":"2022-11-23T13:45:38.573Z","closed_at":"2022-10-11T15:21:35.278Z","closed_by":{"id":1958785,"username":"fcatteau","name":"Fabien Catteau","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1958785/avatar.png","web_url":"https://gitlab.com/fcatteau"},"labels":["Category:License Compliance","Deliverable","GitLab Ultimate","backend","database","devops::secure","discoto-beta","feature::addition","group::composition analysis","quad-planning::complete-no-action","section::sec","spike","type::feature","workflow::in dev"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":1958785,"username":"fcatteau","name":"Fabien Catteau","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1958785/avatar.png","web_url":"https://gitlab.com/fcatteau"}],"author":{"id":1958785,"username":"fcatteau","name":"Fabien Catteau","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1958785/avatar.png","web_url":"https://gitlab.com/fcatteau"},"type":"ISSUE","assignee":{"id":1958785,"username":"fcatteau","name":"Fabien Catteau","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1958785/avatar.png","web_url":"https://gitlab.com/fcatteau"},"user_notes_count":53,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/374901","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":20,"completed_count":12},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"12 of 20 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/374901","notes":"https://gitlab.com/api/v4/projects/278964/issues/374901/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/374901/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#374901","relative":"#374901","full":"gitlab-org/gitlab#374901"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8072,"epic":{"id":523613,"iid":8072,"title":"Replace license-finder","url":"/groups/gitlab-org/-/epics/8072","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":115482739,"iid":374740,"project_id":278964,"title":"Email the user when their two-factor OTP attempt is wrong","description":"This is an interesting idea that came from the blog post at https://syslog.ravelin.com/2fa-is-missing-a-key-feature-c781c3861db:\n\nFrom the article:\n\n\u003e I have yet to come across a service that notifies you if your 2FA code was entered incorrectly. If this happens I think it would be very important to know about- think about what has happened: Somebody has entered your username and password correctly. Even if they get the next part (2FA) wrong you won’t know about it- Somebody has your actual username and password!\n\nSuch a change can immediately alert the user in a case where a bad actor has their username and password, and is now attempting to bruteforce their 2FA OTP code.","state":"closed","created_at":"2022-09-21T08:23:38.474Z","updated_at":"2022-09-28T08:05:56.736Z","closed_at":"2022-09-27T18:09:29.352Z","closed_by":{"id":9425173,"username":"hsutor","name":"Hannah Sutor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9425173/avatar.png","web_url":"https://gitlab.com/hsutor"},"labels":["devops::manage","feature::enhancement","group::authentication and authorization","release post item::in review","section::dev","security","type::feature","workflow::production"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":4093067,"username":"manojmj","name":"Manoj M J","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4093067/avatar.png","web_url":"https://gitlab.com/manojmj"}],"author":{"id":4093067,"username":"manojmj","name":"Manoj M J","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4093067/avatar.png","web_url":"https://gitlab.com/manojmj"},"type":"ISSUE","assignee":{"id":4093067,"username":"manojmj","name":"Manoj M J","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4093067/avatar.png","web_url":"https://gitlab.com/manojmj"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/374740","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/374740","notes":"https://gitlab.com/api/v4/projects/278964/issues/374740/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/374740/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#374740","relative":"#374740","full":"gitlab-org/gitlab#374740"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":115479528,"iid":374735,"project_id":278964,"title":"Fix Service ping failing metrics for manage stage (1)","description":"## Summary\n\nThe following new metrics are failing in GitLab.com for ~\"devops::manage\" \n\n|Metric| Metric Definition | Failed Service Pings|\n|---|-------|---|\n| usage_activity_by_stage_monthly.manage.count_user_auth | https://gitlab.com/gitlab-org/gitlab/-/blob/master/config/metrics/counts_28d/20220825232557_count_user_auth.yml | 2022-09-20 |\n\n## Resources\n\n* See [Service ping guide for how to optimize queries](https://docs.gitlab.com/ee/development/service_ping/implement.html#optimize-queries-with-database-lab)\n* Use [Metrics dictionary ](https://metrics.gitlab.com/)to find more information about metrics","state":"closed","created_at":"2022-09-21T07:36:35.403Z","updated_at":"2022-12-21T12:03:16.657Z","closed_at":"2022-11-30T18:09:35.423Z","closed_by":{"id":11997412,"username":"jessieay","name":"Jessie Young","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11997412/avatar.png","web_url":"https://gitlab.com/jessieay"},"labels":["Deliverable","backend","broken metric","devops::manage","group::authentication and authorization","missed-deliverable","missed:15.6","product intelligence","section::dev","type::maintenance","workflow::production"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":11997412,"username":"jessieay","name":"Jessie Young","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11997412/avatar.png","web_url":"https://gitlab.com/jessieay"}],"author":{"id":4807002,"username":"mikolaj_wawrzyniak","name":"Mikołaj Wawrzyniak","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4807002/avatar.png","web_url":"https://gitlab.com/mikolaj_wawrzyniak"},"type":"ISSUE","assignee":{"id":11997412,"username":"jessieay","name":"Jessie Young","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11997412/avatar.png","web_url":"https://gitlab.com/jessieay"},"user_notes_count":22,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/374735","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/374735","notes":"https://gitlab.com/api/v4/projects/278964/issues/374735/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/374735/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#374735","relative":"#374735","full":"gitlab-org/gitlab#374735"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":115474433,"iid":374725,"project_id":278964,"title":"[MVC] - Create Todos for project owners on request access","description":"## Release Notes\n\nPreviously, access requests to a project appeared only in the Access requests tab in the Project members section. Now, access requests also appear in the project owner's To-Do list. As a project owner, having access requests added directly to your To-Do List can help you manage your tasks more efficiently and add members quicker.\n\n## Problem Statement\n\n1. We need to send To-Do notifications to projects owners when someone raises access request for the project. Refer https://gitlab.com/groups/gitlab-org/-/epics/8766#problem for more details.\n2. This issue represents one of the sub tasks of the solution for the feature.\n3. Here we need to create To-Dos for the 10 most recently active owners of the project for which an access request is raised by some user.\n4. The To-Do will have following content ![image](https://gitlab.com/gitlab-org/gitlab/uploads/4f3acbcb37e89d0461337efa61cdabe1/image.png)\n5. The link will take the user to project access_requests tab and it will be something like `https://gitlab.com/projects/\u003cgroup_name\u003e/-/project_members?tab=access_requests`\n6. Refer https://gitlab.com/gitlab-org/gitlab-foss/-/merge_requests/32141 for sending emails to 10 users when access request is raised.\n\n\n### Availability and Testing\n* E2E tests will be added to support this feature in https://gitlab.com/gitlab-org/gitlab/-/issues/377544+\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2022-09-21T05:50:30.718Z","updated_at":"2023-01-12T16:30:28.928Z","closed_at":"2023-01-10T14:02:05.632Z","closed_by":{"id":11648098,"username":"hraghuvanshi","name":"Hitesh Raghuvanshi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11648098/avatar.png","web_url":"https://gitlab.com/hraghuvanshi"},"labels":["Deliverable","GitLab Free","Technical Writing","backend","devops::manage","direction","documentation","feature::addition","group::organization","milestone::p1","missed-deliverable","missed:15.7","quad-planning::complete-action","release post item","release post item::in review","section::dev","type::feature","workflow::complete"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[{"id":11648098,"username":"hraghuvanshi","name":"Hitesh Raghuvanshi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11648098/avatar.png","web_url":"https://gitlab.com/hraghuvanshi"}],"author":{"id":11648098,"username":"hraghuvanshi","name":"Hitesh Raghuvanshi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11648098/avatar.png","web_url":"https://gitlab.com/hraghuvanshi"},"type":"ISSUE","assignee":{"id":11648098,"username":"hraghuvanshi","name":"Hitesh Raghuvanshi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11648098/avatar.png","web_url":"https://gitlab.com/hraghuvanshi"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/374725","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/374725","notes":"https://gitlab.com/api/v4/projects/278964/issues/374725/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/374725/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#374725","relative":"#374725","full":"gitlab-org/gitlab#374725"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8766,"epic":{"id":603834,"iid":8766,"title":"Notifications for group owners when someone applies to become a group or project member","url":"/groups/gitlab-org/-/epics/8766","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":115472994,"iid":374723,"project_id":278964,"title":"Improve documentation of webhook timeout limit","description":"## About\n\nWe should improve our documentation of the webhooks timeout limit for SaaS.\n\n## First step\n\nWe should verify that SaaS is using a `webhook_timeout` setting of 10 seconds (`Gitlab.config.gitlab.webhook_timeout`). Confirmed https://gitlab.com/gitlab-org/gitlab/-/issues/374723#note_1109866547 :white_check_mark:.\n\n## Improvements\n\n1. We recommend handling as _fast as possible_ [here](https://docs.gitlab.com/ee/user/project/integrations/webhooks.html#configure-your-webhook-receiver-endpoint) but we don’t mention a limit. We should update it to mention it must be within the `webhook_timeout` setting limit, which is 10 seconds on SaaS.\n1. Later in the doc [we mention](https://docs.gitlab.com/ee/user/project/integrations/webhooks.html#webhook-fails-or-multiple-webhook-requests-are-triggered) a default 10 second timeout but don’t explicitly say if that’s the limit for SaaS. We should mention that this is the limit for SaaS.\n1. We should add the SaaS `webhook_timeout` limit value to our [Gitlab.com webhook limits](https://docs.gitlab.com/ee/user/gitlab_com/#webhooks).","state":"closed","created_at":"2022-09-21T05:01:10.426Z","updated_at":"2022-11-22T18:27:14.396Z","closed_at":"2022-10-13T21:13:30.242Z","closed_by":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"labels":["Category:Integrations","Category:Webhooks","customer","devops::manage","documentation","group::integrations","section::dev","type::maintenance","workflow::in review"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"}],"author":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"type":"ISSUE","assignee":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/374723","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/374723","notes":"https://gitlab.com/api/v4/projects/278964/issues/374723/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/374723/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#374723","relative":"#374723","full":"gitlab-org/gitlab#374723"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2318,"epic":{"id":16059,"iid":2318,"title":"Expanding and Improving Webhooks","url":"/groups/gitlab-org/-/epics/2318","group_id":9970},"iteration":null,"health_status":null},{"id":115468114,"iid":374720,"project_id":278964,"title":"Record Slack app permission scopes to allow feature checking logic","description":"### Problem\n\nSome new Slack app features require new [granular bot permission scopes](https://api.slack.com/scopes?filter=granular_bot) to be added to our Slack app. We do not currently know what permission scopes a workspace has authorized. \n\nThis has ~UX and ~backend implications, as we currently cannot:\n\n- ~UX Use conditional logic in the UI to display upgrade notices, or toggle the display of sections of the integration form that require certain scopes to first have been authorized before they will work. \n- ~backend Make checks on the backend for certain permissions before we make an API call which is destined to fail.\n\n### Solution\n\nWhen we release features that require a new [granular bot permission scope](https://api.slack.com/scopes?filter=granular_bot) to our Slack app, we need to track what permission scopes the workspace has authorized. This information can then be used by the ~backend and passed to the ~frontend.\n\n### Technical Proposal\n\n#### Track the list of authorized scopes\n\nWe would save the scope list against the bot token in the `SlackIntegration` record within `SlackApplicationInstallService#execute`. \n\nIn conversation with Adam Marinelli (Slack), they pointed out that Slack API requests return a list of authorized scopes for the bot token used in the request in the response headers. \n\nAll API methods return this information but we could use a call to [`auth.test`](https://api.slack.com/methods/auth.test) as it has a generous rate limit and requires no permission scopes itself.\n\nExample:\n\n```ruby\nBOT_ACCESS_TOKEN = '...' # We can test using the token from https://api.slack.com/apps/A039N0NBYFL/oauth\n\nslack_installation = SlackInstallation.new(bot_access_token: BOT_ACCESS_TOKEN)\nresponse = ::Slack::API.new(slack_installation).post('auth.test', {})\nresponse.headers['x-oauth-scopes'] # =\u003e \"commands,incoming-webhook,users:read,chat:write,channels:manage\"\n```\n\nTo save space in the database we could store numbers corresponding to the list's scopes (enum-style), rather than strings. \n\n#### Making it user-friendly\n\nWe would make a map of `feature =\u003e required scopes` in order to abstract the checks:\n\n```ruby\nSlackIntegration.first.feature_available?(:notifications) \n```\n\n#### Feature to scopes mapping\n\n| Feature | scopes required |\n| ------ | ------ |\n| Slash commands | `commands` |\n| Notifications https://gitlab.com/groups/gitlab-org/-/epics/8670 | `chat:write` and `chat:write.public` |\n\nNote, we only care about the above scopes. When you conduct the test above, `response.headers['x-oauth-scopes']` returns a lot more, because it includes all scopes that our development app has ever been configured with, and due to testing this includes many that we don't actually use.\n\n#### Mass updating `SlackIntegration` records\n\nWhen we [update a `SlackIntegration` record](https://gitlab.com/gitlab-org/gitlab/-/blob/4d8b0ffe316a9fb1de0c3e29a847ad6dcd75e49a/ee/app/services/projects/slack_application_install_service.rb#L30) we would save the refreshed scope list. \n\nDue to unusual modelling, where we can have multiple `SlackIntegration` records for a single workspace, all of which have the same bot token, we would also need to update all other `SlackIntegration` records for the workspace (`team_id`) with the same updated scope list. We currently do something similar when we [update legacy records (ones within bot tokens) for the team](https://gitlab.com/gitlab-org/gitlab/-/blob/4d8b0ffe316a9fb1de0c3e29a847ad6dcd75e49a/ee/app/services/projects/slack_application_install_service.rb#L72), however, in this case, we would also want to update non-legacy records (ones with bot tokens) too. It would be safe to change [this line](https://gitlab.com/gitlab-org/gitlab/-/blob/4d8b0ffe316a9fb1de0c3e29a847ad6dcd75e49a/ee/app/services/projects/slack_application_install_service.rb#L72) (and [this comment](https://gitlab.com/gitlab-org/gitlab/-/blob/4d8b0ffe316a9fb1de0c3e29a847ad6dcd75e49a/ee/app/services/projects/slack_application_install_service.rb#L59-62)) and instead update _all_ `SlackIntegration` records for the team (regardless of legacy or non-legacy), however, I think this will require a new index to be added to the table.\n\n#### Backfilling old `SlackIntegration` records\n\nWe should backfill this information into `SlackIntegration` records that have `#bot_access_token`s but no authorized scope information in a background data migration. The migration would similarly call `auth.test` to fetch the authorized scopes for each record and save it. The background migration should be written to make small measures of calls to the Slack API at a time, to avoid flooding the Slack API while it runs even though `auth.test` has a [generous rate limit](https://api.slack.com/methods/auth.test#rate-limiting). We should update records in batches of around 100 at a time, with a pause of around 10 seconds between each batch.\n\n### Availability \u0026 Testing\n\nSuggestions:\n* Write unit tests around the proposed method `Slack::Integration#feature_available?`\n* Write unit tests to persist the scopes based on a mocked response from Slack\n  * Alternatively, this would be great behavior to test on the feature level when the backend/frontend work is done.  More info here: https://gitlab.com/gitlab-org/gitlab/-/issues/376240#availability-testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the Quality Engineering quad planning and test planning processes and reach out to your counterpart Software Engineer in Test for assistance. \nQuad Planning: https://about.gitlab.com/handbook/engineering/quality/quality-engineering/quad-planning \nTest Planning: https://about.gitlab.com/handbook/engineering/quality/quality-engineering/test-engineering/#test-planning --\u003e","state":"closed","created_at":"2022-09-21T01:50:28.849Z","updated_at":"2022-12-21T12:10:27.154Z","closed_at":"2022-12-20T15:53:32.805Z","closed_by":{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"},"labels":["Category:Integrations","Deliverable","Integration::Slack","[deprecated] Accepting merge requests","backend","database","devops::manage","feature::enhancement","group::integrations","quad-planning::complete-action","section::dev","type::feature","workflow::in review"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"}],"author":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"type":"ISSUE","assignee":{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"},"user_notes_count":12,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/374720","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/374720","notes":"https://gitlab.com/api/v4/projects/278964/issues/374720/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/374720/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#374720","relative":"#374720","full":"gitlab-org/gitlab#374720"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8670,"epic":{"id":595009,"iid":8670,"title":"Extend Slack app to support notifications","url":"/groups/gitlab-org/-/epics/8670","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null}]