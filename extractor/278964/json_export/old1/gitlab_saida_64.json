[{"id":88582583,"iid":333407,"project_id":278964,"title":"CNG provisions additional configured databases","description":"Before raising an issue to the GitLab issue tracker, please read through our guide for finding help to determine the best place to post:\n\n* https://about.gitlab.com/getting-help/\n\nIf you are experiencing an issue when using GitLab.com, your first port of call should be the Community Forum. Your issue may have already been reported there by another user. Please check:\n\n* https://forum.gitlab.com/\n\nIf you feel that your issue can be categorized as a reproducible bug or a feature proposal, please use one of the issue templates provided and include as much information as possible.\n\nThank you for helping to make GitLab a better product.","state":"closed","created_at":"2021-06-11T14:26:49.582Z","updated_at":"2022-05-31T12:22:46.274Z","closed_at":"2022-04-13T06:18:33.051Z","closed_by":{"id":120073,"username":"DylanGriffith","name":"Dylan Griffith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/120073/avatar.png","web_url":"https://gitlab.com/DylanGriffith"},"labels":["Category:Pods","auto updated","ci-decomposition-followup","database","devops::data_stores","group::pods","section::enablement","wg_database-scalability"],"milestone":null,"assignees":[],"author":{"id":12452,"username":"ayufan","name":"Kamil Trzciński","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a285e30f35d72526fb0954e8fe7cefa?s=80\u0026d=identicon","web_url":"https://gitlab.com/ayufan"},"type":"ISSUE","assignee":null,"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333407","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333407","notes":"https://gitlab.com/api/v4/projects/278964/issues/333407/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333407/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333407","relative":"#333407","full":"gitlab-org/gitlab#333407"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6159,"epic":{"id":286520,"iid":6159,"title":"Decomposition: Fix Distribution features","url":"/groups/gitlab-org/-/epics/6159","group_id":9970,"human_readable_end_date":"Dec 16, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88582551,"iid":333406,"project_id":278964,"title":"Many databases can be configured in CNG","description":"CNG can have many databases configured in a similar way as by Omnibus: https://gitlab.com/gitlab-org/omnibus-gitlab/-/issues/6192.","state":"closed","created_at":"2021-06-11T14:25:58.344Z","updated_at":"2021-07-15T18:13:51.546Z","closed_at":"2021-07-15T18:13:51.302Z","closed_by":{"id":3913673,"username":"mendeni","name":"Steven Wilson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3913673/avatar.png","web_url":"https://gitlab.com/mendeni"},"labels":["Deliverable","[deprecated] Accepting merge requests","auto updated","devops::systems","group::distribution","pods::active","priority::1","quad-planning::complete-action","section::enablement","workflow::ready for development"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[],"author":{"id":12452,"username":"ayufan","name":"Kamil Trzciński","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a285e30f35d72526fb0954e8fe7cefa?s=80\u0026d=identicon","web_url":"https://gitlab.com/ayufan"},"type":"ISSUE","assignee":null,"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333406","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333406","notes":"https://gitlab.com/api/v4/projects/278964/issues/333406/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333406/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333406","relative":"#333406","full":"gitlab-org/gitlab#333406"},"severity":"UNKNOWN","moved_to_id":90352753,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88577577,"iid":333392,"project_id":278964,"title":"Follow-up issue for \"Add limit for daily scheduled pipelines for projects\"","description":"Follow-up from !62826\n\n- [ ] Move some from `Ci::PipelineSchedule` tests to `Ci::PipelineSchedules::CalculateNextRunService`\n- [ ] Reduce duplication between `app/services/ci/pipeline_schedules/calculate_next_run_service.rb` and `app/models/concerns/cron_schedulable.rb`\n- [ ] Write additional tests for new methods of `lib/gitlab/ci/cron_parser.rb`\n- [ ] Adjust spec to use `default` instead of `free` for self-hosted https://gitlab.com/gitlab-org/gitlab/-/merge_requests/62826/diffs#note_599276666","state":"closed","created_at":"2021-06-11T12:57:33.684Z","updated_at":"2022-12-21T02:37:37.432Z","closed_at":"2022-12-16T17:05:52.216Z","closed_by":{"id":13032948,"username":"mfanGitLab","name":"Max Fan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/13032948/avatar.png","web_url":"https://gitlab.com/mfanGitLab"},"labels":["Category:Continuous Integration","backend","devops::verify","group::pipeline execution","onboarding","section::ops","type::feature"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":13032948,"username":"mfanGitLab","name":"Max Fan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/13032948/avatar.png","web_url":"https://gitlab.com/mfanGitLab"}],"author":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"type":"ISSUE","assignee":{"id":13032948,"username":"mfanGitLab","name":"Max Fan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/13032948/avatar.png","web_url":"https://gitlab.com/mfanGitLab"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333392","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333392","notes":"https://gitlab.com/api/v4/projects/278964/issues/333392/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333392/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333392","relative":"#333392","full":"gitlab-org/gitlab#333392"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88573194,"iid":333383,"project_id":278964,"title":"BE: Create GraphQL API to create/update/delete a policy","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\u003c!--\nA brief explanation of the why, not the what or how. Assume the reader doesn't know the\nbackground and won't have time to dig-up information from comment threads.\n--\u003e\nWe want to be able to create/update/delete an individual policy through a GraphQL mutation that commits the change to the `.gitlab/security-policies/policy.yml` file on a branch and return the branch name to which it is committed to.\n\n\n## Relevant links\n\n- [Epic](https://gitlab.com/groups/gitlab-org/-/epics/5362)\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [x] Documentation:\n- [x] Feature flag: `security_orchestration_policies_configuration` the feature and new GraphQL mutation will be hidden behind feature flag\n- [-] Performance:\n- [x] Testing:\n  * test if GraphQL mutation is available only when feature flag is enabled,\n  * test if GraphQL mutation does not create a policy with the given `name` if the `name` already exists.\n  * test if GraphQL mutation does not update/delete a policy with the given `name` if the `name` does not already exist.\n\n\n## Implementation plan\n- [x] ~backend prepare new GraphQL mutation `ScanExecutionPolicyCommit` to commit the policy, that accepts 4 arguments: \n    - `name` (name of the policy),\n    - `operationMode` (Operation to perform: type `MutationOperationMode` (`APPEND`, `REMOVE` \u0026 `REPLACE`)\n    - `projectPath` (path of the project for which the scan policy project is linked to),\n    - `policyYaml` (YAML snippet of the policy)\n\nThe response of the mutation would be the name of the branch to which the changes are committed (field `branch`)\n- [x] ~backend create a new service `Security::SecurityOrchestrationPolicies::PolicyProcessService` to create/update/delete a policy.","state":"closed","created_at":"2021-06-11T11:25:38.564Z","updated_at":"2021-07-18T07:09:45.419Z","closed_at":"2021-06-28T12:52:49.017Z","closed_by":{"id":5535431,"username":"mparuszewski","name":"Alan (Maciej) Paruszewski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535431/avatar.png","web_url":"https://gitlab.com/mparuszewski"},"labels":["Category:Security Policy Management","Deliverable","backend","devops::govern","group::security policies","section::sec","type::feature","workflow::verification"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[],"author":{"id":8401507,"username":"sashi_kumar","name":"Sashi Kumar Kumaresan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8401507/avatar.png","web_url":"https://gitlab.com/sashi_kumar"},"type":"ISSUE","assignee":null,"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333383","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":5,"completed_count":5},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"5 of 5 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333383","notes":"https://gitlab.com/api/v4/projects/278964/issues/333383/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333383/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333383","relative":"#333383","full":"gitlab-org/gitlab#333383"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5362,"epic":{"id":198770,"iid":5362,"title":"Allow Users to Edit yaml-mode Scan Execution Policies in the Policy UI","url":"/groups/gitlab-org/-/epics/5362","group_id":9970,"human_readable_end_date":"Sep 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88572066,"iid":333380,"project_id":278964,"title":"State why usage ping can't be enabled through the admin area when disabled via config","description":"In [the admin area]( https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/views/admin/application_settings/_usage.html.haml#L18), Usage Ping can't be enabled when it's disabled via `gitlab.rb` ([see docs](https://docs.gitlab.com/ee/development/usage_ping/#disable-usage-ping))\n\nIt would be nice to be explicit why this checkbox can't be enabled by stating it, e.g.\n\n\u003e Usage Ping can't be enabled because it's disabled via `gitlab.rb`, please change `usage_ping_enabled` to be `true`, see our docs for more information https://docs.gitlab.com/ee/development/usage_ping/#disable-usage-ping","state":"closed","created_at":"2021-06-11T11:04:28.578Z","updated_at":"2021-07-15T17:29:35.547Z","closed_at":"2021-07-15T17:29:35.532Z","closed_by":{"id":8013274,"username":"pskorupa","name":"Piotr Skorupa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8013274/avatar.png","web_url":"https://gitlab.com/pskorupa"},"labels":["Stretch","devops::growth","frontend","group::product intelligence","section::growth","type::feature","workflow::verification"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":8013274,"username":"pskorupa","name":"Piotr Skorupa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8013274/avatar.png","web_url":"https://gitlab.com/pskorupa"}],"author":{"id":3509693,"username":"nicolasdular","name":"Nicolas Dular","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c4a21f15150c12ddf13fd848597cddd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/nicolasdular"},"type":"ISSUE","assignee":{"id":8013274,"username":"pskorupa","name":"Piotr Skorupa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8013274/avatar.png","web_url":"https://gitlab.com/pskorupa"},"user_notes_count":7,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333380","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333380","notes":"https://gitlab.com/api/v4/projects/278964/issues/333380/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333380/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333380","relative":"#333380","full":"gitlab-org/gitlab#333380"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88572052,"iid":333379,"project_id":278964,"title":"Add a way to turn off pronouns for administrator","description":"Recently gitlab added pronouns to user profiles. I understand that to american people, it is becomming a part of culture, but to other places it is not relevant and in some ways could be considered offensive. As a company, gitlab can do what it likes and represent its own ideals and we can work together without bothering about each other about it but in the program itself which is used across the world by many different people, pronoun is a injection of culture into a unbiased professional product. I wouldnt expect a box for gay/straight or favorite animal either because they not relevant to the product.\n\nThe way i see it:\n- the pronoun box could be remove entirely to ensure a unbiased system (I dont see how its relevant anyways)\n- the option for admin to turn off the pronoun box on self hosted gitlab if they choose\n\nIn my team users would add funny/jokey/silly items to the box, causing distraction and unprofessionalism to the workplace and i have seen this happen already to the website.\n\nThank you for your consideration and understanding.","state":"closed","created_at":"2021-06-11T11:03:59.104Z","updated_at":"2022-03-14T07:59:20.484Z","closed_at":"2022-03-13T07:54:14.725Z","closed_by":{"id":4156460,"username":"ogolowinski","name":"Orit Golowinski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4156460/avatar.png","web_url":"https://gitlab.com/ogolowinski"},"labels":["Category:Authentication and Authorization","Category:User Management","backend","devops::manage","feature::enhancement","group::organization","section::dev","type::feature"],"milestone":null,"assignees":[],"author":{"id":9080218,"username":"harishmu","name":"Harish Muhammad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/abfb933f919e9cd811c029eed963615c?s=80\u0026d=identicon","web_url":"https://gitlab.com/harishmu"},"type":"ISSUE","assignee":null,"user_notes_count":33,"merge_requests_count":0,"upvotes":8,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":true,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333379","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333379","notes":"https://gitlab.com/api/v4/projects/278964/issues/333379/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333379/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333379","relative":"#333379","full":"gitlab-org/gitlab#333379"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88566576,"iid":333369,"project_id":278964,"title":"Switching branches in the pipeline editor shows the same pipeline status","description":"### Summary\n\nWhen switching branches in the pipeline editor, the pipeline status at the top shows the latest pipeline for the default branch instead of the non-default branch the user switched to.\n\nIssue was brought up in https://gitlab.com/gitlab-org/gitlab/-/issues/332845.\n\n### Steps to reproduce\n\n1. Create two branches with different commits on `.gitlab-ci.yml file`.\n2. Go to the Pipeline Editor and switch from branch A to branch B.\n3. The pipeline status shows the pipeline for the same commit.\n\n### What is the expected *correct* behavior?\n\nThe pipeline status should show the pipeline ran for the latest commit on the branch the user is currently on.\n\n### Relevant logs and/or screenshots\n\n![Latest Pipeline](/uploads/948cd429fd69f5101b5b37bcc9006953/Screen_Recording_2021-06-11_at_17.30.01.mov)","state":"closed","created_at":"2021-06-11T09:34:52.276Z","updated_at":"2021-09-13T02:56:53.697Z","closed_at":"2021-07-13T08:01:33.557Z","closed_by":{"id":7598233,"username":"mgandres","name":"Mireya Andres","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c96bce45a06f2dd722144db3f52456bf?s=80\u0026d=identicon","web_url":"https://gitlab.com/mgandres"},"labels":["Category:Pipeline Authoring","Deliverable","candidate::14.2","devops::verify","group::pipeline authoring","priority::2","section::ops","severity::3","type::bug","workflow::production"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":7598233,"username":"mgandres","name":"Mireya Andres","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c96bce45a06f2dd722144db3f52456bf?s=80\u0026d=identicon","web_url":"https://gitlab.com/mgandres"}],"author":{"id":7598233,"username":"mgandres","name":"Mireya Andres","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c96bce45a06f2dd722144db3f52456bf?s=80\u0026d=identicon","web_url":"https://gitlab.com/mgandres"},"type":"ISSUE","assignee":{"id":7598233,"username":"mgandres","name":"Mireya Andres","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c96bce45a06f2dd722144db3f52456bf?s=80\u0026d=identicon","web_url":"https://gitlab.com/mgandres"},"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333369","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333369","notes":"https://gitlab.com/api/v4/projects/278964/issues/333369/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333369/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333369","relative":"#333369","full":"gitlab-org/gitlab#333369"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5393,"epic":{"id":202656,"iid":5393,"title":"Pipeline Editor - Branch selector","url":"/groups/gitlab-org/-/epics/5393","group_id":9970,"human_readable_end_date":"Oct 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":88562493,"iid":333365,"project_id":278964,"title":"Remove 2 unnecessary indexes related to traversal ids","description":"### Problem to solve\n\nIn an MR, @ahegyi [suggested creating a follow-up issue to remove 2 indexes](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/63847#note_598899706).\n\n### Proposal\n\nRemove these 2 database indexes:\n\n1. `tmp_index_namespaces_empty_traversal_ids_with_root_namespaces`\n1. `tmp_index_namespaces_empty_traversal_ids_with_child_namespaces`\n\nNote: No deprecation announcement is necessary, because this indexes are not user-facing in any way.","state":"closed","created_at":"2021-06-11T08:39:55.163Z","updated_at":"2022-05-24T12:01:04.804Z","closed_at":"2022-05-17T05:35:39.437Z","closed_by":{"id":4092171,"username":"alexpooley","name":"Alex Pooley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4092171/avatar.png","web_url":"https://gitlab.com/alexpooley"},"labels":["Deliverable","Linear queries","backend","database","devops::manage","group::organization","quad-planning::complete-no-action","section::dev","workflow::in review"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":4092171,"username":"alexpooley","name":"Alex Pooley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4092171/avatar.png","web_url":"https://gitlab.com/alexpooley"}],"author":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"type":"ISSUE","assignee":{"id":4092171,"username":"alexpooley","name":"Alex Pooley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4092171/avatar.png","web_url":"https://gitlab.com/alexpooley"},"user_notes_count":17,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333365","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333365","notes":"https://gitlab.com/api/v4/projects/278964/issues/333365/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333365/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333365","relative":"#333365","full":"gitlab-org/gitlab#333365"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6308,"epic":{"id":302941,"iid":6308,"title":"traversal_ids migration cleanup","url":"/groups/gitlab-org/-/epics/6308","group_id":9970,"human_readable_end_date":"May 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88557024,"iid":333360,"project_id":278964,"title":"Introduce UserRefreshFromReplicaWorker that runs as a \"safety-net\" for correcting any wrong project authorization records","description":"Currently, we run `UserRefreshWithLowUrgencyWorker` as a safety net for correcting any wrong project authorization records.\n\nHowever, our plan going forward is to make these safety-net jobs read from the replica first, and only if the replica says that the user needs a refresh, will another job be enqueued.\n\nThe problem with the existing class, ie, `UserRefreshWithLowUrgencyWorker` is that its name does not suggest that the data will be read from replica.\n\nMoreover, there is a specific requirement to use the `UserRefreshWithLowUrgencyWorker` over [here](https://gitlab.com/gitlab-org/gitlab/-/blob/1d88c7bcc2794889880e443a6dc1bc014e4baa1a/app/workers/authorized_project_update/user_refresh_over_user_range_worker.rb#L42) that would read from primary. So it is best to keep `UserRefreshWithLowUrgencyWorker` as it is, as it has uses elsewhere.\n\nSo the plan is,\n\n- Keep `UserRefreshWithLowUrgencyWorker` as it is and make no changes in this class.\n- Introduce `UserRefreshFromReplicaWorker` which will behave exactly like the current `UserRefreshWithLowUrgencyWorker` to start with. (so that it would read from primary)\n- In first iteration, replace calls to `UserRefreshWithLowUrgencyWorker` with calls to `UserRefreshFromReplicaWorker` where ever it is required.\n- In second iteration, start reading data in `UserRefreshFromReplicaWorker` from the replica and make code changes like so, (this is being tracked as a separate issue at https://gitlab.com/gitlab-org/gitlab/-/issues/333219)\n\n```ruby\nmodule AuthorizedProjectUpdate\n  class UserRefreshFromReplicaWorker\n    include ApplicationWorker\n\n    feature_category :authentication_and_authorization\n    urgency :low\n    queue_namespace :authorized_project_update\n    deduplicate :until_executing, including_scheduled: true\n    data_consistency :delayed\n\n    idempotent!\n\n    def perform(user_id)\n      user = User.find_by(id: user_id)\n      return unless user\n\n      enqueue_project_authorizations_refresh(user) if project_authorizations_needs_refresh?(user)\n    end\n\n    private\n\n    def project_authorizations_needs_refresh?(user)\n      AuthorizedProjectUpdate::FindRecordsDueForRefreshService.new(user).needs_refresh?\n    end\n\n    def enqueue_project_authorizations_refresh(user)\n      with_context(user: user) do\n        AuthorizedProjectUpdate::UserRefreshWithLowUrgencyWorker.perform_async(user.id)\n      end\n    end\n  end\nend\n```","state":"closed","created_at":"2021-06-11T07:04:49.211Z","updated_at":"2021-10-27T10:44:13.552Z","closed_at":"2021-06-18T05:47:28.880Z","closed_by":{"id":4093067,"username":"manojmj","name":"Manoj M J","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4093067/avatar.png","web_url":"https://gitlab.com/manojmj"},"labels":["Eng-Consumer::Infrastructure","Eng-Producer::Development","Engineering Allocation","automation:ml","automation:ml wrong","backend","devops::manage","group::authentication and authorization","infradev","section::dev","workflow::in review"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":4093067,"username":"manojmj","name":"Manoj M J","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4093067/avatar.png","web_url":"https://gitlab.com/manojmj"}],"author":{"id":4093067,"username":"manojmj","name":"Manoj M J","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4093067/avatar.png","web_url":"https://gitlab.com/manojmj"},"type":"ISSUE","assignee":{"id":4093067,"username":"manojmj","name":"Manoj M J","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4093067/avatar.png","web_url":"https://gitlab.com/manojmj"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333360","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333360","notes":"https://gitlab.com/api/v4/projects/278964/issues/333360/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333360/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333360","relative":"#333360","full":"gitlab-org/gitlab#333360"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88555615,"iid":333357,"project_id":278964,"title":"Use mock-apollo-client within the pipeline security dashboard specs","description":"The specs that test the `PipelineSecurityDashboard` component are currently setting the component-under-test's data directly, instead of using `createMockApollo` and providing the appropriate handlers and responses.\n\nThis creates a gap in coverage and has led to bugs, which could have been prevented if the mock-apollo client would have been used: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/63808\n\nFor more information also see the related handbook entry: https://docs.gitlab.com/ee/development/fe_guide/graphql.html#testing-with-mocked-apollo-client\n\n## Related Discussions\n\nThe following discussion from !63808 should be addressed:\n\n- [ ] @dpisek started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/63808#note_598740210):  (+1 comment)\n\n    \u003e @psimyn: this is why we should always use `createMockApollo`! Verify that schema\n\n## Implementation Plan\n\n* Follow the frontend handbook's suggestion for setting up a mock-apollo-client within `ee/spec/frontend/security_dashboard/components/pipeline/pipeline_security_dashboard_spec.js`\n* Change tests that cover GraphQL fetching, etc. to use the mock client","state":"closed","created_at":"2021-06-11T06:34:46.501Z","updated_at":"2021-10-28T13:56:04.502Z","closed_at":"2021-10-12T03:38:04.415Z","closed_by":{"id":4155411,"username":"dpisek","name":"David Pisek","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4155411/avatar.png","web_url":"https://gitlab.com/dpisek"},"labels":["Category:Vulnerability Management","automation:ml","automation:ml wrong","devops::secure","follow-up","frontend","group::threat insights","section::sec","type::maintenance","workflow::in review"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":4155411,"username":"dpisek","name":"David Pisek","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4155411/avatar.png","web_url":"https://gitlab.com/dpisek"}],"author":{"id":4155411,"username":"dpisek","name":"David Pisek","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4155411/avatar.png","web_url":"https://gitlab.com/dpisek"},"type":"ISSUE","assignee":{"id":4155411,"username":"dpisek","name":"David Pisek","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4155411/avatar.png","web_url":"https://gitlab.com/dpisek"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333357","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333357","notes":"https://gitlab.com/api/v4/projects/278964/issues/333357/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333357/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333357","relative":"#333357","full":"gitlab-org/gitlab#333357"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88554682,"iid":333355,"project_id":278964,"title":"JS error on continuous onboarding welcome page","description":"The JS error doesn't seem _that_ important, as it seems its just hiding an element. But now I'm more concerned with the button.\n\n\n\n![Screen_Shot_2021-06-10_at_3.58.23_PM](/uploads/1eec492181b759e9261c28097aa5676f/Screen_Shot_2021-06-10_at_3.58.23_PM.png)\n\n![Screen_Shot_2021-06-10_at_3.58.47_PM](/uploads/37c450b5fa8e9b2c8277d76d367d9078/Screen_Shot_2021-06-10_at_3.58.47_PM.png)","state":"closed","created_at":"2021-06-11T06:12:04.726Z","updated_at":"2021-06-17T14:59:46.769Z","closed_at":"2021-06-17T14:59:46.756Z","closed_by":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"labels":["devops::growth","group::acquisition","section::growth","type::bug"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"}],"author":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"type":"ISSUE","assignee":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333355","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333355","notes":"https://gitlab.com/api/v4/projects/278964/issues/333355/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333355/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333355","relative":"#333355","full":"gitlab-org/gitlab#333355"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88553346,"iid":333351,"project_id":278964,"title":"Insert suggestion parses \\n and replaces it with an actual newline","description":"### Summary\n\nInserting a suggestion for a line that contains `\\n` replaces the `\\n` with an actual newline.\n\n### Steps to reproduce\n\nCreate a comment on line 3 in https://gitlab.com/slovdahl/insert-suggestion-reproducer/-/merge_requests/1/diffs, and press the \"Insert suggestion\" button.\n\n![image](/uploads/a7b1ec74af37c890c41343588892dd51/image.png)\n\nThis is what it _should_ look like:\n\n![image](/uploads/7719a5719085552efd6671989170532e/image.png)\n\n### Example Project\n\nhttps://gitlab.com/slovdahl/insert-suggestion-reproducer/-/merge_requests/1/diffs\n\n### What is the current *bug* behavior?\n\nThe `\\n` character is seemingly parsed and replaced with an actual newline in the text field.\n\n### What is the expected *correct* behavior?\n\nThe `\\n` is retained as is in the text field.\n\n### Relevant logs and/or screenshots\n\n\u003c!-- Paste any relevant logs - please use code blocks (```) to format console output, logs, and code\n as it's tough to read otherwise. --\u003e\n\n### Output of checks\n\nHappens both on GitLab.com and on a privately hosted 13.12.3-ee.\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e","state":"closed","created_at":"2021-06-11T05:30:54.751Z","updated_at":"2021-11-08T18:27:04.248Z","closed_at":"2021-08-20T06:47:14.364Z","closed_by":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"labels":["Deliverable","UX","automation:ml","devops::create","frontend","group::code review","priority::3","section::dev","severity::2","type::bug"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"}],"author":{"id":940961,"username":"slovdahl","name":"Sebastian Lövdahl","state":"active","avatar_url":"https://secure.gravatar.com/avatar/164d828bf3e92ae44843fe8800ddc4d0?s=80\u0026d=identicon","web_url":"https://gitlab.com/slovdahl"},"type":"ISSUE","assignee":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"user_notes_count":2,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333351","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333351","notes":"https://gitlab.com/api/v4/projects/278964/issues/333351/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333351/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333351","relative":"#333351","full":"gitlab-org/gitlab#333351"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88545868,"iid":333338,"project_id":278964,"title":"Create plan on how to migrate CI tables to a new database on GitLab.com","description":"In this issue we are investigating all the options for migrating all the CI tables to a new database on **GitLab.com**.\n\nOur goal is to generate a final detailed plan and add the internal documentation necessary for supporting all the steps necessary.\n\nNote: This issue started as the first step to create migration helpers for moving tables to new shards. We have updated its scope to migrating the CI tables to a new database on GitLab.com as this is our original focus and all discussions resolved around that effort.","state":"closed","created_at":"2021-06-10T23:38:36.789Z","updated_at":"2022-05-31T12:22:47.567Z","closed_at":"2021-07-04T23:09:40.576Z","closed_by":{"id":120073,"username":"DylanGriffith","name":"Dylan Griffith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/120073/avatar.png","web_url":"https://gitlab.com/DylanGriffith"},"labels":["Category:Pods","blocked","devops::data_stores","group::pods","section::enablement","workflow::blocked"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":120073,"username":"DylanGriffith","name":"Dylan Griffith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/120073/avatar.png","web_url":"https://gitlab.com/DylanGriffith"}],"author":{"id":1982738,"username":"iroussos","name":"Yannis Roussos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1982738/avatar.png","web_url":"https://gitlab.com/iroussos"},"type":"ISSUE","assignee":{"id":120073,"username":"DylanGriffith","name":"Dylan Griffith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/120073/avatar.png","web_url":"https://gitlab.com/DylanGriffith"},"user_notes_count":16,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333338","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333338","notes":"https://gitlab.com/api/v4/projects/278964/issues/333338/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333338/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333338","relative":"#333338","full":"gitlab-org/gitlab#333338"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6234,"epic":{"id":293773,"iid":6234,"title":"Decomposition: Migration plan for moving CI tables on GitLab.com","url":"/groups/gitlab-org/-/epics/6234","group_id":9970,"human_readable_end_date":"Aug 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88545738,"iid":333337,"project_id":278964,"title":"GitLab-Exporter can monitor many logical databases","description":"Make sure that GitLab-Exporter can monitor many logical databases","state":"closed","created_at":"2021-06-10T23:30:17.760Z","updated_at":"2022-05-31T12:22:48.251Z","closed_at":"2021-07-13T22:43:28.143Z","closed_by":{"id":120073,"username":"DylanGriffith","name":"Dylan Griffith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/120073/avatar.png","web_url":"https://gitlab.com/DylanGriffith"},"labels":["Category:Pods","devops::data_stores","group::pods","section::enablement"],"milestone":null,"assignees":[],"author":{"id":1982738,"username":"iroussos","name":"Yannis Roussos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1982738/avatar.png","web_url":"https://gitlab.com/iroussos"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333337","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333337","notes":"https://gitlab.com/api/v4/projects/278964/issues/333337/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333337/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":"https://gitlab.com/api/v4/projects/278964/issues/332945"},"references":{"short":"#333337","relative":"#333337","full":"gitlab-org/gitlab#333337"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6134,"epic":{"id":285044,"iid":6134,"title":"Decomposition:  Create observability for multiple database servers","url":"/groups/gitlab-org/-/epics/6134","group_id":9970,"human_readable_end_date":"Aug 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88545625,"iid":333336,"project_id":278964,"title":"Database Partitioning works on many databases","description":"Dynamic database partitioning (e.g. when partitioning a table by month) uses a secondary schema and a worker to add new partitions periodically. \n\nWe should make sure that many databases are supported and that database partitioning works on all configured database connections.","state":"closed","created_at":"2021-06-10T23:22:20.831Z","updated_at":"2022-05-31T12:22:48.943Z","closed_at":"2021-08-11T04:39:46.313Z","closed_by":{"id":2535118,"username":"tkuah","name":"Thong Kuah","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f7b51bdd49a4914d29504d7ff4c3f7b9?s=80\u0026d=identicon","web_url":"https://gitlab.com/tkuah"},"labels":["Category:Pods","[deprecated] Accepting merge requests","devops::data_stores","group::pods","section::enablement"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[],"author":{"id":1982738,"username":"iroussos","name":"Yannis Roussos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1982738/avatar.png","web_url":"https://gitlab.com/iroussos"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333336","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333336","notes":"https://gitlab.com/api/v4/projects/278964/issues/333336/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333336/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":"https://gitlab.com/api/v4/projects/278964/issues/336898"},"references":{"short":"#333336","relative":"#333336","full":"gitlab-org/gitlab#333336"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6103,"epic":{"id":281355,"iid":6103,"title":"Decomposition: Support for many databases","url":"/groups/gitlab-org/-/epics/6103","group_id":9970,"human_readable_end_date":"Sep 16, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88545514,"iid":333334,"project_id":278964,"title":"Ensure background migrations work for new CI DB","description":"- Post deployment migrations use the same type of migration helpers as the regular ones. If the regular migrations work, then they should work as well on that regard.\n\n  The task is to set them up to run following the same rules as the `migrate/ci` ones (or whatever approach we are going to follow in gitlab-org/gitlab!64289)\n\n- Making sure that sidekiq and `BackgroundMigrationWorker` work as expected when we connect to other shards. \n\n- The issue with background migrations is that we do not use Models or `ApplicationRecord`, but we define custom local classes by extending `ActiveRecord::Base` (https://docs.gitlab.com/ee/development/migration_style_guide.html#using-models-in-migrations-discouraged)\n\n  So we would have to find a way to set the `connects_to` properly or just require manually setting it in the local `ActiveRecord::Base` classes inside each `BackgroundMigration`.","state":"closed","created_at":"2021-06-10T23:11:40.833Z","updated_at":"2022-05-30T15:28:17.221Z","closed_at":"2021-10-05T13:06:36.809Z","closed_by":{"id":3910448,"username":"craig-gomes","name":"Craig Gomes","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3910448/avatar.png","web_url":"https://gitlab.com/craig-gomes"},"labels":["Category:Database","Category:Pods","ci-decomposition","devops::data_stores","group::database","pods::active","section::enablement","workflow::in dev"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":5297955,"username":"pbair","name":"Patrick Bair","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5297955/avatar.png","web_url":"https://gitlab.com/pbair"}],"author":{"id":1982738,"username":"iroussos","name":"Yannis Roussos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1982738/avatar.png","web_url":"https://gitlab.com/iroussos"},"type":"ISSUE","assignee":{"id":5297955,"username":"pbair","name":"Patrick Bair","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5297955/avatar.png","web_url":"https://gitlab.com/pbair"},"user_notes_count":18,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333334","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333334","notes":"https://gitlab.com/api/v4/projects/278964/issues/333334/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333334/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333334","relative":"#333334","full":"gitlab-org/gitlab#333334"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6387,"epic":{"id":311274,"iid":6387,"title":"Decomposition: Make Enablement features compatible with Decomposed CI database","url":"/groups/gitlab-org/-/epics/6387","group_id":9970,"human_readable_end_date":"May 22, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88545333,"iid":333332,"project_id":278964,"title":"Discover and gracefully handle failures from many databases","description":"We want the application to be able to discover and gracefully handle failures from many databases (handle many SPOFs)\n\nRelated issue: gitlab-org/gitlab#331091","state":"closed","created_at":"2021-06-10T23:02:21.059Z","updated_at":"2022-05-31T12:22:49.461Z","closed_at":"2021-11-22T13:31:26.877Z","closed_by":{"id":3944199,"username":"fzimmer","name":"Fabian Zimmer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3944199/avatar.png","web_url":"https://gitlab.com/fzimmer"},"labels":["Category:Pods","devops::data_stores","group::pods","section::enablement"],"milestone":null,"assignees":[],"author":{"id":1982738,"username":"iroussos","name":"Yannis Roussos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1982738/avatar.png","web_url":"https://gitlab.com/iroussos"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333332","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333332","notes":"https://gitlab.com/api/v4/projects/278964/issues/333332/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333332/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333332","relative":"#333332","full":"gitlab-org/gitlab#333332"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6103,"epic":{"id":281355,"iid":6103,"title":"Decomposition: Support for many databases","url":"/groups/gitlab-org/-/epics/6103","group_id":9970,"human_readable_end_date":"Sep 16, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88544870,"iid":333331,"project_id":278964,"title":"Sharding Group - Sharding using Decomposition Blueprint","description":"We would like to add a blueprint for sharding using decomposition to describe the approach that ~\"group::sharding\" has decided to follow and the high-level goals of the Group.","state":"closed","created_at":"2021-06-10T22:42:08.009Z","updated_at":"2022-07-12T03:24:30.257Z","closed_at":"2022-07-12T03:24:30.239Z","closed_by":{"id":120073,"username":"DylanGriffith","name":"Dylan Griffith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/120073/avatar.png","web_url":"https://gitlab.com/DylanGriffith"},"labels":["Category:Pods","ci-decomposition-followup","devops::data_stores","group::pods","section::enablement"],"milestone":null,"assignees":[],"author":{"id":1982738,"username":"iroussos","name":"Yannis Roussos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1982738/avatar.png","web_url":"https://gitlab.com/iroussos"},"type":"ISSUE","assignee":null,"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333331","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333331","notes":"https://gitlab.com/api/v4/projects/278964/issues/333331/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333331/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333331","relative":"#333331","full":"gitlab-org/gitlab#333331"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6132,"epic":{"id":285027,"iid":6132,"title":"Blueprints","url":"/groups/gitlab-org/-/epics/6132","group_id":9970,"human_readable_end_date":"Jul 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88544379,"iid":333329,"project_id":278964,"title":"Identify first CI Table to shard using decomposition","description":"**Decision**: We will focus on `ci_instance_variables` first\n\n\nThere is a consensus inside ~\"group::sharding\" that moving all the CI tables to a separate shard will provide us with the most benefits, so we have decided to try to find a simple CI table as our first candidate for sharding using decomposition.\n\nThe goal of this issue is to check all the CI tables, identify the simplest ones from a decomposition perspective and finally pick the one that we are going to decompose first and use while we are adding support for decomposition.","state":"closed","created_at":"2021-06-10T22:18:08.185Z","updated_at":"2022-05-31T12:22:50.827Z","closed_at":"2021-06-14T09:45:40.020Z","closed_by":{"id":3944199,"username":"fzimmer","name":"Fabian Zimmer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3944199/avatar.png","web_url":"https://gitlab.com/fzimmer"},"labels":["Category:Pods","[deprecated] Accepting merge requests","devops::data_stores","group::pods","section::enablement","workflow::ready for development"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[],"author":{"id":1982738,"username":"iroussos","name":"Yannis Roussos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1982738/avatar.png","web_url":"https://gitlab.com/iroussos"},"type":"ISSUE","assignee":null,"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333329","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333329","notes":"https://gitlab.com/api/v4/projects/278964/issues/333329/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333329/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333329","relative":"#333329","full":"gitlab-org/gitlab#333329"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6167,"epic":{"id":287358,"iid":6167,"title":"Decomposition: CI Tables","url":"/groups/gitlab-org/-/epics/6167","group_id":9970,"human_readable_end_date":"Oct 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88536531,"iid":333306,"project_id":278964,"title":"Pipeline run fails with \"Include `{\"project\":null \"file\":null}` needs to match exactly one accessor!","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\nAfter adding `Compliance Framework` to a project CI Pipelines fail with yaml error.\n`\"Include {\"project\":null \"file\":null} needs to match exactly one accessor!` \n\nPipeline editor in the UI does not indicate a problem. \n\nCI Lint only shows a problem when selecting the `Simulate a pipeline created for the default branch` box.\n\n\u003c!-- Summarize the bug encountered concisely. --\u003e\n\n### Steps to reproduce\n1. Add new compliance framework to a group, do not include a project for CI files. (i.e. PCI)\n1. Tag project with new compliance framework.\n1. Edit `.gitlab-ci.yml` file (it seems like it will run until the project ci file is modified). \n1. Run a new pipeline.\n\n![Screen_Shot_2021-06-09_at_5.22.29_PM](/uploads/246370d0b5a30cf9775cbb03da8106fe/Screen_Shot_2021-06-09_at_5.22.29_PM.png)\n\n![Screen_Shot_2021-06-09_at_5.23.29_PM](/uploads/e426b5932d9e4543a3bf652ad2cd7c39/Screen_Shot_2021-06-09_at_5.23.29_PM.png)\n\n\n\u003c!-- Describe how one can reproduce the issue - this is very important. Please use an ordered list. --\u003e\n\n### Example Project\n\nhttps://gitlab.com/gitops-demo/apps/my-asp-net-app1/-/pipelines/318093566\n\n\n\u003c!-- If possible, please create an example project here on GitLab.com that exhibits the problematic \nbehavior, and link to it here in the bug report. If you are using an older version of GitLab, this \nwill also determine whether the bug is fixed in a more recent version. --\u003e\n\n### What is the current *bug* behavior?\nPipeline fails to run.\n\n\u003c!-- Describe what actually happens. --\u003e\n\n### What is the expected *correct* behavior?\nA blank entry in the compliance framework should be ignored as it is indicated to be an optional parameter. \n\n\u003c!-- Describe what you should see instead. --\u003e\n\n### Relevant logs and/or screenshots\n\n\u003c!-- Paste any relevant logs - please use code blocks (```) to format console output, logs, and code\n as it's tough to read otherwise. --\u003e\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\nWe currently only check for `null` compliance pipeline configuration location. The bug is caused by an `empty` string value in the compliance pipeline configuration location.\n\n1. Ensure the evaluation of the compliance CI template is guarded against empty value (ie. `\" \"`)\n1. Ensure the compliance pipeline configuration location is not set (= `null`) if not entered by the user","state":"closed","created_at":"2021-06-10T17:54:10.268Z","updated_at":"2021-07-05T09:03:13.158Z","closed_at":"2021-07-05T09:03:13.115Z","closed_by":{"id":398752,"username":"tancnle","name":"Tan Le","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/398752/avatar.png","web_url":"https://gitlab.com/tancnle"},"labels":["Category:Compliance Management","backend","devops::manage","group::compliance","priority::1","section::dev","severity::2","type::bug","workflow::verification"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":398752,"username":"tancnle","name":"Tan Le","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/398752/avatar.png","web_url":"https://gitlab.com/tancnle"}],"author":{"id":3685676,"username":"bdowney","name":"Brad Downey","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3685676/avatar.png","web_url":"https://gitlab.com/bdowney"},"type":"ISSUE","assignee":{"id":398752,"username":"tancnle","name":"Tan Le","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/398752/avatar.png","web_url":"https://gitlab.com/tancnle"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333306","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333306","notes":"https://gitlab.com/api/v4/projects/278964/issues/333306/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333306/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333306","relative":"#333306","full":"gitlab-org/gitlab#333306"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88536276,"iid":333304,"project_id":278964,"title":"Improve handling of unknown content types in API fuzzing and DAST API","description":"## Problem\n\nOpenAPI supports specifying different [media types](https://en.wikipedia.org/wiki/Media_type) for the same Operation. The OpenAPI reader component can generate sample data for specific media types. These facts can lead to:\n\n1. **No media type can be used for a given Url**. For instance, an OpenAPI document could have many operations and OpenAPI reader cannot generate sample data for any of them. The job output does not provide feedback about this scenario or how to work around it.\n\n1. **Multiple media types can be used for the same operation**. For instance, the same operation can be tested using `application/json` or `application/xml`. This leads to generating two different requests for the same operation. This behavior might not always be desirable.\n\n## Links\n\nOriginally, there was an issue about a non-supported type, and it was producing an exception. A quick fix was delivered to prevent crashes for non-supported content types. It now displays `Body unavailable`. \n\nRelated issue [#333026](https://gitlab.com/gitlab-org/gitlab/-/issues/333026)\nThe issue seemed to happen with `application/json` content. although, it was possible to reproduce with `multipart/form-data` content.\n\nThis issue is to follow up and propose a more complete solution. \n\n## Proposal\n\n1. [X] In the case of **no media type can be used for the given operations**.\n    1. [X] Scanner\n        1. [x] OpenAPI reader to throw a ReaderException when no request has been generated and at least one of them has a content body specified. (keep in mind that `GET` operations do not have `Content-Type` thus we could have many operations without `Content-Type`). The exception should suggest user-actionable items, e.g.: suggest using supported media types in at least one operation, point out review documentation to see supported media types. \n    1. [X] Worker-Entry\n        1. [x] Should be able to detect this case when invoking `OpenAPIController.Validate`. Ensure the proper message is delivered to Job output on this scenario. (integration test?)\n    1. [X] Tests\n        1. [x] Add C# integration test only with GET operations. Assert that no exception should be thrown.\n        1. [x] Add C# integration test where all operations have non-supported Content-Type. Assert that expected ReaderException is thrown.\n        1. [x] Add C# integration test where all operations have non-supported Content-Type, but one. Assert no exception is thrown.\n\n        1. [x] Add C# integration test to validate this specific ReaderException\n        1. [x] Add/Update tests with multiple operations and at least one has a supported media type.\n        1. [x] Add/Update tests with multiple operations and at none has a supported media type. \n    1. [X] Documentation\n        1. [x] Document exception in the troubleshooting section\n        1. [x] Explain this behavior in OpenAPI section.\n1. In the case of **multiple media types can be used for the same operation**\n    1. Introduce `_OPENAPI_ALL_MEDIA_TYPES`. Optional variable, Disabled by default. When set to any value, then the flag is enabled. When enabled, it uses all supported media types, otherwise, API security uses only one of any supported media type.\n        1. [X] Worker-Entry\n            1. [x] Add support to a new variable `_OPENAPI_ALL_MEDIA_TYPES`. if this variable has any value (not null or not empty), it will produce requests for all the supported media types.\n        1. [X] Scanner\n            1. [x] Update OpenAPIReader to check `_OPENAPI_ALL_MEDIA_TYPES` variable. When `_OPENAPI_ALL_MEDIA_TYPES` is set to any value and If the operation provides multiple supported media types, then all supported media types should be used, otherwise, only one supported media type should be used to create the requests.\n        1. [X] Tests\n            1. [x] Existing tests were expecting requests for each supported media type. Update them to use `_OPENAPI_ALL_MEDIA_TYPES` and keep their existing assertions.\n            1. [X] Add tests where multiple supported media types are provided for the same operation, `_OPENAPI_ALL_MEDIA_TYPES` is not set. Then assert that only one of the media types gets generated requests. Assert that output provides information about skipped media types.\n            1. [-] ~Add/Update integration tests (could be C# integration tests) where media type is enabled~ Using existing tests.\n            1. [-] ~Add/Update integration tests (could be C# integration tests) where media type is disabled~ Using existing tests.\n        1. [X] Documentation\n            1. [x] Add an entry for new variable `_OPENAPI_ALL_MEDIA_TYPES`\n            1. [x] Explain the new behavior in the OpenAPI section\n        1. [X] Publish container\n    1. Introduce `_OPENAPI_MEDIA_TYPES`. Optional variable, disabled by default. To enable it should be set to a list of media types. This list of the media types is used to filter request generation\n        1. [X] Worker-Entry\n            1. [x] Add support to a new variable `_OPENAPI_MEDIA_TYPES`. Pass it to `OpenApiController.Validate`\n        1. [X] Scanner\n            1. [x] Update OpenAPIReader to check `_OPENAPI_MEDIA_TYPES` variable., when set. The list of supported media types should intersect the list provided by `_OPENAPI_MEDIA_TYPES`.\n        1. [X] Tests\n            1. [x] Add test to Scanner (C# integration or unit test)\n            1. [x] Add test to Worker-Entry (integration-test)\n    1. [X] Ensure `_OPENAPI_ALL_MEDIA_TYPES` and `_OPENAPI_MEDIA_TYPES` are mutually exclusive. Only one of them should be set during a scan session.\n        1. [x] Update Scanner\n            1. [x] Throw a ReaderException if both variables are set.\n            1. [x] Add test (C# integration or unit test)\n        1. [X] Update Worker-Entry\n            1. [x] Add an error when both environmental variables are set \n            1. [x] Add integration test (pytests)","state":"closed","created_at":"2021-06-10T17:46:23.763Z","updated_at":"2022-04-13T17:40:30.608Z","closed_at":"2022-04-13T17:40:30.588Z","closed_by":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"labels":["Category:API Security","GitLab Ultimate","backend","devops::secure","group::dynamic analysis","section::sec","workflow::verification"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":7488329,"username":"herbmadrigal","name":"Herber Madrigal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7488329/avatar.png","web_url":"https://gitlab.com/herbmadrigal"}],"author":{"id":7488329,"username":"herbmadrigal","name":"Herber Madrigal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7488329/avatar.png","web_url":"https://gitlab.com/herbmadrigal"},"type":"ISSUE","assignee":{"id":7488329,"username":"herbmadrigal","name":"Herber Madrigal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7488329/avatar.png","web_url":"https://gitlab.com/herbmadrigal"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333304","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":40,"completed_count":40},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"40 of 40 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333304","notes":"https://gitlab.com/api/v4/projects/278964/issues/333304/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333304/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333304","relative":"#333304","full":"gitlab-org/gitlab#333304"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88535405,"iid":333300,"project_id":278964,"title":"BulkImports: Follow-up from \"WIP: Import Group Avatar\"","description":"The following discussion from !62714 should be addressed:\n\n- [ ] @georgekoltsov started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/62714#note_591899002): \n\n    \u003e Interesting, so since we dont need a transformation step, we should probably create a follow up to update the runner to skip transformers if there are none, so that there is no hard requirement in having the `transform` method present.","state":"closed","created_at":"2021-06-10T17:15:26.632Z","updated_at":"2021-07-12T13:53:58.136Z","closed_at":"2021-07-12T13:53:58.128Z","closed_by":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"labels":["Importer:GitLab Migration","Next Up","backend","devops::manage","group::import","section::dev","workflow::production"],"milestone":null,"assignees":[{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"}],"author":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"type":"ISSUE","assignee":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333300","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333300","notes":"https://gitlab.com/api/v4/projects/278964/issues/333300/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333300/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333300","relative":"#333300","full":"gitlab-org/gitlab#333300"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4931,"epic":{"id":145558,"iid":4931,"title":"GitLab Migration - Technical Improvements","url":"/groups/gitlab-org/-/epics/4931","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88535324,"iid":333299,"project_id":278964,"title":"[15.0] Remove deprecated DS_DEFAULT_ANALYZERS variable","description":"## Summary\n\n`DS_DEFAULT_ANALYZERS` was deprecated in %14.0 (replaced with `DS_EXCLUDED_ANALYZERS`). It should be removed as well.\n\nSee deprecation issue: https://gitlab.com/gitlab-org/gitlab/-/issues/287691\n\n## Improvements\n\n- Reduce maintenance burden.\n- Simplify surface area of supported variables.\n\n## Risks\n\nVariable may still be used by users leading to unintended jobs running.\n\n## Involved components\n\n- Dependency Scanning template: https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/ci/templates/Jobs/Dependency-Scanning.gitlab-ci.yml\n\n## Implementation plan\n\n- [x] remove `DS_DEFAULT_ANALYZERS` from [Dependency Scanning template](https://gitlab.com/gitlab-org/gitlab/blob/master/lib/gitlab/ci/templates/Jobs/Dependency-Scanning.gitlab-ci.yml)\n- [x] remove variable from [Dependency Scanning documentation](https://docs.gitlab.com/ee/user/application_security/dependency_scanning/#available-cicd-variables)\n- [x] remove variable from analyzers and qa templates:\n- [x] https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/-/blob/master/.gitlab-ci.yml\n- [x] https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-maven/-/blob/master/.gitlab-ci.yml\n- [x] https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-python/-/blob/master/.gitlab-ci.yml\n- [x] https://gitlab.com/gitlab-org/security-products/ci-templates/raw/master/includes-dev/qa-dependency_scanning.yml","state":"closed","created_at":"2021-06-10T17:13:10.436Z","updated_at":"2022-12-29T03:09:18.809Z","closed_at":"2022-05-12T17:09:07.533Z","closed_by":{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"},"labels":["Category:Dependency Scanning","Deliverable","Enterprise Edition","GitLab Ultimate","backend","devops::secure","group::composition analysis","maintenance::removal","priority::1","section::sec","type::maintenance","workflow::verification"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"}],"author":{"id":4668304,"username":"ifrenkel","name":"Igor Frenkel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a73e8113c53ac25297ce751e59bbb1d3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifrenkel"},"type":"ISSUE","assignee":{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333299","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":7,"completed_count":7},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"7 of 7 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333299","notes":"https://gitlab.com/api/v4/projects/278964/issues/333299/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333299/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333299","relative":"#333299","full":"gitlab-org/gitlab#333299"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6157,"epic":{"id":286494,"iid":6157,"title":"15.0 Deprecations and Removals - SCA","url":"/groups/gitlab-org/-/epics/6157","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":88535183,"iid":333297,"project_id":278964,"title":"Display Debian packages in the UI","description":"### Context\n\nAs part of the epic https://gitlab.com/groups/gitlab-org/-/epics/6057, GitLab will be adding support for the publishing, sharing, and downloading of Debian modules to the Package Registry. \n\n### Problem to  solve\n\nAs a Developer, you need the ability to view your Debian modules in the GitLab application, so that you can verify they were built properly or confirm you are using the correct version. \n\n### Proposal\n\nUpdate the Package Registry UI to display Debian packages, their files and base information such as the package name and version. \n\n#### Further details\n\n- The Debian MVC is a Community Contribution. You can follow the current state of the roadmap here: https://gitlab.com/groups/gitlab-org/-/epics/6057#note_582697034\n- This issue only covers the MVC of the front end. We will still need to extract and present the metadata. You can follow https://gitlab.com/gitlab-org/gitlab/-/issues/333608 for more details.","state":"closed","created_at":"2021-06-10T17:09:40.417Z","updated_at":"2021-07-18T07:08:39.284Z","closed_at":"2021-06-28T07:29:16.004Z","closed_by":{"id":4584738,"username":"nmezzopera","name":"Nicolò Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"},"labels":["Category:Package Registry","Debian Repository","Deliverable","GitLab Free","Package:P1","devops::package","direction","frontend","group::package registry","section::ops","type::feature","workflow::in review"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":4584738,"username":"nmezzopera","name":"Nicolò Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"}],"author":{"id":3799560,"username":"trizzi","name":"Tim Rizzi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3799560/avatar.png","web_url":"https://gitlab.com/trizzi"},"type":"ISSUE","assignee":{"id":4584738,"username":"nmezzopera","name":"Nicolò Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333297","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333297","notes":"https://gitlab.com/api/v4/projects/278964/issues/333297/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333297/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333297","relative":"#333297","full":"gitlab-org/gitlab#333297"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6057,"epic":{"id":275797,"iid":6057,"title":"Make the Debian repository  generally available (GA)","url":"/groups/gitlab-org/-/epics/6057","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":88525798,"iid":333286,"project_id":278964,"title":"Protecting a Branch is ignored when no repository exists","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\n\u003c!-- Summarize the bug encountered concisely. --\u003e\n\nWhen an a project is created without a Git Repository, you are allowed to setup a protected branch within the UI.\n\n\u003e ![Screen_Shot_2021-06-10_at_9.05.14_AM](/uploads/7ee7c6e8188dab9503b118d76ed6b363/Screen_Shot_2021-06-10_at_9.05.14_AM.png)\n\nHowever, upon saving this by clicking the `Protect` button, the page refreshes and the protections never persist.\n\nThis is a problem when you want to protect branches prior to an initial commit - specifically when we're aiming to mirror an external repository but protect the branches initially. \n\n### Steps to reproduce\n\n\u003c!-- Describe how one can reproduce the issue - this is very important. Please use an ordered list. --\u003e\n\n1. Create an empty project\n1. Add a protected branch and save\n1. Validate that the protection disappears and without any warning.\n\n### Example Project\n\n\u003c!-- If possible, please create an example project here on GitLab.com that exhibits the problematic \nbehavior, and link to it here in the bug report. If you are using an older version of GitLab, this \nwill also determine whether the bug is fixed in a more recent version. --\u003e\n\n### What is the current *bug* behavior?\n\n\u003c!-- Describe what actually happens. --\u003e\n\n### What is the expected *correct* behavior?\n\n\u003c!-- Describe what you should see instead. --\u003e\n\n### Relevant logs and/or screenshots\n\n\u003c!-- Paste any relevant logs - please use code blocks (```) to format console output, logs, and code\n as it's tough to read otherwise. --\u003e\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e","state":"closed","created_at":"2021-06-10T14:08:49.664Z","updated_at":"2022-11-13T14:05:15.831Z","closed_at":"2022-10-18T16:24:33.360Z","closed_by":{"id":421631,"username":"vyaklushin","name":"Vasilii Iakliushin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/421631/avatar.png","web_url":"https://gitlab.com/vyaklushin"},"labels":["Category:Source Code Management","bug::functional","devops::create","group::source code","missed:15.4","section::dev","type::bug","workflow::verification"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":421631,"username":"vyaklushin","name":"Vasilii Iakliushin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/421631/avatar.png","web_url":"https://gitlab.com/vyaklushin"}],"author":{"id":428430,"username":"poffey21","name":"Tim Poffenbarger","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/428430/avatar.png","web_url":"https://gitlab.com/poffey21"},"type":"ISSUE","assignee":{"id":421631,"username":"vyaklushin","name":"Vasilii Iakliushin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/421631/avatar.png","web_url":"https://gitlab.com/vyaklushin"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333286","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333286","notes":"https://gitlab.com/api/v4/projects/278964/issues/333286/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333286/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333286","relative":"#333286","full":"gitlab-org/gitlab#333286"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88523531,"iid":333269,"project_id":278964,"title":"Investigate: Usage Ping gets sent even with disabled configuration on self managed","description":"## What happened\nRCA: https://gitlab.com/gitlab-org/growth/team-tasks/-/issues/401\n\nWe detected an issue with disabling usage ping from config file does not get picked up and we're still sending usage ping data.\n\n- Slack Message from customer response: https://gitlab.slack.com/archives/CMJ8JR0RH/p1623320111453100\n- Slack Message for potential issue: https://gitlab.slack.com/archives/CETG54GQ0/p1623269807224600 \n\n## Reproduce Steps\n\n1. Set\n    ```\n    gitlab_rails['usage_ping_enabled'] = false\n    ``` \n\n    in [gitlab.rb](https://gitlab.com/gitlab-org/omnibus-gitlab/-/blob/master/files/gitlab-config-template/gitlab.rb.template#L443-448)\n1. Go to Admin Panel to Usage Statistics \n1. Usage Ping should have a disabled checkbox\n\n## :white_check_mark:  To confirm\n\nEven though usage ping got disabled with `gitlab.rb`, it still gets send. We need to validate if Usage Ping still gets send.\n1. If this is the case\n    1. If yes: Why this happens\n    1. If no: Why it is happening for the customer\n\n## Explanation\n\n- In [`SubmitUsagePingService`](https://gitlab.com/gitlab-org/gitlab/blob/master/app/services/submit_usage_ping_service.rb#L20) we check if ` Gitlab::CurrentSettings.usage_ping_enabled?`\n- `Gitlab::CurrentSettings.usage_ping_enabled?` goes to `Gitlab::CurrentSettings` and forwards the `usage_ping_enabled?` method to `ApplicationSettings`. `ApplicationSettings` is including `ApplicationSettingImplementation` which makes sure that we can override configs from config files or the database.\n     - In `ApplicationSettingImplementation` we have a method where we override `usage_ping_enabled` to account for the logic to first check if the config file has changed to `false` and then later check the database\n    * However, when calling `CurrentSettings.usage_ping_enabled?` we do this with the `?` version (which comes from ActiveRecord) so we don't go to the overridden `usage_ping_enabled` method and therefore we ignore the config settings.\n\n## Next steps\n\n#### Figure out how long this issue persists\n\nSince version 9.3 and introduced with https://gitlab.com/gitlab-org/gitlab/-/commit/26dde5f55f1dac2e6bea4f7e1dfa51c72dc756cb\n\n#### Figure out which customers are affected\n\nWe need to delete data from customers we have submitted usage ping data although they though it's disabled.\n\n    - We likely can't find out automatically which customers is affected\n    - Customers could check on their own instance if they are affected and report us \u0026 we delete the data","state":"closed","created_at":"2021-06-10T13:35:41.304Z","updated_at":"2022-01-21T21:16:55.137Z","closed_at":"2021-06-21T22:25:18.460Z","closed_by":{"id":5413970,"username":"justinfarris","name":"Justin Farris","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5413970/avatar.png","web_url":"https://gitlab.com/justinfarris"},"labels":["Community response","devops::growth","group::product intelligence","priority::1","section::growth","severity::2","spike","workflow::verification"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":3509693,"username":"nicolasdular","name":"Nicolas Dular","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c4a21f15150c12ddf13fd848597cddd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/nicolasdular"}],"author":{"id":3509693,"username":"nicolasdular","name":"Nicolas Dular","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c4a21f15150c12ddf13fd848597cddd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/nicolasdular"},"type":"ISSUE","assignee":{"id":3509693,"username":"nicolasdular","name":"Nicolas Dular","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c4a21f15150c12ddf13fd848597cddd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/nicolasdular"},"user_notes_count":34,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333269","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333269","notes":"https://gitlab.com/api/v4/projects/278964/issues/333269/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333269/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333269","relative":"#333269","full":"gitlab-org/gitlab#333269"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88520566,"iid":333258,"project_id":278964,"title":"Document new database migration helpers using batches","description":"The following discussion from !63519 should be addressed:\n\n@abrandl started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/63519#note_596771895):  (+3 comments)\n\nWe should document new migration helpers and add them docs.","state":"closed","created_at":"2021-06-10T12:45:22.635Z","updated_at":"2023-01-10T15:52:42.470Z","closed_at":"2021-07-05T15:59:05.530Z","closed_by":{"id":5251734,"username":"morefice","name":"Max Orefice","state":"active","avatar_url":"https://secure.gravatar.com/avatar/0a910912e24727d7eef579cd047f7651?s=80\u0026d=identicon","web_url":"https://gitlab.com/morefice"},"labels":["Engineering Allocation","auto updated","ci::scaling","devops::verify","documentation","group::pipeline execution","section::ops","workflow::production"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":5251734,"username":"morefice","name":"Max Orefice","state":"active","avatar_url":"https://secure.gravatar.com/avatar/0a910912e24727d7eef579cd047f7651?s=80\u0026d=identicon","web_url":"https://gitlab.com/morefice"}],"author":{"id":263716,"username":"grzesiek","name":"Grzegorz Bizon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/263716/avatar.jpeg","web_url":"https://gitlab.com/grzesiek"},"type":"ISSUE","assignee":{"id":5251734,"username":"morefice","name":"Max Orefice","state":"active","avatar_url":"https://secure.gravatar.com/avatar/0a910912e24727d7eef579cd047f7651?s=80\u0026d=identicon","web_url":"https://gitlab.com/morefice"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333258","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333258","notes":"https://gitlab.com/api/v4/projects/278964/issues/333258/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333258/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333258","relative":"#333258","full":"gitlab-org/gitlab#333258"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5909,"epic":{"id":261464,"iid":5909,"title":"Introduce additional database table to improve builds queuing mechanisms","url":"/groups/gitlab-org/-/epics/5909","group_id":9970,"human_readable_end_date":"Oct 22, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88519319,"iid":333255,"project_id":278964,"title":"Update translations levels (July 2021)","description":"## Introduction\n\nWith the implementation of the feature to show the [translation coverage](https://gitlab.com/gitlab-org/gitlab/-/issues/328430) in the language selection dropdown, the translation levels need to be updated on a monthly cadence. \n\n## Proposal\n\nOnce the monthly merge of the new translations is complete, update the translation levels [data](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/i18n.rb#L40) from Crowdin.\n\n## Documentation\n\n* https://docs.gitlab.com/ee/development/i18n/merging_translations.html#manually-update-the-translation-levels\n\n#### ToDo\n* [x] Complete the [regular monthly merge](https://gitlab.com/groups/gitlab-org/-/epics/3571) of translations from Crowdin. https://gitlab.com/gitlab-org/gitlab/-/issues/332728\n* [x] Get the translation levels (% approved words) from [Crowdin](https://crowdin.com/project/gitlab-ee/settings#translations).\n* [x] Create an MR to update the translation levels [data](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/i18n.rb#L40).\n* [x] Associate that MR to this issue.\n* [x] Complete the MR.\n* [x] When done, clone this issue for the next milestone.","state":"closed","created_at":"2021-06-10T12:22:48.926Z","updated_at":"2022-03-28T19:16:55.709Z","closed_at":"2021-07-13T22:25:46.551Z","closed_by":{"id":5247073,"username":"hdelalic","name":"Haris Delalić","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5247073/avatar.png","web_url":"https://gitlab.com/hdelalic"},"labels":["Category:Internationalization","Deliverable","Next Up","backend","devops::manage","estimation::completed","group::import","milestone::p2","section::dev","workflow::production"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":5247073,"username":"hdelalic","name":"Haris Delalić","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5247073/avatar.png","web_url":"https://gitlab.com/hdelalic"}],"author":{"id":5247073,"username":"hdelalic","name":"Haris Delalić","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5247073/avatar.png","web_url":"https://gitlab.com/hdelalic"},"type":"ISSUE","assignee":{"id":5247073,"username":"hdelalic","name":"Haris Delalić","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5247073/avatar.png","web_url":"https://gitlab.com/hdelalic"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2021-07-15","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333255","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":6},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"6 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333255","notes":"https://gitlab.com/api/v4/projects/278964/issues/333255/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333255/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333255","relative":"#333255","full":"gitlab-org/gitlab#333255"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3571,"epic":{"id":67045,"iid":3571,"title":"Regular i18n translation merges","url":"/groups/gitlab-org/-/epics/3571","group_id":9970,"human_readable_timestamp":"\u003cstrong\u003e1033\u003c/strong\u003e days elapsed"},"iteration":null,"health_status":null},{"id":88518099,"iid":333254,"project_id":278964,"title":"Dependency Scanning failed for sbt project with error \"panic: simple: adding self edge [recovered]\"","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\n\u003c!-- Summarize the bug encountered concisely. --\u003e\n\nUsing dependency scanning template for a sbt project failed with error \"panic: simple: adding self edge [recovered]\"\n\n```yml\ninclude:\n  - template: Dependency-Scanning.gitlab-ci.yml\nvariables:\n  SECURE_LOG_LEVEL: debug\n```\n\nA similar error might happen when processing some yarn projects. In that case the error originates form `convert.NewGraph`, when generating the Dependency Scanning report.\n \n### Further details\n\nThe gemnasium-maven analyzer [runs the `dependencyDot` task](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-maven/-/blob/v2.23.0/builder/sbt/sbt.go#L79) of the [sbt-dependency-graph plugin](https://github.com/sbt/sbt-dependency-graph) to export dependency graphs of Sbt projects to DOT files, and then parses DOT files [using gonum](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/-/blob/v2.29.9/scanner/parser/sbt/dotgraph.go#L18). More specifically, the DOT file parsers creates a `gonum/graph/simple.DirectedGraph`, and then decode it using `gonum/graph/encoding/dot`. See https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/-/blob/v2.29.9/scanner/parser/sbt/dotgraph.go#L18\n\nUnfortunately, [DirectedGraph.SetEdge](https://pkg.go.dev/gonum.org/v1/gonum/graph/simple#DirectedGraph.SetEdge) doesn't support self edges:\n\n\u003e SetEdge adds e, an edge from one node to another. If the nodes do not exist, they are added and are set to the nodes of the edge otherwise. It will panic if the IDs of the e.From and e.To are equal.\n\n### Proposal\n\nDefine `dotGraph.SetEdge` so that it does nothing when the argument is a self edge. If not, then it simply delegates to the `SetEdge` method of the embedded directed graph.\n\n```go\nfunc (g *dotGraph) SetEdge(e graph.Edge) {\n\tif e.From() == e.To() {\n\t\treturn\n\t}\n\tg.DirectedGraph.SetEdge(e)\n}\n\n```\n\nSee https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/-/blob/v2.29.9/scanner/parser/sbt/dotgraph.go#L11\n\n```go\n// dotGraph is the simple.DirectedGraph representation of a dot file\ntype dotGraph struct {\n\t*simple.DirectedGraph\n}\n```\n\nSimilarly, `convert.NewGraph` must be updated in order to skip self-edges when building the dependency graph.\n\nAn alternative would be to use a another type of graph that supports self edges, but we could have problems when processing these self edges further down the road in the Gemnasium analyzer.\n\nIn any case, we should investigate and figure out what causes these self edges, and what are the implications for features that rely on the dependency graph. See https://gitlab.com/gitlab-org/gitlab/-/issues/333254#note_618859518\n\n### Implementation plan\n\n- [ ] Update file parser in `gemnasium` project.\n   - Change `sbt` file parser, to skip self-edges when parsing the DOT graph.\n   - Change `convert.NewGraph`, to skip self-edges when building the graph.\n   - Release a new PATCH version.\n- [ ] Update `gemnasium-maven`.\n   - Update `gemnasium` git submodule.\n   - Release a new PATCH version.\n\ngemnasium-python doesn't seem to be impacted by this, but it might be safer to release a new version anyway, after upgrading to the latest version of gemnasium (git submodule).\n\n### Steps to reproduce\n\n\u003c!-- Describe how one can reproduce the issue - this is very important. Please use an ordered list. --\u003e\n\n1. sbt-dependency-graph and sbt-dependency-check settings are configured in plugins.sbt and build.sbt (for local usage)\n2. Include dependency scanning template \n3. Run the pipeline\n\n### Example Project\n\n\u003c!-- If possible, please create an example project here on GitLab.com that exhibits the problematic \nbehavior, and link to it here in the bug report. If you are using an older version of GitLab, this \nwill also determine whether the bug is fixed in a more recent version. --\u003e\n\n### What is the current *bug* behavior?\n\n\u003c!-- Describe what actually happens. --\u003e\n\nJob `gemnasium-maven-dependency_scanning` failed with error \"panic: simple: adding self edge [recovered]\". No `gl-dependency-scanning-report.json` file is generated\n\n### What is the expected *correct* behavior?\n\n\u003c!-- Describe what you should see instead. --\u003e\n\nJob `gemnasium-maven-dependency_scanning` is expected to succeed with `gl-dependency-scanning-report.json` file generated\n\n### Relevant logs and/or screenshots\n\n\u003c!-- Paste any relevant logs - please use code blocks (```) to format console output, logs, and code\n as it's tough to read otherwise. --\u003e\n\nJob console log\n```\n[info] welcome to sbt 1.4.3 (AdoptOpenJDK Java 11.0.7)\n[info] loading settings for project global-plugins from plugins.sbt ...\n[info] loading global plugins from /root/.sbt/1.0/plugins\n[info] loading settings for project map-update-pipeline-build from assembly.sbt,plugins.sbt ...\n[info] loading project definition from /builds/ce/content-management/content-sourcing/map-update-pipeline/project\n[info] loading settings for project root from build.sbt ...\n[info] set current project to Map Updating Pipeline (in build file:/builds/ce/content-management/content-sourcing/map-update-pipeline/)\n[warn] there's a key that's not used by any other settings/tasks:\n[warn]  \n[warn] * root / dependencyCheck / logLevel\n[warn]   +- /builds/ce/content-management/content-sourcing/map-update-pipeline/build.sbt:10\n[warn]  \n[warn] note: a setting might still be used by a command; to exclude a key from this `lintUnused` check\n[warn] either append it to `Global / excludeLintKeys` or call .withRank(KeyRanks.Invisible) on the key\n[warn] There may be incompatibilities among your library dependencies; run 'evicted' to see detailed eviction warnings.\n[info] Wrote dependency graph to '/builds/ce/content-management/content-sourcing/map-update-pipeline/target/dependencies-compile.dot'\n[success] Total time: 3 s, completed Jun 10, 2021, 11:05:33 AM\n[DEBU] [gemnasium-maven] [2021-06-10T11:05:34Z] ▶ Exporting dependencies for /builds/ce/content-management/content-sourcing/map-update-pipeline/lambdaLayer/build.sbt\n[DEBU] [gemnasium-maven] [2021-06-10T11:05:54Z] ▶ /opt/asdf/shims/sbt dependencyDot\n[info] Loading settings for project global-plugins from plugins.sbt ...\n[info] Loading global plugins from /root/.sbt/1.0/plugins\n[info] Loading settings for project lambdalayer-build from plugins.sbt ...\n[info] Loading project definition from /builds/ce/content-management/content-sourcing/map-update-pipeline/lambdaLayer/project\n[warn] There may be incompatibilities among your library dependencies; run 'evicted' to see detailed eviction warnings.\n[info] Loading settings for project root from build.sbt ...\n[info] Set current project to root (in build file:/builds/ce/content-management/content-sourcing/map-update-pipeline/lambdaLayer/)\n[warn] There may be incompatibilities among your library dependencies; run 'evicted' to see detailed eviction warnings.\n[info] Wrote dependency graph to '/builds/ce/content-management/content-sourcing/map-update-pipeline/lambdaLayer/target/dependencies-compile.dot'\n[success] Total time: 1 s, completed Jun 10, 2021, 11:05:54 AM\npanic: simple: adding self edge [recovered]\n\tpanic: simple: adding self edge\ngoroutine 1 [running]:\ngonum.org/v1/gonum/graph/encoding/dot.copyGraph.func1(0xc000220a70)\n\t/go/pkg/mod/gonum.org/v1/gonum@v0.8.1/graph/encoding/dot/decode.go:87 +0xb0\npanic(0x83b2a0, 0x922c30)\n\t/usr/local/go/src/runtime/panic.go:969 +0x1b9\ngonum.org/v1/gonum/graph/simple.(*DirectedGraph).SetEdge(0xc0004ca270, 0x931f60, 0xc0001f11e0)\n\t/go/pkg/mod/gonum.org/v1/gonum@v0.8.1/graph/simple/directed.go:189 +0x4ed\ngonum.org/v1/gonum/graph/encoding/dot.(*simpleGraph).addEdgeStmt(0xc0002209c8, 0x935520, 0xc000550028, 0xc000193080)\n\t/go/pkg/mod/gonum.org/v1/gonum@v0.8.1/graph/encoding/dot/decode.go:281 +0x1fd\ngonum.org/v1/gonum/graph/encoding/dot.(*simpleGraph).addStmt(0xc0002209c8, 0x935520, 0xc000550028, 0x92fd20, 0xc000193080)\n\t/go/pkg/mod/gonum.org/v1/gonum@v0.8.1/graph/encoding/dot/decode.go:197 +0x185\ngonum.org/v1/gonum/graph/encoding/dot.copyGraph(0x935520, 0xc000550028, 0xc000193a70, 0x0, 0x0)\n\t/go/pkg/mod/gonum.org/v1/gonum@v0.8.1/graph/encoding/dot/decode.go:103 +0x199\ngonum.org/v1/gonum/graph/encoding/dot.Unmarshal(0xc00013e000, 0xc75d, 0xfe00, 0x935520, 0xc000550028, 0x5, 0xc00013e000)\n\t/go/pkg/mod/gonum.org/v1/gonum@v0.8.1/graph/encoding/dot/decode.go:53 +0x95\ngitlab.com/gitlab-org/security-products/analyzers/gemnasium/v2/scanner/parser/sbt.newDotGraph(0xc00013e000, 0xc75d, 0xfe00, 0xc00013e000, 0xc75d, 0xfe00)\n\t/go/pkg/mod/gitlab.com/gitlab-org/security-products/analyzers/gemnasium/v2@v2.29.6/scanner/parser/sbt/dotgraph.go:18 +0x132\ngitlab.com/gitlab-org/security-products/analyzers/gemnasium/v2/scanner/parser/sbt.Parse(0x92e540, 0xc000550020, 0xc00017e2d8, 0xc00017e388, 0x852900, 0xc000101890, 0xc00017e2c0, 0xc00017e2c0, 0x0, 0x0)\n\t/go/pkg/mod/gitlab.com/gitlab-org/security-products/analyzers/gemnasium/v2@v2.29.6/scanner/parser/sbt/sbt.go:63 +0x8e\ngitlab.com/gitlab-org/security-products/analyzers/gemnasium/v2/scanner.parseReader(0x92e540, 0xc000550020, 0x8ca468, 0x8af253, 0x3, 0x8b005d, 0x5, 0xc00006b3b0, 0x1, 0x1, ...)\n\t/go/pkg/mod/gitlab.com/gitlab-org/security-products/analyzers/gemnasium/v2@v2.29.6/scanner/scanner.go:163 +0x55\ngitlab.com/gitlab-org/security-products/analyzers/gemnasium/v2/scanner.Scanner.scanReader(0xc00001c378, 0xd, 0xc00001a258, 0x40, 0xc00001a0d5, 0x3c, 0xc0000182b6, 0x6, 0x92e540, 0xc000550020, ...)\n\t/go/pkg/mod/gitlab.com/gitlab-org/security-products/analyzers/gemnasium/v2@v2.29.6/scanner/scanner.go:150 +0xf9\ngitlab.com/gitlab-org/security-products/analyzers/gemnasium/v2/scanner.Scanner.ScanFile(0xc00001c378, 0xd, 0xc00001a258, 0x40, 0xc00001a0d5, 0x3c, 0xc0000182b6, 0x6, 0xc0001fe000, 0x67, ...)\n\t/go/pkg/mod/gitlab.com/gitlab-org/security-products/analyzers/gemnasium/v2@v2.29.6/scanner/scanner.go:142 +0x18d\ngitlab.com/gitlab-org/security-products/analyzers/gemnasium/v2/scanner.Scanner.ScanProjects(0xc00001c378, 0xd, 0xc00001a258, 0x40, 0xc00001a0d5, 0x3c, 0xc0000182b6, 0x6, 0xc00001e8c0, 0x42, ...)\n\t/go/pkg/mod/gitlab.com/gitlab-org/security-products/analyzers/gemnasium/v2@v2.29.6/scanner/scanner.go:118 +0x3ea\nmain.analyze(0xc00003af80, 0xc00001e8c0, 0x42, 0x1, 0x1, 0x0, 0x1)\n\t/go/src/app/analyze.go:102 +0x3f7\ngitlab.com/gitlab-org/security-products/analyzers/command.Run.func1(0xc00003af80, 0x0, 0x0)\n\t/go/pkg/mod/gitlab.com/gitlab-org/security-products/analyzers/command@v1.1.0/run.go:137 +0x559\ngithub.com/urfave/cli/v2.(*Command).Run(0xc000136480, 0xc00003aa00, 0x0, 0x0)\n\t/go/pkg/mod/github.com/urfave/cli/v2@v2.3.0/command.go:163 +0x4ed\ngithub.com/urfave/cli/v2.(*App).RunContext(0xc000105380, 0x932be0, 0xc000020110, 0xc00000c080, 0x2, 0x2, 0x0, 0x0)\n\t/go/pkg/mod/github.com/urfave/cli/v2@v2.3.0/app.go:313 +0x81f\ngithub.com/urfave/cli/v2.(*App).Run(...)\n\t/go/pkg/mod/github.com/urfave/cli/v2@v2.3.0/app.go:224\nmain.main()\n\t/go/src/app/main.go:36 +0x379\n```\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e","state":"closed","created_at":"2021-06-10T12:05:57.026Z","updated_at":"2022-01-18T07:02:58.873Z","closed_at":"2022-01-07T06:59:48.709Z","closed_by":{"id":1958785,"username":"fcatteau","name":"Fabien Catteau","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1958785/avatar.png","web_url":"https://gitlab.com/fcatteau"},"labels":["Category:Dependency Scanning","Deliverable","Enterprise Edition","GitLab Ultimate","backend","customer","devops::secure","group::composition analysis","priority::2","section::sec","severity::3","type::bug","workflow::production"],"milestone":{"id":2156369,"iid":68,"group_id":9970,"title":"14.7","description":"","state":"active","created_at":"2021-07-21T17:39:41.786Z","updated_at":"2021-07-21T17:39:41.786Z","due_date":"2022-01-17","start_date":"2021-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/68"},"assignees":[{"id":1958785,"username":"fcatteau","name":"Fabien Catteau","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1958785/avatar.png","web_url":"https://gitlab.com/fcatteau"}],"author":{"id":8272987,"username":"minff","name":"Minh Nguyen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cbcf70058e273ef1504f961173d84b9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/minff"},"type":"ISSUE","assignee":{"id":1958785,"username":"fcatteau","name":"Fabien Catteau","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1958785/avatar.png","web_url":"https://gitlab.com/fcatteau"},"user_notes_count":23,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333254","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333254","notes":"https://gitlab.com/api/v4/projects/278964/issues/333254/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333254/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333254","relative":"#333254","full":"gitlab-org/gitlab#333254"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88516534,"iid":333252,"project_id":278964,"title":"Increase the IMPORT_JOBS_EXPIRATION limit","description":"\u003c!-- This template is a great use for issues that are feature::additions or technical tasks for larger issues.--\u003e\n\n### Problem \n\n\u003c!-- Use this section to explain the feature and how it will work. It can be helpful to add technical details, design proposals, and links to related epics or issues. --\u003e\n\n\u003c!-- Consider adding related issues and epics to this issue. You can also reference the Feature Proposal Template (https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal%20-%20detailed.md) for additional details to consider adding to this issue. Additionally, as a data oriented organization, when your feature exits planning breakdown, consider adding the `What does success look like, and how can we measure that?` section.\n\n--\u003e\n\nExpanded [from discussion](https://gitlab.com/gitlab-org/gitlab/-/issues/332313#note_591299181) with @georgekoltsov \n\n`IMPORT_JOBS_EXPIRATION` is set to 15 hours.\n\nImporting large projects can take a long time.  I have a test project which seemed to complete:\n\n```\n# gitlab-rake \"gitlab:import_export:import[root,test/zd158866,02_20210601_fullsize,/var/opt/gitlab/ben/2021-05-16_13.10-bigprojectv1_export.tar.gz\"]\n**************************************************\n⛔ WARNING: Sidekiq testing API enabled, but this is not the test environment.  Your jobs will not go to Redis.\n**************************************************\nI, [2021-06-01T10:39:25.125329 #30748]  INFO -- : Importing GitLab export: /var/opt/gitlab/ben/2021-05-16_13.10-bigprojectv1_export.tar.gz into GitLab test/zd158866/02_20210601_fullsize as Administrator\nI, [2021-06-02T06:35:55.155506 #30748]  INFO -- : Done!\n```\n\n- The Repo, MRs, issues, labels, comments imported\n- Pipeline import was only partial - 14,000 of the 28,000 pipelines\n\nIt actually ran for 20 hours, but when I checked in the API, confirmed that it had got reaped by `IMPORT_JOBS_EXPIRATION` \n\n```\n\"import_error\": \"Import timed out. Import took longer than 54000 seconds\"\n```\n\nI'm trying to reproduce issues the customer is experiencing (GitLab team members can read more [in the ticket](https://gitlab.zendesk.com/agent/tickets/158866)) or is likely to experience.  While their MR and Issue count is lower, they have 68,000 pipelines to export and import, and their jobs record count is 100x mine. \n\nThe fix (https://gitlab.com/gitlab-org/gitlab/-/merge_requests/63065) for https://gitlab.com/gitlab-org/gitlab/-/issues/332313 will make imports more reliable, but I still suspect there's still some intermittent issues - I've had it fail several times with `deadline exceeded`.\n\n### Proposal\n\nSupport a larger (much larger) `IMPORT_JOBS_EXPIRATION` value, and ensure the [time threshold](https://gitlab.com/gitlab-org/gitlab/-/blob/45f991a1c0cb21148a0f5a9766e60412d3c8fa38/app/services/import_export_clean_up_service.rb#L4) `LAST_MODIFIED_TIME_IN_MINUTES` in `ImportExportCleanUpService` increases in lock-step.\n\nNDJSON reduced the memory demands of imports, and https://gitlab.com/gitlab-org/gitlab/-/merge_requests/63065 removes the accidental deletion of the exported data before the import could complete.\n\nPotentially for large projects it's now just a case of waiting.  Inserting lots of database records takes time.\n\n[Our docs suggest using the rake task for large imports](https://gitlab.com/gitlab-org/gitlab/-/blob/85e509c24674e21a79ada9cc081588d18a9be5c8/doc/user/project/settings/import_export.md#import-large-projects) and then it's not in Sidekiq, it's a separate process.\n\nWhat is the problem that `IMPORT_JOBS_EXPIRATION` solves?","state":"closed","created_at":"2021-06-10T11:32:31.952Z","updated_at":"2021-07-28T09:25:31.301Z","closed_at":"2021-07-02T09:13:30.494Z","closed_by":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"labels":["Category:Importers","GitLab Core","Importer:Project Export/Import","Next Up","Unplanned","backend","customer","devops::manage","estimation::completed","group::import","section::dev","type::feature","workflow::production"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"}],"author":{"id":4624911,"username":"bprescott_","name":"Ben Prescott_","state":"active","avatar_url":"https://secure.gravatar.com/avatar/91aa28150f430ec564dc5af5952c35a0?s=80\u0026d=identicon","web_url":"https://gitlab.com/bprescott_"},"type":"ISSUE","assignee":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"user_notes_count":7,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333252","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333252","notes":"https://gitlab.com/api/v4/projects/278964/issues/333252/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333252/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333252","relative":"#333252","full":"gitlab-org/gitlab#333252"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88515994,"iid":333249,"project_id":278964,"title":"Assign compliance framework to project via API","description":"### Proposal \n\nThere is currently no way to programmatically assign a compliance framework to a project. This has been requested on a couple of occasions since it launched. https://gitlab.com/gitlab-org/gitlab/-/merge_requests/34709#note_597931636\n\nThis is ~\"Stuff that should Just Work\" but was missed out during initial development as the assignment is done using an existing Rails controller.\n\n### Implementation Plan\n\n* Create new GraphQL mutation to assign a compliance framework to a project. ~backend","state":"closed","created_at":"2021-06-10T11:18:03.922Z","updated_at":"2022-08-04T16:00:14.623Z","closed_at":"2021-07-29T08:50:30.236Z","closed_by":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"labels":["Category:Compliance Management","GitLab Premium","GraphQL","Stuff that should Just Work","backend","customer","devops::manage","direction","group::compliance","priority::2","release post item::in review","section::dev","severity::2","workflow::verification"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"}],"author":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"type":"ISSUE","assignee":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"user_notes_count":26,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333249","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333249","notes":"https://gitlab.com/api/v4/projects/278964/issues/333249/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333249/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333249","relative":"#333249","full":"gitlab-org/gitlab#333249"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":88511204,"iid":333246,"project_id":278964,"title":"GithubImporter: Cache imported relation after the importer runs instead of the work is scheduled","description":"## Problem Definition\n\nCurrently, `Gitlab::GithubImport::ParallelScheduling#parallel_import` is marking the relation to be imported as `imported` after the job is scheduled, this might cause to some relations to be skipped if sidekiq, for some reason, doesn't process that job.\n\nThis issue is based on the following discussion from !62036 should be addressed:\n\n- [ ] @stanhu started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/62036#note_597491310): \n\n    \u003e In the parallel scheduling case, does this mean that we mark the pull request review as imported after the `ImportPullRequestReviewWorker` job is scheduled, and not when it actually completes successfully? If so, are we okay with that? For example, I could see the Sidekiq job hitting a rate limit. Would we leave it up to the retry mechanism to finish?\n\n## Proposed Solution\n\nInstead of marking a relation as imported after scheduling its job, the relation should only be marked as scheduled after the import is complete. Something like:\n\n```ruby\nmodule Gitlab\n  module GithubImport\n    module Importer\n      class SomeRelationImporter\n        def execute\n          # import!\n        ensure\n          cache_imported\n        end\n\n        # ...\n\n        def cache_imported\n          cache_key = ParallelScheduling::ALREADY_IMPORTED_CACHE_KEY % {\n            project: project.id,\n            collection: :relation_name\n          }\n\n          Gitlab::Cache::Import::Caching.set_add(cache_key, relation.id)\n        end\n      end\n    end\n  end\nend\n```","state":"closed","created_at":"2021-06-10T09:55:20.715Z","updated_at":"2021-06-16T21:10:21.172Z","closed_at":"2021-06-16T21:10:21.156Z","closed_by":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"labels":["Category:Importers","Importer:GitHub","Next Up","Unplanned","backend","devops::manage","group::import","section::dev","type::bug","workflow::in dev"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"}],"author":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"type":"ISSUE","assignee":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333246","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333246","notes":"https://gitlab.com/api/v4/projects/278964/issues/333246/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333246/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333246","relative":"#333246","full":"gitlab-org/gitlab#333246"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3050,"epic":{"id":39430,"iid":3050,"title":"🐞 GitHub Importer bugs","url":"/groups/gitlab-org/-/epics/3050","group_id":9970},"iteration":null,"health_status":null},{"id":88509118,"iid":333242,"project_id":278964,"title":"Show GPG key on GitLab profile page","description":"### Proposal \n\nGitLab users can upload a GPG key. This key is publicly available by appending `.gpg` to the GitLab user profile, i.e. https://gitlab.com/remcohaszing.gpg. This is a bit of a hidden feature. I think it makes sense to make the feature more prominent by adding a link or download button to the GitLab profile.\n\n## Related documentation\n\n[Adding a GPG key to your account](https://docs.gitlab.com/ee/user/project/repository/gpg_signed_commits/#adding-a-gpg-key-to-your-account)\n\nRelease Post MR: https://gitlab.com/gitlab-com/www-gitlab-com/-/merge_requests/89990\n\n## Visuals\n#### [Figma work file](https://www.figma.com/file/CQTM4j5jI753ZFEC4765cg/333242-Show-GPG-key-on-GitLab-profile-page?node-id=1%3A3)\n\n| Original | Icon button | hover |\n| ------ | ------ | ------ |\n| ![Before](/uploads/7765e6729226552366a30e11420db88f/Before.png) | ![icon_button](/uploads/33a16bf9f1847650013c786263a26b2a/icon_button.png) | ![Hover](/uploads/316f904bff2b03baa53e91c2370259ba/Hover.png) |","state":"closed","created_at":"2021-06-10T09:29:41.548Z","updated_at":"2021-09-21T16:20:48.177Z","closed_at":"2021-08-30T14:32:38.910Z","closed_by":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"labels":["Category:Authentication and Authorization","UX","candidate::14.3","design-weight::1","devops::manage","feature::addition","frontend","group::authentication and authorization","quad-planning::complete-no-action","release post item::secondary","section::dev","type::feature","workflow::canary"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"}],"author":{"id":615964,"username":"remcohaszing","name":"Remco Haszing","state":"active","avatar_url":"https://secure.gravatar.com/avatar/fe52b3d3928f49a5057987549d39d1cb?s=80\u0026d=identicon","web_url":"https://gitlab.com/remcohaszing"},"type":"ISSUE","assignee":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"user_notes_count":22,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333242","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333242","notes":"https://gitlab.com/api/v4/projects/278964/issues/333242/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333242/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333242","relative":"#333242","full":"gitlab-org/gitlab#333242"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88508010,"iid":333240,"project_id":278964,"title":"Show more button not displaying after page 2","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\nThe \"Show more\" button is not displaying after page 2, so the user cannot load all files in the repo if the repo has many files.\n\n### Steps to reproduce\n\n1. Navigate to a folder with many files.\n1. Wait for the files to load until the \"Show more\" button appears.\n1. Click \"Show more\".\n1. Wait for the files to load.\n1. Notice the \"Show more\" button does not appear even though there are more files to load.\n\n### Example Project\n\nhttps://gitlab.com/gitlab-org/gitlab/-/tree/master/app/assets/images/emoji\n\n### What is the current *bug* behavior?\n\nThe \"Show more\" button does not appear even though there are more files to load.\n\n### What is the expected *correct* behavior?\n\nThe \"Show more\" button should appear if there are more files to load.\n\n### Relevant logs and/or screenshots\n\nThe last emoji in the [example project](https://gitlab.com/gitlab-org/gitlab/-/tree/master/app/assets/images/emoji) should be `zzz.png`, not `owl.png`.\n\n![Screenshot_2021-06-10_at_11.10.42](/uploads/7f1ed2f287377900256ccba6ceddc0ce/Screenshot_2021-06-10_at_11.10.42.png)\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e","state":"closed","created_at":"2021-06-10T09:13:39.432Z","updated_at":"2021-07-19T18:09:16.610Z","closed_at":"2021-07-19T18:09:16.596Z","closed_by":{"id":853414,"username":"andr3","name":"André Luís","state":"active","avatar_url":"https://secure.gravatar.com/avatar/241e39726efb512a29621070ccf26a90?s=80\u0026d=identicon","web_url":"https://gitlab.com/andr3"},"labels":["Category:Source Code Management","Deliverable","devops::create","frontend","group::source code","priority::2","section::dev","severity::2","type::bug"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"}],"author":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"type":"ISSUE","assignee":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333240","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333240","notes":"https://gitlab.com/api/v4/projects/278964/issues/333240/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333240/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333240","relative":"#333240","full":"gitlab-org/gitlab#333240"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88504176,"iid":333235,"project_id":278964,"title":"Follow-up from \"Refactor folder structure for the security dashboards - last part\"","description":"The following discussion from !63634 should be addressed:\n\n- [ ] @aturinske started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/63634#note_597523663):  (+1 comment)\n\n    \u003e **question:** should you delete the [unscanned projects Vuex module](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/24256) in this MR as well? If not in this one, it should be done soon after as it could be forgotten about.","state":"closed","created_at":"2021-06-10T08:24:06.565Z","updated_at":"2021-09-23T00:28:29.032Z","closed_at":"2021-09-23T00:28:25.280Z","closed_by":{"id":4155411,"username":"dpisek","name":"David Pisek","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4155411/avatar.png","web_url":"https://gitlab.com/dpisek"},"labels":["Category:Vulnerability Management","devops::secure","frontend","group::threat insights","maintenance::refactor","section::sec","workflow::verification"],"milestone":null,"assignees":[],"author":{"id":5535246,"username":"svedova","name":"Savas Vedova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535246/avatar.png","web_url":"https://gitlab.com/svedova"},"type":"ISSUE","assignee":null,"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333235","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333235","notes":"https://gitlab.com/api/v4/projects/278964/issues/333235/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333235/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333235","relative":"#333235","full":"gitlab-org/gitlab#333235"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88500619,"iid":333233,"project_id":278964,"title":"Improve API Fuzzing Code Snippet","description":"## Why are we doing this work\n\nThis follows up on @cam.x's comment in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/63530#note_596539073:\n\n\u003e I like that DAST code have space between each session, can we do that for fuzzing code as well\n\nWe are looking at improving that API fuzzing configuration snippet that currently looks like this:\n\n![image](/uploads/7be7798aa12b6a5a9b7993db04799633/image.png)\n\nTo have more options as to how the code snippet is formatted, we'll want to move its generation to the ~frontend.\n\n\n## Relevant links\n\n- [Prior art](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/52540)\n- [Similar implementation](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/63530)\n- [Follow-up issue to remove the GraphQL field](https://gitlab.com/gitlab-org/gitlab/-/issues/342987)\n\n\n## Non-functional requirements\n\n- [ ] Documentation:\n- [ ] Feature flag:\n- [ ] Performance:\n- [ ] Testing:\n\n\n## Implementation plan\n\n- [x] Move the configuration template to the ~frontend.\n- [x] When saving the API fuzzing configuration, present the client-side template with the proper replacements.\n- [x] Remove the tip insertion helpers from the ~frontend(`ee/app/assets/javascripts/security_configuration/api_fuzzing/utils.js`).\n- [x] Mark the `apiFuzzingCiConfigurationCreate` mutation as deprecated.\n- [-] Remove the GraphQL mutation.","state":"closed","created_at":"2021-06-10T07:35:33.731Z","updated_at":"2022-01-21T20:39:16.356Z","closed_at":"2021-11-23T14:22:28.814Z","closed_by":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"labels":["Category:API Security","UX debt","automation:ml","automation:ml wrong","backend","devops::secure","feature::enhancement","frontend","group::dynamic analysis","section::sec","severity::4","type::feature","workflow::in review"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"}],"author":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"type":"ISSUE","assignee":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"user_notes_count":13,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333233","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":8,"completed_count":4},"weight":3,"blocking_issues_count":1,"has_tasks":true,"task_status":"4 of 8 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333233","notes":"https://gitlab.com/api/v4/projects/278964/issues/333233/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333233/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333233","relative":"#333233","full":"gitlab-org/gitlab#333233"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88499338,"iid":333231,"project_id":278964,"title":"[DevOps Adoption] Remove groups modal in favor of dropdown","description":"### Problem\nAs discussed in https://gitlab.com/gitlab-org/gitlab/-/issues/329445#note_596474185 loading all groups (without the limit) in the modal leads to heavy performance issues. We need to find an alternative solution to solving the problem of only showing a limited number of groups in the modal. \n\n### Proposal\nThe table itself acts as this list of enabled groups on the `DevOps Adoption` page so we should be able to get rid of the modal and use a dropdown for adding groups to the table instead.\n\nLet's implement the following:\n- Remove the modal \n- Add a dropdown above the table that allows users to add groups to the table (via ticking checkboxes)\n- The dropdown shows the first 20 (?) groups and contains a search input.\n- Removing groups from the table should work as usual (via the delete button in the table)\n\n![image](/uploads/79b280f598aea4f499653d8d94fb2421/image.png)","state":"closed","created_at":"2021-06-10T07:11:38.779Z","updated_at":"2021-06-17T08:31:02.110Z","closed_at":"2021-06-17T08:31:02.092Z","closed_by":{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"},"labels":["devops::manage","frontend","group::optimize","priority::1","section::dev","workflow::verification"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"}],"author":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"type":"ISSUE","assignee":{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333231","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333231","notes":"https://gitlab.com/api/v4/projects/278964/issues/333231/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333231/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333231","relative":"#333231","full":"gitlab-org/gitlab#333231"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"at_risk"},{"id":88495607,"iid":333227,"project_id":278964,"title":"[Feature flag] Rollout of `multiple_database_metrics`","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout https://gitlab.com/gitlab-org/gitlab/-/issues/332946 on production,\nthat is currently behind the `multiple_database_metrics` feature flag.\n\nWe won't need to enable this on production until we actual have deployed multiple databases but we will be adding metrics bit by bit in the meantime all behind this one feature flag.\n\n## Owners\n\n- Team: Sharding\n- Most appropriate slack channel to reach out to: `#g_sharding`\n- Best individual to reach out to: @DylanGriffith\n- PM: Fabian Zimmer\n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## The Rollout Plan\n\n- Partial Rollout on GitLab.com with testing groups\n- Rollout on GitLab.com for a certain period (How long)\n- Percentage Rollout on GitLab.com\n- Rollout Feature for everyone as soon as it's ready\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? Sentry errors reports can also be useful to review --\u003e\n\n## Testing Groups/Projects/Users\n\n\u003c!-- If applicable, any groups/projects that are happy to have this feature turned on early. Some organizations may wish to test big changes they are interested in with a small subset of users ahead of time for example. --\u003e\n\n- `gitlab-org/gitlab` project\n- `gitlab-org`/`gitlab-com` groups\n- ...\n\n\n## Expectations\n\n### What are we expecting to happen?\n\n\u003c!-- Describe the expected outcome when rolling out this feature --\u003e\n\n### What might happen if this goes wrong?\n\n\u003c!-- Should the feature flag be turned off? Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- [ ] Ensure that the feature MRs have been deployed to non-production environments.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [ ] Enable the feature globally on non-production environments.\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e true --dev`\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e true --staging`\n- [ ] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Preparation before production rollout\n\n- [ ] Ensure that the feature MRs have been deployed to both production and canary.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [ ] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [ ] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [ ] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [ ] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com.\n- [ ] If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), enable it on GitLab.com for [testing groups/projects](#testing-groupsprojectsusers).\n    - [ ] `/chatops run feature set --\u003cactor-type\u003e=\u003cactor\u003e \u003cfeature-flag-name\u003e true`\n- [ ] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Global rollout on production\n\n- [ ] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e`\n  - Enable the feature globally on production environment.\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e true`\n- [ ] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [ ] Cross-post chatops slack command to `#support_gitlab-com`.\n  ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)) and in your team channel\n- [ ] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [ ] Create a merge request with the following changes. Ask for review and merge it.\n    - [ ] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the above MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [ ] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag. Ask for review and merge it.\n    - [ ] Remove all references to the feature flag from the codebase.\n    - [ ] Remove the YAML definitions for the feature from the repository.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the above MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --dev`\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --staging`\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e`\n- [ ] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set \u003cfeature-flag-name\u003e false\n```","state":"closed","created_at":"2021-06-10T05:39:28.113Z","updated_at":"2022-05-31T12:22:51.540Z","closed_at":"2021-08-09T00:22:16.951Z","closed_by":{"id":120073,"username":"DylanGriffith","name":"Dylan Griffith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/120073/avatar.png","web_url":"https://gitlab.com/DylanGriffith"},"labels":["Category:Pods","devops::data_stores","feature flag","group::pods","section::enablement"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":120073,"username":"DylanGriffith","name":"Dylan Griffith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/120073/avatar.png","web_url":"https://gitlab.com/DylanGriffith"}],"author":{"id":120073,"username":"DylanGriffith","name":"Dylan Griffith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/120073/avatar.png","web_url":"https://gitlab.com/DylanGriffith"},"type":"ISSUE","assignee":{"id":120073,"username":"DylanGriffith","name":"Dylan Griffith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/120073/avatar.png","web_url":"https://gitlab.com/DylanGriffith"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333227","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":41,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 41 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333227","notes":"https://gitlab.com/api/v4/projects/278964/issues/333227/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333227/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333227","relative":"#333227","full":"gitlab-org/gitlab#333227"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6134,"epic":{"id":285044,"iid":6134,"title":"Decomposition:  Create observability for multiple database servers","url":"/groups/gitlab-org/-/epics/6134","group_id":9970,"human_readable_end_date":"Aug 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88495337,"iid":333226,"project_id":278964,"title":"Move non-core tracking logic into specific files","description":"After addressing #333220, we're going to be able to extend this class with more ease and move some of the non-core logic into specific files.\n\nThe core logic should only handle event dispatchment.","state":"closed","created_at":"2021-06-10T05:29:50.224Z","updated_at":"2021-09-16T18:41:37.255Z","closed_at":"2021-09-15T19:07:55.021Z","closed_by":{"id":5412956,"username":"agarciatesares","name":"Axel García","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"},"labels":["devops::growth","frontend","group::product intelligence","section::growth"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":5412956,"username":"agarciatesares","name":"Axel García","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"}],"author":{"id":5412956,"username":"agarciatesares","name":"Axel García","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"},"type":"ISSUE","assignee":{"id":5412956,"username":"agarciatesares","name":"Axel García","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333226","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333226","notes":"https://gitlab.com/api/v4/projects/278964/issues/333226/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333226/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333226","relative":"#333226","full":"gitlab-org/gitlab#333226"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5569,"epic":{"id":223482,"iid":5569,"title":"Snowplow Maintenance","url":"/groups/gitlab-org/-/epics/5569","group_id":9970,"human_readable_end_date":"Jan 31, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88495129,"iid":333224,"project_id":278964,"title":"Split tests for tracking related frontend files","description":"After addressing #333220 we can also split the [test file](https://gitlab.com/gitlab-org/gitlab/-/blob/master/spec/frontend/tracking_spec.js).","state":"closed","created_at":"2021-06-10T05:22:43.193Z","updated_at":"2021-10-20T03:06:25.827Z","closed_at":"2021-10-20T03:06:25.809Z","closed_by":{"id":5412956,"username":"agarciatesares","name":"Axel García","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"},"labels":["devops::growth","frontend","group::product intelligence","maintenance::refactor","missed:14.3","missed:14.4","section::growth","workflow::production"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":5412956,"username":"agarciatesares","name":"Axel García","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"}],"author":{"id":5412956,"username":"agarciatesares","name":"Axel García","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"},"type":"ISSUE","assignee":{"id":5412956,"username":"agarciatesares","name":"Axel García","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333224","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333224","notes":"https://gitlab.com/api/v4/projects/278964/issues/333224/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333224/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333224","relative":"#333224","full":"gitlab-org/gitlab#333224"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5569,"epic":{"id":223482,"iid":5569,"title":"Snowplow Maintenance","url":"/groups/gitlab-org/-/epics/5569","group_id":9970,"human_readable_end_date":"Jan 31, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88495111,"iid":333222,"project_id":278964,"title":"Do not enqueue `UserRefreshWithLowUrgencyWorker` jobs that reads from the replica from `UserRefreshOverUserRangeWorker`","description":"Moving forward, we are going to be reading data for `UserRefreshWithLowUrgencyWorker` from the replica as per https://gitlab.com/gitlab-org/gitlab/-/issues/333219.\n\nAnd `UserRefreshOverUserRangeWorker` already reads from the replica to check if a user actually needs a project authorization refresh.\n\nIn this case, we will be checking the replica twice for the same user, which is unnecessary.\n\nSo instead of the current way of enqueuing `UserRefreshWithLowUrgencyWorker` from over [here](https://gitlab.com/gitlab-org/gitlab/-/blob/1d599b6163acf27167f3e509f5d750529b32e75e/app/workers/authorized_project_update/user_refresh_over_user_range_worker.rb#L42), we should enqueue another worker that does the same thing in low urgency, but reads from primary (we may have to create a new worker for this)","state":"closed","created_at":"2021-06-10T05:21:17.866Z","updated_at":"2021-06-11T07:07:08.958Z","closed_at":"2021-06-11T07:07:08.941Z","closed_by":{"id":4093067,"username":"manojmj","name":"Manoj M J","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4093067/avatar.png","web_url":"https://gitlab.com/manojmj"},"labels":["Engineering Allocation","automation:ml","automation:ml wrong","backend","devops::manage","group::authentication and authorization","section::dev"],"milestone":null,"assignees":[],"author":{"id":4093067,"username":"manojmj","name":"Manoj M J","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4093067/avatar.png","web_url":"https://gitlab.com/manojmj"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333222","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333222","notes":"https://gitlab.com/api/v4/projects/278964/issues/333222/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333222/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333222","relative":"#333222","full":"gitlab-org/gitlab#333222"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88495031,"iid":333220,"project_id":278964,"title":"Split tracking related classes into specific files for each one","description":"The current tracking logic is into a [huge file](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/assets/javascripts/tracking/index.js) that hosts a too-specific class alongside helper global functions. Splitting this file comes with the following benefits:\n\n- More readable and understandable tracking logic.\n- Specific test files for each piece of logic.\n- Methods can be annotated, so we get hints on IDEs and cool editors.\n- Make it possible to extend this class with ease. As we have several use cases.","state":"closed","created_at":"2021-06-10T05:18:12.287Z","updated_at":"2021-08-11T23:32:14.913Z","closed_at":"2021-08-11T23:32:14.898Z","closed_by":{"id":5412956,"username":"agarciatesares","name":"Axel García","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"},"labels":["devops::growth","frontend","group::product intelligence","section::growth","type::feature","workflow::production"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":5412956,"username":"agarciatesares","name":"Axel García","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"}],"author":{"id":5412956,"username":"agarciatesares","name":"Axel García","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"},"type":"ISSUE","assignee":{"id":5412956,"username":"agarciatesares","name":"Axel García","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333220","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333220","notes":"https://gitlab.com/api/v4/projects/278964/issues/333220/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333220/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333220","relative":"#333220","full":"gitlab-org/gitlab#333220"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5569,"epic":{"id":223482,"iid":5569,"title":"Snowplow Maintenance","url":"/groups/gitlab-org/-/epics/5569","group_id":9970,"human_readable_end_date":"Jan 31, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":88482219,"iid":333180,"project_id":278964,"title":"Replace \"header-content.menu-expanded\" styles with \".top-nav-responsive-open\"","description":"## Description\n\nOnce the `:combined_menu` feature flag is removed https://gitlab.com/gitlab-org/gitlab/-/issues/324086, we can consolidate the styling for `.menu-expanded` and `.top-nav-responsive-open`:\n\n- https://gitlab.com/gitlab-org/gitlab/blob/58cad116882ad5abe202a0ba8e79b023c8c3f1d4/app/assets/stylesheets/framework/header.scss#L109\n- https://gitlab.com/gitlab-org/gitlab/blob/58cad116882ad5abe202a0ba8e79b023c8c3f1d4/app/assets/stylesheets/framework/header.scss#L674\n\nThis will also resolve [this comment in `main.js`](https://gitlab.com/gitlab-org/gitlab/blob/02179d8f8e822719bfb02e49a056327a59b5fb37/app/assets/javascripts/main.js#L207).\n\n## Implementation notes\n\nIt'll probably be a lot easier to replace the `.hide-when-menu-expanded` with `.hide-when-top-nav-responsive-open`. Also, please note that the `.top-nav-responsive-open` is applied to the `body`. We can then also remove the JavaScript that is toggling the `.menu-expanded`.","state":"closed","created_at":"2021-06-09T20:11:14.876Z","updated_at":"2021-12-14T14:05:12.341Z","closed_at":"2021-12-14T14:05:12.328Z","closed_by":{"id":2233420,"username":"pslaughter","name":"Paul Slaughter","state":"active","avatar_url":"https://secure.gravatar.com/avatar/631b25421eb206ab44cb2793ef09d881?s=80\u0026d=identicon","web_url":"https://gitlab.com/pslaughter"},"labels":["Category:Navigation \u0026 Settings","Stretch","devops::create","frontend","group::editor","missed:14.2","missed:14.3","missed:14.4","missed:14.5","section::dev","type::maintenance"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":9011663,"username":"mgonzalez.btig","name":"Mauricio Gonzalez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9011663/avatar.png","web_url":"https://gitlab.com/mgonzalez.btig"}],"author":{"id":2233420,"username":"pslaughter","name":"Paul Slaughter","state":"active","avatar_url":"https://secure.gravatar.com/avatar/631b25421eb206ab44cb2793ef09d881?s=80\u0026d=identicon","web_url":"https://gitlab.com/pslaughter"},"type":"ISSUE","assignee":{"id":9011663,"username":"mgonzalez.btig","name":"Mauricio Gonzalez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9011663/avatar.png","web_url":"https://gitlab.com/mgonzalez.btig"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333180","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333180","notes":"https://gitlab.com/api/v4/projects/278964/issues/333180/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333180/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333180","relative":"#333180","full":"gitlab-org/gitlab#333180"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88478145,"iid":333169,"project_id":278964,"title":"Update the Pipeline editor viz to look like Pipeline Graph","description":"We want to change the current visualization to look more like the new pipeline graph (because it looks awesome) and so this issue is to tweak the visuals.\n\n* Use pills similar to the pipeline graph\n* Adjust the job pill width to accommodate more of the job name. Several users complained that most job names get truncated and it makes it difficult to read the graph.\n* Increase the width between the columns in both pipeline graph and visualization, or rather perhaps make it dynamic so we make the lines more legible. When the columns are close to each other, when we have many lines they all look crammed and overlap much more. Of course we shouldn't make the distance too wide because some pipelines can be super wide and we don't want never ending horizontal scroll, but it has to be a balance.","state":"closed","created_at":"2021-06-09T18:19:34.185Z","updated_at":"2021-10-19T13:36:29.236Z","closed_at":"2021-10-19T13:36:29.221Z","closed_by":{"id":5327378,"username":"f_caplette","name":"Frédéric Caplette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5327378/avatar.png","web_url":"https://gitlab.com/f_caplette"},"labels":["Category:Pipeline Authoring","Verify candidate","[deprecated] Accepting merge requests","devops::verify","feature::enhancement","frontend","group::pipeline authoring","section::ops"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":5327378,"username":"f_caplette","name":"Frédéric Caplette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5327378/avatar.png","web_url":"https://gitlab.com/f_caplette"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333169","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333169","notes":"https://gitlab.com/api/v4/projects/278964/issues/333169/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333169/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333169","relative":"#333169","full":"gitlab-org/gitlab#333169"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88476718,"iid":333168,"project_id":278964,"title":"Add ID on visualization links","description":"The goal of this issue is to add a form of selector on the pipeline visualization link so that we can test that the links are connecting the right job. Inside `app/assets/javascripts/pipelines/components/graph_shared/links_inner.vue` component, we can pass a unique ID to each `path` element we build in the SVG.\n\nWe add an ID to each path element that has the source and target has its value. So let's say that we generate a link between `job1` and `job2`, then the link selector would be `job1-job2`. It then become easy to write a test that ensure that if `job1` needs `job2` we have a link name `job1-job2`.","state":"closed","created_at":"2021-06-09T18:14:00.647Z","updated_at":"2021-06-30T17:10:33.473Z","closed_at":"2021-06-30T17:10:33.465Z","closed_by":{"id":5327378,"username":"f_caplette","name":"Frédéric Caplette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5327378/avatar.png","web_url":"https://gitlab.com/f_caplette"},"labels":["Category:Pipeline Authoring","Quality","devops::verify","frontend","group::pipeline authoring","section::ops","test"],"milestone":null,"assignees":[{"id":5327378,"username":"f_caplette","name":"Frédéric Caplette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5327378/avatar.png","web_url":"https://gitlab.com/f_caplette"}],"author":{"id":5327378,"username":"f_caplette","name":"Frédéric Caplette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5327378/avatar.png","web_url":"https://gitlab.com/f_caplette"},"type":"ISSUE","assignee":{"id":5327378,"username":"f_caplette","name":"Frédéric Caplette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5327378/avatar.png","web_url":"https://gitlab.com/f_caplette"},"user_notes_count":4,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333168","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333168","notes":"https://gitlab.com/api/v4/projects/278964/issues/333168/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333168/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333168","relative":"#333168","full":"gitlab-org/gitlab#333168"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88473176,"iid":333163,"project_id":278964,"title":"FE: Migrate network policies fetch to GraphQL","description":"## Why are we doing this work\n\nIn https://gitlab.com/gitlab-org/gitlab/-/issues/329423 we have implemented a GraphQL endpoint to fetch scan execution policies in Threat Monitoring. However, we currently rely on a REST endpoint to fetch network policies. To make things consistent, we are moving network policies over to a GraphQL endpoint as well: https://gitlab.com/gitlab-org/gitlab/-/issues/333072. Once that's done, the frontend will need to be updated to fetch network policies from GraphQL, which will later let us add scan execution policies to the mix.\n\n\n## Relevant links\n\n* Epic: https://gitlab.com/groups/gitlab-org/-/epics/5362\n* Issue for creating the scan execution policies GraphQL endpoint: https://gitlab.com/gitlab-org/gitlab/-/issues/329423\n* Issue for creating the network policies GraphQL endpoint: https://gitlab.com/gitlab-org/gitlab/-/issues/333072\n\n\n## Non-functional requirements\n\n- [x] Testing:\n  - [x] Remove Vuex/REST based mocks.\n  - [x] Mock Apollo client and test that the query is properly triggered.\n  - [x] Existing rendering tests should pass without any significant change.\n\n\n## Implementation plan\n\n- [x] Create an Apollo provider, remember to set `assumeImmutableResults` to `true`.\n- [x] Create the client-side query `network_policies.query.graphql`.\n- [x] Update [`network_policy_list.vue`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/assets/javascripts/threat_monitoring/components/network_policy_list.vue) so that it fetches network policies via GraphQL.\n- [x] Remove anything related to the `/:namespace/:project/-/security/network_policies?environment_id=:id` REST endpoint.\n- [x] Cleanup the Vuex store to reflect the fact the responsibility of storing policies is moving to Apollo.","state":"closed","created_at":"2021-06-09T16:58:27.651Z","updated_at":"2021-10-28T13:56:07.894Z","closed_at":"2021-06-29T14:06:25.875Z","closed_by":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"labels":["Deliverable","devops::govern","frontend","frontend-weight::3","group::security policies","section::sec","type::maintenance","workflow::in review"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"}],"author":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"type":"ISSUE","assignee":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333163","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":9,"completed_count":9},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"9 of 9 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333163","notes":"https://gitlab.com/api/v4/projects/278964/issues/333163/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333163/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333163","relative":"#333163","full":"gitlab-org/gitlab#333163"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5362,"epic":{"id":198770,"iid":5362,"title":"Allow Users to Edit yaml-mode Scan Execution Policies in the Policy UI","url":"/groups/gitlab-org/-/epics/5362","group_id":9970,"human_readable_end_date":"Sep 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88470086,"iid":333158,"project_id":278964,"title":"Update Kubernetes Network Alert and Network Policies documentation in regards to GMAv2 and its respective project template","description":"\u003c!--\n\n* Use this issue template for suggesting new docs or updates to existing docs.\n  Note: Doc work as part of feature development is covered in the Feature Request template.\n\n* For issues related to features of the docs.gitlab.com site, see\n     https://gitlab.com/gitlab-org/gitlab-docs/issues/\n\n* For information about documentation content and process, see\n     https://docs.gitlab.com/ee/development/documentation/ --\u003e\n\n### Problem to solve\n\n\u003c!-- Include the following detail as necessary:\n* What product or feature(s) affected?\n* What docs or doc section affected? Include links or paths.\n* Is there a problem with a specific document, or a feature/process that's not addressed sufficiently in docs?\n* Any other ideas or requests?\n--\u003e\n\nGitLab Managed Apps (requirement for current cilium installs) is deprecated and the alternative has been [merged](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/63577). Our existing documentation (specifically [Container Network Security Installation](https://docs.gitlab.com/ee/user/project/clusters/protect/container_network_security/quick_start_guide.html#installation-steps) and [alerts](https://docs.gitlab.com/ee/user/clusters/agent/#kubernetes-network-security-alerts)) still reference GitLab Managed Apps for installation. We need to document the installation methods available that do not involve deprecated features.\n\n### Further details\n\n\u003c!--\n* Any concepts, procedures, reference info we could add to make it easier to successfully use GitLab?\n* Include use cases, benefits, and/or goals for this work.\n* If adding content: What audience is it intended for? (What roles and scenarios?)\n  For ideas, see personas at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/ or the persona labels at\n  https://gitlab.com/groups/gitlab-org/-/labels?subscribed=\u0026search=persona%3A\n--\u003e\n\nWith issues related to [outdated helm charts](https://gitlab.com/gitlab-org/gitlab/-/issues/330131) further fixes and improvements will be done as part of the [project template](https://gitlab.com/gitlab-org/project-templates/cluster-management).\n\n### Implementation Plan\n\n\u003c!-- Further specifics for how can we solve the problem. --\u003e\n\n- [x] Create new documentation explaining how to install Cilium with the cluster management project template\n- [x] Link to new documentation instead of GMA on:\n  - [x] [Container Network Security Installation](https://docs.gitlab.com/ee/user/project/clusters/protect/container_network_security/quick_start_guide.html#installation-steps)\n  - [x] [Alerts](https://docs.gitlab.com/ee/user/clusters/agent/#kubernetes-network-security-alerts)\n  - [x] [Kubernetes Agent Configuration](https://docs.gitlab.com/ee/user/clusters/agent/repository.html#surface-network-security-alerts-from-cluster-to-gitlab)\n\n### Who can address the issue\n\n\u003c!-- What if any special expertise is required to resolve this issue? --\u003e\n\n### Other links/references\n\n\u003c!-- E.g. related GitLab issues/MRs --\u003e\n\n- [Migration Docs](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/63660)\n- [Similar work](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/63257)\n- [GMA -\u003e Template issue](https://gitlab.com/gitlab-org/gitlab/-/issues/327908)","state":"closed","created_at":"2021-06-09T15:56:43.105Z","updated_at":"2021-06-30T17:58:46.987Z","closed_at":"2021-06-30T17:57:00.902Z","closed_by":{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"},"labels":["Category:Container Network Security","devops::govern","docs-weight::2","documentation","group::security policies","section::sec","workflow::in review"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"}],"author":{"id":4906322,"username":"zmartins","name":"Zamir Martins","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4906322/avatar.png","web_url":"https://gitlab.com/zmartins"},"type":"ISSUE","assignee":{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"},"user_notes_count":13,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333158","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":5,"completed_count":5},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"5 of 5 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333158","notes":"https://gitlab.com/api/v4/projects/278964/issues/333158/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333158/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333158","relative":"#333158","full":"gitlab-org/gitlab#333158"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88455884,"iid":333129,"project_id":278964,"title":"Custom emoji: Add GraphQL mutation to delete","description":"To be able to delete custom emoji from the ~frontend the ~backend should provide a GraphQL mutation that allows the user to delete a custom emoji.","state":"closed","created_at":"2021-06-09T12:42:19.059Z","updated_at":"2021-09-16T04:16:05.268Z","closed_at":"2021-09-16T04:16:05.261Z","closed_by":{"id":8198564,"username":"rkadam3","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8198564/avatar.png","web_url":"https://gitlab.com/rkadam3"},"labels":["award emoji","backend","devops::plan","emoji","section::dev","workflow::production"],"milestone":null,"assignees":[{"id":8198564,"username":"rkadam3","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8198564/avatar.png","web_url":"https://gitlab.com/rkadam3"}],"author":{"id":660180,"username":"toon","name":"Toon Claes","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/660180/avatar.png","web_url":"https://gitlab.com/toon"},"type":"ISSUE","assignee":{"id":8198564,"username":"rkadam3","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8198564/avatar.png","web_url":"https://gitlab.com/rkadam3"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333129","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":2,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333129","notes":"https://gitlab.com/api/v4/projects/278964/issues/333129/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333129/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333129","relative":"#333129","full":"gitlab-org/gitlab#333129"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4008,"epic":{"id":84869,"iid":4008,"title":"Custom emoji Post MVP improvements","url":"/groups/gitlab-org/-/epics/4008","group_id":9970},"iteration":null,"health_status":null},{"id":88455718,"iid":333127,"project_id":278964,"title":"BE: Allow users to edit the labels of a Jira issue on details page","description":"### Description\n\nThis issue could be considered the second part of the other backend issue https://gitlab.com/gitlab-org/gitlab/-/issues/330778 and also corresponds with the frontend issue https://gitlab.com/gitlab-org/gitlab/-/issues/328787.\n\n1. The user selects the labels in the UI.\n1. Make a request to update the Jira labels selected on the Jira details page.\n\n![Screen_Shot_2021-05-12_at_17.15.00](/uploads/476a02b5788d1aa2fc107bfd35656815/Screen_Shot_2021-05-12_at_17.15.00.png)","state":"closed","created_at":"2021-06-09T12:40:57.747Z","updated_at":"2022-11-22T19:40:24.931Z","closed_at":"2021-10-22T06:08:45.646Z","closed_by":{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"},"labels":["Category:Integrations","Integration::Jira","[deprecated] Accepting merge requests","backend","devops::manage","feature::addition","group::integrations","section::dev","type::feature","won't do","workflow::solution validation"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":1315742,"username":"arturoherrero","name":"Arturo Herrero","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1315742/avatar.png","web_url":"https://gitlab.com/arturoherrero"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333127","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333127","notes":"https://gitlab.com/api/v4/projects/278964/issues/333127/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333127/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333127","relative":"#333127","full":"gitlab-org/gitlab#333127"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6152,"epic":{"id":286307,"iid":6152,"title":"Change the labels of a Jira issue","url":"/groups/gitlab-org/-/epics/6152","group_id":9970,"human_readable_end_date":"Jul 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88455464,"iid":333124,"project_id":278964,"title":"Blocking a user adds a sign in event to their Authentication Log","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nBlocking a user creates a \"Signed in with authentication\" event in that user's Authentication Log. It is unclear why this event is created as the user is not signing in and can lead to user's believing their account has been compromised as they see this event when they did not log in. This makes security auditing quite difficult.\n\n### Steps to reproduce\n\n1. Block a user\n2. Wait a minute or two just to make sure unblocking isn't the cause of the issue.\n3. Unblock the same user.\n4. Check the user's authentication log and see the first line is now \"Signed in with authentication\" and the timestamp matches the time you blocked the user.\n\n### Example Project\n\n\u003c!-- If possible, please create an example project here on GitLab.com that exhibits the problematic \nbehavior, and link to it here in the bug report. If you are using an older version of GitLab, this \nwill also determine whether the bug is fixed in a more recent version. --\u003e\n\n### What is the current *bug* behavior?\n\nBlocking a user creates a \"Signed in with authentication\" event in that user's Authentication Log.\n\n### What is the expected *correct* behavior?\n\nBlocking a user should not create any events in that user's Authentication Log.\n\n### Relevant logs and/or screenshots\n\n![image](/uploads/0bbda17562a1de7055be16f11d7d6dbd/image.png)\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Proposal\n\nUpdate `app/controllers/profiles_controller.rb:66` to exclude events where `custom_message == 'Blocked user'` ([From @mwoolf](https://gitlab.com/gitlab-org/gitlab/-/issues/333124#note_606494474).)","state":"closed","created_at":"2021-06-09T12:36:39.121Z","updated_at":"2021-11-15T08:55:47.453Z","closed_at":"2021-11-15T08:55:47.434Z","closed_by":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"labels":["Category:Audit Events","Category:Authentication and Authorization","customer","devops::manage","group::compliance","ideal for new hires","priority::3","section::dev","severity::3","type::bug","workflow::verification"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"}],"author":{"id":5938147,"username":"shaun_maxwell","name":"Shaun Maxwell","state":"active","avatar_url":"https://secure.gravatar.com/avatar/69deb7c1052bb72c4251ae9fdb66e609?s=80\u0026d=identicon","web_url":"https://gitlab.com/shaun_maxwell"},"type":"ISSUE","assignee":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"user_notes_count":22,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333124","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333124","notes":"https://gitlab.com/api/v4/projects/278964/issues/333124/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333124/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333124","relative":"#333124","full":"gitlab-org/gitlab#333124"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":88454660,"iid":333123,"project_id":278964,"title":"Poor performance on `DELETE /api/:version/groups/:id/members/:user_id`","description":"We're seeing some very poor latencies and very high memory usage from the `DELETE /api/:version/groups/:id/members/:user_id` endpoint. \n\n* Latency: p95: `60.345s`, max: `393.193s`, samples 8646 -- :scream_cat: how does an endpoint execute for 393s? -- opened an issue for this https://gitlab.com/gitlab-org/gitlab/-/issues/333126  (cc @ayufan)\n* Memory: p99: `2,041.949 MiB`, max: `8,459.099 MiB`, samples 8646\n* Feature Category: ~\"Category:Authentication and Authorization\" \n* [Kibana search - memory](https://log.gprd.gitlab.net/app/kibana#/discover?_a=(columns:!(json.method,json.status,json.controller,json.action,json.path,json.duration_s,json.mem_bytes),filters:!((query:(match:(json.meta.caller_id.keyword:(query:'DELETE+%2Fapi%2F%3Aversion%2Fgroups%2F%3Aid%2Fmembers%2F%3Auser_id',type:phrase)))),(query:(range:(json.mem_bytes:(gte:314572800))))),index:'7092c4e2-4eb5-46f2-8305-a7da2edad090',sort:!(!(json.mem_bytes,desc)))\u0026_g=(time:(from:'now-24h',to:'now')))\n* [Kibana search - duration_s \u003e 1](https://log.gprd.gitlab.net/goto/60d9a22b02896679d1267f9d9d01e8b0)\n* [Rails Endpoint Dashboard](https://log.gprd.gitlab.net/app/dashboards#/view/db37b560-9793-11eb-a990-d72c312ff8e9?_g=(filters:!((query:(match_phrase:(json.meta.caller_id.keyword:'DELETE+%2Fapi%2F%3Aversion%2Fgroups%2F%3Aid%2Fmembers%2F%3Auser_id')))),time:(from:'now-24',to:now)))\n\n\nMuch of this traffic appears to be related to a single customer: https://gitlab.my.salesforce.com/00161000004xUpi cc @suhegbu @simon_mansfield in case the customer reaches out to us. \n\n\n### Errors\n\nAt times, up to 50% of the requests to this endpoint fail with a 5xx error. \n\n![image](/uploads/acb697546b0be19cffee8d6f90338179/image.png)\n\n\n\nThanks @grantyoung for raising concerns around this endpoint.","state":"closed","created_at":"2021-06-09T12:26:10.350Z","updated_at":"2021-10-18T19:43:51.562Z","closed_at":"2021-10-18T19:23:13.585Z","closed_by":{"id":4985794,"username":"cwoolley-gitlab","name":"Chad Woolley","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4cf06f1fc667817854991b558103a9e2?s=80\u0026d=identicon","web_url":"https://gitlab.com/cwoolley-gitlab"},"labels":["Category:Authentication and Authorization","Eng-Consumer::Infrastructure","Eng-Producer::Development","Engineering Allocation","Mechanical Sympathy","customer","devops::manage","group::authentication and authorization","infradev","priority::2","quad-planning::complete-no-action","section::dev","severity::2","workflow::staging"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":4985794,"username":"cwoolley-gitlab","name":"Chad Woolley","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4cf06f1fc667817854991b558103a9e2?s=80\u0026d=identicon","web_url":"https://gitlab.com/cwoolley-gitlab"}],"author":{"id":895869,"username":"andrewn","name":"Andrew Newdigate","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/895869/avatar.png","web_url":"https://gitlab.com/andrewn"},"type":"ISSUE","assignee":{"id":4985794,"username":"cwoolley-gitlab","name":"Chad Woolley","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4cf06f1fc667817854991b558103a9e2?s=80\u0026d=identicon","web_url":"https://gitlab.com/cwoolley-gitlab"},"user_notes_count":41,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333123","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333123","notes":"https://gitlab.com/api/v4/projects/278964/issues/333123/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333123/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333123","relative":"#333123","full":"gitlab-org/gitlab#333123"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6643,"epic":{"id":337326,"iid":6643,"title":"Technical Improvements for Project Authorizations","url":"/groups/gitlab-org/-/epics/6643","group_id":9970,"human_readable_end_date":"Oct 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88454393,"iid":333122,"project_id":278964,"title":"BE: Retrieve status of a Jira issue on details page","description":"### Description\n\nThis is related to the other backend issue https://gitlab.com/gitlab-org/gitlab/-/issues/330900 and also corresponds with the frontend issue https://gitlab.com/gitlab-org/gitlab/-/issues/328786.\n\nWe get all the Jira Issue data in one request using the jira-ruby gem ([`jira_service.find_issue`](https://gitlab.com/gitlab-org/gitlab/-/blob/8415ff28e38eeaea4d55ae79d9165da6cb257a07/ee/app/controllers/projects/integrations/jira/issues_controller.rb#L62-65)).\n\nIn this case, we want to be able to modify the status and update the new status in Jira, we have to do something like:\n\n1. Make a request to Jira in order to pull the available status. **To be investigated**, related https://gitlab.com/gitlab-org/gitlab/-/issues/293021#note_555727866.\n1. Populate the UI with the available status to be selected by the user https://gitlab.com/gitlab-org/gitlab/-/issues/328786\n\n![Screen_Shot_2021-05-13_at_17.11.02](/uploads/52d02f378ec196caebba28a1e4fd1df2/Screen_Shot_2021-05-13_at_17.11.02.png)","state":"closed","created_at":"2021-06-09T12:22:34.776Z","updated_at":"2022-11-22T19:40:25.914Z","closed_at":"2021-10-22T06:06:55.409Z","closed_by":{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"},"labels":["Category:Integrations","Integration::Jira","[deprecated] Accepting merge requests","backend","devops::manage","feature::addition","group::integrations","section::dev","type::feature","won't do","workflow::solution validation"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":1315742,"username":"arturoherrero","name":"Arturo Herrero","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1315742/avatar.png","web_url":"https://gitlab.com/arturoherrero"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333122","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333122","notes":"https://gitlab.com/api/v4/projects/278964/issues/333122/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333122/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333122","relative":"#333122","full":"gitlab-org/gitlab#333122"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6151,"epic":{"id":286305,"iid":6151,"title":"Change the status of a Jira issue","url":"/groups/gitlab-org/-/epics/6151","group_id":9970,"human_readable_end_date":"Jul 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88453641,"iid":333117,"project_id":278964,"title":"Migrate RedisHLL metrics to instrumentation classes","description":"Migrate RedisHLL metrics to instrumentation classes.\n\nExample of metric instrumented with RedisHLLMetric class: [`redis_hll_counters.quickactions.i_quickactions_approve_monthly`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/config/metrics/counts_28d/20210216181508_i_quickactions_approve_monthly.yml)\n\nExample of MR migrating one event and the 2 related metrics https://gitlab.com/gitlab-org/gitlab/-/merge_requests/66655\n\n[Guide](https://docs.gitlab.com/ee/development/usage_ping/metrics_instrumentation.html#redis-hyperloglog-metrics)\n\nExample of MR: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/61685\n\nThe metrics definitions under ee should have the tests under ee/spec/lib/gitlab/usage_data_metrics_spec.rb\n\nThis can be done in multiple MRs. One way could be an MR for a category of events. Events are defined in [known_events](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/usage_data_counters/known_events/)\n\nProposed split per MRs:\n \n- [x] Migrate metrics related with [compliance events category](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/usage_data_counters/known_events/common.yml#L3)\n- [x] Migrate metrics[ `ide_edit` category](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/usage_data_counters/known_events/common.yml#L29)\n- [x] Migrate [search category](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/usage_data_counters/known_events/common.yml#L52)\n- [x] Migrate [`source_code`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/usage_data_counters/known_events/common.yml#L82)\n- [x] Migrate [`incident_management`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/usage_data_counters/known_events/common.yml#L85)\n- [x] Migrate [`testing`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/usage_data_counters/known_events/common.yml#L153)\n- [x] Migrate [`issues_edit`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/usage_data_counters/known_events/common.yml#L198)\n- [x] Migrate [`ci_secrets_management`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/usage_data_counters/known_events/common.yml#L331)\n- [x] Migrate [`terraform`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/usage_data_counters/known_events/common.yml#L342)\n- [x] Migrate [`pipeline_authoring`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/usage_data_counters/known_events/common.yml#L342)\n- [x] Migrate [`secure`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/usage_data_counters/known_events/common.yml#L357)\n- [x] Migrate [analytics](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/usage_data_counters/known_events/analytics.yml)\n- [x] Migrate [ci_templates](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/usage_data_counters/known_events/ci_templates.yml)\n- [x] Migrate [code_review_events](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/usage_data_counters/known_events/code_review_events.yml)\n- [x] Migrate [ecosystem](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/usage_data_counters/known_events/ecosystem.yml)\n- [x] Migrate [epic_board_events](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/usage_data_counters/known_events/epic_board_events.yml)\n- [x] Migrate [epic_events](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/usage_data_counters/known_events/epic_events.yml)\n- [x] Migrate [package_events](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/usage_data_counters/known_events/package_events.yml)\n- [x] Migrate [quick_actions](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/usage_data_counters/known_events/quickactions.yml)\n\nEdition: \n\nAdded\n- [x] Migrate [snippets](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/usage_data_counters/known_events/common.yml#L336)\n- [x] Migrate [network_policies](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/usage_data_counters/known_events/common.yml#L374)\n\nRemoved from scope\n- [ ] ~~After all metrics are migrated remove the [`redis_hll_counters`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/usage_data.rb#L696) method from `usage_data.rb`~~ Issue  https://gitlab.com/gitlab-org/gitlab/-/issues/338463","state":"closed","created_at":"2021-06-09T12:11:20.499Z","updated_at":"2022-04-07T12:57:40.869Z","closed_at":"2021-08-16T15:44:32.704Z","closed_by":{"id":8200977,"username":"lmejia2","name":"Luis Mejia","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8200977/avatar.png","web_url":"https://gitlab.com/lmejia2"},"labels":["backend","devops::growth","group::product intelligence","section::growth","workflow::ready for review"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":8200977,"username":"lmejia2","name":"Luis Mejia","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8200977/avatar.png","web_url":"https://gitlab.com/lmejia2"}],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":{"id":8200977,"username":"lmejia2","name":"Luis Mejia","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8200977/avatar.png","web_url":"https://gitlab.com/lmejia2"},"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333117","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":22,"completed_count":21},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"21 of 22 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333117","notes":"https://gitlab.com/api/v4/projects/278964/issues/333117/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333117/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333117","relative":"#333117","full":"gitlab-org/gitlab#333117"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6140,"epic":{"id":285452,"iid":6140,"title":"Migrate Metrics which are dynamically added from usage_data.rb to instrumentation classes","url":"/groups/gitlab-org/-/epics/6140","group_id":9970},"iteration":null,"health_status":null},{"id":88453111,"iid":333114,"project_id":278964,"title":"Remove `ci_builds` table from the big queuing query","description":"## Description\n\nOnce we denormalize `protected` and introduce `ci_instance_running_builds` table, we should be able to completely remove `ci_builds` table from the big queuing query.\n\nThis should hopefully improve performance and reduce the risk of contention and sudden performance degradations.\n\n/cc @darbyfrey","state":"closed","created_at":"2021-06-09T12:01:39.717Z","updated_at":"2023-01-10T15:52:42.238Z","closed_at":"2021-06-24T10:44:47.903Z","closed_by":{"id":263716,"username":"grzesiek","name":"Grzegorz Bizon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/263716/avatar.jpeg","web_url":"https://gitlab.com/grzesiek"},"labels":["Engineering Allocation","ci::scaling","devops::verify","group::pipeline execution","section::ops","workflow::production"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":263716,"username":"grzesiek","name":"Grzegorz Bizon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/263716/avatar.jpeg","web_url":"https://gitlab.com/grzesiek"}],"author":{"id":263716,"username":"grzesiek","name":"Grzegorz Bizon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/263716/avatar.jpeg","web_url":"https://gitlab.com/grzesiek"},"type":"ISSUE","assignee":{"id":263716,"username":"grzesiek","name":"Grzegorz Bizon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/263716/avatar.jpeg","web_url":"https://gitlab.com/grzesiek"},"user_notes_count":2,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":"2021-07-12","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333114","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333114","notes":"https://gitlab.com/api/v4/projects/278964/issues/333114/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333114/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333114","relative":"#333114","full":"gitlab-org/gitlab#333114"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5909,"epic":{"id":261464,"iid":5909,"title":"Introduce additional database table to improve builds queuing mechanisms","url":"/groups/gitlab-org/-/epics/5909","group_id":9970,"human_readable_end_date":"Oct 22, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88452835,"iid":333113,"project_id":278964,"title":"Frontend: Refactor Security Configuration page after backend has been unified for CE \u0026 EE","description":"## Why are we doing this work\n\nThe Security Configuration page needs to show different information depending on the tier the given project is in. Currently, the logic of that behaviour is scattered in various places on the frontend and backend, which makes adding features or moving features to different tiers difficult and error-prone.\n\nFor instance, there's a [check in the `EE::Projects::Security::ConfigurationController`](https://gitlab.com/gitlab-org/gitlab/blob/31da8512f850a3ccf19736ea1b02f932252b1ae6/ee/app/controllers/ee/projects/security/configuration_controller.rb#L35) that's a _proxy_ for \"are we in Ultimate?\", and delegates to the CE controller in the negative case. [_That_ controller](https://gitlab.com/gitlab-org/gitlab/-/blob/31da8512f850a3ccf19736ea1b02f932252b1ae6/app/controllers/projects/security/configuration_controller.rb) passes basically no information to the frontend (there's no [`ConfigurationPresenter`](https://gitlab.com/gitlab-org/gitlab/-/blob/31da8512f850a3ccf19736ea1b02f932252b1ae6/ee/app/presenters/projects/security/configuration_presenter.rb) instance exposed), and so the frontend has to [branch on that](https://gitlab.com/gitlab-org/gitlab/-/blob/31da8512f850a3ccf19736ea1b02f932252b1ae6/ee/app/views/projects/security/configuration/show.html.haml#L6), and [hard-code some information](https://gitlab.com/gitlab-org/gitlab/-/blob/31da8512f850a3ccf19736ea1b02f932252b1ae6/app/assets/javascripts/security_configuration/components/constants.js#L249-257) and have [some awkward type checks](https://gitlab.com/gitlab-org/gitlab/-/blob/31da8512f850a3ccf19736ea1b02f932252b1ae6/app/assets/javascripts/security_configuration/components/feature_card.vue#L28).\n\nInstead, it would be better if the `Security::ConfigurationController` _always_ presented the same structured information to the frontend. Then, the frontend could be simplified to render the information it's given, rather than making decisions itself about what to do given the _lack_ of data.\n\n**In short, this would make adding to and modifying the Security Configuration page much simpler and faster.**\n\n## Relevant links\n\n- [Design issue](https://gitlab.com/gitlab-org/gitlab/-/issues/326926)\n\n## Implementation plan (needs refinement)\n\n- [ ] Remove statically-defined configuration in frontend, e.g.:\n   - [ ] [`available` and `canEnableByMergeRequest`](https://gitlab.com/gitlab-org/gitlab/-/blob/31da8512f850a3ccf19736ea1b02f932252b1ae6/app/assets/javascripts/security_configuration/components/constants.js#L249-257)\n- [ ] Remove `#js-security-configuration-static` / `#js-security-configuration` [distinction](https://gitlab.com/gitlab-org/gitlab/-/blob/31da8512f850a3ccf19736ea1b02f932252b1ae6/ee/app/views/projects/security/configuration/show.html.haml#L6-14)\n- By now, all tier/plan logic is *purely* in Ruby code (i.e., not even HAML).","state":"closed","created_at":"2021-06-09T11:56:19.183Z","updated_at":"2022-04-11T18:08:41.261Z","closed_at":"2022-02-17T09:13:04.102Z","closed_by":{"id":7293390,"username":"jannik_lehmann","name":"Jannik Lehmann","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7293390/avatar.png","web_url":"https://gitlab.com/jannik_lehmann"},"labels":["Category:Vulnerability Management","GitLab Core","GitLab Free","GitLab Premium","SUS::Impacting","Stretch","auto updated","devops::secure","feature::enhancement","frontend","group::analyzer frontend","maintenance::refactor","section::sec","severity::3","type::feature","workflow::verification"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":7293390,"username":"jannik_lehmann","name":"Jannik Lehmann","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7293390/avatar.png","web_url":"https://gitlab.com/jannik_lehmann"}],"author":{"id":7293390,"username":"jannik_lehmann","name":"Jannik Lehmann","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7293390/avatar.png","web_url":"https://gitlab.com/jannik_lehmann"},"type":"ISSUE","assignee":{"id":7293390,"username":"jannik_lehmann","name":"Jannik Lehmann","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7293390/avatar.png","web_url":"https://gitlab.com/jannik_lehmann"},"user_notes_count":16,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333113","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":0},"weight":3,"blocking_issues_count":1,"has_tasks":true,"task_status":"0 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333113","notes":"https://gitlab.com/api/v4/projects/278964/issues/333113/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333113/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333113","relative":"#333113","full":"gitlab-org/gitlab#333113"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6150,"epic":{"id":286283,"iid":6150,"title":"Phase 4: Unification of Backends","url":"/groups/gitlab-org/-/epics/6150","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":88452655,"iid":333112,"project_id":278964,"title":"Removal of security_configuration_redesign/_ee feature flags","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\u003c!--\nA brief explanation of the why, not the what or how. Assume the reader doesn't know the\nbackground and won't have time to dig-up information from comment threads.\n--\u003e\n\nThis issue tracks the removal of the `security_configuration_redesign` and `security_configuration_redesign_ee` feature flags, for the redesign of the Security Config Page [tracked here](https://gitlab.com/gitlab-org/gitlab/-/issues/326926/).\n\nBoth will be removed at the same time, as the `security_configuration_redesign` has been enabled in production for more than a milestone already, and `security_configuration_redesign_ee` will have been enabled in production for nearly a milestone. Removing both flags together would allow for the removal of a lot of code and duplication (tech debt).\n\n\n## Relevant links\n\u003c!--\nInformation that the developer might need to refer to when implementing the issue.\n\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/326926/)\n  - [Design 1](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n  - [Design 2](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n- [Similar implementation](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/\u003cid\u003e)\n--\u003e\n\n- [`security_configuration_redesign` rollout issue](https://gitlab.com/gitlab-org/gitlab/-/issues/331614)\n- [`security_configuration_redesign_ee` rollout issue](https://gitlab.com/gitlab-org/gitlab/-/issues/336077)\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/326926/)\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [-] Create a merge request with the following changes. Ask for review and merge it.\n    - [-] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [-] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [-] Ensure that the above MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [-] `/chatops run auto_deploy status \u003cmerge-commit\u003e`\n- [-] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [x] Create a merge request to remove `security_configuration_redesign(?:_ee)?` feature flag. Ask for review and merge it.\n    - [x] Remove all references to the feature flag from the codebase.\n    - [x] Remove the YAML definitions for the feature from the repository.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [x] Ensure that the above MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [x] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [x] `/chatops run feature delete security_configuration_redesign(?:_ee)? --dev`\n    - [x] `/chatops run feature delete security_configuration_redesign(?:_ee)? --staging`\n    - [x] `/chatops run feature delete security_configuration_redesign(?:_ee)?`\n- [x] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set security_configuration_redesign false\n/chatops run feature set security_configuration_redesign_ee false\n```\n\n## Implementation plan\n\n- Remove YAML definitions for feature flags\n- Remove all code branches based on either feature flag\n- Remove references to flags in ~documentation \n- Remove code and tests related to old design, e.g. (non-exhaustive):\n  - EE\n    - [`ee/security_configuration/components/app.vue`](https://gitlab.com/gitlab-org/gitlab/blob/bbcf781829de4142f22f69435ed92bd812197263/ee/app/assets/javascripts/security_configuration/components/app.vue)\n    - [`ee/security_configuration/components/configuration_table.vue`](https://gitlab.com/gitlab-org/gitlab/blob/bbcf781829de4142f22f69435ed92bd812197263/ee/app/assets/javascripts/security_configuration/components/configuration_table.vue)\n    - [`ee/security_configuration/components/feature_status.vue`](https://gitlab.com/gitlab-org/gitlab/blob/bbcf781829de4142f22f69435ed92bd812197263/ee/app/assets/javascripts/security_configuration/components/feature_status.vue)\n    - [`ee/security_configuration/components/manage_dast_profiles.vue`](https://gitlab.com/gitlab-org/gitlab/blob/bbcf781829de4142f22f69435ed92bd812197263/ee/app/assets/javascripts/security_configuration/components/manage_dast_profiles.vue)\n    - [`ee/security_configuration/components/manage_feature.vue`](https://gitlab.com/gitlab-org/gitlab/blob/bbcf781829de4142f22f69435ed92bd812197263/ee/app/assets/javascripts/security_configuration/components/manage_feature.vue)\n    - [`ee/security_configuration/components/manage_generic.vue`](https://gitlab.com/gitlab-org/gitlab/blob/bbcf781829de4142f22f69435ed92bd812197263/ee/app/assets/javascripts/security_configuration/components/manage_generic.vue)\n    - [`ee/security_configuration/components/status_dast_profiles.vue`](https://gitlab.com/gitlab-org/gitlab/blob/bbcf781829de4142f22f69435ed92bd812197263/ee/app/assets/javascripts/security_configuration/components/status_dast_profiles.vue)\n    - [`ee/security_configuration/components/status_view_history.vue`](https://gitlab.com/gitlab-org/gitlab/blob/bbcf781829de4142f22f69435ed92bd812197263/ee/app/assets/javascripts/security_configuration/components/status_view_history.vue)\n    - [`ee/security_configuration/components/status_generic.vue`](https://gitlab.com/gitlab-org/gitlab/blob/bbcf781829de4142f22f69435ed92bd812197263/ee/app/assets/javascripts/security_configuration/components/status_generic.vue)\n    - Unused constants in [`ee/security_configuration/components/constants.js`](https://gitlab.com/gitlab-org/gitlab/blob/bbcf781829de4142f22f69435ed92bd812197263/ee/app/assets/javascripts/security_configuration/components/constants.js)\n    - Unused initialisation in [`ee/security_configuration/index.js`](https://gitlab.com/gitlab-org/gitlab/blob/bbcf781829de4142f22f69435ed92bd812197263/ee/app/assets/javascripts/security_configuration/index.js)\n  - CE\n    - [`~/security_configuration/components/app.vue`](https://gitlab.com/gitlab-org/gitlab/blob/bbcf781829de4142f22f69435ed92bd812197263/app/assets/javascripts/security_configuration/components/app.vue)\n    - [`~/security_configuration/components/configuration_table.vue`](https://gitlab.com/gitlab-org/gitlab/blob/bbcf781829de4142f22f69435ed92bd812197263/app/assets/javascripts/security_configuration/components/configuration_table.vue)\n    - Unused constants in [`~/security_configuration/components/constants.js`](https://gitlab.com/gitlab-org/gitlab/blob/bbcf781829de4142f22f69435ed92bd812197263/app/assets/javascripts/security_configuration/components/constants.js)\n    - Unused initialisation in [`~/security_configuration/index.js`](https://gitlab.com/gitlab-org/gitlab/blob/bbcf781829de4142f22f69435ed92bd812197263/app/assets/javascripts/security_configuration/index.js)\n\n\n\u003c!--\nWorkflow and other relevant labels\n\n# ~\"group::\" ~\"Category:\" ~\"GitLab Ultimate\"\nOther settings you might want to include when creating the issue.\n\n# /assign @\n# /epic \u0026\n--\u003e","state":"closed","created_at":"2021-06-09T11:52:22.327Z","updated_at":"2021-08-10T14:07:25.076Z","closed_at":"2021-08-10T14:02:08.770Z","closed_by":{"id":7293390,"username":"jannik_lehmann","name":"Jannik Lehmann","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7293390/avatar.png","web_url":"https://gitlab.com/jannik_lehmann"},"labels":["Category:Vulnerability Management","GitLab Core","GitLab Free","GitLab Premium","SUS::Impacting","Stretch","auto updated","devops::secure","feature::enhancement","frontend","group::analyzer frontend","section::sec","type::feature","workflow::blocked"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},{"id":7293390,"username":"jannik_lehmann","name":"Jannik Lehmann","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7293390/avatar.png","web_url":"https://gitlab.com/jannik_lehmann"}],"author":{"id":7293390,"username":"jannik_lehmann","name":"Jannik Lehmann","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7293390/avatar.png","web_url":"https://gitlab.com/jannik_lehmann"},"type":"ISSUE","assignee":{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333112","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":13,"completed_count":10},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"10 of 13 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333112","notes":"https://gitlab.com/api/v4/projects/278964/issues/333112/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333112/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333112","relative":"#333112","full":"gitlab-org/gitlab#333112"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6149,"epic":{"id":286282,"iid":6149,"title":"Phase 3: Remove all old design code","url":"/groups/gitlab-org/-/epics/6149","group_id":9970,"human_readable_end_date":"Aug 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":88452538,"iid":333111,"project_id":278964,"title":"Move information about protected build to `ci_pending_builds`","description":"## Description\n\nWe need to denormalize `ci_builds.protected` and copy it into `ci_pending_builds.protected` because this is used in the legacy queuing mechanism and is required to remove the `ci_builds` table from the queuing query.\n\n/cc @darbyfrey","state":"closed","created_at":"2021-06-09T11:50:25.993Z","updated_at":"2021-06-21T19:46:19.816Z","closed_at":"2021-06-15T12:03:54.697Z","closed_by":{"id":263716,"username":"grzesiek","name":"Grzegorz Bizon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/263716/avatar.jpeg","web_url":"https://gitlab.com/grzesiek"},"labels":["Engineering Allocation","devops::verify","group::pipeline execution","section::ops","workflow::production"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":263716,"username":"grzesiek","name":"Grzegorz Bizon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/263716/avatar.jpeg","web_url":"https://gitlab.com/grzesiek"}],"author":{"id":263716,"username":"grzesiek","name":"Grzegorz Bizon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/263716/avatar.jpeg","web_url":"https://gitlab.com/grzesiek"},"type":"ISSUE","assignee":{"id":263716,"username":"grzesiek","name":"Grzegorz Bizon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/263716/avatar.jpeg","web_url":"https://gitlab.com/grzesiek"},"user_notes_count":2,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":"2021-06-18","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333111","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333111","notes":"https://gitlab.com/api/v4/projects/278964/issues/333111/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333111/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333111","relative":"#333111","full":"gitlab-org/gitlab#333111"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5909,"epic":{"id":261464,"iid":5909,"title":"Introduce additional database table to improve builds queuing mechanisms","url":"/groups/gitlab-org/-/epics/5909","group_id":9970,"human_readable_end_date":"Oct 22, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88452130,"iid":333109,"project_id":278964,"title":"Swap out EE frontend with new FOSS redesign (Docs!)","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\u003c!--\nA brief explanation of the why, not the what or how. Assume the reader doesn't know the\nbackground and won't have time to dig-up information from comment threads.\n--\u003e\n\nFor the redesign of the Security Config Page [tracked here](https://gitlab.com/gitlab-org/gitlab/-/issues/326926/),\nwe will need to swap out the old Design in EE with the new implementation in CE. This must not be done, before the implementation of the redesign has feature-parity with the current EE version of the page.\n\nTODO's:\n\n- swap out page implementation\n- update feature specs\n- update qa specs\n- put feature behind a new feature-flag (Can differentiate Ultimate/non-Ultimate via `#js-security-configuration-static` / `#js-security-configuration` selectors)\n- update Doc's\n\n\n## Relevant links\n\u003c!--\nInformation that the developer might need to refer to when implementing the issue.\n\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/326926/)\n  - [Design 1](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n  - [Design 2](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n- [Similar implementation](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/\u003cid\u003e)\n--\u003e\n\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/326926/)\n  - [Design 1](https://gitlab.com/gitlab-org/gitlab/-/issues/326926/designs/MVC-D1-CONFIG_project-security_testing-ultimate-first_run.png)\n\n\n\n\n\u003c!--\nWorkflow and other relevant labels\n\n# ~\"group::\" ~\"Category:\" ~\"GitLab Ultimate\"\nOther settings you might want to include when creating the issue.\n\n# /assign @\n# /epic \u0026\n--\u003e","state":"closed","created_at":"2021-06-09T11:42:40.654Z","updated_at":"2021-07-20T17:22:00.627Z","closed_at":"2021-07-15T12:32:01.707Z","closed_by":{"id":7293390,"username":"jannik_lehmann","name":"Jannik Lehmann","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7293390/avatar.png","web_url":"https://gitlab.com/jannik_lehmann"},"labels":["Category:Vulnerability Management","GitLab Core","GitLab Free","GitLab Premium","SUS::Impacting","auto updated","devops::secure","feature::enhancement","frontend","group::analyzer frontend","section::sec","type::feature","workflow::in dev"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":7293390,"username":"jannik_lehmann","name":"Jannik Lehmann","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7293390/avatar.png","web_url":"https://gitlab.com/jannik_lehmann"}],"author":{"id":7293390,"username":"jannik_lehmann","name":"Jannik Lehmann","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7293390/avatar.png","web_url":"https://gitlab.com/jannik_lehmann"},"type":"ISSUE","assignee":{"id":7293390,"username":"jannik_lehmann","name":"Jannik Lehmann","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7293390/avatar.png","web_url":"https://gitlab.com/jannik_lehmann"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333109","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333109","notes":"https://gitlab.com/api/v4/projects/278964/issues/333109/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333109/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333109","relative":"#333109","full":"gitlab-org/gitlab#333109"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6148,"epic":{"id":286281,"iid":6148,"title":"Phase 2: EE","url":"/groups/gitlab-org/-/epics/6148","group_id":9970,"human_readable_end_date":"Aug 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":88451910,"iid":333108,"project_id":278964,"title":"AutoDevOps enabled alert (use LocalStorage for project-level dismissal)","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\u003c!--\nA brief explanation of the why, not the what or how. Assume the reader doesn't know the\nbackground and won't have time to dig-up information from comment threads.\n--\u003e\n\nFor the redesign of the Security Config Page [tracked here](https://gitlab.com/gitlab-org/gitlab/-/issues/326926/),\nwe will need to introduce an AutoDevOps enabled alert (use LocalStorage for project-level dismissal)\n\nIf the project has Auto DevOps enabled, the success banner will display until the user dismisses it. Dismissal of this banner is at the project level and will not appear again in this project\n\n## Screenshot \n![Screenshot_2021-06-09_at_13.38.50](/uploads/09531516e5d5ed5f52bd9f3c666ed208/Screenshot_2021-06-09_at_13.38.50.png)\n## Relevant links\n\u003c!--\nInformation that the developer might need to refer to when implementing the issue.\n\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/326926/)\n  - [Design 1](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n  - [Design 2](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n- [Similar implementation](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/\u003cid\u003e)\n--\u003e\n\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/326926/)\n  - [Design 1](https://gitlab.com/gitlab-org/gitlab/-/issues/326926/designs/MVC-D1-CONFIG_project-security_testing-ultimate-first_run.png)\n\n## Implementation Plan\n\n- [ ] extract the needed dataset attributes from the template and pass through to component via props or inject in the entry point (autoDevopsEnabled, gitlabCiPresent, canEnableAutoDevops)\n- [ ] Implement Banner using previously used logic to be found at (https://gitlab.com/gitlab-org/gitlab/blob/76e89467837aef259cfc7479443d67877411ed2f/ee/app/assets/javascripts/security_configuration/components/app.vue#L133-145)\n\n\n\n\u003c!--\nWorkflow and other relevant labels\n\n# ~\"group::\" ~\"Category:\" ~\"GitLab Ultimate\"\nOther settings you might want to include when creating the issue.\n\n# /assign @\n# /epic \u0026\n--\u003e","state":"closed","created_at":"2021-06-09T11:39:11.246Z","updated_at":"2021-07-28T16:46:24.540Z","closed_at":"2021-07-28T16:46:24.525Z","closed_by":{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},"labels":["Category:Vulnerability Management","Deliverable","GitLab Core","GitLab Free","GitLab Premium","SUS::Impacting","Technical Writing","auto updated","devops::secure","feature::enhancement","frontend","group::analyzer frontend","section::sec","tw::finished","type::feature","workflow::verification"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"}],"author":{"id":7293390,"username":"jannik_lehmann","name":"Jannik Lehmann","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7293390/avatar.png","web_url":"https://gitlab.com/jannik_lehmann"},"type":"ISSUE","assignee":{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333108","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333108","notes":"https://gitlab.com/api/v4/projects/278964/issues/333108/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333108/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333108","relative":"#333108","full":"gitlab-org/gitlab#333108"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6148,"epic":{"id":286281,"iid":6148,"title":"Phase 2: EE","url":"/groups/gitlab-org/-/epics/6148","group_id":9970,"human_readable_end_date":"Aug 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":88451741,"iid":333106,"project_id":278964,"title":"Enable AutoDevOps alert. (Using UserCallout)","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\u003c!--\nA brief explanation of the why, not the what or how. Assume the reader doesn't know the\nbackground and won't have time to dig-up information from comment threads.\n--\u003e\n\nFor the redesign of the Security Config Page [tracked here](https://gitlab.com/gitlab-org/gitlab/-/issues/326926/),\nwe will need to introduce an Enable AutoDevOps alert. (Using UserCallout)\n\nThe alert is dismissible at the user level and should not display again in any project after being dismissed.\n\n## Screenshot \n![Screenshot_2021-06-09_at_13.35.47](/uploads/0deadf9322ba9fd6d69c86248255ece9/Screenshot_2021-06-09_at_13.35.47.png)\n## Relevant links\n\u003c!--\nInformation that the developer might need to refer to when implementing the issue.\n\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/326926/)\n  - [Design 1](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n  - [Design 2](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n- [Similar implementation](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/\u003cid\u003e)\n--\u003e\n\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/326926/)\n  - [Design 1](https://gitlab.com/gitlab-org/gitlab/-/issues/326926/designs/MVC-D1-CONFIG_project-security_testing-ultimate-first_run.png)\n\n\n\n\n\u003c!--\nWorkflow and other relevant labels\n\n# ~\"group::\" ~\"Category:\" ~\"GitLab Ultimate\"\nOther settings you might want to include when creating the issue.\n\n# /assign @\n# /epic \u0026\n--\u003e","state":"closed","created_at":"2021-06-09T11:36:47.063Z","updated_at":"2021-07-21T11:12:50.207Z","closed_at":"2021-07-21T11:12:50.199Z","closed_by":{"id":7293390,"username":"jannik_lehmann","name":"Jannik Lehmann","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7293390/avatar.png","web_url":"https://gitlab.com/jannik_lehmann"},"labels":["Category:Vulnerability Management","GitLab Core","GitLab Free","GitLab Premium","SUS::Impacting","auto updated","devops::secure","feature::enhancement","frontend","group::analyzer frontend","section::sec","type::feature","workflow::in dev"],"milestone":null,"assignees":[{"id":7293390,"username":"jannik_lehmann","name":"Jannik Lehmann","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7293390/avatar.png","web_url":"https://gitlab.com/jannik_lehmann"}],"author":{"id":7293390,"username":"jannik_lehmann","name":"Jannik Lehmann","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7293390/avatar.png","web_url":"https://gitlab.com/jannik_lehmann"},"type":"ISSUE","assignee":{"id":7293390,"username":"jannik_lehmann","name":"Jannik Lehmann","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7293390/avatar.png","web_url":"https://gitlab.com/jannik_lehmann"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333106","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333106","notes":"https://gitlab.com/api/v4/projects/278964/issues/333106/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333106/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333106","relative":"#333106","full":"gitlab-org/gitlab#333106"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6148,"epic":{"id":286281,"iid":6148,"title":"Phase 2: EE","url":"/groups/gitlab-org/-/epics/6148","group_id":9970,"human_readable_end_date":"Aug 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":88446502,"iid":333093,"project_id":278964,"title":"API support for group access tokens","description":"\u003c!-- This issue template can be used a great starting point for feature requests. The last section \"Release notes\" can be used as a summary of the feature and is also required if you want to have your release post blog MR auto generated using the release post item generator:  https://about.gitlab.com/handbook/marketing/blog/release-posts/#release-post-item-generator. The remaining sections are the backbone for every feature in GitLab. --\u003e\n\n### Release notes \n\n\u003c!-- What is the problem and solution you're proposing? This content sets the overall vision for the feature and serves as the release notes that will populate in various places, including the [release post blog](https://about.gitlab.com/releases/categories/releases/) and [Gitlab project releases](https://gitlab.com/gitlab-org/gitlab/-/releases). \" --\u003e\n\n### Problem to solve \n\n\u003c!-- What is the user problem you are trying to solve with this issue? --\u003e\n\nBroken off of https://gitlab.com/gitlab-org/gitlab/-/issues/330718\n\nCurrently, GitLab customers are creating users instead of bots (since there is no official bot feature in GitLab) to specifically handle the automation of tasks. This is painful for customers for the following reasons:\n\n* Compromised security\n  * Attaching tokens to a specific user means that that user account has access to the full API, if those account credentials are compromised, the whole instance is potentially in the hands of bad actors\n  * Additional license costs (further detailed below) causes customers to only create one user for many tasks to save money, which is also a potential security risk\n* Cost\n  * Customers are having to pay not only for additional licenses, but also for the other surrounding costs such as email account provisioning via G-Suite or Office 365 in order for the user to have credentials\n  * There are users who are uncomfortable with converting to a paid customer due to the anxiety around increased license costs, especially if they are a small team or business with many automated tasks\n* Decreased cycle time\n  * Provisioning bot users is a long and convoluted process for some customers, causing potential delays in getting work done\n  * If the cost of creating a bot user is too high, users may attempt to manually perform the tasks instead, which is not efficient\n* Potential downtime\n  * If a user who's access token is being used for a task that many depend on gets deleted, this could cause potential disruption and downtime\n\nWe already support [project level bots](https://gitlab.com/gitlab-org/gitlab/-/issues/210057), but do not support group level. This is limiting our users since Project Access Tokens do not work at the group level:\n\nSpecific use cases:\n\n* Project Access Tokens can't run pipelines if other included YML files come from another private repository of the same group\n* They have many projects in one subgroup and are trying to get access for third-party tools to all of them. It is time-consuming to create and manage separate tokens.\n* \u003e We’re currently utilizing Jenkins. As part of our CI process we build images. When the image is successfully built, we increment the version number back in the project.\n\n\u003e We have numerous repos, and we have to create tokens for every single project. Save those tokens in some place accessible in Jenkins, and then smartly retrieve the correct token for the specific project to increment the version.\n\nHaving the ability to use Group tokens would reduce this save/fetch methodology and streamline the CI process.\n\n### Proposal \n\n\u003c!-- Use this section to explain the feature and how it will work. It can be helpful to add technical details, design proposals, and links to related epics or issues. --\u003e\n\n\nAdds the ability to add access tokens scoped to a group (GrAT). Adding GrAT also creates a \"Group Bot User\" that holds the access token. Revoking an access token removes the \"Project Bot User\" from the project and deletes the user making it a \"Ghost User\". This feature will be for self-managed instances only.\n\n| Action| Functionality |\n| ------ | ------ |\n| `index` | List active and inactive access tokens and available scopes. It also makes available the newly created `GrAT` (if applicable). |\n| `create` | Creates and returns `GrAT`. It internally invokes the `CreateAccessToken` service. For details, ref: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/28621 | \n| `revoke` | Revokes access token, Removes maintainer access for the Group Bot, Transfer issuables to ghost user |\n\n\u003c!--- Use the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n\nConsider adding related issues and epics to this issue. You can also reference the Feature Proposal Template (https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal%20-%20detailed.md) for additional details to consider adding to this issue. Additionally, as a data oriented organization, when your feature exits planning breakdown, consider adding the `What does success look like, and how can we measure that?` section.\n\nOther sections to consider adding: \n\n### Intended users\n\nWho will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n\n* [Cameron (Compliance Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#cameron-compliance-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager) \n* [Alex (Security Operations Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#alex-security-operations-engineer)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops) \n* [Priyanka (Platform Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#priyanka-platform-engineer)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n\n\n### User experience goal\n\nWhat is the single user experience workflow this problem addresses? \nFor example, \"The user should be able to use the UI/API/.gitlab-ci.yml with GitLab to \u003cperform a specific task\u003e\"\nhttps://about.gitlab.com/handbook/engineering/ux/ux-research-training/user-story-mapping/ \n\n\n### Further details\n\nInclude use cases, benefits, goals, or any other details that will help us understand the problem better. \n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?\nConsider adding checkboxes and expectations of users with certain levels of membership https://docs.gitlab.com/ee/user/permissions.html\n* [ ] Add expected impact to members with no access (0)\n* [ ] Add expected impact to Guest (10) members\n* [ ] Add expected impact to Reporter (20) members\n* [ ] Add expected impact to Developer (30) members \n* [ ] Add expected impact to Maintainer (40) members\n* [ ] Add expected impact to Owner (50) members \n\n### Documentation\n\n See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/workflow.html#for-a-product-change\n\n* Add all known Documentation Requirements in this section. See https://docs.gitlab.com/ee/development/documentation/workflow.html\n* If this feature requires changing permissions, update the permissions document. See https://docs.gitlab.com/ee/user/permissions.html \n\n### Availability \u0026 Testing\n\nThis section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning \n\n### What does success look like, and how can we measure that?\n\nDefine both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. \n\n### What is the type of buyer?\n\nWhat is the buyer persona for this feature? See https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/buyer-persona/\nIn which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#three-tiers\n\n### Is this a cross-stage feature?\n\nCommunicate if this change will affect multiple Stage Groups or product areas. We recommend always start with the assumption that a feature request will have an impact into another Group. Loop in the most relevant PM and Product Designer from that Group to provide strategic support to help align the Group's broader plan and vision, as well as to avoid UX and technical debt. https://about.gitlab.com/handbook/product/#cross-stage-features --\u003e","state":"closed","created_at":"2021-06-09T10:01:22.860Z","updated_at":"2022-10-12T21:53:03.378Z","closed_at":"2022-10-12T21:53:03.179Z","closed_by":{"id":9425173,"username":"hsutor","name":"Hannah Sutor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9425173/avatar.png","web_url":"https://gitlab.com/hsutor"},"labels":["Category:Authentication and Authorization","GitLab Premium","GitLab Ultimate","[deprecated] Accepting merge requests","candidate::14.2","customer","devops::manage","direction","documentation","group::authentication and authorization","section::dev","self-managed","type::feature","workflow::ready for development"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":4156460,"username":"ogolowinski","name":"Orit Golowinski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4156460/avatar.png","web_url":"https://gitlab.com/ogolowinski"},"type":"ISSUE","assignee":null,"user_notes_count":6,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333093","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333093","notes":"https://gitlab.com/api/v4/projects/278964/issues/333093/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333093/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333093","relative":"#333093","full":"gitlab-org/gitlab#333093"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88446467,"iid":333092,"project_id":278964,"title":"Only show Jira requirement project setting when the project has an active Jira integration","description":"## Problem to solve\n\nCurrently the `Require an associated issue from Jira` checkbox in **Project \u003e Settings** is always visible and can be checked. This can create an unsolvable situation in MRs when there is no active Jira integration on the project.\n\n![image](/uploads/0e895877d45b7fb17461ae404fbee432/image.png)\n\n## Suggested solution\n\nThe `Require an associated issue from Jira` checkbox in **Project \u003e Settings** should only be visible and enforced when the project has an Jira integration and it's active.\n\n## Additional details\n\nThe ~frontend will only block an MR if the project has both `jira_issue_association_required_to_merge_enabled?` and `prevent_merge_without_jira_issue` true. Thus if either returns false the MR can be merged without needing an integration. So this should be solvable by only updating `jira_issue_association_required_to_merge_enabled?` on the ~backend.","state":"closed","created_at":"2021-06-09T10:01:17.666Z","updated_at":"2021-06-21T03:38:43.072Z","closed_at":"2021-06-21T03:38:43.041Z","closed_by":{"id":398752,"username":"tancnle","name":"Tan Le","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/398752/avatar.png","web_url":"https://gitlab.com/tancnle"},"labels":["backend","devops::manage","group::compliance","section::dev","severity::3","type::bug"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":398752,"username":"tancnle","name":"Tan Le","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/398752/avatar.png","web_url":"https://gitlab.com/tancnle"}],"author":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"type":"ISSUE","assignee":{"id":398752,"username":"tancnle","name":"Tan Le","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/398752/avatar.png","web_url":"https://gitlab.com/tancnle"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333092","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333092","notes":"https://gitlab.com/api/v4/projects/278964/issues/333092/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333092/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333092","relative":"#333092","full":"gitlab-org/gitlab#333092"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4637,"epic":{"id":127687,"iid":4637,"title":"Make the process of associating a Jira issue with a merge request more clear and reliable","url":"/groups/gitlab-org/-/epics/4637","group_id":9970,"human_readable_end_date":"Feb 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88437917,"iid":333080,"project_id":278964,"title":"SSH Key Expiration Notification Emails Timing Out","description":"[[_TOC_]]\n\n### Problem \n\nDespite attempts to resolve database timeouts when emailing SaaS users about soon-to-be expired SSH keys, we are still seeing timeouts when the cron job is triggered.\n\n* Sentry: https://sentry.gitlab.net/gitlab/gitlabcom/issues/2678876/?query=is%3Aunresolved%20ExpiredNotificationWorker\n* Kibana: https://log.gprd.gitlab.net/app/discover#/?_g=h@8cbb584\u0026_a=h@ba85f4f\n\nExecution time isn't ideal, but well within timeout limits for a background job when run via database-lab.\n\n### Database Lab Output\n\n```\nexplain SELECT \"keys\".\"id\" FROM \"keys\" WHERE (date(expires_at AT TIME ZONE 'UTC') BETWEEN '2020-01-01' AND CURRENT_DATE AND expiry_notification_delivered_at IS NULL) ORDER BY \"keys\".\"id\" ASC LIMIT 1000;\n```\n\n```\n Limit  (cost=34727.18..34729.68 rows=1000 width=4) (actual time=1007.379..1007.725 rows=1000 loops=1)\n   Buffers: shared hit=2627 read=34292 dirtied=64\n   I/O Timings: read=913.101 write=0.000\n   -\u003e  Sort  (cost=34727.18..34783.99 rows=22722 width=4) (actual time=1007.376..1007.593 rows=1000 loops=1)\n         Sort Key: keys.id\n         Sort Method: top-N heapsort  Memory: 111kB\n         Buffers: shared hit=2627 read=34292 dirtied=64\n         I/O Timings: read=913.101 write=0.000\n         -\u003e  Index Scan using index_keys_on_expires_at_and_expiry_notification_undelivered on public.keys  (cost=0.43..33481.36 rows=22722 width=4) (actual time=0.333..984.231 rows=36872 loops=1)\n               Index Cond: ((date(timezone('UTC'::text, keys.expires_at)) \u003e= '2020-01-01'::date) AND (date(timezone('UTC'::text, keys.expires_at)) \u003c= CURRENT_DATE))\n               Buffers: shared hit=2624 read=34292 dirtied=64\n               I/O Timings: read=913.101 write=0.000\n\n```\n\n```\nTime: 1.009 s  \n  - planning: 1.381 ms  \n  - execution: 1.008 s  \n    - I/O read: 913.101 ms  \n    - I/O write: 0.000 ms  \n  \nShared buffers:  \n  - hits: 2627 (~20.50 MiB) from the buffer pool  \n  - reads: 34292 (~267.90 MiB) from the OS file cache, including disk I/O  \n  - dirtied: 64 (~512.00 KiB)  \n  - writes: 0  \n```","state":"closed","created_at":"2021-06-09T08:05:34.849Z","updated_at":"2023-01-12T02:16:56.412Z","closed_at":"2021-06-11T09:13:36.595Z","closed_by":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"labels":["backend","devops::manage","group::compliance","priority::1","section::dev","severity::1","type::bug","workflow::verification"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"}],"author":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"type":"ISSUE","assignee":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333080","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333080","notes":"https://gitlab.com/api/v4/projects/278964/issues/333080/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333080/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333080","relative":"#333080","full":"gitlab-org/gitlab#333080"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88434082,"iid":333073,"project_id":278964,"title":"Cyclical multi-project pipelines too strict: \"job would create infinitely looping pipelines\"","description":"### Summary\n\nWe use a multi-repo/superproject setup with several services as git submodules.\n\nOur \"superrepo\" is structured like this:\n```\n./services/server \n./services/client\n```\nThese are all git submodules pointing towards their respective repositories.\n\n1. On a push to the `app` repo it will check for changes in any of the submodule, export the commit sha and triggers a pipeline on the `app` with all of the refs changed. \n2. This 2nd pipeline within the `app` repo triggers all of the specific services and triggers a `build` stage within the service repo (e.g. `server` or `client`) and subsequently a `deploy` stage.\n3. Each of the updated services will run the `build` and `deploy`.\n\nThis setup has been in use for over a year and has been working well for us. \nIt has never lead to loops within the process, we have a few `except:` and `only:` entries in the code to prevent that from happening in the first place. \n\nWith !61909 the behavior is changed where it is currently triggering loop protection for this way of using the CI. \n\nThis is a screenshot of the process _before_ !61909 was implemented/activated:\n![image](/uploads/3f4c917467087c3d61c605851b684f27/image.png)\n![image](/uploads/9c75c3df94ec6b8f175a4cdbcbcfccd4/image.png)\n\nIt appears that the check for these cyclical multi-project pipelines might be too strict.\n\n### Steps to reproduce\n\n1. Create 2 projects\n2. In the 2nd project create a sample pipeline\n3. In the 1st project create a CI config which triggers a pipeline on itself (using the API), with a different set of jobs\n4. Have this secondary pipeline [trigger](https://docs.gitlab.com/ee/ci/yaml/#trigger) a downstream pipeline (using the `trigger` keyword and `strategy: depend`) on a the 2nd project repository.\n\n### Example Project\n\n* https://gitlab.com/thesio/credits-factory/cbk/app (example of failed pipeline: https://gitlab.com/thesio/credits-factory/cbk/app/-/pipelines/316859125)\n* https://gitlab.com/thesio/ops/monitoring/app (example of failed pipeline: https://gitlab.com/thesio/ops/monitoring/app/-/pipelines/316628954). \n  Note: attempts were made to try to resolve this issue using this repo (e.g. replacing `only:` and `except:` by `rules:`) but this has not yielded any results yet.\n\n### What is the current *bug* behavior?\n\nThe `trigger`-job executed by the 2nd pipeline which triggers a job in a different repository is getting killed off because it is detected as causing a loop:\n\n![image](/uploads/12951d7a8fe0e55fb1dff322d1db81a8/image.png)\n\nIt is unclear as to why it believes this causes infinitely looping pipelines.\n\n### What is the expected *correct* behavior?\n\nThe job should not be killed off, as it triggers a task within a _different_ repo which never triggers any jobs \"back\" to the originating repo.\n\n### Relevant logs and/or screenshots\n\nN/A\n\n### Output of checks\n\nThis bug happens on GitLab.com\n\n#### Results of GitLab environment info\n\nN/A\n\n#### Results of GitLab application Check\n\nN/A\n\n### Possible fixes\n\nNot a fix but it appears to originate from here: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/61909/diffs#d08234cb4a7377a8d41199b8681be71bf2dad483_112_118\n\n\n### Technical Proposal\n\n1. Add `pipeline.source` to [the checksum](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/services/ci/create_downstream_pipeline_service.rb#L139) in order to differentiate pipelines coming from different sources even though they will have the same project + sha.\n1. Add a depth value of 2 where we allow at most 2 pipelines with the same checksum rather than none","state":"closed","created_at":"2021-06-09T07:05:42.949Z","updated_at":"2022-02-17T16:49:58.461Z","closed_at":"2022-01-21T16:15:01.816Z","closed_by":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"labels":["Category:Continuous Integration","Verify::P1","automation:ml","backend","customer","devops::verify","group::pipeline execution","missed:14.6","missed:14.7","priority::3","regression","regression:14.0","regression:14.1","section::ops","severity::3","type::bug","workflow::production"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"}],"author":{"id":6129975,"username":"thesio_frank","name":"Frank Klaassen","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6129975/avatar.png","web_url":"https://gitlab.com/thesio_frank"},"type":"ISSUE","assignee":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"user_notes_count":27,"merge_requests_count":0,"upvotes":4,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333073","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333073","notes":"https://gitlab.com/api/v4/projects/278964/issues/333073/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333073/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333073","relative":"#333073","full":"gitlab-org/gitlab#333073"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88433885,"iid":333072,"project_id":278964,"title":"BE: Update GraphQL API to list Network Policies","description":"## Why are we doing this work\n\nWe want to be able to list Network Policies defined in the cluster through GraphQL API to allow users to see  policies easily.\n\nThis new field in `project` should have fields:\n- `name` **string**,\n- `namespace` **string**,\n- `enabled` **boolean**,\n- `fromAutoDevops` **boolean**,\n- `yaml` **string**\n- `updatedAt` **timestamp**\n\nExample:\n```json\n{\n  \"data\": {\n    \"project\": {\n      \"networkPolicies\": {\n        \"nodes\": [\n          {\n            \"name\": \"drop-outbound\",\n\t    \"namespace\": \"network-policy-demo-cluster-management-5000174-production\",\n            \"updatedAt\": \"2021-03-18T17:22:32+00:00\",\n\t    \"yaml\": \"---\\napiVersion: cilium.io/v2\\nkind: CiliumNetworkPolicy\\nmetadata:\\n  name: drop-outbound\\n  namespace: network-policy-demo-cluster-management-5000174-production\\n  resourceVersion: '273830'\\nspec:\\n  endpointSelector: {}\\n  egress:\\n  - {}\\n\",\n\t    \"fromAutodevops\": false,\n\t    \"enabled\": true\n          },\n          ...\n        ]\n      }\n    }\n  }\n}\n```\n\nThis is important to simplify ~frontend work in Policies list view.\n\n## Relevant links\n\n- [Epic](https://gitlab.com/groups/gitlab-org/-/epics/5362)\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [ ] Documentation: add GraphQL documentation for new fields, \n- [-] Feature flag:,\n- [-] Performance: \n- [ ] Testing:\n\n\n\n## Implementation plan\n\n- [x] ~backend prepare `NetworkPolicyResolver` that will `NetworkPolicies::ResourcesService` service to fetch policies from the cluster repository and provide them in the format acceptable by GraphQL type,\n- [x] ~backend add new field to `ProjectType` (`ee` only): `networkPolicies` as `[NetworkPolicyType]` (`null: false, resolver: ::Resolvers::NetworkPolicyResolver`) with fields:\n  - [x] `name` `GraphQL::STRING_TYPE, null: false`,\n  - [x] `namespace` `GraphQL::STRING_TYPE, null: false`,\n  - [x] `enabled` GraphQL::BOOLEAN_TYPE, null: false,\n  - [x] `fromAutoDevops` GraphQL::BOOLEAN_TYPE, null: false,\n  - [x] `yaml` `GraphQL::STRING_TYPE, null: false`,\n  - [x] `updatedAt` `Types::TimeType, null: false`","state":"closed","created_at":"2021-06-09T07:00:44.659Z","updated_at":"2021-06-20T23:31:23.378Z","closed_at":"2021-06-20T23:31:23.341Z","closed_by":{"id":480804,"username":"thiagocsf","name":"Thiago Figueiró","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480804/avatar.png","web_url":"https://gitlab.com/thiagocsf"},"labels":["Category:Security Policy Management","Enterprise Edition","GitLab Ultimate","backend","devops::govern","group::security policies","section::sec","type::feature","workflow::verification"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":5535431,"username":"mparuszewski","name":"Alan (Maciej) Paruszewski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535431/avatar.png","web_url":"https://gitlab.com/mparuszewski"}],"author":{"id":5535431,"username":"mparuszewski","name":"Alan (Maciej) Paruszewski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535431/avatar.png","web_url":"https://gitlab.com/mparuszewski"},"type":"ISSUE","assignee":{"id":5535431,"username":"mparuszewski","name":"Alan (Maciej) Paruszewski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535431/avatar.png","web_url":"https://gitlab.com/mparuszewski"},"user_notes_count":1,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333072","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":10,"completed_count":8},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"8 of 10 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333072","notes":"https://gitlab.com/api/v4/projects/278964/issues/333072/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333072/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333072","relative":"#333072","full":"gitlab-org/gitlab#333072"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5362,"epic":{"id":198770,"iid":5362,"title":"Allow Users to Edit yaml-mode Scan Execution Policies in the Policy UI","url":"/groups/gitlab-org/-/epics/5362","group_id":9970,"human_readable_end_date":"Sep 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88432327,"iid":333067,"project_id":278964,"title":"Add user/namespace/project to snowplow tracking","description":"This is continued work from https://gitlab.com/gitlab-org/gitlab/-/issues/321329\n\nWe closed the [previous issue](https://gitlab.com/gitlab-org/gitlab/-/issues/321329) with 4 MRs merged. We can continue our work with the new scheduled milestone.\n\nThis help us to send along user/namespace/project to the collector.","state":"closed","created_at":"2021-06-09T06:23:26.059Z","updated_at":"2021-10-08T18:41:51.589Z","closed_at":"2021-07-06T03:53:41.321Z","closed_by":{"id":8198564,"username":"rkadam3","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8198564/avatar.png","web_url":"https://gitlab.com/rkadam3"},"labels":["backend","devops::growth","group::product intelligence","maintenance::refactor","section::growth","workflow::production"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":8198564,"username":"rkadam3","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8198564/avatar.png","web_url":"https://gitlab.com/rkadam3"}],"author":{"id":8198564,"username":"rkadam3","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8198564/avatar.png","web_url":"https://gitlab.com/rkadam3"},"type":"ISSUE","assignee":{"id":8198564,"username":"rkadam3","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8198564/avatar.png","web_url":"https://gitlab.com/rkadam3"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333067","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333067","notes":"https://gitlab.com/api/v4/projects/278964/issues/333067/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333067/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333067","relative":"#333067","full":"gitlab-org/gitlab#333067"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5569,"epic":{"id":223482,"iid":5569,"title":"Snowplow Maintenance","url":"/groups/gitlab-org/-/epics/5569","group_id":9970,"human_readable_end_date":"Jan 31, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88431801,"iid":333066,"project_id":278964,"title":"Database decomposition: Performance bar PG metrics","description":"See https://gitlab.com/groups/gitlab-org/-/epics/6134.\n\nWe will want some way to distinguish the different databases being queried in our performance bar metrics.","state":"closed","created_at":"2021-06-09T06:11:51.586Z","updated_at":"2022-05-31T12:22:52.803Z","closed_at":"2021-07-29T01:01:38.175Z","closed_by":{"id":120073,"username":"DylanGriffith","name":"Dylan Griffith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/120073/avatar.png","web_url":"https://gitlab.com/DylanGriffith"},"labels":["Category:Pods","auto updated","devops::data_stores","group::pods","section::enablement","workflow::ready for development"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":120073,"username":"DylanGriffith","name":"Dylan Griffith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/120073/avatar.png","web_url":"https://gitlab.com/DylanGriffith"}],"author":{"id":120073,"username":"DylanGriffith","name":"Dylan Griffith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/120073/avatar.png","web_url":"https://gitlab.com/DylanGriffith"},"type":"ISSUE","assignee":{"id":120073,"username":"DylanGriffith","name":"Dylan Griffith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/120073/avatar.png","web_url":"https://gitlab.com/DylanGriffith"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333066","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333066","notes":"https://gitlab.com/api/v4/projects/278964/issues/333066/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333066/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333066","relative":"#333066","full":"gitlab-org/gitlab#333066"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6134,"epic":{"id":285044,"iid":6134,"title":"Decomposition:  Create observability for multiple database servers","url":"/groups/gitlab-org/-/epics/6134","group_id":9970,"human_readable_end_date":"Aug 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88429229,"iid":333064,"project_id":278964,"title":"[SaaS UserCap FE] - Add Pending Members page","description":"## Description\n\n* Introduce tabs to seat usage page (1 tab to contain current page)\n* Add Pending Members tab as a second tab\n* Each row in pending members would show user column and a status badge (where applicable)\n\nPending members can be:\n- invited by email\n- invited members that already have an account on SaaS\n\n### Pending members table\n\n| Issue | Concern |\n| ------ | ------ |\n| #333064  (:point_left: you're here) | It only adds the table and list the users with badges |\n| #330027 | It adds the \"Approve\" button to each row in the table |\n\n## Feature flag\n\nThis feature will be implemented under the `saas_user_caps` FF\n\n## Product description\n\nMembers that have been invited by email to a group, but haven't created an account yet, should be shown to group owners in a **Pending members** tab of the Billing \u003e Seat usage page.\n\n## Design\n\n- https://gitlab.com/gitlab-org/gitlab/-/issues/321934/designs/pending-alert.png\n- https://gitlab.com/gitlab-org/gitlab/-/issues/321934/designs/rt-group-owner-approved-awaiting-signup.png\n\nIn this iteration, we only show the user column with the status badge -- not the approval button in the design.","state":"closed","created_at":"2021-06-09T04:54:52.841Z","updated_at":"2022-01-05T11:34:52.680Z","closed_at":"2021-12-14T08:15:56.056Z","closed_by":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"labels":["[deprecated] Category:Utilization","automation:ml","devops::fulfillment","frontend","group::utilization","missed:14.5","section::fulfillment","workflow::production"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"}],"author":{"id":4737352,"username":"astoicescu","name":"Andrei Stoicescu","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4737352/avatar.png","web_url":"https://gitlab.com/astoicescu"},"type":"ISSUE","assignee":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"user_notes_count":32,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333064","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333064","notes":"https://gitlab.com/api/v4/projects/278964/issues/333064/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333064/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333064","relative":"#333064","full":"gitlab-org/gitlab#333064"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6862,"epic":{"id":364252,"iid":6862,"title":"SaaS User Cap - MVC","url":"/groups/gitlab-org/-/epics/6862","group_id":9970,"human_readable_end_date":"Mar 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88425216,"iid":333058,"project_id":278964,"title":"Browserker update coding standards to include calling file.Close twice","description":"Update the Browserker coding standards to include calling file.Close() twice as highlighted in this [comment](https://gitlab.com/gitlab-org/security-products/analyzers/browserker/-/merge_requests/244#note_596171488)","state":"closed","created_at":"2021-06-09T02:27:17.004Z","updated_at":"2021-06-17T02:24:58.200Z","closed_at":"2021-06-17T02:24:58.185Z","closed_by":{"id":5344211,"username":"craigmsmith","name":"Craig Smith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5344211/avatar.png","web_url":"https://gitlab.com/craigmsmith"},"labels":["Category:DAST","dast::browserker","devops::secure","group::dynamic analysis","section::sec"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":5344211,"username":"craigmsmith","name":"Craig Smith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5344211/avatar.png","web_url":"https://gitlab.com/craigmsmith"}],"author":{"id":5344211,"username":"craigmsmith","name":"Craig Smith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5344211/avatar.png","web_url":"https://gitlab.com/craigmsmith"},"type":"ISSUE","assignee":{"id":5344211,"username":"craigmsmith","name":"Craig Smith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5344211/avatar.png","web_url":"https://gitlab.com/craigmsmith"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333058","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333058","notes":"https://gitlab.com/api/v4/projects/278964/issues/333058/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333058/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333058","relative":"#333058","full":"gitlab-org/gitlab#333058"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88422816,"iid":333055,"project_id":278964,"title":"Spec failure in `spec/features/profile_spec.rb` | Profile account page when I reset feed token resets feed token","description":"Job [#1328575620](https://gitlab.com/gitlab-org/gitlab/-/jobs/1328575620) failed for 27e6117fbbda7005bd4fb56042bb57235ae4e2d0:\n\n### Trace\n\n```\nFailures:\n  1) Profile account page when I reset feed token resets feed token\n     Got 1 failure and 1 other error:\n     1.1) Failure/Error: expect(page).to have_content 'Feed token was successfully reset'\n            expected to find text \"Feed token was successfully reset\" in \"Skip to content GitLab Menu Help User Settings Profile Account Applications Chat Access Tokens Emails Password Notifications SSH Keys GPG Keys Preferences Active Sessions Authentication log Usage Quotas Collapse sidebar User Settings Access Tokens Personal Access Tokens You can generate a personal access token for each application you use that needs access to the GitLab API. You can also use personal access tokens to authenticate against Git over HTTP. They are the only accepted password when you have Two-Factor Authentication (2FA) enabled. Add a personal access token Enter the name of your application, and we'll return a unique personal access token. Name Expires at Scopes api Grants complete read/write access to the API, including all groups and projects, the container registry, and the package registry. read_user Grants read-only access to the authenticated user's profile through the /user API endpoint, which includes username, public email, and full name. Also grants access to read-only API endpoints under /users. read_api Grants read access to the API, including all groups and projects, the container registry, and the package registry. read_repository Grants read-only access to repositories on private projects using Git-over-HTTP or the Repository Files API. write_repository Grants read-write access to repositories on private projects using Git-over-HTTP (not using the API). Projects Set access permissions for this token. All projects Selected projects Active personal access tokens (0) This user has no active personal access tokens. Feed token Your feed token is used to authenticate you when your RSS reader loads a personalized RSS feed or when your calendar application loads a personalized calendar, and is included in those feed URLs. It cannot be used to access any other data. Feed token Keep this token secret. Anyone who gets ahold of it can read activity and issue RSS feeds or your calendar feed as if they were you. You should reset it if that ever happens.\"\n          # ./spec/features/profile_spec.rb:78:in `block (3 levels) in \u003ctop (required)\u003e'\n          # ./spec/spec_helper.rb:372:in `block (3 levels) in \u003ctop (required)\u003e'\n          # ./spec/support/sidekiq_middleware.rb:9:in `with_sidekiq_server_middleware'\n          # ./spec/spec_helper.rb:363:in `block (2 levels) in \u003ctop (required)\u003e'\n          # ./spec/spec_helper.rb:359:in `block (3 levels) in \u003ctop (required)\u003e'\n          # ./lib/gitlab/application_context.rb:31:in `with_raw_context'\n          # ./spec/spec_helper.rb:359:in `block (2 levels) in \u003ctop (required)\u003e'\n     1.2) Failure/Error: raise JSConsoleError, message\n          JSConsoleError:\n            Unexpected browser console output:\n            security - Error with Permissions-Policy header: Unrecognized feature: 'interest-cohort'.\n            security - Error with Permissions-Policy header: Unrecognized feature: 'interest-cohort'.\n          # ./spec/support/capybara.rb:196:in `block (2 levels) in \u003ctop (required)\u003e'\n          # ./spec/spec_helper.rb:372:in `block (3 levels) in \u003ctop (required)\u003e'\n          # ./spec/support/sidekiq_middleware.rb:9:in `with_sidekiq_server_middleware'\n          # ./spec/spec_helper.rb:363:in `block (2 levels) in \u003ctop (required)\u003e'\n          # ./spec/spec_helper.rb:359:in `block (3 levels) in \u003ctop (required)\u003e'\n          # ./lib/gitlab/application_context.rb:31:in `with_raw_context'\n          # ./spec/spec_helper.rb:359:in `block (2 levels) in \u003ctop (required)\u003e'\nFinished in 19 minutes 37 seconds (files took 44.1 seconds to load)\n```","state":"closed","created_at":"2021-06-09T00:19:47.142Z","updated_at":"2021-07-27T14:59:40.433Z","closed_at":"2021-07-27T14:59:40.416Z","closed_by":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"labels":["failure::flaky-test","severity::3","test","user profile"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"}],"author":{"id":419655,"username":"markglenfletcher","name":"Mark Fletcher","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/419655/avatar.png","web_url":"https://gitlab.com/markglenfletcher"},"type":"ISSUE","assignee":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333055","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333055","notes":"https://gitlab.com/api/v4/projects/278964/issues/333055/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333055/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333055","relative":"#333055","full":"gitlab-org/gitlab#333055"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88417848,"iid":333042,"project_id":278964,"title":"Add pronouns to snapshot view of gitlab user profile","description":"\u003c!-- This template is a great use for issues that are feature::additions or technical tasks for larger issues.--\u003e\n\n### Proposal \n\nFollowing up on the great work of \"[Adding a \"pronouns\" box for GitLab Profiles](https://gitlab.com/gitlab-org/gitlab/-/issues/332405)\", I was hoping we could add pronouns to the profile snapshot that pops up when you scroll over someone's name in an issue or MR. \n\nI added a workaround to my snapshot a while ago, by adding my pronouns after my title: \n\n\u003cimg src=\"/uploads/213ce67bf74c7f487b49087fefcd2d66/Screen_Shot_2021-06-08_at_1.33.24_PM.png\" width=\"500\"\u003e\n\nHowever, I think it would be great if people could see their pronouns automatically if they've entered in that info into their profile. \n\n**Reasons:**\n * People are likely to mis-gender someone when responding in an issue or MR. People can scroll over others' names to see info about who they are. Pronouns should be part of this snapshot.\n * As a non-engineer using GitLab, I usually scroll over people's names to have a basic understanding of who they are. I only go to their profile on rare occasion. Pronouns should appear by people's names as an introduction -- they might get hidden if they are just on the profile page.\n\n### Proposal\n\nWe should make pronouns show up in the snapshot view when you scroll over someone's name on an issue or MR. \n\nI'm not a designer, but I think pronouns belong close to the name. Here's my proposed mockup: \n\n\u003cimg src=\"/uploads/57501b59410eca13ccf32f08a530f4f6/Pronouns_Proposal.png\" width=\"400\"\u003e\n\n\n@manojmj \n\n--\u003e","state":"closed","created_at":"2021-06-08T21:10:56.866Z","updated_at":"2021-08-03T07:25:10.722Z","closed_at":"2021-06-21T17:17:41.873Z","closed_by":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"labels":["GitLab Core","GitLab Premium","GitLab Ultimate","devops::manage","frontend","group::authentication and authorization","release post item::secondary","section::dev","workflow::verification"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":4156460,"username":"ogolowinski","name":"Orit Golowinski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4156460/avatar.png","web_url":"https://gitlab.com/ogolowinski"},{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"}],"author":{"id":5371102,"username":"nuritzi","name":"Nuritzi Sanchez","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5371102/avatar.png","web_url":"https://gitlab.com/nuritzi"},"type":"ISSUE","assignee":{"id":4156460,"username":"ogolowinski","name":"Orit Golowinski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4156460/avatar.png","web_url":"https://gitlab.com/ogolowinski"},"user_notes_count":14,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333042","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333042","notes":"https://gitlab.com/api/v4/projects/278964/issues/333042/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333042/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333042","relative":"#333042","full":"gitlab-org/gitlab#333042"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88417186,"iid":333038,"project_id":278964,"title":"Fix alert positioning and content","description":"### Problem\n\nWhen we've created an on-call schedule, we display a tip alert letting users know that they should add a rotation. Then, when a user has successfully added a rotation, we display a second message, letting users know the rotation has successfully been added. \n\nWe currently display these two notifications separately:\n\n![Screen_Shot_2021-05-28_at_3.45.28_PM](/uploads/2ff26afa2c7e28a74c8022297f214320/Screen_Shot_2021-05-28_at_3.45.28_PM.png)\n\nShould we be stacking these notifications following the [new Pajamas guidelines](https://design.gitlab.com/components/alert#multiple-alerts)? \n\nFurther, when we introduce escalation policies, people will no longer automatically receive notifications when alerts are triggered. We mention escalation policies in our tip alert, but we don't make it clear why they are needed. Should we also consider clarifying this tip message to make that clearer?\n\n### Proposal\n\n1. Have the \"successfully created rotation\" success message replace the tip message when both are present.\n1. Have the \"successfully created rotation\" message display just under the `On-call schedule` header (where the tip alert is displaying currently).\n1. Update the copy of the tip alert to clarify that escalation policies are required for notifications to happen.\n\nOld copy:\n\u003e Your schedule has been successfully created. To add individual users to this schedule, use the add a rotation button. To create an escalation policy using this schedule, visit the [escalation policy]() page.\n\nNew copy:\n\u003e Your schedule has been successfully created. To add individual users to this schedule, use the Add a rotation button. To enable notifications for this schedule, you must also create an [escalation policy]().\n\n(Link should continue to direct people to the project's escalation policy page.)","state":"closed","created_at":"2021-06-08T20:52:25.933Z","updated_at":"2021-08-02T16:07:32.168Z","closed_at":"2021-08-02T16:07:32.153Z","closed_by":{"id":4339707,"username":"ohoral","name":"Olena Horal-Koretska","state":"active","avatar_url":"https://secure.gravatar.com/avatar/42796a7332b4608eb9785986719e7215?s=80\u0026d=identicon","web_url":"https://gitlab.com/ohoral"},"labels":["Category:Incident Management","UI text","UX","devops::monitor","group::respond","section::ops","workflow::verification"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":4339707,"username":"ohoral","name":"Olena Horal-Koretska","state":"active","avatar_url":"https://secure.gravatar.com/avatar/42796a7332b4608eb9785986719e7215?s=80\u0026d=identicon","web_url":"https://gitlab.com/ohoral"}],"author":{"id":2799498,"username":"ameliabauerly","name":"Amelia Bauerly","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2799498/avatar.png","web_url":"https://gitlab.com/ameliabauerly"},"type":"ISSUE","assignee":{"id":4339707,"username":"ohoral","name":"Olena Horal-Koretska","state":"active","avatar_url":"https://secure.gravatar.com/avatar/42796a7332b4608eb9785986719e7215?s=80\u0026d=identicon","web_url":"https://gitlab.com/ohoral"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333038","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333038","notes":"https://gitlab.com/api/v4/projects/278964/issues/333038/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333038/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333038","relative":"#333038","full":"gitlab-org/gitlab#333038"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88415223,"iid":333030,"project_id":278964,"title":"Problem validation: Slack and incident management workflows","description":"#### What did we learn?\n\n\u003c!-- Add information for this section after the research is complete. --\u003e\n\n| Results |\n| ------ |\n| Slack is seen as a communication and discussion tool for investigating alerts and incidents.  We found that people are manually adding decisions and summaries from Slack to their incident issue.  However, they are automating, simple repeatable tasks, like resolving and incident from within Slack. |\n| [Link](https://dovetailapp.com/projects/4dz88yM5ab3dcUiLuYiEQz/readme) to Dovetail project |\n\n## What’s this issue all about?\n\nWe've been building out a complete workflow for incident management that breaks down as follows:\n- Customer sets up alert integrations, which sends all of their alerts to Gitlab\n- Alerts are triaged within GitLab\n- If serious enough, alerts are promoted to an incident\n- Incident is worked on, and closed when it's resolved\n\nBut, there are some people (including our SRE team) that aren't utilizing the alerts portion of this workflow. Instead, they use Slack. That workflow looks roughly as follows:\n- Alerts are sent directly to Slack\n- Team reviews them there\n- If they are serious enough, an issue/incident is created to explore further\n\nWhile we do have a Slack integration - which sends the alert details to Slack, and links the Slack alert to the alert detail page - it's not as robust as some Slack apps like Slackline or Woodhouse, where you can silence alerts, see metrics and logs all within Slack. With those Slack apps, the initial triaging is presumably happening from Slack and then, if it's serious enough, an incident can be created directly from Slack, as well. \n\n### Who is the target user of the feature?\n\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n\n### What questions are you trying to answer?\n\n- Are we properly serving the Slack-to-Incident workflow currently, with the existing Slack integration?\n- If not, what features would we need to add to properly support teams working in this way?\n\n#### Core questions \n\n\u003c!-- What needs to be answered to move work forward? --\u003e\n\n- For people who are using incidents but not alerts - how are they currently getting their alerts? Is it in Slack or somewhere else?\n- What information do those Slack alerts contain?\n- What actions can they take on the alerts from Slack?\n- Is there a way to shore up the Slack-to-GitLab incident workflow so that people who are getting alerts in Slack can be more easily funneled into the incident workflow?\n\n#### Additional questions\n\n\u003c!-- Is there anything else you'd like to know? --\u003e\n\nIt'd be great to get a sense of whether improving our Slack integration for alerts/incidents would help better funnel people into our larger Incident Management workflow.\n\n### What hypotheses and/or assumptions do you have?\n\n- That people not sending alerts to GitLab are primarily sending them to Slack. But, is this true? Is there somewhere else they are getting their alerts instead?\n- That our current Slack integration isn't sufficient for people receiving alerts primarily in Slack. To properly triage alerts in Slack, we would need a proper Slack app for incident management workflow.\n\n### What decisions will you make based on the research findings?\n\nWhether or not we should further invest in/improve the Slack integration for incident management.\n\n## Plan \u0026 End Goal\n\nAs part of this issue, we'll tackle the following:\n\n* Document the current Slack integration functionality for the incident management workflow.\n* Have in-person sessions with both internal and external people to understand what they need from a Slack integration. With external people, we can have them show us their existing Slack workflow for alerts, to better understand what information they need to see in those alerts, and what features/functionalities should be supported as part of that workflow. With the internal people, we could talk to someone from the SRE team, and have them show us exactly what information they receive in Slack from Woodhouse, and what they think a Slack workflow for alerts/incidents should include.\n* End result - a (researched) list of features that a proper Slack integration for incident management would include, and a better idea of what we'd need to build to support that workflow.\n\n## Reach\n\n\u003c!-- Please quantify the problem's reach using the following values, considering an aggregate across GitLab.com and self-managed:\n\n10.0 = Impacts the vast majority (~80% or greater) of our users, prospects, or customers.\n6.0 = Impacts a large percentage (~50% to ~80%) of the above.\n3.0 = Significant reach (~25% to ~50%).\n1.5 = Small reach (~5% to ~25%).\n0.5 = Minimal reach (Less than ~5%). --\u003e\n\n## Impact\n\n\u003c!-- How do we positively impact the users above and GitLab's business by solving this problem? Please describe briefly, and provide a numerical assessment:\n\n3.0 = Massive impact\n2.0 = High impact\n1.0 = Medium impact\n0.5 = Low impact\n0.25 = Minimal impact --\u003e\n\n## Confidence\n\n\u003c!-- How do we know this is a problem? Please provide and link to any supporting information (e.g. data, customer verbatims) and use this basis to provide a numerical assessment on our confidence level in this problem's severity:\n\n100% = High confidence\n80% = Medium confidence\n50% = Low confidence --\u003e\n\n## Effort\n\n\u003c!-- How much effort do we think it will be to solve this problem? Please include all counterparts (Product, UX, Engineering, etc) in your assessment and quantify the number of person-months needed to dedicate to the effort.\n\nFor example, if the solution will take a product manager, designer, and engineer two weeks of effort - you may quantify this as 1.5 (based on 0.5 months x 3 people). --\u003e\n\n## Links\n\n[Dovetail project](https://dovetailapp.com/projects/4dz88yM5ab3dcUiLuYiEQz/readme)\n\n[Screener doc](https://docs.google.com/document/d/1sb55JcWFUCPxDS0PMnHQbIze-FfIaiEr1zt9J-j5VEI/edit?usp=sharing)\n\n[Screener preview](https://gitlab.fra1.qualtrics.com/jfe/preview/SV_0BpiLBOeugFQeLc?Q_CHL=preview\u0026Q_SurveyVersionID=current)\n\n[Discussion guide](https://docs.google.com/document/d/1_AeiU1c_3WgNhYfG1LLd6t6irr4kQZFQ1MbLYthIwMQ/edit?usp=sharing)\n\n[Mural (outlining current Slack integration workflow, as of 2021)](https://app.mural.co/invitation/mural/gitlab2474/1563486724782?sender=abauerly8152\u0026key=06151836-2f8a-4fa2-bdc8-0e5c8b329bae)\n\n[Notes](https://docs.google.com/spreadsheets/d/1BlBGHEWUorEY0U5Vex_oB4R2H_fAd935p20g9BKmHrU/edit?usp=sharing)","state":"closed","created_at":"2021-06-08T19:57:03.741Z","updated_at":"2022-08-12T20:46:34.836Z","closed_at":"2021-11-05T18:19:44.182Z","closed_by":{"id":9304687,"username":"abellucci","name":"Alana Bellucci","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9304687/avatar.png","web_url":"https://gitlab.com/abellucci"},"labels":["Category:Incident Management","Deliverable","UX problem validation","UX research","devops::monitor","group::respond","section::ops","workflow::validation backlog"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":2799498,"username":"ameliabauerly","name":"Amelia Bauerly","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2799498/avatar.png","web_url":"https://gitlab.com/ameliabauerly"},{"id":9304687,"username":"abellucci","name":"Alana Bellucci","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9304687/avatar.png","web_url":"https://gitlab.com/abellucci"}],"author":{"id":2799498,"username":"ameliabauerly","name":"Amelia Bauerly","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2799498/avatar.png","web_url":"https://gitlab.com/ameliabauerly"},"type":"ISSUE","assignee":{"id":2799498,"username":"ameliabauerly","name":"Amelia Bauerly","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2799498/avatar.png","web_url":"https://gitlab.com/ameliabauerly"},"user_notes_count":84,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333030","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333030","notes":"https://gitlab.com/api/v4/projects/278964/issues/333030/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333030/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333030","relative":"#333030","full":"gitlab-org/gitlab#333030"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88414500,"iid":333029,"project_id":278964,"title":"Solution validation for incident timelines","description":"\u003c!--Please answer the below questions to the best of your ability.--\u003e\n\n#### What's this issue all about? (Background and context)\n\nWe've come up with [initial designs](https://gitlab.com/gitlab-org/gitlab/-/issues/330901) for building out incident timelines. Is what we've come up with usable and appropriate for people triaging incidents?\n\n#### What hypotheses and/or assumptions do you have?\n\nGuessing that the ability to add a comment to a timeline is a bit too hidden currently.\n\n#### What questions are you trying to answer?\n\n- Does it make sense to have the timeline in a separate tab?\n- Which activity feed items do people want to see in there? If it's a choice between all or none, which would people choose?\n- How important is the slash command method of adding a comment to the timeline?\n- Can people find the hover edit options on the timeline?\n- Does that method work for editing?\n- Is there any important functionality missing?\n- Which timezone would people prefer to see their timelines in? Does that need to be customizable?\n\n#### What research methodology do you intend to use?\n\n\u003c!-- What needs to be answered to move work forward? If you have a completed Opportunity Canvas include a link.--\u003e\n\nLive usability test with at least 5 participants. Have sufficient volunteers from GitLab's SRE team so will focus on them, since they will also be dogfooding the feature.\n\n#### What persona, persona segment, or customer type experiences the problem most acutely?\n\nDevon, DevOps Engineer\nSidney, System Admin\n\n#### What business decisions will be made based on this information?\n\nIf/how to proceed with implementation of incident timelines\n\n#### What, if any, relevant prior research already exists?\n\n\u003c!-- Have a look at our UXR_Insights repo: https://gitlab.com/gitlab-org/uxr_insights --\u003e\n\n#### Who will be leading the research?\n\nAmelia\n\n#### What timescales do you have in mind for the research?\n\nTrying to get the bulk of it done in 14.1\n\n#### Relevant links (problem validation issue, design issue, script, prototype, notes, etc.)\n\n[Design issue](https://gitlab.com/gitlab-org/gitlab/-/issues/330901)\n\n[Figma file](https://www.figma.com/file/01efUzilO8y3FZndx4Kt14/Incident-timelines-gitlab-com-and-330901?node-id=63%3A342)\n\n[Testing script](https://docs.google.com/document/d/13TEy0LdGMu0FDE1G2smkbG7hgnl80WKgBKa9c0XGKSY/edit?usp=sharing)\n\n[Prototype](https://www.figma.com/proto/01efUzilO8y3FZndx4Kt14/Incident-timelines-gitlab-com-and-330901?node-id=759%3A24984\u0026scaling=min-zoom\u0026page-id=759%3A12247\u0026hotspot-hints=0)\n\n[Dovetail project](https://dovetailapp.com/projects/88fa4b65-017a-4b7a-8589-f006cb165f3d/readme)\n\n[Notes doc](https://docs.google.com/spreadsheets/d/1-742tnHPd19wQQLisqn5elrhRqTdZ3mNfmjMf1uoqfs/edit?usp=sharing)\n\n[Insights](https://dovetailapp.com/projects/88fa4b65-017a-4b7a-8589-f006cb165f3d/insights/present)\n\n\u003c!-- #### TODO Checklist\n Consider adding a checklist in order to keep track of what stage the research is up to. Some possible checklist templates are here:\n https://about.gitlab.com/handbook/engineering/ux/ux-research-training/templates-resources-for-research-studies/#checklists\n --\u003e","state":"closed","created_at":"2021-06-08T19:34:23.128Z","updated_at":"2022-04-26T18:05:50.401Z","closed_at":"2021-07-16T04:19:55.719Z","closed_by":{"id":2799498,"username":"ameliabauerly","name":"Amelia Bauerly","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2799498/avatar.png","web_url":"https://gitlab.com/ameliabauerly"},"labels":["Category:Incident Management","UX solution validation","devops::monitor","group::respond","section::ops","workflow::solution validation"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":2799498,"username":"ameliabauerly","name":"Amelia Bauerly","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2799498/avatar.png","web_url":"https://gitlab.com/ameliabauerly"}],"author":{"id":2799498,"username":"ameliabauerly","name":"Amelia Bauerly","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2799498/avatar.png","web_url":"https://gitlab.com/ameliabauerly"},"type":"ISSUE","assignee":{"id":2799498,"username":"ameliabauerly","name":"Amelia Bauerly","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2799498/avatar.png","web_url":"https://gitlab.com/ameliabauerly"},"user_notes_count":15,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333029","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333029","notes":"https://gitlab.com/api/v4/projects/278964/issues/333029/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333029/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333029","relative":"#333029","full":"gitlab-org/gitlab#333029"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6376,"epic":{"id":309777,"iid":6376,"title":"Incident Timelines","url":"/groups/gitlab-org/-/epics/6376","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":88413026,"iid":333025,"project_id":278964,"title":"Support multiple batch columns for batched background migrations","description":"The current batched background migration framework makes the assumption that a table will only be batched over a single column. Even in the default strategy that uses on primary key batching, this is a poor assumption to make, as some tables have multi-column primary keys.\n\nNow that the migration framework has proven itself, we should expand to support multiple batch columns to better support other use cases.\n\nOne hurdle here is that the `PrimaryKeyBatchingStrategy` depends on `EachBatch`, which only supports a single column.","state":"closed","created_at":"2021-06-08T18:52:43.211Z","updated_at":"2022-07-16T20:56:41.915Z","closed_at":"2022-07-14T15:46:52.185Z","closed_by":{"id":480097,"username":"alexives","name":"Alex Ives","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480097/avatar.png","web_url":"https://gitlab.com/alexives"},"labels":["Category:Database","Engineering Allocation","devops::data_stores","group::database","section::enablement","type::feature"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":5297955,"username":"pbair","name":"Patrick Bair","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5297955/avatar.png","web_url":"https://gitlab.com/pbair"},"type":"ISSUE","assignee":null,"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333025","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333025","notes":"https://gitlab.com/api/v4/projects/278964/issues/333025/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333025/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333025","relative":"#333025","full":"gitlab-org/gitlab#333025"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7454,"epic":{"id":428836,"iid":7454,"title":"Batched Background Migrations: improve developer experience","url":"/groups/gitlab-org/-/epics/7454","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":88412652,"iid":333023,"project_id":278964,"title":"Engineering Research: Replace License Finder - OSS or roll our own","description":"Check out this epic - https://gitlab.com/groups/gitlab-org/-/epics/2713\n\n\nWhat I would like during 14.2\n- Evaluate the OSS tools for license compliance out there\n- select the best (by our criterion)\n- Also make a plan as if we decided to write our own\n- then give a pro con list for those (like GAP analysis + some pro cons)\n\nAfter discussing we will plan for 14.3 a POC on either write our own, or replace with X\n\n### Testing\n\nBased on the list - https://gitlab-org.gitlab.io/quality/ci/secure-test-project-orchestrator/ - sorted by `license-scanning` - SET should ensure tests for supported test projects pass the License Scanning and QA jobs.","state":"closed","created_at":"2021-06-08T18:40:54.250Z","updated_at":"2021-11-29T03:21:20.350Z","closed_at":"2021-11-23T02:57:25.828Z","closed_by":{"id":3913516,"username":"NicoleSchwartz","name":"Nicole Schwartz","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3913516/avatar.png","web_url":"https://gitlab.com/NicoleSchwartz"},"labels":["Category:License Compliance","Deliverable","Enterprise Edition","GitLab Ultimate","[deprecated] Accepting merge requests","backend","devops::secure","group::composition analysis","quad-planning::complete-action","section::sec","type::feature","workflow::ready for development"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":3913516,"username":"NicoleSchwartz","name":"Nicole Schwartz","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3913516/avatar.png","web_url":"https://gitlab.com/NicoleSchwartz"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333023","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":8,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333023","notes":"https://gitlab.com/api/v4/projects/278964/issues/333023/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333023/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":"https://gitlab.com/api/v4/projects/278964/issues/343399"},"references":{"short":"#333023","relative":"#333023","full":"gitlab-org/gitlab#333023"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2713,"epic":{"id":23450,"iid":2713,"title":"Engineering Research: How do we advance alternate license scanning","url":"/groups/gitlab-org/-/epics/2713","group_id":9970,"human_readable_end_date":"Mar 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88411982,"iid":333022,"project_id":278964,"title":"FE: New Service Ping sub-setting for registration features - helpful text","description":"## Summary \n\nIn https://gitlab.com/gitlab-org/gitlab/-/issues/333018 we created a new sub-setting of Service Ping in SM instances. In this issue, we will iterate by providing helpful text to explain to users when the feature setting is available.\n\nPlease refer to [Epic](https://gitlab.com/groups/gitlab-org/-/epics/6144) description for SSOT of requirements and designs.","state":"closed","created_at":"2021-06-08T18:24:33.222Z","updated_at":"2021-07-18T07:09:14.566Z","closed_at":"2021-07-01T07:10:23.671Z","closed_by":{"id":8198564,"username":"rkadam3","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8198564/avatar.png","web_url":"https://gitlab.com/rkadam3"},"labels":["Deliverable","devops::growth","frontend","group::product intelligence","section::growth","type::feature","workflow::production"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":8198564,"username":"rkadam3","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8198564/avatar.png","web_url":"https://gitlab.com/rkadam3"}],"author":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"type":"ISSUE","assignee":{"id":8198564,"username":"rkadam3","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8198564/avatar.png","web_url":"https://gitlab.com/rkadam3"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333022","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333022","notes":"https://gitlab.com/api/v4/projects/278964/issues/333022/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333022/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333022","relative":"#333022","full":"gitlab-org/gitlab#333022"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6144,"epic":{"id":285878,"iid":6144,"title":"Registration Features - MVC","url":"/groups/gitlab-org/-/epics/6144","group_id":9970,"human_readable_end_date":"Jul 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88411902,"iid":333021,"project_id":278964,"title":"FE: New Service Ping sub-setting for registration features - conditional behavior","description":"## Summary \n\nIn https://gitlab.com/gitlab-org/gitlab/-/issues/333018 we created a new sub-setting of Service Ping in SM instances. In this issue, we will iterate on the conditional behavior of this setting.\n\n\u003eIf Service Ping is set to `Off` , the new setting becomes unavailable for selection and automatically set to `No` where it was previously flipped `On` *(new)*\n\nPlease refer to [Epic](https://gitlab.com/groups/gitlab-org/-/epics/6144) description for SSOT of requirements and designs.\n\n## Success Criteria \n\nWhen Service Ping is `Off`: https://gitlab.com/gitlab-org/gitlab/-/issues/333021\n\n1. The new sub-setting is set to `Off`\n1. The new sub-setting is disabled for selection\n1. The instance no longer receives the [paid feature](https://gitlab.com/groups/gitlab-org/-/epics/6144#feature-set)","state":"closed","created_at":"2021-06-08T18:22:40.692Z","updated_at":"2021-07-01T07:11:27.384Z","closed_at":"2021-07-01T07:11:27.148Z","closed_by":{"id":8198564,"username":"rkadam3","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8198564/avatar.png","web_url":"https://gitlab.com/rkadam3"},"labels":["devops::growth","frontend","group::product intelligence","section::growth","type::feature","workflow::production"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":8198564,"username":"rkadam3","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8198564/avatar.png","web_url":"https://gitlab.com/rkadam3"}],"author":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"type":"ISSUE","assignee":{"id":8198564,"username":"rkadam3","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8198564/avatar.png","web_url":"https://gitlab.com/rkadam3"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333021","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333021","notes":"https://gitlab.com/api/v4/projects/278964/issues/333021/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333021/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333021","relative":"#333021","full":"gitlab-org/gitlab#333021"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6144,"epic":{"id":285878,"iid":6144,"title":"Registration Features - MVC","url":"/groups/gitlab-org/-/epics/6144","group_id":9970,"human_readable_end_date":"Jul 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88411728,"iid":333019,"project_id":278964,"title":"BE: New Service Ping sub-setting for registration features","description":"## Summary\n\nThis is the ~backend  issue for creating a new SM admin setting. Please refer to [Epic](https://gitlab.com/groups/gitlab-org/-/epics/6144) description for SSOT of requirements and designs.","state":"closed","created_at":"2021-06-08T18:18:32.996Z","updated_at":"2021-07-01T07:04:23.695Z","closed_at":"2021-07-01T07:04:23.679Z","closed_by":{"id":8198564,"username":"rkadam3","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8198564/avatar.png","web_url":"https://gitlab.com/rkadam3"},"labels":["backend","devops::growth","group::product intelligence","section::growth","type::feature","workflow::production"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":8198564,"username":"rkadam3","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8198564/avatar.png","web_url":"https://gitlab.com/rkadam3"}],"author":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"type":"ISSUE","assignee":{"id":8198564,"username":"rkadam3","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8198564/avatar.png","web_url":"https://gitlab.com/rkadam3"},"user_notes_count":27,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333019","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333019","notes":"https://gitlab.com/api/v4/projects/278964/issues/333019/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333019/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333019","relative":"#333019","full":"gitlab-org/gitlab#333019"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6144,"epic":{"id":285878,"iid":6144,"title":"Registration Features - MVC","url":"/groups/gitlab-org/-/epics/6144","group_id":9970,"human_readable_end_date":"Jul 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88411678,"iid":333018,"project_id":278964,"title":"FE: New Service Ping sub-setting for registration features","description":"## Summary\n\nThis is the ~frontend issue for creating a new SM admin setting. Please refer to [Epic](https://gitlab.com/groups/gitlab-org/-/epics/6144) description for SSOT of requirements and designs.","state":"closed","created_at":"2021-06-08T18:16:55.768Z","updated_at":"2021-07-18T07:09:14.621Z","closed_at":"2021-07-01T07:11:51.626Z","closed_by":{"id":8198564,"username":"rkadam3","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8198564/avatar.png","web_url":"https://gitlab.com/rkadam3"},"labels":["Deliverable","devops::growth","frontend","group::product intelligence","section::growth","workflow::production"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":8198564,"username":"rkadam3","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8198564/avatar.png","web_url":"https://gitlab.com/rkadam3"}],"author":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"type":"ISSUE","assignee":{"id":8198564,"username":"rkadam3","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8198564/avatar.png","web_url":"https://gitlab.com/rkadam3"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333018","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333018","notes":"https://gitlab.com/api/v4/projects/278964/issues/333018/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333018/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333018","relative":"#333018","full":"gitlab-org/gitlab#333018"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6144,"epic":{"id":285878,"iid":6144,"title":"Registration Features - MVC","url":"/groups/gitlab-org/-/epics/6144","group_id":9970,"human_readable_end_date":"Jul 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88403506,"iid":333002,"project_id":278964,"title":"Reset job_token_scope_enabled to false until FF is enabled by default","description":"The following discussion from !63446 should be addressed:\n\n- [ ] @furkanayhan started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/63446#note_595270240):  (+1 comment)\n\n    \u003e I see that we set `default: false` to mark existing projects as `false`. However, because we want new projects to have `default: true`, do you think it's a good idea that we also add a migration to [change the column default](https://docs.gitlab.com/ee/development/migration_style_guide.html#changing-the-column-default) to `true` after this?\n    \u003e \n    \u003e ```suggestion:-0+0\n    \u003e       add_column :project_ci_cd_settings, :job_token_scope_enabled, :boolean, default: false, null: false\n    \u003e       change_column_default project_ci_cd_settings, :job_token_scope_enabled, from: false, to: true\n    \u003e ```\n\n\u003e   @fabiopitino: I think it's a good idea! I prefer that to be a separate migration / MR.\n\n## Proposal\n\nSince !63446 we have added a default value `true` for this setting when a new project is created. This causes the project to potentially use CI_JOB_TOKEN with full permissions. Once we enable the feature flag this use case could be a breaking change.\n\n- [x] drop column `project_ci_cd_settings.job_token_scope_enabled` and readd it to avoid migrating data from `true -\u003e false` before we enable the feature flag or migrate the data.\n- [x] remove the `default: true` value [at model level](https://gitlab.com/gitlab-org/gitlab/-/blob/b93992b0e76b982df0b62d99c2881a37c37036de/app/models/project_ci_cd_setting.rb#L19)\n- [x] readd the `default: true` value only after the feature flag has been enabled globally - with migration to change the default value at db level","state":"closed","created_at":"2021-06-08T15:31:00.631Z","updated_at":"2021-10-28T13:56:08.758Z","closed_at":"2021-07-14T14:47:27.384Z","closed_by":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"labels":["Category:Continuous Integration","Verify::P2","backend","devops::verify","group::pipeline execution","section::ops","type::maintenance","workflow::production"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"}],"author":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"type":"ISSUE","assignee":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/333002","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":3},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/333002","notes":"https://gitlab.com/api/v4/projects/278964/issues/333002/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/333002/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#333002","relative":"#333002","full":"gitlab-org/gitlab#333002"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":88400853,"iid":332994,"project_id":278964,"title":"Run database migration on gitlab.com to recalculate artifact sizes","description":"\u003c!-- This issue template can be used a great starting point for feature requests. The last section \"Release notes\" can be used as a summary of the feature and is also required if you want to have your release post blog MR auto generated using the release post item generator:  https://about.gitlab.com/handbook/marketing/blog/release-posts/#release-post-item-generator. The remaining sections are the backbone for every feature in GitLab. --\u003e\n\n### Release notes \n\n\u003c!-- What is the problem and solution you're proposing? This content sets the overall vision for the feature and serves as the release notes that will populate in various places, including the [release post blog](https://about.gitlab.com/releases/categories/releases/) and [Gitlab project releases](https://gitlab.com/gitlab-org/gitlab/-/releases). \" --\u003e\n\n### Problem to solve \n\nAs a project maintainer reviewing usage quota, I want to be confident Build artifacts size is calculated correctly, so I can hit my budget.\n\n\u003c!-- What is the user problem you are trying to solve with this issue? --\u003e\n\n### Proposal \n\nAfter [the script](https://gitlab.com/gitlab-org/gitlab/-/issues/238536) to recalculate all artifact sizes is completed run it against the gitlab.com instance to refresh the usage statistics counters for all projects. \n\n\u003c!-- Use this section to explain the feature and how it will work. It can be helpful to add technical details, design proposals, and links to related epics or issues. --\u003e\n\n\n\n\u003c!--- Use the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n\nConsider adding related issues and epics to this issue. You can also reference the Feature Proposal Template (https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal%20-%20detailed.md) for additional details to consider adding to this issue. Additionally, as a data oriented organization, when your feature exits planning breakdown, consider adding the `What does success look like, and how can we measure that?` section.\n\nOther sections to consider adding: \n\n### Intended users\n\nWho will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n\n* [Cameron (Compliance Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#cameron-compliance-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager) \n* [Alex (Security Operations Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#alex-security-operations-engineer)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops) \n* [Priyanka (Platform Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#priyanka-platform-engineer)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n\n\n### User experience goal\n\nWhat is the single user experience workflow this problem addresses? \nFor example, \"The user should be able to use the UI/API/.gitlab-ci.yml with GitLab to \u003cperform a specific task\u003e\"\nhttps://about.gitlab.com/handbook/engineering/ux/ux-research-training/user-story-mapping/ \n\n\n### Further details\n\nInclude use cases, benefits, goals, or any other details that will help us understand the problem better. \n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?\nConsider adding checkboxes and expectations of users with certain levels of membership https://docs.gitlab.com/ee/user/permissions.html\n* [ ] Add expected impact to members with no access (0)\n* [ ] Add expected impact to Guest (10) members\n* [ ] Add expected impact to Reporter (20) members\n* [ ] Add expected impact to Developer (30) members \n* [ ] Add expected impact to Maintainer (40) members\n* [ ] Add expected impact to Owner (50) members \n\n### Documentation\n\n See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/workflow.html#for-a-product-change\n\n* Add all known Documentation Requirements in this section. See https://docs.gitlab.com/ee/development/documentation/workflow.html\n* If this feature requires changing permissions, update the permissions document. See https://docs.gitlab.com/ee/user/permissions.html \n\n### Availability \u0026 Testing\n\nThis section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning \n\n### What does success look like, and how can we measure that?\n\nDefine both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. \n\n### What is the type of buyer?\n\nWhat is the buyer persona for this feature? See https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/buyer-persona/\nIn which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#three-tiers\n\n### Is this a cross-stage feature?\n\nCommunicate if this change will affect multiple Stage Groups or product areas. We recommend always start with the assumption that a feature request will have an impact into another Group. Loop in the most relevant PM and Product Designer from that Group to provide strategic support to help align the Group's broader plan and vision, as well as to avoid UX and technical debt. https://about.gitlab.com/handbook/product/#cross-stage-features --\u003e\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2021-06-08T14:48:52.607Z","updated_at":"2022-09-16T17:00:02.664Z","closed_at":"2022-06-14T11:10:18.254Z","closed_by":{"id":1758950,"username":"iamricecake","name":"Erick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1758950/avatar.png","web_url":"https://gitlab.com/iamricecake"},"labels":["Category:Build Artifacts","FY23::Q1","GitLab Free","OKR","Verify::P1","devops::verify","direction","documentation","group::pipeline insights","missed:14.10","missed:14.8","missed:14.9","missed:15.0","priority::2","section::ops","severity::2","type::maintenance","workflow::in dev"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":1758950,"username":"iamricecake","name":"Erick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1758950/avatar.png","web_url":"https://gitlab.com/iamricecake"}],"author":{"id":4512666,"username":"jheimbuck_gl","name":"James Heimbuck","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8dd2ef9c1cacb6e80d7ca47db6f0ce22?s=80\u0026d=identicon","web_url":"https://gitlab.com/jheimbuck_gl"},"type":"ISSUE","assignee":{"id":1758950,"username":"iamricecake","name":"Erick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1758950/avatar.png","web_url":"https://gitlab.com/iamricecake"},"user_notes_count":84,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/332994","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/332994","notes":"https://gitlab.com/api/v4/projects/278964/issues/332994/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/332994/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#332994","relative":"#332994","full":"gitlab-org/gitlab#332994"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5380,"epic":{"id":200887,"iid":5380,"title":"Statistics artifacts_size is broken","url":"/groups/gitlab-org/-/epics/5380","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":88399059,"iid":332993,"project_id":278964,"title":"DAST Scanner Profile doesn't return data on redirection","description":"### Summary\n\nDAST Profiles have a feature which redirects user to their previous page upon form submit, if user comes from On-demand scans. This feature also send update profile ids, so that On-demand scans can pre-populate them and makes UX smooth.\n\n### Bug\n\nThe redirected url is missing the query params for updated scanner profiles. This issue is specific to scanner profiles and not site profiles.\n\n### Steps to reproduce\n\n1. Create an On-demand Scans\n2. Select create scanner profile from the dropdown\n3. Create profile\n4. The redirected url doesn't have profile id in the query params\n\n### Example Project\n\nhttps://gitlab.com/gitlab-org/security-products/dast-site-profile-testing/\n\n### Implementation Plan\n\n- [x] Fix factory params to send data without object destructuring \n   - Refer `ee/app/assets/javascripts/security_configuration/dast_scanner_profiles/dast_scanner_profiles_bundle.js`","state":"closed","created_at":"2021-06-08T14:31:50.722Z","updated_at":"2021-06-28T01:13:34.662Z","closed_at":"2021-06-28T01:13:34.650Z","closed_by":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"labels":["Category:DAST","devops::secure","group::dynamic analysis","priority::3","section::sec","severity::3","type::bug","workflow::production"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"}],"author":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"type":"ISSUE","assignee":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/332993","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":1},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/332993","notes":"https://gitlab.com/api/v4/projects/278964/issues/332993/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/332993/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#332993","relative":"#332993","full":"gitlab-org/gitlab#332993"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88393258,"iid":332982,"project_id":278964,"title":"[Feature flag] Rollout of `github_review_importer_query_only_unimported_merge_requests`","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout [the feature](ISSUE LINK) on production,\nthat is currently behind the `github_review_importer_query_only_unimported_merge_requests` feature flag.\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\n## Owners\n\n- Team: ~\"group::import\" \n- Most appropriate slack channel to reach out to: `#g_manage_import`\n- Best individual to reach out to: @kassio\n- PM: @hdelalic \n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## The Rollout Plan\n\n- Feature flag is for damage control. In case the changes added in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/62036 became performance issues, the feature flag can be used to toggle back to the previous way of fetching Merge Requests to perform the review importer.\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? Sentry errors reports can also be useful to review --\u003e\n\n## Expectations\n\n### What are we expecting to happen?\n\n\u003c!-- Describe the expected outcome when rolling out this feature --\u003e\n\n### What might happen if this goes wrong?\n\n\u003c!-- Should the feature flag be turned off? Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- [ ] Ensure that the feature MRs have been deployed to non-production environments.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [ ] Enable the feature globally on non-production environments.\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e true --dev`\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e true --staging`\n- [ ] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Preparation before production rollout\n\n- [ ] Ensure that the feature MRs have been deployed to both production and canary.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [ ] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [ ] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [ ] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [ ] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com.\n- [ ] If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), enable it on GitLab.com for [testing groups/projects](#testing-groupsprojectsusers).\n    - [ ] `/chatops run feature set --\u003cactor-type\u003e=\u003cactor\u003e \u003cfeature-flag-name\u003e true`\n- [ ] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Global rollout on production\n\n- [ ] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e`\n  - Enable the feature globally on production environment.\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e true`\n- [ ] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [ ] Cross-post chatops slack command to `#support_gitlab-com`.\n  ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)) and in your team channel\n- [ ] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [ ] Create a merge request with the following changes. Ask for review and merge it.\n    - [ ] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the above MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [ ] Create a merge request to remove `github_review_importer_query_only_unimported_merge_requests` feature flag. Ask for review and merge it.\n    - [ ] Remove all references to the feature flag from the codebase.\n    - [ ] Remove the YAML definitions for the feature from the repository.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n    - [ ] Remove the `Gitlab::GithubImport::Client#pull_request_reviews` method\n- [ ] Ensure that the above MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --dev`\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --staging`\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e`\n- [ ] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set github_review_importer_query_only_unimported_merge_requests false\n```","state":"closed","created_at":"2021-06-08T13:22:45.453Z","updated_at":"2021-08-11T14:44:30.773Z","closed_at":"2021-08-11T14:44:30.760Z","closed_by":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"labels":["Importer:GitHub","Next Up","backend","devops::manage","feature flag","group::import","section::dev","workflow::production"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"}],"author":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"type":"ISSUE","assignee":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/332982","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":42,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 42 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/332982","notes":"https://gitlab.com/api/v4/projects/278964/issues/332982/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/332982/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#332982","relative":"#332982","full":"gitlab-org/gitlab#332982"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3051,"epic":{"id":39431,"iid":3051,"title":"💡 GitHub Importer improvements","url":"/groups/gitlab-org/-/epics/3051","group_id":9970},"iteration":null,"health_status":null},{"id":88392598,"iid":332981,"project_id":278964,"title":"x-axis on coverage graph not proportional","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nThe x-Axis on the coverage chart is out of proportion, there is one tick per day that coverage was collected, but the distance between the days is not time-proportional.\n\n![image](/uploads/3a4dd328beb4839a972ee37aeb1c4455/image.png)\n\n### Steps to reproduce\n\nOccured on gitlab 13.11.1 – guess this happens on all coverage graphs, but it's easier to spot when looking at a repository that only had recently enabled coverage collection *and* where subsequent pipelines did not run for at least 2 days.\n\n### What is the current *bug* behavior?\n\nThere is one tick per day that coverage was collected, but the distance between the days is not time-proportional.\n\n### What is the expected *correct* behavior?\n\nThere should be one data point per coverage run – or at least coverage collected from the last pipeline run on the default branch (the latter is being dealt with in https://gitlab.com/gitlab-org/gitlab/-/issues/331848) and most importantly: the distance between data points should be time-proportional.\n\nSo, in the example screenshot provided above there should be x-axis ticks for \"May 22\", \"May 23, \"May 24\", \"May 29\", \"May 30\", \"Jun 03\", \"Jun 05\", \"Jun 06\" and \"Jun 07\" shown so the time axis is laid out correctly.\n\n### Output of checks\n\nUnfortunately i don't have admin access to that gitlab instance.\n\n#### Results of GitLab environment info\n\n%\n\n#### Results of GitLab application Check\n\n%\n\n### Technical Proposal\n\nThe current implementation has the x-axis type set as `category` when it should be set instead as `time`.\n\nIn [code_coverage.vue](https://gitlab.com/gitlab-org/gitlab/-/blob/b5084e3d465c6b4443260be17d696b444989201d/app/assets/javascripts/pages/projects/graphs/components/code_coverage.vue#L41) we can change it to the following:\n\n```js\n        xAxis: {\n          name: '',\n          type: 'time',\n          axisLabel: {\n            formatter: (value) =\u003e dateFormat(value, 'mmm dd'),\n          },\n        },\n```\n\nWe'll also need to change the `formattedData` computed value to not format the date so that the chart component can still use it as an expected date. Instead we'll rely on the above example's `formatter` function.\n\n[`formattedData` function change:](https://gitlab.com/gitlab-org/gitlab/-/blob/b5084e3d465c6b4443260be17d696b444989201d/app/assets/javascripts/pages/projects/graphs/components/code_coverage.vue#L76)\n\n```js\n    formattedData() {\n      return this.sortedData.map((value) =\u003e [value.date, value.coverage]);\n    },\n```\n\n| Before | After |\n| ------ | ------ |\n| ![Screen_Shot_2022-04-15_at_12.37.04_PM](/uploads/339b2e6df8081eae9daf8aa1cc543bbe/Screen_Shot_2022-04-15_at_12.37.04_PM.png) | ![Screen_Shot_2022-04-15_at_12.36.31_PM](/uploads/3d1b069ac18c7e9d26c30e3af18149f7/Screen_Shot_2022-04-15_at_12.36.31_PM.png) |","state":"closed","created_at":"2021-06-08T13:12:11.223Z","updated_at":"2022-06-01T19:02:19.424Z","closed_at":"2022-06-01T18:45:26.526Z","closed_by":{"id":3374280,"username":"mfluharty","name":"Miranda Fluharty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3374280/avatar.png","web_url":"https://gitlab.com/mfluharty"},"labels":["Category:Code Testing and Coverage","Hackathon","SUS::Impacting","UI polish","UX","Verify::P1","devops::verify","frontend","good for new contributors","group::pipeline insights","priority::4","section::ops","severity::4","type::bug","workflow::verification"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":3374280,"username":"mfluharty","name":"Miranda Fluharty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3374280/avatar.png","web_url":"https://gitlab.com/mfluharty"}],"author":{"id":342927,"username":"Philzen","name":"Phil","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/342927/AndroPhil.png","web_url":"https://gitlab.com/Philzen"},"type":"ISSUE","assignee":{"id":3374280,"username":"mfluharty","name":"Miranda Fluharty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3374280/avatar.png","web_url":"https://gitlab.com/mfluharty"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/332981","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/332981","notes":"https://gitlab.com/api/v4/projects/278964/issues/332981/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/332981/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#332981","relative":"#332981","full":"gitlab-org/gitlab#332981"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5454,"epic":{"id":212455,"iid":5454,"title":"Verify:Testing - UI Polish","url":"/groups/gitlab-org/-/epics/5454","group_id":9970,"human_readable_end_date":"Jan 31, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":88387995,"iid":332974,"project_id":278964,"title":"Git over HTTP(S) stopped working (HTTP Basic: Access denied)","description":"### Summary\n\nAfter some of the latest updates (13.12.3) Git over HTTP(S) stopped working on our private Gitlab CE instance. \n\n### What is the current *bug* behavior?\n\n```\nuser@server:$ git clone https://gitlab.../issues.git\nCloning into 'issues'...\nUsername for 'https://gitlab...': username\nPassword for 'https://username@gitlab...':\nremote: HTTP Basic: Access denied\nfatal: Authentication failed for 'https://gitlab.../username/issues.git/'\n```\n\n### What is the expected *correct* behavior?\n\n```\nuser@server:$ git clone https://github.com/ImDwivedi1/Git-Example.git\nCloning into 'Git-Example'...\nremote: Enumerating objects: 31, done.\nremote: Counting objects: 100% (31/31), done.\nremote: Compressing objects: 100% (26/26), done.\nremote: Total 31 (delta 7), reused 6 (delta 1), pack-reused 0\nUnpacking objects: 100% (31/31), done.\n```\n\n### Relevant logs and/or screenshots\n![image](/uploads/95d8d42774ae22804eb49aae0fc3d818/image.png)\n\n### Output of checks\n\n#### Results of GitLab environment info\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\nSystem information\nSystem:\nCurrent User:   git\nUsing RVM:      no\nRuby Version:   2.7.2p137\nGem Version:    3.1.4\nBundler Version:2.1.4\nRake Version:   13.0.3\nRedis Version:  6.0.12\nGit Version:    2.31.1\nSidekiq Version:5.2.9\nGo Version:     unknown\n\nGitLab information\nVersion:        13.12.3\nRevision:       757327a59bc\nDirectory:      /opt/gitlab/embedded/service/gitlab-rails\nDB Adapter:     PostgreSQL\nDB Version:     12.6\nURL:            https://gitlab...\nHTTP Clone URL: https://gitlab.../some-group/some-project.git\nSSH Clone URL:  git@gitlab...:some-group/some-project.git\nUsing LDAP:     yes\nUsing Omniauth: yes\nOmniauth Providers:\n\nGitLab Shell\nVersion:        13.18.0\nRepository storage paths:\n- default:      /var/opt/gitlab/git-data/repositories\nGitLab Shell path:              /opt/gitlab/embedded/service/gitlab-shell\nGit:            /opt/gitlab/embedded/bin/git\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\nChecking GitLab subtasks ...\n\nChecking GitLab Shell ...\n\nGitLab Shell: ... GitLab Shell version \u003e= 13.18.0 ? ... OK (13.18.0)\nRunning /opt/gitlab/embedded/service/gitlab-shell/bin/check\nInternal API available: OK\nRedis available via internal API: OK\ngitlab-shell self-check successful\n\nChecking GitLab Shell ... Finished\n\nChecking Gitaly ...\n\nGitaly: ... default ... OK\n\nChecking Gitaly ... Finished\n\nChecking Sidekiq ...\n\nSidekiq: ... Running? ... yes\nNumber of Sidekiq processes (cluster/worker) ... 1/1\n\nChecking Sidekiq ... Finished\n\nChecking Incoming Email ...\n\nIncoming Email: ... Reply by email is disabled in config/gitlab.yml\n\nChecking Incoming Email ... Finished\n\nChecking LDAP ...\n\nLDAP: ... Server: ldapmain\nLDAP authentication... Success\nLDAP users with access to your GitLab server (only showing the first 100 results)\n        User output sanitized. Found 100 users of 100 limit.\n\nChecking LDAP ... Finished\n\nChecking GitLab App ...\n\nGit configured correctly? ... yes\nDatabase config exists? ... yes\nAll migrations up? ... yes\nDatabase contains orphaned GroupMembers? ... no\nGitLab config exists? ... yes\nGitLab config up to date? ... yes\nLog directory writable? ... yes\nTmp directory writable? ... yes\nUploads directory exists? ... yes\nUploads directory has correct permissions? ... yes\nUploads directory tmp has correct permissions? ... yes\nInit script exists? ... skipped (omnibus-gitlab has no init script)\nInit script up-to-date? ... skipped (omnibus-gitlab has no init script)\nProjects have namespace: ...\n4/3 ... yes\n35/10 ... yes\n35/11 ... yes\n35/12 ... yes\n35/13 ... yes\n35/14 ... yes\n35/15 ... yes\n35/16 ... yes\n48/18 ... yes\n35/19 ... yes\n50/24 ... yes\n4/26 ... yes\n48/30 ... yes\n48/31 ... yes\n35/32 ... yes\n48/33 ... yes\n48/34 ... yes\n50/35 ... yes\n35/36 ... yes\n51/38 ... yes\n51/39 ... yes\n4/40 ... yes\n48/42 ... yes\n51/43 ... yes\n51/44 ... yes\n35/45 ... yes\n48/46 ... yes\n48/48 ... yes\n48/49 ... yes\n48/56 ... yes\n48/57 ... yes\n51/58 ... yes\n48/59 ... yes\n48/60 ... yes\n48/61 ... yes\n48/62 ... yes\n48/63 ... yes\n48/65 ... yes\n48/66 ... yes\n48/67 ... yes\n27/70 ... yes\n27/71 ... yes\n24/72 ... yes\n27/73 ... yes\n91/74 ... yes\n48/75 ... yes\n50/78 ... yes\n27/79 ... yes\n91/80 ... yes\n27/81 ... yes\n34/83 ... yes\n5/84 ... yes\n27/86 ... yes\n50/87 ... yes\n48/88 ... yes\n91/90 ... yes\n50/98 ... yes\n50/99 ... yes\n50/100 ... yes\n27/101 ... yes\n31/102 ... yes\n27/105 ... yes\n27/108 ... yes\n48/110 ... yes\n48/111 ... yes\n48/113 ... yes\n48/114 ... yes\n50/115 ... yes\n27/116 ... yes\n48/117 ... yes\n27/119 ... yes\n48/120 ... yes\n27/121 ... yes\n50/122 ... yes\n50/123 ... yes\n50/124 ... yes\n27/127 ... yes\n48/128 ... yes\n48/129 ... yes\n91/130 ... yes\n91/131 ... yes\n48/132 ... yes\n48/133 ... yes\n91/135 ... yes\n48/136 ... yes\n4/137 ... yes\n20/138 ... yes\n48/142 ... yes\n59/145 ... yes\n62/146 ... yes\n62/147 ... yes\n43/151 ... yes\n25/152 ... yes\n27/154 ... yes\n62/155 ... yes\n48/156 ... yes\n48/157 ... yes\n27/158 ... yes\n62/159 ... yes\n61/160 ... yes\n59/161 ... yes\n19/162 ... yes\n71/164 ... yes\n71/165 ... yes\n71/166 ... yes\n71/167 ... yes\n70/168 ... yes\n76/169 ... yes\n48/170 ... yes\n78/172 ... yes\n78/173 ... yes\n78/174 ... yes\n76/175 ... yes\n76/176 ... yes\n81/177 ... yes\n81/178 ... yes\n91/179 ... yes\n71/180 ... yes\n71/184 ... yes\n16/185 ... yes\n48/186 ... yes\n71/187 ... yes\n70/188 ... yes\n27/190 ... yes\n43/191 ... yes\n71/192 ... yes\n71/193 ... yes\n71/194 ... yes\n71/195 ... yes\n59/196 ... yes\n59/197 ... yes\n59/198 ... yes\n59/199 ... yes\n81/200 ... yes\n50/201 ... yes\n59/203 ... yes\n59/204 ... yes\n71/205 ... yes\n59/206 ... yes\n59/207 ... yes\n48/208 ... yes\n59/209 ... yes\n48/210 ... yes\n59/212 ... yes\n48/213 ... yes\n81/215 ... yes\n27/216 ... yes\n99/217 ... yes\n99/218 ... yes\n99/219 ... yes\n99/220 ... yes\n104/222 ... yes\n99/223 ... yes\n99/224 ... yes\n99/225 ... yes\n84/226 ... yes\n99/227 ... yes\n62/228 ... yes\n99/229 ... yes\n48/230 ... yes\n50/231 ... yes\n91/233 ... yes\n31/234 ... yes\n27/235 ... yes\n107/236 ... yes\n91/237 ... yes\n27/238 ... yes\n48/239 ... yes\n76/241 ... yes\n27/242 ... yes\n70/243 ... yes\n62/244 ... yes\n16/245 ... yes\nRedis version \u003e= 5.0.0? ... yes\nRuby version \u003e= 2.7.2 ? ... yes (2.7.2)\nGit version \u003e= 2.31.0 ? ... yes (2.31.1)\nGit user has default SSH configuration? ... yes\nActive users: ... 62\nIs authorized keys file accessible? ... yes\nGitLab configured to store new projects in hashed storage? ... yes\nAll projects are in hashed storage? ... yes\n\nChecking GitLab App ... Finished\n\n\nChecking GitLab subtasks ... Finished\n\n\u003c/pre\u003e\n\u003c/details\u003e","state":"closed","created_at":"2021-06-08T11:59:58.192Z","updated_at":"2022-12-28T15:45:15.052Z","closed_at":"2022-11-30T13:49:30.040Z","closed_by":{"id":12519771,"username":"adil.farrukh","name":"Adil Farrukh","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12519771/avatar.png","web_url":"https://gitlab.com/adil.farrukh"},"labels":["Category:Authentication and Authorization","Category:Source Code Management","Deliverable","[deprecated] Accepting merge requests","approaching-SLO","devops::manage","group::authentication and authorization","missed-SLO","needs investigation","priority::2","section::dev","severity::2","type::bug"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":13356,"username":"dblessing","name":"Drew Blessing","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b5bf44866b4eeafa2d8114bfe15da02f?s=80\u0026d=identicon","web_url":"https://gitlab.com/dblessing"}],"author":{"id":3960343,"username":"stikus","name":"Grammatikati Konstantin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/9f5231ae419dccbc7eee10ed66c1c310?s=80\u0026d=identicon","web_url":"https://gitlab.com/stikus"},"type":"ISSUE","assignee":{"id":13356,"username":"dblessing","name":"Drew Blessing","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b5bf44866b4eeafa2d8114bfe15da02f?s=80\u0026d=identicon","web_url":"https://gitlab.com/dblessing"},"user_notes_count":75,"merge_requests_count":0,"upvotes":4,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/332974","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/332974","notes":"https://gitlab.com/api/v4/projects/278964/issues/332974/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/332974/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#332974","relative":"#332974","full":"gitlab-org/gitlab#332974"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":88387860,"iid":332973,"project_id":278964,"title":"Add syntax highlighting to Security Configuration Snippets","description":"### Proposal\n\nThis issue is to add syntax highlighting to the YAML code snippets used in Security Configuration for\n\n- DAST Configuration\n- API Fuzzing Configuration\n\n### Implementation Plan\n\n- [x] Add `EditorLite` to `ConfigurationSnippetModal` component\n   - `DAST` \u0026 `API Fuzzing` Configuration snippets uses same Vue component under the hood\n   - Related docs - https://docs.gitlab.com/ee/development/fe_guide/editor_lite.html\n- [x] Update specs","state":"closed","created_at":"2021-06-08T11:57:38.443Z","updated_at":"2021-08-20T12:21:04.080Z","closed_at":"2021-08-20T12:21:04.065Z","closed_by":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"labels":["Category:DAST","devops::secure","feature::addition","group::dynamic analysis","section::sec","type::feature","workflow::verification"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"}],"author":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"type":"ISSUE","assignee":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/332973","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":2},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/332973","notes":"https://gitlab.com/api/v4/projects/278964/issues/332973/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/332973/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#332973","relative":"#332973","full":"gitlab-org/gitlab#332973"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5981,"epic":{"id":269267,"iid":5981,"title":"DAST Configuration UI Implementation","url":"/groups/gitlab-org/-/epics/5981","group_id":9970,"human_readable_end_date":"Sep 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88386556,"iid":332970,"project_id":278964,"title":"Introduce caching on Projects::MergeRequests::DiffsController#diffs_batch.json","description":"## Problem to solve\n\nDuring investigation in https://gitlab.com/gitlab-org/gitlab/-/issues/330893, noticed that `Projects::MergeRequestController#diffs_batch.json` can take a while for a large MR (example: https://staging.gitlab.com/gpt/large_projects/gitlabhq1/-/merge_requests/8785).\n\nLocally, each batch of diffs can take around ~1.2s to load. Profiling the endpoint shows that it takes most of the time serializing the response. When whitespace changes are ignored, it's much worse because we don't have batching in it yet and it takes ~10s to load.\n\n## Proposal\n\nWhile working on a PoC on how we can cache this endpoint (https://gitlab.com/gitlab-org/gitlab/-/merge_requests/63644), noticed that it can go down up to ~400ms per batch when cached (~600ms when whitespace changes are ignored). That's ~66% improvement if my math is correct.\n\nIn the PoC, we cache the serialized response via `Rails.cache`. It's utilizing the `Api::Helpers::Caching` module with some modification to work with Rails controllers instead of Grape API (see `#render_cached`). This will cache each diffs batch on a MR.\n\nTo implement this, we can:\n1. Utilize the `#render_cache` or equivalent that will be implemented in https://gitlab.com/gitlab-org/gitlab/-/issues/332967.\n1. Define appropriate cache key for `Gitlab::Diff::FileCollection::MergeRequestDiffBatch` and `Gitlab::Diff::FileCollection::Compare`. In the PoC, used the `MergeRequestDiff#cache_key` for `MergeRequestDiffBatch` while the `head` and `base` ID for `Compare`.\n1. Define a cache expiration. 1 day seems fine as old versions don't change. The `HEAD` diff can possibly change more often though depending on the activity on the target branch, so we can look at defining a lower cache expiration for this case.\n1. Implement it behind a feature flag then roll it out in a separate roll out issue. This way we can enable it on production and monitor how it affects our Redis cache usage.\n\nBe on the look out for possible bug due to cache response is still being returned while it shouldn't.","state":"closed","created_at":"2021-06-08T11:31:04.603Z","updated_at":"2021-10-28T13:56:10.112Z","closed_at":"2021-07-23T07:11:12.389Z","closed_by":{"id":4901936,"username":"dskim_gitlab","name":"Sincheol (David) Kim","state":"active","avatar_url":"https://secure.gravatar.com/avatar/84a984a56c54d1d31338678421cecc32?s=80\u0026d=identicon","web_url":"https://gitlab.com/dskim_gitlab"},"labels":["Deliverable","OKR FY22 Q2::Large MR","backend","bug::performance","devops::create","group::code review","section::dev","type::maintenance","workflow::verification"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":4901936,"username":"dskim_gitlab","name":"Sincheol (David) Kim","state":"active","avatar_url":"https://secure.gravatar.com/avatar/84a984a56c54d1d31338678421cecc32?s=80\u0026d=identicon","web_url":"https://gitlab.com/dskim_gitlab"}],"author":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"type":"ISSUE","assignee":{"id":4901936,"username":"dskim_gitlab","name":"Sincheol (David) Kim","state":"active","avatar_url":"https://secure.gravatar.com/avatar/84a984a56c54d1d31338678421cecc32?s=80\u0026d=identicon","web_url":"https://gitlab.com/dskim_gitlab"},"user_notes_count":32,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/332970","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/332970","notes":"https://gitlab.com/api/v4/projects/278964/issues/332970/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/332970/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#332970","relative":"#332970","full":"gitlab-org/gitlab#332970"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6142,"epic":{"id":285495,"iid":6142,"title":"Cache responses of endpoints used in merge request page","url":"/groups/gitlab-org/-/epics/6142","group_id":9970,"human_readable_end_date":"Oct 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88386446,"iid":332968,"project_id":278964,"title":"Introduce caching on Projects::MergeRequestsController#show.json for sidebar_extras","description":"## Problem to solve\n\nDuring investigation in https://gitlab.com/gitlab-org/gitlab/-/issues/330893, noticed that `Projects::MergeRequestController#show.json` with `serializer` param set to `sidebar_extras` can take a while for a large MR (example: https://staging.gitlab.com/gpt/large_projects/gitlabhq1/-/merge_requests/8785).\n\nLocally, loading that action can take around ~500ms to load. We load this on every tab on the MR page. Profiling the endpoint shows that it takes most of the time serializing the response.\n\n## Proposal\n\nWhile working on a PoC on how we can cache this endpoint (https://gitlab.com/gitlab-org/gitlab/-/merge_requests/63644), noticed that it can go down up to ~80ms when cached.\n\nIn the PoC, we cache the serialized response via `Rails.cache`. It's utilizing the `Api::Helpers::Caching` module with some modification to work with Rails controllers instead of Grape API (see `#render_cached`). This will cache the sidebar response.\n\nTo implement this, we can:\n1. Utilize the `#render_cache` or equivalent that will be implemented in https://gitlab.com/gitlab-org/gitlab/-/issues/332967.\n1. Check if we need to define `cache_context` so appropriate cache will be written/read depending on scenario (e.g. different cache should show up per user, uncached content should show up when sidebar data updates). By default, it uses the `MergeRequest#cache_key` and that may be enough.\n1. Define a cache expiration. 1 day seems fine.\n1. Implement it behind a feature flag then roll it out in a separate roll out issue. This way we can enable it on production and monitor how it affects our Redis cache usage.\n\nBe on the look out for possible bug due to cache response is still being returned while it shouldn't.","state":"closed","created_at":"2021-06-08T11:28:50.230Z","updated_at":"2021-10-28T13:56:11.542Z","closed_at":"2021-09-01T07:18:54.692Z","closed_by":{"id":4901936,"username":"dskim_gitlab","name":"Sincheol (David) Kim","state":"active","avatar_url":"https://secure.gravatar.com/avatar/84a984a56c54d1d31338678421cecc32?s=80\u0026d=identicon","web_url":"https://gitlab.com/dskim_gitlab"},"labels":["Deliverable","OKR FY22 Q2::Large MR","backend","bug::performance","devops::create","group::code review","missed:14.1","section::dev","type::maintenance","workflow::verification"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":4901936,"username":"dskim_gitlab","name":"Sincheol (David) Kim","state":"active","avatar_url":"https://secure.gravatar.com/avatar/84a984a56c54d1d31338678421cecc32?s=80\u0026d=identicon","web_url":"https://gitlab.com/dskim_gitlab"}],"author":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"type":"ISSUE","assignee":{"id":4901936,"username":"dskim_gitlab","name":"Sincheol (David) Kim","state":"active","avatar_url":"https://secure.gravatar.com/avatar/84a984a56c54d1d31338678421cecc32?s=80\u0026d=identicon","web_url":"https://gitlab.com/dskim_gitlab"},"user_notes_count":16,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/332968","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/332968","notes":"https://gitlab.com/api/v4/projects/278964/issues/332968/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/332968/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#332968","relative":"#332968","full":"gitlab-org/gitlab#332968"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6142,"epic":{"id":285495,"iid":6142,"title":"Cache responses of endpoints used in merge request page","url":"/groups/gitlab-org/-/epics/6142","group_id":9970,"human_readable_end_date":"Oct 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88386372,"iid":332967,"project_id":278964,"title":"Introduce caching on Projects::MergeRequestsController#discussions","description":"## Problem to solve\n\nDuring investigation in https://gitlab.com/gitlab-org/gitlab/-/issues/330893, noticed that `Projects::MergeRequestController#dicsussions` can take a while for a large MR (example: https://staging.gitlab.com/gpt/large_projects/gitlabhq1/-/merge_requests/8785).\n\nLocally, it can take ~9s to load the discussions. Profiling the endpoint shows that it takes most of the time serializing the response.\n\n## Proposal\n\nWhile working on a PoC on how we can cache this endpoint (https://gitlab.com/gitlab-org/gitlab/-/merge_requests/63644), noticed that it can go down up to ~1.5s. That's ~80% improvement.\n\nIn the PoC, we cache the serialized response via `Rails.cache`. It's utilizing the `Api::Helpers::Caching` module with some modification to work with Rails controllers instead of Grape API (see `#render_cached`). This will cache each discussion on a MR.\n\nTo implement this, we can:\n1. Implement `#render_cached` or name it something else. Not exactly how it's written in the PoC MR as it can be improved but it should behave the same way.\n1. Define appropriate cache key for a discussion. In the PoC, used the discussion ID and the latest updated at of notes under a discussion.\n1. Define a cache expiration. 1 day seems fine as it is possible to have a discussion that gets untouched in a day.\n1. Implement it behind a feature flag then roll it out in a separate roll out issue. This way we can enable it on production and monitor how it affects our Redis cache usage.\n\nBe on the look out for possible bug due to cache response is still being returned while it shouldn't.","state":"closed","created_at":"2021-06-08T11:27:51.719Z","updated_at":"2021-10-28T13:56:12.427Z","closed_at":"2021-07-12T05:49:35.782Z","closed_by":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"labels":["Deliverable","OKR FY22 Q2::Large MR","backend","bug::performance","devops::create","group::code review","section::dev","type::maintenance"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"}],"author":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"type":"ISSUE","assignee":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"user_notes_count":19,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/332967","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/332967","notes":"https://gitlab.com/api/v4/projects/278964/issues/332967/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/332967/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#332967","relative":"#332967","full":"gitlab-org/gitlab#332967"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6142,"epic":{"id":285495,"iid":6142,"title":"Cache responses of endpoints used in merge request page","url":"/groups/gitlab-org/-/epics/6142","group_id":9970,"human_readable_end_date":"Oct 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88386248,"iid":332966,"project_id":278964,"title":"Introduce caching on response of Projects::MergeRequestsController#show.html","description":"While working on https://gitlab.com/gitlab-org/gitlab/-/issues/330893, profiling the `Projects::MergeRequestsController#show.html` controller action shows that it takes about 100ms to render the `_widget.html.haml` partial.\n\nWe can cache it so when it hasn't change, we don't need to present fresh data and save some time.","state":"closed","created_at":"2021-06-08T11:25:49.313Z","updated_at":"2022-01-17T07:18:33.500Z","closed_at":"2021-09-29T07:16:51.841Z","closed_by":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"labels":["Deliverable","backend","bug::performance","devops::create","group::code review","missed:14.1","missed:14.3","section::dev","type::maintenance"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"}],"author":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"type":"ISSUE","assignee":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"user_notes_count":26,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/332966","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/332966","notes":"https://gitlab.com/api/v4/projects/278964/issues/332966/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/332966/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#332966","relative":"#332966","full":"gitlab-org/gitlab#332966"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6142,"epic":{"id":285495,"iid":6142,"title":"Cache responses of endpoints used in merge request page","url":"/groups/gitlab-org/-/epics/6142","group_id":9970,"human_readable_end_date":"Oct 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88385313,"iid":332963,"project_id":278964,"title":"[Feature flag] Rollout of `ci_idempotent_pipeline_process_worker`","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout making `PipelineProcessWorker` idempotent on production,\nthat is currently behind the `ci_idempotent_pipeline_process_worker` feature flag.\n\nIntroduced in: !62410\n\n## Owners\n\n- Team: ~\"group::pipeline authoring\" \n- Most appropriate slack channel to reach out to: `#g_pipeline-authoring`\n- Best individual to reach out to: @furkanayhan \n- PM: @dhershkovitch \n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## The Rollout Plan\n\n- Partial Rollout on GitLab.com with testing groups\n- Rollout on GitLab.com for a certain period (How long)\n- Percentage Rollout on GitLab.com\n- Rollout Feature for everyone as soon as it's ready\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? Sentry errors reports can also be useful to review --\u003e\n\n## Testing Groups/Projects/Users\n\n\u003c!-- If applicable, any groups/projects that are happy to have this feature turned on early. Some organizations may wish to test big changes they are interested in with a small subset of users ahead of time for example. --\u003e\n\n- `gitlab-org/gitlab` project\n- `gitlab-org`/`gitlab-com` groups\n- ...\n\n\n## Expectations\n\n### What are we expecting to happen?\n\n**We expect everything will work as usual.**\n\n**We may see a decrease in `PipelineProcessWorker` enqueuing.**\n\nLog: https://log.gprd.gitlab.net/goto/8264e403e3286eaf5af3b5ba5075474f\n\n\u003cdetails\u003e\n\u003csummary\u003e7 Days:\u003c/summary\u003e\n\n![Screen_Shot_2021-06-28_at_13.32.11](/uploads/d05a161766ff0a4485ca870bb21522f8/Screen_Shot_2021-06-28_at_13.32.11.png)\n\u003c/details\u003e\n\n**We will see an increase in `PipelineProcessWorker` deduplication.**\n\nLog: https://log.gprd.gitlab.net/goto/cc089c6fad30fbb9397da36587630a7f\n\n### What might happen if this goes wrong?\n\nStuck pipelines.\n\n### What can we monitor to detect problems with this?\n\n- [Pipeline Failure Reasons dashboard](https://dashboards.gitlab.net/d/stage-groups-pipeline_execution/stage-groups-group-dashboard-verify-pipeline-execution?viewPanel=64\u0026orgId=1\u0026from=now-6h\u0026to=now)\n- Other?\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- [x] Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Enable the feature globally on non-production environments.\n    - [x] `/chatops run feature set ci_idempotent_pipeline_process_worker true --dev`\n    - [x] `/chatops run feature set ci_idempotent_pipeline_process_worker true --staging`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Preparation before production rollout\n\n- [ ] Ensure that the feature MRs have been deployed to both production and canary.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [ ] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [x] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [ ] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [ ] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com.\n- [ ] If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), enable it on GitLab.com for [testing groups/projects](#testing-groupsprojectsusers).\n    - [ ] `/chatops run feature set --\u003cactor-type\u003e=\u003cactor\u003e ci_idempotent_pipeline_process_worker true`\n- [ ] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Global rollout on production\n\n- [ ] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [ ] `/chatops run feature set ci_idempotent_pipeline_process_worker \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [ ] `/chatops run feature set ci_idempotent_pipeline_process_worker \u003crollout-percentage\u003e`\n  - Enable the feature globally on production environment.\n    - [x] `/chatops run feature set ci_idempotent_pipeline_process_worker true`\n- [ ] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [ ] Cross-post chatops slack command to `#support_gitlab-com`.\n  ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)) and in your team channel\n- [ ] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [ ] Create a merge request with the following changes. Ask for review and merge it.\n    - [ ] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the above MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [ ] Create a merge request to remove `ci_idempotent_pipeline_process_worker` feature flag. Ask for review and merge it.\n    - [ ] Remove all references to the feature flag from the codebase.\n    - [ ] Remove the YAML definitions for the feature from the repository.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the above MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [x] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [ ] `/chatops run feature delete ci_idempotent_pipeline_process_worker --dev`\n    - [ ] `/chatops run feature delete ci_idempotent_pipeline_process_worker --staging`\n    - [ ] `/chatops run feature delete ci_idempotent_pipeline_process_worker`\n- [x] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set ci_idempotent_pipeline_process_worker false\n```","state":"closed","created_at":"2021-06-08T11:09:14.064Z","updated_at":"2021-10-28T13:56:14.623Z","closed_at":"2021-10-20T08:39:56.736Z","closed_by":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"labels":["Category:Pipeline Authoring","backend","devops::verify","feature flag","group::pipeline authoring","section::ops","type::maintenance","workflow::production"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"}],"author":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"type":"ISSUE","assignee":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/332963","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":41,"completed_count":10},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"10 of 41 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/332963","notes":"https://gitlab.com/api/v4/projects/278964/issues/332963/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/332963/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#332963","relative":"#332963","full":"gitlab-org/gitlab#332963"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":88376629,"iid":332955,"project_id":278964,"title":"Build the suggested names generator using instrumentation classes","description":"This would be needed so we can continue supporting name suggestions for metrics using `usage_data.rb` \n\nDeep merge data generated with https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/usage/metrics/names_suggestions/generator.rb#L14 to names generated using instrumentation classes using method `name_suggestion`\n\n1. check and adjust corresponding tests","state":"closed","created_at":"2021-06-08T08:49:01.701Z","updated_at":"2021-07-21T11:16:09.413Z","closed_at":"2021-06-17T12:11:58.521Z","closed_by":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"labels":["[deprecated] Accepting merge requests","devops::growth","group::product intelligence","section::growth","workflow::ready for development"],"milestone":null,"assignees":[],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/332955","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/332955","notes":"https://gitlab.com/api/v4/projects/278964/issues/332955/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/332955/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#332955","relative":"#332955","full":"gitlab-org/gitlab#332955"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5281,"epic":{"id":189695,"iid":5281,"title":"Generate Usage Ping from Metrics YML","url":"/groups/gitlab-org/-/epics/5281","group_id":9970,"human_readable_end_date":"Mar 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88376493,"iid":332954,"project_id":278964,"title":"Build usage data queries using instrumentation classes","description":"Build usage data queries using instrumentation classes.\n\nThis is needed so we can continue to be able to have available the generated queries for optional data.\n\nThis queries are available via API and used by data team to run usage ping in data warehouse \n\n### This will likely require code changes similar to the following:\n\n1. Deep Merge hash generated with `usage_data_queries.rb` with hash generated using instrumentation classes `to_sql()` method\n   1. rake task [`dump_sql_in_yaml`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/tasks/gitlab/usage_data.rake#L7)\n   1. rake task [`dump_sql_in_json`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/tasks/gitlab/usage_data.rake#L11)\n   1. [UsageDataQueries API](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/api/usage_data_queries.rb)\n   1. Check the tests for usage_data_queries_spec.","state":"closed","created_at":"2021-06-08T08:48:22.957Z","updated_at":"2021-08-18T07:06:04.323Z","closed_at":"2021-08-12T11:06:56.729Z","closed_by":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"labels":["Deliverable","backend","devops::growth","group::product intelligence","section::growth","workflow::in review"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"}],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/332954","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/332954","notes":"https://gitlab.com/api/v4/projects/278964/issues/332954/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/332954/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#332954","relative":"#332954","full":"gitlab-org/gitlab#332954"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5626,"epic":{"id":228740,"iid":5626,"title":"Account-Based Service Ping SaaS in Data Warehouse","url":"/groups/gitlab-org/-/epics/5626","group_id":9970,"human_readable_end_date":"Oct 31, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88375800,"iid":332953,"project_id":278964,"title":"Remove pending builds covering index","description":"## Description\n\nThe index `index_ci_builds_runner_id_pending_covering` fuels the existing (legacy) queuing mechanism https://gitlab.com/gitlab-org/gitlab/-/issues/362820. We might be able to remove it soon\n\n```\nList of relations  \n Schema |                    Name                    | Type  |  Owner  |   Table   |  Size  | Description   \n--------+--------------------------------------------+-------+---------+-----------+--------+-------------  \n public | index_ci_builds_runner_id_pending_covering | index | joe_309 | ci_builds | 476 MB |   \n(1 row) \n```\n\nAnother index that was part of the queuing mechanism is `index_ci_builds_on_queued_at` and we should be able to remove it as well.\n\n```\nList of relations  \n Schema |             Name             | Type  |  Owner  |   Table   | Size  | Description   \n--------+------------------------------+-------+---------+-----------+-------+-------------  \n public | index_ci_builds_on_queued_at | index | joe_309 | ci_builds | 69 GB |   \n(1 row)  \n```","state":"closed","created_at":"2021-06-08T08:43:43.745Z","updated_at":"2023-01-10T15:52:41.937Z","closed_at":"2022-08-02T13:17:05.781Z","closed_by":{"id":5251734,"username":"morefice","name":"Max Orefice","state":"active","avatar_url":"https://secure.gravatar.com/avatar/0a910912e24727d7eef579cd047f7651?s=80\u0026d=identicon","web_url":"https://gitlab.com/morefice"},"labels":["CI data partitioning","Engineering Allocation","ci::scaling","devops::verify","group::pipeline execution","pods::active","section::ops","type::maintenance","workflow::production"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":731181,"username":"mbobin","name":"Marius Bobin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c0a726d6aa37d780309f7b3ea3555a14?s=80\u0026d=identicon","web_url":"https://gitlab.com/mbobin"}],"author":{"id":263716,"username":"grzesiek","name":"Grzegorz Bizon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/263716/avatar.jpeg","web_url":"https://gitlab.com/grzesiek"},"type":"ISSUE","assignee":{"id":731181,"username":"mbobin","name":"Marius Bobin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c0a726d6aa37d780309f7b3ea3555a14?s=80\u0026d=identicon","web_url":"https://gitlab.com/mbobin"},"user_notes_count":32,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/332953","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/332953","notes":"https://gitlab.com/api/v4/projects/278964/issues/332953/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/332953/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#332953","relative":"#332953","full":"gitlab-org/gitlab#332953"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4685,"epic":{"id":131789,"iid":4685,"title":"CICD data partition sub-tasks","url":"/groups/gitlab-org/-/epics/4685","group_id":9970,"human_readable_end_date":"Jun 1, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88375591,"iid":332952,"project_id":278964,"title":"Rollout of the new queuing mechanism on-premises","description":"## Description\n\nIn https://gitlab.com/groups/gitlab-org/-/epics/5909 we have been working on shipping a new mechanism of builds queuing. We want to roll it out onto on-premises too to conclude this effort.\n\n## Proposal\n\nSequence of things that need to happen:\n\n1. Enable `*_maintain_*` feature flags by default to start writing denormalized data on-premises.\n1. In the next release: backfill queuing tables in a regular migration (post deployment).\n1. In the next release: enable denormalization feature flags by default.\n\nWe need at least three releases to ship this to on-premises because of zero-downtime deployments and ability to upgrade across multiple versions.","state":"closed","created_at":"2021-06-08T08:42:33.696Z","updated_at":"2023-01-10T15:52:41.718Z","closed_at":"2022-07-13T08:48:13.664Z","closed_by":{"id":731181,"username":"mbobin","name":"Marius Bobin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c0a726d6aa37d780309f7b3ea3555a14?s=80\u0026d=identicon","web_url":"https://gitlab.com/mbobin"},"labels":["[deprecated] Accepting merge requests","ci::scaling","devops::verify","group::pipeline execution","pods::active","section::ops"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[],"author":{"id":263716,"username":"grzesiek","name":"Grzegorz Bizon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/263716/avatar.jpeg","web_url":"https://gitlab.com/grzesiek"},"type":"ISSUE","assignee":null,"user_notes_count":10,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/332952","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/332952","notes":"https://gitlab.com/api/v4/projects/278964/issues/332952/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/332952/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#332952","relative":"#332952","full":"gitlab-org/gitlab#332952"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6954,"epic":{"id":373936,"iid":6954,"title":"Make the new pending builds architecture generally available","url":"/groups/gitlab-org/-/epics/6954","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88375536,"iid":332951,"project_id":278964,"title":"Merge feature flags for new queuing mechanism into two FFs","description":"## Description\n\nIterating the new builds queuing mechanisms resulted in introducing a few feature flags.\n\nWe will use this issue to track them and to ensure that once we are ready to rollout this mechanism on on-premises we merge the feature flags into two - _maintain_ feature flags and _denormalize_ feature flags (as we need to enable _maintain_ and _denormalize_ separately in two separate releases).\n\n## Feature flags\n\n| Feature flag | Status | Description | Note | Removed? |\n| ------ | ------- | ------ | ------ | ------ |\n| `ci_pending_builds_queue_source` | Fully enabled on gitlab.com | https://gitlab.com/gitlab-org/gitlab/-/merge_requests/62195 | |\n| `ci_build_tags_limit` | :white_check_mark: Removed | https://gitlab.com/gitlab-org/gitlab/-/merge_requests/69506 | | https://gitlab.com/gitlab-org/gitlab/-/merge_requests/74813 |\n| `ci_pending_builds_queue_maintain` | :white_check_mark: Enabled by default | https://gitlab.com/gitlab-org/gitlab/-/merge_requests/61581 | Merged into `ci_pending_builds_maintain_denormalized_data` | https://gitlab.com/gitlab-org/gitlab/-/merge_requests/75425 |\n| `ci_track_shared_runner_builds` | :white_check_mark: Enabled by default | https://gitlab.com/gitlab-org/gitlab/-/merge_requests/62912 | Merged into `ci_pending_builds_maintain_denormalized_data` | https://gitlab.com/gitlab-org/gitlab/-/merge_requests/75425 |\n| `ci_untrack_shared_runner_builds` | :white_check_mark: Enabled by default | https://gitlab.com/gitlab-org/gitlab/-/merge_requests/62912 | Merged into `ci_pending_builds_maintain_denormalized_data` | https://gitlab.com/gitlab-org/gitlab/-/merge_requests/75425 |\n| `ci_pending_builds_maintain_tags_data` | :white_check_mark: Enabled by default | https://gitlab.com/gitlab-org/gitlab/-/merge_requests/65648 | Merged into `ci_pending_builds_maintain_denormalized_data` | https://gitlab.com/gitlab-org/gitlab/-/merge_requests/75425 |\n| `ci_queueing_denormalize_tags_information` | :white_check_mark: Enabled by default | https://gitlab.com/gitlab-org/gitlab/-/merge_requests/65648 | Merged into `ci_queuing_use_denormalized_data_strategy` | https://gitlab.com/gitlab-org/gitlab/-/merge_requests/76543 |\n| `ci_pending_builds_maintain_shared_runners_data` | :white_check_mark: Enabled by default | https://gitlab.com/gitlab-org/gitlab/-/merge_requests/64644 | Merged into `ci_pending_builds_maintain_denormalized_data` | https://gitlab.com/gitlab-org/gitlab/-/merge_requests/75425 |\n| `ci_queueing_denormalize_shared_runners_information` | :white_check_mark: Enabled by default | https://gitlab.com/gitlab-org/gitlab/-/merge_requests/66082 | Merged into `ci_queuing_use_denormalized_data_strategy` | https://gitlab.com/gitlab-org/gitlab/-/merge_requests/76543 |\n| `ci_pending_builds_maintain_ci_minutes_data` | :white_check_mark: Enabled by default | https://gitlab.com/gitlab-org/gitlab/-/merge_requests/64443| Merged into `ci_pending_builds_maintain_denormalized_data` | https://gitlab.com/gitlab-org/gitlab/-/merge_requests/75425 |\n| `ci_queueing_denormalize_ci_minutes_information` | :white_check_mark: Enabled by default | https://gitlab.com/gitlab-org/gitlab/-/merge_requests/66962 | Merged into `ci_queuing_use_denormalized_data_strategy` | https://gitlab.com/gitlab-org/gitlab/-/merge_requests/76543|\n| `ci_pending_builds_project_runners_decoupling` | :white_check_mark: Removed | https://gitlab.com/gitlab-org/gitlab/-/merge_requests/70415 | | https://gitlab.com/gitlab-org/gitlab/-/merge_requests/75422 |\n| `ci_queueing_builds_enabled_checks` | :white_check_mark: Removed | https://gitlab.com/gitlab-org/gitlab/-/merge_requests/70581 | | https://gitlab.com/gitlab-org/gitlab/-/merge_requests/75422 |\n| `ci_pending_builds_maintain_namespace_traversal_ids` | :white_check_mark: Enabled by default| https://gitlab.com/gitlab-org/gitlab/-/merge_requests/70162 |  Merged into `ci_pending_builds_maintain_denormalized_data` | https://gitlab.com/gitlab-org/gitlab/-/merge_requests/75425 |\n| `ci_queueing_denormalize_namespace_traversal_ids` | :white_check_mark: Enabled by default | https://gitlab.com/gitlab-org/gitlab/-/merge_requests/70162 | Merged into `ci_queuing_use_denormalized_data_strategy` | https://gitlab.com/gitlab-org/gitlab/-/merge_requests/76543 |","state":"closed","created_at":"2021-06-08T08:42:13.827Z","updated_at":"2023-01-10T15:52:41.437Z","closed_at":"2022-01-11T12:39:31.821Z","closed_by":{"id":731181,"username":"mbobin","name":"Marius Bobin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c0a726d6aa37d780309f7b3ea3555a14?s=80\u0026d=identicon","web_url":"https://gitlab.com/mbobin"},"labels":["Engineering Allocation","FY22::Q4","OKR","ci-decomposition","ci-decomposition::phase6","ci::scaling","devops::verify","group::pipeline execution","pods::active","section::ops","workflow::production"],"milestone":{"id":2156369,"iid":68,"group_id":9970,"title":"14.7","description":"","state":"active","created_at":"2021-07-21T17:39:41.786Z","updated_at":"2021-07-21T17:39:41.786Z","due_date":"2022-01-17","start_date":"2021-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/68"},"assignees":[{"id":263716,"username":"grzesiek","name":"Grzegorz Bizon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/263716/avatar.jpeg","web_url":"https://gitlab.com/grzesiek"},{"id":731181,"username":"mbobin","name":"Marius Bobin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c0a726d6aa37d780309f7b3ea3555a14?s=80\u0026d=identicon","web_url":"https://gitlab.com/mbobin"}],"author":{"id":263716,"username":"grzesiek","name":"Grzegorz Bizon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/263716/avatar.jpeg","web_url":"https://gitlab.com/grzesiek"},"type":"ISSUE","assignee":{"id":263716,"username":"grzesiek","name":"Grzegorz Bizon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/263716/avatar.jpeg","web_url":"https://gitlab.com/grzesiek"},"user_notes_count":48,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/332951","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/332951","notes":"https://gitlab.com/api/v4/projects/278964/issues/332951/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/332951/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#332951","relative":"#332951","full":"gitlab-org/gitlab#332951"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6379,"epic":{"id":309971,"iid":6379,"title":"Decomposition: Make Ops features compatible with Decomposed CI database","url":"/groups/gitlab-org/-/epics/6379","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88374824,"iid":332950,"project_id":278964,"title":"Rollout of join with the accelerated pending builds table","description":"## Summary\n\nThis issue is about rolling out [the feature](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/62195) on production. The feature is currently hidden behind the `ci_pending_builds_queue_join` feature flag.\n\n## Owners\n\n- Team: ~\"group::pipeline execution\" \n- Most appropriate slack channel to reach out to: `#g_pipeline-execution`\n- Best individual to reach out to: @grzesiek\n- PM: @jreporter \n\n## The Rollout Plan\n\n- [x] Full rollout and verification on staging\n- [ ] 10% rollout on gitlab.com\n- [ ] 25% rollout on gitlab.com\n- [ ] 50% rollout on gitlab.com\n- [ ] 100% rollout on gitlab.com\n\n## Expectations\n\n### What are we expecting to happen?\n\nBuilds being created and processed correctly.\n\n### What can we monitor to detect problems with this?\n\nhttps://dashboards.gitlab.net/d/stage-groups-continuous_integration/stage-groups-group-dashboard-verify-continuous-integration","state":"closed","created_at":"2021-06-08T08:37:08.249Z","updated_at":"2021-06-16T10:18:35.996Z","closed_at":"2021-06-09T13:59:55.621Z","closed_by":{"id":263716,"username":"grzesiek","name":"Grzegorz Bizon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/263716/avatar.jpeg","web_url":"https://gitlab.com/grzesiek"},"labels":["Engineering Allocation","devops::verify","group::pipeline execution","section::ops","workflow::production"],"milestone":null,"assignees":[{"id":263716,"username":"grzesiek","name":"Grzegorz Bizon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/263716/avatar.jpeg","web_url":"https://gitlab.com/grzesiek"}],"author":{"id":263716,"username":"grzesiek","name":"Grzegorz Bizon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/263716/avatar.jpeg","web_url":"https://gitlab.com/grzesiek"},"type":"ISSUE","assignee":{"id":263716,"username":"grzesiek","name":"Grzegorz Bizon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/263716/avatar.jpeg","web_url":"https://gitlab.com/grzesiek"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2021-06-11","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/332950","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":5,"completed_count":1},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 5 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/332950","notes":"https://gitlab.com/api/v4/projects/278964/issues/332950/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/332950/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#332950","relative":"#332950","full":"gitlab-org/gitlab#332950"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5909,"epic":{"id":261464,"iid":5909,"title":"Introduce additional database table to improve builds queuing mechanisms","url":"/groups/gitlab-org/-/epics/5909","group_id":9970,"human_readable_end_date":"Oct 22, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88365277,"iid":332946,"project_id":278964,"title":"Database decomposition: Logging DB metrics per database","description":"See https://gitlab.com/groups/gitlab-org/-/epics/6134.\n\nIt will be a good idea to keep our current log keys but we may prefer to introduce duplicates of all the log keys with the database name as a prefix or suffix. This adds extra log data but it will likely be quite useful for performance debugging.","state":"closed","created_at":"2021-06-08T06:15:38.452Z","updated_at":"2022-05-30T15:28:35.075Z","closed_at":"2021-07-01T00:15:09.020Z","closed_by":{"id":120073,"username":"DylanGriffith","name":"Dylan Griffith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/120073/avatar.png","web_url":"https://gitlab.com/DylanGriffith"},"labels":["Category:Database","Engineering Allocation","automation:ml","devops::data_stores","group::database","pods::active","section::enablement"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":120073,"username":"DylanGriffith","name":"Dylan Griffith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/120073/avatar.png","web_url":"https://gitlab.com/DylanGriffith"}],"author":{"id":120073,"username":"DylanGriffith","name":"Dylan Griffith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/120073/avatar.png","web_url":"https://gitlab.com/DylanGriffith"},"type":"ISSUE","assignee":{"id":120073,"username":"DylanGriffith","name":"Dylan Griffith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/120073/avatar.png","web_url":"https://gitlab.com/DylanGriffith"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/332946","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/332946","notes":"https://gitlab.com/api/v4/projects/278964/issues/332946/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/332946/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#332946","relative":"#332946","full":"gitlab-org/gitlab#332946"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6134,"epic":{"id":285044,"iid":6134,"title":"Decomposition:  Create observability for multiple database servers","url":"/groups/gitlab-org/-/epics/6134","group_id":9970,"human_readable_end_date":"Aug 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":88365272,"iid":332945,"project_id":278964,"title":"Database decomposition: Prometheus DB metrics per database","description":"See https://gitlab.com/groups/gitlab-org/-/epics/6134 .\n\nCode at https://gitlab.com/gitlab-org/gitlab/-/blob/8da3c665619d5b390ba102df9158963f0098f8ee/lib/gitlab/metrics/subscribers/active_record.rb#L47\n\nConsider using labels for each database.\n\nFirst part for counters will be handled in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/66885 . The next part for adding durations should be a small refactoring on top of that.","state":"closed","created_at":"2021-06-08T06:15:24.150Z","updated_at":"2022-05-30T15:28:35.661Z","closed_at":"2021-08-16T08:56:29.808Z","closed_by":{"id":120073,"username":"DylanGriffith","name":"Dylan Griffith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/120073/avatar.png","web_url":"https://gitlab.com/DylanGriffith"},"labels":["Category:Database","Engineering Allocation","automation:ml","devops::data_stores","group::database","pods::active","section::enablement","workflow::ready for development"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":120073,"username":"DylanGriffith","name":"Dylan Griffith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/120073/avatar.png","web_url":"https://gitlab.com/DylanGriffith"}],"author":{"id":120073,"username":"DylanGriffith","name":"Dylan Griffith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/120073/avatar.png","web_url":"https://gitlab.com/DylanGriffith"},"type":"ISSUE","assignee":{"id":120073,"username":"DylanGriffith","name":"Dylan Griffith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/120073/avatar.png","web_url":"https://gitlab.com/DylanGriffith"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/332945","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/332945","notes":"https://gitlab.com/api/v4/projects/278964/issues/332945/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/332945/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#332945","relative":"#332945","full":"gitlab-org/gitlab#332945"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6134,"epic":{"id":285044,"iid":6134,"title":"Decomposition:  Create observability for multiple database servers","url":"/groups/gitlab-org/-/epics/6134","group_id":9970,"human_readable_end_date":"Aug 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null}]