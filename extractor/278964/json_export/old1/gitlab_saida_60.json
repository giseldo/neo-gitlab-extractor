[{"id":89987190,"iid":335563,"project_id":278964,"title":"Dependency Proxy workhorse migration implementation plan (workhorse + rails)","description":"## Why are we doing this work\n\nThis issue describes the ~workhorse work needed to deliver https://gitlab.com/groups/gitlab-org/-/epics/6396.\n\n## Relevant links\n\n* [Parent Issue](https://gitlab.com/groups/gitlab-org/-/epics/63968)\n* [Rails counterpart issue](https://gitlab.com/gitlab-org/gitlab/-/issues/335560)\n* [Sequence diagram](https://gitlab.com/gitlab-org/gitlab/-/issues/11548#note_617440351)\n* [Discussion around possible approaches](https://www.youtube.com/watch?v=WmBibT9oQms)\n\n## Possible approaches\n\nThere are a two possible approaches as [described in this comment](https://gitlab.com/gitlab-org/gitlab/-/issues/335563#note_638336638). For future features using this need of \"download and cache from an external url\" will need to implement the following:\n\n### Option 1: Using a response header\n\n  * the rails that returns the new response header\n  * the `/authorize` rails endpoint\n  * the upload rails endpoint\n\n### Option 2: Using a route handler\n  * the `/authorize` rails endpoint\n  * the upload rails endpoint\n  * the new route in workhorse router\n\n## Implementation plan\n\nThe items below only describes the route handler approach, the response header approach has not been broken out. Both approaches should be evaluated before choosing the best one to solve this problem. \n\n* [ ] Add the [blob route](https://gitlab.com/gitlab-org/gitlab/-/blob/e411f3782b55e9689dc3fdf5540dbc5f9f4a9e1f/config/routes/group.rb#L147) to the upstream routes to be intercepted.\n* [ ] Update the response to the `/authorize` request to accept a json payload with fields (URL and token) for requesting an image from an external registry.\n  * [ ] Use the returned URL and token to request the blob and upload it to the configured file storage system.\n  * [ ] Allow workhorse to then follow the existing logic to return the file metadata back to rails to complete the originally received request to download the blob.\n  * [ ] Return the blob file","state":"closed","created_at":"2021-07-08T19:34:41.565Z","updated_at":"2021-11-18T07:00:47.254Z","closed_at":"2021-10-20T05:04:34.541Z","closed_by":{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"},"labels":["Category:Dependency Proxy","Category:Source Code Management","Deliverable","Eng-Consumer::Infrastructure","Eng-Producer::Development","Engineering Allocation","backend","devops::create","golang","group::source code","infradev","missed:14.2","missed:14.3","priority::2","reliability","section::dev","severity::2","workflow::in review","workhorse"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"}],"author":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"type":"ISSUE","assignee":{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"},"user_notes_count":64,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335563","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":5,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 5 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335563","notes":"https://gitlab.com/api/v4/projects/278964/issues/335563/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335563/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335563","relative":"#335563","full":"gitlab-org/gitlab#335563"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6396,"epic":{"id":312181,"iid":6396,"title":"Update the Dependency Proxy to use workhorse","url":"/groups/gitlab-org/-/epics/6396","group_id":9970,"human_readable_end_date":"Nov 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":89987156,"iid":335562,"project_id":278964,"title":"Investigate performance of Projects::MergeRequests::ContentController#widget","description":"Reported as slow in https://gitlab.com/gitlab-org/gitlab/-/issues/335329#note_620405174\n\nDashboard: https://log.gprd.gitlab.net/goto/1228b988e958de29d5a90264dcf7bffb\n\n| json.meta.caller_id.keyword: Descending              | Count      | Operations over threshold |\n|------------------------------------------------------|------------|---------------------------|\n| Projects::MergeRequests::ContentController#widget    | 61,401,211 | 282,509                   |\n\n\n\nPossibly related to https://gitlab.com/groups/gitlab-org/-/epics/3986 and https://gitlab.com/groups/gitlab-org/-/epics/6142","state":"closed","created_at":"2021-07-08T19:32:54.419Z","updated_at":"2021-09-20T17:36:54.236Z","closed_at":"2021-09-14T20:20:14.422Z","closed_by":{"id":4058309,"username":"mnohr","name":"Matt Nohr","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f2b70c7a75fd0a15ef789d4b1e620449?s=80\u0026d=identicon","web_url":"https://gitlab.com/mnohr"},"labels":["Deliverable","Engineering Allocation","OKR FY22 Q2::Large MR","api","backend","bug::performance","devops::create","group::code review","section::dev","workflow::ready for development"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":142752,"username":"garyh","name":"Gary Holtz","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/142752/avatar.png","web_url":"https://gitlab.com/garyh"}],"author":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"type":"ISSUE","assignee":{"id":142752,"username":"garyh","name":"Gary Holtz","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/142752/avatar.png","web_url":"https://gitlab.com/garyh"},"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335562","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335562","notes":"https://gitlab.com/api/v4/projects/278964/issues/335562/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335562/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335562","relative":"#335562","full":"gitlab-org/gitlab#335562"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6292,"epic":{"id":302092,"iid":6292,"title":"Create:Code Review Error Budget Improvement","url":"/groups/gitlab-org/-/epics/6292","group_id":9970,"human_readable_end_date":"Sep 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":89987120,"iid":335561,"project_id":278964,"title":"Investigate slow request: GET /api/:version/projects/:id/merge_requests","description":"Reported as slow in https://gitlab.com/gitlab-org/gitlab/-/issues/335329#note_620405174\n\nDashboard: https://log.gprd.gitlab.net/goto/1228b988e958de29d5a90264dcf7bffb\n\n| json.meta.caller_id.keyword: Descending              | Count      | Operations over threshold |\n|------------------------------------------------------|------------|---------------------------|\n| GET /api/:version/projects/:id/merge_requests        | 64,006,009 | 395,366                   |\n\nFor the last 7 days","state":"closed","created_at":"2021-07-08T19:30:55.369Z","updated_at":"2021-09-18T07:00:59.172Z","closed_at":"2021-09-14T20:19:16.267Z","closed_by":{"id":4058309,"username":"mnohr","name":"Matt Nohr","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f2b70c7a75fd0a15ef789d4b1e620449?s=80\u0026d=identicon","web_url":"https://gitlab.com/mnohr"},"labels":["Deliverable","Engineering Allocation","api","backend","bug::performance","devops::create","group::code review","section::dev","workflow::ready for development"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":5918904,"username":"marc_shaw","name":"Marc Shaw","state":"active","avatar_url":"https://secure.gravatar.com/avatar/78c946cb19e40815a2b5d97cefecec6a?s=80\u0026d=identicon","web_url":"https://gitlab.com/marc_shaw"}],"author":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"type":"ISSUE","assignee":{"id":5918904,"username":"marc_shaw","name":"Marc Shaw","state":"active","avatar_url":"https://secure.gravatar.com/avatar/78c946cb19e40815a2b5d97cefecec6a?s=80\u0026d=identicon","web_url":"https://gitlab.com/marc_shaw"},"user_notes_count":17,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335561","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335561","notes":"https://gitlab.com/api/v4/projects/278964/issues/335561/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335561/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335561","relative":"#335561","full":"gitlab-org/gitlab#335561"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6292,"epic":{"id":302092,"iid":6292,"title":"Create:Code Review Error Budget Improvement","url":"/groups/gitlab-org/-/epics/6292","group_id":9970,"human_readable_end_date":"Sep 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":89987024,"iid":335560,"project_id":278964,"title":"Dependency Proxy workhorse migration for image manifests","description":"## Context\n\nYou can use the dependency proxy to proxy and cache container images from docker hub. When you cache an image/tag, it includes a blob(s) and manifest. In https://gitlab.com/gitlab-org/gitlab/-/issues/335563 we updated the dependency proxy to use workhorse and we focused on blobs since the blobs are much larger than manifests which are typically small. \n\n## Problem to solve\n\nFollowing https://gitlab.com/gitlab-org/gitlab/-/issues/335563 update the dependency proxy to use workhorse for image manifests. \n\n## Relevant links\n\n* [Parent Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/11548)\n* [Workhorse counterpart issue](https://gitlab.com/gitlab-org/gitlab/-/issues/335563)\n* [Sequence diagram](https://gitlab.com/gitlab-org/gitlab/-/issues/11548#note_617440351)\n\n## Implementation plan\n\n- [x] Update the DependencyProxyForContainersController to use `send_dependency` for manifests to be pulled via workhorse.\n- [x] This change should be behind a feature flag\n\n## Testing and Availability\n\nWe have end-to-end tests for dependency proxy features. These tests should be passing after this implementation. To verify that we run `package-and-qa` on the MRs. No end-to-end test refactoring is needed.","state":"closed","created_at":"2021-07-08T19:28:00.542Z","updated_at":"2021-12-02T20:09:52.915Z","closed_at":"2021-11-15T15:42:17.728Z","closed_by":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"labels":["Category:Dependency Proxy","Deliverable","Eng-Consumer::Infrastructure","Eng-Producer::Development","Engineering Allocation","Package:P1","backend","bug::performance","corrective action","devops::package","group::package registry","infradev","package:cross-group-dependency","priority::2","quad-planning::complete-action","reliability","ruby","section::ops","severity::2","workflow::production"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"}],"author":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"type":"ISSUE","assignee":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"user_notes_count":38,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":"2021-09-20","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335560","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":2},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335560","notes":"https://gitlab.com/api/v4/projects/278964/issues/335560/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335560/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335560","relative":"#335560","full":"gitlab-org/gitlab#335560"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6396,"epic":{"id":312181,"iid":6396,"title":"Update the Dependency Proxy to use workhorse","url":"/groups/gitlab-org/-/epics/6396","group_id":9970,"human_readable_end_date":"Nov 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":89985797,"iid":335558,"project_id":278964,"title":"Expose `deployment_tier` in the ‚ÄúPipeline events‚Äù webhook","description":"\u003c!-- This template is a great use for issues that are feature::additions or technical tasks for larger issues.--\u003e\n\n### Release notes\nIn GitLab 13.10, we introduced the concept [deployment_tier](https://docs.gitlab.com/ee/ci/environments/#deployment-tier-of-environments). In this release, we added `deployment_tier in the [Pipeline events webhook](https://docs.gitlab.com/ee/user/project/integrations/webhooks.html#pipeline-events) so that user can automate their processes based on the deployment_tier information.\n\n### Proposal \n\nThe pipeline event webhook currently returns the environment object, but not environment_tier. Having this information is useful particularly if non-standard names are used.\n\nThis request is related to https://gitlab.com/gitlab-org/gitlab/-/issues/333261","state":"closed","created_at":"2021-07-08T18:57:06.899Z","updated_at":"2022-10-11T14:38:34.361Z","closed_at":"2021-08-10T20:26:38.223Z","closed_by":{"id":5213298,"username":"kbychu","name":"Kevin Chu","state":"active","avatar_url":"https://secure.gravatar.com/avatar/0b6f70425a17d5ab47ec6093f8df9aa6?s=80\u0026d=identicon","web_url":"https://gitlab.com/kbychu"},"labels":["Category:Continuous Delivery","GitLab Core","candidate::14.2","devops::release","environments","group::release","release post item::in review","section::ops","workflow::production"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":9253328,"username":"bala.kumar","name":"Bala Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9253328/avatar.png","web_url":"https://gitlab.com/bala.kumar"}],"author":{"id":5213298,"username":"kbychu","name":"Kevin Chu","state":"active","avatar_url":"https://secure.gravatar.com/avatar/0b6f70425a17d5ab47ec6093f8df9aa6?s=80\u0026d=identicon","web_url":"https://gitlab.com/kbychu"},"type":"ISSUE","assignee":{"id":9253328,"username":"bala.kumar","name":"Bala Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9253328/avatar.png","web_url":"https://gitlab.com/bala.kumar"},"user_notes_count":7,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335558","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335558","notes":"https://gitlab.com/api/v4/projects/278964/issues/335558/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335558/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335558","relative":"#335558","full":"gitlab-org/gitlab#335558"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":89985182,"iid":335555,"project_id":278964,"title":"Update urllib3 python dependency (CVE)","description":"### Problem\n\nAPI Security makes use of the Python urllib3 library. A new vulnerability has been found in some versions of the library. API Security uses the vulnerable version.\n\n### Proposal\n\nTasks:\n\n1. [x] Update from Alpine 3.12 to 3.13 to receive the new package\n1. [x] Update from .NET Core 3.1.403 to 3.1.410 (latest)\n1. [x] Change tox.ini versions to 3.3.2\n1. [x] Compile urllib3 and requests from source\n1. [x] Build new base image\n1. [x] Build new image\n1. [x] Verify dependency scan passes\n1. [x] Publish new image","state":"closed","created_at":"2021-07-08T18:38:17.199Z","updated_at":"2021-07-09T00:13:42.849Z","closed_at":"2021-07-09T00:13:42.833Z","closed_by":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"labels":["Category:Fuzz Testing","GitLab Ultimate","devops::secure","group::dynamic analysis","priority::2","section::sec","severity::2","type::bug","workflow::verification"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"}],"author":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"type":"ISSUE","assignee":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335555","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":8,"completed_count":8},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"8 of 8 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335555","notes":"https://gitlab.com/api/v4/projects/278964/issues/335555/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335555/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335555","relative":"#335555","full":"gitlab-org/gitlab#335555"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":89982255,"iid":335549,"project_id":278964,"title":"Add finished testing output section to worker-entry","description":"## Problem \n\nShow the user information about the test that may be informative or allow deciding if configuration is correct. Also improve the information to be more accurate and closer to what the user would expect.\n\n### Proposal\n\nThe API Security produces the following output\n\n```log\n2021-11-04 00:00:00 [INF] API Security: API Security Version: 1.6.193\n2021-11-04 00:00:00 [INF] API Security: Loaded 1 operations from: test_rest_target.har\n2021-11-04 00:00:00 [INF] API Security: Testing operation: 'GET /users.json'.\n2021-11-04 00:00:00 [INF] API Security: Finished testing operation 'GET /users.json' performed 1 requests.\n2021-11-04 00:00:00 [INF] API Security: Finished testing. Performed a total of 1 requests.\n2021-11-04 00:00:00 [INF] API Security: Generating security report as 'gl-dast-api-report.json'.\n2021-11-04 00:00:00 [INF] API Security: \n2021-11-04 00:00:00 [INF] API Security: --[ Tested Operations ]-------------------------\n2021-11-04 00:00:00 [INF] API Security: 200 GET https://ssl-target:443/users.json OK\n2021-11-04 00:00:00 [INF] API Security: ------------------------------------------------\n2021-11-04 00:00:00 [INF] API Security: --[ Excluded Operations ]-----------------------\n2021-11-04 00:00:00 [INF] API Security: No operations were excluded\n2021-11-04 00:00:00 [INF] API Security: ------------------------------------------------\n2021-11-04 00:00:00 [INF] API Security: \n2021-11-04 00:00:00 [INF] API Security: Testing completed successfully, 1 issues detected.\n```\n\nPrevious output sample, focuses in Operations and Requests, but it does not provide information about active checks. The output should be updated as follows:\n\n```log\n2021-11-04 00:00:00 [INF] API Security: API Security Version: 1.6.193\n2021-11-04 00:00:00 [INF] API Security: Loaded 1 operations from: test_rest_target.har\n2021-11-04 00:00:00 [INF] API Security: Testing operation: 'GET /users.json'.\n2021-11-04 00:00:00 [INF] API Security: Finished testing operation 'GET /users.json' performed 1 requests.\n2021-11-04 00:00:00 [INF] API Security: Generating security report as 'gl-dast-api-report.json'.\n2021-11-04 00:00:00 [INF] API Security:\n2021-11-04 00:00:00 [INF] API Security: --[ Tested Operations ]-------------------------\n2021-11-04 00:00:00 [INF] API Security: 200 GET https://ssl-target:443/users.json OK\n2021-11-04 00:00:00 [INF] API Security: ------------------------------------------------\n2021-11-04 00:00:00 [INF] API Security:\n2021-11-04 00:00:00 [INF] API Security: --[ Excluded Operations ]-----------------------\n2021-11-04 00:00:00 [INF] API Security: No operations were excluded\n2021-11-04 00:00:00 [INF] API Security: ------------------------------------------------\n2021-11-04 00:00:00 [INF] API Security:\n2021-11-04 00:00:00 [INF] API Security: --[ Finished testing ]-------------------------\n2021-11-04 00:00:00 [INF] API Security: Testing completed successfully\n2021-11-04 00:00:00 [INF] API Security:\n2021-11-04 00:00:00 [INF] API Security:  * Performed total of 1 API requests.\n2021-11-04 00:00:00 [INF] API Security:  * Performed total of 1 security checks.\n2021-11-04 00:00:00 [INF] API Security:    - Active checks....: 1\n2021-11-04 00:00:00 [INF] API Security:    - Passive checks...: 1\n2021-11-04 00:00:00 [INF] API Security:  * Detected XX vulnerabilities.\n2021-11-04 00:00:00 [INF] API Security: ------------------------------------------------\n2021-11-04 00:00:00 [INF] API Security: \n2021-11-04 00:00:00 [INF] API Security: Testing completed successfully\n2021-11-04 00:00:00 [INF] API Security: \n```\n\n* Total of API requests: The number of API calls made by mutational checks\n* Total of security checks: The number of passive, active, and mutational checks\n  * Active checks is the combination of active and mutational checks\n* Detected XX vulnerabilities\n  * The count of vulnerabilities using the report logic. The report logic flattens faults that contain sub-faults to get a different count then our current fault count in the job status/job details API call.\n\n### Implementation plan\n\nTo gather information to produce this output:\n\n1. [X] Update scanner to collect data\n   1. [X] Update `SessionStatus` class. (Counters can accessed using `this._jobInstance.Job.Status`)\n      1. [X] Add property `PassiveCheckCount` to `SessionStatus`  class.\n      1. [X] Add property `ActiveCheckCount` to `SessionStatus`  class\n      1. [X] Add property `MutationalCheckCount` to `SessionStatus`  class.\n   1. [X] Update counters into `WebCheckStrategy`\n      1. [X] Increase `ActiveCheckCount` in `StartActiveCheck` method before exiting.\n      1. [X] Increase `PassiveCheckCount` in `EvaluatePassiveChecks` into the check loop. After check and assertions have been performed.\n      1. [X] Increase `MutationalCheckCount` in `EvaluateScope`. \n      ```csharp\n            // Identify Mutation checks to be run\n\t\t\tvar checks = exchange.RouteWithChecks.Checks\n\t\t\t\t.OfType\u003cIMutationCheck\u003e()\n\t\t\t\t.Where(x =\u003e x.BaseConfiguration.IsEnabled \u0026\u0026 x.Scope == scope);\n\t\t\tforeach (var check in checks)\n\t\t\t{\n\t\t\t\tcontext.Parameter = parameter;\n\t\t\t\tvar mutation = check.MutationCheck(context);\n\t\t\t\tif (mutation.Applicable)\n\t\t\t\t{\n                    // ***** INCREASE COUNT HERE *****\n\t\t\t\t\tfor (var j = 0; j \u003c mutation.Count; j++)\n      ```\n      **NOTE** There are two locations where `check.MutationCheck` is invoked. Only increase counter on new checks, skip retry invocation.\n1. [X]  Update `worker-entry` \n   1. [X] Ensure counters are delivered thru Web API\n   1. [X] Update output\n      1. [X] Remove `2021-11-04 00:00:00 [INF] API Security: Finished testing. Performed a total of 1 requests.`\n      1. [X] Remove `2021-11-04 00:00:00 [INF] API Security: Testing completed successfully, 1 issues detected.`\n      1. [X] Add sections using values from WebAPI\n      ```log\n      2021-11-04 00:00:00 [INF] API Security: --[ Finished testing ]-------------------------\n      2021-11-04 00:00:00 [INF] API Security: Testing completed successfully\n      2021-11-04 00:00:00 [INF] API Security:\n      2021-11-04 00:00:00 [INF] API Security:  * Performed total of 1 API requests.\n      2021-11-04 00:00:00 [INF] API Security:  * Performed total of 1 security checks.\n      2021-11-04 00:00:00 [INF] API Security:    - Active checks....: 1\n      2021-11-04 00:00:00 [INF] API Security:    - Passive checks...: 1\n      2021-11-04 00:00:00 [INF] API Security:  * Detected XX vulnerabilities.\n      2021-11-04 00:00:00 [INF] API Security: ------------------------------------------------\n      2021-11-04 00:00:00 [INF] API Security: \n      2021-11-04 00:00:00 [INF] API Security: Testing completed successfully\n      2021-11-04 00:00:00 [INF] API Security: \n      ```\n   1. [X]  Review output (e.g. empty lines between sections, padding);\n1. [X]  Add C# integration test validating counters.","state":"closed","created_at":"2021-07-08T17:10:58.504Z","updated_at":"2021-11-17T07:45:23.797Z","closed_at":"2021-11-16T04:28:29.359Z","closed_by":{"id":7488329,"username":"herbmadrigal","name":"Herber Madrigal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7488329/avatar.png","web_url":"https://gitlab.com/herbmadrigal"},"labels":["Category:Fuzz Testing","GitLab Ultimate","backend","devops::secure","group::dynamic analysis","section::sec","workflow::verification"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":7488329,"username":"herbmadrigal","name":"Herber Madrigal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7488329/avatar.png","web_url":"https://gitlab.com/herbmadrigal"}],"author":{"id":7488329,"username":"herbmadrigal","name":"Herber Madrigal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7488329/avatar.png","web_url":"https://gitlab.com/herbmadrigal"},"type":"ISSUE","assignee":{"id":7488329,"username":"herbmadrigal","name":"Herber Madrigal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7488329/avatar.png","web_url":"https://gitlab.com/herbmadrigal"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335549","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":17,"completed_count":17},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"17 of 17 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335549","notes":"https://gitlab.com/api/v4/projects/278964/issues/335549/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335549/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335549","relative":"#335549","full":"gitlab-org/gitlab#335549"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":89981377,"iid":335548,"project_id":278964,"title":"Remove border from trial registration form when reassurances are shown","description":"The following discussion from !61639 should be addressed:\n\n- [ ] @kcomoli started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/61639#note_621540174):  (+1 comment)\n\n    \u003e @dreedy **Non-Blocking**: Using this layout we should remove the border from the form.\n    \u003e \n    \u003e | Control | Group |\n    \u003e | ------ | ------ |\n    \u003e | ![image](/uploads/b210825e67540aa708a68829c6910031/image.png) | ![image](/uploads/ca9d38d06180279318aa67333616ee82/image.png) |\n    \u003e \n    \u003e I'm fine with tackling this as part of the experiment clean-up.","state":"closed","created_at":"2021-07-08T16:45:04.983Z","updated_at":"2022-02-14T18:36:27.786Z","closed_at":"2022-02-14T18:36:27.763Z","closed_by":{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"},"labels":["Category:Conversion Experiment","devops::growth","experiment::clean up","group::acquisition","section::growth","type::maintenance","workflow::production"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"}],"author":{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"},"type":"ISSUE","assignee":{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"},"user_notes_count":3,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335548","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335548","notes":"https://gitlab.com/api/v4/projects/278964/issues/335548/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335548/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335548","relative":"#335548","full":"gitlab-org/gitlab#335548"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6311,"epic":{"id":305008,"iid":6311,"title":"[Engineering] Experiment Cleanup: Add reassurance to the trial flow ‚Äì¬†Design 1","url":"/groups/gitlab-org/-/epics/6311","group_id":9970,"human_readable_end_date":"Feb 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":89981320,"iid":335547,"project_id":278964,"title":"üé® Design: Show pending approval policies in the policy list","description":"Please reference requirements on the [parent epic](https://gitlab.com/groups/gitlab-org/-/epics/5447)\n\n- Figma: https://www.figma.com/file/actVYkcrS1tcHCc890DOdv/Vulnerability-check-approval-rules?node-id=413%3A12539\n- Video walkover: https://youtu.be/HDr20FLmpcc\n- Design details: see attached photo","state":"closed","created_at":"2021-07-08T16:44:00.968Z","updated_at":"2022-01-18T11:43:01.156Z","closed_at":"2021-09-17T10:11:14.326Z","closed_by":{"id":4544240,"username":"cam.x","name":"Camellia X Yang","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7ea4de9b3092f62013d2cfd0c340811a?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam.x"},"labels":["Category:Security Policy Management","UI text","UX","devops::govern","group::security policies","missed:14.2","section::sec","workflow::design"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":4544240,"username":"cam.x","name":"Camellia X Yang","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7ea4de9b3092f62013d2cfd0c340811a?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam.x"}],"author":{"id":5292351,"username":"sam.white","name":"Sam White","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d467fb024d1858d279e6a36e028436ac?s=80\u0026d=identicon","web_url":"https://gitlab.com/sam.white"},"type":"ISSUE","assignee":{"id":4544240,"username":"cam.x","name":"Camellia X Yang","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7ea4de9b3092f62013d2cfd0c340811a?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam.x"},"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335547","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335547","notes":"https://gitlab.com/api/v4/projects/278964/issues/335547/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335547/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335547","relative":"#335547","full":"gitlab-org/gitlab#335547"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5447,"epic":{"id":211476,"iid":5447,"title":"Provide a UI-based Policy Approval Workflow","url":"/groups/gitlab-org/-/epics/5447","group_id":9970,"human_readable_end_date":"Sep 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":89975278,"iid":335532,"project_id":278964,"title":"Fix parse_usage_ping_keys method to be able to check hash values","description":"The following discussion from !65336 should be addressed:\n\n- [ ] @alinamihaila started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/65336#note_621739510): \n\n    \u003e `projects_with_enabled_alert_integrations_histogram` and `topology ` are hash values and they are not correctly handled by the [`parse_usage_ping_keys `](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/65336/diffs#4cb7aeffe5be904fb2f978687a097542876f1209_53_55) method. \n    \u003e \n    \u003e Initially the object type metrics were skipped but now we have a different case, an object type metric that has an array as a value.\n    \u003e \n    \u003e I'll open a follow-up issue to improve the logic of `parse_usage_ping_keys` we should be able to check hash values too.","state":"closed","created_at":"2021-07-08T14:58:08.556Z","updated_at":"2021-10-28T13:55:22.069Z","closed_at":"2021-08-02T13:56:36.801Z","closed_by":{"id":8013274,"username":"pskorupa","name":"Piotr Skorupa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8013274/avatar.png","web_url":"https://gitlab.com/pskorupa"},"labels":["backend","devops::growth","group::product intelligence","maintenance::refactor","section::growth","type::maintenance","workflow::verification"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":8013274,"username":"pskorupa","name":"Piotr Skorupa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8013274/avatar.png","web_url":"https://gitlab.com/pskorupa"}],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":{"id":8013274,"username":"pskorupa","name":"Piotr Skorupa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8013274/avatar.png","web_url":"https://gitlab.com/pskorupa"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335532","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335532","notes":"https://gitlab.com/api/v4/projects/278964/issues/335532/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335532/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335532","relative":"#335532","full":"gitlab-org/gitlab#335532"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":89972470,"iid":335529,"project_id":278964,"title":"Support multiple databases in Postgresql::ReplicationSlot","description":"This class is an ActiveRecord model and currently inherits from `ApplicationRecord`. This limits it to the primary database, but we may also need it when supporting multiple databases.\n\nWhat we probably need to do is add some sort of `ReplicationSlot` module, then include that into this class. We can then use that for every database that needs to use this model.","state":"closed","created_at":"2021-07-08T14:20:25.665Z","updated_at":"2022-05-31T12:22:24.711Z","closed_at":"2021-08-03T16:39:36.464Z","closed_by":{"id":209240,"username":"yorickpeterse","name":"Yorick Peterse","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/209240/avatar.png","web_url":"https://gitlab.com/yorickpeterse"},"labels":["Category:Pods","devops::data_stores","group::pods","section::enablement","type::feature"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":209240,"username":"yorickpeterse","name":"Yorick Peterse","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/209240/avatar.png","web_url":"https://gitlab.com/yorickpeterse"}],"author":{"id":209240,"username":"yorickpeterse","name":"Yorick Peterse","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/209240/avatar.png","web_url":"https://gitlab.com/yorickpeterse"},"type":"ISSUE","assignee":{"id":209240,"username":"yorickpeterse","name":"Yorick Peterse","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/209240/avatar.png","web_url":"https://gitlab.com/yorickpeterse"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335529","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335529","notes":"https://gitlab.com/api/v4/projects/278964/issues/335529/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335529/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335529","relative":"#335529","full":"gitlab-org/gitlab#335529"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5974,"epic":{"id":268361,"iid":5974,"title":"Generalise our Load Balancing usage to allow many databases","url":"/groups/gitlab-org/-/epics/5974","group_id":9970,"human_readable_end_date":"Sep 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":89964426,"iid":335511,"project_id":278964,"title":"Resolve inconsistency between confidential note permissions and description in UI","description":"When creating a confidential note, the tool-tip says that it will be visible to project members only:\n\n![image](/uploads/678d81c85d59510c5f632108fb478bc1/image.png)\n\nHowever, this is not true.\n\nPermission to view the note is contingent upon permission status of reporter or higher (or being author or assignee of the issue) and doesn't depend on direct project membership (See https://gitlab.com/gitlab-org/gitlab/-/merge_requests/27782/diffs#862253f6d2f6f9c952574cac84a299853a8e6e2c_21_21).\n\nFor example:\n* Maintainer-level members of the parent group can see confidential comments.\n* Guest-level direct members of a private project cannot see confidential comments.\n\n## Proposal\n\nUpdate the tooltip to read:\n\n\u003e Confidential comments are only visible to Members with the role of Reporter or above\n\n/cc @mjwood @hollyreynolds @uhlexsis","state":"closed","created_at":"2021-07-08T12:40:39.185Z","updated_at":"2022-01-17T18:28:43.385Z","closed_at":"2021-12-14T10:28:57.547Z","closed_by":{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"},"labels":["Technical Writing","UI text","backend","devops::plan","feature::enhancement","frontend","good for new contributors","group::product planning","section::dev","tw-weight::3","type::feature","workflow::in review"],"milestone":null,"assignees":[{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"}],"author":{"id":4418630,"username":"johnhope","name":"John Hope","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4418630/avatar.png","web_url":"https://gitlab.com/johnhope"},"type":"ISSUE","assignee":{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335511","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335511","notes":"https://gitlab.com/api/v4/projects/278964/issues/335511/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335511/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335511","relative":"#335511","full":"gitlab-org/gitlab#335511"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2697,"epic":{"id":22398,"iid":2697,"title":"Allow private comments on all commentable resources","url":"/groups/gitlab-org/-/epics/2697","group_id":9970,"human_readable_end_date":"May 17, 2023","human_readable_timestamp":"\u003cstrong\u003e4\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":89960353,"iid":335503,"project_id":278964,"title":"Using `vulnerability_reads` table to speed up API responses","description":"## Why are we doing this work\n\nAs we create a new table called `vulnerability_reads` to query vulnerability data efficiently without the necessity of joining different tables, we need to change our logic to generate API responses based on this new table to improve the performance of our software.\n\n## Relevant links\n\n- The issue to create the data model: #335326\n\n## Implementation plan\n\n- [x] ~backend Implement a new finder class to utilize the `vulnerability_reads` table to find vulnerability records\n- [x] ~backend Create a new feature flag to use either the new or old finder class to fetch the vulnerability records","state":"closed","created_at":"2021-07-08T11:32:05.550Z","updated_at":"2022-05-31T15:09:11.671Z","closed_at":"2022-03-15T23:47:34.500Z","closed_by":{"id":480804,"username":"thiagocsf","name":"Thiago Figueir√≥","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480804/avatar.png","web_url":"https://gitlab.com/thiagocsf"},"labels":["Category:Vulnerability Management","Deliverable","Eng-Consumer::Infrastructure","Eng-Producer::Development","Engineering Allocation","backend","devops::secure","group::threat insights","infradev","missed-deliverable","missed:14.6","priority::2","section::sec","severity::2","workflow::verification"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":8401507,"username":"sashi_kumar","name":"Sashi Kumar Kumaresan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8401507/avatar.png","web_url":"https://gitlab.com/sashi_kumar"}],"author":{"id":5721376,"username":"minac","name":"Mehmet Emin INAC","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d8bdee790902422e3554e411a173c7c0?s=80\u0026d=identicon","web_url":"https://gitlab.com/minac"},"type":"ISSUE","assignee":{"id":8401507,"username":"sashi_kumar","name":"Sashi Kumar Kumaresan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8401507/avatar.png","web_url":"https://gitlab.com/sashi_kumar"},"user_notes_count":36,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335503","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":2},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335503","notes":"https://gitlab.com/api/v4/projects/278964/issues/335503/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335503/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335503","relative":"#335503","full":"gitlab-org/gitlab#335503"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6903,"epic":{"id":368043,"iid":6903,"title":"Improve performance of vulnerability reads","url":"/groups/gitlab-org/-/epics/6903","group_id":9970,"human_readable_end_date":"May 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":89959958,"iid":335501,"project_id":278964,"title":"Populate data for the `vulnerability_reads` table","description":"## Why are we doing this work\n\nAs we create a new table called `vulnerability_reads` to query vulnerability data efficiently without the necessity of joining different tables, we should fill this new table with the data therefore we have this issue to write a background migration to create records in this new table.\n\n## Relevant links\n\n- The issue to create the data model: #335326\n\n## Implementation plan\n\n- [x] ~database Write a background migration to populate data for the `vulnerability_reads` table.","state":"closed","created_at":"2021-07-08T11:25:27.553Z","updated_at":"2022-02-18T07:03:41.218Z","closed_at":"2022-02-09T02:34:46.509Z","closed_by":{"id":8401507,"username":"sashi_kumar","name":"Sashi Kumar Kumaresan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8401507/avatar.png","web_url":"https://gitlab.com/sashi_kumar"},"labels":["Category:Vulnerability Management","Deliverable","backend","database","devops::secure","group::threat insights","missed-deliverable","missed:14.6","missed:14.7","section::sec","workflow::verification"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":8401507,"username":"sashi_kumar","name":"Sashi Kumar Kumaresan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8401507/avatar.png","web_url":"https://gitlab.com/sashi_kumar"}],"author":{"id":5721376,"username":"minac","name":"Mehmet Emin INAC","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d8bdee790902422e3554e411a173c7c0?s=80\u0026d=identicon","web_url":"https://gitlab.com/minac"},"type":"ISSUE","assignee":{"id":8401507,"username":"sashi_kumar","name":"Sashi Kumar Kumaresan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8401507/avatar.png","web_url":"https://gitlab.com/sashi_kumar"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335501","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":1},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335501","notes":"https://gitlab.com/api/v4/projects/278964/issues/335501/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335501/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335501","relative":"#335501","full":"gitlab-org/gitlab#335501"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6903,"epic":{"id":368043,"iid":6903,"title":"Improve performance of vulnerability reads","url":"/groups/gitlab-org/-/epics/6903","group_id":9970,"human_readable_end_date":"May 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":89954544,"iid":335495,"project_id":278964,"title":"LFS download service not skipping body fragment on redirect","description":"### Summary\n\nWhen mirroring an external repository using object storage (Gitlab + S3), I get a 'size mismatch' error.\n\nThis is due to the body of the redirection not being skipped in this code:\nhttps://gitlab.com/gitlab-org/gitlab/-/blob/master/app/services/projects/lfs_pointers/lfs_download_service.rb#L63\n\n### Possible fixes\n\nReplace this code:\n```ruby\n      def download_and_save_file!(file)\n        digester = Digest::SHA256.new\n        fetch_file do |fragment|\n          digester \u003c\u003c fragment\n          file.write(fragment)\n\n          raise_size_error! if file.size \u003e lfs_size\n        end\n\n```\n with\n\n```ruby\n      def download_and_save_file!(file)\n        digester = Digest::SHA256.new\n        fetch_file do |fragment|\n          if ! [301, 302].include?(fragment.code)\n            digester \u003c\u003c fragment\n            file.write(fragment) \n          end\n          raise_size_error! if file.size \u003e lfs_size         \n        end\n```","state":"closed","created_at":"2021-07-08T09:39:57.442Z","updated_at":"2023-01-09T08:19:12.973Z","closed_at":"2021-09-21T19:55:38.823Z","closed_by":{"id":806342,"username":"Scapal","name":"Pascal Fautr√©","state":"active","avatar_url":"https://secure.gravatar.com/avatar/07f2506c16f35bc87f0c75a900964733?s=80\u0026d=identicon","web_url":"https://gitlab.com/Scapal"},"labels":["Category:Source Code Management","Git LFS","[deprecated] Accepting merge requests","devops::create","group::source code","missed-SLO","missed:14.3","priority::2","section::dev","severity::2","type::bug"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[],"author":{"id":806342,"username":"Scapal","name":"Pascal Fautr√©","state":"active","avatar_url":"https://secure.gravatar.com/avatar/07f2506c16f35bc87f0c75a900964733?s=80\u0026d=identicon","web_url":"https://gitlab.com/Scapal"},"type":"ISSUE","assignee":null,"user_notes_count":3,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335495","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335495","notes":"https://gitlab.com/api/v4/projects/278964/issues/335495/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335495/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335495","relative":"#335495","full":"gitlab-org/gitlab#335495"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":89949162,"iid":335491,"project_id":278964,"title":"Add scope menu to the group sidebar","description":"The first element of the panel is the scope menu. This menu is the first one we find in the sidebar:\n\n![image](/uploads/2f524a4b73ce5a38bebc64b73afc299a/image.png)","state":"closed","created_at":"2021-07-08T08:22:59.441Z","updated_at":"2021-07-08T08:23:14.171Z","closed_at":"2021-07-08T08:23:14.140Z","closed_by":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier L√≥pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"labels":["Category:Navigation \u0026 Settings","backend","devops::create","group::editor","section::dev"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[],"author":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier L√≥pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335491","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335491","notes":"https://gitlab.com/api/v4/projects/278964/issues/335491/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335491/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335491","relative":"#335491","full":"gitlab-org/gitlab#335491"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5819,"epic":{"id":254641,"iid":5819,"title":"Group sidebar code refactor","url":"/groups/gitlab-org/-/epics/5819","group_id":9970,"human_readable_end_date":"Sep 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":89949132,"iid":335490,"project_id":278964,"title":"Add scope menu to the group sidebar","description":"The first element of the panel is the scope menu. This menu is the first one we find in the sidebar:\n\n![image](/uploads/2f524a4b73ce5a38bebc64b73afc299a/image.png)","state":"closed","created_at":"2021-07-08T08:22:39.136Z","updated_at":"2021-07-19T13:29:55.969Z","closed_at":"2021-07-19T13:29:55.909Z","closed_by":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier L√≥pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"labels":["Category:Navigation \u0026 Settings","[deprecated] Accepting merge requests","backend","devops::create","group::editor","section::dev"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":955795,"username":"fjsanpedro","name":"Francisco Javier L√≥pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"}],"author":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier L√≥pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"type":"ISSUE","assignee":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier L√≥pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335490","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335490","notes":"https://gitlab.com/api/v4/projects/278964/issues/335490/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335490/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335490","relative":"#335490","full":"gitlab-org/gitlab#335490"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5819,"epic":{"id":254641,"iid":5819,"title":"Group sidebar code refactor","url":"/groups/gitlab-org/-/epics/5819","group_id":9970,"human_readable_end_date":"Sep 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":89946992,"iid":335487,"project_id":278964,"title":"Use `DastProfilesSelector` component in On-demand scans form","description":"Epic - \u00265981\n\n### Context\n\nWe abstracted out DAST Site \u0026 Scanner Profile Selectors to a dedicated component in https://gitlab.com/gitlab-org/gitlab/-/issues/330726. \n\nThis allowed us to render both selectors in DAST Configuration UI, and also abstracted features like auto-selection with query params, etc.\n\n### Proposal\n\nThis issue is to refactor and reuse the `DastProfilesSelector` component with On-demand scans form. It should remove a lot of ~\"technical debt\" and improves reusability.\n\n### Implementation Plan\n\n- [ ] `ee/app/assets/javascripts/on_demand_scans/components/on_demand_scans_form.vue`\n   - [ ] Remove profile selector logics\n   - [ ] Add `DastProfilesSelector` component\n- [ ] `ee/app/assets/javascripts/on_demand_scans/settings.js`\n   - [ ] Remove `field` property as it's no longer used \n- [ ] Specs\n   - [ ] Remove duplicated specs\n   - [ ] Add assertions for wiring up `DastProfilesSelector`","state":"closed","created_at":"2021-07-08T07:47:23.794Z","updated_at":"2022-05-19T10:02:41.085Z","closed_at":"2022-05-19T06:00:19.784Z","closed_by":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"labels":["Category:DAST","devops::secure","frontend","group::dynamic analysis","maintenance::refactor","missed:14.2","section::sec","type::maintenance","workflow::blocked"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"}],"author":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"type":"ISSUE","assignee":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335487","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":8,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 8 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335487","notes":"https://gitlab.com/api/v4/projects/278964/issues/335487/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335487/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335487","relative":"#335487","full":"gitlab-org/gitlab#335487"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5981,"epic":{"id":269267,"iid":5981,"title":"DAST Configuration UI Implementation","url":"/groups/gitlab-org/-/epics/5981","group_id":9970,"human_readable_end_date":"Sep 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":89946382,"iid":335486,"project_id":278964,"title":"Improve usability for DAST Configuration UI","description":"Epic - https://gitlab.com/groups/gitlab-org/-/epics/5981\n\n### Proposal\n\nPreserve selected DAST Profiles when user navigates to add / update profile information.\n\n### Why\n\nThis is to improve UX when there are no profiles in a project and user creates both (site \u0026 scanner) profile from DAST Configuration UI. Upon creation, these two profiles should be auto-selected.\n\n### Implementation Plan\n\n- [ ] Cache selected profile using `localStorage`\n- [ ] Retrieve values from cache when user reload DAST Configuration UI page\n- [ ] Clear cache when user selects `Generate code snippet`","state":"closed","created_at":"2021-07-08T07:33:13.392Z","updated_at":"2022-05-23T11:42:18.571Z","closed_at":"2022-05-19T05:56:44.945Z","closed_by":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"labels":["Category:DAST","devops::secure","feature::enhancement","frontend","group::dynamic analysis","missed-deliverable","missed:14.2","section::sec","type::feature","workflow::ready for development"],"milestone":{"id":1212252,"iid":48,"group_id":9970,"title":"Next 1-3 releases","description":"Issues which are not quite ready to schedule, but should be considered as part of the near-term roadmap.","state":"active","created_at":"2020-03-26T20:39:10.889Z","updated_at":"2020-03-26T20:39:10.889Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/48"},"assignees":[{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"}],"author":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"type":"ISSUE","assignee":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335486","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335486","notes":"https://gitlab.com/api/v4/projects/278964/issues/335486/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335486/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335486","relative":"#335486","full":"gitlab-org/gitlab#335486"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5981,"epic":{"id":269267,"iid":5981,"title":"DAST Configuration UI Implementation","url":"/groups/gitlab-org/-/epics/5981","group_id":9970,"human_readable_end_date":"Sep 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":89945674,"iid":335484,"project_id":278964,"title":"Add new group panel to group sidebar","description":"After https://gitlab.com/groups/gitlab-org/-/epics/5695, we can start migrating group menus and menu items to the new logic.\n\nFirst, we need to start creating the new group panel. This panel will store later all the menus and sub-menus and split the current view into two different files.\n\nThere are no visual changes related to this issue.","state":"closed","created_at":"2021-07-08T07:17:20.523Z","updated_at":"2021-07-16T05:51:17.706Z","closed_at":"2021-07-16T05:51:17.648Z","closed_by":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier L√≥pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"labels":["Category:Navigation \u0026 Settings","backend","devops::create","group::editor","section::dev","workflow::in review"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":955795,"username":"fjsanpedro","name":"Francisco Javier L√≥pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"}],"author":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier L√≥pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"type":"ISSUE","assignee":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier L√≥pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335484","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335484","notes":"https://gitlab.com/api/v4/projects/278964/issues/335484/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335484/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335484","relative":"#335484","full":"gitlab-org/gitlab#335484"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5819,"epic":{"id":254641,"iid":5819,"title":"Group sidebar code refactor","url":"/groups/gitlab-org/-/epics/5819","group_id":9970,"human_readable_end_date":"Sep 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":89942042,"iid":335480,"project_id":278964,"title":"Rename License.usage_ping? method","description":"Rename `License.usage_ping?` method to `Licnese.customer_service_enabled?`\n\nhttps://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/models/license.rb#L579\n\n## Requirements\n\n- [x] Rename `usage_ping` to `customer_service_enabled`\n- [x] https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/services/ee/service_ping/build_payload_service.rb#L44\n- [x] Update related tests","state":"closed","created_at":"2021-07-08T06:00:05.494Z","updated_at":"2021-07-14T09:29:54.997Z","closed_at":"2021-07-14T09:16:22.071Z","closed_by":{"id":3509693,"username":"nicolasdular","name":"Nicolas Dular","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c4a21f15150c12ddf13fd848597cddd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/nicolasdular"},"labels":["backend","devops::growth","group::product intelligence","section::growth","workflow::in review"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":6265352,"username":"edith007","name":"Siddharth Asthana","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6265352/avatar.png","web_url":"https://gitlab.com/edith007"},{"id":8198564,"username":"rkadam3","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8198564/avatar.png","web_url":"https://gitlab.com/rkadam3"}],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":{"id":6265352,"username":"edith007","name":"Siddharth Asthana","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6265352/avatar.png","web_url":"https://gitlab.com/edith007"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335480","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335480","notes":"https://gitlab.com/api/v4/projects/278964/issues/335480/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335480/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335480","relative":"#335480","full":"gitlab-org/gitlab#335480"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6106,"epic":{"id":281992,"iid":6106,"title":"Rename UsagePing to ServicePing (Backend)","url":"/groups/gitlab-org/-/epics/6106","group_id":9970,"human_readable_end_date":"Aug 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":89934837,"iid":335469,"project_id":278964,"title":"Delete `vue_shared/components/project_avatar_deprecated/*.vue`","description":"Remove this deprecated component once all of https://gitlab.com/groups/gitlab-org/-/epics/6295 is completed.","state":"closed","created_at":"2021-07-08T00:59:16.567Z","updated_at":"2022-11-22T19:38:10.694Z","closed_at":"2022-03-30T04:56:52.973Z","closed_by":{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"},"labels":["devops::manage","frontend","section::dev","type::maintenance","workflow::production"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"}],"author":{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"},"type":"ISSUE","assignee":{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335469","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335469","notes":"https://gitlab.com/api/v4/projects/278964/issues/335469/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335469/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335469","relative":"#335469","full":"gitlab-org/gitlab#335469"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6294,"epic":{"id":302277,"iid":6294,"title":"Use GlAvatar for all project and group avatars in Vue","url":"/groups/gitlab-org/-/epics/6294","group_id":9970,"human_readable_timestamp":"\u003cstrong\u003e576\u003c/strong\u003e days elapsed"},"iteration":null,"health_status":null},{"id":89931761,"iid":335462,"project_id":278964,"title":"Add \"can_current_user_push_to_branch\" to GraphQL Query","description":"This is a follow-up issue to MR https://gitlab.com/gitlab-org/gitlab/-/merge_requests/65293, where we introduced the \"Delete\" blob functionality in Vue. \n\nHowever we run into a missing info that is not currently provided in GraphQL for the query `project.can_current_user_push_to_branch?(branch_name)`. This information is required to render the `hidden_field_tag 'create_merge_request'`. [Link to code](https://gitlab.com/gitlab-org/gitlab/blob/3fec2fa58d97ac606550da662faf8692acdb32ea/app/views/shared/_new_commit_form.html.haml#L20)\n\n![image](/uploads/65312fcf313204ced4717f1dcdd0e721/image.png)\n\n\n\nJust for reference, the `push_code` information is provided in GraphQL:\n\n\n\u003cimg src=\"/uploads/dacacb2878803692596fcf8a57060fc1/image.png\" height=\"200px\"\u003e\n\n\n## Proposal\n\n### ~backend \n\nCan we please create the `can_current_user_push_to_branch` via GraphQL üòÄ\n\n### ~frontend \n\nInclude this new field in the frontend query and use it for the `create_merge_request` input\n\nExample\n\n```diff\n- \u003cinput type=\"hidden\" name=\"create_merge_request\" :value=\"1\" /\u003e\n+ \u003cinput v-if=\"!canPushToBranch\" type=\"hidden\" name=\"create_merge_request\" :value=\"1\" /\u003e\n```","state":"closed","created_at":"2021-07-07T22:21:17.707Z","updated_at":"2022-01-20T15:03:07.358Z","closed_at":"2021-12-02T13:30:16.306Z","closed_by":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"labels":["Category:Source Code Management","Deliverable","Engineering Allocation","backend","devops::create","frontend","frontend-weight::1","group::source code","quad-planning::complete-no-action","section::dev","type::feature","workflow::ready for development"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"}],"author":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"type":"ISSUE","assignee":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335462","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335462","notes":"https://gitlab.com/api/v4/projects/278964/issues/335462/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335462/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335462","relative":"#335462","full":"gitlab-org/gitlab#335462"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7128,"epic":{"id":384256,"iid":7128,"title":"Security Engineering Allocation (Source Code BE): 10-NOV-2021","url":"/groups/gitlab-org/-/epics/7128","group_id":9970,"human_readable_end_date":"Apr 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":89931345,"iid":335459,"project_id":278964,"title":"Display selected timezone on user's profile","description":"In https://gitlab.com/gitlab-org/gitlab/-/issues/15137 we added a timezone dropdown when editing your profile. The timezone is not yet displayed anywhere yet. We should display the timezone on the user's profile.\n\n| Before | After |\n| ------ | ------ |\n| ![Screen_Shot_2021-07-07_at_2.34.34_PM](https://gitlab.com/gitlab-org/gitlab/uploads/1a3edca8661bc0ae28f620fe5d907c41/Screen_Shot_2021-07-07_at_2.34.34_PM.png) | ![Screen_Shot_2021-07-07_at_2.39.54_PM](https://gitlab.com/gitlab-org/gitlab/uploads/f2995fb4bc8c9218af2289b79cd7a135/Screen_Shot_2021-07-07_at_2.39.54_PM.png) |\n\n## Implementation plan\n\n1. Create a `local_time` helper in [app/helpers/time_zone_helper.rb](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/helpers/time_zone_helper.rb)\n\n```ruby\ndef local_time(timezone)\n  time_with_zone_instance = ActiveSupport::TimeZone.new(timezone).now\n  offset = time_with_zone_instance.utc_offset\n  formatted_offset = offset / 3600\n\n  time_with_zone_instance.strftime(\"%H:%M (UTC#{formatted_offset})\")\nend\n```\n\n2. Use that helper in [app/views/users/show.html.haml#L75](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/views/users/show.html.haml#L75)\n3. Add a feature spec in [spec/features/users/show_spec.rb](https://gitlab.com/gitlab-org/gitlab/-/blob/master/spec/features/users/show_spec.rb)","state":"closed","created_at":"2021-07-07T22:05:35.372Z","updated_at":"2022-03-28T19:27:34.577Z","closed_at":"2021-07-29T21:55:46.680Z","closed_by":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"labels":["Deliverable","candidate::14.2","design-weight::1","devops::manage","frontend","group::authentication and authorization","release post item::in review","section::dev","type::feature","workflow::verification"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"}],"author":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"type":"ISSUE","assignee":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335459","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335459","notes":"https://gitlab.com/api/v4/projects/278964/issues/335459/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335459/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335459","relative":"#335459","full":"gitlab-org/gitlab#335459"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":280,"epic":{"id":581,"iid":280,"title":"Localize GitLab for local time and week schedule","url":"/groups/gitlab-org/-/epics/280","group_id":9970,"human_readable_end_date":"Nov 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":89927120,"iid":335453,"project_id":278964,"title":"BE: Add edit page for Security Policies","description":"## Why are we doing this work\n\nTo solve problems encountered during ~frontend development (https://gitlab.com/gitlab-org/gitlab/-/merge_requests/65553#note_621003500) we need to extend current Scan Policies internal API (`Security::PoliciesController`) with additional method: `edit`. This should work similar to `edit` method in `ThreatMonitoringController.`\n\nAs an outcome of this issue we should be able to query ie. `https://gitlab.com/mparuszewski/security-orchestration-policies/-/security/policies/policy-name/edit` and get details of the security policy from the project that is assigned to selected project as `Security Policy Project`:\n\n```haml\n- add_to_breadcrumbs s_(\"ThreatMonitoring|Threat Monitoring\"), project_threat_monitoring_path(@project)\n- breadcrumb_title @policy_name\n- page_title s_(\"NetworkPolicies|Policy editor\")\n- policy_details = policy_details(@project, @policy, @environment)\n\n#js-policy-builder-app{ data: policy_details }\n```\n\n## Relevant links\n\n- [Epic](https://gitlab.com/groups/gitlab-org/-/epics/5362)\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [-] Documentation:\n- [ ] Feature flag: this route should only work if feature flag is enabled for the project\n- [-] Performance:\n- [ ] Testing:\n  - check if user can load page with scan policy that is accessible,\n  - check if user sees 404 error if scan policy that is not accessible,\n\n\n## Implementation plan\n\n- [ ] ~backend add new method to `ee/app/controllers/projects/security/policies_controller.rb`: `edit` that will fetch policy from related project,\n- [ ] ~backend add new view for added method to load container with `policy_details` as data (see example above),\n- [ ] ~backend extend `ee/config/routes/project.rb` with new route: `security-orchestration-policies/-/security/policies/policy-name/edit` that connect route to added method\n\n\n\u003c!--\nWorkflow and other relevant labels\n\n# ~\"group::\" ~\"Category:\" ~\"GitLab Ultimate\"\nOther settings you might want to include when creating the issue.\n\n# /assign @\n# /epic \u0026\n--\u003e","state":"closed","created_at":"2021-07-07T20:20:49.158Z","updated_at":"2021-09-18T07:03:21.286Z","closed_at":"2021-08-23T14:32:30.371Z","closed_by":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"labels":["Category:Security Policy Management","Deliverable","backend","devops::govern","group::security policies","missed-deliverable","missed:14.2","section::sec","workflow::verification"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[],"author":{"id":5535431,"username":"mparuszewski","name":"Alan (Maciej) Paruszewski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535431/avatar.png","web_url":"https://gitlab.com/mparuszewski"},"type":"ISSUE","assignee":null,"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335453","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":5,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 5 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335453","notes":"https://gitlab.com/api/v4/projects/278964/issues/335453/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335453/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335453","relative":"#335453","full":"gitlab-org/gitlab#335453"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5362,"epic":{"id":198770,"iid":5362,"title":"Allow Users to Edit yaml-mode Scan Execution Policies in the Policy UI","url":"/groups/gitlab-org/-/epics/5362","group_id":9970,"human_readable_end_date":"Sep 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":89925841,"iid":335450,"project_id":278964,"title":"Add context to scanner error messages","description":"### Background\n\nRight now, we have an error in our API Fuzzing test, failing at testing the endpoint `/Documents/{username}/{nodeId}` with the POST method\n\n![image](/uploads/b9a2c22712fa533dbada566bd6ac296f/image.png)\n\nThis method returns an empty response body with HTTP Status Code 200, but the API fuzzing job reports:\n\n```\n2021-07-07 19:02:14 [INF] API Runner: Testing operation: 'POST /Documents/{username}/{nodeId}'\n2021-07-07 19:02:20 [INF] API Runner: Finished testing operation 'POST /Documents/{username}/{nodeId}' performed 46 requests.\n2021-07-07 19:02:20 [WRN] API Runner: * Session failed: Unable to cast object of type 'System.Byte[]' to type 'System.String'.\n2021-07-07 19:02:20 [INF] API Runner: Finished testing. Performed a total of 158 requests.\n2021-07-07 19:02:21 [ERR] API Security: Testing failed: Unable to cast object of type 'System.Byte[]' to type 'System.String'.\n2021-07-07 19:02:21 [INF] API Security: Generating security report as 'gl-api-fuzzing-report.json'.\n2021-07-07 19:02:21 [INF] API Security: Testing did not complete successfully: Unable to cast object of type 'System.Byte[]' to type 'System.String'.\n```\n\nOn another endpoint, with a file on the request and a file on the response, it fails with the same error. So, we don't have a quick way to detect where the error could be.\n\nShould be noted that these endpoints work without an issue in a production environment.\n\n### Proposal\n\nIt'll be great if the API Fuzzing logs have a more detailed error log with the context at that moment. Something like:\n\n```\n2021-07-07 19:02:20 [WRN] API Runner: * Session failed: Error while casting 'file' parameter at request body. Exception: Unable to cast object of type 'System.Byte[]' to type 'System.String'.\n```\n\nFor responses:\n\n```\n2021-07-07 19:02:20 [WRN] API Runner: * Session failed: Error while parsing 'file' parameter at response body. Exception: Unable to cast object of type 'System.Byte[]' to type 'System.String'.\n```","state":"closed","created_at":"2021-07-07T19:52:38.610Z","updated_at":"2022-04-18T03:24:01.859Z","closed_at":"2022-04-14T17:47:25.435Z","closed_by":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"labels":["Category:API Security","GitLab Ultimate","backend","devops::secure","group::dynamic analysis","section::sec","type::feature","workflow::verification"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":7488329,"username":"herbmadrigal","name":"Herber Madrigal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7488329/avatar.png","web_url":"https://gitlab.com/herbmadrigal"}],"author":{"id":1564972,"username":"josetruyol","name":"Jose Truyol","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f670cecf8b70f2a8e4164ebddfa776e2?s=80\u0026d=identicon","web_url":"https://gitlab.com/josetruyol"},"type":"ISSUE","assignee":{"id":7488329,"username":"herbmadrigal","name":"Herber Madrigal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7488329/avatar.png","web_url":"https://gitlab.com/herbmadrigal"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335450","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335450","notes":"https://gitlab.com/api/v4/projects/278964/issues/335450/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335450/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335450","relative":"#335450","full":"gitlab-org/gitlab#335450"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":89925189,"iid":335448,"project_id":278964,"title":"Document which report types don't support multiples","description":"\u003c!-- This template is a great use for issues that are feature::additions or technical tasks for larger issues.--\u003e\n\n### Proposal \n\nFill in this table / add to documentation for each keyword entry in the docs.\n\n| Report Name                           | Supports Multiple | Documentation updated |\n|---------------------------------------|-------------------| -------------------|\n| artifacts:reports:dotenv              |         ‚ùóÔ∏è Not applicable        | |\n| artifacts:reports:performance         |         ‚ùå        | |\n| artifacts:reports:load_performance    |         ‚ùå        | |\n| artifacts:reports:browser_performance |         ‚ùå        | |\n| artifacts:reports:junit               |         ‚úÖ        | |\n| artifacts:reports:cobertura           |         ‚úÖ        | |\n| artifacts:reports:terraform           |         ‚úÖ        | |\n| artifacts:reports:codequality         | MR widget: [yes](https://gitlab.com/gitlab-org/gitlab/-/issues/271077#note_507239820); MR diff annotations: [no](https://gitlab.com/gitlab-org/gitlab/-/issues/271077#note_507239820); Full report: [no](https://gitlab.com/gitlab-org/gitlab/-/issues/9014) | |\n| artifacts:reports:sast                |         ‚úÖ        | |\n| artifacts:reports:secret_detection    |         ‚úÖ        | |\n| artifacts:reports:dependency_scanning |         ‚úÖ        | |\n| artifacts:reports:container_scanning  |         ‚úÖ        | |\n| artifacts:reports:dast                |         ‚úÖ        | |\n| artifacts:reports:api_fuzzing         |         ‚úÖ        | |\n| artifacts:reports:coverage_fuzzing    |         ‚úÖ        | |\n| artifacts:reports:license_management  |     [Renamed to license_scanning](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/36817)           | |\n| artifacts:reports:license_scanning    |         ‚úÖ        | |\n| artifacts:reports:cluster_image_scanning|       ‚úÖ        | |\n| artifacts:reports:metrics             |         ‚úÖ        | |\n| artifacts:reports:requirements        |         ‚úÖ        | |\n| artifacts:reports:accessibility       |         ‚úÖ        | |\n\n\n### CE\n\nAll reports having an [associated parser](https://gitlab.com/gitlab-org/gitlab/-/tree/master/lib/gitlab/ci/parsers) should support multiple reports aggregation considering the report analysis is done on the ~backend\n\n\n\n### EE\n\nAll reports having an [associated parser](https://gitlab.com/gitlab-org/gitlab/-/tree/master/ee/lib/gitlab/ci/parsers) should support multiple reports aggregation considering the report analysis is done on the ~backend","state":"closed","created_at":"2021-07-07T19:33:34.516Z","updated_at":"2021-11-12T15:14:11.458Z","closed_at":"2021-10-25T20:52:19.433Z","closed_by":{"id":5251734,"username":"morefice","name":"Max Orefice","state":"active","avatar_url":"https://secure.gravatar.com/avatar/0a910912e24727d7eef579cd047f7651?s=80\u0026d=identicon","web_url":"https://gitlab.com/morefice"},"labels":["Category:Build Artifacts","devops::verify","docs-only","documentation","group::pipeline insights","missed:14.3","missed:14.4","section::ops","tw-weight::5","workflow::in dev"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":5251734,"username":"morefice","name":"Max Orefice","state":"active","avatar_url":"https://secure.gravatar.com/avatar/0a910912e24727d7eef579cd047f7651?s=80\u0026d=identicon","web_url":"https://gitlab.com/morefice"}],"author":{"id":4512666,"username":"jheimbuck_gl","name":"James Heimbuck","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8dd2ef9c1cacb6e80d7ca47db6f0ce22?s=80\u0026d=identicon","web_url":"https://gitlab.com/jheimbuck_gl"},"type":"ISSUE","assignee":{"id":5251734,"username":"morefice","name":"Max Orefice","state":"active","avatar_url":"https://secure.gravatar.com/avatar/0a910912e24727d7eef579cd047f7651?s=80\u0026d=identicon","web_url":"https://gitlab.com/morefice"},"user_notes_count":16,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335448","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335448","notes":"https://gitlab.com/api/v4/projects/278964/issues/335448/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335448/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335448","relative":"#335448","full":"gitlab-org/gitlab#335448"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6302,"epic":{"id":302736,"iid":6302,"title":"Client-side reports comparison ignores multiple reports","url":"/groups/gitlab-org/-/epics/6302","group_id":9970,"human_readable_end_date":"Nov 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":89924408,"iid":335446,"project_id":278964,"title":"Broken UI link for manual variables help text","description":"### Problem\n\nThe CI/CD settings link is broken that is generated from the `project_variables_path` rails path helper. Which sends a user to a `404` page.\n\n### Fix\n\nLet's use the help page helper and send users to our docs on [adding variables](https://docs.gitlab.com/ee/ci/variables/#add-a-cicd-variable-to-a-project) to a project through settings\n\n### Where is this?\n\nTriggering a manual job you can add variables, the help text before the trigger button has the broken link.\n\n![Screen_Shot_2021-07-07_at_1.53.20_PM](/uploads/17f80e517d5a8c84296847e916e80e33/Screen_Shot_2021-07-07_at_1.53.20_PM.png)","state":"closed","created_at":"2021-07-07T19:07:35.450Z","updated_at":"2021-07-14T13:34:23.599Z","closed_at":"2021-07-14T13:34:23.587Z","closed_by":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"labels":["Category:Continuous Integration","devops::verify","frontend","group::pipeline execution","priority::4","section::ops","severity::4","type::bug","workflow::production"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"}],"author":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"type":"ISSUE","assignee":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335446","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335446","notes":"https://gitlab.com/api/v4/projects/278964/issues/335446/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335446/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335446","relative":"#335446","full":"gitlab-org/gitlab#335446"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":89921165,"iid":335439,"project_id":278964,"title":"[ENG] Add tracking events for trial reassurance experiment","description":"Track three key things:\n\n1. Who is in the experiment \u0026 which variant they received ‚Äì tracked by GLEX automatically, \u0026 we‚Äôll also record to the `experiment_subjects` table once the person does sign up and becomes an actual User in our system\n1. A frontend event when they initially land on the registration page\n   - Event data will have useful things like which variant they received \u0026 what their viewport width was so we can know if they would have actually seen the new content or not\n1. A second frontend event when they land on whatever page comes after they successfully start their trial\n   - Event data will contain the same useful information as the previous FE event\n\n**Note:** We may also want to track intermediate steps to get a better insight into the overall trial + registration flow funnel.","state":"closed","created_at":"2021-07-07T17:29:51.933Z","updated_at":"2021-10-28T13:55:23.007Z","closed_at":"2021-08-25T12:44:07.090Z","closed_by":{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"},"labels":["Category:Conversion Experiment","Engineering","Stretch","devops::growth","group::acquisition","growth experiment","milestone::p2","missed:13.12","missed:13.7","missed:14.1","missed:14.2","section::growth","type::maintenance"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"}],"author":{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"},"type":"ISSUE","assignee":{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335439","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335439","notes":"https://gitlab.com/api/v4/projects/278964/issues/335439/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335439/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335439","relative":"#335439","full":"gitlab-org/gitlab#335439"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6300,"epic":{"id":302692,"iid":6300,"title":"[Engineering] Add reassurance to the trial flow ‚Äì¬†design 1","url":"/groups/gitlab-org/-/epics/6300","group_id":9970,"human_readable_end_date":"Feb 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":89921112,"iid":335438,"project_id":278964,"title":"[ENG] Add supporting SVG images for trial reassurance","description":"","state":"closed","created_at":"2021-07-07T17:27:49.979Z","updated_at":"2021-10-28T13:55:23.533Z","closed_at":"2021-08-17T18:44:38.187Z","closed_by":{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"},"labels":["Category:Conversion Experiment","Engineering","Stretch","devops::growth","group::acquisition","growth experiment","milestone::p2","missed:13.12","missed:13.7","missed:14.1","section::growth","type::maintenance"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"}],"author":{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"},"type":"ISSUE","assignee":{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335438","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335438","notes":"https://gitlab.com/api/v4/projects/278964/issues/335438/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335438/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335438","relative":"#335438","full":"gitlab-org/gitlab#335438"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6300,"epic":{"id":302692,"iid":6300,"title":"[Engineering] Add reassurance to the trial flow ‚Äì¬†design 1","url":"/groups/gitlab-org/-/epics/6300","group_id":9970,"human_readable_end_date":"Feb 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":89919862,"iid":335435,"project_id":278964,"title":"BUG: Enable via MR is not available for all Scanners on EE","description":"While playing around with the Feature Flags it was noticed that the Implementation of the redesigned security-configuration page is missing a feature the old version has and this should be reintroduced.\n\nIt is about the ability to enable Dependency Scanning and Secret Detection (currently behind a flag) via MR.\n\nThe new page is just providing a configuration Guide Link, it should provide the ability to enable the two scanners via MR\n\n|new | old |\n| ------ | ------ |\n| ![Screen_Shot_2021-07-07_at_6.51.57_AM](/uploads/242e796cd14004041862e605c43b535b/Screen_Shot_2021-07-07_at_6.51.57_AM.png) | ![Screen_Shot_2021-07-07_at_6.50.52_AM](/uploads/778babc2de1c3b66544ceec35951d0f6/Screen_Shot_2021-07-07_at_6.50.52_AM.png)|","state":"closed","created_at":"2021-07-07T16:51:35.796Z","updated_at":"2021-07-20T17:12:22.743Z","closed_at":"2021-07-20T17:12:22.726Z","closed_by":{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},"labels":["Category:Vulnerability Management","GitLab Core","GitLab Free","GitLab Premium","SUS::Impacting","auto updated","devops::secure","feature::enhancement","frontend","group::analyzer frontend","section::sec","severity::4","type::bug","type::feature","workflow::verification"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"}],"author":{"id":7293390,"username":"jannik_lehmann","name":"Jannik Lehmann","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7293390/avatar.png","web_url":"https://gitlab.com/jannik_lehmann"},"type":"ISSUE","assignee":{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335435","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335435","notes":"https://gitlab.com/api/v4/projects/278964/issues/335435/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335435/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335435","relative":"#335435","full":"gitlab-org/gitlab#335435"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6148,"epic":{"id":286281,"iid":6148,"title":"Phase 2: EE","url":"/groups/gitlab-org/-/epics/6148","group_id":9970,"human_readable_end_date":"Aug 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":89910324,"iid":335416,"project_id":278964,"title":"Instrument usage of browser's find function","description":"## Context\n\nWith virtual scrolling, the browser's find function (`CMD+F`) is not able to find all of the possible matches since virtual scrolling ‚Äúremoves‚Äù content from the DOM. Because of this, it's not obvious that the find function is not working correctly ‚Äî it may return an incorrect number of matches. The only way to be sure is to manually scroll through the diffs while re-checking the browser's find function.\n\nIn summary, with virtual scrolling, users won't know if the browser's find function is working correctly or not, but it's likely that they will accept the find results because they don't have any reasons to suspect that it's misbehaving. Instrumenting the usage of this find function will help us understand the urgency of [Address browser find function with virtual scrolling on MRs](https://gitlab.com/gitlab-org/gitlab/-/issues/331924).\n\nWe want to track both **users** and **counts**. Users can help understand the potential reach (e.g. X users have used this last month), and counts can help understand the potential impact (e.g. on average, users use this X times per day).\n\n## Proposal\n\nSee https://stackoverflow.com/a/6680403 for possible ways to track the keyboard shortcuts that trigger browser's find function.\n\nNote: be mindful of cross-platform compatibility (CMD vs CTRL, etc.).","state":"closed","created_at":"2021-07-07T14:02:27.964Z","updated_at":"2021-08-18T07:01:42.317Z","closed_at":"2021-08-03T10:02:29.454Z","closed_by":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"labels":["Deliverable","devops::create","frontend","group::code review","instrumentation","merge requests","section::dev"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"}],"author":{"id":626804,"username":"pedroms","name":"Pedro Moreira da Silva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c306f087d191ac15549f3c11e3bed321?s=80\u0026d=identicon","web_url":"https://gitlab.com/pedroms"},"type":"ISSUE","assignee":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335416","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335416","notes":"https://gitlab.com/api/v4/projects/278964/issues/335416/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335416/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335416","relative":"#335416","full":"gitlab-org/gitlab#335416"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5952,"epic":{"id":266300,"iid":5952,"title":":rocket: Diffs virtual scrolling","url":"/groups/gitlab-org/-/epics/5952","group_id":9970,"human_readable_end_date":"Feb 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":89906435,"iid":335413,"project_id":278964,"title":"Update Github Importer documentation","description":"Both user (https://docs.gitlab.com/ee/user/project/import/github.html) and developer (https://docs.gitlab.com/ee/development/github_importer.html) Github Importer documentation are currently outdated with the most recent works in fixes/improve it.\n\nSome thing to update in the documentation:\n- [x] Include the recently added `ImportPullRequestsMergedByWorker` and `Stage::ImportPullRequestsReviewsWorker`; https://gitlab.com/gitlab-org/gitlab/-/merge_requests/66733\n- [x] Mention the _complementary comments_ that are added when information cannot be mapped to GitLab (https://gitlab.com/groups/gitlab-org/-/epics/6270#note_620478278);\n- [x] Mention the Grafana dashboard in the developer documentation (https://dashboards.gitlab.net/d/2zgM_rImz/github-importer)","state":"closed","created_at":"2021-07-07T13:14:21.721Z","updated_at":"2021-11-04T20:48:09.496Z","closed_at":"2021-09-29T12:52:30.006Z","closed_by":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"labels":["Category:Importers","Importer:GitHub","Next Up","Observability","devops::manage","documentation","group::import","milestone::p3","missed:14.2","missed:14.3","section::dev","workflow::production"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"}],"author":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"type":"ISSUE","assignee":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335413","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335413","notes":"https://gitlab.com/api/v4/projects/278964/issues/335413/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335413/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335413","relative":"#335413","full":"gitlab-org/gitlab#335413"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6618,"epic":{"id":332691,"iid":6618,"title":"Manage:Import Customer Escalations","url":"/groups/gitlab-org/-/epics/6618","group_id":9970,"human_readable_end_date":"Dec 16, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":89904155,"iid":335409,"project_id":278964,"title":"Experiment Cleanup: Display active trial status","description":"\u003c!-- Title suggestion: [Experiment Name] Successful Cleanup --\u003e\n\n## Summary\n\nThe experiment is currently rolled out to 100% of users and has been deemed a success.\nThe changes need to become an official part of the product.\n\nEngineering epic: https://gitlab.com/groups/gitlab-org/-/epics/3540\nExperiment Tracking issue: https://gitlab.com/gitlab-org/gitlab/-/issues/281019\nFeature flag: `show_trial_status_in_sidebar`\n\n## Caution\n\nAs we clean up the main level experiment, we need to make sure that the nested [forced popover experiment](https://gitlab.com/gitlab-org/gitlab/-/issues/334936) still functions correctly.\n\n## Steps\n\n- [X] Determine whether the feature should apply to SaaS and/or self-managed\n  - Both SaaS and self-managed\n- [X] Determine whether the feature should apply to EE - and which tiers - and/or Core\n  - This should be applied to any namespace that has an active trial regardless of tier\n- [x] Determine if tracking should be kept as is, removed, or modified.\n  - Tracking can be removed as long as it doesn't interfere with this follow-up experiment https://gitlab.com/gitlab-org/gitlab/-/issues/334936. If it does then we can leave this specific portion of the cleanup to the follow-up experiment. \n- [x] Ensure any relevant documentation has been updated.\n- [x] For this specific experiment, we need to [pull in the actual Zuora plan id for the Ultimate plan from the CustomersDot API](https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/helpers/trial_status_widget_helper.rb#L14-19)\n- [x] Consider changes to any `feature_category:` introduced by the experiment if ownership is changing (PM for Growth and PM for the new category as DRIs)\n- [ ] Optional: Migrate experiment to a default enabled [feature flag](https://docs.gitlab.com/ee/development/feature_flags) for one milestone and add a changelog. Converting to a feature flag can be skipped at the ICs discretion if risk is deemed low with consideration to both SaaS and (if applicable) self managed\n- [x] In the next milestone, [remove the feature flag](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) if applicable\n- [x] After the flag removal is deployed, [clean up the feature/experiment feature flags](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) by running chatops command in `#production` channel\n- [x] Ensure the corresponding [Experiment Tracking issue](https://gitlab.com/gitlab-org/gitlab/-/issues/281019) is updated","state":"closed","created_at":"2021-07-07T12:35:29.363Z","updated_at":"2021-10-28T13:55:25.730Z","closed_at":"2021-10-08T16:06:46.992Z","closed_by":{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"},"labels":["DEPRECATED Growth-Deliverable","Deliverable","devops::growth","feature flag","group::acquisition","growth experiment","missed-deliverable","missed:14.3","section::growth","type::maintenance"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"}],"author":{"id":4413992,"username":"s_awezec","name":"Sam Awezec","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4413992/avatar.png","web_url":"https://gitlab.com/s_awezec"},"type":"ISSUE","assignee":{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335409","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":10,"completed_count":9},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"9 of 10 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335409","notes":"https://gitlab.com/api/v4/projects/278964/issues/335409/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335409/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335409","relative":"#335409","full":"gitlab-org/gitlab#335409"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6365,"epic":{"id":308766,"iid":6365,"title":"Experiment Cleanup: Display active trial status \u0026 trial reminder","url":"/groups/gitlab-org/-/epics/6365","group_id":9970,"human_readable_end_date":"Oct 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":89896088,"iid":335391,"project_id":278964,"title":"[VSA] Implement the new DB queries","description":"**What**\n\nWith the new database structure in place, we need to implement the query backend. We can implement a switch in `lib/gitlab/analytics/cycle_analytics/base_query_builder.rb` so we can optionally use the new database and queries.\n\n**How**\n\nImplement finder classes for the new database tables created in https://gitlab.com/gitlab-org/gitlab/-/issues/335386\n\nWe need two separate finder classes for the following tables:\n\n* `analytics_cycle_analytics_merge_request_stage_events`\n* `analytics_cycle_analytics_issue_stage_events`\n\nWe can start with a base class because the two finders might diverge a bit later.\n\nThe following query params we need to support (ideally avoiding joins):\n\n- stage_hash_id\n  - This parameter is always required\n- root_group_id, group_id, project_id: one of them is always required\n- author_username\n  - Find the author(s) from the DB and take the id(s). Query the `author_id` column.\n- milestone_title\n  - Find the milestone(s) from the DB and take the id(s). Query the `milestone_id` column. \n- start_event_timestamp (greater than)\n  - Query the `start_event_timestamp` column\n- end_event_timestamp (less than)\n  - Query the `end_event_timestamp` column","state":"closed","created_at":"2021-07-07T10:26:46.938Z","updated_at":"2021-11-22T07:06:24.804Z","closed_at":"2021-11-22T07:06:24.767Z","closed_by":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"labels":["Category:Value Stream Management","backend","devops::manage","group::optimize","missed:14.5","priority::2","section::dev","workflow::production"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"}],"author":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"type":"ISSUE","assignee":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335391","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335391","notes":"https://gitlab.com/api/v4/projects/278964/issues/335391/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335391/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335391","relative":"#335391","full":"gitlab-org/gitlab#335391"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6046,"epic":{"id":274497,"iid":6046,"title":"[VSA] Date range filter should apply to end events","url":"/groups/gitlab-org/-/epics/6046","group_id":9970,"human_readable_end_date":"Feb 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":89895665,"iid":335389,"project_id":278964,"title":"[VSA] Data collector job for the new tables","description":"**What**\n\nImplement a background job or a service that collects all stage-related data for a given group and upserts the rows in the new VSA tables (https://gitlab.com/gitlab-org/gitlab/-/issues/335386)\n\n**How**\n\nHigh-level steps:\n\n1. Load the group (top-level groups only)\n2. Verify the license\n3. Load all configured stages for the group and its subgroups (and for projects -\u003e not implemented yet)\n4. Group the stages by their hashcode (implemented in https://gitlab.com/gitlab-org/gitlab/-/issues/335291)\n5. Select the issue related stages (inspect `GroupStage.start_event.object_type`) \n6. Iterate over the issues in batches (using https://gitlab.com/gitlab-org/gitlab/-/issues/335388)\n7. For each batch, load the start and end event columns defined in the issue related stages\n8. Transform the data to the new DB row structure (https://gitlab.com/gitlab-org/gitlab/-/issues/335386)\n9. Upsert the data\n10. Do the same thing for merge request related stages.","state":"closed","created_at":"2021-07-07T10:19:17.633Z","updated_at":"2021-10-17T23:52:56.908Z","closed_at":"2021-10-14T07:46:06.468Z","closed_by":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"labels":["auto updated","backend","devops::manage","feature::enhancement","group::optimize","priority::2","section::dev","type::feature","workflow::production"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"}],"author":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"type":"ISSUE","assignee":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335389","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335389","notes":"https://gitlab.com/api/v4/projects/278964/issues/335389/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335389/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335389","relative":"#335389","full":"gitlab-org/gitlab#335389"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6046,"epic":{"id":274497,"iid":6046,"title":"[VSA] Date range filter should apply to end events","url":"/groups/gitlab-org/-/epics/6046","group_id":9970,"human_readable_end_date":"Feb 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":89895190,"iid":335388,"project_id":278964,"title":"[VSA] Efficient iteration within the Group hierarchy","description":"**What**\n\nWe need an efficient way to iterate over group-level data (`issues`, `merge_requests`) so we can populate and update the new VSA tables efficiently.\n\nExample:\n\n```ruby\nIssue.where(project_id: Group.last.all_projects.select(:id)).order(:updated_at, :id).find_each do |record|\n  # ...\nend\n```\n\nThe query above is too slow and it will likely time out for large groups. The [research MR](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/62379) implements efficient group-level queries. \n\n**How**\n\nClean up, test the linked research MR and make it available in the codebase.\n\nHigh-level API example:\n\n```ruby\nIssue.within_hierarchy(Group.find(9979).self_and_descendants).order(:updated_at, :id)\n```","state":"closed","created_at":"2021-07-07T10:11:35.626Z","updated_at":"2021-09-14T17:22:39.210Z","closed_at":"2021-09-14T17:03:58.940Z","closed_by":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"labels":["Category:Value Stream Management","GitLab Free","backend","devops::manage","documentation","group::optimize","missed:14.2","priority::2","section::dev","tw-weight::8","workflow::production"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"}],"author":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"type":"ISSUE","assignee":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"user_notes_count":4,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335388","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335388","notes":"https://gitlab.com/api/v4/projects/278964/issues/335388/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335388/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335388","relative":"#335388","full":"gitlab-org/gitlab#335388"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6046,"epic":{"id":274497,"iid":6046,"title":"[VSA] Date range filter should apply to end events","url":"/groups/gitlab-org/-/epics/6046","group_id":9970,"human_readable_end_date":"Feb 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":89894101,"iid":335386,"project_id":278964,"title":"[VSA] Create the new tables for capturing stage events","description":"Create database structure for the new VSA tables.\n\n**Tables:**\n\n- `analytics_cycle_analytics_merge_request_stage_events`\n- `analytics_cycle_analytics_issue_stage_events`\n\n**Structure:**\n\n|column|type|description|\n|-|-|-|\n|stage_hash_id|bigint|points to the stage hash record: https://gitlab.com/gitlab-org/gitlab/-/issues/335291|\n|merge_request_id or issue_id|bigint|composite primary key with stage_hash_id|\n|group_id|bigint|Project's group|\n|project_id|bigint|Project where the merge request was created|\n|start_event_timestamp|datetime|stores the start event timestamp for the stage|\n|end_event_timestamp|datetime|stores the end event timestamp for the stage|\n|milestone_id|bigint|same as issuable.milestone_id|\n|author_id|bigint|same as issuable.author_id|\n\n1 row: 64 bytes\n\n**Partitioning strategy:**\n\nWe might need to create 2 sets of tables: \n\n- One set is for groups or projects where we store data for a certain time period (time decay, time range partition).\n- One set is for ultimate customers, here we can use hash partitioning based on the `stage_hash_id`.\n\nFocus on the hash partitioning within this issue. We can decide how to deal with the time decay data at a later step.","state":"closed","created_at":"2021-07-07T09:55:32.309Z","updated_at":"2021-09-03T05:26:59.797Z","closed_at":"2021-09-03T05:26:59.761Z","closed_by":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"labels":["Category:Value Stream Management","backend","devops::manage","feature::enhancement","group::optimize","priority::2","section::dev","type::feature","workflow::in review"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"}],"author":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"type":"ISSUE","assignee":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335386","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335386","notes":"https://gitlab.com/api/v4/projects/278964/issues/335386/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335386/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335386","relative":"#335386","full":"gitlab-org/gitlab#335386"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6046,"epic":{"id":274497,"iid":6046,"title":"[VSA] Date range filter should apply to end events","url":"/groups/gitlab-org/-/epics/6046","group_id":9970,"human_readable_end_date":"Feb 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":89892243,"iid":335384,"project_id":278964,"title":"Rename `Integration#can_test?` to `Integration#testable?`","description":"Generally, `can_`, `is_` and `has_` prefixes should be avoided in predicate methods.\n\nThe following discussion from !65113 should be addressed:\n\n- [ ] @alexkalderimis started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/65113#note_615069044):  (+1 comment)\n\n    \u003e I think if we leave the `subject` as the integration, then this can be written as:\n    \u003e \n    \u003e ```ruby\n    \u003e it { is_expected.to be_can_test }\n    \u003e ```\n    \u003e \n    \u003e which (while a little awkward, language-wise), is better since the expectation can provide nicer failure messages.\n    \u003e \n    \u003e (I note that this points us towards perhaps wanting to rename this method to `#testable?` or similar, which would make for `it { is_expected.to be_testable }`)\n    \u003e \n    \u003e WDYT?","state":"closed","created_at":"2021-07-07T09:26:38.275Z","updated_at":"2022-11-22T19:38:16.392Z","closed_at":"2021-07-12T01:10:16.105Z","closed_by":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"labels":["auto updated","backend","devops::manage","group::ecosystem [DEPRECATED]","section::dev","type::maintenance","workflow::in review"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"}],"author":{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"},"type":"ISSUE","assignee":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335384","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335384","notes":"https://gitlab.com/api/v4/projects/278964/issues/335384/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335384/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335384","relative":"#335384","full":"gitlab-org/gitlab#335384"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":89887678,"iid":335381,"project_id":278964,"title":"Move package help path helpers to frontend","description":"We should remove all those path helpers calls from our views and use the frontend helper for it.\n\nThe following discussion from !64939 should be addressed:\n\n- [ ] @10io started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/64939#note_620300412): \n\n    \u003e Thoughts for a follow up:\n    \u003e \n    \u003e It seems that we always need the same fields: `*_path` and `*_help_path`. Would it be valuable to have two helpers for each that would take the `package` as a parameter and compute the right urls?\n    \u003e \n    \u003e I'm asking because as it stands, the more package types we will support, the bigger the hash size will be. In addition, if you know that the package is a npm one, you don't need to compute the paths for the other package types.\n    \u003e \n    \u003e WDYT?","state":"closed","created_at":"2021-07-07T08:55:57.441Z","updated_at":"2022-01-07T10:06:16.944Z","closed_at":"2022-01-07T10:06:16.903Z","closed_by":{"id":4584738,"username":"nmezzopera","name":"Nicol√≤ Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"},"labels":["Category:Package Registry","backend","devops::package","frontend","group::package registry","ruby","section::ops","type::maintenance","workflow::in review"],"milestone":{"id":2156369,"iid":68,"group_id":9970,"title":"14.7","description":"","state":"active","created_at":"2021-07-21T17:39:41.786Z","updated_at":"2021-07-21T17:39:41.786Z","due_date":"2022-01-17","start_date":"2021-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/68"},"assignees":[{"id":4584738,"username":"nmezzopera","name":"Nicol√≤ Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"}],"author":{"id":4584738,"username":"nmezzopera","name":"Nicol√≤ Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"},"type":"ISSUE","assignee":{"id":4584738,"username":"nmezzopera","name":"Nicol√≤ Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335381","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335381","notes":"https://gitlab.com/api/v4/projects/278964/issues/335381/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335381/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335381","relative":"#335381","full":"gitlab-org/gitlab#335381"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":89884872,"iid":335378,"project_id":278964,"title":"Ensure the Code owners section work as expected","description":"As part of the Repository blob refactor we need to ensure that the Codeowners section still works as expected.\n\nFor instance, when viewing a file with Code owners, the Code owners are not displayed.\n\nNote, this bug happens when navigating from the repository file list. \n\n| Before refresh (incorrect) | After refresh (correct) |\n| ------ | ------ |\n| ![Screenshot_2021-06-29_at_15.17.11](/uploads/872b3fcf3ddc16090360961dcad82c22/codeowners.png) | ![Screenshot_2021-06-29_at_15.21.28](/uploads/f4279f3861143486e4e54a2b916ce64a/codeowners2.png) |","state":"closed","created_at":"2021-07-07T08:08:50.671Z","updated_at":"2021-12-18T07:00:49.747Z","closed_at":"2021-12-07T08:46:47.131Z","closed_by":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"labels":["Category:Source Code Management","Deliverable","devops::create","frontend","group::source code","missed-deliverable","missed:14.4","missed:14.5","quad-planning::complete-action","repository","section::dev","workflow::ready for development"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"}],"author":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"type":"ISSUE","assignee":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335378","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335378","notes":"https://gitlab.com/api/v4/projects/278964/issues/335378/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335378/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335378","relative":"#335378","full":"gitlab-org/gitlab#335378"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5531,"epic":{"id":217419,"iid":5531,"title":"Refactor Repository Browser to 1 Vue Application","url":"/groups/gitlab-org/-/epics/5531","group_id":9970,"human_readable_end_date":"Apr 17, 2023","human_readable_timestamp":"\u003cstrong\u003e3\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":89878584,"iid":335372,"project_id":278964,"title":"[BE] Add fields to the PipelineSecurityReportFinding GraphQL type","description":"As a part migrating the pipeline security dashboard to GraphQL we need to add several fields to the ` PipelineSecurityReportFinding` type.\n\n\u003cdetails\u003e\n\u003csummary\u003eCurrently used fields when displaying vulnerability details (\u003ccode\u003eee/app/assets/javascripts/vulnerabilities/components/vulnerability_details.vue\u003c/code\u003e):\u003c/summary\u003e\n\n- `location`\n- `stacktraceSnippet`\n- `scanner`\n- `location`\n- `evidenceSource`\n- `supportingMessages`\n- `request`\n- `response`\n- `description`\n- `title`\n- `severity`\n- `evidence`\n- `links`\n- `identifiers`\n- `assets`\n- `uuid`\n\u003c/details\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eCurrent `PipelineSecurityReportFinding` fields:\u003c/summary\u003e\n\n- `confidence`\n- `description`\n- `identifiers` \t\n- `location`\n- `name` \t\n- `project`\n- `projectFingerprint`\n- `reportType`\n- `scanner`\n- `severity`\n- `solution` \n- `state`\n- `uuid`\n\u003c/details\u003e\n\nBased on that the following fields are missing:\n\n- `stacktraceSnippet` \n- `evidenceSource` \n- `supportingMessages` \n- `request` \n- `response` \n- `title` \n- `evidence` \n- `links` \n- `assets`\n\n## Related links\n\n- [Discussion in frontend issue](https://gitlab.com/gitlab-org/gitlab/-/issues/331403#note_619265614)\n\n## Additional info\n\nhttps://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/serializers/vulnerabilities/finding_entity.rb seems to contain all fields mentioned above. So this file can be used to double check the missing fields. \n\n**If possible, make sure to return the same structure as used in https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/helpers/vulnerabilities_helper.rb#L10. This will help us reuse the same logic we have for the vulnerability details page in the ~frontend.**\n\n## Implementation Plan \n\n1. Create the following new `GraphQL` types, which are based on the findings from [Technical Spike: Define GraphQL schema to support migration for Vulnerability Details](https://gitlab.com/gitlab-org/gitlab/-/issues/343312#findings):\n\n   ```graphql\n   type VulnerabilityEvidence {\n     summary: String\n     supportingMessages: [VulnerabilityEvidenceSupportingMessage]\n     source: VulnerabilityEvidenceSource\n     request: [VulnerabilityRequest!]\n     response: [VulnerabilityResponse!]\n   }\n   \n   type VulnerabilityEvidenceSupportingMessage {\n     name: String!\n     request: [VulnerabilityRequest]\n     response: [VulnerabilityResponse]\n   }\n   \n   type VulnerabilityEvidenceSource {\n     id: String!\n     name: String!\n     url: String\n   }\n   \n   type VulnerabilityRequestResponseHeader {\n     name: String\n     value: String\n   }\n   \n   type VulnerabilityRequest {\n     body: String\n     method: String!\n     url: String!\n     headers: [VulnerabilityRequestResponseHeader!]\n   }\n   \n   type VulnerabilityResponse {\n     body: String\n     statusCode: String!\n     reasonPhrase: String!\n     headers: [VulnerabilityRequestResponseHeader!]\n   }\n   \n   type VulnerabilityAsset {\n     type: String!\n     name: String!\n     url: String!\n   }\n   \n   # Check ee/lib/ee/gitlab/ci/parsers/security/validators/schemas/coverage-fuzzing-report-format.json\n   # for more details\n   type VulnerabilityLocationCoverageFuzzing {\n     crashType: String\n     crashAddress: String\n     stacktraceSnippet: String\n   }\n   ```\n\n1. Extend [`PipelineSecurityReportFindingType`](https://gitlab.com/gitlab-org/gitlab/blob/554b228c985/ee/app/graphql/types/pipeline_security_report_finding_type.rb#L5-5) to add the following fields, based on the new types added in step `1.`:\n\n   ```graphql\n    type SecurityReportFinding\n    {\n      assets: [VulnerabilityAsset]\n      evidence: VulnerabilityEvidence\n      title: String # alias for `name`, which will be deprecated\n      stacktraceSnippet: VulnerabilityLocationCoverageFuzzing\n    }\n   ```","state":"closed","created_at":"2021-07-07T06:38:58.716Z","updated_at":"2022-02-18T07:03:18.728Z","closed_at":"2022-02-18T05:06:54.971Z","closed_by":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"labels":["Category:Vulnerability Management","Deliverable","backend","blocked","devops::secure","group::composition analysis","missed-deliverable","missed:14.1","missed:14.2","missed:14.3","missed:14.6","section::sec","type::maintenance","workflow::verification"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"}],"author":{"id":4155411,"username":"dpisek","name":"David Pisek","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4155411/avatar.png","web_url":"https://gitlab.com/dpisek"},"type":"ISSUE","assignee":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"user_notes_count":42,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335372","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335372","notes":"https://gitlab.com/api/v4/projects/278964/issues/335372/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335372/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335372","relative":"#335372","full":"gitlab-org/gitlab#335372"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4969,"epic":{"id":148197,"iid":4969,"title":"Convert the pipeline security tab to use GraphQL \u0026 shared UI components","url":"/groups/gitlab-org/-/epics/4969","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":89874505,"iid":335367,"project_id":278964,"title":"Fix improper use of GLEX for trial status popover experiment","description":"The following discussion from !65283 should be addressed:\n\n- [x] @dreedy started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/65283#note_620052806):  (+2 comments)\n\n    \u003e @jejacks0n, I‚Äôm curious what you think about the approach I took here. :thinking:","state":"closed","created_at":"2021-07-07T04:28:28.088Z","updated_at":"2021-10-28T13:55:26.698Z","closed_at":"2021-07-20T04:47:51.612Z","closed_by":{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"},"labels":["Category:Conversion Experiment","Engineering","Stretch","devops::growth","group::acquisition","growth experiment","link::child issue","milestone::p1","section::growth","type::maintenance","workflow::verification"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"}],"author":{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"},"type":"ISSUE","assignee":{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335367","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":1},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335367","notes":"https://gitlab.com/api/v4/projects/278964/issues/335367/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335367/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335367","relative":"#335367","full":"gitlab-org/gitlab#335367"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3540,"epic":{"id":64886,"iid":3540,"title":"[ENG] Display active trial status","url":"/groups/gitlab-org/-/epics/3540","group_id":9970,"human_readable_end_date":"Aug 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":89874036,"iid":335361,"project_id":278964,"title":"Specify more meaningful placeholders in DAST On-Demand Site Profile","description":"## Problem to solve\n\nwe currently have pre-filled values for `username_field` and `password_field`, which are set to `username` and `password` respectively. the usability of these values are questionable because it's unlikely these will the values they'll actually have in their web app.\n\n## Proposal\n\n1. convert these values from being pre-filled to placeholders\n1. change the value to add an explicit prefix (e.g. `name:username` and `name:password`)\n1. add a tooltip next to these fields describing their purpose and explain that being more explicit will lead to faster scan times\n\n## User experience goal\n\nprevent users from assigning inappropriate values by default.\n\n## What is the type of buyer\n\n[Ultimate](https://about.gitlab.com/handbook/product/pricing/#three-tiers)","state":"closed","created_at":"2021-07-07T04:12:11.475Z","updated_at":"2021-07-27T23:12:15.241Z","closed_at":"2021-07-27T23:12:15.220Z","closed_by":{"id":4310743,"username":"sethgitlab","name":"Seth Berger","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4310743/avatar.png","web_url":"https://gitlab.com/sethgitlab"},"labels":["Category:DAST","[deprecated] Accepting merge requests","devops::secure","feature::enhancement","frontend","group::dynamic analysis","section::sec","type::feature"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[],"author":{"id":5749348,"username":"philipcunningham","name":"Philip Cunningham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5749348/avatar.png","web_url":"https://gitlab.com/philipcunningham"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335361","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335361","notes":"https://gitlab.com/api/v4/projects/278964/issues/335361/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335361/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335361","relative":"#335361","full":"gitlab-org/gitlab#335361"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":89871704,"iid":335357,"project_id":278964,"title":"Migrate shared/analytics/daterange component to gitlab-ui","description":"The following discussion from !65184 should be addressed:\n\n- [ ] @aregnery started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/65184#note_615655854):  (+8 comments)\n\n    \u003e @npost I wanted to get your thoughts on this change since I found it in Value Stream Management. I also want to get this daterange indicator added to Pajamas https://gitlab.com/gitlab-org/gitlab-services/design.gitlab.com/-/merge_requests/2438 because it would be useful for other areas of GitLab that limit date range selections like ~\"Category:Audit Events\".\n    \u003e \n    \u003e cc: @jeldergl","state":"closed","created_at":"2021-07-07T02:47:17.887Z","updated_at":"2021-09-09T11:31:36.788Z","closed_at":"2021-09-09T11:31:36.775Z","closed_by":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"labels":["UX","devops::manage","documentation","frontend","group::compliance","javascript","priority::2","section::dev","tw-weight::3","workflow::in review"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"}],"author":{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"},"type":"ISSUE","assignee":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"user_notes_count":10,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335357","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335357","notes":"https://gitlab.com/api/v4/projects/278964/issues/335357/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335357/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335357","relative":"#335357","full":"gitlab-org/gitlab#335357"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":89870614,"iid":335355,"project_id":278964,"title":"Rename `Integration.inherit` scope to `with_default_settings`","description":"This issue came out of this [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/65207#note_615901387).","state":"closed","created_at":"2021-07-07T01:59:57.748Z","updated_at":"2022-11-22T19:38:20.633Z","closed_at":"2021-08-03T23:11:04.867Z","closed_by":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"labels":["backend","devops::manage","group::ecosystem [DEPRECATED]","section::dev","type::maintenance","workflow::in review"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"}],"author":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"type":"ISSUE","assignee":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335355","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335355","notes":"https://gitlab.com/api/v4/projects/278964/issues/335355/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335355/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335355","relative":"#335355","full":"gitlab-org/gitlab#335355"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":89863234,"iid":335347,"project_id":278964,"title":"RepositoryPushAuditEventWorker throws \"ActiveRecord::StatementInvalid\" exception if author has no current_sign_in_ip","description":"### Summary\n\nWhen [auditing repository push events](https://docs.gitlab.com/ee/administration/audit_events.html#repository-push) - the `RepositoryPushAuditEventWorker` / `RepositoryPushAuditEventService` will generate an `ActiveRecord::StatementInvalid` exception with the error:\n\n```\nPG::InvalidTextRepresentation: ERROR:  invalid input syntax for type inet:\n```\n\nwhen the author of the push has no `current_sign_in_ip`\n\nThis is due to the fact that `::AuditEventService` will fall back to `current_sign_in_ip` if it's not provided and there's no RequestContext - which there's not with a repository push (at least via SSH)\n\n\n### Steps to reproduce\n\n1. Enable the `Feature.enable(:repository_push_audit_event)` feature flag.\n2. Clear the `current_sign_in_ip` for a user\n3. Using that user's account, push a change (tested with ssh push only) to a repository\n4. The `RepositoryPushAuditEventWorker` will fail with the following backtrace (`14.0.3`)\n\n```\n  \"error_message\": \"PG::InvalidTextRepresentation: ERROR:  invalid input syntax for type inet: \\\"\\\"\\nLINE 2:         VALUES (1, 'jayo', 9, 'Project', '', '2021-07-06 21:...\\n                                                 ^\\n\",\n  \"error_class\": \"ActiveRecord::StatementInvalid\",\n  \"error_backtrace\": [\n    \"lib/gitlab/database.rb:235:in `bulk_insert'\",\n    \"ee/app/services/audit_events/bulk_insert_service.rb:21:in `block in execute'\",\n    \"ee/app/services/audit_events/bulk_insert_service.rb:20:in `execute'\",\n    \"ee/app/workers/repository_push_audit_event_worker.rb:28:in `perform'\",\n    \"lib/gitlab/sidekiq_middleware/duplicate_jobs/strategies/until_executing.rb:16:in `perform'\",\n    \"lib/gitlab/sidekiq_middleware/duplicate_jobs/duplicate_job.rb:41:in `perform'\",\n    \"lib/gitlab/sidekiq_middleware/duplicate_jobs/server.rb:8:in `call'\",\n    \"lib/gitlab/sidekiq_middleware/worker_context.rb:9:in `wrap_in_optional_context'\",\n    \"lib/gitlab/sidekiq_middleware/worker_context/server.rb:17:in `block in call'\",\n    \"lib/gitlab/application_context.rb:74:in `block in use'\",\n    \"lib/gitlab/application_context.rb:74:in `use'\",\n    \"lib/gitlab/application_context.rb:27:in `with_context'\",\n    \"lib/gitlab/sidekiq_middleware/worker_context/server.rb:15:in `call'\",\n    \"lib/gitlab/sidekiq_status/server_middleware.rb:7:in `call'\",\n    \"lib/gitlab/sidekiq_versioning/middleware.rb:9:in `call'\",\n    \"lib/gitlab/sidekiq_middleware/admin_mode/server.rb:14:in `call'\",\n    \"lib/gitlab/sidekiq_middleware/instrumentation_logger.rb:9:in `call'\",\n    \"lib/gitlab/sidekiq_middleware/batch_loader.rb:7:in `call'\",\n    \"lib/gitlab/sidekiq_middleware/extra_done_log_metadata.rb:7:in `call'\",\n    \"lib/gitlab/sidekiq_middleware/request_store_middleware.rb:10:in `block in call'\",\n    \"lib/gitlab/with_request_store.rb:17:in `enabling_request_store'\",\n    \"lib/gitlab/with_request_store.rb:10:in `with_request_store'\",\n    \"lib/gitlab/sidekiq_middleware/request_store_middleware.rb:9:in `call'\",\n    \"lib/gitlab/sidekiq_middleware/server_metrics.rb:29:in `block in call'\",\n    \"lib/gitlab/sidekiq_middleware/server_metrics.rb:52:in `block in instrument'\",\n    \"lib/gitlab/metrics/background_transaction.rb:30:in `run'\",\n    \"lib/gitlab/sidekiq_middleware/server_metrics.rb:52:in `instrument'\",\n    \"lib/gitlab/sidekiq_middleware/server_metrics.rb:28:in `call'\",\n    \"lib/gitlab/sidekiq_middleware/monitor.rb:8:in `block in call'\",\n    \"lib/gitlab/sidekiq_daemon/monitor.rb:49:in `within_job'\",\n    \"lib/gitlab/sidekiq_middleware/monitor.rb:7:in `call'\",\n    \"lib/gitlab/sidekiq_middleware/size_limiter/server.rb:13:in `call'\",\n    \"lib/gitlab/sidekiq_logging/structured_logger.rb:19:in `call'\"\n  ],\n```\n\n### Proposal\n\n1. Add a Sentry report when `User#current_sign_in_ip` is an empty string.\n1. TBD: Fix the underlying bug that has been explained by the Sentry report.","state":"closed","created_at":"2021-07-06T21:50:48.186Z","updated_at":"2022-05-02T08:41:16.695Z","closed_at":"2022-05-02T08:41:16.688Z","closed_by":{"id":10467142,"username":"harsimarsandhu","name":"Harsimar Sandhu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10467142/avatar.png","web_url":"https://gitlab.com/harsimarsandhu"},"labels":["Category:Audit Events","backend","customer","devops::manage","group::compliance","section::dev","severity::3","type::bug","wontfix","workflow::blocked"],"milestone":null,"assignees":[],"author":{"id":3543077,"username":"jayo","name":"Jason Young","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ad2847a3f399fc5bcb10f0e57911aa58?s=80\u0026d=identicon","web_url":"https://gitlab.com/jayo"},"type":"ISSUE","assignee":null,"user_notes_count":23,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2021-10-04","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335347","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335347","notes":"https://gitlab.com/api/v4/projects/278964/issues/335347/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335347/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335347","relative":"#335347","full":"gitlab-org/gitlab#335347"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":89860272,"iid":335336,"project_id":278964,"title":"Customize the type of vulnerability in regards to the default branch (e.g., main) for the approval","description":"\n\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\u003c!--\nA brief explanation of the why, not the what or how. Assume the reader doesn't know the\nbackground and won't have time to dig-up information from comment threads.\n--\u003e\n\nCurrently Vunerability-check rule applies to any type of vulnerability. Providing a way to define which type(s) of vulnerabilities should be considered will give the user more granularity.\n\nThis **only** applies when the default branch is selected, then users can select whether vulnerabilities should be newly detected, pre-existing dismissed, or pre-existing detected, or pre-existing confirmed. These states will map to the values in the table below.\n\n**Value map table**\n| Menu option | State of finding in default branch |\n|-------------|------------------------------------|\n| Newly detected | N/A (does not exist in default branch) OR `resolved` OR has been marked as \"resolved on default branch\" (aka disappeared) |\n| pre-existing dismissed | `dismissed` |\n| pre-existing detected | `detected` |\n| pre-existing confirmed | `confirmed` |\n\n![Screen_Shot_2021-06-30_at_4.07.45_PM](https://gitlab.com/gitlab-org/gitlab/uploads/1a6b49a9d03381d39ff4200663a93b2c/Screen_Shot_2021-06-30_at_4.07.45_PM.png)\n\n## Relevant links\n\u003c!--\nInformation that the developer might need to refer to when implementing the issue.\n\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e)\n  - [Design 1](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n  - [Design 2](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n- [Similar implementation](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/\u003cid\u003e)\n--\u003e\n\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [ ] Documentation:\n- [ ] Feature flag:\n- [ ] Performance:\n- [ ] Testing:\n\n\n## Implementation plan\n\u003c!--\nSteps and the parts of the code that will need to get updated. The plan can also\ncall-out responsibilities for other team members or teams.\n\ne.g.:\n\n- [ ] ~frontend Step 1\n  - [ ] `@person` Step 1a\n- [ ] ~frontend Step 2\n\n--\u003e\n\n* [x] ~frontend Add a dropdown with the types above\n* [x] ~frontend Add `all` as an option to keep support with the current behaviour\n* [x] ~backend Extend the model to support the scanners related to endpoint: `http://HOST/api/v4/projects/PROJECT_ID/approval_settings/rules`\n* [x] ~backend Extend or derive the [related rules](https://gitlab.com/gitlab-org/gitlab/-/blob/30631669534eb522ed277e7c063cad01a4aed9e6/ee/app/models/approval_wrapped_rule.rb).\n* [x] ~documentation Update [related docs](https://docs.gitlab.com/ee/user/application_security/#enable-the-vulnerability-check-rule)\n\n\n\u003c!--\nWorkflow and other relevant labels\n\n# ~\"group::\" ~\"Category:\" ~\"GitLab Ultimate\"\nOther settings you might want to include when creating the issue.\n\n# /assign @\n# /epic \u0026\n--\u003e\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2021-07-06T19:50:21.308Z","updated_at":"2021-12-16T23:07:55.311Z","closed_at":"2021-11-10T23:57:01.122Z","closed_by":{"id":480804,"username":"thiagocsf","name":"Thiago Figueir√≥","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480804/avatar.png","web_url":"https://gitlab.com/thiagocsf"},"labels":["Category:Security Policy Management","Enterprise Edition","GitLab Ultimate","backend","devops::govern","direction","frontend","group::security policies","missed:14.3","missed:14.4","section::sec","secure merge request approval","workflow::verification"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":4906322,"username":"zmartins","name":"Zamir Martins","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4906322/avatar.png","web_url":"https://gitlab.com/zmartins"}],"author":{"id":4906322,"username":"zmartins","name":"Zamir Martins","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4906322/avatar.png","web_url":"https://gitlab.com/zmartins"},"type":"ISSUE","assignee":{"id":4906322,"username":"zmartins","name":"Zamir Martins","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4906322/avatar.png","web_url":"https://gitlab.com/zmartins"},"user_notes_count":16,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335336","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":12,"completed_count":5},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"5 of 12 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335336","notes":"https://gitlab.com/api/v4/projects/278964/issues/335336/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335336/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335336","relative":"#335336","full":"gitlab-org/gitlab#335336"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6261,"epic":{"id":298070,"iid":6261,"title":"Allow for granular vulnerability check approval rules","url":"/groups/gitlab-org/-/epics/6261","group_id":9970,"human_readable_end_date":"Nov 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":89860210,"iid":335335,"project_id":278964,"title":"Customize the minimum number of vulnerabilities will be considered for approval","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\u003c!--\nA brief explanation of the why, not the what or how. Assume the reader doesn't know the\nbackground and won't have time to dig-up information from comment threads.\n--\u003e\n\nCurrently Vunerability-check rule applies to one or more vulnerabilities. Providing a way to define the minimum number of vulnerabilities should be considered will give the user more granularity.\n\n![Screen_Shot_2021-06-30_at_4.07.45_PM](/uploads/71f5db5f9e1c0babc9905264f88af528/Screen_Shot_2021-06-30_at_4.07.45_PM.png)\n\n## Relevant links\n\u003c!--\nInformation that the developer might need to refer to when implementing the issue.\n\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e)\n  - [Design 1](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n  - [Design 2](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n- [Similar implementation](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/\u003cid\u003e)\n--\u003e\n\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [ ] Documentation:\n- [ ] Feature flag:\n- [ ] Performance:\n- [ ] Testing:\n\n\n## Implementation plan\n\u003c!--\nSteps and the parts of the code that will need to get updated. The plan can also\ncall-out responsibilities for other team members or teams.\n\ne.g.:\n\n- [ ] ~frontend Step 1\n  - [ ] `@person` Step 1a\n- [ ] ~frontend Step 2\n\n--\u003e\n\n* [ ] ~frontend Add a textbox (similar to `Approvals required`) with the minimum number of vulnerabilities\n* [ ] ~frontend default to `1` to keep support with the current behaviour\n* [ ] ~backend Extend the model to support the number of vulnerabilties related to endpoint: `http://HOST/api/v4/projects/PROJECT_ID/approval_settings/rules`\n* [ ] ~backend Extend or derive the [related rules](https://gitlab.com/gitlab-org/gitlab/-/blob/30631669534eb522ed277e7c063cad01a4aed9e6/ee/app/models/approval_wrapped_rule.rb) to consider the severities.\n* [ ] ~documentation Update [related docs](https://docs.gitlab.com/ee/user/application_security/#enable-the-vulnerability-check-rule)\n\n\n\u003c!--\nWorkflow and other relevant labels\n\n# ~\"group::\" ~\"Category:\" ~\"GitLab Ultimate\"\nOther settings you might want to include when creating the issue.\n\n# /assign @\n# /epic \u0026\n--\u003e","state":"closed","created_at":"2021-07-06T19:47:23.838Z","updated_at":"2021-08-18T07:06:42.518Z","closed_at":"2021-08-12T20:38:47.870Z","closed_by":{"id":4906322,"username":"zmartins","name":"Zamir Martins","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4906322/avatar.png","web_url":"https://gitlab.com/zmartins"},"labels":["Category:Security Policy Management","Deliverable","Enterprise Edition","backend","devops::govern","frontend","group::security policies","section::sec","secure merge request approval","workflow::verification"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":4906322,"username":"zmartins","name":"Zamir Martins","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4906322/avatar.png","web_url":"https://gitlab.com/zmartins"}],"author":{"id":4906322,"username":"zmartins","name":"Zamir Martins","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4906322/avatar.png","web_url":"https://gitlab.com/zmartins"},"type":"ISSUE","assignee":{"id":4906322,"username":"zmartins","name":"Zamir Martins","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4906322/avatar.png","web_url":"https://gitlab.com/zmartins"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335335","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":12,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 12 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335335","notes":"https://gitlab.com/api/v4/projects/278964/issues/335335/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335335/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335335","relative":"#335335","full":"gitlab-org/gitlab#335335"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6261,"epic":{"id":298070,"iid":6261,"title":"Allow for granular vulnerability check approval rules","url":"/groups/gitlab-org/-/epics/6261","group_id":9970,"human_readable_end_date":"Nov 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":89860186,"iid":335333,"project_id":278964,"title":"Customize which vulnerability severities will be considered for approval","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\u003c!--\nA brief explanation of the why, not the what or how. Assume the reader doesn't know the\nbackground and won't have time to dig-up information from comment threads.\n--\u003e\n\nCurrently Vunerability-check rule applies to any severity. Providing a way to define which severities(s) should be considered will give the user more granularity.\n\n![Screen_Shot_2021-06-30_at_4.07.45_PM](/uploads/e25257319cf4c8b10082b74237e38ede/Screen_Shot_2021-06-30_at_4.07.45_PM.png)\n\n\n## Relevant links\n\u003c!--\nInformation that the developer might need to refer to when implementing the issue.\n\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e)\n  - [Design 1](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n  - [Design 2](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n- [Similar implementation](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/\u003cid\u003e)\n--\u003e\n\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [ ] Documentation:\n- [ ] Feature flag:\n- [ ] Performance:\n- [ ] Testing:\n\n\n## Implementation plan\n\u003c!--\nSteps and the parts of the code that will need to get updated. The plan can also\ncall-out responsibilities for other team members or teams.\n\ne.g.:\n\n- [ ] ~frontend Step 1\n  - [ ] `@person` Step 1a\n- [ ] ~frontend Step 2\n\n--\u003e\n\n* [ ] ~frontend Add a dropdown with the [severities available](https://gitlab.com/gitlab-org/gitlab/-/blob/f63e1160ec372a317c1c102d63d1a7f5ca15edb8/app/assets/javascripts/vue_shared/security_reports/components/constants.js)\n* [ ] ~frontend Add `all` as an option to keep support with the current behaviour\n* [ ] ~backend Extend the model to support the scanners related to endpoint: `http://HOST/api/v4/projects/PROJECT_ID/approval_settings/rules`\n* [ ] ~backend Extend or derive the [related rules](https://gitlab.com/gitlab-org/gitlab/-/blob/30631669534eb522ed277e7c063cad01a4aed9e6/ee/app/models/approval_wrapped_rule.rb) to consider the severities.\n* [ ] ~documentation Update [related docs](https://docs.gitlab.com/ee/user/application_security/#enable-the-vulnerability-check-rule)\n\n\u003c!--\nWorkflow and other relevant labels\n\n# ~\"group::\" ~\"Category:\" ~\"GitLab Ultimate\"\nOther settings you might want to include when creating the issue.\n\n# /assign @\n# /epic \u0026\n--\u003e","state":"closed","created_at":"2021-07-06T19:46:46.574Z","updated_at":"2021-09-03T00:12:04.341Z","closed_at":"2021-08-13T13:19:57.150Z","closed_by":{"id":4906322,"username":"zmartins","name":"Zamir Martins","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4906322/avatar.png","web_url":"https://gitlab.com/zmartins"},"labels":["Category:Security Policy Management","Deliverable","Enterprise Edition","backend","devops::govern","frontend","group::security policies","section::sec","secure merge request approval","workflow::verification"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":4906322,"username":"zmartins","name":"Zamir Martins","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4906322/avatar.png","web_url":"https://gitlab.com/zmartins"}],"author":{"id":4906322,"username":"zmartins","name":"Zamir Martins","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4906322/avatar.png","web_url":"https://gitlab.com/zmartins"},"type":"ISSUE","assignee":{"id":4906322,"username":"zmartins","name":"Zamir Martins","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4906322/avatar.png","web_url":"https://gitlab.com/zmartins"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335333","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":12,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 12 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335333","notes":"https://gitlab.com/api/v4/projects/278964/issues/335333/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335333/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335333","relative":"#335333","full":"gitlab-org/gitlab#335333"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6261,"epic":{"id":298070,"iid":6261,"title":"Allow for granular vulnerability check approval rules","url":"/groups/gitlab-org/-/epics/6261","group_id":9970,"human_readable_end_date":"Nov 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":89855486,"iid":335326,"project_id":278964,"title":"Create vulnerability read model","description":"## Why are we doing this work\n\nAs we are constantly getting time-out errors while loading the group\u0026instance-level vulnerability reports pages, we wanted to implement a performant solution to query our complex data model. We are basically creating a new table to denormalize our data to make it easier to query which will improve the performance. This approach is called \"Command Query Responsibility Segregation\" which in short is [CQRS](https://en.wikipedia.org/wiki/Command%E2%80%93query_separation#Command_query_responsibility_segregation).\n\nThe first implementation task of having a separate read model is defining \u0026 creating the read model which will be done within the scope of this issue.\n\n## Relevant links\n\n- An example timeout issue: https://gitlab.com/gitlab-org/gitlab/-/issues/327607\n\n## Implementation plan\n\n- [x] ~database Introduce a new table called `vulnerability_reads`\n- [x] ~database Create the necessary indices on this table to speed up querying it\n\n### Technical details/notes\n\n\u003cdetails\u003e\n\u003csummary\u003e\nThe read table schema\n\u003c/summary\u003e\n\n```sql\nCREATE TABLE vulnerability_reads (\n  vulnerability_id bigint NOT NULL,\n  project_id int NOT NULL,\n  report_type smallint NOT NULL,\n  scanner_id bigint NOT NULL,\n  severity smallint NOT NULL, -- Maybe :'\"char\"' column to have just 1 byte field?\n  state smallint NOT NULL, -- Maybe :'\"char\"' column to have just 1 byte field?\n  has_issues boolean DEFAULT false NOT NULL,\n  resolved_on_default_branch boolean DEFAULT false NOT NULL\n  uuid uuid NOT NULL\n  location_image text\n);\n\nalter table only vulnerability_reads add constraint ... foreign key (vulnerability_id) references vulnerabilities(id) on delete cascade;\n```\n\u003c/details\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003e\nIndices\n\u003c/summary\u003e\n\n```sql\n  create unique index index_1 on vulnerability_reads using btree(vulnerability_id);\n  create index index_2 on vulnerability_reads using btree(project_id, state, severity, vulnerability_id desc);\n  ...\n```\n\u003c/details\u003e","state":"closed","created_at":"2021-07-06T18:11:18.190Z","updated_at":"2022-11-21T00:51:18.145Z","closed_at":"2021-12-04T17:12:17.565Z","closed_by":{"id":8401507,"username":"sashi_kumar","name":"Sashi Kumar Kumaresan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8401507/avatar.png","web_url":"https://gitlab.com/sashi_kumar"},"labels":["Category:Vulnerability Management","Deliverable","backend","database","devops::secure","group::threat insights","section::sec","workflow::in review"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":8401507,"username":"sashi_kumar","name":"Sashi Kumar Kumaresan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8401507/avatar.png","web_url":"https://gitlab.com/sashi_kumar"}],"author":{"id":5721376,"username":"minac","name":"Mehmet Emin INAC","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d8bdee790902422e3554e411a173c7c0?s=80\u0026d=identicon","web_url":"https://gitlab.com/minac"},"type":"ISSUE","assignee":{"id":8401507,"username":"sashi_kumar","name":"Sashi Kumar Kumaresan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8401507/avatar.png","web_url":"https://gitlab.com/sashi_kumar"},"user_notes_count":23,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335326","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":2},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335326","notes":"https://gitlab.com/api/v4/projects/278964/issues/335326/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335326/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335326","relative":"#335326","full":"gitlab-org/gitlab#335326"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6903,"epic":{"id":368043,"iid":6903,"title":"Improve performance of vulnerability reads","url":"/groups/gitlab-org/-/epics/6903","group_id":9970,"human_readable_end_date":"May 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":89850169,"iid":335316,"project_id":278964,"title":"[Backend] Allow \"all protected branches\" for MR approval rules in projects","description":"[[_TOC_]]\n\n### Problem to solve \n\n\u003c!-- What is the user problem you are trying to solve with this issue? --\u003e\n\nUsers want to ensure proper separation of duties using merge request approvers in their projects for specific branches. Today they do this by manually entering approval settings for individual branches. This is very time consuming and error prone, especially if a project has dozens of protected branches or when the protected branches changes.\n\n### Proposal \n\n\u003c!-- Use this section to explain the feature and how it will work. It can be helpful to add technical details, design proposals, and links to related epics or issues. --\u003e\n\nAllow users to define an approval rule they would like to use for all protected branches in a project. Add a new option, `All protected branches`, to merge request approval rules at the _project level_. \n\nWhile also replacing `Any eligible user` ‚Üí `All eligible users` and `Any branch` ‚Üí `All branches` to keep consistent ~\"UI text\" \n\nAutomatically apply this approval setting to any branches that become protected, even if they were not originally.\n\n### Implementation Proposal\n\n* Add a new database column `applies_to_all_protected_branches:boolean` (or perhaps something less... verbose)\n* Alter the logic of `def applies_to_branch?(branch)` to return `true` if `applies_to_all_protected_branches` is true _and_ `branch` is a protected branch of the appropriate project. \n* Add the new parameter to the `/api/v4/projects/23/approval_settings/rules` REST endpoint to allow for read/write of the new parameter.\n* Update REST and GraphQL APIs to output a dynamic list of all protected branches in the `protected_branches` key in API responses.\n* Should be implemented behind a ~\"feature flag\" \n\n#### Scenario illustration\n\nA merge request approval rule \"Villains\" targets `All protected branches`\n\n![Branch_update](https://gitlab.com/gitlab-org/gitlab/uploads/45652423dedd312aa9d51324b7cadd03/Branch_update.png)\n\n[Open Figma ‚Üí](https://www.figma.com/file/0ryR4kblICZYQYDfXAcAo6/%F0%9F%94%92-18488-Blunt-Hammer?node-id=1839%3A23497)\n\n### Further details \n\nBackground evidence around the problem space\n- https://gitlab.com/groups/gitlab-org/-/epics/4367#note_619317599\n- https://gitlab.com/groups/gitlab-org/-/epics/4367#note_620116744\n\n### Out of scope\n**Group and subgroup implementation**\n- This proposal will set the foundation to create a useful generic rule that could be scaled to the group level in the future.\n- Future issues/epics will cover group and subgroup\n\n## What is the type of buyer?\n\n~\"GitLab Premium\" \n\n## Open Questions\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2021-07-06T16:27:41.000Z","updated_at":"2022-07-19T15:03:05.351Z","closed_at":"2022-06-30T07:43:49.261Z","closed_by":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"labels":["Category:Compliance Management","GitLab Premium","Next Up","UX","backend","customer","devops::manage","direction","group::compliance","priority::2","release post item","section::dev","settings","workflow::verification"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"}],"author":{"id":6193108,"username":"aregnery","name":"Austin Regnery","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6193108/avatar.png","web_url":"https://gitlab.com/aregnery"},"type":"ISSUE","assignee":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"user_notes_count":51,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335316","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335316","notes":"https://gitlab.com/api/v4/projects/278964/issues/335316/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335316/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335316","relative":"#335316","full":"gitlab-org/gitlab#335316"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4367,"epic":{"id":107816,"iid":4367,"title":"Group-level settings for merge request approval RULES in child projects","url":"/groups/gitlab-org/-/epics/4367","group_id":9970,"human_readable_timestamp":"\u003cstrong\u003e576\u003c/strong\u003e days elapsed"},"iteration":null,"health_status":"on_track"},{"id":89847785,"iid":335307,"project_id":278964,"title":"Move API fuzzing download button in Pipeline page - Part 3 - Render download dropdowns","description":"Parent Issue: https://gitlab.com/gitlab-org/gitlab/-/issues/333660\n\n* [x] Pass in each match report type array when iterating through each report type row to render in the summary.\n* [x] Update Grid css rules here https://gitlab.com/gitlab-org/gitlab/-/blob/v14.0.0-ee/ee/app/assets/javascripts/security_dashboard/components/pipeline/security_reports_summary.vue#L102\n* [x] Use security-report-download-dropdown component with grid styles after this `div` https://gitlab.com/gitlab-org/gitlab/-/blob/v14.0.0-ee/ee/app/assets/javascripts/security_dashboard/components/pipeline/security_reports_summary.vue#L102\n* [x] Rendering logic should exist within component. Don't render anything if 0 artifacts.\n* [x] Remove old dropdown as seen in screenshot. \n* [ ] Update unit tests after button removal\n\n![](https://gitlab.com/gitlab-org/gitlab/uploads/8f63e039afb9a403ce5217112237213f/Screenshot_2021-06-15_at_11.34.42.png)","state":"closed","created_at":"2021-07-06T15:45:12.959Z","updated_at":"2021-08-16T08:45:26.288Z","closed_at":"2021-08-16T08:45:26.265Z","closed_by":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"labels":["Category:Fuzz Testing","UX debt","devops::secure","frontend","group::dynamic analysis","section::sec","workflow::production"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"}],"author":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"type":"ISSUE","assignee":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335307","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":5},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"5 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335307","notes":"https://gitlab.com/api/v4/projects/278964/issues/335307/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335307/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335307","relative":"#335307","full":"gitlab-org/gitlab#335307"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":89847599,"iid":335306,"project_id":278964,"title":"Move API fuzzing download button in Pipeline page - Part 2- Use Query fragment in security_reports_summary.vue","description":"Parent Issue: https://gitlab.com/gitlab-org/gitlab/-/issues/333660\n\n- [x] Update query in security_reports_summary.vue component to use query fragment\n\nUpdate this Query: https://gitlab.com/gitlab-org/gitlab/-/blob/v14.0.0-ee/ee/app/assets/javascripts/security_dashboard/components/pipeline/pipeline_security_dashboard.vue#L39\n\nwith query fragment\n\n* [x] Define security-report-download-dropdown component in v-for of security_reports_summary.vue that renders each scanner type results\n* [x] Implement a computed prop or parsing function to parse the `job -\u003e nodes` array into an object containing separate arrays of each report type.\n* [x] Add unit tests","state":"closed","created_at":"2021-07-06T15:42:12.344Z","updated_at":"2021-08-16T08:44:55.923Z","closed_at":"2021-08-16T08:44:55.908Z","closed_by":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"labels":["Category:Fuzz Testing","UX debt","devops::secure","frontend","group::dynamic analysis","section::sec","workflow::production"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"}],"author":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"type":"ISSUE","assignee":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335306","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":4},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"4 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335306","notes":"https://gitlab.com/api/v4/projects/278964/issues/335306/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335306/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335306","relative":"#335306","full":"gitlab-org/gitlab#335306"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":89847443,"iid":335305,"project_id":278964,"title":"Move API fuzzing download button in Pipeline page - Part 1 - Refactor Query fragment","description":"Parent Issue: https://gitlab.com/gitlab-org/gitlab/-/issues/333660\n\n* [x] Refactor https://gitlab.com/gitlab-org/gitlab/-/blob/v14.0.0-ee/app/assets/javascripts/vue_shared/security_reports/queries/security_report_pipeline_download_paths.query.graphql into a query fragment.\n* [x] Update existing usages of query to use query fragment. Used Here: `ee/app/assets/javascripts/vue_shared/security_reports/components/artifact_downloads/pipeline_artifact_download.vue`\n* [x] Update unit tests","state":"closed","created_at":"2021-07-06T15:39:00.529Z","updated_at":"2021-10-28T13:55:27.971Z","closed_at":"2021-08-05T16:04:22.882Z","closed_by":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"labels":["Category:Fuzz Testing","UX debt","[deprecated] üçé","devops::secure","frontend","group::dynamic analysis","section::sec","type::maintenance","workflow::production"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"}],"author":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"type":"ISSUE","assignee":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335305","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335305","notes":"https://gitlab.com/api/v4/projects/278964/issues/335305/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335305/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335305","relative":"#335305","full":"gitlab-org/gitlab#335305"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":89847080,"iid":335304,"project_id":278964,"title":"Add Cluster Image Scanning to Security Report Schemas","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\u003c!--\nA brief explanation of the why, not the what or how. Assume the reader doesn't know the\nbackground and won't have time to dig-up information from comment threads.\n--\u003e\nWe are adding a new analyzer to scan container images running in Kubernetes clusters. For motivation behind this feature see https://gitlab.com/groups/gitlab-org/-/epics/3410#problem-to-solve. We need to extend the security report schemas to support Cluster Image Scanning. In addition to information about the image, the location data should also include what clusters and \nKubernetes resources the vulnerabilities are associated with.\n\n## Relevant links\n\u003c!--\nInformation that the developer might need to refer to when implementing the issue.\n\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e)\n  - [Design 1](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n  - [Design 2](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n- [Similar implementation](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/\u003cid\u003e)\n--\u003e\n\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [ ] Documentation: \n  - https://docs.gitlab.com/ee/development/integrations/secure.html\n- [ ] Feature flag:\n- [ ] Performance:\n- [ ] Testing:\n\n\n## Implementation plan\n\u003c!--\nSteps and the parts of the code that will need to get updated. The plan can also\ncall-out responsibilities for other team members or teams.\n\ne.g.:\n\n- [ ] ~frontend Step 1\n  - [ ] `@person` Step 1a\n- [ ] ~frontend Step 2\n\n--\u003e\n\nI propose the following `location` schema for cluster image scanning:\n\n```json\n{\n  \"location\": {\n    \"dependency\": {use existing dependency structure},\n    \"image\": \"index.docker.io/library/alpine:3.14.0\",\n    \"kubernetes_resource\": {\n      \"namespace\": \"production\",\n      \"kind\": \"deployment\",\n      \"name\": \"alpine\",\n      \"container\": \"alpine\",\n      \"cluster_id\": \"154150\",\n      \"agent_id\": \"289\"\n    }\n  }\n}\n```\n\n1. Add new format to [security-report-schemas](https://gitlab.com/gitlab-org/security-products/security-report-schemas/-/tree/master/src)\n1. Update location structure in the [report library](https://gitlab.com/gitlab-org/security-products/analyzers/report)\n1. (Blocked by https://gitlab.com/gitlab-org/gitlab/-/issues/330714) Update [cluster-image-scanning](https://gitlab.com/gitlab-org/security-products/analyzers/cluster-image-scanning) to populate the new location fields\n   1. https://gitlab.com/gitlab-org/gitlab/-/issues/330714 will implement new CI variables identifying the agent or cluster, which we will put in the location fields.\n\n\u003c!--\nWorkflow and other relevant labels\n\n# ~\"group::\" ~\"Category:\" ~\"GitLab Ultimate\"\nOther settings you might want to include when creating the issue.\n\n# /assign @\n# /epic \u0026\n--\u003e","state":"closed","created_at":"2021-07-06T15:32:52.965Z","updated_at":"2021-10-18T07:03:11.540Z","closed_at":"2021-10-06T12:43:22.622Z","closed_by":{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"},"labels":["Category:Container Scanning","Deliverable","backend","devops::govern","feature::addition","group::security policies","missed-deliverable","missed:14.2","section::sec","type::feature","workflow::in dev"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"}],"author":{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"},"type":"ISSUE","assignee":{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"},"user_notes_count":23,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335304","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":7,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 7 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335304","notes":"https://gitlab.com/api/v4/projects/278964/issues/335304/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335304/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335304","relative":"#335304","full":"gitlab-org/gitlab#335304"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3410,"epic":{"id":59230,"iid":3410,"title":"Cluster Image Scanning (Vulnerability Scans against Running Containers)","url":"/groups/gitlab-org/-/epics/3410","group_id":9970,"human_readable_end_date":"Dec 13, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":89846015,"iid":335300,"project_id":278964,"title":"Create a separate rate limit for unauthenticated API traffic","description":"Our current rate limits allow for setting:\n\n- Unauthenticated traffic (both web and api)\n- Authenticated api\n- Authenticated web\n\nWe cannot currently lower the unauthenticated api limit because it includes both web and api. Because of this, it will be difficult for us to tune our authenticated api rate limit as we are proposing in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/65334\n\nRate limiting is currently our best tool to prevent a single noisy neighbor from impacting performance, especially on storage shards as it was with https://gitlab.com/gitlab-com/gl-infra/production/-/issues/5037 and https://gitlab.com/gitlab-com/gl-infra/production/-/issues/5031\n\nThere should also be very little need to the api anonymously and by isolating it as a separate rate limit, we can lower it much lower than the current authenticated api limit.\n\nOur current limit for all unauthenticated traffic is 500 req/min which includes the unauthenticated API.","state":"closed","created_at":"2021-07-06T15:12:57.316Z","updated_at":"2022-11-22T19:38:21.271Z","closed_at":"2021-11-03T14:24:52.501Z","closed_by":{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},"labels":["Application Limits","Category:API","Deliverable","Eng-Consumer::Infrastructure","Eng-Producer::Development","Engineering Allocation","backend","devops::manage","group::integrations","infradev","priority::3","reliability","section::dev","severity::3","type::maintenance","workflow::verification"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":1254817,"username":"jarv","name":"John Jarvis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1254817/avatar.png","web_url":"https://gitlab.com/jarv"}],"author":{"id":1254817,"username":"jarv","name":"John Jarvis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1254817/avatar.png","web_url":"https://gitlab.com/jarv"},"type":"ISSUE","assignee":{"id":1254817,"username":"jarv","name":"John Jarvis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1254817/avatar.png","web_url":"https://gitlab.com/jarv"},"user_notes_count":42,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335300","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335300","notes":"https://gitlab.com/api/v4/projects/278964/issues/335300/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335300/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335300","relative":"#335300","full":"gitlab-org/gitlab#335300"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":89845920,"iid":335299,"project_id":278964,"title":"Popup overlapping important message","description":"The popup menu for ‚ÄùNotification settings\" is partially hidden behind the page header when there is a message bar open. Visually I cannot read the first part of it (but I can with a screen reader). \n\n![Sk√§rmavbild_2021-07-06_kl._17.10.49](/uploads/6dc0352dd9da28c06bab732d558163aa/Sk√§rmavbild_2021-07-06_kl._17.10.49.png)","state":"closed","created_at":"2021-07-06T15:11:14.114Z","updated_at":"2022-02-04T19:27:16.151Z","closed_at":"2022-02-01T02:56:43.892Z","closed_by":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"labels":["Category:Projects","SUS::Impacting","accessibility","devops::manage","frontend","group::organization","priority::4","section::dev","severity::4","type::bug","workflow::production"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"}],"author":{"id":8953765,"username":"lannero","name":"P√§r Lanner√∂","state":"active","avatar_url":"https://secure.gravatar.com/avatar/130e69e8ed5979fb3ad47a29dcca1125?s=80\u0026d=identicon","web_url":"https://gitlab.com/lannero"},"type":"ISSUE","assignee":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335299","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335299","notes":"https://gitlab.com/api/v4/projects/278964/issues/335299/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335299/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335299","relative":"#335299","full":"gitlab-org/gitlab#335299"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":89845749,"iid":335297,"project_id":278964,"title":"[Feature flag] Rollout of `infinitely_collapsible_sections`","description":"## Summary\n\nThis issue is to rollout [infinitely nested collapsible job sections](https://gitlab.com/gitlab-org/gitlab/-/issues/29766) on production,\nthat is currently behind the `infinitely_collapsible_sections` feature flag.\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\n## Owners\n\n- Team: ~\"group::pipeline execution\" \n- Most appropriate slack channel to reach out to: `#g_pipeline_execution`\n- Best individual to reach out to: @jivanvl \n- PM: `@jreporter` \n\n## The Rollout Plan\n\n- Partial Rollout on GitLab.com with testing groups\n- Rollout on GitLab.com for a certain period (How long)\n- Percentage Rollout on GitLab.com\n- Rollout Feature for everyone as soon as it's ready\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? Sentry errors reports can also be useful to review --\u003e\n\n## Testing Groups/Projects/Users\n\n\u003c!-- If applicable, any groups/projects that are happy to have this feature turned on early. Some organizations may wish to test big changes they are interested in with a small subset of users ahead of time for example. --\u003e\n\n- `gitlab-org/gitlab` project\n- `gitlab-org`/`gitlab-com` groups\n- ...\n\n\n## Expectations\n\n### What are we expecting to happen?\n\n\u003c!-- Describe the expected outcome when rolling out this feature --\u003e\n\n### What might happen if this goes wrong?\n\n\u003c!-- Should the feature flag be turned off? Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- [x] Ensure that the feature MRs have been deployed to non-production environments.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Enable the feature globally on non-production environments.\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e true --dev`\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e true --staging`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Preparation before production rollout\n\n- [x] Ensure that the feature MRs have been deployed to both production and canary.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [x] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [ ] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [ ] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com.\n- [ ] If the feature might impact the user experience, notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n- [ ] If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), enable it on GitLab.com for [testing groups/projects](#testing-groupsprojectsusers).\n    - [ ] `/chatops run feature set --\u003cactor-type\u003e=\u003cactor\u003e \u003cfeature-flag-name\u003e true`\n- [ ] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Global rollout on production\n\n- [x] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e`\n  - Enable the feature globally on production environment.\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e true`\n- [x] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [ ] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [ ] Create a merge request with the following changes. Ask for review and merge it.\n    - [ ] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the default-enabling MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-default-enabling-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [ ] (Optional) You can create a separate issue for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [ ] Set the title to \"[Feature flag] Cleanup `\u003cfeature-flag-name\u003e`\".\n    - [ ] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [ ] Link this rollout issue as a related issue.\n    - [ ] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [x] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag. Ask for review and merge it.\n    - [x] Remove all references to the feature flag from the codebase.\n    - [x] Remove the YAML definitions for the feature from the repository.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the cleanup MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-cleanup-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --dev`\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --staging`\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e`\n- [ ] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set \u003cfeature-flag-name\u003e false\n```","state":"closed","created_at":"2021-07-06T15:07:51.819Z","updated_at":"2022-07-01T12:01:57.630Z","closed_at":"2022-06-23T19:09:19.703Z","closed_by":{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"},"labels":["Category:Continuous Integration","devops::verify","feature flag","frontend","group::pipeline execution","missed:14.8","section::ops","workflow::ready for development"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"}],"author":{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"},"type":"ISSUE","assignee":{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"},"user_notes_count":39,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335297","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":47,"completed_count":15},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"15 of 47 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335297","notes":"https://gitlab.com/api/v4/projects/278964/issues/335297/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335297/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335297","relative":"#335297","full":"gitlab-org/gitlab#335297"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":89843615,"iid":335292,"project_id":278964,"title":"Add cluster-image-scanning integration tests for report filtering","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\u003c!--\nA brief explanation of the why, not the what or how. Assume the reader doesn't know the\nbackground and won't have time to dig-up information from comment threads.\n--\u003e\nTo verify that the `cluster-image-scanning` analyzer is working correctly, we should have integration tests which\nread test reports from a Kubernetes cluster and verify that the expected reports are retrieved.\n\n## Relevant links\n\u003c!--\nInformation that the developer might need to refer to when implementing the issue.\n\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e)\n  - [Design 1](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n  - [Design 2](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n- [Similar implementation](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/\u003cid\u003e)\n--\u003e\n- [Expected Behavior](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/64220#note_616458842)\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [ ] Documentation:\n- [ ] Feature flag:\n- [ ] Performance:\n- [ ] Testing:\n\n\n## Implementation plan\n\u003c!--\nSteps and the parts of the code that will need to get updated. The plan can also\ncall-out responsibilities for other team members or teams.\n\ne.g.:\n\n- [ ] ~frontend Step 1\n  - [ ] `@person` Step 1a\n- [ ] ~frontend Step 2\n\n--\u003e\n\nUsing [`client_test.go`](https://gitlab.com/gitlab-org/security-products/analyzers/cluster-image-scanning/-/blob/79f8b193fe7a2cca63a73d33d31c520b312298f9/starboard/client_test.go) as a starting point:\n\n1. Create several test reports in the cluster, belonging to multiple resources and namespaces, and giving each a unique name.\n1. Perform `client.GetVulnerabilityReports()` with several different filters\n1. For each test case, verify that the reports we got are the ones we [expected](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/64220#note_616458842) by checking their names\n1. When all test cases are finished, delete the test reports that we created in step 1. If this fails, it should not fail the tests but should emit a warning\n\n\u003c!--\nWorkflow and other relevant labels\n\n# ~\"group::\" ~\"Category:\" ~\"GitLab Ultimate\"\nOther settings you might want to include when creating the issue.\n\n# /assign @\n# /epic \u0026\n--\u003e","state":"closed","created_at":"2021-07-06T14:32:15.416Z","updated_at":"2022-06-20T03:43:33.104Z","closed_at":"2022-06-15T23:31:21.515Z","closed_by":{"id":480804,"username":"thiagocsf","name":"Thiago Figueir√≥","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480804/avatar.png","web_url":"https://gitlab.com/thiagocsf"},"labels":["Category:Container Scanning","[deprecated] Accepting merge requests","backend","backend-weight::3","devops::govern","feature::enhancement","group::security policies","section::sec","type::feature","workflow::ready for development"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"},"type":"ISSUE","assignee":null,"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335292","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":7,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 7 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335292","notes":"https://gitlab.com/api/v4/projects/278964/issues/335292/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335292/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335292","relative":"#335292","full":"gitlab-org/gitlab#335292"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":89842778,"iid":335291,"project_id":278964,"title":"[VSA] Hash VSA stages","description":"**What**\n\nWhen [reworking the VSA backend](https://gitlab.com/gitlab-org/gitlab/-/issues/332851), we'll have a separate table(s) that contains the start and end event timestamps. To efficiently query this table by the stage (start_event_identifier, end_event_identifier), the table will contain the `stage_hash_id` column.\n\nThe stages are stored in two tables:\n\n- Group level stages: `analytics_cycle_analytics_group_stages`\n- Project level stages: `analytics_cycle_analytics_project_stages` (not in use yet)\n\n**Problem**\n\nWithin a group, you can have several stages with the same start and end event configuration:\n\n- In different value streams\n- In different subgroups\n- In projects\n\nIf we collect the data for these stages, we'll store the same `issues` and `merge_requests` data several times.\n\n**Solution**\n\nHash each stage using the following attributes:\n\n```\n[start_event_identifier, end_event_identifier]\n```\n\nFor label based events:\n\n```\n[start_event_identifier, start_event_label_id, end_event_identifier, end_event_label_id]\n```\n\n- Add the `stage_hash` method to `Analytics::CycleAnalytics::GroupStage` and `Analytics::CycleAnalytics::ProjectStage` which returns a SHA1 hash based on the rules above.\n- Create a new table called `analytics_cycle_analytics_stage_hashes(id: bigint, hash: binary)`\n- In a `before_save` hook in the `Analytics::CycleAnalytics::GroupStage` and `Analytics::CycleAnalytics::ProjectStage` models, insert a new `analytics_cycle_analytics_stage_hashes` value (if it does not exist).\n- Now we have a stable `id` value (`stage_hash_id`) which we can use in the new VSA table(s).\n\nExample:\n\n```ruby\nproject = Project.last\n\ngroup_hash = Analytics::CycleAnalytics::GroupStage.new(group: project.group, end_event_identifier: 'merge_request_created', start_event_identifier: 'merge_request_merged').stage_hash\n\nproject_hash = Analytics::CycleAnalytics::GroupStage.new(project: project, end_event_identifier: 'merge_request_created', start_event_identifier: 'merge_request_merged').stage_hash\n\n\n# should be true:\n\nputs group_hash == project_hash\n```","state":"closed","created_at":"2021-07-06T14:20:05.436Z","updated_at":"2021-08-11T18:42:24.345Z","closed_at":"2021-08-11T18:42:24.300Z","closed_by":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"labels":["Category:Value Stream Management","auto updated","backend","devops::manage","group::optimize","priority::2","section::dev","workflow::production"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"}],"author":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"type":"ISSUE","assignee":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335291","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335291","notes":"https://gitlab.com/api/v4/projects/278964/issues/335291/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335291/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335291","relative":"#335291","full":"gitlab-org/gitlab#335291"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6046,"epic":{"id":274497,"iid":6046,"title":"[VSA] Date range filter should apply to end events","url":"/groups/gitlab-org/-/epics/6046","group_id":9970,"human_readable_end_date":"Feb 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":89840692,"iid":335284,"project_id":278964,"title":"Update Analyzer common modules to support Cluster Image Scanning","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\u003c!--\nA brief explanation of the why, not the what or how. Assume the reader doesn't know the\nbackground and won't have time to dig-up information from comment threads.\n--\u003e\nWe now have a [Go analyzer for Cluster Image Scanning](https://gitlab.com/gitlab-org/security-products/analyzers/cluster-image-scanning). If we would like to continue using the common modules and ci-templates, we should update them to include Cluster Image Scanning.\n\n## Relevant links\n\u003c!--\nInformation that the developer might need to refer to when implementing the issue.\n\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e)\n  - [Design 1](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n  - [Design 2](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n- [Similar implementation](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/\u003cid\u003e)\n--\u003e\n\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [ ] Documentation:\n- [ ] Feature flag:\n- [ ] Performance:\n- [ ] Testing:\n\n\n## Implementation plan\n\u003c!--\nSteps and the parts of the code that will need to get updated. The plan can also\ncall-out responsibilities for other team members or teams.\n\ne.g.:\n\n- [ ] ~frontend Step 1\n  - [ ] `@person` Step 1a\n- [ ] ~frontend Step 2\n\n--\u003e\n\n- [x] Add [`ArtifactNameClusterImageScanning`](https://gitlab.com/gitlab-org/security-products/analyzers/command/-/blob/cb8049621de9a3e7008c93f55e230d087d51d801/run.go#L19) to `command` - https://gitlab.com/gitlab-org/security-products/analyzers/command/-/merge_requests/18\n- [x] Add [`CategoryClusterImageScanning`](https://gitlab.com/gitlab-org/security-products/analyzers/report/-/blob/14c81792b686855b74c140e2679a6b2785b5adaa/vulnerability.go#L71) to `report` - https://gitlab.com/gitlab-org/security-products/analyzers/report/-/merge_requests/14\n- [x] Update `cluster-image-scanning` to use new constants - https://gitlab.com/gitlab-org/security-products/analyzers/cluster-image-scanning/-/merge_requests/13, https://gitlab.com/gitlab-org/security-products/analyzers/cluster-image-scanning/-/merge_requests/12\n- [ ] Update [`custom-ca`](https://gitlab.com/gitlab-org/security-products/tests/custom-ca/-/blob/c39cf34c8f603d1bb7fe68541fc41c41fd58ec61/.gitlab-ci.yml) with `cluster-image-scanning` tests and re-enable downstream tests on the `cluster-image-scanning` repo (disabled in CI variables)\n\n\u003c!--\nWorkflow and other relevant labels\n\n# ~\"group::\" ~\"Category:\" ~\"GitLab Ultimate\"\nOther settings you might want to include when creating the issue.\n\n# /assign @\n# /epic \u0026\n--\u003e","state":"closed","created_at":"2021-07-06T13:43:48.416Z","updated_at":"2021-10-21T18:47:45.882Z","closed_at":"2021-10-21T18:47:45.863Z","closed_by":{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"},"labels":["Category:Container Scanning","backend","backend-weight::1","devops::govern","group::security policies","maintenance::refactor","missed:14.2","section::sec","type::maintenance","workflow::in dev"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"}],"author":{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"},"type":"ISSUE","assignee":{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335284","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":11,"completed_count":3},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 11 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335284","notes":"https://gitlab.com/api/v4/projects/278964/issues/335284/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335284/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335284","relative":"#335284","full":"gitlab-org/gitlab#335284"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":89838177,"iid":335281,"project_id":278964,"title":"Stop ignoring `framework`from project_compliance_framework_settings","description":"### Proposal \n\n* Remove the column ignore `framework` from `project_compliance_framework_settings`. \n* This was completed in %14.1 so this issue should be executed in %14.2.\n\nStep 3 of removing a column needs to be performed as documented in the database documentation: https://docs.gitlab.com/ee/development/avoiding_downtime_in_migrations.html#step-3-removing-the-ignore-rule-release-m2","state":"closed","created_at":"2021-07-06T13:00:00.687Z","updated_at":"2021-10-04T15:10:04.359Z","closed_at":"2021-10-04T15:10:04.346Z","closed_by":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"labels":["[deprecated] Accepting merge requests","backend","devops::manage","group::compliance","ideal for new hires","priority::3","section::dev","workflow::verification"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"}],"author":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"type":"ISSUE","assignee":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335281","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335281","notes":"https://gitlab.com/api/v4/projects/278964/issues/335281/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335281/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335281","relative":"#335281","full":"gitlab-org/gitlab#335281"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":89836083,"iid":335280,"project_id":278964,"title":"[Feature flag] Remove `jira_issue_association_on_merge_request `","description":"## Problem to solve\n\nRemove `jira_issue_association_on_merge_request` feature flag added in https://gitlab.com/groups/gitlab-org/-/epics/4637.\n\nRollout issue: https://gitlab.com/gitlab-org/gitlab/-/issues/300271\n\n## Tasks\n\n* [x] Remove feature flag and add changelog entry\n* [x] After the flag removal is deployed, [clean up the feature flag](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) by running chatops command in `#production` channel\n\n## Rollback Steps\n\n* [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set jira_issue_association_on_merge_request false\n```","state":"closed","created_at":"2021-07-06T12:33:04.263Z","updated_at":"2021-10-28T13:55:28.530Z","closed_at":"2021-08-16T09:33:16.755Z","closed_by":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"labels":["backend","devops::manage","feature flag","group::compliance","section::dev","type::maintenance","workflow::verification"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"}],"author":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"type":"ISSUE","assignee":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"user_notes_count":5,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335280","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":2},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335280","notes":"https://gitlab.com/api/v4/projects/278964/issues/335280/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335280/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335280","relative":"#335280","full":"gitlab-org/gitlab#335280"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4637,"epic":{"id":127687,"iid":4637,"title":"Make the process of associating a Jira issue with a merge request more clear and reliable","url":"/groups/gitlab-org/-/epics/4637","group_id":9970,"human_readable_end_date":"Feb 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":89833740,"iid":335275,"project_id":278964,"title":"GraphQL response does not include `richViewer` data in some cases","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nIn https://gitlab.com/gitlab-org/gitlab/-/issues/323195 we made blob data available through GraphQL, but it seems like the `richViewer` field is `null` when viewing some blobs that have rich viewers.\n\n### Steps to reproduce\n\n1. View [this PDF blob](https://gitlab.com/jerasmus/forked-jerasmus-test-project/-/blob/master/PDF%20sample.pdf)\n1. Inspect the GraphQL request for `getBlobInfo` in the dev tools\n1. Notice the response contains `richViewer: null`\n\n\u003c!-- Describe how one can reproduce the issue - this is very important. Please use an ordered list. --\u003e\n\n### Example Project\n\n[This project](https://gitlab.com/jerasmus/forked-jerasmus-test-project) contains some sample files and has `:refactor_blob_viewer` enabled.\n\nHere are some examples where richViewer is not loaded:\n\n* [PDF blob](https://gitlab.com/jerasmus/forked-jerasmus-test-project/-/blob/master/PDF%20sample.pdf)\n* [Image blob](https://gitlab.com/jerasmus/forked-jerasmus-test-project/-/blob/master/image_sample.png)\n* [Sketch blob](https://gitlab.com/jerasmus/forked-jerasmus-test-project/-/blob/master/sketch%20sample.sketch)\n* [Video blob](https://gitlab.com/jerasmus/forked-jerasmus-test-project/-/blob/master/video%20sample.mp4)\n* [Balsamiq blob](https://gitlab.com/jerasmus/forked-jerasmus-test-project/-/blob/master/balsamiq_sample.bmpr)\n\n### What is the current *bug* behavior?\n\nThe GraphQL response does not include `richViewer` data for some blobs that have richViewers.\n\n### What is the expected *correct* behavior?\n\nAll blobs that have rich viewers should include `richViewer` data in the GraphQL response.\n\n### Relevant logs and/or screenshots\n\n![Screenshot_2021-07-06_at_13.30.08](/uploads/81b9621d16974fcc511e9645c8dc846b/Screenshot_2021-07-06_at_13.30.08.png)","state":"closed","created_at":"2021-07-06T11:59:50.871Z","updated_at":"2021-08-18T07:00:47.836Z","closed_at":"2021-08-03T14:11:53.255Z","closed_by":{"id":4391348,"username":"sean_carroll","name":"Sean Carroll","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4391348/avatar.png","web_url":"https://gitlab.com/sean_carroll"},"labels":["Category:Source Code Management","Deliverable","backend","backend-weight::2","devops::create","group::source code","priority::3","repository","section::dev","severity::3","type::bug","workflow::ready for development"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":421631,"username":"vyaklushin","name":"Vasilii Iakliushin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/421631/avatar.png","web_url":"https://gitlab.com/vyaklushin"}],"author":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"type":"ISSUE","assignee":{"id":421631,"username":"vyaklushin","name":"Vasilii Iakliushin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/421631/avatar.png","web_url":"https://gitlab.com/vyaklushin"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335275","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335275","notes":"https://gitlab.com/api/v4/projects/278964/issues/335275/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335275/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335275","relative":"#335275","full":"gitlab-org/gitlab#335275"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5531,"epic":{"id":217419,"iid":5531,"title":"Refactor Repository Browser to 1 Vue Application","url":"/groups/gitlab-org/-/epics/5531","group_id":9970,"human_readable_end_date":"Apr 17, 2023","human_readable_timestamp":"\u003cstrong\u003e3\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":89831896,"iid":335272,"project_id":278964,"title":"Add a new apdex SLI that uses gitlab_pages_http_time_to_write_header_seconds_bucket next to the current server-SLI for GitLab Pages","description":"From [this comment](https://gitlab.com/gitlab-com/gl-infra/scalability/-/issues/1139#note_614248008):\n\n**Suggestion:** Add a new apdex SLI that uses `gitlab_pages_http_time_to_write_header_seconds_bucket` next to the current [`server`-SLI](https://gitlab.com/gitlab-com/runbooks/-/blob/dd38744208a25fc4750ee2e019400eac35e7a2eb/metrics-catalog/services/web-pages.jsonnet#L45). This would not be subject to the size of the files being served, but it would still be influenced by 2.\n\nOnce we have these thresholds in place we could consider loosening the thresholds on the existing `server`-apdex.","state":"closed","created_at":"2021-07-06T11:24:13.608Z","updated_at":"2022-03-29T20:43:45.950Z","closed_at":"2021-07-28T11:37:33.857Z","closed_by":{"id":3379682,"username":"vshushlin","name":"Vladimir Shushlin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3379682/avatar.png","web_url":"https://gitlab.com/vshushlin"},"labels":["Category:Pages","devops::release","group::release","section::ops"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":3379682,"username":"vshushlin","name":"Vladimir Shushlin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3379682/avatar.png","web_url":"https://gitlab.com/vshushlin"}],"author":{"id":3379682,"username":"vshushlin","name":"Vladimir Shushlin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3379682/avatar.png","web_url":"https://gitlab.com/vshushlin"},"type":"ISSUE","assignee":{"id":3379682,"username":"vshushlin","name":"Vladimir Shushlin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3379682/avatar.png","web_url":"https://gitlab.com/vshushlin"},"user_notes_count":2,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335272","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335272","notes":"https://gitlab.com/api/v4/projects/278964/issues/335272/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335272/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335272","relative":"#335272","full":"gitlab-org/gitlab#335272"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7541,"epic":{"id":439450,"iid":7541,"title":"Performance tuning / Error Budget Improvements for GitLab Pages","url":"/groups/gitlab-org/-/epics/7541","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":89831547,"iid":335271,"project_id":278964,"title":"Replace purple-900 with indigo-900 in the indigo theme","description":"We should be using `indigo-900` color instead of `purple-900` in the indigo theme as per https://gitlab.com/gitlab-org/gitlab/-/merge_requests/64324#note_619424201\n\nThe following discussion from !64324 should be addressed:\n\n- [ ] @vitallium started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/64324#note_619227685):  (+6 comments)\n\n    \u003e **question:** Is this a typo?","state":"closed","created_at":"2021-07-06T11:16:44.257Z","updated_at":"2021-12-06T00:15:15.227Z","closed_at":"2021-12-06T00:15:15.202Z","closed_by":{"id":2338505,"username":"mle","name":"Michael Le","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2338505/avatar.png","web_url":"https://gitlab.com/mle"},"labels":["Development Department","UX","[deprecated] Accepting merge requests","devops::create","frontend","group::foundations","section::dev"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":3199302,"username":"dmishunov","name":"Denys Mishunov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d85e45af29611ac2c1395e3c3d6ec5d6?s=80\u0026d=identicon","web_url":"https://gitlab.com/dmishunov"},"type":"ISSUE","assignee":null,"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335271","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335271","notes":"https://gitlab.com/api/v4/projects/278964/issues/335271/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335271/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335271","relative":"#335271","full":"gitlab-org/gitlab#335271"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":89821480,"iid":335260,"project_id":278964,"title":"Drive the GitLab.com container registry migration phase 1 rollout with Rails FFs","description":"## Context\n\nPart of https://gitlab.com/groups/gitlab-org/-/epics/6068.\n\nIn order to control and gradually increase the number of _new_ container repositories that we'll make use of the upcoming container registry metadata database for GitLab.com, we have to implement a series of feature flags on the Rails side.\n\nThese feature flags will then be used to modify the JWT tokens served (by Rails) to clients whenever they want to interact with the registry. The registry will then read the information within those tokens and decide if a new repository should use the database or not.\n\n:warning: This requires changes in both Rails and Container Registry. This issue will group both.\n\n## Technical Background\n\n### Auth Tokens\n\nWe'll only list the basics here. Please see the auth [spec](https://docs.docker.com/registry/spec/auth/) and [flow](https://gitlab.com/gitlab-org/container-registry/-/blob/master/docs-gitlab/auth-request-flow.md) if looking for additional details.\n\n* Every request against the GitLab Container Registry needs to have a valid JWT token. This is true for both read and write requests, against public or private repositories;\n* JWT tokens are emitted and signed by Rails, obtained by clients, and embedded in the request header. The registry decodes and validates the token to ensure its authenticity and that the user has the required permissions to perform the request.\n\nA token can be obtained as follows:\n\n```shell\nhttp -a $USERNAME:$PASSWORD https://$GITLAB_ADDRESS/jwt/auth \\\n    client_id==\"docker\" \\\n    service==\"container_registry\" \\\n    scope==\"repository:$REPO_PATH:pull,push,delete\n```\n\n#### Format\n\nHere's a sample JWT token:\n\n```json\n{\n  \"access\": [\n    {\n      \"actions\": [\n        \"pull\",\n        \"push\"\n      ],\n      \"name\": \"gitlab-org/gitlab-test\",\n      \"type\": \"repository\"\n    }\n  ],\n  \"aud\": \"container_registry\",\n  \"exp\": 1623679323,\n  \"iat\": 1623675723,\n  \"iss\": \"gitlab-issuer\",\n  \"jti\": \"71fb41a4-6e42-4967-b584-914ea969b225\",\n  \"nbf\": 1623675718,\n  \"sub\": \"root\"\n}\n```\n\nFor most cases, `access` will only have one element, as most requests only target one repository. [Cross-repository blob mount](https://gitlab.com/gitlab-org/container-registry/-/blob/c8a624aaa9ea2a4ab60744dd986e959c01232be9/docs/spec/api.md#cross-repository-blob-mount) requests are the exception, as we always have two repositories, a source (for which a user needs `pull` permissions) and a target (for which a user needs `pull` and `push` permissions). In these cases, a token will look as follows:\n\n```json-doc\n{\n  \"access\": [\n    {\n      \"actions\": [\n        \"pull\"\n      ],\n      \"name\": \"source-repo\",\n      \"type\": \"repository\"\n    }\n    {\n      \"actions\": [\n        \"pull\",\n        \"push\"\n      ],\n      \"name\": \"target-repo\",\n      \"type\": \"repository\"\n    }\n  ],\n  // ...\n}\n```\n\n### Rails Feature Flags (FFs)\n\nSee the [documentation](https://docs.gitlab.com/ee/development/feature_flags/index.html).\n\n## Requirements\n\nWe need a way to limit the number of **new** repositories that will be handled through the new code path (and thus registered in the metadata DB and have their blobs stored in the new bucket prefix) to support Phase 1 of the [gradual migration plan](https://gitlab.com/gitlab-org/container-registry/-/issues/374), making sure that:\n\n* We can gradually increase the number of repositories that *may* be eligible (in case they are considered *new* on the registry side) to follow through new code path;\n* We can pick a few specific repositories to start with, only then expanding to a percentage-based rollout;\n* We can exclude all repositories from specific top-level groups until a later date, such as those from VIP customers, making sure they cannot be affected by early bugs. These will then be allowed gradually, one by one (or in small batches).\n\n## Solution\n\n```mermaid\nsequenceDiagram\n  autonumber\n  participant C as Client\n  participant G as GitLab Rails\n  participant R as GitLab Container Registry\n  C-\u003e\u003eG: GET /jwt/auth?repository:\u003crepo\u003e:\u003cactions\u003e\u0026...\n  G-\u003e\u003eG: If \u003cactions\u003e includes `push`, does \u003crepo\u003e\u003cbr/\u003ebelong to an eligible top-level Group and Project?\n  opt Yes\n  \tG-\u003e\u003eG: Set custom `access[name=\u003crepo\u003e].migration_eligible = true`\u003cbr/\u003eflag on the token's body\n  end\n  G-\u003e\u003eC: 200 OK\u003cbr/\u003e{\"token\": \"w2a4...\"}\n  C-\u003e\u003eR: POST/PUT/PATCH /v2/\u003crepo\u003e/...\u003cbr/\u003eAuthorization: Bearer w2a4...\n  R-\u003e\u003eR: Is \u003crepo\u003e new\u003cbr/\u003eAND\u003cbr/\u003edoes `migration_eligible` equals `true`?\n  alt Yes\n    R-\u003e\u003eR: Process through new code path\n  else No\n    R-\u003e\u003eR: Process through old code path\n  end\n  R-\u003e\u003eC: 200 OK\n```\n\nStep **(2)** in the diagram above, most precisely the Group/Project validations, is where the Rails FFs come into play. This is a replacement for the registry-side validations initially planned and described in the [migration plan](https://gitlab.com/gitlab-org/container-registry/-/issues/374#gradual-rollout).\n\n### Feature Flags\n\n```mermaid\ngraph TD\n    A[Validate eligibility] --\u003e B{Is the corresponding\u003cbr/\u003etop-level Group denied?};\n    B -- \"Yes\" --\u003e C[Emit unmodified token]\n    B -- \"No\" --\u003e D{Is the corresponding\u003cbr/\u003eProject allowed?}\n    D -- \"Yes\" --\u003e E[Emit modified token]\n    D -- \"No\" --\u003e C\n```\n\nBelow is a description of each FF.\n\n#### `container_registry_migration_phase1`\n\nThis is a simple *boolean* FF to act as a global gate. In case it's *off* (by default), Rails behaves as it does today - it does not validate the repository scope and/or mess with the JWT token. In case it's *on*, it validates the eligibility of the repository based on the following FFs and modifies the token accordingly.\n\nWe'll use this FF to start the Phase 1 migration without changing any source code or registry configurations.\n\n#### `container_registry_migration_phase1_allow`\n\nThis FF acts as an allow list for Rails **projects**. When validating `\u003crepo\u003e`, we check `Feature.enabled?(:container_registry_migration_phase1_allow, repo.project)`.\n\nWe'll start with some specific repositories created for testing, and then we'll allow `gitlab-org/*` repositories, gradually. Once we're done with the initial phase, we can start a \"global\" percentage-based rollout using this same FF.\n\nIt's important to note that this FF applies to GitLab projects, not container repositories. Given that a project might have multiple container repositories, a 1% here does not equal 1% of the container repositories. This is not necessarily a problem, just something to keep in mind as we increase the scope.\n\n#### `container_registry_migration_phase1_deny`\n\nThis FF acts as a deny list for Rails **groups**/**namespaces**. When validating `\u003crepo\u003e`, we check `Feature.disabled?(:container_registry_migration_phase1_deny, repo.project.root_ancestor)`. Note that here we do `Feature.disabled?` and not `Feature.enabled?`. All groups are eligible by default. We can exclude a specific group by enabling this FF for it.\n\nThis allows us to exclude specific top-level groups/namespaces from the process so that they are never marked as eligible because of the `_allow` FF. We'll use this to exclude the groups of VIP customers from the first iteration, making sure they can't be impacted by early bugs.","state":"closed","created_at":"2021-07-06T08:38:18.395Z","updated_at":"2022-03-02T14:02:41.682Z","closed_at":"2021-07-15T09:30:49.564Z","closed_by":{"id":5054840,"username":"jdrpereira","name":"Jo√£o Pereira","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5054840/avatar.png","web_url":"https://gitlab.com/jdrpereira"},"labels":["Category:Container Registry","backend","container registry expert","devops::package","feature flag","golang","group::package registry","ruby","section::ops","type::maintenance","workflow::in review"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":5054840,"username":"jdrpereira","name":"Jo√£o Pereira","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5054840/avatar.png","web_url":"https://gitlab.com/jdrpereira"}],"author":{"id":5054840,"username":"jdrpereira","name":"Jo√£o Pereira","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5054840/avatar.png","web_url":"https://gitlab.com/jdrpereira"},"type":"ISSUE","assignee":{"id":5054840,"username":"jdrpereira","name":"Jo√£o Pereira","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5054840/avatar.png","web_url":"https://gitlab.com/jdrpereira"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335260","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335260","notes":"https://gitlab.com/api/v4/projects/278964/issues/335260/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335260/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335260","relative":"#335260","full":"gitlab-org/gitlab#335260"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6068,"epic":{"id":277293,"iid":6068,"title":"Remaining development tasks (Phase 1)","url":"/groups/gitlab-org/-/epics/6068","group_id":9970,"human_readable_end_date":"Jul 22, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":89806190,"iid":335246,"project_id":278964,"title":"Design Sprint- License Management across Multiple Instances","description":"## Sprint Goal\n\nThe aim for the sprint is to design a license model that enables management of distinct billable users across multiple production and non-production instances.\n\n## Target users\nA owner or admin of multiple self-managed instances who will add and remove users, or review users across multiple production and non-production instances.\n\n## User goals and JTBD\n* How can I efficiently add/remove users to give them access to one/two/more instances?\n* How can I see how many users I am paying for, and if they are being billed for multiple instances?\n\n*What else do we know about the JTBD scenario?*\n\n## Scope\n* Cloud License enabled for MVC\n* Offline, air gapped environment post MVC\n\n## User research\n* What user research can we reference to inform the sprint?\n* What questions about users do we need answered in order to confidently move into design?\n    * How does this work currently?\n    * What feedback do we receive from users?\n    * What's a typical instance/user size?\n    * How often and what kinds of users need access to multiple instances?\n    * Do they have the same or different roles?\n\n## Design sprint reference docs\n\u003c!-- Add links to Mural, FigJam, user research, Slack channel or other docs used throughout the sprint --\u003e\n* [Mural](https://app.mural.co/t/gitlab2474/m/gitlab2474/1637093885783/2c675edde24f9f45f0dbf0294a235c5251026ff5?sender=jbauer1621)\n\n## Design Sprint preparation\n\n\u003c!-- Replace the roles with GitLab handles to assign to specific participants --\u003e\n\n- [ ] Finalise participant list - `decider`\n- [ ] Convert this issue into Epic to manage each step - `facilitator` \n- [ ] Create sync meetings in calendar and invite all participants (**deadline**: [date]) - `facilitator` \n- [ ] Prepare material and tools (eg. presentation templates, Google folders, Instructions videos etc) and Mural board - `facilitator `\n- [ ] Finalize Agenda - `facilitator` \n- [ ] Run a test with material and tools - `facilitator` \n\n## Design sprint participants\n\n\u003c!--add names of all participants and their role--\u003e\n\n* Tim Noah - `facilitator`\n* Teresa Tison - `decider` / `stakeholder`\n* Matt Nearents - `participant`\n\n## Design sprint steps\n* [ ] **Step 1 (async)**: `Completion Date: TBD` Gather user research and add notes to the \"problem\" section of the design sprint mural. (link TBD) Each participant will speak to 2 dev leads in GitLab to learn about their problems and add notes to the [\"the user's problem\" section of the design sprint mural]\n  * [ ] _add sub-steps and notes here_\n* [ ] **Step 2 (async)**: `Completion Date: TBD` All participants read the notes in _add link to Mural or notes doc_\n  * [ ] Participant Names (_optional or required_)\n* [ ] **Step 3(sync)**: `Date: TBD` We'll meet to discuss our findings, refine the problem and proceed to the \"challenges/themes\" part of the [design sprint mural]. \n* [ ] **Step 4 (async)**: `Completion date: TBD` Lightning demos ‚Äî each participant finds good examples of inspiration related to how to solve this problem, adds screenshots and notes about what particularly they like. Link TBD. Write a message in the _`channel name`_ channel on Slack when you added your screenshot and notes so others can take a look.\n  * [ ] Participant Names (_optional or required_)\n* [ ] **Step 5 (async)**: `Completion date: TBD` Concept sketching ‚Äî each participant comes up with a conceptual sketch (or two) for the challenges voted in _step 2_ and adds them to [the \"Concept sketching\" part of the mini design sprint mural].\n  * [ ] Participant Names (_optional or required_)\n* [ ] **Step 6 (sync)**: `Date: TBD` We meet to discuss the sketches, give each other feedback, vote and do another quick iteration if needed.\n* [ ] **Step 7 (async)**: `Completion Date: TBD` A designer will take over and prepare an early-stage concept/prototype with an aim to show it to _identify some potential testers_.\n* [ ] **Step 8 (sync)**: `Completion Date: TBD`  Hold calls with the testers and document feedback. (Add recordings here)\n  * [Recording 1](Add link)\n* [ ] **Step 9 (async)**: `Completion Date: TBD` Discuss feedback with sprint participants and plan for revisions\n* [ ] **Step 10**: Product designer to finalize design vision and begin conversations regarding MVC breakdowns.","state":"closed","created_at":"2021-07-06T05:29:48.870Z","updated_at":"2022-01-17T19:43:09.272Z","closed_at":"2021-12-03T12:25:45.071Z","closed_by":{"id":3354144,"username":"timnoah","name":"Tim Noah","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3354144/avatar.png","web_url":"https://gitlab.com/timnoah"},"labels":["Fulfillment-Growth-UX","UX","UX Design","[deprecated] Category:Provision","devops::fulfillment","group::provision","section::fulfillment"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":3354144,"username":"timnoah","name":"Tim Noah","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3354144/avatar.png","web_url":"https://gitlab.com/timnoah"}],"author":{"id":7971452,"username":"teresatison","name":"Teresa Tison","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7971452/avatar.png","web_url":"https://gitlab.com/teresatison"},"type":"ISSUE","assignee":{"id":3354144,"username":"timnoah","name":"Tim Noah","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3354144/avatar.png","web_url":"https://gitlab.com/timnoah"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335246","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":20,"completed_count":0},"weight":8,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 20 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335246","notes":"https://gitlab.com/api/v4/projects/278964/issues/335246/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335246/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335246","relative":"#335246","full":"gitlab-org/gitlab#335246"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6467,"epic":{"id":315904,"iid":6467,"title":"Apply One License to Multiple Instances","url":"/groups/gitlab-org/-/epics/6467","group_id":9970},"iteration":null,"health_status":null},{"id":89803981,"iid":335243,"project_id":278964,"title":"Update `db:check-schema` job for multiple databases","description":"`db:check-schema` CI job is only checking for changes to `db/structure.sql`, and `db/schema_migrations/`.\n\nIt needs to also check for changes to `db/ci_structure.sql`, and `db/ci_schema_migrations/`.","state":"closed","created_at":"2021-07-06T03:51:54.923Z","updated_at":"2022-05-31T12:22:25.224Z","closed_at":"2021-08-17T21:30:16.799Z","closed_by":{"id":2535118,"username":"tkuah","name":"Thong Kuah","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f7b51bdd49a4914d29504d7ff4c3f7b9?s=80\u0026d=identicon","web_url":"https://gitlab.com/tkuah"},"labels":["Category:Pods","[deprecated] Accepting merge requests","devops::data_stores","group::pods","section::enablement","type::maintenance"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":2535118,"username":"tkuah","name":"Thong Kuah","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f7b51bdd49a4914d29504d7ff4c3f7b9?s=80\u0026d=identicon","web_url":"https://gitlab.com/tkuah"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335243","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335243","notes":"https://gitlab.com/api/v4/projects/278964/issues/335243/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335243/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335243","relative":"#335243","full":"gitlab-org/gitlab#335243"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6103,"epic":{"id":281355,"iid":6103,"title":"Decomposition: Support for many databases","url":"/groups/gitlab-org/-/epics/6103","group_id":9970,"human_readable_end_date":"Sep 16, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":89803622,"iid":335242,"project_id":278964,"title":"Nice to have: Make db:migrate:ci jobs work correctly","description":"This command is only used for development...\n\n1. `bundle exec rails db:migrate:ci` is not calling `clean_structure_sql`","state":"closed","created_at":"2021-07-06T03:37:29.746Z","updated_at":"2022-05-30T15:01:54.601Z","closed_at":"2022-04-13T06:10:25.728Z","closed_by":{"id":120073,"username":"DylanGriffith","name":"Dylan Griffith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/120073/avatar.png","web_url":"https://gitlab.com/DylanGriffith"},"labels":["Category:Database","Engineering Allocation","devops::data_stores","group::database","pods::active","section::enablement","type::maintenance"],"milestone":null,"assignees":[],"author":{"id":2535118,"username":"tkuah","name":"Thong Kuah","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f7b51bdd49a4914d29504d7ff4c3f7b9?s=80\u0026d=identicon","web_url":"https://gitlab.com/tkuah"},"type":"ISSUE","assignee":null,"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335242","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335242","notes":"https://gitlab.com/api/v4/projects/278964/issues/335242/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335242/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335242","relative":"#335242","full":"gitlab-org/gitlab#335242"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6718,"epic":{"id":345707,"iid":6718,"title":"Decomposition: Follow-ups after the first iteration","url":"/groups/gitlab-org/-/epics/6718","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":89792299,"iid":335228,"project_id":278964,"title":"Action Buttons in Environment page provide little context without labels","description":"### Problem\n\nThe action buttons in the environment table are hard to parse and provide little context if the user does not hover over them to read the tooltips.\n\nOne roadblock to just add labels to every button is that there is no remaining horizontal space on the table: adding a label for [just a single button](https://gitlab.com/gitlab-org/gitlab/-/issues/285136/designs/Iteration_1_-_Regression.png) will clip the buttons at smaller page widths.\n\n| Screenshots | \n| ------ | \n| ![image](/uploads/f28292a89d91d2a4de30db2806ad4f76/image.png) | \n| ![image](/uploads/53051316475e2cfd4f15d284bdd693d2/image.png) | \n\n\n\n\nSee examples at:\n\nhttps://gitlab.com/gitlab-org/gitlab-runner/-/environments  \nhttps://gitlab.com/gitlab-com/www-gitlab-com/-/environments  \n\n### Proposal \n\n[üåÄ SEE MOCKUPS IN DESIGN MANAGEMENT](https://gitlab.com/gitlab-org/gitlab/-/issues/335228/designs/4_actions__button-group.png)","state":"closed","created_at":"2021-07-05T19:06:43.028Z","updated_at":"2021-10-21T19:44:06.578Z","closed_at":"2021-10-05T18:58:01.565Z","closed_by":{"id":262533,"username":"afontaine","name":"Andrew Fontaine","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/262533/avatar.png","web_url":"https://gitlab.com/afontaine"},"labels":["Category:Release Orchestration","Deliverable","Release::P3","Technical Writing","UX","cicd::active","devops::release","feature::enhancement","group::release","section::ops","tw-weight::3","type::feature","usability","workflow::production"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":262533,"username":"afontaine","name":"Andrew Fontaine","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/262533/avatar.png","web_url":"https://gitlab.com/afontaine"}],"author":{"id":8059235,"username":"dfosco","name":"Daniel Fosco","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8059235/avatar.png","web_url":"https://gitlab.com/dfosco"},"type":"ISSUE","assignee":{"id":262533,"username":"afontaine","name":"Andrew Fontaine","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/262533/avatar.png","web_url":"https://gitlab.com/afontaine"},"user_notes_count":28,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335228","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335228","notes":"https://gitlab.com/api/v4/projects/278964/issues/335228/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335228/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335228","relative":"#335228","full":"gitlab-org/gitlab#335228"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":89778657,"iid":335209,"project_id":278964,"title":"Allow guests to see tag names associated with releases","description":"Currently, we treat `\"tag names\"` associated with releases as `source code` and don't allow guests to see them.\n\nBut:\n1. we use the tag name as `ID` for releases, so without it, guests won't be able to see the release page.\n1. we use tag name as the default \"name\" for the release, so guest will see releases called \"release-ID\" (which is a strange user experience)\n1. we even consider [removing some features for guest users to preserve this security feature](https://gitlab.com/gitlab-org/gitlab/-/issues/216617)\n1. all these workarounds require a lot of time of our development team to support\n\nWe can solve of this by relaxing security requirements a little and allowing users to see tag name for releases. (Note that all tag related information like commit SHA will still be unavailable)\n\nThe end result is\n\n1. Guests see proper names of releases (in case name is empty we show tag as name)\n1. Guests can visit the individual release page (tag is treated as ID, so previously we couldn't give users URL)\n1. We can remove all other workarounds we put in place to prevent a user from knowing the tag name. (Tracked in a separate issue https://gitlab.com/gitlab-org/gitlab/-/issues/345568)","state":"closed","created_at":"2021-07-05T13:53:01.245Z","updated_at":"2022-10-18T15:20:26.350Z","closed_at":"2021-11-18T18:39:10.743Z","closed_by":{"id":9253328,"username":"bala.kumar","name":"Bala Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9253328/avatar.png","web_url":"https://gitlab.com/bala.kumar"},"labels":["Category:Release Orchestration","Deliverable","Release::P1","devops::release","documentation","group::release","section::ops","security","type::feature","workflow::production"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":9253328,"username":"bala.kumar","name":"Bala Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9253328/avatar.png","web_url":"https://gitlab.com/bala.kumar"}],"author":{"id":3379682,"username":"vshushlin","name":"Vladimir Shushlin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3379682/avatar.png","web_url":"https://gitlab.com/vshushlin"},"type":"ISSUE","assignee":{"id":9253328,"username":"bala.kumar","name":"Bala Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9253328/avatar.png","web_url":"https://gitlab.com/bala.kumar"},"user_notes_count":45,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335209","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335209","notes":"https://gitlab.com/api/v4/projects/278964/issues/335209/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335209/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335209","relative":"#335209","full":"gitlab-org/gitlab#335209"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":89774701,"iid":335203,"project_id":278964,"title":"Github Importer: Improve logging","description":"## Problem\n\nhttps://gitlab.com/gitlab-org/gitlab/-/merge_requests/61188 introduced the `github_id` for all the objects being imported, but when importing _subrelations_, like issue notes, the id of the note itself is not enough to fetch it through github api and check for inconsistent data.\n\n## Proposed\n\nChange the `github_id` field, in the logs, to `github_identifiers` and add the required object identifiers required to fetch the object through the github API. For example, for an issue note log the issue `iid` and the note `id`, this way one can fetch this exactly object and look for inconsistent data.\n\n```json\n{\n  // ...,\n  \"github_identifiers\": {\n    \"note_id\": 155188545,\n    \"noteable_id\": 3721,\n    \"noteable_type\": \"Issue\"\n  }\n}\n```\n\n### Relations to do this for\n\n1. Issue notes\n1. PR notes\n1. PR diff notes\n1. PR reviews\n1. PR merged by info\n1. Lfs object","state":"closed","created_at":"2021-07-05T12:55:34.110Z","updated_at":"2021-11-04T20:48:09.389Z","closed_at":"2021-09-29T11:47:06.003Z","closed_by":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"labels":["Category:Importers","Importer:GitHub","Next Up","Observability","backend","devops::manage","group::import","milestone::p2","section::dev","workflow::production"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"}],"author":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"type":"ISSUE","assignee":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335203","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335203","notes":"https://gitlab.com/api/v4/projects/278964/issues/335203/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335203/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335203","relative":"#335203","full":"gitlab-org/gitlab#335203"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6618,"epic":{"id":332691,"iid":6618,"title":"Manage:Import Customer Escalations","url":"/groups/gitlab-org/-/epics/6618","group_id":9970,"human_readable_end_date":"Dec 16, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":89773215,"iid":335199,"project_id":278964,"title":"Add Reliability Metrics to Github Importer Grafana Dashboard","description":"## Current Github Grafana Dashboard\n\nWe currently have a simple [grafana dashboard](https://dashboards.gitlab.net/d/2zgM_rImz/github-importer?orgId=1) that counts some object importing and limit rates\n\n\u003cimg src=\"https://gitlab.com/gitlab-com/runbooks/uploads/03f1a3019ead53b7fcd749cabd341287/2021-08-18_14.38.50_dashboards.gitlab.net_de96afbb9513.png\" width=\"1000\" /\u003e\n\n## Proposed changed\n\nThe current dashboard leverages from a global counter of imported objects (https://gitlab.com/gitlab-org/gitlab/blob/master/app/workers/concerns/gitlab/github_import/object_importer.rb#L50). \nUsing the introduction of the number of fetched and imported objects for each import log (https://gitlab.com/gitlab-org/gitlab/-/merge_requests/64256) as example, a similar global counter for the fetched objects could be introduced.\n\nHaving the expected number of objects (fetched number of object) and the imported number of objects enables us to calculate a success rate which would be `imported/fetched`. \n\nIdeally we could have a global success rate and by object type success rates, like:\n```\n- Global success rate: sum(all imported objects)/sum(all fetched objects)\n- Merge Requests imported success rate: number of imported merge requests/number of fetched merge requests\n- Issues imported success rate: number of imported issues/number of fetched issues\n- ... \n```\n\n### TODO\n\n- [x] Count fetched and imported objects globally https://gitlab.com/gitlab-org/gitlab/-/merge_requests/65700\n- [x] Count objects imported in batches (`Gitlab::GithubImport::BulkImporting`) https://gitlab.com/gitlab-org/gitlab/-/merge_requests/65773\n  - [x] Enable the feature flag created `import_redis_increment_by` on staging\n  - [x] Enable the feature flag created `import_redis_increment_by` on production\n- [x] Update dashboard to use the new counters (https://gitlab.com/gitlab-com/runbooks/-/merge_requests/3793, https://gitlab.com/gitlab-com/runbooks/-/merge_requests/3817)\n  - https://dashboards.gitlab.net/d/importers-github-importer/importers-github-importer-test\n- [x] Share the dashboard with the group in slack\n- [x] Add the dashboard link to the dev documentation\n  - https://gitlab.com/gitlab-org/gitlab/-/merge_requests/68554","state":"closed","created_at":"2021-07-05T12:27:32.601Z","updated_at":"2021-08-24T13:15:40.647Z","closed_at":"2021-08-24T13:15:40.636Z","closed_by":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"labels":["Importer:GitHub","Next Up","backend","devops::manage","group::import","missed:14.1","missed:14.2","section::dev","workflow::production"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"}],"author":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"type":"ISSUE","assignee":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335199","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":7,"completed_count":7},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"7 of 7 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335199","notes":"https://gitlab.com/api/v4/projects/278964/issues/335199/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335199/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335199","relative":"#335199","full":"gitlab-org/gitlab#335199"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6270,"epic":{"id":299300,"iid":6270,"title":"‚öôÔ∏è GitHub Importer Reliability Improvements","url":"/groups/gitlab-org/-/epics/6270","group_id":9970,"human_readable_end_date":"Aug 31, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":89767915,"iid":335192,"project_id":278964,"title":"Fix the ActiveRecord::Base.method related rubocop offenses","description":"Inspect and fix the rubocop offenses related to the `Database/MultipleDatabases` rule.\n\nThe offenses are listed in the `.rubocop_manual_todo.yml` file. If an offsense cannot be fixed easily, create a follow up issue for it.","state":"closed","created_at":"2021-07-05T10:51:07.861Z","updated_at":"2022-05-31T12:22:25.963Z","closed_at":"2021-08-03T06:42:35.992Z","closed_by":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"labels":["Category:Pods","devops::data_stores","group::pods","missed:14.1","section::enablement"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"}],"author":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"type":"ISSUE","assignee":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"user_notes_count":2,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335192","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335192","notes":"https://gitlab.com/api/v4/projects/278964/issues/335192/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335192/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335192","relative":"#335192","full":"gitlab-org/gitlab#335192"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":89767059,"iid":335190,"project_id":278964,"title":"[Devops Adoption] Security scan query timeouts for gitlab-org group","description":"## Summary\n\nThere are 2 sentry reports which state that security scans metric query timeouts for gitlab-org group\nhttps://sentry.gitlab.net/gitlab/gitlabcom/issues/2704624/\n\nhttps://sentry.gitlab.net/gitlab/gitlabcom/issues/2700692/","state":"closed","created_at":"2021-07-05T10:34:15.054Z","updated_at":"2021-07-19T14:45:00.132Z","closed_at":"2021-07-19T11:18:51.678Z","closed_by":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"labels":["Category:DevOps Reports","backend","devops::manage","group::optimize","priority::1","section::dev","severity::1","type::bug","workflow::in dev"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"}],"author":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"type":"ISSUE","assignee":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335190","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335190","notes":"https://gitlab.com/api/v4/projects/278964/issues/335190/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335190/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335190","relative":"#335190","full":"gitlab-org/gitlab#335190"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5019,"epic":{"id":156873,"iid":5019,"title":"Add additional features to DevOps feature adoption table","url":"/groups/gitlab-org/-/epics/5019","group_id":9970,"human_readable_end_date":"Aug 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":89761328,"iid":335181,"project_id":278964,"title":"Drop integrations.template column","description":"### Description\n\nDrop the `template` column from `integrations` table. This is part of https://gitlab.com/groups/gitlab-org/-/epics/5672.\n\n- [x] Ignoring the column (%\"14.9\") https://gitlab.com/gitlab-org/gitlab/-/merge_requests/80514\n- [x] Dropping the column (%\"14.10\") https://gitlab.com/gitlab-org/gitlab/-/merge_requests/83673\n- [x] Removing the ignore rule (%\"15.0\") https://gitlab.com/gitlab-org/gitlab/-/merge_requests/85919\n\nhttps://docs.gitlab.com/ee/development/avoiding_downtime_in_migrations.html#dropping-columns","state":"closed","created_at":"2021-07-05T09:09:36.103Z","updated_at":"2022-11-22T19:38:31.343Z","closed_at":"2022-04-26T17:57:00.490Z","closed_by":{"id":1315742,"username":"arturoherrero","name":"Arturo Herrero","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1315742/avatar.png","web_url":"https://gitlab.com/arturoherrero"},"labels":["Community contribution","backend","devops::manage","group::integrations","maintenance::refactor","section::dev","type::maintenance"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":9588757,"username":"lenikadali","name":"Leni Kadali Mutungi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9588757/avatar.png","web_url":"https://gitlab.com/lenikadali"}],"author":{"id":1315742,"username":"arturoherrero","name":"Arturo Herrero","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1315742/avatar.png","web_url":"https://gitlab.com/arturoherrero"},"type":"ISSUE","assignee":{"id":9588757,"username":"lenikadali","name":"Leni Kadali Mutungi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9588757/avatar.png","web_url":"https://gitlab.com/lenikadali"},"user_notes_count":16,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335181","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335181","notes":"https://gitlab.com/api/v4/projects/278964/issues/335181/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335181/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335181","relative":"#335181","full":"gitlab-org/gitlab#335181"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5672,"epic":{"id":233591,"iid":5672,"title":"Deprecate and remove Service Templates feature","url":"/groups/gitlab-org/-/epics/5672","group_id":9970,"human_readable_end_date":"May 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":89759923,"iid":335178,"project_id":278964,"title":"Remove PropagateServiceTemplateWorker","description":"Related to !64975 and the [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/64975#note_614027582).\n\nWe should remove `PropagateServiceTemplateWorker`.\n\nSummary:\n\n* Remove ability to create new service templates https://gitlab.com/gitlab-org/gitlab/-/merge_requests/58624 %\"13.11\"\n* Move Service Templates nav link behind a feature flag https://gitlab.com/gitlab-org/gitlab/-/merge_requests/59098 %\"13.12\"\n* Enable :disable_service_templates by default https://gitlab.com/gitlab-org/gitlab/-/merge_requests/61312 %\"14.0\"\n\nThe Sidekiq Style Guide suggests that we should avoid removing workers and their queues in minor and patch releases. https://docs.gitlab.com/ee/development/sidekiq_style_guide.html#removing-workers\n\nAn option might be to write a migration to drain/delete the Sidekiq queue. After deprecating and removing the ability to use service templates, we essentially no longer care about the jobs, so stuck jobs should be deleted.\n\n```ruby\nSidekiq::Queue.new('propagate_service_template').clear\n```","state":"closed","created_at":"2021-07-05T08:54:50.618Z","updated_at":"2022-11-22T19:38:31.966Z","closed_at":"2021-11-25T18:29:30.292Z","closed_by":{"id":1315742,"username":"arturoherrero","name":"Arturo Herrero","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1315742/avatar.png","web_url":"https://gitlab.com/arturoherrero"},"labels":["Community contribution","backend","database","devops::manage","group::integrations","maintenance::refactor","section::dev","type::maintenance","workflow::in review"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":9588757,"username":"lenikadali","name":"Leni Kadali Mutungi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9588757/avatar.png","web_url":"https://gitlab.com/lenikadali"}],"author":{"id":1315742,"username":"arturoherrero","name":"Arturo Herrero","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1315742/avatar.png","web_url":"https://gitlab.com/arturoherrero"},"type":"ISSUE","assignee":{"id":9588757,"username":"lenikadali","name":"Leni Kadali Mutungi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9588757/avatar.png","web_url":"https://gitlab.com/lenikadali"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335178","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335178","notes":"https://gitlab.com/api/v4/projects/278964/issues/335178/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335178/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335178","relative":"#335178","full":"gitlab-org/gitlab#335178"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5672,"epic":{"id":233591,"iid":5672,"title":"Deprecate and remove Service Templates feature","url":"/groups/gitlab-org/-/epics/5672","group_id":9970,"human_readable_end_date":"May 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":89757173,"iid":335172,"project_id":278964,"title":"Add troubleshooting command to reset the cache in all supported package manager CLIs docs","description":"### Problem to solve\n\nPackage manager CLIs (such as `npm`, `mvn` or `nuget`) may internally use a cache to save package artifacts. This way, when asking the same package name + version multiple times, the client will actually fetch the package files only once.\n\nThe problem is that the cache can lead to confusing behaviors. It would be useful to have the commands to reset that cache in each package manager ~documentation in a troubleshoothing section. This is a way to \"force\" the CLI to fetch the package files from the package registry.\n\n### Proposal\n\nIn the troubleshooting section of each package manager ~documentation, list the command to reset the cache.\n\nFrom the top of my head\n\n### `nuget`\n\n```shell\n$ nuget locals all -clear\n```\n\n### `mvn`\n\n```shell\n$ rm -rf ~/.m2/repository\n```\n\n### `gradle`\n\n```shell\n$ rm -rf ~/.gradle/caches\n```\n\n### `npm`\n\n```shell\n$ npm cache clean --force\n```","state":"closed","created_at":"2021-07-05T08:15:40.945Z","updated_at":"2022-02-07T19:19:28.767Z","closed_at":"2022-02-07T19:19:28.752Z","closed_by":{"id":3799560,"username":"trizzi","name":"Tim Rizzi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3799560/avatar.png","web_url":"https://gitlab.com/trizzi"},"labels":["Category:Package Registry","[deprecated] Accepting merge requests","devops::package","documentation","group::package registry","section::ops","type::maintenance"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":3799560,"username":"trizzi","name":"Tim Rizzi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3799560/avatar.png","web_url":"https://gitlab.com/trizzi"}],"author":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"type":"ISSUE","assignee":{"id":3799560,"username":"trizzi","name":"Tim Rizzi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3799560/avatar.png","web_url":"https://gitlab.com/trizzi"},"user_notes_count":2,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335172","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335172","notes":"https://gitlab.com/api/v4/projects/278964/issues/335172/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335172/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335172","relative":"#335172","full":"gitlab-org/gitlab#335172"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6753,"epic":{"id":349088,"iid":6753,"title":"Packages code improvements","url":"/groups/gitlab-org/-/epics/6753","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":89743505,"iid":335159,"project_id":278964,"title":"Implement the X-Content-Type-Header Missing vulnerability check in DAST browser-based engine","description":"\n### Proposal \n\nImplement the first [DAST CWE check](https://gitlab.com/gitlab-org/security-products/dast-cwe-checks/) to be included in Browserker.\n\nThe [CWE-693 Configuration (X-Content-Type-Header Missing)](https://gitlab.com/gitlab-org/security-products/dast-cwe-checks/-/blob/c839300904e578b7319804310d2c51230b61eea0/693/693.1.yaml) passive check has been identified as the first to be included as it is relatively simple to implement.\n\n### Implementation details\n\n- [x] **Cam** Create `VulnerabilityCheck` type\n- [x] **Cam** Hard code new instance of `X-Content-Type-Header Missing` Vulnerability Check with details populated from the [YAML definition](https://gitlab.com/gitlab-org/security-products/dast-cwe-checks/-/blob/c839300904e578b7319804310d2c51230b61eea0/693/693.1.yaml)\n  - This allows the some of the following steps to be developed in parallel\n  - Remove this when parsing is complete\n- [x] **Cam** Copy the YAML definition of the vulnerability check and commit it into the Browserker code\n- [x] **Cam** Parse YAML definitions from a known location to create instances of `VulnerabilityCheck`\n- [x] **Craig** Register new instances of `VulnerabilityCheck` as a plugin - https://gitlab.com/gitlab-org/security-products/analyzers/browserker/-/merge_requests/275\n- [ ] **Cam/Craig** Ensure that the content type is check in response headers (i.e the check should run!)\n  - For now, ignore `execution_mode`, `in` (assume response headers), `report_uniqueness`, `aggregate`\n  - This will likely be done in the `VulnerabilityCheck.test(request, response)` method (or something similar)\n- [ ] **Craig** Test to ensure that the vulnerability check creates new vulnerabilities in the Secure report\n  - `id`, `title`, `description`, `remediation` (solution), `links`, `cwe`, `severity` should all be present in the resulting vulnerability\n  - Depends on https://gitlab.com/gitlab-org/gitlab/-/issues/325237\n- [ ] **Craig** Disable the ZAP check in DAST [10021 X-Content-Type-Options Header Missing](https://www.zaproxy.org/docs/alerts/10021/)\n  - Only do this once we're ready to release the feature in it's entirety!\n- [ ] **Craig** Configure Browserker to run in passive scan mode when DAST is setup with `DAST_BROWSER_SCAN: true`.\n  - Ensure that the only vulnerability check run is `693.1`.\n- [ ] **Craig** Test to ensure that the vulnerability is produced in the resulting DAST output\n  - Depends on https://gitlab.com/gitlab-org/gitlab/-/issues/331186","state":"closed","created_at":"2021-07-05T02:45:21.587Z","updated_at":"2021-08-11T21:58:16.588Z","closed_at":"2021-08-11T07:32:57.583Z","closed_by":{"id":5344211,"username":"craigmsmith","name":"Craig Smith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5344211/avatar.png","web_url":"https://gitlab.com/craigmsmith"},"labels":["Category:DAST","dast::browserker","devops::secure","group::dynamic analysis","section::sec","type::feature"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":4312863,"username":"cam_swords","name":"Cameron Swords","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3b729cf96bcced6384ebb94f0362bd4b?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam_swords"},{"id":5344211,"username":"craigmsmith","name":"Craig Smith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5344211/avatar.png","web_url":"https://gitlab.com/craigmsmith"}],"author":{"id":4312863,"username":"cam_swords","name":"Cameron Swords","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3b729cf96bcced6384ebb94f0362bd4b?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam_swords"},"type":"ISSUE","assignee":{"id":4312863,"username":"cam_swords","name":"Cameron Swords","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3b729cf96bcced6384ebb94f0362bd4b?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam_swords"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335159","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":10,"completed_count":5},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"5 of 10 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335159","notes":"https://gitlab.com/api/v4/projects/278964/issues/335159/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335159/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335159","relative":"#335159","full":"gitlab-org/gitlab#335159"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6195,"epic":{"id":289811,"iid":6195,"title":"Implement YAML based vulnerability check engine","url":"/groups/gitlab-org/-/epics/6195","group_id":9970,"human_readable_end_date":"Jan 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":89731386,"iid":335144,"project_id":278964,"title":"Remove or replace unused `js-*` classes with `data-testid`s","description":"We should replace the no longer needed `js-*` classes in VSA both on the group level and project level. We will also need to update some related rspec tests.\n\nThe following discussion from !65329 should be addressed:\n\n- [ ] @nmezzopera started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/65329#note_618170819): \n\n    \u003e **question (non-blocking):** Do we need this `js-` class inside a vue component? We normally use those only for vue app initialisations\n- [ ] https://gitlab.com/gitlab-org/gitlab/-/merge_requests/65329#note_618170853\n\nThe following discussion from !66835 should be addressed:\n\n* [ ] @peterhegman started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/66835#note_649999931): (+1 comment)\n\n  \u003e **nitpick (non-blocking):** Can `js-path-navigation` be removed? Doesn't look like it is doing anything from what I can tell","state":"closed","created_at":"2021-07-04T14:12:45.573Z","updated_at":"2021-10-28T13:55:31.694Z","closed_at":"2021-09-14T11:04:19.602Z","closed_by":{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"},"labels":["Category:Value Stream Management","devops::manage","frontend","group::optimize","javascript","maintenance::refactor","priority::4","section::dev","type::maintenance","workflow::ready for development"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"}],"author":{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"},"type":"ISSUE","assignee":{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335144","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335144","notes":"https://gitlab.com/api/v4/projects/278964/issues/335144/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335144/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335144","relative":"#335144","full":"gitlab-org/gitlab#335144"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":89696281,"iid":335128,"project_id":278964,"title":"Recent deliveries table - UI polish","description":"## Problem\n\nThe \"Recent Deliveries\" section, found below the webhook configuration form is using outdated UI components and out dated styles.\n\n## Proposal\n1. Make sure the title \"Recent Deliveries\" and the body text are using the correct line heights\n1. Update Table component to the latest \n1. Remove the \"URL\" column from the table, since this information is already presented at the top of the page\n1. Use the latest Badge component for the statuses e.g. `200`\n1. Latest, update the empty state, leveraging the empty table state.\n\n| Current | Proposal |\n| ------ | ------ |\n| ![recent-deliveries-current](/uploads/669cb56cfca2a2d27c2cc409d8d18435/recent-deliveries-current.png) |![recent-deliveries-new](/uploads/4ebd329d0f674aa38ebac12be29e1b79/recent-deliveries-new.png)|\n\n\n| Current (empty) | Proposal (empty)|\n| ------ | ------ |\n| ![recent-deliveries-empty-current](/uploads/20193083c23c667d51c5752529309134/recent-deliveries-empty-current.png) | ![recent-deliveries-empty-new](/uploads/3a536d1a94bc305d7568c8703c5843da/recent-deliveries-empty-new.png)|\n\n:pencil2: [Figma project](https://www.figma.com/file/QkTXmhbfZTuyjEaeGYz3Sh/UX-considerations-for-auto-disabled-and-rate-limited-webhooks-331407?node-id=930%3A7876)","state":"closed","created_at":"2021-07-03T00:39:05.689Z","updated_at":"2022-11-24T18:22:29.937Z","closed_at":"2021-10-14T07:09:31.863Z","closed_by":{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"},"labels":["Category:Webhooks","Stretch","Technical Writing","UI polish","devops::manage","frontend","frontend-weight::2","group::integrations","priority::3","section::dev","tw-weight::1","workflow::production"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"}],"author":{"id":5022246,"username":"lvanc","name":"Libor Vanc","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5022246/avatar.png","web_url":"https://gitlab.com/lvanc"},"type":"ISSUE","assignee":{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335128","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335128","notes":"https://gitlab.com/api/v4/projects/278964/issues/335128/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335128/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335128","relative":"#335128","full":"gitlab-org/gitlab#335128"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2318,"epic":{"id":16059,"iid":2318,"title":"Expanding and Improving Webhooks","url":"/groups/gitlab-org/-/epics/2318","group_id":9970},"iteration":null,"health_status":null},{"id":89690436,"iid":335122,"project_id":278964,"title":"Decomposition: `Blank Check` proposal discussion issue","description":"## Overview\nThe purpose of this issue is to discuss opportunities for reducing the delivery timeline of the CI Decomposition efforts. In this approach, I've used a gantt chart to display the work, estimates* and dependencies. The goal with this approach is to defer the discussion about the number of people needed until we come to a shared vision of the work involved. Caveat: These are not hard and fast delivery estimates. These are best guesses coming from epic due dates and feedback gathered so far.\n\nNote: More work may be discovered via [Decomposition: Identify other teams and features impacted by decomposing the database](https://gitlab.com/gitlab-org/gitlab/-/issues/335061).\n\n## Feedback\nWhat we're looking for in this discussion is for parallel efforts to start. For example, using the [skateboard to car](https://about.gitlab.com/handbook/engineering/#iteration) iteration example, if we can simultaneously create the wheels while also shaping the skate deck by staffing two skateboard experts we can deliver the skateboard faster.\n\nAnyone can contribute to the Gantt chart. If we've missed a work track, please add with your best estimate, start date and/or dependencies. \n\n## Goals\n- [ ] Review the tasks of the gantt chart. \n  - [ ] Does it represent (to the best of our knowledge) the work related to CI decomposition\n  - [ ] Are the dependencies accurate\n  - [ ] Are the estimates (roughly) accurate\n- [ ] Review the sections of the Gantt Chart\n  - [ ] Can we add more sections to display further fanning out of the work (e.g. sections of development dept)\n- [ ] Once all of the above are checked\n  - [ ] Confirm that parallel tasks on the gantt chart can be parallelized\n  - [ ] **Discuss staffing considerations to determine realistic timeline gains and tradeoffs**\n\n\n## Gantt Chart\n\n2021-07-01 - This is very much a WIP and incomplete. Please update as you see fit and make a comment that it has been updated rather than asking if it can be updated.\nSources of information\n- Sharding Group Progress Updates - Google Docs - https://docs.google.com/document/d/18M77W9tcZpqK0fXp4XGZmEt6bUF_bDivT0oUF9d9uUU/edit?ts=60ddd0f8#\n- Sharding Project Plan 2021-06-23 - Google Docs - https://docs.google.com/document/d/1A99PY6zFvzU3HtW0qtr6nEtV10xDv5Y8n7eZKMRCOK0/edit?ts=60d37f89#bookmark=id.7smx9p60e1np\n\n### Understanding The Chart - Decomposition - Blank Check\n\n1. The start/end dates may not be the true dates, but rather showing dependencies and estimated efforts.\n1. When we see parallel work items starting at the same time, this is an opportunity to prioritize the work across multiple people/teams to speed up the timeline. Take the `Discover and mitigate cross-joins`, `Remove FK`, and `Disconnect Joins from CI` as an example - if left to a single team, these would likely be done in serial.\n\n```mermaid\n\ngantt\n    title Decomposition - Blank Check\n    todaymarker off\n    dateFormat  YYYY-MM-DD\n    axisFormat  %m-%d\n    section Infrastructure\n    Unblock Prod Data Access :crit, access, 2021-07-06, 10d\n    Set up sharding environment          :setup_sharding_env, after access, 20d\n    Benchmark Replication     :benchmark, after setup_sharding_env  , 20d\n    Test/Enhance replication and observability :test_replication_observability, after benchmark, 30d\n    Repeatable deployment: repeatable_deployment, after setup_sharding_env  , 30d\n    Test/Enhance deployment along moving tables: test_deploy, after repeatable_deployment, 75d\n    CI tables migration execution :migration_execution, after migration_plan, 10d\n    Create observability: create_observability, after migration_execution, 30d    \nsection Sharding Group\n    Test Application Resiliency V1     :  resiliency_v1, after setup_sharding_env  , 20d\n    Migration plan for moving CI tables   : migration_plan, 2021-07-01, 5d\n    Defining 2PC Pattern            :2pc, after migration_plan, 15d\n    Add disable_joins support       :disable_joins, after migration_plan, 20d\n    Discover and mitigate cross-joins :cross_join, after disable_joins, 20d\n    Disconnect joins from CI        :disconnect_join, after disable_joins, 40d\n    Remove FK        :remove_fk, after disable_joins, 40d\n    Move tables: move_tables, after remove_fk, 30d\n    Test Application Resiliency V2 : resiliency_v2, after move_tables, 30d\n    Many Databases Support  :lb, 2021-07-01, 60d\n    Continue LB support             :lb_v2, 2021-07-01, 60d\n    Normalize Data  :normalize, 2021-07-01, 30d\n\n    section Distribution Group\n    Omnibus \u0026 CNG support for GitLab.com:OmnibusCNG, 2021-07-06,  60d\n\n    section Development \n    Identify impact of decomposition: 2021-07-06, 30d\n    \n\n```\n\n### Understanding The Chart - Decomposition - Realistic\n\nThis chart is estimates the timelines and dependencies based on realistic staffing decisions, bandwidth and where we identify trade-offs. Specific trade-offs will be called out below the chart.\n\n```mermaid\n\ngantt\n    title WIP Decomposition - Realistic\n    todaymarker off\n    dateFormat  YYYY-MM-DD\n    axisFormat  %m-%d\n    section Infrastructure\n    Unblock Prod Data Access :crit, access, 2021-07-06, 10d\n    Set up sharding environment          :setup_sharding_env, after access, 20d\n    Benchmark Replication     :benchmark, after setup_sharding_env  , 20d\n    Test/Enhance replication and observability :test_replication_observability, after benchmark, 30d\n    Repeatable deployment: repeatable_deployment, after setup_sharding_env  , 30d\n    Test/Enhance deployment along moving tables: test_deploy, after repeatable_deployment, 75d\n    CI tables migration execution :migration_execution, setup_sharding_env, 10d\n    Create observability: create_observability, after migration_execution, 30d    \nsection Sharding Group\n    Test Application Resiliency V1     :  resiliency_v1, after setup_sharding_env  , 20d\n    Migration plan for moving CI tables   : migration_plan, 2021-07-01, 5d\n    Defining 2PC Pattern            :2pc, after migration_plan, 15d\n    Add disable_joins support       :disable_joins, after migration_plan, 20d\n    Discover and mitigate cross-joins :cross_join, after disable_joins, 20d\n    Disconnect joins from CI        :disconnect_join, after cross_join, 20d\n    Remove FK        :remove_fk, after disconnect_join, 40d\n    Move tables: move_tables, after remove_fk, 30d\n    Test Application Resiliency V2 : resiliency_v2, after move_tables, 30d\n    Many Databases Support  :lb, 2021-07-01, 60d\n    Continue LB support             :lb_v2, 2021-07-01, 60d\n    Normalize Data  :normalize, 2021-07-01, 30d\n\n    section Distribution Group\n    Omnibus \u0026 CNG support for GitLab.com:OmnibusCNG, 2021-07-18,  30d\n\n    section Enablement Sub-department\n    Fix broken Enablement features: fix_enablement_features, 2021-07-18, 30d\n\n    section Dev Sub-department\n    Fix broken Dev features: fix_dev_features, 2021-07-18, 30d\n\n    section Ops Sub-department\n    Fix broken Ops features: fix_ops_features, 2021-07-18, 60d\n\n    section Secure Sub-department\n    Fix broken Secure features: fix_sec_features, 2021-07-18, 30d\n\n    section Development \n    Identify impact of decomposition: 2021-07-06, 30d\n     click access href \"https://gitlab.com/gitlab-com/gl-infra/infrastructure/-/issues/13687\"\n\n```\n\n\u003c!-- start-discoto-summary --\u003e\n## Auto-Summary :robot:\n\n\n\u003cdetails\u003e\n\u003csummary\u003eDiscoto Usage\u003c/summary\u003e\n\n---\n\n\u003e **Points**\n\u003e\n\u003e Discussion points are declared by headings, list items, and single\n\u003e lines that start with the text (case-insensitive) `point:`. For\n\u003e example, the following are all valid points:\n\u003e\n\u003e * `#### POINT: This is a point`\n\u003e * `* point: This is a point`\n\u003e * `+ Point: This is a point`\n\u003e * `- pOINT: This is a point`\n\u003e * `point: This is a **point**`\n\u003e\n\u003e Note that any markdown used in the point text will also be propagated\n\u003e into the topic summaries.\n\u003e\n\u003e **Outcomes**\n\u003e\n\u003e Outcomes define the decisions or resolutions of a discussion. Once\n\u003e outcomes are defined, sub-topics and points are collapsed\n\u003e underneath the outcomes.\n\u003e\n\u003e Outcomes are declared in a similar manner as points:\n\u003e\n\u003e * `#### OUTCOME: This is an outcome`\n\u003e * `* outcome: This is an outcome`\n\u003e * `+ Outcome: This is an outcome`\n\u003e * `- oUTCOME: This is an outcome`\n\u003e * `outcome: This is an outcome`\n\u003e\n\u003e Note that multiple outcomes may be declared for each topic.\n\u003e\n\u003e **Topics**\n\u003e\n\u003e Topics can be stand-alone and contained within an issuable (epic,\n\u003e issue, MR), or can be inline.\n\u003e\n\u003e Inline topics are defined by creating a new thread (discussion)\n\u003e where the first line of the first comment is a heading that starts\n\u003e with (case-insensitive) `topic:`. For example, the following are all\n\u003e valid topics:\n\u003e\n\u003e * `# Topic: Inline discussion topic 1`\n\u003e * `## TOPIC: **{+A Green, bolded topic+}**`\n\u003e * `### tOpIc: Another topic`\n\u003e\n\u003e **Quick Actions**\n\u003e\n\u003e | Action                        | Description                                             |\n\u003e |-------------------------------|---------------------------------------------------------|\n\u003e | `/discuss sub-topic TITLE`    | Create an issue for a sub-topic. Does not work in epics |\n\u003e | `/discuss link ISSUABLE-LINK` | Link an issuable as a child of this discussion          |\n\u003e\n\u003e **Discussion-Size Indicators**\n\u003e\n\u003e The relative size of the discussion occurring within a topic\n\u003e and its sub-topics is indicated via braille dots.\n\u003e\n\u003e More dots means that more points or sub-topics exist within a\n\u003e given topic.\n\u003e\n\u003e Examples:\n\u003e\n\u003e * TOPIC `‚£ø‚£ø‚°Ü` A large discussion occurred here\n\u003e * TOPIC `‚£á  ` A smaller discussion occurred here\n\n---\n\n\u003c/details\u003e\n\nLast updated by [this job](https://gitlab.com/gitlab-org/secure/pocs/discoto-runner/-/jobs/1404504401)\n\n\n\n\u003cul\u003e\u003cli\u003e\u003cdetails\u003e\u003csummary\u003eTOPIC \u003ccode title='Relative Number of Notes'\u003e‚°Ä \u003c/code\u003e \u003ccode title='Relative Number of Actions'\u003e  \u003c/code\u003e Parallelizable Work https://gitlab.com/gitlab-org/gitlab/-/issues/335122#note_620164599\u003c/summary\u003e\u003cul\u003e\u003c/ul\u003e\u003c/details\u003e\u003c/li\u003e\u003cli\u003e\u003cdetails\u003e\u003csummary\u003eTOPIC \u003ccode title='Relative Number of Notes'\u003e‚°Ä \u003c/code\u003e \u003ccode title='Relative Number of Actions'\u003e  \u003c/code\u003e Items with a `Blank Check` timeline in the Gantt chart https://gitlab.com/gitlab-org/gitlab/-/issues/335122#note_620171233\u003c/summary\u003e\u003cul\u003e\u003c/ul\u003e\u003c/details\u003e\u003c/li\u003e\u003c/ul\u003e\n\u003c!-- end-discoto-summary --\u003e\n\n\n\n\u003c!-- start-discoto-topic-settings --\u003e\u003cdetails\u003e\n\u003csummary\u003eDiscoto Settings\u003c/summary\u003e\n\n\u003cbr/\u003e\n\n```yaml\n---\nsummary:\n  max_items: -1\n  sort_by: created\n  sort_direction: ascending\n\n```\n\nSee the [settings schema](https://gitlab.com/gitlab-org/secure/pocs/discussion-automation#settings-schema) for details.\n\n\u003c/details\u003e\n\u003c!-- end-discoto-topic-settings --\u003e","state":"closed","created_at":"2021-07-02T20:21:36.330Z","updated_at":"2022-05-31T12:22:27.210Z","closed_at":"2021-08-12T08:45:55.989Z","closed_by":{"id":3944199,"username":"fzimmer","name":"Fabian Zimmer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3944199/avatar.png","web_url":"https://gitlab.com/fzimmer"},"labels":["Category:Pods","devops::data_stores","discoto-beta","group::pods","section::enablement"],"milestone":null,"assignees":[{"id":3910448,"username":"craig-gomes","name":"Craig Gomes","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3910448/avatar.png","web_url":"https://gitlab.com/craig-gomes"}],"author":{"id":3910448,"username":"craig-gomes","name":"Craig Gomes","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3910448/avatar.png","web_url":"https://gitlab.com/craig-gomes"},"type":"ISSUE","assignee":{"id":3910448,"username":"craig-gomes","name":"Craig Gomes","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3910448/avatar.png","web_url":"https://gitlab.com/craig-gomes"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335122","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":9,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 9 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335122","notes":"https://gitlab.com/api/v4/projects/278964/issues/335122/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335122/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335122","relative":"#335122","full":"gitlab-org/gitlab#335122"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6168,"epic":{"id":287568,"iid":6168,"title":"Decompose GitLab.com's database to improve scalability","url":"/groups/gitlab-org/-/epics/6168","group_id":9970,"human_readable_end_date":"Jan 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":89684686,"iid":335114,"project_id":278964,"title":"Attach pdf, zip, and other files in the Content Editor","description":"\u003c!-- This issue template can be used a great starting point for feature requests. The last section \"Release notes\" can be used as a summary of the feature and is also required if you want to have your release post blog MR auto generated using the release post item generator:  https://about.gitlab.com/handbook/marketing/blog/release-posts/#release-post-item-generator. The remaining sections are the backbone for every feature in GitLab. --\u003e\n\n### Release notes \n\n\u003c!-- What is the problem and solution you're proposing? This content sets the overall vision for the feature and serves as the release notes that will populate in various places, including the [release post blog](https://about.gitlab.com/releases/categories/releases/) and [Gitlab project releases](https://gitlab.com/gitlab-org/gitlab/-/releases). \" --\u003e\n\n### Problem to solve \n\nThe Content Editor allows you (or at least it will) to upload images to the body of the page content. In the Wiki and in Issues, it's possible to attach `.zip`, `.pdf`, `.doc`, and many other binary files. \n\n\n\n### Proposal \n\nExtend the Content Editor to support attached files. These files will render as a link and open up in a new tab (or initiate a download). \n\nIt should be possible to quickly and easily change the link text or replace the uploaded file with a new one.\n\nThis issue is **not** about embedding or previewing these documents in the content area. \n\n\n\n\u003c!--- Use the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n\nConsider adding related issues and epics to this issue. You can also reference the Feature Proposal Template (https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal%20-%20detailed.md) for additional details to consider adding to this issue. Additionally, as a data oriented organization, when your feature exits planning breakdown, consider adding the `What does success look like, and how can we measure that?` section.\n\nOther sections to consider adding: \n\n### Intended users\n\nWho will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n\n### User experience goal\n\nThe user experience should be:\n\n1. Click the toolbar icon to upload a file\n1. Browse for the file on the local file system\n1. Select the file\n1. The file is uploaded and a link created at the cursor\n\n\n### Further details\n\nInclude use cases, benefits, goals, or any other details that will help us understand the problem better. \n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?\nConsider adding checkboxes and expectations of users with certain levels of membership https://docs.gitlab.com/ee/user/permissions.html\n* [ ] Add expected impact to members with no access (0)\n* [ ] Add expected impact to Guest (10) members\n* [ ] Add expected impact to Reporter (20) members\n* [ ] Add expected impact to Developer (30) members \n* [ ] Add expected impact to Maintainer (40) members\n* [ ] Add expected impact to Owner (50) members \n\n### Documentation\n\n See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/workflow.html#for-a-product-change\n\n* Add all known Documentation Requirements in this section. See https://docs.gitlab.com/ee/development/documentation/workflow.html\n* If this feature requires changing permissions, update the permissions document. See https://docs.gitlab.com/ee/user/permissions.html \n\n### Availability \u0026 Testing\n\nThis section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning \n\n### What does success look like, and how can we measure that?\n\nDefine both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. \n\n### What is the type of buyer?\n\nWhat is the buyer persona for this feature? See https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/buyer-persona/\nIn which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#three-tiers\n\n### Is this a cross-stage feature?\n\nCommunicate if this change will affect multiple Stage Groups or product areas. We recommend always start with the assumption that a feature request will have an impact into another Group. Loop in the most relevant PM and Product Designer from that Group to provide strategic support to help align the Group's broader plan and vision, as well as to avoid UX and technical debt. https://about.gitlab.com/handbook/product/#cross-stage-features --\u003e","state":"closed","created_at":"2021-07-02T17:12:10.805Z","updated_at":"2022-01-14T04:16:53.986Z","closed_at":"2021-08-13T15:11:02.287Z","closed_by":{"id":2398164,"username":"himkp","name":"Himanshu Kapoor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2398164/avatar.png","web_url":"https://gitlab.com/himkp"},"labels":["Content Editor","Deliverable","GitLab Free","devops::create","direction","documentation","frontend","group::editor","section::dev","type::feature","workflow::design"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":2398164,"username":"himkp","name":"Himanshu Kapoor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2398164/avatar.png","web_url":"https://gitlab.com/himkp"},{"id":3540517,"username":"ealcantara","name":"Enrique Alc√°ntara","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3540517/avatar.png","web_url":"https://gitlab.com/ealcantara"}],"author":{"id":5212466,"username":"ericschurter","name":"Eric Schurter","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5212466/avatar.png","web_url":"https://gitlab.com/ericschurter"},"type":"ISSUE","assignee":{"id":2398164,"username":"himkp","name":"Himanshu Kapoor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2398164/avatar.png","web_url":"https://gitlab.com/himkp"},"user_notes_count":13,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335114","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335114","notes":"https://gitlab.com/api/v4/projects/278964/issues/335114/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335114/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335114","relative":"#335114","full":"gitlab-org/gitlab#335114"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5437,"epic":{"id":209980,"iid":5437,"title":"Add custom extensions to Content Editor","url":"/groups/gitlab-org/-/epics/5437","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":89673970,"iid":335096,"project_id":278964,"title":"Unable to create a new value stream from no template","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nThe customer noticed that they can no longer create custom Value Streams when using `create from no template` (creating one from default template works fine). \n\nTicket for reference `[#222031](https://gitlab.zendesk.com/agent/tickets/222031)` [internal]\n\n### Steps to reproduce\n\n1. Go to a group under premium+ subsctiption -\u003e Analytics -\u003e Value Stream.\n1. In the top right corner from dropdown select **Create new value stream** \n1. Select `create from no template` and fill in a couple of stages that you need as well as the Value Steam name.\n1. `Create value stream` button cannot be clicked. \n\n### Example Project\n\n\u003c!-- If possible, please create an example project here on GitLab.com that exhibits the problematic \nbehavior, and link to it here in the bug report. If you are using an older version of GitLab, this \nwill also determine whether the bug is fixed in a more recent version. --\u003e\n\n### What is the current *bug* behavior?\n\nValue stream is not getting created.  \n\n### What is the expected *correct* behavior?\n\nValue stream should get created from no template. \n\n### Relevant logs and/or screenshots\n\n\u003c!-- Paste any relevant logs - please use code blocks (```) to format console output, logs, and code\n as it's tough to read otherwise. --\u003e\n\n![image](/uploads/d9f8bb4b03a977503c153b8fdfc2dc68/image.png)\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\nThis bug happens on GitLab.com version 14.1.0-pre\n\n\n### Possible fixes\n\nThere were new changes introduced to the mentioned form in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/64392/diffs \n\nProssibly reverting it or fixing it will help. \n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e","state":"closed","created_at":"2021-07-02T13:39:31.915Z","updated_at":"2022-03-25T21:46:33.969Z","closed_at":"2021-07-06T17:28:09.317Z","closed_by":{"id":4512390,"username":"djensen","name":"Dan Jensen","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4512390/avatar.png","web_url":"https://gitlab.com/djensen"},"labels":["customer","devops::manage","frontend","group::optimize","priority::1","section::dev","severity::1","type::bug","workflow::production"],"milestone":null,"assignees":[{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"}],"author":{"id":7272738,"username":"kategrechishkina","name":"Kate Grechishkina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7272738/avatar.png","web_url":"https://gitlab.com/kategrechishkina"},"type":"ISSUE","assignee":{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"},"user_notes_count":8,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335096","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335096","notes":"https://gitlab.com/api/v4/projects/278964/issues/335096/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335096/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335096","relative":"#335096","full":"gitlab-org/gitlab#335096"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":89669108,"iid":335089,"project_id":278964,"title":"Merge Kubeconfigs when both integration methods are available for a cluster/project","description":"### Proposed release notes\n\nStarting with GitLab 14.9, GitLab agent based connections are also available when deploying to environments that already have a certificate-based cluster. Previously, migrating from a certificate-based connection to an agent-based setup required extra steps and was especially difficult for group and instance-level clusters. By presetting both Kubernetes contexts, migration is largely simplified to selecting the context provided by the agent, instead of the default context, provided by the certificate-based connection.\n\n### Problem to solve \n\nWhen a project has both a certificate-based cluster and an agent CI/CD tunnel shared with it, the `KUBECONFIG` only includes the certificate-based cluster's context. This makes it impossible to migrate projects under group-level clusters and instance-level clusters one-by-one to an agnent-based CI/CD workflow.\n\n### Proposal\n\nProvide a merged `KUBECONFIG` that includes both the old certificate-based cluster and the agent contexts.\n\n### Background\n\nOriginally raised by @marshall007:\n\n\u003e Also note that the legacy cluster integration [appears to indiscriminately set the ](https://gitlab.com/gitlab-org/gitlab/-/blob/1b29140c696f1c3ba6d69031963069f092df9725/app/models/clusters/platforms/kubernetes.rb#L79-91)`KUBECONFIG` CI variable without checking to see if it has already been defined or attempting to merge them. I think it is important that you get a merged `KUBECONFIG` when both integrations are enabled so we can more easily migrate projects away from the legacy cluster integration.","state":"closed","created_at":"2021-07-02T12:11:11.499Z","updated_at":"2022-06-22T11:56:57.013Z","closed_at":"2022-03-15T09:17:24.527Z","closed_by":{"id":4545061,"username":"nagyv-gitlab","name":"Viktor Nagy (GitLab)","state":"active","avatar_url":"https://secure.gravatar.com/avatar/fb255c1e9c228b9356af165939b3ac9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/nagyv-gitlab"},"labels":["GitLab Core","Stretch","customer","devops::configure","group::configure","release post item::in review","section::ops","workflow::production"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":4088036,"username":"hfyngvason","name":"Hordur Freyr Yngvason","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4088036/avatar.png","web_url":"https://gitlab.com/hfyngvason"}],"author":{"id":4545061,"username":"nagyv-gitlab","name":"Viktor Nagy (GitLab)","state":"active","avatar_url":"https://secure.gravatar.com/avatar/fb255c1e9c228b9356af165939b3ac9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/nagyv-gitlab"},"type":"ISSUE","assignee":{"id":4088036,"username":"hfyngvason","name":"Hordur Freyr Yngvason","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4088036/avatar.png","web_url":"https://gitlab.com/hfyngvason"},"user_notes_count":19,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335089","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335089","notes":"https://gitlab.com/api/v4/projects/278964/issues/335089/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335089/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335089","relative":"#335089","full":"gitlab-org/gitlab#335089"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5528,"epic":{"id":217347,"iid":5528,"title":"CI/CD tunnel","url":"/groups/gitlab-org/-/epics/5528","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":89666452,"iid":335085,"project_id":278964,"title":"üé® Design: Cluster image scanning access token","description":"","state":"closed","created_at":"2021-07-02T11:18:53.497Z","updated_at":"2021-07-09T15:32:41.427Z","closed_at":"2021-07-09T15:32:41.406Z","closed_by":{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},"labels":["Category:Container Scanning","UX","devops::govern","group::security policies","section::sec","workflow::ready for development"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"}],"author":{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},"type":"ISSUE","assignee":{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335085","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335085","notes":"https://gitlab.com/api/v4/projects/278964/issues/335085/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335085/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335085","relative":"#335085","full":"gitlab-org/gitlab#335085"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3410,"epic":{"id":59230,"iid":3410,"title":"Cluster Image Scanning (Vulnerability Scans against Running Containers)","url":"/groups/gitlab-org/-/epics/3410","group_id":9970,"human_readable_end_date":"Dec 13, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":89666394,"iid":335084,"project_id":278964,"title":"üé® Design: policy error states","description":"#### Proposal\n\nFollow our regular [form validation](https://design.gitlab.com/components/form/#errors) when there is an error in the `New policy` form","state":"closed","created_at":"2021-07-02T11:16:37.627Z","updated_at":"2021-07-07T18:19:46.174Z","closed_at":"2021-07-07T18:19:46.157Z","closed_by":{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},"labels":["Category:Container Scanning","UX","devops::govern","group::security policies","section::sec","workflow::design"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"}],"author":{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},"type":"ISSUE","assignee":{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335084","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335084","notes":"https://gitlab.com/api/v4/projects/278964/issues/335084/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335084/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335084","relative":"#335084","full":"gitlab-org/gitlab#335084"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3410,"epic":{"id":59230,"iid":3410,"title":"Cluster Image Scanning (Vulnerability Scans against Running Containers)","url":"/groups/gitlab-org/-/epics/3410","group_id":9970,"human_readable_end_date":"Dec 13, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":89666155,"iid":335083,"project_id":278964,"title":"[Feature flag] Devops Adoption Dependency Scanning Roll Out","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout [the feature](ISSUE LINK) on production,\nthat is currently behind the `\u003cfeature-flag-name\u003e` feature flag.\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\n## Owners\n\n- Team: Optimize\n- Most appropriate slack channel to reach out to: `#g_manage_optimize`\n- Best individual to reach out to: @pshutsin\n- PM: @ljlane\n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## The Rollout Plan\n\n- Partial Rollout on GitLab.com with testing groups\n- Rollout on GitLab.com for a certain period (How long)\n- Percentage Rollout on GitLab.com\n- Rollout Feature for everyone as soon as it's ready\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? Sentry errors reports can also be useful to review --\u003e\n\n## Testing Groups/Projects/Users\n\n\u003c!-- If applicable, any groups/projects that are happy to have this feature turned on early. Some organizations may wish to test big changes they are interested in with a small subset of users ahead of time for example. --\u003e\n\n- `gitlab-org/gitlab` project\n- `gitlab-org`/`gitlab-com` groups\n- ...\n\n\n## Expectations\n\n### What are we expecting to happen?\n\n\u003c!-- Describe the expected outcome when rolling out this feature --\u003e\n\n### What might happen if this goes wrong?\n\n\u003c!-- Should the feature flag be turned off? Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- [ ] Ensure that the feature MRs have been deployed to non-production environments.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [ ] Enable the feature globally on non-production environments.\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e true --dev`\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e true --staging`\n- [ ] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Preparation before production rollout\n\n- [ ] Ensure that the feature MRs have been deployed to both production and canary.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [ ] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [ ] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [ ] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [ ] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com.\n- [ ] If the feature might impact the user experience, notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n- [ ] If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), enable it on GitLab.com for [testing groups/projects](#testing-groupsprojectsusers).\n    - [ ] `/chatops run feature set --\u003cactor-type\u003e=\u003cactor\u003e \u003cfeature-flag-name\u003e true`\n- [ ] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Global rollout on production\n\n- [ ] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e`\n  - Enable the feature globally on production environment.\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e true`\n- [ ] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [ ] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [ ] Create a merge request with the following changes. Ask for review and merge it.\n    - [ ] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the default-enabling MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-default-enabling-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [ ] (Optional) You can create a separate issue for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [ ] Set the title to \"[Feature flag] Cleanup `\u003cfeature-flag-name\u003e`\".\n    - [ ] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [ ] Link this rollout issue as a related issue.\n    - [ ] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [ ] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag. Ask for review and merge it.\n    - [ ] Remove all references to the feature flag from the codebase.\n    - [ ] Remove the YAML definitions for the feature from the repository.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the cleanup MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-cleanup-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --dev`\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --staging`\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e`\n- [ ] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set \u003cfeature-flag-name\u003e false\n```","state":"closed","created_at":"2021-07-02T11:09:26.162Z","updated_at":"2021-07-19T08:21:06.588Z","closed_at":"2021-07-19T08:21:06.571Z","closed_by":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"labels":["backend","devops::manage","feature flag","group::optimize","priority::1","section::dev"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"}],"author":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"type":"ISSUE","assignee":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335083","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":47,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 47 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335083","notes":"https://gitlab.com/api/v4/projects/278964/issues/335083/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335083/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335083","relative":"#335083","full":"gitlab-org/gitlab#335083"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":89663562,"iid":335079,"project_id":278964,"title":"Remove framework column from project_compliance_framework_settings","description":"### Proposal \n\n* Drop the `framework` column from `project_compliance_framework_settings`.\n\nIt has been ignored since %13.5 and is safe to drop as per the [documentation](https://docs.gitlab.com/ee/development/avoiding_downtime_in_migrations.html#step-2-dropping-the-column-release-m1).","state":"closed","created_at":"2021-07-02T10:14:28.169Z","updated_at":"2021-07-07T14:31:20.264Z","closed_at":"2021-07-07T14:31:20.242Z","closed_by":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"labels":["backend","database","devops::manage","group::compliance","maintenance::refactor","section::dev","workflow::verification"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"}],"author":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"type":"ISSUE","assignee":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335079","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335079","notes":"https://gitlab.com/api/v4/projects/278964/issues/335079/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335079/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335079","relative":"#335079","full":"gitlab-org/gitlab#335079"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":89661198,"iid":335077,"project_id":278964,"title":"Snippets can be accessed from another project","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nSnippets can be accessed using URLs which are not canonical, including from seemingly other, completely unrelated, projects.\n\nPermission checks _seems_ to be handled correctly, but I wasn't able to test all combinations. To be on the safe side, I marked this issue as confidential. Feel free to unmark it if it wasn't necessary.\n\n### Steps to reproduce\n\n1. Create a snippet in any project\n2. Visit `\u003cgitlab instance url\u003e/path/to/any/other/project/-/snippets/\u003cid of the snippet created in 1.\u003e`\n\n### Example Project\n\nSetup used :\n- Public project at zarunet/test-project\u003e\n  - Public snippet zarunet/test-project$2144097\n- Private project at zarunet/test-private-repo\u003e\n  - Public snippet zarunet/test-private-repo$2144099\n  - Private snippet zarunet/test-private-repo$2144100\n\n### What is the current *bug* behavior?\n\nSnippets are accessible from another project than their own\n\n- zarunet/test-project$2144097 (public project, public snippet) is accessible from all of these :\n  - https://gitlab.com/zarunet/test-project/-/snippets/2144097 (canonical URL)\n  - https://gitlab.com/zarunet/test-private-repo/-/snippets/2144097\n  - https://gitlab.com/gitlab-org/gitlab/-/snippets/2144097\n  - (repeat with any project you want)\n- zarunet/test-private-repo$2144099 (private project, public snippet) is accessible from all of these :\n  - https://gitlab.com/zarunet/test-project/-/snippets/2144099 \n  - https://gitlab.com/zarunet/test-private-repo/-/snippets/2144099 (canonical URL)\n  - https://gitlab.com/gitlab-org/gitlab/-/snippets/2144099\n  - (repeat with any project you want)\n- zarunet/test-private-repo$2144100 (private project, public snippet) is accessible from all of these :\n  - https://gitlab.com/zarunet/test-project/-/snippets/2144100\n  - https://gitlab.com/zarunet/test-private-repo/-/snippets/2144100 (canonical URL)\n  - https://gitlab.com/gitlab-org/gitlab/-/snippets/2144100\n  - (repeat with any project you want)\n\n### What is the expected *correct* behavior?\n\nSnippets should be accessible from their canonical URL only. Non-canonical URLs should throw a 404. (Not sure what the intended behavior in this case is, feel free to correct if needed)\n\n### Relevant logs and/or screenshots\n\nn/a\n\n### Output of checks\n\nThis bug happens on GitLab.com\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e","state":"closed","created_at":"2021-07-02T09:37:42.432Z","updated_at":"2021-08-18T07:02:18.562Z","closed_at":"2021-07-22T22:42:37.846Z","closed_by":{"id":4985794,"username":"cwoolley-gitlab","name":"Chad Woolley","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4cf06f1fc667817854991b558103a9e2?s=80\u0026d=identicon","web_url":"https://gitlab.com/cwoolley-gitlab"},"labels":["Category:Snippets","Deliverable","GraphQL","backend","devops::create","group::editor","priority::2","section::dev","severity::2","type::bug","type::feature","workflow::ready for development"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":4985794,"username":"cwoolley-gitlab","name":"Chad Woolley","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4cf06f1fc667817854991b558103a9e2?s=80\u0026d=identicon","web_url":"https://gitlab.com/cwoolley-gitlab"}],"author":{"id":4569690,"username":"zarunet","name":"Zarunet","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4569690/avatar.png","web_url":"https://gitlab.com/zarunet"},"type":"ISSUE","assignee":{"id":4985794,"username":"cwoolley-gitlab","name":"Chad Woolley","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4cf06f1fc667817854991b558103a9e2?s=80\u0026d=identicon","web_url":"https://gitlab.com/cwoolley-gitlab"},"user_notes_count":15,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2021-09-07","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335077","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335077","notes":"https://gitlab.com/api/v4/projects/278964/issues/335077/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335077/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335077","relative":"#335077","full":"gitlab-org/gitlab#335077"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":89661184,"iid":335076,"project_id":278964,"title":"Define supported configuration model when using decomposed database for a monolithic installation","description":"## TL;DR\n\nThere are different configuration types that can be used when\na decomposed features are to be used. Depending on a model used\nwe can use single or many databases.\n\nThis extends discussions of the issues discussing usage of schema and structures:\n- [Use database SCHEMAs to better isolated CI decomposed features](https://gitlab.com/gitlab-org/gitlab/-/issues/333415)\n- [Decide on a single `structure.sql` vs `ci_structure.sql`](https://gitlab.com/gitlab-org/gitlab/-/issues/334881)\n\nEspecially it is important to get better of the schema-based isolation\nand proposed usage of schemas:\n- https://gitlab.com/gitlab-org/gitlab/-/issues/333415#ideally\n- `gitlab_shared`, `gitlab_main`, `gitlab_ci`\n\n### Configuration types\n\nWe can distinguish different configuration types:\n\n1. Using a single monolithic database (not migrated), with a single connection\n2. Using a single monolithic database (not migrated), but with separate configurations\n3. Using two separate logical databases\n\n#### 1. A single monolithic database (not migrated), with a single connection\n\nThis describes a situation of using a single database that only leverages schemas to\nperform logical partitioning / defining boundaries between decomposed features.\nThe are two ways how we can manage structure of such database.\n\nThis model is the least impactful, as it retains the same network and memory requirements\nsince we are not opening nor maintaining new connections. Having many connections can be\na problem in some installations, especially when application connects directly to PostgreSQL\nwithout a proxy like PgBouncer.\n\n```yaml\nmain:\n  database: gitlab_monolithic\n  schema_search_path: gitlab_ci,gitlab_main,gitlab_shared\n```\n\nIn this model we assume that there's a single structure, with many schemas, and many migrations.\n\n#### 2. A single monolithic database (not migrated), but with separate configurations\n\nThis describes a situation when using a single logical database that only leverages schemas to\nperform logical partitioning / defining boundaries between decomposed features.\nThe difference is that two separate connections are defined\nto the same logical database, but with a different visibility configured.\n\n```yaml\nmain:\n  database: gitlab_monolithic\n  schema_search_path: gitlab_main,gitlab_shared\nci:\n  database: gitlab_monolithic\n  schema_search_path: gitlab_ci,gitlab_shared\n```\n\nThis model is pretty impactful:\n- `schema_search_path` can break some queries if executed on `main:` with invalid context\n- this can be avoided in a transition period by doing: `main:schema_search_path: gitlab_ci,gitlab_main,gitlab_shared`\n- we require effectively to open twice many connections, which might have negative consequences\n  for the performance if PgBouncer is not used\n- we clearly indicate what is being modified where\n\n#### 3. Using two databases\n\nThis describes a situation when using a many database, leveraging a fully decomposed architecture\nto increase capacity.\n\n```yaml\nmain:\n  database: gitlab_main\n  schema_search_path: gitlab_main,gitlab_shared\nci:\n  database: gitlab_ci\n  schema_search_path: gitlab_ci,gitlab_shared\n```\n\nThis is end goal for GitLab.com. We ensure that only asked migrations are executed in a given context,\nensuring that things are well described and minimal.\n\n### Shared tables\n\nThis is discussed in https://gitlab.com/gitlab-org/gitlab/-/issues/333415#shared-tables","state":"closed","created_at":"2021-07-02T09:37:22.781Z","updated_at":"2022-05-31T12:22:27.849Z","closed_at":"2022-04-12T02:33:07.442Z","closed_by":{"id":2535118,"username":"tkuah","name":"Thong Kuah","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f7b51bdd49a4914d29504d7ff4c3f7b9?s=80\u0026d=identicon","web_url":"https://gitlab.com/tkuah"},"labels":["Category:Pods","[deprecated] Accepting merge requests","ci-decomposition-followup","devops::data_stores","group::pods","section::enablement"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":12452,"username":"ayufan","name":"Kamil Trzci≈Ñski","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a285e30f35d72526fb0954e8fe7cefa?s=80\u0026d=identicon","web_url":"https://gitlab.com/ayufan"},"type":"ISSUE","assignee":null,"user_notes_count":4,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335076","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335076","notes":"https://gitlab.com/api/v4/projects/278964/issues/335076/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335076/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335076","relative":"#335076","full":"gitlab-org/gitlab#335076"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6451,"epic":{"id":314946,"iid":6451,"title":"Use database SCHEMAs to better isolated CI decomposed features","url":"/groups/gitlab-org/-/epics/6451","group_id":9970,"human_readable_timestamp":"\u003cstrong\u003e546\u003c/strong\u003e days elapsed"},"iteration":null,"health_status":null},{"id":89658289,"iid":335074,"project_id":278964,"title":"Refactor handling of commit sha in pipeline editor","description":"From this [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/64576#note_615547809) in MR https://gitlab.com/gitlab-org/gitlab/-/merge_requests/64576:\n\n\u003e So given those 2 things, I think we need to restructure how we handle the sha. Ideally, we would avoid writing directly to cache at all and start letting apollo does it magic to avoid these mix input signals. To do that, I can kind of think of ~~2 ways:~~ (we've decided to do the second option, which is:)\n\u003e\n\u003e Don't use rails at all and use the query right away on load for `getLatestCommitShaQuery`. Then we can start using that query to fetch data after a user commits a file or when switching branch to make sure we are always up to date. We would need to refetch data we already have so I would be careful of how long it would add to the loading, but worth checking out for the clarity it would bring to the code.\n\nSince the commit sha currently comes from two sources (rails injection and graphql), this issue aims to unify this into one single source of truth by doing away with rails and fetching the commit sha as a graphql query from the start. This also means removing the client resolver for the commit sha query.","state":"closed","created_at":"2021-07-02T08:59:29.777Z","updated_at":"2021-08-27T02:56:18.497Z","closed_at":"2021-08-26T08:29:19.255Z","closed_by":{"id":7598233,"username":"mgandres","name":"Mireya Andres","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c96bce45a06f2dd722144db3f52456bf?s=80\u0026d=identicon","web_url":"https://gitlab.com/mgandres"},"labels":["Category:Pipeline Authoring","devops::verify","frontend","group::pipeline authoring","maintenance::refactor","missed:14.2","section::ops","workflow::production"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":7598233,"username":"mgandres","name":"Mireya Andres","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c96bce45a06f2dd722144db3f52456bf?s=80\u0026d=identicon","web_url":"https://gitlab.com/mgandres"}],"author":{"id":7598233,"username":"mgandres","name":"Mireya Andres","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c96bce45a06f2dd722144db3f52456bf?s=80\u0026d=identicon","web_url":"https://gitlab.com/mgandres"},"type":"ISSUE","assignee":{"id":7598233,"username":"mgandres","name":"Mireya Andres","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c96bce45a06f2dd722144db3f52456bf?s=80\u0026d=identicon","web_url":"https://gitlab.com/mgandres"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335074","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335074","notes":"https://gitlab.com/api/v4/projects/278964/issues/335074/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335074/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335074","relative":"#335074","full":"gitlab-org/gitlab#335074"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":89651791,"iid":335071,"project_id":278964,"title":"Cleanup Background Migration for Orphaned Deployments","description":"## Problem\n\nPreviously, we shipped [the background migration](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/64588) to [delete orphaned deployments](https://gitlab.com/gitlab-org/gitlab/-/issues/26229). This migration can only be [cleaned up](https://docs.gitlab.com/ee/development/background_migrations.html#cleaning-up) in the next milestone, which is %\"14.2\". We should clean up to complete the task.\n\n## Proposal\n\n- Clean up the background migration.\n- Update FK constraint to validate all rows https://docs.gitlab.com/ee/development/database/add_foreign_key_to_existing_column.html#prevent-invalid-records","state":"closed","created_at":"2021-07-02T07:14:43.767Z","updated_at":"2022-11-04T19:15:51.704Z","closed_at":"2021-08-06T14:04:56.515Z","closed_by":{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"},"labels":["Category:Release Orchestration","Deliverable","Release::P1","cicd::active","devops::release","environments","group::release","missed-SLO","priority::2","section::ops","severity::2","type::bug","workflow::verification"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"}],"author":{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"},"type":"ISSUE","assignee":{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335071","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335071","notes":"https://gitlab.com/api/v4/projects/278964/issues/335071/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335071/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335071","relative":"#335071","full":"gitlab-org/gitlab#335071"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":89644825,"iid":335066,"project_id":278964,"title":"Add support for multiple default sort orders in dependency list page","description":"### Problem to solve \n\nIn order to fix the bug described in [Default dependency list sort order icon is incorrect](https://gitlab.com/gitlab-org/gitlab/-/issues/332653), a change was made to set the default sort order to `descending` in the [dependency list page](https://gitlab.com/gitlab-org/security-products/tests/ruby-bundler/-/dependencies). As a result of this change, the sort order for the `Severity` drop down is correct, however, the sort order for the `Component Name` and `Packager` drop down menus are now ordered in descending alphabetical order, which is the opposite of the normal sorting order that a user would expect (ascending alphabetical order, from `a-z`)\n\n### Proposal \n\nWhen the user changes the sort *field*, the sort *direction* is changed to that field's default sort order (per the below table).\n\nMore information: \n\nIt's not possible to have a single sort order that makes sense for all three different drop down menus, so we need to add some logic to the [frontend code](https://gitlab.com/gitlab-org/gitlab/blob/edbf2f01757/ee/app/assets/javascripts/dependencies/store/modules/list/state.js#L19-19) to allow the following sort orders on the dependency list page:\n\n| Field          | Default Sort Order |\n| ------         | ------             |\n| Component Name | `asc`              |\n| Packager       | `asc`              |\n| Severity       | `desc`             |\n\nSee [this discussion](https://gitlab.com/gitlab-org/gitlab/-/issues/332653#note_616268782) for more details\n\nWe need to change the hardcoded [`SORT_ORDER.descending`](https://gitlab.com/gitlab-org/gitlab/blob/edbf2f01757/ee/app/assets/javascripts/dependencies/store/modules/list/state.js#L19-19) value to allow it to change depending on the field type.\n\n### Related issues\n\nhttps://gitlab.com/gitlab-org/gitlab/-/issues/332653\n\n### User experience goal\n\nThe default sort order for the `Component Name` and `Packager` drop down menus should be `asc` while the default sort order for the `Severity` drop down menu should be `desc`\n\n### What is the type of buyer?\n\n~\"GitLab Ultimate\" ~\"Enterprise Edition\"\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [ ] Documentation:\n- [ ] Feature flag:\n- [ ] Performance:\n- [ ] Testing:\n\n\n### Implementation Plan\n\n1. Create a map of default sort orders\n1. Modify the sortBy value when the field is changed\n---\n1. Consider updating the component to use https://gitlab-org.gitlab.io/gitlab-ui/?path=/story/base-sorting--default in a follow up issue","state":"closed","created_at":"2021-07-02T03:27:42.986Z","updated_at":"2021-08-18T07:06:10.456Z","closed_at":"2021-07-28T16:44:01.773Z","closed_by":{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},"labels":["Category:Dependency Scanning","Deliverable","Enterprise Edition","GitLab Ultimate","dependency list","devops::secure","frontend","group::composition analysis","section::sec","workflow::verification"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"}],"author":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"type":"ISSUE","assignee":{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335066","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335066","notes":"https://gitlab.com/api/v4/projects/278964/issues/335066/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335066/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335066","relative":"#335066","full":"gitlab-org/gitlab#335066"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":89642869,"iid":335061,"project_id":278964,"title":"Decomposition: Identify other teams and features impacted by decomposing the database","description":"# Note\n\n**This issue was promoted to the epic https://gitlab.com/groups/gitlab-org/-/epics/6289. Please create research issues under the epic.**\n\n\n~~The main goal of the ~\"group::sharding\" decomposition efforts is to split the database into two, for the first iteration, to address database scalability concerns. The first iteration focuses on a database for CI and a database for the rest of the functionality. There are likely customers that depend on all of the data coming from a single database. This issue is to gather information, determine the impact of decomposing the database and create issues to resolve those dependencies to work with the new architecture. For those not familiar with our plans to decompose the database, you can read a brief overview of the proposed solution [here](https://gitlab.com/groups/gitlab-org/-/epics/6168#solution).~~\n\n~~Some ideas have already been identified that will require follow up. We are asking team members within GitLab to consider how this may impact you, your team or area of ownership. The ~\"group::sharding\" will collaborate with the areas impacted to find a solution as the details become clear. For now, we are gathering information.~~\n\n~~Please feel free to add to this list and add more details in comments for this issue.~~\n\n- [ ] ~~Data analysis (Usage ping,  data extract, Snowflake?)~~\n- [ ] ~~Sales portal, such as licensing (Zuora \u003c-\u003e CustomerDot)~~\n- [ ] ~~Pricing~~\n  - [ ] ~~CI Minutes~~\n  - [ ] ~~Storage~~\n- [ ] ~~CDN~~\n- [ ] ~~Security Access~~\n- [ ] ~~Global Search~~\n- [ ] ~~Redis~~\n- [ ] ~~Backup/Restore~~\n\n~~If this issue structure does not make sense, we can promote to an epic and have individual issues for areas of investigation and required changes.~~","state":"closed","created_at":"2021-07-02T01:43:22.497Z","updated_at":"2022-11-15T07:37:00.306Z","closed_at":"2021-07-06T17:15:21.837Z","closed_by":{"id":3753003,"username":"cdu1","name":"Chun Du","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3753003/avatar.png","web_url":"https://gitlab.com/cdu1"},"labels":["Category:Pods","devops::data_stores","group::pods","section::enablement"],"milestone":null,"assignees":[],"author":{"id":3910448,"username":"craig-gomes","name":"Craig Gomes","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3910448/avatar.png","web_url":"https://gitlab.com/craig-gomes"},"type":"ISSUE","assignee":null,"user_notes_count":15,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2021-07-30","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335061","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":10,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 10 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335061","notes":"https://gitlab.com/api/v4/projects/278964/issues/335061/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335061/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335061","relative":"#335061","full":"gitlab-org/gitlab#335061"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6168,"epic":{"id":287568,"iid":6168,"title":"Decompose GitLab.com's database to improve scalability","url":"/groups/gitlab-org/-/epics/6168","group_id":9970,"human_readable_end_date":"Jan 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":89641972,"iid":335058,"project_id":278964,"title":"Fix \"Add to Slack\" link on the GitLab Slack App","description":"The [GitLab Slack Application](slack.com/apps/A676ADMV5-gitlab?tab=more_info)'s \"Add to Slack\" button currently links to https://gitlab.com/profile/slack/edit, but it should be https://gitlab.com/-/profile/slack/edit.","state":"closed","created_at":"2021-07-02T00:49:08.355Z","updated_at":"2021-08-12T14:09:17.398Z","closed_at":"2021-08-12T07:28:12.032Z","closed_by":{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"},"labels":["Integration::Slack","customer","devops::systems","group::geo","missed:14.1","section::enablement","severity::4","type::bug","workflow::in review"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"}],"author":{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"},"type":"ISSUE","assignee":{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335058","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335058","notes":"https://gitlab.com/api/v4/projects/278964/issues/335058/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335058/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335058","relative":"#335058","full":"gitlab-org/gitlab#335058"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":89637334,"iid":335051,"project_id":278964,"title":"Update Registration Features text","description":"## Summary\n\nIn the Registration Features setting sub-text we are missing the word \"**the**\".\n\n|Current| Desired|\n|---|---|\n|You can enable Registration Features because Service Ping is enabled. To continue using Registration Features in  future, you will also need to register with GitLab via a new cloud licensing service.| You can enable Registration Features because Service Ping is enabled. To continue using Registration Features in **the** future, you will also need to register with GitLab via a new cloud licensing service.|\n\n### Screenshot\n\n![Screen_Shot_2021-07-01_at_5.06.36_PM](/uploads/8557cf07731a25d741bef124bbdc3851/Screen_Shot_2021-07-01_at_5.06.36_PM.png)","state":"closed","created_at":"2021-07-01T22:12:32.035Z","updated_at":"2021-07-03T07:46:40.714Z","closed_at":"2021-07-03T07:46:40.701Z","closed_by":{"id":8198564,"username":"rkadam3","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8198564/avatar.png","web_url":"https://gitlab.com/rkadam3"},"labels":["Unplanned","backend","devops::growth","group::product intelligence","section::growth","workflow::production"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":8198564,"username":"rkadam3","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8198564/avatar.png","web_url":"https://gitlab.com/rkadam3"}],"author":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"type":"ISSUE","assignee":{"id":8198564,"username":"rkadam3","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8198564/avatar.png","web_url":"https://gitlab.com/rkadam3"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335051","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335051","notes":"https://gitlab.com/api/v4/projects/278964/issues/335051/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335051/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335051","relative":"#335051","full":"gitlab-org/gitlab#335051"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6144,"epic":{"id":285878,"iid":6144,"title":"Registration Features - MVC","url":"/groups/gitlab-org/-/epics/6144","group_id":9970,"human_readable_end_date":"Jul 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":89636822,"iid":335049,"project_id":278964,"title":"Add GraphQL mutation to create test sessions","description":"Similarly to https://gitlab.com/gitlab-org/gitlab/-/merge_requests/41190, we need a mutation that would allow us to create test sessions.","state":"closed","created_at":"2021-07-01T21:49:33.105Z","updated_at":"2022-09-12T15:50:41.077Z","closed_at":"2021-07-05T09:57:45.454Z","closed_by":{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"},"labels":["GraphQL","backend","devops::plan","group::certify","section::dev"],"milestone":null,"assignees":[],"author":{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335049","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335049","notes":"https://gitlab.com/api/v4/projects/278964/issues/335049/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335049/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335049","relative":"#335049","full":"gitlab-org/gitlab#335049"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null}]