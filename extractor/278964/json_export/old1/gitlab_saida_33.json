[{"id":102421056,"iid":352755,"project_id":278964,"title":"Create requirement issue factory trait","description":"The following discussion from !78120 should be addressed:\n\n- [ ] @jprovaznik started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/78120#note_839633963):  (+1 comment)\n\n    \u003e not-blocking thought: with migration of `requirement` to `issue`, in most specs we will need rather an issue of type requirement (such as in this case) - it might be worth to create an issue trait which returns issue resource of type requirement (with associated requirement resource). As said this is not blocking so I'll leave it to you to decide if you prefer to use it here or not.","state":"closed","created_at":"2022-02-14T15:08:13.513Z","updated_at":"2022-04-25T18:00:52.490Z","closed_at":"2022-04-05T12:55:30.652Z","closed_by":{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"},"labels":["Category:Requirements Management","[deprecated] Accepting merge requests","auto updated","backend","devops::plan","group::product planning","maintenance::refactor","missed:14.9","section::dev","type::maintenance","workflow::in dev"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[],"author":{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"},"type":"ISSUE","assignee":null,"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352755","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352755","notes":"https://gitlab.com/api/v4/projects/278964/issues/352755/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352755/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352755","relative":"#352755","full":"gitlab-org/gitlab#352755"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102419425,"iid":352753,"project_id":278964,"title":"Disable user facing Serverless features behind a feature flag","description":"See https://gitlab.com/groups/gitlab-org/configure/-/epics/6","state":"closed","created_at":"2022-02-14T14:55:52.276Z","updated_at":"2022-03-09T03:36:37.036Z","closed_at":"2022-03-09T03:36:37.019Z","closed_by":{"id":4088036,"username":"hfyngvason","name":"Hordur Freyr Yngvason","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4088036/avatar.png","web_url":"https://gitlab.com/hfyngvason"},"labels":["Stretch","auto updated","backend","candidate::14.9","devops::configure","frontend","group::configure","section::ops","workflow::production"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":4088036,"username":"hfyngvason","name":"Hordur Freyr Yngvason","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4088036/avatar.png","web_url":"https://gitlab.com/hfyngvason"}],"author":{"id":4088036,"username":"hfyngvason","name":"Hordur Freyr Yngvason","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4088036/avatar.png","web_url":"https://gitlab.com/hfyngvason"},"type":"ISSUE","assignee":{"id":4088036,"username":"hfyngvason","name":"Hordur Freyr Yngvason","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4088036/avatar.png","web_url":"https://gitlab.com/hfyngvason"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352753","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352753","notes":"https://gitlab.com/api/v4/projects/278964/issues/352753/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352753/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352753","relative":"#352753","full":"gitlab-org/gitlab#352753"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102419237,"iid":352752,"project_id":278964,"title":"[ENG] Add \"setup a self-hosted runner\" to the pipeline zerostate page","description":"# Problem\nMany active and engaged namespaces create a self-hosted CI/CD pipeline runner in order to manage their own CI/CD workflow. There are many different reasons why a namespace would want to do this. One thing that we know is that namespaces that set up a hosted runner upgrade at a significantly higher rate than those that utilize shared runners. Additionally, we have run tests that show that making it easier to set up a self-hosted runner successfully drives upgrade, however previous tests that highlight hosted runners over shared runners have decreased the overall number of namespaces utilizing CI/CD pipelines.\n\n![image](/uploads/5d8f7837b07787d0b7fc5aba614a64dc/image.png)\n\n## Hypothesis\nBy highlighting self-hosted runners on the pipeline zero state page and making it easier for users to set up a self-hosted runner from that page, we will maintain the overall number of verify users and drive additional free to paid conversion from those that need a self-hosted runner\n\n## Details\n\nUpdate the current pipeline zero state page (below) to include a section that guides users who want to set up a self-hosted runner to our cloudformation templates that help them easily create those runners. This section should also guide users who want to learn more about hosted vs shared runners to a documentation page where they can learn more.\n\n![image](/uploads/d48751771a2e60e80306817c26115d3d/image.png)\n\n# Proposed Solution\n\n**When runners are available, provide users with this information:** \n\n**Runners are available to run your jobs now**\n\nGitLab Runner is an application that works with GitLab CI/CD to run jobs in a pipeline, and can be shared or self-hosted. There are [shared runners](https://docs.gitlab.com/ee/ci/runners/runners_scope.html#shared-runners) available to run your jobs right now. Or, if you prefer you can install GitLab Runner (\u003c-- link to project settings\u003erunners) and register your own runners.\n\n**When there are no runners available, provide users with this information:**\n\n**No runners detected**\n\nA GitLab Runner is an application that works with GitLab CI/CD to run jobs in a pipeline. Install GitLab Runner and register your own runners to get started with CI/CD.\n\nInstall GitLab Runner (\u003c-- link to project settings\u003erunners) \n\n| Runners | No Runners |\n| ------ | ------ |\n| ![Screen_Shot_2022-02-14_at_9.06.14_AM](/uploads/b919359aac08fdd6bef7c89a75a4ce10/Screen_Shot_2022-02-14_at_9.06.14_AM.png) | ![Screen_Shot_2022-02-14_at_9.06.21_AM](/uploads/bbbfb6d56bacc52a8a2b5da6604ebcb8/Screen_Shot_2022-02-14_at_9.06.21_AM.png) |\n\n[Full Flow](https://gitlab.com/gitlab-org/growth/team-tasks/-/issues/465/designs/SelfHostedRunner_Flow.png)\n\n#### [Design File](https://www.figma.com/file/2V2RUaKD9j9FQfjdpw9fOp/Experiment-with-CI%2FCD-empty-states?node-id=1528%3A24695)","state":"closed","created_at":"2022-02-14T14:52:34.142Z","updated_at":"2022-09-15T13:00:19.539Z","closed_at":"2022-03-08T12:27:09.462Z","closed_by":{"id":4018056,"username":"alexbuijs","name":"Alex Buijs","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4018056/avatar.png","web_url":"https://gitlab.com/alexbuijs"},"labels":["Technical Writing","UX","auto updated","devops::growth","group::activation","missed:14.8","section::growth","workflow::in dev"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":4018056,"username":"alexbuijs","name":"Alex Buijs","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4018056/avatar.png","web_url":"https://gitlab.com/alexbuijs"}],"author":{"id":4018056,"username":"alexbuijs","name":"Alex Buijs","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4018056/avatar.png","web_url":"https://gitlab.com/alexbuijs"},"type":"ISSUE","assignee":{"id":4018056,"username":"alexbuijs","name":"Alex Buijs","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4018056/avatar.png","web_url":"https://gitlab.com/alexbuijs"},"user_notes_count":20,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352752","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352752","notes":"https://gitlab.com/api/v4/projects/278964/issues/352752/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352752/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352752","relative":"#352752","full":"gitlab-org/gitlab#352752"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102415360,"iid":352747,"project_id":278964,"title":"Date::Error exception when viewing audit logs for an invalid date","description":"### Description\n`Date::Error` exception when viewing audit logs for an invalid date. \n\n### Stacktrace\nSentry - https://sentry.gitlab.net/gitlab/gitlabcom/issues/3184876/events/?environment=gprd\n\n```ruby\nDate::Error: invalid date\n  from ee/app/controllers/concerns/audit_events/date_range.rb:14:in `parse'\n  from ee/app/controllers/concerns/audit_events/date_range.rb:14:in `set_date_range'\n  from activesupport (6.1.4.4) lib/active_support/callbacks.rb:427:in `block in make_lambda'\n  from activesupport (6.1.4.4) lib/active_support/callbacks.rb:179:in `block (2 levels) in halting_and_conditional'\n  from actionpack (6.1.4.4) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in \u003cmodule:Callbacks\u003e'\n  from activesupport (6.1.4.4) lib/active_support/callbacks.rb:180:in `block in halting_and_conditional'\n  from activesupport (6.1.4.4) lib/active_support/callbacks.rb:512:in `block in invoke_before'\n  from activesupport (6.1.4.4) lib/active_support/callbacks.rb:512:in `each'\n  from activesupport (6.1.4.4) lib/active_support/callbacks.rb:512:in `invoke_before'\n  from activesupport (6.1.4.4) lib/active_support/callbacks.rb:115:in `block in run_callbacks'\n  from ee/lib/gitlab/ip_address_state.rb:10:in `with'\n  from ee/app/controllers/ee/application_controller.rb:46:in `set_current_ip_address'\n```\n\n### Steps to reproduce\n1. Visit any of the audit logs page (instance/group/project) and supply an invalid date for either `created_before` or `created_after` parameter.\n2. For example: `https://gdk.test:3000/admin/audit_logs?created_before=2021-13-31`. Notice that the month is invalid here.\n3. Another example: `https://gdk.test:3000/admin/audit_logs?created_before=invalid-string`.\n\n### Expected behaviour\n`validate_date_params` before_action defined inside `EnforcesValidDateParams` should show the invalid date alert as shown in the image below.\n![image](/uploads/92fc3ee4c53d5bcddbdd8b96b0572e8f/image.png)","state":"closed","created_at":"2022-02-14T14:09:49.105Z","updated_at":"2022-02-16T06:38:22.795Z","closed_at":"2022-02-16T06:38:22.774Z","closed_by":{"id":9821577,"username":"huzaifaiftikhar1","name":"Huzaifa Iftikhar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9821577/avatar.png","web_url":"https://gitlab.com/huzaifaiftikhar1"},"labels":["devops::manage","group::compliance","priority::2","section::dev","severity::3","type::bug","workflow::verification"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":9821577,"username":"huzaifaiftikhar1","name":"Huzaifa Iftikhar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9821577/avatar.png","web_url":"https://gitlab.com/huzaifaiftikhar1"}],"author":{"id":9821577,"username":"huzaifaiftikhar1","name":"Huzaifa Iftikhar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9821577/avatar.png","web_url":"https://gitlab.com/huzaifaiftikhar1"},"type":"ISSUE","assignee":{"id":9821577,"username":"huzaifaiftikhar1","name":"Huzaifa Iftikhar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9821577/avatar.png","web_url":"https://gitlab.com/huzaifaiftikhar1"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352747","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352747","notes":"https://gitlab.com/api/v4/projects/278964/issues/352747/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352747/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352747","relative":"#352747","full":"gitlab-org/gitlab#352747"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102411110,"iid":352741,"project_id":278964,"title":"Remove single member add path in the members API","description":"### Task\n\nRemove the single vs multiple path in `create` members API\n\nThere should be only one path.\n\n### Follow-up Details\n\nfrom @alexpooley \n\n\u003e I suggest a further issue to consolidate the single user and multiple user code paths if one doesn't already exist.\n\nThe following discussion from !80177 should be addressed:\n\n- [ ] @dstull started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/80177#note_836192795):  (+7 comments)\n\n    \u003e @manojmj can you please review \n    \u003e \n    \u003e @dblessing also for more of a ~\"group::authentication and authorization\" review as well\n    \u003e \n    \u003e If there are no blocking issues, please pass to `@alexpooley` for final review","state":"closed","created_at":"2022-02-14T13:05:19.135Z","updated_at":"2022-02-15T01:26:36.264Z","closed_at":"2022-02-15T01:26:36.228Z","closed_by":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"labels":["devops::growth","group::acquisition","section::growth","type::feature","workflow::in dev"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"}],"author":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"type":"ISSUE","assignee":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352741","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352741","notes":"https://gitlab.com/api/v4/projects/278964/issues/352741/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352741/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352741","relative":"#352741","full":"gitlab-org/gitlab#352741"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102401039,"iid":352729,"project_id":278964,"title":"Replace Pages DNS css with gitlab-ui utility classes","description":"We can get rid of the majority of the CSS rules in `app/assets/stylesheets/pages/pages.scss` by simply applying utility classes directly to the elements.\n\nRef [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/79858#note_840088648)","state":"closed","created_at":"2022-02-14T10:52:01.712Z","updated_at":"2022-12-06T10:08:48.529Z","closed_at":"2022-12-06T10:08:48.514Z","closed_by":{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"},"labels":["auto updated","devops::manage","frontend","group::optimize","maintenance::refactor","section::dev","workflow::ready for development"],"milestone":null,"assignees":[{"id":6274425,"username":"hiddenroadss","name":"Taras Savchenko","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3e9f7491a3920bb19c908f932b3bd7bf?s=80\u0026d=identicon","web_url":"https://gitlab.com/hiddenroadss"}],"author":{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"},"type":"ISSUE","assignee":{"id":6274425,"username":"hiddenroadss","name":"Taras Savchenko","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3e9f7491a3920bb19c908f932b3bd7bf?s=80\u0026d=identicon","web_url":"https://gitlab.com/hiddenroadss"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352729","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352729","notes":"https://gitlab.com/api/v4/projects/278964/issues/352729/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352729/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352729","relative":"#352729","full":"gitlab-org/gitlab#352729"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102393100,"iid":352721,"project_id":278964,"title":"Add new cluster creation page","description":"\u003c!-- This template is a great use for issues that are feature::additions or technical tasks for larger issues.--\u003e\n\n## Proposal \n\nAdd a new page that links to the docs to create a new cluster using Terraform.\n\n### Scope\n\n1. Add a new page to point to the docs instead of the forms\n1. The integrations page would link to the generic Agent docs, while each button would link to a specific page, that supports the user to create a cluster using Terraform, with their provider of choice, in a tutorial style.","state":"closed","created_at":"2022-02-14T09:29:17.988Z","updated_at":"2022-03-28T20:06:41.556Z","closed_at":"2022-03-28T20:05:23.989Z","closed_by":{"id":9094263,"username":"anna_vovchenko","name":"Anna Vovchenko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9094263/avatar.png","web_url":"https://gitlab.com/anna_vovchenko"},"labels":["SUS::Impacting","Stretch","Technical Writing","UI text","UX","candidate::14.10","devops::configure","documentation","frontend","group::configure","section::ops","severity::4","type::feature","workflow::in dev"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":9094263,"username":"anna_vovchenko","name":"Anna Vovchenko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9094263/avatar.png","web_url":"https://gitlab.com/anna_vovchenko"}],"author":{"id":9094263,"username":"anna_vovchenko","name":"Anna Vovchenko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9094263/avatar.png","web_url":"https://gitlab.com/anna_vovchenko"},"type":"ISSUE","assignee":{"id":9094263,"username":"anna_vovchenko","name":"Anna Vovchenko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9094263/avatar.png","web_url":"https://gitlab.com/anna_vovchenko"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352721","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352721","notes":"https://gitlab.com/api/v4/projects/278964/issues/352721/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352721/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352721","relative":"#352721","full":"gitlab-org/gitlab#352721"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7510,"epic":{"id":436938,"iid":7510,"title":"Feature toggle the UI based cluster creation page","url":"/groups/gitlab-org/-/epics/7510","group_id":9970,"human_readable_end_date":"May 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102393015,"iid":352720,"project_id":278964,"title":"Split cluster creation page into two pages","description":"\u003c!-- This template is a great use for issues that are feature::additions or technical tasks for larger issues.--\u003e\n\n### Scope\n\nIn the design, there are action buttons to \n\n* Connect with Agent\n* Create a new cluster\n* Connect with certificate\n\nToday, the \"create new cluster\" and \"connect with certificate\" are on a single page, in 2 tabs. Together with the redesign, we want to split this page into 2 separate pages.\n\nThis enables us to easily add a feature flag to the \"Create new cluster\" page, and we can get rid of the UI-based cluster creation without actually removing it from the product until %\"15.0\".\n\nAfter splitting the page all the links to `/clusters/new?tab=create` and  `/clusters/new?tab=add` should be updated.\n\n```plantuml\n@startuml\n\n(*) --\u003e if \"Split page\" then\n  --\u003e \"Connect existing cluster\"\nelse\n  --\u003e \"Create new cluster\"\n  if \"new feature flag\" then\n     --\u003e [true] New page to direct the user to doc\n  else\n     --\u003e Current Create new cluster tab\n  endif\nendif\n@enduml\n```","state":"closed","created_at":"2022-02-14T09:28:35.449Z","updated_at":"2022-03-17T10:13:58.910Z","closed_at":"2022-03-17T10:13:58.880Z","closed_by":{"id":9094263,"username":"anna_vovchenko","name":"Anna Vovchenko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9094263/avatar.png","web_url":"https://gitlab.com/anna_vovchenko"},"labels":["OpsSection::needs-justification","Stretch","Technical Writing","candidate::14.9","devops::configure","documentation","frontend","group::configure","section::ops","type::feature","workflow::production"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":9094263,"username":"anna_vovchenko","name":"Anna Vovchenko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9094263/avatar.png","web_url":"https://gitlab.com/anna_vovchenko"}],"author":{"id":9094263,"username":"anna_vovchenko","name":"Anna Vovchenko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9094263/avatar.png","web_url":"https://gitlab.com/anna_vovchenko"},"type":"ISSUE","assignee":{"id":9094263,"username":"anna_vovchenko","name":"Anna Vovchenko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9094263/avatar.png","web_url":"https://gitlab.com/anna_vovchenko"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352720","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352720","notes":"https://gitlab.com/api/v4/projects/278964/issues/352720/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352720/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352720","relative":"#352720","full":"gitlab-org/gitlab#352720"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7510,"epic":{"id":436938,"iid":7510,"title":"Feature toggle the UI based cluster creation page","url":"/groups/gitlab-org/-/epics/7510","group_id":9970,"human_readable_end_date":"May 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102386663,"iid":352718,"project_id":278964,"title":"Follow-up from \"Add scan method option to DAST Site Profile\"","description":"The following discussion from !80295 should be addressed:\n\n- [ ] @agulina started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/80295#note_841388922):  (+1 comment)\n\n    \u003e **nitpick (non-blocking)**: should we create an Issue to add this one to our [Utilities](https://gitlab.com/gitlab-org/gitlab-ui/-/issues/new?issue)?","state":"closed","created_at":"2022-02-14T08:25:51.351Z","updated_at":"2022-07-21T05:26:10.660Z","closed_at":"2022-07-21T05:26:10.646Z","closed_by":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"labels":["Category:DAST","automation:ml","devops::secure","frontend","group::dynamic analysis","section::sec","type::maintenance","workflow::in review"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"}],"author":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"type":"ISSUE","assignee":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352718","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352718","notes":"https://gitlab.com/api/v4/projects/278964/issues/352718/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352718/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352718","relative":"#352718","full":"gitlab-org/gitlab#352718"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102318109,"iid":352680,"project_id":278964,"title":"Create metrics for page load where training link is generated: modal","description":"Metrics to capture:\n\n* Any finding modal or vulnerability details page load where a training link is generated (this will be used to determine engagement percentage when comparing to training links clicked)\n\n| Vulnerability Modal |\n| ------ |\n| ![image](/uploads/c5a9183bb93c160ce0e50bd4e01e3a1e/image.png) |","state":"closed","created_at":"2022-02-12T14:45:40.036Z","updated_at":"2022-03-07T17:43:29.201Z","closed_at":"2022-03-07T17:43:29.188Z","closed_by":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"labels":["[deprecated] Accepting merge requests","devops::secure","frontend","group::threat insights","section::sec","type::feature"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[],"author":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352680","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352680","notes":"https://gitlab.com/api/v4/projects/278964/issues/352680/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352680/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352680","relative":"#352680","full":"gitlab-org/gitlab#352680"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6176,"epic":{"id":287896,"iid":6176,"title":"Integrate developer security training into vulnerability management","url":"/groups/gitlab-org/-/epics/6176","group_id":9970,"human_readable_end_date":"Apr 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102316821,"iid":352679,"project_id":278964,"title":"Create metrics for training links clicked: Modal","description":"Metrics to capture:\n\n* Details about all training links clicked:\n  * The URL of the training link\n  * The GitLab page/context from which it was clicked (e.g. MR, pipeline, vulnerability details page)\n  * **Not required but very nice to have**: identifier(s) of the finding/vulnerability (follow-up issue \u003e https://gitlab.com/gitlab-org/gitlab/-/issues/353323)\n\n![2021-12-15_at_5.55_PM](/uploads/57156fed00871371c3b679999885c8d4/2021-12-15_at_5.55_PM.png)","state":"closed","created_at":"2022-02-12T14:28:16.403Z","updated_at":"2022-03-18T07:03:51.594Z","closed_at":"2022-03-07T17:44:25.907Z","closed_by":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"labels":["Deliverable","devops::secure","frontend","group::threat insights","section::sec","type::feature","workflow::ready for development"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"}],"author":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"type":"ISSUE","assignee":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352679","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352679","notes":"https://gitlab.com/api/v4/projects/278964/issues/352679/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352679/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352679","relative":"#352679","full":"gitlab-org/gitlab#352679"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6176,"epic":{"id":287896,"iid":6176,"title":"Integrate developer security training into vulnerability management","url":"/groups/gitlab-org/-/epics/6176","group_id":9970,"human_readable_end_date":"Apr 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102316772,"iid":352678,"project_id":278964,"title":"Create metrics for training links clicked: Security Config","description":"Metrics to capture:\n\n* Details about all training links clicked:\n  * The URL of the training link\n  * The GitLab page/context from which it was clicked (e.g. MR, pipeline, vulnerability details page)\n\n![2021-12-15_at_5.54_PM](/uploads/1000a3fac547b14ee9d3bc77eab1fd72/2021-12-15_at_5.54_PM.png)","state":"closed","created_at":"2022-02-12T14:27:52.186Z","updated_at":"2022-03-21T17:39:53.446Z","closed_at":"2022-03-16T22:57:31.329Z","closed_by":{"id":4155411,"username":"dpisek","name":"David Pisek","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4155411/avatar.png","web_url":"https://gitlab.com/dpisek"},"labels":["Deliverable","devops::secure","frontend","group::threat insights","section::sec","type::feature","workflow::in review"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[],"author":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352678","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352678","notes":"https://gitlab.com/api/v4/projects/278964/issues/352678/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352678/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352678","relative":"#352678","full":"gitlab-org/gitlab#352678"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6176,"epic":{"id":287896,"iid":6176,"title":"Integrate developer security training into vulnerability management","url":"/groups/gitlab-org/-/epics/6176","group_id":9970,"human_readable_end_date":"Apr 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102303927,"iid":352667,"project_id":278964,"title":"Support autocomplete suggestions in Content Editor","description":"## Problem to solve\n\nWorking with [GFM](https://gitlab.com/help/user/markdown) provides access to helpful additions for things like user mentions and issue references. The Content Editor supports displaying these references in existing documents and you can write them manually as well. But sometimes you can't remember how to spell a username, or the issue number is not how you remember the relation. In Issues and Comments, you get suggestions for completing your query, scoped to your project/group/instance. \n\n## Proposal\n\nImplement suggestions to match how they work in the issue editor. \n\n## Examples\n\n![Screen_Shot_2022-02-11_at_8.58.30_PM](https://gitlab.com/gitlab-org/gitlab/uploads/9fc32bcc69ef50a71c2cd46247788949/Screen_Shot_2022-02-11_at_8.58.30_PM.png)\n\n![Screen_Shot_2022-02-11_at_8.59.20_PM](https://gitlab.com/gitlab-org/gitlab/uploads/f2f1f730376f0b2d9f46791bab995a82/Screen_Shot_2022-02-11_at_8.59.20_PM.png)\n\n## Availability and Testing\n\nPlease ensure `package-and-qa` is run and passes in the MR. Depending on lower spec coverage, we might also benefit from testing this feature in an E2E flow, please include the counterpart SET (@jzhang_gl) in MR reviews.\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2022-02-12T01:54:57.120Z","updated_at":"2022-12-05T14:04:52.665Z","closed_at":"2022-10-12T17:50:41.962Z","closed_by":{"id":5212466,"username":"ericschurter","name":"Eric Schurter","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5212466/avatar.png","web_url":"https://gitlab.com/ericschurter"},"labels":["Content Editor","Deliverable","GitLab Free","devops::create","direction","feature::addition","frontend","group::editor","missed-deliverable","missed:15.2","missed:15.3","quad-planning::complete-action","section::dev","type::feature","workflow::ready for development"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":2398164,"username":"himkp","name":"Himanshu Kapoor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2398164/avatar.png","web_url":"https://gitlab.com/himkp"}],"author":{"id":5212466,"username":"ericschurter","name":"Eric Schurter","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5212466/avatar.png","web_url":"https://gitlab.com/ericschurter"},"type":"ISSUE","assignee":{"id":2398164,"username":"himkp","name":"Himanshu Kapoor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2398164/avatar.png","web_url":"https://gitlab.com/himkp"},"user_notes_count":12,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352667","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352667","notes":"https://gitlab.com/api/v4/projects/278964/issues/352667/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352667/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352667","relative":"#352667","full":"gitlab-org/gitlab#352667"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7560,"epic":{"id":440671,"iid":7560,"title":"Content Editor Complete Maturity","url":"/groups/gitlab-org/-/epics/7560","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":102302230,"iid":352662,"project_id":278964,"title":"Migrate actions from Markdown toolbar to Source Editor","description":"## Problem to solve\n\nThe markdown editor implemented in issues, epics, and comments as a `textarea` has functionality built in to help users write GLFM. Some of the most useful tools are the shortcuts available in the toolbar and associated keyboard shortcuts. \n\nIn order to even consider the Source Editor as a suitable replacement for the `textarea`, we need to add the same toolbar actions and related keyboard shortcuts to the Source Editor.\n\n## Proposal\n\nCreate an extension for Source Editor that can be loaded in the context of editing GLFM files and add formatting shortcuts to the toolbar and keyboard shortcuts for editing Markdown content.\n\n![Screen_Shot_2022-04-27_at_12.18.00_PM](/uploads/031ea01cdab7c6a35a7376b8f9441965/Screen_Shot_2022-04-27_at_12.18.00_PM.png)\n\n### Availability \u0026 Testing\nMake sure package-and-qa passes. Keep an eye on `qa/specs/features/browser_ui/3_create/source_editor/source_editor_toolbar_spec.rb` - and if there are any updates required for it.","state":"closed","created_at":"2022-02-11T23:49:46.387Z","updated_at":"2022-12-21T13:13:21.174Z","closed_at":"2022-12-21T13:13:21.143Z","closed_by":{"id":3199302,"username":"dmishunov","name":"Denys Mishunov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d85e45af29611ac2c1395e3c3d6ec5d6?s=80\u0026d=identicon","web_url":"https://gitlab.com/dmishunov"},"labels":["GitLab Free","Source Editor","Stretch","auto updated","devops::create","feature::enhancement","frontend","group::editor","quad-planning::complete-no-action","section::dev","type::feature"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":3199302,"username":"dmishunov","name":"Denys Mishunov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d85e45af29611ac2c1395e3c3d6ec5d6?s=80\u0026d=identicon","web_url":"https://gitlab.com/dmishunov"}],"author":{"id":5212466,"username":"ericschurter","name":"Eric Schurter","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5212466/avatar.png","web_url":"https://gitlab.com/ericschurter"},"type":"ISSUE","assignee":{"id":3199302,"username":"dmishunov","name":"Denys Mishunov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d85e45af29611ac2c1395e3c3d6ec5d6?s=80\u0026d=identicon","web_url":"https://gitlab.com/dmishunov"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352662","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352662","notes":"https://gitlab.com/api/v4/projects/278964/issues/352662/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352662/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352662","relative":"#352662","full":"gitlab-org/gitlab#352662"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4862,"epic":{"id":141956,"iid":4862,"title":"Toolbar for Source Editor","url":"/groups/gitlab-org/-/epics/4862","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":102301487,"iid":352657,"project_id":278964,"title":"SPIKE: Allow special characters to be mask when used for raw variable types","description":"### Problem to solve\n\nIn https://gitlab.com/gitlab-org/gitlab-foss/issues/13784, Gitlab delivered the capability to mask secret variables out from the logs to ensure secret AUTH data is not leaked to users and secrets/tokens are kept secret. aka \"Masked Variables\" feature.\n\nhttps://docs.gitlab.com/ee/ci/variables/#via-the-ui, specifically: https://docs.gitlab.com/ee/ci/variables/#masked-variables\n\nSince then, there have been a few (1 or 2?) iterations of missed requirements in terms of the limitations of the features for both \"disallowed characters\" and \"anti-length restrictions\".\n* https://gitlab.com/gitlab-org/gitlab-foss/issues/60790\n* https://gitlab.com/gitlab-org/gitlab-foss/issues/65938\n\nSince GitLab users can now define raw variables through [the UI](https://gitlab.com/gitlab-org/gitlab/-/issues/217309) \u0026 [YAML configuration](https://gitlab.com/gitlab-org/gitlab/-/issues/353991),  the purpose of this issue is to assess if we can also remove the special char masking restriction when users define a raw variable. \n\n\n### Proposal\n\nAs there have been further limitations identified, the purpose of this issue is to assess these special character limitations, remove them if possible, and document those that cannot be fixed (and why).\n\nAt the end of this, the goal is:\n- Allow special characters to masked if the variable is set to `raw` (expanded: false)\n\n### Testing\n\nSome characters MAY be dangerous to mask if they are special in the shell or in the backend code.\nCare must be taken to ensure masking is always safe, and no unsupported input chars can crash or corrupt.\n\n### Implementation Table\n\n| Group | Issues | Issue Link | Notes |\n| ------ | ------ | ------ | ------ |\n|~backend |Backend: Make it possible to set variables as non-expanded in CI/CD Settings \u003e Variables|https://gitlab.com/gitlab-org/gitlab/-/issues/361934| MVC |\n| ~backend | Backend:  Backend: Make it possible to set a raw variable in our syntax | https://gitlab.com/gitlab-org/gitlab/-/issues/353991 | MVC |\n| ~frontend | Frontend: Make it possible to set variables as non-expanded in CI/CD Settings \u003e Variables | https://gitlab.com/gitlab-org/gitlab/-/issues/217309 | MVC |\n| ~backend | Backend: Allow special characters to be used for raw variable types | :point_left: **You are here** | MVC |\n| ~backend | Backend: Make it possible to set variables as non-expanded in Project-\u003epipelines/new | https://gitlab.com/gitlab-org/gitlab/-/issues/362539 | TBD at a later date |\n| ~backend | Backend: Make it possible to set variables as non-expanded in Manual Job-\u003ePlay | https://gitlab.com/gitlab-org/gitlab/-/issues/362548 | TBD at a later date |\n| ~backend | Backend: Make it possible to set variables as non-expanded in Project-\u003epipeline_schedules/new | https://gitlab.com/gitlab-org/gitlab/-/issues/362549 | TBD at a later date |","state":"closed","created_at":"2022-02-11T23:07:20.749Z","updated_at":"2023-01-10T13:09:42.856Z","closed_at":"2023-01-09T15:11:08.613Z","closed_by":{"id":4059128,"username":"avielle","name":"Avielle Wolfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4059128/avatar.png","web_url":"https://gitlab.com/avielle"},"labels":["CI variables","Category:Pipeline Authoring","Category:Secrets Management","Deliverable","backend","customer","devops::verify","documentation","gh-competitive","group::pipeline authoring","section::ops","type::feature"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[{"id":4059128,"username":"avielle","name":"Avielle Wolfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4059128/avatar.png","web_url":"https://gitlab.com/avielle"}],"author":{"id":9468400,"username":"marknuzzo","name":"Mark Nuzzo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9468400/avatar.png","web_url":"https://gitlab.com/marknuzzo"},"type":"ISSUE","assignee":{"id":4059128,"username":"avielle","name":"Avielle Wolfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4059128/avatar.png","web_url":"https://gitlab.com/avielle"},"user_notes_count":41,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352657","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352657","notes":"https://gitlab.com/api/v4/projects/278964/issues/352657/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352657/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352657","relative":"#352657","full":"gitlab-org/gitlab#352657"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8209,"epic":{"id":542230,"iid":8209,"title":"Variables work for PA kickoff","url":"/groups/gitlab-org/-/epics/8209","group_id":9970,"human_readable_end_date":"May 17, 2023","human_readable_timestamp":"\u003cstrong\u003e4\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":102293193,"iid":352640,"project_id":278964,"title":"Update review guidelines for Service Ping and Snowplow","description":"### Background\n\nWe have review guidelines for ~\"product intelligence\" related MRs. These serve as a practical knowledge-transfer vehicle:\n\n- https://docs.gitlab.com/ee/development/service_ping/review_guidelines.html\n- https://docs.gitlab.com/ee/development/snowplow/review_guidelines.html\n\n### Goal\n\n1. Make sure these are up-to-date\n1. (Optional) Determine the circumstances that would involve an update in the future.","state":"closed","created_at":"2022-02-11T20:08:59.246Z","updated_at":"2022-11-14T11:31:49.871Z","closed_at":"2022-11-14T11:31:49.042Z","closed_by":{"id":4807002,"username":"mikolaj_wawrzyniak","name":"Mikoaj Wawrzyniak","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4807002/avatar.png","web_url":"https://gitlab.com/mikolaj_wawrzyniak"},"labels":["devops::analytics","documentation","group::product intelligence","product_intelligence_stale_issue","section::analytics","type::maintenance","workflow::ready for development"],"milestone":null,"assignees":[],"author":{"id":5412956,"username":"agarciatesares","name":"Axel Garca","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"},"type":"ISSUE","assignee":null,"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352640","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352640","notes":"https://gitlab.com/api/v4/projects/278964/issues/352640/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352640/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352640","relative":"#352640","full":"gitlab-org/gitlab#352640"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102286096,"iid":352617,"project_id":278964,"title":"Bulk adding members needs to consider user records as well as the ids","description":"## Problem\n\nCurrently we are observing existing members only if they are passed in as `user_ids`(integers) [here](http://gitlab.com/gitlab-org/gitlab/blob/c9bab7e435ced5745b8c2a904472fe01ae68987c/app/services/concerns/members/bulk_create_users.rb#L50-50).\n\nWe need to also check for existing users if we only send in `user` records as that is possible(not likely) via the methods that call [this](http://gitlab.com/gitlab-org/gitlab/blob/c9bab7e435ced5745b8c2a904472fe01ae68987c/app/services/concerns/members/bulk_create_users.rb#L31-31)\n\n## Solution\n\nEnhance [this](http://gitlab.com/gitlab-org/gitlab/blob/c9bab7e435ced5745b8c2a904472fe01ae68987c/app/services/concerns/members/bulk_create_users.rb#L50-50) area of the code like so\n\n```ruby\n          if user_ids.present?\n            # we should handle the idea of existing members where users are passed as users -\n            # the below will automatically discard invalid user_ids\n            users.concat(User.id_in(user_ids))\n          end\n          \n          if users.present?\n            # helps not have to perform another query per user id to see if the member exists later on when fetching\n            # also keeps from building users when one already exists\n            existing_members = source.members_and_requesters.where(user_id: users).index_by(\u0026:user_id) # rubocop:disable CodeReuse/ActiveRecord\n          end\n```","state":"closed","created_at":"2022-02-11T16:58:51.220Z","updated_at":"2022-03-16T13:46:17.265Z","closed_at":"2022-03-16T13:46:11.213Z","closed_by":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"labels":["Stretch","auto updated","devops::growth","group::acquisition","section::growth","type::maintenance","workflow::in review"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"}],"author":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"type":"ISSUE","assignee":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352617","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352617","notes":"https://gitlab.com/api/v4/projects/278964/issues/352617/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352617/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352617","relative":"#352617","full":"gitlab-org/gitlab#352617"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102281738,"iid":352611,"project_id":278964,"title":"Open redirect in pipeline artifacts when generating HTML documents","description":"**[HackerOne report #1475686](https://hackerone.com/reports/1475686)** by `joaxcar` on 2022-02-09, assigned to @mhenriksen:\n\n[Report](#report) | [Attachments](#attachments) | [How To Reproduce](#how-to-reproduce)\n\n## Report\n\n####  Summary   \nThere exist an open redirect in GitLab CI/CD artifact page. What I can see, open redirects are not out of scope, and I saw that another one got patched in the latest 14.7.1 release.\n\nWhen a pipeline in a project outputs HTML files as artifacts, these HTML files becomes viable as HTML pages under the project `pages` domain Ex. https://xep.gitlab.io/-/x/-/jobs/JOBID/artifacts/hej.html (note the gitlab.io domain not .com). This is by design, as a lot of users use this for viewing build results as webpages. As it is under the `pages` domain, I guess that XSS is not a problem here. This is all good, but when viewing the file listing of a `job` in https://gitlab.com/GROUP/PROJECT/-/jobs/JOBID/artifacts/browse all HTML files are presented as an `external link`, see image. These links do not point directly to the `pages` domain, but instead to https://gitlab.com/GROUP/PROJECT/-/jobs/JOBID/artifacts/file/hej.html . Visiting this link returns a 303 redirect to the `pages` address.\n\nThe issue with this is that a malicious user now have an official gitlab.com link that will redirect to a page at gitlab.io where the user have full control of the content. That includes JS and further redirection with `window.location`. This can be abused in multiple ways to disguise the link to trick users into clicking it.\n\nExamples\n\n1. A normal link anywhere \"Look at this in Gitlab: https://gitlab.com/GROUP/PROJECT/-/jobs/JOBID/artifacts/file/hej.html\"  \n1. A malicious upload in Markdown. Adding a link to `/uploads/anything` will render the links as a valid `atachement` in GFM. This markdown `[info.txt](/uploads/../GROUP/PROJECT/-/jobs/JOBID/artifacts/file/hej.html)` will render into an attachment link that will redirect a user to my site. This works in wikis as well.\n\n![gfm.png](https://h1.sec.gitlab.net/a/04b74451-bc12-4fd7-8650-5ee1e3dd921d/gfm.png)\n\n1. If created in a `private` or `internal` project, any user visiting the link will be shown the \"Page not found\" which will contain a link \"Login to access GitLab\". This link will put the user at the official login page with the \"follow referer\" flag set. When the user then log in, the user will immediately be redirected to https://gitlab.com/GROUP/PROJECT/-/jobs/JOBID/artifacts/file/hej.html and then to whatever the link points to. Which could be a phishing page mimicking the login page the user just visited and might be fooled to reenter credentials.\n\nThere are probably more places where a link like this could be used to mimic a regular gitlab.com URL.\n\nI took the CVSS score from the open redirect that was patched in the latest patch, but changed PR to Low as the user needs to create the file. Even though I think that this one is worse than the one in the patch. It is worth noting that the generated link shows no sign of being a redirection. A lot of times a redirect is generated like so `https://host.com?redirect=https://evil.com` which would give away that something is going on. These links just look like regular GitLab paths without a hint of where the user will end up.\n\n####  Steps to reproduce\n\n1. Log in with a user, let's call the user `user01`  \n2. Create a project from https://gitlab.com/projects/new lets call it `project01`  \n3. Create a file in the new project called hack.html containing\n\n```javascript  \n\u003cscript\u003ealert(document.domain); window.location = \"https://example.com\"\u003c/script\u003e  \n```\n\n4. Go to the CI/CD editor at https://gitlab.com/user01/project01/-/ci/editor and enter this config\n\n```yml  \ndata:  \n  script: echo hej  \n  artifacts:  \n    paths:  \n      - ./  \n    expire_in: 4 weeks  \n```\n\n5. This should also trigger the first pipeline run. Go to https://gitlab.com/user01/project01/-/jobs and find the latest job. Take a note of the Job ID.  \n6. Go to https://gitlab.com/user01/project01/-/jobs/JOBID/artifacts/browse  \n7. Copy the link from the \"hack.html\" file link.  \n8. Test to browse to the link in any window. You will first see a popup with the `pages` domain (this is so that you can see that we first land here), and when you click OK you will go to example.com\n\n####  What is the current bug behavior?  \nArtifact links point to a GitLab.com address which will redirect to a gitlab.io address\n\n####  What is the expected correct behavior?  \nThe link could point directly to the GitLab.io address\n\n####  Output of checks  \nThis bug happens on GitLab.com\n\n####  Impact\n\nOpen redirect that could be used to trick users to visit malicious sites. The links look (and are) official and contains no references to the malicious site\n\n## Attachments\n\n**Warning:** Attachments received through HackerOne, please exercise caution!\n\n* [gfm.png](https://h1.sec.gitlab.net/a/04b74451-bc12-4fd7-8650-5ee1e3dd921d/gfm.png)\n\n## Proposal \n\nJust show the contents of the file when the customer clicks on the artifact link. If I'm going to https://gitlab.com/GROUP/PROJECT/-/jobs/JOBID/artifacts/file/hej.html, I expect to see the contents of `hej.html` - not to be redirected to where that page is being hosted.","state":"closed","created_at":"2022-02-11T15:40:17.496Z","updated_at":"2022-12-21T16:55:10.889Z","closed_at":"2022-11-02T20:12:42.800Z","closed_by":{"id":4992072,"username":"dcouture","name":"Dominic Couture","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4992072/avatar.png","web_url":"https://gitlab.com/dcouture"},"labels":["Category:Pages","Deliverable","HackerOne","Weakness::CWE-601","backend","bug::vulnerability","customer","devops::create","frontend","group::editor","priority::3","section::dev","security","severity::3","type::bug","workflow::awaiting security release"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"}],"author":{"id":2741139,"username":"gitlab-securitybot","name":"GitLab SecurityBot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2741139/avatar.png","web_url":"https://gitlab.com/gitlab-securitybot"},"type":"ISSUE","assignee":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"user_notes_count":83,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2022-07-31","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352611","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352611","notes":"https://gitlab.com/api/v4/projects/278964/issues/352611/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352611/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352611","relative":"#352611","full":"gitlab-org/gitlab#352611"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102278929,"iid":352600,"project_id":278964,"title":"Define ideal user flow for MRs","description":"Design the ideal user flow first, without any UI, to anchor problem-solving in the next phases.\n\n[**:map: Mural**](https://app.mural.co/t/gitlab2474/m/gitlab2474/1646385712121/030e619a4f267e7df60b903b11d1185ba7a2c0ef)\n\n## Literature\n\n- [The Golden Path](https://designsprintkit.withgoogle.com/methodology/phase2-define/golden-path)\n\n## Research\n\n* [Synthesize prior research on MR navigation and user flow](https://gitlab.com/gitlab-org/ux-research/-/issues/1534)\n  * [Presentation](https://docs.google.com/presentation/d/1kxEPX-oCU6Re8oHfKp-WBP86ZpP09jGu4gNwP_I0iwU/edit#slide=id.g29a70c6c35_0_68)\n  * [Video walkthrough](https://www.youtube.com/watch?v=kJgTyXq7aUs)\n* [Merge Request Workflow Interviews](https://gitlab.com/gitlab-org/ux-research/-/issues/1362)\n* [Problem Validation: Merge request user journeys (Authors and Reviewers)](https://gitlab.com/gitlab-org/ux-research/-/issues/1579)\n  * [Presentation](https://docs.google.com/presentation/d/18lQ8LSfmxtIFcUWUuK2UG9NZb8FLWCdGqo-eswR0INw/edit#slide=id.g1037d94c90e_0_149)\n  * [Video walkthrough](https://docs.google.com/presentation/d/18lQ8LSfmxtIFcUWUuK2UG9NZb8FLWCdGqo-eswR0INw/edit#slide=id.g1037d94c90e_0_149)\n* [Metadata priority across different GitLab views](https://docs.google.com/presentation/d/1pc03S-YQiQDeCBBVV6Gox6uZJOoxiBxgQb1NFa7f-c8/edit#slide=id.ge39087d9b5_1_474)\n\n## Prior work\n\n- [Code review journey map](https://app.mural.co/t/gitlab2474/m/gitlab2474/1572947809514/19da300bdfcb794e8707a71d19bfd75bbfca1098) (2 years ago)\n- [Create hypothesis-based user journey maps](https://gitlab.com/groups/gitlab-org/-/epics/6964#group-user-journey-map-ujm-murals) (Dec 2021)\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2022-02-11T14:54:31.265Z","updated_at":"2022-08-10T16:24:09.288Z","closed_at":"2022-03-16T09:59:39.109Z","closed_by":{"id":626804,"username":"pedroms","name":"Pedro Moreira da Silva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c306f087d191ac15549f3c11e3bed321?s=80\u0026d=identicon","web_url":"https://gitlab.com/pedroms"},"labels":["Category:Code Review Workflow","UX","auto updated","devops::create","direction","group::code review","merge requests","section::dev"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},{"id":626804,"username":"pedroms","name":"Pedro Moreira da Silva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c306f087d191ac15549f3c11e3bed321?s=80\u0026d=identicon","web_url":"https://gitlab.com/pedroms"}],"author":{"id":626804,"username":"pedroms","name":"Pedro Moreira da Silva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c306f087d191ac15549f3c11e3bed321?s=80\u0026d=identicon","web_url":"https://gitlab.com/pedroms"},"type":"ISSUE","assignee":{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},"user_notes_count":12,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352600","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352600","notes":"https://gitlab.com/api/v4/projects/278964/issues/352600/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352600/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352600","relative":"#352600","full":"gitlab-org/gitlab#352600"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7590,"epic":{"id":448406,"iid":7590,"title":"Build case and define problem-solution space","url":"/groups/gitlab-org/-/epics/7590","group_id":9970,"human_readable_end_date":"Mar 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102278852,"iid":352598,"project_id":278964,"title":"Plan ideation workshop for restructure MRs","description":"## Purpose\n\nPlan and prepare ideation workshop with counterparts in the next milestone.\n\n## Description\n\nThere are many people with the potential to provide great feedback, but we have to keep this constrained to avoid too much feedback and an inefficient process for everyone.\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2022-02-11T14:53:13.550Z","updated_at":"2022-08-10T16:24:09.067Z","closed_at":"2022-03-18T11:07:29.083Z","closed_by":{"id":626804,"username":"pedroms","name":"Pedro Moreira da Silva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c306f087d191ac15549f3c11e3bed321?s=80\u0026d=identicon","web_url":"https://gitlab.com/pedroms"},"labels":["Category:Code Review Workflow","ThinkBIG!","UX","auto updated","devops::create","direction","group::code review","merge requests","section::dev"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},{"id":626804,"username":"pedroms","name":"Pedro Moreira da Silva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c306f087d191ac15549f3c11e3bed321?s=80\u0026d=identicon","web_url":"https://gitlab.com/pedroms"}],"author":{"id":626804,"username":"pedroms","name":"Pedro Moreira da Silva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c306f087d191ac15549f3c11e3bed321?s=80\u0026d=identicon","web_url":"https://gitlab.com/pedroms"},"type":"ISSUE","assignee":{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352598","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352598","notes":"https://gitlab.com/api/v4/projects/278964/issues/352598/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352598/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352598","relative":"#352598","full":"gitlab-org/gitlab#352598"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7590,"epic":{"id":448406,"iid":7590,"title":"Build case and define problem-solution space","url":"/groups/gitlab-org/-/epics/7590","group_id":9970,"human_readable_end_date":"Mar 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102278798,"iid":352596,"project_id":278964,"title":"Formulate problem statements for restructure MRs","description":"Aligned with https://gitlab.com/groups/gitlab-org/-/epics/5038, formulate actionable and meaningful problem statements that enable ideation.\n\n## Problem statements\n\n[** Mural**](https://app.mural.co/t/gitlab2474/m/gitlab2474/1646145583540/eca82abda7c6597090a2169b257aa60524bd4601)\n\n\u003e Navigate: How might we help Sasha navigate and triage comments, findings, and changes?\n\u003e\n\u003e Understand: How might we help Sasha find what they must see or do at their point in the code review journey?\n\n## Process\n\n1. [x] Async: Add identified problems, related to information architecture, interaction and visual design.\n1. [x] Sync: Affinity cluster problems.\n1. [x] Async: Brainstorm Points Of View (POVs), and then brainstorm How Might Wes (HMWs) for those POVs.\n   1. Use Why-How Laddering to make a problem broader (ask why) or narrower (ask how).\n1. [x] Sync: Discuss and vote.\n\n## Literature\n\n- [Define the Problem and Interpret the Results](https://www.interaction-design.org/literature/article/stage-2-in-the-design-thinking-process-define-the-problem-and-interpret-the-results)\n- [Define and Frame Your Design Challenge by Creating Your Point Of View and Ask How Might We](https://www.interaction-design.org/literature/article/define-and-frame-your-design-challenge-by-creating-your-point-of-view-and-ask-how-might-we)\n\n## Research\n\n- [Synthesize prior research on MR navigation and user flow](https://gitlab.com/gitlab-org/ux-research/-/issues/1534)\n  - [Presentation](https://docs.google.com/presentation/d/1kxEPX-oCU6Re8oHfKp-WBP86ZpP09jGu4gNwP_I0iwU/edit#slide=id.g29a70c6c35_0_68)\n  - [Video walkthrough](https://www.youtube.com/watch?v=kJgTyXq7aUs)\n- [Merge Request Workflow Interviews](https://gitlab.com/gitlab-org/ux-research/-/issues/1362)\n- [Problem Validation: Merge request user journeys (Authors and Reviewers)](https://gitlab.com/gitlab-org/ux-research/-/issues/1579)\n  - [Presentation](https://docs.google.com/presentation/d/18lQ8LSfmxtIFcUWUuK2UG9NZb8FLWCdGqo-eswR0INw/edit#slide=id.g1037d94c90e_0_149)\n  - [Video walkthrough](https://docs.google.com/presentation/d/18lQ8LSfmxtIFcUWUuK2UG9NZb8FLWCdGqo-eswR0INw/edit#slide=id.g1037d94c90e_0_149)\n- [Metadata priority across different GitLab views](https://docs.google.com/presentation/d/1pc03S-YQiQDeCBBVV6Gox6uZJOoxiBxgQb1NFa7f-c8/edit#slide=id.ge39087d9b5_1_474)\n\n## Insights\n\n###  Problems (associated with a negative experience)\n\n\u003cdetails\u003e\n\u003csummary\u003eDevelopers need to constantly refresh the MR page to get an accurate depicton of the current state of an MR\u003c/summary\u003e\n\n- [ Dovetail insight](https://dovetailapp.com/projects/3Ze0eJEuqAvmUlxisOq9E6/insights/present/2o9odXJS3tx5VK9Gl1K4YC)\n- Neither reviewers nor authors trust the information on the MR page in its current state after making any kind of change to the page (commenting, pipeline actions, using a quick action, editing the sidebar etc)\n- Having to refresh the page constantly came up with almost every single participant\n- This is the most commonly reported frustration and should be prioritzed\n- Data should be accurately reflected on the page without having to refresh\n\n\u003c/details\u003e\n\n\n\u003cdetails\u003e\n\u003csummary\u003eThe sidebars and activity can make the page feel cluttered, making code review more difficult\u003c/summary\u003e\n\n- [ Dovetail insight](https://dovetailapp.com/projects/3Ze0eJEuqAvmUlxisOq9E6/insights/present/6yoNwLNT9gX8zgwDcKnGGH)\n- We have many fixed elements on the page:\n  - The top nav\n  - The global (left) sidebar\n  - The MR sidebar\n  - The tabs (overview, commits, pipelines, changes)\n  - Compare and change preferences\n  - Each file header (on changes tab)\n  - Submit review footer (when a review is in progress)\n- All of these fixed elements leave very little room for code review, particularly on the changes tab\n- One developer mentioned wishing there was a zen mode where all you could see were the changed files\n\n\u003c/details\u003e\n\n\n\u003cdetails\u003e\n\u003csummary\u003eThere is an information overload on the overview page\u003c/summary\u003e\n- The overview, especially in the Merge Requests is overloaded with information and you can't distinguish between important and not important.\n- The sidebar includes a lot of features that not all developers need or want\n  - [Not all metadata is useful](https://docs.google.com/presentation/d/1pc03S-YQiQDeCBBVV6Gox6uZJOoxiBxgQb1NFa7f-c8/edit#slide=id.ge39087d9b5_1_474)\n- The huge list of activity makes it difficult to find things\n\n\u003c/details\u003e\n\n\n\u003cdetails\u003e\n\u003csummary\u003eMerge requests with a lot of comments/threads/activity are difficult to follow\u003c/summary\u003e\n\n- [ Dovetail insight](https://dovetailapp.com/projects/3Ze0eJEuqAvmUlxisOq9E6/insights/present/6Jfx4Fn6EkrUsQcpEW6wrG)\n- Discussions can get very lengthy and threads are not always in chronological order\n- The activity system notes are not all useful and make the discussion even longer\n- Resolved discussions are collapsed, meaning you cant easily search for comments or suggestions\n- Resolved threads for current or older diff versions appear the same\n\n\u003c/details\u003e\n\n\n\u003cdetails\u003e\n\u003csummary\u003eComments appearing across the overview tab and changes tab can be confusing\u003c/summary\u003e\n\n- [ Dovetail insight](https://dovetailapp.com/projects/3Ze0eJEuqAvmUlxisOq9E6/insights/present/2g0HCrqO2dzcoTVNZRnhb6)\n- Outdated diff comments only appear on the Overview tab\n- Comments on the overview tab can be threaded or not (threads are blocking; regular comments are not)\n- All code comments on the changes tab are blocking, and will also appear on the overview tab\n- Figuring out which comments appear where is confusing\n\n\u003c/details\u003e\n\n\n\u003cdetails\u003e\n\u003csummary\u003eLeaving threads unresolved causes confusion for other reviewers\u003c/summary\u003e\n\n- [ Dovetail insight](https://dovetailapp.com/projects/3Ze0eJEuqAvmUlxisOq9E6/insights/present/6wO82W8PWHLJcGdj0pU6UI)\n- Reviewers (maintainers) get frustrated if there are still a lot of open threads by the time it gets to them\n- It is unclear what the maintainer should do with open threads if the MR has already been approved by the users who participated in those threads\n\n\u003c/details\u003e\n\n\n\u003cdetails\u003e\n\u003csummary\u003eIt's difficult to get a quick overview of who has already approved or who still needs to approve an MR\u003c/summary\u003e\n\n- [ Dovetail insight](https://dovetailapp.com/projects/3Ze0eJEuqAvmUlxisOq9E6/insights/present/2PviyZjCvIozukp7vNrOhl)\n- If youre the last maintainer on an MR, it requires some mental gymnastics to understand if it already has all the necessary approvals\n  - We dont show which team each user belongs to, so if an MR needs approval from frontend, backend, QA, and UX, but only has 3 approvals, its up to the maintainer to figure out which approval is mapped to which group\n\n\u003c/details\u003e\n\n\n###  Problems (neutral; could be improved or acted upon)\n\n\u003cdetails\u003e\n\u003csummary\u003eThe pipelines and commits tabs on the MR page don't fit well into software developer's workflow\u003c/summary\u003e\n\n- [ Dovetail insight (Problem Validation: Merge request user journeys (Authors and Reviewers)](https://dovetailapp.com/projects/3Ze0eJEuqAvmUlxisOq9E6/insights/present/kfcbYwr4Uzdc1wcQh0go5)\n- [ Dovetail insight (Solution Validation: Changes made to pipeline index page)](https://dovetailapp.com/projects/5dIkLDWFXWJ9ZqUvq2fMPR/insights/present/4IUL3sYiuDfghtdVQXhhz0)\n- Developers are mostly concerned with the most recent pipeline (shown on the pipeline widget)\n  - If the pipeline is green, its mostly just ignored\n- However, the pipeline tab does have its uses:\n  - Maintainers need to manually kick off a pipeline for community contributions\n  - Authors may use the tab to cancel pipelines when they push multiple times within a short amount of time\n- The commits tab is rarely used by reviewers\n  - The pipeline will fail if MR doesnt meet commit message criteria, so the reviewers dont have much reason to check it\n- The tab is more useful to authors for the following reasons:\n  - a quick check to see that what you expect to see is actually there\n  - to copy the full commit message into the MR description\n\n\u003c/details\u003e\n\n\n\u003cdetails\u003e\n\u003csummary\u003eDevelopers (both authors and reviewers) would rather use quick actions than interact with the dropdowns\u003c/summary\u003e\n\n- [ Dovetail insight](https://dovetailapp.com/projects/3Ze0eJEuqAvmUlxisOq9E6/insights/present/1ScUX5SzzYOZpaXDkHPqTK)\n- Validated with GitLab team members\n- Quick actions are just that- quick\n- Quick actions fit well in both reviewers and authors workflows\n  - Reviewers add quick actions to approve, reassign, and merge (when some participants learned about the submit_review quick action, they were excited to incorporate it into their workflows)\n  - Authors use quick actions to add labels and milestones directly within the MR description\n- The sidebar dropdown options take too long to load and it feels clunky\n- Some MR authors write a comment with a request for a review, an explanation, and the /assign_reviewer quick action. They will then wait for the pipeline to pass before submitting the comment\n- One developer created an extension to Add comment when pipeline succeeds\n\n\u003c/details\u003e\n\n\n\u003cdetails\u003e\n\u003csummary\u003eDevelopers tend to ignore the report widgets, focusing mostly on pipelines, approvals, and the merge widget\u003c/summary\u003e\n\n- [ Dovetail insight](https://dovetailapp.com/projects/3Ze0eJEuqAvmUlxisOq9E6/insights/present/53mfbwZtOd5WLbn0vYPQl2)\n- In general, developers skip over all the report widgets\n  - They are not interacted with, and dont appear to be useful even in a read-only state\n- The most commonly used widget is the Pipeline widget (used by both reviewers and authors)\n  - Some reviewers (maintainers) looked at the approval widget to see what else was needed\n  - Reviewers (maintainers) use the `Merge` widget to see if its mergeable\n- They reported so many false positives in the past that developers are conditioned to ignore them completely\n  - lack of trust\n- When developers _do_ want to find information in a widget, it can be tricky to actually locate the widget on the page\n  - Widget location depends on length of description\n- (Somewhat related) Some users (in recent SUS survey verbatims) have complained about `Merge` and `Approve` being too close together that they accidentally click one when they meant to click the other\n  - This only happens on lower tiers that don't have as many widgets enabled\n\n\u003c/details\u003e\n\n\n###  Observations (feature opportunities)\n\n\u003cdetails\u003e\n\u003csummary\u003eDevelopers like to add a summary comment before handing it over to the author/additional reviewer\u003c/summary\u003e\n\n- [ Dovetail insight](https://dovetailapp.com/projects/3Ze0eJEuqAvmUlxisOq9E6/insights/present/1UqyVfKGdVjXwomQfrXpew)\n- Developers rarely simply assign a merge request to another user without writing an accompanying comment\n  - Adding a comment adds a personable, kind, human touch to the transaction (emojis are very common here)\n  - It can improve overall communication on the team\n  - Helps enforce the GitLab collaboration value People are not their work\n- When an MR author is asking for a review, a comment has the following benefits:\n  - It allows the requested reviewer an easy and personable way to back out if theyre busy; they can simply respond in thread (they are doing you a favor)\n  - The author can call out specific parts of the MR to make the review easier (see also: self-review)\n  - If assigning to multiple reviewers, author can specify certain areas for each reviewer\n  - Reviewer can more easily understand what role theyre playing (author can say something like Can you please do the maintainer review and merge if it looks good\n- When a reviewer is handing it back to the author, the comment has the following benefits:\n  - Reviewer can thank the author first, adding an element of kindness no matter how the review went\n  - Reviewer can summarize the feedback to provide high-level info at a glance\n\n\u003c/details\u003e\n\n\n\u003cdetails\u003e\n\u003csummary\u003eConventional comments help structure a code review\u003c/summary\u003e\n\n- [ Dovetail insight](https://dovetailapp.com/projects/3Ze0eJEuqAvmUlxisOq9E6/insights/present/5WVEdC6tSOrRhBzIFfhdt7)\n\n- Conventional comments are useful to organize a code review\n  - They help users get a quick glance at what the comment is about\n  - they eliminate ambiguity as to whether the comment is truly blocking or not\n  - They help non-native speakers (of whatever the chosen language is) avoid potential misunderstandings\n  - Allows reviewers to praise authors with non-blocking comments (even though technically they are blocking in GitLab)\n    - Fosters collaboration and kindness\n  - Helps form actionable comments\n- Some people use browser extensions to automatically format the prefixes\n\n\u003c/details\u003e\n\n\n\u003cdetails\u003e\n\u003csummary\u003eMR authors typically wait until the pipeline passes or until they have self-reviewed before assigning to reviewer\u003c/summary\u003e\n\n- [ Dovetail insight](https://dovetailapp.com/projects/3Ze0eJEuqAvmUlxisOq9E6/insights/present/3JpQi22nemM20C9N3HXxZ6)\n\n\u003c/details\u003e\n\n\n\u003cdetails\u003e\n\u003csummary\u003eIf an MR description isn't descriptive enough, reviewers will then check the linked issue\u003c/summary\u003e\n\n- [ Dovetail insight](https://dovetailapp.com/projects/3Ze0eJEuqAvmUlxisOq9E6/insights/present/7msLumhxCM2usuODzeet1O)\n- This one is self-explanatory and seems fairly obvious, but it could be an opportunity to include better/more details in the MR description.\n\n\u003c/details\u003e\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2022-02-11T14:52:02.988Z","updated_at":"2022-08-10T16:24:09.002Z","closed_at":"2022-03-16T09:56:43.038Z","closed_by":{"id":626804,"username":"pedroms","name":"Pedro Moreira da Silva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c306f087d191ac15549f3c11e3bed321?s=80\u0026d=identicon","web_url":"https://gitlab.com/pedroms"},"labels":["Category:Code Review Workflow","UX","auto updated","devops::create","direction","group::code review","merge requests","section::dev"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},{"id":626804,"username":"pedroms","name":"Pedro Moreira da Silva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c306f087d191ac15549f3c11e3bed321?s=80\u0026d=identicon","web_url":"https://gitlab.com/pedroms"}],"author":{"id":626804,"username":"pedroms","name":"Pedro Moreira da Silva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c306f087d191ac15549f3c11e3bed321?s=80\u0026d=identicon","web_url":"https://gitlab.com/pedroms"},"type":"ISSUE","assignee":{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352596","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":4},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"4 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352596","notes":"https://gitlab.com/api/v4/projects/278964/issues/352596/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352596/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352596","relative":"#352596","full":"gitlab-org/gitlab#352596"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7590,"epic":{"id":448406,"iid":7590,"title":"Build case and define problem-solution space","url":"/groups/gitlab-org/-/epics/7590","group_id":9970,"human_readable_end_date":"Mar 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102254464,"iid":352570,"project_id":278964,"title":"resource_group api cannot find resource with dots in it","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"type::bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=type::bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nWhen using resource_group containing one or more dots (.) API call return 404 Not found\n\nInitialy found when I tried to use ip address for resource_group.\n\nAnother interesting thing is that for one dot in resource name it returns **message**\n```\n{\"message\":\"404 Not found\"}\n```\nbut for more dots it returns **error**\n```\n{\"error\":\"404 Not Found\"}\n```\n\n### Steps to reproduce\n\nCreate job with\n\nresource_group s.imple\n\nin script section call \n```\ncurl -s --header \"PRIVATE-TOKEN: $GITLAB_API\" \"$CI_API_V4_URL/projects/$CI_PROJECT_ID/resource_groups/s.imple\n```\nit returns\n```\n{\"message\":\"404 Not found\"}\n```\n### Example Project\n\nSample project with pipelines:\n\nhttps://gitlab.com/jiri.holanek/resource_group_test\n\nFailing pipelines: https://gitlab.com/jiri.holanek/resource_group_test/-/jobs/2081525453\n\n### What is the current *bug* behavior?\n\nInstead of returning json with resource it return 404 not found\n\n### What is the expected *correct* behavior?\n\n```\n{\"id\":798176,\"key\":\"s.imple\",\"process_mode\":\"unordered\",\"created_at\":\"2022-02-11T07:04:02.174Z\",\"updated_at\":\"2022-02-11T07:04:02.174Z\"}\n```\n\n### Relevant logs and/or screenshots\n\n\u003c!-- Paste any relevant logs - please use code blocks (```) to format console output, logs, and code\n as it's tough to read otherwise. --\u003e\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\nThe [constraints on the `key` parameter](https://gitlab.com/gitlab-org/gitlab/blob/bd64a33b616b85cbffb5a2f2cae631f888af2a81/lib/api/ci/resource_groups.rb#L33-33) for the `ResourceGroups` API needs to be updated to reflect the [allowed resource group characters](https://gitlab.com/gitlab-org/gitlab/blob/bd64a33b616b85cbffb5a2f2cae631f888af2a81/app/models/ci/resource_group.rb#L12-12)\n\nFor example, Release API has [the following constraint](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/api/releases.rb#L7) to allow a dot:\n\n```ruby\n    RELEASE_ENDPOINT_REQUIREMENTS = API::NAMESPACE_OR_PROJECT_REQUIREMENTS\n      .merge(tag_name: API::NO_SLASH_URL_PART_REGEX)\n```\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e","state":"closed","created_at":"2022-02-11T07:51:32.419Z","updated_at":"2022-11-21T12:04:41.642Z","closed_at":"2022-11-09T16:33:51.987Z","closed_by":{"id":9396342,"username":"acook.gitlab","name":"Allen Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9396342/avatar.png","web_url":"https://gitlab.com/acook.gitlab"},"labels":["Category:Continuous Delivery","Deliverable","Release::P1","automation:ml","automation:ml wrong","backend-weight::1","devops::release","group::release","priority::3","section::ops","severity::3","type::bug"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":9396342,"username":"acook.gitlab","name":"Allen Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9396342/avatar.png","web_url":"https://gitlab.com/acook.gitlab"}],"author":{"id":6428864,"username":"jiri.holanek","name":"Jiri Holanek","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6595380cbb544ebbecb3565a02a4c45c?s=80\u0026d=identicon","web_url":"https://gitlab.com/jiri.holanek"},"type":"ISSUE","assignee":{"id":9396342,"username":"acook.gitlab","name":"Allen Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9396342/avatar.png","web_url":"https://gitlab.com/acook.gitlab"},"user_notes_count":8,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352570","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352570","notes":"https://gitlab.com/api/v4/projects/278964/issues/352570/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352570/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352570","relative":"#352570","full":"gitlab-org/gitlab#352570"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102252121,"iid":352566,"project_id":278964,"title":"Programmatically delete duplicate package assets.","description":"## Purpose of this issue\nI'd like to have a targeted discussion of the UX of the MVC of package cleanup policies - specifically cleanup package files. I would like to leave https://gitlab.com/gitlab-org/gitlab/-/issues/227233 as the future vision issue. I'm not sure if this is the right process, so please correct me if I'm wrong.\n\n\n## Customer problem\nAs discovered in [problem validation](https://dovetailapp.com/projects/3OuiWLJsaXTMFV2aPXrmIq/insights/present), customers want a way to manage storage used by snapshots and pre-releases. In GitLab, when a customer is working on a snapshot, they will re-upload a package with the same name and version to the registry. This essentially adds more files to an existing package in the registry. The more you update a package, the more files it accumulates, the more storage it will take. \n\n![Screen_Shot_2022-02-11_at_19.38.16](https://gitlab.com/gitlab-org/gitlab/uploads/319d1a943c93d9a647df70f74c2cba23/Screen_Shot_2022-02-11_at_19.38.16.png)\n\nFrom problem validation:\n\u003e One participant has majority Maven packages. Per sprint of 3 weeks work they work on a snapshot version; one snapshot can product 250 artifacts amounting to 13 gigs.\n\n## Design proposal :arrow_down_small: \n* Attached to this issue.\n* [Figma](https://www.figma.com/file/OCEP1esclZnGKZ26fC0PjJ/Package-settings?node-id=264%3A110362)\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2022-02-11T06:48:44.582Z","updated_at":"2022-09-22T12:56:14.319Z","closed_at":"2022-07-21T08:24:23.745Z","closed_by":{"id":11214192,"username":"rchanila","name":"Rahul Chanila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11214192/avatar.png","web_url":"https://gitlab.com/rchanila"},"labels":["Category:Package Registry","Deliverable","GitLab Free","Package:P1","UX","auto updated","backend","devops::package","direction","feature::addition","frontend","frontend-weight::2","group::package registry","section::ops","type::feature","workflow::verification"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":11214192,"username":"rchanila","name":"Rahul Chanila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11214192/avatar.png","web_url":"https://gitlab.com/rchanila"}],"author":{"id":9608331,"username":"katiemacoy","name":"Katie Macoy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9608331/avatar.png","web_url":"https://gitlab.com/katiemacoy"},"type":"ISSUE","assignee":{"id":11214192,"username":"rchanila","name":"Rahul Chanila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11214192/avatar.png","web_url":"https://gitlab.com/rchanila"},"user_notes_count":82,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352566","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352566","notes":"https://gitlab.com/api/v4/projects/278964/issues/352566/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352566/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352566","relative":"#352566","full":"gitlab-org/gitlab#352566"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5152,"epic":{"id":177448,"iid":5152,"title":"Package Registry cleanup policies MVC","url":"/groups/gitlab-org/-/epics/5152","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102248376,"iid":352562,"project_id":278964,"title":"Bypass ongoing imports in the Guard worker","description":"## Proposal\n\nThis issue originates from https://gitlab.com/gitlab-org/gitlab/-/issues/351337#note_837857367.\n\nThe [GuardWorker](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/79634) for the container registry phase 2 migration currently aborts all imports that have exceeded the `container_registry_import_max_step_duration`.\n\nIn these cases, we want to keep the container repositories in the `importing` or `pre_importing` `migration_state`s. \n\nWe should:\n\n1. Update the Guard worker to request the true status from the registry and skip aborting the import if the status is `pre_import_in_progress` or `import_in_progress`.\n1. Log when (1.) occurs so we can detect stale imports via Kibana","state":"closed","created_at":"2022-02-11T04:07:05.645Z","updated_at":"2022-02-16T17:09:10.955Z","closed_at":"2022-02-16T17:09:10.906Z","closed_by":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"labels":["Category:Container Registry","Container Registry Migration","Container Registry Migration::Phase 2","backend","devops::package","group::package registry","package:active","ruby","section::ops","type::maintenance","workflow::production"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"}],"author":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"type":"ISSUE","assignee":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"user_notes_count":4,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352562","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352562","notes":"https://gitlab.com/api/v4/projects/278964/issues/352562/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352562/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352562","relative":"#352562","full":"gitlab-org/gitlab#352562"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7316,"epic":{"id":408066,"iid":7316,"title":"Drive the Container Registry migration Phase 2 from Rails","url":"/groups/gitlab-org/-/epics/7316","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102236706,"iid":352545,"project_id":278964,"title":"Drop `:ignore_column show_diff_preview_in_email` from ProjectSettings","description":"As outlined in https://gitlab.com/gitlab-org/gitlab/-/issues/352541, this is step 3 of reverting https://gitlab.com/gitlab-org/gitlab/-/merge_requests/79229","state":"closed","created_at":"2022-02-10T23:06:18.087Z","updated_at":"2022-04-18T07:01:13.194Z","closed_at":"2022-03-21T22:44:08.419Z","closed_by":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"labels":["Category:Source Code Management","Community contribution","Deliverable","UX","backend","customer","database","devops::create","diff","emails","group::code review","notifications","section::dev","type::feature"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"}],"author":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"type":"ISSUE","assignee":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352545","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352545","notes":"https://gitlab.com/api/v4/projects/278964/issues/352545/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352545/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352545","relative":"#352545","full":"gitlab-org/gitlab#352545"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102236679,"iid":352544,"project_id":278964,"title":"Drop :show_diff_preview_in_email column from `project_settings`","description":"As outlined in https://gitlab.com/gitlab-org/gitlab/-/issues/352541, this is step 2 of reverting https://gitlab.com/gitlab-org/gitlab/-/merge_requests/79229","state":"closed","created_at":"2022-02-10T23:04:29.402Z","updated_at":"2022-02-22T19:34:16.012Z","closed_at":"2022-02-22T19:34:15.997Z","closed_by":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"labels":["Category:Source Code Management","Community contribution","UX","backend","customer","database","devops::create","diff","emails","group::code review","notifications","quad-planning::complete-no-action","section::dev","type::feature"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"}],"author":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"type":"ISSUE","assignee":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352544","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352544","notes":"https://gitlab.com/api/v4/projects/278964/issues/352544/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352544/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352544","relative":"#352544","full":"gitlab-org/gitlab#352544"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102236530,"iid":352543,"project_id":278964,"title":"Remove code for disabling diff display in emails","description":"Per https://gitlab.com/gitlab-org/gitlab/-/issues/352541, we need to revert the code merged in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/79229. This issue is for tracking the work involved in reverting the bulk of the UI code and adding the `ignore_column` directive as the first step towards removing the already merged database column.","state":"closed","created_at":"2022-02-10T22:58:48.724Z","updated_at":"2022-02-18T18:26:38.177Z","closed_at":"2022-02-18T18:26:38.161Z","closed_by":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"labels":["Category:Source Code Management","Community contribution","UX","backend","customer","database","devops::create","diff","emails","frontend","group::code review","notifications","section::dev","type::feature"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"}],"author":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"type":"ISSUE","assignee":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352543","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352543","notes":"https://gitlab.com/api/v4/projects/278964/issues/352543/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352543/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352543","relative":"#352543","full":"gitlab-org/gitlab#352543"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102236114,"iid":352541,"project_id":278964,"title":"Revert \"Add setting to not display code diffs in MR review emails\"","description":"Per @phikai in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/79229#note_836189318\n\n---\nAfter discussion in the Code Review group, we're going to revert this change and wait on some additional feedback before proceeding with a setting like this.\n\nThis decision was not easy, and something we discussed at length. I'd like to thank @joe-snyder for the bias for action and the community contribution. It's great to see and we're excited to continue to collaborate on future issues!\n\n### Why Revert?\n\nThe Code Review group is currently engaged on a [very similar issue](https://gitlab.com/gitlab-org/gitlab/-/issues/26781#proposal) related to uploads in which we debated the use of a setting. Ultimately, we believe that if organizations are setting projects to private, they have that expectation for all behavior of items that might reach users via notifications. Forcing organizations to find and then utilize a setting for this doesn't make sense when they've already implied this behavior by setting a project to private.\n\n### Can this be contributed without a setting?\n\nAt this time, we **do not** want to accept a contribution for similar functionality but without the setting. The reason for this is that we're in the middle of completing the other similar issue and want to [take community feedback](https://gitlab.com/gitlab-org/gitlab/-/issues/352294) on that prior to compounding that pattern. We're also concerned about the lost diffs in emails as they wouldn't be recoverable if we did revert the setting-less behavior.\n\n### What are the next steps?\n\n1. We're going to revert this change so that it does not make it in the packaged %14.8 release and is removed from GitLab.com.\n1. When the authorization checks for images are released, we'll [seek feedback](https://gitlab.com/gitlab-org/gitlab/-/issues/352294) on that change. We don't expect to roll that feature out widely until during %\"14.9\" and it may extend beyond that.\n1. Pending feedback we'll open this issue back up for contributions with our desired set of requirements (setting/no-setting).\n\n## Reversion Steps\n[Procedure for removing a column](https://docs.gitlab.com/ee/development/avoiding_downtime_in_migrations.html#dropping-columns)\n\n- [x] %14.8 - [Remove code and add `:ignore_column` directive](https://gitlab.com/gitlab-org/gitlab/-/issues/352543)\n- [x] %\"14.9\" - [Drop column](https://gitlab.com/gitlab-org/gitlab/-/issues/352544)\n- [x] %\"14.10\" - [Remove `:ignore_column` directive](https://gitlab.com/gitlab-org/gitlab/-/issues/352545)","state":"closed","created_at":"2022-02-10T22:41:48.109Z","updated_at":"2022-04-18T07:01:13.239Z","closed_at":"2022-03-21T22:44:42.693Z","closed_by":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"labels":["Category:Source Code Management","Community contribution","Deliverable","UX","backend","customer","database","devops::create","diff","emails","group::code review","notifications","section::dev","type::feature"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"}],"author":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"type":"ISSUE","assignee":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352541","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352541","notes":"https://gitlab.com/api/v4/projects/278964/issues/352541/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352541/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352541","relative":"#352541","full":"gitlab-org/gitlab#352541"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102233290,"iid":352528,"project_id":278964,"title":"Enable Review App button leads to deprecated documentation","description":"\u003c!-- The first section \"Release notes\" is required if you want to have your release post blog MR auto generated. Currently in BETA, details on the **release post item generator** can be found in the handbook:  https://about.gitlab.com/handbook/marketing/blog/release-posts/#release-post-item-generator and this video: https://www.youtube.com/watch?v=rfn9ebgTwKg. The next four sections: \"Problem to solve\", \"Intended users\", \"User experience goal\", and \"Proposal\", are strongly recommended in your first draft, while the rest of the sections can be filled out during the problem validation or breakdown phase. However, keep in mind that providing complete and relevant information early helps our product team validate the problem and start working on a solution. --\u003e\n\n### Release notes\n\nWhen enabling a review app, the documentation is not applicable to most review app users, and the code snippet isn't as helpful as it should be. We are replacing the instructions to be more consistent with the documentation and providing some example projects to reference while configuring your own review app.\n\n\u003c!-- What is the problem and solution you're proposing? This content sets the overall vision for the feature and serves as the release notes that will populate in various places, including the [release post blog](https://about.gitlab.com/releases/categories/releases/) and [Gitlab project releases](https://gitlab.com/gitlab-org/gitlab/-/releases). \" --\u003e\n\n### Problem to solve \n\nAs part of the [UX scorecard for Review apps](https://gitlab.com/gitlab-org/ux-research/-/issues/1630), I found that the `Enable Review app` button on the Environments page contains deprecated documentation to [add a cluster using cluster certificates](https://docs.gitlab.com/ee/user/project/clusters/add_remove_clusters.html). I was super confused if that step was even necessary. It was not in my case as I was generating a static site. I'm not sure if it is useful for other apps being deployed.\n\n\u003c!-- What problem do we solve? Try to define the who/what/why of the opportunity as a user story. For example, \"As a (who), I want (what), so I can (why/value).\" --\u003e\n\n### Intended users\n\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n\n\u003c!-- Who will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n\n* [Cameron (Compliance Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#cameron-compliance-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager)\n* [Alex (Security Operations Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#alex-security-operations-engineer)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops)\n* [Priyanka (Platform Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#priyanka-platform-engineer)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n* [Eddie (Content Editor)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#eddie-content-editor)\n--\u003e\n\n### Metrics\n\n\u003c!-- How are you going to track usage of this feature? Think about user behavior and their interaction with the product. What indicates someone is getting value from it?\n\nCreate tracking issue using the Snowplow event tracking template. See https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Snowplow%20event%20tracking.md\n\n--\u003e\n\n### User experience goal\n\nLink to updated documentation that helps the user take their first step in configuring a review app.\n\n\u003c!-- What is the single user experience workflow this problem addresses?\nFor example, \"The user should be able to use the UI/API/.gitlab-ci.yml with GitLab to \u003cperform a specific task\u003e\"\nhttps://about.gitlab.com/handbook/engineering/ux/ux-research-training/user-story-mapping/ --\u003e\n\n\n### Proposal\n\n See [designs in design management](https://gitlab.com/gitlab-org/gitlab/-/issues/352528/designs/Enable-review-app-proposed.png) (I've added the full text \u0026 links to the thread in there too)\n\n [Figma](https://www.figma.com/file/nv2D7S8Q8uEmDXNqUHUfUG/%23343267---Review-app-UX-improvements?node-id=301%3A21090)\n\nGeneral summary of changes:\n- Add a description of what review apps are\n- Remove the step by step instructions, and replace with general review app configuration steps\n- Add example configuration projects and link out to them\n- Add a link to view all example projects with review apps\n\nWhere changes will be made:\n- in the modal: [`~/environments/components/enable_review_app_modal.vue`](https://gitlab.com/gitlab-org/gitlab/blob/master/app/assets/javascripts/environments/components/enable_review_app_modal.vue)\n- in the tests for the modal: [`spec/frontend/environments/enable_review_app_modal_spec.js`](https://gitlab.com/gitlab-org/gitlab/blob/master/spec/frontend/environments/enable_review_app_modal_spec.js)\n\n\u003c!-- How are we going to solve the problem? Try to include the user journey! https://about.gitlab.com/handbook/journeys/#user-journey --\u003e\n\n### Further details\n\n\u003c!-- Include use cases, benefits, goals, or any other details that will help us understand the problem better. --\u003e\n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?\nConsider adding checkboxes and expectations of users with certain levels of membership https://docs.gitlab.com/ee/user/permissions.html\n* [ ] Add expected impact to members with no access (0)\n* [ ] Add expected impact to Guest (10) members\n* [ ] Add expected impact to Reporter (20) members\n* [ ] Add expected impact to Developer (30) members\n* [ ] Add expected impact to Maintainer (40) members\n* [ ] Add expected impact to Owner (50) members \n\nPlease consider performing a threat model for the code changes that are introduced as part of this feature. To get started, refer to our Threat Modeling handbook page https://about.gitlab.com/handbook/security/threat_modeling/#threat-modeling. \n\nDon't hesitate to reach out to the Application Security Team (`@gitlab-com/gl-security/appsec`) to discuss any security concerns.\n--\u003e\n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/workflow.html#for-a-product-change\n\n* Add all known Documentation Requirements in this section. See https://docs.gitlab.com/ee/development/documentation/workflow.html\n* If this feature requires changing permissions, update the permissions document. See https://docs.gitlab.com/ee/user/permissions.html --\u003e\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\n### Available Tier\n\n\u003c!-- This section should be used for setting the appropriate tier that this feature will belong to. Pricing can be found here: https://about.gitlab.com/pricing/\n\n* Free\n* Premium/Silver\n* Ultimate/Gold\n--\u003e\n\n### What does success look like, and how can we measure that?\n\n\u003c!--\nDefine both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this.\n\nCreate tracking issue using the Snowplow event tracking template. See https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Snowplow%20event%20tracking.md\n--\u003e\n\n### What is the type of buyer?\n\n\u003c!-- What is the buyer persona for this feature? See https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/buyer-persona/\nIn which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#three-tiers --\u003e\n\n### Is this a cross-stage feature?\n\n\u003c!-- Communicate if this change will affect multiple Stage Groups or product areas. We recommend always start with the assumption that a feature request will have an impact into another Group. Loop in the most relevant PM and Product Designer from that Group to provide strategic support to help align the Group's broader plan and vision, as well as to avoid UX and technical debt. https://about.gitlab.com/handbook/product/#cross-stage-features --\u003e\n\n### Links / references\n\n\u003c!-- Label reminders - you should have one of each of the following labels.\nUse the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n--\u003e\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2022-02-10T21:06:31.160Z","updated_at":"2022-11-14T17:10:10.863Z","closed_at":"2022-10-31T15:01:30.484Z","closed_by":{"id":9302527,"username":"gdoyle","name":"Gina Doyle","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9302527/avatar.png","web_url":"https://gitlab.com/gdoyle"},"labels":["Actionable Insight::Product change","Category:Review Apps","GitLab Free","SUS::Impacting","Technical Writing","UX","UX scorecard-rec","[deprecated] Accepting merge requests","closed::complete","devops::verify","direction","documentation","feature::enhancement","frontend","group::pipeline insights","section::ops","severity::4","type::feature","workflow::ready for development"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":9302527,"username":"gdoyle","name":"Gina Doyle","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9302527/avatar.png","web_url":"https://gitlab.com/gdoyle"},"type":"ISSUE","assignee":null,"user_notes_count":20,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352528","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352528","notes":"https://gitlab.com/api/v4/projects/278964/issues/352528/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352528/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352528","relative":"#352528","full":"gitlab-org/gitlab#352528"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5918,"epic":{"id":262883,"iid":5918,"title":"Improve Review Apps UX","url":"/groups/gitlab-org/-/epics/5918","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102232963,"iid":352526,"project_id":278964,"title":"[Feature flag] Cleanup invite_members_group_modal","description":"\u003c!-- Title suggestion: [Feature flag] Cleanup \u003cfeature-flag-name\u003e --\u003e\n\n## Summary\n\nThis issue is to cleanup the `invite_members_group_modal ` feature flag, after the feature flag has been enabled by default for an appropriate amount of time in production.\n\nThis feature moves the member/group invite experience from a form interaction into a modal, which will give us more flexibility to prompt member/group invitations from a broad spectrum of locations in the product at timely moments in the user journey and limit the disruption users experience today when they need to invite a member or group to a project/group. \n\nThe feature has been rolled out to 100% on SaaS as of [2022-01-31](https://gitlab.com/gitlab-org/gitlab/-/issues/247208#note_826832350) and will roll forward to SM on 2022-02-22.\n\n## Owners\n\n- Team: ~\"group::expansion\" \n- Most appropriate slack channel to reach out to: `#g_expansion`\n- Best individual to reach out to: @dstull \n- PM: @gdoud \n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- @hsutor ~\"group::authentication and authorization\" \n- The Support Team\n- The Delivery Team\n--\u003e\n\n## Expectations\n\n### What might happen if this goes wrong?\n\n\u003c!-- Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\n### Cleaning up the feature flag\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [x] Create a merge request to remove `invite_members_group_modal` feature flag. Ask for review and merge it.\n    - [x] Remove all references to the feature flag from the codebase.\n       - there are changes in the `/qa` directory here to enable the feature flag that can be removed as well.\n    - [x] Remove the YAML definitions for the feature from the repository.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [x] Ensure that the cleanup MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-cleanup-mr\u003e`\n- [x] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [x] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [x] `/chatops run feature delete invite_members_group_modal --dev`\n    - [x] `/chatops run feature delete invite_members_group_modal --staging`\n    - [x] `/chatops run feature delete invite_members_group_modal`\n- [x] Close this rollout issue.","state":"closed","created_at":"2022-02-10T20:56:02.946Z","updated_at":"2022-05-17T13:21:36.718Z","closed_at":"2022-03-22T13:11:33.970Z","closed_by":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"labels":["DEPRECATED Growth-Deliverable","cleanup","devops::growth","feature flag","feature::addition","group::acquisition","missed:14.9","section::growth","type::feature","workflow::in review"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"}],"author":{"id":9347704,"username":"gdoud","name":"Gayle Doud","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9347704/avatar.png","web_url":"https://gitlab.com/gdoud"},"type":"ISSUE","assignee":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352526","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":12,"completed_count":12},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"12 of 12 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352526","notes":"https://gitlab.com/api/v4/projects/278964/issues/352526/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352526/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352526","relative":"#352526","full":"gitlab-org/gitlab#352526"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102227000,"iid":352518,"project_id":278964,"title":"Build .test_durations file in scheduled pipeline every month","description":"### Problem\n\nThe worker-entry tests use a file `.test_durations` that contains test times in order to balance the runners. The file will get out of date over time making the split of tests less efficient.\n\n### Proposal\n\nCreate a scheduled pipeline that generates the file and checks it in.","state":"closed","created_at":"2022-02-10T19:05:02.484Z","updated_at":"2022-09-30T20:39:30.094Z","closed_at":"2022-09-30T20:39:30.073Z","closed_by":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"labels":["Category:API Security","GitLab Ultimate","backend","devops::secure","group::dynamic analysis","maintenance::pipelines","section::sec","type::maintenance","workflow::production"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"}],"author":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"type":"ISSUE","assignee":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352518","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352518","notes":"https://gitlab.com/api/v4/projects/278964/issues/352518/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352518/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352518","relative":"#352518","full":"gitlab-org/gitlab#352518"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102224648,"iid":352516,"project_id":278964,"title":"Password hashing uses bcrypt","description":"From another issue, it appears that GitLab uses `bcrypt` for hashing passwords. This appears to be generally strong, however it appears it is not in the list of FIPS approved algorithms: https://www.elastic.co/blog/configuring-elasticsearch-in-a-fips-140-2-environment\n\nWhile others should validate this, the logic seems to be:\n\n1. 140-2 does not include password hashing algorithms\n1. bcrypt uses blowfish, which is not validated, therefore not FIPS 140-2 approved\n1. You can use PBKDF2, which supports a variety of hashes, such as SHA-2 which is approved\n\n## Proposal\n\n1. introduce a DB new column to store encryptor type (currently `brcypt`)\n2. during successful login:\n    - if encryptor type is `bcrypt`, update the password to store as `SHA512`\n3. after a transitional period, force password resets for users still having `bcrypt` password","state":"closed","created_at":"2022-02-10T18:14:13.035Z","updated_at":"2022-07-26T08:31:37.477Z","closed_at":"2022-04-27T10:22:36.403Z","closed_by":{"id":1315784,"username":"ifarkas","name":"Imre Farkas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b4dcfa5185b8513751b447d76b069bf6?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifarkas"},"labels":["Category:Authentication and Authorization","FIPS","auto updated","candidate::15.1","devops::manage","group::authentication and authorization","section::dev","type::feature","workflow::ready for development"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[],"author":{"id":926632,"username":"joshlambert","name":"Joshua Lambert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a0bdc5209b11e9c0953f80234dcb4ffb?s=80\u0026d=identicon","web_url":"https://gitlab.com/joshlambert"},"type":"ISSUE","assignee":null,"user_notes_count":28,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352516","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352516","notes":"https://gitlab.com/api/v4/projects/278964/issues/352516/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352516/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352516","relative":"#352516","full":"gitlab-org/gitlab#352516"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7500,"epic":{"id":435226,"iid":7500,"title":"Dev section FIPS Compliance - Misc.","url":"/groups/gitlab-org/-/epics/7500","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102220586,"iid":352511,"project_id":278964,"title":"Unable to delete projects because of \"PG::QueryCanceled:\" DELETE FROM ONLY ...\" errors","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"type::bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=type::bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nA user tried to delete a project 4 times and got `PG::QueryCanceled` error messages:\n\n```\nDeletion failed on group/subgroup/project with the following message: PG::QueryCanceled: ERROR:  canceling statement due to statement timeout\nCONTEXT:  SQL statement \"DELETE FROM ONLY \"public\".\"approval_merge_request_rules_users\" WHERE $1 OPERATOR(pg_catalog.=) \"approval_merge_request_rule_id\"\"\n```\n\n```\nDeletion failed on group/subgroup/project with the following message: PG::QueryCanceled: ERROR:  canceling statement due to statement timeout\nCONTEXT:  SQL statement \"DELETE FROM ONLY \"public\".\"merge_request_diffs\" WHERE $1 OPERATOR(pg_catalog.=) \"merge_request_id\"\"\n```\n\n```\nDeletion failed on group/subgroup/project with the following message: PG::QueryCanceled: ERROR:  canceling statement due to statement timeout\nCONTEXT:  SQL statement \"DELETE FROM ONLY \"public\".\"merge_request_diff_details\" WHERE $1 OPERATOR(pg_catalog.=) \"merge_request_diff_id\"\"\n```\n\n```\nDeletion failed on group/subgroup/project with the following message: PG::QueryCanceled: ERROR:  canceling statement due to statement timeout\nCONTEXT:  SQL statement \"DELETE FROM ONLY \"public\".\"merge_request_cleanup_schedules\" WHERE $1 OPERATOR(pg_catalog.=) \"merge_request_id\"\"\n```\n\nReported by the customer in ZenDesk ticket https://gitlab.zendesk.com/agent/tickets/267662 \\[internal\\].\n\nSimilar issue, with the same symptoms: https://gitlab.com/gitlab-org/gitlab/-/issues/331947\n\nI also think this is related to this epic: https://gitlab.com/groups/gitlab-org/-/epics/7171\n\n\u003c!-- Summarize the bug encountered concisely. --\u003e\n\n### Steps to reproduce\n\n\u003c!-- Describe how one can reproduce the issue - this is very important. Please use an ordered list. --\u003e\n\nUnknown\n\n### Example Project\n\n\u003c!-- If possible, please create an example project here on GitLab.com that exhibits the problematic \nbehavior, and link to it here in the bug report. If you are using an older version of GitLab, this \nwill also determine whether the bug is fixed in a more recent version. --\u003e\n\n### What is the current *bug* behavior?\n\n\u003c!-- Describe what actually happens. --\u003e\nAfter confirming project removal, a blue banner appears at the top that says it is in the process of being deleted. The project is not deleted after that. The repository is gone, however.\n\n### What is the expected *correct* behavior?\n\n\u003c!-- Describe what you should see instead. --\u003e\nThe project should be completely removed.\n\n### Relevant logs and/or screenshots\n\n\u003c!-- Paste any relevant logs - please use code blocks (```) to format console output, logs, and code\n as it's tough to read otherwise. --\u003e\n\nhttps://log.gprd.gitlab.net/goto/150f4a10-8a90-11ec-a649-b7cbb8e4f62e\n\nhttps://log.gprd.gitlab.net/goto/23b7bb10-8a90-11ec-a649-b7cbb8e4f62e\n\nhttps://log.gprd.gitlab.net/goto/370fd170-8a90-11ec-9dd2-93d354bef8e7\n\nhttps://log.gprd.gitlab.net/goto/41d9a8b0-8a90-11ec-a649-b7cbb8e4f62e\n\n\n### Output of checks\n\nThis bug happens on GitLab.com\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Workaround\n\nDelete via console (yet to confirm)\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e\n\n# Customers\n- https://gitlab.zendesk.com/agent/tickets/293651\n-","state":"closed","created_at":"2022-02-10T16:43:38.876Z","updated_at":"2022-09-27T11:36:44.147Z","closed_at":"2022-09-09T09:28:31.867Z","closed_by":{"id":421631,"username":"vyaklushin","name":"Vasilii Iakliushin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/421631/avatar.png","web_url":"https://gitlab.com/vyaklushin"},"labels":["Category:Source Code Management","Deliverable","approaching-SLO","backend","bug::functional","customer","devops::create","group::source code","missed-SLO","priority::2","section::dev","severity::2","type::bug","workflow::verification"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":421631,"username":"vyaklushin","name":"Vasilii Iakliushin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/421631/avatar.png","web_url":"https://gitlab.com/vyaklushin"}],"author":{"id":7779148,"username":"b_freitas","name":"Bruno Freitas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7779148/avatar.png","web_url":"https://gitlab.com/b_freitas"},"type":"ISSUE","assignee":{"id":421631,"username":"vyaklushin","name":"Vasilii Iakliushin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/421631/avatar.png","web_url":"https://gitlab.com/vyaklushin"},"user_notes_count":21,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352511","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352511","notes":"https://gitlab.com/api/v4/projects/278964/issues/352511/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352511/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352511","relative":"#352511","full":"gitlab-org/gitlab#352511"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7171,"epic":{"id":390210,"iid":7171,"title":"On GitLab.com, the `GroupDestroyWorker` sidekiq job has about a 10% failure rate","url":"/groups/gitlab-org/-/epics/7171","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102214791,"iid":352506,"project_id":278964,"title":"Configure Sentry for Staging Ref","description":"Engineers may use Sentry to debug failures on Staging Ref. The issue is to explore adding this support per suggestion in https://gitlab.com/gitlab-org/gitlab/-/issues/351816#note_837851531.\n\n- [x] Create Sentry project for Staging Ref - https://sentry.gitlab.net/gitlab/staging-ref/\n- [x] Add Sentry project configs [to GitLab Charts](https://docs.gitlab.com/charts/charts/globals.html#sentry-settings) - https://gitlab.com/gitlab-org/quality/gitlab-environment-toolkit-configs/staging-ref/-/merge_requests/62\n- [x] Update docs with the link to Sentry - https://gitlab.com/gitlab-com/www-gitlab-com/-/merge_requests/99158","state":"closed","created_at":"2022-02-10T15:04:53.491Z","updated_at":"2022-09-13T15:44:18.214Z","closed_at":"2022-02-18T18:02:46.591Z","closed_by":{"id":4477602,"username":"niskhakova","name":"Nailia Iskhakova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477602/avatar.png","web_url":"https://gitlab.com/niskhakova"},"labels":["Eng-Producer::Infrastructure","Engineering Allocation","staging-improvements","type::maintenance"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":136229,"username":"cindy","name":"Cindy Pallares ","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/136229/avatar.png","web_url":"https://gitlab.com/cindy"},{"id":4477602,"username":"niskhakova","name":"Nailia Iskhakova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477602/avatar.png","web_url":"https://gitlab.com/niskhakova"}],"author":{"id":4477602,"username":"niskhakova","name":"Nailia Iskhakova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477602/avatar.png","web_url":"https://gitlab.com/niskhakova"},"type":"ISSUE","assignee":{"id":136229,"username":"cindy","name":"Cindy Pallares ","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/136229/avatar.png","web_url":"https://gitlab.com/cindy"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352506","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352506","notes":"https://gitlab.com/api/v4/projects/278964/issues/352506/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352506/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352506","relative":"#352506","full":"gitlab-org/gitlab#352506"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102212885,"iid":352505,"project_id":278964,"title":"Remove Static Site Editor code","description":"## Goal\n\nWith the [deprecation of the Static Site Editor](https://gitlab.com/gitlab-org/gitlab/-/issues/347137) in %\"14.7\" we can move ahead with removing it entirely from the codebase. This would include removing the dependency on ToastUI as well.\n\n### Availability and Testing\n\nPlease run `package-and-qa` job in MR for regression purposes","state":"closed","created_at":"2022-02-10T14:34:30.766Z","updated_at":"2022-06-21T12:02:14.339Z","closed_at":"2022-06-07T16:35:42.657Z","closed_by":{"id":5212466,"username":"ericschurter","name":"Eric Schurter","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5212466/avatar.png","web_url":"https://gitlab.com/ericschurter"},"labels":["Deliverable","GitLab Free","Technical Writing","auto updated","backend","devops::create","docs::feature","documentation","frontend","group::editor","quad-planning::complete-action","section::dev","type::maintenance","workflow::in review"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":4985794,"username":"cwoolley-gitlab","name":"Chad Woolley","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4cf06f1fc667817854991b558103a9e2?s=80\u0026d=identicon","web_url":"https://gitlab.com/cwoolley-gitlab"}],"author":{"id":5212466,"username":"ericschurter","name":"Eric Schurter","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5212466/avatar.png","web_url":"https://gitlab.com/ericschurter"},"type":"ISSUE","assignee":{"id":4985794,"username":"cwoolley-gitlab","name":"Chad Woolley","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4cf06f1fc667817854991b558103a9e2?s=80\u0026d=identicon","web_url":"https://gitlab.com/cwoolley-gitlab"},"user_notes_count":19,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352505","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352505","notes":"https://gitlab.com/api/v4/projects/278964/issues/352505/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352505/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352505","relative":"#352505","full":"gitlab-org/gitlab#352505"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7351,"epic":{"id":415906,"iid":7351,"title":"Remove Static Site Editor","url":"/groups/gitlab-org/-/epics/7351","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102212378,"iid":352503,"project_id":278964,"title":"License upload form doesn't update submit button state when user navigates back","description":"Steps to reproduce:\n\n- open `/admin/license/new`\n- choose \"Enter license key\" option and enter a random value there\n- check the terms checkbox  this will enable form submission\n- click the \"Upload license button\"  this will trigger a page reload and will display error that something is wrong with the license key\n- click browser back button  you will see that the terms checkbox is checked but the submit button is disabled\n\nThis is probably related to [BFCache](https://web.dev/bfcache/) and can be fixed with one of the following ways:\n\n- use `autocomplete=\"off\"` on the form\n- listen to 'pageshow' event and react to it \n\n\u003cdetails\u003e\n\u003cpre\u003e\nwindow.addEventListener('pageshow', (event) =\u003e {\n  if (event.persisted) {\n    showLicenseType();\n    toggleUploadLicenseButton();\n  }\n});\n\u003c/pre\u003e\n\u003c/details\u003e\n\n\n- migrating the form to Vue should probably exempt it from the caching. Related issue: https://gitlab.com/gitlab-org/gitlab/-/issues/352501\n\nMore details at https://stackoverflow.com/questions/8861181/clear-all-fields-in-a-form-upon-going-back-with-browser-back-button\n\nThis patch contains two first approaches to fix the issue (it only makes sense to pick one of them):\n\n[issue-352503.patch](/uploads/6e42393b8aa011ce1965e60c129a361b/issue-352503.patch)\n\nThis issue was [recorded and reported](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/77363#note_837040589) by @mlunoe, here's the original recording:\n\n![Screen_Recording_2022-02-08_at_13.47.33](/uploads/9a8366cd2a7cde9e0d626b4a0bc067b6/Screen_Recording_2022-02-08_at_13.47.33.gif)","state":"closed","created_at":"2022-02-10T14:26:08.730Z","updated_at":"2022-06-30T22:32:37.210Z","closed_at":"2022-05-20T11:03:41.756Z","closed_by":{"id":4961018,"username":"mlunoe","name":"Michael Lune","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4961018/avatar.png","web_url":"https://gitlab.com/mlunoe"},"labels":["Strictly Cloud License","[deprecated] Accepting merge requests","[deprecated] Category:Provision","auto updated","devops::fulfillment","frontend","group::provision","section::fulfillment","type::maintenance","workflow::production"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":4961018,"username":"mlunoe","name":"Michael Lune","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4961018/avatar.png","web_url":"https://gitlab.com/mlunoe"}],"author":{"id":10373497,"username":"kpalchyk","name":"Kos Palchyk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10373497/avatar.png","web_url":"https://gitlab.com/kpalchyk"},"type":"ISSUE","assignee":{"id":4961018,"username":"mlunoe","name":"Michael Lune","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4961018/avatar.png","web_url":"https://gitlab.com/mlunoe"},"user_notes_count":3,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352503","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352503","notes":"https://gitlab.com/api/v4/projects/278964/issues/352503/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352503/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352503","relative":"#352503","full":"gitlab-org/gitlab#352503"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102208572,"iid":352500,"project_id":278964,"title":"Add support for Dark Mode to the Merge Requests illustration","description":"Relates to: https://gitlab.com/gitlab-org/gitlab/-/issues/330195\n\nMerge Requests page has an illustration when it is in an empty state. This illustration doesn't support Dark Mode right now.\n\n![image](/uploads/243a98ca2a454977eff7323f9aef89f6/image.png)\n\nThis illustration is part of a [`@gitlab/svgs` npm package](https://gitlab.com/gitlab-org/gitlab-svgs). It's loaded from an `illustrations/merge_requests.svg` path.\n\nImportant consideration: this illustration is lazy-loaded as an image using an `img` tag. That means it **can not** use CSS Custom Properties defined on the page that set colors for Dark Mode.\n\nThere are multiple ways to solve that:\n\n- Inline SVG. That'd increase served HTML size and prohibit us from caching this asset on this page. Also might impact some of the Core Web Vitals metrics, since it's not lazy-loaded anymore.\n- Change `img` to `svg` with `use` tag. That would mean that the illustration source should be served from the same origin as the page. SVGs do not work cross-origin unfortunately.\n- Use a hash to display a Dark Mode version of the asset (`merge_request.svg#dark_mode`). This implies the stylesheets are embedded within the SVG.\n- Use some JavaScript-based solution. Can be used if nothing else works out.\n- Some other path not listed here...","state":"closed","created_at":"2022-02-10T13:30:09.941Z","updated_at":"2022-05-24T12:00:24.693Z","closed_at":"2022-04-20T15:51:48.011Z","closed_by":{"id":10539680,"username":"slashmanov","name":"Stanislav Lashmanov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10539680/avatar.png","web_url":"https://gitlab.com/slashmanov"},"labels":["Deliverable","SUS::Impacting","UI polish","UX","darkmode","devops::create","feature::enhancement","frontend","group::code review","merge requests","missed-deliverable","missed:14.9","section::dev","severity::4","type::feature","workflow::in review"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":10539680,"username":"slashmanov","name":"Stanislav Lashmanov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10539680/avatar.png","web_url":"https://gitlab.com/slashmanov"}],"author":{"id":10539680,"username":"slashmanov","name":"Stanislav Lashmanov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10539680/avatar.png","web_url":"https://gitlab.com/slashmanov"},"type":"ISSUE","assignee":{"id":10539680,"username":"slashmanov","name":"Stanislav Lashmanov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10539680/avatar.png","web_url":"https://gitlab.com/slashmanov"},"user_notes_count":22,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352500","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352500","notes":"https://gitlab.com/api/v4/projects/278964/issues/352500/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352500/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352500","relative":"#352500","full":"gitlab-org/gitlab#352500"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102206563,"iid":352495,"project_id":278964,"title":"Query related epics of an epic","description":"Related to https://gitlab.com/gitlab-org/gitlab/-/issues/202431.\n\nSimilarly to [`Issue#related_issues`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/models/issue.rb#L440), we need to be able to query all epics related to a given epic.\n\n#### Requirements\n\n1. Check for the user's permissions to read them\nWe could implement a new method `Ability.epics_readable_by_user` that iterates every epic with [`readable_by?(user)`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/models/application_record.rb#L118). Similarly to [`Ability.issues_readable_by_user`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/models/issue.rb#L457).\n\nAs with most permission checks, the **performance impact** is a concern and should be evaluated.\n\nConsider comments in the [original discussion](https://gitlab.com/gitlab-org/gitlab/-/issues/351597#note_838361958) by `@jprovaznik`:\n\n\u003cdetails\u003e\u003csummary\u003eClick to expand\u003c/summary\u003e\n\n\u003e I think the most probable impact is there will be an N+1 issue when checking permission for each of the target epic, but given that this should be a small number (similar as for related issues), I think it's acceptable.\n\n\u003e If I try something like this:\n\n\u003e ```\n\u003e DeclarativePolicy.user_scope do\n\u003e   Epic.all.preload(:group).select { |epic| Ability.allowed?(user, \"read_epic\", epic) }\n\u003e end\n\u003e ```\n\n\u003e Then the only N+1 query I hit locally is:\n\n\u003e ```\n\u003e   SamlProvider Load (0.2ms)  SELECT \"saml_providers\".* FROM \"saml_providers\" WHERE \"saml_providers\".\"group_id\" = 28 \u003e LIMIT 1 /*application:console,db_config_name:main,line:/ee/app/models/ee/group.rb:202:in `block in root_saml_provider'*/\n\u003e ```\n\n\u003e But there is not much we can do about this one.\n\u003c/details\u003e\n\n2. Update the number of blocking epics of an epic when this number changes (see [`EE::Issue#update_blocking_issues_count!`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/models/ee/issue.rb#L215))\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2022-02-10T13:02:05.753Z","updated_at":"2022-03-18T07:00:46.340Z","closed_at":"2022-03-07T13:49:35.201Z","closed_by":{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"},"labels":["Deliverable","Next Up","backend","devops::plan","direction","group::product planning","section::dev","type::feature","workflow::verification"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"}],"author":{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"},"type":"ISSUE","assignee":{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352495","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352495","notes":"https://gitlab.com/api/v4/projects/278964/issues/352495/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352495/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352495","relative":"#352495","full":"gitlab-org/gitlab#352495"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7546,"epic":{"id":439603,"iid":7546,"title":"Add support for epic to epic linking - MVC 1","url":"/groups/gitlab-org/-/epics/7546","group_id":9970,"human_readable_end_date":"Mar 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102205492,"iid":352493,"project_id":278964,"title":"Add REST API endpoint to list related epics","description":"Related to https://gitlab.com/gitlab-org/gitlab/-/issues/351597.\n\nWe need a new REST endpoint (similar to the one used by [Issue Links API](https://docs.gitlab.com/ee/api/issue_links.html#issue-links-api)) to list related epics. \n\nWe already have [API resources](https://docs.gitlab.com/ee/api/epic_links.html) that use the term `links` and are reserved for parent-child epic hierarchy, so we need to use different naming matching the other resources for this feature (TBC, see https://gitlab.com/gitlab-org/gitlab/-/issues/351597#note_837691210).\n\nExample endpoint\n\n```ruby\nGET /api/:version/groups/:id/epics/:epic_iid/related_epics\n```\n\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\nThis feature would be developed behind a ~\"feature flag\" and needs to perform license checks (implemented in https://gitlab.com/gitlab-org/gitlab/-/issues/352439)\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2022-02-10T12:42:58.139Z","updated_at":"2022-03-18T07:00:46.449Z","closed_at":"2022-03-16T14:41:55.179Z","closed_by":{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"},"labels":["Category:API","Deliverable","GitLab Ultimate","Next Up","backend","devops::plan","direction","documentation","feature flag","group::product planning","section::dev","type::feature","workflow::verification"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"}],"author":{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"},"type":"ISSUE","assignee":{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352493","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352493","notes":"https://gitlab.com/api/v4/projects/278964/issues/352493/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352493/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352493","relative":"#352493","full":"gitlab-org/gitlab#352493"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7546,"epic":{"id":439603,"iid":7546,"title":"Add support for epic to epic linking - MVC 1","url":"/groups/gitlab-org/-/epics/7546","group_id":9970,"human_readable_end_date":"Mar 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102202898,"iid":352486,"project_id":278964,"title":"Add services to support epic dependencies","description":"Related to https://gitlab.com/gitlab-org/gitlab/-/issues/202431.\n\n\nAdd new `ListService`, `CreateService` and `DestroyService` that inherit from `IssuableLinks` and replicate logic in `IssueLinks::ListService`, `IssueLinks::CreateService` and `IssueLinks::DestroyService` respectively.\n\nGiven that we already have services called `EpicLinks`, we need to use different naming matching the other resources for this feature. Proposed to use `related_epics` (see https://gitlab.com/gitlab-org/gitlab/-/issues/351597#note_837691210)\n\nThe services must contain a license check for `related_epics` (~\"GitLab Ultimate\") that should've been added in https://gitlab.com/gitlab-org/gitlab/-/issues/352439\n\nWe should create system notes when creating and destroying these links. See [`SystemNoteService#relate_issue`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/services/system_note_service.rb#L48) and [`SystemNoteService#unrelate_issue`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/services/system_note_service.rb#L52)\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2022-02-10T12:07:21.798Z","updated_at":"2022-03-18T07:00:46.574Z","closed_at":"2022-02-22T14:38:48.724Z","closed_by":{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"},"labels":["Deliverable","Next Up","[deprecated] Accepting merge requests","backend","devops::plan","direction","group::product planning","section::dev","type::feature","workflow::ready for development"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"}],"author":{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"},"type":"ISSUE","assignee":{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352486","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352486","notes":"https://gitlab.com/api/v4/projects/278964/issues/352486/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352486/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352486","relative":"#352486","full":"gitlab-org/gitlab#352486"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102200883,"iid":352484,"project_id":278964,"title":"Gitlab XSS through PlantUML proxy","description":"**[HackerOne report #1466686](https://hackerone.com/reports/1466686)** by `solov9ev` on 2022-02-01, assigned to @mhenriksen:\n\n[Report](#report) | [Attachments](#attachments) | [How To Reproduce](#how-to-reproduce)\n\n## Report\n\nHi, Security Team!\n\nI discovered a **Gitlab XSS** vulnerability through PlantUML proxy\n\n**Steps to reproduce**\n\n- First, install **PlantUML** (`sudo docker run -d --name plantuml -p 8080:8080 plantuml/plantuml-server:tomcat`)\n\n```  \nPlantUML Server Version 1202200  \n```\n\n- Next step install **Gitlab** (`sudo docker run --detach --hostname gitlab.example.com --publish 443:443 --publish 80:80 --publish 22:22 --name gitlab gitlab/gitlab-ee:latest`)\n\n```  \n--------------------------------------------------------------------------------  \n Ruby:         ruby 2.7.5p203 (2021-11-24 revision f69aeb8314) [x86_64-linux]  \n GitLab:       14.7.0-ee (621e5984888) EE  \n GitLab Shell: 13.22.2  \n PostgreSQL:   12.7  \n--------------------------------------------------------------------------------  \n```\n\nThe result is two running containers: `Gitlab`, `PlantUML`\n\n![1.png](https://h1.sec.gitlab.net/a/279d8088-fa74-41f5-bf0b-76621d306a04/1.png)\n\n- Add  values to the file `/etc/passwd` on your local machine:\n\n![2.png](https://h1.sec.gitlab.net/a/4f7f4a71-c7f0-41fd-9bb3-7f82cd2e215b/2.png)\n\n- Let's check that everything works at the assigned addresses\n\nhttp://plantuml:8080/\n\n![3.png](https://h1.sec.gitlab.net/a/47312ff7-305c-4b78-afcc-495a0e4c83dd/3.png)\n\nhttp://gitlab.example.com/\n\n![4.png](https://h1.sec.gitlab.net/a/39c04048-ab80-4812-8d11-a0f8c64062fe/4.png)\n\n- Now you need to go into the Gitlab docker container and configure proxying in nginx according to the Gitlab documentation (https://docs.gitlab.com/ee/administration/integration/plantuml.html). In our case, the Gitlab container has id **5e0d07fae385**\n\nInstall a program for editing files in the docker container: `apt update \u0026\u0026 apt install nano`\n\n![5.png](https://h1.sec.gitlab.net/a/8c21c83f-fc2f-443d-832a-7228b987d4ba/5.png)\n\nNow you need to edit the Nginx configuration in Gitlab docker container: `nano /etc/gitlab/gitlab.rb`\n\n![6.png](https://h1.sec.gitlab.net/a/e932ccd1-20d9-4753-97f0-7e19a803383d/6.png)\n\nI specified the ip address **172.17.0.1** because it is the docker address that I found out by running the `ifconfig` command on my local machine\n\n![7.png](https://h1.sec.gitlab.net/a/2f7f9801-59cb-4f52-b3fb-1d7022726b65/7.png)\n\nAfter making changes to the file `/etc/gitlab/gitlab.rb`, reconfigure the gitlab container: `gitlab-ctl reconfigure`\n\n![8.png](https://h1.sec.gitlab.net/a/61ae7f0a-5b1c-46d6-a21b-cacff0a2a2fd/8.png)\n\n- Now you need to configure proxying to the **PlantUML**  in the settings of the Gitlab web system\n\n![9.png](https://h1.sec.gitlab.net/a/2e31b638-c022-41c2-a714-42ec0d49e48e/9.png)\n\n- On the local machine (http://192.168.0.10:1337/xss_svg.svg), I placed the following SVG exploit. It must contain the **height** and **width**. Although this exploit can be placed anywhere\n\n```  \n\u003c?xml version=\"1.0\" standalone=\"no\"?\u003e  \n\u003c!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\" \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\"\u003e\n\n\u003csvg version=\"1.1\" width=\"200\" height=\"200\" baseProfile=\"full\" xmlns=\"http://www.w3.org/2000/svg\"\u003e  \n   \u003cpolygon id=\"triangle\" points=\"0,0 0,50 50,0\" fill=\"#009900\" stroke=\"#004400\"/\u003e  \n   \u003cscript type=\"text/javascript\"\u003e  \n      alert(document.domain);  \n   \u003c/script\u003e  \n\u003c/svg\u003e  \n```\n\n- The user can then create a wiki page with the `AsciiDoc` type\n\n![10.png](https://h1.sec.gitlab.net/a/32cd11df-0055-4083-b1cd-62fb10cebdf4/10.png)\n\n![11.png](https://h1.sec.gitlab.net/a/799a10bd-3866-4e79-bef7-94766da90667/11.png)\n\n- After clicking on the SVG, due to proxying, gitlab displays svg in the **gitlab.example.com** domain\n\n![12.png](https://h1.sec.gitlab.net/a/7ceaefb2-f6de-4b5c-abb9-5ec716107aa2/12.png)\n\n- I proved that this SVG works in the github domain and provided the POC in this report #1457495\n\n####  Impact\n\nWith this vulnerability, an attacker can for example steal users cookies or redirect users on malicious website.\n\n## Attachments\n\n**Warning:** Attachments received through HackerOne, please exercise caution!\n\n* [2.png](https://h1.sec.gitlab.net/a/4f7f4a71-c7f0-41fd-9bb3-7f82cd2e215b/2.png)\n* [1.png](https://h1.sec.gitlab.net/a/279d8088-fa74-41f5-bf0b-76621d306a04/1.png)\n* [3.png](https://h1.sec.gitlab.net/a/47312ff7-305c-4b78-afcc-495a0e4c83dd/3.png)\n* [4.png](https://h1.sec.gitlab.net/a/39c04048-ab80-4812-8d11-a0f8c64062fe/4.png)\n* [5.png](https://h1.sec.gitlab.net/a/8c21c83f-fc2f-443d-832a-7228b987d4ba/5.png)\n* [6.png](https://h1.sec.gitlab.net/a/e932ccd1-20d9-4753-97f0-7e19a803383d/6.png)\n* [7.png](https://h1.sec.gitlab.net/a/2f7f9801-59cb-4f52-b3fb-1d7022726b65/7.png)\n* [8.png](https://h1.sec.gitlab.net/a/61ae7f0a-5b1c-46d6-a21b-cacff0a2a2fd/8.png)\n* [9.png](https://h1.sec.gitlab.net/a/2e31b638-c022-41c2-a714-42ec0d49e48e/9.png)\n* [10.png](https://h1.sec.gitlab.net/a/32cd11df-0055-4083-b1cd-62fb10cebdf4/10.png)\n* [11.png](https://h1.sec.gitlab.net/a/799a10bd-3866-4e79-bef7-94766da90667/11.png)\n* [12.png](https://h1.sec.gitlab.net/a/7ceaefb2-f6de-4b5c-abb9-5ec716107aa2/12.png)\n\n## How To Reproduce\n\nPlease add [reproducibility information] to this section:\n\n1.\n1.\n1.\n\n[reproducibility information]: https://about.gitlab.com/handbook/engineering/security/#reproducibility-on-security-issues","state":"closed","created_at":"2022-02-10T11:28:36.958Z","updated_at":"2022-11-15T07:41:12.115Z","closed_at":"2022-08-25T15:54:20.018Z","closed_by":{"id":2167502,"username":"robotmay_gitlab","name":"Robert May","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2167502/avatar.png","web_url":"https://gitlab.com/robotmay_gitlab"},"labels":["Category:Source Code Management","Deliverable","Eng-Consumer::Security","Eng-Producer::Development","Engineering Allocation","HackerOne","Weakness::CWE-79","backend","bug::vulnerability","devops::create","group::source code","missed-SLO","missed-deliverable","missed:15.3","priority::2","section::dev","security","severity::2","type::bug","workflow::verification"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":2167502,"username":"robotmay_gitlab","name":"Robert May","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2167502/avatar.png","web_url":"https://gitlab.com/robotmay_gitlab"}],"author":{"id":2741139,"username":"gitlab-securitybot","name":"GitLab SecurityBot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2741139/avatar.png","web_url":"https://gitlab.com/gitlab-securitybot"},"type":"ISSUE","assignee":{"id":2167502,"username":"robotmay_gitlab","name":"Robert May","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2167502/avatar.png","web_url":"https://gitlab.com/robotmay_gitlab"},"user_notes_count":50,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2022-03-26","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352484","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352484","notes":"https://gitlab.com/api/v4/projects/278964/issues/352484/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352484/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352484","relative":"#352484","full":"gitlab-org/gitlab#352484"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102184413,"iid":352470,"project_id":278964,"title":"Corpus Management - Text tweaks","description":"Follow up to: https://gitlab.com/gitlab-org/gitlab/-/issues/350974#note_827339158\n\n![https://gitlab.com/gitlab-org/gitlab/uploads/616d4283b7b37114713c4929c8235fa8/Corpus_Management_testing_-_Staging___350974____Issues___GitLab_org___GitLab___GitLab.png](https://gitlab.com/gitlab-org/gitlab/uploads/616d4283b7b37114713c4929c8235fa8/Corpus_Management_testing_-_Staging___350974____Issues___GitLab_org___GitLab___GitLab.png)\n\n![https://gitlab.com/gitlab-org/gitlab/uploads/aab6b55eb4c15e2d851ec302001c668b/Fuzz_testing_corpus_management___secure-team-test___corpus-management-staging___GitLab.png](https://gitlab.com/gitlab-org/gitlab/uploads/aab6b55eb4c15e2d851ec302001c668b/Fuzz_testing_corpus_management___secure-team-test___corpus-management-staging___GitLab.png)\n\nto \"Corpus files are used in coverage-guided fuzz testing as seed inputs to improve testing.\"","state":"closed","created_at":"2022-02-10T06:32:29.112Z","updated_at":"2022-02-14T03:21:31.183Z","closed_at":"2022-02-13T23:40:24.382Z","closed_by":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"labels":["Category:Fuzz Testing","GitLab Ultimate","Technical Writing","UX","devops::secure","feature::enhancement","frontend","fuzzing::coverage","group::dynamic analysis","section::sec","tw::finished","type::feature","workflow::production"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"}],"author":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"type":"ISSUE","assignee":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352470","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352470","notes":"https://gitlab.com/api/v4/projects/278964/issues/352470/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352470/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352470","relative":"#352470","full":"gitlab-org/gitlab#352470"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5017,"epic":{"id":156867,"iid":5017,"title":"Fuzz corpus management interface - initial implementation","url":"/groups/gitlab-org/-/epics/5017","group_id":9970,"human_readable_end_date":"Feb 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102179757,"iid":352465,"project_id":278964,"title":"Update to ApolloClient@3: Verify Secure - Corpus Management","description":"Related to #351899.\n\nCorpus Management was not captured in #351899 because it was at the time an unreleased feature. This issue will track testing of Corpus Management with feature flag enabled locally.\n\nApolloClient is being upgraded in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/55062. As part of this effort, FE team members are being asked to verify that their GraphQL-based apps still behave properly.\n\n## Verification process\n\n- Pull https://gitlab.com/gitlab-org/gitlab/-/merge_requests/55062 locally.\n- Make sure to install the NPM dependencies by running `yarn`.\n- Navigate to the page and smoke-test the happy path for anything that triggers GraphQL queries.\n    - Pay extra attention to paginated queries or any interaction that might result in the cache being mutated client-side.\n- Check the page off the list if everything looks good.\n\n## Pages to be verified\n\n- [x] ~\"group::dynamic analysis\" @farias-gl \n    - [x] Corpus Management (`/:namespace/:project/-/security/configuration/corpus_management`)\n\n\n/cc @gitlab-org/secure/analyzer_frontend","state":"closed","created_at":"2022-02-10T03:18:59.871Z","updated_at":"2022-02-10T07:44:40.774Z","closed_at":"2022-02-10T07:44:40.753Z","closed_by":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"labels":["auto updated","devops::secure","frontend","section::sec"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"}],"author":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"type":"ISSUE","assignee":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352465","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":2},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352465","notes":"https://gitlab.com/api/v4/projects/278964/issues/352465/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352465/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352465","relative":"#352465","full":"gitlab-org/gitlab#352465"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5017,"epic":{"id":156867,"iid":5017,"title":"Fuzz corpus management interface - initial implementation","url":"/groups/gitlab-org/-/epics/5017","group_id":9970,"human_readable_end_date":"Feb 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102178800,"iid":352464,"project_id":278964,"title":"Copy fixtures dir before running image tests","description":"### Problem to solve\n\nWhile investigating [Ignore setuptools and wheel in gemnasium-python image integration tests](https://gitlab.com/gitlab-org/gitlab/-/issues/351982) and trying to locally replicate the test from [this passing job](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-python/-/jobs/1996361202), I kept running into failures:\n\n```shell\ndocker run -it --rm -v \"$PWD:$PWD\" -w \"$PWD\" \\\n  -e TMP_IMAGE=registry.gitlab.com/gitlab-org/security-products/analyzers/gemnasium-python/tmp:685a5502883d0423056907f51d4910e7dc251232 \\\n  -v /var/run/docker.sock:/var/run/docker.sock \\\n  registry.gitlab.com/gitlab-org/security-products/analyzers/integration-test:stable rspec spec/image_spec.rb --tag ~python_version:3.9\n\n  1) running image with test project using Setuptools with no requirements.txt file created report behaves like report with scanned files matches scanned files\n     Failure/Error: DEFAULT_FAILURE_NOTIFIER = lambda { |failure, _opts| raise failure }\n\n       expected: [\"setup.py\"]\n            got: [\"pipdeptree.json\"]\n\n  3) running image with test project using Setuptools with no requirements.txt file created report behaves like recorded report vulnerabilities is equivalent\n     Failure/Error: DEFAULT_FAILURE_NOTIFIER = lambda { |failure, _opts| raise failure }\n\n       expected: [{\"category\"=\u003e\"dependency_scanning\", \"cve\"=\u003e\"setup.py:Django:gemnasium:94f5e552-ad49-49c7-bd9f-8857bb...cal\", \"solution\"=\u003e\"Upgrade to versions 1.11.27, 2.2.9, 3.0.1 or above.\", \"tracking\"=\u003e{\"items\"=\u003e[]}}]\n            got: [{\"category\"=\u003e\"dependency_scanning\", \"cve\"=\u003e\"pipdeptree.json:Django:gemnasium:94f5e552-ad49-49c7-bd9f...cal\", \"solution\"=\u003e\"Upgrade to versions 1.11.27, 2.2.9, 3.0.1 or above.\", \"tracking\"=\u003e{\"items\"=\u003e[]}}]\n\n       (compared using eql?)\n\n       Diff:\n       @@ -1,5 +1,6 @@\n        [{\"category\"=\u003e\"dependency_scanning\",\n       -  \"cve\"=\u003e\"setup.py:Django:gemnasium:94f5e552-ad49-49c7-bd9f-8857bba2354b\",\n       +  \"cve\"=\u003e\n       +   \"pipdeptree.json:Django:gemnasium:94f5e552-ad49-49c7-bd9f-8857bba2354b\",\n```\n\nAfter some debugging, I realized the problem is that there's an old `pipdeptree.json` file in the `qa/fixtures/python-setuptools/requirements-file` directory from a previous test which is interfering with the results of the current test:\n\n```shell\nls -al qa/fixtures/python-setuptools/requirements-file\n\ndrwxr-xr-x  10 adam  staff    320 Feb 10 13:03 .\ndrwxr-xr-x   4 adam  staff    128 Jan 21 13:20 ..\ndrwxr-xr-x   3 adam  staff     96 Jan 21 13:25 build\ndrwxr-xr-x   3 adam  staff     96 Jan 21 13:25 dist\n-rw-r--r--   1 adam  staff  40881 Feb 10 13:03 gl-dependency-scanning-report.json\n-rw-r--r--   1 adam  staff     32 Jan 21 13:20 main.py\n-rw-r--r--   1 adam  staff  10504 Jan 21 13:27 pipdeptree.json\n-rw-r--r--   1 adam  staff     22 Jan 21 13:20 requirements.txt\n-rw-r--r--   1 adam  staff   1033 Jan 21 13:20 setup.py\ndrwxr-xr-x   7 adam  staff    224 Jan 21 13:25 test_project.egg-info\n```\n\nThe `pipdeptree.json` file doesn't show up when executing `git status` because the file has [been ignored](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-python/-/blob/685a5502883d0423056907f51d4910e7dc251232/.gitignore#L5).\n\nIn order to prevent this confusing situation from happening again in the future, we need to update the [image integration-test](https://gitlab.com/gitlab-org/security-products/analyzers/integration-test/) to automatically remove these generated dependency files before running tests.\n\n### Steps to reproduce\n\n1. Clone `gemnasium-python` repo:\n\n   ```shell\n   $ git clone git@gitlab.com:gitlab-org/security-products/analyzers/gemnasium-python.git \u0026\u0026 cd gemnasium-python\n   ```\n\n2. Run the image integration tests for the `gemnasium-python:latest` image:\n\n   ```shell\n   docker run -it --rm -v \"$PWD:$PWD\" -w \"$PWD\" \\\n    -e TMP_IMAGE=registry.gitlab.com/gitlab-org/security-products/analyzers/gemnasium-python:latest \\\n    -v /var/run/docker.sock:/var/run/docker.sock \\\n    registry.gitlab.com/gitlab-org/security-products/analyzers/integration-test:stable rspec spec/image_spec.rb --tag ~python_version:3.9\n\n   ..............................................................................................\n\n   Finished in 1 minute 41.87 seconds (files took 0.45677 seconds to load)\n   94 examples, 0 failures\n   ```\n\n3. Run the image integration tests for the `gemnasium-python:2-python-3.9` image:\n\n   ```shell\n   docker run -it --rm -v \"$PWD:$PWD\" -w \"$PWD\" \\\n    -e TMP_IMAGE=registry.gitlab.com/gitlab-org/security-products/analyzers/gemnasium-python:2-python-3.9 \\\n    -v /var/run/docker.sock:/var/run/docker.sock \\\n    registry.gitlab.com/gitlab-org/security-products/analyzers/integration-test:stable rspec\n\n   ............................................................................F.FF.........F.FF..\n\n   Failures:\n\n     1) running image with test project using Setuptools with no requirements.txt file created report behaves like report with scanned files matches scanned files\n        Failure/Error: DEFAULT_FAILURE_NOTIFIER = lambda { |failure, _opts| raise failure }\n\n          expected: [\"setup.py\"]\n               got: [\"pipdeptree.json\"]\n\n          (compared using eql?)\n\n     \u003csnip\u003e\n\n     6) running image with test project using Setuptools with excluded requirements.txt file created report behaves like recorded report vulnerabilities is equivalent\n        Failure/Error: DEFAULT_FAILURE_NOTIFIER = lambda { |failure, _opts| raise failure }\n\n          expected: [{\"category\"=\u003e\"dependency_scanning\", \"cve\"=\u003e\"setup.py:Django:gemnasium:94f5e552-ad49-49c7-bd9f-8857bb...cal\", \"solution\"=\u003e\"Upgrade to versions 1.11.27, 2.2.9, 3.0.1 or above.\", \"tracking\"=\u003e{\"items\"=\u003e[]}}]\n               got: [{\"category\"=\u003e\"dependency_scanning\", \"cve\"=\u003e\"pipdeptree.json:Django:gemnasium:94f5e552-ad49-49c7-bd9f...cal\", \"solution\"=\u003e\"Upgrade to versions 1.11.27, 2.2.9, 3.0.1 or above.\", \"tracking\"=\u003e{\"items\"=\u003e[]}}]\n\n          (compared using eql?)\n\n          Diff:\n          @@ -1,5 +1,6 @@\n           [{\"category\"=\u003e\"dependency_scanning\",\n          -  \"cve\"=\u003e\"setup.py:Django:gemnasium:94f5e552-ad49-49c7-bd9f-8857bba2354b\",\n          +  \"cve\"=\u003e\n          +   \"pipdeptree.json:Django:gemnasium:94f5e552-ad49-49c7-bd9f-8857bba2354b\",\n\n   Finished in 1 minute 25.88 seconds (files took 0.44832 seconds to load)\n   95 examples, 6 failures\n   ```\n\n### Example project\n\nhttps://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-python/-/tree/demonstrate-broken-gemnasium-python-test\n\nSee [this failing test](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-python/-/jobs/2075979878) for details.\n\n### Proposal\n\nUpdate the [image integration-test](https://gitlab.com/gitlab-org/security-products/analyzers/integration-test/) to automatically remove generated dependency files before running tests _or_ update the [gemnasium-python image_spec.rb](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-python/-/blob/master/spec/image_spec.rb) to automatically removes these files as part of a `before(:all)` step.\n\n### Implementation Plan\n\n1. Update the [DockerRunner](https://gitlab.com/gitlab-org/security-products/analyzers/integration-test/-/blob/7c9d53a28e0a6c2a1615a20754480ba5f65936e6/lib/gitlab_secure/integration_test/docker_runner.rb) to copy the `fixtures` parent directory to a temporary directory in the current project, such as `tmp/qa-#{RSpec.configuration.seed}`, before running a scan. In other words, if the fixtures directory is `qa/fixtures`, then we'll copy the entire `qa` directory to the `tmp` directory.\n\n   For example, here's the project layout _before_ running the image integration tests:\n\n   ```shell\n   .\n    gemnasium/\n        qa/\n            scripts/\n            expect/\n            fixtures/\n   ```\n\n   And here's the project layout _after_ running the image integration tests, with the `tmp` dir populated:\n\n   ```shell\n   .\n    gemnasium/\n        qa/\n           scripts\n           expect\n           fixtures\n        tmp/\n            qa-54805/\n               scripts\n               expect\n               fixtures\n            qa-57485/\n                scripts\n                expect\n                fixtures\n   ```\n\n   See [this MR](https://gitlab.com/gitlab-org/security-products/analyzers/integration-test/-/merge_requests/20) for a starting point.\n\n1. Add a constant value to the [DockerRunner](https://gitlab.com/gitlab-org/security-products/analyzers/integration-test/-/blob/7c9d53a28e0a6c2a1615a20754480ba5f65936e6/lib/gitlab_secure/integration_test/docker_runner.rb) class, such as `MAX_TMP_SUBIDRS=10`, and delete old `tmp/qa-*` directories if the number of temporary subdirectories exceeds the `MAX_TMP_SUBIDRS` value.\n\n1. Ensure we handle the [`when scanning itself`](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-python/blob/b9fe24c/spec/image_spec.rb#L131-139) spec from `gemnasium-python`. See [this comment](https://gitlab.com/gitlab-org/gitlab/-/issues/352464#note_885107871) for details on how to implement this.\n\n1. Add unit tests for the new behaviour\n\n1. Update the `image test` in the `.gitlab-ci.yml` of the following projects to save the artifact files in the `tmp/qa-*` fixtures directories:\n\n   - [gemnasium](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/-/blob/3347830c67aa3d68ccf1d559140245aa8213a294/spec/image_spec.rb)\n   - [gemnasium-python](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-python/-/blob/958ebbaaea0cf96733e5210c518bfd55415761f3/spec/image_spec.rb)\n   - [gemnasium-maven](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-maven/-/blob/6106374b000ac224ea8e8e84faeca11ca5dfc76b/spec/image_spec.rb)\n   - ~~[retire.js](https://gitlab.com/gitlab-org/security-products/analyzers/retire.js/-/blob/0005999f2d1133e469a6dbf8764767dac21c72a5/spec/image_spec.rb)~~ (deprecated project, to be removed in 15.0)\n\n/cc @NicoleSchwartz @gonzoyumo @fcatteau","state":"closed","created_at":"2022-02-10T02:32:43.781Z","updated_at":"2022-06-06T01:40:15.213Z","closed_at":"2022-06-06T01:40:14.846Z","closed_by":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"labels":["Category:Dependency Scanning","Enterprise Edition","GitLab Ultimate","Stretch","backend","devops::secure","group::composition analysis","maintenance::refactor","missed:15.0","quad-planning::complete-no-action","section::sec","test","type::maintenance","workflow::production"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"}],"author":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"type":"ISSUE","assignee":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"user_notes_count":16,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352464","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352464","notes":"https://gitlab.com/api/v4/projects/278964/issues/352464/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352464/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352464","relative":"#352464","full":"gitlab-org/gitlab#352464"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":102177672,"iid":352462,"project_id":278964,"title":"Turn `test_large_reponses` test into e2e test","description":"### Problem\n\nThe worker-entry integration test `test_large_responses` takes 20 minutes to run with a GitLab shared runner.\nThis causes feature branch builds to be 10 minutes slower, just for this test, slowing down iterative work.\n\n### Proposal\n\n1. [x] Disable the test for now\n1. [x] Convert the `test_large_response` test into an e2e test.","state":"closed","created_at":"2022-02-10T01:40:57.747Z","updated_at":"2022-03-16T11:24:41.198Z","closed_at":"2022-02-14T13:56:23.150Z","closed_by":{"id":7488329,"username":"herbmadrigal","name":"Herber Madrigal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7488329/avatar.png","web_url":"https://gitlab.com/herbmadrigal"},"labels":["Category:API Security","GitLab Ultimate","backend","devops::secure","group::dynamic analysis","maintenance::pipelines","section::sec","type::maintenance","workflow::verification"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":7488329,"username":"herbmadrigal","name":"Herber Madrigal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7488329/avatar.png","web_url":"https://gitlab.com/herbmadrigal"}],"author":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"type":"ISSUE","assignee":{"id":7488329,"username":"herbmadrigal","name":"Herber Madrigal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7488329/avatar.png","web_url":"https://gitlab.com/herbmadrigal"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352462","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":2},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352462","notes":"https://gitlab.com/api/v4/projects/278964/issues/352462/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352462/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352462","relative":"#352462","full":"gitlab-org/gitlab#352462"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102174754,"iid":352457,"project_id":278964,"title":"SPIKE: Document the timing and factors which affecting timing of SM Service Ping delivery","description":"## Summary\n\nOn self-managed instances, we collect instance level data via [Service Ping](https://docs.gitlab.com/ee/development/service_ping/metrics_dictionary.html). The data collected depends on the instance's setting (Service Ping = On/Off) and whether the license indicates the customer is obligated to report [Operational Data](https://about.gitlab.com/handbook/legal/privacy/services-usage-data/#operational-data).\n\nIn this issue, I'd like to document specifics related to the timing of data collection.\n\n## Success Criteria\n\nPlease research and document the answers to the following questions.\n\n1. [x] When does a SM instance generate and send the Service Ping payload? Is this on a static day of the week/time?\n     1. A: Service Pings are randomly distributed during the week ([reference](https://gitlab.com/gitlab-org/gitlab/-/issues/352457#note_838502718))\n1. [x] Can you explain the \"randomly distributed\" process in more detail? How does the instance know it's time to send the payload?\n     1. A: https://gitlab.com/gitlab-org/gitlab/-/issues/352457#note_839848735\n1. [x] Can the instance admin overwrite the date/time of delivery of the Service Ping payload?\n     1. A: Theoretically yes, as they can change the code or config. But it's unlikely that someone does it. ([ref](https://gitlab.com/gitlab-org/gitlab/-/issues/352457#note_839039786))\n1. [x] If an admin can change the delivery day/time and/or cadence, do we have any insights into the number of instances which have deviated from our established schedule?\n     1. A: No we would not have this insight. ([ref](https://gitlab.com/gitlab-org/gitlab/-/issues/352457#note_839039786))\n1. [x] Is it possible to receive partial payloads? Like in the instance of a failure during collection.\n     1. A: We can't receive partial payloads, but we can receive payloads where some metrics are failing. However, we added measurements to not fail the whole service ping when one metric fails. These reliability fixes got added over the last year(s). ([ref](https://gitlab.com/gitlab-org/gitlab/-/issues/352457#note_839039786))\n1. [x] What happens when there is a failure with receiving a payload? Do we retry that payload?\n     1. A: When a Service Ping generation fails, we retry it for three times. ([ref](https://gitlab.com/gitlab-org/gitlab/-/issues/352457#note_839039786))","state":"closed","created_at":"2022-02-09T23:17:57.536Z","updated_at":"2022-05-26T18:38:05.552Z","closed_at":"2022-02-15T17:44:25.334Z","closed_by":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"labels":["[deprecated] Accepting merge requests","backend","devops::growth","documentation","group::product intelligence","section::growth","spike","type::maintenance"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[],"author":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"type":"ISSUE","assignee":null,"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352457","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":6},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"6 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352457","notes":"https://gitlab.com/api/v4/projects/278964/issues/352457/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352457/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352457","relative":"#352457","full":"gitlab-org/gitlab#352457"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102169097,"iid":352450,"project_id":278964,"title":"Group-Level Protected Environments Do Not Support Invited Groups","description":"### Summary\n\nWhile Project Level Protected Environments allow for assigning an invited group to a Protected Environment - the same does not appear to be the case for Group Level Protected Environments.\n\nAttempts to protect an environment with an invited group using the [Group-level Protected Environments API](https://docs.gitlab.com/ee/api/group_protected_environments.html#protect-an-environment) result in the following error being returned from the API:\n\n```\n{\"message\":[\"Deploy access levels is too short (minimum is 1 character)\"]}\n```\n\n### Steps to reproduce\n\nGiven: a top level group:  `top-level-group` \n\n1. Create a Group: `shared-groups/operators` (group_id: `42`)\n2. Share `top-level-group` with `shared-groups/operators`\n3. Attempt to use the Group-Level Protected Environments API for `production` and `group_id: 42`:\n  ```\n  curl --header 'Content-Type: application/json' --request POST \\\n           --data '{\"name\": \"production\", \"deploy_access_levels\": [{\"group_id\": 42}]}' \\\n           --header \"PRIVATE-TOKEN: \u003ctoken\u003e\" \\\n           \"https://gitlab.example/com/api/v4/groups/top-level-group/protected_environments\"\n  ```\n\nResult:\n\n```\n{\"message\":[\"Deploy access levels is too short (minimum is 1 character)\"]}\n```\n\n#### Project-Level Protected Environments can use invited groups\n\nFor Project-level Protected Environments, assigning an invited group is possible (and _required_ as [mentioned in the API documentation](https://docs.gitlab.com/ee/api/protected_environments.html#protect-repository-environments) - it also will not work when a parent group of the project is shared with the with an external `operators` group).\n\nGiven: a top level group and project:  `top-level-group/test-project` \n\n1. Create a Group: `shared-groups/operators` (group_id: `42`)\n2. Share `top-level-group/test-project` with `shared-groups/operators`\n3. Use the Project-Level Protected Environments API for `production` and `group_id: 42`:\n  ```\n  curl --header 'Content-Type: application/json' --request POST \\\n           --data '{\"name\": \"production\", \"deploy_access_levels\": [{\"group_id\": 42}]}' \\\n           --header \"PRIVATE-TOKEN: \u003ctoken\u003e\" \\\n           \"https://gitlab.example/com/api/v4/projects/top-level-group%2Ftest-project/protected_environments\"\n  ```\n\nResult:\n\n```\n{\"name\":\"production\",\"deploy_access_levels\":[{\"access_level\":40,\"access_level_description\":\"protected-access-group\",\"user_id\":null,\"group_id\":32}],\"required_approval_count\":0}\n```\n\n### What is the current *bug* behavior?\n\nGroup-Level Protected Environments cannot be assigned to invited groups.\n\n### What is the expected *correct* behavior?\n\nGroup-Level Protected Environments, like Project-Level Protected Environments, should be able to be assigned to invited groups.","state":"closed","created_at":"2022-02-09T20:33:20.225Z","updated_at":"2022-11-15T13:10:41.494Z","closed_at":"2022-03-11T16:50:18.793Z","closed_by":{"id":9396342,"username":"acook.gitlab","name":"Allen Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9396342/avatar.png","web_url":"https://gitlab.com/acook.gitlab"},"labels":["Category:Environment Management","Category:Release Orchestration","Deliverable","Next Up","OpsSection::needs-justification","Release::P1","backend","devops::release","group::release","priority::2","section::ops","severity::2","type::bug"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":9396342,"username":"acook.gitlab","name":"Allen Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9396342/avatar.png","web_url":"https://gitlab.com/acook.gitlab"}],"author":{"id":3543077,"username":"jayo","name":"Jason Young","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ad2847a3f399fc5bcb10f0e57911aa58?s=80\u0026d=identicon","web_url":"https://gitlab.com/jayo"},"type":"ISSUE","assignee":{"id":9396342,"username":"acook.gitlab","name":"Allen Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9396342/avatar.png","web_url":"https://gitlab.com/acook.gitlab"},"user_notes_count":11,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352450","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352450","notes":"https://gitlab.com/api/v4/projects/278964/issues/352450/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352450/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352450","relative":"#352450","full":"gitlab-org/gitlab#352450"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102166211,"iid":352439,"project_id":278964,"title":"Define user permissions to view and create related epics","description":"Related to https://gitlab.com/gitlab-org/gitlab/-/issues/202431\n\nAny epic can be related/blocked by another (despite the group they belong to). The ability to see and relate the epics will be determined at the user level. IOW, the linking ability depends on the user permissions and not the relationship of the resources.\n\nFor related issues, we use the following permissions\n\n- [`admin_issue_link`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/policies/project_policy.rb#L287) to determine if the user can relate the issues\n\n\n#### Requirements\n\n1. New ~\"GitLab Ultimate\" license (e.g `related_epics`) similar to existing [`subepics`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/models/license.rb#L202))\n2. Check that the user is at least a `reporter` in the target epic's group to set epics as related.\nWe already have [`admin_epic_link`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/policies/ee/group_policy.rb#L254) that requires `reporter+` plus `subepics_available`, so we probably need a new policy. See https://gitlab.com/gitlab-org/gitlab/-/issues/351597#note_838361958 for more details.\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2022-02-09T19:07:16.189Z","updated_at":"2022-03-17T20:33:02.389Z","closed_at":"2022-02-24T11:56:02.975Z","closed_by":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"labels":["Deliverable","GitLab Ultimate","Next Up","backend","direction","epics","workflow::verification"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"}],"author":{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"},"type":"ISSUE","assignee":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352439","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352439","notes":"https://gitlab.com/api/v4/projects/278964/issues/352439/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352439/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352439","relative":"#352439","full":"gitlab-org/gitlab#352439"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7546,"epic":{"id":439603,"iid":7546,"title":"Add support for epic to epic linking - MVC 1","url":"/groups/gitlab-org/-/epics/7546","group_id":9970,"human_readable_end_date":"Mar 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102165072,"iid":352437,"project_id":278964,"title":"Create related_epic_links table","description":"Create a new table `related_epic_links` (See discussion https://gitlab.com/gitlab-org/gitlab/-/issues/351597#note_835799403 for naming options) that matches attributes and functionality with issue_links. We don't have to use strictly the same naming if not possible but there should be still 1-1 mapping of attributes/functionality\n\n`issue_links` table:\n```ruby\nissue_links (\n    id integer NOT NULL,\n    source_id integer NOT NULL,\n    target_id integer NOT NULL,\n    created_at timestamp without time zone,\n    updated_at timestamp without time zone,\n    link_type smallint DEFAULT 0 NOT NULL\n)\n```\n\nThe new model, like [`IssueLink`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/models/issue_link.rb) should define the link types `relates_to`, `blocks` and `is_blocked_by`, as well as checking for opposite and self relations.\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2022-02-09T18:38:32.430Z","updated_at":"2022-02-22T15:28:50.910Z","closed_at":"2022-02-22T15:15:44.949Z","closed_by":{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"},"labels":["Next Up","auto updated","backend","database","devops::plan","direction","epics","group::product planning","section::dev","type::feature","workflow::verification"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"}],"author":{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"},"type":"ISSUE","assignee":{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352437","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352437","notes":"https://gitlab.com/api/v4/projects/278964/issues/352437/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352437/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352437","relative":"#352437","full":"gitlab-org/gitlab#352437"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7546,"epic":{"id":439603,"iid":7546,"title":"Add support for epic to epic linking - MVC 1","url":"/groups/gitlab-org/-/epics/7546","group_id":9970,"human_readable_end_date":"Mar 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102163526,"iid":352434,"project_id":278964,"title":"Registry Phase 2 Migration: Import Progress Metrics","description":"\u003c!-- This template is a great use for issues that are feature::additions or technical tasks for larger issues.--\u003e\n\n### Proposal\nDuring Phase 2 of the [Graduation Migration](https://gitlab.com/gitlab-org/container-registry/-/issues/374) of container repositories, it would be of value to be able to check on the overall rate of completion in the current migration dashboard: https://dashboards.gitlab.net/d/registry-migration/registry-registry-migration-detail?orgId=1\n\nThis could be in the form of a completion percentage and/or a count of unimported repositories remaining.\n \n\n\u003c!-- Label reminders\nUse the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n--\u003e\n\n### Dashboards \n\nDashboards created for this issue:\n\n- Staging: https://nonprod-log.gitlab.net/goto/0d03caa0-9a56-11ec-b3a6-472d0398dd6e\n- Production: https://log.gprd.gitlab.net/goto/b559ed70-9a55-11ec-9dd2-93d354bef8e7","state":"closed","created_at":"2022-02-09T17:56:42.787Z","updated_at":"2022-03-18T07:02:42.484Z","closed_at":"2022-03-02T17:52:17.324Z","closed_by":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"labels":["Category:Container Registry","Container Registry Migration::Phase 2","Deliverable","GitLab Free","Package:P1","[deprecated] Accepting merge requests","backend","devops::package","feature::addition","group::package registry","ruby","section::ops","type::feature","workflow::production"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"}],"author":{"id":4829721,"username":"hswimelar","name":"Hayley Swimelar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4829721/avatar.png","web_url":"https://gitlab.com/hswimelar"},"type":"ISSUE","assignee":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"user_notes_count":15,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352434","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352434","notes":"https://gitlab.com/api/v4/projects/278964/issues/352434/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352434/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352434","relative":"#352434","full":"gitlab-org/gitlab#352434"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7316,"epic":{"id":408066,"iid":7316,"title":"Drive the Container Registry migration Phase 2 from Rails","url":"/groups/gitlab-org/-/epics/7316","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102163066,"iid":352433,"project_id":278964,"title":"Geo Sites - Status bar popovers no longer link to relevant data","description":"### What/Why\n\nPrior to the Geo Sites refactor the replication status bars would link to the proper `/replication/${replicable}` route if it was available.  This has been lost in the refactor and needs to be reimplemented.\n\n### UI in question\n\n![Screen_Shot_2022-02-09_at_11.38.37_AM](/uploads/c785424707a0cd4ffd284a966be94442/Screen_Shot_2022-02-09_at_11.38.37_AM.png)\n\n### Proposal\n\n1. Review the `secondary_view` keys in the `geo_helper.rb`: https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/helpers/ee/geo_helper.rb#L180-L243\n2. Hook up a `GlLink` in the Status Bar popover: https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/assets/javascripts/geo_nodes/components/details/geo_node_progress_bar.vue#L82-L111\n3. Generate the proper link if the `secondary_view` property is true for the replicable\n\n**note:** The old implementation for reference to how we did it in the past: https://gitlab.com/gitlab-org/gitlab/-/blob/7761f1707e41ccd8ab840d596baff1367f71499d/ee/app/assets/javascripts/geo_nodes/components/geo_node_sync_progress.vue","state":"closed","created_at":"2022-02-09T17:46:39.899Z","updated_at":"2022-02-14T14:17:05.167Z","closed_at":"2022-02-10T13:56:48.190Z","closed_by":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"labels":["Geo Administration","UX","[deprecated] Accepting merge requests","devops::systems","found:staging.gitlab.com","frontend","group::geo","priority::4","section::enablement","severity::4","type::bug","workflow::scheduling"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"type":"ISSUE","assignee":null,"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352433","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352433","notes":"https://gitlab.com/api/v4/projects/278964/issues/352433/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352433/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352433","relative":"#352433","full":"gitlab-org/gitlab#352433"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6042,"epic":{"id":274361,"iid":6042,"title":"Geo Status Page Improvements","url":"/groups/gitlab-org/-/epics/6042","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102161516,"iid":352427,"project_id":278964,"title":"[VSA] Let users know data is aggregating","description":"# Background\n\n\u003e With the new backend, we won't be able to show the default stages on the initial page load (group without persisted VSA stages) because at this point we don't have any aggregated data present.  https://gitlab.com/gitlab-org/gitlab/-/issues/341739#note_805888371\n\n\u003e This won't affect groups with existing VSA stages.\n\nHow do we let users know that after 'activating' this feature there will be a delay before **any** data can be shown here?\n\n# Solution\n| Before | After - Standard | After - Toast |\n| ------ | ------ | ------ |\n| ![image](/uploads/9dab1dde96c462893f47b052303fdc33/image.png) | ![image](/uploads/03e5c157743a7c26c9887e640a5439d5/image.png) | ![image](/uploads/15abc4c1c10802bf61370db697f7d712/image.png) View including toast after stream creation |\n\n### Text\n\n|   | Text |\n| ------ | ------ |\n| **Alert title** | Data is collecting and loading. |\n| **Alert body** | `value-stream-name` is collecting the data. This can take a few minutes.\u003cbr/\u003eIf you have recently upgraded to premium, it can take up to 30 minutes for data to collect and display. |\n| **Alert button** | Reload page |\n| **Toast** | `value-stream-name` is collecting the data. This can take a few minutes. |\n\n### Docs\n\n- [ ] Add `If you have recently upgraded to premium, it can take up to 30 minutes for data to collect and display.` to [create a value stream](https://docs.gitlab.com/ee/user/group/value_stream_analytics/#create-a-value-stream)\n\n---\n\n##### Original context (Archive)\n\n\u003e Fo this we shouldn't display an empty state since a value stream exists - I think a warning on the page would suffice saying that `job currently running. This is estimate to complete at: XXX` or something similar https://gitlab.com/gitlab-org/gitlab/-/issues/341739#note_833062108\n\nWill update this with the proposed solution.","state":"closed","created_at":"2022-02-09T17:07:59.851Z","updated_at":"2022-04-19T23:17:04.659Z","closed_at":"2022-04-19T23:17:04.643Z","closed_by":{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"},"labels":["UX","design-weight::1","devops::manage","feature::enhancement","frontend","group::optimize","priority::1","section::dev","type::feature","workflow::verification"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"}],"author":{"id":10593761,"username":"danmh","name":"Dan Mizzi-Harris","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10593761/avatar.png","web_url":"https://gitlab.com/danmh"},"type":"ISSUE","assignee":{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"},"user_notes_count":36,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352427","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352427","notes":"https://gitlab.com/api/v4/projects/278964/issues/352427/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352427/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352427","relative":"#352427","full":"gitlab-org/gitlab#352427"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102149237,"iid":352402,"project_id":278964,"title":"Exclude Ultimate Trial guests users from billable members","description":"### Problem\n\nFor Ultimate tier customers, we exclude guests from counting towards billable members/seat usage.\n\nWhen customers trial the Ultimate plan, this is not the case, and guests are counted as billable.\n\nThis was brought to our attention as a problem for a GitLab.com prospect during a [slack conversation](https://gitlab.slack.com/archives/C01E07BC4FQ/p1644405287828379) (internal)\n\n### Solution\n\nWe should apply the same logic to the Ultimate Trial plan as we do the regular Ultimate plan, and exclude guests from the billable members.","state":"closed","created_at":"2022-02-09T14:34:31.153Z","updated_at":"2022-02-14T11:05:11.180Z","closed_at":"2022-02-14T11:05:11.158Z","closed_by":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"labels":["[deprecated] Category:Utilization","auto updated","backend","devops::fulfillment","group::utilization","maintenance::refactor","section::fulfillment","workflow::in review"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"}],"author":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"type":"ISSUE","assignee":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352402","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352402","notes":"https://gitlab.com/api/v4/projects/278964/issues/352402/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352402/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352402","relative":"#352402","full":"gitlab-org/gitlab#352402"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102140370,"iid":352393,"project_id":278964,"title":"Events created by sidekiq jobs should use enqueue time, not creation time, as created_at","description":"## Overview\n\nSome audit events are generated using sidekiq workers which means it could potentially be minutes, hours (or even longer) before the job is executed and the audit event created.\n\nThis means that the `created_at` attribute on the audit event could very likely be different to the time that the action actually occured.\n\n## Affected files\n\n\n* `ee/app/workers/audit_events/user_impersonation_event_create_worker.rb`\n* `ee/app/workers/groups/create_event_worker.rb`\n* Anything relying on `app/services/event_create_service.rb`\n\n\n## Proposal\n\nFor each of these workers, we'll need to adjust the services that they call to accept a `created_at` parameter to ensure that the created audit event uses the enqueued time, rather than the object creation time.","state":"closed","created_at":"2022-02-09T12:23:42.330Z","updated_at":"2022-04-14T08:05:52.734Z","closed_at":"2022-04-14T08:05:52.709Z","closed_by":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"labels":["backend","devops::manage","group::compliance","missed-SLO","priority::2","section::dev","severity::2","type::bug","workflow::verification"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"}],"author":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"type":"ISSUE","assignee":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352393","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352393","notes":"https://gitlab.com/api/v4/projects/278964/issues/352393/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352393/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352393","relative":"#352393","full":"gitlab-org/gitlab#352393"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":102134523,"iid":352378,"project_id":278964,"title":"Experiment with staged disclosure in the Registration flow","description":"## Experiment summary\n\nWe believe that using a [staged disclosure pattern](https://www.nngroup.com/articles/progressive-disclosure/) in the registration flow can reduce its perceived complexity, thus improving the completion rate and fasten stage adoption.\n\nTo verify that, we will create an alternate version of the registration flow. We will progressively introduce the content by creating dedicated JTBD, role, and create v.s Join steps instead of our current Welcome page which is displaying all these options in one form.\n\nAnd well measure the impact on the following:\n* **Primary metric**: registration completion rate.\n* **Secondary metrics**: Time to completion, Group/project creation rates\n* **Health metrics**: D7, D14 Retention rates for group, Trial adoption rate, Conversion rate\n\n## Hypothesis\n\u003c!-- The hypothesis represents the high-level thought process in creating the experiment but does not need to be proven in one experiment. For example, you could have a hypothesis that users would benefit from more easily being able to start a trial and your first experiment could fail, that doesnt void your hypothesis only indicates you may need to think of a new iterative experiment that would still align with your hypothesis. --\u003e\n\nUsing a [Staged disclosure pattern](https://www.nngroup.com/articles/progressive-disclosure/) in the registration flow can reduce its perceived complexity, thus improve completion rate and fasten stage adoption.\n\n## Business problem\n\u003c!-- Where the hypothesis is focused on the user/customer, the business problem represents why/how an experiment in this area could positively impact the business. For example, trials represent a significant way for GitLab to produce valuable leads for the sales team. --\u003e\n\nThe registration flow is a critical part to help users getting started with GitLab. The faster we lead new users to product value the better chance we have to facilitate the platform adoption.\n\n## Supporting data\n\u003c!-- Why should we run this experiment? Whats the potential impact? Show supporting data thats both qualitative and quantitative. Quantitative example, we generate 30,000 sign ups a month and 900 trails within 90 days (3%) with a close rate of 10% and an IACV of $400.  If were able to increase our trial volume by 10% percent (990 trials a month) we will generate an additional $3,600 IACV if our close rates remain constant. Qualitative example, in searching Zendesk I was able to find 10 support tickets in the last 30 days that referenced difficulties with starting a trial due to the user not being an admin. (all numbers are hypothetical and only listed for the purpose of having an example) --\u003e\n\n### Qualitative\n[Solution Validation: Test SaaS registration flow visions](https://gitlab.com/gitlab-org/ux-research/-/issues/1785)\n\n### Quantitative \nTO ADD BASELINE REG FLOW DATA\n\n## Expected outcome\n\u003c!-- What is the expected outcome of this experiment, what metric are we trying to move? Are there any metrics we know we do not want to impact? For example, we want to impact IACV by increasing the rate at which users start trials within 30 days but we also want to ensure we don't increase the churn rate for users who've recently purchased. --\u003e\n\n* Primary metric: Increase in registration completion rate \n* Secondary metrics: Decrease in Time to completion, Increase or steady Group/project creation rates\n* Health metrics: Steady D7, D14 Retention rates for group, Steady Trial adoption rate, Steady Conversion rate\n\n## Experiment design \u0026 implementation\n\u003c!-- What is the experiment were going to run? How long do you believe it will need to run to reach significance? For example, our experiment would be to allow non-admins to request a trial through their admin, to detect a 10% change from our baseline conversion rate well need a sample size of 57,000 (source Optimizely), with our current sign up rate of 30,000 a month this experiment will need to run for ~2 months. (all numbers are hypothetical and only listed for the purpose of having an example) --\u003e\n\n### Regular registration (no invitation)\n\u003cdetails\u003e\u003csummary\u003eView\u003c/summary\u003e\n\n#### Current Registration flow\n\n```mermaid\nflowchart TB\n    A[Registration form] --\u003e| Email confirmation| B[Sign-in]\n    B --\u003e C[Welcome page]\n    C --\u003e D{S.F.C + Create or Join a project}\n    D --\u003e|S.F.C = true \u0026 create a project| F[About your company]\n    D --\u003e|Join a project| G[User dashboard]\n    D --\u003e|S.F.C = false \u0026 Create a project | H[Create a group \u0026 create or import project]\n    F --\u003e H\n    H --\u003e I[Get started screen]\n    I --\u003e J[Learn GitLab]\n```\n\n#### Experiment flow (Option 1)\n\nIntroducing dedicated JTBD, Role and Create/Join a project steps \n\n```mermaid\nflowchart TB\n    A[Registration form] --\u003e| Email confirmation| B[Sign-in]\n    B --\u003e C[JTBD]\n    C --\u003e D[Role]\n    D --\u003e E{S.F.C + Create or Join a project}\n    E --\u003e|S.F.C = true \u0026 create a project| F[About your company]\n    E --\u003e|Join a project| G[User dashboard]\n    E --\u003e|S.F.C = false \u0026 Create a project | H[Create a group \u0026 create or import project]\n    F --\u003e H\n    H --\u003e I[Get started screen]\n    I --\u003e J[Learn GitLab]\n```\n\n#### Experiment flow (Option 2)\n\nIntroducing dedicated JTBD, Role and Create/Join a project steps. Changing the order of Create/Join a project so it's a the beginning of the flow.\n\n```mermaid\nflowchart TB\n    A[Registration form] --\u003e| Email confirmation| B[Sign-in]\n    B --\u003e C{S.F.C + Create or Join a project}\n    C --\u003e|S.F.C = true \u0026 create a project| D[About your company]\n    C --\u003e|Join a project| E[JTBD]\n    C --\u003e|S.F.C = false \u0026 create a project| E[JTBD]\n    D --\u003e E\n    E --\u003e F[Role]\n    F --\u003e G{Background redirection}\n    G --\u003e |User is joining a project|H[User dashboard]\n    G --\u003e |User is creating a project | I[Create a group \u0026 create or import project]\n    I --\u003e J[Get started screen]\n    J --\u003e K[Learn GitLab]\n```\n\n#### Vision flow\n\nThis first experiment should help us build on a longer-term vision. This vision version of the registration flow includes the following:\n* Different levels of user verification for enhanced security\n* Trial prompt as a step (experiment TBD)\n* Choice to start a project from a template or run CI/CD for external repo\n* Registration flow finishes when users land on the project overview page instead of the Learn GitLab \n\n```mermaid\nflowchart TB\n    A[Registration form] --\u003e B{Arkose - Check background verification level needed}\n    B --\u003e | Verification level 1 | C[Email confirmation]\n    B --\u003e | Verification level 2 | D[Phone number verification]\n    B --\u003e | Verification level 3 | E[Credit card verification]\n    C --\u003e F[JTBD]\n    D --\u003e F\n    E --\u003e F\n    F --\u003e G[Role]\n    G --\u003e H{S.F.C + Create or Join a project}\n    H --\u003e|S.F.C = true \u0026 create a project| I[About your company]\n    H --\u003e|Join a project| J[User dashboard]\n    H --\u003e|S.F.C = false \u0026 Create a project | L{Create a group \u0026 Create / import / template project  or CI for external repo}\n    I --\u003e K{Start a trial Yes/No}\n    K --\u003e L\n    L --\u003e | Create a project  | M[Create a project]\n    L --\u003e| Import a project  | N[Import from 3rd party]\n    L --\u003e| Use a template project | O[Pick a template]\n    L --\u003e| CI external repo | N\n    L --\u003e P[Project overview]\n    M --\u003e P\n    N --\u003e P \n```\n\u003c/details\u003e\n\n\n### Invited user registration\n\n\u003cdetails\u003e\u003csummary\u003eView\u003c/summary\u003e\n\n#### Current Registration flow\n\n```mermaid\nflowchart TB\n    A[Email invite] --\u003e B[Registration form]\n    B --\u003e C[Welcome page]\n    C --\u003e D[Invited Group/project activity]\n```\n\n#### Experiment flow (Option 1)\n\n```mermaid\nflowchart TB\n    A[Email invite] --\u003e B[Registration form]\n    B --\u003e C[JTBD]\n    C --\u003e D[Role]\n    D --\u003e E[Invited Group/Project activity]\n```\n\u003c/details\u003e\n\n\n\n## ICE score\n\n\u003c!-- See https://about.gitlab.com/handbook/product/growth/#growth-ideation-and-prioritization --\u003e\n\n| Impact | Confidence | Ease | Score |\n| ------ | ------ | ------ | ------ |\n| value 1 |  value 2 |  value 3 | Average(1:3) |\n\n## Known assumptions\n\u003c!-- This is an area to call out known assumptions in the experiment, this is especially helpful for any future colleagues that join the team so they understand other potential influences and how they were accounted for. This section is also helpful in framing possible scenarios and to keep the door open for the next steps. For example, were hoping our experiment will increase the number of people that start a trial but were assuming the conversion rate to paid and IACV will remain the same. This is a known assumption and depending on the results of the experiment could impact the direction we take on any future iterations. --\u003e\n\n## Results, lessons learned, next steps\n\u003c!-- What were the results of the experiment? Was the experiment a success or a failure? Based on the results should we remove the code or advocate that it become a permanent part of the experience for all users? Are there future experiments the team is going to run based off these results (include a link to new issue)? For example, our trial experiment was successful we increased the trial create rate by 10% but we saw a 1% drop in our close rate which means our net impact on IACV was negative $360 (990 * 0.09 * 400 compared tot he control of 900 * 0.1 * 400). Our next experiment (link) will focus on increasing the value once a user starts a trial. (all numbers are hypothetical and only listed for the purpose of having an example) --\u003e\n\n\n## Checklist\n\n* [x] Fill in the experiment summary and write more about the details of the experiment in the rest of the issue description. Some of these may be filled in through time (the \"Result, learnings, next steps\" section for example) but at least the experiment summary should be filled in right from the start.\n* [x] Add the label of the `group::` that will work on this experiment (if known).\n* [x] Mention the Product Manager, Engineering Manager, and at least one Product Designer from the group that owns the part of the product that the experiment will affect.\n* [ ] Fill in the values in the [ICE score table](#ice-score) ping other team members for the values you arent confident about (i.e. engineering should almost always fill out the ease section). Add the ~\"ICE Score Needed\" label to indicate that the score is incomplete.\n* [ ] Replace the ~\"ICE Score Needed\" with an ICE low/medium/high score label once all values in the ICE table have been added.\n* [ ] Mention the [at]gitlab-core-team team and ask for their feedback.","state":"closed","created_at":"2022-02-09T10:44:21.542Z","updated_at":"2022-06-14T12:36:50.655Z","closed_at":"2022-05-24T17:30:34.025Z","closed_by":{"id":2709171,"username":"jayswain","name":"Jay","state":"active","avatar_url":"https://secure.gravatar.com/avatar/9425e277e593759683640b83676c911c?s=80\u0026d=identicon","web_url":"https://gitlab.com/jayswain"},"labels":["Category:Adoption Experiment","UX","auto updated","devops::growth","experiment idea","group::adoption DEPRECATED","growth experiment","missed:15.0","section::growth","type::feature","workflow::start"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":4412383,"username":"kcomoli","name":"Kevin Comoli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4412383/avatar.png","web_url":"https://gitlab.com/kcomoli"}],"author":{"id":4412383,"username":"kcomoli","name":"Kevin Comoli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4412383/avatar.png","web_url":"https://gitlab.com/kcomoli"},"type":"ISSUE","assignee":{"id":4412383,"username":"kcomoli","name":"Kevin Comoli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4412383/avatar.png","web_url":"https://gitlab.com/kcomoli"},"user_notes_count":28,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352378","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":3},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352378","notes":"https://gitlab.com/api/v4/projects/278964/issues/352378/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352378/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352378","relative":"#352378","full":"gitlab-org/gitlab#352378"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102133219,"iid":352371,"project_id":278964,"title":"Delete invalid routes when namespace migration is complete","description":"When both namespace and project routes have backfilled namespace_id (#346446), there will some routes with namespace_id not set - these are invalid routes which were skipped (https://gitlab.com/gitlab-org/gitlab/-/merge_requests/78393#note_829818875) during backfilling because their source didn't exist.\n\nWe can re-verify all of routes with nil namespace_id have invalid source and delete these.\n\n**IMPORTANT**\nThis issue depends on backfill migration finishing successfully, i.e. we need to run a finalize migration first https://gitlab.com/gitlab-org/gitlab/-/issues/358956","state":"closed","created_at":"2022-02-09T10:27:36.788Z","updated_at":"2022-06-21T12:02:37.884Z","closed_at":"2022-06-20T11:00:22.595Z","closed_by":{"id":3483274,"username":"acroitor","name":"Alexandru Croitor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/461378ef52c26eec55e6c15ec09bb9ed?s=80\u0026d=identicon","web_url":"https://gitlab.com/acroitor"},"labels":["Deliverable","auto updated","devops::manage","group::organization","missed-deliverable","missed:15.0","namespace","quad-planning::complete-no-action","section::dev","type::maintenance","workflow::in review"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":3483274,"username":"acroitor","name":"Alexandru Croitor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/461378ef52c26eec55e6c15ec09bb9ed?s=80\u0026d=identicon","web_url":"https://gitlab.com/acroitor"}],"author":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"type":"ISSUE","assignee":{"id":3483274,"username":"acroitor","name":"Alexandru Croitor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/461378ef52c26eec55e6c15ec09bb9ed?s=80\u0026d=identicon","web_url":"https://gitlab.com/acroitor"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352371","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352371","notes":"https://gitlab.com/api/v4/projects/278964/issues/352371/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352371/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352371","relative":"#352371","full":"gitlab-org/gitlab#352371"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7184,"epic":{"id":392209,"iid":7184,"title":"Consolidate Group and Project routing","url":"/groups/gitlab-org/-/epics/7184","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102126311,"iid":352359,"project_id":278964,"title":"Do not validate existing metrics definitions when generating new YAML files using usage_data generator","description":"# Summary\n\nDo not validate existing metrics definitions when generating new YAML files using usage_data generator\n\n# Details\n\nEvery time we generate a new metric definition we validate all the existing file definitions.\n\nWhen a new metric definition is new after we generated it, it is not valid, it is missing a description or other attributes that need to be filled.\n\nThere are tests to cover that files comply the JSON schema.\n\n# Why\n\nThis is inconvenient when we need to generate multiple file definitions when we add multiple new metrics.\n\nThis happens for example when adding 4 new RedisHLL metrics \n\nWill make the metrics generation easier to use.\n\nThe validations are adding up time when we generate the metrics definitions ~46 seconds to generate a file","state":"closed","created_at":"2022-02-09T09:03:10.643Z","updated_at":"2022-08-15T08:44:09.626Z","closed_at":"2022-08-15T08:44:09.611Z","closed_by":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"labels":["Category:Service Ping","[deprecated] Accepting merge requests","backend","devops::analytics","group::product intelligence","section::analytics","type::maintenance"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":null,"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352359","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352359","notes":"https://gitlab.com/api/v4/projects/278964/issues/352359/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352359/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352359","relative":"#352359","full":"gitlab-org/gitlab#352359"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7996,"epic":{"id":514308,"iid":7996,"title":"Improve metrics definition YAML files generator","url":"/groups/gitlab-org/-/epics/7996","group_id":9970},"iteration":null,"health_status":null},{"id":102125643,"iid":352358,"project_id":278964,"title":"Project access tokens in admin credentials inventory cells overflowing","description":"## Overview\n\nAfter deployment of https://gitlab.com/gitlab-org/gitlab/-/issues/243833, it was noticed that certain long values overflowed the cells in the admin credentials inventory. It was not deemed to be a severe enough bug to block deployment so this issue is to resolve it. \n\n## Issues to resolve\n\n- [ ] Project names do not wrap\n- [ ] Timestamps should be **date only.**\n\n## Screenshot\n\n![Screenshot_2022-02-09_at_08.33.18](/uploads/2d377c33c89244d659ce932e03b3c48d/Screenshot_2022-02-09_at_08.33.18.png)\n\n## Implementation plan\n\n~frontend - :one: \n\n1. Add `gl-white-space-pre-wrap` to project links\n1. Change created on/last used/ expires to dates only\n1. Update specs if needed\n\nRelated to #243833.","state":"closed","created_at":"2022-02-09T08:53:20.978Z","updated_at":"2022-04-06T22:49:02.415Z","closed_at":"2022-02-11T08:47:42.050Z","closed_by":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"labels":["GitLab Ultimate","auto updated","devops::manage","frontend","group::authentication and authorization","maintenance::refactor","priority::1","section::dev","self-managed","type::maintenance","workflow::in review"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"}],"author":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"type":"ISSUE","assignee":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352358","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352358","notes":"https://gitlab.com/api/v4/projects/278964/issues/352358/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352358/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352358","relative":"#352358","full":"gitlab-org/gitlab#352358"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102121038,"iid":352353,"project_id":278964,"title":"Remove temporary index for backfilling namespace routes","description":"Related to https://gitlab.com/gitlab-org/gitlab/-/merge_requests/78393#note_836490832\n\nIn https://gitlab.com/gitlab-org/gitlab/-/merge_requests/78393 was added a temporary index for batched background migration, we can remove this index when migration is done.\n\n##### Details\n\nThis can be closed after have following 2 MRs merged:\n- https://gitlab.com/gitlab-org/gitlab/-/merge_requests/88629+\n- https://gitlab.com/gitlab-org/gitlab/-/merge_requests/88637+\n- validate not null constrain on `routes#namesapce_id`, see https://gitlab.com/gitlab-org/gitlab/-/merge_requests/88635+","state":"closed","created_at":"2022-02-09T07:48:31.602Z","updated_at":"2022-07-21T12:02:09.460Z","closed_at":"2022-06-27T09:46:50.200Z","closed_by":{"id":3483274,"username":"acroitor","name":"Alexandru Croitor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/461378ef52c26eec55e6c15ec09bb9ed?s=80\u0026d=identicon","web_url":"https://gitlab.com/acroitor"},"labels":["Deliverable","auto updated","devops::manage","group::organization","missed-deliverable","missed:15.0","namespace","quad-planning::complete-no-action","section::dev","type::maintenance","workflow::verification"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":3483274,"username":"acroitor","name":"Alexandru Croitor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/461378ef52c26eec55e6c15ec09bb9ed?s=80\u0026d=identicon","web_url":"https://gitlab.com/acroitor"}],"author":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"type":"ISSUE","assignee":{"id":3483274,"username":"acroitor","name":"Alexandru Croitor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/461378ef52c26eec55e6c15ec09bb9ed?s=80\u0026d=identicon","web_url":"https://gitlab.com/acroitor"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352353","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352353","notes":"https://gitlab.com/api/v4/projects/278964/issues/352353/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352353/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352353","relative":"#352353","full":"gitlab-org/gitlab#352353"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7184,"epic":{"id":392209,"iid":7184,"title":"Consolidate Group and Project routing","url":"/groups/gitlab-org/-/epics/7184","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102111770,"iid":352343,"project_id":278964,"title":"Failure in browser_ui/4_verify/new_discussion_not_dropping_merge_trains_mr_spec.rb | Verify In merge trains new thread discussion does not drop MR","description":"### Full description\n\nVerify In merge trains new thread discussion does not drop MR\n\n### File path\n\n./qa/specs/features/ee/browser_ui/4_verify/new_discussion_not_dropping_merge_trains_mr_spec.rb\n\n### Stack trace\n\n```\nFailure/Error:\n  show.wait_until(reload: false) do\n    show.has_content? 'started a merge train'\n  end\n\nQA::Support::Repeater::WaitExceededError:\n  Wait failed after 60 seconds\n```\n\nFirst happened in https://gitlab.com/gitlab-org/gitlab-qa-mirror/-/jobs/2071075966.","state":"closed","created_at":"2022-02-09T04:28:46.911Z","updated_at":"2022-03-10T17:23:08.373Z","closed_at":"2022-03-09T23:29:36.460Z","closed_by":{"id":9097212,"username":"richard.chong","name":"Richard Chong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9097212/avatar.png","web_url":"https://gitlab.com/richard.chong"},"labels":["Enterprise Edition","QA","Quality","automation:ml","failure::flaky-test","found:main","group::pipeline execution","needs weight","priority::2","section::ops","test","workflow::production"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":9097212,"username":"richard.chong","name":"Richard Chong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9097212/avatar.png","web_url":"https://gitlab.com/richard.chong"}],"author":{"id":1614863,"username":"gitlab-qa","name":"GitLab QA Bot","state":"active","avatar_url":"https://secure.gravatar.com/avatar/15fea3f486070f5cb8da2193b9585411?s=80\u0026d=identicon","web_url":"https://gitlab.com/gitlab-qa"},"type":"ISSUE","assignee":{"id":9097212,"username":"richard.chong","name":"Richard Chong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9097212/avatar.png","web_url":"https://gitlab.com/richard.chong"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352343","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352343","notes":"https://gitlab.com/api/v4/projects/278964/issues/352343/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352343/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352343","relative":"#352343","full":"gitlab-org/gitlab#352343"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102104609,"iid":352331,"project_id":278964,"title":"Roadmap settings - Milestones","description":"Add milestones settings in roadmap sidebar.\n\nAllows to turn off milestone and refine which ones to display.\n\n![Roadmap_settings](/uploads/8f5647996214ff8cedc1efd3f183432d/Roadmap_settings.png)\n\nRelated to #345158.","state":"closed","created_at":"2022-02-09T00:25:12.909Z","updated_at":"2022-04-22T21:38:05.600Z","closed_at":"2022-02-15T23:56:44.534Z","closed_by":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"labels":["backend","devops::plan","feature flag","frontend","group::product planning","roadmaps","section::dev","type::feature","workflow::production"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"}],"author":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"type":"ISSUE","assignee":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"user_notes_count":19,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352331","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352331","notes":"https://gitlab.com/api/v4/projects/278964/issues/352331/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352331/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352331","relative":"#352331","full":"gitlab-org/gitlab#352331"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102103913,"iid":352329,"project_id":278964,"title":"Improve epic tree usability and consistency to other widgets","description":"## Challenge\n- The epic tree styling differs from other similar widgets within work items like issues and MRs.\n- The usability of switching views within the epic tree should be improved to allow for better labeling and consistency.\n- The epic tree should be easily differentiated from similar objects like `Linked epics`\n\n\n#### Design considerations \u0026 flow\n- [x] Epic tree vs related epics differentiation\n- [x] Epic tree view vs roadmap view\n- [ ] ~~Ancestor view updates~~ [-Work on in follow up-]\n\n## Solution\nDesigns are included in this issue, and ready to be implemented\n \n###### :art: UI updates\n\n[View Figma doc](https://gitlab.com/gitlab-org/gitlab/-/issues/352329)\n\n* Move the epic \u0026 issues and roadmap tabs/seg buttons within the body of the widget\n* Move the `Show labels` option to the body of the widget as well, aligned right in the same row as the view options\n* Add a title to the widget. Currently thinking here is `Child epics and issues`\n* Contain the roadmap view within the widget itself","state":"closed","created_at":"2022-02-08T23:51:08.973Z","updated_at":"2022-04-25T18:00:52.434Z","closed_at":"2022-04-08T21:26:06.420Z","closed_by":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"labels":["UX","auto updated","devops::plan","documentation","epic tree","epics","frontend","group::product planning","section::dev","type::maintenance","workflow::production"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":3236898,"username":"rajatgitlab","name":"Rajat Jain","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3236898/avatar.png","web_url":"https://gitlab.com/rajatgitlab"}],"author":{"id":3617348,"username":"uhlexsis","name":"Alexis Ginsberg","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3617348/avatar.png","web_url":"https://gitlab.com/uhlexsis"},"type":"ISSUE","assignee":{"id":3236898,"username":"rajatgitlab","name":"Rajat Jain","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3236898/avatar.png","web_url":"https://gitlab.com/rajatgitlab"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352329","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":2},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352329","notes":"https://gitlab.com/api/v4/projects/278964/issues/352329/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352329/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352329","relative":"#352329","full":"gitlab-org/gitlab#352329"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7733,"epic":{"id":469902,"iid":7733,"title":" Epic linking MVC design updates","url":"/groups/gitlab-org/-/epics/7733","group_id":9970,"human_readable_end_date":"Nov 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":{"id":43346,"iid":53,"sequence":10,"group_id":9970,"title":"Iteration 10","description":null,"state":3,"created_at":"2021-12-21T00:05:01.995Z","updated_at":"2022-03-16T00:05:05.304Z","start_date":"2022-03-02","due_date":"2022-03-15","web_url":"https://gitlab.com/groups/gitlab-org/-/iterations/43346"},"health_status":null},{"id":102100617,"iid":352316,"project_id":278964,"title":"Move required pipeline configuration to Ultimate","description":"## Overview\n\nThe [required pipeline configuration](https://docs.gitlab.com/ee/user/admin_area/settings/continuous_integration.html#required-pipeline-configuration) feature is deprecated in GitLab 14.8 for Premium customers and is scheduled for removal in GitLab 15.0. This feature is not deprecated for GitLab Ultimate customers.\n\n## Proposal\n\n- The required pipeline configuration feature will be moved to the Ultimate tier by default\n- ~~GitLab will preserve a way via feature flag or another similar capability of enabling this for individual Premium customers as needed ([see requirement](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/80199#note_843142839) from @ogolowinski)~~\n\n## Rationale\n\nThis change to move the feature to GitLab's Ultimate tier is intended to help our features better align with our [pricing philosophy](https://about.gitlab.com/company/pricing/#three-tiers) as we see demand for this feature originating primarily from Executives. This change will also help GitLab remain consistent in its tiering strategy with the other related Ultimate-tier features of [security policies](https://docs.gitlab.com/ee/user/application_security/policies/) and [compliance framework pipelines](https://docs.gitlab.com/ee/user/project/settings/index.html#compliance-pipeline-configuration).","state":"closed","created_at":"2022-02-08T22:08:22.503Z","updated_at":"2022-09-13T16:00:02.387Z","closed_at":"2022-04-21T00:10:14.031Z","closed_by":{"id":9821577,"username":"huzaifaiftikhar1","name":"Huzaifa Iftikhar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9821577/avatar.png","web_url":"https://gitlab.com/huzaifaiftikhar1"},"labels":["Category:Compliance Management","Enterprise Edition","GitLab Premium","GitLab Ultimate","auto updated","backend","breaking change","customer","devops::manage","group::compliance","section::dev","type::maintenance","workflow::in review"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":9821577,"username":"huzaifaiftikhar1","name":"Huzaifa Iftikhar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9821577/avatar.png","web_url":"https://gitlab.com/huzaifaiftikhar1"}],"author":{"id":750946,"username":"dennis","name":"Dennis Tang","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/750946/avatar.png","web_url":"https://gitlab.com/dennis"},"type":"ISSUE","assignee":{"id":9821577,"username":"huzaifaiftikhar1","name":"Huzaifa Iftikhar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9821577/avatar.png","web_url":"https://gitlab.com/huzaifaiftikhar1"},"user_notes_count":21,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352316","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352316","notes":"https://gitlab.com/api/v4/projects/278964/issues/352316/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352316/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352316","relative":"#352316","full":"gitlab-org/gitlab#352316"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102088478,"iid":352300,"project_id":278964,"title":"Move registry import API calls out of transactions","description":"The following discussion from !78613 should be addressed:\n\n- [ ] @10io started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/78613#note_835906638): \n\n    \u003e Looking at this, I have an horrible doubt: the `after_transition` callbacks are executed outside the db transaction right? :thinking: \n    \u003e \n    \u003e With this change\n    \u003e \n    \u003e ```diff\n    \u003e diff --git a/app/models/container_repository.rb b/app/models/container_repository.rb\n    \u003e index c1fb2726d03..305819ecfca 100644\n    \u003e --- a/app/models/container_repository.rb\n    \u003e +++ b/app/models/container_repository.rb\n    \u003e @@ -152,6 +152,10 @@ class ContainerRepository \u003c ApplicationRecord\n    \u003e        container_repository.migration_skipped_at = Time.zone.now\n    \u003e      end\n    \u003e  \n    \u003e +    after_transition any =\u003e :import_skipped do\n    \u003e +      Rails.logger.debug('#' * 90)\n    \u003e +    end\n    \u003e +\n    \u003e      before_transition any =\u003e %i[import_done import_aborted] do\n    \u003e        # EnqueuerJob.enqueue perform_async or perform_in depending on the speed FF\n    \u003e        # To be implemented in https://gitlab.com/gitlab-org/gitlab/-/issues/349744\n    \u003e ```\n    \u003e \n    \u003e and executing:\n    \u003e \n    \u003e ```ruby\n    \u003e ContainerRepository.first.skip_import(reason: :too_many_tags)\n    \u003e ```\n    \u003e \n    \u003e Here is the rails log:\n    \u003e \n    \u003e ```\n    \u003e ContainerRepository Load (0.6ms)  SELECT \"container_repositories\".* FROM \"container_repositories\" ORDER BY \"container_repositories\".\"id\" ASC LIMIT 1\n    \u003e   TRANSACTION (0.4ms)  BEGIN\n    \u003e   ContainerRepository Exists? (0.6ms)  SELECT 1 AS one FROM \"container_repositories\" WHERE \"container_repositories\".\"name\" = '' AND \"container_repositories\".\"id\" != 1 AND \"container_repositories\".\"project_id\" = 22 LIMIT 1\n    \u003e   ContainerRepository Update (3.4ms)  UPDATE \"container_repositories\" SET \"updated_at\" = '2022-02-08 14:07:06.436876', \"migration_skipped_at\" = '2022-02-08 14:07:06.427261', \"migration_skipped_reason\" = 2, \"migration_state\" = 'import_skipped' WHERE \"container_repositories\".\"id\" = 1\n    \u003e ##########################################################################################\n    \u003e   TRANSACTION (7.7ms)  COMMIT\n    \u003e ```\n    \u003e \n    \u003e :crying_cat_face: (the `after_transition` is within the transaction)\n    \u003e \n    \u003e We will need to get this sorted but I think that this MR is big enough already. What about opening a issue and we handle it right after this one?\n\n[State_machine](https://www.rubydoc.info/github/state-machines/state_machines-activerecord/StateMachines/Integrations/ActiveRecord) observers may be able to solve this problem: `#after_import` and `#after_pre_import`. Otherwise we can disable transactions for the entire state machine, but that is an undesired solution.","state":"closed","created_at":"2022-02-08T18:42:40.077Z","updated_at":"2022-02-16T13:48:38.047Z","closed_at":"2022-02-16T13:48:37.998Z","closed_by":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"labels":["Category:Container Registry","Container Registry Migration","Container Registry Migration::Phase 2","backend","bug::performance","devops::package","group::package registry","ruby","section::ops","type::maintenance","workflow::production"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"}],"author":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"type":"ISSUE","assignee":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352300","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352300","notes":"https://gitlab.com/api/v4/projects/278964/issues/352300/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352300/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352300","relative":"#352300","full":"gitlab-org/gitlab#352300"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7316,"epic":{"id":408066,"iid":7316,"title":"Drive the Container Registry migration Phase 2 from Rails","url":"/groups/gitlab-org/-/epics/7316","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":102083911,"iid":352292,"project_id":278964,"title":"Add more granular logging to the Observer","description":"The following discussion from !79692 should be addressed:\n\n- [ ] @10io started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/79692#note_833828255): \n\n    \u003e I'm wondering if we shouldn't scope the relation to the conditions used by the Enqueuer job.\n    \u003e \n    \u003e Basically, I'm wondering if we want to have the progress within the workable scope.\n    \u003e \n    \u003e Right now, the line above takes into account _all_ container images. Wouldn't be more informative to have _only_ the images that are eligible to be picked up by the Enqueuer job?\n    \u003e \n    \u003e In other words, the Observer metrics should be bring an answer to: `What is the % progression of the current migrations (that targets Free plan and non VIP users)?`\n    \u003e \n    \u003e WDYT?\n\nThese count queries are not performant, so we will need to investigate solutions to optimize the queries or find alternative ways to log this data:\n\n- https://console.postgres.ai/gitlab/gitlab-production-tunnel-pg12/sessions/8476/commands/30041 - Full filter query (query that would run while importing free tier)\n- https://console.postgres.ai/gitlab/gitlab-production-tunnel-pg12/sessions/8476/commands/30108 - gitlab-org query (query that would run while importing gitlab-org)\n- https://console.postgres.ai/gitlab/gitlab-production-tunnel-pg12/sessions/8476/commands/30136 - query that would run on FOSS","state":"closed","created_at":"2022-02-08T17:51:41.398Z","updated_at":"2022-04-18T07:02:25.811Z","closed_at":"2022-03-23T15:46:28.440Z","closed_by":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"labels":["Category:Container Registry","Container Registry Migration","Container Registry Migration::Phase 2","Deliverable","OpsSection::needs-justification","Package:P1","backend","database","devops::package","group::package registry","missed-deliverable","ruby","section::ops","type::maintenance","workflow::blocked"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"}],"author":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"type":"ISSUE","assignee":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"user_notes_count":21,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352292","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352292","notes":"https://gitlab.com/api/v4/projects/278964/issues/352292/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352292/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352292","relative":"#352292","full":"gitlab-org/gitlab#352292"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7316,"epic":{"id":408066,"iid":7316,"title":"Drive the Container Registry migration Phase 2 from Rails","url":"/groups/gitlab-org/-/epics/7316","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102081269,"iid":352291,"project_id":278964,"title":"[Feature flag] enforce_auth_checks_on_uploads","description":"\n## Summary\n\nThis issue is to rollout [`enforce_auth_checks_on_uploads`](https://gitlab.com/gitlab-org/gitlab/-/issues/26781) on production,\nthat is currently behind the `enforce_auth_checks_on_uploads` feature flag.\n\nhttps://gitlab.com/gitlab-org/gitlab/-/merge_requests/80117\n\n## Owners\n\n- Team: ~\"group::code review\" \n- Most appropriate slack channel to reach out to: `#g_create_code_review`\n- Best individual to reach out to: @kerrizor\n- PM: @phikai\n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## Expectations\n\n### What are we expecting to happen?\n\nAuth checks will be enforced on all Upload requests\n\n### When is the feature viable?\n\n\u003c!-- What are the settings we need to configure in order to have this feature viable? --\u003e\n\n\u003c!-- \nExample below:\n \n1. Enable service ping collection\n   `ApplicationSetting.first.update(usage_ping_enabled: true)`\n--\u003e\n\n### What might happen if this goes wrong?\n\n\u003c!-- Should the feature flag be turned off? Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n_Consider mentioning checks for 5xx errors or other anomalies like an increase in redirects \n(302 HTTP response status)_\n\n### What can we check for monitoring production after rollouts?\n\n_Consider adding links to check for Sentry errors, Production logs for 5xx, 302s, etc._\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Enable the feature globally on non-production environments.\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e true --dev`\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e true --staging`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Specific rollout on production\n\n- Ensure that the feature MRs have been deployed to both production and canary.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- If you're using [project-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --project=gitlab-org/gitlab \u003cfeature-flag-name\u003e true`\n    - [ ] `/chatops run feature set --project=gitlab-org/gitlab-foss \u003cfeature-flag-name\u003e true`\n    - [ ] `/chatops run feature set --project=gitlab-com/www-gitlab-com \u003cfeature-flag-name\u003e true`\n- If you're using [group-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --group=gitlab-org \u003cfeature-flag-name\u003e true`\n    - [ ] `/chatops run feature set --group=gitlab-com \u003cfeature-flag-name\u003e true`\n- If you're using [user-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --user=\u003cyour-username\u003e \u003cfeature-flag-name\u003e true`\n- [ ] Verify that the feature works on the specific entries. Posting the QA result in this issue is preferable.\n\n### Preparation before global rollout\n\n- [ ] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [ ] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [ ] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [ ] Announce on [the feature issue](https://gitlab.com/gitlab-org/gitlab/-/issues/26781) an estimated time this will be enabled on GitLab.com.\n- [ ] Notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nFor visibility, all `/chatops` commands that target production should be executed in the `#production` slack channel and cross-posted (with the command results) to the responsible team's slack channel (`#g_TEAM_NAME`).\n\n- [ ] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e`\n  - Enable the feature globally on production environment.\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e true`\n- [ ] Announce on [the feature issue](https://gitlab.com/gitlab-org/gitlab/-/issues/26781) that the feature has been globally enabled.\n- [ ] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [ ] Create a merge request with the following changes. Ask for review and merge it.\n    - [ ] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the default-enabling MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-default-enabling-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [ ] (Optional) You can [create a separate issue](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [ ] Set the title to \"[Feature flag] Cleanup `\u003cfeature-flag-name\u003e`\".\n    - [ ] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [ ] Link this rollout issue as a related issue.\n    - [ ] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\nYou can either [create a follow-up issue for Feature Flag Cleanup](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) or use the checklist below in this same issue.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [ ] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag. Ask for review and merge it.\n    - [ ] Remove all references to the feature flag from the codebase.\n    - [ ] Remove the YAML definitions for the feature from the repository.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the cleanup MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-cleanup-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --dev`\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --staging`\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e`\n- [ ] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set \u003cfeature-flag-name\u003e false\n```","state":"closed","created_at":"2022-02-08T16:56:19.853Z","updated_at":"2022-08-08T10:03:09.859Z","closed_at":"2022-08-04T13:33:42.444Z","closed_by":{"id":5918904,"username":"marc_shaw","name":"Marc Shaw","state":"active","avatar_url":"https://secure.gravatar.com/avatar/78c946cb19e40815a2b5d97cefecec6a?s=80\u0026d=identicon","web_url":"https://gitlab.com/marc_shaw"},"labels":["Category:Authentication and Authorization","SUS::Non-impacting","authentication","backend","bug::vulnerability","customer","devops::create","feature flag","feature::addition","group::code review","priority::4","section::dev","security","severity::4","type::bug","workflow::blocked"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":5918904,"username":"marc_shaw","name":"Marc Shaw","state":"active","avatar_url":"https://secure.gravatar.com/avatar/78c946cb19e40815a2b5d97cefecec6a?s=80\u0026d=identicon","web_url":"https://gitlab.com/marc_shaw"}],"author":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"type":"ISSUE","assignee":{"id":5918904,"username":"marc_shaw","name":"Marc Shaw","state":"active","avatar_url":"https://secure.gravatar.com/avatar/78c946cb19e40815a2b5d97cefecec6a?s=80\u0026d=identicon","web_url":"https://gitlab.com/marc_shaw"},"user_notes_count":54,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352291","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":49,"completed_count":5},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"5 of 49 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352291","notes":"https://gitlab.com/api/v4/projects/278964/issues/352291/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352291/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352291","relative":"#352291","full":"gitlab-org/gitlab#352291"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102080794,"iid":352290,"project_id":278964,"title":"Remove Container Network Security and Container Host Security documentation","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\u003c!--\nA brief explanation of the why, not the what or how. Assume the reader doesn't know the\nbackground and won't have time to dig-up information from comment threads.\n--\u003e\n\nContainer Network Security and Container Host Security have been deprecated and will be removed in %15.0.\nAs part of this removal, we need to remove all of the feature documentation.\n\n## Relevant links\n\u003c!--\nInformation that the developer might need to refer to when implementing the issue.\n\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e)\n  - [Design 1](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n  - [Design 2](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n- [Similar implementation](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/\u003cid\u003e)\n--\u003e\n\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [ ] Documentation:\n- [ ] Feature flag:\n- [ ] Performance:\n- [ ] Testing:\n\n\n## Implementation plan\n\u003c!--\nSteps and the parts of the code that will need to get updated. The plan can also\ncall-out responsibilities for other team members or teams.\n\ne.g.:\n\n- [ ] ~frontend Step 1\n  - [ ] `@person` Step 1a\n- [ ] ~frontend Step 2\n\n--\u003e\n\nAll documentation related to Container Network and Host Security will be removed.\n\n* [ ] https://docs.gitlab.com/ee/user/project/clusters/protect/\n* [ ] https://docs.gitlab.com/ee/user/project/clusters/protect/container_network_security/\n* [ ] https://docs.gitlab.com/ee/user/project/clusters/protect/container_network_security/quick_start_guide.html\n* [ ] https://docs.gitlab.com/ee/user/project/clusters/protect/container_host_security/\n* [ ] https://docs.gitlab.com/ee/user/project/clusters/protect/container_host_security/quick_start_guide.html\n* [ ] https://docs.gitlab.com/ee/user/application_security/policies/index.html#container-network-policy\n* [ ] https://docs.gitlab.com/ee/user/application_security/threat_monitoring/\n* [ ] https://docs.gitlab.com/ee/user/clusters/agent/#kubernetes-network-security-alerts\n* [ ] https://docs.gitlab.com/ee/user/clusters/agent/repository.html#surface-network-security-alerts-from-cluster-to-gitlab\n* [ ] Any APIs related to this feature. https://docs.gitlab.com/ee/api/graphql/reference/#networkpolicy is one example; although additional APIs may also need to be removed.\n\n\u003c!--\nWorkflow and other relevant labels\n\n# ~\"group::\" ~\"Category:\" ~\"GitLab Ultimate\"\nOther settings you might want to include when creating the issue.\n\n# /assign @\n# /epic \u0026\n--\u003e","state":"closed","created_at":"2022-02-08T16:46:14.147Z","updated_at":"2022-12-29T03:09:02.561Z","closed_at":"2022-05-05T18:27:26.168Z","closed_by":{"id":5292351,"username":"sam.white","name":"Sam White","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d467fb024d1858d279e6a36e028436ac?s=80\u0026d=identicon","web_url":"https://gitlab.com/sam.white"},"labels":["Category:Container Host Security","Category:Container Network Security","[deprecated] Accepting merge requests","backend","devops::govern","documentation","group::security policies","maintenance::removal","section::sec","type::maintenance","workflow::verification"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":5292351,"username":"sam.white","name":"Sam White","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d467fb024d1858d279e6a36e028436ac?s=80\u0026d=identicon","web_url":"https://gitlab.com/sam.white"}],"author":{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"},"type":"ISSUE","assignee":{"id":5292351,"username":"sam.white","name":"Sam White","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d467fb024d1858d279e6a36e028436ac?s=80\u0026d=identicon","web_url":"https://gitlab.com/sam.white"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352290","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":17,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 17 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352290","notes":"https://gitlab.com/api/v4/projects/278964/issues/352290/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352290/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352290","relative":"#352290","full":"gitlab-org/gitlab#352290"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7477,"epic":{"id":433268,"iid":7477,"title":"Remove Container Network Security and Container Host Security","url":"/groups/gitlab-org/-/epics/7477","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102080622,"iid":352288,"project_id":278964,"title":"Remove Cilium Alert functionality from GitLab Rails and GitLab Agent for Kubernetes","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\u003c!--\nA brief explanation of the why, not the what or how. Assume the reader doesn't know the\nbackground and won't have time to dig-up information from comment threads.\n--\u003e\n\nContainer Network Security and Container Host Security have been deprecated and will be removed in %15.0.\nAs part of this removal, we will be removing the Cilium Alert functionality from the GitLab Agent (first implemented in https://gitlab.com/gitlab-org/cluster-integration/gitlab-agent/-/merge_requests/211), as well as the associated Rails backend code (internal API endpoint + services).\n\n## Relevant links\n\u003c!--\nInformation that the developer might need to refer to when implementing the issue.\n\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e)\n  - [Design 1](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n  - [Design 2](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n- [Similar implementation](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/\u003cid\u003e)\n--\u003e\n\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [ ] Documentation:\n- [ ] Feature flag:\n- [ ] Performance:\n- [ ] Testing:\n\n\n## Implementation plan\n\n- [x] ~backend Remove the cilium_alert [agent module](https://gitlab.com/gitlab-org/cluster-integration/gitlab-agent/-/commit/bebd525947eb59df0779b425722e42f6315c65aa)\n- [x] ~backend Remove the /cilium_alert [internal API endpoint](https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/lib/ee/api/internal/kubernetes.rb#L36-56) and the [NetworkAlertService](https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/services/alert_management/network_alert_service.rb)\n- [x] ~backend Remove accompanying test suites\n- [x] ~documentation Remove the [GitLab Agent alert metrics](https://docs.gitlab.com/ee/development/internal_api/#gitlab-agent-alert-metrics) section from the Internal API docs\n\n\u003c!--\nWorkflow and other relevant labels\n\n# ~\"group::\" ~\"Category:\" ~\"GitLab Ultimate\"\nOther settings you might want to include when creating the issue.\n\n# /assign @\n# /epic \u0026\n--\u003e","state":"closed","created_at":"2022-02-08T16:42:16.428Z","updated_at":"2022-12-29T03:09:03.132Z","closed_at":"2022-05-12T08:41:47.856Z","closed_by":{"id":5535431,"username":"mparuszewski","name":"Alan (Maciej) Paruszewski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535431/avatar.png","web_url":"https://gitlab.com/mparuszewski"},"labels":["Category:Container Network Security","backend","devops::govern","group::security policies","maintenance::removal","section::sec","type::maintenance","workflow::verification"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":5535431,"username":"mparuszewski","name":"Alan (Maciej) Paruszewski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535431/avatar.png","web_url":"https://gitlab.com/mparuszewski"}],"author":{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"},"type":"ISSUE","assignee":{"id":5535431,"username":"mparuszewski","name":"Alan (Maciej) Paruszewski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535431/avatar.png","web_url":"https://gitlab.com/mparuszewski"},"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352288","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":8,"completed_count":4},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"4 of 8 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352288","notes":"https://gitlab.com/api/v4/projects/278964/issues/352288/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352288/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352288","relative":"#352288","full":"gitlab-org/gitlab#352288"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7477,"epic":{"id":433268,"iid":7477,"title":"Remove Container Network Security and Container Host Security","url":"/groups/gitlab-org/-/epics/7477","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102080525,"iid":352287,"project_id":278964,"title":"Remove Threat Monitoring page","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\u003c!--\nA brief explanation of the why, not the what or how. Assume the reader doesn't know the\nbackground and won't have time to dig-up information from comment threads.\n--\u003e\n\nContainer Network Security and Container Host Security have been deprecated and will be removed in %15.0.\nAs part of this removal, will be removing the entire Threat Monitoring page at **Security \u0026 Compliance \u003e Threat Monitoring**, as well as any associated backend code.\nThe alerts tab may be re-implemented again in the future, so its removal should be contained in an individual commit that can be reverted. \n\n## Relevant links\n\u003c!--\nInformation that the developer might need to refer to when implementing the issue.\n\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e)\n  - [Design 1](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n  - [Design 2](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n- [Similar implementation](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/\u003cid\u003e)\n--\u003e\n\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [ ] Documentation:\n- [ ] Feature flag:\n- [ ] Performance:\n- [ ] Testing:\n\n\n## Implementation plan\n\n\n1. [x] ~frontend Remove the statistics tab from the threat monitoring page\n   * [x] delete `ee/app/assets/javascripts/threat_monitoring/components/statistics_history.vue`\n   * [x] delete `ee/app/assets/javascripts/threat_monitoring/components/statistics_summary.vue`\n   * [x] delete `ee/app/assets/javascripts/threat_monitoring/components/threat_monitoring_section.vue`\n   * [x] delete `ee/app/assets/javascripts/threat_monitoring/components/threat_monitoring_filters.vue`\n   * [x] delete `ee/app/assets/javascripts/threat_monitoring/components/no_environment_empty_state.vue`\n   * [x] delete references to `threat_monitoring_section`, `threat_monitoring_filters`, and `no_environment_empty_state` from `ee/app/assets/javascripts/threat_monitoring/components/app.vue`\n   * [x] delete statistics-related constants from `ee/app/assets/javascripts/threat_monitoring/components/constants.js`\n   * [x] delete statistics-related Vuex store in `ee/app/assets/javascripts/threat_monitoring/store`\n   * [x] delete statistic-related strings from `locale/gitlab.pot`\n   * [x] delete statistics-related constants in `ee/app/assets/javascripts/threat_monitoring/**/constants.js`\n   * [x] delete statistics-related mock data in `ee/spec/frontend/threat_monitoring/mocks`\n   * [x] delete statistics-related snapshots in `ee/spec/frontend/threat_monitoring/components/__snapshots__`\n\n2. [x] ~frontend in the code-base rename `ee/app/assets/javascripts/threat_monitoring` =\u003e `ee/app/assets/javascripts/security_orchestration`\n   * [x] rename `ee/app/assets/javascripts/threat_monitoring` =\u003e `ee/app/assets/javascripts/security_orchestration`\n   * [x] update `threat_monitoring` =\u003e `security_orchestration` in `ee/app/assets/javascripts/pages/projects/threat_monitoring`\n\n3. [x] ~frontend Remove cilium alert functionality (**NOTE:** Threat Monitoring -\u003e Alerts tab frontend code may be re-used in the future, so we should try to make the commit deleting this revert-able. Thus, it should be done as the last ~frontend MR for this epic)\n   * [x] update end-to-end tests to remove testing of `Alerts` tab (NOTE: these alerts are network policy specific, so remove them in a separate MR\n   * [x] delete the folder `ee/app/assets/javascripts/threat_monitoring/components/alerts`\n   * [x] delete css, `ee/app/assets/stylesheets/pages/threat_management.scss`\n   * [x] delete `ee/app/assets/javascripts/threat_monitoring/components/app.vue`\n   * [x] delete the environment picker\n   * [x] delete `ee/app/assets/javascripts/threat_monitoring/index.js`\n   * [x] delete the folder `ee/app/assets/javascripts/pages/projects/threat_monitoring`\n   * [x] delete `ee/app/views/projects/threat_monitoring/alert_details.html.haml`\n/threat_monitoring_helper_spec.rb`\n   * [x] delete alert-related strings from `locale/gitlab.pot`\n   * [x] delete alert-related constants in `ee/app/assets/javascripts/threat_monitoring/**/constants.js`\n   * [x] delete alert-related mock data in `ee/spec/frontend/threat_monitoring/mocks`\n   * [x] delete alert-related snapshots in `ee/spec/frontend/threat_monitoring/components/__snapshots__`\n\n- [x] ~backend \n  - [x] Remove `threat_monitoring` route from `ee/config/routes/project.rb`\n  - [x] Remove `Threat Monitoring` from the project sidebar (`ee/lib/ee/sidebars/projects/menus/security_compliance_menu.rb`)\n  - [x] Delete `ee/app/controllers/projects/threat_monitoring_controller.rb`\n  - [x] Delete `ee/app/helpers/projects/threat_monitoring_helper.rb`\n  - [x] Alerts\n     - [x] Remove `threat_monitoring` domain from `app/models/alert_management/alert.rb`\n     - [x] Write a migration to delete threat_monitoring alerts from the DB (`DELETE FROM alerts WHERE domain = 1`)\n     - [x] Remove `with_threat_monitoring_alerts` scope from `app/models/alert_management/alert.rb`\n     - [x] Remove `threat_monitoring` value from `app/graphql/types/alert_management/domain_filter_enum.rb`\n     - [x] Delete `ee/app/finders/ee/alert_management/alerts_finder.rb`\n     - [x] Delete `ee/app/presenters/ee/alert_management/alert_presenter.rb`\n  - [x] Delete threat monitoring policies from `ee/app/policies/ee/project_policy.rb`\n  - [x] Remove `threat_monitoring` licensed feature from `ee/app/models/license.rb`\n\n- [x] Tooling\n   - [x] Delete `threat_monitoring` code paths from `.gitlab/CODEOWNERS`\n\u003c!--\nWorkflow and other relevant labels\n\n# ~\"group::\" ~\"Category:\" ~\"GitLab Ultimate\"\nOther settings you might want to include when creating the issue.\n\n# /assign @\n# /epic \u0026\n--\u003e","state":"closed","created_at":"2022-02-08T16:39:28.222Z","updated_at":"2022-12-29T03:09:03.928Z","closed_at":"2022-06-14T18:33:47.820Z","closed_by":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"labels":["Category:Container Host Security","Category:Container Network Security","Deliverable","backend","backend complete","backend-weight::3","devops::govern","frontend","group::security policies","maintenance::removal","section::sec","type::maintenance","workflow::verification"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"}],"author":{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"},"type":"ISSUE","assignee":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352287","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":49,"completed_count":45},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"45 of 49 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352287","notes":"https://gitlab.com/api/v4/projects/278964/issues/352287/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352287/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352287","relative":"#352287","full":"gitlab-org/gitlab#352287"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7477,"epic":{"id":433268,"iid":7477,"title":"Remove Container Network Security and Container Host Security","url":"/groups/gitlab-org/-/epics/7477","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102080267,"iid":352285,"project_id":278964,"title":"Remove Network Policies","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\u003c!--\nA brief explanation of the why, not the what or how. Assume the reader doesn't know the\nbackground and won't have time to dig-up information from comment threads.\n--\u003e\n\nContainer Network Security has been deprecated and will be removed in %15.0.\nAs part of the removal, we need to remove the Network Security UI elements at **Security \u0026 Compliance \u003e Policies** as well as the backend code.\n\n![Screen_Shot_2022-02-08_at_10.33.19_AM](/uploads/fdd8c30fa494a4bde39b0623615a6f2f/Screen_Shot_2022-02-08_at_10.33.19_AM.png)\n\n## Relevant links\n\u003c!--\nInformation that the developer might need to refer to when implementing the issue.\n\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e)\n  - [Design 1](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n  - [Design 2](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n- [Similar implementation](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/\u003cid\u003e)\n--\u003e\n\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [ ] Documentation:\n- [ ] Feature flag:\n- [ ] Performance:\n- [ ] Testing:\n\n\n## Implementation plan\n- [x] ~frontend\n  * [x] delete networkPolicy-related policy list code in `ee/app/assets/javascripts/threat_monitoring/components/policies`\n  * [x] delete networkPolicy-related policy drawer code in `ee/app/assets/javascripts/threat_monitoring/components/policy_drawer`\n  * [x] delete networkPolicy-related policy editor code in `ee/app/assets/javascripts/threat_monitoring/components/policy_editor/network_policy/network_policy_editor.vue`\n  * [x] delete networkPolicies-related Vuex store in `ee/app/assets/javascripts/threat_monitoring/store`\n  * [x] delete networkPolicy-related strings from `locale/gitlab.pot`\n  * [x] delete networkPolicy-related constants in `ee/app/assets/javascripts/threat_monitoring/**/constants.js`\n  * [x] delete networkPolicy-related mock data in `ee/spec/frontend/threat_monitoring/mocks`\n  * [x] delete networkPolicy-related snapshots in `ee/spec/frontend/threat_monitoring/components/__snapshots__`\n  * [x] delete `networkIllustration from '@gitlab/svgs/dist/illustrations/network.svg';`\n- [x] ~\"backend\" \n  - [x] Delete network policy services in `ee/app/services/network_policies/`\n  - [x] Delete network policy-specific client code from [`lib/gitlab/kubernetes/kube_client.rb`](https://gitlab.com/gitlab-org/gitlab/-/blob/f1ec7d363947c292fed5825221617ec13847f451/lib/gitlab/kubernetes/kube_client.rb#L86)\n  - [x] Delete classes in `lib/gitlab/kubernetes/`\n     - [x] `CiliumNetworkPolicy`\n     - [x] `NetworkPolicyCommon`\n     - [x] `NetworkPolicy`\n  - [x] Delete `ee/app/controllers/projects/security/network_policies_controller.rb`\n  - [x] Delete `:network_policies` resource in `ee/config/routes/project.rb`\n  - [x] Remove network policy support (referred to as `container_policy` in this code) from `ee/app/controllers/projects/security/policies_controller.rb` and `ee/app/services/security/security_orchestration_policies/policy_configuration_validation_service.rb`\n  - [x] GraphQL\n     - [x] Delete `ee/app/graphql/resolvers/network_policy_resolver.rb`\n     - [x] Delete `ee/app/graphql/types/network_policy_type.rb`\n     - [x] Delete `ee/app/graphql/types/network_policy_kind_enum.rb`\n     - [x] Delete `:network_policy` connection from `ee/app/graphql/ee/types/project_type.rb`\n  - [-] Delete [`:read_threat_monitoring` authorization policy](https://gitlab.com/gitlab-org/gitlab/-/blob/f1ec7d363947c292fed5825221617ec13847f451/ee/app/policies/ee/project_policy.rb#L246) (potentially do this as part of https://gitlab.com/gitlab-org/gitlab/-/issues/352287 ?)\n  - [x] Delete Network Policy metrics\n     - [x] `e/app/workers/network_policy_metrics_worker.rb`\n     - [x] `ee/lib/ee/gitlab/usage_data_counters.rb`\n     - [x] `ee/lib/gitlab/usage_data_counters/network_policy_counter.rb`\n\n\n\u003c!--\nWorkflow and other relevant labels\n\n# ~\"group::\" ~\"Category:\" ~\"GitLab Ultimate\"\nOther settings you might want to include when creating the issue.\n\n# /assign @\n# /epic \u0026\n--\u003e","state":"closed","created_at":"2022-02-08T16:34:29.221Z","updated_at":"2022-12-29T03:09:04.595Z","closed_at":"2022-05-19T05:44:11.767Z","closed_by":{"id":5535431,"username":"mparuszewski","name":"Alan (Maciej) Paruszewski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535431/avatar.png","web_url":"https://gitlab.com/mparuszewski"},"labels":["Category:Container Network Security","Deliverable","backend","backend complete","backend-weight::5","devops::govern","frontend","frontend-weight::5","group::security policies","maintenance::removal","section::sec","type::maintenance","workflow::in dev"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":5535431,"username":"mparuszewski","name":"Alan (Maciej) Paruszewski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535431/avatar.png","web_url":"https://gitlab.com/mparuszewski"}],"author":{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"},"type":"ISSUE","assignee":{"id":5535431,"username":"mparuszewski","name":"Alan (Maciej) Paruszewski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535431/avatar.png","web_url":"https://gitlab.com/mparuszewski"},"user_notes_count":26,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352285","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":33,"completed_count":29},"weight":10,"blocking_issues_count":0,"has_tasks":true,"task_status":"29 of 33 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352285","notes":"https://gitlab.com/api/v4/projects/278964/issues/352285/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352285/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352285","relative":"#352285","full":"gitlab-org/gitlab#352285"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7477,"epic":{"id":433268,"iid":7477,"title":"Remove Container Network Security and Container Host Security","url":"/groups/gitlab-org/-/epics/7477","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102079687,"iid":352282,"project_id":278964,"title":"Remove Container Security helm charts from cluster-management template","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\u003c!--\nA brief explanation of the why, not the what or how. Assume the reader doesn't know the\nbackground and won't have time to dig-up information from comment threads.\n--\u003e\n\nContainer Network Security and Container Host Security have been deprecated and will be removed in %15.0.\nWe currently maintain some helm charts used to install the dependencies for these features into Kubernetes clusters.\nThese helm charts live in https://gitlab.com/gitlab-org/project-templates/cluster-management and will need to be included in the removal.\n\n## Relevant links\n\u003c!--\nInformation that the developer might need to refer to when implementing the issue.\n\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e)\n  - [Design 1](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n  - [Design 2](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n- [Similar implementation](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/\u003cid\u003e)\n--\u003e\n\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [ ] Documentation:\n- [ ] Feature flag:\n- [ ] Performance:\n- [ ] Testing:\n\n\n## Implementation plan\n\u003c!--\nSteps and the parts of the code that will need to get updated. The plan can also\ncall-out responsibilities for other team members or teams.\n\ne.g.:\n\n- [ ] ~frontend Step 1\n  - [ ] `@person` Step 1a\n- [ ] ~frontend Step 2\n\n--\u003e\n\n1. The following helm charts and integrations will be removed and no longer maintained by GitLab\n\n   * [x] AppArmor - https://gitlab.com/gitlab-org/charts/apparmor\n\n1. Update vendored template in GitLab Rails\n\n   * [x] AppArmor, Pod Security Policies - https://gitlab.com/gitlab-org/project-templates/cluster-management/-/tree/master/applications/apparmor\n   * [x] Cilium - https://gitlab.com/gitlab-org/project-templates/cluster-management/-/tree/master/applications/cilium\n   * [x] Falco - https://gitlab.com/gitlab-org/project-templates/cluster-management/-/tree/master/applications/falco\n   * [x] FluentD - https://gitlab.com/gitlab-org/project-templates/cluster-management/-/tree/master/applications/fluentd\n\n\u003c!--\nWorkflow and other relevant labels\n\n# ~\"group::\" ~\"Category:\" ~\"GitLab Ultimate\"\nOther settings you might want to include when creating the issue.\n\n# /assign @\n# /epic\n--\u003e","state":"closed","created_at":"2022-02-08T16:25:56.375Z","updated_at":"2022-12-29T03:09:05.527Z","closed_at":"2022-05-17T04:03:32.136Z","closed_by":{"id":480804,"username":"thiagocsf","name":"Thiago Figueir","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480804/avatar.png","web_url":"https://gitlab.com/thiagocsf"},"labels":["Category:Container Host Security","Category:Container Network Security","backend","devops::govern","group::security policies","maintenance::removal","section::sec","type::maintenance","workflow::verification"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":5535431,"username":"mparuszewski","name":"Alan (Maciej) Paruszewski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535431/avatar.png","web_url":"https://gitlab.com/mparuszewski"}],"author":{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"},"type":"ISSUE","assignee":{"id":5535431,"username":"mparuszewski","name":"Alan (Maciej) Paruszewski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535431/avatar.png","web_url":"https://gitlab.com/mparuszewski"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352282","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":12,"completed_count":5},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"5 of 12 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352282","notes":"https://gitlab.com/api/v4/projects/278964/issues/352282/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352282/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352282","relative":"#352282","full":"gitlab-org/gitlab#352282"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7477,"epic":{"id":433268,"iid":7477,"title":"Remove Container Network Security and Container Host Security","url":"/groups/gitlab-org/-/epics/7477","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102067397,"iid":352264,"project_id":278964,"title":"Replace usage of GlTable sort-changed with sortObjectToString where applicable","description":"## Problem to solve\n\nThere are several instances where [`GlTable`](https://gitlab-org.gitlab.io/gitlab-ui/?path=/story/base-table-table--default)'s sort change event state is converted into a sort string. Ideally this could be more [DRY](https://qvault.io/clean-code/dry-code/#:~:text=What%20is%20DRY%20Code%3F,data%20normalization%20to%20avoid%20redundancy.). Instances:\n\n- [x] `fetchSortedData` in `app/assets/javascripts/alert_management/components/alert_management_table.vue` MR: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/82080\n- [x] `fetchSortedData` in `ee/app/assets/javascripts/threat_monitoring/components/alerts/alerts_list.vue` MR:https://gitlab.com/gitlab-org/gitlab/-/merge_requests/82212\n- [x] ~~`fetchSortedData` in `app/assets/javascripts/incidents/components/incidents_list.vue`~~\n- [x] ~~`handleSortChange` in `ee/app/assets/javascripts/security_dashboard/components/shared/vulnerability_report/vulnerability_list.vue`~~\n\n## Suggested solution\n\nLook at sort change event handlers and replace use [`sortObjectToString`](https://gitlab.com/gitlab-org/gitlab/blob/master/app/assets/javascripts/lib/utils/table_utility.js#L19) where applicable.","state":"closed","created_at":"2022-02-08T14:19:15.025Z","updated_at":"2022-03-15T13:13:17.337Z","closed_at":"2022-03-15T13:09:10.509Z","closed_by":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"labels":["devops::manage","frontend","group::compliance","section::dev","type::maintenance"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":10812805,"username":"egekzt","name":"Ege Kzltan","state":"active","avatar_url":"https://secure.gravatar.com/avatar/9a035d42c54dd6774d769f7b6afe1f13?s=80\u0026d=identicon","web_url":"https://gitlab.com/egekzt"}],"author":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"type":"ISSUE","assignee":{"id":10812805,"username":"egekzt","name":"Ege Kzltan","state":"active","avatar_url":"https://secure.gravatar.com/avatar/9a035d42c54dd6774d769f7b6afe1f13?s=80\u0026d=identicon","web_url":"https://gitlab.com/egekzt"},"user_notes_count":15,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352264","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":4},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"4 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352264","notes":"https://gitlab.com/api/v4/projects/278964/issues/352264/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352264/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352264","relative":"#352264","full":"gitlab-org/gitlab#352264"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102047642,"iid":352245,"project_id":278964,"title":"Rate limit webhook execution and backoff","description":"## Summary\n\nFrom https://gitlab.com/gitlab-com/gl-infra/production/-/issues/6299#note_835373941\n\nIt is possible that there are several thousands of jobs finish at\nroughly the same time, causing web hooks to fire. When all these\nwebhooks fire, we update the status of the `WebHook` in the\n`WebHooks::LogExecutionWorker`. All of these workers will try to\nupdate the same row in the database, causing lock contention.\n\nThe update is skipped when it isn't necessary based on the attributes\nloaded on the webhook when the job started, but because many jobs were\nrunning at the same time, this would not prevent us trying the update\nanyway.\n\n## Impact\n\nThe concurrent updates to a single row could create a lock contention in the database:\n![image](/uploads/6fccf940862db3a5f6a1ec8f1d43844a/image.png)\n\nThis in turn causes all these jobs to wait, decreasing throughput and increasing the backlog of other jobs.\n\n![image](https://gitlab.com/gitlab-com/gl-infra/production/uploads/aec4ee9f2267b5084a29f3ec34525887/image.png)\n\nThis shows the total time spent processing jobs and the amount of that time spent in the database, and the correlation with the dip in started jobs.\n\n![image](https://gitlab.com/gitlab-com/gl-infra/production/uploads/af134123ce6b66b04197bd5ba443e575/image.png)\n\n## Recommendation\n\u003c!--\nProvide a clear, unambiguous, self-contained solution to the problem.\n--\u003e\n\nAt the least we should limit the amount of concurrent updates for that\nsingle row. But we should probably consider rate-limiting a single\nwebhook for everyone: https://gitlab.com/gitlab-org/gitlab/-/issues/337228","state":"closed","created_at":"2022-02-08T09:58:44.176Z","updated_at":"2022-11-24T18:22:00.157Z","closed_at":"2022-03-07T22:24:56.100Z","closed_by":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"labels":["Category:Webhooks","Deliverable","Eng-Consumer::Infrastructure","Eng-Inter-Dept::Rate Limits","Eng-Producer::Development","Engineering Allocation","availability::limit","backend","corrective action","devops::manage","group::integrations","infradev","priority::2","section::dev","severity::2","type::bug","workflow::production"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"}],"author":{"id":171554,"username":"reprazent","name":"Bob Van Landuyt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/171554/avatar.png","web_url":"https://gitlab.com/reprazent"},"type":"ISSUE","assignee":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"user_notes_count":31,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352245","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352245","notes":"https://gitlab.com/api/v4/projects/278964/issues/352245/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352245/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352245","relative":"#352245","full":"gitlab-org/gitlab#352245"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8975,"epic":{"id":623279,"iid":8975,"title":"Improve the reliability of webhooks: Webhook rate limiting","url":"/groups/gitlab-org/-/epics/8975","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102039787,"iid":352229,"project_id":278964,"title":"Coverage-check approval rule can not be accessed in EE Premium","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"type::bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=type::bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nAccording to the [doc](https://about.gitlab.com/releases/2021/07/22/gitlab-14-1-released/#code-coverage-merge-request-approval-rule) and [release note](https://docs.gitlab.com/ee/ci/pipelines/settings.html#coverage-check-approval-rule), the coverage check approval rule is a feature in EE Premium, however this feature can only be accessed in EE Ultimate. \n\nSee code: https://gitlab.com/gitlab-org/gitlab/-/blob/6184e4018e2000e1ecb8a49a797d3e437cdd7a61/ee/app/models/license.rb#L189\n\n\n### Steps to reproduce\n\n- Config `Coverage-Check` approval rules in a premium plan's project general setting.\n\n![image](/uploads/e243ea40354ce50c117a458ab2c7577b/image.png)\n\n- Create a merge request and expand the `View eligible approvers`\n\n![image](/uploads/34bce2e94202f945f1cbeddbbe0cd12d/image.png)\n\n### Example Project\n\nhttps://jihulab.com/xg-premium-test/coverage-test/-/merge_requests/2\n\n### What is the current *bug* behavior?\n\nThe `Coverage-Check` approval rules is not displayed\n\n### What is the expected *correct* behavior?\n\nThe `Coverage-Check` approval rules should work and be displayed\n\n### Relevant logs and/or screenshots\n\n\n\n### Output of checks\n\n\n\n#### Results of GitLab environment info\n\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\nVersion:        14.8.0-pre\nRevision:       84105b97854\nDirectory:      /Users/qiankun/IdeaProjects/gitlab-development-kit/gitlab\nDB Adapter:     PostgreSQL\nDB Version:     12.6\nURL:            http://127.0.0.1:3000\nHTTP Clone URL: http://127.0.0.1:3000/some-group/some-project.git\nSSH Clone URL:  ssh://git@127.0.0.1:2222/some-group/some-project.git\nElasticsearch:  no\nGeo:            no\nUsing LDAP:     no\nUsing Omniauth: yes\nOmniauth Providers: google_oauth2\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e\n\nThe **approval rules** is [currently generated](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/59698#note_575860010) under ~\"GitLab Ultimate\". To \"downgrade\" this feature, we will need to:\n\n1. Create a new `feature keyword (report_approval_coverage)` in our [EEP License](https://gitlab.com/gitlab-org/gitlab/-/blob/72874e375474cad521f3d68dac3f1ecc91f86e2e/ee/app/models/license.rb#L65-151)\n1. Generate an approval rule if our new feature `report_approval_coverage` license is supported.","state":"closed","created_at":"2022-02-08T08:05:34.168Z","updated_at":"2022-05-05T10:03:14.847Z","closed_at":"2022-04-22T09:10:35.755Z","closed_by":{"id":5251734,"username":"morefice","name":"Max Orefice","state":"active","avatar_url":"https://secure.gravatar.com/avatar/0a910912e24727d7eef579cd047f7651?s=80\u0026d=identicon","web_url":"https://gitlab.com/morefice"},"labels":["Category:Code Testing and Coverage","GitLab Premium","Verify::P2","approaching-SLO","automation:ml","automation:ml wrong","backend","customer","devops::verify","group::pipeline insights","missed-SLO","missed:14.10","needs weight","priority::2","section::dev","severity::2","type::bug","workflow::production"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":5251734,"username":"morefice","name":"Max Orefice","state":"active","avatar_url":"https://secure.gravatar.com/avatar/0a910912e24727d7eef579cd047f7651?s=80\u0026d=identicon","web_url":"https://gitlab.com/morefice"}],"author":{"id":2161701,"username":"qk44077907","name":"Kun Qian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2161701/avatar.png","web_url":"https://gitlab.com/qk44077907"},"type":"ISSUE","assignee":{"id":5251734,"username":"morefice","name":"Max Orefice","state":"active","avatar_url":"https://secure.gravatar.com/avatar/0a910912e24727d7eef579cd047f7651?s=80\u0026d=identicon","web_url":"https://gitlab.com/morefice"},"user_notes_count":38,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352229","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352229","notes":"https://gitlab.com/api/v4/projects/278964/issues/352229/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352229/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352229","relative":"#352229","full":"gitlab-org/gitlab#352229"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"at_risk"},{"id":102030943,"iid":352210,"project_id":278964,"title":"2FA status of the members of groups/projects are leaked through the source code","description":"**[HackerOne report #1470023](https://hackerone.com/reports/1470023)** by `albatraoz` on 2022-02-03, assigned to @nmalcolm:\n\n[Report](#report) | [Attachments](#attachments) | [How To Reproduce](#how-to-reproduce)\n\n## Original Report\n\n#####  Summary  \n2FA status of the users is a confidential information and should be only visible to peopler that the user allows to. According to the group [permissions](https://docs.gitlab.com/ee/user/permissions.html) the 2FA status of the members of a group/project should be only visible to the owners/maintainers of the groups/projects \u0026 only they should be able to filter members on the basis of it. But the source code of the members list page is leaking the 2FA status of all the users.\n\n\u003cdetails\u003e\n\u003csummary\u003eClick here to view\u003c/summary\u003e\n\n\n#####  Steps to reproduce  \nI've created a simple python script for easy reproduction:  \n1.  Install dependencies  \n```  \npip3 install beautifulsoup4  \n```  \n2. Create a python file with the following code  \n```  \nfrom bs4 import BeautifulSoup  \nimport requests  \nimport sys  \nimport json  \ngroup_name = sys.argv[1]  \nres = requests.get(f\"https://gitlab.com/groups/{group_name}/-/group_members\")  \ndata = res.content  \nsoup = BeautifulSoup(data, 'html.parser')  \ndiv = soup.find(\"div\", {\"class\": \"js-group-members-list-app\"})  \nres = json.loads(div[\"data-members-data\"])  \nfor member in res[\"user\"][\"members\"]:  \n\tprint(f'Username: {member[\"user\"][\"username\"]}, 2FA Enabled: {member[\"user\"][\"two_factor_enabled\"]}')  \n```  \n3. Run the python script with the group name for which you want to expose the 2FA status of.  \nI've created a group for testing called 2fa_check, you can use it too.  \n```  \npython3 get_2fa_status.py 2fa2  \n```  \n4. You would see the 2FA status of the members of the group being printed.\n\n![Screenshot_from_2022-02-04_00-04-49.png](https://h1.sec.gitlab.net/a/d982ee4e-eb8d-41b0-9fd5-a6a5070068b0/Screenshot_from_2022-02-04_00-04-49.png)\n\nYou can check the same group as you are not member of the group but still you will get the results.\n\n####  Impact\n\nTwo factor authentication is a confidential security related PII data of the members which should not be accessible to the anyone except the owners/maintainers of projects/groups. An attacker would be able to retrieve this information easily using this vulnerability.\n\n## Attachments\n\n**Warning:** Attachments received through HackerOne, please exercise caution!\n\n* [Screenshot_from_2022-02-04_00-04-49.png](https://h1.sec.gitlab.net/a/d982ee4e-eb8d-41b0-9fd5-a6a5070068b0/Screenshot_from_2022-02-04_00-04-49.png)\n* [get_2fa_status.py](https://h1.sec.gitlab.net/a/9610d115-e14b-44a6-b86d-28b4ad85fc48/get_2fa_status.py)\n\n\u003c/details\u003e\n\n## How To Reproduce\n\n\n1. Open browser of choice's Developer Tools (or use cURL)\n1. As a logged out user, open any Group Members page for a public group. \n    1. N.b. also works for logged in users looking at any Group you're a member of, or as a logged in user looking at public groups that you're not a member of\n1. Scroll through the server-provided response and look for a `div` with the class `js-group-members-list-app` (not the browser-rendered response)\n1. View html encoded user deetz, incl. MFA status\n\nIn the below example, you see a signed out view of a public group, disclosing MFA status.\n\n![Screen_Shot_2022-02-08_at_3.58.03_PM](/uploads/596226ac6c6ebe5aab59723d1c129bf2/Screen_Shot_2022-02-08_at_3.58.03_PM.png)\n\n\n### TODO / Other vulnerable endpoints\n\n The Group Members API seems fine:\n\n```\n[{\"id\":24,\"username\":\"victim\",\"name\":\"Vic Tim\",\"state\":\"active\",\"avatar_url\":\"https://www.gravatar.com/avatar/cde15812b77a38321e6696050acb6d2c?s=80\\u0026d=identicon\",\"web_url\":\"http://gdk.test:3000/victim\",\"access_level\":50,\"created_at\":\"2022-02-08T02:28:04.698Z\",\"expires_at\":null,\"membership_state\":\"active\"},{\"id\":8,\"username\":\"jeff_collins\",\"name\":\"Annita Weimann\",\"state\":\"active\",\"avatar_url\":\"https://www.gravatar.com/avatar/426f608516a49b9c7d5c78abc659c9cb?s=80\\u0026d=identicon\",\"web_url\":\"http://gdk.test:3000/jeff_collins\",\"access_level\":10,\"created_at\":\"2022-02-08T02:46:20.063Z\",\"expires_at\":null,\"membership_state\":\"active\"},{\"id\":22,\"username\":\"nm\",\"name\":\"Nick Malcolm\",\"state\":\"active\",\"avatar_url\":\"http://gdk.test:3000/uploads/-/system/user/avatar/22/avatar.png\",\"web_url\":\"http://gdk.test:3000/nm\",\"access_level\":10,\"created_at\":\"2022-02-08T02:46:20.221Z\",\"expires_at\":null,\"membership_state\":\"active\"}]\n```\n\n GraphQL API\n\n Projects Members page\n\n What else?\n\n\n### Why is this happening?\n\nI (@nmalcolm) think it's because the UI shows badges to owners/maintainers, but the page response is returning it to everyone. E.g. here's the AppSec team:\n\n![Screen_Shot_2022-02-08_at_4.02.32_PM](/uploads/bc3f3e567266c480a9cbefba7cc885d0/Screen_Shot_2022-02-08_at_4.02.32_PM.png)\n\n### Why is this bad?\n\nWell, we say we only show this status to a certain Role, so it's at least a documentation update if intentional.\n\nBut as an attacker, being able to see which users (e.g. of a popular open source project) has MFA disabled means I know who to target in a phishing attack. Or if I have a list of breached passwords, I can more easily know which accounts to skip because MFA is protecting them.","state":"closed","created_at":"2022-02-08T02:54:28.517Z","updated_at":"2023-01-04T04:28:40.420Z","closed_at":"2022-06-30T19:47:32.705Z","closed_by":{"id":13356,"username":"dblessing","name":"Drew Blessing","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b5bf44866b4eeafa2d8114bfe15da02f?s=80\u0026d=identicon","web_url":"https://gitlab.com/dblessing"},"labels":["Category:Authentication and Authorization","Deliverable","HackerOne","Weakness::CWE-200","backend","bug::vulnerability","devops::manage","group::authentication and authorization","priority::3","section::dev","security","severity::3","type::bug","workflow::awaiting security release"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":13356,"username":"dblessing","name":"Drew Blessing","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b5bf44866b4eeafa2d8114bfe15da02f?s=80\u0026d=identicon","web_url":"https://gitlab.com/dblessing"}],"author":{"id":2741139,"username":"gitlab-securitybot","name":"GitLab SecurityBot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2741139/avatar.png","web_url":"https://gitlab.com/gitlab-securitybot"},"type":"ISSUE","assignee":{"id":13356,"username":"dblessing","name":"Drew Blessing","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b5bf44866b4eeafa2d8114bfe15da02f?s=80\u0026d=identicon","web_url":"https://gitlab.com/dblessing"},"user_notes_count":34,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2022-05-26","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352210","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352210","notes":"https://gitlab.com/api/v4/projects/278964/issues/352210/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352210/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352210","relative":"#352210","full":"gitlab-org/gitlab#352210"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102027258,"iid":352200,"project_id":278964,"title":"Play multiple jobs from a pipeline from UI","description":"\u003c!-- The first section \"Release notes\" is required if you want to have your release post blog MR auto generated. Currently in BETA, details on the **release post item generator** can be found in the handbook:  https://about.gitlab.com/handbook/marketing/blog/release-posts/#release-post-item-generator and this video: https://www.youtube.com/watch?v=rfn9ebgTwKg. The next four sections: \"Problem to solve\", \"Intended users\", \"User experience goal\", and \"Proposal\", are strongly recommended in your first draft, while the rest of the sections can be filled out during the problem validation or breakdown phase. However, keep in mind that providing complete and relevant information early helps our product team validate the problem and start working on a solution. --\u003e\n\n### Release notes\n\n\u003c!-- What is the problem and solution you're proposing? This content sets the overall vision for the feature and serves as the release notes that will populate in various places, including the [release post blog](https://about.gitlab.com/releases/categories/releases/) and [Gitlab project releases](https://gitlab.com/gitlab-org/gitlab/-/releases). \" --\u003e\n\n### Problem to solve \n\nRight now in order for me to select a bunch of jobs to run (https://gitlab.com/gitlab-org/gitlab-build-images/-/pipelines/464826717/builds), I have to click the `Play` button really fast or hit Back and click the button.\n\n### Intended users\n\n\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n\n### User experience goal\n\nUsers should be able to retry  multiple jobs in the jobs tab on pipeline detail page without making the page reload each time.\n\n\n### Proposal\n\nDo not reload the page every time a job is retried.\n\n### Further details\n\n\u003c!-- Include use cases, benefits, goals, or any other details that will help us understand the problem better. --\u003e\n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?\nConsider adding checkboxes and expectations of users with certain levels of membership https://docs.gitlab.com/ee/user/permissions.html\n* [ ] Add expected impact to members with no access (0)\n* [ ] Add expected impact to Guest (10) members\n* [ ] Add expected impact to Reporter (20) members\n* [ ] Add expected impact to Developer (30) members\n* [ ] Add expected impact to Maintainer (40) members\n* [ ] Add expected impact to Owner (50) members \n\nPlease consider performing a threat model for the code changes that are introduced as part of this feature. To get started, refer to our Threat Modeling handbook page https://about.gitlab.com/handbook/security/threat_modeling/#threat-modeling. \n\nDon't hesitate to reach out to the Application Security Team (`@gitlab-com/gl-security/appsec`) to discuss any security concerns.\n--\u003e\n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/workflow.html#for-a-product-change\n\n* Add all known Documentation Requirements in this section. See https://docs.gitlab.com/ee/development/documentation/workflow.html\n* If this feature requires changing permissions, update the permissions document. See https://docs.gitlab.com/ee/user/permissions.html --\u003e\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\n### Available Tier\n\n\u003c!-- This section should be used for setting the appropriate tier that this feature will belong to. Pricing can be found here: https://about.gitlab.com/pricing/\n\n* Free\n* Premium/Silver\n* Ultimate/Gold\n--\u003e\n\n### Feature Usage Metrics \n\n\u003c!-- How are you going to track usage of this feature? Think about user behavior and their interaction with the product. What indicates someone is getting value from it?\n\nCreate tracking issue using the Snowplow event tracking template. See https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Snowplow%20event%20tracking.md\n\n--\u003e\n\n### What does success look like, and how can we measure that?\n\n\u003c!--\nDefine both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this.\n\nCreate tracking issue using the Snowplow event tracking template. See https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Snowplow%20event%20tracking.md\n--\u003e\n\n### What is the type of buyer?\n\n\u003c!-- What is the buyer persona for this feature? See https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/buyer-persona/\nIn which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#three-tiers --\u003e\n\n### Is this a cross-stage feature?\n\n\u003c!-- Communicate if this change will affect multiple Stage Groups or product areas. We recommend always start with the assumption that a feature request will have an impact into another Group. Loop in the most relevant PM and Product Designer from that Group to provide strategic support to help align the Group's broader plan and vision, as well as to avoid UX and technical debt. https://about.gitlab.com/handbook/product/#cross-stage-features --\u003e\n\n### Links / references\n\n\u003c!-- Label reminders - you should have one of each of the following labels.\nUse the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n--\u003e\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2022-02-08T00:07:25.260Z","updated_at":"2022-03-11T22:47:24.087Z","closed_at":"2022-03-08T19:29:07.656Z","closed_by":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"labels":["Category:Continuous Integration","GitLab Free","GitLab Premium","GitLab Ultimate","UX","auto updated","devops::verify","frontend","group::pipeline execution","section::ops","type::feature","workflow::production"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"}],"author":{"id":64248,"username":"stanhu","name":"Stan Hu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/64248/stanhu.jpg","web_url":"https://gitlab.com/stanhu"},"type":"ISSUE","assignee":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"user_notes_count":34,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352200","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352200","notes":"https://gitlab.com/api/v4/projects/278964/issues/352200/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352200/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352200","relative":"#352200","full":"gitlab-org/gitlab#352200"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102026966,"iid":352199,"project_id":278964,"title":"Determine ISBOM manifest file structure","description":"### Proposal\n\nFollowing on from the [Manifest file format](https://gitlab.com/gitlab-org/gitlab/-/issues/343403#note_820428718) discussion in [Create plan for ISBOM rollout](https://gitlab.com/gitlab-org/gitlab/-/issues/343403), we need to determine the exact structure for this file.\n\nFor example, the following structure was discussed [here](https://gitlab.com/gitlab-org/gitlab/-/issues/343403#note_820456582):\n\n```json\n{\n  \"version\": \"0.0.1\",\n  \"contents\": [\n    {\n      \"sbom\": {\n        \"path\": \"cyclonedx-ruby-bundler.json\",\n        \"sha256\": \"d0dec51ee8a7ba8181a9913a694943f38cb0dc21b2971f25c9fcdeaed826b58d\",\n        \"source\": \"git\"\n      },\n      \"build_file\": {\n        \"path\": \"ruby-project/Gemfile\",\n        \"sha256\": \"b8bb034f9b63bd0254fbc7c157cae746c75853f4643d6cea844dc48ddb57f522\",\n        \"source\": \"git\"\n      },\n      \"lock_file\": {\n        \"path\": \"ruby-project/Gemfile.lock\",\n        \"sha256\": \"e8d8f69393a36afb774a6fd8a2a82e0ca56f7284b2c66fe3a8890e1d05ed05bd\",\n        \"source\": \"git\"\n      },\n      \"package_manager\": {\n        \"name\": \"bundler\",\n        \"type\": \"gem\",\n        \"version\": \"3.2.20\"\n      }\n    }\n  ]\n}\n```\n\nAs was using a `files` array with a `type` [for each file](https://gitlab.com/gitlab-org/gitlab/-/issues/343403#note_832810564):\n\n```json\n{\n  \"version\": \"0.0.1\",\n  \"contents\": [\n    {\n      \"project\": {\n        \"name\": \"root\"\n      },\n      \"files\": [\n        {\n          \"type\": \"sbom\",\n          \"path\": \"cyclonedx-sbt.json\"\n        },\n        {\n          \"type\": \"build_file\",\n          \"path\": \"build.gradle\"\n        }\n      ]\n    },\n    {\n      \"project\": {\n        \"name\": \"proj1\"\n      },\n      \"files\": [\n        {\n          \"type\": \"sbom\",\n          \"path\": \"proj1/cyclonedx-sbt.json\"\n        },\n        {\n          \"type\": \"build_file\",\n          \"path\": \"build.gradle\"\n        }\n      ]\n    },\n    {\n      \"project\": {\n        \"name\": \"proj2\"\n      },\n      \"files\": [\n        {\n          \"type\": \"sbom\",\n          \"path\": \"proj2/cyclonedx-sbt.json\"\n        },\n        {\n          \"type\": \"build_file\",\n          \"path\": \"build.gradle\"\n        }\n      ]\n    }\n  ]\n}\n```\n\nThe purpose of this issue is to figure out the exact file format of the manifest file, taking into account the following:\n\n1. It should allow us to efficiently retrieve the data we want. For example, we may want the frontend to be able to display all files with package type `gem` - the manifest file should make it easy for us to fetch this data.\n1. It needs to be compressed.\n1. It needs to properly handle subprojects that don't have their own build/lock files, and instead inherit one of these files from a parent project.\n1. It must provide links between the vulnerabilities in the `gl-dependency-scanning-report.json` file and the dependencies in the CycloneDX report. Each component in the CycloneDX report will have a `purl` or \"package URL\", which is a URL string used to identify and locate a software package. We need to investigate whether this purl is sufficient to provide a link between vulnerabilities and dependencies.\n\n/cc @NicoleSchwartz @gonzoyumo @fcatteau\n\n\u003c!-- start-discoto-summary --\u003e\n## Auto-Summary :robot:\n\n\n\u003cdetails\u003e\n\u003csummary\u003eDiscoto Usage\u003c/summary\u003e\n\n---\n\n\u003e **Points**\n\u003e\n\u003e Discussion points are declared by headings, list items, and single\n\u003e lines that start with the text (case-insensitive) `point:`. For\n\u003e example, the following are all valid points:\n\u003e\n\u003e * `#### POINT: This is a point`\n\u003e * `* point: This is a point`\n\u003e * `+ Point: This is a point`\n\u003e * `- pOINT: This is a point`\n\u003e * `point: This is a **point**`\n\u003e\n\u003e Note that any markdown used in the point text will also be propagated\n\u003e into the topic summaries.\n\u003e\n\u003e **Topics**\n\u003e\n\u003e Topics can be stand-alone and contained within an issuable (epic,\n\u003e issue, MR), or can be inline.\n\u003e\n\u003e Inline topics are defined by creating a new thread (discussion)\n\u003e where the first line of the first comment is a heading that starts\n\u003e with (case-insensitive) `topic:`. For example, the following are all\n\u003e valid topics:\n\u003e\n\u003e * `# Topic: Inline discussion topic 1`\n\u003e * `## TOPIC: **{+A Green, bolded topic+}**`\n\u003e * `### tOpIc: Another topic`\n\u003e\n\u003e **Quick Actions**\n\u003e\n\u003e | Action                        | Description                                             |\n\u003e |-------------------------------|---------------------------------------------------------|\n\u003e | `/discuss sub-topic TITLE`    | Create an issue for a sub-topic. Does not work in epics |\n\u003e | `/discuss link ISSUABLE-LINK` | Link an issuable as a child of this discussion          |\n\u003e\n\n---\n\n\u003c/details\u003e\n\nLast updated by [this job](https://gitlab.com/gitlab-org/secure/pocs/discoto-runner/-/jobs/2065066414)\n\n\n\n\u003c!-- end-discoto-summary --\u003e\n\n\n\n\u003c!-- start-discoto-topic-settings --\u003e\u003cdetails\u003e\n\u003csummary\u003eDiscoto Settings\u003c/summary\u003e\n\n\u003cbr/\u003e\n\n```yaml\n---\nsummary:\n  max_items: -1\n  sort_by: created\n  sort_direction: ascending\n\n```\n\nSee the [settings schema](https://gitlab.com/gitlab-org/secure/pocs/discussion-automation#settings-schema) for details.\n\n\u003c/details\u003e\n\u003c!-- end-discoto-topic-settings --\u003e","state":"closed","created_at":"2022-02-07T23:52:34.259Z","updated_at":"2022-12-13T22:55:59.320Z","closed_at":"2022-04-19T14:06:34.856Z","closed_by":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"labels":["Category:Container Scanning","Category:Dependency Scanning","Deliverable","Software Bill of Materials (SBoM)","auto updated","backend","dependency list","devops::secure","discoto","group::composition analysis","missed-deliverable","missed:14.9","quad-planning::complete-no-action","section::sec","spike","type::feature","workflow::production"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"}],"author":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"type":"ISSUE","assignee":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352199","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352199","notes":"https://gitlab.com/api/v4/projects/278964/issues/352199/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352199/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352199","relative":"#352199","full":"gitlab-org/gitlab#352199"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6917,"epic":{"id":370405,"iid":6917,"title":"Internal SBOM Update + CycloneDX","url":"/groups/gitlab-org/-/epics/6917","group_id":9970,"human_readable_end_date":"May 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":102023867,"iid":352189,"project_id":278964,"title":"Ultimate Trial Status widget is oscillating between displaying 1 and 2 CTAs","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"type::bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=type::bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nOur Ultimate Trial Status widget is oscillating between displaying 1 and 2 CTAs. It should display 2 at all times.\n\n### Steps to reproduce\n\n- [x] Login to a Production namespace that has an active trial. \n- [x] Hover over the Ultimate trial status widget at the top of the left hand side nav. The widget will likely display one CTA (compare all plans)\n- [x] Refresh the page. Both CTAs (either Upgrade to Ultimate and Compare All Plans - control; Contact Sales and Compare all plans for the current running 80/20 Active trial status connect with Sales experiment) will appear. \n- [x] Take your cursor elsewhere, the widget will close. Leave for 10-15 seconds \n- [x] Revisit the widget and one CTA will appear.\n\n:movie_camera:  [Loom video of recorded behavior](https://www.loom.com/share/f36a718d0d78462998e38fb8c06fd8ad). \n\n### Example Project\n\n\u003c!-- If possible, please create an example project here on GitLab.com that exhibits the problematic \nbehavior, and link to it here in the bug report. If you are using an older version of GitLab, this \nwill also determine whether the bug is fixed in a more recent version. --\u003e\n\n### What is the current *bug* behavior?\n\nThe widget is inconsistently displaying one then two, then one CTA over the same session. This has been observed on Staging and Production. \n\nStaging - SaaS Trial group/namespace (5 days old)\nProduction - SaaS Trial group/namespace (25 days old)\n\n### What is the expected *correct* behavior?\n\nTwo CTAs - either Upgrade to Ultimate and Compare All Plans - control; Contact Sales and Compare all plans for candidate experience - should appear consistently together. \n\n### Relevant logs and/or screenshots\n\n\u003c!-- Paste any relevant logs - please use code blocks (```) to format console output, logs, and code\n as it's tough to read otherwise. --\u003e\n\n![Screen_Shot_2022-02-07_at_11.25.01_AM](/uploads/0db16e1b714c0c3b1a9730e7fafe5f40/Screen_Shot_2022-02-07_at_11.25.01_AM.png)\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\n\n#### Results of GitLab environment info\n\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e","state":"closed","created_at":"2022-02-07T21:40:11.075Z","updated_at":"2022-02-23T11:57:14.083Z","closed_at":"2022-02-23T11:57:14.061Z","closed_by":{"id":10216431,"username":"syarynovskyi","name":"Serhii Yarynovskyi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10216431/avatar.png","web_url":"https://gitlab.com/syarynovskyi"},"labels":["Stretch","devops::growth","group::acquisition","section::growth","type::bug","workflow::ready for review"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":10216431,"username":"syarynovskyi","name":"Serhii Yarynovskyi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10216431/avatar.png","web_url":"https://gitlab.com/syarynovskyi"}],"author":{"id":9347704,"username":"gdoud","name":"Gayle Doud","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9347704/avatar.png","web_url":"https://gitlab.com/gdoud"},"type":"ISSUE","assignee":{"id":10216431,"username":"syarynovskyi","name":"Serhii Yarynovskyi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10216431/avatar.png","web_url":"https://gitlab.com/syarynovskyi"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352189","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":5,"completed_count":5},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"5 of 5 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352189","notes":"https://gitlab.com/api/v4/projects/278964/issues/352189/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352189/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352189","relative":"#352189","full":"gitlab-org/gitlab#352189"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102005874,"iid":352166,"project_id":278964,"title":"Update checkout page with registration shared layout","description":"## What?\nThe purpose of this issue is to update the SaaS checkout flow experience and use the shared boilerplate from the registration/trial flow (See https://gitlab.com/gitlab-org/gitlab/-/issues/323086 for reference.).\n\n| Registration/trial flow | Checkout flow |\n| ------ | ------ |\n| ![image](/uploads/6d67c9b715b488d627f2b1c380ff984f/image.png)| ![image](/uploads/0d020bc59751a87bbc23ef609265fbc4/image.png) |\n\n## Why?\nUpdating the checkout page with the shared layout will allow the following:\n* A common base to launch our experiment, making it easier for the team to design and implement front-end changes. \n* A consistent user interface when people go through the paid checkout flow ([Signing up for GitLab while purchasing a subscription](https://www.figma.com/file/DCq7K8Srsv79tbH1yRkGbl/Document-user-flows-%5Bgitlab-org%2F-%2Fepics%2F3603%5D?node-id=302%3A5577)).\n\n## How?\n_This is not a redesign_ of the checkout page. We will use the same components and same layout (2 columns) and fit them in our [boilerplate](https://www.figma.com/file/Gp6i4ebGFAcZjzjok4P5h5/Boilerplates-Full-page-forms-(Trial%2C-Registration%2CCheckout)?node-id=148%3A1257).\n\n## Proposed solution\n### Overview Design \n\n| Step | Before | After |\n| ------ | ------ |------ |\n| Subscription detail | ![image](/uploads/148994cec3f4eca7c6636e4b4ea41280/image.png) | ![image](/uploads/c00ab92d8a386f828bc6d68b54894817/image.png) |\n| Customer info | ![image](/uploads/b218e259de5336cf26db673bd9237d80/image.png) | ![image](/uploads/76ed1559d334584f611f8d3d86625363/image.png) |\n| Billing address | ![image](/uploads/518f44437d6cad4662690d418fc1f7ec/image.png) | ![image](/uploads/23d051522d9cae4278f598d374579228/image.png) |\n| Payment method | ![image](/uploads/d67e0d3f679bb042bdc7de2f803a94ec/image.png) | ![image](/uploads/eb772d2aa550ceae23e0938c06982aad/image.png) |\n| Review \u0026 pay | ![image](/uploads/2040e6f492c0c2581b636a63483d598d/image.png) | ![image](/uploads/6206d25bb5cbf086ba1c40bcfddd9d7d/image.png)|\n\n### States \u0026 alerts \n\u003cimg src=\"/uploads/b278996789103ca5fdfe0863a5fa69c5/States_Alerts.png\" width=\"550\"\u003e\n\n### [Design specs](https://www.figma.com/file/Wn7kC7imZBSeiLLC5R3L4P/Layout-full-page-forms?node-id=946%3A16975)","state":"closed","created_at":"2022-02-07T15:25:59.296Z","updated_at":"2022-11-21T21:08:35.040Z","closed_at":"2022-06-02T16:25:22.599Z","closed_by":{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"},"labels":["Deliverable","Engineering","SUS::Impacting","UI polish","auto updated","devops::growth","group::acquisition","priority::4","section::growth","severity::4","type::maintenance","workflow::production"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"}],"author":{"id":4412383,"username":"kcomoli","name":"Kevin Comoli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4412383/avatar.png","web_url":"https://gitlab.com/kcomoli"},"type":"ISSUE","assignee":{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"},"user_notes_count":67,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352166","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352166","notes":"https://gitlab.com/api/v4/projects/278964/issues/352166/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352166/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352166","relative":"#352166","full":"gitlab-org/gitlab#352166"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":101989372,"iid":352145,"project_id":278964,"title":"VersionApp: Add indexed on other tables that are exported","description":"With https://gitlab.com/gitlab-services/version-gitlab-com/-/merge_requests/656 we add index on usage_data table updated_at column\n\nAdd indexed on other tables we export\n\n\nSee [here](https://gitlab.com/gitlab-services/version-gitlab-com/-/tree/master/scripts/data/sql) queries we run","state":"closed","created_at":"2022-02-07T11:17:22.461Z","updated_at":"2022-02-07T14:02:27.464Z","closed_at":"2022-02-07T14:02:27.456Z","closed_by":{"id":4807002,"username":"mikolaj_wawrzyniak","name":"Mikoaj Wawrzyniak","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4807002/avatar.png","web_url":"https://gitlab.com/mikolaj_wawrzyniak"},"labels":["backend","devops::growth","group::product intelligence","type::maintenance"],"milestone":null,"assignees":[],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":null,"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352145","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352145","notes":"https://gitlab.com/api/v4/projects/278964/issues/352145/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352145/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352145","relative":"#352145","full":"gitlab-org/gitlab#352145"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7502,"epic":{"id":435544,"iid":7502,"title":"Improve VersionApp export data script","url":"/groups/gitlab-org/-/epics/7502","group_id":9970,"human_readable_end_date":"May 22, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":101984506,"iid":352134,"project_id":278964,"title":"Handle contacts for issue move","description":"When a contact is created for an issue it should not be copied when an issue is moved to a project which does not belong to the same root group as the original issue.\n\nBut it should be copied them in case we move an issue within the main group structure.","state":"closed","created_at":"2022-02-07T10:09:27.395Z","updated_at":"2022-09-12T15:49:52.246Z","closed_at":"2022-02-10T14:58:58.647Z","closed_by":{"id":1933526,"username":"leetickett","name":"Lee Tickett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1933526/avatar.png","web_url":"https://gitlab.com/leetickett"},"labels":["CRM","backend","devops::plan","feature::enhancement","group::certify","section::dev","type::feature","workflow::in review"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":508743,"username":"jarka","name":"Jarka Koanov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"}],"author":{"id":508743,"username":"jarka","name":"Jarka Koanov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"},"type":"ISSUE","assignee":{"id":508743,"username":"jarka","name":"Jarka Koanov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352134","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352134","notes":"https://gitlab.com/api/v4/projects/278964/issues/352134/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352134/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352134","relative":"#352134","full":"gitlab-org/gitlab#352134"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7346,"epic":{"id":415604,"iid":7346,"title":"Link external organizations and contacts to issues","url":"/groups/gitlab-org/-/epics/7346","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":101980028,"iid":352128,"project_id":278964,"title":"Improvements / bug fixes vulnerability form","description":"The following discussion from !78703 should be addressed:\n\n There are some additional things I've noticed, but I don't want to hold up the MR anymore on minor improvements that we can address later. I also took a stab at doing them myself, but as I mentioned over Slack, we don't really have a robust validation framework and our custom CSS semi-breaks Bootstrap's own form validation feature, so what should be simple validation checks are surprisingly difficult to implement. I'll list out the additional things here for a potential follow-up issue:\n\n1. ~~Text fields only re-validate on blur rather than on input:~~ (https://gitlab.com/gitlab-org/gitlab/-/merge_requests/81172 fixes it)\n\n|How it works elsewhere|How it works on the new vuln page|\n|-|-|\n|![Peek_2022-02-02_23-59](/uploads/794864e073fc2bc79ec15b40141fca36/Peek_2022-02-02_23-59.gif)|![Peek_2022-02-02_23-58](/uploads/00df3e234c51b6df90d9d0fd05fd0aff/Peek_2022-02-02_23-58.gif)|\n\n2. ~~The submit form button is disabled when clicked, but does not show a loading spinner in the button:~~ (see https://gitlab.com/gitlab-org/gitlab/-/issues/352128#note_841877428)\n\n|How it works elsewhere|How it works on the new vuln page|\n|-|-|\n|![Peek_2022-02-03_00-03](/uploads/10061a57397e76ea177eedbcb09b23c2/Peek_2022-02-03_00-03.gif)|![Peek_2022-02-03_00-02](/uploads/632cf262cd328ba30d075286dbf5c1ff/Peek_2022-02-03_00-02.gif)|\n\n3. ~~I ran into an odd bug where after creating a vulnerability and clicking the back button, the fields are filled out with the values they had before, but trying to submit the form again clears the fields. The Status also looks like it's checked, but behind the scenes nothing is considered selected. Please see this video with audio:~~ Fixed by !81381\n\n||\n|-|\n|![2022-02-03_00-08-54](/uploads/5400e7883628e1319e0fa4e974032c41/2022-02-03_00-08-54.mp4)|\n\n4. ~~For the identifiers, adding new lines without filling them out and clicking the Submit button will accept them, but when a new character is added, the validation will instantly turn on for all of them. Please see this video with audio:~~ !81509 resolves this issue\n\n||\n|-|\n|![2022-02-03_00-13-15](/uploads/81673d253629b0d1f2651b03beb5d4e2/2022-02-03_00-13-15.mp4)|","state":"closed","created_at":"2022-02-07T09:06:53.633Z","updated_at":"2022-03-18T07:03:51.673Z","closed_at":"2022-03-01T10:23:28.667Z","closed_by":{"id":4907528,"username":"dftian","name":"Daniel Tian","state":"active","avatar_url":"https://secure.gravatar.com/avatar/5d7186a64c42708833291afd7749c7b5?s=80\u0026d=identicon","web_url":"https://gitlab.com/dftian"},"labels":["Category:Vulnerability Management","Deliverable","GitLab Ultimate","customer","devops::secure","documentation","feature::addition","frontend","group::threat insights","section::sec","type::feature","workflow::verification"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":4907528,"username":"dftian","name":"Daniel Tian","state":"active","avatar_url":"https://secure.gravatar.com/avatar/5d7186a64c42708833291afd7749c7b5?s=80\u0026d=identicon","web_url":"https://gitlab.com/dftian"}],"author":{"id":5535246,"username":"svedova","name":"Savas Vedova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535246/avatar.png","web_url":"https://gitlab.com/svedova"},"type":"ISSUE","assignee":{"id":4907528,"username":"dftian","name":"Daniel Tian","state":"active","avatar_url":"https://secure.gravatar.com/avatar/5d7186a64c42708833291afd7749c7b5?s=80\u0026d=identicon","web_url":"https://gitlab.com/dftian"},"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352128","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352128","notes":"https://gitlab.com/api/v4/projects/278964/issues/352128/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352128/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352128","relative":"#352128","full":"gitlab-org/gitlab#352128"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":101931067,"iid":352093,"project_id":278964,"title":"[FE] Refetch current and past licenses + future subscriptions, when a license is removed","description":"### Description\n\nWhen a license is removed in the self-managed subscription management page (`/admin/subscription`), current and past licenses and future subscriptions are not re-fetched. We should make sure these are updated, so the page reflects the new state.\n\nNote: Current work is going on to reset future subscriptions on the ~backend when a license is removed: https://gitlab.com/gitlab-org/gitlab/-/issues/352070.\n\nRelated to #352070, #341966, and #352092","state":"closed","created_at":"2022-02-05T15:17:02.204Z","updated_at":"2022-02-10T12:49:34.768Z","closed_at":"2022-02-10T12:49:34.752Z","closed_by":{"id":4961018,"username":"mlunoe","name":"Michael Lune","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4961018/avatar.png","web_url":"https://gitlab.com/mlunoe"},"labels":["Cloud License Sync - V2","[deprecated] Accepting merge requests","[deprecated] Category:Provision","devops::fulfillment","feature::enhancement","frontend","group::provision","section::fulfillment","type::feature","won't do","workflow::ready for development"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":4961018,"username":"mlunoe","name":"Michael Lune","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4961018/avatar.png","web_url":"https://gitlab.com/mlunoe"}],"author":{"id":4961018,"username":"mlunoe","name":"Michael Lune","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4961018/avatar.png","web_url":"https://gitlab.com/mlunoe"},"type":"ISSUE","assignee":{"id":4961018,"username":"mlunoe","name":"Michael Lune","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4961018/avatar.png","web_url":"https://gitlab.com/mlunoe"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352093","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352093","notes":"https://gitlab.com/api/v4/projects/278964/issues/352093/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352093/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352093","relative":"#352093","full":"gitlab-org/gitlab#352093"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6823,"epic":{"id":356925,"iid":6823,"title":"Define experience for early activation using cloud on instance with active non cloud license","url":"/groups/gitlab-org/-/epics/6823","group_id":9970,"human_readable_end_date":"Apr 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":101930850,"iid":352092,"project_id":278964,"title":"[FE] No active license, adding a future-dated license will show as current active license","description":"### Problem\n\n  ![Activate_Future_Cloud_License_for_New_Subscription](/uploads/eeadb8202fa1bb7866b089d9f6f39b93/Activate_Future_Cloud_License_for_New_Subscription.mp4)\n\n- Upon import a new license with the start in the future will be created + displayed as current (this is a UI state, in the backend the legacy license is still considered the current license)\n- **On refresh**: The view displays the future cloud license as a future license and the legacy licenses is displayed as the current one.\n\n[Source](https://gitlab.com/gitlab-org/gitlab/-/issues/341966#note_832622607).\n\n### Remedy\n\nUpon adding a new license we should re-request the current license instead of sending/adding it to be displayed manually.\n\ncc. @vshumilo","state":"closed","created_at":"2022-02-05T15:04:43.355Z","updated_at":"2022-02-16T13:54:27.204Z","closed_at":"2022-02-15T13:48:02.195Z","closed_by":{"id":4961018,"username":"mlunoe","name":"Michael Lune","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4961018/avatar.png","web_url":"https://gitlab.com/mlunoe"},"labels":["Cloud License Sync - V2","[deprecated] Category:Provision","devops::fulfillment","feature::enhancement","frontend","group::provision","section::fulfillment","type::bug","workflow::in review"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":4961018,"username":"mlunoe","name":"Michael Lune","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4961018/avatar.png","web_url":"https://gitlab.com/mlunoe"}],"author":{"id":4961018,"username":"mlunoe","name":"Michael Lune","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4961018/avatar.png","web_url":"https://gitlab.com/mlunoe"},"type":"ISSUE","assignee":{"id":4961018,"username":"mlunoe","name":"Michael Lune","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4961018/avatar.png","web_url":"https://gitlab.com/mlunoe"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352092","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352092","notes":"https://gitlab.com/api/v4/projects/278964/issues/352092/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352092/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352092","relative":"#352092","full":"gitlab-org/gitlab#352092"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6823,"epic":{"id":356925,"iid":6823,"title":"Define experience for early activation using cloud on instance with active non cloud license","url":"/groups/gitlab-org/-/epics/6823","group_id":9970,"human_readable_end_date":"Apr 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":101924051,"iid":352087,"project_id":278964,"title":"Remove edges from GraphQL queries in DAST profiles management","description":"The GraphQL queries in the DAST profiles management app unnecessarily query edges. Let's refactor them to query nodes directly.","state":"closed","created_at":"2022-02-05T08:28:45.112Z","updated_at":"2022-02-08T06:52:53.168Z","closed_at":"2022-02-08T06:52:53.153Z","closed_by":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"labels":["Category:DAST","devops::secure","group::dynamic analysis","section::sec","type::maintenance","workflow::in review"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"}],"author":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"type":"ISSUE","assignee":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"user_notes_count":2,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352087","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352087","notes":"https://gitlab.com/api/v4/projects/278964/issues/352087/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352087/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352087","relative":"#352087","full":"gitlab-org/gitlab#352087"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":101924008,"iid":352086,"project_id":278964,"title":"Deprecation warning in DAST profiles management","description":"In https://gitlab.com/gitlab-org/gitlab/-/issues/351899, we have noticed that the following warning is thrown when clicking on `Load more` in the DAST profiles management app:\n\n```\nThe updateQuery callback for fetchMore is deprecated, and will be removed in the next major version of Apollo Client.\n```\n\nIt looks like `updateQuery` is being deprecated in Apollo Client v3 and should be replaced with newer APIs.\n\nWe should be able to rewrite this with `merge` functions in cache policies: https://www.apollographql.com/docs/react/pagination/core-api/#merging-paginated-results.","state":"closed","created_at":"2022-02-05T08:23:51.909Z","updated_at":"2022-02-16T08:38:20.513Z","closed_at":"2022-02-16T08:38:20.499Z","closed_by":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"labels":["Category:DAST","devops::secure","group::dynamic analysis","maintenance::refactor","section::sec","type::maintenance","workflow::verification"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"}],"author":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"type":"ISSUE","assignee":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352086","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352086","notes":"https://gitlab.com/api/v4/projects/278964/issues/352086/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352086/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352086","relative":"#352086","full":"gitlab-org/gitlab#352086"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":101923907,"iid":352085,"project_id":278964,"title":"Prevent cache keys collapse in on-demand scans","description":"In https://gitlab.com/gitlab-org/gitlab/-/issues/351899, we have noticed that the on-demand scans app was throwing a warning:\n\n```\nCache data may be lost when replacing the dastProfiles field of a Project object.\n```\n\nThis happens only when the `Scan library` tab is activated and is due to the fact that this tab relies on the `ee/app/assets/javascripts/on_demand_scans/graphql/dast_profiles.query.graphql` GraphQL query that contains the following directive: `@connection(key: \"dastProfiles\")`. Setting a stable cache key with the `@connection` directive makes it easier to rewrite the cache paginated data when removing a DAST profile from the list. However, this cache key collapses with the `ee/app/assets/javascripts/on_demand_scans/graphql/on_demand_scan_counts.query.graphql` query that contains a non-paginated `dastProfiles` query, which is thus stored with the same key as `dast_profiles.query.graphql`.\n\nFixing this should be as easy as changing the cache key in `dast_profiles.query.graphql` to make sure it differs from the field's name.","state":"closed","created_at":"2022-02-05T08:19:14.019Z","updated_at":"2022-02-10T06:24:06.278Z","closed_at":"2022-02-08T06:54:41.331Z","closed_by":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"labels":["Category:DAST","devops::secure","group::dynamic analysis","section::sec","type::bug","workflow::in review"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"}],"author":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"type":"ISSUE","assignee":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352085","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352085","notes":"https://gitlab.com/api/v4/projects/278964/issues/352085/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352085/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352085","relative":"#352085","full":"gitlab-org/gitlab#352085"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":101919747,"iid":352079,"project_id":278964,"title":"Show custom message when tag deletion fails due to import","description":"## Proposal\n\nIn https://gitlab.com/gitlab-org/gitlab/-/issues/349747 we prevented tags from being deleted when container repositories are being imported as part of the Phase 2 migration.\n\nIn the UI, when a user tries to delete a tag while the repository is importing, they see a generic failure message:\n\n![Screen_Shot_2022-02-04_at_7.31.29_PM](/uploads/1a3cc163f3dea9cddb321f8960735376/Screen_Shot_2022-02-04_at_7.31.29_PM.png)\n\nWe should update to show a more specialized message in these cases. Proposed copy:\n\n```\nTags temporarily cannot be marked for deletion. Please try again in a few minutes. See https://gitlab.com/groups/gitlab-org/-/epics/5523 for more details.\n```","state":"closed","created_at":"2022-02-05T02:36:46.170Z","updated_at":"2022-04-13T19:39:46.688Z","closed_at":"2022-03-18T08:01:25.020Z","closed_by":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"labels":["Category:Container Registry","Container Registry Migration","Container Registry Migration::Phase 2","Deliverable","OpsSection::needs-justification","Package:P1","UX","auto updated","devops::package","frontend","group::package registry","package:active","section::ops","type::feature","workflow::production"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"}],"author":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"type":"ISSUE","assignee":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"user_notes_count":28,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352079","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352079","notes":"https://gitlab.com/api/v4/projects/278964/issues/352079/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352079/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352079","relative":"#352079","full":"gitlab-org/gitlab#352079"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7316,"epic":{"id":408066,"iid":7316,"title":"Drive the Container Registry migration Phase 2 from Rails","url":"/groups/gitlab-org/-/epics/7316","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"at_risk"},{"id":101914346,"iid":352068,"project_id":278964,"title":"Improve Accessibilty for TimeAgo Component","description":"This tracks the effort to add the `datetime` property to the time_ago component.\n\nIt improves accessibility because screen readers mostly use this field to identify the date which this field should describe. Also it makes it possible for scripts in the browser to parse the date properly.\n\n![image](/uploads/fcde54f722df174842f1dc1c22595c68/image.png)","state":"closed","created_at":"2022-02-04T21:15:46.190Z","updated_at":"2022-02-15T16:12:40.487Z","closed_at":"2022-02-15T15:45:22.173Z","closed_by":{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"},"labels":["Category:Continuous Integration","Community contribution","devops::verify","feature::enhancement","group::pipeline execution","section::ops","type::feature","workflow::verification"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"},{"id":5219924,"username":"Taucher2003","name":"Niklas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5219924/avatar.png","web_url":"https://gitlab.com/Taucher2003"}],"author":{"id":5219924,"username":"Taucher2003","name":"Niklas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5219924/avatar.png","web_url":"https://gitlab.com/Taucher2003"},"type":"ISSUE","assignee":{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352068","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352068","notes":"https://gitlab.com/api/v4/projects/278964/issues/352068/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352068/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352068","relative":"#352068","full":"gitlab-org/gitlab#352068"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":101906145,"iid":352057,"project_id":278964,"title":"Remove \"Upgrade \" item in top-right profile dropdown for Premium SaaS customers","description":"## Problem\n\nUsers with a Premium subscription applied to at least one group are shown \"Upgrade :rocket:\" item in the top-right user profile dropdown. Upon clicking that item with the intention to upgrade their existing premium group, they're directed out to the /pricing page on the Marketing site, asked to select from all three pricing options (free, premium, or ultimate), and once they select \"Ultimate\", they're directed back into the SaaS product to the checkout flow where they are only able to select from free groups to upgrade. \n\n:movie_camera:  Check out [this video](https://www.youtube.com/watch?v=domTHCChBwE\u0026list=PL05JrBw4t0KqwJpEiSktH3JuieE4UpxKv) detailing this experience.\n\nThere's a few limitations at play here:\n1) Currently, we only have the net-new purchase flow migrated to gitlab.com, which means we can only support first time purchases of premium or ultimate (moving from free to paid). We cannot support upgrading from Premium to Ultimate. That must be done in the customer's Customer Portal instance. \n2) The top-right user profile is represents a global view of their GitLab experience. Its group agnostic, so when a user is a member of multiple groups, the interactions in this dropdown don't recognize specific actions on specific groups. It's a larger IA issue.\n\n## Proposal\n\nFor this scenario where a Premium customer wants to upgrade their group to Ultimate, we need to find a way to redirect the customer to their appropriate subscription within Customer Portal so that they can complete their upgrade.\n\n## Requirements \n- [ ] `Upgrade` item in the profile dropdown is only shown to the subscription owner - this is for any case (free or paying group)\n\n\n## Definitions\n\nThere are two different things that we call `Upgrade` to users, and they are actually very different on the backend:\n\n1. Purchasing a paid subscription for a free group\n1. Changing from one paid subscription tier to a higher tier\n\nWe are okay to use the same term - `Upgrade` - with the user (because they don't need to know the difference), but these are completely separate flows:\n\n1. (1) is a net new subscription purchase, and it can be done by any group Owner of the top-level group. This flow is in .com.\n1. (2) is an amendment to an existing subscription, and it can **only be done by the person who purchased the original subscription** (because of the way that we associate subscriptions with users in CDot). This flow is in CDot, but we will eventually be moving it to .com as part of the migration.\n\n## Solution\n\nWe've determined that for the near future, the best path forward here is to remove the `Upgrade :rocket:` from the user profile dropdown for Premium customers.\n\nOnce Customer Portal functionality is successfully moved into SaaS and we can provide an experience where Premium customers can upgrade their plan to Ultimate from within the SaaS product, we'll revisit re-adding this experience to the product.","state":"closed","created_at":"2022-02-04T18:47:11.464Z","updated_at":"2022-06-21T12:08:34.663Z","closed_at":"2022-05-24T16:45:23.046Z","closed_by":{"id":9347704,"username":"gdoud","name":"Gayle Doud","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9347704/avatar.png","web_url":"https://gitlab.com/gdoud"},"labels":["Deliverable","devops::growth","group::acquisition","missed-deliverable","missed:14.10","priority::3","section::growth","severity::4","type::bug","workflow::in review"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":4377833,"username":"esybrant","name":"Emily Sybrant","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4377833/avatar.png","web_url":"https://gitlab.com/esybrant"},{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"},{"id":8110789,"username":"tgolubeva","name":"Tatyana Golubeva","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110789/avatar.png","web_url":"https://gitlab.com/tgolubeva"},{"id":9347704,"username":"gdoud","name":"Gayle Doud","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9347704/avatar.png","web_url":"https://gitlab.com/gdoud"}],"author":{"id":9347704,"username":"gdoud","name":"Gayle Doud","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9347704/avatar.png","web_url":"https://gitlab.com/gdoud"},"type":"ISSUE","assignee":{"id":4377833,"username":"esybrant","name":"Emily Sybrant","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4377833/avatar.png","web_url":"https://gitlab.com/esybrant"},"user_notes_count":19,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352057","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352057","notes":"https://gitlab.com/api/v4/projects/278964/issues/352057/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352057/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352057","relative":"#352057","full":"gitlab-org/gitlab#352057"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":101896388,"iid":352030,"project_id":278964,"title":"Remove CF rate limit for Global Search API endpoint","description":"Comment from @JohnMcGuire \n\n\u003e I would propose two changes.\n\u003e \n\u003e 1. Make the /search wildcard less inclusive for including Autocomplete.\n\u003e 1. Change the config for the CF rate limit to be a shorter timeframe. 1min.\n\u003e \n\u003e Ideally, we can adjust the config and not have to add exceptions. There are more customers experiencing issues that have not \u003e reported it.\n\n\nWe should considering making adjustments to our CF [rate limit](https://ops.gitlab.net/gitlab-com/gl-infra/config-mgmt/-/blob/master/environments/gprd/cloudflare-waf.tf#L127-152) on the `/api/v4/projects/*/search*` endpoint. Some customers run into 429 errors when searching, especially for those who are utilizing a company VPN and we're rate limiting by IP address.\n\nAdditional context: https://gitlab.com/gitlab-com/gl-infra/infrastructure/-/issues/15067#note_822675611\n\nZD Ticket:\n- https://gitlab.zendesk.com/agent/tickets/263771","state":"closed","created_at":"2022-02-04T15:42:45.582Z","updated_at":"2022-05-30T15:59:18.524Z","closed_at":"2022-03-21T11:49:03.160Z","closed_by":{"id":9717668,"username":"john-mason","name":"John Mason","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9717668/avatar.png","web_url":"https://gitlab.com/john-mason"},"labels":["Category:Global Search","devops::data_stores","group::global search","priority::2","section::enablement","severity::2","type::maintenance","workflow::ready for development"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":9717668,"username":"john-mason","name":"John Mason","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9717668/avatar.png","web_url":"https://gitlab.com/john-mason"}],"author":{"id":5537005,"username":"cleveland","name":"Cleveland Bledsoe Jr","state":"active","avatar_url":"https://secure.gravatar.com/avatar/9b3b602b16b5453efe7c1190e8ae558e?s=80\u0026d=identicon","web_url":"https://gitlab.com/cleveland"},"type":"ISSUE","assignee":{"id":9717668,"username":"john-mason","name":"John Mason","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9717668/avatar.png","web_url":"https://gitlab.com/john-mason"},"user_notes_count":16,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352030","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352030","notes":"https://gitlab.com/api/v4/projects/278964/issues/352030/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352030/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352030","relative":"#352030","full":"gitlab-org/gitlab#352030"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":101895605,"iid":352029,"project_id":278964,"title":"Expose committers on mergeRequest GraphQL type","description":"### Proposal\n\nhttps://gitlab.com/gitlab-org/gitlab/-/issues/347325 is going to need `committers` to be available through the `mergeRequest` GraphQL type to fully produce all the necessary information needed for the Compliance Report.\n\n### Design\n\n![image](https://gitlab.com/gitlab-org/gitlab/uploads/19552b357cfa0dad6657b7314b958f34/image.png)\n\n### Implementation plan\n\n1. Add `committers` to `merge_request_type`\n1. Update GraphQL docs\n1. Update specs","state":"closed","created_at":"2022-02-04T15:27:42.155Z","updated_at":"2022-03-08T08:17:10.305Z","closed_at":"2022-03-08T08:17:10.279Z","closed_by":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"labels":["Category:Compliance Management","Enterprise Edition","GitLab Ultimate","GraphQL","backend","devops::manage","feature::addition","group::compliance","priority::2","section::dev","type::feature","workflow::verification"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"}],"author":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"type":"ISSUE","assignee":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352029","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352029","notes":"https://gitlab.com/api/v4/projects/278964/issues/352029/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352029/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352029","relative":"#352029","full":"gitlab-org/gitlab#352029"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7222,"epic":{"id":401057,"iid":7222,"title":"Introduce concept of Merge Request Violation","url":"/groups/gitlab-org/-/epics/7222","group_id":9970,"human_readable_end_date":"Mar 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"at_risk"},{"id":101894048,"iid":352025,"project_id":278964,"title":"Regenerating GraphQL documentation adds a Slack service line and fails test","description":"### Summary\n\nAfter modifying the GraphQL API, you need to regenerate the API reference using `bundle exec rake gitlab:graphql:compile_docs`. This also brings an additional row into the table in [ServiceType](https://docs.gitlab.com/ee/api/graphql/reference/#servicetype) and fails the CI job [`graphql-verify`](https://gitlab.com/gitlab-org/gitlab/-/jobs/2054813480) as if the docs are not up to date.\n\n### Steps to reproduce\n\n1. In `gitlab`, open an MR in which you modify a GraphQL description, for example in `ee/app/graphql/types/epic_sort_enum.rb`.\n1. Regenerate the documentation with `bundle exec rake gitlab:graphql:compile_docs` and commit the result. Notice that besides your changes, this line was also added to the `ServiceType` table:\n   ```md\n   | \u003ca id=\"servicetypegitlab_slack_application_service\"\u003e\u003c/a\u003e`GITLAB_SLACK_APPLICATION_SERVICE` | GitlabSlackApplicationService type. |\n   ```\n1. The `graphql-verify` job fails.\n\n### Example Project\n\n\u003c!-- If possible, please create an example project here on GitLab.com that exhibits the problematic \nbehavior, and link to it here in the bug report. If you are using an older version of GitLab, this \nwill also determine whether the bug is fixed in a more recent version. --\u003e\n\n### What is the current *bug* behavior?\n\n\u003c!-- Describe what actually happens. --\u003e\n\n### What is the expected *correct* behavior?\n\nThe Slack service line shouldn't be brought in or it should not fail the docs test.\n\n### Output of checks\n\nThis bug happens on GitLab.com\n\n### Possible fixes\n\n**Workaround:** delete the extra line.\n\nRelated: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/79381","state":"closed","created_at":"2022-02-04T14:59:16.823Z","updated_at":"2022-11-22T19:01:25.229Z","closed_at":"2022-02-28T02:48:37.332Z","closed_by":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"labels":["Technical Writing","backend","devops::manage","docs::improvement","documentation","group::integrations","missed:14.8","section::dev","type::maintenance"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"}],"author":{"id":4867274,"username":"msedlakjakubowski","name":"Marcin Sedlak-Jakubowski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4867274/avatar.png","web_url":"https://gitlab.com/msedlakjakubowski"},"type":"ISSUE","assignee":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352025","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352025","notes":"https://gitlab.com/api/v4/projects/278964/issues/352025/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352025/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352025","relative":"#352025","full":"gitlab-org/gitlab#352025"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":101892989,"iid":352019,"project_id":278964,"title":"VersionApp: Add indexed on other tables that are exported","description":"## Backgroud \n\nExport queries for VersionsApp starts to take too much time and time outing during ci job\n\n## Goal\n\nImprove query performance by adding index on filter condition","state":"closed","created_at":"2022-02-04T14:38:42.642Z","updated_at":"2022-02-28T14:48:47.168Z","closed_at":"2022-02-28T14:48:47.150Z","closed_by":{"id":4807002,"username":"mikolaj_wawrzyniak","name":"Mikoaj Wawrzyniak","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4807002/avatar.png","web_url":"https://gitlab.com/mikolaj_wawrzyniak"},"labels":["auto updated","backend","devops::growth","group::product intelligence","missed:14.8","section::growth","workflow::in review"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":4807002,"username":"mikolaj_wawrzyniak","name":"Mikoaj Wawrzyniak","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4807002/avatar.png","web_url":"https://gitlab.com/mikolaj_wawrzyniak"}],"author":{"id":4807002,"username":"mikolaj_wawrzyniak","name":"Mikoaj Wawrzyniak","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4807002/avatar.png","web_url":"https://gitlab.com/mikolaj_wawrzyniak"},"type":"ISSUE","assignee":{"id":4807002,"username":"mikolaj_wawrzyniak","name":"Mikoaj Wawrzyniak","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4807002/avatar.png","web_url":"https://gitlab.com/mikolaj_wawrzyniak"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352019","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352019","notes":"https://gitlab.com/api/v4/projects/278964/issues/352019/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352019/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352019","relative":"#352019","full":"gitlab-org/gitlab#352019"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7502,"epic":{"id":435544,"iid":7502,"title":"Improve VersionApp export data script","url":"/groups/gitlab-org/-/epics/7502","group_id":9970,"human_readable_end_date":"May 22, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":101884630,"iid":352009,"project_id":278964,"title":"VersionApp: Export data in separate jobs","description":"## Context\n\nCurrently there is one ci job that handles export of all tables it takes a long time to finish and sometimes times out\n\n## Goals\n\n- [ ] Split export job into sequence of smaller jobs where each of them would be responsible for exporting one relation from VersionsApp database\n- [ ] Mark each of jobs as allowed to fail","state":"closed","created_at":"2022-02-04T12:18:26.521Z","updated_at":"2022-03-16T11:25:12.486Z","closed_at":"2022-02-21T12:13:14.464Z","closed_by":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"labels":["auto updated","backend","devops::growth","group::product intelligence","maintenance::pipelines","missed:14.8","section::growth","type::maintenance","workflow::in review"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":4807002,"username":"mikolaj_wawrzyniak","name":"Mikoaj Wawrzyniak","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4807002/avatar.png","web_url":"https://gitlab.com/mikolaj_wawrzyniak"}],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":{"id":4807002,"username":"mikolaj_wawrzyniak","name":"Mikoaj Wawrzyniak","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4807002/avatar.png","web_url":"https://gitlab.com/mikolaj_wawrzyniak"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352009","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352009","notes":"https://gitlab.com/api/v4/projects/278964/issues/352009/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352009/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352009","relative":"#352009","full":"gitlab-org/gitlab#352009"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7502,"epic":{"id":435544,"iid":7502,"title":"Improve VersionApp export data script","url":"/groups/gitlab-org/-/epics/7502","group_id":9970,"human_readable_end_date":"May 22, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":101883967,"iid":352004,"project_id":278964,"title":"Make `app/assets/javascripts/related_issues` app reusable with Epics","description":"# Summary\n\nIn order to attain https://gitlab.com/groups/gitlab-org/-/epics/2581, we need to utilize [`app/assets/javascripts/related_issues`](https://gitlab.com/gitlab-org/gitlab/-/tree/master/app/assets/javascripts/related_issues) which is currently responsible to show `Linked issues` UI on Issues page.\n\n![Untitled](https://gitlab.com/gitlab-org/gitlab/uploads/3e22d9d440eb235a96e2b322c88d775e/Untitled.png)\n\nThe app is currently tied to work exclusively with _Issues_ but we need to make it context-agnostic so that it can be used with Epics as well.\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2022-02-04T12:04:58.215Z","updated_at":"2022-02-15T11:23:40.255Z","closed_at":"2022-02-15T11:23:40.240Z","closed_by":{"id":411701,"username":"kushalpandya","name":"Kushal Pandya","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/411701/avatar.png","web_url":"https://gitlab.com/kushalpandya"},"labels":["devops::plan","direction","frontend","group::product planning","section::dev","type::feature"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":411701,"username":"kushalpandya","name":"Kushal Pandya","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/411701/avatar.png","web_url":"https://gitlab.com/kushalpandya"}],"author":{"id":411701,"username":"kushalpandya","name":"Kushal Pandya","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/411701/avatar.png","web_url":"https://gitlab.com/kushalpandya"},"type":"ISSUE","assignee":{"id":411701,"username":"kushalpandya","name":"Kushal Pandya","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/411701/avatar.png","web_url":"https://gitlab.com/kushalpandya"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352004","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352004","notes":"https://gitlab.com/api/v4/projects/278964/issues/352004/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352004/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352004","relative":"#352004","full":"gitlab-org/gitlab#352004"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7546,"epic":{"id":439603,"iid":7546,"title":"Add support for epic to epic linking - MVC 1","url":"/groups/gitlab-org/-/epics/7546","group_id":9970,"human_readable_end_date":"Mar 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":101868741,"iid":351989,"project_id":278964,"title":"Update and simplify the \"create blank project\" form","description":"Following the dramatic success of the experiment where we simplified the group and project creation in the registration flow (https://gitlab.com/groups/gitlab-org/-/epics/4825) we should also update the \"create blank project\" form on the create project screen. This is the issue for the MVC, follow-up iterations of this initiative can be found in the epic (https://gitlab.com/groups/gitlab-org/-/epics/7375)\n\n## Design\n\n[Specs in Figma](https://www.figma.com/file/msWbUJog2DwgCBFQSLlrCh/Ensure-projects-are-created-within-a-group?node-id=26%3A20273)\n\n| MVC | Dropdown opened | Dropdown when no group exists |\n|-----|-----------------|-------------------------------|\n| [![MVC](/uploads/25830d0ca28e97329360afb4c1839409/MVC.jpg)](https://gitlab.com/gitlab-org/gitlab/-/issues/351989/designs/MVC.jpg) | [![MVC-dropdown](/uploads/dca84cdd26940a23713d2c4ed833e112/MVC-dropdown.jpg)](https://gitlab.com/gitlab-org/gitlab/-/issues/351989/designs/MVC-dropdown.jpg) | [![MVC-dropdown--no-group](/uploads/dd734bcfe63c4052c428db2c3fc709a2/MVC-dropdown--no-group.jpg)](https://gitlab.com/gitlab-org/gitlab/-/issues/351989/designs/MVC-dropdown--no-group.jpg) |\n\nChanges required compared to the current screen [Current](/uploads/9caa9f4012249b7c25300abf1b97dd82/Current.jpg)\n\n* Group selector is moved to top\n* If no group exists, we show a placeholder text (copy TBD), and a link to create a new group that opens in a new window\n* Project name input is below\n* We add the \"Your project will be created at\" section that gets automatically updated as the user selects a namespace and types in the name of the project (same as in the new reg flow)\n* remove the \"Project description\" text area\n* we handle the url validation with errors (if a url isn't available we show an error message)\n\n### Error handling\n\n[Specs in Figma](https://www.figma.com/file/msWbUJog2DwgCBFQSLlrCh/Ensure-projects-are-created-within-a-group?node-id=53%3A20787)\n\n[![MVC-url-error](/uploads/200c61816261ac89cec4dbd5ab0cf40a/MVC-url-error.jpg)](https://gitlab.com/gitlab-org/gitlab/-/issues/351989/designs/MVC-url-error.jpg)\n\n### Preselecting group\n\nWhen a user clicks on `New project` CTA on a group overview page, the group dropdown on the create blank project page is preselected to that group. We need to make sure that we keep this behavior here:\n\n![image](/uploads/794dc73000aefd40a7f4689424eeb7ef/image.png)\n\n### Mobile layout\n\n[Specs in Figma](https://www.figma.com/file/msWbUJog2DwgCBFQSLlrCh/Ensure-projects-are-created-within-a-group?node-id=32%3A22053)\n\n| Mobile layout |\n|---------------|\n| [![MVC-mobile](/uploads/c8479a42fc6dd2971ee4bce0cfead3be/MVC-mobile.jpg)](https://gitlab.com/gitlab-org/gitlab/-/issues/351989/designs/MVC-mobile.jpg) |","state":"closed","created_at":"2022-02-04T08:19:17.591Z","updated_at":"2022-07-25T22:42:14.763Z","closed_at":"2022-06-13T23:53:57.045Z","closed_by":{"id":9347704,"username":"gdoud","name":"Gayle Doud","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9347704/avatar.png","web_url":"https://gitlab.com/gdoud"},"labels":["Technical Writing","UI text","devops::growth","free user priority","group::acquisition","missed:14.10","missed:14.9","section::growth","tw::doing","type::feature","workflow::planning breakdown"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":1859215,"username":"matejlatin","name":"Matej Latin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1859215/avatar.png","web_url":"https://gitlab.com/matejlatin"}],"author":{"id":1859215,"username":"matejlatin","name":"Matej Latin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1859215/avatar.png","web_url":"https://gitlab.com/matejlatin"},"type":"ISSUE","assignee":{"id":1859215,"username":"matejlatin","name":"Matej Latin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1859215/avatar.png","web_url":"https://gitlab.com/matejlatin"},"user_notes_count":26,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/351989","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":2,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/351989","notes":"https://gitlab.com/api/v4/projects/278964/issues/351989/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/351989/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#351989","relative":"#351989","full":"gitlab-org/gitlab#351989"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7375,"epic":{"id":420252,"iid":7375,"title":"Feature discovery upgrade flow for project without a group is a dead end","url":"/groups/gitlab-org/-/epics/7375","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":102025531,"iid":352195,"project_id":278964,"title":"Unable to authenticate to a remote registry without curl","description":"## Context\n\n`curl` was removed in this MR: https://gitlab.com/gitlab-org/security-products/analyzers/container-scanning/-/merge_requests/2640+\n\n## The problem\n\nOur docs for [Authenticating to a remote registry](https://docs.gitlab.com/ee/user/application_security/container_scanning/#authenticate-to-a-remote-registry) show an example of using `curl` to download the AWS CLI tool, which caused some confusion to a customer that reported this issue.\n\n## Proposals\n\n- We update the docs to install `curl`.\n- We update the docs with another tool to download the AWS CLI.\n- We add `curl` back into the image.\n\n## Implementation plan\n\n### Option 1. Documentation change only\n\n- [ ] ~documentation add information how to install curl:\n```diff\ndiff --git a/doc/user/application_security/container_scanning/index.md b/doc/user/application_security/container_scanning/index.md\nindex ef3052fe370..bdfc869719b 100644\n--- a/doc/user/application_security/container_scanning/index.md\n+++ b/doc/user/application_security/container_scanning/index.md\n@@ -145,6 +145,7 @@ For example, to scan an image from AWS Elastic Container Registry:\n ```yaml\n container_scanning:\n   before_script:\n+    - sudo apt-get update \u0026\u0026 sudo apt-get install -y -q curl # only when you are using default image, UBI image already contains curl\n     - curl \"https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip\" --output \"awscliv2.zip\"\n     - unzip awscliv2.zip\n     - ./aws/install\n```\n\n### Option 2. Revert curl to default `container-scanning` image\n\n- [ ] ~backend update https://gitlab.com/gitlab-org/security-products/analyzers/container-scanning/blob/master/Dockerfile to not remove `curl`:\n\n```diff\ndiff --git a/Dockerfile b/Dockerfile\nindex 4ecd5c7..22d91dc 100644\n--- a/Dockerfile\n+++ b/Dockerfile\n@@ -40,7 +40,7 @@ RUN chown gitlab /usr/local/share/ca-certificates /usr/lib/ssl/certs/ \u0026\u0026 \\\n     echo \"gitlab ALL=(ALL) NOPASSWD: ALL\" \u003e /etc/sudoers.d/gitlab \u0026\u0026 \\\n     gem install --no-document /home/gitlab/gcs.gem \u0026\u0026 \\\n     su - gitlab -c \"export SCANNER=$SCANNER PATH=\"/home/gitlab:${PATH}\"; cd /home/gitlab \u0026\u0026 bash setup.sh\" \u0026\u0026 \\\n-    apt-get remove -y curl wget xauth \u0026\u0026 \\\n+    apt-get remove -y wget xauth \u0026\u0026 \\\n     apt-get autoremove -y\n \n USER gitlab\n```","state":"closed","created_at":"2022-02-04T07:31:02.929Z","updated_at":"2022-03-09T08:06:29.346Z","closed_at":"2022-03-04T15:37:39.128Z","closed_by":{"id":5535431,"username":"mparuszewski","name":"Alan (Maciej) Paruszewski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535431/avatar.png","web_url":"https://gitlab.com/mparuszewski"},"labels":["Category:Container Scanning","customer","devops::govern","documentation","group::security policies","section::sec","severity::3","type::maintenance","workflow::verification"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":5535431,"username":"mparuszewski","name":"Alan (Maciej) Paruszewski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535431/avatar.png","web_url":"https://gitlab.com/mparuszewski"}],"author":{"id":7685703,"username":"kenneth","name":"Kenneth Chu","state":"active","avatar_url":"https://secure.gravatar.com/avatar/2eb66653d13effb2de0d89fefc6f29b7?s=80\u0026d=identicon","web_url":"https://gitlab.com/kenneth"},"type":"ISSUE","assignee":{"id":5535431,"username":"mparuszewski","name":"Alan (Maciej) Paruszewski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535431/avatar.png","web_url":"https://gitlab.com/mparuszewski"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352195","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352195","notes":"https://gitlab.com/api/v4/projects/278964/issues/352195/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352195/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352195","relative":"#352195","full":"gitlab-org/gitlab#352195"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6145,"epic":{"id":285931,"iid":6145,"title":"Simplify setup for scanning AWS ECR images","url":"/groups/gitlab-org/-/epics/6145","group_id":9970,"human_readable_end_date":"Mar 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":101861785,"iid":351982,"project_id":278964,"title":"Ignore setuptools and wheel in gemnasium-python image integration tests","description":"### Proposal\n\nThe `setuptools` and `wheel` packages are different in `python:3.9-slim` and `python:3.6-slim`:\n\n```shell\n% lima nerdctl run -ti --rm python:3.9-slim pip list --disable-pip-version-check\nPackage    Version\n---------- -------\npip        21.2.4\nsetuptools 58.1.0\nwheel      0.37.1\n\n% lima nerdctl run -ti --rm python:3.6-slim pip list --disable-pip-version-check\nPackage    Version\n---------- -------\npip        21.2.4\nsetuptools 57.5.0\nwheel      0.37.0\n```\n\nThese different versions are causing the [image integration tests](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-python/-/blob/master/spec/image_spec.rb) for `gemnasium-python` to [fail](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-python/-/jobs/1996361203).\n\nIf we update the versions of these packages in the expectation to work with `python:3.6`, then the test will fail for `python:3.9` and vice versa. See [this discussion](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-python/-/merge_requests/138#note_822348877) for details.\n\nThe purpose of this issue is to update the [gemnasium-python image integration tests](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-python/-/blob/master/spec/image_spec.rb) to remove the `wheel` and `setuptools` packages from `report[\"dependency_files\"]` so they're ignored when comparing the generated report to the expected one.\n\n/cc @fcatteau @gonzoyumo @NicoleSchwartz","state":"closed","created_at":"2022-02-04T04:21:48.100Z","updated_at":"2022-03-16T11:25:13.735Z","closed_at":"2022-02-15T19:38:12.696Z","closed_by":{"id":52092,"username":"gonzoyumo","name":"Olivier Gonzalez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/651e0ff81c3995a05269f7c80895fe89?s=80\u0026d=identicon","web_url":"https://gitlab.com/gonzoyumo"},"labels":["Category:Dependency Scanning","backend","devops::secure","group::composition analysis","priority::1","section::sec","severity::2","test","type::maintenance","workflow::in review"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":4668304,"username":"ifrenkel","name":"Igor Frenkel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a73e8113c53ac25297ce751e59bbb1d3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifrenkel"}],"author":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"type":"ISSUE","assignee":{"id":4668304,"username":"ifrenkel","name":"Igor Frenkel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a73e8113c53ac25297ce751e59bbb1d3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifrenkel"},"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/351982","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/351982","notes":"https://gitlab.com/api/v4/projects/278964/issues/351982/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/351982/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#351982","relative":"#351982","full":"gitlab-org/gitlab#351982"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":101861746,"iid":351981,"project_id":278964,"title":"Sort epics by created_at, updated_at in GraphQL","description":"We had a report from @agroleau that he could no longer access these facets of epic search when the frontend search widget was moved over from REST to Vue using GraphQL. Other customers may be affected.\n\n---\n\nWe currently offer the ability to sort by `created_at` and `updated_at` in REST, but not in GraphQL. \n\nThis creates a degradation in user experience when switching to the search component implemented in Vue as the ability to sort by last created_at and updated_at is not there. This was noticed by `@agroleau`.\n\nWe should introduce it in GraphQL so that parity is maintained when the new experience is rolled out to external users.\n\nHere are the available GraphQL sort criteria :point_right: [ee/app/graphql/types/epic_sort_enum.rb#L15](\nhttps://gitlab.com/gitlab-org/gitlab/-/blob/eb37dcb116ca3c9d4e533ac2e1929728d377038e/ee/app/graphql/types/epic_sort_enum.rb)\n\nHere are the available REST sort criteria :point_right: [ee/lib/api/epics.rb#L35](https://gitlab.com/gitlab-org/gitlab/-/blob/eb37dcb116ca3c9d4e533ac2e1929728d377038e/ee/lib/api/epics.rb#L35)","state":"closed","created_at":"2022-02-04T04:18:58.576Z","updated_at":"2022-05-12T19:59:39.079Z","closed_at":"2022-02-09T10:37:05.080Z","closed_by":{"id":411701,"username":"kushalpandya","name":"Kushal Pandya","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/411701/avatar.png","web_url":"https://gitlab.com/kushalpandya"},"labels":["automation:ml","backend","devops::plan","feature::enhancement","group::product planning","section::dev","type::feature","workflow::production"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":411701,"username":"kushalpandya","name":"Kushal Pandya","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/411701/avatar.png","web_url":"https://gitlab.com/kushalpandya"},{"id":3717078,"username":"cablett","name":"charlie ablett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3717078/avatar.png","web_url":"https://gitlab.com/cablett"}],"author":{"id":3717078,"username":"cablett","name":"charlie ablett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3717078/avatar.png","web_url":"https://gitlab.com/cablett"},"type":"ISSUE","assignee":{"id":411701,"username":"kushalpandya","name":"Kushal Pandya","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/411701/avatar.png","web_url":"https://gitlab.com/kushalpandya"},"user_notes_count":11,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/351981","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/351981","notes":"https://gitlab.com/api/v4/projects/278964/issues/351981/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/351981/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#351981","relative":"#351981","full":"gitlab-org/gitlab#351981"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null}]