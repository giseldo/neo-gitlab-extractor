[{"id":93285482,"iid":340333,"project_id":278964,"title":"Add search filtering by programming language","description":"### Problem to solve\n\nCurrently, in GitLab, there is no ability to filter searches by the programming language they are in.\n\n### Further details\n\nWhen searching in a large project (esp. translated projects) a string can be repeated hundreds of times in translation files when you are simply looking for the original usage in code.\n\nAlso, when searching for a particular function call that is popular across many languages it helps narrow the search if you know you only are looking for examples in Javascript.\n\nAdding this feature would greatly improve the usability of GitLab as an online source viewer/browser.\n\n### Proposal\n\nAdd a programming language facet to search results in Global Search, utilizing Elasticsearch aggregations. The first iteration of this will only be available for Advanced Search (Elasticsearch).\n\n#### Tasks\n- [x] Perform benchmarking for utilizing aggregations for this\n- [x] Determine if counts will be viable for this first iteration\n  - [ ] If counts won't be included, determine the appropriate sort order for options (perhaps alpha or grouping by similar languages?)\n- [ ] ~backend Add aggregations for blob search calls. Put behind feature flag to measure performance impact and allow easy rollback \n- [ ] ~backend Expose aggregations for blob search calls to the controller\n- [ ] ~backend Add language filter support for blob searches\n- [ ] ~frontend Add language facet to blob search result page\n\n\n#### Acceptance Criteria\n- [ ] When viewing the results of a search, user is able to see language facets in the left sidebar based on the result set\n- [ ] User is able to select multiple language facets to apply and update the results\n- [ ] Each language option will display the number of results that match that language (if counts included)\n- [ ] Options will be sorted by number of results ‚Äì most to least (if counts included).\n\n\n### What does success look like, and how can we measure that?\n\nThe ability to filter searches by programming language being present.\n\n(If no way to measure success, link to an issue that will implement a way to measure this)\n\n### Links / references\n\nGitHub searching only Javascript examples: https://github.com/search?l=JavaScript\u0026q=testing\u0026type=Repositories","state":"closed","created_at":"2021-09-07T20:09:58.085Z","updated_at":"2022-05-30T16:30:09.954Z","closed_at":"2021-10-07T18:01:14.308Z","closed_by":{"id":5708766,"username":"terrichu","name":"Terri Chu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5708766/avatar.png","web_url":"https://gitlab.com/terrichu"},"labels":["Big Code","Category:Global Search","advanced search","devops::data_stores","group::global search","section::enablement","type::feature","workflow::ready for development"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":5041243,"username":"nickbrandt","name":"Nick Brandt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/96e3036898d44a8ad7063ba07cce0998?s=80\u0026d=identicon","web_url":"https://gitlab.com/nickbrandt"}],"author":{"id":5724558,"username":"JohnMcGuire","name":"John McGuire","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5724558/avatar.png","web_url":"https://gitlab.com/JohnMcGuire"},"type":"ISSUE","assignee":{"id":5041243,"username":"nickbrandt","name":"Nick Brandt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/96e3036898d44a8ad7063ba07cce0998?s=80\u0026d=identicon","web_url":"https://gitlab.com/nickbrandt"},"user_notes_count":21,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340333","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":11,"completed_count":2},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 11 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340333","notes":"https://gitlab.com/api/v4/projects/278964/issues/340333/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340333/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340333","relative":"#340333","full":"gitlab-org/gitlab#340333"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6236,"epic":{"id":293870,"iid":6236,"title":"Add filtering options for refining code search results","url":"/groups/gitlab-org/-/epics/6236","group_id":9970,"human_readable_end_date":"Apr 22, 2023","human_readable_timestamp":"\u003cstrong\u003e3\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":93285044,"iid":340332,"project_id":278964,"title":"Cleanup `cache_merge_to_ref_calls`","description":"Cleaup `cache_merge_to_ref_calls` flag","state":"closed","created_at":"2021-09-07T19:57:25.998Z","updated_at":"2021-09-13T14:31:29.420Z","closed_at":"2021-09-13T14:31:27.745Z","closed_by":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"labels":["auto updated","devops::create","feature flag","group::code review","section::dev"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"}],"author":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"type":"ISSUE","assignee":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340332","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340332","notes":"https://gitlab.com/api/v4/projects/278964/issues/340332/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340332/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340332","relative":"#340332","full":"gitlab-org/gitlab#340332"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":93277983,"iid":340322,"project_id":278964,"title":"Remove invite member cookie transfer method","description":"The following discussion from !68785 should be addressed:\n\n- [ ] @mayra-cabrera started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/68785#note_669253488): \n\n    \u003e Do we have a follow-up issue for this one? If not, could we please create it?","state":"closed","created_at":"2021-09-07T17:23:24.841Z","updated_at":"2022-07-26T00:51:02.427Z","closed_at":"2021-11-02T13:56:43.227Z","closed_by":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"labels":["devops::growth","group::acquisition","section::growth","type::maintenance","workflow::production"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"}],"author":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"type":"ISSUE","assignee":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340322","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340322","notes":"https://gitlab.com/api/v4/projects/278964/issues/340322/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340322/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340322","relative":"#340322","full":"gitlab-org/gitlab#340322"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":93269875,"iid":340309,"project_id":278964,"title":"Add relations export API for Projects","description":"Add 'relations export API' for projects. Similar to what has been done for Groups http://gitlab.com/gitlab-org/gitlab/blob/07d57f0ab5a7a03cb6c5a1aa754e5c19a4f41138/lib/api/group_export.rb#L51-L86. In order to have an ability to initiate ndjson exports and download them later on when performing import.\n\nhttps://gitlab.com/gitlab-org/gitlab/-/merge_requests/59978","state":"closed","created_at":"2021-09-07T14:45:39.256Z","updated_at":"2021-09-29T13:02:05.100Z","closed_at":"2021-09-29T13:02:05.066Z","closed_by":{"id":683729,"username":"Alexand","name":"Jo√£o Alexandre Cunha","state":"active","avatar_url":"https://secure.gravatar.com/avatar/fbf9eb0e06338db271e1ce6722c32cc0?s=80\u0026d=identicon","web_url":"https://gitlab.com/Alexand"},"labels":["Category:Importers","GitLab Core","Importer:GitLab Migration","Next Up","backend","devops::manage","direction","estimation::completed","group::import","milestone::p2","reliability","section::dev","type::feature","workflow::production"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":683729,"username":"Alexand","name":"Jo√£o Alexandre Cunha","state":"active","avatar_url":"https://secure.gravatar.com/avatar/fbf9eb0e06338db271e1ce6722c32cc0?s=80\u0026d=identicon","web_url":"https://gitlab.com/Alexand"}],"author":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"type":"ISSUE","assignee":{"id":683729,"username":"Alexand","name":"Jo√£o Alexandre Cunha","state":"active","avatar_url":"https://secure.gravatar.com/avatar/fbf9eb0e06338db271e1ce6722c32cc0?s=80\u0026d=identicon","web_url":"https://gitlab.com/Alexand"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340309","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340309","notes":"https://gitlab.com/api/v4/projects/278964/issues/340309/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340309/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340309","relative":"#340309","full":"gitlab-org/gitlab#340309"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6681,"epic":{"id":342210,"iid":6681,"title":"GitLab Migration - Migrate Projects MVC","url":"/groups/gitlab-org/-/epics/6681","group_id":9970,"human_readable_end_date":"Dec 7, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":93268963,"iid":340307,"project_id":278964,"title":"Fix debian background jobs","description":"Follow up from the [tests](https://gitlab.com/gitlab-org/gitlab/-/issues/337288#note_660719677) on staging.\n\n## Problem\n\nTests on staging showed that background jobs for the debian registry are not working as expected with object storage.\n\nThe main takeaway is that the background job code is not compatible with object storage. Next, the current code will not properly handle large files (see [this bug](https://gitlab.com/gitlab-org/gitlab/-/issues/321361))\n\nHere are the details:\n* üêõ When object storage is enabled, the first background job (that processes the `.changes` file) is not working. (blocker)\n  * This is coming on the actions in the package file object. We update the `package` reference but we can't simply `package_file.update!(package: package)`. This will break the link between the `package_file` and the physical file in object storage.\n  * I see several uses of `#use_file`. This is known to leave the `package_file` in an improper state that can't be saved. Basically, if `package_file.file.use_file` is called, then `package_file.save!` or `package_file.update!` can't be called (triggers a validation error).\n  * üîß Solution: package file updates where the package id or file_name are modified *must* be handled in a custom way. This is the result of the work on a similar [nuget](https://gitlab.com/gitlab-org/gitlab/-/issues/321361) bug. In short, use [this](https://gitlab.com/gitlab-org/gitlab/-/blob/1af8722a4235b94efb2e8f5f1a2f20a707106694/app/services/packages/update_package_file_service.rb). Also use `use_open_file` which is better than `use_file`.\n* üêõ When an error occurs during the first background job, the files are left behind in the `incoming` package. Those files takes physical space in object storage.\n  * The situation is the following, when uploading a debian package, multiple files are uploaded and the last upload is the `.changes` file.\n  * All the package files are put in the *same* package: a versionless package named `incoming`.\n  * The problem with this approach is that if the worker fails, it will delete the `.changes` file but not the others.\n* üêõ When a package is uploaded and it references a `codename` not present in the project distributions, the second job is still enqueued.\n  * I'm not sure why the background job doesn't simply fail if the `codename` is not found.\n* üêõ The process changes worker moves the package files in a way that will not support large files. Similar to the nuget [bug](https://gitlab.com/gitlab-org/gitlab/-/issues/321361) we got a few weeks ago.\n  * üîß Solution: same as above, switch to the new service that updates the package files in a way that is optimized for large files\n* üìà Code cleanup/refactoring. Debian package files are using a [custom object storage path generator](https://gitlab.com/gitlab-org/gitlab/-/blob/5abe2353e37247502f6c11d259888eea36805701/app/uploaders/packages/package_file_uploader.rb#L25).\n  * This is not necessary and actually can be risky. That change is not compatible with the service that updates the package files.","state":"closed","created_at":"2021-09-07T14:33:16.728Z","updated_at":"2022-12-21T13:41:45.561Z","closed_at":"2022-12-21T13:41:45.528Z","closed_by":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"labels":["Background Processing","Category:Package Registry","Debian Repository","auto updated","backend","customer","devops::package","group::package registry","ruby","section::ops","type::maintenance","workflow::production"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[],"author":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"type":"ISSUE","assignee":null,"user_notes_count":27,"merge_requests_count":0,"upvotes":6,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340307","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340307","notes":"https://gitlab.com/api/v4/projects/278964/issues/340307/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340307/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340307","relative":"#340307","full":"gitlab-org/gitlab#340307"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6057,"epic":{"id":275797,"iid":6057,"title":"Make the Debian repository  generally available (GA)","url":"/groups/gitlab-org/-/epics/6057","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":93267865,"iid":340304,"project_id":278964,"title":"Remove temporary trigger to maintain `has_external_wiki`","description":"Related to: https://gitlab.com/gitlab-org/gitlab/-/issues/334127\n\nIn https://gitlab.com/gitlab-org/gitlab/-/merge_requests/68172 a new trigger was added to ensure the `has_external_wiki` column is updated when the STI column on `integrations` is changed (due to the STI column migration).\n\nthis extra trigger can be removed when the `type_new` column is removed.","state":"closed","created_at":"2021-09-07T14:15:26.166Z","updated_at":"2022-11-22T19:24:57.050Z","closed_at":"2022-02-23T09:25:58.372Z","closed_by":{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"},"labels":["Category:Integrations","[deprecated] Accepting merge requests","backend","blocked","database","devops::manage","group::integrations","maintenance::refactor","section::dev","type::maintenance","won't do"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"},"type":"ISSUE","assignee":null,"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340304","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340304","notes":"https://gitlab.com/api/v4/projects/278964/issues/340304/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340304/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340304","relative":"#340304","full":"gitlab-org/gitlab#340304"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6177,"epic":{"id":288464,"iid":6177,"title":"Data migration: Change `integrations.type` values to reflect new namespaced models","url":"/groups/gitlab-org/-/epics/6177","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":93267568,"iid":340303,"project_id":278964,"title":"Improve the performance for Registrations::ProjectsController#create","description":"https://gitlab.com/gitlab-org/gitlab/-/issues/340206#note_671187309\n\n[Profiling](https://docs.gitlab.com/ee/development/profiling.html#speedscope-flamegraphs)","state":"closed","created_at":"2021-09-07T14:10:43.248Z","updated_at":"2022-03-18T07:04:46.143Z","closed_at":"2022-03-04T18:22:14.094Z","closed_by":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"labels":["Category:Onboarding","DEPRECATED Growth-Deliverable","devops::growth","group::adoption DEPRECATED","missed:14.6","reliability","section::growth","type::maintenance"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"}],"author":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"type":"ISSUE","assignee":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"user_notes_count":8,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340303","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340303","notes":"https://gitlab.com/api/v4/projects/278964/issues/340303/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340303/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340303","relative":"#340303","full":"gitlab-org/gitlab#340303"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6724,"epic":{"id":346105,"iid":6724,"title":"Resolve Onboarding feature category web APDEX duration exceeds threshold","url":"/groups/gitlab-org/-/epics/6724","group_id":9970,"human_readable_end_date":"Oct 31, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":93267461,"iid":340302,"project_id":278964,"title":"Improve the performance for  class GroupsProjectsController","description":"## Actions\n\n1. [x] We should check the May 2022 report.\n1. :white_check_mark: Our [April 2022 error budget](https://gitlab.com/gitlab-org/error-budget-reports/-/issues/7) was healty. We should check the May 2022 report.\n1. :heavy_check_mark:  Cleanup the combined_registration_experiment https://gitlab.com/gitlab-org/gitlab/-/issues/350754\n1. :heavy_check_mark:  When we cleanup `require_verification_experiment` experiment we shall also get rid of some insert queries.\n1. :white_check_mark:  Applying the trial has moved to a separate controller.\n1. Group creation + project creation or import | onboarding project creation.\n\nI think here we face a tradeoff between combined/quick onboarding which is useful vs error budgets which tell us the reverse (separating user onboarding elements). I believe we should value the business acumen, and prefer the results of the combined onboarding to slightly increased error budgets.\n\n\n\n## Analysis of the code base\n\n### GroupsProjectsController#create\n\n| Code | Budget |\n| ------ | ------ |\n| Group.find_by_id(group_id) | low |\n| Groups::CreateService.new(current_user, modified_group_params).execute | High |\n| combined_registration_experiment.track(:create_group, namespace: @group) | Low |\n| combined_registration_experiment.track(:create_project, namespace: @project.namespace) | Low |\n| helpers.require_verification_experiment.record_conversion(@group) | Low |\n| ::Projects::CreateService.new(current_user, create_project_params).execute | High |\n| create_learn_gitlab_project | High |\n        \n\n\n### GroupsProjectsController#import\n\n\n| Code | Budget |\n| ------ | ------ |\n| Groups::CreateService.new(current_user, modified_group_params).execute | High |\n| apply_trial_when_in_trial_flow | High |\n| combined_registration_experiment.track(:create_group, namespace: @group) | Low |\n| helpers.require_verification_experiment.record_conversion(@group) | Low |\n\n     \n\n## Discussions\n\nDiscussed here https://gitlab.com/gitlab-org/gitlab/-/issues/340206#note_671187309\n\nhttps://gitlab.com/gitlab-org/gitlab/-/issues/340206\n\n\n[Profiling](https://docs.gitlab.com/ee/development/profiling.html#speedscope-flamegraphs)\n\n\n## Query Limiting - ee/registrations/groups_projects_controller#create\n\nThis issue is an area for discussion of the newly created `ee/registrations/groups_projects_controller#create` action.\n\nThis action exceeds the query limiting threshold by more than 2x.\n\nThe main culprit is the `Projects::CreateService`, but secondarily is the extraneous tracking calls in both experiment libraries.\n\nI've seen a couple other \"Query Limiting\" issues (https://gitlab.com/gitlab-org/gitlab/-/issues/21139 https://gitlab.com/gitlab-org/gitlab/-/issues/20826) focused on the `Projects::CreateService`, but this would be the first one raising concern about the tracking calls for experimentation. I believe it's in our best interest to background all experiment tracking calls that we can.\n\nThis note [has been raised](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/64551#note_611904313) by @jejacks0n previously.\n\nMy suggestion going forward for this controller would be, given it is an experiment, that we run it at maybe 25%, and if we do see that it outperforms the control, that when its time to promote it, we separate the 2 end points, and make 2 asynchronous calls to create the group, and project objects. \n\nrelated to:\n\nhttps://gitlab.com/gitlab-org/gitlab/-/issues/285563\nhttps://gitlab.com/gitlab-org/gitlab/-/merge_requests/67614/","state":"closed","created_at":"2021-09-07T14:09:28.739Z","updated_at":"2022-12-08T04:45:06.846Z","closed_at":"2022-06-02T07:45:24.655Z","closed_by":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"labels":["Category:Onboarding","Deliverable","devops::growth","group::acquisition","missed-deliverable","missed:14.6","missed:14.7","section::growth","type::maintenance","workflow::in dev"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"}],"author":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"type":"ISSUE","assignee":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"user_notes_count":17,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":"2022-06-03","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340302","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":1},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340302","notes":"https://gitlab.com/api/v4/projects/278964/issues/340302/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340302/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340302","relative":"#340302","full":"gitlab-org/gitlab#340302"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6724,"epic":{"id":346105,"iid":6724,"title":"Resolve Onboarding feature category web APDEX duration exceeds threshold","url":"/groups/gitlab-org/-/epics/6724","group_id":9970,"human_readable_end_date":"Oct 31, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":93264858,"iid":340299,"project_id":278964,"title":"Remove temporary index on award_emoji for MRs with Thumbsups","description":"A [temporary index `tmp_idx_award_emoji_on_merge_requests_with_thumbsup`](db/post_migrate/20210825154031_add_temporary_index_on_award_emoji_for_merge_requests_with_thumbsups.rb) was added in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/67343\n\nThis index needs to be removed in a post db migration. __Be sure to verify that the [BackfillMergeRequestsUpvotesCount migration](db/post_migrate/20210826151803_backfill_merge_requests_upvotes_count.rb) is completed before doing this work.__","state":"closed","created_at":"2021-09-07T13:35:10.217Z","updated_at":"2022-05-30T16:30:11.379Z","closed_at":"2021-09-16T14:07:22.843Z","closed_by":{"id":5708766,"username":"terrichu","name":"Terri Chu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5708766/avatar.png","web_url":"https://gitlab.com/terrichu"},"labels":["Category:Global Search","[deprecated] Accepting merge requests","backend","database","devops::data_stores","group::global search","section::enablement","type::maintenance"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[],"author":{"id":5708766,"username":"terrichu","name":"Terri Chu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5708766/avatar.png","web_url":"https://gitlab.com/terrichu"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340299","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340299","notes":"https://gitlab.com/api/v4/projects/278964/issues/340299/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340299/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340299","relative":"#340299","full":"gitlab-org/gitlab#340299"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":93264024,"iid":340298,"project_id":278964,"title":"Test main branch against Ruby 3 in a scheduled pipeline","description":"Recently we were able to achieve our first green(-ish) build for our Ruby 3 MR :tada: : the only two job failures came from the upstream, and all downstream pipelines and QA were passing: https://gitlab.slack.com/archives/CGN8BUCKC/p1650463827523419, https://gitlab.com/gitlab-org/gitlab/-/pipelines/520562059.\n\nThe [next step](https://gitlab.com/groups/gitlab-org/-/epics/5149#milestone-3-green-build-incl-qa-for-gitlab) is to run Ruby 3 pipeline on a regular basis, ideally for every MR.\n\n## Plan\n\nTo support the deployment of Ruby 3 to GitLab.com, we eventually need to have a green build on the `master` branch. We think that building every MR against Ruby 3 on top of Ruby 2 is too costly (see estimation below), so instead we will implement a staged approach to testing:\n\n- **Milestone 1:** Developers and CI run on Ruby 2 by default, by every 2 hours we run a Ruby 3 pipeline against `master`. This pipeline is just _informative and must not block deployments or disrupt other workflows._ Errors should only be communicated to developers working on the Ruby 3 migration.\n- **Milestone 2:** If we find that these Ruby 3 builds are mostly stable, and we understand the kinds of regressions that occur, we can devise a workflow for developers (separate issue) for how to tackle such failures and extend the audience of these builds to _every contributor_. At this point it is expected that if a changeset breaks these builds, the commit authors tackle these (with of our help, if necessary).\n- **Milestone 3:** If we find that this workflow works well enough, and enough contributors have been exposed to Ruby 3 related builds and failures (i.e. confidence is established in keeping these green), we will _swap the 2-hour schedule with Ruby 2_. At this point, every MR will build against Ruby 3, and Ruby 2 is only tested against every 2 hours, and before deployments. We should consider to have developers swap over their default Ruby to Ruby 3 at this point.\n- **Milestone 4:** This would coincide with running Ruby 3 in production; we remove the 2-hourly Ruby 2 build and Ruby 3 becomes the new default.\n\n## Rough approximation of additional CI costs\n\nAdditional cost of running Ruby 2 jobs on 2-hourly scheduled pipelines:\n\n* We have 94 RSpec jobs\n* RSpec jobs average duration is approximately 25 minutes\n* Cost per hour of runner VM: $0.095\n* Total additional hours per pipeline: `25 * 94 / 60 = 39.1`\n* Total additional cost per pipeline: `39.1 * $0.095 = $3.7`\n* We have 12 2-hourly scheduled pipelines per day\n* Total additional cost per day: `$3.7 * 12 = $44.4`\n* Running these duplicated tests for a year (e.g. until 16.x is released) would result in an additional: `$44.4 * 365 = $16,206`.","state":"closed","created_at":"2021-09-07T13:22:58.839Z","updated_at":"2022-10-12T08:48:55.745Z","closed_at":"2022-09-27T13:40:27.992Z","closed_by":{"id":4713264,"username":"mkaeppler","name":"Matthias K√§ppler","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4713264/avatar.png","web_url":"https://gitlab.com/mkaeppler"},"labels":["Category:Application Performance","Engineering Productivity","auto updated","devops::data_stores","group::application performance","maintenance::pipelines","missed:15.1","missed:15.3","missed:15.4","priority::2","section::enablement","type::maintenance"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":128633,"username":"rymai","name":"R√©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},{"id":6290669,"username":"godfat-gitlab","name":"Lin Jen-Shin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6290669/avatar.png","web_url":"https://gitlab.com/godfat-gitlab"}],"author":{"id":4713264,"username":"mkaeppler","name":"Matthias K√§ppler","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4713264/avatar.png","web_url":"https://gitlab.com/mkaeppler"},"type":"ISSUE","assignee":{"id":128633,"username":"rymai","name":"R√©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"user_notes_count":133,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340298","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340298","notes":"https://gitlab.com/api/v4/projects/278964/issues/340298/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340298/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340298","relative":"#340298","full":"gitlab-org/gitlab#340298"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8101,"epic":{"id":525613,"iid":8101,"title":"Ruby 3: Green builds and scheduled pipeline","url":"/groups/gitlab-org/-/epics/8101","group_id":9970,"human_readable_end_date":"Jan 31, 2023","human_readable_timestamp":"\u003cstrong\u003e16\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":93255505,"iid":340283,"project_id":278964,"title":"[Feature flag] Remove `environment_last_visible_pipeline_disable_joins`","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout [avoid release features cross joining with ci database](https://gitlab.com/gitlab-org/gitlab/-/issues/338006) on production,\nthat is currently behind the `environment_last_visible_pipeline_disable_joins` feature flag.\n\nIt is default-enabled so we need not do a manual rollout. We will have to monitor how it is working for a week or so and then remove the feature flag.\n\nAlong with the feature flag removal we also [agreed on a discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/68870#note_676453153) to clean-up the implementation via https://gitlab.com/gitlab-org/gitlab/-/merge_requests/70197/diffs which improves readability.\n\n## Owners\n\n* Team: ~\"group::release\"\n* Most appropriate slack channel to reach out to: `#s_release`\n* Best individual to reach out to: @bala.kumar \n* EM: @nicolewilliams \n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## The Rollout Plan\n\n- Partial Rollout on GitLab.com with testing groups\n- Rollout on GitLab.com for a certain period (How long)\n- Percentage Rollout on GitLab.com\n- Rollout Feature for everyone as soon as it's ready\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? Sentry errors reports can also be useful to review --\u003e\n\n## Testing Groups/Projects/Users\n\n\u003c!-- If applicable, any groups/projects that are happy to have this feature turned on early. Some organizations may wish to test big changes they are interested in with a small subset of users ahead of time for example. --\u003e\n\n- `gitlab-org/gitlab` project\n- `gitlab-org`/`gitlab-com` groups\n- ...\n\n\n## Expectations\n\n### What are we expecting to happen?\n\n\u003c!-- Describe the expected outcome when rolling out this feature --\u003e\n\n### What might happen if this goes wrong?\n\n\u003c!-- Should the feature flag be turned off? Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- [ ] Ensure that the feature MRs have been deployed to non-production environments.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [ ] Enable the feature globally on non-production environments.\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e true --dev`\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e true --staging`\n- [ ] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Preparation before production rollout\n\n- [ ] Ensure that the feature MRs have been deployed to both production and canary.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [ ] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [ ] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [ ] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [ ] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com.\n- [ ] If the feature might impact the user experience, notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n- [ ] If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), enable it on GitLab.com for [testing groups/projects](#testing-groupsprojectsusers).\n    - [ ] `/chatops run feature set --\u003cactor-type\u003e=\u003cactor\u003e \u003cfeature-flag-name\u003e true`\n- [ ] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Global rollout on production\n\n- [ ] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e`\n  - Enable the feature globally on production environment.\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e true`\n- [ ] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [ ] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [ ] Create a merge request with the following changes. Ask for review and merge it.\n    - [ ] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the default-enabling MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-default-enabling-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [ ] (Optional) You can create a separate issue for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [ ] Set the title to \"[Feature flag] Cleanup `\u003cfeature-flag-name\u003e`\".\n    - [ ] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [ ] Link this rollout issue as a related issue.\n    - [ ] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [x] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag. Ask for review and merge it.\n    - [x] Remove all references to the feature flag from the codebase.\n    - [x] Remove the YAML definitions for the feature from the repository.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [x] Ensure that the cleanup MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-cleanup-mr\u003e`\n- [x] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [x] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [x] `/chatops run feature delete environment_last_visible_pipeline_disable_joins --dev`\n    - [x] `/chatops run feature delete environment_last_visible_pipeline_disable_joins --staging`\n    - [x] `/chatops run feature delete environment_last_visible_pipeline_disable_joins`\n- [x] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set \u003cfeature-flag-name\u003e false\n```","state":"closed","created_at":"2021-09-07T11:47:11.826Z","updated_at":"2021-11-12T13:51:19.442Z","closed_at":"2021-11-11T21:54:42.596Z","closed_by":{"id":9253328,"username":"bala.kumar","name":"Bala Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9253328/avatar.png","web_url":"https://gitlab.com/bala.kumar"},"labels":["Category:Environment Management","auto updated","backend","devops::release","feature flag","group::release","section::ops","type::maintenance","workflow::production"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":9253328,"username":"bala.kumar","name":"Bala Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9253328/avatar.png","web_url":"https://gitlab.com/bala.kumar"}],"author":{"id":9253328,"username":"bala.kumar","name":"Bala Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9253328/avatar.png","web_url":"https://gitlab.com/bala.kumar"},"type":"ISSUE","assignee":{"id":9253328,"username":"bala.kumar","name":"Bala Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9253328/avatar.png","web_url":"https://gitlab.com/bala.kumar"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340283","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":47,"completed_count":12},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"12 of 47 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340283","notes":"https://gitlab.com/api/v4/projects/278964/issues/340283/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340283/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340283","relative":"#340283","full":"gitlab-org/gitlab#340283"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":93255341,"iid":340281,"project_id":278964,"title":"Bug: Text is difficult to read on compliance framework labels with dark backgrounds","description":"## Problem to solve\n\nText is difficult to read on compliance framework labels with dark backgrounds.\n\n## Screenshots\n\n![image](/uploads/3a79e5b9c6986547f419e5847a90fdaa/image.png)\n\n## Suggested solution\n\nUse a lighter font color when the compliance framework label color is dark.\n\n## Implementation\n\nWeight :one: \n\n1. Update `_compliance_framework_badge.html.haml` to display the appropriate text color for each label using the existing `text_color_class_for_bg` method from [`labels_helper.rb:117`](https://gitlab.com/gitlab-org/gitlab/blob/master/app/helpers/labels_helper.rb#L117).","state":"closed","created_at":"2021-09-07T11:45:19.977Z","updated_at":"2021-10-04T11:25:29.588Z","closed_at":"2021-10-04T11:25:29.574Z","closed_by":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"labels":["Category:Compliance Management","devops::manage","frontend","group::compliance","priority::4","section::dev","severity::4","type::bug","workflow::verification"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"}],"author":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"type":"ISSUE","assignee":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340281","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340281","notes":"https://gitlab.com/api/v4/projects/278964/issues/340281/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340281/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340281","relative":"#340281","full":"gitlab-org/gitlab#340281"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":93254964,"iid":340278,"project_id":278964,"title":"Improve readability of Cleanup tags service","description":"## Problem\n\nThe `#execute` method of this [service](https://gitlab.com/gitlab-org/gitlab/-/blob/808858d2a1cccd41fe26ea86cde8a37a27023b30/app/services/projects/container_repository/cleanup_tags_service.rb#L6-32) is growing and growing.\n\nThis hurts readability for new readers.\n\n## Solution\n\n* Divide \u0026 conquer: split that function in several small parts. `#execute` would then just call the different parts.\n* If possible group filters sets together.\n   * The `#execute` applies two sets of filters. Have a small function to apply each set.","state":"closed","created_at":"2021-09-07T11:38:15.618Z","updated_at":"2021-10-08T08:26:55.562Z","closed_at":"2021-10-08T08:26:55.535Z","closed_by":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"labels":["Category:Container Registry","auto updated","backend","devops::package","group::package registry","maintenance::refactor","package:active","ruby","section::ops","workflow::in review"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"}],"author":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"type":"ISSUE","assignee":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340278","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340278","notes":"https://gitlab.com/api/v4/projects/278964/issues/340278/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340278/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340278","relative":"#340278","full":"gitlab-org/gitlab#340278"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":93254248,"iid":340276,"project_id":278964,"title":"VSA fix haml helper paths passed to the frontend","description":"The following discussion from !67340 should be addressed:\n\n- [ ] @kushalpandya started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/67340#note_671029932):  (+1 comment)\n\n    \u003e I believe if pass `format: :json` as second param of path helper in HAML, we'll get the `.json` appended to the path, why aren't we using that approach?","state":"closed","created_at":"2021-09-07T11:28:14.470Z","updated_at":"2021-10-28T13:52:43.208Z","closed_at":"2021-09-21T12:39:03.858Z","closed_by":{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"},"labels":["Category:Value Stream Management","devops::manage","frontend","group::optimize","section::dev","type::maintenance","workflow::verification"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"}],"author":{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"},"type":"ISSUE","assignee":{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340276","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340276","notes":"https://gitlab.com/api/v4/projects/278964/issues/340276/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340276/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340276","relative":"#340276","full":"gitlab-org/gitlab#340276"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":93248935,"iid":340270,"project_id":278964,"title":"Build minimal staging infrastructure for pseudonymization on AWS","description":"## Background \n\nSnowplow AWS collection pipeline has no staging configuration, that significantly increases risk of rollout every change, since it will be applied to production data right away.\n\n## Goal\n\nBuild minimal staging configuration that would allow to test changes prepared for pseudonymization of PII data\n\n## Technical proposal\n\nKinesis allows for multiple clients reading from the same stream, each of those clients can receive the same data. For the minimal staging configuration, it can be considered to create duplicate of Firehose delivery stream serving enriched good events stream. This duplicated Firehose delivery stream would need to write data to newly created staging S3 bucket.\n\n![Screen_Shot_2021-09-09_at_5.06.37_PM](/uploads/91e0f5f64e9c5b5bf2d148c6ee47d287/Screen_Shot_2021-09-09_at_5.06.37_PM.png)\n\nThe red arrows in the diagram above indicate the new staging data flow.\n\n## Requirements \n\n1. Developer access to https://ops.gitlab.net/gitlab-com/gitlab-com-infrastructure/-/blob/master/environments/aws-snowplow/main.tf","state":"closed","created_at":"2021-09-07T09:51:20.886Z","updated_at":"2021-10-28T13:52:43.667Z","closed_at":"2021-10-18T10:04:55.400Z","closed_by":{"id":4807002,"username":"mikolaj_wawrzyniak","name":"Miko≈Çaj Wawrzyniak","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4807002/avatar.png","web_url":"https://gitlab.com/mikolaj_wawrzyniak"},"labels":["auto updated","backend","devops::growth","group::product intelligence","missed:14.3","section::growth","type::maintenance","workflow::in review"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":4373269,"username":"ali-gitlab","name":"Alishan Ladhani","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4373269/avatar.png","web_url":"https://gitlab.com/ali-gitlab"}],"author":{"id":4807002,"username":"mikolaj_wawrzyniak","name":"Miko≈Çaj Wawrzyniak","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4807002/avatar.png","web_url":"https://gitlab.com/mikolaj_wawrzyniak"},"type":"ISSUE","assignee":{"id":4373269,"username":"ali-gitlab","name":"Alishan Ladhani","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4373269/avatar.png","web_url":"https://gitlab.com/ali-gitlab"},"user_notes_count":16,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340270","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340270","notes":"https://gitlab.com/api/v4/projects/278964/issues/340270/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340270/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340270","relative":"#340270","full":"gitlab-org/gitlab#340270"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6309,"epic":{"id":303192,"iid":6309,"title":"Pseudonymization MVC","url":"/groups/gitlab-org/-/epics/6309","group_id":9970,"human_readable_end_date":"Dec 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":93243384,"iid":340268,"project_id":278964,"title":"Reduce Utilization error \"spend\"","description":"# Problem\n\nIn the [2021-09-04 error budget report](https://gitlab.com/gitlab-org/gitlab/-/issues/340201), ~\"group::utilization\" is highlighted as one of the top groups \"over budget\".\n\n# Cause\n\nFrom a review of our [stage dashboard](https://dashboards.gitlab.net/d/stage-groups-subscription/stage-groups-group-dashboard-fulfillment-utilization?orgId=1) and associated [kibana logs](https://log.gprd.gitlab.net/goto/fcdc4fead5ba1ede5dd1cfdce7333717) (internal links), this looks to be a result of the [`UpdateHighestRoleWorker`](https://gitlab.com/gitlab-org/gitlab/-/blob/7bfa09639d825776af128da7dff27ee9a14aeea4/app/workers/update_highest_role_worker.rb) having a high error rate due to validation errors.\n\nThere maybe other offenders, but this seems the likely culprit from my initial investigation. If there are more, we can add them to this issue and potentially promote to an epic for tracking purposes.\n\n# Proposed solution\n\nInitially, we can reduce our error budget spend by identifying where and why the validation error is occuring and either implementing a fix (if it's a bug) or handling the error more gracefully\n\nIt looks like it is likely to be [this `update!`](https://gitlab.com/gitlab-org/gitlab/blob/d480822075a6f5abb5f68d998fb1a0525b47551b/app/services/users/update_highest_member_role_service.rb#L14) that is failing, so we can probably start our investigation from there.","state":"closed","created_at":"2021-09-07T08:47:12.130Z","updated_at":"2021-10-18T07:02:33.019Z","closed_at":"2021-10-11T16:07:08.966Z","closed_by":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"labels":["Deliverable","[deprecated] Category:Utilization","auto updated","backend","devops::fulfillment","group::utilization","maintenance::refactor","section::fulfillment","workflow::production"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"}],"author":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"type":"ISSUE","assignee":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"user_notes_count":18,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340268","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340268","notes":"https://gitlab.com/api/v4/projects/278964/issues/340268/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340268/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340268","relative":"#340268","full":"gitlab-org/gitlab#340268"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6678,"epic":{"id":342168,"iid":6678,"title":"Investigate and Improve Fulfillment Error Budgets","url":"/groups/gitlab-org/-/epics/6678","group_id":9970,"human_readable_end_date":"Apr 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":93236153,"iid":340264,"project_id":278964,"title":"Show success toast message after deleting iteration","description":"After deleting an iteration we should show a confirmation toast message that it was deleted","state":"closed","created_at":"2021-09-07T07:18:25.353Z","updated_at":"2021-10-08T07:37:28.632Z","closed_at":"2021-10-08T07:37:28.625Z","closed_by":{"id":9622933,"username":"janis","name":"Janis Altherr","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9622933/avatar.png","web_url":"https://gitlab.com/janis"},"labels":["Timebox","UI polish","automation:ml","devops::plan","feature::enhancement","frontend","group::project management","section::dev","type::feature"],"milestone":null,"assignees":[{"id":9622933,"username":"janis","name":"Janis Altherr","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9622933/avatar.png","web_url":"https://gitlab.com/janis"}],"author":{"id":832471,"username":"psimyn","name":"Simon Knox","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3de75939c39eecd6ea2215ec740a8037?s=80\u0026d=identicon","web_url":"https://gitlab.com/psimyn"},"type":"ISSUE","assignee":{"id":9622933,"username":"janis","name":"Janis Altherr","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9622933/avatar.png","web_url":"https://gitlab.com/janis"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340264","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340264","notes":"https://gitlab.com/api/v4/projects/278964/issues/340264/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340264/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340264","relative":"#340264","full":"gitlab-org/gitlab#340264"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":93227032,"iid":340256,"project_id":278964,"title":"Fix invalid cross-DB transaction when deleting project builds","description":"Context originally from https://gitlab.com/gitlab-org/gitlab/-/issues/339813 (and notes the comments https://gitlab.com/gitlab-org/gitlab/-/issues/339813#note_669072215\n\n## Summary\n\nSuper high level problem detail.\n\nWhen deleting a project we:\n\n1. start a transaction\n2. delete the `ci_builds` rows\n3. delete the `projects` row\n4. commit the transaction\n\nWe cannot allow such use of transactions when `ci_*` tables are moved to a separate database because the queries against the other database won't actually be in a transaction. This means that it could give the impression you are going to have rollback support etc. but it won't necessarily work and we don't believe it's a good idea to implement a 2 phase commit transaction approach across the 2 databases.\n\nThis is primarily caused by the use of `dependent: :destroy` in:\n\n`Project  has_many :builds, class_name: 'Ci::Build', inverse_of: :project, dependent: :destroy`\n\n## Possible Solution\n\nRead more at https://docs.gitlab.com/ee/development/database/multiple_databases.html#removing-cross-database-transactions\n\nThere is already re-architecture work that relates to this deletion code path in https://gitlab.com/gitlab-org/gitlab/-/issues/24644 . It's possible the solution to that may also solve this problem.\n\n## Other discussed solution\n\nWe recommend you find a different way that allows for deleting the builds in a robust way. Recommendation so far:\n\n1. Make `FastDestroyAll` accept an option to skip the `delete_all` step and therefore allow other things to take care of the deletion (e.g. real foreign key or [\"loose foreign key\"](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/69165))\n1. Make `FastDestroyAll` more robust so that we can use it for `Project -\u003e builds` (can you expand on what is needed here to make it robust)\n1. Convert `ci_builds.project_id` to a \"loose foreign key\" and then use `FastDestroyAll` for `Project -\u003e ci_builds`\n\nThere may also be simpler options that just push most of `ci_builds` cleanup work to Sidekiq or even just move the `delete_all` logic after the transaction completes.\n\n## How to validate the problem is solved\n\nWe introduced a tool for raising errors in tests when these kinds of transaction problems are detected https://gitlab.com/gitlab-org/gitlab/-/merge_requests/67213 . You can wrap some piece of code in `with_cross_database_modification_prevented` in a test to detect if that isolated piece of code has a problem. Alternatively you can use the `ci_data_modification_check` tag on a spec to do the same thing but it covers the whole spec so it may detect extra things in factories or `let` statements that make it harder to isolate your specific fix.","state":"closed","created_at":"2021-09-07T03:17:30.687Z","updated_at":"2022-01-25T16:29:53.309Z","closed_at":"2022-01-25T08:53:13.592Z","closed_by":{"id":3944199,"username":"fzimmer","name":"Fabian Zimmer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3944199/avatar.png","web_url":"https://gitlab.com/fzimmer"},"labels":["Category:Continuous Integration","Category:Importers","Engineering Allocation","FY22::Q4","Importer:Project Export/Import","Next Up","OKR","SaaS","Verify::P1","auto updated","backend","ci-decomposition","ci-decomposition::phase4","devops::verify","group::pipeline execution","milestone::p1","missed:14.4","missed:14.5","missed:14.6","missed:14.7","priority::1","reliability","section::ops","severity::1","workflow::production"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":730684,"username":"drew","name":"drew stachon","state":"active","avatar_url":"https://secure.gravatar.com/avatar/59b7f2c95acd4a085d964f745ead6bdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/drew"}],"author":{"id":120073,"username":"DylanGriffith","name":"Dylan Griffith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/120073/avatar.png","web_url":"https://gitlab.com/DylanGriffith"},"type":"ISSUE","assignee":{"id":730684,"username":"drew","name":"drew stachon","state":"active","avatar_url":"https://secure.gravatar.com/avatar/59b7f2c95acd4a085d964f745ead6bdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/drew"},"user_notes_count":55,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340256","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340256","notes":"https://gitlab.com/api/v4/projects/278964/issues/340256/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340256/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340256","relative":"#340256","full":"gitlab-org/gitlab#340256"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6379,"epic":{"id":309971,"iid":6379,"title":"Decomposition: Make Ops features compatible with Decomposed CI database","url":"/groups/gitlab-org/-/epics/6379","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":93223028,"iid":340254,"project_id":278964,"title":"Refactor label_item component within labels widget","description":"`label_item` component can be simplified now that it's contained in GlDrodpownItem component.\n\nThis should fix visual and keyboard navigation regressions introduced in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/69263","state":"closed","created_at":"2021-09-07T01:36:26.992Z","updated_at":"2021-10-28T13:52:44.917Z","closed_at":"2021-09-08T23:32:17.721Z","closed_by":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"labels":["devops::plan","frontend","group::project management","section::dev","type::maintenance","workflow::production"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"}],"author":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"type":"ISSUE","assignee":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340254","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340254","notes":"https://gitlab.com/api/v4/projects/278964/issues/340254/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340254/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340254","relative":"#340254","full":"gitlab-org/gitlab#340254"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6092,"epic":{"id":280301,"iid":6092,"title":"Refactor Labels select sidebar component","url":"/groups/gitlab-org/-/epics/6092","group_id":9970,"human_readable_end_date":"Dec 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":93213480,"iid":340205,"project_id":278964,"title":"Remove FireFox and Gecko from DAST","description":"### Problem to solve\n\nSince version `2`, DAST no longer uses Firefox and Gecko which makes the DAT image unnecessarily large. \n\n### Proposal\n\n- Remove Firefox and Gecko from the Docker image and from the DAST code\n- Remove webdriver authentication since it's been replaced by Browser Based DAST Scan authentication","state":"closed","created_at":"2021-09-06T21:24:07.673Z","updated_at":"2021-10-28T13:52:45.976Z","closed_at":"2021-09-08T22:48:48.135Z","closed_by":{"id":5344211,"username":"craigmsmith","name":"Craig Smith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5344211/avatar.png","web_url":"https://gitlab.com/craigmsmith"},"labels":["Category:DAST","dast::zap","devops::secure","group::dynamic analysis","section::sec","type::maintenance","workflow::production"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":5344211,"username":"craigmsmith","name":"Craig Smith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5344211/avatar.png","web_url":"https://gitlab.com/craigmsmith"}],"author":{"id":5344211,"username":"craigmsmith","name":"Craig Smith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5344211/avatar.png","web_url":"https://gitlab.com/craigmsmith"},"type":"ISSUE","assignee":{"id":5344211,"username":"craigmsmith","name":"Craig Smith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5344211/avatar.png","web_url":"https://gitlab.com/craigmsmith"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340205","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340205","notes":"https://gitlab.com/api/v4/projects/278964/issues/340205/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340205/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340205","relative":"#340205","full":"gitlab-org/gitlab#340205"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":93798932,"iid":341030,"project_id":278964,"title":"Review telemetry data for MR widgets","description":"\n#### [üìä Code Review \u003cabbr title=\"Monthly Active Users\"\u003eMAU\u003c/abbr\u003e Metrics](https://app.periscopedata.com/app/gitlab/786738/Code-Review-MAU-Metrics)\n#### [üì∏ Merge widget state screenshots](https://drive.google.com/drive/folders/1xduONjCcYSsFm7HvVvdxyjF_qH5ty8R5)\n\n| Widget | MAU chart | Total clicks chart |\n| ------ | ------ | --- |\n| **Accessibility** (Expand widget) | [Users Expanding Testing Accessibility Report](https://app.periscopedata.com/app/gitlab/786738/Code-Review-MAU-Metrics?widget=11928141\u0026udv=0) |\n| **Approvers** (Approve button) | [Approve MR](https://app.periscopedata.com/app/gitlab/786738/Code-Review-MAU-Metrics?widget=11101130\u0026udv=0) |\n| **Approvers** (Unapprove button) | [Unapprove MR](https://app.periscopedata.com/app/gitlab/786738/Code-Review-MAU-Metrics?widget=11101430\u0026udv=0) |\n| **Approvers** (View eligible approvers) |\n| **Branches** (Copy branch button) |\n| **Branches** (Check out branch button) |\n| **Branches** (Open in Web IDE) |\n| **Branches** (Open in GitPod) |\n| **Branches** (Download dropdown) |\n| **Branches** (Download email patches) |\n| **Branches** (Download plain diff) |\n| **Browser performance** (Expand widget) | [TestingGroup: Web Performance](https://app.periscopedata.com/app/gitlab/786738/Code-Review-MAU-Metrics?widget=11290193\u0026udv=0) |\n| **Code quality** (Expand widget)| [Users Expanding Testing Code Quality Report](https://app.periscopedata.com/app/gitlab/786738/Code-Review-MAU-Metrics?widget=11928153\u0026udv=0) |\n| **License compliance** (Expand widget) |\n| **Merge** (merge button) | [Merge MR](https://app.periscopedata.com/app/gitlab/786738/Code-Review-MAU-Metrics?widget=10860204\u0026udv=0) |\n| **Merge** (create issue to resolve all threads button) |\n| **Merge** (jump to first unresolved thread) |\n| **Merge** (delete source branch checkbox) |\n| **Merge** (squash commits checkbox) |\n| **Merge** (Assign yourself to this issue link) |\n| **Merge** (Refresh now button) |\n| **Merge** (modify commit message button) |\n| **Merge** (Mark as ready button) | [Unmark as draft](https://app.periscopedata.com/app/gitlab/786738/Code-Review-MAU-Metrics?widget=11101467\u0026udv=0) {+Is this from the header or the widget?+}\n| **Merge** (Cancel automatic merge button) |\n| **Merge** (Rebase button) |\n| **Merge** (Resolve conflicts button) |\n| **Merge** (Merge locally button) |\n| **Merge** (Use an existing commit message dropdown) |\n| **Merge** (Include merge request description checkbox) |\n| **Merge [no-changes]** (Create file button) |\n| **Merge [post-merge]** (delete source branch button) |\n| **Merge [post-merge]** (Revert button) |\n| **Merge [post-merge]** (Cherry-pick button) |\n| **Merge [post-merge]** (Copy commit SHA to clipboard button) |\n| **Merge trains** (Start merge train button) |\n| **Merge trains** (Merge immediately button) |\n| **Merge trains** (Remove from merge train button) |\n| **Merge trains** (Add to merge train when pipeline succeeds button) |\n| **Merged result pipeline** (click on any stage) |\n| **Merged result pipeline** (Download dropdown) |\n| **Merged result pipeline** (View app button) |\n| **Merged result pipeline** (Stop review app button) |\n| **Merged result pipeline** (Expand environments button) |\n| **Merged result pipeline** (Deploy button) |\n| **Merged result pipeline** (Review button) |\n| **Metrics** (Expand widget) | [TestingGroup: Metrics Report](https://app.periscopedata.com/app/gitlab/786738/Code-Review-MAU-Metrics?widget=11290190\u0026udv=0) |\n| **Security** (Expand widget) | [Users Expanding Security Report](https://app.periscopedata.com/app/gitlab/786738/Code-Review-MAU-Metrics?widget=11928007\u0026udv=0) {-NOT WORKING-} |\n| **Security** (View full report) |\n| **Terraform** (Expand widget) |\n| **Test summary** (Expand widget) |\n| **Status checks** (Expand widget) |\n| **Load performance** (Expand widget) | [Load Testing Widget](https://app.periscopedata.com/app/gitlab/633395/Testing-Category-Performance-Indicators?widget=10881551\u0026udv=0)","state":"closed","created_at":"2021-09-06T19:26:25.727Z","updated_at":"2021-11-30T10:08:57.137Z","closed_at":"2021-10-08T19:15:33.787Z","closed_by":{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},"labels":["Category:Code Review Workflow","UX","auto updated","devops::create","group::code review","section::dev","workflow::ready for development"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"}],"author":{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},"type":"ISSUE","assignee":{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},"user_notes_count":33,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341030","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341030","notes":"https://gitlab.com/api/v4/projects/278964/issues/341030/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341030/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341030","relative":"#341030","full":"gitlab-org/gitlab#341030"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6857,"epic":{"id":363243,"iid":6857,"title":"Review telemetry data for MR widgets","url":"/groups/gitlab-org/-/epics/6857","group_id":9970,"human_readable_end_date":"Feb 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":93194399,"iid":340189,"project_id":278964,"title":"Ensure that the user settings error messages display the correct variant","description":"## Problem\n\nWhen updating a user's website URL via profile settings - a validation error results in a blue (info variant) error message.\n\n![Screenshot_2022-01-26_at_09.12.22](/uploads/8cd112547db6c5dddb47d225f2da965c/Screenshot_2022-01-26_at_09.12.22.png)\n\n## Solution \n\nThe error message variant should be red (danger).\n\n## How to test\n\n- Browse to the profile settings \n  - https://gitlab.com/-/profile\n- Scroll down to website URL\n- Enter an invalid URL i.e. \"foobar\"\n- Save changes\n- Observe the error message","state":"closed","created_at":"2021-09-06T13:34:20.038Z","updated_at":"2022-02-28T09:02:47.347Z","closed_at":"2022-02-28T09:02:47.322Z","closed_by":{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"},"labels":["Category:Authentication and Authorization","Hackathon","devops::manage","frontend","group::authentication and authorization","section::dev","type::bug","workflow::production"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"}],"author":{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"},"type":"ISSUE","assignee":{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340189","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340189","notes":"https://gitlab.com/api/v4/projects/278964/issues/340189/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340189/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340189","relative":"#340189","full":"gitlab-org/gitlab#340189"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":93193389,"iid":340188,"project_id":278964,"title":"Avoid cross joins in environment model","description":"After removing `models/environment_spec.rb` from [`cross-join-allowlist.yml`](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/68870/diffs#:~:text=https%3A//gitlab.com/gitlab-org/gitlab/-/blob/737b51c7cfde0951a53d32e3987b22aa7a417be5/spec/support/database/cross-join-allowlist.yml%23L272) below failures are observed.\n\nThis test run was performed on top of the fix for https://gitlab.com/gitlab-org/gitlab/-/issues/338006 as discussed in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/68870#note_669755102\n\n```log\nFailures:\n\n  1) Environment#cancel_deployment_jobs! cancels an active deployment job\n     Failure/Error:\n       raise CrossJoinAcrossUnsupportedTablesError,\n         \"Unsupported cross-join across '#{tables.join(\", \")}' modifying '#{schemas.to_a.join(\", \")}' discovered \" \\\n         \"when executing query '#{sql}'\"\n\n     Database::PreventCrossJoins::CrossJoinAcrossUnsupportedTablesError:\n       Unsupported cross-join across 'deployments, ci_builds' modifying 'gitlab_main, gitlab_ci' discovered when executing query 'SELECT \"deployments\".\"id\", \"deployments\".\"iid\", \"deployments\".\"project_id\", \"deployments\".\"environment_id\", \"deployments\".\"ref\", \"deployments\".\"tag\", \"deployments\".\"sha\", \"deployments\".\"user_id\", \"deployments\".\"deployable_type\", \"deployments\".\"created_at\", \"deployments\".\"updated_at\", \"deployments\".\"on_stop\", \"deployments\".\"status\", \"deployments\".\"finished_at\", \"deployments\".\"cluster_id\", \"deployments\".\"deployable_id\" FROM \"deployments\" INNER JOIN ci_builds ON ci_builds.id = deployments.deployable_id WHERE \"deployments\".\"environment_id\" = 334 AND \"deployments\".\"status\" IN (0, 1) /*application:test,correlation_id:9b44b9bff69d006b3066c1033e260547*/'\n     # ./spec/support/database/prevent_cross_joins.rb:48:in `validate_cross_joins!'\n     # ./spec/support/database/prevent_cross_joins.rb:57:in `block in with_cross_joins_prevented'\n     # ./app/models/environment.rb:291:in `cancel_deployment_jobs!'\n     # ./spec/models/environment_spec.rb:1598:in `block (3 levels) in \u003ctop (required)\u003e'\n     # ./spec/models/environment_spec.rb:1607:in `block (3 levels) in \u003ctop (required)\u003e'\n     # ./spec/spec_helper.rb:392:in `block (3 levels) in \u003ctop (required)\u003e'\n     # ./spec/support/sidekiq_middleware.rb:9:in `with_sidekiq_server_middleware'\n     # ./spec/spec_helper.rb:383:in `block (2 levels) in \u003ctop (required)\u003e'\n     # ./spec/spec_helper.rb:379:in `block (3 levels) in \u003ctop (required)\u003e'\n     # ./lib/gitlab/application_context.rb:31:in `with_raw_context'\n     # ./spec/spec_helper.rb:379:in `block (2 levels) in \u003ctop (required)\u003e'\n     # ./spec/support/database/prevent_cross_joins.rb:95:in `block (3 levels) in \u003cmain\u003e'\n     # ./spec/support/database/prevent_cross_joins.rb:62:in `with_cross_joins_prevented'\n     # ./spec/support/database/prevent_cross_joins.rb:95:in `block (2 levels) in \u003cmain\u003e'\n     # ./spec/support/caching.rb:8:in `block (2 levels) in \u003cmain\u003e'\n\n  2) Environment#cancel_deployment_jobs! when deployable does not exist does not raise an error\n     Failure/Error: expect { subject }.not_to raise_error\n\n       expected no Exception, got #\u003cDatabase::PreventCrossJoins::CrossJoinAcrossUnsupportedTablesError: Unsupported cross-join across '...ployments\".\"status\" IN (0, 1) /*application:test,correlation_id:57c32c9489e5727b6a391b32541f0320*/'\u003e with backtrace:\n         # ./spec/support/database/prevent_cross_joins.rb:48:in `validate_cross_joins!'\n         # ./spec/support/database/prevent_cross_joins.rb:57:in `block in with_cross_joins_prevented'\n         # ./app/models/environment.rb:291:in `cancel_deployment_jobs!'\n         # ./spec/models/environment_spec.rb:1598:in `block (3 levels) in \u003ctop (required)\u003e'\n         # ./spec/models/environment_spec.rb:1618:in `block (5 levels) in \u003ctop (required)\u003e'\n         # ./spec/models/environment_spec.rb:1618:in `block (4 levels) in \u003ctop (required)\u003e'\n         # ./spec/spec_helper.rb:392:in `block (3 levels) in \u003ctop (required)\u003e'\n         # ./spec/support/sidekiq_middleware.rb:9:in `with_sidekiq_server_middleware'\n         # ./spec/spec_helper.rb:383:in `block (2 levels) in \u003ctop (required)\u003e'\n         # ./spec/spec_helper.rb:379:in `block (3 levels) in \u003ctop (required)\u003e'\n         # ./lib/gitlab/application_context.rb:31:in `with_raw_context'\n         # ./spec/spec_helper.rb:379:in `block (2 levels) in \u003ctop (required)\u003e'\n         # ./spec/support/database/prevent_cross_joins.rb:95:in `block (3 levels) in \u003cmain\u003e'\n         # ./spec/support/database/prevent_cross_joins.rb:62:in `with_cross_joins_prevented'\n         # ./spec/support/database/prevent_cross_joins.rb:95:in `block (2 levels) in \u003cmain\u003e'\n         # ./spec/support/caching.rb:8:in `block (2 levels) in \u003cmain\u003e'\n     # ./spec/models/environment_spec.rb:1618:in `block (4 levels) in \u003ctop (required)\u003e'\n     # ./spec/spec_helper.rb:392:in `block (3 levels) in \u003ctop (required)\u003e'\n     # ./spec/support/sidekiq_middleware.rb:9:in `with_sidekiq_server_middleware'\n     # ./spec/spec_helper.rb:383:in `block (2 levels) in \u003ctop (required)\u003e'\n     # ./spec/spec_helper.rb:379:in `block (3 levels) in \u003ctop (required)\u003e'\n     # ./lib/gitlab/application_context.rb:31:in `with_raw_context'\n     # ./spec/spec_helper.rb:379:in `block (2 levels) in \u003ctop (required)\u003e'\n     # ./spec/support/database/prevent_cross_joins.rb:95:in `block (3 levels) in \u003cmain\u003e'\n     # ./spec/support/database/prevent_cross_joins.rb:62:in `with_cross_joins_prevented'\n     # ./spec/support/database/prevent_cross_joins.rb:95:in `block (2 levels) in \u003cmain\u003e'\n     # ./spec/support/caching.rb:8:in `block (2 levels) in \u003cmain\u003e'\n\nFinished in 1 minute 34.94 seconds (files took 51.3 seconds to load)\n211 examples, 2 failures\n\nFailed examples:\n\nrspec ./spec/models/environment_spec.rb:1606 # Environment#cancel_deployment_jobs! cancels an active deployment job\nrspec ./spec/models/environment_spec.rb:1617 # Environment#cancel_deployment_jobs! when deployable does not exist does not raise an error\n\n```\n\nPipeline failure link - https://gitlab.com/gitlab-org/gitlab/-/jobs/1566030833","state":"closed","created_at":"2021-09-06T13:29:31.160Z","updated_at":"2021-11-18T07:02:07.229Z","closed_at":"2021-11-12T07:34:21.254Z","closed_by":{"id":9253328,"username":"bala.kumar","name":"Bala Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9253328/avatar.png","web_url":"https://gitlab.com/bala.kumar"},"labels":["Category:Environment Management","Deliverable","Release::P1","auto updated","ci-decomposition","ci-decomposition::phase6","devops::release","group::release","priority::3","section::ops","severity::3","workflow::production"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":9253328,"username":"bala.kumar","name":"Bala Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9253328/avatar.png","web_url":"https://gitlab.com/bala.kumar"}],"author":{"id":9253328,"username":"bala.kumar","name":"Bala Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9253328/avatar.png","web_url":"https://gitlab.com/bala.kumar"},"type":"ISSUE","assignee":{"id":9253328,"username":"bala.kumar","name":"Bala Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9253328/avatar.png","web_url":"https://gitlab.com/bala.kumar"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340188","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340188","notes":"https://gitlab.com/api/v4/projects/278964/issues/340188/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340188/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340188","relative":"#340188","full":"gitlab-org/gitlab#340188"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6379,"epic":{"id":309971,"iid":6379,"title":"Decomposition: Make Ops features compatible with Decomposed CI database","url":"/groups/gitlab-org/-/epics/6379","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":93189987,"iid":340184,"project_id":278964,"title":"Convert \"The merge request can now be merged\" alert to a toast","description":"Following up from https://gitlab.com/gitlab-org/gitlab/-/issues/338699#note_670078555\n\nLet's convert this alert to a [toast](https://design.gitlab.com/components/toast)\n\n### Proposal\n\n- Convert existing alert (shows up when you remove `draft` status) into a toast\n- Add a toast when user marks as `draft`\n\n#### Text\n\nWhen marking as `draft`:\n\u003e Marked as draft. Can only be merged when marked as ready.\n\nWhen marking as `ready`:\n\u003e Marked as ready. Merging is now allowed.","state":"closed","created_at":"2021-09-06T12:50:43.543Z","updated_at":"2021-10-18T09:54:52.795Z","closed_at":"2021-10-18T09:54:52.780Z","closed_by":{"id":626804,"username":"pedroms","name":"Pedro Moreira da Silva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c306f087d191ac15549f3c11e3bed321?s=80\u0026d=identicon","web_url":"https://gitlab.com/pedroms"},"labels":["Category:Code Review Workflow","Deliverable","auto updated","design-weight::1","devops::create","feature::enhancement","frontend","group::code review","section::dev","type::feature","workflow::verification"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},{"id":3457201,"username":"viktomas","name":"Tomas Vik","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3457201/avatar.png","web_url":"https://gitlab.com/viktomas"}],"author":{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},"type":"ISSUE","assignee":{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340184","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340184","notes":"https://gitlab.com/api/v4/projects/278964/issues/340184/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340184/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340184","relative":"#340184","full":"gitlab-org/gitlab#340184"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":93186214,"iid":340177,"project_id":278964,"title":"Service Ping Dictionary - metric updates","description":"Placeholder issue to link MRs and work-related with metrics definitions update\n\nWeight might change during a milestone considering the work added.\n\nGenerally, this would be a weight of 1. I'll add notes with the reason if this changes.\n\n### Related work\n\n- [x] https://gitlab.com/gitlab-org/gitlab/-/merge_requests/69645 -\u003e We missed these changes in the initial MR https://gitlab.com/gitlab-org/gitlab/-/merge_requests/59926/diffs\n- [x] [Update GitLab version metric definition](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/69651 )\n- [x] Make ~\"group::configure\" metric valid https://gitlab.com/gitlab-org/gitlab/-/merge_requests/69758\n- [x] Remove `skip_validation` line from metrics definitions https://gitlab.com/gitlab-org/gitlab/-/merge_requests/69866\n- [x] Make `product_stage`, `product_group` required, update values if they are missing https://gitlab.com/gitlab-org/gitlab/-/merge_requests/69897 At this stage we have product_stage and product_group required but we allow null values. There are 2 more issues that will fill more data https://gitlab.com/gitlab-org/gitlab/-/issues/340343 and https://gitlab.com/gitlab-org/gitlab/-/issues/321803.","state":"closed","created_at":"2021-09-06T11:48:58.341Z","updated_at":"2021-10-28T13:52:46.545Z","closed_at":"2021-09-14T06:38:52.526Z","closed_by":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"labels":["Unplanned","devops::growth","group::product intelligence","section::growth","type::maintenance","workflow::verification"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"}],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340177","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":5,"completed_count":5},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"5 of 5 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340177","notes":"https://gitlab.com/api/v4/projects/278964/issues/340177/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340177/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340177","relative":"#340177","full":"gitlab-org/gitlab#340177"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5425,"epic":{"id":207156,"iid":5425,"title":"Usage Ping Dictionary","url":"/groups/gitlab-org/-/epics/5425","group_id":9970,"human_readable_end_date":"Sep 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":93183463,"iid":340175,"project_id":278964,"title":"Address vue-require-string-literal-i18n-helpers offenses in ee/app/assets/javascripts/vue_shared/security_reports/components/modal_footer.vue","description":"Address `vue-require-string-literal-i18n-helpers` offenses in `ee/app/assets/javascripts/vue_shared/security_reports/components/modal_footer.vue`.\n  `__`'s only argument and `s__`'s and `n__`'s first two arguments should only ever be\n  string-literals.\n  \n  - [x] Re-enabled `vue-require-string-literal-i18n-helpers` rule in the file.\n  - [x] Addressed all offenses.","state":"closed","created_at":"2021-09-06T11:00:32.226Z","updated_at":"2021-10-28T13:52:47.286Z","closed_at":"2021-09-10T15:38:57.668Z","closed_by":{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},"labels":["Category:Internationalization","devops::manage","frontend","group::import","section::dev","type::maintenance","workflow::verification"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"}],"author":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"type":"ISSUE","assignee":{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340175","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":2},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340175","notes":"https://gitlab.com/api/v4/projects/278964/issues/340175/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340175/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340175","relative":"#340175","full":"gitlab-org/gitlab#340175"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6624,"epic":{"id":333198,"iid":6624,"title":"Fix require-string-literal-i18n-helpers offenses","url":"/groups/gitlab-org/-/epics/6624","group_id":9970,"human_readable_end_date":"Nov 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":93183457,"iid":340174,"project_id":278964,"title":"Address vue-require-string-literal-i18n-helpers offenses in ee/app/assets/javascripts/vue_shared/security_reports/components/dismiss_button.vue","description":"Address `vue-require-string-literal-i18n-helpers` offenses in `ee/app/assets/javascripts/vue_shared/security_reports/components/dismiss_button.vue`.\n  `__`'s only argument and `s__`'s and `n__`'s first two arguments should only ever be\n  string-literals.\n  \n  - [x] Re-enabled `vue-require-string-literal-i18n-helpers` rule in the file.\n  - [x] Addressed all offenses.","state":"closed","created_at":"2021-09-06T11:00:28.067Z","updated_at":"2021-10-28T13:52:47.864Z","closed_at":"2021-09-10T15:39:39.697Z","closed_by":{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},"labels":["Category:Internationalization","frontend","group::foundations","section::dev","type::maintenance","workflow::verification"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"}],"author":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"type":"ISSUE","assignee":{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340174","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":2},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340174","notes":"https://gitlab.com/api/v4/projects/278964/issues/340174/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340174/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340174","relative":"#340174","full":"gitlab-org/gitlab#340174"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6624,"epic":{"id":333198,"iid":6624,"title":"Fix require-string-literal-i18n-helpers offenses","url":"/groups/gitlab-org/-/epics/6624","group_id":9970,"human_readable_end_date":"Nov 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":93179487,"iid":340172,"project_id":278964,"title":"Introduce pagination on MergeRequests#discussions endpoint","description":"## Background\n\nFor large MRs with 100+ discussions/notes, it can still take more than a second to load when serialized response is cached and more if not cached. It's understandable because even when the JSON response is cached, the post processing and policy checks will still need to run on each of those 100+ discussions/notes. This was found out in https://gitlab.com/gitlab-org/gitlab/-/issues/335566#note_667218572.\n\n## Proposal\n\nFollow the same pagination approach we did for diffs by having a `diffs_batch.json` but this time for discussions (something like `discussions_batch.json`. This way, one big request will be split into multiple smaller requests though still sequentially loaded.\n\n### Pros\n\n- We'll be able to show discussions by chunks resulting to faster response times.\n- Faster response time means we'll be able to show discussions quicker bit by bit. This leads to better UX in my opinion since user can see discussions earlier than seeing a loading state.\n- Faster response time means a Puma worker won't be blocked for a long time so it'll have time to perform other requests.\n- Apdex score of this endpoint will improve since it won't take long anymore.\n\n### Cons\n\n- Additional complexity because paginating this resource isn't that straightforward it seems.\n- It's just splitting the big request to smaller request but they can't be loaded in parallel.\n\nRelated to #335566.","state":"closed","created_at":"2021-09-06T10:25:31.126Z","updated_at":"2022-07-06T14:26:26.653Z","closed_at":"2022-06-16T02:58:18.201Z","closed_by":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"labels":["Deliverable","backend","bug::performance","devops::create","feature::enhancement","group::code review","section::dev","type::feature"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"}],"author":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"type":"ISSUE","assignee":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"user_notes_count":30,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340172","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340172","notes":"https://gitlab.com/api/v4/projects/278964/issues/340172/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340172/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340172","relative":"#340172","full":"gitlab-org/gitlab#340172"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1577,"epic":{"id":9297,"iid":1577,"title":"‚è≥ Progressively load merge request discussions","url":"/groups/gitlab-org/-/epics/1577","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":93148624,"iid":340151,"project_id":278964,"title":"[Feature flag] Enable verified email to enable 2FA","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout [the feature](https://gitlab.com/gitlab-org/gitlab/-/issues/35102) on production,\nthat is currently behind the `ensure_verified_primary_email_for_2fa` feature flag.\n\nThe MR that enables/removes the flag should also update the docs https://gitlab.com/gitlab-org/gitlab/-/merge_requests/69593#note_670119833.\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\n## Owners\n\n- Team: ~\"group::access\" \n- Most appropriate slack channel to reach out to: `#g_manage_access_topic_security_burndown`\n- Best individual to reach out to: `@.luke`\n- PM: `@stkerr` \n\n## The Rollout Plan\n\nhttps://gitlab.com/gitlab-org/gitlab/-/issues/340151#global-rollout-on-production\n\n- Rollout on GitLab.com for at least `3 days`\n\nWe don't expect errors, but Sentry will be checked. The rollout window allows us to be notified of any SaaS customers who might be negatively affected.\n\n\n## Expectations\n\n### What are we expecting to happen?\n\nUsers will need to verify their email address before they can enable 2FA.\n\n### What might happen if this goes wrong?\n\nWe somehow block legitimate users or negatively affect UX.\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- [x] Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Enable the feature globally on non-production environments.\n    - [x] `/chatops run feature set ensure_verified_primary_email_for_2fa true --dev`\n    - [x] `/chatops run feature set ensure_verified_primary_email_for_2fa true --staging`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Preparation before production rollout\n\n- [x] Ensure that the feature MRs have been deployed to both production and canary.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [x] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [x] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [x] Announce on [the feature issue](https://gitlab.com/gitlab-org/gitlab/-/issues/35102) an estimated time this will be enabled on GitLab.com.\n- [x] If the feature might impact the user experience, notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nAll `/chatops` commands that target production should be done in the `#production` slack channel for visibility.\n\n- [x] Confirm the feature flag is enabled on `staging` without incident\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [x] `/chatops run feature set ensure_verified_primary_email_for_2fa \u003crollout-percentage\u003e`\n- [x] Verify the change has the desired outcome with the limited rollout before enabling the feature globally on production.\n- [x] Enable the feature globally on production environment. `/chatops run feature set ensure_verified_primary_email_for_2fa true`\n- [x] Announce on [the feature issue](https://gitlab.com/gitlab-org/gitlab/-/issues/35102) that the feature has been globally enabled.\n- [x] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [x] Create a merge request with the following changes. Ask for review and merge it.\n    - [x] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [x] Ensure that the default-enabling MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-default-enabling-mr\u003e`\n- [x] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [x] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [ ] (Optional) You can create a separate issue for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [ ] Set the title to \"[Feature flag] Cleanup `\u003cfeature-flag-name\u003e`\".\n    - [ ] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [ ] Link this rollout issue as a related issue.\n    - [ ] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [x] Create a merge request to remove `ensure_verified_primary_email_for_2fa` feature flag. Ask for review and merge it.\n    - [x] Remove all references to the feature flag from the codebase.\n    - [x] Remove the YAML definitions for the feature from the repository.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [x] Ensure that the cleanup MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-cleanup-mr\u003e`\n- [x] Close [the feature issue](https://gitlab.com/gitlab-org/gitlab/-/issues/35102) to indicate the feature will be released in the current milestone.\n- [x] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [x] `/chatops run feature delete ensure_verified_primary_email_for_2fa --dev`\n    - [x] `/chatops run feature delete ensure_verified_primary_email_for_2fa --staging`\n    - [x] `/chatops run feature delete ensure_verified_primary_email_for_2fa`\n- [x] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set ensure_verified_primary_email_for_2fa false\n```","state":"closed","created_at":"2021-09-05T23:38:25.952Z","updated_at":"2021-10-28T13:52:50.050Z","closed_at":"2021-10-06T02:17:42.643Z","closed_by":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"labels":["Category:Authentication and Authorization","auto updated","backend","devops::manage","feature flag","group::authentication and authorization","quad-planning::complete-no-action","section::dev","type::maintenance","workflow::in dev"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"}],"author":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"type":"ISSUE","assignee":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340151","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":44,"completed_count":38},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"38 of 44 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340151","notes":"https://gitlab.com/api/v4/projects/278964/issues/340151/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340151/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340151","relative":"#340151","full":"gitlab-org/gitlab#340151"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":93145265,"iid":340150,"project_id":278964,"title":"[VSA] License check for Lead Time For Changes (DORA)","description":"### Problem to solve\n\nWe plan to [display the DORA Lead Time For Changes metric in VSA](https://gitlab.com/gitlab-org/gitlab/-/issues/300472).  Before that, we must ensure the data is subject to the correct license check.\n\n### Proposal\n\nAdd a license check in VSA that will allow DORA Lead Time For Changes to be displayed for ~\"GitLab Ultimate\", but not for ~\"GitLab Premium\" or ~\"GitLab Free\".  In other words, only expose the DORA metric if the license check is successful.  (This is very similar to the [license check for DORA Deployment Frequency](https://gitlab.com/gitlab-org/gitlab/-/issues/337256).)","state":"closed","created_at":"2021-09-05T19:22:15.735Z","updated_at":"2021-10-21T16:00:35.330Z","closed_at":"2021-10-21T15:53:51.168Z","closed_by":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"labels":["Category:Value Stream Management","GitLab Ultimate","auto updated","backend","devops::manage","feature::enhancement","group::optimize","priority::1","section::dev","type::feature","workflow::production"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"}],"author":{"id":4512390,"username":"djensen","name":"Dan Jensen","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4512390/avatar.png","web_url":"https://gitlab.com/djensen"},"type":"ISSUE","assignee":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340150","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340150","notes":"https://gitlab.com/api/v4/projects/278964/issues/340150/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340150/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340150","relative":"#340150","full":"gitlab-org/gitlab#340150"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":93143973,"iid":340148,"project_id":278964,"title":"\"Approve users in\" vs. \"Approve users with\"","description":"Perhaps the following strings could be changed to use the same style.\nEither \"in the\" or \"with the\".\n\n    ApplicationSettings|Approve users in the pending approval status?\n    ApplicationSettings|By making this change, you will automatically approve %d user with the pending approval status.\n    ApplicationSettings|By making this change, you will automatically approve %d users with the pending approval status.\n\nhttps://gitlab.com/gitlab-org/gitlab/-/blob/master/app/assets/javascripts/pages/admin/application_settings/general/components/signup_form.vue#L160\nhttps://gitlab.com/gitlab-org/gitlab/-/blob/master/app/assets/javascripts/pages/admin/application_settings/general/components/signup_form.vue#L143-144\n\n## Proposed Solution\n\nPer technical writing sign-off [here](https://gitlab.com/gitlab-org/gitlab/-/issues/340148#note_757604852):\n\n```\nApplicationSettings|Approve users who are pending approval?\nApplicationSettings|By making this change, you automatically approve %d users who are pending approval.\nApplicationSettings|By making this change, you automatically approve %d users who are pending approval.\n```","state":"closed","created_at":"2021-09-05T18:18:11.095Z","updated_at":"2022-02-18T17:41:36.707Z","closed_at":"2022-02-18T15:35:12.549Z","closed_by":{"id":4665308,"username":"doniquesmit","name":"Donique Smit","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c5737881c65a3063443d7692dfe04f4a?s=80\u0026d=identicon","web_url":"https://gitlab.com/doniquesmit"},"labels":["SUS::Impacting","Support Team Contributions","Technical Writing","UI text","[deprecated] Category:Utilization","devops::fulfillment","frontend","group::utilization","onboarding","section::fulfillment","severity::4","type::feature","workflow::ready for review"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":7922794,"username":"gerardo","name":"Gerardo Gutierrez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/107f2254e95c85808cd44699e6f97616?s=80\u0026d=identicon","web_url":"https://gitlab.com/gerardo"}],"author":{"id":3386196,"username":"scootergrisen","name":"scootergrisen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b65cbb2e31e40cc867d7435b2cec8c03?s=80\u0026d=identicon","web_url":"https://gitlab.com/scootergrisen"},"type":"ISSUE","assignee":{"id":7922794,"username":"gerardo","name":"Gerardo Gutierrez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/107f2254e95c85808cd44699e6f97616?s=80\u0026d=identicon","web_url":"https://gitlab.com/gerardo"},"user_notes_count":16,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340148","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340148","notes":"https://gitlab.com/api/v4/projects/278964/issues/340148/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340148/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340148","relative":"#340148","full":"gitlab-org/gitlab#340148"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":93135137,"iid":340138,"project_id":278964,"title":"Missing space in strings with \"for%{term_element}\"","description":"These strings seems to be missing a space after \"for\".\n\n    SearchResults|Showing %{from} - %{to} of %{count} %{scope} for%{term_element}\n    SearchResults|Showing %{count} %{scope} for%{term_element}\n    SearchResults|Showing %{from} - %{to} of %{count} %{scope} for%{term_element} in your personal and project snippets\n    SearchResults|Showing %{count} %{scope} for%{term_element} in your personal and project snippets\n    Showing %{count} %{scope} for%{term_element}\n\nhttps://gitlab.com/gitlab-org/gitlab/-/blob/master/app/helpers/search_helper.rb#L90-92\nhttps://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/helpers/ee/search_helper.rb#L66-68\nhttps://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/spec/helpers/search_helper_spec.rb#L152","state":"closed","created_at":"2021-09-05T10:34:04.094Z","updated_at":"2022-05-30T16:30:13.384Z","closed_at":"2021-10-05T19:28:25.462Z","closed_by":{"id":5724558,"username":"JohnMcGuire","name":"John McGuire","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5724558/avatar.png","web_url":"https://gitlab.com/JohnMcGuire"},"labels":["Category:Global Search","Community contribution","[deprecated] Accepting merge requests","devops::data_stores","group::global search","section::enablement","type::maintenance"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[],"author":{"id":3386196,"username":"scootergrisen","name":"scootergrisen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b65cbb2e31e40cc867d7435b2cec8c03?s=80\u0026d=identicon","web_url":"https://gitlab.com/scootergrisen"},"type":"ISSUE","assignee":null,"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340138","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340138","notes":"https://gitlab.com/api/v4/projects/278964/issues/340138/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340138/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340138","relative":"#340138","full":"gitlab-org/gitlab#340138"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":93129547,"iid":340125,"project_id":278964,"title":"Usage quotas pagination jumps to \"seats\" page","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nPagination on GitLab groups \"Usage quotas\" page for \"Pipelines\" or \"Storage\" links to \"Seats\" page \n\n### Steps to reproduce\n\n\u003c!-- Describe how one can reproduce the issue - this is very important. Please use an ordered list. --\u003e\n1. Find a GitLab group that has more than 20 repos (so that pipeline pagination is required) \n2. Navigate to GitLab groups \"Usage quotas\" page (`https://gitlab.com/groups/\u003cgroupid\u003e/-/usage_quotas`), which silently redirects to `https://gitlab.com/groups/\u003cgroupid\u003e/-/usage_quotas#seats-quota-tab`\n3. Navigate to \"Pipelines\" page (`https://gitlab.com/groups/\u003cgroupid\u003e/-/usage_quotas#pipelines-quota-tab`)\n4. Click on \"page 2\" link at the bottom of the page\n\n### Example Project\n\n\u003c!-- If possible, please create an example project here on GitLab.com that exhibits the problematic \nbehavior, and link to it here in the bug report. If you are using an older version of GitLab, this \nwill also determine whether the bug is fixed in a more recent version. --\u003e\n\nThis needs a GitLab group that the user has owner role in that has usage quotas. I am a member of such a group but it is private\n\n### What is the current *bug* behavior?\n\n\u003c!-- Describe what actually happens. --\u003e\nURL for `page 2` link is `https://gitlab.com/groups/\u003cgroupid\u003e/-/usage_quotas?page=2`, which silently redirects to `https://gitlab.com/groups/\u003cgroupid\u003e/-/usage_quotas?page=2#seats-quota-tab`\n\n### What is the expected *correct* behavior?\n\n\u003c!-- Describe what you should see instead. --\u003e\nHotfix: URL for `page 2` link for pipelines should be `https://gitlab.com/groups/\u003cgroupid\u003e/-/usage_quotas?page=2#pipelines-quota-tab` and for storage should be `https://gitlab.com/groups/\u003cgroupid\u003e/-/usage_quotas?page=2#storage-quota-tab`\n\nCorrect fix: The type of usage quota should be provided in the path component of the URL, not the fragment part, since these are separate documents, not parts of the same document (see https://en.wikipedia.org/wiki/URI_fragment). So the URLs should be:\n- `https://gitlab.com/groups/\u003cgroupid\u003e/-/usage_quotas/pipelines?page=2`\n- `https://gitlab.com/groups/\u003cgroupid\u003e/-/usage_quotas/storage?page=2`\n\n### Relevant logs and/or screenshots\n\n\u003c!-- Paste any relevant logs - please use code blocks (```) to format console output, logs, and code\n as it's tough to read otherwise. --\u003e\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\nThis bug happens on GitLab.com\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e","state":"closed","created_at":"2021-09-05T05:07:59.908Z","updated_at":"2021-12-08T18:36:35.058Z","closed_at":"2021-12-08T18:36:35.044Z","closed_by":{"id":8858358,"username":"sheldonled","name":"Sheldon Led","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4a4252822d6a503697403c631ca987dc?s=80\u0026d=identicon","web_url":"https://gitlab.com/sheldonled"},"labels":["[deprecated] Category:Utilization","devops::fulfillment","frontend","group::utilization","priority::2","section::fulfillment","severity::2","type::bug","workflow::in review"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":8858358,"username":"sheldonled","name":"Sheldon Led","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4a4252822d6a503697403c631ca987dc?s=80\u0026d=identicon","web_url":"https://gitlab.com/sheldonled"}],"author":{"id":5749573,"username":"Woodz1","name":"Richard Wise","state":"active","avatar_url":"https://secure.gravatar.com/avatar/07b22240e5339c47e32266bf21428f2a?s=80\u0026d=identicon","web_url":"https://gitlab.com/Woodz1"},"type":"ISSUE","assignee":{"id":8858358,"username":"sheldonled","name":"Sheldon Led","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4a4252822d6a503697403c631ca987dc?s=80\u0026d=identicon","web_url":"https://gitlab.com/sheldonled"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340125","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340125","notes":"https://gitlab.com/api/v4/projects/278964/issues/340125/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340125/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340125","relative":"#340125","full":"gitlab-org/gitlab#340125"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":93113868,"iid":340110,"project_id":278964,"title":"Mention that translation helpers should only be called with string literals","description":"* Follows up on https://gitlab.com/gitlab-org/frontend/eslint-plugin/-/merge_requests/56#note_667338673\n\nIn https://gitlab.com/gitlab-org/frontend/eslint-plugin/-/issues/41 and https://gitlab.com/gitlab-org/frontend/eslint-plugin/-/issues/43, we've added ESLint rules to prevent translations helpers from being called with anything else than strign literals in Js and Vue files. Violating this rule might prevent the `gettext:regenerate` script from collecting the strings to make them available for translation. Let's also document this caveat in https://docs.gitlab.com/ee/development/i18n/externalization.html.","state":"closed","created_at":"2021-09-04T09:09:21.189Z","updated_at":"2021-09-13T09:55:02.309Z","closed_at":"2021-09-13T09:55:02.290Z","closed_by":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"labels":["Category:Internationalization","documentation","frontend","group::analyzer frontend","workflow::in review"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"}],"author":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"type":"ISSUE","assignee":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340110","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340110","notes":"https://gitlab.com/api/v4/projects/278964/issues/340110/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340110/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340110","relative":"#340110","full":"gitlab-org/gitlab#340110"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":93111487,"iid":340107,"project_id":278964,"title":"Combine 2 strings about busy indicator into 1 string","description":"I see these 2 strings in translation:\n\n    SetStatusModal|A busy indicator is shown next to your name and avatar.\n    Profiles|\"Busy\" will be shown next to your name\n\nThey describe the same thing.\nOne can be seen when editing status and the other when editing profile.\n\nI suggest making them the same which ever is the best.\nI would prefer '\"Busy\"' not being a part of the string.\n\nhttps://gitlab.com/gitlab-org/gitlab/-/blob/master/app/assets/javascripts/set_status_modal/set_status_modal_wrapper.vue#L339\nhttps://gitlab.com/gitlab-org/gitlab/-/blob/master/app/views/profiles/show.html.haml#L74","state":"closed","created_at":"2021-09-04T07:10:12.664Z","updated_at":"2021-10-26T11:37:07.267Z","closed_at":"2021-10-26T11:37:07.261Z","closed_by":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"labels":["[deprecated] Accepting merge requests","devops::manage","feature::enhancement","group::optimize","section::dev","severity::4","type::feature"],"milestone":null,"assignees":[],"author":{"id":3386196,"username":"scootergrisen","name":"scootergrisen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b65cbb2e31e40cc867d7435b2cec8c03?s=80\u0026d=identicon","web_url":"https://gitlab.com/scootergrisen"},"type":"ISSUE","assignee":null,"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340107","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340107","notes":"https://gitlab.com/api/v4/projects/278964/issues/340107/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340107/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340107","relative":"#340107","full":"gitlab-org/gitlab#340107"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":93108573,"iid":340106,"project_id":278964,"title":"Document pseudonymization details on Snowplow Guide","description":"After merging #338320. We need to explain the technical side of the changes we implemented, along the lines of:\n\n- Determine if we need to update the [Snowplow request flow](https://docs.gitlab.com/ee/development/snowplow/index.html#snowplow-request-flow) graph to add the pseudonymization step between the frontend and the collector ([Proposal as reference](https://gitlab.com/gitlab-org/product-intelligence/-/blob/master/doc/pseudonymistaion_service_proposal.md)).\n- Mention the [method](https://docs.snowplowanalytics.com/docs/collecting-data/collecting-from-own-applications/javascript-trackers/javascript-tracker/javascript-tracker-v2/tracker-setup/other-parameters-2/#Setting_a_custom_page_URL_and_referrer_URL) we use to replace the URLs.\n- Explain that the URLs will appear pseudonymized in the [Snowplow testing tools](https://docs.gitlab.com/ee/development/snowplow/index.html#developing-and-testing-snowplow).\n- Add an useful SQL example of querying page views in Sisense (`SELECT * FROM legacy.snowplow_page_views_30 LIMIT 100` as base)","state":"closed","created_at":"2021-09-04T03:41:20.908Z","updated_at":"2021-11-08T19:01:59.315Z","closed_at":"2021-10-14T18:37:03.855Z","closed_by":{"id":5412956,"username":"agarciatesares","name":"Axel Garc√≠a","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"},"labels":["devops::growth","documentation","frontend","group::product intelligence","section::growth","workflow::verification"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":5412956,"username":"agarciatesares","name":"Axel Garc√≠a","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"}],"author":{"id":5412956,"username":"agarciatesares","name":"Axel Garc√≠a","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"},"type":"ISSUE","assignee":{"id":5412956,"username":"agarciatesares","name":"Axel Garc√≠a","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340106","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340106","notes":"https://gitlab.com/api/v4/projects/278964/issues/340106/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340106/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340106","relative":"#340106","full":"gitlab-org/gitlab#340106"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6551,"epic":{"id":324918,"iid":6551,"title":"Pseudonymization of URLs","url":"/groups/gitlab-org/-/epics/6551","group_id":9970,"human_readable_end_date":"Dec 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":93100059,"iid":340095,"project_id":278964,"title":"Add a keyboard shortcut to quickly open the Web IDE from any repo view","description":"## Problem to solve\n\nGitHub recently introduced the ability to quickly open a web code editor by typing `.` while viewing any file in the repository. While we have the `Open in Web IDE` button on these views, it could become a pattern that people expect to find in GitLab. \n\n## Proposal\n\nOpen the Web IDE when someone types `.` on a repository view. \n\nThe Web IDE should open in the same tab.\n- This is similar to the default behaviour of the \"Open in WebIDE\" button. It is noted that this button is a link and thus users could choose to open link in new tab and this `.` flow would not have the similar option.\n\n## Questions\n\n1. Do we have any other shortcuts that would conflict here? \n1. Is there a different shortcut that makes sense?\n\n## More info\n\nSee this related [HN thread](https://news.ycombinator.com/item?id=28402009)\n\n## The implementation plan\n\n1. Add a hidden menu item in `lib/sidebars/projects/menus/hidden_menu.rb`. Use the properly constructed link to WebIDE for the project as `link` param\n1. Add a new keybinding to `app/assets/javascripts/behaviors/shortcuts/keybindings.js` under the `project.*` namespace, apparently since we want to open WebIDE for a repository, and not introduce it as a global keystroke\n1. Add the shortcut navigation as a `Mousetrap` binder to `app/assets/javascripts/behaviors/shortcuts/shortcuts_navigation.js` and connect it to the hidden menu item's CSS class using `findAndFollowLink()`;\n1. Add the keystroke information into the documentation\n\n## Testing\n\nExtensive test coverage required, including an E2E (see https://gitlab.com/gitlab-org/quality/testcases/-/issues/2250). Running `package-and-qa` recommended on MR(s) to exclude regression.","state":"closed","created_at":"2021-09-03T20:05:14.069Z","updated_at":"2021-10-27T03:52:54.189Z","closed_at":"2021-10-11T20:26:43.843Z","closed_by":{"id":5212466,"username":"ericschurter","name":"Eric Schurter","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5212466/avatar.png","web_url":"https://gitlab.com/ericschurter"},"labels":["CEO Interest","Category:Web IDE","Deliverable","Technical Writing","UX","backend","devops::create","documentation","feature::enhancement","frontend","group::editor","quad-planning::complete-action","section::dev","tw-weight::5","type::feature","workflow::verification"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":3199302,"username":"dmishunov","name":"Denys Mishunov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d85e45af29611ac2c1395e3c3d6ec5d6?s=80\u0026d=identicon","web_url":"https://gitlab.com/dmishunov"}],"author":{"id":5212466,"username":"ericschurter","name":"Eric Schurter","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5212466/avatar.png","web_url":"https://gitlab.com/ericschurter"},"type":"ISSUE","assignee":{"id":3199302,"username":"dmishunov","name":"Denys Mishunov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d85e45af29611ac2c1395e3c3d6ec5d6?s=80\u0026d=identicon","web_url":"https://gitlab.com/dmishunov"},"user_notes_count":31,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340095","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340095","notes":"https://gitlab.com/api/v4/projects/278964/issues/340095/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340095/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340095","relative":"#340095","full":"gitlab-org/gitlab#340095"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5475,"epic":{"id":213862,"iid":5475,"title":"Improve the UX of the Web IDE","url":"/groups/gitlab-org/-/epics/5475","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":93099844,"iid":340093,"project_id":278964,"title":"Update documentation type label references","description":"- https://docs.gitlab.com/ee/development/contributing/issue_workflow.html#type-labels. Should be merged around the same time the labels are renamed (but no need to be exactly synced, can be merged before or after).","state":"closed","created_at":"2021-09-03T20:01:12.972Z","updated_at":"2022-03-16T11:37:49.449Z","closed_at":"2021-10-27T09:45:54.651Z","closed_by":{"id":128633,"username":"rymai","name":"R√©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"labels":["Engineering Productivity","ep::contributor tooling","maintenance::workflow","type::maintenance","workflow::in review"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":128633,"username":"rymai","name":"R√©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"}],"author":{"id":4303148,"username":"kwiebers","name":"Kyle Wiebers","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4303148/avatar.png","web_url":"https://gitlab.com/kwiebers"},"type":"ISSUE","assignee":{"id":128633,"username":"rymai","name":"R√©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340093","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340093","notes":"https://gitlab.com/api/v4/projects/278964/issues/340093/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340093/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340093","relative":"#340093","full":"gitlab-org/gitlab#340093"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6622,"epic":{"id":332733,"iid":6622,"title":"Consolidate top level type labels","url":"/groups/gitlab-org/-/epics/6622","group_id":9970,"human_readable_end_date":"Dec 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":93099807,"iid":340092,"project_id":278964,"title":"Required type label tooling changes","description":"Part of https://gitlab.com/groups/gitlab-org/-/epics/6622\n\nUpdates to\n\n- [ ] Danger\n- [ ] Issue Templates\n- [ ] More?","state":"closed","created_at":"2021-09-03T19:59:20.879Z","updated_at":"2022-03-16T11:37:51.585Z","closed_at":"2021-10-27T09:41:01.625Z","closed_by":{"id":128633,"username":"rymai","name":"R√©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"labels":["Engineering Productivity","ep::contributor tooling","maintenance::workflow","priority::2","type::maintenance","workflow::in review"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":128633,"username":"rymai","name":"R√©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"}],"author":{"id":4303148,"username":"kwiebers","name":"Kyle Wiebers","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4303148/avatar.png","web_url":"https://gitlab.com/kwiebers"},"type":"ISSUE","assignee":{"id":128633,"username":"rymai","name":"R√©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340092","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340092","notes":"https://gitlab.com/api/v4/projects/278964/issues/340092/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340092/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340092","relative":"#340092","full":"gitlab-org/gitlab#340092"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6622,"epic":{"id":332733,"iid":6622,"title":"Consolidate top level type labels","url":"/groups/gitlab-org/-/epics/6622","group_id":9970,"human_readable_end_date":"Dec 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":93098804,"iid":340088,"project_id":278964,"title":"Add visual review to Review Apps","description":"## Objective\n\nIncrease product designer usefulness by allowing [Visual Review](https://docs.gitlab.com/ee/ci/review_apps/#visual-reviews) to be used to provide feedback on the change. \n\n### Bonus objective\n\nDogfooding! https://docs.gitlab.com/ee/ci/review_apps/#visual-reviews\n\n### Questions\n\n- How can the javascript be added to the Review App for enabling Visual Review?","state":"closed","created_at":"2021-09-03T19:24:34.685Z","updated_at":"2022-10-06T14:31:29.618Z","closed_at":"2022-05-19T07:15:05.183Z","closed_by":{"id":10821571,"username":"ddieulivol","name":"David Dieulivol","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10821571/avatar.png","web_url":"https://gitlab.com/ddieulivol"},"labels":["Engineering Productivity","auto updated","ep::review-apps","maintenance::pipelines","priority::2","type::maintenance"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":10821571,"username":"ddieulivol","name":"David Dieulivol","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10821571/avatar.png","web_url":"https://gitlab.com/ddieulivol"}],"author":{"id":4303148,"username":"kwiebers","name":"Kyle Wiebers","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4303148/avatar.png","web_url":"https://gitlab.com/kwiebers"},"type":"ISSUE","assignee":{"id":10821571,"username":"ddieulivol","name":"David Dieulivol","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10821571/avatar.png","web_url":"https://gitlab.com/ddieulivol"},"user_notes_count":26,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340088","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340088","notes":"https://gitlab.com/api/v4/projects/278964/issues/340088/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340088/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340088","relative":"#340088","full":"gitlab-org/gitlab#340088"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6660,"epic":{"id":338547,"iid":6660,"title":"GitLab Project Review App Usefulness Improvement Iteration","url":"/groups/gitlab-org/-/epics/6660","group_id":9970,"human_readable_end_date":"May 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":93092730,"iid":340080,"project_id":278964,"title":"Incorrect date range in VSA report","description":"## Current Behavior\n\n![Screen_Shot_2021-09-03_at_1.50.39_PM](/uploads/97f002e164727b2e8d5f1dbee8e71800/Screen_Shot_2021-09-03_at_1.50.39_PM.png)\n\n## Expected Behavior\n\nThe date ranges to be identical","state":"closed","created_at":"2021-09-03T17:50:01.628Z","updated_at":"2021-10-10T10:28:18.660Z","closed_at":"2021-10-07T13:37:17.113Z","closed_by":{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"},"labels":["Category:Value Stream Management","devops::manage","frontend","group::optimize","section::dev","severity::4","type::bug","workflow::production"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"}],"author":{"id":4303289,"username":"gweaver","name":"Gabe Weaver","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4303289/avatar.png","web_url":"https://gitlab.com/gweaver"},"type":"ISSUE","assignee":{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"},"user_notes_count":13,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340080","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340080","notes":"https://gitlab.com/api/v4/projects/278964/issues/340080/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340080/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340080","relative":"#340080","full":"gitlab-org/gitlab#340080"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":93089550,"iid":340074,"project_id":278964,"title":"The floating bar is incorrectly positioned on revisions compare page","description":"Go to Projects =\u003e Compare =\u003e Select revisions to compare. On the compare page note that when scrolling the sticky bar with the number of changes and some action buttons is positioned too low.\n\n[Production URL](https://gitlab.com/gitlab-org/gitlab/-/compare/master...0a68660b-no-mr-iid?from_project_id=278964)\n\n![2021-09-03_19.51.58](/uploads/dfc04155364d78c93ee49c5f41621ab6/2021-09-03_19.51.58.gif)","state":"closed","created_at":"2021-09-03T16:53:19.808Z","updated_at":"2022-06-16T07:45:14.357Z","closed_at":"2022-06-16T07:45:14.342Z","closed_by":{"id":11703928,"username":"nradina","name":"Nataliia Radina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11703928/avatar.png","web_url":"https://gitlab.com/nradina"},"labels":["Category:Source Code Management","devops::create","frontend","group::source code","priority::3","section::dev","severity::4","type::bug","workflow::staging"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":11703928,"username":"nradina","name":"Nataliia Radina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11703928/avatar.png","web_url":"https://gitlab.com/nradina"}],"author":{"id":4339707,"username":"ohoral","name":"Olena Horal-Koretska","state":"active","avatar_url":"https://secure.gravatar.com/avatar/42796a7332b4608eb9785986719e7215?s=80\u0026d=identicon","web_url":"https://gitlab.com/ohoral"},"type":"ISSUE","assignee":{"id":11703928,"username":"nradina","name":"Nataliia Radina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11703928/avatar.png","web_url":"https://gitlab.com/nradina"},"user_notes_count":5,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340074","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340074","notes":"https://gitlab.com/api/v4/projects/278964/issues/340074/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340074/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340074","relative":"#340074","full":"gitlab-org/gitlab#340074"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":93081356,"iid":340057,"project_id":278964,"title":"Alias the needs in the pipeline graph","description":"This is an implementation issue for https://gitlab.com/gitlab-org/gitlab/-/issues/330079\n\n### Problem to solve \n\nIn #339788 we'll be adding a new array to handle both implicit and explicit needs. We'll need to update the frontend to use the new data.\n\n### Proposal \n\nWe should be able to [alias](https://atheros.ai/blog/how-to-use-graphql-aliases) the `needs` array to the newer `combinedNeeds` array (working title). Work with the ~backend engineer on this to ensure we're aliasing to the correct array.\n\n\n### Documentation\n\nWe'll need some documentation adding here to inform the user that the pipeline graph will now show implicit as well as explicit needs.\n\n* Add all known Documentation Requirements in this section. See https://docs.gitlab.com/ee/development/documentation/workflow.html\n* If this feature requires changing permissions, update the permissions document. See https://docs.gitlab.com/ee/user/permissions.html \n\n### What does success look like, and how can we measure that?\n\nWe should be able to see implicit needs on the pipeline graph.\n\ne.g. https://gitlab.com/samdbeckham/test/-/pipelines/350790524","state":"closed","created_at":"2021-09-03T14:10:22.065Z","updated_at":"2022-01-18T07:02:01.171Z","closed_at":"2022-01-10T18:54:41.283Z","closed_by":{"id":5327378,"username":"f_caplette","name":"Fr√©d√©ric Caplette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5327378/avatar.png","web_url":"https://gitlab.com/f_caplette"},"labels":["Category:Pipeline Authoring","Deliverable","Technical Writing","candidate::14.5","devops::verify","documentation","feature::enhancement","frontend","group::pipeline authoring","section::ops","type::feature"],"milestone":{"id":2156369,"iid":68,"group_id":9970,"title":"14.7","description":"","state":"active","created_at":"2021-07-21T17:39:41.786Z","updated_at":"2021-07-21T17:39:41.786Z","due_date":"2022-01-17","start_date":"2021-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/68"},"assignees":[{"id":5327378,"username":"f_caplette","name":"Fr√©d√©ric Caplette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5327378/avatar.png","web_url":"https://gitlab.com/f_caplette"}],"author":{"id":1125848,"username":"samdbeckham","name":"Sam Beckham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1125848/avatar.png","web_url":"https://gitlab.com/samdbeckham"},"type":"ISSUE","assignee":{"id":5327378,"username":"f_caplette","name":"Fr√©d√©ric Caplette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5327378/avatar.png","web_url":"https://gitlab.com/f_caplette"},"user_notes_count":24,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340057","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340057","notes":"https://gitlab.com/api/v4/projects/278964/issues/340057/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340057/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340057","relative":"#340057","full":"gitlab-org/gitlab#340057"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5951,"epic":{"id":265695,"iid":5951,"title":"Improvements to the job dependecies view in pipeline graph","url":"/groups/gitlab-org/-/epics/5951","group_id":9970,"human_readable_end_date":"Jan 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":{"id":40214,"iid":46,"sequence":7,"group_id":9970,"title":"Pipeline Authoring: Jan 10, 2022 ‚Äì Jan 23, 2022","description":"Target milestone `14.8`","state":3,"created_at":"2021-11-14T00:05:01.884Z","updated_at":"2022-01-24T00:05:02.043Z","start_date":"2022-01-10","due_date":"2022-01-23","web_url":"https://gitlab.com/groups/gitlab-org/-/iterations/40214"},"health_status":null},{"id":93068299,"iid":340041,"project_id":278964,"title":"Document constraints between url encoded project ids and the helm registry","description":"The following discussion from !69223 should be addressed: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/69223#note_665654565.\n\nDocument the following properties on the [helm registry](https://docs.gitlab.com/ee/user/packages/helm_repository/index.html). When using [url encoded](https://docs.gitlab.com/ee/api/index.html#namespaced-path-encoding) project ids (example `group%2Fproject`):\n\n* The push operation will only work with `$ curl`\n* The push operation will not work with the `$ helm push` addon\n* The pull operation will not work with the `$ helm install`","state":"closed","created_at":"2021-09-03T10:57:50.030Z","updated_at":"2021-09-14T07:52:58.092Z","closed_at":"2021-09-14T07:52:58.058Z","closed_by":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"labels":["Category:Helm Chart Registry","Category:Package Registry","devops::package","documentation","group::package registry","package:active","section::ops","workflow::production"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"}],"author":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"type":"ISSUE","assignee":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340041","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340041","notes":"https://gitlab.com/api/v4/projects/278964/issues/340041/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340041/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340041","relative":"#340041","full":"gitlab-org/gitlab#340041"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":93064611,"iid":340035,"project_id":278964,"title":"Remove v-html from ee/app/assets/javascripts/iterations/components/iteration_report_without_vue_router.vue","description":"As part of the effort to remove `v-html` from the codebase, we need to replace it with a safer alternative.\n\nSee [parent epic](https://gitlab.com/groups/gitlab-org/-/epics/4273#how-to-fix) for more details and examples.\n\n## Implementation Plan\n\n* [ ] Replace `v-html` with `v-safe-html` by using [GlSafeHTMLDirective](https://gitlab-org.gitlab.io/gitlab-ui/?path=/story/directives-safe-html-directive--default)\n* [ ] Is the value being passed to `v-html` sanitized before in frontend?\n  * [ ] Remove that part, and\n  * [ ] Replace every other `v-html` that uses that value with `v-safe-html`\n* [ ] Remove the comment `/* eslint-disable vue/no-v-html */`\n* [ ] Follow standard [code review process](https://docs.gitlab.com/ee/development/code_review.html)","state":"closed","created_at":"2021-09-03T09:49:07.977Z","updated_at":"2021-09-16T12:26:19.126Z","closed_at":"2021-09-16T12:26:19.109Z","closed_by":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"labels":["[deprecated] üçé","frontend","good for new contributors","group::analyzer frontend","maintenance::refactor","security","type::feature","workflow::in review"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"}],"author":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"type":"ISSUE","assignee":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340035","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340035","notes":"https://gitlab.com/api/v4/projects/278964/issues/340035/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340035/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340035","relative":"#340035","full":"gitlab-org/gitlab#340035"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4273,"epic":{"id":100261,"iid":4273,"title":"Replace v-html with v-safe-html","url":"/groups/gitlab-org/-/epics/4273","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":93060340,"iid":340025,"project_id":278964,"title":"rspec:coverage is not collecting coverage on rspec minimal jobs","description":"## Problem\n\nThe `rspec:coverage` job is not collecting coverage from `rspec * minimal` jobs.\n\nExample: https://gitlab.com/gitlab-org/gitlab/-/jobs/1556991795#L73\n\n```\n$ bundle exec scripts/merge-simplecov\nCoverage report generated for  to /builds/gitlab-org/gitlab/coverage. 0 / 0 LOC (100.0%) covered.\nCoverage report generated for  to /builds/gitlab-org/gitlab/coverage/coverage.xml\n```\n\nIn comparison, it is expected to collect coverage similar to https://gitlab.com/gitlab-org/gitlab/-/jobs/1557776729#L228\n\n```\n$ bundle exec scripts/merge-simplecov\nCoverage report generated for rspec-ee-integration-pg12-1-4, rspec-ee-integration-pg12-2-4, rspec-ee-integration-pg12-3-4, rspec-ee-integration-pg12-4-4, rspec-ee-integration-pg12-geo, rspec-ee-system-pg12-1-6, rspec-ee-system-pg12-2-6, rspec-ee-system-pg12-3-6, rspec-ee-system-pg12-4-6, rspec-ee-system-pg12-5-6, rspec-ee-system-pg12-6-6, rspec-ee-system-pg12-geo, rspec-ee-unit-pg12-1-12, ... to /builds/gitlab-org/gitlab/coverage/coverage.xml\n```\n\nLikely this is caused by the list of dependencies in https://gitlab.com/gitlab-org/gitlab/blob/bf7d71320d2a4c3ee191c73923666239d748fd2e/.gitlab/ci/rails.gitlab-ci.yml#L451-472.\n\n\n## Impact\n\nThe code coverage visualization on Merge Request diff page will not show anything.","state":"closed","created_at":"2021-09-03T08:49:01.382Z","updated_at":"2022-03-16T11:38:00.211Z","closed_at":"2021-11-04T13:57:41.814Z","closed_by":{"id":128633,"username":"rymai","name":"R√©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"labels":["Engineering Productivity","ep::pipeline","maintenance::pipelines","priority::2","severity::2","type::maintenance","workflow::in review"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":128633,"username":"rymai","name":"R√©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"}],"author":{"id":6354882,"username":"alberts-gitlab","name":"Albert Salim","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6354882/avatar.png","web_url":"https://gitlab.com/alberts-gitlab"},"type":"ISSUE","assignee":{"id":128633,"username":"rymai","name":"R√©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340025","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340025","notes":"https://gitlab.com/api/v4/projects/278964/issues/340025/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340025/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340025","relative":"#340025","full":"gitlab-org/gitlab#340025"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":93053719,"iid":340018,"project_id":278964,"title":"Get release by tag name with $CI_JOB_TOKEN  returns \"404 Project Not Found\"","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nThis was first discovered with `release-cli get` where it fails but `release-cli create` works fine.\n\nI'm assuming this is because the project is private.\n\n### Steps to reproduce\n\n - Create private project\n - Create job with script like `curl -s -H \"JOB-TOKEN: $CI_JOB_TOKEN\" \"https://gitlab.example.com/api/v4/projects/$id/releases/$tag\"`\n - This will produce a \"404 Project Not Found\" error\n\n### What is the expected *correct* behavior?\n\nEither a 200 response with the release or a \"404 Not Found\" response should be returned.","state":"closed","created_at":"2021-09-03T06:38:06.607Z","updated_at":"2021-11-17T16:13:55.776Z","closed_at":"2021-11-01T18:02:25.964Z","closed_by":{"id":4373269,"username":"ali-gitlab","name":"Alishan Ladhani","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4373269/avatar.png","web_url":"https://gitlab.com/ali-gitlab"},"labels":["Category:Release Orchestration","[deprecated] Accepting merge requests","automation:ml","automation:ml wrong","backend","devops::release","group::release","priority::2","section::ops","severity::2","type::bug"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[],"author":{"id":250912,"username":"mafli","name":"Mattias Fliesberg","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c30102caa4a9173aaa3362a1370c2a47?s=80\u0026d=identicon","web_url":"https://gitlab.com/mafli"},"type":"ISSUE","assignee":null,"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340018","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340018","notes":"https://gitlab.com/api/v4/projects/278964/issues/340018/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340018/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340018","relative":"#340018","full":"gitlab-org/gitlab#340018"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":93049399,"iid":340011,"project_id":278964,"title":"Creating issue in milestone list on boards fails","description":"Steps to reproduce:\n\n- On a board with a Milestone list\n- Create issue in milestone list using `+` button at the top of the list\n- When refreshing the Board, the issue is gone because the Milestone was never applied.","state":"closed","created_at":"2021-09-03T04:40:14.696Z","updated_at":"2021-11-08T16:05:47.419Z","closed_at":"2021-09-08T23:29:57.723Z","closed_by":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"labels":["Category:Team Planning","boards","devops::plan","frontend","group::product planning","type::bug","workflow::production"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"}],"author":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"type":"ISSUE","assignee":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340011","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340011","notes":"https://gitlab.com/api/v4/projects/278964/issues/340011/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340011/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340011","relative":"#340011","full":"gitlab-org/gitlab#340011"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5596,"epic":{"id":225594,"iid":5596,"title":"GraphQL boards bugs","url":"/groups/gitlab-org/-/epics/5596","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":93036107,"iid":339993,"project_id":278964,"title":"üé®  Design: On-demand Scans - View Scans MVC","description":"### Problem to solve\nThis issue is intended to discuss the updated MVC designs for adding an on-demand scans index page (view project's on-demand scans). Additional details and context can be found here: https://gitlab.com/groups/gitlab-org/-/epics/6637#note_666508804\n\n### Proposal \n\n- [üé®  Design file](https://www.figma.com/file/fCpKyeZo6HiuNyyZbyeOxH/DAST-Ondemand-MVC?node-id=1089%3A3336)\n- [üñ•  Prototype](https://www.figma.com/proto/fCpKyeZo6HiuNyyZbyeOxH/DAST-Ondemand-MVC?page-id=1089%3A1631\u0026node-id=1089%3A3336\u0026viewport=429%2C48%2C0.5\u0026scaling=min-zoom\u0026starting-point-node-id=1089%3A3336)","state":"closed","created_at":"2021-09-02T21:41:00.700Z","updated_at":"2022-01-05T15:48:08.621Z","closed_at":"2021-10-22T14:58:36.659Z","closed_by":{"id":8655314,"username":"mfangman","name":"Michael Fangman","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8655314/avatar.png","web_url":"https://gitlab.com/mfangman"},"labels":["Category:DAST","UX","auto updated","devops::secure","group::dynamic analysis","missed:14.3","missed:14.4","section::sec","type::feature","workflow::design"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[],"author":{"id":8655314,"username":"mfangman","name":"Michael Fangman","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8655314/avatar.png","web_url":"https://gitlab.com/mfangman"},"type":"ISSUE","assignee":null,"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/339993","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/339993","notes":"https://gitlab.com/api/v4/projects/278964/issues/339993/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/339993/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#339993","relative":"#339993","full":"gitlab-org/gitlab#339993"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6637,"epic":{"id":336470,"iid":6637,"title":"DAST On-Demand Scan - View Scans","url":"/groups/gitlab-org/-/epics/6637","group_id":9970,"human_readable_end_date":"Jan 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":93032341,"iid":339988,"project_id":278964,"title":"Update translations levels (Oct 2021)","description":"## Introduction\n\nWith the implementation of the feature to show the [translation coverage](https://gitlab.com/gitlab-org/gitlab/-/issues/328430) in the language selection dropdown, the translation levels need to be updated on a monthly cadence. \n\n## Proposal\n\nOnce the monthly merge of the new translations is complete, update the translation levels [data](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/i18n.rb#L43) from Crowdin.\n\n## Documentation\n\n* https://docs.gitlab.com/ee/development/i18n/merging_translations.html#manually-update-the-translation-levels\n\n#### ToDo\n* [x] After cloning: update Title, set Milestone, Due date (15th), Related to previous month's issue.\n* [x] After the 1st of the month: assign to yourself, set ~2526320 \n* [x] Complete the [regular monthly merge](https://gitlab.com/groups/gitlab-org/-/epics/3571) of translations from Crowdin.\n* [x] Get the translation levels (% approved words) from [Crowdin](https://crowdin.com/project/gitlab-ee).\n* [x] Create an MR to update the translation levels [data](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/i18n.rb#L43).\n* [x] Associate that MR to this issue.\n* [x] Complete the MR.\n* [x] When done, clone [this issue](https://gitlab.com/gitlab-org/gitlab/-/issues/339985) for the next milestone.","state":"closed","created_at":"2021-09-02T19:50:58.988Z","updated_at":"2022-03-28T19:16:31.888Z","closed_at":"2021-10-05T13:36:08.993Z","closed_by":{"id":5247073,"username":"hdelalic","name":"Haris Delaliƒá","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5247073/avatar.png","web_url":"https://gitlab.com/hdelalic"},"labels":["Category:Internationalization","Deliverable","Next Up","backend","devops::manage","estimation::completed","group::import","milestone::p2","section::dev","type::maintenance","workflow::production"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":5247073,"username":"hdelalic","name":"Haris Delaliƒá","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5247073/avatar.png","web_url":"https://gitlab.com/hdelalic"}],"author":{"id":5247073,"username":"hdelalic","name":"Haris Delaliƒá","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5247073/avatar.png","web_url":"https://gitlab.com/hdelalic"},"type":"ISSUE","assignee":{"id":5247073,"username":"hdelalic","name":"Haris Delaliƒá","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5247073/avatar.png","web_url":"https://gitlab.com/hdelalic"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2021-10-15","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/339988","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":8,"completed_count":8},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"8 of 8 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/339988","notes":"https://gitlab.com/api/v4/projects/278964/issues/339988/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/339988/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#339988","relative":"#339988","full":"gitlab-org/gitlab#339988"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3571,"epic":{"id":67045,"iid":3571,"title":"Regular i18n translation merges","url":"/groups/gitlab-org/-/epics/3571","group_id":9970,"human_readable_timestamp":"\u003cstrong\u003e1033\u003c/strong\u003e days elapsed"},"iteration":null,"health_status":null},{"id":93031681,"iid":339987,"project_id":278964,"title":"Update translations levels (mmm yyyy)","description":"## Introduction\n\nWith the implementation of the feature to show the [translation coverage](https://gitlab.com/gitlab-org/gitlab/-/issues/328430) in the language selection dropdown, the translation levels need to be updated on a monthly cadence. \n\n## Proposal\n\nOnce the monthly merge of the new translations is complete, update the translation levels [data](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/i18n.rb#L43) from Crowdin.\n\n## Documentation\n\n* https://docs.gitlab.com/ee/development/i18n/merging_translations.html#manually-update-the-translation-levels\n\n#### ToDo\n* [ ] After cloning: set Milestone, Due date (15th), Related to previous month's issue.\n* [ ] After the 1st of the month: assign to yourself, set ~2526320 \n* [ ] Complete the [regular monthly merge](https://gitlab.com/groups/gitlab-org/-/epics/3571) of translations from Crowdin.\n* [ ] Get the translation levels (% approved words) from [Crowdin](https://crowdin.com/project/gitlab-ee).\n* [ ] Create an MR to update the translation levels [data](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/i18n.rb#L43).\n* [ ] Associate that MR to this issue.\n* [ ] Complete the MR.\n* [ ] When done, clone [this issue](https://gitlab.com/gitlab-org/gitlab/-/issues/339985) for the next milestone.","state":"closed","created_at":"2021-09-02T19:35:45.349Z","updated_at":"2021-10-28T13:52:53.799Z","closed_at":"2021-09-02T19:58:09.870Z","closed_by":{"id":5247073,"username":"hdelalic","name":"Haris Delaliƒá","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5247073/avatar.png","web_url":"https://gitlab.com/hdelalic"},"labels":["Category:Internationalization","backend","devops::manage","estimation::completed","group::import","milestone::p2","section::dev","type::maintenance"],"milestone":null,"assignees":[],"author":{"id":5247073,"username":"hdelalic","name":"Haris Delaliƒá","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5247073/avatar.png","web_url":"https://gitlab.com/hdelalic"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/339987","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":8,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 8 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/339987","notes":"https://gitlab.com/api/v4/projects/278964/issues/339987/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/339987/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#339987","relative":"#339987","full":"gitlab-org/gitlab#339987"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":93031679,"iid":339986,"project_id":278964,"title":"Merge i18n translations (Oct 2021)","description":"Merge the latest i18n translations from Crowdin on a monthly cadence.\n\nDocumentation available here: https://docs.gitlab.com/ee/development/i18n/merging_translations.html\n\n#### ToDo\n* [x] After cloning: set Milestone, Due date (15th), Related to previous month's issue.\n* [x] After the 1st of the month: assign to yourself, set ~2526320 \n* [x] If needed, configure the [GitLab-Crowdin integration](https://docs.gitlab.com/ee/development/i18n/merging_translations.html#recreate-the-gitlab-integration-in-crowdin)\n* [x] Kick off a sync from [Crowdin](https://crowdin.com/project/gitlab-ee/apps/system/gitlab)\n* [x] Find the [MR](https://gitlab.com/gitlab-org/gitlab/-/merge_requests?scope=all\u0026utf8=%E2%9C%93\u0026state=opened\u0026author_username=gitlab-crowdin-bot) created by @gitlab-crowdin-bot and associate it with this issue\n* [x] Complete the MR\n* [x] Update the translation levels [data](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/i18n.rb#L43) with the latest numbers. (Find the issue [here](https://gitlab.com/groups/gitlab-org/-/epics/3571))\n* [x] When done, clone [this issue](https://gitlab.com/gitlab-org/gitlab/-/issues/339980) for the next milestone.","state":"closed","created_at":"2021-09-02T19:35:37.838Z","updated_at":"2022-03-28T19:16:31.941Z","closed_at":"2021-10-05T13:34:35.145Z","closed_by":{"id":5247073,"username":"hdelalic","name":"Haris Delaliƒá","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5247073/avatar.png","web_url":"https://gitlab.com/hdelalic"},"labels":["Category:Internationalization","Deliverable","Next Up","backend","devops::manage","estimation::completed","group::import","milestone::p2","section::dev","type::maintenance","workflow::production"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":5247073,"username":"hdelalic","name":"Haris Delaliƒá","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5247073/avatar.png","web_url":"https://gitlab.com/hdelalic"}],"author":{"id":5247073,"username":"hdelalic","name":"Haris Delaliƒá","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5247073/avatar.png","web_url":"https://gitlab.com/hdelalic"},"type":"ISSUE","assignee":{"id":5247073,"username":"hdelalic","name":"Haris Delaliƒá","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5247073/avatar.png","web_url":"https://gitlab.com/hdelalic"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2021-10-15","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/339986","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":8,"completed_count":8},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"8 of 8 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/339986","notes":"https://gitlab.com/api/v4/projects/278964/issues/339986/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/339986/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#339986","relative":"#339986","full":"gitlab-org/gitlab#339986"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3571,"epic":{"id":67045,"iid":3571,"title":"Regular i18n translation merges","url":"/groups/gitlab-org/-/epics/3571","group_id":9970,"human_readable_timestamp":"\u003cstrong\u003e1033\u003c/strong\u003e days elapsed"},"iteration":null,"health_status":null},{"id":93031598,"iid":339985,"project_id":278964,"title":"Update translations levels (Feb 2022)","description":"## Introduction\n\nWith the implementation of the feature to show the [translation coverage](https://gitlab.com/gitlab-org/gitlab/-/issues/328430) in the language selection dropdown, the translation levels need to be updated on a monthly cadence. \n\n## Proposal\n\nOnce the monthly merge of the new translations is complete, update the translation levels [data](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/i18n.rb#L43) from Crowdin.\n\n## Documentation\n\n* https://docs.gitlab.com/ee/development/i18n/merging_translations.html#manually-update-the-translation-levels\n\n#### ToDo\n* [x] After cloning: update Title, set Milestone, Due date (15th), Related to previous month's issue.\n* [x] After the 1st of the month: assign to yourself, set ~\"workflow::in dev\" \n* [x] Complete the [regular monthly merge](https://gitlab.com/groups/gitlab-org/-/epics/3571) of translations from Crowdin.\n* [x] Get the translation levels (% approved words) from [Crowdin](https://crowdin.com/project/gitlab-ee).\n* [x] Create an MR to update the translation levels [data](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/i18n.rb#L43).\n* [x] Associate that MR to this issue.\n* [x] Complete the MR.\n* [x] When done, clone [this template issue](https://gitlab.com/gitlab-org/gitlab/-/issues/339985) for the next milestone.","state":"closed","created_at":"2021-09-02T19:33:26.504Z","updated_at":"2022-03-28T19:18:20.786Z","closed_at":"2022-02-03T22:18:43.298Z","closed_by":{"id":5247073,"username":"hdelalic","name":"Haris Delaliƒá","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5247073/avatar.png","web_url":"https://gitlab.com/hdelalic"},"labels":["Category:Internationalization","Deliverable","Next Up","backend","devops::manage","estimation::completed","group::import","milestone::p2","section::dev","type::maintenance","workflow::production"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":5247073,"username":"hdelalic","name":"Haris Delaliƒá","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5247073/avatar.png","web_url":"https://gitlab.com/hdelalic"}],"author":{"id":5247073,"username":"hdelalic","name":"Haris Delaliƒá","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5247073/avatar.png","web_url":"https://gitlab.com/hdelalic"},"type":"ISSUE","assignee":{"id":5247073,"username":"hdelalic","name":"Haris Delaliƒá","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5247073/avatar.png","web_url":"https://gitlab.com/hdelalic"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2022-02-15","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/339985","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":8,"completed_count":8},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"8 of 8 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/339985","notes":"https://gitlab.com/api/v4/projects/278964/issues/339985/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/339985/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#339985","relative":"#339985","full":"gitlab-org/gitlab#339985"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3571,"epic":{"id":67045,"iid":3571,"title":"Regular i18n translation merges","url":"/groups/gitlab-org/-/epics/3571","group_id":9970,"human_readable_timestamp":"\u003cstrong\u003e1033\u003c/strong\u003e days elapsed"},"iteration":null,"health_status":null},{"id":93028054,"iid":339978,"project_id":278964,"title":"NuGet: document the 300 limit that is enforced in the metadata endpoint","description":"### Problem to solve\n\nThe nuget metadata endpoint uses an internal [limit](https://gitlab.com/gitlab-org/gitlab/-/blob/8d7041208f5425870b78630612e4e32fd69f7a77/app/finders/packages/nuget/package_finder.rb#L6) to keep the query within the SQL performance guidelines.\n\nThat limit is not documented in https://docs.gitlab.com/ee/user/packages/nuget_repository/\n\n### Proposal\n\nDocument:\n* The limit itself for the nuget metadata endpoint\n* Add a note that this limit doesn't have an impact when pulling the dependencies.","state":"closed","created_at":"2021-09-02T18:28:44.450Z","updated_at":"2021-11-02T19:18:30.617Z","closed_at":"2021-11-02T19:18:30.602Z","closed_by":{"id":3799560,"username":"trizzi","name":"Tim Rizzi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3799560/avatar.png","web_url":"https://gitlab.com/trizzi"},"labels":["Category:Package Registry","NuGet Repository","[deprecated] Accepting merge requests","devops::package","documentation","group::package registry","section::ops"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":3799560,"username":"trizzi","name":"Tim Rizzi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3799560/avatar.png","web_url":"https://gitlab.com/trizzi"}],"author":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"type":"ISSUE","assignee":{"id":3799560,"username":"trizzi","name":"Tim Rizzi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3799560/avatar.png","web_url":"https://gitlab.com/trizzi"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/339978","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/339978","notes":"https://gitlab.com/api/v4/projects/278964/issues/339978/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/339978/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#339978","relative":"#339978","full":"gitlab-org/gitlab#339978"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6753,"epic":{"id":349088,"iid":6753,"title":"Packages code improvements","url":"/groups/gitlab-org/-/epics/6753","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":93026649,"iid":339976,"project_id":278964,"title":"Remove timeout that renders formatting bubble menu in the Content Editor","description":"After merging https://github.com/ueberdosis/tiptap/pull/1820, we should remove the 1 second timer that initializes the formatting bubble menu in the Content Editor\n\nThe following discussion from !69324 should be addressed:\n\n- [ ] @himkp started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/69324#note_666191560):  (+2 comments)\n\n    \u003e **Question**: is it necessary to have a 1 second timeout? Can we reduce the timeout?","state":"closed","created_at":"2021-09-02T17:50:43.084Z","updated_at":"2021-09-10T00:22:45.920Z","closed_at":"2021-09-10T00:22:45.907Z","closed_by":{"id":3540517,"username":"ealcantara","name":"Enrique Alc√°ntara","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3540517/avatar.png","web_url":"https://gitlab.com/ealcantara"},"labels":["[deprecated] Accepting merge requests","auto updated","devops::create","frontend","group::editor","maintenance::refactor","section::dev"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":3540517,"username":"ealcantara","name":"Enrique Alc√°ntara","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3540517/avatar.png","web_url":"https://gitlab.com/ealcantara"},"type":"ISSUE","assignee":null,"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/339976","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/339976","notes":"https://gitlab.com/api/v4/projects/278964/issues/339976/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/339976/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#339976","relative":"#339976","full":"gitlab-org/gitlab#339976"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":93025951,"iid":339974,"project_id":278964,"title":"[Feature flag] Enable FF `query_project_ci_feature_usages_for_coverage`","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout [Step 4 of #336199](https://gitlab.com/gitlab-org/gitlab/-/issues/336199#steps-to-take-based-on-httpsgitlabcomgitlab-orggitlab-issues336617) on production,\nthat is currently behind the `query_project_ci_feature_usages_for_coverage` feature flag.\n\nFeature flag was added in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/69890.\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\n## Owners\n\n- Team: ~\"group::testing\" \n- Most appropriate slack channel to reach out to: `#g_testing`\n- Best individual to reach out to: @iamricecake @shampton \n- PM: @jheimbuck_gl \n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## The Rollout Plan\n\n- Partial Rollout on GitLab.com with testing groups\n- Rollout on GitLab.com for a certain period (How long)\n- Percentage Rollout on GitLab.com\n- Rollout Feature for everyone as soon as it's ready\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? Sentry errors reports can also be useful to review --\u003e\n\n## Testing Groups/Projects/Users\n\n\u003c!-- If applicable, any groups/projects that are happy to have this feature turned on early. Some organizations may wish to test big changes they are interested in with a small subset of users ahead of time for example. --\u003e\n\n- a personal test group on prod: `test4072`\n- `gitlab-org` group\n\n\n## Expectations\n\n### What are we expecting to happen?\n\n\u003c!-- Describe the expected outcome when rolling out this feature --\u003e\n\nNo user facing changes will take effect. This internally just changes the table the query joins to.\n\n### What might happen if this goes wrong?\n\n\u003c!-- Should the feature flag be turned off? Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\nIf there's a problem with the new query, there won't be any projects showing up on the group repository analytics section for coverage. If things go wrong, just disable the feature flag. But really, this query does not get that much traffic.\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n\n2 GraphQL queries that use this change internally:\n\n`getGroupProjects`: https://log.gprd.gitlab.net/goto/5cf492a697f8a60170f20f184f3a0925\n\n`getProjectsTestCoverage`: https://log.gprd.gitlab.net/goto/a7e6f40acd074f0bbe2275b3f9f12ed3\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- [x] Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Enable the feature globally on non-production environments.\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e true --dev`\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e true --staging`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Preparation before production rollout\n\n- [x] Ensure that the feature MRs have been deployed to both production and canary.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [ ] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [ ] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [ ] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com.\n- [ ] If the feature might impact the user experience, notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nAll `/chatops` commands that target production should be done in the `#production` slack channel for visibility.\n\n- [x] Confirm the feature flag is enabled on `staging` without incident\n- [ ] Roll out the feature to targeted testing projects/groups first\n    - [x] `/chatops run feature set --group=eb-tests query_project_ci_feature_usages_for_coverage true`\n    - [ ] `/chatops run feature set --group=gitlab-org query_project_ci_feature_usages_for_coverage true`\n\n- [x] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [x] `/chatops run feature set query_project_ci_feature_usages_for_coverage 25 --actors`\n    - [x] `/chatops run feature set query_project_ci_feature_usages_for_coverage 50 --actors`\n    - [x] `/chatops run feature set query_project_ci_feature_usages_for_coverage 75 --actors`\n- [x] Verify the change has the desired outcome with the limited rollout before enabling the feature globally on production.\n- [x] Enable the feature globally on production environment. `/chatops run feature set \u003cfeature-flag-name\u003e true`\n- [x] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [x] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [x] Create a merge request to remove `query_project_ci_feature_usages_for_coverage` feature flag. Ask for review and merge it.\n    - [ ] Remove all references to the feature flag from the codebase.\n    - [ ] Remove the YAML definitions for the feature from the repository.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [x] Ensure that the cleanup MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-cleanup-mr\u003e`\n- [x] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [x] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [ ] `/chatops run feature delete query_project_ci_feature_usages_for_coverage --dev`\n    - [ ] `/chatops run feature delete query_project_ci_feature_usages_for_coverage --staging`\n    - [ ] `/chatops run feature delete query_project_ci_feature_usages_for_coverage`\n- [ ] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set query_project_ci_feature_usages_for_coverage false\n```","state":"closed","created_at":"2021-09-02T17:37:05.723Z","updated_at":"2021-11-18T17:53:13.602Z","closed_at":"2021-11-18T17:53:13.575Z","closed_by":{"id":1758950,"username":"iamricecake","name":"Erick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1758950/avatar.png","web_url":"https://gitlab.com/iamricecake"},"labels":["Category:Code Testing and Coverage","Deliverable","auto updated","ci-decomposition","devops::verify","feature flag","group::pipeline insights","missed-deliverable","missed:14.4","section::ops","type::maintenance","workflow::ready for development"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":1758950,"username":"iamricecake","name":"Erick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1758950/avatar.png","web_url":"https://gitlab.com/iamricecake"}],"author":{"id":1758950,"username":"iamricecake","name":"Erick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1758950/avatar.png","web_url":"https://gitlab.com/iamricecake"},"type":"ISSUE","assignee":{"id":1758950,"username":"iamricecake","name":"Erick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1758950/avatar.png","web_url":"https://gitlab.com/iamricecake"},"user_notes_count":16,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/339974","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":38,"completed_count":23},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"23 of 38 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/339974","notes":"https://gitlab.com/api/v4/projects/278964/issues/339974/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/339974/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#339974","relative":"#339974","full":"gitlab-org/gitlab#339974"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":93004859,"iid":339949,"project_id":278964,"title":"Improve credit card validation alert dismissible action to be action based on shared runner toggle","description":"\u003c!-- The first section \"Release notes\" is required if you want to have your release post blog MR auto generated. Currently in BETA, details on the **release post item generator** can be found in the handbook:  https://about.gitlab.com/handbook/marketing/blog/release-posts/#release-post-item-generator and this video: https://www.youtube.com/watch?v=rfn9ebgTwKg. The next four sections: \"Problem to solve\", \"Intended users\", \"User experience goal\", and \"Proposal\", are strongly recommended in your first draft, while the rest of the sections can be filled out during the problem validation or breakdown phase. However, keep in mind that providing complete and relevant information early helps our product team validate the problem and start working on a solution. --\u003e\n\n### Release notes\n\nThe credit card validation alert that appears when trying to enable shared runners was provided a free dismissible action from https://gitlab.com/gitlab-org/gitlab/-/issues/331154, but is not dismissible after dismissing it once. The alert changes back to a permanent alert with no ability to take action. We are refactoring it to have an action based alert instead of a loaded one, allowing it to be dismissible (even after dismissing once) and allowing for action to be taken to add a credit card on file easily (even after dismissing once).\n\n\n\u003c!-- What is the problem and solution you're proposing? This content sets the overall vision for the feature and serves as the release notes that will populate in various places, including the [release post blog](https://about.gitlab.com/releases/categories/releases/) and [Gitlab project releases](https://gitlab.com/gitlab-org/gitlab/-/releases). \" --\u003e\n\n### Problem to solve \n\nThe credit card validation alert that appears when trying to enable shared runners was provided a free dismissible action from https://gitlab.com/gitlab-org/gitlab/-/issues/331154, but is not dismissible after dismissing it once. The alert changes back to a permanent alert with no ability to take action. \n\nThe following discussion from !69245 should be addressed:\n\n- [ ] @pburdette started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/69245#note_665225150):  (+3 comments)\n\n    \u003e Hey @v_mishra would you mind giving this MR a UX review for me?\n\nShow to cc validation alert after it's dismissed and user tries to toggle shared runners toggle.\n\nCurrent behavior\n\n![shared_runners_alert](https://gitlab.com/gitlab-org/gitlab/uploads/9d6eeca7f074876d3fd94ffd51f67d9c/shared_runners_alert.mov)\n\n\u003c!-- What problem do we solve? Try to define the who/what/why of the opportunity as a user story. For example, \"As a (who), I want (what), so I can (why/value).\" --\u003e\n\n### Intended users\n\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Priyanka (Platform Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#priyanka-platform-engineer)\n\n\u003c!-- Who will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n\n* [Cameron (Compliance Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#cameron-compliance-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager)\n* [Alex (Security Operations Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#alex-security-operations-engineer)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops)\n* [Priyanka (Platform Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#priyanka-platform-engineer)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n* [Eddie (Content Editor)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#eddie-content-editor)\n--\u003e\n\n### Metrics \n\nTrack the amount of clicks on the validate account button - or the number of accounts with a credit card enabled and using shared runners.\n\n\u003c!-- How are you going to track uage of this feature? Think about user behavior and their interaction with the product. What indicates someone is getting value from it?\n\nCreate tracking issue using the Snowplow event tracking template. See https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Snowplow%20event%20tracking.md\n\n--\u003e\n\n### User experience goal\n\nMake the alert dismissible, even after dismissing once, and keep the `validate account` button permanent on the alert.\n\n\u003c!-- What is the single user experience workflow this problem addresses?\nFor example, \"The user should be able to use the UI/API/.gitlab-ci.yml with GitLab to \u003cperform a specific task\u003e\"\nhttps://about.gitlab.com/handbook/engineering/ux/ux-research-training/user-story-mapping/ --\u003e\n\n\n### Proposal\n\nRefactor the alert to have an action based alert instead of a loaded one, allowing it to be dismissible (even after dismissing once) and allowing for action to be taken to add a credit card on file easily (even after dismissing once).\n\n\u003c!-- How are we going to solve the problem? Try to include the user journey! https://about.gitlab.com/handbook/journeys/#user-journey --\u003e\n\n### Further details\n\n\u003c!-- Include use cases, benefits, goals, or any other details that will help us understand the problem better. --\u003e\n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?\nConsider adding checkboxes and expectations of users with certain levels of membership https://docs.gitlab.com/ee/user/permissions.html\n* [ ] Add expected impact to members with no access (0)\n* [ ] Add expected impact to Guest (10) members\n* [ ] Add expected impact to Reporter (20) members\n* [ ] Add expected impact to Developer (30) members\n* [ ] Add expected impact to Maintainer (40) members\n* [ ] Add expected impact to Owner (50) members --\u003e\n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/workflow.html#for-a-product-change\n\n* Add all known Documentation Requirements in this section. See https://docs.gitlab.com/ee/development/documentation/workflow.html\n* If this feature requires changing permissions, update the permissions document. See https://docs.gitlab.com/ee/user/permissions.html --\u003e\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\n### Available Tier\n\n\u003c!-- This section should be used for setting the appropriate tier that this feature will belong to. Pricing can be found here: https://about.gitlab.com/pricing/\n\n* Free\n* Premium/Silver\n* Ultimate/Gold\n--\u003e\n\n### What does success look like, and how can we measure that?\n\nMore accounts successfully validating with credit card information and using shared runners as desired.\n\n\u003c!--\nDefine both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this.\n\nCreate tracking issue using the Snowplow event tracking template. See https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Snowplow%20event%20tracking.md\n--\u003e\n\n### What is the type of buyer?\n\n\u003c!-- What is the buyer persona for this feature? See https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/buyer-persona/\nIn which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#three-tiers --\u003e\n\n### Is this a cross-stage feature?\n\n\u003c!-- Communicate if this change will affect multiple Stage Groups or product areas. We recommend always start with the assumption that a feature request will have an impact into another Group. Loop in the most relevant PM and Product Designer from that Group to provide strategic support to help align the Group's broader plan and vision, as well as to avoid UX and technical debt. https://about.gitlab.com/handbook/product/#cross-stage-features --\u003e\n\n### Links / references\n\n\u003c!-- Label reminders - you should have one of each of the following labels.\nUse the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n--\u003e\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2021-09-02T12:35:41.302Z","updated_at":"2022-02-07T14:27:45.323Z","closed_at":"2022-02-04T22:03:52.687Z","closed_by":{"id":3374280,"username":"mfluharty","name":"Miranda Fluharty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3374280/avatar.png","web_url":"https://gitlab.com/mfluharty"},"labels":["Category:Continuous Integration","FY22::Q4","GitLab Free","GitLab Premium","GitLab Ultimate","OKR","SUS::Impacting","UX","UX debt","Verify::P1","candidate::14.7","devops::verify","direction","documentation","feature::enhancement","frontend","group::pipeline insights","pipeline abuse prevention","section::ops","severity::2","type::feature","workflow::verification"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":3374280,"username":"mfluharty","name":"Miranda Fluharty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3374280/avatar.png","web_url":"https://gitlab.com/mfluharty"}],"author":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"type":"ISSUE","assignee":{"id":3374280,"username":"mfluharty","name":"Miranda Fluharty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3374280/avatar.png","web_url":"https://gitlab.com/mfluharty"},"user_notes_count":44,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/339949","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":7,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 7 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/339949","notes":"https://gitlab.com/api/v4/projects/278964/issues/339949/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/339949/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#339949","relative":"#339949","full":"gitlab-org/gitlab#339949"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":93001313,"iid":339948,"project_id":278964,"title":"Support default values in new version of `rename_column_concurrently` migration helper","description":"## Summary\n\n\u003c!--\nPlease briefly describe what part of the code base needs to be refactored.\n--\u003e\n\nThe original version of our `rename_column_concurrently` helper had a bug with no-downtime deployments: https://gitlab.com/gitlab-org/gitlab/-/issues/297378\n\nWe fixed this with a reimplementation of the helper in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/52032, which was added to the new `Gitlab::Database::MigrationHelpers::V2` module, but this new version doesn't support default values yet and aborts with an error when trying to rename a column with a default value.\n\n## Improvements\n\n\u003c!--\nExplain the benefits of refactoring this code.\nSee also https://about.gitlab.com/handbook/values/index.html#say-why-not-just-what\n--\u003e\n\nAdd support for default values.\n\nAs mentioned in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/52032#default-values this is non-trivial, but maybe we could at least implement support for defaults with constant values, and still abort with an error if we detect a default with an expression.\n\n## Involved components\n\n\u003c!--\nList files or directories that will be changed by the refactoring.\n--\u003e\n\n\u003c!--\nPlease select the appropriate label from the following:\n    ~\"feature::addition\"\n    ~\"feature::maintenance\"\n    ~\"tooling::pipelines\"\n    ~\"tooling::workflow\"\n--\u003e\n\n- `lib/gitlab/database/migration_helpers/v2.rb`","state":"closed","created_at":"2021-09-02T11:50:40.128Z","updated_at":"2023-01-09T07:49:07.233Z","closed_at":"2022-10-24T21:33:21.009Z","closed_by":{"id":16943,"username":"Andysoiron","name":"Andy Soiron","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/16943/avatar.png","web_url":"https://gitlab.com/Andysoiron"},"labels":["Category:Database","Category:Integrations","Stretch","backend","devops::manage","group::integrations","missed:15.4","missed:15.5","section::dev","type::maintenance","workflow::in review"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":16943,"username":"Andysoiron","name":"Andy Soiron","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/16943/avatar.png","web_url":"https://gitlab.com/Andysoiron"}],"author":{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},"type":"ISSUE","assignee":{"id":16943,"username":"Andysoiron","name":"Andy Soiron","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/16943/avatar.png","web_url":"https://gitlab.com/Andysoiron"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/339948","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":0,"blocking_issues_count":2,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/339948","notes":"https://gitlab.com/api/v4/projects/278964/issues/339948/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/339948/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#339948","relative":"#339948","full":"gitlab-org/gitlab#339948"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":92992622,"iid":339937,"project_id":278964,"title":"Fix for Project#any_online_runners? generates cross-database query","description":"`Project#any_online_runners?` generates cross-database queries. Queries which join between `ci_*` and non `ci_*` tables which will not be allowed once `ci_*` tables are moved to a new database.\n\nThese methods on projects probably needs to be looked at as well\n\n- `any_online_runners?`\n- `active_runners`\n- `all_available_runners`\n- `all_runners`\n\n\n### Example\n\n```\n  1) DashboardOperationsProjectEntity the project supports the ops dashboard when there is a pipeline when there is a downstream status has the triggered pipeline field\n     Failure/Error:\n       raise CrossJoinAcrossUnsupportedTablesError,\n         \"Unsupported cross-join across '#{tables.join(\", \")}' modifying '#{schemas.to_a.join(\", \")}' discovered \" \\\n         \"when executing query '#{sql}'\"\n     Database::PreventCrossJoins::CrossJoinAcrossUnsupportedTablesError:\n       Unsupported cross-join across 'ci_runners, namespaces, ci_runner_projects, projects, ci_runner_namespaces' modifying 'gitlab_ci, gitlab_main' discovered when executing query 'SELECT \"ci_runners\".* FROM ((SELECT \"ci_runners\".* FROM \"ci_runners\" INNER JOIN \"ci_runner_projects\" ON \"ci_runners\".\"id\" = \"ci_runner_projects\".\"runner_id\" WHERE \"ci_runner_projects\".\"project_id\" = 1397)\n       UNION\n       (SELECT \"ci_runners\".* FROM \"ci_runners\" INNER JOIN \"ci_runner_namespaces\" ON \"ci_runner_namespaces\".\"runner_id\" = \"ci_runners\".\"id\" INNER JOIN \"namespaces\" ON \"namespaces\".\"id\" = \"ci_runner_namespaces\".\"namespace_id\" AND \"namespaces\".\"type\" = 'Group' WHERE \"namespaces\".\"id\" IN (WITH RECURSIVE \"base_and_ancestors\" AS ((SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\" INNER JOIN \"projects\" ON \"projects\".\"namespace_id\" = \"namespaces\".\"id\" WHERE \"namespaces\".\"type\" = 'Group' AND \"projects\".\"id\" = 1397)\n       UNION\n       (SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\", \"base_and_ancestors\" WHERE \"namespaces\".\"type\" = 'Group' AND \"namespaces\".\"id\" = \"base_and_ancestors\".\"parent_id\")) SELECT \"namespaces\".\"id\" FROM \"base_and_ancestors\" AS \"namespaces\"))\n       UNION\n       (SELECT \"ci_runners\".* FROM \"ci_runners\" WHERE \"ci_runners\".\"runner_type\" = 1)) ci_runners WHERE \"ci_runners\".\"active\" = TRUE AND (contacted_at \u003e '2021-09-02 00:46:46.584603') /*application:test,correlation_id:d3d376c68d6acb325340ba40e2a711ff*/'\n     # ./spec/support/database/prevent_cross_joins.rb:55:in `validate_cross_joins!'\n     # ./spec/support/database/prevent_cross_joins.rb:71:in `block in with_cross_joins_prevented'\n     # ./app/models/project.rb:1792:in `any_online_runners?'\n     # ./app/models/ci/build.rb:757:in `block in any_runners_online?'\n     # ./app/models/ci/build.rb:1206:in `block in cache_for_online_runners'\n     # ./app/models/ci/build.rb:1203:in `cache_for_online_runners'\n     # ./app/models/ci/build.rb:756:in `any_runners_online?'\n     # ./app/models/ci/build.rb:768:in `stuck?'\n     # ./app/models/ci/pipeline.rb:576:in `stuck?'\n     # ./ee/spec/serializers/dashboard_operations_project_entity_spec.rb:11:in `block (2 levels) in \u003ctop (required)\u003e'\n     # ./ee/spec/serializers/dashboard_operations_project_entity_spec.rb:54:in `block (5 levels) in \u003ctop (required)\u003e'\n     # ./spec/spec_helper.rb:392:in `block (3 levels) in \u003ctop (required)\u003e'\n     # ./spec/support/sidekiq_middleware.rb:9:in `with_sidekiq_server_middleware'\n     # ./spec/spec_helper.rb:383:in `block (2 levels) in \u003ctop (required)\u003e'\n     # ./spec/spec_helper.rb:379:in `block (3 levels) in \u003ctop (required)\u003e'\n     # ./lib/gitlab/application_context.rb:31:in `with_raw_context'\n     # ./spec/spec_helper.rb:379:in `block (2 levels) in \u003ctop (required)\u003e'\n     # ./spec/support/database/prevent_cross_joins.rb:128:in `block (2 levels) in \u003ctop (required)\u003e'\n     # ./spec/support/database/prevent_cross_joins.rb:106:in `block (3 levels) in \u003ctop (required)\u003e'\n     # ./spec/support/database/prevent_cross_joins.rb:76:in `with_cross_joins_prevented'\n     # ./spec/support/database/prevent_cross_joins.rb:106:in `block (2 levels) in \u003ctop (required)\u003e'\n```","state":"closed","created_at":"2021-09-02T09:42:48.066Z","updated_at":"2022-01-24T17:32:46.900Z","closed_at":"2022-01-17T08:59:40.398Z","closed_by":{"id":5251734,"username":"morefice","name":"Max Orefice","state":"active","avatar_url":"https://secure.gravatar.com/avatar/0a910912e24727d7eef579cd047f7651?s=80\u0026d=identicon","web_url":"https://gitlab.com/morefice"},"labels":["Category:Continuous Integration","Engineering Allocation","FY22::Q4","OKR","SaaS","backend","ci-decomposition","ci-decomposition::phase6","devops::verify","group::pipeline execution","missed:14.6","priority::2","reliability","section::ops","severity::2","type::feature","workflow::verification"],"milestone":{"id":2156369,"iid":68,"group_id":9970,"title":"14.7","description":"","state":"active","created_at":"2021-07-21T17:39:41.786Z","updated_at":"2021-07-21T17:39:41.786Z","due_date":"2022-01-17","start_date":"2021-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/68"},"assignees":[{"id":5251734,"username":"morefice","name":"Max Orefice","state":"active","avatar_url":"https://secure.gravatar.com/avatar/0a910912e24727d7eef579cd047f7651?s=80\u0026d=identicon","web_url":"https://gitlab.com/morefice"}],"author":{"id":2535118,"username":"tkuah","name":"Thong Kuah","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f7b51bdd49a4914d29504d7ff4c3f7b9?s=80\u0026d=identicon","web_url":"https://gitlab.com/tkuah"},"type":"ISSUE","assignee":{"id":5251734,"username":"morefice","name":"Max Orefice","state":"active","avatar_url":"https://secure.gravatar.com/avatar/0a910912e24727d7eef579cd047f7651?s=80\u0026d=identicon","web_url":"https://gitlab.com/morefice"},"user_notes_count":25,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/339937","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/339937","notes":"https://gitlab.com/api/v4/projects/278964/issues/339937/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/339937/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#339937","relative":"#339937","full":"gitlab-org/gitlab#339937"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6379,"epic":{"id":309971,"iid":6379,"title":"Decomposition: Make Ops features compatible with Decomposed CI database","url":"/groups/gitlab-org/-/epics/6379","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":92983886,"iid":339932,"project_id":278964,"title":"Clarify documentation about feature-flagged GraphQL entities","description":"We currently provide some hints on how to deal with feature flags in GraphQL queries but it has some flaws:\n\n* We recommend using the `@include` directive, but we do not clearly state that this requires feature-flagged entities to exist in the schema, no matter what the directive evaluates to. So, in the case where the flag is off, we should recommend that the corresponding resolver returns `null` in the backend.\n    * We could also mention the `@skip` directive which is the opposite of `@include` and can be used for similar purposes.\n* It might be worth mentioning that another option to dealing with this is to maintain 2 versions of a client-side query: one including the new fields, and the other one without them. Then, the client should trigger the correct query based on the feature flag's state. This is a less maintainable approach as it involves duplicated code, but it can be useful in cases where the field is removed from the schema when the flag is off.\n\n/cc @farias-gl","state":"closed","created_at":"2021-09-02T08:12:41.521Z","updated_at":"2022-06-21T04:51:25.614Z","closed_at":"2021-09-15T07:05:06.735Z","closed_by":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"labels":["GraphQL","Technical Writing","documentation","group::analyzer frontend","type::maintenance","workflow::in review"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"}],"author":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"type":"ISSUE","assignee":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"user_notes_count":4,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/339932","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/339932","notes":"https://gitlab.com/api/v4/projects/278964/issues/339932/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/339932/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#339932","relative":"#339932","full":"gitlab-org/gitlab#339932"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":92952283,"iid":339889,"project_id":278964,"title":"Add pipeline creation step duration histogram to Pipeline Execution Grafana dashboard","description":"# Context\n\nIn https://gitlab.com/gitlab-org/gitlab/-/issues/332891, we began gathering data on the duration (in seconds) of each pipeline creation step. Now we want to make that data usable by adding a histogram that uses it to the ~\"group::pipeline execution\"  Grafana [dashboard](https://dashboards.gitlab.net/d/stage-groups-pipeline_execution/stage-groups-group-dashboard-verify-pipeline-execution?orgId=1).\n\n# Proposal\n\nAdd a pipeline creation step duration histogram to the ~\"group::pipeline execution\"  Grafana [dashboard](https://dashboards.gitlab.net/d/stage-groups-pipeline_execution/stage-groups-group-dashboard-verify-pipeline-execution?orgId=1).\n\n## Technical details\n\nWhen considering the number of pods in production that data is collected from, the data set for pipeline creation step durations is very large. Thanos and Grafana both fail to load the data set without additional filtering. First, we need to figure out how to make that data usable. Then we need to add the graph to the ~\"group::pipeline execution\" dashboard: https://gitlab.com/gitlab-com/runbooks/-/blob/master/dashboards/stage-groups/pipeline_execution.dashboard.jsonnet","state":"closed","created_at":"2021-09-01T18:06:29.038Z","updated_at":"2021-09-10T03:45:26.737Z","closed_at":"2021-09-10T03:45:26.712Z","closed_by":{"id":3945330,"username":"seanarnold","name":"Sean Arnold","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c0bda1b68a7462959aa82bb63bda9b80?s=80\u0026d=identicon","web_url":"https://gitlab.com/seanarnold"},"labels":["Category:Continuous Integration","Observability","auto updated","backend","devops::verify","group::pipeline execution","section::ops","workflow::in dev"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":3945330,"username":"seanarnold","name":"Sean Arnold","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c0bda1b68a7462959aa82bb63bda9b80?s=80\u0026d=identicon","web_url":"https://gitlab.com/seanarnold"},{"id":4059128,"username":"avielle","name":"Avielle Wolfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4059128/avatar.png","web_url":"https://gitlab.com/avielle"}],"author":{"id":4059128,"username":"avielle","name":"Avielle Wolfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4059128/avatar.png","web_url":"https://gitlab.com/avielle"},"type":"ISSUE","assignee":{"id":3945330,"username":"seanarnold","name":"Sean Arnold","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c0bda1b68a7462959aa82bb63bda9b80?s=80\u0026d=identicon","web_url":"https://gitlab.com/seanarnold"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/339889","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/339889","notes":"https://gitlab.com/api/v4/projects/278964/issues/339889/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/339889/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#339889","relative":"#339889","full":"gitlab-org/gitlab#339889"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6588,"epic":{"id":328775,"iid":6588,"title":"Engineering Allocation: Improve SaaS Reliability in the Verify stage","url":"/groups/gitlab-org/-/epics/6588","group_id":9970,"human_readable_end_date":"Apr 8, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":92952027,"iid":339887,"project_id":278964,"title":"Group-level setting for default compliance framework to apply to new projects","description":"_This issue and linked pages contain information related to upcoming products, features, and functionality. \nIt is important to note that the information presented is for informational purposes only. Please do not rely on this information for purchasing or planning purposes. \nAs with all projects, the items mentioned in this video and linked pages are subject to change or delay. The development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc._\n\n\u003c!-- This issue template can be used a great starting point for feature requests. The last section \"Release notes\" can be used as a summary of the feature and is also required if you want to have your release post blog MR auto generated using the release post item generator:  https://about.gitlab.com/handbook/marketing/blog/release-posts/#release-post-item-generator. The remaining sections are the backbone for every feature in GitLab. --\u003e\n\n### Release notes \n\n\u003c!-- What is the problem and solution you're proposing? This content sets the overall vision for the feature and serves as the release notes that will populate in various places, including the [release post blog](https://about.gitlab.com/releases/categories/releases/) and [Gitlab project releases](https://gitlab.com/gitlab-org/gitlab/-/releases). \" --\u003e\n\n### Problem to solve \n\n\u003c!-- What is the user problem you are trying to solve with this issue? --\u003e\n\nToday users set up compliance frameworks in their groups and apply them to projects. This allows them to segment which projects need additional controls and enforce compliance pipelines where applicable. However, users must manually add the frameworks to projects as they are created. This is time consuming to check when projects are made and to manually set the framework to apply.\n\n### Proposal \n\n\u003c!-- Use this section to explain the feature and how it will work. It can be helpful to add technical details, design proposals, and links to related epics or issues. --\u003e\n\nProvide a group-level setting to specify a default compliance framework that should be added to all newly created projects in the group. See attached design file for UX.\n* Note that there should be an option for `None` (or similar) to allow the user to not provide any default compliance framework if they do not wish to.\n\n### Design\n\n![image](/uploads/2f91f569bb0e0bfb7afb22aaca993d5c/image.png)\n\n| List | Set default | Remove default |\n| ------ | ------ | ------ |\n| ![image](/uploads/2bfc4e88a4f004680459c726d839fe3d/image.png) | ![image](/uploads/715657e16f7903c697bf08192d82742e/image.png) | ![image](/uploads/1353377575a9e60dd2a93d73ce279d6f/image.png) |\n\n### What is the type of buyer?\n\n~\"GitLab Premium\" \n\n\n### Implementation plan\n\n~database :two: \n\n1. Add a migration to add `default_compliance_framework` (INT) as a new column to the `namespace_settings` table.\n\n~backend :three: \n\n1. Update `ee/app/services/ee/projects/create_service.rb` so that whenever a new project is under a group and the group has set a default compliance framework then create a new `ComplianceManagement::ComplianceFramework::ProjectSettings` with `project_id` as the current project and `framework_id = project.root_namespace.default_compliance_framework.id)`. We can define a method `default_compliance_framework` in `group.rb` as follows:\n```ruby\ndef default_compliance_framework\n  default_compliance_framework_id = namespace_settings.default_compliance_framework\n  ComplianceManagement::Framework.where(id: default_compliance_framework_id)\nend\n```\n2. Whenever a framework is deleted check if it is the default framework, in case it is then prevent the deletion and show an error message to the user.\n\n~frontend a big :three: / small :five: \n\n_Related issue to update the list to match the designs: https://gitlab.com/gitlab-org/gitlab/-/issues/371013+_\n\n1. Update the GraphQL [query](https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/assets/javascripts/groups/settings/compliance_frameworks/graphql/queries/get_compliance_framework.query.graphql#L18-19) to also fetch the `default` status of each framework.\n1. Add a mutation to the list view to set the `default` attribute of a framework.\n1. Add an [ellipses icon](https://gitlab-org.gitlab.io/gitlab-svgs/?q=~ellipsis_h) in a [`GlButton`](https://gitlab-org.gitlab.io/gitlab-ui/?path=/story/base-button--dropdown-icon-only-button) to the end of the actions.\n1. Move the delete action to the ellipses dropdown.\n   - Note: Default frameworks cannot be deleted.\n1. Add an action for marking the framework as `default` when not default.\n1. Add an action for removing the `default` status of a framework when it is default.\n1. Update [`list_item.vue`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/assets/javascripts/groups/settings/compliance_frameworks/components/list_item.vue#L36) to display a [`GlBadge`](https://gitlab-org.gitlab.io/gitlab-ui/?path=/docs/base-badge--default) when the item is `default`.\n1. Update specs.\n1. Update ~documentation.\n\n\u003c!--- Use the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n\nConsider adding related issues and epics to this issue. You can also reference the Feature Proposal Template (https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal%20-%20detailed.md) for additional details to consider adding to this issue. Additionally, as a data oriented organization, when your feature exits planning breakdown, consider adding the `What does success look like, and how can we measure that?` section.\n\nOther sections to consider adding: \n\n### Intended users\n\nWho will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n\n* [Cameron (Compliance Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#cameron-compliance-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager) \n* [Alex (Security Operations Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#alex-security-operations-engineer)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops) \n* [Priyanka (Platform Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#priyanka-platform-engineer)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n\n\n### User experience goal\n\nWhat is the single user experience workflow this problem addresses? \nFor example, \"The user should be able to use the UI/API/.gitlab-ci.yml with GitLab to \u003cperform a specific task\u003e\"\nhttps://about.gitlab.com/handbook/engineering/ux/ux-research-training/user-story-mapping/ \n\n\n### Further details\n\nInclude use cases, benefits, goals, or any other details that will help us understand the problem better. \n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?\nConsider adding checkboxes and expectations of users with certain levels of membership https://docs.gitlab.com/ee/user/permissions.html\n* [ ] Add expected impact to members with no access (0)\n* [ ] Add expected impact to Guest (10) members\n* [ ] Add expected impact to Reporter (20) members\n* [ ] Add expected impact to Developer (30) members \n* [ ] Add expected impact to Maintainer (40) members\n* [ ] Add expected impact to Owner (50) members \n\n### Documentation\n\n See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/workflow.html#for-a-product-change\n\n* Add all known Documentation Requirements in this section. See https://docs.gitlab.com/ee/development/documentation/workflow.html\n* If this feature requires changing permissions, update the permissions document. See https://docs.gitlab.com/ee/user/permissions.html \n\n### Availability \u0026 Testing\n\nThis section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning \n\n### What does success look like, and how can we measure that?\n\nDefine both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. \n\n### Is this a cross-stage feature?\n\nCommunicate if this change will affect multiple Stage Groups or product areas. We recommend always start with the assumption that a feature request will have an impact into another Group. Loop in the most relevant PM and Product Designer from that Group to provide strategic support to help align the Group's broader plan and vision, as well as to avoid UX and technical debt. https://about.gitlab.com/handbook/product/#cross-stage-features --\u003e\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2021-09-01T18:00:53.907Z","updated_at":"2022-12-06T02:04:39.498Z","closed_at":"2022-09-22T08:56:42.667Z","closed_by":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"labels":["CAB Takeaway","CAB Takeaway Q3 FY2022","GitLab Premium","GitLab Ultimate","Next Up","UX","customer","devops::govern","direction","documentation","group::compliance","section::sec","type::feature","workflow::planning breakdown"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"}],"author":{"id":4376883,"username":"stkerr","name":"Sam Kerr","state":"active","avatar_url":"https://secure.gravatar.com/avatar/591c8b969464f7b4fb97b6f2f654f11a?s=80\u0026d=identicon","web_url":"https://gitlab.com/stkerr"},"type":"ISSUE","assignee":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"user_notes_count":64,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/339887","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":0},"weight":10,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/339887","notes":"https://gitlab.com/api/v4/projects/278964/issues/339887/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/339887/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#339887","relative":"#339887","full":"gitlab-org/gitlab#339887"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4082,"epic":{"id":88440,"iid":4082,"title":"Improve the concept of compliance frameworks","url":"/groups/gitlab-org/-/epics/4082","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":92949632,"iid":339883,"project_id":278964,"title":"Hide `Revoke approval` button for users who have been removed from a project","description":"Following up from https://gitlab.com/gitlab-org/gitlab/-/merge_requests/69225#note_665669577\n\n#### Problem\n\nIf a user approves an MR and is later removed from that project, they are still able to click the `Revoke approval` button (resulting in a 403)\n\n#### Proposal\n\nHide the `Revoke approval` button for users who are not a member of that project (the same way we hide the `Approve` button)","state":"closed","created_at":"2021-09-01T17:14:02.957Z","updated_at":"2022-09-12T03:03:07.648Z","closed_at":"2022-09-12T03:03:07.627Z","closed_by":{"id":1786152,"username":"gitlab-bot","name":"ü§ñ GitLab Bot ü§ñ","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1786152/avatar.png","web_url":"https://gitlab.com/gitlab-bot"},"labels":["Category:Code Review Workflow","[deprecated] Accepting merge requests","auto closed","devops::create","frontend","good for new contributors","group::code review","priority::3","section::dev","severity::3","stale","type::bug","vintage"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},"type":"ISSUE","assignee":null,"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/339883","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/339883","notes":"https://gitlab.com/api/v4/projects/278964/issues/339883/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/339883/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#339883","relative":"#339883","full":"gitlab-org/gitlab#339883"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":92939431,"iid":339870,"project_id":278964,"title":"Follow-up from \"Further refactor member creation classes\"","description":"The following discussion from !67541 should be addressed:\n\n- [ ] @dstull started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/67541#note_656412473):  (+16 comments)\n\n    \u003e @alexbuijs can you please review the ~backend?\n\n## Plan\n\n- [x] Refactor bulk items into Creator class. !89259\n- [x] Remove bulk naming and items. !89259\n\n## Followup\n\nMove logic from Creator into the class level methods to be done in bulk via https://gitlab.com/gitlab-org/gitlab/-/issues/354016","state":"closed","created_at":"2021-09-01T14:20:28.347Z","updated_at":"2022-06-16T13:02:08.213Z","closed_at":"2022-06-16T13:02:08.173Z","closed_by":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"labels":["auto updated","devops::growth","group::acquisition","section::growth","type::maintenance","workflow::in review"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"}],"author":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"type":"ISSUE","assignee":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/339870","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":2},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/339870","notes":"https://gitlab.com/api/v4/projects/278964/issues/339870/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/339870/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#339870","relative":"#339870","full":"gitlab-org/gitlab#339870"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":92930073,"iid":339860,"project_id":278964,"title":"Change CI_JOB_TOKEN secure workflow default to enable for new projects","description":"### Problem to solve \n\nDuring rollout of the CI_JOB_TOKEN Secure workflow we discovered users weren't interested in implementing the feature since it was considered a breaking change. After dogfooding and having a few users test the feature in %\"14.3\" and %\"14.4\", we are now ready to enable the feature by default for new projects \n\n### Proposal \n\n- Change `project_ci_cd_settings.job_token_scope_enabled` default from `false` to `true`.\n- Ensure documentation and troubleshooting is in place for users to understand their possible pipeline failures.","state":"closed","created_at":"2021-09-01T12:14:10.570Z","updated_at":"2021-10-12T13:15:04.871Z","closed_at":"2021-10-12T13:15:04.300Z","closed_by":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"labels":["Category:Continuous Integration","Verify::P2","[deprecated] Accepting merge requests","auto updated","backend","devops::verify","feature::addition","group::pipeline execution","section::ops","type::feature","workflow::ready for development"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[],"author":{"id":4905402,"username":"jreporter","name":"Jackie Porter","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4905402/avatar.png","web_url":"https://gitlab.com/jreporter"},"type":"ISSUE","assignee":null,"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/339860","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/339860","notes":"https://gitlab.com/api/v4/projects/278964/issues/339860/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/339860/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":"https://gitlab.com/api/v4/projects/278964/issues/340822"},"references":{"short":"#339860","relative":"#339860","full":"gitlab-org/gitlab#339860"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6546,"epic":{"id":324192,"iid":6546,"title":"Secure CI_JOB_TOKEN Workflows","url":"/groups/gitlab-org/-/epics/6546","group_id":9970,"human_readable_end_date":"May 17, 2023","human_readable_timestamp":"\u003cstrong\u003e4\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":92914958,"iid":339841,"project_id":278964,"title":"Remove Python from Browser Based DAST Scanner","description":"### Problem to solve\n\nThe Browser-Based DAST Scanner uses Python's `jsonschema` to validate the `gl-dast-report.json`.\n\nhttps://gitlab.com/gitlab-org/security-products/analyzers/browserker/-/merge_requests/339#note_664788311\n\n### Proposal\n\nReplace `jsonschema` with a solution written in Go\n\n### Implementation Plan\n\n- [ ] Replace `test/end-to-end/scripts/normalize_dast_report.py` with Go script https://gitlab.com/gitlab-org/security-products/analyzers/browserker/-/merge_requests/393\n- [x] Replace `jsonschema` in `test/end-to-end/scripts/validate_against_schema.sh` with Go version of `jsonschema` https://gitlab.com/gitlab-org/security-products/analyzers/browserker/-/merge_requests/392","state":"closed","created_at":"2021-09-01T08:15:07.368Z","updated_at":"2021-11-26T05:56:40.637Z","closed_at":"2021-11-26T05:56:40.620Z","closed_by":{"id":5344211,"username":"craigmsmith","name":"Craig Smith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5344211/avatar.png","web_url":"https://gitlab.com/craigmsmith"},"labels":["Category:DAST","auto updated","dast::browserker","devops::secure","group::dynamic analysis","maintenance::refactor","section::sec","type::maintenance","workflow::in review"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":5344211,"username":"craigmsmith","name":"Craig Smith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5344211/avatar.png","web_url":"https://gitlab.com/craigmsmith"}],"author":{"id":5344211,"username":"craigmsmith","name":"Craig Smith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5344211/avatar.png","web_url":"https://gitlab.com/craigmsmith"},"type":"ISSUE","assignee":{"id":5344211,"username":"craigmsmith","name":"Craig Smith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5344211/avatar.png","web_url":"https://gitlab.com/craigmsmith"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/339841","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":1},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/339841","notes":"https://gitlab.com/api/v4/projects/278964/issues/339841/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/339841/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#339841","relative":"#339841","full":"gitlab-org/gitlab#339841"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":92913075,"iid":339837,"project_id":278964,"title":"Design cleanup: Display active trial status \u0026 trial reminder","description":"## Summary\n\nThe experiment is currently rolled out to 100% of users and has been deemed a success.\nThe changes need to become an official part of the product, as such we need to polish the visual aspect of it.\n\n* Epic: https://gitlab.com/groups/gitlab-org/-/epics/3540\n* Design issue: https://gitlab.com/gitlab-org/gitlab/-/issues/213376\n* Experiment Tracking issue: https://gitlab.com/gitlab-org/gitlab/-/issues/281019 \n\n\n## Design clean-up\n\nA new sidebar was introduced and the plan name changed from Gold to Ultimate since we first designed this experiment. We need to take into account these changes. \n\n#### Proposed solution\n\n| Before | After |\n| ------ | ------ |\n| \u003cimg src=\"/uploads/6bddfcea072148a4d2e70e1728f9db37/image.png\" width=250\u003e | \u003cimg src=\"/uploads/1caa6e5aec8a53eb8fbd9d2d039c03ed/image.png\" width=250\u003e |\n| Copy is wrapping | Inline copy |\n\n#### [üìê Design specs](https://www.figma.com/file/AGzUBIW7SwnYY5QGyNoRiU/Experiment-Add-active-trial-status?node-id=1071%3A6969)\n\n#### [Figma file](https://www.figma.com/file/AGzUBIW7SwnYY5QGyNoRiU/Experiment-Add-active-trial-status?node-id=754%3A909)","state":"closed","created_at":"2021-09-01T07:45:10.122Z","updated_at":"2021-10-05T23:26:31.052Z","closed_at":"2021-09-10T07:48:53.364Z","closed_by":{"id":4412383,"username":"kcomoli","name":"Kevin Comoli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4412383/avatar.png","web_url":"https://gitlab.com/kcomoli"},"labels":["Technical Writing","UI text","UX","auto updated","devops::growth","feature::enhancement","group::acquisition","section::growth","tw-weight::1","tw::doing","type::feature","workflow::design"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":4412383,"username":"kcomoli","name":"Kevin Comoli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4412383/avatar.png","web_url":"https://gitlab.com/kcomoli"}],"author":{"id":4412383,"username":"kcomoli","name":"Kevin Comoli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4412383/avatar.png","web_url":"https://gitlab.com/kcomoli"},"type":"ISSUE","assignee":{"id":4412383,"username":"kcomoli","name":"Kevin Comoli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4412383/avatar.png","web_url":"https://gitlab.com/kcomoli"},"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/339837","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/339837","notes":"https://gitlab.com/api/v4/projects/278964/issues/339837/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/339837/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#339837","relative":"#339837","full":"gitlab-org/gitlab#339837"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6365,"epic":{"id":308766,"iid":6365,"title":"Experiment Cleanup: Display active trial status \u0026 trial reminder","url":"/groups/gitlab-org/-/epics/6365","group_id":9970,"human_readable_end_date":"Oct 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":92909985,"iid":339835,"project_id":278964,"title":"Slow SQL query for the NPM metadata endpoint","description":"### :turtle: Problem\n\nFollow up https://gitlab.com/gitlab-org/gitlab/-/issues/338483.\n\nAfter removing an `n+1` situation on the npm metadata endpoint, we noticed that the response time was reduced but was still pretty high. See https://dashboards.gitlab.net/d/stage-groups-package/stage-groups-group-dashboard-package-package?viewPanel=54\u0026orgId=1.\n\nLooking at this [kibana search](https://log.gprd.gitlab.net/goto/0d66750dffe428b930cb0d78f99004bc), we noticed that this [call](https://gitlab.com/gitlab-org/gitlab/-/blob/0bc27b59951adadd88fae3792f14f5d9ee068529/lib/api/helpers/packages/npm.rb#L60-62) triggers an SQL query that is rather long to execute.\n\n### :rocket: Solution\n\nRun a ~database analysis on that SQL query and see if there are ways to improve it.\n\nOther considerations:\n\nBe aware of this bug: https://gitlab.com/gitlab-org/gitlab/-/issues/339460. The solution of that bug will certainly modify or remove that call.\n\nHaving said that, aim for the simplest solution here to improve the query and keep heavy refactorings for when  https://gitlab.com/gitlab-org/gitlab/-/issues/339460 is tackled.\n\n### Results\n\nAs a result, we significantly reduced the number of requests longer than 3 seconds.\n\n![image](/uploads/91cd4cf317a1ae58f8b267168dd7eec4/image.png)","state":"closed","created_at":"2021-09-01T06:53:28.569Z","updated_at":"2021-09-29T21:27:31.450Z","closed_at":"2021-09-16T06:48:19.685Z","closed_by":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"labels":["Category:Package Registry","GitLab Core","backend","bug::performance","devops::package","group::package registry","npm Registry","package:active","ruby","section::ops","type::feature","workflow::production"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"}],"author":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"type":"ISSUE","assignee":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/339835","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/339835","notes":"https://gitlab.com/api/v4/projects/278964/issues/339835/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/339835/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#339835","relative":"#339835","full":"gitlab-org/gitlab#339835"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":92896363,"iid":339805,"project_id":278964,"title":"Improve response analysis speed for large bodies (\u003e15K)","description":"### Problem\n\nCustomer reported DAST API scan not completing and timing out. During investigation it was found that even with a single operation provided, the test still timed out. The main culprit was found to be scanning a large static body that was returned in some error cases. Time the response analysis assertion ran it took over 10 seconds to complete.\n\n### Proposal\n\n#### 1. Review regexes for speed\n\nIt was found that several regexes use \".*\" in the patterns which causes a slowdown and are not needed. In the worst case, a single regex was timing out after 10 seconds for a 53K body.\n\nA test has been added to look for slow regexes.\n\n#### 2. Implement a response cache for bodies \u003e15K\n\nFor API's, it's often the case that larger bodies are static content that doesn't change between requests (with the exception of XML). As such, using a fast hash method such as xxHash can allow for caching results of our regex pass for a large body.\n\n1. Stop adding to cache if entries \u003e1024. In the case that returned bodies are often different, turn cache readonly.\n1. Calculate xxHash64 using `context.Exchange.Response.Body`, use as key into dictionary of cached results.\n1. If cached result found, return. Otherwise continue normally and store any return.\n\n#### 3. Perform some optimizations of existing code\n\n1. Exist early if `context.Exchange.Response.Body` is null.\n1. Cache the set of regex entries to be used (shouldn't change between requests)\n\n### Results\n\nThe results for the customer are dramatic-- A single operation was taking **\u003e1HR** to test prior to this issue. After this issue it takes **2.5 minutes**.","state":"closed","created_at":"2021-08-31T22:48:55.825Z","updated_at":"2021-10-28T13:52:57.284Z","closed_at":"2021-09-07T20:22:36.002Z","closed_by":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"labels":["Category:DAST","GitLab Ultimate","backend","devops::secure","group::dynamic analysis","section::sec","type::maintenance","workflow::production"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"}],"author":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"type":"ISSUE","assignee":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/339805","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/339805","notes":"https://gitlab.com/api/v4/projects/278964/issues/339805/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/339805/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#339805","relative":"#339805","full":"gitlab-org/gitlab#339805"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6502,"epic":{"id":317541,"iid":6502,"title":"API Security scanner speed improvements","url":"/groups/gitlab-org/-/epics/6502","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":92891655,"iid":339790,"project_id":278964,"title":"Change CI_JOB_TOKEN secure workflows to disabled by default","description":"### Problem to solve \n\nIn https://gitlab.com/gitlab-org/gitlab/-/issues/332272, we have run into several customers that have been blocked by our enabled by default workflow for new projects for the CI_JOB_TOKEN secure workflow feature. We want to still make this feature available for those users who are interested and we can have an announcement in the release post to telegraph the major release change when it is on by default \n\n### Proposal \n\nChange the CI_JOB_TOKEN secure workflow feature to be disabled by default at project settings.","state":"closed","created_at":"2021-08-31T20:40:07.252Z","updated_at":"2021-10-11T13:42:27.707Z","closed_at":"2021-10-07T16:20:32.887Z","closed_by":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"labels":["Category:Continuous Integration","Verify::P1","auto updated","backend","devops::verify","group::pipeline execution","section::ops","workflow::production"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"}],"author":{"id":4905402,"username":"jreporter","name":"Jackie Porter","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4905402/avatar.png","web_url":"https://gitlab.com/jreporter"},"type":"ISSUE","assignee":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"user_notes_count":27,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/339790","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/339790","notes":"https://gitlab.com/api/v4/projects/278964/issues/339790/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/339790/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#339790","relative":"#339790","full":"gitlab-org/gitlab#339790"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":92890303,"iid":339788,"project_id":278964,"title":"Show jobs without needs in correct order in the job dependencies view","description":"### Summary\n\nWith the work already completed [here](https://gitlab.com/gitlab-org/gitlab/-/issues/330079), the purpose of this implementation issue is to show jobs without `needs` in the correct order in the job dependencies view.  The ~backend work for this issue is to only take care of the order of the jobs without explicit `needs` in the job dependencies view. The links between the jobs with implicit dependencies should be hidden.\n\n### Proposal\n\nfrom https://gitlab.com/gitlab-org/gitlab/-/issues/330079#note_657835314\n\nWe have a `combinedNeeds` array in the API.\n\n```ruby\n{\n  needs: [\n    { name: \"job_1\" },\n  ],\n  combinedNeeds: [\n    { name: \"job_1\", type: \"explicit\" },\n    { name: \"job_2\", type: \"implicit\" }\n  ]\n}`\n```\n\nThe naming here is tricky, but this allows us to use the benefits from approach 1, without breaking the current API implementation. Having the needs in two places feels a little strange, but maybe we can get around that by deprecating the original one and phasing it out for the next major release.\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\n- Unit test changes - Required unit tests to be updated according to changes\n- Integration test changes - Required test for API request returns body as expected with explicit and implicit jobs in correct order.\n- End-to-end test change - not required\n- `package-and-qa` should be run in MR with these changes to ensure no regressions is introduced.","state":"closed","created_at":"2021-08-31T19:59:56.931Z","updated_at":"2022-09-23T21:26:22.181Z","closed_at":"2021-11-24T16:37:18.859Z","closed_by":{"id":3946912,"username":"lauraX","name":"Laura Montemayor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3946912/avatar.png","web_url":"https://gitlab.com/lauraX"},"labels":["Actionable Insight::Product change","Category:Pipeline Authoring","Deliverable","UX","auto updated","backend","candidate::14.5","closed::will not do","devops::verify","feature::enhancement","group::pipeline authoring","missed-deliverable","missed:14.5","pipeline graphs","quad-planning::complete-action","section::ops","type::feature","usability","workflow::production"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":3946912,"username":"lauraX","name":"Laura Montemayor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3946912/avatar.png","web_url":"https://gitlab.com/lauraX"}],"author":{"id":9468400,"username":"marknuzzo","name":"Mark Nuzzo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9468400/avatar.png","web_url":"https://gitlab.com/marknuzzo"},"type":"ISSUE","assignee":{"id":3946912,"username":"lauraX","name":"Laura Montemayor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3946912/avatar.png","web_url":"https://gitlab.com/lauraX"},"user_notes_count":25,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/339788","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/339788","notes":"https://gitlab.com/api/v4/projects/278964/issues/339788/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/339788/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#339788","relative":"#339788","full":"gitlab-org/gitlab#339788"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5951,"epic":{"id":265695,"iid":5951,"title":"Improvements to the job dependecies view in pipeline graph","url":"/groups/gitlab-org/-/epics/5951","group_id":9970,"human_readable_end_date":"Jan 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":{"id":36607,"iid":36,"sequence":3,"group_id":9970,"title":"Pipeline Authoring: November 15, 2021 - November 28, 2021","description":"Target milestone `14.6`","state":3,"created_at":"2021-10-05T20:42:58.376Z","updated_at":"2021-12-21T15:27:40.583Z","start_date":"2021-11-15","due_date":"2021-11-28","web_url":"https://gitlab.com/groups/gitlab-org/-/iterations/36607"},"health_status":null},{"id":92888626,"iid":339785,"project_id":278964,"title":"FE: Parse CRON scheduling syntax","description":"\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n## Why are we doing this work\n- It is easier to read parsed CRON syntax than CRON syntax\n\n\n## Relevant links\n\u003c!--\nInformation that the developer might need to refer to when implementing the issue.\n\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e)\n  - [Design 1](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n  - [Design 2](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n- [Similar implementation](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/\u003cid\u003e)\n--\u003e\n\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [ ] Documentation:\n- [ ] Performance: Will the new library be too large?\n- [ ] Testing:\n\n\n## Implementation plan\n~~- [ ] ~frontend humanize [CRON syntax](https://docs.gitlab.com/ee/topics/cron/#cron)~~\n  ~~- the docs say we have the [`cron-validate` library](https://github.com/Airfooox/cron-validate) on the ~frontend , which parses cron, but instead we have [`cron-validator`](https://github.com/TheCloudConnectors/cron-validator), which only validates CRON syntax.~~\n  ~~- We should swap out the libraries and get `cron-validate`, but also fix any instances of `cron-validator` in the codebase~~\n- [ ] ~frontend it turns out neither `cron-validate` nor `cron-validator` makes cron human readable, so find a library that does and import it to make the cron human readable\n\n\u003c!--\nWorkflow and other relevant labels\n\n# ~\"group::\" ~\"Category:\" ~\"GitLab Ultimate\"\nOther settings you might want to include when creating the issue.\n\n# /assign @\n# /epic \u0026\n--\u003e","state":"closed","created_at":"2021-08-31T19:14:37.762Z","updated_at":"2021-12-18T07:03:27.292Z","closed_at":"2021-11-18T18:38:50.464Z","closed_by":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"labels":["Deliverable","auto updated","devops::govern","direction","feature::enhancement","frontend","frontend-weight::3","group::security policies","section::sec","type::feature","workflow::verification"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"}],"author":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"type":"ISSUE","assignee":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/339785","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/339785","notes":"https://gitlab.com/api/v4/projects/278964/issues/339785/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/339785/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#339785","relative":"#339785","full":"gitlab-org/gitlab#339785"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6611,"epic":{"id":332582,"iid":6611,"title":"Follow-on Improvements for the Security Policy Editor","url":"/groups/gitlab-org/-/epics/6611","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":92885760,"iid":339760,"project_id":278964,"title":"üöÄ  New Work Items UI - Weight rollup","description":"## Problem\n\n1. Several customers have vocalized the desire to add weight directly to an epic. This is useful when doing ROM (Rough Order of Magnitude) estimation before an epic is decomposed into smaller vertical slices and estimated by a development team. \n1. As we move towards work items with Tasks as the first step, users will naturally want to be able to set a weight on a Task. Given that issues already have `weight` as a field, we need to consider how weight ought to behave within this new model. \n\n## Proposal\n\n- A user can set a numeric weight on any work item into an `Weight` field. \n- Aggregate weights from children also show alongside/next to the work item's weight in a `Rollup Weight` that is system calculated and not editable. This value should reflect the weight added at the lowest level of the hierarchy that has weight as a field.  \n\nIn the example below, `Tasks` do not have a weight field. The same rollup calculations would be used if Tasks did not have a weight field.\n\n```mermaid\ngraph TD;\n  Epic[\"Epic \u003cbr\u003e Weight:10 \u003cbr\u003e Rollup Weight:30\"]--\u003eFeature1[\"Feature \u003cbr\u003e Weight:5 \u003cbr\u003e Rollup Weight:25\"];\n  Epic--\u003eFeature2[\"Feature \u003cbr\u003e Weight:5 \u003cbr\u003e Rollup Weight:5\"];\n  Feature1--\u003eStory1[\"Story \u003cbr\u003e Weight:10\"];\n  Feature1--\u003eStory2[\"Story \u003cbr\u003e Weight:10\"];\n  Feature1--\u003eStory3[\"Story \u003cbr\u003e Weight:5\"];\n  Feature2--\u003eStory4[\"Story \u003cbr\u003e Weight:2\"];\n  Feature2--\u003eStory5[\"Story \u003cbr\u003e Weight:2\"];\n  Feature2--\u003eStory6[\"Story \u003cbr\u003e Weight:1\"];\n  Story1--\u003eTask1\n  Story1--\u003eTask2\n  Story2--\u003eTask3\n  Story2--\u003eTask4\n  Story3--\u003eTask5\n  Story3--\u003eTask6\n  Story4--\u003eTask7\n  Story4--\u003eTask8\n  Story5--\u003eTask9\n  Story5--\u003eTask10\n  Story6--\u003eTask11\n  Story6--\u003eTask12\n```\n\nIn this example, weight is included for Tasks\n\nIn this second example, `Tasks` do have a weight field.\n\n```mermaid\ngraph TD;\n  Epic[\"Epic \u003cbr\u003e Weight:10 \u003cbr\u003e Rollup Weight:30\"]--\u003eFeature1[\"Feature \u003cbr\u003e Weight:5 \u003cbr\u003e Rollup Weight:25\"];\n  Epic--\u003eFeature2[\"Feature \u003cbr\u003e Weight:5 \u003cbr\u003e Rollup Weight:5\"];\n  Feature1--\u003eStory1[\"Story \u003cbr\u003e Weight:10 \u003cbr\u003e Rollup Weight:10\"];\n  Feature1--\u003eStory2[\"Story \u003cbr\u003e Weight:10 \u003cbr\u003e Rollup Weight:15\"];\n  Feature2--\u003eStory4[\"Story \u003cbr\u003e Weight:2  \u003cbr\u003e Rollup Weight:2\"];\n  Feature2--\u003eStory5[\"Story \u003cbr\u003e Weight:2 \u003cbr\u003e Rollup Weight:3\"];\n  Story1--\u003eTask1[\"Task \u003cbr\u003e Weight:5\"];\n  Story1--\u003eTask2[\"Task \u003cbr\u003e Weight:5\"];\n  Story2--\u003eTask3[\"Task \u003cbr\u003e Weight:5\"];\n  Story2--\u003eTask4[\"Task \u003cbr\u003e Weight:10\"];\n  Story4--\u003eTask7[\"Task \u003cbr\u003e Weight:1\"];\n  Story4--\u003eTask8[\"Task \u003cbr\u003e Weight:1\"];\n  Story5--\u003eTask9[\"Task \u003cbr\u003e Weight:2\"];\n  Story5--\u003eTask10[\"Task \u003cbr\u003e Weight:1\"];\n```\n\n- This allows estimates to be set, then see \"rollup\" estimates once a work item is broken down in tree and roadmap views. Organizations can learn how accurate their estimates are at higher levels.\n- Once we have [velocity and volatility](https://gitlab.com/groups/gitlab-org/-/epics/435) and teams know what they are likely able to complete in a given time period, surfacing \"estimate vs actual\" is an incredibly powerful mechanism to encourage trade-off discussions on the scope at a higher level of planning. \n\n## UX\n\nSee designs in this issue.\n\n## Acceptance Criteria\n\n- [ ] If the work item can have / has children, roll up the weight from the children to show the actual value alongside the estimate.\n- [ ] Only the estimate field is directly editable.\n- [ ] If the work item cannot have children, do not show the actual value as it will always be NULL.\n- [ ] Estimate and actual update in real-time. \n\n\n## Tier\n\n- ~\"GitLab Premium\" as Weight is currently in this tier.\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2021-08-31T18:04:26.613Z","updated_at":"2022-11-17T02:47:03.057Z","closed_at":"2022-06-08T18:26:51.642Z","closed_by":{"id":5709669,"username":"mushakov","name":"Melissa Ushakov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5709669/avatar.png","web_url":"https://gitlab.com/mushakov"},"labels":["auto updated","backend","devops::plan","direction","frontend","group::project management","section::dev","workflow::design"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":5709669,"username":"mushakov","name":"Melissa Ushakov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5709669/avatar.png","web_url":"https://gitlab.com/mushakov"}],"author":{"id":4554611,"username":"hollyreynolds","name":"Holly Reynolds","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4554611/avatar.png","web_url":"https://gitlab.com/hollyreynolds"},"type":"ISSUE","assignee":{"id":5709669,"username":"mushakov","name":"Melissa Ushakov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5709669/avatar.png","web_url":"https://gitlab.com/mushakov"},"user_notes_count":28,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/339760","time_stats":{"time_estimate":7200,"total_time_spent":1800,"human_time_estimate":"2h","human_total_time_spent":"30m"},"task_completion_status":{"count":4,"completed_count":0},"weight":3,"blocking_issues_count":1,"has_tasks":true,"task_status":"0 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/339760","notes":"https://gitlab.com/api/v4/projects/278964/issues/339760/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/339760/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#339760","relative":"#339760","full":"gitlab-org/gitlab#339760"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7103,"epic":{"id":382735,"iid":7103,"title":"‚úÖ Work Items - Tasks","url":"/groups/gitlab-org/-/epics/7103","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":92885675,"iid":339756,"project_id":278964,"title":"Add labels to a work item","description":"Plan:Project Management\n\n## Problem\n\nWe recently released Tasks as an available work item in GitLab. In GitLab fashion we are iterating on the feature to continually add value each milestone. We are enabling labels on Tasks as a way to categorize them and associate them with larger projects or intiatives.\n\nLabel management needs to be supported within Work Items.\n\n## Proposal\n\n- Add label management to work items.\n\n![Screen_Shot_2022-09-15_at_2.22.12_PM](/uploads/47e9a87feb6730824623e4f80481cc65/Screen_Shot_2022-09-15_at_2.22.12_PM.png)\n\n## UX\n\nDesigns in the design manager, starting [here](https://gitlab.com/gitlab-org/gitlab/-/issues/339756/designs/Empty.png), though for review I'd suggest starting with the prototype:\n\n:point_right: **[Prototype](https://www.figma.com/proto/yEx13VoCXee5BtmG1Q1KpC/Widget%3A-Labels?page-id=2%3A40\u0026node-id=2%3A4626\u0026viewport=970%2C2246%2C0.65\u0026scaling=min-zoom\u0026starting-point-node-id=2%3A4626)**\n\n## Acceptance Criteria\n\n- [ ] Labels can be added and removed from work items, including support for single-click removal\n- [ ] Replace mock query with actual query for fetching workItem LabelsWidget\n- [ ] add labelswidget to workitemupdate mutation\n- [ ] replace mock mutation\n- [ ] Labels update in real-time \n- [ ] Redis counter\n\n## Redis Counter\n\n```markdown\n- **name:** `users_updating_work_item_labels` \n- **category:** `work_items`\n- **redis_slot:** `users` \n- **include in the following aggregation counters:**\n  - [x] `xmau_plan`\n  - [x] `xmau_project_management`\n  - [ ] `xmau_product_planning`\n  - [ ] `xmau_certify`\n  - [x] `users_work_items`\n```\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n\n### Release notes\n\nYou can now add, and remove, labels from tasks to better reflect additional context related to the task. Tasks are filterable by their labels from within a project, group, or dashboard issue list. \n\nhttps://docs.gitlab.com/ee/user/tasks.html","state":"closed","created_at":"2021-08-31T18:02:30.558Z","updated_at":"2022-10-28T19:07:46.717Z","closed_at":"2022-10-24T21:01:44.460Z","closed_by":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"labels":["Category:Team Planning","Deliverable","GitLab Free","auto updated","backend","backend complete","design-weight::3","devops::plan","direction","documentation","feature::enhancement","frontend","group::project management","missed-deliverable","missed:15.5","release post item","release post item::in review","section::dev","type::feature","workflow::verification"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":832471,"username":"psimyn","name":"Simon Knox","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3de75939c39eecd6ea2215ec740a8037?s=80\u0026d=identicon","web_url":"https://gitlab.com/psimyn"},{"id":8110537,"username":"mcelicalderonG","name":"Mario Celi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110537/avatar.png","web_url":"https://gitlab.com/mcelicalderonG"}],"author":{"id":4554611,"username":"hollyreynolds","name":"Holly Reynolds","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4554611/avatar.png","web_url":"https://gitlab.com/hollyreynolds"},"type":"ISSUE","assignee":{"id":832471,"username":"psimyn","name":"Simon Knox","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3de75939c39eecd6ea2215ec740a8037?s=80\u0026d=identicon","web_url":"https://gitlab.com/psimyn"},"user_notes_count":31,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/339756","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":11,"completed_count":3},"weight":5,"blocking_issues_count":1,"has_tasks":true,"task_status":"3 of 11 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/339756","notes":"https://gitlab.com/api/v4/projects/278964/issues/339756/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/339756/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#339756","relative":"#339756","full":"gitlab-org/gitlab#339756"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8361,"epic":{"id":564831,"iid":8361,"title":"üöÄ New work item UI: Labels","url":"/groups/gitlab-org/-/epics/8361","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"needs_attention"},{"id":92883599,"iid":339754,"project_id":278964,"title":"Docs: update policies documenation","description":"### Problem to solve\n\n* What product or feature(s) affected?\n  - Prior to https://gitlab.com/groups/gitlab-org/-/epics/5362, a user could only create a container (network) policy. Now the user has the ability to create a scan execution policy. Additionally, the Policies page has been moved from the `Threat Monitoring` page\n* What docs or doc section affected? Include links or paths.\n  - `doc/user/application_security/policies/index.md`\n  - `doc/user/application_security/threat_monitoring/index.md`\n* Is there a problem with a specific document, or a feature/process that's not addressed sufficiently in docs?\n  - no\n* Any other ideas or requests?\n  - n/a","state":"closed","created_at":"2021-08-31T17:21:09.727Z","updated_at":"2021-09-09T14:26:24.267Z","closed_at":"2021-09-09T14:26:24.243Z","closed_by":{"id":3585,"username":"axil","name":"Achilleas Pipinellis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3585/avatar.png","web_url":"https://gitlab.com/axil"},"labels":["Deliverable","Technical Writing","backend","documentation","workflow::verification"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"}],"author":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"type":"ISSUE","assignee":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/339754","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/339754","notes":"https://gitlab.com/api/v4/projects/278964/issues/339754/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/339754/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#339754","relative":"#339754","full":"gitlab-org/gitlab#339754"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5362,"epic":{"id":198770,"iid":5362,"title":"Allow Users to Edit yaml-mode Scan Execution Policies in the Policy UI","url":"/groups/gitlab-org/-/epics/5362","group_id":9970,"human_readable_end_date":"Sep 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":92879262,"iid":339751,"project_id":278964,"title":"Improve policy validation","description":"From https://gitlab.com/groups/gitlab-org/-/epics/5362#note_665128157\n\nWhen the user clicks the \"Create merge request\" button, we should check to see if they have a least one branch defined.  If not, then we should show the following error message.\n\n![run-compliance-ci-file-yaml-mode](https://gitlab.com/gitlab-org/gitlab/uploads/dd1a670ee9dc207308e9430a535659a9/run-compliance-ci-file-yaml-mode.png)\n\n## Implementation\n\n- [x] ~frontend update [DEFAULT_SCAN_EXECUTION_POLICY](https://gitlab.com/gitlab-org/gitlab/blob/master/ee/app/assets/javascripts/threat_monitoring/components/policy_editor/scan_execution_policy/lib/index.js#L8) to the following:\n\n```yaml\ntype: scan_execution_policy\nname: # name is mandatory\ndescription: ''\nenabled: false\nrules:\n  - type: pipeline\n    branches:\n      - # branch is mandatory\nactions:\n  - scan: dast\n    site_profile: ''\n    scanner_profile: ''\n```\n\n- [x] ~frontend ~~add `name` and `branches` validation on the yaml and~~ (this will be done as part of https://gitlab.com/gitlab-org/gitlab/-/issues/341419+) show error if it does not show, per the design. Link to [docs](https://docs.gitlab.com/ee/user/application_security/policies/#scan-execution-policies-schema) for more information. This should be done in [scan_execution_policy_editor component](https://gitlab.com/gitlab-org/gitlab/blob/d44df987b63ac1fc1f8909211f3ad1455ed304d0/ee/app/assets/javascripts/threat_monitoring/components/policy_editor/scan_execution_policy/scan_execution_policy_editor.vue)\n- [x] ~backend Add a check to [`ProcessPolicyService`](https://gitlab.com/gitlab-org/gitlab/-/blob/5fab6ac5747f72b3dc4bfb796904db118a31bb01/ee/app/services/security/security_orchestration_policies/process_policy_service.rb#L15) to ensure that all branches exist on `policy_configuration.security_policy_management_project`.\n- [x] ~backend Add new test cases to [`process_policy_service_spec.rb`](https://gitlab.com/gitlab-org/gitlab/-/blob/5fab6ac5747f72b3dc4bfb796904db118a31bb01/ee/spec/services/security/security_orchestration_policies/process_policy_service_spec.rb) to ensure that policies cannot be created for non-existent branches.\n\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2021-08-31T15:46:17.965Z","updated_at":"2022-11-02T15:54:58.579Z","closed_at":"2022-02-23T20:04:09.981Z","closed_by":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"labels":["Category:Security Policy Management","Enterprise Edition","GitLab Ultimate","UX","auto updated","backend complete","backend-weight::1","devops::govern","direction","frontend","frontend-weight::2","group::security policies","missed:14.8","section::sec","workflow::verification"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"}],"author":{"id":5292351,"username":"sam.white","name":"Sam White","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d467fb024d1858d279e6a36e028436ac?s=80\u0026d=identicon","web_url":"https://gitlab.com/sam.white"},"type":"ISSUE","assignee":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"user_notes_count":25,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/339751","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":4},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"4 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/339751","notes":"https://gitlab.com/api/v4/projects/278964/issues/339751/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/339751/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#339751","relative":"#339751","full":"gitlab-org/gitlab#339751"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6611,"epic":{"id":332582,"iid":6611,"title":"Follow-on Improvements for the Security Policy Editor","url":"/groups/gitlab-org/-/epics/6611","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":92866716,"iid":339731,"project_id":278964,"title":"Make timezone mocks more reusable","description":"We currently have two different timezones mocks for frontend specs:\n\n* Some are defined manually in [`ee/spec/frontend/oncall_schedule/mocks/mock_timezones.json`](https://gitlab.com/gitlab-org/gitlab/-/blob/a24f1c03289a60920c4cd4275975a64f8cf1a68f/ee/spec/frontend/oncall_schedule/mocks/mock_timezones.json).\n* The others are defined as fixtures in [`spec/frontend/fixtures/freeze_period.rb`](https://gitlab.com/gitlab-org/gitlab/-/blob/a24f1c03289a60920c4cd4275975a64f8cf1a68f/spec/frontend/fixtures/freeze_period.rb#L43-50).\n\nAs a result, the mocks are a bit scattered and it can be difficult to find them to use them in new frontend specs.\n\nLet's regroup those mocks in dedicated timezones fixtures.\n\nThis will support the work being done in https://gitlab.com/gitlab-org/gitlab/-/issues/328752 as it also requires some timezone mocks.","state":"closed","created_at":"2021-08-31T13:04:27.302Z","updated_at":"2021-10-28T13:52:58.488Z","closed_at":"2021-09-02T07:03:20.505Z","closed_by":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"labels":["backend","frontend","group::analyzer frontend","test","type::maintenance","workflow::in review"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"}],"author":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"type":"ISSUE","assignee":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/339731","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/339731","notes":"https://gitlab.com/api/v4/projects/278964/issues/339731/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/339731/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#339731","relative":"#339731","full":"gitlab-org/gitlab#339731"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":92861236,"iid":339721,"project_id":278964,"title":"Usage ping for artifacts:reports:coverage_report","description":"\u003c!-- The first four sections: \"Problem to solve\", \"Intended users\", \"User experience goal\", and \"Proposal\", are strongly recommended, while the rest of the sections can be filled out during the problem validation or breakdown phase. However, keep in mind that providing complete and relevant information early helps our product team validate the problem and start working on a solution. --\u003e\n\n### Problem to solve\n\nCustomers can Upload coverage reports using the `artifacts:reports:coverage_report` keyword but we do not know how often this is happening.\n\nAs a Product Manager who wants to increase GMAU, I want to see MAU who trigger a pipeline that uploads this artifact:report, so that we can track how changes in features/marketing/docs impact usage.\n\n\u003c!-- What problem do we solve? Try to define the who/what/why of the opportunity as a user story. For example, \"As a (who), I want (what), so I can (why/value).\" --\u003e\n\n### Intended users\n\nN/A - internal usage\n\n### User experience goal\n\nThe user (Product Manager at GitLab) should be able to view a graph of `artifacts:reports:coverage_report` by users over time in Sisense.\n\n### Proposal\n\nAdd a tracking event that fires when this artifact is uploaded by a pipeline. We should track user who triggered the pipeline and only increment by 1 for each pipeline, not each artifact.\n\nIt maybe easier? to track on pipeline completion instead of start since we don't know if an artifact will upload. If so let's track pipelines that are in status `successful` or `failed`. The full list of statuses is in [the docs](https://docs.gitlab.com/ee/api/pipelines.html#list-project-pipelines).\n\nThe counters to add to known_events.yml are:\n\n* coverage_test_report_upload_total - add the user_id to the counter when the user (regardless of plan type) triggers a pipeline that uploads a coverage report.\n\n### ~backend Implementation\n\nThis work is based on the implementation of our new **tracking mechanism** discussed in https://gitlab.com/gitlab-org/gitlab/-/issues/339720#backend-implementation.\n\n1. Reuse our [new service](https://gitlab.com/gitlab-org/gitlab/-/issues/339720#backend-implementation) after pipeline completion\n2. Look up for existing `coverage_report` artifact type generated by a pipeline\n3. Track the `pipeline id` and `user id` in dataland\n\n#### Details for known_events.yml\n\n```yaml\nname: i_testing_coverage_test_report_upload_total\n  category: testing\n  redis_slot: testing\n  aggregation: weekly\n```\n\nMetric name has not been added to [event dictionary](https://docs.google.com/spreadsheets/d/1VzE8R72Px_Y_LlE3Z05LxUlG_dumWe3vl-HeUo70TPw/edit?ts=5ffdbfb0#gid=618391485\u0026fvid=1422977269) but double check the [new metrics dictionary docs](https://docs.gitlab.com/ee/development/usage_ping/metrics_dictionary.html#metrics-added-dynamic-to-usage-ping-payload). May need to coordinate with #data to validate this is done correctly.\n\n\u003c!-- How are we going to solve the problem? Try to include the user journey! https://about.gitlab.com/handbook/journeys/#user-journey --\u003e\n\n### Further details\n\n\u003c!-- Include use cases, benefits, goals, or any other details that will help us understand the problem better. --\u003e\n\n### Permissions and Security\n\nNone.\n\n### Documentation\n\nNone.\n\n### Availability \u0026 Testing\n\nN/A\n\n### What does success look like, and how can we measure that?\n\nUploads of Coverage Reports broken out by license tier, displays on the [Pipeline Insights Group Metrics Sisense dashboard](https://app.periscopedata.com/app/gitlab/633395/Pipeline-Insights-Category-Performance-Indicators).\n\n### What is the type of buyer?\n\nN/A - internal user.\n\n### Is this a cross-stage feature?\n\nNo.\n\n### Links / references","state":"closed","created_at":"2021-08-31T11:46:16.021Z","updated_at":"2023-01-07T20:14:41.782Z","closed_at":"2022-11-15T22:21:59.870Z","closed_by":{"id":12353507,"username":"samsam_kim","name":"Sam Kim","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12353507/avatar.png","web_url":"https://gitlab.com/samsam_kim"},"labels":["Category:Code Testing and Coverage","Deliverable","Verify::P1","[deprecated] Accepting merge requests","backend","devops::verify","group::pipeline insights","instrumentation","onboarding","priority::2","section::ops","type::maintenance","workflow::production"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":12353507,"username":"samsam_kim","name":"Sam Kim","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12353507/avatar.png","web_url":"https://gitlab.com/samsam_kim"}],"author":{"id":4512666,"username":"jheimbuck_gl","name":"James Heimbuck","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8dd2ef9c1cacb6e80d7ca47db6f0ce22?s=80\u0026d=identicon","web_url":"https://gitlab.com/jheimbuck_gl"},"type":"ISSUE","assignee":{"id":12353507,"username":"samsam_kim","name":"Sam Kim","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12353507/avatar.png","web_url":"https://gitlab.com/samsam_kim"},"user_notes_count":18,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/339721","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/339721","notes":"https://gitlab.com/api/v4/projects/278964/issues/339721/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/339721/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#339721","relative":"#339721","full":"gitlab-org/gitlab#339721"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4528,"epic":{"id":119885,"iid":4528,"title":"Pipeline Insights Group Metrics Tracking (non PGMAU)","url":"/groups/gitlab-org/-/epics/4528","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":92861090,"iid":339720,"project_id":278964,"title":"Usage ping for artifacts:reports:junit","description":"\u003c!-- The first four sections: \"Problem to solve\", \"Intended users\", \"User experience goal\", and \"Proposal\", are strongly recommended, while the rest of the sections can be filled out during the problem validation or breakdown phase. However, keep in mind that providing complete and relevant information early helps our product team validate the problem and start working on a solution. --\u003e\n\n### Problem to solve\n\nCustomers can Upload Unit test reports using the `artifacts:reports:junit` keyword but we do not know how often this is happening.\n\nAs a Product Manager who wants to increase GMAU, I want to see MAU who trigger a pipeline that uploads this artifact:report, so that we can track how changes in features/marketing/docs impact usage.\n\n\u003c!-- What problem do we solve? Try to define the who/what/why of the opportunity as a user story. For example, \"As a (who), I want (what), so I can (why/value).\" --\u003e\n\n### Intended users\n\nN/A - internal usage\n\n### User experience goal\n\nThe user (Product Manager at GitLab) should be able to view a graph of `artifacts:reports:junit` by users over time in Sisense.\n\n### Proposal\n\nAdd a tracking event that fires when this artifact is uploaded by a pipeline. We should track user who triggered the pipeline and only increment by 1 for each pipeline, not each artifact.\n\nIt maybe easier? to track on pipeline completion instead of start since we don't know if an artifact will upload. If so let's track pipelines that are in status `successful` or `failed`. The full list of statuses is in [the docs](https://docs.gitlab.com/ee/api/pipelines.html#list-project-pipelines).\n\nThe counters to add to known_events.yml are:\n\n* junit_test_report_upload_total - add the user_id to the counter when the user (regardless of plan type) triggers a pipeline that uploads a junit report.\n\n### ~backend Implementation\n\n1. Introduce a new worker \u0026 service after pipeline completion\n\n```ruby\nafter_transition any =\u003e ::Ci::Pipeline.completed_statuses do |pipeline|\n  pipeline.run_after_commit do\n    ::Ci::TrackArtifactReportWorker.perform_async(pipeline.id)\n  end\nend\n```\n\n2. Look up for existing `junit` artifact type generated by a pipeline\n3. Track the `pipeline id` and `user id` in dataland\n\n\n#### Details for known_events.yml\n\n```yaml\nname: i_testing_junit_test_report_upload_total\n  category: testing\n  redis_slot: testing\n  aggregation: weekly\n```\n\nMetric name has not been added to [event dictionary](https://docs.google.com/spreadsheets/d/1VzE8R72Px_Y_LlE3Z05LxUlG_dumWe3vl-HeUo70TPw/edit?ts=5ffdbfb0#gid=618391485\u0026fvid=1422977269) but double check the [new metrics dictionary docs](https://docs.gitlab.com/ee/development/usage_ping/metrics_dictionary.html#metrics-added-dynamic-to-usage-ping-payload). May need to coordinate with #data to validate this is done correctly.\n\n\u003c!-- How are we going to solve the problem? Try to include the user journey! https://about.gitlab.com/handbook/journeys/#user-journey --\u003e\n\n### Further details\n\n\u003c!-- Include use cases, benefits, goals, or any other details that will help us understand the problem better. --\u003e\n\n### Permissions and Security\n\nNone.\n\n### Documentation\n\nNone.\n\n### Availability \u0026 Testing\n\nN/A\n\n### What does success look like, and how can we measure that?\n\nUploads of Junit Reports broken out by license tier, displays on the [Testing Group Metrics Sisense dashboard](https://app.periscopedata.com/app/gitlab/633395/Testing-Category-Metrics).\n\n### What is the type of buyer?\n\nN/A - internal user.\n\n### Is this a cross-stage feature?\n\nNo.\n\n### Links / references","state":"closed","created_at":"2021-08-31T11:44:20.450Z","updated_at":"2022-12-19T15:36:47.193Z","closed_at":"2022-12-14T05:54:54.046Z","closed_by":{"id":11226654,"username":"jocelynjane","name":"Jocelyn Eillis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11226654/avatar.png","web_url":"https://gitlab.com/jocelynjane"},"labels":["Category:Code Testing and Coverage","Verify::P1","backend","devops::verify","group::pipeline insights","instrumentation","missed:15.3","priority::2","section::ops","type::maintenance","workflow::production"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":11758441,"username":"dbiryukov","name":"Dmytro Biryukov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11758441/avatar.png","web_url":"https://gitlab.com/dbiryukov"}],"author":{"id":4512666,"username":"jheimbuck_gl","name":"James Heimbuck","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8dd2ef9c1cacb6e80d7ca47db6f0ce22?s=80\u0026d=identicon","web_url":"https://gitlab.com/jheimbuck_gl"},"type":"ISSUE","assignee":{"id":11758441,"username":"dbiryukov","name":"Dmytro Biryukov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11758441/avatar.png","web_url":"https://gitlab.com/dbiryukov"},"user_notes_count":39,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/339720","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/339720","notes":"https://gitlab.com/api/v4/projects/278964/issues/339720/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/339720/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#339720","relative":"#339720","full":"gitlab-org/gitlab#339720"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4528,"epic":{"id":119885,"iid":4528,"title":"Pipeline Insights Group Metrics Tracking (non PGMAU)","url":"/groups/gitlab-org/-/epics/4528","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":92858390,"iid":339718,"project_id":278964,"title":"Add resource limits to Cilium helm chart","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\u003c!--\nA brief explanation of the why, not the what or how. Assume the reader doesn't know the\nbackground and won't have time to dig-up information from comment threads.\n--\u003e\n\nWe want to add [resource limits](https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/) to the Cilium helm charts that we maintain in order to prevent Cilium from exhausting resources in a Kubernetes cluster. Based on [load testing](https://gitlab.com/gitlab-org/gitlab/-/issues/300360#note_658115263), 500m (millicores) CPU and 5G memory are reasonable default limits. \n\n## Relevant links\n\u003c!--\nInformation that the developer might need to refer to when implementing the issue.\n\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e)\n  - [Design 1](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n  - [Design 2](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n- [Similar implementation](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/\u003cid\u003e)\n--\u003e\n\n- [Resource limits](https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/)\n- [Load testing results](https://gitlab.com/gitlab-org/gitlab/-/issues/300360)\n- [Cilium Helm chart values](https://github.com/cilium/cilium/blob/master/install/kubernetes/cilium/values.yaml) (see `resources`)\n- [Cluster Management project template](https://gitlab.com/gitlab-org/project-templates/cluster-management)\n\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [ ] Documentation:\n- [ ] Feature flag:\n- [ ] Performance:\n- [ ] Testing:\n\n\n## Implementation plan\n\u003c!--\nSteps and the parts of the code that will need to get updated. The plan can also\ncall-out responsibilities for other team members or teams.\n\ne.g.:\n\n- [ ] ~frontend Step 1\n  - [ ] `@person` Step 1a\n- [ ] ~frontend Step 2\n\n--\u003e\n\n- [ ] ~backend Add the following configuration to [`applications/cilium/values.yaml`](https://gitlab.com/gitlab-org/project-templates/cluster-management/-/blob/709cf8a526ef8ccf663b78c2dd28fd8219ade4dd/applications/cilium/values.yaml) in the cluster-management project template:\n\n   ```yaml\n   resources:\n     limits:\n       cpu: 500m\n       memory: 5G\n   ```\n\n- [ ] ~backend [Update project templates](https://docs.gitlab.com/ee/development/rake_tasks.html#update-project-templates) in GitLab RoR\n\n\n\u003c!--\nWorkflow and other relevant labels\n\n# ~\"group::\" ~\"Category:\" ~\"GitLab Ultimate\"\nOther settings you might want to include when creating the issue.\n\n# /assign @\n# /epic \u0026\n--\u003e","state":"closed","created_at":"2021-08-31T10:53:09.257Z","updated_at":"2022-02-02T03:41:01.312Z","closed_at":"2022-02-02T03:41:01.301Z","closed_by":{"id":5292351,"username":"sam.white","name":"Sam White","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d467fb024d1858d279e6a36e028436ac?s=80\u0026d=identicon","web_url":"https://gitlab.com/sam.white"},"labels":["Category:Container Network Security","Community contribution","backend","devops::govern","group::security policies","section::sec","type::maintenance","workflow::in dev"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":10663882,"username":"agining","name":"Eren Demirta≈ü","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10663882/avatar.png","web_url":"https://gitlab.com/agining"}],"author":{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"},"type":"ISSUE","assignee":{"id":10663882,"username":"agining","name":"Eren Demirta≈ü","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10663882/avatar.png","web_url":"https://gitlab.com/agining"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/339718","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":9,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 9 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/339718","notes":"https://gitlab.com/api/v4/projects/278964/issues/339718/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/339718/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#339718","relative":"#339718","full":"gitlab-org/gitlab#339718"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":92841741,"iid":339706,"project_id":278964,"title":"Move Snowplow logic from Gitlab::Tracking module to Gitlab::Tracking::Destinations::Snowplow class","description":"Related https://gitlab.com/gitlab-org/gitlab/-/issues/337473\n\n# Summary\n\nIn order to be easy to add a new destination, we should consolidate the logic around the tracking library.\n\nMove Snowplow logic from Gitlab::Tracking module to Gitlab::Tracking::Destinations::Snowplow class\n\n# Why?\n\nThis is a refactoring so we could add a new destination easier. \n\nWe might add as destination the Gitlab Snowplow collector\n\n# Details\n\n- The public API for tracking should be accessible through `Gitlab::Tracking` module.\n- From `Gitlab::Tracking` we should use different destinations like `Destinations::ProductAnalytics`, `Destinations::Snowplow` and others\n- The destination classes should not refer to  `Gitlab::Tracking` module, this is creating a circular dependency\n- `Gitlab::Tracking` module should not have destination-specific logic like snowplow_options\n\n# Requirements\n\n- `Gitlab::Tracking` module should be the public API for tracking events and collecting them to multiple destinations\n\n# Proposal\n\n- Rename `snoplow_options` method to `options` from`Gitlab::Tracking` module.\n- `options` method should take the configuration from the `snowplow` tracker\n- There should be a single source for snowplow configuration and should live in `Gitlab::Tracking::Destinations::Snowplow`\n- Move `SNOWPLOW_NAMESPACE` constant in `Gitlab::Tracking::Destinations::Snowplow` class\n- Remove the circular dependency from `Gitlab::Tracking::Destinations::Snowplow` `enabled?` method\nin the enabled method we should check for ` Gitlab::CurrentSettings.snowplow_enabled?`\n\n```ruby\nmodule Gitlab\n  module Tracking\n    module Destinations\n      class Snowplow \u003c Base\n        extend ::Gitlab::Utils::Override\n        ...\n        private\n\n        def enabled?\n          Gitlab::CurrentSettings.snowplow_enabled?\n        end\n```","state":"closed","created_at":"2021-08-31T06:36:24.189Z","updated_at":"2021-12-10T20:04:48.278Z","closed_at":"2021-12-01T16:00:19.794Z","closed_by":{"id":8013274,"username":"pskorupa","name":"Piotr Skorupa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8013274/avatar.png","web_url":"https://gitlab.com/pskorupa"},"labels":["backend","devops::growth","group::product intelligence","maintenance::refactor","section::growth","type::maintenance","workflow::verification"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":8013274,"username":"pskorupa","name":"Piotr Skorupa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8013274/avatar.png","web_url":"https://gitlab.com/pskorupa"}],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":{"id":8013274,"username":"pskorupa","name":"Piotr Skorupa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8013274/avatar.png","web_url":"https://gitlab.com/pskorupa"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/339706","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/339706","notes":"https://gitlab.com/api/v4/projects/278964/issues/339706/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/339706/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#339706","relative":"#339706","full":"gitlab-org/gitlab#339706"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":92821121,"iid":339682,"project_id":278964,"title":"[Experiment] Split Registration flow based on if the user is joining an existing team or setting up a new one","description":"## Experiment summary\n\nWe believe that by asking users if they are setting up a new team or joining an existing one we'll be able to simplify the Registration Flow for users joining teams and increase group related conversion rates by limiting the noise that comes with groups that are not planned to be used. \n \nTo verify that, we will create an experience that forks the Registration Flow based on this question \n\nAnd we‚Äôll measure the impact on group/project creation rates as well as trial and paid conversion. \n\n## Hypothesis\n\u003c!-- The hypothesis represents the high-level thought process in creating the experiment but does not need to be proven in one experiment. For example, you could have a hypothesis that ‚Äúusers would benefit from more easily being able to start a trial‚Äù and your first experiment could fail, that doesn‚Äôt void your hypothesis only indicates you may need to think of a new iterative experiment that would still align with your hypothesis. --\u003e\n\nWe have a large % of users that are setting up accounts with the intention of joining an existing team. We currently require all new accounts that are created outside of the invitation flow to create groups and projects, but in many cases this is an extra and unwanted step. \n\n## Business problem\n\u003c!-- Where the hypothesis is focused on the user/customer, the business problem represents why/how an experiment in this area could positively impact the business. For example, trials represent a significant way for GitLab to produce valuable leads for the sales team. --\u003e\n\nThe Registration Flow flow can feel overly heavy for a user that is joining an existing team. Since the team member experience is critical and most stage adoption happens by users other than the namespace creator, we need to ensure a simple and delightful experience for creating an account and joining a team. \n\n## Supporting data\n\u003c!-- Why should we run this experiment? What‚Äôs the potential impact? Show supporting data that‚Äôs both qualitative and quantitative. Quantitative example, we generate 30,000 sign ups a month and 900 trails within 90 days (3%) with a close rate of 10% and an IACV of $400.  If we‚Äôre able to increase our trial volume by 10% percent (990 trials a month) we will generate an additional $3,600 IACV if our close rates remain constant. Qualitative example, in searching Zendesk I was able to find 10 support tickets in the last 30 days that referenced difficulties with starting a trial due to the user not being an admin. (all numbers are hypothetical and only listed for the purpose of having an example) --\u003e\n\nFor both invited and non-invited users, the number 1 reason for creating a GitLab account is to join an existing team: \n\n![image](/uploads/3c061d1891b7723d53c92b0661ab1602/image.png)\n\n\n## Expected outcome\n\u003c!-- What is the expected outcome of this experiment, what metric are we trying to move? Are there any metrics we know we do not want to impact? For example, we want to impact IACV by increasing the rate at which users start trials within 30 days but we also want to ensure we don't increase the churn rate for users who've recently purchased. --\u003e\n\nWe see a reduction in the group namespaces that are created and an increase in conversion and adoption metrics for the namespaces created in this experiment vs. the control. \n\n## Experiment design \u0026 implementation\n\u003c!-- What is the experiment we‚Äôre going to run? How long do you believe it will need to run to reach significance? For example, our experiment would be to allow non-admins to request a trial through their admin, to detect a 10% change from our baseline conversion rate we‚Äôll need a sample size of 57,000 (source Optimizely), with our current sign up rate of 30,000 a month this experiment will need to run for ~2 months. (all numbers are hypothetical and only listed for the purpose of having an example) --\u003e\n\nThoughts on initial flow: \n\n1. Create a new question specifically for determining if the user is creating a new team or joining an existing one\n   1. We should consider keeping the JTBD question and remove the \"joining an existing team\" option  \n1. If they are joining an existing one, skip the group/project creation step(s) and take them to the dashboard \n\nIn terms of tracking, we should make sure we're storing the user_ids of users in the control and candidate in the `experiment_users` table so we can track downstream impact. \n\n\n## ICE score\n\n\u003c!-- See https://about.gitlab.com/handbook/product/growth/#growth-ideation-and-prioritization --\u003e\n\n| Impact | Confidence | Ease | Score |\n| ------ | ------ | ------ | ------ |\n| value 1 |  value 2 |  value 3 | Average(1:3) |\n\n## Known assumptions\n\u003c!-- This is an area to call out known assumptions in the experiment, this is especially helpful for any future colleagues that join the team so they understand other potential influences and how they were accounted for. This section is also helpful in framing possible scenarios and to keep the door open for the next steps. For example, we‚Äôre hoping our experiment will increase the number of people that start a trial but we‚Äôre assuming the conversion rate to paid and IACV will remain the same. This is a known assumption and depending on the results of the experiment could impact the direction we take on any future iterations. --\u003e\n\n## Results, lessons learned, next steps\n\u003c!-- What were the results of the experiment? Was the experiment a success or a failure? Based on the results should we remove the code or advocate that it become a permanent part of the experience for all users? Are there future experiments the team is going to run based off these results (include a link to new issue)? For example, our trial experiment was successful we increased the trial create rate by 10% but we saw a 1% drop in our close rate which means our net impact on IACV was negative $360 (990 * 0.09 * 400 compared tot he control of 900 * 0.1 * 400). Our next experiment (link) will focus on increasing the value once a user starts a trial. (all numbers are hypothetical and only listed for the purpose of having an example) --\u003e\n\n\n## Checklist\n\n* [ ] Fill in the experiment summary and write more about the details of the experiment in the rest of the issue description. Some of these may be filled in through time (the \"Result, learnings, next steps\" section for example) but at least the experiment summary should be filled in right from the start.\n* [ ] Add the label of the `group::` that will work on this experiment (if known).\n* [ ] Mention the Product Manager, Engineering Manager, and at least one Product Designer from the group that owns the part of the product that the experiment will affect.\n* [ ] Fill in the values in the [ICE score table](#ice-score) ping other team members for the values you aren‚Äôt confident about (i.e. engineering should almost always fill out the ease section). Add the ~\"ICE Score Needed\" label to indicate that the score is incomplete.\n* [ ] Replace the ~\"ICE Score Needed\" with an ICE low/medium/high score label once all values in the ICE table have been added.\n* [ ] Mention the [at]gitlab-core-team team and ask for their feedback.","state":"closed","created_at":"2021-08-30T18:46:37.069Z","updated_at":"2021-10-05T21:24:50.661Z","closed_at":"2021-08-30T18:46:54.247Z","closed_by":{"id":4068412,"username":"mkarampalas","name":"Michael Karampalas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b1427f54773954af4d75c5514504229b?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkarampalas"},"labels":["DEPRECATED Growth-Deliverable","First mile","auto updated","devops::growth","experiment idea","experiment-rollout","group::adoption DEPRECATED","section::growth","workflow::design"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":4412383,"username":"kcomoli","name":"Kevin Comoli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4412383/avatar.png","web_url":"https://gitlab.com/kcomoli"}],"author":{"id":4068412,"username":"mkarampalas","name":"Michael Karampalas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b1427f54773954af4d75c5514504229b?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkarampalas"},"type":"ISSUE","assignee":{"id":4412383,"username":"kcomoli","name":"Kevin Comoli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4412383/avatar.png","web_url":"https://gitlab.com/kcomoli"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/339682","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/339682","notes":"https://gitlab.com/api/v4/projects/278964/issues/339682/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/339682/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#339682","relative":"#339682","full":"gitlab-org/gitlab#339682"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":92817822,"iid":339677,"project_id":278964,"title":"[Feature flag] Rollout of `use_upsert_query_for_mr_metrics`","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout [the feature](ISSUE LINK) on production,\nthat is currently behind the `\u003cfeature-flag-name\u003e` feature flag.\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\n## Owners\n\n- Team: optimize\n- Most appropriate slack channel to reach out to: `#g_manage_optimize`\n- Best individual to reach out to: ahegyi, djensen\n- PM: djensen\n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## The Rollout Plan\n\n- Partial Rollout on GitLab.com with testing groups\n- Rollout on GitLab.com for a certain period (How long)\n- Percentage Rollout on GitLab.com\n- Rollout Feature for everyone as soon as it's ready\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? Sentry errors reports can also be useful to review --\u003e\n\n## Testing Groups/Projects/Users\n\n\u003c!-- If applicable, any groups/projects that are happy to have this feature turned on early. Some organizations may wish to test big changes they are interested in with a small subset of users ahead of time for example. --\u003e\n\n- `gitlab-org/gitlab` project\n- `gitlab-org/gitlab-foss` project\n- `gitlab-com/www-gitlab-com` project\n- `gitlab-org`/`gitlab-com` groups\n- ...\n\n\n## Expectations\n\n### What are we expecting to happen?\n\n\u003c!-- Describe the expected outcome when rolling out this feature --\u003e\n\n### What might happen if this goes wrong?\n\n\u003c!-- Should the feature flag be turned off? Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- [ ] Ensure that the feature MRs have been deployed to non-production environments.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Enable the feature globally on non-production environments.\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e true --dev`\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e true --staging`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Preparation before production rollout\n\n- [ ] Ensure that the feature MRs have been deployed to both production and canary.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [ ] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [ ] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [ ] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [ ] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com.\n- [ ] If the feature might impact the user experience, notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nAll `/chatops` commands that target production should be done in the `#production` slack channel for visibility.\n\n- [ ] Confirm the feature flag is enabled on `staging` without incident\n- [ ] Roll out the feature to targeted testing projects/groups first\n    - [ ] `/chatops run feature set --project=gitlab-org/gitlab \u003cfeature-flag-name\u003e true`\n    - [ ] `/chatops run feature set --project=gitlab-org/gitlab-foss \u003cfeature-flag-name\u003e true`\n    - [ ] `/chatops run feature set --project=gitlab-com/www-gitlab-com \u003cfeature-flag-name\u003e true`\n\n- [ ] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e`\n- [ ] Verify the change has the desired outcome with the limited rollout before enabling the feature globally on production.\n- [x] Enable the feature globally on production environment. `/chatops run feature set \u003cfeature-flag-name\u003e true`\n- [ ] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [ ] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [ ] Create a merge request with the following changes. Ask for review and merge it.\n    - [ ] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the default-enabling MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-default-enabling-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [ ] (Optional) You can create a separate issue for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [ ] Set the title to \"[Feature flag] Cleanup `\u003cfeature-flag-name\u003e`\".\n    - [ ] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [ ] Link this rollout issue as a related issue.\n    - [ ] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [x] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag. Ask for review and merge it.\n    - [x] Remove all references to the feature flag from the codebase.\n    - [x] Remove the YAML definitions for the feature from the repository.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the cleanup MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-cleanup-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --dev`\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --staging`\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e`\n- [ ] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set \u003cfeature-flag-name\u003e false\n```","state":"closed","created_at":"2021-08-30T17:36:01.684Z","updated_at":"2021-12-15T12:03:09.789Z","closed_at":"2021-12-15T12:03:09.762Z","closed_by":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"labels":["backend","devops::manage","feature flag","group::optimize","section::dev","type::maintenance","workflow::verification"],"milestone":{"id":2156369,"iid":68,"group_id":9970,"title":"14.7","description":"","state":"active","created_at":"2021-07-21T17:39:41.786Z","updated_at":"2021-07-21T17:39:41.786Z","due_date":"2022-01-17","start_date":"2021-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/68"},"assignees":[{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"}],"author":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"type":"ISSUE","assignee":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/339677","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":50,"completed_count":8},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"8 of 50 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/339677","notes":"https://gitlab.com/api/v4/projects/278964/issues/339677/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/339677/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#339677","relative":"#339677","full":"gitlab-org/gitlab#339677"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":92810331,"iid":339673,"project_id":278964,"title":"Put less common features of the content editor in an overflow button","description":"## Problem to solve\n\nThe content editor supports many types of Markdown content and the list of supported elements is growing fast. The toolbar is only able to hold a limited number of elements. As we introduce new types of content like math, superscript, and subscript, the toolbar will get too crowded. \n\n## Proposal\n\nIntroduce an \"overflow\" toolbar icon that displays a list of less frequently-used elements.\n\nFor the content editor we will be using `+` icon in place of t[he ellipsis as described in Pajamas](https://design.gitlab.com/components/dropdown/#trigger-button-variants) because in the toolbar this button will signify \"insert a block\"\n\n- Remove `strikethrough` from the toolbar.\n  - It is not there in other toolbars in GitLab and it is there in the floating toolbar while text is highlighted in the Content Editor\n  - Also it is an action that is not used often ([Toolbar usage - INTERNAL](https://app.periscopedata.com/app/gitlab/965702/Create::Editor---Content-Editor-Toolbar))\n- Introduce overflow menu with `+` icon with following actions in the menu by default\n- Update sequence of toolbar buttons\n  - Dropdown for text style  \n  - Bold\n  - Italics\n  - Blockquote\n  - Inline code\n  - Link\n  - Bulleted list\n  - Ordered list\n  - Todo list (if available)\n  - Image (future area for file upload)\n  - Details block\n  - Table\n  - `+`\n    - Code block\n    - Horizontal rule \n- At `SM` breakpoint and below, more actions will go into the the `+` menu so the toolbar will look like \n  - Dropdown for text style  \n  - Bold\n  - Italics\n  - Blockquote\n  - Inline code\n  - Link\n  - Image (future area for file upload)\n  - `+`\n    - Code block\n    - Details block\n    - Horizontal rule\n    - Bulleted list\n    - Ordered list\n    - Todo list (if available) \n    - Table\n\n| Toolbar | Toolbar - SM |\n| ------ | ------ |\n| ![image](/uploads/347b70490f8fae7964ba92f2f82febcd/image.png) | ![image](/uploads/c3bf79de936aea5297b532419db388af/image.png) |\n\nWe will explore if it is possible to add icons in the dropdown menu but if it is not possible then we will handle in a follow up.\n\n#### Changes from proposal\n\n- `Table` has a dropdown and should not be place in the overflow menu because of that for now.","state":"closed","created_at":"2021-08-30T16:14:58.396Z","updated_at":"2022-07-27T02:09:09.392Z","closed_at":"2022-06-21T22:30:15.567Z","closed_by":{"id":2398164,"username":"himkp","name":"Himanshu Kapoor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2398164/avatar.png","web_url":"https://gitlab.com/himkp"},"labels":["Content Editor","Deliverable","GitLab Free","Technical Writing","UX","devops::create","documentation","feature::enhancement","frontend","group::editor","missed-deliverable","missed:14.5","missed:14.6","missed:14.8","missed:14.9","section::dev","type::feature","workflow::design"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":2338505,"username":"mle","name":"Michael Le","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2338505/avatar.png","web_url":"https://gitlab.com/mle"},{"id":2398164,"username":"himkp","name":"Himanshu Kapoor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2398164/avatar.png","web_url":"https://gitlab.com/himkp"}],"author":{"id":5212466,"username":"ericschurter","name":"Eric Schurter","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5212466/avatar.png","web_url":"https://gitlab.com/ericschurter"},"type":"ISSUE","assignee":{"id":2338505,"username":"mle","name":"Michael Le","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2338505/avatar.png","web_url":"https://gitlab.com/mle"},"user_notes_count":37,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/339673","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/339673","notes":"https://gitlab.com/api/v4/projects/278964/issues/339673/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/339673/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#339673","relative":"#339673","full":"gitlab-org/gitlab#339673"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6228,"epic":{"id":292771,"iid":6228,"title":"Improve the UX of the Content Editor","url":"/groups/gitlab-org/-/epics/6228","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":92795026,"iid":339652,"project_id":278964,"title":"Empty state for issues within a group needs UX improvement","description":"The empty state for the issues page within a group without any projects doesn't have a clear CTA for adding issues. A CTA should be added to help the user understand where to start.\n\n## Proposal\n\nInclude a \"New Issue\" button below the \"Also, issues are searchable and filterable.\" line allowing users to create an issue at the group level.\n\n| Before | After |\n| ------ | ------ |\n| ![issue-list-original](/uploads/d5105a9acaf7a459f02216222d41b7c5/issue-list-original.png) | ![Proposed-empty-state](/uploads/3e3c8f1b44b882ef3678604caddb52d8/Proposed-empty-state.png) |","state":"closed","created_at":"2021-08-30T12:29:35.161Z","updated_at":"2022-11-15T13:10:39.804Z","closed_at":"2022-06-01T11:12:04.532Z","closed_by":{"id":4545397,"username":"cngo","name":"Coung Ngo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4545397/avatar.png","web_url":"https://gitlab.com/cngo"},"labels":["SUS::Impacting","Technical Writing","UI text","auto updated","devops::plan","frontend","group::project management","missed:14.4","priority::4","section::dev","severity::4","tw-weight::3","workflow::production"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":4545397,"username":"cngo","name":"Coung Ngo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4545397/avatar.png","web_url":"https://gitlab.com/cngo"}],"author":{"id":4554611,"username":"hollyreynolds","name":"Holly Reynolds","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4554611/avatar.png","web_url":"https://gitlab.com/hollyreynolds"},"type":"ISSUE","assignee":{"id":4545397,"username":"cngo","name":"Coung Ngo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4545397/avatar.png","web_url":"https://gitlab.com/cngo"},"user_notes_count":21,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/339652","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/339652","notes":"https://gitlab.com/api/v4/projects/278964/issues/339652/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/339652/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#339652","relative":"#339652","full":"gitlab-org/gitlab#339652"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":92790976,"iid":339644,"project_id":278964,"title":"Service Desk incoming email should count towards new issue application rate limit","description":"Related to #328238.\n\nhttps://gitlab.com/gitlab-org/gitlab/-/merge_requests/68526 added rate limiting to all issue creation, keying off project and user.\n\nHowever, unlike regular incoming email, Service Desk email has no identifiable GitLab user. Instead, the GitLab bot creates the issue on behalf of the user. An exclusion for GitLab bot was made so that this user will not be rate limited.\n\nRate Limiting should be applied to incoming email for Service Desk by combining project and `service_desk_reply_to`, instead of project and user. This will ensure that a basic Application Limit applies, even if it's unlikely it would ever be hit.\n\n### Update 2021-10-18\n\nCurently service desk issues are not rate limited.\n\nBecause `RateLimitedService` is now used at the `Issues::CreateService` service level (which is used also when creating service desk issue), we could rate limit also service desk issues (currently issues created by bot are whitelisted).\n\nThe following discussion from !68526 should be addressed:\n\n- [ ] @jprovaznik started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/68526#note_698034338): \n\n    \u003e Yes, I think this makes sense - I can't think of other option we could do if rate limit is reached.\n    \u003e \n    \u003e But because service desk issues are created under bot user, which is whitelisted, this situation will not occur - we would need rate limit per user's email for service desk incoming issues - is this something to create a follow-up issue?","state":"closed","created_at":"2021-08-30T11:16:01.902Z","updated_at":"2023-01-12T00:33:12.875Z","closed_at":"2021-11-09T11:25:22.354Z","closed_by":{"id":508743,"username":"jarka","name":"Jarka Ko≈°anov√°","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"},"labels":["Application Limits","Category:Service Desk","Deliverable","Eng-Consumer::Infrastructure","Eng-Producer::Development","Engineering Allocation","Next Up","auto updated","backend","corrective action","devops::plan","group::respond","infradev","priority::3","reliability","section::dev","severity::3","type::maintenance","workflow::in review"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":508743,"username":"jarka","name":"Jarka Ko≈°anov√°","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"}],"author":{"id":4418630,"username":"johnhope","name":"John Hope","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4418630/avatar.png","web_url":"https://gitlab.com/johnhope"},"type":"ISSUE","assignee":{"id":508743,"username":"jarka","name":"Jarka Ko≈°anov√°","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/339644","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/339644","notes":"https://gitlab.com/api/v4/projects/278964/issues/339644/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/339644/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#339644","relative":"#339644","full":"gitlab-org/gitlab#339644"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":92780704,"iid":339639,"project_id":278964,"title":"Roll out dependency proxy via Workhorse","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout [the feature](ISSUE LINK) on production,\nthat is currently behind the `dependency_proxy_workhorse` feature flag.\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\n## Owners\n\n- Team: NAME_OF_TEAM\n- Most appropriate slack channel to reach out to: `#g_source_code-be`\n- Best individual to reach out to: @igor.drozdov \n- PM: NAME\n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## The Rollout Plan\n\n- Partial Rollout on GitLab.com with testing groups\n- Rollout on GitLab.com for a certain period (How long)\n- Percentage Rollout on GitLab.com\n- Rollout Feature for everyone as soon as it's ready\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? Sentry errors reports can also be useful to review --\u003e\n\n## Testing Groups/Projects/Users\n\n\u003c!-- If applicable, any groups/projects that are happy to have this feature turned on early. Some organizations may wish to test big changes they are interested in with a small subset of users ahead of time for example. --\u003e\n\n- `gitlab-org/gitlab` project\n- `gitlab-org/gitlab-foss` project\n- `gitlab-com/www-gitlab-com` project\n- `gitlab-org`/`gitlab-com` groups\n- ...\n\n\n## Expectations\n\n### What are we expecting to happen?\n\n\u003c!-- Describe the expected outcome when rolling out this feature --\u003e\n\n### What might happen if this goes wrong?\n\n\u003c!-- Should the feature flag be turned off? Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- [x] Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Enable the feature globally on non-production environments.\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e true --dev`\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e true --staging`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Preparation before production rollout\n\n- [x] Ensure that the feature MRs have been deployed to both production and canary.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [x] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [x] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [x] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com.\n- [x] If the feature might impact the user experience, notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nAll `/chatops` commands that target production should be done in the `#production` slack channel for visibility.\n\n- [x] Confirm the feature flag is enabled on `staging` without incident\n- [x] Roll out the feature to targeted testing projects/groups first\n    - [x] `/chatops run feature set --project=gitlab-org/gitlab \u003cfeature-flag-name\u003e true`\n    - [x] `/chatops run feature set --project=gitlab-org/gitlab-foss \u003cfeature-flag-name\u003e true`\n    - [x] `/chatops run feature set --project=gitlab-com/www-gitlab-com \u003cfeature-flag-name\u003e true`\n\n- [x] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e`\n- [x] Verify the change has the desired outcome with the limited rollout before enabling the feature globally on production.\n- [ ] Enable the feature globally on production environment. `/chatops run feature set \u003cfeature-flag-name\u003e true`\n- [ ] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [ ] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [ ] Create a merge request with the following changes. Ask for review and merge it.\n    - [ ] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the default-enabling MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-default-enabling-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [ ] (Optional) You can create a separate issue for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [ ] Set the title to \"[Feature flag] Cleanup `\u003cfeature-flag-name\u003e`\".\n    - [ ] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [ ] Link this rollout issue as a related issue.\n    - [ ] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [ ] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag. Ask for review and merge it.\n    - [ ] Remove all references to the feature flag from the codebase.\n    - [ ] Remove the YAML definitions for the feature from the repository.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the cleanup MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-cleanup-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --dev`\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --staging`\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e`\n- [ ] Close this rollout issue.\n\n## Rollback Steps\n\n- [x] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set \u003cfeature-flag-name\u003e false\n```","state":"closed","created_at":"2021-08-30T08:21:24.973Z","updated_at":"2022-11-23T14:00:23.646Z","closed_at":"2021-11-17T12:05:42.382Z","closed_by":{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"},"labels":["Category:Source Code Management","Deliverable","auto updated","backend","devops::create","feature flag","group::source code","section::dev"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"},{"id":2167502,"username":"robotmay_gitlab","name":"Robert May","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2167502/avatar.png","web_url":"https://gitlab.com/robotmay_gitlab"}],"author":{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"},"type":"ISSUE","assignee":{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"},"user_notes_count":16,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/339639","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":50,"completed_count":23},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"23 of 50 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/339639","notes":"https://gitlab.com/api/v4/projects/278964/issues/339639/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/339639/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#339639","relative":"#339639","full":"gitlab-org/gitlab#339639"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6396,"epic":{"id":312181,"iid":6396,"title":"Update the Dependency Proxy to use workhorse","url":"/groups/gitlab-org/-/epics/6396","group_id":9970,"human_readable_end_date":"Nov 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":92767185,"iid":339631,"project_id":278964,"title":"Remove v-html from app/assets/javascripts/popovers/components/popovers.vue","description":"As part of the effort to remove `v-html` from the codebase, we need to replace it with a safer alternative.\n\nSee [parent epic](https://gitlab.com/groups/gitlab-org/-/epics/4273#how-to-fix) for more details and examples.\n\n## Implementation Plan\n\n* [x] Replace `v-html` with `v-safe-html` by using [GlSafeHTMLDirective](https://gitlab-org.gitlab.io/gitlab-ui/?path=/story/directives-safe-html-directive--default)\n* [ ] Is the value being passed to `v-html` sanitized before in frontend?\n  * [ ] Remove that part, and\n  * [ ] Replace every other `v-html` that uses that value with `v-safe-html`\n* [ ] Remove the comment `/* eslint-disable vue/no-v-html */`\n* [ ] Follow standard [code review process](https://docs.gitlab.com/ee/development/code_review.html)","state":"closed","created_at":"2021-08-30T03:20:35.298Z","updated_at":"2021-08-31T09:59:47.846Z","closed_at":"2021-08-30T12:47:22.059Z","closed_by":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"labels":["frontend","maintenance::refactor","security","type::feature"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"}],"author":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"type":"ISSUE","assignee":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/339631","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":1},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/339631","notes":"https://gitlab.com/api/v4/projects/278964/issues/339631/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/339631/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#339631","relative":"#339631","full":"gitlab-org/gitlab#339631"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4273,"epic":{"id":100261,"iid":4273,"title":"Replace v-html with v-safe-html","url":"/groups/gitlab-org/-/epics/4273","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":92765778,"iid":339629,"project_id":278964,"title":"DAST is not correctly reporting discovered_at time","description":"### Problem to solve\n\nThe `discovered_at` field in the gl-dast-report.json is adding in the epoch time instead of a proper discovery timestamp.\nSee https://gitlab-org.gitlab.io/-/security-products/dast-benchmark/-/jobs/1536415462/artifacts/dvwa-full-ajax.json as an example (search for `discovered_at` to see the `\"discovered_at\": \"1970-01-01T00:00:00.000\",` as an example.\n \n### Proposal\n\nEnsure reports are returning valid `discovered_at` timestamps.\n\n### Intended users\n\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n\n### What does success look like, and how can we measure that?\n\nEnd to end tests verify discovered_at is never the epoch value.\n\n### What is the type of buyer?\n\n[Gold/Ultimate](https://about.gitlab.com/handbook/product/pricing/#four-tiers)\n\n### Links / references","state":"closed","created_at":"2021-08-30T02:18:52.623Z","updated_at":"2021-09-08T22:50:41.462Z","closed_at":"2021-09-08T22:50:41.438Z","closed_by":{"id":5344211,"username":"craigmsmith","name":"Craig Smith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5344211/avatar.png","web_url":"https://gitlab.com/craigmsmith"},"labels":["Category:DAST","GitLab Ultimate","devops::secure","group::dynamic analysis","priority::2","section::sec","severity::2","type::bug","workflow::production"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":5344211,"username":"craigmsmith","name":"Craig Smith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5344211/avatar.png","web_url":"https://gitlab.com/craigmsmith"}],"author":{"id":5324454,"username":"idawson","name":"Isaac Dawson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5324454/avatar.png","web_url":"https://gitlab.com/idawson"},"type":"ISSUE","assignee":{"id":5344211,"username":"craigmsmith","name":"Craig Smith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5344211/avatar.png","web_url":"https://gitlab.com/craigmsmith"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/339629","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/339629","notes":"https://gitlab.com/api/v4/projects/278964/issues/339629/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/339629/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#339629","relative":"#339629","full":"gitlab-org/gitlab#339629"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":92762201,"iid":339621,"project_id":278964,"title":"Fix for CI::Runner.runner_matchers generates cross-database query","description":"## Problem\n\n`CI::Runner.runner_matchers` generates cross-database queries. Queries which join between `ci_*` and non `ci_*` tables which will not be allowed once `ci_*` tables are moved to a new database.\n\n### Example\n\nhttps://gitlab.com/gitlab-org/gitlab/-/jobs/1535681664\n\n```\n196) Ci::PipelineCreation::DropNotRunnableBuildsService#execute with public projects behaves like jobs allowed to run does not drop the jobs\n       Failure/Error:\n         raise CrossJoinAcrossUnsupportedTablesError,\n           \"Unsupported cross-join across '#{tables.join(\", \")}' modifying '#{schemas.to_a.join(\", \")}' discovered \" \\\n           \"when executing query '#{sql}'\"\n\n       Database::PreventCrossJoins::CrossJoinAcrossUnsupportedTablesError:\n         Unsupported cross-join across 'ci_runners, namespaces, ci_runner_projects, taggings, tags, projects, ci_runner_namespaces' modifying 'gitlab_ci, gitlab_main' discovered when executing query 'SELECT array_agg(ci_runners.id), \"ci_runners\".\"runner_type\", \"ci_runners\".\"public_projects_minutes_cost_factor\", \"ci_runners\".\"private_projects_minutes_cost_factor\", \"ci_runners\".\"run_untagged\", \"ci_runners\".\"access_level\", (SELECT COALESCE(array_agg(tags.name ORDER BY name), ARRAY[]::text[]) FROM \"taggings\" INNER JOIN \"tags\" ON \"tags\".\"id\" = \"taggings\".\"tag_id\" WHERE (taggings.taggable_id=\"ci_runners\".id) AND \"taggings\".\"context\" = 'tags' AND \"taggings\".\"taggable_type\" = 'Ci::Runner') FROM ((SELECT \"ci_runners\".* FROM \"ci_runners\" INNER JOIN \"ci_runner_projects\" ON \"ci_runners\".\"id\" = \"ci_runner_projects\".\"runner_id\" WHERE \"ci_runner_projects\".\"project_id\" = 1820)\n         UNION\n         (SELECT \"ci_runners\".* FROM \"ci_runners\" INNER JOIN \"ci_runner_namespaces\" ON \"ci_runner_namespaces\".\"runner_id\" = \"ci_runners\".\"id\" INNER JOIN \"namespaces\" ON \"namespaces\".\"id\" = \"ci_runner_namespaces\".\"namespace_id\" AND \"namespaces\".\"type\" = 'Group' WHERE \"namespaces\".\"id\" IN (WITH RECURSIVE \"base_and_ancestors\" AS ((SELECT \"namespaces\".* FROM \"namespaces\" INNER JOIN \"projects\" ON \"projects\".\"namespace_id\" = \"namespaces\".\"id\" WHERE \"namespaces\".\"type\" = 'Group' AND \"projects\".\"id\" = 1820)\n         UNION\n         (SELECT \"namespaces\".* FROM \"namespaces\", \"base_and_ancestors\" WHERE \"namespaces\".\"type\" = 'Group' AND \"namespaces\".\"id\" = \"base_and_ancestors\".\"parent_id\")) SELECT \"namespaces\".\"id\" FROM \"base_and_ancestors\" AS \"namespaces\"))\n         UNION\n         (SELECT \"ci_runners\".* FROM \"ci_runners\" WHERE \"ci_runners\".\"runner_type\" = 1)) ci_runners WHERE \"ci_runners\".\"active\" = TRUE AND (contacted_at \u003e '2021-08-26 00:18:02.642010') GROUP BY \"ci_runners\".\"runner_type\", \"ci_runners\".\"public_projects_minutes_cost_factor\", \"ci_runners\".\"private_projects_minutes_cost_factor\", \"ci_runners\".\"run_untagged\", \"ci_runners\".\"access_level\", (SELECT COALESCE(array_agg(tags.name ORDER BY name), ARRAY[]::text[]) FROM \"taggings\" INNER JOIN \"tags\" ON \"tags\".\"id\" = \"taggings\".\"tag_id\" WHERE (taggings.taggable_id=\"ci_runners\".id) AND \"taggings\".\"context\" = 'tags' AND \"taggings\".\"taggable_type\" = 'Ci::Runner') /*application:test,correlation_id:ca0f0e2cd486873baf4653267db99102*/'\n       Shared Example Group: \"jobs allowed to run\" called from ./ee/spec/services/ci/pipeline_creation/drop_not_runnable_builds_service_spec.rb:94\n       # ./spec/support/database/prevent_cross_joins.rb:45:in `validate_cross_joins!'\n       # ./spec/support/database/prevent_cross_joins.rb:54:in `block in with_cross_joins_prevented'\n       # ./app/models/ci/runner.rb:211:in `runner_matchers'\n       # ./ee/lib/gitlab/ci/minutes/runners_availability.rb:53:in `block in runner_matchers'\n       # ./lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'\n       # ./ee/lib/gitlab/ci/minutes/runners_availability.rb:52:in `runner_matchers'\n       # ./ee/lib/gitlab/ci/minutes/runners_availability.rb:41:in `block in instance_runners'\n       # ./lib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize'\n       # ./ee/lib/gitlab/ci/minutes/runners_availability.rb:40:in `instance_runners'\n       # ./ee/lib/gitlab/ci/minutes/runners_availability.rb:29:in `matches_instance_runners_and_quota_used_up?'\n       # ./ee/lib/gitlab/ci/minutes/runners_availability.rb:24:in `quota_exceeded?'\n       # ./ee/lib/gitlab/ci/minutes/runners_availability.rb:16:in `available?'\n       # ./ee/app/services/ci/pipeline_creation/drop_not_runnable_builds_service.rb:30:in `block in validate_build_matchers'\n       # ./ee/app/services/ci/pipeline_creation/drop_not_runnable_builds_service.rb:30:in `each'\n       # ./ee/app/services/ci/pipeline_creation/drop_not_runnable_builds_service.rb:30:in `filter_map'\n       # ./ee/app/services/ci/pipeline_creation/drop_not_runnable_builds_service.rb:30:in `validate_build_matchers'\n       # ./ee/app/services/ci/pipeline_creation/drop_not_runnable_builds_service.rb:18:in `execute'\n       # ./ee/spec/services/ci/pipeline_creation/drop_not_runnable_builds_service_spec.rb:30:in `block (3 levels) in \u003ctop (required)\u003e'\n       # ./ee/spec/services/ci/pipeline_creation/drop_not_runnable_builds_service_spec.rb:34:in `block (5 levels) in \u003ctop (required)\u003e'\n       # ./ee/spec/services/ci/pipeline_creation/drop_not_runnable_builds_service_spec.rb:34:in `block (4 levels) in \u003ctop (required)\u003e'\n       # ./spec/spec_helper.rb:390:in `block (3 levels) in \u003ctop (required)\u003e'\n       # ./spec/support/sidekiq_middleware.rb:9:in `with_sidekiq_server_middleware'\n       # ./spec/spec_helper.rb:381:in `block (2 levels) in \u003ctop (required)\u003e'\n       # ./spec/spec_helper.rb:377:in `block (3 levels) in \u003ctop (required)\u003e'\n       # ./lib/gitlab/application_context.rb:31:in `with_raw_context'\n       # ./spec/spec_helper.rb:377:in `block (2 levels) in \u003ctop (required)\u003e'\n       # ./spec/support/database/prevent_cross_joins.rb:85:in `block (3 levels) in \u003ctop (required)\u003e'\n       # ./spec/support/database/prevent_cross_joins.rb:59:in `with_cross_joins_prevented'\n       # ./spec/support/database/prevent_cross_joins.rb:85:in `block (2 levels) in \u003ctop (required)\u003e'\n\n```","state":"closed","created_at":"2021-08-29T22:07:41.066Z","updated_at":"2022-01-24T17:32:46.958Z","closed_at":"2022-01-17T13:59:20.683Z","closed_by":{"id":731181,"username":"mbobin","name":"Marius Bobin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c0a726d6aa37d780309f7b3ea3555a14?s=80\u0026d=identicon","web_url":"https://gitlab.com/mbobin"},"labels":["Category:Continuous Integration","Engineering Allocation","FY22::Q4","OKR","SaaS","Verify::P2","backend","ci-decomposition","ci-decomposition::phase6","devops::verify","group::pipeline execution","missed:14.6","priority::2","reliability","section::ops","severity::2","type::feature","workflow::production"],"milestone":{"id":2156369,"iid":68,"group_id":9970,"title":"14.7","description":"","state":"active","created_at":"2021-07-21T17:39:41.786Z","updated_at":"2021-07-21T17:39:41.786Z","due_date":"2022-01-17","start_date":"2021-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/68"},"assignees":[{"id":731181,"username":"mbobin","name":"Marius Bobin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c0a726d6aa37d780309f7b3ea3555a14?s=80\u0026d=identicon","web_url":"https://gitlab.com/mbobin"}],"author":{"id":2535118,"username":"tkuah","name":"Thong Kuah","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f7b51bdd49a4914d29504d7ff4c3f7b9?s=80\u0026d=identicon","web_url":"https://gitlab.com/tkuah"},"type":"ISSUE","assignee":{"id":731181,"username":"mbobin","name":"Marius Bobin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c0a726d6aa37d780309f7b3ea3555a14?s=80\u0026d=identicon","web_url":"https://gitlab.com/mbobin"},"user_notes_count":19,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/339621","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/339621","notes":"https://gitlab.com/api/v4/projects/278964/issues/339621/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/339621/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#339621","relative":"#339621","full":"gitlab-org/gitlab#339621"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6379,"epic":{"id":309971,"iid":6379,"title":"Decomposition: Make Ops features compatible with Decomposed CI database","url":"/groups/gitlab-org/-/epics/6379","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":92723411,"iid":339606,"project_id":278964,"title":"Internal 500 Error when a request trying to create a fork of project on Gitlab CE","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\n**We are testing Gitlab's rest apis and coming across some internal error. We will appreciate it if you developers\ncould give us a hand and make a better community together. The error is explained as following:**\n\n**After creating a simple project, 500 Internal Error occurs when a request tries to create a fork of the project\nwith a negative number as namespace.**\n\nIt happens to me by API on the latest **Gitlab CE docker image RELEASE_VERSION=14.1.0-ce.0**.\n\nRELATED ENDPOINT:\n\n- **POST /api/v4/projects**\n\n- **GET /api/v4/projects/:id/fork**\n\n\u003c!-- Summarize the bug encountered concisely. --\u003e\n\n### Steps to reproduce\n\n**1. Create a project with Rest API**\n\n`curl -X POST -H \"PRIVATE-TOKEN: \u003cYOUR-TOKEN\u003e\" \"http://host/api/v4/projects?name=projectname\"`\n\n201 Created\n\nIt goes well and returns project id PROJECT_ID.\n\n**2. Create a project fork with Rest API**\n\n`curl -X POST -H \"PRIVATE-TOKEN: 2M1sbH8XTPJyEBJShpuY\" \"http://host/api/v4/projects/\u003cPROJECT_ID\u003e/fork?namespace_id=-1\"\n`\n\nAnd 500 Internal Error occurs.\n\n\u003c!-- Describe how one can reproduce the issue - this is very important. Please use an ordered list. --\u003e\n\n### What is the current *bug* behavior?\n\nreturn \"500 Internal Server Error\"\n\n\u003c!-- Describe what actually happens. --\u003e\n\n### What is the expected *correct* behavior?\n\ncreate a project fork\n\n\u003c!-- Describe what you should see instead. --\u003e\n\n### Relevant logs and/or screenshots\n\n![image](/uploads/f93cf873a6d6d325bf60323e72b9c210/image.png)\n\n\u003c!-- Paste any relevant logs - please use code blocks (```) to format console output, logs, and code\n as it's tough to read otherwise. --\u003e","state":"closed","created_at":"2021-08-28T05:09:16.503Z","updated_at":"2022-11-13T14:05:12.430Z","closed_at":"2022-10-18T16:20:26.730Z","closed_by":{"id":421631,"username":"vyaklushin","name":"Vasilii Iakliushin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/421631/avatar.png","web_url":"https://gitlab.com/vyaklushin"},"labels":["Category:Source Code Management","automation:ml","backend","devops::create","group::source code","section::dev","type::bug","workflow::verification"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":421631,"username":"vyaklushin","name":"Vasilii Iakliushin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/421631/avatar.png","web_url":"https://gitlab.com/vyaklushin"}],"author":{"id":9586049,"username":"StitchWuhula","name":"StitchWuhula","state":"active","avatar_url":"https://secure.gravatar.com/avatar/2402133d1aa8ca08439c75956782deb7?s=80\u0026d=identicon","web_url":"https://gitlab.com/StitchWuhula"},"type":"ISSUE","assignee":{"id":421631,"username":"vyaklushin","name":"Vasilii Iakliushin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/421631/avatar.png","web_url":"https://gitlab.com/vyaklushin"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/339606","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/339606","notes":"https://gitlab.com/api/v4/projects/278964/issues/339606/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/339606/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#339606","relative":"#339606","full":"gitlab-org/gitlab#339606"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":92667052,"iid":339530,"project_id":278964,"title":"Refactor change_head method to avoid using respond_to conditional","description":"Follow up https://gitlab.com/gitlab-org/gitlab/-/merge_requests/68324/diffs#note_654552843:\n\n\u003e\u003e\u003e\nI moved this method to this class in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/65783 but I didn't realize not all `container`s were `ActiveModel`s. I have added to my to do list to remove the `container.errors` call from this method in a follow up. I would like to keep these changes relatively minimal to keep cherry picking (if we decide to do it) automatic and low-risk.\n\u003e\u003e\u003e\n\n## Proposal\n\nRefactor the `Repository#change_head` method and its usages to avoid using a `respond_to?` conditional to set `errors` if it is possible. Maybe we should override `change_head` in `Project` since it's the only model where this error thing is needed at the moment.","state":"closed","created_at":"2021-08-26T22:12:13.953Z","updated_at":"2021-10-28T13:53:01.727Z","closed_at":"2021-09-13T14:30:47.455Z","closed_by":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"labels":["devops::systems","group::geo","maintenance::refactor","section::enablement","type::maintenance"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"}],"author":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"type":"ISSUE","assignee":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/339530","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/339530","notes":"https://gitlab.com/api/v4/projects/278964/issues/339530/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/339530/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#339530","relative":"#339530","full":"gitlab-org/gitlab#339530"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":92662475,"iid":339520,"project_id":278964,"title":"GitLab Migration - Migrate MR reviewers","description":"## Release Notes \n We are continuing to improve and iterate on the GitLab Migration, by adding more metadata to the migrated groups and projects. Before this milestone, only one MR assignee migrated. In this milestone, we added support for multiple MR assignees.  This addition will help users to see their assigned MRs in the migrated projects and groups. \n\n## Problem to solve\n\nWhen merge requests are migrated, the events regarding assigning/unassigning reviewers and approvals are appropriately migrated: \n\n![image](https://gitlab.com/gitlab-org/gitlab/uploads/8daf3225ba3b4e78321266a2eaa8371e/image.png)\n\nHowever, any reviewer assignments are lost.\n\n| Source project (GitLab) | ‚û°Ô∏è | Destination project (GitLab) |\n| ------ | - | ------ |\n| ![image](https://gitlab.com/gitlab-org/gitlab/uploads/cecad372731f5a3a8e5558c553518009/image.png) | ‚û°Ô∏è | ![image](https://gitlab.com/gitlab-org/gitlab/uploads/be049960285971c3e06a8e5fc450df64/image.png) |\n\n\n## Proposed Solution\n\n* All migrated MRs should maintain their assigned reviewers.\n\n## Documentation\n\nFollowing documentation should be updated with the objects/fields added in this issue:\n* [ ] User docs: https://docs.gitlab.com/ee/user/group/import/\n* [ ] Dev docs: https://docs.gitlab.com/ee/development/bulk_import.html\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2021-08-26T20:11:23.146Z","updated_at":"2022-11-30T09:02:33.843Z","closed_at":"2022-09-14T09:34:27.781Z","closed_by":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"labels":["Category:Importers","GitLab Core","Importer:GitLab Migration","Importer:Project Export/Import","Next Up","backend","devops::manage","direction","estimation::completed","group::import","milestone::p3","quad-planning::complete-action","release post item::in review","section::dev","type::feature","workflow::production"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"}],"author":{"id":5247073,"username":"hdelalic","name":"Haris Delaliƒá","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5247073/avatar.png","web_url":"https://gitlab.com/hdelalic"},"type":"ISSUE","assignee":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"user_notes_count":13,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/339520","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/339520","notes":"https://gitlab.com/api/v4/projects/278964/issues/339520/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/339520/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#339520","relative":"#339520","full":"gitlab-org/gitlab#339520"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4618,"epic":{"id":126563,"iid":4618,"title":"GitLab Migration - Projects Phase 2","url":"/groups/gitlab-org/-/epics/4618","group_id":9970,"human_readable_end_date":"Oct 30, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":92661750,"iid":339517,"project_id":278964,"title":"Add constraint to upvotes_count on merge_requests table","description":"We should add a constraint or validation to `upvotes_count` on the merge_requests table to make sure it doesn't get set to a negative number\n\nThe following discussion from !67343 should be addressed:\n\n- [ ] @morefice started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/67343#note_659661423):  (+2 comments)\n\n    \u003e **question:** This means `upvotes_count` cannot be negative right?","state":"closed","created_at":"2021-08-26T19:48:07.798Z","updated_at":"2022-05-30T16:30:21.375Z","closed_at":"2021-09-21T13:26:02.288Z","closed_by":{"id":5708766,"username":"terrichu","name":"Terri Chu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5708766/avatar.png","web_url":"https://gitlab.com/terrichu"},"labels":["Category:Global Search","[deprecated] Accepting merge requests","auto updated","backend","devops::data_stores","group::global search","section::enablement","type::maintenance"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[],"author":{"id":5708766,"username":"terrichu","name":"Terri Chu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5708766/avatar.png","web_url":"https://gitlab.com/terrichu"},"type":"ISSUE","assignee":null,"user_notes_count":5,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/339517","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/339517","notes":"https://gitlab.com/api/v4/projects/278964/issues/339517/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/339517/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#339517","relative":"#339517","full":"gitlab-org/gitlab#339517"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":92660603,"iid":339516,"project_id":278964,"title":"Sign in page \u003e Broadcast message is clipped when using header","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nWhen a user adds a Header within `Admin \u003e Settings \u003e Appearance`, as well as a `Broadcast message`, the broadcast message will the clipped on the sign in page.\n\n### Steps to reproduce\n\n1. Add a Header within the Admin area \n1. Create a broadcast message\n1. Log out and view the sign in screen\n\n### What is the current *bug* behavior?\n\nThe broadcast message is clipped\n\n### What is the expected *correct* behavior?\n\nThe broadcast message should be fully visible\n\n### Relevant logs and/or screenshots\n\n![Screen_Shot_2021-08-26_at_12.12.20_PM](/uploads/0bfe548663d880cb88596813255d9d86/Screen_Shot_2021-08-26_at_12.12.20_PM.png)\n\n## Implementation plan\n\n1. Add the below to [app/assets/stylesheets/pages/login.scss#L214](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/assets/stylesheets/pages/login.scss#L214)\n\n```scss\n\u0026.with-system-header {\n  .login-page-broadcast {\n    margin-top: $system-header-height + $header-height;\n  }\n}\n```\n\n2. Regenerate startup css","state":"closed","created_at":"2021-08-26T19:17:07.978Z","updated_at":"2021-10-06T22:43:26.902Z","closed_at":"2021-09-30T19:39:58.636Z","closed_by":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"labels":["Category:Authentication and Authorization","FY22::Q3","candidate::14.4","customer","devops::manage","frontend","group::authentication and authorization","priority::3","section::dev","type::bug","workflow::production"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"}],"author":{"id":516904,"username":"tauriedavis","name":"Taurie Davis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/516904/avatar.png","web_url":"https://gitlab.com/tauriedavis"},"type":"ISSUE","assignee":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"user_notes_count":7,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/339516","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/339516","notes":"https://gitlab.com/api/v4/projects/278964/issues/339516/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/339516/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#339516","relative":"#339516","full":"gitlab-org/gitlab#339516"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":92656219,"iid":339511,"project_id":278964,"title":"[Feature flag] Rollout of `cache_merge_to_ref_calls`","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout https://gitlab.com/gitlab-org/gitlab/-/issues/337450 on production,\nthat is currently behind the `cache-merge_to_ref-calls` feature flag.\n\nhttps://gitlab.com/gitlab-org/gitlab/-/merge_requests/67789\n\n## Owners\n\n- Team: ~\"group::code review\" \n- #g_code_review\n- Best individual to reach out to: @kerrizor \n- PM: @phikai \n\n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## The Rollout Plan\n\n- Partial Rollout on GitLab.com with testing groups\n- Rollout on GitLab.com for a certain period (How long)\n- Percentage Rollout on GitLab.com\n- Rollout Feature for everyone as soon as it's ready\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? Sentry errors reports can also be useful to review --\u003e\n\n## Testing Groups/Projects/Users\n\n\u003c!-- If applicable, any groups/projects that are happy to have this feature turned on early. Some organizations may wish to test big changes they are interested in with a small subset of users ahead of time for example. --\u003e\n\n- `gitlab-org/gitlab` project\n- `gitlab-org/gitlab-foss` project\n- `gitlab-com/www-gitlab-com` project\n- `gitlab-org`/`gitlab-com` groups\n- ...\n\n\n## Expectations\n\n### What are we expecting to happen?\n\n\u003c!-- Describe the expected outcome when rolling out this feature --\u003e\n\n### What might happen if this goes wrong?\n\n\u003c!-- Should the feature flag be turned off? Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- [x] Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Enable the feature globally on non-production environments.\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e true --dev`\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e true --staging`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Preparation before production rollout\n\n- [x] Ensure that the feature MRs have been deployed to both production and canary.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [x] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [x] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [x] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com.\n- [x] If the feature might impact the user experience, notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nAll `/chatops` commands that target production should be done in the `#production` slack channel for visibility.\n\n- [x] Confirm the feature flag is enabled on `staging` without incident\n- [x] Roll out the feature to targeted testing projects/groups first\n    - [x] `/chatops run feature set --project=gitlab-org/gitlab \u003cfeature-flag-name\u003e true`\n    - [x] `/chatops run feature set --project=gitlab-org/gitlab-foss \u003cfeature-flag-name\u003e true`\n    - [x] `/chatops run feature set --project=gitlab-com/www-gitlab-com \u003cfeature-flag-name\u003e true`\n\n- [x] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e`\n- [x] Verify the change has the desired outcome with the limited rollout before enabling the feature globally on production.\n- [x] Enable the feature globally on production environment. `/chatops run feature set \u003cfeature-flag-name\u003e true`\n- [ ] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [ ] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [ ] Create a merge request with the following changes. Ask for review and merge it.\n    - [ ] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the default-enabling MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-default-enabling-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [x] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [ ] (Optional) You can create a separate issue for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [x] Set the title to \"[Feature flag] Cleanup `\u003cfeature-flag-name\u003e`\".\n    - [x] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [x] Link this rollout issue as a related issue.\n    - [x] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [x] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag. Ask for review and merge it.\n    - [x] Remove all references to the feature flag from the codebase.\n    - [x] Remove the YAML definitions for the feature from the repository.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [x] Ensure that the cleanup MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-cleanup-mr\u003e`\n- [x] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [x] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [x] `/chatops run feature delete \u003cfeature-flag-name\u003e --dev`\n    - [x] `/chatops run feature delete \u003cfeature-flag-name\u003e --staging`\n    - [x] `/chatops run feature delete \u003cfeature-flag-name\u003e`\n- [x] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set \u003cfeature-flag-name\u003e false\n```","state":"closed","created_at":"2021-08-26T17:37:29.123Z","updated_at":"2021-09-13T14:35:47.867Z","closed_at":"2021-09-13T14:35:47.845Z","closed_by":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"labels":["auto updated","feature flag","missed:14.2"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"}],"author":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"type":"ISSUE","assignee":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/339511","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":50,"completed_count":39},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"39 of 50 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/339511","notes":"https://gitlab.com/api/v4/projects/278964/issues/339511/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/339511/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#339511","relative":"#339511","full":"gitlab-org/gitlab#339511"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":92655986,"iid":339509,"project_id":278964,"title":"Replace \"Enforcement Status\" with \"Status\"","description":"\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\nThe following discussion from !68806 should be addressed:\n\n- [ ] @jiaan started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/68806#note_662075618):  (+1 comment)\n\n    \u003e **Question:** This is more of a ~\"Technical Writing\" question, but overall there is a shift towards using [sentence case](https://docs.gitlab.com/ee/development/documentation/styleguide/#headings) so are we sure this should be changed to title case? :thinking:\n\n### Implementation\n - [x] ~frontend rename all instances of `Enforcement Status` to `Status` and reuse them from a single constant","state":"closed","created_at":"2021-08-26T17:29:54.964Z","updated_at":"2021-11-18T07:03:12.988Z","closed_at":"2021-10-22T22:41:55.518Z","closed_by":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"labels":["Deliverable","auto updated","devops::govern","direction","frontend","frontend-weight::2","good for new contributors","group::security policies","missed:14.4","section::sec","workflow::verification"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"}],"author":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"type":"ISSUE","assignee":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/339509","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":1},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/339509","notes":"https://gitlab.com/api/v4/projects/278964/issues/339509/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/339509/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#339509","relative":"#339509","full":"gitlab-org/gitlab#339509"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6611,"epic":{"id":332582,"iid":6611,"title":"Follow-on Improvements for the Security Policy Editor","url":"/groups/gitlab-org/-/epics/6611","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":92655255,"iid":339508,"project_id":278964,"title":"VSA report calculating cycle time incorrectly","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\n\u003c!-- Summarize the bug encountered concisely. --\u003e\n\nThe cycle time on the VSA report is being calculated based on the timestamp of the most recent commit instead of the timestamp first (oldest) commit. This is likely resulting in a significantly lower cycle time than reality within the VSA report. [Internal Slack thread](https://gitlab.slack.com/archives/CJZR6KPB4/p1629993319003200)\n\n### Steps to reproduce\n\n\u003c!-- Describe how one can reproduce the issue - this is very important. Please use an ordered list. --\u003e\n\n1. This issue (https://gitlab.com/gitlab-org/secure/gsoc-sast-vulnerability-rules/playground/sast-rules/-/issues/18) was created on `2021-08-11 4:28am EDT`. The MR was created on `2021-08-11 11:03am EDT`. The MR was merged on `2021-08-13 8:51am EDT`. The first commit pushed up was on `2021-08-11 11:21am EDT`. \n1. The cycle time for this issue shows `\u003c 1s` because of this commit https://gitlab.com/gitlab-org/secure/gsoc-sast-vulnerability-rules/playground/sast-rules/-/commit/9ce6ebee55efcaa4ff8fc5dc6ae7aaac84204f51, which automatically closed the issue. This is not the right commit to use for calculating the cycle time. \n\n### Example Project\n\n\u003c!-- If possible, please create an example project here on GitLab.com that exhibits the problematic \nbehavior, and link to it here in the bug report. If you are using an older version of GitLab, this \nwill also determine whether the bug is fixed in a more recent version. --\u003e\n\nThis impacts all Groups and Projects likely. See \"Steps To Reproduce\" for specific links. \n\n### What is the current *bug* behavior?\n\n\u003c!-- Describe what actually happens. --\u003e\n\nThe cycle time is not calculated correctly. \n\n### What is the expected *correct* behavior?\n\nThe cycle time is calculated by the MR creation date. If there is an earlier commit that can be associated to an issue, for example via relating a branch to an issue before an MR is opened, we should use this timestamp. In any event, it should always be calculated by the earliest possible timestamp related to any indicator that work on an issue has started. \n\n\u003c!-- Describe what you should see instead. --\u003e\n\n### Relevant logs and/or screenshots\n\n\u003c!-- Paste any relevant logs - please use code blocks (```) to format console output, logs, and code\n as it's tough to read otherwise. --\u003e\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\nWe need to fix the code which sets the `first_mentioned_in_commit_at`: https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/services/issues/close_service.rb#L89\n\nLet's use the authored date from the MR diff commits table. For the existing records, we can create a BG migration. Issue metrics records are possibly affected from `2020-02-19`.\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e\n\nWhenever we store the first_commit date, we look at the most recent commit. Instead of that, we should look at the oldest commit.","state":"closed","created_at":"2021-08-26T17:10:56.328Z","updated_at":"2021-10-12T07:48:13.302Z","closed_at":"2021-10-12T07:46:52.774Z","closed_by":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"labels":["backend","devops::manage","group::optimize","priority::3","section::dev","severity::3","type::bug","workflow::production"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"}],"author":{"id":4303289,"username":"gweaver","name":"Gabe Weaver","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4303289/avatar.png","web_url":"https://gitlab.com/gweaver"},"type":"ISSUE","assignee":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"user_notes_count":8,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/339508","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/339508","notes":"https://gitlab.com/api/v4/projects/278964/issues/339508/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/339508/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#339508","relative":"#339508","full":"gitlab-org/gitlab#339508"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":92654875,"iid":339507,"project_id":278964,"title":"Determine if manual Vulnerability creation mutation should respect security scanners schema","description":"### Question\n\nShould [`Mutations::Vulnerabilities::Create`](https://gitlab.com/gitlab-org/gitlab/blob/2c314d78cbdc1b97ed194e0244040f8d0b6d615c/ee/app/graphql/mutations/vulnerabilities/create.rb) respect [security scanner schema](https://gitlab.com/gitlab-org/security-products/security-report-schemas/-/blob/161081ffe01069fd57c38345aec81f7ac912565d/src/security-report-format.json#L355)?\n\n### Current state\n\nCurrently our mutation arguments deviate from the schema in some places (thanks @bwill for pointing those out)\n\n1. A vulnerability has a `name` and not a `title`. Looking at the [model](https://gitlab.com/gitlab-org/gitlab/-/blob/5526b946b8c81df83f867ee9f1204b555dbc18c6/ee/app/models/ee/vulnerability.rb), I can see that there is both a name and a title, but I'm not sure how the title normally gets set. The [report parser](https://gitlab.com/gitlab-org/gitlab/-/blob/5526b946b8c81df83f867ee9f1204b555dbc18c6/lib/gitlab/ci/parsers/security/common.rb) does not seem to be responsible for doing it.\n1. On the security report, an identifier looks like this:\n\n   ```json\n   {\n     \"type\": \"cve\",\n     \"name\": \"CVE-2019-20367\",\n     \"value\": \"CVE-2019-20367\",\n     \"url\": \"https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-20367\"\n   }\n   ```\n\n   and the identifier is created from these fields like this:\n\n   ```ruby\n   ::Gitlab::Ci::Reports::Security::Identifier.new(\n     external_type: identifier['type'],\n     external_id: identifier['value'],\n     name: identifier['name'],\n     url: identifier['url'])\n   ```\n\n   This is quite different from how `ManuallyCreateService` works. It derives the type from the name (despite there being an `externalType` field), and it also uses the name as the `external_id` (despite there being an `externalId` field).\n1. The way that the scanner data is collected is similarly inconsistent. `vulnerabilityCreate` has a top-level `scannerName` field, which [is used as both the scanner name and the external_id](https://gitlab.com/gitlab-org/gitlab/-/blob/5526b946b8c81df83f867ee9f1204b555dbc18c6/ee/app/services/vulnerabilities/manually_create_service.rb#L129).\n\n   Whereas, on the security report, the scanner data is collected using this data in a field named `.scan.scanner`:\n\n   ```json\n   \"scanner\": {\n     \"id\": \"starboard_trivy\",\n     \"name\": \"Trivy (via Starboard Operator)\",\n     \"url\": \"https://github.com/aquasecurity/trivy\",\n     \"vendor\": {\n       \"name\": \"GitLab\"\n     },\n     \"version\": \"0.15.0\"\n   }\n   ```\n\n### Implementation plan\n\n* [ ] ~backend extend `ManuallyCreateService` to use `external_type` and `external_id` if provided\n* [ ] ~backend implement `VulnerabilityScannerInputType`\n* [ ] ~backend implement `VulnerabilityScannerVendorInputType`","state":"closed","created_at":"2021-08-26T17:01:35.698Z","updated_at":"2021-10-28T13:53:04.068Z","closed_at":"2021-10-14T11:56:57.423Z","closed_by":{"id":487608,"username":"Quintasan","name":"Micha≈Ç ZajƒÖc","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/487608/avatar.png","web_url":"https://gitlab.com/Quintasan"},"labels":["Category:Vulnerability Management","auto updated","devops::secure","group::threat insights","section::sec","type::maintenance","workflow::verification"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":487608,"username":"Quintasan","name":"Micha≈Ç ZajƒÖc","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/487608/avatar.png","web_url":"https://gitlab.com/Quintasan"}],"author":{"id":487608,"username":"Quintasan","name":"Micha≈Ç ZajƒÖc","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/487608/avatar.png","web_url":"https://gitlab.com/Quintasan"},"type":"ISSUE","assignee":{"id":487608,"username":"Quintasan","name":"Micha≈Ç ZajƒÖc","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/487608/avatar.png","web_url":"https://gitlab.com/Quintasan"},"user_notes_count":22,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/339507","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/339507","notes":"https://gitlab.com/api/v4/projects/278964/issues/339507/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/339507/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#339507","relative":"#339507","full":"gitlab-org/gitlab#339507"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":92653443,"iid":339499,"project_id":278964,"title":"Address require-string-literal-i18n-helpers offenses in app/assets/javascripts/packages_and_registries/package_registry/components/details/package_history.vue","description":"\nAddress `require-string-literal-i18n-helpers` offenses in `app/assets/javascripts/packages_and_registries/package_registry/components/details/package_history.vue`.\n`__`'s only argument and `s__`'s and `n__`'s first two arguments should only ever be\nstring-literals.\n\n- [ ] Re-enabled `require-string-literal-i18n-helpers` rule in the file.\n- [ ] Addressed all offenses.","state":"closed","created_at":"2021-08-26T16:26:39.529Z","updated_at":"2021-10-28T21:18:19.895Z","closed_at":"2021-10-15T08:53:35.351Z","closed_by":{"id":5223956,"username":"imrishabh18","name":"Rishabh Gupta","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5223956/avatar.png","web_url":"https://gitlab.com/imrishabh18"},"labels":["Category:Internationalization","devops::manage","frontend","group::import","section::dev","type::maintenance","workflow::production"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":5223956,"username":"imrishabh18","name":"Rishabh Gupta","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5223956/avatar.png","web_url":"https://gitlab.com/imrishabh18"}],"author":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"type":"ISSUE","assignee":{"id":5223956,"username":"imrishabh18","name":"Rishabh Gupta","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5223956/avatar.png","web_url":"https://gitlab.com/imrishabh18"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/339499","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/339499","notes":"https://gitlab.com/api/v4/projects/278964/issues/339499/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/339499/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#339499","relative":"#339499","full":"gitlab-org/gitlab#339499"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6624,"epic":{"id":333198,"iid":6624,"title":"Fix require-string-literal-i18n-helpers offenses","url":"/groups/gitlab-org/-/epics/6624","group_id":9970,"human_readable_end_date":"Nov 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null}]