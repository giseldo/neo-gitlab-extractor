[{"id":108793764,"iid":362895,"project_id":278964,"title":"Duration for `type: stacked-bar` on Insight pages is not adjustable by UI","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"type::bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=type::bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\n\u003c!-- Summarize the bug encountered concisely. --\u003e\nNot like `type: bar` and `type: line`, durations for `type: stacked-bar` on Insight pages are not adjustable by UI.  \nAn Ultimate customer reported this: https://gitlab.my.salesforce.com/0014M00001wX5OM (Internal only)\n\n### Steps to reproduce\n\n\u003c!-- Describe how one can reproduce the issue - this is very important. Please use an ordered list. --\u003e\n1. Put the `.gitlab/insights.yml` in a GitLab project and then visit \"Analytics \u003e Insights\"\n1. Try to drag :pig_nose: for \"Issues closed per month - Stacked Bar\"\n\n```yaml\nissues:\n  title: Issue Dashboard\n  charts:\n    - title: Issues closed per month - Bar\n      type: bar\n      query:\n        issuable_type: issue\n        issuable_state: closed\n        group_by: month\n    - title: Issues closed per month - Line\n      type: line\n      query:\n        issuable_type: issue\n        issuable_state: closed\n        group_by: month\n        collection_labels:\n          - P::1\n          - P::2\n          - P::3\n          - P::4\n    - title: Issues closed per month - Stacked Bar\n      type: stacked-bar\n      query:\n        issuable_type: issue\n        issuable_state: closed\n        group_by: month\n        collection_labels:\n          - P::1\n          - P::2\n          - P::3\n          - P::4\n```\n\n### Example Project\n\n\u003c!-- If possible, please create an example project here on GitLab.com that exhibits the problematic \nbehavior, and link to it here in the bug report. If you are using an older version of GitLab, this \nwill also determine whether the bug is fixed in a more recent version. --\u003e\n\n### What is the current *bug* behavior?\n\n\u003c!-- Describe what actually happens. --\u003e\n:pig_nose: can't be draggable.\n\n### What is the expected *correct* behavior?\n\n\u003c!-- Describe what you should see instead. --\u003e\n\n:pig_nose: should be draggable.\n\n### Relevant logs and/or screenshots\n\n\u003c!-- Paste any relevant logs - please use code blocks (```) to format console output, logs, and code\n as it's tough to read otherwise. --\u003e\n![image](/uploads/e93d6ea6e719537f9c769ff2cbdb3f0c/image.png)\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\nGitLab.com (GitLab Enterprise Edition 15.0.0-pre a81a1e8bf2e)\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e","state":"closed","created_at":"2022-05-19T08:40:04.948Z","updated_at":"2022-07-21T04:53:18.674Z","closed_at":"2022-06-28T07:06:44.250Z","closed_by":{"id":5535246,"username":"svedova","name":"Savas Vedova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535246/avatar.png","web_url":"https://gitlab.com/svedova"},"labels":["[deprecated] Accepting merge requests","devops::manage","group::optimize","priority::3","section::dev","type::bug","workflow::ready for development"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[],"author":{"id":6113071,"username":"toshitakaito","name":"Toshitaka Ito","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6113071/avatar.png","web_url":"https://gitlab.com/toshitakaito"},"type":"ISSUE","assignee":null,"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362895","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362895","notes":"https://gitlab.com/api/v4/projects/278964/issues/362895/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362895/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362895","relative":"#362895","full":"gitlab-org/gitlab#362895"},"severity":"UNKNOWN","moved_to_id":110811678,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108791283,"iid":362891,"project_id":278964,"title":"Ambiguous match on  \"[data-qa-selector=\"invite_members_button\"] on groups and projects members page","description":"In, https://gitlab.com/gitlab-org/gitlab/-/merge_requests/70451, **Invite Members** side nav was introduced as an experiment.\n\nThis has introduced multiple elements on group_members and project_members pages with `data-qa-selector=\"invite_members_button\"]` resulting in [end-to-end tests failing](https://ops.gitlab.net/gitlab-org/quality/staging/-/jobs/7126773) with:\n\n```\nCapybara::Ambiguous:\n       Ambiguous match, found 2 elements matching visible css \"[data-qa-selector=\\\"invite_members_button\\\"],.qa-invite-members-button\"\n```\n\nExample group_members page on staging: https://staging.gitlab.com/groups/gitlab-qa-sandbox-group-1/-/group_members\n\nCurrently, this failure is only observed while testing on staging with newly created top level groups. \n\n\n![Screenshot_2022-05-19_at_12.56.37_PM](/uploads/f2b96703e46ef89d2325554f7fec3a10/Screenshot_2022-05-19_at_12.56.37_PM.png)\n\nIdeally, the new sidebar nav item should follow the same pattern for `data-qa-selector` as the other sidebar nav items [set in this line](https://gitlab.com/gitlab-org/gitlab/blob/288152a78d932afba940f062f5e02f05f5b22ed7/app/views/shared/nav/_sidebar_menu.html.haml#L5):\n\n```ruby\n    = link_to sidebar_menu.link, **sidebar_menu.link_html_options, data: { qa_selector: 'sidebar_menu_link', qa_menu_item: sidebar_menu.title } do\n```\n\nThis is a blocker for https://gitlab.com/gitlab-org/quality/team-tasks/-/issues/1315","state":"closed","created_at":"2022-05-19T08:04:46.231Z","updated_at":"2022-05-24T13:47:18.244Z","closed_at":"2022-05-24T13:47:18.201Z","closed_by":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"labels":["QA","Quality","devops::growth","group::acquisition","section::growth","severity::3","type::bug","workflow::in review"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"}],"author":{"id":2632430,"username":"sliaquat","name":"Sanad Liaquat","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2632430/avatar.png","web_url":"https://gitlab.com/sliaquat"},"type":"ISSUE","assignee":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362891","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362891","notes":"https://gitlab.com/api/v4/projects/278964/issues/362891/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362891/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362891","relative":"#362891","full":"gitlab-org/gitlab#362891"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108790603,"iid":362889,"project_id":278964,"title":"Use correct time frame for metrics definitions","description":"Related https://gitlab.com/gitlab-data/analytics/-/issues/10163#note_949531969\n\n| METRIC_PATH |\n|-------------|\n| counts.groups_gitlab_slack_application_active |\n| counts.groups_inheriting_gitlab_slack_application_active |\n| counts.instances_gitlab_slack_application_active |\n| counts.projects_gitlab_slack_application_active |\n| counts.projects_inheriting_gitlab_slack_application_active |\n\nCheck the metrics definitions time frame and the code implementing the metrics.\n\nThe metric definition must reflect the correct time frame that we have in the implementation\n\nMetrics added [here](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/usage_data.rb#L370)\n\n### Testing\n\nUpdate relevant unit test. QA pipeline must be passing.","state":"closed","created_at":"2022-05-19T07:53:11.726Z","updated_at":"2022-06-03T13:28:02.939Z","closed_at":"2022-06-03T13:28:02.810Z","closed_by":{"id":8013274,"username":"pskorupa","name":"Piotr Skorupa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8013274/avatar.png","web_url":"https://gitlab.com/pskorupa"},"labels":["Data Warehouse::Impact Check","backend","devops::growth","feature::consolidation","group::product intelligence","quad-planning::complete-action","section::growth","type::feature","workflow::verification"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":8013274,"username":"pskorupa","name":"Piotr Skorupa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8013274/avatar.png","web_url":"https://gitlab.com/pskorupa"}],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":{"id":8013274,"username":"pskorupa","name":"Piotr Skorupa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8013274/avatar.png","web_url":"https://gitlab.com/pskorupa"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362889","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362889","notes":"https://gitlab.com/api/v4/projects/278964/issues/362889/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362889/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362889","relative":"#362889","full":"gitlab-org/gitlab#362889"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7451,"epic":{"id":428291,"iid":7451,"title":"Fix broken queries for Service Ping Automation in DWH","url":"/groups/gitlab-org/-/epics/7451","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":108790446,"iid":362886,"project_id":278964,"title":"Fix broken generated query for manage.omniauth_providers","description":"Related https://gitlab.com/gitlab-data/analytics/-/issues/10163#note_950142104\n\nBroken queries for metrics: \n\n- [`usage_activity_by_stage_monthly.manage.omniauth_providers`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/config/metrics/counts_28d/20210216183627_omniauth_providers.yml)\n- [`usage_activity_by_stage.manage.omniauth_providers`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/config/metrics/counts_all/20210216183400_omniauth_providers.yml)\n\nExample response from API from local development env:\n\n```\n      \"omniauth_providers\": [\n        \"google_oauth2\"\n      ],\n```\n\nThese metrics have an array response, not a number, the type should be corrected in metrics file definitions.\n\nThere is a similar case for [`collected_data_categories`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/config/metrics/settings/20210702140138_collected_data_categories.yml).  This metric is an array of strings, and we marked it as tye: object with a [related JSON schema](https://gitlab.com/gitlab-org/gitlab/-/blob/master/config/metrics/objects_schemas/collected_data_categories_schema.json). \n\nImplementation: https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/usage_data.rb#L536\n\n```\n omniauth_providers: filtered_omniauth_provider_names.reject { |name| name == 'group_saml' },\n\n      def filtered_omniauth_provider_names\n        omniauth_provider_names.reject { |name| name.starts_with?('ldap') }\n      end\n```\n\n### Testing\n\nUpdate relevant unit test. QA pipelines must be passing.","state":"closed","created_at":"2022-05-19T07:50:59.145Z","updated_at":"2022-06-02T03:16:32.716Z","closed_at":"2022-06-01T08:06:54.068Z","closed_by":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"labels":["backend","devops::growth","feature::consolidation","group::product intelligence","quad-planning::complete-action","section::growth","type::feature","workflow::production"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"}],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362886","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362886","notes":"https://gitlab.com/api/v4/projects/278964/issues/362886/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362886/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362886","relative":"#362886","full":"gitlab-org/gitlab#362886"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7451,"epic":{"id":428291,"iid":7451,"title":"Fix broken queries for Service Ping Automation in DWH","url":"/groups/gitlab-org/-/epics/7451","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":108779752,"iid":362871,"project_id":278964,"title":"Improper rendering of text on safari","description":"\nWebIDE rendering on safari is very bad.\nThis I have seen many times. It is also reproducible.\nPlease fix this asap.![Screenshot_2022-05-19_at_9.10.41_AM](/uploads/84c22d3056f8bb850ba7543636f16ad8/Screenshot_2022-05-19_at_9.10.41_AM.png)","state":"closed","created_at":"2022-05-19T03:46:32.690Z","updated_at":"2022-06-06T10:23:28.067Z","closed_at":"2022-06-06T10:23:28.061Z","closed_by":{"id":1646689,"username":"oregand","name":"David O'Regan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1646689/avatar.png","web_url":"https://gitlab.com/oregand"},"labels":["Category:Web IDE","SUS::Impacting","UX","automation:ml","automation:ml wrong","devops::create","group::editor","priority::2","section::dev","severity::2","type::bug"],"milestone":null,"assignees":[],"author":{"id":6458028,"username":"ajaykumar2","name":"Ajay Kumar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c6d4b9e2d2167f4f8957901bc791beac?s=80\u0026d=identicon","web_url":"https://gitlab.com/ajaykumar2"},"type":"ISSUE","assignee":null,"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362871","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362871","notes":"https://gitlab.com/api/v4/projects/278964/issues/362871/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362871/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362871","relative":"#362871","full":"gitlab-org/gitlab#362871"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108778002,"iid":362861,"project_id":278964,"title":"Hierarchy widget - Remove task child from work item","description":"- Expand component created in https://gitlab.com/gitlab-org/gitlab/-/issues/362852 to delete a child task from work item\n\n![Remove_child_flow](/uploads/60bd6ad25a71233330db09d3abfd7af7/Remove_child_flow.png)\n\nWhen removing the item, it will only remove the relationship and not the item itself.\n\nDesign epic of the component for reference: https://gitlab.com/groups/gitlab-org/-/epics/7063","state":"closed","created_at":"2022-05-19T02:10:21.119Z","updated_at":"2022-11-04T18:14:34.776Z","closed_at":"2022-08-01T09:15:03.452Z","closed_by":{"id":3236898,"username":"rajatgitlab","name":"Rajat Jain","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3236898/avatar.png","web_url":"https://gitlab.com/rajatgitlab"},"labels":["Deliverable","devops::plan","frontend","group::product planning","missed-deliverable","missed:15.2","section::dev","type::feature","workflow::verification"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":3236898,"username":"rajatgitlab","name":"Rajat Jain","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3236898/avatar.png","web_url":"https://gitlab.com/rajatgitlab"}],"author":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"type":"ISSUE","assignee":{"id":3236898,"username":"rajatgitlab","name":"Rajat Jain","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3236898/avatar.png","web_url":"https://gitlab.com/rajatgitlab"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362861","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362861","notes":"https://gitlab.com/api/v4/projects/278964/issues/362861/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362861/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362861","relative":"#362861","full":"gitlab-org/gitlab#362861"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8280,"epic":{"id":549868,"iid":8280,"title":"MVC 2 -  Complete CRUD flow for Tasks in Hierarchy Widget","url":"/groups/gitlab-org/-/epics/8280","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":108777921,"iid":362860,"project_id":278964,"title":"Hierarchy widget - Search and add existing task as work item child","description":"- Expand component created in https://gitlab.com/gitlab-org/gitlab/-/issues/362852 to search existing tasks and add one as child\n\n![Add_existing_flow](/uploads/262b0786a171db17d69c078144a929e4/Add_existing_flow.png)\n\nNOTE: If the Task has an existing parent, that parent should removed when a Task is added as a child of this Issue. We will not support multiple parents at this time.\n\nDesign epic of the component for reference: https://gitlab.com/groups/gitlab-org/-/epics/7063\n\nMore UX details: https://gitlab.com/gitlab-org/gitlab/-/issues/363452/\n\n### Implementation thoughts\n\nRefer to the spike MR for exploratory work: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/87191\n\n- The search field should be similar to [GlFormCombox](https://gitlab-org.gitlab.io/gitlab-ui/?path=/story/base-form-form-combobox--default) from `gitlab-ui`.\n- It needs to display more information in the dropdown items (work item ID) and have extra option at the bottom to create a new task.\n- It may need to support Object as a value.","state":"closed","created_at":"2022-05-19T02:04:06.557Z","updated_at":"2022-07-21T12:00:53.165Z","closed_at":"2022-07-19T01:21:28.192Z","closed_by":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"labels":["Deliverable","devops::plan","frontend","group::product planning","section::dev","type::feature","workflow::production"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"}],"author":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"type":"ISSUE","assignee":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362860","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362860","notes":"https://gitlab.com/api/v4/projects/278964/issues/362860/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362860/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362860","relative":"#362860","full":"gitlab-org/gitlab#362860"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8280,"epic":{"id":549868,"iid":8280,"title":"MVC 2 -  Complete CRUD flow for Tasks in Hierarchy Widget","url":"/groups/gitlab-org/-/epics/8280","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":108777633,"iid":362856,"project_id":278964,"title":"Hierarchy widget - Create child task","description":" - Expand component created in https://gitlab.com/gitlab-org/gitlab/-/issues/362852 to create a child task in work item\n\n![Add_new_child_flow](/uploads/bb0e42550d33e327bec6946ca0b5786f/Add_new_child_flow.png)\n\nDesign epic of the component for reference: https://gitlab.com/groups/gitlab-org/-/epics/7063\n\nMore UX details: https://gitlab.com/gitlab-org/gitlab/-/issues/363451/","state":"closed","created_at":"2022-05-19T01:49:17.579Z","updated_at":"2022-08-21T12:00:48.954Z","closed_at":"2022-08-02T20:31:13.274Z","closed_by":{"id":5709669,"username":"mushakov","name":"Melissa Ushakov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5709669/avatar.png","web_url":"https://gitlab.com/mushakov"},"labels":["Deliverable","devops::plan","frontend","group::product planning","missed-deliverable","missed:15.2","section::dev","type::feature","workflow::in dev"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"}],"author":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"type":"ISSUE","assignee":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362856","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362856","notes":"https://gitlab.com/api/v4/projects/278964/issues/362856/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362856/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362856","relative":"#362856","full":"gitlab-org/gitlab#362856"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8280,"epic":{"id":549868,"iid":8280,"title":"MVC 2 -  Complete CRUD flow for Tasks in Hierarchy Widget","url":"/groups/gitlab-org/-/epics/8280","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":108777355,"iid":362853,"project_id":278964,"title":"Hierarchy widget - List children","description":"- Expand component created in https://gitlab.com/gitlab-org/gitlab/-/issues/362852 to list children of Work Item\n\n![larger](/uploads/c46280ec122690374af79324b4292c93/larger.png)\n\nDesign epic of the component for reference: https://gitlab.com/groups/gitlab-org/-/epics/7063\n\nMore UX details: https://gitlab.com/gitlab-org/gitlab/-/issues/363464/","state":"closed","created_at":"2022-05-19T01:33:45.928Z","updated_at":"2022-07-21T12:00:53.230Z","closed_at":"2022-06-29T05:31:23.203Z","closed_by":{"id":3236898,"username":"rajatgitlab","name":"Rajat Jain","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3236898/avatar.png","web_url":"https://gitlab.com/rajatgitlab"},"labels":["Deliverable","devops::plan","frontend","group::product planning","missed-deliverable","missed:15.1","section::dev","type::feature","workflow::verification"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":3236898,"username":"rajatgitlab","name":"Rajat Jain","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3236898/avatar.png","web_url":"https://gitlab.com/rajatgitlab"}],"author":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"type":"ISSUE","assignee":{"id":3236898,"username":"rajatgitlab","name":"Rajat Jain","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3236898/avatar.png","web_url":"https://gitlab.com/rajatgitlab"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362853","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362853","notes":"https://gitlab.com/api/v4/projects/278964/issues/362853/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362853/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362853","relative":"#362853","full":"gitlab-org/gitlab#362853"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8279,"epic":{"id":549867,"iid":8279,"title":"MVC 1 - Foundations for Hierarchy Widget","url":"/groups/gitlab-org/-/epics/8279","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":108777190,"iid":362852,"project_id":278964,"title":"Hierarchy widget - Empty state","description":"- Create a new widget component for children tasks that will be reusable with any Work Item type.\n- The first step is displaying the empty state, when no children are linked.\n- The component can be collapsed and expanded.\n\n![Child_widget_with_count](/uploads/22bdc8285302c08bc60b565d5ddaba37/Child_widget_with_count.png)\n\nDesign epic of the component for reference: https://gitlab.com/groups/gitlab-org/-/epics/7063","state":"closed","created_at":"2022-05-19T01:24:02.034Z","updated_at":"2022-06-21T12:00:57.570Z","closed_at":"2022-06-13T04:50:18.412Z","closed_by":{"id":3236898,"username":"rajatgitlab","name":"Rajat Jain","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3236898/avatar.png","web_url":"https://gitlab.com/rajatgitlab"},"labels":["Deliverable","Next Up","devops::plan","frontend","group::product planning","section::dev","type::feature","workflow::verification"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":3236898,"username":"rajatgitlab","name":"Rajat Jain","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3236898/avatar.png","web_url":"https://gitlab.com/rajatgitlab"}],"author":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"type":"ISSUE","assignee":{"id":3236898,"username":"rajatgitlab","name":"Rajat Jain","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3236898/avatar.png","web_url":"https://gitlab.com/rajatgitlab"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362852","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362852","notes":"https://gitlab.com/api/v4/projects/278964/issues/362852/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362852/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362852","relative":"#362852","full":"gitlab-org/gitlab#362852"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8279,"epic":{"id":549867,"iid":8279,"title":"MVC 1 - Foundations for Hierarchy Widget","url":"/groups/gitlab-org/-/epics/8279","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":108776703,"iid":362851,"project_id":278964,"title":"Geo: Optimize replication of project repo keep around refs","description":"### Summary\n\n\u003c!-- Summarize the bug encountered concisely. --\u003e\n\nFor example, commenting on an issue calls `Repository#keep_around` which writes a keep around ref if it doesn't exist for the current commit. And we trigger a repo update event on every call of `Repository#keep_around`, which causes secondaries to replicate the repo.\n\nThis is valid behavior, but uses a lot of overhead, so there is an opportunity for performance optimization.\n\n### Steps to reproduce\n\n\u003c!-- Describe how one can reproduce the issue - this is very important. Please use an ordered list. --\u003e\n\n1. In the secondary site, tail `geo.log`\n1. Comment on an issue\n1. Observe logs like `{\"severity\":\"INFO\",\"time\":\"2022-05-19T00:50:32.648Z\",\"correlation_id\":null,\"pid\":50126,\"host\":\"127.0.0.1\",\"class\":\"Gitlab::Geo::LogCursor::Daemon\",\"message\":\"Repository update\",\"project_id\":6,\"source\":\"repository\",\"resync_repository\":true,\"resync_wiki\":false,\"scheduled_at\":\"2022-05-18T17:50:32.629-07:00\",\"replicable_project\":true,\"job_id\":\"d7d2a28e31b6840ff61a69fe\",\"event_id\":2,\"cursor_delay_s\":0.51}`\n\n### Proposal\n\nAt the very least, instead of enqueuing `Geo::CreateRepositoryUpdatedEventWorker` for every call of `keep_around`, we should enqueue it only if `keep_around` generated a `write_ref` call.\n\nE.g. if you comment 5 times in a row, and the project repo hasn't been updated during that time, then `Geo::CreateRepositoryUpdatedEventWorker` should be enqueued once instead of 5 times.","state":"closed","created_at":"2022-05-19T00:58:29.193Z","updated_at":"2022-08-04T13:41:20.809Z","closed_at":"2022-07-22T17:27:56.499Z","closed_by":{"id":11509934,"username":"jbobadilla-ext","name":"Javiera Tapia","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11509934/avatar.png","web_url":"https://gitlab.com/jbobadilla-ext"},"labels":["Enterprise Edition","GitLab Premium","bug::performance","devops::systems","group::geo","priority::4","section::enablement","severity::4","type::bug","workflow::in dev"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":11509934,"username":"jbobadilla-ext","name":"Javiera Tapia","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11509934/avatar.png","web_url":"https://gitlab.com/jbobadilla-ext"}],"author":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"type":"ISSUE","assignee":{"id":11509934,"username":"jbobadilla-ext","name":"Javiera Tapia","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11509934/avatar.png","web_url":"https://gitlab.com/jbobadilla-ext"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362851","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362851","notes":"https://gitlab.com/api/v4/projects/278964/issues/362851/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362851/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362851","relative":"#362851","full":"gitlab-org/gitlab#362851"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108773863,"iid":362843,"project_id":278964,"title":"Remove geo_lfs_object_deleted_events table","description":"The `geo_lfs_object_deleted_events` is unused since LFS is handled by SSF now: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/62039/diffs#diff-content-cd704c8e043ad297981dfd79988e29a97e94d646\n\n## Implementation Guide\n\n- [x] Add migrations to remove the table (see related examples in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/85219)\n- [x] https://gitlab.com/gitlab-org/gitlab/-/blob/3dc2609084dc9437423b361eab0a71692b8e5174/db/docs/geo_lfs_object_deleted_events.yml\n- [x] Search for `geo_lfs_object_deleted_events` and `LfsObjectDeletedEvent` and remove those references","state":"closed","created_at":"2022-05-18T22:11:07.552Z","updated_at":"2022-06-07T15:36:27.433Z","closed_at":"2022-06-01T17:42:40.445Z","closed_by":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"labels":["devops::systems","group::geo","section::enablement","type::maintenance","workflow::in review"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":11509934,"username":"jbobadilla-ext","name":"Javiera Tapia","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11509934/avatar.png","web_url":"https://gitlab.com/jbobadilla-ext"}],"author":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"type":"ISSUE","assignee":{"id":11509934,"username":"jbobadilla-ext","name":"Javiera Tapia","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11509934/avatar.png","web_url":"https://gitlab.com/jbobadilla-ext"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362843","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362843","notes":"https://gitlab.com/api/v4/projects/278964/issues/362843/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362843/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362843","relative":"#362843","full":"gitlab-org/gitlab#362843"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108773605,"iid":362842,"project_id":278964,"title":"Queries time out for expired artifacts with unknown locked status","description":"### Problem with the current index\n\nGiven the currently [non-functional performance](https://console.postgres.ai/gitlab/gitlab-production-tunnel-pg12/sessions/9953/commands/35191) of the [job_id query](https://gitlab.com/gitlab-org/gitlab/-/issues/356224#note_932793228) to the `ci_job_artifacts` table, I believe we're in need of a new index.\n\nThe current plan uses an index scan\n\n```\nLimit  (cost=0.58..39.50 rows=100 width=16)\n  -\u003e  Index Scan using index_ci_job_artifacts_on_expire_at_and_job_id on ci_job_artifacts  (cost=0.58..71493289.79 rows=183662867 width=16)\n        Index Cond: (expire_at \u003c '2022-05-04 17:28:55.453263+00'::timestamp with time zone)\n        Filter: (locked = 2)\n```\n\nwhich is\n\n```sql\nCREATE INDEX index_ci_job_artifacts_on_expire_at_and_job_id ON ci_job_artifacts USING btree (expire_at, job_id);\n```\n\nthat originally worked well for us since old artifacts tended to be `locked = 2`. But a few days after we started locking artifacts (that is, not simply clearing through the oldest artifacts in this index which is ordered by `expire_at`) performance became very poor. I think this is because this index has the entirety of the table in it, and we're attempting to filter for `locked = 2` which this index is not good at.\n\n### Proposal for a new index\n\nI suggest we add a new partial index tailored to this operation. While it is a highly specific index, I would recommend introducing it explicitly as a temporary index that will be removed when the backlog operation has finished and we remove the worker. The worker will live until 16.0, and the index would be removed at that point if not earlier. I propose we add:\n\n\n```sql\nCREATE INDEX tmp_index_job_artifacts_with_unknown_locked_status ON ci_job_artifacts USING btree (expire_at, job_id) WHERE locked = 2 AND expire_at IS NOT NULL;\n```\n\nThis accomplishes two main things:\n\n1. Bringing artifacts with unknown locked status close to each other in an index to decrease the duration of index scans\n2. Excludes artifacts without `expire_at` values, since those artifacts are job traces that we don't want to process.\n\nWe've considered creating an index of `locked = 2` artifacts before, but decided against it because it would take a great deal of time to build as it would have included every row in the table. However, now with the job traces no longer having an expiration date we can use the two conditions together to build a partial index containing less than 200m rows.\n\nBonus things:\n\n1. We can drop the non-temporary index `index_ci_job_artifacts_on_expire_at_and_job_id` earlier than expected, since I believe this background process is the only workflow that sends queries to it. For good measure, we would build the new index and not drop this old one until we see it remaining completely idle for a significant period of time.","state":"closed","created_at":"2022-05-18T21:58:15.765Z","updated_at":"2022-06-01T19:15:54.809Z","closed_at":"2022-06-01T17:38:36.152Z","closed_by":{"id":730684,"username":"drew","name":"drew stachon","state":"active","avatar_url":"https://secure.gravatar.com/avatar/59b7f2c95acd4a085d964f745ead6bdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/drew"},"labels":["Category:Build Artifacts","bug::performance","devops::verify","group::pipeline execution","performance-refinement","priority::3","section::ops","severity::3","type::bug","workflow::verification"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":730684,"username":"drew","name":"drew stachon","state":"active","avatar_url":"https://secure.gravatar.com/avatar/59b7f2c95acd4a085d964f745ead6bdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/drew"}],"author":{"id":730684,"username":"drew","name":"drew stachon","state":"active","avatar_url":"https://secure.gravatar.com/avatar/59b7f2c95acd4a085d964f745ead6bdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/drew"},"type":"ISSUE","assignee":{"id":730684,"username":"drew","name":"drew stachon","state":"active","avatar_url":"https://secure.gravatar.com/avatar/59b7f2c95acd4a085d964f745ead6bdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/drew"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2022-06-03","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362842","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362842","notes":"https://gitlab.com/api/v4/projects/278964/issues/362842/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362842/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362842","relative":"#362842","full":"gitlab-org/gitlab#362842"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7311,"epic":{"id":407355,"iid":7311,"title":"Artifact Expiration Merge Request and Feature Flag Rollout","url":"/groups/gitlab-org/-/epics/7311","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":108769599,"iid":362825,"project_id":278964,"title":"Make it more clear when MR is from fork","description":"Relevant [slack thread](https://gitlab.slack.com/archives/C01EMBKS5DW/p1652707714367879)\n\nPrevious version had fork info in branch widget, which no longer exists, making it slightly more difficult to identify when an MR is coming from a fork:\n\n![Screen_Shot_2022-05-18_at_1.52.13_PM](/uploads/fe279bfc09fac648935ccd08548b3b2e/Screen_Shot_2022-05-18_at_1.52.13_PM.png)","state":"closed","created_at":"2022-05-18T19:53:03.741Z","updated_at":"2022-05-19T11:01:29.995Z","closed_at":"2022-05-19T11:01:29.021Z","closed_by":{"id":626804,"username":"pedroms","name":"Pedro Moreira da Silva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c306f087d191ac15549f3c11e3bed321?s=80\u0026d=identicon","web_url":"https://gitlab.com/pedroms"},"labels":["UX","auto updated","devops::create","group::code review","section::dev"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"}],"author":{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},"type":"ISSUE","assignee":{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362825","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362825","notes":"https://gitlab.com/api/v4/projects/278964/issues/362825/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362825/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":"https://gitlab.com/api/v4/projects/278964/issues/225497"},"references":{"short":"#362825","relative":"#362825","full":"gitlab-org/gitlab#362825"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108767921,"iid":362820,"project_id":278964,"title":"Backend: Remove the legacy queueing code","description":"## Description\n\nAfter we remove [all features flags](https://gitlab.com/gitlab-org/gitlab/-/issues/332951) related to the [new builds queuing architecture](https://gitlab.com/groups/gitlab-org/-/epics/5909) we want to remove the legacy code too. By \"legacy code\" we mean the previous builds queuing system, using `ci_builds` table.\n\nStart with `Queue::BuildsTableStrategy` and remove any code that is used by it.","state":"closed","created_at":"2022-05-18T19:09:36.753Z","updated_at":"2022-07-15T21:57:33.043Z","closed_at":"2022-07-14T07:54:51.293Z","closed_by":{"id":731181,"username":"mbobin","name":"Marius Bobin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c0a726d6aa37d780309f7b3ea3555a14?s=80\u0026d=identicon","web_url":"https://gitlab.com/mbobin"},"labels":["Category:Continuous Integration","Verify::P2","backend","devops::verify","group::pipeline execution","priority::2","section::ops","severity::2","type::maintenance","workflow::production"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":731181,"username":"mbobin","name":"Marius Bobin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c0a726d6aa37d780309f7b3ea3555a14?s=80\u0026d=identicon","web_url":"https://gitlab.com/mbobin"}],"author":{"id":4512666,"username":"jheimbuck_gl","name":"James Heimbuck","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8dd2ef9c1cacb6e80d7ca47db6f0ce22?s=80\u0026d=identicon","web_url":"https://gitlab.com/jheimbuck_gl"},"type":"ISSUE","assignee":{"id":731181,"username":"mbobin","name":"Marius Bobin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c0a726d6aa37d780309f7b3ea3555a14?s=80\u0026d=identicon","web_url":"https://gitlab.com/mbobin"},"user_notes_count":5,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362820","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362820","notes":"https://gitlab.com/api/v4/projects/278964/issues/362820/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362820/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362820","relative":"#362820","full":"gitlab-org/gitlab#362820"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6954,"epic":{"id":373936,"iid":6954,"title":"Make the new pending builds architecture generally available","url":"/groups/gitlab-org/-/epics/6954","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":108766245,"iid":362816,"project_id":278964,"title":"Update Secret Detection .gitleaks.toml to include `keywords` and updated regexes","description":"### Proposal\nWe should take advantage of some of the new configuration features in the latest version of gitleaks, namely leveraging rule [`keywords`](https://github.com/zricethezav/gitleaks#configuration).\n\nIf a rule has a `keywords` present then gitleaks will perform a string compare operation to determine if a region of code likely contains a secret for the current rule. This speeds up gitleaks scans significantly.\n\n### Tasks\n- [x] Update the Secret Detection analyzer's gitleaks.toml file to include [`keywords`](https://github.com/zricethezav/gitleaks#configuration)","state":"closed","created_at":"2022-05-18T18:38:47.736Z","updated_at":"2022-07-21T12:05:59.106Z","closed_at":"2022-07-14T22:34:30.110Z","closed_by":{"id":5211947,"username":"zrice","name":"Zach Rice","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5211947/avatar.png","web_url":"https://gitlab.com/zrice"},"labels":["Category:Secret Detection","Deliverable","auto updated","devops::secure","feature::enhancement","group::static analysis","section::sec","type::feature","workflow::production"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":5211947,"username":"zrice","name":"Zach Rice","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5211947/avatar.png","web_url":"https://gitlab.com/zrice"}],"author":{"id":5211947,"username":"zrice","name":"Zach Rice","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5211947/avatar.png","web_url":"https://gitlab.com/zrice"},"type":"ISSUE","assignee":{"id":5211947,"username":"zrice","name":"Zach Rice","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5211947/avatar.png","web_url":"https://gitlab.com/zrice"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362816","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":1},"weight":3,"blocking_issues_count":1,"has_tasks":true,"task_status":"1 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362816","notes":"https://gitlab.com/api/v4/projects/278964/issues/362816/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362816/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362816","relative":"#362816","full":"gitlab-org/gitlab#362816"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108765819,"iid":362814,"project_id":278964,"title":"Migrate angle icon to chevron in app/assets/javascripts/ide/components/jobs/stage.vue","description":"## Purpose\n\nMigrate the angle icon(s) to the [chevron counterpart](https://gitlab-org.gitlab.io/gitlab-svgs/?q=chevron-) in: \n\n`app/assets/javascripts/ide/components/jobs/stage.vue`\n\n### Screenshots\n\n| **Before** | **After** |\n| ------ | ------ |\n| - | - |\n\n~\"Icon\"","state":"closed","created_at":"2022-05-18T18:24:35.603Z","updated_at":"2022-07-13T05:20:31.096Z","closed_at":"2022-06-14T13:52:07.984Z","closed_by":{"id":1646689,"username":"oregand","name":"David O'Regan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1646689/avatar.png","web_url":"https://gitlab.com/oregand"},"labels":["Icon","Pajamas Migration Day","SUS::Impacting","UX","auto updated","frontend","pajamas::integrate","severity::4","type::maintenance","workflow::in review"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":1646689,"username":"oregand","name":"David O'Regan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1646689/avatar.png","web_url":"https://gitlab.com/oregand"}],"author":{"id":4017299,"username":"jeldergl","name":"Jeremy Elder","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4017299/avatar.png","web_url":"https://gitlab.com/jeldergl"},"type":"ISSUE","assignee":{"id":1646689,"username":"oregand","name":"David O'Regan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1646689/avatar.png","web_url":"https://gitlab.com/oregand"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362814","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362814","notes":"https://gitlab.com/api/v4/projects/278964/issues/362814/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362814/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362814","relative":"#362814","full":"gitlab-org/gitlab#362814"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8087,"epic":{"id":525142,"iid":8087,"title":"Migrate angle icons to chevron icons","url":"/groups/gitlab-org/-/epics/8087","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":108765818,"iid":362813,"project_id":278964,"title":"Migrate angle icon to chevron in app/assets/javascripts/environments/components/new_environment_item.vue","description":"## Purpose\n\nMigrate the angle icon(s) to the [chevron counterpart](https://gitlab-org.gitlab.io/gitlab-svgs/?q=chevron-) in: \n\n`app/assets/javascripts/environments/components/new_environment_item.vue`\n\n### Screenshots\n\n| **Before** | **After** |\n| ------ | ------ |\n| - | - |\n\n~\"Icon\"","state":"closed","created_at":"2022-05-18T18:24:35.147Z","updated_at":"2022-06-14T14:58:54.593Z","closed_at":"2022-06-14T14:58:54.526Z","closed_by":{"id":1646689,"username":"oregand","name":"David O'Regan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1646689/avatar.png","web_url":"https://gitlab.com/oregand"},"labels":["Icon","Pajamas Migration Day","SUS::Impacting","UX","auto updated","frontend","pajamas::integrate","severity::4","type::maintenance","workflow::in review"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":1646689,"username":"oregand","name":"David O'Regan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1646689/avatar.png","web_url":"https://gitlab.com/oregand"}],"author":{"id":4017299,"username":"jeldergl","name":"Jeremy Elder","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4017299/avatar.png","web_url":"https://gitlab.com/jeldergl"},"type":"ISSUE","assignee":{"id":1646689,"username":"oregand","name":"David O'Regan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1646689/avatar.png","web_url":"https://gitlab.com/oregand"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362813","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362813","notes":"https://gitlab.com/api/v4/projects/278964/issues/362813/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362813/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362813","relative":"#362813","full":"gitlab-org/gitlab#362813"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8087,"epic":{"id":525142,"iid":8087,"title":"Migrate angle icons to chevron icons","url":"/groups/gitlab-org/-/epics/8087","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":108765817,"iid":362812,"project_id":278964,"title":"Migrate angle icon to chevron in app/assets/javascripts/environments/components/environment_folder.vue","description":"## Purpose\n\nMigrate the angle icon(s) to the [chevron counterpart](https://gitlab-org.gitlab.io/gitlab-svgs/?q=chevron-) in: \n\n`app/assets/javascripts/environments/components/environment_folder.vue`\n\n### Screenshots\n\n| **Before** | **After** |\n| ------ | ------ |\n| - | - |\n\n~\"Icon\"","state":"closed","created_at":"2022-05-18T18:24:34.009Z","updated_at":"2022-06-14T16:19:47.041Z","closed_at":"2022-06-14T16:19:47.019Z","closed_by":{"id":1646689,"username":"oregand","name":"David O'Regan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1646689/avatar.png","web_url":"https://gitlab.com/oregand"},"labels":["Icon","Pajamas Migration Day","SUS::Impacting","UX","auto updated","frontend","pajamas::integrate","severity::4","type::maintenance","workflow::in review"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":1646689,"username":"oregand","name":"David O'Regan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1646689/avatar.png","web_url":"https://gitlab.com/oregand"}],"author":{"id":4017299,"username":"jeldergl","name":"Jeremy Elder","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4017299/avatar.png","web_url":"https://gitlab.com/jeldergl"},"type":"ISSUE","assignee":{"id":1646689,"username":"oregand","name":"David O'Regan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1646689/avatar.png","web_url":"https://gitlab.com/oregand"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362812","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362812","notes":"https://gitlab.com/api/v4/projects/278964/issues/362812/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362812/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362812","relative":"#362812","full":"gitlab-org/gitlab#362812"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8087,"epic":{"id":525142,"iid":8087,"title":"Migrate angle icons to chevron icons","url":"/groups/gitlab-org/-/epics/8087","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":108765806,"iid":362802,"project_id":278964,"title":"Migrate angle icon to chevron in app/assets/javascripts/jobs/components/log/line_header.vue","description":"## Purpose\n\nMigrate the angle icon(s) to the [chevron counterpart](https://gitlab-org.gitlab.io/gitlab-svgs/?q=chevron-) in: \n\n`app/assets/javascripts/jobs/components/log/line_header.vue`\n\n### Screenshots\n\n| **Before** | **After** |\n| ------ | ------ |\n| - | - |\n\n~\"Icon\"","state":"closed","created_at":"2022-05-18T18:24:29.190Z","updated_at":"2022-06-13T14:27:36.844Z","closed_at":"2022-06-13T14:27:36.820Z","closed_by":{"id":1646689,"username":"oregand","name":"David O'Regan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1646689/avatar.png","web_url":"https://gitlab.com/oregand"},"labels":["Icon","Pajamas Migration Day","SUS::Impacting","UX","auto updated","frontend","pajamas::integrate","severity::4","type::maintenance","workflow::in review"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":1646689,"username":"oregand","name":"David O'Regan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1646689/avatar.png","web_url":"https://gitlab.com/oregand"}],"author":{"id":4017299,"username":"jeldergl","name":"Jeremy Elder","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4017299/avatar.png","web_url":"https://gitlab.com/jeldergl"},"type":"ISSUE","assignee":{"id":1646689,"username":"oregand","name":"David O'Regan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1646689/avatar.png","web_url":"https://gitlab.com/oregand"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362802","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362802","notes":"https://gitlab.com/api/v4/projects/278964/issues/362802/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362802/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362802","relative":"#362802","full":"gitlab-org/gitlab#362802"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8087,"epic":{"id":525142,"iid":8087,"title":"Migrate angle icons to chevron icons","url":"/groups/gitlab-org/-/epics/8087","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":108765795,"iid":362791,"project_id":278964,"title":"Migrate angle icon to chevron in ee/app/assets/javascripts/usage_quotas/seats/components/subscription_seats.vue","description":"## Purpose\n\nMigrate the angle icon(s) to the [chevron counterpart](https://gitlab-org.gitlab.io/gitlab-svgs/?q=chevron-) in: \n\n`ee/app/assets/javascripts/usage_quotas/seats/components/subscription_seats.vue`\n\n### Screenshots\n\n| Before | After |\n| ------ | ------ |\n| ![Screenshot_2022-06-08_at_18.21.20](/uploads/b8df99c8200e01d92100bd43d3f6e322/Screenshot_2022-06-08_at_18.21.20.png) | ![Screenshot_2022-06-08_at_18.19.55](/uploads/7513513e1f31a2242c9294ea604c92b6/Screenshot_2022-06-08_at_18.19.55.png) |\n\n~\"Icon\"","state":"closed","created_at":"2022-05-18T18:24:26.067Z","updated_at":"2022-11-22T18:41:24.737Z","closed_at":"2022-06-17T08:07:52.969Z","closed_by":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"labels":["Icon","OKR","component:icon","devops::manage","frontend","group::billing and subscription management","section::dev","type::maintenance","workflow::production"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"}],"author":{"id":4017299,"username":"jeldergl","name":"Jeremy Elder","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4017299/avatar.png","web_url":"https://gitlab.com/jeldergl"},"type":"ISSUE","assignee":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362791","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362791","notes":"https://gitlab.com/api/v4/projects/278964/issues/362791/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362791/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362791","relative":"#362791","full":"gitlab-org/gitlab#362791"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8087,"epic":{"id":525142,"iid":8087,"title":"Migrate angle icons to chevron icons","url":"/groups/gitlab-org/-/epics/8087","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":108765793,"iid":362789,"project_id":278964,"title":"Migrate angle icon to chevron in ee/app/assets/javascripts/usage_quotas/storage/components/collapsible_project_storage_detail.vue","description":"## Purpose\n\nMigrate the angle icon(s) to the [chevron counterpart](https://gitlab-org.gitlab.io/gitlab-svgs/?q=chevron-) in: \n\n`ee/app/assets/javascripts/usage_quotas/storage/components/collapsible_project_storage_detail.vue`\n\n### Screenshots\n\n| Before | After |\n| ------ | ------ |\n| ![before_icon](/uploads/b73fc6345800d4701a6c291135c348d5/before_icon.png) | ![Screenshot_2022-06-10_at_09.50.52](/uploads/f78d58b5559809ba2463ce4acd813560/Screenshot_2022-06-10_at_09.50.52.png) |\n\n~\"Icon\"","state":"closed","created_at":"2022-05-18T18:24:25.481Z","updated_at":"2022-06-15T09:58:42.130Z","closed_at":"2022-06-15T09:58:42.110Z","closed_by":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"labels":["Icon","OKR","SUS::Impacting","component:icon","frontend","group::billing and subscription management","pajamas::integrate","severity::4","type::maintenance","workflow::production"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"}],"author":{"id":4017299,"username":"jeldergl","name":"Jeremy Elder","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4017299/avatar.png","web_url":"https://gitlab.com/jeldergl"},"type":"ISSUE","assignee":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362789","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362789","notes":"https://gitlab.com/api/v4/projects/278964/issues/362789/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362789/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362789","relative":"#362789","full":"gitlab-org/gitlab#362789"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8087,"epic":{"id":525142,"iid":8087,"title":"Migrate angle icons to chevron icons","url":"/groups/gitlab-org/-/epics/8087","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":108765786,"iid":362782,"project_id":278964,"title":"Migrate angle icon to chevron in doc/user/compliance/compliance_report/index.md","description":"## Purpose\n\nMigrate the angle icon(s) to the [chevron counterpart](https://gitlab-org.gitlab.io/gitlab-svgs/?q=chevron-) in: \n\n`doc/user/compliance/compliance_report/index.md`\n\n### Screenshots\n\n| **Before** | **After** |\n| ------ | ------ |\n| - | - |\n\n~\"Icon\"","state":"closed","created_at":"2022-05-18T18:24:23.213Z","updated_at":"2022-06-10T11:44:21.318Z","closed_at":"2022-06-10T11:44:21.301Z","closed_by":{"id":1646689,"username":"oregand","name":"David O'Regan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1646689/avatar.png","web_url":"https://gitlab.com/oregand"},"labels":["Icon","Pajamas Migration Day","SUS::Impacting","UX","automation:ux-missing-labels","frontend","pajamas::integrate","type::maintenance","workflow::verification"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":1646689,"username":"oregand","name":"David O'Regan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1646689/avatar.png","web_url":"https://gitlab.com/oregand"}],"author":{"id":4017299,"username":"jeldergl","name":"Jeremy Elder","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4017299/avatar.png","web_url":"https://gitlab.com/jeldergl"},"type":"ISSUE","assignee":{"id":1646689,"username":"oregand","name":"David O'Regan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1646689/avatar.png","web_url":"https://gitlab.com/oregand"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362782","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362782","notes":"https://gitlab.com/api/v4/projects/278964/issues/362782/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362782/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362782","relative":"#362782","full":"gitlab-org/gitlab#362782"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8087,"epic":{"id":525142,"iid":8087,"title":"Migrate angle icons to chevron icons","url":"/groups/gitlab-org/-/epics/8087","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":108765785,"iid":362781,"project_id":278964,"title":"Migrate angle icon to chevron in doc/user/project/web_ide/index.md","description":"## Purpose\n\nMigrate the angle icon(s) to the [chevron counterpart](https://gitlab-org.gitlab.io/gitlab-svgs/?q=chevron-) in: \n\n`doc/user/project/web_ide/index.md`\n\n### Screenshots\n\n| **Before** | **After** |\n| ------ | ------ |\n| - | - |\n\n~\"Icon\"","state":"closed","created_at":"2022-05-18T18:24:22.919Z","updated_at":"2022-06-10T11:44:30.126Z","closed_at":"2022-06-10T11:44:30.110Z","closed_by":{"id":1646689,"username":"oregand","name":"David O'Regan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1646689/avatar.png","web_url":"https://gitlab.com/oregand"},"labels":["Icon","Pajamas Migration Day","SUS::Impacting","Technical Writing","UX","automation:ux-missing-labels","documentation","frontend","pajamas::integrate","type::maintenance","workflow::verification"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":1646689,"username":"oregand","name":"David O'Regan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1646689/avatar.png","web_url":"https://gitlab.com/oregand"}],"author":{"id":4017299,"username":"jeldergl","name":"Jeremy Elder","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4017299/avatar.png","web_url":"https://gitlab.com/jeldergl"},"type":"ISSUE","assignee":{"id":1646689,"username":"oregand","name":"David O'Regan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1646689/avatar.png","web_url":"https://gitlab.com/oregand"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362781","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362781","notes":"https://gitlab.com/api/v4/projects/278964/issues/362781/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362781/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362781","relative":"#362781","full":"gitlab-org/gitlab#362781"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8087,"epic":{"id":525142,"iid":8087,"title":"Migrate angle icons to chevron icons","url":"/groups/gitlab-org/-/epics/8087","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":108765784,"iid":362780,"project_id":278964,"title":"Migrate angle icon to chevron in doc/user/project/issues/design_management.md","description":"## Purpose\n\nMigrate the angle icon(s) to the [chevron counterpart](https://gitlab-org.gitlab.io/gitlab-svgs/?q=chevron-) in: \n\n`doc/user/project/issues/design_management.md`\n\n### Screenshots\n\n| **Before** | **After** |\n| ------ | ------ |\n| - | - |\n\n~\"Icon\"","state":"closed","created_at":"2022-05-18T18:24:22.629Z","updated_at":"2022-06-10T11:44:34.993Z","closed_at":"2022-06-10T11:44:34.957Z","closed_by":{"id":1646689,"username":"oregand","name":"David O'Regan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1646689/avatar.png","web_url":"https://gitlab.com/oregand"},"labels":["Icon","Pajamas Migration Day","SUS::Impacting","Technical Writing","UX","automation:ux-missing-labels","documentation","frontend","pajamas::integrate","type::maintenance","workflow::verification"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":1646689,"username":"oregand","name":"David O'Regan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1646689/avatar.png","web_url":"https://gitlab.com/oregand"}],"author":{"id":4017299,"username":"jeldergl","name":"Jeremy Elder","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4017299/avatar.png","web_url":"https://gitlab.com/jeldergl"},"type":"ISSUE","assignee":{"id":1646689,"username":"oregand","name":"David O'Regan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1646689/avatar.png","web_url":"https://gitlab.com/oregand"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362780","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362780","notes":"https://gitlab.com/api/v4/projects/278964/issues/362780/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362780/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362780","relative":"#362780","full":"gitlab-org/gitlab#362780"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8087,"epic":{"id":525142,"iid":8087,"title":"Migrate angle icons to chevron icons","url":"/groups/gitlab-org/-/epics/8087","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":108765781,"iid":362777,"project_id":278964,"title":"Migrate angle icon to chevron in doc/operations/incident_management/alerts.md","description":"## Purpose\n\nMigrate the angle icon(s) to the [chevron counterpart](https://gitlab-org.gitlab.io/gitlab-svgs/?q=chevron-) in: \n\n`doc/operations/incident_management/alerts.md`\n\n### Screenshots\n\n| **Before** | **After** |\n| ------ | ------ |\n| - | - |\n\n~\"Icon\"","state":"closed","created_at":"2022-05-18T18:24:21.772Z","updated_at":"2022-06-13T13:24:59.725Z","closed_at":"2022-06-13T13:24:59.708Z","closed_by":{"id":1646689,"username":"oregand","name":"David O'Regan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1646689/avatar.png","web_url":"https://gitlab.com/oregand"},"labels":["Icon","Pajamas Migration Day","SUS::Impacting","Technical Writing","UX","documentation","frontend","pajamas::integrate","severity::4","type::maintenance","workflow::in review"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":1646689,"username":"oregand","name":"David O'Regan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1646689/avatar.png","web_url":"https://gitlab.com/oregand"}],"author":{"id":4017299,"username":"jeldergl","name":"Jeremy Elder","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4017299/avatar.png","web_url":"https://gitlab.com/jeldergl"},"type":"ISSUE","assignee":{"id":1646689,"username":"oregand","name":"David O'Regan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1646689/avatar.png","web_url":"https://gitlab.com/oregand"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362777","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362777","notes":"https://gitlab.com/api/v4/projects/278964/issues/362777/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362777/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362777","relative":"#362777","full":"gitlab-org/gitlab#362777"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8087,"epic":{"id":525142,"iid":8087,"title":"Migrate angle icons to chevron icons","url":"/groups/gitlab-org/-/epics/8087","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":108765780,"iid":362776,"project_id":278964,"title":"Migrate angle icon to chevron in doc/topics/autodevops/quick_start_guide.md","description":"## Purpose\n\nMigrate the angle icon(s) to the [chevron counterpart](https://gitlab-org.gitlab.io/gitlab-svgs/?q=chevron-) in: \n\ndoc/topics/autodevops/quick_start_guide.md\n\n### Screenshots\n\n| **Before** | **After** |\n| ------ | ------ |\n| - | - |\n\n~\"Icon\"","state":"closed","created_at":"2022-05-18T18:24:21.534Z","updated_at":"2022-06-10T11:44:55.876Z","closed_at":"2022-06-10T11:44:55.861Z","closed_by":{"id":1646689,"username":"oregand","name":"David O'Regan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1646689/avatar.png","web_url":"https://gitlab.com/oregand"},"labels":["Icon","Pajamas Migration Day","SUS::Impacting","Technical Writing","UX","automation:ux-missing-labels","documentation","frontend","pajamas::integrate","type::maintenance","workflow::verification"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":1646689,"username":"oregand","name":"David O'Regan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1646689/avatar.png","web_url":"https://gitlab.com/oregand"}],"author":{"id":4017299,"username":"jeldergl","name":"Jeremy Elder","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4017299/avatar.png","web_url":"https://gitlab.com/jeldergl"},"type":"ISSUE","assignee":{"id":1646689,"username":"oregand","name":"David O'Regan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1646689/avatar.png","web_url":"https://gitlab.com/oregand"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362776","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362776","notes":"https://gitlab.com/api/v4/projects/278964/issues/362776/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362776/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362776","relative":"#362776","full":"gitlab-org/gitlab#362776"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8087,"epic":{"id":525142,"iid":8087,"title":"Migrate angle icons to chevron icons","url":"/groups/gitlab-org/-/epics/8087","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":108765162,"iid":362773,"project_id":278964,"title":"Frontend: Delete frontend code specific to types deprecation warnings","description":"For 15.0, the frontend had to write some temporary code to display warnings in the pipeline page. From 15.1, we should delete this code and consider the issue to make deprecation notice scalable: https://gitlab.com/gitlab-org/gitlab/-/issues/350810\n\n- `app/assets/javascripts/pipelines/pipeline_details_bundle.js` (anything related to the notification app)\n- `app/assets/javascripts/pipelines/pipeline_details_notification.js`\n- `app/assets/javascripts/pipelines/components/notification/deprecated_type_keyword_notification.vue`","state":"closed","created_at":"2022-05-18T18:08:29.012Z","updated_at":"2022-07-22T13:51:11.547Z","closed_at":"2022-07-18T19:44:43.385Z","closed_by":{"id":5327378,"username":"f_caplette","name":"Frdric Caplette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5327378/avatar.png","web_url":"https://gitlab.com/f_caplette"},"labels":["Category:Pipeline Authoring","devops::verify","frontend","group::pipeline authoring","section::ops","type::maintenance"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":5327378,"username":"f_caplette","name":"Frdric Caplette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5327378/avatar.png","web_url":"https://gitlab.com/f_caplette"}],"author":{"id":5327378,"username":"f_caplette","name":"Frdric Caplette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5327378/avatar.png","web_url":"https://gitlab.com/f_caplette"},"type":"ISSUE","assignee":{"id":5327378,"username":"f_caplette","name":"Frdric Caplette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5327378/avatar.png","web_url":"https://gitlab.com/f_caplette"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362773","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362773","notes":"https://gitlab.com/api/v4/projects/278964/issues/362773/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362773/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362773","relative":"#362773","full":"gitlab-org/gitlab#362773"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":{"id":54830,"iid":71,"sequence":20,"group_id":9970,"title":null,"description":"Target milestone `15.3`","state":3,"created_at":"2022-05-01T00:05:30.720Z","updated_at":"2022-07-25T00:05:02.141Z","start_date":"2022-07-11","due_date":"2022-07-24","web_url":"https://gitlab.com/groups/gitlab-org/-/iterations/54830"},"health_status":null},{"id":108760952,"iid":362767,"project_id":278964,"title":"Secure \u0026 Protect Team Planning Issue for 15.2","description":"### Product Designer's Available Capacity\n\u003c!-- Group Capacity is the number of weight points you are able to contribute to your group work this milestone.\nFlex Capacity is any extra weight points you'll hold in reserve to accommodate any OKR, UX Dept, or any other extracurricular work that you expect will pop up during this milestone  --\u003e\n| Designer | Group Capacity | Flex Capacity | TOTAL Capacity |\n| ------ | ------ | ------ | ------ |\n| Andy     |  8  |  7 |  15 |\n| Becka    |  5 | 5 | 10  |\n| Camellia | --  |  -- | --  |\n| Michael  |  7  |  7  |  14 |\n\n ### Product Designer's Out Of Office (OOO)\n | Designer | OOO Start - End |\n | -------- | --------------- |\n | Andy     |                 |\n | Becka    |  June 10 - 23   |\n | Camellia |                 |\n | Michael  |   July 8-15     |\n\n ### Review Existing UX SUS Related Issues\n NOTE: We need to strive to act upon these issues quickly as they will impact our usability\n * [SUS Related Issue Board](https://gitlab.com/groups/gitlab-org/-/boards/3738104?label_name[]=SUS\u0026label_name[]=severity%3A%3A2)\n    * Container Security: https://gitlab.com/gitlab-org/gitlab/-/issues/334698+ (S2)\n        * In Dev, design complete\n    * Threat Insights: https://gitlab.com/gitlab-org/gitlab/-/issues/345464+ (S2)\n    * [3 Others from our FY23-Q2 OKR](https://gitlab.com/gitlab-org/gitlab-design/-/issues/1966#1-positively-impact-sus-by-burning-down-remaining-s1-issues-supporting-completion-of-s2-issues-and-continuing-pajamas-migrations)\n\n### Composition Analysis UX Needs - UX Roadmap Theme: `\u003ctheme link here\u003e`\n\n| Priority | Issue/Epic | State |  Need /  Nice to have | Designer | Ready for Build By |  Weight | Carryover Notes |\n| ------ | ------ | ------ | ------ | ------ | ------ | ------ | ------ |\n| 1 | [Improve Dependency List Empty State](https://gitlab.com/gitlab-org/gitlab/-/issues/351118) |  |  |  | ? | 1 | ? |\n| 2 | [ Design: License Approval Policies](https://gitlab.com/gitlab-org/gitlab/-/issues/362838) |  |  |  | ? |  | ? |\n| 3 | [ Design: Group/Sub-Group Level Dependency List](https://gitlab.com/gitlab-org/gitlab/-/issues/362827) |  |  |  | ? |  | ? |\n| 4 | [ Design: Add Dependency List Filtering and Searching](https://gitlab.com/gitlab-org/gitlab/-/issues/362818) | Ready for Design |  |  | ? |  | This should probably be done together with Threat Insights work |\n| 5 | [ Design: Dependency List Grouping](https://gitlab.com/gitlab-org/gitlab/-/issues/362829) |  |  |  | ? |  |  |\n| - | [Make state of approval more clear](https://gitlab.com/gitlab-org/gitlab/-/issues/340453) |  |  |  | ? | 4 | ? |\n| - | [Make state of license database clear](https://gitlab.com/gitlab-org/gitlab/-/issues/341615) |  |  |  | ? | ? | ? |\n| - | [Automatic remediation states](https://gitlab.com/gitlab-org/gitlab/-/issues/343487) | When unblocked will then need to progress by finding edge cases and working them |  |  | ? | ? | ? |\n\n### Container Security UX Needs - UX Roadmap Theme: `Decrease Container Scanning Noise`\n\n| Priority | Issue/Epic | State |  Need /  Nice to have | Designer | Ready for Build By |  Weight | Carryover Notes |\n| ------ | ------ | ------ | ------ | ------ | ------ | ------ | ------ |\n| 1 | https://gitlab.com/groups/gitlab-org/-/epics/5363+ | Needs a UX Review | :100: | | %15.2 | | |\n| 2 | https://gitlab.com/gitlab-org/gitlab/-/issues/356808+ | ~\"workflow::ready for design\" |  | |  %15.3 | | |\n| 3 | https://gitlab.com/gitlab-org/gitlab/-/issues/356809+ | ~\"workflow::ready for design\" |  | | n/a - this is a research spike | | |\n| 4 | [Allow configurable allowlist path](https://gitlab.com/gitlab-org/gitlab/-/issues/37226) | ~\"workflow::ready for design\" |  | | | | |\n| 5 | [Better support scanning of multiple container images](https://gitlab.com/groups/gitlab-org/-/epics/3139) | ~\"workflow::ready for design\" |  | | | | |\n| 6 | [Identify if a finding is fixable](https://gitlab.com/groups/gitlab-org/-/epics/6846) | ~\"workflow::ready for design\" |  | | | | |\n| 7 | [ Design Follow-up: Investigate validation of required approvals to avoid dead-end-rules](https://gitlab.com/gitlab-org/gitlab/-/issues/352591) | ~\"workflow::ready for design\" |  | | This is important but not urgent. Timeline can be flexible. | | |\n| 8 | Assistance with MR reviews | \u003c!-- Needs solution validation --\u003e | \u003c!--   --\u003e | \u003c!-- designer name  --\u003e | \u003c!-- Milestone  --\u003e | \u003c!-- approx weight --\u003e | \u003c!-- Add notes why not done in prev milestone --\u003e |\n\n### Dynamic Analysis:DAST/Fuzz UX Needs - https://gitlab.com/gitlab-org/gitlab/-/issues/357445+\n\n| Priority | Issue/Epic | State |  Need /  Nice to have | Designer | Ready for Build By |  Weight | Carryover Notes |\n| ------ | ------ | ------ | ------ | ------ | ------ | ------ | ------ |\n| 1 | [DAST CMS - Complete maturity](https://gitlab.com/gitlab-org/gitlab-design/-/issues/1989) | Preperation should be complete by the end of %\"15.1\"  |  | @mfangman | Recuriting to start around %\"15.2\", some sessions should begin as well | 5 | |\n| 2 | [Design: DAST pre-flight config validation](https://gitlab.com/gitlab-org/gitlab/-/issues/344959)  | Solution validation |  | @mfangman |  | 2 | Design refinement and implementation planning  |\n| 3 | [Problem validation: How do DevOps teams want to configure their security tools](https://gitlab.com/gitlab-org/ux-research/-/issues/1618)  | Analysis complete |  | @mfangman | \u003c!-- Milestone  --\u003e | 5 | Session tagging complete, data synthesis required next |\n| 4 |  Design: Allow security profiles to be used by other scanners  |  |  | @mfangman | \u003c!-- Milestone  --\u003e | 3 | Important design update, but not critical at the moment |\n\n### SAST UX Needs - UX Roadmap Theme: `\u003ctheme link here\u003e`\n| Priority | Issue/Epic | State |  Need /  Nice to have | Designer | Ready for Build By |  Weight | Carryover Notes |\n| ------ | ------ | ------ | ------ | ------ | ------ | ------ | ------ |\n| 1 | `DUPLICATE FROM DAST` [Problem validation: How do DevOps teams want to configure their security tools](https://gitlab.com/gitlab-org/ux-research/-/issues/1618)  | Analysis complete |  | @mfangman | \u003c!-- Milestone  --\u003e |  | Session tagging complete, data synthesis required next |\n| 2 | [SAST UX Roadmap](https://gitlab.com/gitlab-org/gitlab/-/issues/356902) | In progress |  | @mfangman | | 2 | Refine themes and record walkthrough |\n| 3 | [Code quality MR widget - pipeline loading state](https://gitlab.com/gitlab-org/gitlab/-/issues/360446) | Ready for design |  | @mfangman | \u003c!-- Milestone  --\u003e | 2 | \u003c!-- Add notes why not done in prev milestone --\u003e |\n\n### Vulnerability Management UX Needs - UX Roadmap Theme: `\u003ctheme link here\u003e`\n| Priority | Issue/Epic | State |  Need /  Nice to have | Designer | Ready for Build By |  Weight | Carryover Notes |\n| ------ | ------ | ------ | ------ | ------ | ------ | ------ | ------ |\n| 1 | [Design: Report notifications](https://gitlab.com/gitlab-org/gitlab/-/issues/267591)| ~\"workflow::design\" |  Nice to have | @beckalippert | %15.2| 3 | \u003c!-- Add notes why not done in prev milestone --\u003e |\n| 2 | [Design: Cancel vulnerabilities detected in a pipeline](https://gitlab.com/gitlab-org/gitlab/-/issues/351940)| ~\"workflow::ready for design\"  |  Nice to have | @beckalippert | %15.2| 5 | \u003c!-- Add notes why not done in prev milestone --\u003e |\n\n### OKR/Extra UX Needs\n[+ OKR Work for S2's that will need to be prioritized before Q2 ends. +] (https://gitlab.com/gitlab-org/gitlab/-/issues/359967#secure)\n| Priority | Issue/Epic | State |  Need /  Nice to have | Designer | Ready for Build By |  Weight |\n| ------ | ------ | ------ | ------ | ------ | ------ | ------ |\n| 1 | \u003c!-- link goes here  --\u003e | \u003c!-- Ready for design --\u003e | \u003c!--   --\u003e | \u003c!-- designer name  --\u003e | \u003c!-- Milestone --\u003e | \u003c!-- approx weight --\u003e |\n| 2 | \u003c!--  link goes here  --\u003e | \u003c!-- Needs solution validation --\u003e | \u003c!--   --\u003e | \u003c!-- designer name  --\u003e | \u003c!-- Milestone  --\u003e | \u003c!-- approx weight --\u003e |\n\n### What research is happening right now? [(Link to Sheet)](https://docs.google.com/spreadsheets/d/12qckNjL7HGEwJeGwVnVUwk3fbuEj1DSB0N4paSwgAks/edit?usp=sharing) \n\n| Project Title                                                                               | Issue | Support Level       | Section or Group                         | Status           | Timeline  | DRI                                           |\n| ------------------------------------------------------------------------------------------- | ----- | ------------------- | ---------------------------------------- | ---------------- | --------- | --------------------------------------------- |\n| Usability Benchmarking Study                                                                | \u00267918 |  End-to-End       | TBD                                      | Planning         |           | [Michael Oliver](mailto:moliver@gitlab.com)   |\n| How do DevOps teams want to configure their security tools?                                 | #1618 |  End-to-End       | Secure                                   | Summarizing Data |           | [Michael Fangman](mailto:mfangman@gitlab.com) |\n| Internal Interviews for new Secure user Personas                                            | \u00267363 |  End-to-End       | Secure                                   | Planning         |           | [Michael Oliver](mailto:moliver@gitlab.com)   |\n| Finish Investigating current state of open Actionable Insight (AI) issues \u0026 Create Strategy | #1878 |  Task Specific    | UXR Team                                 | Summarizing Data |           | [Michael Oliver](mailto:moliver@gitlab.com)   |\n| Understanding the needs/motivations/goals of Code Quality Users                             | #1886 |  Task Specific    | Code Quality (Static Analysis group)     | Planning         |           | [Connor Gilbert](mailto:cgilbert@gitlab.com)  |\n| Vulnerability Prioritization                                                                | #1890 |  Task Specific    | Both Protect and Secure: Threat Insights | In-Waiting       | 11/1/2022 | [Sam White](mailto:swhite@gitlab.com)         |\n| Vulnerability groups and customizable saved views                                           | #1869 |  Consult \u0026 Review | Threat Insights                          | Summarizing Data | 6/1/2022  | [Matt Wilson](mailto:mwilson@gitlab.com)      |\n\n * [x] Set the Milestone (current Milestone)\n * [x] Set the Due Date for the end of the current Milestone\n * [x] Assign the entire team PMs and PDs","state":"closed","created_at":"2022-05-18T16:49:20.513Z","updated_at":"2022-07-18T14:50:09.140Z","closed_at":"2022-07-18T14:50:09.096Z","closed_by":{"id":5291762,"username":"jmandell","name":"Justin Mandell","state":"active","avatar_url":"https://secure.gravatar.com/avatar/aa77747277d0bb7c31300ca6b0cdde56?s=80\u0026d=identicon","web_url":"https://gitlab.com/jmandell"},"labels":["Planning Issue","auto updated","missed:15.1","section::sec"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":2338871,"username":"andyvolpe","name":"Andy Volpe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2338871/avatar.png","web_url":"https://gitlab.com/andyvolpe"},{"id":4415483,"username":"beckalippert","name":"Becka Lippert","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4415483/avatar.png","web_url":"https://gitlab.com/beckalippert"},{"id":4544240,"username":"cam.x","name":"Camellia X Yang","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7ea4de9b3092f62013d2cfd0c340811a?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam.x"},{"id":4708748,"username":"matt_wilson","name":"Matt Wilson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4708748/avatar.png","web_url":"https://gitlab.com/matt_wilson"},{"id":4985194,"username":"derekferguson","name":"Derek Ferguson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4985194/avatar.png","web_url":"https://gitlab.com/derekferguson"},{"id":5291762,"username":"jmandell","name":"Justin Mandell","state":"active","avatar_url":"https://secure.gravatar.com/avatar/aa77747277d0bb7c31300ca6b0cdde56?s=80\u0026d=identicon","web_url":"https://gitlab.com/jmandell"},{"id":5292351,"username":"sam.white","name":"Sam White","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d467fb024d1858d279e6a36e028436ac?s=80\u0026d=identicon","web_url":"https://gitlab.com/sam.white"},{"id":8655314,"username":"mfangman","name":"Michael Fangman","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8655314/avatar.png","web_url":"https://gitlab.com/mfangman"},{"id":10034774,"username":"connorgilbert","name":"Connor Gilbert","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10034774/avatar.png","web_url":"https://gitlab.com/connorgilbert"}],"author":{"id":5291762,"username":"jmandell","name":"Justin Mandell","state":"active","avatar_url":"https://secure.gravatar.com/avatar/aa77747277d0bb7c31300ca6b0cdde56?s=80\u0026d=identicon","web_url":"https://gitlab.com/jmandell"},"type":"ISSUE","assignee":{"id":2338871,"username":"andyvolpe","name":"Andy Volpe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2338871/avatar.png","web_url":"https://gitlab.com/andyvolpe"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2022-06-17","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362767","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362767","notes":"https://gitlab.com/api/v4/projects/278964/issues/362767/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362767/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362767","relative":"#362767","full":"gitlab-org/gitlab#362767"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6247,"epic":{"id":295539,"iid":6247,"title":"Secure \u0026 Govern UX Team Planning","url":"/groups/gitlab-org/-/epics/6247","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":108758905,"iid":362753,"project_id":278964,"title":"Tooltip on Environments page should use the gitlab-ui tooltip","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"type::bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=type::bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\n\u003c!-- Summarize the bug encountered concisely. --\u003e\n\nOn Operations \u003e Environments, the when hovering over the \"Monitoring\" button, the tooltip displayed is a default browser tooltip while the other ones in the page use the custom gitlab-ui tooltip component.\n\n### Steps to reproduce\n\n\u003c!-- Describe how one can reproduce the issue - this is very important. Please use an ordered list. --\u003e\n\n1. Go to Operations \u003e Environments\n2. Hover over the \"Monitoring\" button\n\n### Example Project\n\nhttps://gitlab.com/gitlab-com/www-gitlab-com/-/environments/137\n\n### What is the current *bug* behavior?\n\n\u003c!-- Describe what actually happens. --\u003e\n\nThe tooltip displayed is the default browser tooltip.\n\n### What is the expected *correct* behavior?\n\n\u003c!-- Describe what you should see instead. --\u003e\n\nThe tooltip displayed should be the gitlab-ui tooltip.\n\n### Relevant logs and/or screenshots\n\n\u003c!-- Paste any relevant logs - please use code blocks (```) to format console output, logs, and code\n as it's tough to read otherwise. --\u003e\n\n![Peek_2022-05-18_11-40](/uploads/3e92c4241a5015e181db5b0c5f6ea7f0/Peek_2022-05-18_11-40.mp4)\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\n\nThis bug happens on GitLab.com\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e\n\nUse the following component https://gitlab-org.gitlab.io/gitlab-ui/?path=/story/base-tooltip--top-default","state":"closed","created_at":"2022-05-18T16:00:45.290Z","updated_at":"2022-08-19T18:42:24.987Z","closed_at":"2022-08-19T18:42:24.961Z","closed_by":{"id":5622641,"username":"nicolewilliams","name":"Nicole Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5622641/avatar.png","web_url":"https://gitlab.com/nicolewilliams"},"labels":["Category:Environment Management","Release::P3","SUS::Impacting","UI polish","UX","bug::ux","component:tooltip","devops::release","environments","frontend","group::release","priority::4","section::ops","severity::4","type::bug","workflow::in review"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":262533,"username":"afontaine","name":"Andrew Fontaine","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/262533/avatar.png","web_url":"https://gitlab.com/afontaine"}],"author":{"id":3079878,"username":"rayana","name":"Rayana Verissimo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3079878/avatar.png","web_url":"https://gitlab.com/rayana"},"type":"ISSUE","assignee":{"id":262533,"username":"afontaine","name":"Andrew Fontaine","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/262533/avatar.png","web_url":"https://gitlab.com/afontaine"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362753","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362753","notes":"https://gitlab.com/api/v4/projects/278964/issues/362753/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362753/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362753","relative":"#362753","full":"gitlab-org/gitlab#362753"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108758689,"iid":362752,"project_id":278964,"title":"Follow-up from \"Add group-level policy informational banner\"","description":"Address feedback https://gitlab.com/gitlab-org/gitlab/-/merge_requests/87522#note_948168981\n\nhttps://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/assets/javascripts/security_orchestration/components/policy_editor/policy_editor.vue#L87\n\n**nitpick(non-blocking and unrelated):** The alert looks a bit odd when it only has a title. For example, if the policy doesn't have a name, the alert looks like this:\n\n![Screen_Shot_2022-05-16_at_10.48.37_AM](https://gitlab.com/gitlab-org/gitlab/uploads/1aa8b15cce220713f30799794fdef9de/Screen_Shot_2022-05-16_at_10.48.37_AM.png)\n\nIt would look better if the error was used as the alert's body instead:\n\n![Screen_Shot_2022-05-16_at_10.49.06_AM](https://gitlab.com/gitlab-org/gitlab/uploads/5be80aaa2cebde8254a11dae574155cb/Screen_Shot_2022-05-16_at_10.49.06_AM.png)\n\nPerhaps something to consider for a follow-up.","state":"closed","created_at":"2022-05-18T15:55:56.894Z","updated_at":"2022-11-04T06:41:55.862Z","closed_at":"2022-11-04T06:41:55.007Z","closed_by":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"labels":["Category:Security Policy Management","UX","auto updated","devops::govern","frontend","group::security policies","missed:15.2","missed:15.3","missed:15.4","missed:15.5","section::sec","type::maintenance","workflow::in review"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"}],"author":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"type":"ISSUE","assignee":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362752","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362752","notes":"https://gitlab.com/api/v4/projects/278964/issues/362752/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362752/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362752","relative":"#362752","full":"gitlab-org/gitlab#362752"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108745833,"iid":362728,"project_id":278964,"title":"GraphQL: Migrate `signatureHtml` to structured data","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\n\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\u003c!--\nA brief explanation of the why, not the what or how. Assume the reader doesn't know the\nbackground and won't have time to dig-up information from comment threads.\n--\u003e\n\nThe `LastCommit` Vue component currently retrieves HTML from Rails and renders it. This is a potential XSS vector which we should remove by migrating the server-side HTML over to client-side Vue components. We previously tried to address this using `v-html-safe` which introduced a rendering bug. See https://gitlab.com/gitlab-org/gitlab/-/merge_requests/84862#note_908331969 for discussion.\n\nTo enable the frontend to begin constructing the HTML on the client side, we need to expose all the data used in the HTML via the [GraphQL LastCommitResolver](https://gitlab.com/gitlab-org/gitlab/-/blob/a430cca9df0f44ca1b68a15c9c063eccbd22daab/app/graphql/resolvers/last_commit_resolver.rb#L11)\n\n\n## Implementation guide\n\u003c!--\nSteps and the parts of the code that will need to get updated. The plan can also\ncall-out responsibilities for other team members or teams.\n\ne.g.:\n\n- [ ] ~frontend Step 1\n  - [ ] `@person` Step 1a\n- [ ] ~frontend Step 2\n\n--\u003e\n\n1. Add a new `CommitSignatureType` to `app/graphql/types/`. This will be a multi-type field with the following possible types:\n   1. `CommitSignatures::GpgSignatureType`\n   2. `CommitSignatures::X509SignatureType`\n2. Add `GpgSignatureType` to `app/graphql/types/commit_signatures/` which exposes the following fields:\n   1. `user`\n   2. `verification_status`\n   3. `commit_sha`\n   4. `project`\n   5. `gpg_key_user_name`\n   6. `gpg_key_user_email`\n   7. `gpg_key_primary_keyid`\n3. Add an `X509Certificate` type to `app/graphql/types/` which exposes the fields on the [X509Certificate model](https://gitlab.com/gitlab-org/gitlab/-/blob/ed7496baa022608ab36a3609448fd861b8c49347/app/models/x509_certificate.rb)\n4. Add a `X509Signature` type to `app/graphql/types/commit_signatures/` which exposes the following fields:\n   1. `user`\n   2. `verification_status`\n   3. `commit_sha`\n   4. `project`\n   5. `x509_certificate`\n4. Expose the `CommitSignatureType` through the `:signature` field on https://gitlab.com/gitlab-org/gitlab/-/blob/ed7496baa022608ab36a3609448fd861b8c49347/app/graphql/types/commit_type.rb\n\n\u003c!--\nWorkflow and other relevant labels\n\n# ~\"group::\" ~\"Category:\" ~\"GitLab Ultimate\"\nOther settings you might want to include when creating the issue.\n\n# /assign @\n# /epic \u0026\n--\u003e\n\n## Verification steps\n\u003c!--\nAdd verification steps to help GitLab team members test the implementation. This is particularly useful\nduring the MR review and the ~\"workflow::verification\" step. You may not know exactly what the\nverification steps should be during issue refinement, so you can always come back later to add\nthem.\n\n1. Check-out the corresponding branch\n1. ...\n1. Profit!\n--\u003e\n\n1. Go to https://gitlab.com/-/graphql-explorer\n2. Paste the following query:\n\n   ```\n   To be added by implementer\n   ```\n\n3. Verify that the output contains the new signature data","state":"closed","created_at":"2022-05-18T13:08:20.642Z","updated_at":"2023-01-11T08:32:38.822Z","closed_at":"2023-01-11T08:32:38.758Z","closed_by":{"id":4391348,"username":"sean_carroll","name":"Sean Carroll","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4391348/avatar.png","web_url":"https://gitlab.com/sean_carroll"},"labels":["Category:Source Code Management","backend","devops::create","good for new contributors","group::source code","maintenance::refactor","section::dev","security","type::maintenance","workflow::ready for development"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":1895043,"username":"brianjaustin","name":"Brian Austin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/e2bcd543e2ced64cbe5b63c43af61731?s=80\u0026d=identicon","web_url":"https://gitlab.com/brianjaustin"}],"author":{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"},"type":"ISSUE","assignee":{"id":1895043,"username":"brianjaustin","name":"Brian Austin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/e2bcd543e2ced64cbe5b63c43af61731?s=80\u0026d=identicon","web_url":"https://gitlab.com/brianjaustin"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362728","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":0},"weight":3,"blocking_issues_count":1,"has_tasks":true,"task_status":"0 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362728","notes":"https://gitlab.com/api/v4/projects/278964/issues/362728/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362728/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362728","relative":"#362728","full":"gitlab-org/gitlab#362728"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7905,"epic":{"id":499512,"iid":7905,"title":"Migrate server-side HTML used on `LastCommit` component to Vue","url":"/groups/gitlab-org/-/epics/7905","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003eUpcoming\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":108744966,"iid":362724,"project_id":278964,"title":"Groups::ContributionAnalyticsController#show exceeds target duration","description":"Based on the last [7 days of Kibana data](https://log.gprd.gitlab.net/goto/1adafc70-d6b0-11ec-aade-19e9974a7229), this action violates the target duration of 1 second approximately 34% of the time and is contributing to our error budget.","state":"closed","created_at":"2022-05-18T12:54:46.375Z","updated_at":"2022-10-25T09:59:44.065Z","closed_at":"2022-07-15T09:26:46.444Z","closed_by":{"id":4826728,"username":"m_frankiewicz","name":"Magdalena Frankiewicz","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ca314fa77051f58ced6e3e5bf7f0dd48?s=80\u0026d=identicon","web_url":"https://gitlab.com/m_frankiewicz"},"labels":["Deliverable","Error Budget Improvement","backend","bug::performance","devops::manage","group::optimize","priority::2","section::dev","type::bug","workflow::production"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":4826728,"username":"m_frankiewicz","name":"Magdalena Frankiewicz","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ca314fa77051f58ced6e3e5bf7f0dd48?s=80\u0026d=identicon","web_url":"https://gitlab.com/m_frankiewicz"}],"author":{"id":4554599,"username":"m_gill","name":"Michelle Gill","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4554599/avatar.png","web_url":"https://gitlab.com/m_gill"},"type":"ISSUE","assignee":{"id":4826728,"username":"m_frankiewicz","name":"Magdalena Frankiewicz","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ca314fa77051f58ced6e3e5bf7f0dd48?s=80\u0026d=identicon","web_url":"https://gitlab.com/m_frankiewicz"},"user_notes_count":18,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362724","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362724","notes":"https://gitlab.com/api/v4/projects/278964/issues/362724/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362724/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362724","relative":"#362724","full":"gitlab-org/gitlab#362724"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8013,"epic":{"id":516368,"iid":8013,"title":"Optimize Apdex Improvements","url":"/groups/gitlab-org/-/epics/8013","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":108744182,"iid":362723,"project_id":278964,"title":"GA Release for Cluster Image Scanning","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\u003c!--\nA brief explanation of the why, not the what or how. Assume the reader doesn't know the\nbackground and won't have time to dig-up information from comment threads.\n--\u003e\n\nCluster Image Scanning is currently in Alpha. With the recent enhancements completed in https://gitlab.com/groups/gitlab-org/-/epics/6771, we believe that it is ready for general availability. \n\n## Implementation plan\n\u003c!--\nSteps and the parts of the code that will need to get updated. The plan can also\ncall-out responsibilities for other team members or teams.\n\ne.g.:\n\n- [ ] ~frontend Step 1\n  - [ ] `@person` Step 1a\n- [ ] ~frontend Step 2\n\n--\u003e\n\n- [x] Update the documentation for the agent method of scanning production container images to be a general availability feature (remove the note about it being in Alpha).\n\n\u003c!--\nWorkflow and other relevant labels\n\n# ~\"group::\" ~\"Category:\" ~\"GitLab Ultimate\"\nOther settings you might want to include when creating the issue.\n\n# /assign @\n# /epic \u0026\n--\u003e","state":"closed","created_at":"2022-05-18T12:43:57.848Z","updated_at":"2022-10-24T23:32:18.163Z","closed_at":"2022-10-24T23:32:18.133Z","closed_by":{"id":5535431,"username":"mparuszewski","name":"Alan (Maciej) Paruszewski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535431/avatar.png","web_url":"https://gitlab.com/mparuszewski"},"labels":["Category:Container Scanning","Category:Security Policy Management","Deliverable","GitLab Ultimate","backend","devops::govern","feature::enhancement","group::security policies","missed-deliverable","missed:15.3","missed:15.4","section::sec","type::feature","workflow::verification"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":5535431,"username":"mparuszewski","name":"Alan (Maciej) Paruszewski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535431/avatar.png","web_url":"https://gitlab.com/mparuszewski"}],"author":{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"},"type":"ISSUE","assignee":{"id":5535431,"username":"mparuszewski","name":"Alan (Maciej) Paruszewski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535431/avatar.png","web_url":"https://gitlab.com/mparuszewski"},"user_notes_count":3,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362723","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":1},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362723","notes":"https://gitlab.com/api/v4/projects/278964/issues/362723/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362723/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362723","relative":"#362723","full":"gitlab-org/gitlab#362723"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6771,"epic":{"id":351102,"iid":6771,"title":"Simplify Cluster Image Scanning Setup","url":"/groups/gitlab-org/-/epics/6771","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":108743332,"iid":362722,"project_id":278964,"title":"Allow filtering by `approved_by_username` in Group Merge Requests API","description":"In https://docs.gitlab.com/ee/api/merge_requests.html#list-group-merge-requests, currently there is no way to filter MRs by `approved_by_username`.\n\nThere is support for filtering by `reviewer_username`, `assignee_username` and `author_username`, but ability to filter by `approved_by_username` is missing.\n\nRequirement:\n\nAllow filtering by `approved_by_username`, so that the following API call is valid:\n\n`https://gitlab.com/api/v4/groups/\u003cgroup_id\u003e/merge_requests?approved_by_username=\u003cusername\u003e`\n\nUsecase:\n\nThis specific requirement came up in https://gitlab.com/gitlab-org/gitlab-roulette/-/merge_requests/59 so as to filter MRs that someone has already approved.","state":"closed","created_at":"2022-05-18T12:28:54.718Z","updated_at":"2022-07-21T12:01:29.350Z","closed_at":"2022-07-14T13:17:49.647Z","closed_by":{"id":5918904,"username":"marc_shaw","name":"Marc Shaw","state":"active","avatar_url":"https://secure.gravatar.com/avatar/78c946cb19e40815a2b5d97cefecec6a?s=80\u0026d=identicon","web_url":"https://gitlab.com/marc_shaw"},"labels":["Category:Code Review Workflow","Deliverable","Technical Writing","backend","devops::create","documentation","feature::enhancement","group::code review","internal customer","section::dev","type::feature"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":5918904,"username":"marc_shaw","name":"Marc Shaw","state":"active","avatar_url":"https://secure.gravatar.com/avatar/78c946cb19e40815a2b5d97cefecec6a?s=80\u0026d=identicon","web_url":"https://gitlab.com/marc_shaw"}],"author":{"id":4093067,"username":"manojmj","name":"Manoj M J","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4093067/avatar.png","web_url":"https://gitlab.com/manojmj"},"type":"ISSUE","assignee":{"id":5918904,"username":"marc_shaw","name":"Marc Shaw","state":"active","avatar_url":"https://secure.gravatar.com/avatar/78c946cb19e40815a2b5d97cefecec6a?s=80\u0026d=identicon","web_url":"https://gitlab.com/marc_shaw"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362722","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362722","notes":"https://gitlab.com/api/v4/projects/278964/issues/362722/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362722/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362722","relative":"#362722","full":"gitlab-org/gitlab#362722"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108740104,"iid":362717,"project_id":278964,"title":"Restrict license removal for GitLab.com (SaaS)","description":"\u003c!-- This template is a great use for issues that are feature::additions or technical tasks for larger issues.--\u003e\n\n### Proposal\n\nPrevent the removal of the GitLab.com license in the admin UI (or show a warning dialog/message) as this will remove all Premium/Ultimate features for all SaaS customers.\n\nThis could be a simple check and error message when clicking on the removal button - `if GitLab.com?` that this change needs to go through a different route (console, API...) and perhaps document it in an issue.\n\nAnother option could be to completely remove the button `if GitLab.com?`.\n\nThis is a ~\"corrective action\" from https://gitlab.com/gitlab-com/gl-infra/production/-/issues/7087#note_950682267\n\n\u003c!-- Label reminders\nUse the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n--\u003e","state":"closed","created_at":"2022-05-18T11:33:48.235Z","updated_at":"2022-09-21T12:05:38.398Z","closed_at":"2022-09-01T05:07:09.138Z","closed_by":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"labels":["Deliverable","GitLab Free","GitLab Premium","GitLab Ultimate","UI text","UX","[deprecated] Category:Provision","corrective action","devops::fulfillment","documentation","feature::addition","frontend","group::provision","infradev","missed-deliverable","missed:15.2","priority::2","section::fulfillment","severity::4","type::feature","workflow::production"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"}],"author":{"id":273486,"username":"jameslopez","name":"James Lopez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/273486/avatar.png","web_url":"https://gitlab.com/jameslopez"},"type":"ISSUE","assignee":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"user_notes_count":29,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362717","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362717","notes":"https://gitlab.com/api/v4/projects/278964/issues/362717/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362717/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362717","relative":"#362717","full":"gitlab-org/gitlab#362717"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108735622,"iid":362712,"project_id":278964,"title":"[Feature flag] Cleanup confidential_notes","description":"\u003c!-- Title suggestion: [Feature flag] Cleanup \u003cfeature-flag-name\u003e --\u003e\n\n## Summary\n\nRelated to https://gitlab.com/gitlab-org/gitlab/-/issues/207474\n\nThis issue is to cleanup the `confidential_notes` feature flag, after the feature flag has been enabled by default for an appropriate amount of time in production.\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\n## Owners\n\n- Team: ~\"group::product planning\" \n- Most appropriate slack channel to reach out to: `#g_product-planning`\n- Best individual to reach out to: `@egrieff`, `@felipe_artur`, `@jprovaznik`\n- PM: `@mushakov` \n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## Expectations\n\n### What might happen if this goes wrong?\n\n\u003c!-- Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\n### Cleaning up the feature flag\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [x] Create a merge request to remove `confidential_notes` feature flag. Ask for review and merge it.\n    - [ ] Remove all references to the feature flag from the codebase.\n    - [ ] Remove the YAML definitions for the feature from the repository.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the cleanup MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-cleanup-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [x] If not already done, clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --dev`\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --staging`\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e`\n- [ ] Close this rollout issue.","state":"closed","created_at":"2022-05-18T10:15:07.427Z","updated_at":"2022-09-05T14:57:04.558Z","closed_at":"2022-07-18T21:37:29.814Z","closed_by":{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"},"labels":["Next Up","Stretch","backend","devops::plan","feature flag","feature::addition","group::product planning","section::dev","type::feature","workflow::verification"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"}],"author":{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"},"type":"ISSUE","assignee":{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362712","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":12,"completed_count":2},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 12 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362712","notes":"https://gitlab.com/api/v4/projects/278964/issues/362712/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362712/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362712","relative":"#362712","full":"gitlab-org/gitlab#362712"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7407,"epic":{"id":423916,"iid":7407,"title":"Prepare Confidential Notes MVC for GA","url":"/groups/gitlab-org/-/epics/7407","group_id":9970,"human_readable_end_date":"Nov 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":108733374,"iid":362706,"project_id":278964,"title":"Branch rules MVC: Add GraphQL endpoint to support the Read-only Overview page","description":"### Description\n\nAs part of the [MVC](https://gitlab.com/gitlab-org/gitlab/-/issues/351468) for organizing rules based on branches, we need to implement new endpoints to support the frontend.\n\n\n\n\n### Scope\n\nThe new GraphQL nodes will be added to project.branchRules provide access to:\n- Protected branch name, including wildcards\n- Protected branch settings\n- Merge request approvals\n- Status checks","state":"closed","created_at":"2022-05-18T09:37:19.536Z","updated_at":"2022-11-15T08:05:10.579Z","closed_at":"2022-09-15T12:30:51.813Z","closed_by":{"id":11390638,"username":"jwoodwardgl","name":"Joe Woodward","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11390638/avatar.png","web_url":"https://gitlab.com/jwoodwardgl"},"labels":["Category:Source Code Management","Deliverable","backend","devops::create","feature::addition","group::source code","missed-deliverable","missed:15.3","quad-planning::complete-no-action","section::dev","type::feature","workflow::in dev"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":11390638,"username":"jwoodwardgl","name":"Joe Woodward","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11390638/avatar.png","web_url":"https://gitlab.com/jwoodwardgl"}],"author":{"id":421631,"username":"vyaklushin","name":"Vasilii Iakliushin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/421631/avatar.png","web_url":"https://gitlab.com/vyaklushin"},"type":"ISSUE","assignee":{"id":11390638,"username":"jwoodwardgl","name":"Joe Woodward","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11390638/avatar.png","web_url":"https://gitlab.com/jwoodwardgl"},"user_notes_count":23,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362706","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362706","notes":"https://gitlab.com/api/v4/projects/278964/issues/362706/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362706/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362706","relative":"#362706","full":"gitlab-org/gitlab#362706"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8578,"epic":{"id":583395,"iid":8578,"title":"MVC: Branch Rules Overview","url":"/groups/gitlab-org/-/epics/8578","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":108733252,"iid":362705,"project_id":278964,"title":"Branch rules MVC: Design or reuse the database schema to store Branch rules","description":"### Problem\n\nWe need to store information about Branch Rules in database\n\nThis issue blocks #362706, #362707, #362219\n\n\n### Proposal\n\nI see two possible options to proceed\n\n1. Create a new table for Branch Rules and add necessary code to the Rails app\n2. Reuse `protected_branches` table for keeping Branch rules data\n\nIt is an investigation issue, we need to evaluate both options and decide how to proceed next.\n\n\n### Implementation plan\n\n| issue | note |\n| ------ | ------ |\n| https://gitlab.com/gitlab-org/gitlab/-/issues/362205+ |  |\n| https://gitlab.com/gitlab-org/gitlab/-/issues/362212+ |  |\n| https://gitlab.com/gitlab-org/gitlab/-/issues/362214+ |  |\n| https://gitlab.com/gitlab-org/gitlab/-/issues/362705+ | :point_left: **this issue** |\n| https://gitlab.com/gitlab-org/gitlab/-/issues/362706+ | :warning: blocked by https://gitlab.com/gitlab-org/gitlab/-/issues/362705 |\n| https://gitlab.com/gitlab-org/gitlab/-/issues/362707+ | :warning: blocked by https://gitlab.com/gitlab-org/gitlab/-/issues/362705  | \n| https://gitlab.com/gitlab-org/gitlab/-/issues/362219+ | :warning: blocked by https://gitlab.com/gitlab-org/gitlab/-/issues/362705 | \n| https://gitlab.com/gitlab-org/gitlab/-/issues/362217+ | :warning: blocked by https://gitlab.com/gitlab-org/gitlab/-/issues/362219 |\n| https://gitlab.com/gitlab-org/gitlab/-/issues/362218+ | :warning: blocked by https://gitlab.com/gitlab-org/gitlab/-/issues/362219 |\n\n### Additional areas affected\n1. Import/Export currently include protected branches","state":"closed","created_at":"2022-05-18T09:35:13.844Z","updated_at":"2022-09-21T12:01:12.991Z","closed_at":"2022-08-23T11:54:04.102Z","closed_by":{"id":11390638,"username":"jwoodwardgl","name":"Joe Woodward","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11390638/avatar.png","web_url":"https://gitlab.com/jwoodwardgl"},"labels":["Category:Source Code Management","Deliverable","backend","database","devops::create","feature::addition","group::source code","section::dev","type::feature","workflow::in dev"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":11390638,"username":"jwoodwardgl","name":"Joe Woodward","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11390638/avatar.png","web_url":"https://gitlab.com/jwoodwardgl"}],"author":{"id":421631,"username":"vyaklushin","name":"Vasilii Iakliushin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/421631/avatar.png","web_url":"https://gitlab.com/vyaklushin"},"type":"ISSUE","assignee":{"id":11390638,"username":"jwoodwardgl","name":"Joe Woodward","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11390638/avatar.png","web_url":"https://gitlab.com/jwoodwardgl"},"user_notes_count":18,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362705","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":2,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362705","notes":"https://gitlab.com/api/v4/projects/278964/issues/362705/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362705/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362705","relative":"#362705","full":"gitlab-org/gitlab#362705"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8075,"epic":{"id":524022,"iid":8075,"title":"MVC: view and edit source code rules organized by branches (fka: Source code rules - MVC)","url":"/groups/gitlab-org/-/epics/8075","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":108729466,"iid":362697,"project_id":278964,"title":"Add filename for security training GraphQL query","description":"Create an additional parameter called something like \"filename\" perhaps that you can pass the filename to directly to be parsed and filter the language accordingly.\n\nPlease see this discussion for more details \u003e https://gitlab.com/gitlab-org/gitlab/-/issues/346455#note_949196575\n\n# Implementation Plan\n\n- [x] ~backend implement filename parameter on `SecurityTrainingUrlsResolver` which takes a file, resolves a language from it and uses that to filter security training urls","state":"closed","created_at":"2022-05-18T08:39:09.687Z","updated_at":"2022-06-20T03:43:25.733Z","closed_at":"2022-06-15T11:34:18.575Z","closed_by":{"id":11164960,"username":"ghavenga","name":"Gregory Havenga","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11164960/avatar.png","web_url":"https://gitlab.com/ghavenga"},"labels":["backend","devops::secure","feature::addition","group::threat insights","section::sec","type::feature","workflow::verification"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":11164960,"username":"ghavenga","name":"Gregory Havenga","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11164960/avatar.png","web_url":"https://gitlab.com/ghavenga"}],"author":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"type":"ISSUE","assignee":{"id":11164960,"username":"ghavenga","name":"Gregory Havenga","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11164960/avatar.png","web_url":"https://gitlab.com/ghavenga"},"user_notes_count":16,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362697","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":1},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362697","notes":"https://gitlab.com/api/v4/projects/278964/issues/362697/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362697/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362697","relative":"#362697","full":"gitlab-org/gitlab#362697"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7805,"epic":{"id":485503,"iid":7805,"title":"Security Training 2.0","url":"/groups/gitlab-org/-/epics/7805","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":108729027,"iid":362696,"project_id":278964,"title":"Fix double escape on Release Edit/Show paths","description":"## Problem \n\nWhen you create [Release](https://docs.gitlab.com/ee/user/project/releases/) with a tag name that contains a slash (`/`), it produces a double-escaped path. For example,\n\n![2022-05-18_17-31](/uploads/855f6d8959d7951a3bf9d6e6b47db6f2/2022-05-18_17-31.png)\n![2022-05-18_17-32](/uploads/1d1a68d6828c8f231f1e47d5f11491a9/2022-05-18_17-32.png)\n\nThe path should be `releases/test%2Fv0.1` instead of `releases/test%252Fv0.1`.\n\nIt seems rails route escape the param by default. I couldn't locate the exact place but seems it does.\nThe double escape comes from https://gitlab.com/gitlab-org/gitlab/-/merge_requests/17858/diffs#302c8119f9c824ca8cd3bbacbe3cd15979b0e82c_37_38.\n\n\n## Proposal\n\n```diff\ndiff --git a/app/models/release.rb b/app/models/release.rb\nindex c6c0920c4d0..655a2ba4709 100644\n--- a/app/models/release.rb\n+++ b/app/models/release.rb\n@@ -54,7 +54,7 @@ class Release \u003c ApplicationRecord\n   MAX_NUMBER_TO_DISPLAY = 3\n \n   def to_param\n-    CGI.escape(tag)\n+    tag\n   end\n \n   def commit\ndiff --git a/app/views/projects/tags/_tag.html.haml b/app/views/projects/tags/_tag.html.haml\nindex 0ee3b89b629..7654150509e 100644\n--- a/app/views/projects/tags/_tag.html.haml\n+++ b/app/views/projects/tags/_tag.html.haml\n@@ -21,7 +21,7 @@\n       .text-secondary\n         = sprite_icon(\"rocket\", size: 12)\n         = _(\"Release\")\n-        = link_to release.name, project_releases_path(@project, anchor: release.tag), class: 'gl-text-blue-600!'\n+        = link_to release.name, project_release_path(@project, release), class: 'gl-text-blue-600!'\n \n     - if tag.message.present?\n       %pre.wrap\ndiff --git a/config/routes/project.rb b/config/routes/project.rb\nindex 6b2a9700686..c61e2fac730 100644\n--- a/config/routes/project.rb\n+++ b/config/routes/project.rb\n@@ -227,7 +227,7 @@\n           end\n         end\n \n-        resources :releases, only: [:index, :new, :show, :edit], param: :tag, constraints: { tag: %r{[^/]+} } do\n+        resources :releases, only: [:index, :new, :show, :edit], param: :tag do\n           member do\n             get :downloads, path: 'downloads/*filepath', format: false\n             scope module: :releases do\n```\n\nFor example,\n\n```\nrelease = Release.last\nproject = release.project\nGitlab::Routing.url_helpers.project_release_url(project, release)\n```\n\nproduces\n\n```\n=\u003e \"http://local.gitlab.test:8181/xyz-org1/awesome-project/-/releases/test%2Fv0.1\"\n```\nwhich is expected param (escape once)\n\nThough this might require a broader refactoring because we expect escaped param in some places ([example](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/controllers/projects/releases_controller.rb#L71)). This should be a follow-up issue.","state":"closed","created_at":"2022-05-18T08:34:09.987Z","updated_at":"2022-06-29T21:25:37.373Z","closed_at":"2022-06-29T21:25:37.360Z","closed_by":{"id":5622641,"username":"nicolewilliams","name":"Nicole Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5622641/avatar.png","web_url":"https://gitlab.com/nicolewilliams"},"labels":["Category:Release Orchestration","backend","devops::release","group::release","maintenance::refactor","priority::3","section::ops","severity::3","type::bug","workflow::verification"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":9396342,"username":"acook.gitlab","name":"Allen Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9396342/avatar.png","web_url":"https://gitlab.com/acook.gitlab"}],"author":{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"},"type":"ISSUE","assignee":{"id":9396342,"username":"acook.gitlab","name":"Allen Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9396342/avatar.png","web_url":"https://gitlab.com/acook.gitlab"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362696","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362696","notes":"https://gitlab.com/api/v4/projects/278964/issues/362696/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362696/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362696","relative":"#362696","full":"gitlab-org/gitlab#362696"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108728763,"iid":362695,"project_id":278964,"title":"[MR Widget Eng] - Make single endpoint polling consistent with multi-poll functionality.","description":"This is a follow up to https://gitlab.com/gitlab-org/gitlab/-/merge_requests/87107\n\nThat MR does the following:\n\n- Allows the user to pass in an array of endpoints to poll\n- Handles 204-No Content gracefully by continuing to poll if POLL-INTERVAL header is set.\n\nWhat we need to do:\n\nReplicate the logic from https://gitlab.com/gitlab-org/gitlab/-/merge_requests/87107 and `initExtensionMultiPolling` and have it behave the same as `initExtensionPolling()` in regards to checking the poll interval headers.\n\nHere is a proposed patch:\n\nWe still need to update the logic in `initExtensionPolling` to support a success status code where `data` is undefined. When we get a 204 - No Content on the initial poll, data is `undefined`\n\n`Object.keys(data)` causes an exception. We need to update `initExtensionPolling` to also expect the full response object so we can also do perhaps the following patch:\n\n## Note\n\nWith this patch we would need to update existing widgets with `enablePolling` to pass the full response.\n\nIt just feels odd to handle the headers in the multi-poll scenario and not the single endpoint scenario. I feel like the behavior should be consistent. Open to your thoughts.\n\n```diff\ndiff --git a/app/assets/javascripts/vue_merge_request_widget/components/extensions/base.vue b/app/assets/javascripts/vue_merge_request_widget/components/extensions/base.vue\nindex bdb277843599..cc221674f6a0 100644\n--- a/app/assets/javascripts/vue_merge_request_widget/components/extensions/base.vue\n+++ b/app/assets/javascripts/vue_merge_request_widget/components/extensions/base.vue\n@@ -159,12 +159,7 @@ export default {\n           },\n           method: 'fetchData',\n           successCallback: (response) =\u003e {\n-            const headers = normalizeHeaders(response.headers);\n-\n-            if (typeof headers['POLL-INTERVAL'] === 'undefined') {\n-              poll.stop();\n-              allData.push(response.data);\n-            }\n+            this.headerCheck(poll, response, allData.push)\n \n             if (allData.length === requests.length) {\n               this.setCollapsedData(allData);\n@@ -185,11 +180,8 @@ export default {\n           fetchData: () =\u003e this.fetchCollapsedData(this.$props),\n         },\n         method: 'fetchData',\n-        successCallback: ({ data }) =\u003e {\n-          if (Object.keys(data).length \u003e 0) {\n-            poll.stop();\n-            this.setCollapsedData(data);\n-          }\n+        successCallback: (response) =\u003e {\n+          this.headerCheck(poll, response, this.setCollapsedData)\n         },\n         errorCallback: (e) =\u003e {\n           poll.stop();\n@@ -200,6 +192,14 @@ export default {\n \n       poll.makeRequest();\n     },\n+    headerCheck(poll, response, func){\n+      const headers = normalizeHeaders(response.headers);\n+\n+      if (typeof headers['POLL-INTERVAL'] === 'undefined') {\n+        poll.stop();\n+        func(response.data);\n+      }\n+    },\n     loadCollapsedData() {\n       this.loadingState = LOADING_STATES.collapsedLoading;\n \n\n```\n\n[204.patch](/uploads/0b1971113de3ebb59010e37ae031d91c/204.patch)\n\n\n1. Update existing components with `enablePolling: true` behave correctly with the changes in the implementation plan by passing the full response object instead of the data only. Update unit tests as well\n\napp/assets/javascripts/vue_merge_request_widget/extensions/accessibility/index.js\n\napp/assets/javascripts/vue_merge_request_widget/extensions/test_report/index.js\n\nee/app/assets/javascripts/vue_merge_request_widget/extensions/metrics/index.js","state":"closed","created_at":"2022-05-18T08:32:28.737Z","updated_at":"2022-06-21T12:06:42.775Z","closed_at":"2022-06-08T13:16:00.276Z","closed_by":{"id":5535246,"username":"svedova","name":"Savas Vedova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535246/avatar.png","web_url":"https://gitlab.com/svedova"},"labels":["Deliverable","Merge Request Report Widgets","WorkingGroup::MergeRequestReportWidgets","devops::create","frontend","group::composition analysis","section::dev","type::feature","workflow::verification"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":5535246,"username":"svedova","name":"Savas Vedova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535246/avatar.png","web_url":"https://gitlab.com/svedova"}],"author":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"type":"ISSUE","assignee":{"id":5535246,"username":"svedova","name":"Savas Vedova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535246/avatar.png","web_url":"https://gitlab.com/svedova"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362695","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362695","notes":"https://gitlab.com/api/v4/projects/278964/issues/362695/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362695/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362695","relative":"#362695","full":"gitlab-org/gitlab#362695"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6644,"epic":{"id":337727,"iid":6644,"title":"Merge Request Report Widgets Working Group","url":"/groups/gitlab-org/-/epics/6644","group_id":9970,"human_readable_end_date":"Jan 31, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":108719659,"iid":362686,"project_id":278964,"title":"Remove btn-link styles from buttons.scss","description":"As part of a frontend initiative to reduce our CSS, we're cleaning up `buttons.scss` file.\n\nIn this issue, we want to remove `.btn-link` styles in this file.","state":"closed","created_at":"2022-05-18T05:35:47.064Z","updated_at":"2022-05-26T00:07:32.889Z","closed_at":"2022-05-26T00:07:32.870Z","closed_by":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"labels":["CSS cleanup","Category:Source Code Management","automation:ml","devops::create","frontend","group::source code","section::dev","type::maintenance"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"}],"author":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"type":"ISSUE","assignee":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362686","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362686","notes":"https://gitlab.com/api/v4/projects/278964/issues/362686/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362686/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362686","relative":"#362686","full":"gitlab-org/gitlab#362686"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8096,"epic":{"id":525501,"iid":8096,"title":"Delete CSS","url":"/groups/gitlab-org/-/epics/8096","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":108717167,"iid":362683,"project_id":278964,"title":"Bot accounts created using Group Access Token can create projects in their personal namespace using Rest API","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"type::bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=type::bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\n\u003c!-- Summarize the bug encountered concisely. --\u003e\n\nIf a user creates a Group Access Token, this will automatically create a bot account. There are two problematic behaviors we are seeing at the moment:\n\n- Using the Group Access Token, the user can create a project under the bot account namespace using [Project API](https://docs.gitlab.com/ee/api/projects.html#create-project). \n- (handled via separate issue) ~~When the Group Access Token is revoked, the bot account and corresponding project is not deleted as per our [documentation](https://docs.gitlab.com/ee/user/project/settings/project_access_tokens.html#bot-users-for-projects).~~ \n\n### Steps to reproduce\n\n\u003c!-- Describe how one can reproduce the issue - this is very important. Please use an ordered list. --\u003e\n\n\n1. Create a Group Access Token.\n2. Create Project under `namespace_id` of bot created for the corresponding Group Access Token using [Project REST API](https://docs.gitlab.com/ee/api/projects.html#create-project).\n3. Revoke the Group Access Token.\n4. Observed that the bot account and corresponding project is not deleted.\n\n\n### Example Project\n\n\u003c!-- If possible, please create an example project here on GitLab.com that exhibits the problematic \nbehavior, and link to it here in the bug report. If you are using an older version of GitLab, this \nwill also determine whether the bug is fixed in a more recent version. --\u003e\n\n1. This is an example [bot account](https://gitlab.com/group_14369714_bot).\n2. This is an example [project](https://gitlab.com/group_14369714_bot/new_project). This seems to be visible to admin only.\n\n### What is the current *bug* behavior?\n\n\u003c!-- Describe what actually happens. --\u003e\n\n1. The bot account and corresponding project is not deleted.\n\n### What is the expected *correct* behavior?\n\n\u003c!-- Describe what you should see instead. --\u003e\n\n1. The bot account and corresponding project should be deleted.\n\n### Relevant logs and/or screenshots\n\n\u003c!-- Paste any relevant logs - please use code blocks (```) to format console output, logs, and code\n as it's tough to read otherwise. --\u003e\n\n![project_cannot_be_deleted](/uploads/fb9e1f41db31e4cde0cf69e711a433f1/project_cannot_be_deleted.png)\n[kibana-logs.json](/uploads/0b7c5b6dd65dbd7c4dfc1a6f3c424c41/kibana-logs.json)\n\n```\n    \"json.class\": [\n      \"DeleteUserWorker\"\n...\n    \"json.message\": [\n      \"DeleteUserWorker JID-83dba3af73e7ed86de63d0fe: fail: 0.132911 sec\"\n...\n    \"json.error_message\": [\n      \"Project 36230810 can't be deleted\"\n```\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\n\nThis bug happens on GitLab.com\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e\n\n### Related Case:\n\n- [290480](https://gitlab.zendesk.com/agent/tickets/290480)","state":"closed","created_at":"2022-05-18T03:53:42.975Z","updated_at":"2022-12-23T01:07:30.343Z","closed_at":"2022-12-03T01:46:57.280Z","closed_by":{"id":11997412,"username":"jessieay","name":"Jessie Young","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11997412/avatar.png","web_url":"https://gitlab.com/jessieay"},"labels":["Deliverable","[deprecated] Accepting merge requests","approaching-SLO","customer","devops::manage","group::authentication and authorization","missed-SLO","priority::2","section::dev","severity::2","type::bug","workflow::verification"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":11997412,"username":"jessieay","name":"Jessie Young","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11997412/avatar.png","web_url":"https://gitlab.com/jessieay"}],"author":{"id":10051186,"username":"kballon","name":"Kent Japhet Ballon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10051186/avatar.png","web_url":"https://gitlab.com/kballon"},"type":"ISSUE","assignee":{"id":11997412,"username":"jessieay","name":"Jessie Young","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11997412/avatar.png","web_url":"https://gitlab.com/jessieay"},"user_notes_count":25,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2022-07-26","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362683","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362683","notes":"https://gitlab.com/api/v4/projects/278964/issues/362683/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362683/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362683","relative":"#362683","full":"gitlab-org/gitlab#362683"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108709235,"iid":362662,"project_id":278964,"title":"Add webhook alert attributes to REST API for projects/groups","description":"## Proposal \n\nThe backend here could be fairly simple if we just added some attributes to the REST API for project/group hooks (see: https://gitlab.com/gitlab-org/gitlab/blob/master/lib/api/project_hooks.rb and https://gitlab.com/gitlab-org/gitlab/blob/master/ee/lib/api/group_hooks.rb - centrally controlled by https://gitlab.com/gitlab-org/gitlab/blob/master/lib/api/entities/hook.rb) - then we can just poll the relevant endpoint in gitlab~3412464 and show the alert.","state":"closed","created_at":"2022-05-17T21:58:30.121Z","updated_at":"2022-11-22T18:41:36.294Z","closed_at":"2022-06-14T16:26:37.364Z","closed_by":{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"},"labels":["Deliverable","auto updated","backend","devops::manage","group::integrations","section::dev","type::feature","workflow::in review"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"}],"author":{"id":10222550,"username":"g.hickman","name":"Grant Hickman","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10222550/avatar.png","web_url":"https://gitlab.com/g.hickman"},"type":"ISSUE","assignee":{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362662","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362662","notes":"https://gitlab.com/api/v4/projects/278964/issues/362662/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362662/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362662","relative":"#362662","full":"gitlab-org/gitlab#362662"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8083,"epic":{"id":524600,"iid":8083,"title":"Improve the reliability of webhooks: Auto-disable Failing Webhooks","url":"/groups/gitlab-org/-/epics/8083","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":108708409,"iid":362659,"project_id":278964,"title":"Java Spring Boot Rest API discovery","description":"Java Spring Boot is one of the most popular ways to develop web APIs, especially for enterprise customers. This makes it a great first framework to perform API Discovery of.\n\n#### Goal\n\nGenerate an OpenAPI schema from a typical Spring Boot application that does not already produce its own schema, without running the application.\n\n#### Solution outline\n\n1. Target the compiled artifact\n    - We could integrate into the build process, but it would be hard to do so reliably given the number of build systems and their customizations. We would also have to account for build system versioning.\n    - Since Java artifacts are (reasonably) well-defined, targeting the compiled artifact creates a smaller amount of variation that we have to account for.\n1. Require the user to provide the Java runtime\n    - Choosing the correct runtime (both flavor and version) would significantly increase complexity, and risk incompatibilities with user code. The user should already have the SDK on which they produced their JVM-based artifact in the first place.\n    - This means that the solution will not be delivered via Docker, but will need to be executable on the user's runner.\n1. Store the solution in a package registry\n    - Since we are not relying on Docker, we will need another mechanism for delivering the executable solution. GitLab's [Package Registry](https://docs.gitlab.com/ee/user/packages/package_registry/) can store the executable, and the solution template could fetch (e.g. via curl) the executable from the registry and then execute it.\n    - We will need an additional project to expose the Package Registry, since the source project will be private.\n1. Don't run any user code\n    - Minimize side effects; user code could do anything\n    - It is impossible to completely prevent user code from running. Static initializers run when the class is loaded, which we will have to do in order to reflect on the metadata. There is not, as far as I know or can find, such thing as [reflection-only load](https://learn.microsoft.com/en-us/dotnet/framework/reflection-and-codedom/how-to-load-assemblies-into-the-reflection-only-context) in Java\n    - Consider [preventing the process from using the network](https://stackoverflow.com/questions/25681670/disable-internet-access-for-jvm) to minimize side effects in case user code does run\n1. Use [SpringDoc OpenAPI](https://github.com/springdoc/springdoc-openapi) to do the heavy lifting.\n    - SpringDoc knows how to interpret the Spring Boot metadata and translate it into an OpenAPI schema.   \n    - SpringDoc OpenAPI is designed to be used at runtime, which is not an option. However, mostly what it does is read metadata, which is available. So we will need to investigate if/how it can be used in a \"reflection-only\" mode.\n      - Because we will not be running the code, we can only generate a schema based on metadata. If the user is manipulating config at runtime in a way that is not exposed through metadata, the schema we generate may be inaccurate.\n1. ~~Matching versions~~ (not necessary)\n    - We could require the user to specify the version of Spring Boot (and possibly other dependencies) they are using. However, this goes against our goal of minimal configuration, so we should try not to require that if we can.\n    - We will need to determine how closely to the app's version of Spring Boot we want to match. Same minor version seems like a reasonable first attempt, but we may need to work around compatibility issues caused by version mismatches.  \n    - There are two reasons why determining the app's dependency versions might not be as straightforward as it would seem:\n        - Spring Boot is made up of many libraries. If the app is following best practices, they should be using the same version for all of their Spring Boot dependencies. However, there are many reasons why apps end up using different versions for some dependencies. We will have to figure out how to resolve to a single version to be compatible with.\n        - Because there is no concept of \"assemblies\" in Java, the actual identity of a dependency is mostly lost from the final artifact; only the filename remains visible. Java doesn't require the filename to have any information about the dependency in it. Fortunately the Maven repository format - used by both Maven and Gradle, the two dominant Java build systems - includes the version number in the filename. So we should be able to rely on this, and any edge case where such a filename is not included would be unsupported.\n1. ~~Dynamically load Spring Boot dependencies~~ (not necessary)\n    - Because we are determining what version to use dynamically, we cannot simply put Spring Boot on our own classpath. We will need to either download the corresponding version of required Spring Boot dependencies prior to or at runtime, or bundle all supported versions of required dependencies in our own executable and load the correct one at runtime. I lean towards the latter, to minimize the reliance on external network connectivity and associated transient failures. But it might depend on what that does to artifact size.\n\n#### Supported scenarios\n- Java 8, 11, 17 (LTS versions)\n    - Latest Spring Boot still supports Java 8 (!), and it's an LTS.\n    - Document support for the LTS versions, but note that non-LTS versions should also work.\n- Spring Boot 2.x\n    - 1.5 was released more than 5 years ago. We can note that it should work but we won't officially support it.\n- Artifact types:\n    - :white_check_mark: [Spring Boot Executable JAR](https://docs.spring.io/spring-boot/docs/current/reference/html/executable-jar.html#appendix.executable-jar.nested-jars.jar-structure)\n    - :white_check_mark: [Spring Boot Executable WAR](https://docs.spring.io/spring-boot/docs/current/reference/html/executable-jar.html#appendix.executable-jar.nested-jars.war-structure)\n    - :white_check_mark: [WAR](https://docs.oracle.com/cd/E19199-01/816-6774-10/a_war.html)\n    - :white_check_mark: [uber-JAR](https://maven.apache.org/plugins/maven-shade-plugin/index.html)\n        - ~~Unlike the other formats here, a shaded uber-JAR completely destroys the identify of its dependencies - even their filenames - in the process of creating the artifact. If knowing the version of the app's dependencies is important, we would need another way of determining them.~~\n        - It doesn't appear that we _need_ to know the version of Spring Boot in use, so we can likely support this as well.\n- Build systems\n    - :white_check_mark: Maven with SprintBoot plugin\n    - :white_check_mark: Maven without SpringBoot plugin\n    - :white_check_mark: Gradle with SpringBoot plugin\n    - :white_check_mark: Gradle without SpringBoot plugin\n        - Spring Boot pushes the plugins pretty strongly, but it is certainly possible to build a container-dependent WAR or an executable uber-JAR without them. As long as the resulting artifact is one of the supported types, the build system shouldn't matter.\n\n#### Out of scope for v1\n- **JAX-RS**: Spring Boot supports defining endpoints via JAX-RS annotations instead of its own annotations. However, SpringDoc does not support JAX-RS. The [Swagger](https://github.com/swagger-api/swagger-core) library does support JAX-RS; we can consider adding support for it in the future.\n- **Kotlin**: although it is very likely that a Spring Boot application written in Kotlin would \"just work\", explicit support for that scenario can come later\n\n#### Project setup\n\n1. [x] Create project for code `api-discovery-src`\n    1. [x] Make @mikeeddington an Owner\n    - Do we want one repository for `api-discovery-src`, or a separate repository for each supported language (e.g. `api-discovery-java-src`)?\n1. [ ] Create CI template to use in testing\n    1. [ ] Save generated OpenAPI document as job artifact\n1. [ ] Create initial build and test jobs\n1. [ ] Find or create a pet store example project to test against\n1. [ ] Create an entry python script that looks for Java assets and launches java+spring -\u003e openapi tool\n    1. [ ] *.war, *.jar, *.class\n    - Can we assume that any Java assets that we find are what we want to analyze? Or do we need to the user to specify the artifact?\n    - Given that we will be executing on the user's runner, we should keep the dependencies to a minimum. Recommend against using Python and stick to shell scripts.\n    - How do we handle OS/shell differences in our template?\n1. Main code will be written in Kotlin\n    - [Why?](https://gitlab.com/gitlab-org/gitlab/-/issues/362659#note_1024146231)\n\n#### Open questions / spikes\n\n1. :white_check_mark: Can SpringDoc be run in \"offline\" mode, i.e. without actually running the web app or user code?\n    - By creating our own Spring Context and wiring up Spring Boot, SpringDoc and the user code, we can invoke the `OpenAPIResource` bean and generate the schema\n    - Controllers are wired up as Singletons by default, which Spring creates eagerly by default. We can post-process all bean definitions to define them as `Lazy`, to prevent their eager creation.\n    - SpringDoc uses Spring APIs which have the side effect of creating the controller beans, but it doesn't actually need the controllers; those calls have to be intercepted to prevent the bean creation\n1. :white_check_mark: How do we find the customer code to register? Can we scan everything on the classpath?\n    - Running a component scan on \"*\" and excluding \"org.springframework.*\" seems to work. We can also exclude other known packages (like \"org.springdoc.*\") for safety.\n1. :white_check_mark: How to determine what version of Spring Boot the app is using?\n    - ~~How do we normalize different versions of Spring Boot assemblies being used?~~\n    - ~~Is this necessary? SpringDoc [seems to claim](https://springdoc.org/faq.html#_what_is_the_compatibility_matrix_of_springdoc_openapi_with_spring_boot) that its latest version can work all the way back to Spring Boot [1.5.0](https://github.com/spring-projects/spring-boot/releases/tag/v1.5.0.RELEASE) (Jan 2017) and [2.0.0](https://github.com/spring-projects/spring-boot/releases/tag/v2.0.0.RELEASE) (Feb 2018).~~\n        - ~~The other problem would be if our custom Spring context setup has to be version dependent; but that seems unlikely.~~\n    - SpringDoc works with all versions of Spring Boot we would care to support, so we don't _need_ the Spring Boot version.\n    - If we want to know the Spring Boot version (for logging, or to provide more tailored messaging, for example), we can pull it from the `META-INF/MANIFEST.MF` file inside the artifact using `JarFile`, IF the artifact was built with the Spring Boot plugin.\n1. ~~If API Discovery needs to load different versions of its own dependencies to match different versions of target app dependencies, what's the best way to do that?~~\n1. :white_check_mark: Can we prevent the API Discovery process from using the network, to minimize side effects in case user code is executed? What restrictions will that place on what API Discovery can do?\n    - There are several ways to use the Java [`SecurityManager`](https://docs.oracle.com/javase/7/docs/api/java/lang/SecurityManager.html) to prevent access to the network. The most straightforward way would be to create a custom `SecurityManager` and set it at the start of the `main` method. \n1. :white_check_mark: What versions of Spring Boot should we support? What exactly should \"support\" mean in this context: testing, documentation, promise of bug fixes? Does GitLab have a standard definition of \"supported\"?\n    - For example, we could say \"we have tested against 2.3 and believe it works, but since it is no longer supported by Spring, we do not commit to fixing any issues that only affect 2.3\"\n    - Spring seems to have a pretty aggressive timeline on support; 2.4 came out in November of 2020, and knowing enterprise upgrade efforts I am confident that many companies on older versions have not upgraded yet.\n    - See [Supported scenarios](#supported_scenarios)\n    - 5 years is a nice round number, which also happens to align with 2.0, another nice round number.\n\n#### Other resources\n\n- [Example of Spring Boot REST API](https://spring.io/guides/tutorials/rest/)\n- [OpenApi Sprint Boot generator](https://github.com/OpenAPITools/openapi-generator/tree/master/modules/openapi-generator-maven-plugin) -- This converts OpenAPI into Spring Boot. Could be useful for writing the reverse.\n- [Spring Boot support graph](https://spring.io/projects/spring-boot#support)\n    - 3.0 will be released in November\n    - 2.3 went out of commercial support in August\n    - 2.4 is out of basic support and will be out of commercial support in February\n- [Oracle Java Support Roadmap](https://www.oracle.com/java/technologies/java-se-support-roadmap.html)","state":"closed","created_at":"2022-05-17T21:48:22.640Z","updated_at":"2022-11-21T03:19:44.319Z","closed_at":"2022-11-15T18:06:49.969Z","closed_by":{"id":1523140,"username":"DavidNelsonGL","name":"David Nelson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1523140/avatar.png","web_url":"https://gitlab.com/DavidNelsonGL"},"labels":["Category:API Security","backend","devops::secure","documentation","group::dynamic analysis","milestone::p1","section::sec","type::feature","workflow::refinement"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":1523140,"username":"DavidNelsonGL","name":"David Nelson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1523140/avatar.png","web_url":"https://gitlab.com/DavidNelsonGL"}],"author":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"type":"ISSUE","assignee":{"id":1523140,"username":"DavidNelsonGL","name":"David Nelson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1523140/avatar.png","web_url":"https://gitlab.com/DavidNelsonGL"},"user_notes_count":16,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362659","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":8,"completed_count":2},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 8 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362659","notes":"https://gitlab.com/api/v4/projects/278964/issues/362659/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362659/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362659","relative":"#362659","full":"gitlab-org/gitlab#362659"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7539,"epic":{"id":438861,"iid":7539,"title":"API Discovery","url":"/groups/gitlab-org/-/epics/7539","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":108706978,"iid":362657,"project_id":278964,"title":"Maven request forwarding to Maven Central","description":"### Context\n\nAs part of the epic https://gitlab.com/groups/gitlab-org/-/epics/8081, this issue proposes extending the package request forwarding feature that GitLab offers for PyPI and npm to include Maven. That means that when you try to install a package from your GitLab package registry and it's not found, GitLab will forward the request to Maven-Central.\n\n#### Benefits\n\nThe reason a customer would want this is so that they don't have to include Maven Central in their configuration files for each developer. They could simplify the configurations for all of their developers and just include their GitLab instance, group, or project. \n\n#### A path to virtual registries\n\nThinking beyond the MVC, this issue also defines a clear path toward delivering virtual registries. The plan will be to build a request forwarding feature. Then turn it into a proxy. Then add caching. Then add the ability to configure up to 10 external remote Maven repositories. \n\n### Proposal\n\nUpdate the Maven repository so that when a package is not found in the GitLab repository, it automatically forwards the request to Maven central and installs the package from there. \n\nThe MVC will implement this at the instance-level to be consistent with forwarding of other formats (npm/pypi) and will be behind a feature flag to allow us to enable/disable for specific groups.\n\n#### Settings\n\nIt's possible that some users may not want this setting turned on. But the problem is that the setting is currently at the instance level. That's where the epic, https://gitlab.com/groups/gitlab-org/-/epics/8067, comes into play. We will cascade the setting from the instance -\u003e group -\u003e subgroup. \n\nUntil the above is done, this feature will be behind a feature flag in limited availability but customers can request that we enable it for them. And of course, self-managed customers can do the same. \n\n#### Metrics\n\nTrack the number of requests forwarded per day. Similar to the metrics we have for npm and PyPI\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2022-05-17T21:29:36.486Z","updated_at":"2023-01-12T20:11:16.359Z","closed_at":"2022-09-20T20:53:15.539Z","closed_by":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"labels":["Category:Dependency Proxy","Category:Package Registry","Deliverable","Maven Repository","Package:P1","backend","devops::package","direction","group::package registry","rails","section::ops","type::feature","workflow::production"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"}],"author":{"id":3799560,"username":"trizzi","name":"Tim Rizzi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3799560/avatar.png","web_url":"https://gitlab.com/trizzi"},"type":"ISSUE","assignee":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"user_notes_count":15,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362657","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362657","notes":"https://gitlab.com/api/v4/projects/278964/issues/362657/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362657/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362657","relative":"#362657","full":"gitlab-org/gitlab#362657"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8081,"epic":{"id":524570,"iid":8081,"title":"Requests for Maven packages that are not found on GitLab should be forwarded to maven-central","url":"/groups/gitlab-org/-/epics/8081","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":"on_track"},{"id":108699694,"iid":362647,"project_id":278964,"title":"Repository analytics graphs don't adapt to changes in viewport width","description":"### Summary\n\nOn repository analytics pages, when the viewport is resized, the graphs don't shrink/grow with the window.\n\n### Steps to reproduce\n\nNavigate to `Analytics` =\u003e `Repository` [for a project](https://docs.gitlab.com/ee/user/analytics/repository_analytics.html) ( ~\"GitLab Free\" ) or [for a group](https://docs.gitlab.com/ee/user/group/repositories_analytics/index.html) ( ~\"GitLab Premium\" ) and resize the browser window:\n\n| for a project | for a group |\n| ------ | ------ |\n| ![Screen_Recording_2022-05-17_at_12.04.26](/uploads/3798c25ea2e27ed8d6435eccfca9d9f0/Screen_Recording_2022-05-17_at_12.04.26.mov) | ![Screen_Recording_2022-05-17_at_11.56.03](/uploads/576459f961385eab5ee2c2084722bfc8/Screen_Recording_2022-05-17_at_11.56.03.mov) |\n\nThe graph does not shrink when the viewport gets narrower; when the page is refreshed it starts at the correct size, but it doesn't grow when the viewport gets wider.\n\n### Example Project\n\nRepository analytics for the `gitlab` project: https://gitlab.com/gitlab-org/gitlab/-/graphs/master/charts\n\nRepository analytics for the `gitlab-org` group: https://gitlab.com/groups/gitlab-org/-/analytics/repository_analytics\n\n\n### What is the current *bug* behavior?\n\nThe graph remains the same width no matter how much the viewport is resized\n\n### What is the expected *correct* behavior?\n\nThe graph should adapt to changes in viewport width by resizing to be the correct width, perhaps with a debounce so it doesn't render too frequently and slow down the page (especially for pages with multiple graphs)\n\n### Relevant logs and/or screenshots\n\n\u003c!-- Paste any relevant logs - please use code blocks (```) to format console output, logs, and code\n as it's tough to read otherwise. --\u003e\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e","state":"closed","created_at":"2022-05-17T18:39:05.214Z","updated_at":"2022-08-03T18:19:10.496Z","closed_at":"2022-08-03T18:19:10.477Z","closed_by":{"id":3374280,"username":"mfluharty","name":"Miranda Fluharty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3374280/avatar.png","web_url":"https://gitlab.com/mfluharty"},"labels":["Category:Code Testing and Coverage","GitLab Core","GitLab Free","GitLab Premium","SUS::Impacting","UX","Verify::P1","devops::verify","frontend","group::pipeline insights","priority::3","section::ops","severity::3","type::bug","workflow::verification"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":3374280,"username":"mfluharty","name":"Miranda Fluharty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3374280/avatar.png","web_url":"https://gitlab.com/mfluharty"}],"author":{"id":3374280,"username":"mfluharty","name":"Miranda Fluharty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3374280/avatar.png","web_url":"https://gitlab.com/mfluharty"},"type":"ISSUE","assignee":{"id":3374280,"username":"mfluharty","name":"Miranda Fluharty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3374280/avatar.png","web_url":"https://gitlab.com/mfluharty"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362647","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362647","notes":"https://gitlab.com/api/v4/projects/278964/issues/362647/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362647/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362647","relative":"#362647","full":"gitlab-org/gitlab#362647"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108699677,"iid":362646,"project_id":278964,"title":"GlPopover component not displaying in all rows of the Container Registry","description":"### Summary\n\nAfter the work on #354494 the GlPopover component is not displaying when hovering on the rows of the container registry image list\n\n### Steps to reproduce\n\n1. On a project with container registry images and clean up policies enabled\n2. Hover on the information icon on any image with a number of tags that have been partially cleaned\n3. The popover component only shows for the first element of the list\n\n### Example Project\n\nhttps://gitlab.com/gitlab-org/gitlab/container_registry\n\n### What is the current *bug* behavior?\n\nThe `GlPopover` component only shows for the first element of the image list. \n\n#### Reason\n\nThis is happening because `id`s are not [unique](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/assets/javascripts/packages_and_registries/container_registry/explorer/components/list_page/cleanup_status.vue#L88) for `gl-icon` component \u0026 when `gl-popover`'s `target` [attribute](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/assets/javascripts/packages_and_registries/container_registry/explorer/components/list_page/cleanup_status.vue#L95) always points to the first id \n\n### What is the expected *correct* behavior?\n\nThe `GlPopover` component should show up for all of the images\n\n### Relevant logs and/or screenshots\n\n![Screen_Shot_2022-05-17_at_11.27.21](/uploads/c126a4e9cdcd261fd9bc370524484d63/Screen_Shot_2022-05-17_at_11.27.21.png)\n\n### Output of checks\n\nThis happens on `GitLab.com`\n\n### Implementation plan\n\nOptions:\n1. Pass an unique id from parent component to [cleanup_status.vue](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/assets/javascripts/packages_and_registries/container_registry/explorer/components/list_page/cleanup_status.vue) which can be used as `id` and `target`\n1. Generate a unique id within [cleanup_status.vue](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/assets/javascripts/packages_and_registries/container_registry/explorer/components/list_page/cleanup_status.vue). Possible options: `Date.toISOString`, `lodash.uniqueId`","state":"closed","created_at":"2022-05-17T18:38:34.711Z","updated_at":"2022-07-21T12:03:59.055Z","closed_at":"2022-07-20T03:25:26.910Z","closed_by":{"id":11214192,"username":"rchanila","name":"Rahul Chanila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11214192/avatar.png","web_url":"https://gitlab.com/rchanila"},"labels":["Category:Container Registry","Deliverable","Package:P1","devops::package","frontend","frontend-weight::1","group::package registry","section::ops","type::bug","workflow::verification"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":11214192,"username":"rchanila","name":"Rahul Chanila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11214192/avatar.png","web_url":"https://gitlab.com/rchanila"}],"author":{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"},"type":"ISSUE","assignee":{"id":11214192,"username":"rchanila","name":"Rahul Chanila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11214192/avatar.png","web_url":"https://gitlab.com/rchanila"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362646","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362646","notes":"https://gitlab.com/api/v4/projects/278964/issues/362646/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362646/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362646","relative":"#362646","full":"gitlab-org/gitlab#362646"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108694895,"iid":362640,"project_id":278964,"title":"Batch order in artifacts size refresh script can be problematic","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"type::bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=type::bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\n\u003c!-- Summarize the bug encountered concisely. --\u003e\n\nThis is from https://gitlab.com/gitlab-org/gitlab/-/issues/360375#note_945736507.\n\nThe current [way](https://gitlab.com/gitlab-org/gitlab/blob/a916fce51037c1fc8409abf5b2171d62849fc01b/app/models/projects/build_artifacts_size_refresh.rb#L84-89) we fetch the next batch of artifacts which uses `order(:created_at)` can cause problems.\n\nHere's a sample scenario. Imagine we have `limit: 3` and the following `ci_job_artifacts` records:\n\n| id | created_at |\n|----|------------|\n| 1  | 00:01      |\n| 2  | 00:02      |\n| 3  | 00:01      |\n| 4  | 00:04      |\n| 5  | 00:05      |\n\nThis could happen because `created_at` is set before the ID: https://stackoverflow.com/a/5819113\n\nThe `next_batch(limit: 3)` could return the ids in the order `1, 3, 2` since we do `order(:created_at)`. As we store `last_job_artifact_id: batch.last.id` when we finish the batch (which is `2` in this example). We may count the record with ID `3` again in `next_batch(limit: 3) --\u003e 3, 4, 5`.\n\n### Possible fixes\n\nWe should `order(:id)` so we have like-with-like comparison. But note that this may not be as simple as it sounds. We need to ensure that the index will still be used and the query will still be performant. In the past, when initially we tried to use `order(:id)` here, it was taking very long.","state":"closed","created_at":"2022-05-17T16:33:52.287Z","updated_at":"2022-09-14T09:46:19.479Z","closed_at":"2022-06-02T07:28:50.997Z","closed_by":{"id":5251734,"username":"morefice","name":"Max Orefice","state":"active","avatar_url":"https://secure.gravatar.com/avatar/0a910912e24727d7eef579cd047f7651?s=80\u0026d=identicon","web_url":"https://gitlab.com/morefice"},"labels":["CI artifacts","Category:Build Artifacts","Verify::P1","backend","devops::verify","group::pipeline insights","priority::2","section::ops","severity::2","type::bug","workflow::verification"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":5251734,"username":"morefice","name":"Max Orefice","state":"active","avatar_url":"https://secure.gravatar.com/avatar/0a910912e24727d7eef579cd047f7651?s=80\u0026d=identicon","web_url":"https://gitlab.com/morefice"}],"author":{"id":1758950,"username":"iamricecake","name":"Erick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1758950/avatar.png","web_url":"https://gitlab.com/iamricecake"},"type":"ISSUE","assignee":{"id":5251734,"username":"morefice","name":"Max Orefice","state":"active","avatar_url":"https://secure.gravatar.com/avatar/0a910912e24727d7eef579cd047f7651?s=80\u0026d=identicon","web_url":"https://gitlab.com/morefice"},"user_notes_count":16,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362640","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362640","notes":"https://gitlab.com/api/v4/projects/278964/issues/362640/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362640/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362640","relative":"#362640","full":"gitlab-org/gitlab#362640"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108692587,"iid":362635,"project_id":278964,"title":"[License Compliance Widget Extension] - Backend - Add denied_licenses count to the collapsed license report endpoint.","description":"As a follow up to:\n\nhttps://gitlab.com/gitlab-org/gitlab/-/issues/356336\n\n## Description\n\nAdd field to indicate `denied_licenses` count. We should build on the summary endpoint that will be added in https://gitlab.com/gitlab-org/gitlab/-/issues/350333\n\n## Before\n\nResponse Structure: \n``` json\n{\n  \"new_licenses\": $integer_value_of_new_licenses_found,\n  \"existing_licenses\": $integer_value_of_existing_licenses_found,\n  \"removed_licenses\": $integer_value_of_removed_licenses_found,\n  \"approval_required\": $boolean\n}\n```\n\n## After\n\nResponse Structure: \n``` json\n{\n  \"new_licenses\": $integer_value_of_new_licenses_found,\n  \"existing_licenses\": $integer_value_of_existing_licenses_found,\n  \"removed_licenses\": $integer_value_of_removed_licenses_found,\n  \"has_denied_licenses\" : $boolean\n  \"approval_required\": $boolean\n}\n```\n\n## Why we need this field\n\nSo the UI can know when to indicate `policy violations in the description`\n\n![denied_licenses_v13_3](/uploads/c81e657f222a8c34ae0f10db355b28d4/denied_licenses_v13_3.png)\n\n## Implementation plan\n\n1. Enhance `LicenseCompliance::CollapsedComparerEntity` and `LicenseCompliance::ComparerEntity` with `has_denied_licenses` field. This field should return information if there are NEW DENIED licenses in the report in comparison to the default branch.\n2. This field should get the count of denied licenses\n3. Update tests.\n\n## Testing\n\nThe SET should update the relevant E2E tests to support the presence/non-presence of the text within the widget accordingly.","state":"closed","created_at":"2022-05-17T15:43:28.611Z","updated_at":"2022-07-04T03:36:07.627Z","closed_at":"2022-06-29T13:50:38.391Z","closed_by":{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"},"labels":["Category:License Compliance","Enterprise Edition","GitLab Ultimate","Stretch","backend","devops::secure","feature::enhancement","group::composition analysis","merge request widget","missed-deliverable","missed:15.1","quad-planning::complete-action","section::sec","type::feature","workflow::verification"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"}],"author":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"type":"ISSUE","assignee":{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362635","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362635","notes":"https://gitlab.com/api/v4/projects/278964/issues/362635/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362635/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362635","relative":"#362635","full":"gitlab-org/gitlab#362635"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7763,"epic":{"id":476528,"iid":7763,"title":"[MR Widget Eng] - License Compliance MR widget extension migration feature parity with legacy widget","url":"/groups/gitlab-org/-/epics/7763","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":108689175,"iid":362632,"project_id":278964,"title":"Add the ability to search in artifacts menu","description":"\u003c!-- This issue template can be used as a great starting point for feature requests. The section \"Release notes\" can be used as a summary of the feature and is also required if you want to have your release post blog MR auto generated using the release post item generator:  https://about.gitlab.com/handbook/marketing/blog/release-posts/#release-post-item-generator. The remaining sections are the backbone for every feature in GitLab.\n\nThe goal of this template is brevity for quick/smaller iterations. For a more thorough list of considerations for larger features or feature sets, you can leverage the detailed [feature proposal](https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal%20-%20detailed.md). --\u003e\n\n### Release notes\n\nArtifact menus on the pipelines page can get extremely long. We will enable the ability to search for a specific filename within the dropdown.\n\n\u003c!-- What is the problem and solution you're proposing? This content sets the overall vision for the feature and serves as the release notes that will populate in various places, including the [release post blog](https://about.gitlab.com/releases/categories/releases/) and [Gitlab project releases](https://gitlab.com/gitlab-org/gitlab/-/releases). \" --\u003e\n\n### Problem to solve\n\nWe know that artifacts are difficult to find from https://gitlab.com/gitlab-org/ux-research/-/issues/1679. This finding relates to the insights of that research and further discussions of current features.\n\nArtifact menus can get extremely long. There can be over 100 artifacts listed within a single menu on the pipelines list page, and it makes it impossible to find a single artifact quickly. \n\n**Example:**\n\n![Screen_Shot_2022-05-17_at_10.36.57_AM](https://gitlab.com/gitlab-org/gitlab/uploads/4284326c0937a511b30923e38169e956/Screen_Shot_2022-05-17_at_10.36.57_AM.png)\n\n\u003c!-- What is the user problem you are trying to solve with this issue? --\u003e\n\n### Proposal\n\nAdd a search bar to the menu so the user can search for a file. Update `ellipsis` to `download` icon and add a `chevron` indicating it is a dropdown.\n\n[:paintbrush: Designs in design management](https://gitlab.com/gitlab-org/gitlab/-/issues/362632/designs/artifacts-search.png)\n\nFor future iterations, we may make the search more advanced.\n\n\u003c!-- Use this section to explain the feature and how it will work. It can be helpful to add technical details, design proposals, and links to related epics or issues. --\u003e\n\n### Intended users\n\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Priyanka (Platform Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#priyanka-platform-engineer)\n\n\u003c!-- Who will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n\n* [Cameron (Compliance Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#cameron-compliance-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager)\n* [Alex (Security Operations Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#alex-security-operations-engineer)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops)\n* [Ingrid (Infrastructure Operator)](https://about.gitlab.com/handbook/product/personas/#ingrid-infrastructure-operator)\n* [Dakota (Application Development Director)](https://about.gitlab.com/handbook/product/personas/#dakota-application-development-director)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n* [Eddie (Content Editor)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#eddie-content-editor)\n--\u003e\n\n### Feature Usage Metrics\n\nSearch bar focus?\n\n\u003c!-- How are you going to track usage of this feature? Think about user behavior and their interaction with the product. What indicates someone is getting value from it?\n\nCreate tracking issue using the Snowplow event tracking template. See https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Snowplow%20event%20tracking.md\n\n--\u003e\n\n\u003c!-- Label reminders\nUse the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n--\u003e\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2022-05-17T14:43:10.893Z","updated_at":"2022-09-23T16:29:18.604Z","closed_at":"2022-09-08T14:25:29.066Z","closed_by":{"id":3374280,"username":"mfluharty","name":"Miranda Fluharty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3374280/avatar.png","web_url":"https://gitlab.com/mfluharty"},"labels":["Actionable Insight::Product change","Category:Build Artifacts","GitLab Free","GitLab Premium","GitLab Ultimate","SUS::Non-impacting","UX","Verify::P1","closed::complete","devops::verify","direction","documentation","feature::addition","frontend","group::pipeline insights","section::ops","severity::2","type::feature","workflow::in review"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":3374280,"username":"mfluharty","name":"Miranda Fluharty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3374280/avatar.png","web_url":"https://gitlab.com/mfluharty"}],"author":{"id":9302527,"username":"gdoyle","name":"Gina Doyle","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9302527/avatar.png","web_url":"https://gitlab.com/gdoyle"},"type":"ISSUE","assignee":{"id":3374280,"username":"mfluharty","name":"Miranda Fluharty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3374280/avatar.png","web_url":"https://gitlab.com/mfluharty"},"user_notes_count":23,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362632","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362632","notes":"https://gitlab.com/api/v4/projects/278964/issues/362632/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362632/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362632","relative":"#362632","full":"gitlab-org/gitlab#362632"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7473,"epic":{"id":432942,"iid":7473,"title":"Artifact traceability","url":"/groups/gitlab-org/-/epics/7473","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":108684931,"iid":362618,"project_id":278964,"title":"Update banner implementation in `ee/app/views/trials/_banner.html.haml` to the one compatible with `GlBanner`","description":"Migrate banner implementation in `ee/app/views/trials/_banner.html.haml` to the one compatible with `GlBanner`. The up to date migration strategy can be found in [the parent epic](https://gitlab.com/groups/gitlab-org/-/epics/8076).","state":"closed","created_at":"2022-05-17T13:43:59.009Z","updated_at":"2022-11-22T18:41:41.003Z","closed_at":"2022-06-23T14:29:19.897Z","closed_by":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"labels":["OKR","SUS::Impacting","auto updated","component:banner","devops::manage","frontend","group::billing and subscription management","missed:15.1","pajamas::integrate","section::dev","severity::4","type::maintenance","workflow::production"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"}],"author":{"id":4339707,"username":"ohoral","name":"Olena Horal-Koretska","state":"active","avatar_url":"https://secure.gravatar.com/avatar/42796a7332b4608eb9785986719e7215?s=80\u0026d=identicon","web_url":"https://gitlab.com/ohoral"},"type":"ISSUE","assignee":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362618","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362618","notes":"https://gitlab.com/api/v4/projects/278964/issues/362618/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362618/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362618","relative":"#362618","full":"gitlab-org/gitlab#362618"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8076,"epic":{"id":524235,"iid":8076,"title":"Banner \u003e HAML \u003e migrate to GlBanner","url":"/groups/gitlab-org/-/epics/8076","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":108684704,"iid":362615,"project_id":278964,"title":"Remove unused `user_blocked` failure reason for pipelines","description":"## Problem\n\nThe `:user_blocked` value of `failure_reason` enum for `Pipeline` class is not used.\n\nThe `user_blocked` is only used a job level (`Ci::Build`) but when jobs are failed we trigger the `Ci::ProcessPipelineService` which in turns updates the pipeline status. At this point however, when the pipeline is failed, we don't set the `failure_reason`.\n\nAnother place where we use `user_blocked` failure reason is when we cancel all pipelines related to a user being blocked. Like above, we set `failure_reason: :user_blocked` only to the jobs but this value is not propagated to the `Pipeline` object.\n\nWe can also see that in our [dashboard](https://dashboards.gitlab.net/d/stage-groups-pipeline_execution/stage-groups-pipeline-execution-group-dashboard?orgId=1\u0026viewPanel=72) where `user_blocked` is never used.\n\n## Solution\n\nRemove or deprecate `user_blocked` enum value\n\n```diff\ndiff --git a/app/models/concerns/enums/ci/pipeline.rb b/app/models/concerns/enums/ci/pipeline.rb\nindex 94d11c871ca..d946fbc10c8 100644\n--- a/app/models/concerns/enums/ci/pipeline.rb\n+++ b/app/models/concerns/enums/ci/pipeline.rb\n@@ -15,7 +15,7 @@ def self.failure_reasons\n          size_limit_exceeded: 21,\n          job_activity_limit_exceeded: 22,\n          deployments_limit_exceeded: 23,\n          # user_blocked: 24 ,- DEPRECATED: it was never used\n          project_deleted: 25\n        }\n      end\n```","state":"closed","created_at":"2022-05-17T13:40:28.989Z","updated_at":"2022-06-08T10:13:00.884Z","closed_at":"2022-06-08T10:12:47.828Z","closed_by":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"labels":["Category:Continuous Integration","Community contribution","backend","devops::verify","group::pipeline execution","maintenance::refactor","section::ops","type::maintenance","workflow::production"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"}],"author":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"type":"ISSUE","assignee":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362615","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362615","notes":"https://gitlab.com/api/v4/projects/278964/issues/362615/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362615/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362615","relative":"#362615","full":"gitlab-org/gitlab#362615"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108666929,"iid":362597,"project_id":278964,"title":"Add Data Warehouse::Impact Check label for metric status changes to removed","description":"## Summary\n\nAdd ~\"Data Warehouse::Impact Check\" [label](https://gitlab.com/gitlab-org/gitlab/-/labels?subscribed=\u0026search=Data+Warehouse) to MR when there is a change in Service Ping Metric definition status\n\n## Problem\n\nChanges to metrics status could be breaking downstream data models.\n\n## Why \n\nWe can analyze the impact of the change on the data team side and take the necessary action on the downstream data/models and notify end users accordingly.\n\nRelated with https://gitlab.com/gitlab-org/gitlab/-/issues/347542#note_946222682","state":"closed","created_at":"2022-05-17T09:03:36.078Z","updated_at":"2022-06-21T19:28:33.163Z","closed_at":"2022-06-14T08:04:49.789Z","closed_by":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"labels":["backend","devops::growth","feature::enhancement","group::product intelligence","maintenance::workflow","quad-planning::complete-no-action","section::growth","type::maintenance","workflow::verification"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"}],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"user_notes_count":11,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362597","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362597","notes":"https://gitlab.com/api/v4/projects/278964/issues/362597/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362597/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362597","relative":"#362597","full":"gitlab-org/gitlab#362597"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108666793,"iid":362596,"project_id":278964,"title":"[Feature flag] Cleanup  `use_received_header_for_incoming_emails`","description":"## Summary\n\nThis issue is to cleanup the `use_received_header_for_incoming_emails` feature flag, after the feature flag has been enabled by default for an appropriate amount of time in production.\n\nThis feature flag has been in production since %\"14.9\" with https://gitlab.com/gitlab-org/gitlab/-/merge_requests/81489.\n\nSee https://gitlab.com/gitlab-com/gl-infra/production/-/issues/6419 for more context.\n\n## Owners\n\n- Team: ~\"group:certify\" \n- Most appropriate slack channel to reach out to: `#f_service-desk` or `#g_product-planning`\n- Best individual to reach out to: @cablett or @johnhope\n- PM: @mjwood \n\n## Expectations\n\n### What might happen if this goes wrong?\n\nAs of this writing, this feature flag has been default_enabled for ~3 months, so removal of the feature flag should be low risk. In the case of any issues the MR to remove the feature flag can be reverted.\n\n### Cleaning up the feature flag\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [ ] Create a merge request to remove `use_received_header_for_incoming_emails` feature flag. Ask for review and merge it.\n    - [ ] Remove all references to the feature flag from the codebase.\n    - [ ] Remove the YAML definitions for the feature from the repository.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the cleanup MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-cleanup-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] If not already done, clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [ ] `/chatops run feature delete use_received_header_for_incoming_emails --dev`\n    - [ ] `/chatops run feature delete use_received_header_for_incoming_emails --staging`\n    - [ ] `/chatops run feature delete use_received_header_for_incoming_emails`\n- [ ] Close this rollout issue.","state":"closed","created_at":"2022-05-17T09:01:35.672Z","updated_at":"2022-09-12T15:49:34.145Z","closed_at":"2022-06-27T21:08:22.631Z","closed_by":{"id":3717078,"username":"cablett","name":"charlie ablett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3717078/avatar.png","web_url":"https://gitlab.com/cablett"},"labels":["Stretch","automation:ml","backend","devops::plan","feature flag","feature::addition","group::certify","missed:15.1","section::dev","type::feature","workflow::in review"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":3717078,"username":"cablett","name":"charlie ablett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3717078/avatar.png","web_url":"https://gitlab.com/cablett"}],"author":{"id":3717078,"username":"cablett","name":"charlie ablett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3717078/avatar.png","web_url":"https://gitlab.com/cablett"},"type":"ISSUE","assignee":{"id":3717078,"username":"cablett","name":"charlie ablett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3717078/avatar.png","web_url":"https://gitlab.com/cablett"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362596","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":12,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 12 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362596","notes":"https://gitlab.com/api/v4/projects/278964/issues/362596/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362596/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362596","relative":"#362596","full":"gitlab-org/gitlab#362596"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108663741,"iid":362594,"project_id":278964,"title":"Update MR widget styling","description":"Update MR widget styling to use the same background-color as `Collapse replies` and other parts of the UI.\n\nChange `$gray-50` toi `$gray-10` and change Approval text to use font-weight of 600 instead of 700.\n\n| Before | After |\n| ------ | ------ |\n| ![before](/uploads/29c6df00239fa5483d70c3117e4317c4/before.png) | ![after](/uploads/25eac298d0300fbe84e85cb336ac381e/after.png) |","state":"closed","created_at":"2022-05-17T08:36:16.088Z","updated_at":"2022-06-09T12:03:21.832Z","closed_at":"2022-06-09T12:03:21.772Z","closed_by":{"id":10822627,"username":"seggenberger","name":"Sascha Eggenberger","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10822627/avatar.png","web_url":"https://gitlab.com/seggenberger"},"labels":["SUS::Impacting","UI polish","devops::manage","feature::enhancement","frontend","group::compliance","section::dev","severity::4","type::feature","workflow::in review"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":10822627,"username":"seggenberger","name":"Sascha Eggenberger","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10822627/avatar.png","web_url":"https://gitlab.com/seggenberger"}],"author":{"id":10822627,"username":"seggenberger","name":"Sascha Eggenberger","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10822627/avatar.png","web_url":"https://gitlab.com/seggenberger"},"type":"ISSUE","assignee":{"id":10822627,"username":"seggenberger","name":"Sascha Eggenberger","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10822627/avatar.png","web_url":"https://gitlab.com/seggenberger"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362594","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362594","notes":"https://gitlab.com/api/v4/projects/278964/issues/362594/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362594/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362594","relative":"#362594","full":"gitlab-org/gitlab#362594"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108662848,"iid":362593,"project_id":278964,"title":"Problems arise if there are multiple parallel Omnibus backup/restore processes","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"type::bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=type::bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nUnpredictable behaviour can occur if there's more than one backup process running, and it appears the backup code doesn't protect against this:  eg - a lock/PID file mechanism to identify the duplication\n\nSupport has been investigating the following error (GitLab team members can [read more in the ticket](https://gitlab.zendesk.com/agent/tickets/282589)) generated by a 14.9.x self-managed instance:\n\n```\n2022-04-13 04:34:48 +0000 -- Dumping database ...\nDumping PostgreSQL database gitlabhq_production ... [DONE]\n2022-04-13 04:36:28 +0000 -- done\n[snip]\nCreating backup archive: 1649824588_2022_04_13_14.0.12-ee_gitlab_backup.tar ... tar: db: Cannot stat: No such file or directory\ntar: Exiting with failure status due to previous errors\ncreating archive 1649824588_2022_04_13_14.0.12-ee_gitlab_backup.tar failed\nrake aborted!\nBackup::Error: Backup failed\n/opt/gitlab/embedded/service/gitlab-rails/lib/backup/manager.rb:36:in `block in pack'\n/opt/gitlab/embedded/service/gitlab-rails/lib/backup/manager.rb:27:in `chdir'\n/opt/gitlab/embedded/service/gitlab-rails/lib/backup/manager.rb:27:in `pack'\n/opt/gitlab/embedded/service/gitlab-rails/lib/tasks/gitlab/backup.rake:27:in `block (3 levels) in \u003ctop (required)\u003e'\n/opt/gitlab/embedded/bin/bundle:23:in `load'\n/opt/gitlab/embedded/bin/bundle:23:in `\u003cmain\u003e'\nTasks: TOP =\u003e gitlab:backup:create\n(See full trace by running task with --trace)\n```\n\nThe root cause looks likely to be:\n\n- Scheduled backup took longer than usual to run.\n- A GitLab upgrade was initiated, with kicks off a backup for the database.\n- The scheduled backup completed, likely creating a tar file (with, now, inconsistent contents) and deleting all the working files and directories.\n- The database backup completes, but the output files and directories have been removed.\n\n---\n\nNote also the issue we have for the contents of restores being left behind on disk: https://gitlab.com/gitlab-org/gitlab/-/issues/334401\n\nThis points to backups and restores operate in the same location using the same files and directories, so there's scope for restores to get messed up by scheduled backups as well.\n\n### Steps to reproduce\n\nRun multiple backups on the same machine at the same time.\n\n### Example Project\n\nn/a\n\n### What is the current *bug* behavior?\n\nMultiple backup processes will co-exist in `/var/opt/gitlab/backups` but in practise are using the same output files.\n\n### What is the expected *correct* behavior?\n\nAs written, it's not going to be safe to run multiple backups and restores in parallel, so the second process should detect an inflight process and terminate, or wait for the existing process to complete.\n\nInevitably, we'll get cases where a backup failed or was terminated and left behind the lock mechanism. Then the backup will cease running, and the concequence is likely to be customers who didn't know they had no backups.   So, ideally, the second backup needs to take reasonable steps to check if there's actually an existing backup running, and with bias towards trying to make a backup.\n\nAlternatively, segregate the temporary working directories. Perhaps make it optional, so a GitLab upgrade can \"request\" its own separate part of the filesystem, as a database backup won't use much space.   \n\n### Relevant logs and/or screenshots\n\n\u003c!-- Paste any relevant logs - please use code blocks (```) to format console output, logs, and code\n as it's tough to read otherwise. --\u003e\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e","state":"closed","created_at":"2022-05-17T08:20:18.353Z","updated_at":"2022-11-17T05:37:29.364Z","closed_at":"2022-10-03T11:01:28.640Z","closed_by":{"id":12495884,"username":"jtapiab","name":"Javiera Tapia","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12495884/avatar.png","web_url":"https://gitlab.com/jtapiab"},"labels":["Category:Backup/Restore of GitLab instances","GitLab Premium","approaching-SLO","customer","devops::systems","group::geo","missed-SLO","missed:15.4","priority::2","section::enablement","severity::2","type::bug"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":12495884,"username":"jtapiab","name":"Javiera Tapia","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12495884/avatar.png","web_url":"https://gitlab.com/jtapiab"}],"author":{"id":4624911,"username":"bprescott_","name":"Ben Prescott_","state":"active","avatar_url":"https://secure.gravatar.com/avatar/91aa28150f430ec564dc5af5952c35a0?s=80\u0026d=identicon","web_url":"https://gitlab.com/bprescott_"},"type":"ISSUE","assignee":{"id":12495884,"username":"jtapiab","name":"Javiera Tapia","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12495884/avatar.png","web_url":"https://gitlab.com/jtapiab"},"user_notes_count":16,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362593","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362593","notes":"https://gitlab.com/api/v4/projects/278964/issues/362593/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362593/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362593","relative":"#362593","full":"gitlab-org/gitlab#362593"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108661144,"iid":362591,"project_id":278964,"title":"Rspec failure: spec/lib/gitlab/usage/metrics/instrumentations/count_imported_projects_metric_spec.rb[1:2:2:1:1:1]","description":"Job [#2465622221](https://gitlab.com/gitlab-org/gitlab/-/jobs/2465622221) failed for b2449e306292fdff6f841e65dcec035da9073728:\n\n```\nFailures:\n  1) Gitlab::Usage::Metrics::Instrumentations::CountImportedProjectsMetric with import_type bitbucket for 28d time frame behaves like a correct instrumented metric value and query behaves like a correct instrumented metric value has correct value\n     Failure/Error: expect(metric.value).to eq(expected_value)\n       expected: 2\n            got: 1\n       (compared using ==)\n     Shared Example Group: \"a correct instrumented metric value\" called from ./spec/support/gitlab/usage/metrics_instrumentation_shared_examples.rb:38\n     Shared Example Group: \"a correct instrumented metric value and query\" called from ./spec/lib/gitlab/usage/metrics/instrumentations/count_imported_projects_metric_spec.rb:65\n     # ./spec/support/gitlab/usage/metrics_instrumentation_shared_examples.rb:15:in `block (2 levels) in \u003ctop (required)\u003e'\n     # ./spec/spec_helper.rb:421:in `block (3 levels) in \u003ctop (required)\u003e'\n     # ./spec/support/sidekiq_middleware.rb:9:in `with_sidekiq_server_middleware'\n     # ./spec/spec_helper.rb:412:in `block (2 levels) in \u003ctop (required)\u003e'\n     # ./spec/spec_helper.rb:408:in `block (3 levels) in \u003ctop (required)\u003e'\n     # ./lib/gitlab/application_context.rb:50:in `with_raw_context'\n     # ./spec/spec_helper.rb:408:in `block (2 levels) in \u003ctop (required)\u003e'\n     # ./spec/spec_helper.rb:269:in `block (2 levels) in \u003ctop (required)\u003e'\n     # ./spec/support/system_exit_detected.rb:7:in `block (2 levels) in \u003ctop (required)\u003e'\n     # ./spec/support/flaky_tests.rb:27:in `block (2 levels) in \u003ctop (required)\u003e'\n     # ./spec/support/database/prevent_cross_joins.rb:106:in `block (3 levels) in \u003ctop (required)\u003e'\n     # ./spec/support/database/prevent_cross_joins.rb:60:in `with_cross_joins_prevented'\n     # ./spec/support/database/prevent_cross_joins.rb:106:in `block (2 levels) in \u003ctop (required)\u003e'\nFinished in 14.74 seconds (files took 49.51 seconds to load)\n1 example, 1 failure\nFailed examples:\nrspec './spec/lib/gitlab/usage/metrics/instrumentations/count_imported_projects_metric_spec.rb[1:2:2:1:1:1]' # Gitlab::Usage::Metrics::Instrumentations::CountImportedProjectsMetric with import_type bitbucket for 28d time frame behaves like a correct instrumented metric value and query behaves like a correct instrumented metric value has correct value\nStopped processing SimpleCov as a previous error not related to SimpleCov has been detected\n```","state":"closed","created_at":"2022-05-17T07:55:24.806Z","updated_at":"2022-06-17T22:16:35.964Z","closed_at":"2022-06-15T20:28:27.597Z","closed_by":{"id":8013274,"username":"pskorupa","name":"Piotr Skorupa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8013274/avatar.png","web_url":"https://gitlab.com/pskorupa"},"labels":["Quality","Unplanned","auto updated","automation:ml","backend","devops::growth","failure::flaky-test","group::product intelligence","priority::1","quarantine","section::growth","severity::2","type::bug","workflow::verification"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":8013274,"username":"pskorupa","name":"Piotr Skorupa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8013274/avatar.png","web_url":"https://gitlab.com/pskorupa"}],"author":{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"},"type":"ISSUE","assignee":{"id":8013274,"username":"pskorupa","name":"Piotr Skorupa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8013274/avatar.png","web_url":"https://gitlab.com/pskorupa"},"user_notes_count":35,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362591","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362591","notes":"https://gitlab.com/api/v4/projects/278964/issues/362591/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362591/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362591","relative":"#362591","full":"gitlab-org/gitlab#362591"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108652559,"iid":362573,"project_id":278964,"title":"Revert the temporary change for making AuditEventStreamingWorker backward compatible","description":"## Description\n\nWe made the `AuditEventStreamingWorker` backward compatible in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/87243 temporarily. This was done so that in %\"15.0\" nothing breaks for self-managed customers as we missed following the [correct process to add a new argument to the sidekiq worker](https://docs.gitlab.com/ee/development/sidekiq/compatibility_across_updates.html#add-an-argument) in MR https://gitlab.com/gitlab-org/gitlab/-/merge_requests/86881.\n\n## Implementation Plan\n\nA simple revert of the MR https://gitlab.com/gitlab-org/gitlab/-/merge_requests/87243","state":"closed","created_at":"2022-05-17T04:54:30.021Z","updated_at":"2022-06-01T08:52:13.473Z","closed_at":"2022-06-01T08:52:13.440Z","closed_by":{"id":9821577,"username":"huzaifaiftikhar1","name":"Huzaifa Iftikhar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9821577/avatar.png","web_url":"https://gitlab.com/huzaifaiftikhar1"},"labels":["backend","devops::manage","group::compliance","maintenance::refactor","priority::3","section::dev","type::maintenance","workflow::in review"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":9821577,"username":"huzaifaiftikhar1","name":"Huzaifa Iftikhar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9821577/avatar.png","web_url":"https://gitlab.com/huzaifaiftikhar1"}],"author":{"id":9821577,"username":"huzaifaiftikhar1","name":"Huzaifa Iftikhar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9821577/avatar.png","web_url":"https://gitlab.com/huzaifaiftikhar1"},"type":"ISSUE","assignee":{"id":9821577,"username":"huzaifaiftikhar1","name":"Huzaifa Iftikhar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9821577/avatar.png","web_url":"https://gitlab.com/huzaifaiftikhar1"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362573","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362573","notes":"https://gitlab.com/api/v4/projects/278964/issues/362573/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362573/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362573","relative":"#362573","full":"gitlab-org/gitlab#362573"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108647773,"iid":362564,"project_id":278964,"title":"Replicate AlertManagement::MetricImage","description":"\u003c!--\n\nThis template is based on a model named `AlertManagement::MetricImage`.\n\nTo adapt this template, find and replace the following tokens:\n\n- `AlertManagement::MetricImage`\n- `Alert Metric Image`\n- `alert_management_alert_metric_image`\n- `alertManagmentMetricImage`\n\nIf your Model's pluralized form is non-standard, i.e. it doesn't just end in `s`, find and replace the following tokens *first*:\n\n- `AlertManagement::MetricImages`\n- `Alert Metric Images`\n- `alert_management_alert_metric_images`\n- `alertManagmentMetricImages`\n\n--\u003e\n\n## Replicate Alert Metric Images\n\nThis issue is for implementing Geo replication and verification of Alert Metric Images.\n\nFor more background, see [Geo self-service framework](https://gitlab.com/gitlab-org/gitlab/-/blob/master/doc/development/geo/framework.md).\n\nIn order to implement and test this feature, you need to first [set up Geo locally](https://gitlab.com/gitlab-org/gitlab-development-kit/blob/main/doc/howto/geo.md).\n\nThere are three main sections below. It is a good idea to structure your merge requests this way as well:\n\n1. Modify database schemas to prepare to add Geo support for Alert Metric Images\n1. Implement Geo support of Alert Metric Images behind a feature flag\n1. Release Geo support of Alert Metric Images\n\nIt is also a good idea to first open a proof-of-concept merge request. It can be helpful for working out kinks and getting initial support and feedback from the Geo team. As an example, see the [Proof of Concept to replicate Pipeline Artifacts](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/56423).\n\nYou can look into the following examples of MRs for implementing replication/verification for a new blob type:\n- [Add db changes](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/60935) and [add verification for MR diffs using SSF](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/63309)\n- [Verify Terraform state versions](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/58800)\n- [Verify LFS objects](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/63981)\n\n### Modify database schemas to prepare to add Geo support for Alert Metric Images\n\nYou might do this section in its own merge request, but it is not required.\n\n#### Add the registry table to track replication and verification state\n\nGeo secondary sites have a [Geo tracking database](https://gitlab.com/gitlab-org/gitlab/-/blob/master/doc/development/geo.md#tracking-database) independent of the main database. It is used to track the replication and verification state of all replicables. Every Model has a corresponding \"registry\" table in the Geo tracking database.\n\n- [x] Create the migration file in `ee/db/geo/migrate`:\n\n  ```shell\n  bin/rails generate migration CreateAlertManagement::MetricImageRegistry --database geo\n  ```\n\n- [x] Replace the contents of the migration file with the following. Note that we cannot add a foreign key constraint on `alert_management_alert_metric_image_id` because the `alert_management_alert_metric_images` table is in a different database. The application code must handle logic such as propagating deletions.\n\n  ```ruby\n  # frozen_string_literal: true\n\n  class CreateAlertManagement::MetricImageRegistry \u003c Gitlab::Database::Migration[1.0]\n    disable_ddl_transaction!\n\n    def up\n      ApplicationRecord.transaction do\n        create_table :alert_management_alert_metric_image_registry, id: :bigserial, force: :cascade do |t|\n          t.bigint :alert_management_alert_metric_image_id, null: false\n          t.datetime_with_timezone :created_at, null: false\n          t.datetime_with_timezone :last_synced_at\n          t.datetime_with_timezone :retry_at\n          t.datetime_with_timezone :verified_at\n          t.datetime_with_timezone :verification_started_at\n          t.datetime_with_timezone :verification_retry_at\n          t.integer :state, default: 0, null: false, limit: 2\n          t.integer :verification_state, default: 0, null: false, limit: 2\n          t.integer :retry_count, default: 0, limit: 2, null: false\n          t.integer :verification_retry_count, default: 0, limit: 2, null: false\n          t.boolean :checksum_mismatch, default: false, null: false\n          t.binary :verification_checksum\n          t.binary :verification_checksum_mismatched\n          t.text :verification_failure, limit: 255\n          t.text :last_sync_failure, limit: 255\n\n          t.index :alert_management_alert_metric_image_id, name: :index_alert_management_alert_metric_image_registry_on_alert_management_alert_metric_image_id, unique: true\n          t.index :retry_at\n          t.index :state\n          # To optimize performance of AlertManagement::MetricImageRegistry.verification_failed_batch\n          t.index :verification_retry_at, name:  :alert_management_alert_metric_image_registry_failed_verification, order: \"NULLS FIRST\",  where: \"((state = 2) AND (verification_state = 3))\"\n          # To optimize performance of AlertManagement::MetricImageRegistry.needs_verification_count\n          t.index :verification_state, name:  :alert_management_alert_metric_image_registry_needs_verification, where: \"((state = 2)  AND (verification_state = ANY (ARRAY[0, 3])))\"\n          # To optimize performance of AlertManagement::MetricImageRegistry.verification_pending_batch\n          t.index :verified_at, name: :alert_management_alert_metric_image_registry_pending_verification, order: \"NULLS FIRST\", where: \"((state = 2) AND (verification_state = 0))\"\n        end\n      end\n    end\n\n    def down\n      drop_table :alert_management_alert_metric_image_registry\n    end\n  end\n  ```\n\n- [x] If deviating from the above example, then be sure to order columns according to [our guidelines](https://gitlab.com/gitlab-org/gitlab/-/blob/master/doc/development/ordering_table_columns.md).\n\n- [x] Add the new table to the GitLab Schema defined in [`ee/lib/ee/gitlab/database/gitlab_schemas.yml`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/lib/ee/gitlab/database/gitlab_schemas.yml).\n\n   ```yaml\n   alert_management_alert_metric_image_registry: :gitlab_geo\n   ```\n\n- [x] Run Geo tracking database migrations:\n\n  ```shell\n  bin/rake db:migrate:geo\n  ```\n\n- [x] Be sure to commit the relevant changes in `ee/db/geo/structure.sql`\n\n### Add verification state fields on the Geo primary site\n\nThe Geo primary site needs to checksum every replicable so secondaries can verify their own checksums. To do this, Geo requires fields on the Model. Add verification state fields to a separate table. Consult a database expert if needed.\n\n#### Add verification state fields to a new table\n\n- [x] Create the migration file in `db/migrate`:\n\n  ```shell\n  bin/rails generate migration CreateAlertManagement::MetricImageStates\n  ```\n\n- [x] Replace the contents of the migration file with:\n\n  ```ruby\n  # frozen_string_literal: true\n\n  class CreateAlertManagement::MetricImageStates \u003c Gitlab::Database::Migration[2.0]\n    VERIFICATION_STATE_INDEX_NAME = \"index_alert_management_alert_metric_image_states_on_verification_state\"\n    PENDING_VERIFICATION_INDEX_NAME = \"index_alert_management_alert_metric_image_states_pending_verification\"\n    FAILED_VERIFICATION_INDEX_NAME = \"index_alert_management_alert_metric_image_states_failed_verification\"\n    NEEDS_VERIFICATION_INDEX_NAME = \"index_alert_management_alert_metric_image_states_needs_verification\"\n\n    enable_lock_retries!\n\n    def up\n      create_table :alert_management_alert_metric_image_states, id: false do |t|\n        t.datetime_with_timezone :verification_started_at\n        t.datetime_with_timezone :verification_retry_at\n        t.datetime_with_timezone :verified_at\n        t.references :alert_management_alert_metric_image, primary_key: true, default: nil, index: false, foreign_key: { on_delete: :cascade }\n        t.integer :verification_state, default: 0, limit: 2, null: false\n        t.integer :verification_retry_count, limit: 2\n        t.binary :verification_checksum, using: 'verification_checksum::bytea'\n        t.text :verification_failure, limit: 255\n\n        t.index :verification_state, name: VERIFICATION_STATE_INDEX_NAME\n        t.index :verified_at, where: \"(verification_state = 0)\", order: { verified_at: 'ASC NULLS FIRST' }, name: PENDING_VERIFICATION_INDEX_NAME\n        t.index :verification_retry_at, where: \"(verification_state = 3)\", order: { verification_retry_at: 'ASC NULLS FIRST' }, name: FAILED_VERIFICATION_INDEX_NAME\n        t.index :verification_state, where: \"(verification_state = 0 OR verification_state = 3)\", name: NEEDS_VERIFICATION_INDEX_NAME\n      end\n    end\n\n    def down\n      drop_table :alert_management_alert_metric_image_states\n    end\n  end\n  ```\n\n- [x] If deviating from the above example, then be sure to order columns according to [our guidelines](https://gitlab.com/gitlab-org/gitlab/-/blob/master/doc/development/ordering_table_columns.md).\n\n- [x] Add the new table to the GitLab Schema defined in [`lib/gitlab/database/gitlab_schemas.yml`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/database/gitlab_schemas.yml) with the databases they need to be added to.\n\n   ```yaml\n   alert_management_alert_metric_image_states: :gitlab_main\n   ```\n\n- [x] Run database migrations:\n\n  ```shell\n  bin/rake db:migrate\n  ```\n\n- [x] If `alert_management_alert_metric_images` is a high-traffic table, follow [the database documentation to use `with_lock_retries`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/doc/development/migration_style_guide.md#when-to-use-the-helper-method)\n\n- [x] Be sure to commit the relevant changes in `db/structure.sql`\n\nThat's all of the required database changes.\n\n### Implement Geo support of Alert Metric Images behind a feature flag\n\n#### Step 1. Implement replication and verification\n\n- [x] Add the following lines to the `alert_management_alert_metric_image` model to accomplish some important tasks:\n  - Include `::Geo::ReplicableModel` in the `AlertManagement::MetricImage` class, and specify the Replicator class `with_replicator Geo::AlertManagement::MetricImageReplicator`.\n  - Include the `::Geo::VerifiableModel` concern.\n  - Delegate verification related methods to the `alert_management_alert_metric_image_state` model.\n  - For verification, override some scopes to use the `alert_management_alert_metric_image_states` table instead of the model table.\n  - Implement the `verification_state_object` method to return the object that holds\n    the verification details\n  - Override some methods to use the `alert_management_alert_metric_image_states` table in verification-related queries.\n\n  At this point the `AlertManagement::MetricImage` class should look like this:\n\n  ```ruby\n  # frozen_string_literal: true\n\n  class AlertManagement::MetricImage \u003c ApplicationRecord\n    ...\n    include ::Geo::ReplicableModel\n    include ::Geo::VerifiableModel\n\n    delegate(*::Geo::VerificationState::VERIFICATION_METHODS, to: :alert_management_alert_metric_image_state)\n\n    with_replicator Geo::AlertManagement::MetricImageReplicator\n\n    mount_uploader :file, AlertManagement::MetricImageUploader\n\n    has_one :alert_management_alert_metric_image_state, autosave: false, inverse_of: :alert_management_alert_metric_image, class_name: 'Geo::AlertManagement::MetricImageState'\n\n    after_save :save_verification_details\n\n    scope :with_verification_state, -\u003e(state) { joins(:alert_management_alert_metric_image_state).where(alert_management_alert_metric_image_states: { verification_state: verification_state_value(state) }) }\n    scope :checksummed, -\u003e { joins(:alert_management_alert_metric_image_state).where.not(alert_management_alert_metric_image_states: { verification_checksum: nil } ) }\n    scope :not_checksummed, -\u003e { joins(:alert_management_alert_metric_image_state).where(alert_management_alert_metric_image_states: { verification_checksum: nil } ) }\n\n    scope :available_verifiables, -\u003e { joins(:alert_management_alert_metric_image_state) }\n\n    # Override the `all` default if not all records can be replicated. For an\n    # example of an existing Model that needs to do this, see\n    # `EE::MergeRequestDiff`.\n    # scope :available_replicables, -\u003e { all }\n\n    def verification_state_object\n      alert_management_alert_metric_image_state\n    end\n    ...\n\n    class_methods do\n      extend ::Gitlab::Utils::Override\n      ...\n\n      # @param primary_key_in [Range, AlertManagement::MetricImage] arg to pass to primary_key_in scope\n      # @return [ActiveRecord::Relation\u003cAlertManagement::MetricImage\u003e] everything that should be synced to this node, restricted by primary key\n      def self.replicables_for_current_secondary(primary_key_in)\n        # This issue template does not help you write this method.\n        #\n        # This method is called only on Geo secondary sites. It is called when\n        # we want to know which records to replicate. This is not easy to automate\n        # because for example:\n        #\n        # * The \"selective sync\" feature allows admins to choose which namespaces #   to replicate, per secondary site. Most Models are scoped to a\n        #   namespace, but the nature of the relationship to a namespace varies\n        #   between Models.\n        # * The \"selective sync\" feature allows admins to choose which shards to\n        #   replicate, per secondary site. Repositories are associated with\n        #   shards. Most blob types are not, but Project Uploads are.\n        # * Remote stored replicables are not replicated, by default. But the\n        #   setting `sync_object_storage` enables replication of remote stored\n        #   replicables.\n        #\n        # Search the codebase for examples, and consult a Geo expert if needed.\n      end\n\n      override :verification_state_table_class\n      def verification_state_table_class\n        AlertManagement::MetricImageState\n      end\n    end\n    ...\n\n    def alert_management_alert_metric_image_state\n      super || build_alert_management_alert_metric_image_state\n    end\n\n    ...\n  end\n  ```\n\n- [x] Implement `AlertManagement::MetricImage.replicables_for_current_secondary` above.\n- [x] Ensure `AlertManagement::MetricImage.replicables_for_current_secondary` is well-tested. Search the codebase for `replicables_for_current_secondary` to find examples of parameterized table specs. You may need to add more `FactoryBot` traits.\n- [x] Add the following shared examples to `ee/spec/models/ee/alert_management_alert_metric_image_spec.rb`:\n\n  ```ruby\n    include_examples 'a replicable model with a separate table for verification state' do\n      let(:verifiable_model_record) { build(:alert_management_alert_metric_image) } # add extra params if needed to make sure the record is included in `available_verifiables`\n      let(:unverifiable_model_record) { build(:alert_management_alert_metric_image) } # add extra params if needed to make sure the record is NOT included in `available_verifiables`\n    end\n  ```\n\n- [x] Create `ee/app/replicators/geo/alert_management_alert_metric_image_replicator.rb`. Implement the `#carrierwave_uploader` method which should return a `CarrierWave::Uploader`, and implement the class method `.model` to return the `AlertManagement::MetricImage` class:\n\n  ```ruby\n  # frozen_string_literal: true\n\n  module Geo\n    class AlertManagement::MetricImageReplicator \u003c Gitlab::Geo::Replicator\n      include ::Geo::BlobReplicatorStrategy\n      extend ::Gitlab::Utils::Override\n\n      def self.model\n        ::AlertManagement::MetricImage\n      end\n\n      def carrierwave_uploader\n        model_record.file\n      end\n\n      override :verification_feature_flag_enabled?\n      def self.verification_feature_flag_enabled?\n        # We are adding verification at the same time as replication, so we\n        # don't need to toggle verification separately from replication. When\n        # the replication feature flag is off, then verification is also off\n        # (see `VerifiableReplicator.verification_enabled?`)\n        true\n      end\n\n    end\n  end\n  ```\n\n- [x] Generate the feature flag definition file by running the feature flag commands and following the command prompts:\n\n  ```shell\n  bin/feature-flag --ee geo_alert_management_alert_metric_image_replication --type development --group 'group::geo'\n  bin/feature-flag --ee geo_alert_management_alert_metric_image_verification --type development --group 'group::geo'\n  ```\n\n- [x] Add this replicator class to the method `replicator_classes` in\n  `ee/lib/gitlab/geo.rb`:\n\n  ```ruby\n  REPLICATOR_CLASSES = [\n    ::Geo::PackageFileReplicator,\n    ::Geo::AlertManagement::MetricImageReplicator\n  ]\n  end\n  ```\n\n- [x] Create `ee/spec/replicators/geo/alert_management_alert_metric_image_replicator_spec.rb` and perform the necessary setup to define the `model_record` variable for the shared examples:\n\n  ```ruby\n  # frozen_string_literal: true\n\n  require 'spec_helper'\n\n  RSpec.describe Geo::AlertManagement::MetricImageReplicator do\n    let(:model_record) { build(:alert_management_alert_metric_image) }\n\n    include_examples 'a blob replicator'\n    include_examples 'a verifiable replicator'\n  end\n  ```\n\n- [x] Create `ee/app/models/geo/alert_management_alert_metric_image_registry.rb`:\n\n  ```ruby\n  # frozen_string_literal: true\n\n  class Geo::AlertManagement::MetricImageRegistry \u003c Geo::BaseRegistry\n    include ::Geo::ReplicableRegistry\n    include ::Geo::VerifiableRegistry\n\n    MODEL_CLASS = ::AlertManagement::MetricImage\n    MODEL_FOREIGN_KEY = :alert_management_alert_metric_image_id\n\n    belongs_to :alert_management_alert_metric_image, class_name: 'AlertManagement::MetricImage'\n  end\n  ```\n\n- [x] Update `REGISTRY_CLASSES` in `ee/app/workers/geo/secondary/registry_consistency_worker.rb`.\n- [x] Add a custom factory name if needed in `def model_class_factory_name` in `ee/spec/support/helpers/ee/geo_helpers.rb`.\n- [x] Update `it 'creates missing registries for each registry class'` in `ee/spec/workers/geo/secondary/registry_consistency_worker_spec.rb`.\n- [x] Add `alert_management_alert_metric_image_registry` to `ActiveSupport::Inflector.inflections` in `config/initializers_before_autoloader/000_inflections.rb`.\n- [x] Create `ee/spec/factories/geo/alert_management_alert_metric_image_registry.rb`:\n\n  ```ruby\n  # frozen_string_literal: true\n\n  FactoryBot.define do\n    factory :geo_alert_management_alert_metric_image_registry, class: 'Geo::AlertManagement::MetricImageRegistry' do\n      alert_management_alert_metric_image # This association should have data, like a file or repository\n      state { Geo::AlertManagement::MetricImageRegistry.state_value(:pending) }\n\n      trait :synced do\n        state { Geo::AlertManagement::MetricImageRegistry.state_value(:synced) }\n        last_synced_at { 5.days.ago }\n      end\n\n      trait :failed do\n        state { Geo::AlertManagement::MetricImageRegistry.state_value(:failed) }\n        last_synced_at { 1.day.ago }\n        retry_count { 2 }\n        last_sync_failure { 'Random error' }\n      end\n\n      trait :started do\n        state { Geo::AlertManagement::MetricImageRegistry.state_value(:started) }\n        last_synced_at { 1.day.ago }\n        retry_count { 0 }\n      end\n\n      trait :verification_succeeded do\n        verification_checksum { 'e079a831cab27bcda7d81cd9b48296d0c3dd92ef' }\n        verification_state { Geo::AlertManagement::MetricImageRegistry.verification_state_value(:verification_succeeded) }\n        verified_at { 5.days.ago }\n      end\n    end\n  end\n  ```\n\n- [x] Create `ee/spec/models/geo/alert_management_alert_metric_image_registry_spec.rb`:\n\n  ```ruby\n  # frozen_string_literal: true\n\n  require 'spec_helper'\n\n  RSpec.describe Geo::AlertManagement::MetricImageRegistry, :geo, type: :model do\n    let_it_be(:registry) { create(:geo_alert_management_alert_metric_image_registry) }\n\n    specify 'factory is valid' do\n      expect(registry).to be_valid\n    end\n\n    include_examples 'a Geo framework registry'\n    include_examples 'a Geo verifiable registry'\n  end\n  ```\n\n- [x] Add the following to `spec/factories/alert_management_alert_metric_images.rb`:\n\n  ```ruby\n  trait(:verification_succeeded) do\n    with_file\n    verification_checksum { 'abc' }\n    verification_state { AlertManagement::MetricImage.verification_state_value(:verification_succeeded) }\n  end\n\n  trait(:verification_failed) do\n    with_file\n    verification_failure { 'Could not calculate the checksum' }\n    verification_state { AlertManagement::MetricImage.verification_state_value(:verification_failed) }\n  end\n  ```\n\n- [x] Make sure the factory also allows setting a `project` attribute. If the model does not have a direct relation to a project, you can use a `transient` attribute. Check out `spec/factories/merge_request_diffs.rb` for an example.\n\n- [x] Following [the example of Merge Request Diffs](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/63309) add a `Geo::AlertManagement::MetricImageState` model in `ee/app/models/ee/geo/alert_management_alert_metric_image_state.rb`:\n\n  ``` ruby\n  module Geo\n    class AlertManagement::MetricImageState \u003c ApplicationRecord\n      include EachBatch\n      include ::Geo::VerificationStateDefinition\n\n      self.primary_key = :alert_management_alert_metric_image_id\n\n      belongs_to :alert_management_alert_metric_image, inverse_of: :alert_management_alert_metric_image_state\n\n      validates :verification_failure, length: { maximum: 255 }\n      validates :verification_state, :alert_management_alert_metric_image, presence: true\n    end\n  end\n  ```\n\n- [x] Add a `factory` for `alert_management_alert_metric_image_state`, in `ee/spec/factories/geo/alert_management_alert_metric_image_states.rb`:\n\n  ``` ruby\n  # frozen_string_literal: true\n\n  FactoryBot.define do\n    factory :geo_alert_management_alert_metric_image_state, class: 'Geo::AlertManagement::MetricImageState' do\n      alert_management_alert_metric_image\n\n      trait(:checksummed) do\n        verification_checksum { 'abc' }\n      end\n\n      trait(:checksum_failure) do\n        verification_failure { 'Could not calculate the checksum' }\n      end\n    end\n  end\n  ```\n\n#### Step 2. Implement metrics gathering\n\nMetrics are gathered by `Geo::MetricsUpdateWorker`, persisted in `GeoNodeStatus` for display in the UI, and sent to Prometheus:\n\n- [x] Add the following fields to Geo Node Status example responses in `doc/api/geo_nodes.md`:\n  - `alert_management_alert_metric_images_count`\n  - `alert_management_alert_metric_images_checksum_total_count`\n  - `alert_management_alert_metric_images_checksummed_count`\n  - `alert_management_alert_metric_images_checksum_failed_count`\n  - `alert_management_alert_metric_images_synced_count`\n  - `alert_management_alert_metric_images_failed_count`\n  - `alert_management_alert_metric_images_registry_count`\n  - `alert_management_alert_metric_images_verification_total_count`\n  - `alert_management_alert_metric_images_verified_count`\n  - `alert_management_alert_metric_images_verification_failed_count`\n  - `alert_management_alert_metric_images_synced_in_percentage`\n  - `alert_management_alert_metric_images_verified_in_percentage`\n- [x] Add the same fields to `GET /geo_nodes/status` example response in\n  `ee/spec/fixtures/api/schemas/public_api/v4/geo_node_status.json`.\n- [x] Add the following fields to the `Sidekiq metrics` table in `doc/administration/monitoring/prometheus/gitlab_metrics.md`:\n  - `geo_alert_management_alert_metric_images`\n  - `geo_alert_management_alert_metric_images_checksum_total`\n  - `geo_alert_management_alert_metric_images_checksummed`\n  - `geo_alert_management_alert_metric_images_checksum_failed`\n  - `geo_alert_management_alert_metric_images_synced`\n  - `geo_alert_management_alert_metric_images_failed`\n  - `geo_alert_management_alert_metric_images_registry`\n  - `geo_alert_management_alert_metric_images_verification_total`\n  - `geo_alert_management_alert_metric_images_verified`\n  - `geo_alert_management_alert_metric_images_verification_failed`\n\nAlert Metric Image replication and verification metrics should now be available in the API, the `Admin \u003e Geo \u003e Nodes` view, and Prometheus.\n\n#### Step 3. Implement the GraphQL API\n\nThe GraphQL API is used by `Admin \u003e Geo \u003e Replication Details` views, and is directly queryable by administrators.\n\n- [x] Add a new field to `GeoNodeType` in `ee/app/graphql/types/geo/geo_node_type.rb`:\n\n  ```ruby\n  field :alert_management_alert_metric_image_registries, ::Types::Geo::AlertManagement::MetricImageRegistryType.connection_type,\n        null: true,\n        resolver: ::Resolvers::Geo::AlertManagement::MetricImageRegistriesResolver,\n        description: 'Find Alert Metric Image registries on this Geo node',\n        feature_flag: :geo_alert_management_alert_metric_image_replication\n  ```\n\n- [x] Add the new `alert_management_alert_metric_image_registries` field name to the `expected_fields` array in `ee/spec/graphql/types/geo/geo_node_type_spec.rb`.\n- [x] Create `ee/app/graphql/resolvers/geo/alert_management_alert_metric_image_registries_resolver.rb`:\n\n  ```ruby\n  # frozen_string_literal: true\n\n  module Resolvers\n    module Geo\n      class AlertManagement::MetricImageRegistriesResolver \u003c BaseResolver\n        type ::Types::Geo::GeoNodeType.connection_type, null: true\n\n        include RegistriesResolver\n      end\n    end\n  end\n  ```\n\n- [x] Create `ee/spec/graphql/resolvers/geo/alert_management_alert_metric_image_registries_resolver_spec.rb`:\n\n  ```ruby\n  # frozen_string_literal: true\n\n  require 'spec_helper'\n\n  RSpec.describe Resolvers::Geo::AlertManagement::MetricImageRegistriesResolver do\n    it_behaves_like 'a Geo registries resolver', :geo_alert_management_alert_metric_image_registry\n  end\n  ```\n\n- [x] Create `ee/app/finders/geo/alert_management_alert_metric_image_registry_finder.rb`:\n\n  ```ruby\n  # frozen_string_literal: true\n\n  module Geo\n    class AlertManagement::MetricImageRegistryFinder\n      include FrameworkRegistryFinder\n    end\n  end\n  ```\n\n- [x] Create `ee/spec/finders/geo/alert_management_alert_metric_image_registry_finder_spec.rb`:\n\n  ```ruby\n  # frozen_string_literal: true\n\n  require 'spec_helper'\n\n  RSpec.describe Geo::AlertManagement::MetricImageRegistryFinder do\n    it_behaves_like 'a framework registry finder', :geo_alert_management_alert_metric_image_registry\n  end\n  ```\n\n- [x] Create `ee/app/graphql/types/geo/alert_management_alert_metric_image_registry_type.rb`:\n\n  ```ruby\n  # frozen_string_literal: true\n\n  module Types\n    module Geo\n      # rubocop:disable Graphql/AuthorizeTypes because it is included\n      class AlertManagement::MetricImageRegistryType \u003c BaseObject\n        include ::Types::Geo::RegistryType\n\n        graphql_name 'AlertManagement::MetricImageRegistry'\n        description 'Represents the Geo replication and verification state of a alert_management_alert_metric_image'\n\n        field :alert_management_alert_metric_image_id, GraphQL::ID_TYPE, null: false, description: 'ID of the Alert Metric Image'\n      end\n    end\n  end\n  ```\n\n- [x] Create `ee/spec/graphql/types/geo/alert_management_alert_metric_image_registry_type_spec.rb`:\n\n  ```ruby\n  # frozen_string_literal: true\n\n  require 'spec_helper'\n\n  RSpec.describe GitlabSchema.types['AlertManagement::MetricImageRegistry'] do\n    it_behaves_like 'a Geo registry type'\n\n    it 'has the expected fields (other than those included in RegistryType)' do\n      expected_fields = %i[alert_management_alert_metric_image_id]\n\n      expect(described_class).to have_graphql_fields(*expected_fields).at_least\n    end\n  end\n  ```\n\n- [x] Add integration tests for providing AlertManagement::MetricImage registry data to the frontend via the GraphQL API, by duplicating and modifying the following shared examples in `ee/spec/requests/api/graphql/geo/registries_spec.rb`:\n\n  ```ruby\n  it_behaves_like 'gets registries for', {\n    field_name: 'alertManagmentMetricImageRegistries',\n    registry_class_name: 'AlertManagement::MetricImageRegistry',\n    registry_factory: :geo_alert_management_alert_metric_image_registry,\n    registry_foreign_key_field_name: 'alertManagmentMetricImageId'\n  }\n  ```\n\n- [x] Update the GraphQL reference documentation:\n\n  ```shell\n  bundle exec rake gitlab:graphql:compile_docs\n  ```\n\nIndividual Alert Metric Image replication and verification data should now be available via the GraphQL API.\n\n#### Step 4. Handle batch destroy\n\nIf batch destroy logic is implemented for a replicable, then that logic must be \"replicated\" by Geo secondaries. The easiest way to do this is use `Geo::BatchEventCreateWorker` to bulk insert a delete event for each replicable.\n\nFor example, if `FastDestroyAll` is used, then you may be able to [use `begin_fast_destroy` and `finalize_fast_destroy` hooks, like we did for uploads](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/69763).\n\nOr if a special service is used to batch delete records and their associated data, then you probably need to [hook into that service, like we did for job artifacts](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/79530).\n\nAs illustrated by the above two examples, batch destroy logic cannot be handled automatically by Geo secondaries without restricting the way other teams perform batch destroys. It is up to you to produce `Geo::BatchEventCreateWorker` attributes before the records are deleted, and then enqueue `Geo::BatchEventCreateWorker` after the records are deleted.\n\n- [x] Ensure that any batch destroy of this replicable is replicated to secondary sites\n- [x] Regardless of implementation details, please verify in specs that when the parent object is removed, the new `Geo::Event` records are created:\n\n```ruby\n  describe '#destroy' do\n    subject { create(:alert_management_alert_metric_image) }\n\n    context 'when running in a Geo primary node' do\n      let_it_be(:primary) { create(:geo_node, :primary) }\n      let_it_be(:secondary) { create(:geo_node) }\n\n      it 'logs an event to the Geo event log when bulk removal is used', :sidekiq_inline do\n        stub_current_geo_node(primary)\n\n        expect { subject.project.destroy! }.to change(Geo::Event.where(replicable_name: :alert_management_alert_metric_image, event_name: :deleted), :count).by(1)\n\n        payload = Geo::Event.where(replicable_name: :alert_management_alert_metric_image, event_name: :deleted).last.payload\n\n        expect(payload['model_record_id']).to eq(subject.id)\n        expect(payload['blob_path']).to eq(subject.relative_path)\n        expect(payload['uploader_class']).to eq('AlertManagement::MetricImageUploader')\n      end\n    end\n  end\n```\n\n### Release Geo support of Alert Metric Images\n\n- [x] In the rollout issue you created when creating the feature flag, modify the Roll Out Steps:\n  - [x] Cross out any steps related to testing on production GitLab.com, because Geo is not running on production GitLab.com at the moment.\n  - [x] Add a step to `Test replication and verification of Alert Metric Images on a non-GDK-deployment. For example, using GitLab Environment Toolkit`.\n  - [x] Add a step to `Ping the Geo PM and EM to coordinate testing`. For example, you might add steps to generate Alert Metric Images, and then a Geo engineer may take it from there.\n- [x] In `ee/config/feature_flags/development/geo_alert_management_alert_metric_image_replication.yml`, set `default_enabled: true`\n- [x] In `ee/app/graphql/types/geo/geo_node_type.rb`, remove the `feature_flag` option for the released type:\n\n  ```ruby\n  field :alert_management_alert_metric_image_registries, ::Types::Geo::AlertManagement::MetricImageRegistryType.connection_type,\n        null: true,\n        resolver: ::Resolvers::Geo::AlertManagement::MetricImageRegistriesResolver,\n        description: 'Find Alert Metric Image registries on this Geo node',\n        feature_flag: :geo_alert_management_alert_metric_image_replication # REMOVE THIS LINE\n  ```\n\n- [x] Run `bundle exec rake gitlab:graphql:compile_docs` after the step above to regenerate the GraphQL docs.\n\n- [x] Add a row for Alert Metric Images to the `Data types` table in [Geo data types support](https://gitlab.com/gitlab-org/gitlab/blob/master/doc/administration/geo/replication/datatypes.md#data-types)\n- [x] Add a row for Alert Metric Images to the `Limitations on replication/verification` table in [Geo data types support](https://gitlab.com/gitlab-org/gitlab/blob/master/doc/administration/geo/replication/datatypes.md#limitations-on-replicationverification). If the row already exists, then update it to show that Replication and Verification is released in the current version.","state":"closed","created_at":"2022-05-17T01:34:37.930Z","updated_at":"2022-10-18T15:37:28.082Z","closed_at":"2022-10-14T15:04:18.215Z","closed_by":{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"},"labels":["Enterprise Edition","GitLab Premium","automation:ml","devops::systems","feature::addition","group::geo","section::enablement","type::feature","workflow::in dev"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"}],"author":{"id":3945330,"username":"seanarnold","name":"Sean Arnold","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c0bda1b68a7462959aa82bb63bda9b80?s=80\u0026d=identicon","web_url":"https://gitlab.com/seanarnold"},"type":"ISSUE","assignee":{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"},"user_notes_count":15,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362564","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":56,"completed_count":56},"weight":4,"blocking_issues_count":0,"has_tasks":true,"task_status":"56 of 56 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362564","notes":"https://gitlab.com/api/v4/projects/278964/issues/362564/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362564/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362564","relative":"#362564","full":"gitlab-org/gitlab#362564"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4988,"epic":{"id":150815,"iid":4988,"title":" Disaster Recovery lovable maturity","url":"/groups/gitlab-org/-/epics/4988","group_id":9970,"human_readable_end_date":"Sep 17, 2023","human_readable_timestamp":"\u003cstrong\u003e8\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":108647416,"iid":362561,"project_id":278964,"title":"Replicate Issuable Metric Images","description":"\u003c!--\n\nThis template is based on a model named `IssuableMetricImage`.\n\nTo adapt this template, find and replace the following tokens:\n\n- `IssuableMetricImage`\n- `Issuable Metric Image`\n- `issuable_metric_image`\n- `IssuableMetricImage`\n\nIf your Model's pluralized form is non-standard, i.e. it doesn't just end in `s`, find and replace the following tokens *first*:\n\n- `IssuableMetricImages`\n- `Issuable Metric Images`\n- `issuable_metric_images`\n- `IssuableMetricImages`\n\n--\u003e\n\n## Replicate Issuable Metric Images\n\nThis issue is for implementing Geo replication and verification of Issuable Metric Images.\n\nFor more background, see [Geo self-service framework](https://gitlab.com/gitlab-org/gitlab/-/blob/master/doc/development/geo/framework.md).\n\nIn order to implement and test this feature, you need to first [set up Geo locally](https://gitlab.com/gitlab-org/gitlab-development-kit/blob/main/doc/howto/geo.md).\n\nThere are three main sections below. It is a good idea to structure your merge requests this way as well:\n\n1. Modify database schemas to prepare to add Geo support for Issuable Metric Images\n1. Implement Geo support of Issuable Metric Images behind a feature flag\n1. Release Geo support of Issuable Metric Images\n\nIt is also a good idea to first open a proof-of-concept merge request. It can be helpful for working out kinks and getting initial support and feedback from the Geo team. As an example, see the [Proof of Concept to replicate Pipeline Artifacts](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/56423).\n\nYou can look into the following examples of MRs for implementing replication/verification for a new blob type:\n- [Add db changes](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/60935) and [add verification for MR diffs using SSF](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/63309)\n- [Verify Terraform state versions](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/58800)\n- [Verify LFS objects](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/63981)\n\n### Modify database schemas to prepare to add Geo support for Issuable Metric Images\n\nYou might do this section in its own merge request, but it is not required.\n\n#### Add the registry table to track replication and verification state\n\nGeo secondary sites have a [Geo tracking database](https://gitlab.com/gitlab-org/gitlab/-/blob/master/doc/development/geo.md#tracking-database) independent of the main database. It is used to track the replication and verification state of all replicables. Every Model has a corresponding \"registry\" table in the Geo tracking database.\n\n- [ ] Create the migration file in `ee/db/geo/migrate`:\n\n  ```shell\n  bin/rails generate migration CreateIssuableMetricImageRegistry --database geo\n  ```\n\n- [ ] Replace the contents of the migration file with the following. Note that we cannot add a foreign key constraint on `issuable_metric_image_id` because the `issuable_metric_images` table is in a different database. The application code must handle logic such as propagating deletions.\n\n  ```ruby\n  # frozen_string_literal: true\n\n  class CreateIssuableMetricImageRegistry \u003c Gitlab::Database::Migration[1.0]\n    disable_ddl_transaction!\n\n    def up\n      ActiveRecord::Base.transaction do\n        create_table :issuable_metric_image_registry, id: :bigserial, force: :cascade do |t|\n          t.bigint :issuable_metric_image_id, null: false\n          t.datetime_with_timezone :created_at, null: false\n          t.datetime_with_timezone :last_synced_at\n          t.datetime_with_timezone :retry_at\n          t.datetime_with_timezone :verified_at\n          t.datetime_with_timezone :verification_started_at\n          t.datetime_with_timezone :verification_retry_at\n          t.integer :state, default: 0, null: false, limit: 2\n          t.integer :verification_state, default: 0, null: false, limit: 2\n          t.integer :retry_count, default: 0, limit: 2, null: false\n          t.integer :verification_retry_count, default: 0, limit: 2, null: false\n          t.boolean :checksum_mismatch, default: false, null: false\n          t.binary :verification_checksum\n          t.binary :verification_checksum_mismatched\n          t.text :verification_failure, limit: 255\n          t.text :last_sync_failure, limit: 255\n\n          t.index :issuable_metric_image_id, name: :index_issuable_metric_image_registry_on_issuable_metric_image_id, unique: true\n          t.index :retry_at\n          t.index :state\n          # To optimize performance of IssuableMetricImageRegistry.verification_failed_batch\n          t.index :verification_retry_at, name:  :issuable_metric_image_registry_failed_verification, order: \"NULLS FIRST\",  where: \"((state = 2) AND (verification_state = 3))\"\n          # To optimize performance of IssuableMetricImageRegistry.needs_verification_count\n          t.index :verification_state, name:  :issuable_metric_image_registry_needs_verification, where: \"((state = 2)  AND (verification_state = ANY (ARRAY[0, 3])))\"\n          # To optimize performance of IssuableMetricImageRegistry.verification_pending_batch\n          t.index :verified_at, name: :issuable_metric_image_registry_pending_verification, order: \"NULLS FIRST\", where: \"((state = 2) AND (verification_state = 0))\"\n        end\n      end\n    end\n\n    def down\n      drop_table :issuable_metric_image_registry\n    end\n  end\n  ```\n\n- [ ] If deviating from the above example, then be sure to order columns according to [our guidelines](https://gitlab.com/gitlab-org/gitlab/-/blob/master/doc/development/ordering_table_columns.md).\n- [ ] Run Geo tracking database migrations:\n\n  ```shell\n  bin/rake db:migrate:geo\n  ```\n\n- [ ] Be sure to commit the relevant changes in `ee/db/geo/structure.sql`\n\n### Add verification state fields on the Geo primary site\n\nThe Geo primary site needs to checksum every replicable so secondaries can verify their own checksums. To do this, Geo requires fields on the Model. Add verification state fields to a separate table. Consult a database expert if needed.\n\n#### Add verification state fields to a new table\n\n- [ ] Create the migration file in `db/migrate`:\n\n  ```shell\n  bin/rails generate migration CreateIssuableMetricImageStates\n  ```\n\n- [ ] Replace the contents of the migration file with:\n\n  ```ruby\n  # frozen_string_literal: true\n\n  class CreateIssuableMetricImageStates \u003c Gitlab::Database::Migration[2.0]\n    VERIFICATION_STATE_INDEX_NAME = \"index_issuable_metric_image_states_on_verification_state\"\n    PENDING_VERIFICATION_INDEX_NAME = \"index_issuable_metric_image_states_pending_verification\"\n    FAILED_VERIFICATION_INDEX_NAME = \"index_issuable_metric_image_states_failed_verification\"\n    NEEDS_VERIFICATION_INDEX_NAME = \"index_issuable_metric_image_states_needs_verification\"\n\n    enable_lock_retries!\n\n    def up\n      create_table :issuable_metric_image_states, id: false do |t|\n        t.datetime_with_timezone :verification_started_at\n        t.datetime_with_timezone :verification_retry_at\n        t.datetime_with_timezone :verified_at\n        t.references :issuable_metric_image, primary_key: true, null: false, foreign_key: { on_delete: :cascade }\n        t.integer :verification_state, default: 0, limit: 2, null: false\n        t.integer :verification_retry_count, limit: 2\n        t.binary :verification_checksum, using: 'verification_checksum::bytea'\n        t.text :verification_failure, limit: 255\n\n        t.index :verification_state, name: VERIFICATION_STATE_INDEX_NAME\n        t.index :verified_at, where: \"(verification_state = 0)\", order: { verified_at: 'ASC NULLS FIRST' }, name: PENDING_VERIFICATION_INDEX_NAME\n        t.index :verification_retry_at, where: \"(verification_state = 3)\", order: { verification_retry_at: 'ASC NULLS FIRST' }, name: FAILED_VERIFICATION_INDEX_NAME\n        t.index :verification_state, where: \"(verification_state = 0 OR verification_state = 3)\", name: NEEDS_VERIFICATION_INDEX_NAME\n      end\n    end\n\n    def down\n      drop_table :issuable_metric_image_states\n    end\n  end\n  ```\n\n- [ ] If deviating from the above example, then be sure to order columns according to [our guidelines](https://gitlab.com/gitlab-org/gitlab/-/blob/master/doc/development/ordering_table_columns.md).\n\n- [ ] Run database migrations:\n\n  ```shell\n  bin/rake db:migrate\n  ```\n\n- [ ] If `issuable_metric_images` is a high-traffic table, follow [the database documentation to use `with_lock_retries`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/doc/development/migration_style_guide.md#when-to-use-the-helper-method)\n\n- [ ] Be sure to commit the relevant changes in `db/structure.sql`\n\nThat's all of the required database changes.\n\n### Implement Geo support of Issuable Metric Images behind a feature flag\n\n#### Step 1. Implement replication and verification\n\n- [ ] Add the following lines to the `issuable_metric_image` model to accomplish some important tasks:\n  - Include `::Geo::ReplicableModel` in the `IssuableMetricImage` class, and specify the Replicator class `with_replicator Geo::IssuableMetricImageReplicator`.\n  - Include the `::Geo::VerifiableModel` concern.\n  - Delegate verification related methods to the `issuable_metric_image_state` model.\n  - For verification, override some scopes to use the `issuable_metric_image_states` table instead of the model table.\n  - Implement the `verification_state_object` method to return the object that holds\n    the verification details\n  - Override some methods to use the `issuable_metric_image_states` table in verification-related queries.\n\n  At this point the `IssuableMetricImage` class should look like this:\n\n  ```ruby\n  # frozen_string_literal: true\n\n  class IssuableMetricImage \u003c ApplicationRecord\n    ...\n    include ::Geo::ReplicableModel\n    include ::Geo::VerifiableModel\n\n    delegate(*::Geo::VerificationState::VERIFICATION_METHODS, to: :issuable_metric_image_state)\n\n    with_replicator Geo::IssuableMetricImageReplicator\n\n    mount_uploader :file, IssuableMetricImageUploader\n\n    has_one :issuable_metric_image_state, autosave: false, inverse_of: :issuable_metric_image, class_name: 'Geo::IssuableMetricImageState'\n\n    after_save :save_verification_details\n\n    scope :with_verification_state, -\u003e(state) { joins(:issuable_metric_image_state).where(issuable_metric_image_states: { verification_state: verification_state_value(state) }) }\n    scope :checksummed, -\u003e { joins(:issuable_metric_image_state).where.not(issuable_metric_image_states: { verification_checksum: nil } ) }\n    scope :not_checksummed, -\u003e { joins(:issuable_metric_image_state).where(issuable_metric_image_states: { verification_checksum: nil } ) }\n\n    scope :available_verifiables, -\u003e { joins(:issuable_metric_image_state) }\n\n    # Override the `all` default if not all records can be replicated. For an\n    # example of an existing Model that needs to do this, see\n    # `EE::MergeRequestDiff`.\n    # scope :available_replicables, -\u003e { all }\n\n    def verification_state_object\n      issuable_metric_image_state\n    end\n    ...\n\n    class_methods do\n      extend ::Gitlab::Utils::Override\n      ...\n\n      # @param primary_key_in [Range, IssuableMetricImage] arg to pass to primary_key_in scope\n      # @return [ActiveRecord::Relation\u003cIssuableMetricImage\u003e] everything that should be synced to this node, restricted by primary key\n      def self.replicables_for_current_secondary(primary_key_in)\n        # This issue template does not help you write this method.\n        #\n        # This method is called only on Geo secondary sites. It is called when\n        # we want to know which records to replicate. This is not easy to automate\n        # because for example:\n        #\n        # * The \"selective sync\" feature allows admins to choose which namespaces #   to replicate, per secondary site. Most Models are scoped to a\n        #   namespace, but the nature of the relationship to a namespace varies\n        #   between Models.\n        # * The \"selective sync\" feature allows admins to choose which shards to\n        #   replicate, per secondary site. Repositories are associated with\n        #   shards. Most blob types are not, but Project Uploads are.\n        # * Remote stored replicables are not replicated, by default. But the\n        #   setting `sync_object_storage` enables replication of remote stored\n        #   replicables.\n        #\n        # Search the codebase for examples, and consult a Geo expert if needed.\n      end\n\n      override :verification_state_table_class\n      def verification_state_table_class\n        IssuableMetricImageState\n      end\n    end\n    ...\n\n    def issuable_metric_image_state\n      super || build_issuable_metric_image_state\n    end\n\n    ...\n  end\n  ```\n\n- [ ] Implement `IssuableMetricImage.replicables_for_current_secondary` above.\n- [ ] Ensure `IssuableMetricImage.replicables_for_current_secondary` is well-tested. Search the codebase for `replicables_for_current_secondary` to find examples of parameterized table specs. You may need to add more `FactoryBot` traits.\n- [ ] Add the following shared examples to `ee/spec/models/ee/issuable_metric_image_spec.rb`:\n\n  ```ruby\n    include_examples 'a replicable model with a separate table for verification state' do\n      let(:verifiable_model_record) { build(:issuable_metric_image) } # add extra params if needed to make sure the record is included in `available_verifiables`\n      let(:unverifiable_model_record) { build(:issuable_metric_image) } # add extra params if needed to make sure the record is NOT included in `available_verifiables`\n    end\n  ```\n\n- [ ] Create `ee/app/replicators/geo/issuable_metric_image_replicator.rb`. Implement the `#carrierwave_uploader` method which should return a `CarrierWave::Uploader`, and implement the class method `.model` to return the `IssuableMetricImage` class:\n\n  ```ruby\n  # frozen_string_literal: true\n\n  module Geo\n    class IssuableMetricImageReplicator \u003c Gitlab::Geo::Replicator\n      include ::Geo::BlobReplicatorStrategy\n      extend ::Gitlab::Utils::Override\n\n      def self.model\n        ::IssuableMetricImage\n      end\n\n      def carrierwave_uploader\n        model_record.file\n      end\n\n      override :verification_feature_flag_enabled?\n      def self.verification_feature_flag_enabled?\n        # We are adding verification at the same time as replication, so we\n        # don't need to toggle verification separately from replication. When\n        # the replication feature flag is off, then verification is also off\n        # (see `VerifiableReplicator.verification_enabled?`)\n        true\n      end\n\n    end\n  end\n  ```\n\n- [ ] Generate the feature flag definition file by running the feature flag commands and following the command prompts:\n\n  ```shell\n  bin/feature-flag --ee geo_issuable_metric_image_replication --type development --group 'group::geo'\n  bin/feature-flag --ee geo_issuable_metric_image_verification --type development --group 'group::geo'\n  ```\n\n- [ ] Add this replicator class to the method `replicator_classes` in\n  `ee/lib/gitlab/geo.rb`:\n\n  ```ruby\n  REPLICATOR_CLASSES = [\n    ::Geo::PackageFileReplicator,\n    ::Geo::IssuableMetricImageReplicator\n  ]\n  end\n  ```\n\n- [ ] Create `ee/spec/replicators/geo/issuable_metric_image_replicator_spec.rb` and perform the necessary setup to define the `model_record` variable for the shared examples:\n\n  ```ruby\n  # frozen_string_literal: true\n\n  require 'spec_helper'\n\n  RSpec.describe Geo::IssuableMetricImageReplicator do\n    let(:model_record) { build(:issuable_metric_image) }\n\n    include_examples 'a blob replicator'\n    include_examples 'a verifiable replicator'\n  end\n  ```\n\n- [ ] Create `ee/app/models/geo/issuable_metric_image_registry.rb`:\n\n  ```ruby\n  # frozen_string_literal: true\n\n  class Geo::IssuableMetricImageRegistry \u003c Geo::BaseRegistry\n    include ::Geo::ReplicableRegistry\n    include ::Geo::VerifiableRegistry\n\n    MODEL_CLASS = ::IssuableMetricImage\n    MODEL_FOREIGN_KEY = :issuable_metric_image_id\n\n    belongs_to :issuable_metric_image, class_name: 'IssuableMetricImage'\n  end\n  ```\n\n- [ ] Update `REGISTRY_CLASSES` in `ee/app/workers/geo/secondary/registry_consistency_worker.rb`.\n- [ ] Add a custom factory name if needed in `def model_class_factory_name` in `ee/spec/services/geo/registry_consistency_service_spec.rb`.\n- [ ] Update `it 'creates missing registries for each registry class'` in `ee/spec/workers/geo/secondary/registry_consistency_worker_spec.rb`.\n- [ ] Add `issuable_metric_image_registry` to `ActiveSupport::Inflector.inflections` in `config/initializers_before_autoloader/000_inflections.rb`.\n- [ ] Create `ee/spec/factories/geo/issuable_metric_image_registry.rb`:\n\n  ```ruby\n  # frozen_string_literal: true\n\n  FactoryBot.define do\n    factory :geo_issuable_metric_image_registry, class: 'Geo::IssuableMetricImageRegistry' do\n      issuable_metric_image # This association should have data, like a file or repository\n      state { Geo::IssuableMetricImageRegistry.state_value(:pending) }\n\n      trait :synced do\n        state { Geo::IssuableMetricImageRegistry.state_value(:synced) }\n        last_synced_at { 5.days.ago }\n      end\n\n      trait :failed do\n        state { Geo::IssuableMetricImageRegistry.state_value(:failed) }\n        last_synced_at { 1.day.ago }\n        retry_count { 2 }\n        last_sync_failure { 'Random error' }\n      end\n\n      trait :started do\n        state { Geo::IssuableMetricImageRegistry.state_value(:started) }\n        last_synced_at { 1.day.ago }\n        retry_count { 0 }\n      end\n\n      trait :verification_succeeded do\n        verification_checksum { 'e079a831cab27bcda7d81cd9b48296d0c3dd92ef' }\n        verification_state { Geo::IssuableMetricImageRegistry.verification_state_value(:verification_succeeded) }\n        verified_at { 5.days.ago }\n      end\n    end\n  end\n  ```\n\n- [ ] Create `ee/spec/models/geo/issuable_metric_image_registry_spec.rb`:\n\n  ```ruby\n  # frozen_string_literal: true\n\n  require 'spec_helper'\n\n  RSpec.describe Geo::IssuableMetricImageRegistry, :geo, type: :model do\n    let_it_be(:registry) { create(:geo_issuable_metric_image_registry) }\n\n    specify 'factory is valid' do\n      expect(registry).to be_valid\n    end\n\n    include_examples 'a Geo framework registry'\n    include_examples 'a Geo verifiable registry'\n  end\n  ```\n\n- [ ] Add the following to `spec/factories/issuable_metric_images.rb`:\n\n  ```ruby\n  trait(:verification_succeeded) do\n    with_file\n    verification_checksum { 'abc' }\n    verification_state { IssuableMetricImage.verification_state_value(:verification_succeeded) }\n  end\n\n  trait(:verification_failed) do\n    with_file\n    verification_failure { 'Could not calculate the checksum' }\n    verification_state { IssuableMetricImage.verification_state_value(:verification_failed) }\n  end\n  ```\n\n- [ ] Make sure the factory also allows setting a `project` attribute. If the model does not have a direct relation to a project, you can use a `transient` attribute. Check out `spec/factories/merge_request_diffs.rb` for an example.\n\n- [ ] Following [the example of Merge Request Diffs](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/63309) add a `Geo::IssuableMetricImageState` model in `ee/app/models/ee/geo/issuable_metric_image_state.rb`:\n\n  ``` ruby\n  module Geo\n    class IssuableMetricImageState \u003c ApplicationRecord\n      include EachBatch\n      include ::Geo::VerificationStateDefinition\n\n      self.primary_key = :issuable_metric_image_id\n\n      belongs_to :issuable_metric_image, inverse_of: :issuable_metric_image_state\n\n      validates :verification_failure, length: { maximum: 255 }\n      validates :verification_state, :issuable_metric_image, presence: true\n    end\n  end\n  ```\n\n- [ ] Add a `factory` for `issuable_metric_image_state`, in `ee/spec/factories/geo/issuable_metric_image_states.rb`:\n\n  ``` ruby\n  # frozen_string_literal: true\n\n  FactoryBot.define do\n    factory :geo_issuable_metric_image_state, class: 'Geo::IssuableMetricImageState' do\n      issuable_metric_image\n\n      trait(:checksummed) do\n        verification_checksum { 'abc' }\n      end\n\n      trait(:checksum_failure) do\n        verification_failure { 'Could not calculate the checksum' }\n      end\n    end\n  end\n  ```\n\n#### Step 2. Implement metrics gathering\n\nMetrics are gathered by `Geo::MetricsUpdateWorker`, persisted in `GeoNodeStatus` for display in the UI, and sent to Prometheus:\n\n- [ ] Add the following fields to Geo Node Status example responses in `doc/api/geo_nodes.md`:\n  - `issuable_metric_images_count`\n  - `issuable_metric_images_checksum_total_count`\n  - `issuable_metric_images_checksummed_count`\n  - `issuable_metric_images_checksum_failed_count`\n  - `issuable_metric_images_synced_count`\n  - `issuable_metric_images_failed_count`\n  - `issuable_metric_images_registry_count`\n  - `issuable_metric_images_verification_total_count`\n  - `issuable_metric_images_verified_count`\n  - `issuable_metric_images_verification_failed_count`\n  - `issuable_metric_images_synced_in_percentage`\n  - `issuable_metric_images_verified_in_percentage`\n- [ ] Add the same fields to `GET /geo_nodes/status` example response in\n  `ee/spec/fixtures/api/schemas/public_api/v4/geo_node_status.json`.\n- [ ] Add the following fields to the `Sidekiq metrics` table in `doc/administration/monitoring/prometheus/gitlab_metrics.md`:\n  - `geo_issuable_metric_images`\n  - `geo_issuable_metric_images_checksum_total`\n  - `geo_issuable_metric_images_checksummed`\n  - `geo_issuable_metric_images_checksum_failed`\n  - `geo_issuable_metric_images_synced`\n  - `geo_issuable_metric_images_failed`\n  - `geo_issuable_metric_images_registry`\n  - `geo_issuable_metric_images_verification_total`\n  - `geo_issuable_metric_images_verified`\n  - `geo_issuable_metric_images_verification_failed`\n- [ ] Add the following to the parameterized table in the `context 'Replicator stats' do` block in `ee/spec/models/geo_node_status_spec.rb`:\n\n  ```ruby\n  Geo::IssuableMetricImageReplicator | :issuable_metric_image | :geo_issuable_metric_image_registry\n  ```\n\nIssuable Metric Image replication and verification metrics should now be available in the API, the `Admin \u003e Geo \u003e Nodes` view, and Prometheus.\n\n#### Step 3. Implement the GraphQL API\n\nThe GraphQL API is used by `Admin \u003e Geo \u003e Replication Details` views, and is directly queryable by administrators.\n\n- [ ] Add a new field to `GeoNodeType` in `ee/app/graphql/types/geo/geo_node_type.rb`:\n\n  ```ruby\n  field :issuable_metric_image_registries, ::Types::Geo::IssuableMetricImageRegistryType.connection_type,\n        null: true,\n        resolver: ::Resolvers::Geo::IssuableMetricImageRegistriesResolver,\n        description: 'Find Issuable Metric Image registries on this Geo node',\n        feature_flag: :geo_issuable_metric_image_replication\n  ```\n\n- [ ] Add the new `issuable_metric_image_registries` field name to the `expected_fields` array in `ee/spec/graphql/types/geo/geo_node_type_spec.rb`.\n- [ ] Create `ee/app/graphql/resolvers/geo/issuable_metric_image_registries_resolver.rb`:\n\n  ```ruby\n  # frozen_string_literal: true\n\n  module Resolvers\n    module Geo\n      class IssuableMetricImageRegistriesResolver \u003c BaseResolver\n        type ::Types::Geo::GeoNodeType.connection_type, null: true\n\n        include RegistriesResolver\n      end\n    end\n  end\n  ```\n\n- [ ] Create `ee/spec/graphql/resolvers/geo/issuable_metric_image_registries_resolver_spec.rb`:\n\n  ```ruby\n  # frozen_string_literal: true\n\n  require 'spec_helper'\n\n  RSpec.describe Resolvers::Geo::IssuableMetricImageRegistriesResolver do\n    it_behaves_like 'a Geo registries resolver', :geo_issuable_metric_image_registry\n  end\n  ```\n\n- [ ] Create `ee/app/finders/geo/issuable_metric_image_registry_finder.rb`:\n\n  ```ruby\n  # frozen_string_literal: true\n\n  module Geo\n    class IssuableMetricImageRegistryFinder\n      include FrameworkRegistryFinder\n    end\n  end\n  ```\n\n- [ ] Create `ee/spec/finders/geo/issuable_metric_image_registry_finder_spec.rb`:\n\n  ```ruby\n  # frozen_string_literal: true\n\n  require 'spec_helper'\n\n  RSpec.describe Geo::IssuableMetricImageRegistryFinder do\n    it_behaves_like 'a framework registry finder', :geo_issuable_metric_image_registry\n  end\n  ```\n\n- [ ] Create `ee/app/graphql/types/geo/issuable_metric_image_registry_type.rb`:\n\n  ```ruby\n  # frozen_string_literal: true\n\n  module Types\n    module Geo\n      # rubocop:disable Graphql/AuthorizeTypes because it is included\n      class IssuableMetricImageRegistryType \u003c BaseObject\n        include ::Types::Geo::RegistryType\n\n        graphql_name 'IssuableMetricImageRegistry'\n        description 'Represents the Geo replication and verification state of a issuable_metric_image'\n\n        field :issuable_metric_image_id, GraphQL::ID_TYPE, null: false, description: 'ID of the Issuable Metric Image'\n      end\n    end\n  end\n  ```\n\n- [ ] Create `ee/spec/graphql/types/geo/issuable_metric_image_registry_type_spec.rb`:\n\n  ```ruby\n  # frozen_string_literal: true\n\n  require 'spec_helper'\n\n  RSpec.describe GitlabSchema.types['IssuableMetricImageRegistry'] do\n    it_behaves_like 'a Geo registry type'\n\n    it 'has the expected fields (other than those included in RegistryType)' do\n      expected_fields = %i[issuable_metric_image_id]\n\n      expect(described_class).to have_graphql_fields(*expected_fields).at_least\n    end\n  end\n  ```\n\n- [ ] Add integration tests for providing IssuableMetricImage registry data to the frontend via the GraphQL API, by duplicating and modifying the following shared examples in `ee/spec/requests/api/graphql/geo/registries_spec.rb`:\n\n  ```ruby\n  it_behaves_like 'gets registries for', {\n    field_name: 'IssuableMetricImageRegistries',\n    registry_class_name: 'IssuableMetricImageRegistry',\n    registry_factory: :geo_issuable_metric_image_registry,\n    registry_foreign_key_field_name: 'IssuableMetricImageId'\n  }\n  ```\n\n- [ ] Update the GraphQL reference documentation:\n\n  ```shell\n  bundle exec rake gitlab:graphql:compile_docs\n  ```\n\nIndividual Issuable Metric Image replication and verification data should now be available via the GraphQL API.\n\n#### Step 4. Handle batch destroy\n\nIf batch destroy logic is implemented for a replicable, then that logic must be \"replicated\" by Geo secondaries. The easiest way to do this is use `Geo::BatchEventCreateWorker` to bulk insert a delete event for each replicable.\n\nFor example, if `FastDestroyAll` is used, then you may be able to [use `begin_fast_destroy` and `finalize_fast_destroy` hooks, like we did for uploads](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/69763).\n\nOr if a special service is used to batch delete records and their associated data, then you probably need to [hook into that service, like we did for job artifacts](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/79530).\n\nAs illustrated by the above two examples, batch destroy logic cannot be handled automatically by Geo secondaries without restricting the way other teams perform batch destroys. It is up to you to produce `Geo::BatchEventCreateWorker` attributes before the records are deleted, and then enqueue `Geo::BatchEventCreateWorker` after the records are deleted.\n\n- [ ] Ensure that any batch destroy of this replicable is replicated to secondary sites\n- [ ] Regardless of implementation details, please verify in specs that when the parent object is removed, the new `Geo::Event` records are created:\n\n```ruby\n  describe '#destroy' do\n    subject { create(:issuable_metric_image) }\n\n    context 'when running in a Geo primary node' do\n      let_it_be(:primary) { create(:geo_node, :primary) }\n      let_it_be(:secondary) { create(:geo_node) }\n\n      it 'logs an event to the Geo event log when bulk removal is used', :sidekiq_inline do\n        stub_current_geo_node(primary)\n\n        expect { subject.project.destroy! }.to change(Geo::Event.where(replicable_name: :issuable_metric_image, event_name: :deleted), :count).by(1)\n\n        payload = Geo::Event.where(replicable_name: :issuable_metric_image, event_name: :deleted).last.payload\n\n        expect(payload['model_record_id']).to eq(subject.id)\n        expect(payload['blob_path']).to eq(subject.relative_path)\n        expect(payload['uploader_class']).to eq('IssuableMetricImageUploader')\n      end\n    end\n  end\n```\n\n### Release Geo support of Issuable Metric Images\n\n- [ ] In the rollout issue you created when creating the feature flag, modify the Roll Out Steps:\n  - [ ] Cross out any steps related to testing on production GitLab.com, because Geo is not running on production GitLab.com at the moment.\n  - [ ] Add a step to `Test replication and verification of Issuable Metric Images on a non-GDK-deployment. For example, using GitLab Environment Toolkit`.\n  - [ ] Add a step to `Ping the Geo PM and EM to coordinate testing`. For example, you might add steps to generate Issuable Metric Images, and then a Geo engineer may take it from there.\n- [ ] In `ee/config/feature_flags/development/geo_issuable_metric_image_replication.yml`, set `default_enabled: true`\n- [ ] In `ee/app/graphql/types/geo/geo_node_type.rb`, remove the `feature_flag` option for the released type:\n\n  ```ruby\n  field :issuable_metric_image_registries, ::Types::Geo::IssuableMetricImageRegistryType.connection_type,\n        null: true,\n        resolver: ::Resolvers::Geo::IssuableMetricImageRegistriesResolver,\n        description: 'Find Issuable Metric Image registries on this Geo node',\n        feature_flag: :geo_issuable_metric_image_replication # REMOVE THIS LINE\n  ```\n\n- [ ] Run `bundle exec rake gitlab:graphql:compile_docs` after the step above to regenerate the GraphQL docs.\n\n- [ ] Add a row for Issuable Metric Images to the `Data types` table in [Geo data types support](https://gitlab.com/gitlab-org/gitlab/blob/master/doc/administration/geo/replication/datatypes.md#data-types)\n- [ ] Add a row for Issuable Metric Images to the `Limitations on replication/verification` table in [Geo data types support](https://gitlab.com/gitlab-org/gitlab/blob/master/doc/administration/geo/replication/datatypes.md#limitations-on-replicationverification). If the row already exists, then update it to show that Replication and Verification is released in the current version.\n\nRelated to https://gitlab.com/gitlab-org/gitlab/-/issues/352326","state":"closed","created_at":"2022-05-17T01:17:25.906Z","updated_at":"2022-10-18T15:41:21.170Z","closed_at":"2022-10-18T15:41:17.039Z","closed_by":{"id":11488451,"username":"juan-silva","name":"Juan Silva","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11488451/avatar.png","web_url":"https://gitlab.com/juan-silva"},"labels":["Enterprise Edition","GitLab Premium","automation:ml","devops::systems","feature::addition","group::geo","section::enablement","type::feature","workflow::ready for development"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":787914,"username":"ibaum","name":"Ian Baum","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7c508dc85ddd5049564a95662311543b?s=80\u0026d=identicon","web_url":"https://gitlab.com/ibaum"}],"author":{"id":3945330,"username":"seanarnold","name":"Sean Arnold","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c0bda1b68a7462959aa82bb63bda9b80?s=80\u0026d=identicon","web_url":"https://gitlab.com/seanarnold"},"type":"ISSUE","assignee":{"id":787914,"username":"ibaum","name":"Ian Baum","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7c508dc85ddd5049564a95662311543b?s=80\u0026d=identicon","web_url":"https://gitlab.com/ibaum"},"user_notes_count":20,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362561","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":55,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 55 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362561","notes":"https://gitlab.com/api/v4/projects/278964/issues/362561/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362561/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362561","relative":"#362561","full":"gitlab-org/gitlab#362561"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4988,"epic":{"id":150815,"iid":4988,"title":" Disaster Recovery lovable maturity","url":"/groups/gitlab-org/-/epics/4988","group_id":9970,"human_readable_end_date":"Sep 17, 2023","human_readable_timestamp":"\u003cstrong\u003e8\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":108643855,"iid":362554,"project_id":278964,"title":"GraphQL API returns wrong results for pipelines of more than one merge request","description":"### Summary\n\nWhen using GitLab's GraphQL API to query for pipelines of more than one merge request at once, GitLab will return the same list of pipelines for each merge request.\n\n### Steps to reproduce\n\nGo to https://gitlab.com/-/graphql-explorer and execute this query:\n\n```graphql\n{\n  project(fullPath: \"gitlab-org/gitlab\") {\n    mergeRequests(iids: [\"47250\", \"47251\"]) {\n      nodes {\n        id\n        title\n        pipelines(first: 1) {\n          nodes {\n            id\n          }\n        }\n      }\n    }\n  }\n}\n```\n\n### Example Project\n\nReproduced on https://gitlab.com/gitlab-org/gitlab\n\n### What is the current *bug* behavior?\n\nThis is the query result:\n\n```json\n{\n  \"data\": {\n    \"project\": {\n      \"mergeRequests\": {\n        \"nodes\": [\n          {\n            \"id\": \"gid://gitlab/MergeRequest/77504100\",\n            \"title\": \"Add note for jest spec best practices\",\n            \"pipelines\": {\n              \"nodes\": [\n                {\n                  \"id\": \"gid://gitlab/Ci::Pipeline/215473328\"\n                }\n              ]\n            }\n          },\n          {\n            \"id\": \"gid://gitlab/MergeRequest/77503306\",\n            \"title\": \"Docs: Edited Go Proxy topic\",\n            \"pipelines\": {\n              \"nodes\": [\n                {\n                  \"id\": \"gid://gitlab/Ci::Pipeline/215473328\"\n                }\n              ]\n            }\n          }\n        ]\n      }\n    }\n  }\n}\n```\n\nNote that the same pipeline, `gid://gitlab/Ci::Pipeline/215473328`, is provided as a result for both merge requests.\n\n### What is the expected *correct* behavior?\n\nI expect this result:\n\n```json\n{\n  \"data\": {\n    \"project\": {\n      \"mergeRequests\": {\n        \"nodes\": [\n          {\n            \"id\": \"gid://gitlab/MergeRequest/77504100\",\n            \"title\": \"Add note for jest spec best practices\",\n            \"pipelines\": {\n              \"nodes\": [\n                {\n                  \"id\": \"gid://gitlab/Ci::Pipeline/215473328\"\n                }\n              ]\n            }\n          },\n          {\n            \"id\": \"gid://gitlab/MergeRequest/77503306\",\n            \"title\": \"Docs: Edited Go Proxy topic\",\n            \"pipelines\": {\n              \"nodes\": [\n                {\n                  \"id\": \"gid://gitlab/Ci::Pipeline/214196176\"\n                }\n              ]\n            }\n          }\n        ]\n      }\n    }\n  }\n}\n```\n\nNote that each merge request has a different pipeline associated with it.\n\n### Relevant logs and/or screenshots\n\nSee code blocks above.\n\n### Output of checks\n\nThis bug happens on GitLab.com.\n\n### Possible fixes\n\nI am not familiar with this code, so I don't know.","state":"closed","created_at":"2022-05-16T22:40:43.682Z","updated_at":"2022-06-13T14:07:45.293Z","closed_at":"2022-05-19T14:52:42.619Z","closed_by":{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"},"labels":["GraphQL","devops::create","group::code review","priority::2","section::dev","severity::2","type::bug","workflow::verification"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"}],"author":{"id":11601250,"username":"akirchhoff-apple","name":"Alexander Kirchhoff","state":"active","avatar_url":"https://secure.gravatar.com/avatar/e05e8800905de50265c3f77489bc8b5a?s=80\u0026d=identicon","web_url":"https://gitlab.com/akirchhoff-apple"},"type":"ISSUE","assignee":{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362554","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362554","notes":"https://gitlab.com/api/v4/projects/278964/issues/362554/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362554/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362554","relative":"#362554","full":"gitlab-org/gitlab#362554"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108641989,"iid":362550,"project_id":278964,"title":"  View and update weight","description":"## Problem\n\n1. Several customers have vocalized the desire to add weight directly to an epic. This is useful when doing ROM (Rough Order of Magnitude) estimation before an epic is decomposed into smaller vertical slices and estimated by a development team. \n1. As we move towards work items with Tasks as the first step, users will naturally want to be able to set a weight on a Task. Given that issues already have `weight` as a field, we need to consider how weight ought to behave within this new model. \n\n## Proposal\n\n- A user can set a numeric weight on any work item into an `Weight` field.\n\nIn the example below, `Tasks` do not have a weight field. The same rollup calculations would be used if Tasks did not have a weight field.\n\n## UX\n\nhttps://gitlab.com/gitlab-org/gitlab/-/issues/362550/designs/No_Rollup_-_Entered.png\n\n## MVC 1 Acceptance Criteria\n\n- [x] A user can set an estimated weight on any work item.\n- [x] The weight must be a valid, positive, whole integer. \n- [x] Weight updates in real-time\n- [x] Snowplow event tracking\n- [x] Redis counter\n\n\n## Event tracking\n\nSnowplow tracking label: `item_weight`\n\n- **name:** `users_updating_weight_estimate` \n- **category:** `work_items`\n- **redis_slot:** `users` \n- **include in the following aggregation counters:**\n  - [x] `xmau_plan`\n  - [x] `xmau_project_management`\n  - [ ] `xmau_product_planning`\n  - [ ] `xmau_certify`\n  - [x] `users_work_items`\n  - [ ] new aggregate counter (name: `replace with name of new aggregate counter here`)\n- **documentation:** [Service Ping Implementation](https://docs.gitlab.com/ee/development/service_ping/implement.html), [Redis HLL Counters](https://docs.gitlab.com/ee/development/service_ping/implement.html#redis-hll-counters)\n\n## Tier\n\n- ~2278657 as Weight is currently in this tier.\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2022-05-16T21:23:33.553Z","updated_at":"2022-11-09T15:41:36.180Z","closed_at":"2022-08-19T21:06:16.765Z","closed_by":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"labels":["Deliverable","GitLab Premium","auto updated","backend","devops::plan","direction","documentation","feature::addition","frontend","group::project management","missed-deliverable","missed:15.1","quad-planning::complete-no-action","section::dev","type::feature","workflow::production"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":4545397,"username":"cngo","name":"Coung Ngo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4545397/avatar.png","web_url":"https://gitlab.com/cngo"},{"id":5961404,"username":"euko","name":"Eulyeon Ko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5961404/avatar.png","web_url":"https://gitlab.com/euko"}],"author":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"type":"ISSUE","assignee":{"id":4545397,"username":"cngo","name":"Coung Ngo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4545397/avatar.png","web_url":"https://gitlab.com/cngo"},"user_notes_count":37,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362550","time_stats":{"time_estimate":7200,"total_time_spent":0,"human_time_estimate":"2h","human_total_time_spent":null},"task_completion_status":{"count":11,"completed_count":8},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"8 of 11 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362550","notes":"https://gitlab.com/api/v4/projects/278964/issues/362550/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362550/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362550","relative":"#362550","full":"gitlab-org/gitlab#362550"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7103,"epic":{"id":382735,"iid":7103,"title":" Work Items - Tasks","url":"/groups/gitlab-org/-/epics/7103","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":108637319,"iid":362544,"project_id":278964,"title":"Fix `ready_to_import` query performance","description":"## :floppy_disk: : Problem\n\nThe query generated by [`ContainerRepository.ready_for_import.take`](https://gitlab.com/gitlab-org/gitlab/-/blob/ab25f6199379bc85279878b51b3c4def79f48dcd/app/workers/container_registry/migration/enqueuer_worker.rb#L153) is using a Seq Scan: https://explain.depesz.com/s/9YXB\n\nThis is part of what has caused degradation in Phase 2 of the migration where we are not able to hit the capacity limits of the Enqueuer.\n\n## :cd: Solution\n\n~~We need to add/update indexing to improve the query plan~~ We need to use a higher limit than one on the query to force the postgres planner to use the index.","state":"closed","created_at":"2022-05-16T19:18:38.812Z","updated_at":"2022-06-21T19:04:29.425Z","closed_at":"2022-05-24T14:27:17.040Z","closed_by":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"labels":["Category:Container Registry","Container Registry Migration","Container Registry Migration Unplanned","Container Registry Migration::Phase 2","backend","bug::performance","database","devops::package","group::package registry","ruby","section::ops","type::bug","workflow::production"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"}],"author":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"type":"ISSUE","assignee":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362544","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362544","notes":"https://gitlab.com/api/v4/projects/278964/issues/362544/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362544/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362544","relative":"#362544","full":"gitlab-org/gitlab#362544"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7316,"epic":{"id":408066,"iid":7316,"title":"Drive the Container Registry migration Phase 2 from Rails","url":"/groups/gitlab-org/-/epics/7316","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":108636826,"iid":362541,"project_id":278964,"title":"Follow-up from \"PipelineUsageApp: Add namespace usage overview\"","description":"The following discussion from !85917 should be addressed:\n\n- [ ] @jannik_lehmann started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/85917#note_934511321):  (+3 comments)\n\n    \u003e **Question (non-blocking)**: Could we add a comment about what the replace function is doing here? Thank you!\n\n    \u003e This is caused by our limited `sprintf` implementation and should really be implemented there because the error is correct. Searching our `gitlab.pot` file we have 10 instances of `%%` so this is bound to come up again if it hasn't already. So I highly recommend adding the following to `sprintf.js`, adding a simple spec to test the output of `%%` and removing the component implementation.\n\n## Implementation plan\n\n1. Add the following snippet to https://gitlab.com/gitlab-org/gitlab/blob/master/app/assets/javascripts/locale/sprintf.js:\n\n```javascript\nlet output = input.replace(/%%/g, '%')\n```\n\n1. Update the specs for sprintf.js\n\n1. Remove the other instances of `.replace(/%+/g, '%')`.","state":"closed","created_at":"2022-05-16T19:04:07.927Z","updated_at":"2022-09-15T07:24:00.784Z","closed_at":"2022-09-15T07:24:00.764Z","closed_by":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"labels":["auto updated","frontend","maintenance::refactor","type::maintenance","workflow::in review"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"}],"author":{"id":8858358,"username":"sheldonled","name":"Sheldon Led","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4a4252822d6a503697403c631ca987dc?s=80\u0026d=identicon","web_url":"https://gitlab.com/sheldonled"},"type":"ISSUE","assignee":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362541","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362541","notes":"https://gitlab.com/api/v4/projects/278964/issues/362541/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362541/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362541","relative":"#362541","full":"gitlab-org/gitlab#362541"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108629519,"iid":362532,"project_id":278964,"title":"Create Rest API to replace `/files/:ref` controller endpoint","description":"## Description\n\nThere's a really helpful controller endpoint which is critical to the Web IDE at `:project_id/-/files/:ref` ([see route definition](https://gitlab.com/gitlab-org/gitlab/blob/428d8a3936965f020dcbfadcd9871feebbf7e7c7/config/routes/repository.rb#L98)). This endpoint ultimately calls a Gitaly RPC which uses `git ls-tree` to return all of a repo's Git Objects and their paths.\n\nThis controller endpoint is protected by CORS which breaks in the [Web IDE pages deployment](https://gitlab.com/gitlab-org/gitlab-web-ide) since the pages deployment is outside of `gitlab.com`.\n\n## Proposal\n\n1. **optional:** Update the Gitaly endpoint to return the missing information from `git ls-tree`. This is being handled in https://gitlab.com/gitlab-org/gitlab/-/issues/355019#note_938759182.\n2. Introduce a new REST endpoint for handling this request. Maybe the route could be something like `/projects/:id/repository/git_ls_tree`? **PLEASE NOTE:** Make sure the response will support adding additional fields in a non-blocking way (i.e. let's return an array of objects, instead of an array of strings).\n3. Let's deprecate and remove this controller endpoint.","state":"closed","created_at":"2022-05-16T17:05:11.970Z","updated_at":"2022-08-21T12:01:47.724Z","closed_at":"2022-07-21T16:45:13.483Z","closed_by":{"id":4985794,"username":"cwoolley-gitlab","name":"Chad Woolley","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4cf06f1fc667817854991b558103a9e2?s=80\u0026d=identicon","web_url":"https://gitlab.com/cwoolley-gitlab"},"labels":["Deliverable","backend","devops::create","feature::enhancement","group::editor","missed-deliverable","missed:15.2","section::dev","type::feature","workflow::refinement"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":2233420,"username":"pslaughter","name":"Paul Slaughter","state":"active","avatar_url":"https://secure.gravatar.com/avatar/631b25421eb206ab44cb2793ef09d881?s=80\u0026d=identicon","web_url":"https://gitlab.com/pslaughter"},{"id":4985794,"username":"cwoolley-gitlab","name":"Chad Woolley","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4cf06f1fc667817854991b558103a9e2?s=80\u0026d=identicon","web_url":"https://gitlab.com/cwoolley-gitlab"}],"author":{"id":2233420,"username":"pslaughter","name":"Paul Slaughter","state":"active","avatar_url":"https://secure.gravatar.com/avatar/631b25421eb206ab44cb2793ef09d881?s=80\u0026d=identicon","web_url":"https://gitlab.com/pslaughter"},"type":"ISSUE","assignee":{"id":2233420,"username":"pslaughter","name":"Paul Slaughter","state":"active","avatar_url":"https://secure.gravatar.com/avatar/631b25421eb206ab44cb2793ef09d881?s=80\u0026d=identicon","web_url":"https://gitlab.com/pslaughter"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362532","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362532","notes":"https://gitlab.com/api/v4/projects/278964/issues/362532/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362532/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362532","relative":"#362532","full":"gitlab-org/gitlab#362532"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108624448,"iid":362518,"project_id":278964,"title":"Frontend: Remove shared runner usage tab from group analytics page","description":"\u003c!-- The first section \"Release notes\" is required if you want to have your release post blog MR auto generated. Currently in BETA, details on the **release post item generator** can be found in the handbook:  https://about.gitlab.com/handbook/marketing/blog/release-posts/#release-post-item-generator and this video: https://www.youtube.com/watch?v=rfn9ebgTwKg. The next four sections: \"Problem to solve\", \"Intended users\", \"User experience goal\", and \"Proposal\", are strongly recommended in your first draft, while the rest of the sections can be filled out during the problem validation or breakdown phase. However, keep in mind that providing complete and relevant information early helps our product team validate the problem and start working on a solution. --\u003e\n\n### Release notes\n\n\u003c!-- What is the problem and solution you're proposing? This content sets the overall vision for the feature and serves as the release notes that will populate in various places, including the [release post blog](https://about.gitlab.com/releases/categories/releases/) and [Gitlab project releases](https://gitlab.com/gitlab-org/gitlab/-/releases). \" --\u003e\n\n### Problem to solve\nWe started off with showing shared runner usage data to users by adding a `Shared runner usage` tab under Group \u003e\u003eAnalytics\u003e\u003eCI/CD page. Later, after understanding that analytics is a paid feature, we decided to show the information on the Group Settings\u003e\u003eShared runner usage page through https://gitlab.com/gitlab-org/gitlab/-/issues/355666.\n\nNow the same information is available at 2 places\n\u003c!-- What problem do we solve? Try to define the who/what/why of the opportunity as a user story. For example, \"As a (who), I want (what), so I can (why/value).\" --\u003e\n\n\n\n### User experience goal\n\nThe `Shared runner usage` info for group  should be displayed in the same way as for namespace, under settings\u003e\u003eusage quota page. Not under the Analytics\u003e\u003eCI/CD.\n\n### Proposal\n\nRemove `Shared runner usage` tab from under Analytics\u003e\u003eCI/CD\n### Further details\n\n\u003c!-- Include use cases, benefits, goals, or any other details that will help us understand the problem better. --\u003e\n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?\nConsider adding checkboxes and expectations of users with certain levels of membership https://docs.gitlab.com/ee/user/permissions.html\n* [ ] Add expected impact to members with no access (0)\n* [ ] Add expected impact to Guest (10) members\n* [ ] Add expected impact to Reporter (20) members\n* [ ] Add expected impact to Developer (30) members\n* [ ] Add expected impact to Maintainer (40) members\n* [ ] Add expected impact to Owner (50) members\n\nPlease consider performing a threat model for the code changes that are introduced as part of this feature. To get started, refer to our Threat Modeling handbook page https://about.gitlab.com/handbook/security/threat_modeling/#threat-modeling.\n\nDon't hesitate to reach out to the Application Security Team (`@gitlab-com/gl-security/appsec`) to discuss any security concerns.\n--\u003e\n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/workflow.html#for-a-product-change\n\n* Add all known Documentation Requirements in this section. See https://docs.gitlab.com/ee/development/documentation/workflow.html\n* If this feature requires changing permissions, update the permissions document. See https://docs.gitlab.com/ee/user/permissions.html --\u003e\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\n### Available Tier\n\n\u003c!-- This section should be used for setting the appropriate tier that this feature will belong to. Pricing can be found here: https://about.gitlab.com/pricing/\n\n* Free\n* Premium/Silver\n* Ultimate/Gold\n--\u003e\n\n### Feature Usage Metrics\n\n\u003c!-- How are you going to track usage of this feature? Think about user behavior and their interaction with the product. What indicates someone is getting value from it?\n\nCreate tracking issue using the Snowplow event tracking template. See https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Snowplow%20event%20tracking.md\n\n--\u003e\n\n### What does success look like, and how can we measure that?\n\n\u003c!--\nDefine both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this.\n\nCreate tracking issue using the Snowplow event tracking template. See https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Snowplow%20event%20tracking.md\n--\u003e\n\n### What is the type of buyer?\n\n\u003c!-- What is the buyer persona for this feature? See https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/buyer-persona/\nIn which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#three-tiers --\u003e\n\n### Is this a cross-stage feature?\n\n\u003c!-- Communicate if this change will affect multiple Stage Groups or product areas. We recommend always start with the assumption that a feature request will have an impact into another Group. Loop in the most relevant PM and Product Designer from that Group to provide strategic support to help align the Group's broader plan and vision, as well as to avoid UX and technical debt. https://about.gitlab.com/handbook/product/#cross-stage-features --\u003e\n\n### What is the competitive advantage or differentiation for this feature?\n\n### Links / references\n\n\u003c!-- Label reminders - you should have one of each of the following labels.\nUse the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n--\u003e\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2022-05-16T15:35:54.288Z","updated_at":"2022-08-19T16:14:33.360Z","closed_at":"2022-08-16T17:50:33.628Z","closed_by":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"labels":["CI minutes","Category:Continuous Integration","GitLab Premium","UX","devops::verify","frontend","group::pipeline execution","section::ops","type::feature","workflow::production"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"}],"author":{"id":6115425,"username":"v_mishra","name":"Veethika M","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f09a3a0badac17a57e28b4e18a45c1c0?s=80\u0026d=identicon","web_url":"https://gitlab.com/v_mishra"},"type":"ISSUE","assignee":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362518","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362518","notes":"https://gitlab.com/api/v4/projects/278964/issues/362518/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362518/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362518","relative":"#362518","full":"gitlab-org/gitlab#362518"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7561,"epic":{"id":442014,"iid":7561,"title":"CI minutes and Runner Duration Visibility Charts MVC","url":"/groups/gitlab-org/-/epics/7561","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":108622368,"iid":362512,"project_id":278964,"title":"Create a Script to Monitor a User Journey (Workflow) - Source Code","description":"### Proposal\n\nWrite a script for sitespeed to allow our tool to track a user journey, following multiple steps and assessing performance along the way.\n\n\n### What's being asked? \n\nContext: https://gitlab.com/gitlab-com/create-stage/create-engineering-managers/-/issues/528\n\n\u003e ### Overview\n\u003e \n\u003e The Sitespeed.io tool allows you to [script a user journey](https://www.sitespeed.io/documentation/sitespeed.io/scripting/#test-by-scripting) to measure the performance of a complete user workflow. Here is [an example](https://storage.googleapis.com/sitespeed-results-gitlab/sourcecode-repo_browser_js/2022-04-13-09-52-18/scripts.html). You can script the behavior of visiting multiple pages, clicking links, and performing any action you wish.\n\u003e \n\u003e ### Purpose\n\u003e \n\u003e The purpose of this issue is to iterate on how we measure performance.  We want to monitor the performance of a complete user journey (workflow).  \n\u003e \n\u003e \n\u003e ### What am I being asked to do?\n\u003e \n\u003e - [ ] 1. Identify the top 3 or 5 most popular User worklows\n\u003e - [ ] 2. Identify the 3 to 5 slowest User workflows\n\u003e - [ ] 3. Identify logic that is used in multiple places that if improved would deliver a more **far reaching positive performance improvement**  \n\u003e - [ ] 4. Work with PM and UX to determine the User Journey to script for this OKR based on what was identified in (1-3 above)\n\u003e - [ ] 5. Run the script for 3 runs and share the results in this issue\n\u003e - [ ] 6. Create an issue that investigates opportunities for performance improvements for the slowest step(s)\n\u003e \n\u003e ### Example of a User Journey (Workflow)\n\u003e \n\u003e Measure the total time for this workflow:\n\u003e \n\u003e 1. User clicks on a repository\n\u003e 2. User makes a change\n\u003e 3. User opens an MR\n\u003e 4. User clicks Merge \n\u003e \n\u003e The goal is to measure the time it takes for each step and try to identify which steps are the slowest steps in the process and determine whether or not we dan optimize those steps.","state":"closed","created_at":"2022-05-16T14:58:43.785Z","updated_at":"2022-06-21T12:01:22.619Z","closed_at":"2022-06-02T07:42:25.402Z","closed_by":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"labels":["Category:Code Review Workflow","Category:Source Code Management","Deliverable","devops::create","frontend","group::source code","performance-refinement","section::dev","tooling","type::maintenance"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"}],"author":{"id":853414,"username":"andr3","name":"Andr Lus","state":"active","avatar_url":"https://secure.gravatar.com/avatar/241e39726efb512a29621070ccf26a90?s=80\u0026d=identicon","web_url":"https://gitlab.com/andr3"},"type":"ISSUE","assignee":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362512","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362512","notes":"https://gitlab.com/api/v4/projects/278964/issues/362512/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362512/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362512","relative":"#362512","full":"gitlab-org/gitlab#362512"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108620693,"iid":362509,"project_id":278964,"title":"Issue any http requests when users view an openapi document and click on buttons","description":"**[HackerOne report #1563383](https://hackerone.com/reports/1563383)** by `yvvdwf` on 2022-05-09, assigned to @kmorrison1:\n\n[Report](#report) | [Attachments](#attachments) | [How To Reproduce](#how-to-reproduce)\n\n## Report\n\n#####  Summary\n\nHello,\n\nThe santization of a swagger openapi viewer does not exclude `form` tag. Consequently attackers may introduce a `form` which allows to send arbitrary POST requests to the server. PUT, DELETE, PATH requests can be achieved by setting value of`_method` field.\n\n#####  Steps to reproduce\n\n1. In an existing project or create a new one, add a file, `openapi-form.yml` (you can change the basename but it needs to contain `openapi` word and the `.yml` extension is important) with the following content:  \n```yaml  \nopenapi: 3.0.0  \ninfo:  \n  title: Sample API  \nservers:  \n  - url: /api/v4  \npaths:  \n  /users/5212593:  \n    put:  \n      description: Click `Try it out` then `Execute` buttons to get bounty.  \n      operationId: api  \n      parameters:  \n        - name: admin  \n          value: true\n\n```  \n2. After committing the file, view it and click on `Try it out` then `Execute` buttons. You will see a POST request to `/api/v4/users/5212593`. This is an example to escalate my account as Admin.\n\n\n#####  Impact\n\nAttackers may trick users to perform unattended actions, such as (1) add attackers to Admin or a private group, (2) add attackers' SSH key, etc.\n\n#####  Examples\n\nThis example is in private mode, please tell me if you cannot access: https://gitlab.com/yvvdwf/xss/-/blob/master/openapi-form.yml#/default/api\n\n#####  What is the current *bug* behavior?\n\nThe sanitization does not exclude `form` tag\n\n#####  What is the expected *correct* behavior?\n\nThe `form` tag should be excluded\n\n#####  Output of checks\n\nThis bug happens on GitLab.com\n\n####  Impact\n\nAttackers may trick users to perform unattended actions, such as (1) add attackers to Admin or a private group, (2) add attackers' SSH key, etc.\n\n## Attachments\n\n**Warning:** Attachments received through HackerOne, please exercise caution!\n\n* [Screenshot_2022-05-09_at_13.45.59.png](https://h1.sec.gitlab.net/a/b082561f-6380-4e9c-8c39-f4a322880f33/Screenshot_2022-05-09_at_13.45.59.png)\n\n## How To Reproduce\n\nPlease add [reproducibility information] to this section:\n\n1.\n1.\n1.\n\n[reproducibility information]: https://about.gitlab.com/handbook/engineering/security/#reproducibility-on-security-issues","state":"closed","created_at":"2022-05-16T14:38:48.310Z","updated_at":"2022-12-08T12:04:54.484Z","closed_at":"2022-11-02T18:02:34.469Z","closed_by":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"labels":["Category:Source Code Management","HackerOne","Weakness::CWE-79","bug::vulnerability","devops::secure","frontend","group::dynamic analysis","priority::3","section::sec","security","severity::3","type::bug","workflow::production"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"}],"author":{"id":2741139,"username":"gitlab-securitybot","name":"GitLab SecurityBot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2741139/avatar.png","web_url":"https://gitlab.com/gitlab-securitybot"},"type":"ISSUE","assignee":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"user_notes_count":50,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2022-07-26","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362509","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362509","notes":"https://gitlab.com/api/v4/projects/278964/issues/362509/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362509/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362509","relative":"#362509","full":"gitlab-org/gitlab#362509"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108620466,"iid":362508,"project_id":278964,"title":"Navbar search field does not expand properly when user is not logged in","description":"### Summary\nIn https://gitlab.com/gitlab-org/gitlab/-/merge_requests/84187 we introduced a change to expand the navbar search field on focus to provide the user with additional room with searches. However, when a user is not logged in, the search field is not transitioning as it should (screen capture below). \n\n### Steps to reproduce\n1. View a page where the search bar is present while not logged in\n2. Focus the search field\n\n### What is the current *bug* behavior?\nThe search field does not stay right aligned to the content while growing in size when focused.\n\n### What is the expected *correct* behavior?\nThe search field should remain anchored to the right and grow in size to the left (matching how it functions for logged in users).\n\n\n#### Additional considerations\nSince we also have less content in the navbar for non-logged in users, we can also consider not hiding the logo/menu for smaller screens like we do now. However, I'm thinking we should probably wait and handle that in a separate issue once https://gitlab.com/gitlab-org/gitlab/-/merge_requests/86348 has been decided/merged, as that will change the spacing we have (and may make it so we can do this for both logged in/non-logged in users).\n\n### Relevant logs and/or screenshots\n![Kapture_2022-05-16_at_08.30.17](/uploads/8e3a4b243bf2932209912210d2fadfbf/Kapture_2022-05-16_at_08.30.17.gif)\n\n\u003c!-- Paste any relevant logs - please use code blocks (```) to format console output, logs, and code\n as it's tough to read otherwise. --\u003e\n\n/cc @tbulva @JohnMcGuire","state":"closed","created_at":"2022-05-16T14:35:20.651Z","updated_at":"2022-06-08T17:23:02.077Z","closed_at":"2022-06-08T17:23:02.060Z","closed_by":{"id":5041243,"username":"nickbrandt","name":"Nick Brandt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/96e3036898d44a8ad7063ba07cce0998?s=80\u0026d=identicon","web_url":"https://gitlab.com/nickbrandt"},"labels":["Category:Global Search","SUS::Impacting","UX","devops::data_stores","frontend","group::global search","section::enablement","severity::4","type::bug","workflow::verification"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":10776513,"username":"tbulva","name":"Tomas Bulva","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10776513/avatar.png","web_url":"https://gitlab.com/tbulva"}],"author":{"id":5041243,"username":"nickbrandt","name":"Nick Brandt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/96e3036898d44a8ad7063ba07cce0998?s=80\u0026d=identicon","web_url":"https://gitlab.com/nickbrandt"},"type":"ISSUE","assignee":{"id":10776513,"username":"tbulva","name":"Tomas Bulva","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10776513/avatar.png","web_url":"https://gitlab.com/tbulva"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362508","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362508","notes":"https://gitlab.com/api/v4/projects/278964/issues/362508/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362508/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362508","relative":"#362508","full":"gitlab-org/gitlab#362508"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7821,"epic":{"id":486667,"iid":7821,"title":"Improve Navbar UX to improve discoverability and usefulness of Global Search","url":"/groups/gitlab-org/-/epics/7821","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":108614965,"iid":362500,"project_id":278964,"title":"Update prev/next unresolved thread icons","description":"## Purpose\n\n- Update icons to use chevrons instead of angles (angles still use the old icon weight and will be deprecated).\n- Use \"Go\" instead of \"Jump\" for the action in the tooltip so that it's more clear and concise.\n\n**Note:**\n- Color change isn't part of this, it's just related to the type of MR.\n- Replacing \"jump\" with \"go\" in the click actions (For example, `@click=\"jumpToPreviousDiscussion\"`) is out of scope for this change.\n\n| **Before** | **After** |\n| ------ | ------ |\n| ![CleanShot_2022-05-16_at_08.37.59_2x](/uploads/d65f62cabbfc50e92286b2c3a852d97d/CleanShot_2022-05-16_at_08.37.59_2x.png) | ![CleanShot_2022-05-16_at_11.47.18_2x](/uploads/b9b1c3c045bd4e6b486e6ad5cd139971/CleanShot_2022-05-16_at_11.47.18_2x.png) |\n| ![CleanShot_2022-05-16_at_08.38.27_2x](/uploads/40aa462e0be89473a3f07e136fd7674a/CleanShot_2022-05-16_at_08.38.27_2x.png) | ![CleanShot_2022-05-16_at_11.48.49_2x](/uploads/10c308ef48f0860a12343873c4712c54/CleanShot_2022-05-16_at_11.48.49_2x.png) |","state":"closed","created_at":"2022-05-16T13:41:11.310Z","updated_at":"2022-11-21T20:59:45.950Z","closed_at":"2022-11-21T20:59:45.920Z","closed_by":{"id":4017299,"username":"jeldergl","name":"Jeremy Elder","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4017299/avatar.png","web_url":"https://gitlab.com/jeldergl"},"labels":["Icon","SUS::Impacting","UI polish","auto updated","severity::4","type::maintenance"],"milestone":null,"assignees":[{"id":4017299,"username":"jeldergl","name":"Jeremy Elder","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4017299/avatar.png","web_url":"https://gitlab.com/jeldergl"}],"author":{"id":4017299,"username":"jeldergl","name":"Jeremy Elder","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4017299/avatar.png","web_url":"https://gitlab.com/jeldergl"},"type":"ISSUE","assignee":{"id":4017299,"username":"jeldergl","name":"Jeremy Elder","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4017299/avatar.png","web_url":"https://gitlab.com/jeldergl"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362500","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362500","notes":"https://gitlab.com/api/v4/projects/278964/issues/362500/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362500/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362500","relative":"#362500","full":"gitlab-org/gitlab#362500"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108608309,"iid":362493,"project_id":278964,"title":"Test cascading namespace settings for package forwarding","description":"Placeholder issue for adding an end-to-end test part of the GitLab QA test suite.","state":"closed","created_at":"2022-05-16T12:09:31.468Z","updated_at":"2022-08-16T10:29:14.760Z","closed_at":"2022-08-16T10:29:14.474Z","closed_by":{"id":4763342,"username":"svistas","name":"Sofia Vistas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4763342/avatar.png","web_url":"https://gitlab.com/svistas"},"labels":["Category:Package Registry","Quality","Quality::test-gap","devops::package","group::package registry","section::ops","type::maintenance","workflow::refinement"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":4763342,"username":"svistas","name":"Sofia Vistas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4763342/avatar.png","web_url":"https://gitlab.com/svistas"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362493","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362493","notes":"https://gitlab.com/api/v4/projects/278964/issues/362493/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362493/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362493","relative":"#362493","full":"gitlab-org/gitlab#362493"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108607271,"iid":362492,"project_id":278964,"title":"Backend: Multiple caches leading to a hash collision","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"type::bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=type::bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n### Workaround \n\nTo avoid the possible \"key\" collisions provide a hardcoded `key:prefix` as a solution.\n\n```yaml\ntest-job:\n  cache:\n    - key:\n        files:\n          - Gemfile.lock\n        prefix: '1'\n      paths:\n        - vendor/ruby\n    - key:\n        files:\n          - yarn.lock\n        prefix: '2'\n      paths:\n        - .yarn-cache/\n```\n\n\n### Summary\n\nUsing multiple caches for a single project _may_ lead to a cache collision due to how we are calculating the key.\n\n### Steps to reproduce\n\n- Run the pipeline\n- Create a `.gitlab-ci.yaml` that has multiple cache keys that depend on the lock file.\n- See cache key collision (I used `css` here as the code (\\`\\`\\`css) highlighter to outline the number of files and the cache key):\n\n```css\nCreating cache 25b4b97e42e1c8264602627bd9591c7428c46135-1-non_protected...\nnode_modules/: found 844 matching files and directories \n\nCreating cache 25b4b97e42e1c8264602627bd9591c7428c46135-1-non_protected...\nfolder2/node_modules/: found 2946 matching files and directories \n```\n\n### Example Project\n\n- Example Project: https://gitlab.com/gitlab-gold/faleksic-tests/public-group/ci-testing/-/tree/cache-collision\n- Example Pipeline: https://gitlab.com/gitlab-gold/faleksic-tests/public-group/ci-testing/-/jobs/2461580650\n\n\u003c!-- If possible, please create an example project here on GitLab.com that exhibits the problematic \nbehavior, and link to it here in the bug report. If you are using an older version of GitLab, this \nwill also determine whether the bug is fixed in a more recent version. --\u003e\n\n### What is the current *bug* behavior?\n\nThe cache uses the same key for different files.\n\nEven though the `package.json` is different in the packages it lists it still ends up as the same key.\n\n### What is the expected *correct* behavior?\n\nEach key is unique.\n\n### Relevant logs and/or screenshots\n\n\u003c!-- Paste any relevant logs - please use code blocks (```) to format console output, logs, and code\n as it's tough to read otherwise. --\u003e\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\n\nThis bug happens on GitLab.com\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e\n\nI believe the following line is calculating the key - https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/ci/pipeline/seed/build/cache.rb#L55","state":"closed","created_at":"2022-05-16T11:50:21.190Z","updated_at":"2022-12-18T22:05:10.496Z","closed_at":"2022-12-02T12:46:58.887Z","closed_by":{"id":3946912,"username":"lauraX","name":"Laura Montemayor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3946912/avatar.png","web_url":"https://gitlab.com/lauraX"},"labels":["CI persistence","Category:Pipeline Authoring","DEPRECATE_pipeline authoring","Technical Writing","approaching-SLO","backend","candidate::15.6","customer","devops::verify","documentation","group::pipeline authoring","missed-SLO","pipeline","pipeline:update-cache","priority::3","section::ops","severity::3","type::bug","workflow::production"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":3946912,"username":"lauraX","name":"Laura Montemayor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3946912/avatar.png","web_url":"https://gitlab.com/lauraX"},{"id":4155490,"username":"marcel.amirault","name":"Marcel Amirault","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4155490/avatar.png","web_url":"https://gitlab.com/marcel.amirault"}],"author":{"id":9938509,"username":"faleksic","name":"Filip Aleksic","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9938509/avatar.png","web_url":"https://gitlab.com/faleksic"},"type":"ISSUE","assignee":{"id":3946912,"username":"lauraX","name":"Laura Montemayor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3946912/avatar.png","web_url":"https://gitlab.com/lauraX"},"user_notes_count":11,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362492","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362492","notes":"https://gitlab.com/api/v4/projects/278964/issues/362492/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362492/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362492","relative":"#362492","full":"gitlab-org/gitlab#362492"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108603002,"iid":362487,"project_id":278964,"title":"Ensure subscriber workers are idempotent","description":"## Problem\n\nA subscriber (Sidekiq worker) of a domain event published via `Gitlab::EventStore` should be idempotent.\n\n## Proposal\n\nTo ensure that, we could make the `Gitlab::EventStore::Subscriber` as `idempotent!`:\n\n```diff\ndiff --git a/lib/gitlab/event_store/subscriber.rb b/lib/gitlab/event_store/subscriber.rb\nindex 9f569059736..da95d3cfcfa 100644\n--- a/lib/gitlab/event_store/subscriber.rb\n+++ b/lib/gitlab/event_store/subscriber.rb\n@@ -23,6 +23,7 @@ module Subscriber\n         include ApplicationWorker\n \n         loggable_arguments 0, 1\n+        idempotent!\n       end\n```\n\nand also modify `subscribes to event` shared example to also run `an idempotent worker` shared examples.\n\nEnsure [the documentation](https://docs.gitlab.com/ee/development/event_store.html#testing) is also updated.","state":"closed","created_at":"2022-05-16T10:23:37.396Z","updated_at":"2022-07-21T09:21:13.690Z","closed_at":"2022-05-25T09:15:16.886Z","closed_by":{"id":3946912,"username":"lauraX","name":"Laura Montemayor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3946912/avatar.png","web_url":"https://gitlab.com/lauraX"},"labels":["Category:Pipeline Authoring","devops::verify","event_store","group::pipeline authoring","maintenance::refactor","section::ops","type::maintenance","workflow::production"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":3946912,"username":"lauraX","name":"Laura Montemayor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3946912/avatar.png","web_url":"https://gitlab.com/lauraX"}],"author":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"type":"ISSUE","assignee":{"id":3946912,"username":"lauraX","name":"Laura Montemayor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3946912/avatar.png","web_url":"https://gitlab.com/lauraX"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362487","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362487","notes":"https://gitlab.com/api/v4/projects/278964/issues/362487/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362487/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362487","relative":"#362487","full":"gitlab-org/gitlab#362487"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7364,"epic":{"id":419101,"iid":7364,"title":"EventStore follow-ups","url":"/groups/gitlab-org/-/epics/7364","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":{"id":50314,"iid":63,"sequence":16,"group_id":9970,"title":"Iteration 16","description":"Target milestone `15.1`","state":3,"created_at":"2022-03-06T00:05:02.043Z","updated_at":"2022-05-30T00:05:02.370Z","start_date":"2022-05-16","due_date":"2022-05-29","web_url":"https://gitlab.com/groups/gitlab-org/-/iterations/50314"},"health_status":null},{"id":108600294,"iid":362483,"project_id":278964,"title":"Follow-up from \"Add enhanced schema for security policies\"","description":"The following discussion from !87338 should be addressed:\n\n- [ ] @mikolaj_wawrzyniak started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/87338#note_945586523):  (+3 comments)\n\n    \u003e **question:** Following https://json-schema.org/understanding-json-schema/structuring.html#id \n    \u003e \n    \u003e \u003e You can set the base URI by using the $id keyword at the root of the schema. The value of $id is a URI-reference without a fragment that resolves against the Retrieval URI. The resulting URI is the base URI for the schema.\n    \u003e \n    \u003e and https://json-schema.org/understanding-json-schema/structuring.html#ref\n    \u003e \n    \u003e \u003e The URI-references in $ref resolve against the schemas Base URI (https://example.com/schemas/customer) which results in https://example.com/schemas/address. The implementation retrieves that schema and uses it to evaluate the shipping_address and billing_address properties.\n    \u003e \n    \u003e And since self-managed instances are installed under their own domains I wonder if using fixed gitlab.com domain would not create issues if anybody would decided to use `$ref` keyword in this schema in the future.\n\n## Implementation plan\n\n- [ ] ~backend Use `ref_resolver` option in `JsonSchemer#schema` to provide customized ref resolver, so it will not return file path to the schema, it will return path the schema in `$id` field,","state":"closed","created_at":"2022-05-16T09:39:24.297Z","updated_at":"2022-09-23T15:06:08.530Z","closed_at":"2022-09-23T11:45:57.122Z","closed_by":{"id":5535431,"username":"mparuszewski","name":"Alan (Maciej) Paruszewski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535431/avatar.png","web_url":"https://gitlab.com/mparuszewski"},"labels":["Category:Security Policy Management","auto updated","backend","devops::govern","follow-up","group::security policies","maintenance::workflow","missed:15.4","section::sec","type::maintenance","workflow::verification"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":5535431,"username":"mparuszewski","name":"Alan (Maciej) Paruszewski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535431/avatar.png","web_url":"https://gitlab.com/mparuszewski"}],"author":{"id":5535431,"username":"mparuszewski","name":"Alan (Maciej) Paruszewski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535431/avatar.png","web_url":"https://gitlab.com/mparuszewski"},"type":"ISSUE","assignee":{"id":5535431,"username":"mparuszewski","name":"Alan (Maciej) Paruszewski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535431/avatar.png","web_url":"https://gitlab.com/mparuszewski"},"user_notes_count":22,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362483","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362483","notes":"https://gitlab.com/api/v4/projects/278964/issues/362483/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362483/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362483","relative":"#362483","full":"gitlab-org/gitlab#362483"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108598510,"iid":362481,"project_id":278964,"title":"Create annotated tags with Releases UI","description":"## Release notes\n\nWe have added the ability to create an annotated tag when creating a release in the UI. Now, when creating a release, you can include optional text that will be used to create an annotated tag. This enables you to include relevant information along with the new tag, so downstream users and applications can have additional context.\n\n## Problem\n\nUsers currently can't create an [annotated tag](https://docs.gitlab.com/ee/topics/git/tags.html) from [the Release Creation UI](https://docs.gitlab.com/ee/user/project/releases/#create-a-release-in-the-releases-page). This is the only feature that exists in [the legacy Tag creation form](https://docs.gitlab.com/ee/user/project/releases/#create-a-release-in-the-tags-page). \n\n## Proposal\n\nAfter we've finished https://gitlab.com/gitlab-org/gitlab/-/issues/268267, we should extend the Release Creation UI to allow users to set tag message.\n\n## Design\n\n- Add `Set tag message` input into the flow.\n- Truncate both `Create from` and `Set tag message` so they only appear if a user is creating a new tag. \n- Lightweight tag link: https://git-scm.com/book/en/v2/Git-Basics-Tagging/\n\n| Page | User creates a new tag |\n| ------ | ------ |\n| ![Screen_Shot_2022-08-22_at_9.12.56_AM](/uploads/c70575af225f1d95585fe797260cfeea/Screen_Shot_2022-08-22_at_9.12.56_AM.png) | ![Screen_Shot_2022-08-22_at_9.13.07_AM](/uploads/d27de4b60ee0972da03456f7d0090403/Screen_Shot_2022-08-22_at_9.13.07_AM.png) |\n\n#### [Figma File](https://www.figma.com/file/4pOyUEowjRNq7J8p0KQ4yI/Create-annotated-tags-with-Releases-UI?node-id=13%3A7299)\n\n## Implementation\n\nCreating annotated tags with a Release is already supported on the ~backend. The GraphQL API creates an annotated tag as part of the `ReleaseCreate` mutation when `tagMessage` is provided. \n\nIn this issue, we can update the ~frontend with new form fields and pass `tagMessage` where necessary.","state":"closed","created_at":"2022-05-16T09:13:23.199Z","updated_at":"2022-10-21T12:03:43.186Z","closed_at":"2022-10-17T19:08:34.999Z","closed_by":{"id":9677998,"username":"cbalane","name":"Chris Balane","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9677998/avatar.png","web_url":"https://gitlab.com/cbalane"},"labels":["Category:Release Orchestration","Deliverable","GitLab Free","Next Up","Release::P1","Technical Writing","UX","devops::release","feature::enhancement","frontend","group::release","release post item::in review","section::ops","type::feature","workflow::production"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":262533,"username":"afontaine","name":"Andrew Fontaine","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/262533/avatar.png","web_url":"https://gitlab.com/afontaine"}],"author":{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"},"type":"ISSUE","assignee":{"id":262533,"username":"afontaine","name":"Andrew Fontaine","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/262533/avatar.png","web_url":"https://gitlab.com/afontaine"},"user_notes_count":44,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362481","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362481","notes":"https://gitlab.com/api/v4/projects/278964/issues/362481/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362481/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362481","relative":"#362481","full":"gitlab-org/gitlab#362481"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8430,"epic":{"id":571933,"iid":8430,"title":"Create annotated tags when creating a Release","url":"/groups/gitlab-org/-/epics/8430","group_id":9970,"human_readable_end_date":"Aug 31, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":108592088,"iid":362474,"project_id":278964,"title":"Guard worker thresholds applications settings time conversion bug","description":"### :fire: Problem\n\nThe Guard worker has a property that we call long running threshold. That value is used to detect long running migrations. More exactly, it is used for migrations in state `pre_importing` and `importing` for too long. Those migrations need to be actively canceled by the Guard worker.\n\nIn https://gitlab.com/gitlab-org/gitlab/-/merge_requests/87324, we introduced to read those thresholds out of application settings (instead of a hard code value).\n\nAfter toggle the related ~\"feature flag\" to use them, we observed a few long running migrations not being picked up by the Guard worker.\n\nUpon close inspection, we saw job failures with the following message:\n\n```\nNoMethodError\nundefined method `ago' for 1800:Integer\napp/workers/container_registry/migration/guard_worker.rb:77:in `long_running_migration?'\n```\n\nBasically, we read the value from the application settings and that value is an integer. We then [try](https://gitlab.com/gitlab-org/gitlab/-/blob/d66f10e169a08cedcbfe70e3ea46cbfbb20d972d/app/workers/container_registry/migration/guard_worker.rb#L110) to call `#ago` on it. `#ago` is not defined on `Integer`. :boom: \n\n### :fire_engine: Solution\n\n* Before calling `#ago`, call `#seconds`.\n* Update the specs so that application settings value are [stubbed](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/87324/diffs#ff8ec4d8698bdb180ec2e3cd1e6b99c87749e92d_170_201) to an `Integer` and not an `ActiveSupport::Duration`","state":"closed","created_at":"2022-05-16T07:36:32.609Z","updated_at":"2022-05-19T20:33:22.415Z","closed_at":"2022-05-17T19:45:29.634Z","closed_by":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"labels":["Category:Container Registry","Container Registry Migration","Container Registry Migration Blocker","Container Registry Migration Unplanned","Container Registry Migration::Phase 2","backend","devops::package","group::package registry","package:active","ruby","section::ops","type::bug","workflow::production"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"}],"author":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"type":"ISSUE","assignee":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362474","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362474","notes":"https://gitlab.com/api/v4/projects/278964/issues/362474/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362474/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362474","relative":"#362474","full":"gitlab-org/gitlab#362474"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7316,"epic":{"id":408066,"iid":7316,"title":"Drive the Container Registry migration Phase 2 from Rails","url":"/groups/gitlab-org/-/epics/7316","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":108589168,"iid":362469,"project_id":278964,"title":"Send a list of unsent PQL leads","description":"Send a list of unsent PQL leads\n\nDue to incident https://gitlab.com/gitlab-com/business-technology/enterprise-apps/integrations/platypus/-/issues/227\n\n\n### Approach\nUse the PQL Monitoring Dashboard on SAFE to create a list of missing leads.\n\n\n\n- If the leads got stuck in CustomersDot after 3 retries, we should see the `customers.leads.sent_at` as `NULL`\n- If the leads got stuck in Platypus, we should match `leads.email`, between Marketo and CustomersDot \n- We should give a list of unsent leads to the Marketing Ops team\n \n PQL Monitoring dashboard has some charts to help https://app.periscopedata.com/app/gitlab:safe-dashboard/949411/PQL-monitoring","state":"closed","created_at":"2022-05-16T07:02:27.342Z","updated_at":"2022-12-08T18:41:40.192Z","closed_at":"2022-10-03T08:26:44.408Z","closed_by":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"labels":["[deprecated] Accepting merge requests","auto updated","devops::growth","group::acquisition","section::growth","type::feature","workflow::ready for development"],"milestone":{"id":1212252,"iid":48,"group_id":9970,"title":"Next 1-3 releases","description":"Issues which are not quite ready to schedule, but should be considered as part of the near-term roadmap.","state":"active","created_at":"2020-03-26T20:39:10.889Z","updated_at":"2020-03-26T20:39:10.889Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/48"},"assignees":[],"author":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"type":"ISSUE","assignee":null,"user_notes_count":15,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362469","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362469","notes":"https://gitlab.com/api/v4/projects/278964/issues/362469/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362469/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362469","relative":"#362469","full":"gitlab-org/gitlab#362469"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108589142,"iid":362468,"project_id":278964,"title":"Enhance load-error event handling for ZuoraSimple Component","description":"**Problem**:\nAs per this [MR review comment](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/85910#note_936750222), we should inform the user with a proper message in case the iframe in `ZuoraSimple` component fails to load as this is a terminal state for the user and the only way they can try to proceed is by refreshing the page.\n\nAlso right now the `load-error` is not captured when the [zuora script](https://gitlab.com/gitlab-org/gitlab/blob/master/ee/app/assets/javascripts/billings/components/zuora_simple.vue#L210-215) fails to load. We should emit `load-error` event when the zuora script fails to load.\n\n**Proposal**:\n- Update the [error message](https://gitlab.com/gitlab-org/gitlab/blob/master/ee/app/assets/javascripts/billings/components/zuora_simple.vue#L224) in case of Iframe load error to inform user to refresh the page. We can get the exact wordings of the message from ~UX.\n- Add a `load-error` event in case the [zuora script](https://gitlab.com/gitlab-org/gitlab/blob/master/ee/app/assets/javascripts/billings/components/zuora_simple.vue#L210-215) fails to load. (similar to the `onload` [handling](https://gitlab.com/gitlab-org/gitlab/blob/master/ee/app/assets/javascripts/billings/components/zuora_simple.vue#L213) we should add `onerror` handling.)\n\n_Note: This a follow up to https://gitlab.com/gitlab-org/gitlab/-/issues/358782+ as per this [MR review comment](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/85910#note_936750222)._","state":"closed","created_at":"2022-05-16T07:01:45.202Z","updated_at":"2022-12-04T17:10:50.667Z","closed_at":"2022-11-28T23:02:53.765Z","closed_by":{"id":10325315,"username":"vvempati","name":"Vamsi Vempati","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10325315/avatar.png","web_url":"https://gitlab.com/vvempati"},"labels":["Category:Purchase","[deprecated] Accepting merge requests","devops::fulfillment","feature::enhancement","frontend","group::purchase","missed:15.4","missed:15.6","section::fulfillment","type::feature","workflow::production"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":10325315,"username":"vvempati","name":"Vamsi Vempati","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10325315/avatar.png","web_url":"https://gitlab.com/vvempati"}],"author":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"type":"ISSUE","assignee":{"id":10325315,"username":"vvempati","name":"Vamsi Vempati","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10325315/avatar.png","web_url":"https://gitlab.com/vvempati"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362468","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362468","notes":"https://gitlab.com/api/v4/projects/278964/issues/362468/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362468/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362468","relative":"#362468","full":"gitlab-org/gitlab#362468"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108584247,"iid":362460,"project_id":278964,"title":"Remove timfel-krb5-auth gem","description":"## Problem\n\nBased on [this comment](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/86036#note_944476932) from @bdenkovych it looks like `timfel-krb5-auth` gem is no longer needed and the gem is [not actively maintained either](https://rubygems.org/gems/timfel-krb5-auth/versions/0.8.3). So, it is better from a security perspective to remove it.\n\nRelated to https://gitlab.com/gitlab-org/gitlab/-/issues/2908+\n\n## Proposal\n\nRemove `timfel-krb5-auth` gem from our codebase for aforementioned reasons.\n\n/cc @bdenkovych @ifarkas @hsutor\n\nIn %\"15.0\" we removed [`omniauth-kerberos` gem](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/86036) to remove support for password-based Kerberos sign-ins. \"Kerberos SPNEGO\" is still supported. `timfel-krb5-auth` gem is used for `omniauth-kerberos` integration. So we can remove this from our codebase. We decided to do it as a follow-up to make any potential regression for \"Kerberos SPNEGO\" easily identifiable and reversible. Those 2 integrations shared a common code.\n\n## Actions need to be done\n\n\n- Remove usage of `timfel-krb5-auth` gem in the codebase\n  - Remove the gem from Gemfile\n  - Remove entire `ee/lib/gitlab/kerberos/authentication.rb`\n  - Remove file `ee/lib/ee/gitlab/auth/o_auth/auth_hash.rb`\n  - Revisit affected specs and either remove or fix them","state":"closed","created_at":"2022-05-16T05:01:18.208Z","updated_at":"2022-06-07T22:46:09.870Z","closed_at":"2022-05-31T12:41:42.174Z","closed_by":{"id":9717295,"username":"bdenkovych","name":"Bogdan Denkovych","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9717295/avatar.png","web_url":"https://gitlab.com/bdenkovych"},"labels":["devops::manage","group::authentication and authorization","quad-planning::complete-no-action","section::dev","security","securitybot::ignore","type::maintenance","workflow::production"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":9717295,"username":"bdenkovych","name":"Bogdan Denkovych","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9717295/avatar.png","web_url":"https://gitlab.com/bdenkovych"}],"author":{"id":9043659,"username":"rshambhuni","name":"Rohit Shambhuni","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9043659/avatar.png","web_url":"https://gitlab.com/rshambhuni"},"type":"ISSUE","assignee":{"id":9717295,"username":"bdenkovych","name":"Bogdan Denkovych","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9717295/avatar.png","web_url":"https://gitlab.com/bdenkovych"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362460","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362460","notes":"https://gitlab.com/api/v4/projects/278964/issues/362460/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362460/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362460","relative":"#362460","full":"gitlab-org/gitlab#362460"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108580691,"iid":362456,"project_id":278964,"title":"Fix package details files row alignment when action column is visible","description":"From https://gitlab.com/gitlab-org/gitlab/-/merge_requests/87361#note_947199221\n\u003e @katiemacoy I'm wondering if it would be possible to fix the slight alignment issue. This alignment issue was not caused by this MR, so we could also make a followup issue.\n![Screen_Shot_2022-05-16_at_11.43.26](/uploads/53936692eef408da1cbad39aa8fdf7f7/Screen_Shot_2022-05-16_at_11.43.26.png)\n\nFix package details files row alignment when action column visible","state":"closed","created_at":"2022-05-16T02:28:59.965Z","updated_at":"2022-10-11T07:20:19.606Z","closed_at":"2022-07-25T09:22:30.266Z","closed_by":{"id":11214192,"username":"rchanila","name":"Rahul Chanila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11214192/avatar.png","web_url":"https://gitlab.com/rchanila"},"labels":["Category:Package Registry","SUS::Impacting","UX","UX debt","devops::package","frontend","frontend-weight::1","group::package registry","section::ops","severity::4","type::bug","workflow::verification"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":11214192,"username":"rchanila","name":"Rahul Chanila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11214192/avatar.png","web_url":"https://gitlab.com/rchanila"}],"author":{"id":11214192,"username":"rchanila","name":"Rahul Chanila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11214192/avatar.png","web_url":"https://gitlab.com/rchanila"},"type":"ISSUE","assignee":{"id":11214192,"username":"rchanila","name":"Rahul Chanila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11214192/avatar.png","web_url":"https://gitlab.com/rchanila"},"user_notes_count":2,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362456","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362456","notes":"https://gitlab.com/api/v4/projects/278964/issues/362456/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362456/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362456","relative":"#362456","full":"gitlab-org/gitlab#362456"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108571554,"iid":362437,"project_id":278964,"title":"JIRA integration REST API is missing `jira_transition_id` in responses","description":"The responses of the [JIRA integration REST API](https://docs.gitlab.com/ee/api/integrations.html#jira) are incomplete. \nFor example it's missing the `jira_transition_id` field.\n\n## Steps to Reproduce\n\nThe following `curl` command:\n\n```\ncurl -X PUT \"http://localhost:8080/api/v4/projects/71/services/jira\" --header \"PRIVATE-TOKEN: ACCTEST1234567890123\" --header 'Content-Type: application/json' --data '{                                                        \n \"url\": \"https://testurl.com\",\n \"api_url\": \"https://testurl.com/rest\",\n \"project_key\": \"\",\n \"username\": \"user2\",\n \"password\": \"mypass_update\",\n \"jira_issue_transition_id\": \"3\",\n \"merge_requests_events\": true\n}'\n```\n\n... returns:\n\n```json\n{\n  \"id\": 29,\n  \"title\": \"Jira\",\n  \"slug\": \"jira\",\n  \"created_at\": \"2022-05-15T15:23:14.883Z\",\n  \"updated_at\": \"2022-05-15T15:23:14.883Z\",\n  \"active\": true,\n  \"commit_events\": false,\n  \"push_events\": true,\n  \"issues_events\": true,\n  \"confidential_issues_events\": true,\n  \"merge_requests_events\": true,\n  \"tag_push_events\": true,\n  \"note_events\": true,\n  \"confidential_note_events\": true,\n  \"pipeline_events\": true,\n  \"wiki_page_events\": true,\n  \"job_events\": true,\n  \"comment_on_event_enabled\": true,\n  \"properties\": {\n    \"url\": \"https://testurl.com\",\n    \"api_url\": \"https://testurl.com/rest\",\n    \"username\": \"user2\"\n  }\n}\n```\n\n## Observed Behavior\n\nThe `jira_transition_id` field is nowhere to be found in the response. Neither in the response to the create endpoint nor in the response of the get endpoint.\n\n## Expected Behavior\n\nThe `jira_transition_id` should be part of those responses. Probably as part of the `properties` object.\n\n## Impact\n\nThe [Terraform GitLab Provider](https://github.com/gitlabhq/terraform-provider-gitlab) currently has a [buggy resource](https://github.com/gitlabhq/terraform-provider-gitlab/pull/1069#discussion_r866307509) due to this behavior.\n\n/cc @nagyv-gitlab could you help me to find the appropriate team to help out here?","state":"closed","created_at":"2022-05-15T15:42:35.170Z","updated_at":"2022-11-22T18:41:56.061Z","closed_at":"2022-07-13T14:09:21.196Z","closed_by":{"id":11722161,"username":"bmarjanovic","name":"Bojan Marjanovic","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11722161/avatar.png","web_url":"https://gitlab.com/bmarjanovic"},"labels":["Integration::Jira","api:consistency","devops::manage","feature::enhancement","group::integrations","section::dev","type::feature","workflow::production"],"milestone":{"id":1212252,"iid":48,"group_id":9970,"title":"Next 1-3 releases","description":"Issues which are not quite ready to schedule, but should be considered as part of the near-term roadmap.","state":"active","created_at":"2020-03-26T20:39:10.889Z","updated_at":"2020-03-26T20:39:10.889Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/48"},"assignees":[{"id":11722161,"username":"bmarjanovic","name":"Bojan Marjanovic","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11722161/avatar.png","web_url":"https://gitlab.com/bmarjanovic"}],"author":{"id":25340,"username":"tuxtimo","name":"See GitLab account @timofurrer","state":"active","avatar_url":"https://secure.gravatar.com/avatar/1827cb056366bab1146895d625e798af?s=80\u0026d=identicon","web_url":"https://gitlab.com/tuxtimo"},"type":"ISSUE","assignee":{"id":11722161,"username":"bmarjanovic","name":"Bojan Marjanovic","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11722161/avatar.png","web_url":"https://gitlab.com/bmarjanovic"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362437","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362437","notes":"https://gitlab.com/api/v4/projects/278964/issues/362437/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362437/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362437","relative":"#362437","full":"gitlab-org/gitlab#362437"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1522,"epic":{"id":8628,"iid":1522,"title":"Jira Integration","url":"/groups/gitlab-org/-/epics/1522","group_id":9970},"iteration":null,"health_status":null},{"id":108559845,"iid":362417,"project_id":278964,"title":"Add In-use labels for DAST profile card [UI Enhancement]","description":"### Proposal\n\nThe profile in use should have a label \u0026 an icon as per the designs. This should allow users to distinguish those profiles from others.\n\n![image](/uploads/d2fadbeb22e1e0cc00f1edf02e29f5d3/image.png)","state":"closed","created_at":"2022-05-15T02:15:41.909Z","updated_at":"2022-05-23T11:42:15.605Z","closed_at":"2022-05-17T13:28:56.804Z","closed_by":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"labels":["Category:DAST","devops::secure","feature::enhancement","frontend","group::dynamic analysis","section::sec","type::feature","workflow::in dev"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"}],"author":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"type":"ISSUE","assignee":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362417","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362417","notes":"https://gitlab.com/api/v4/projects/278964/issues/362417/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362417/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362417","relative":"#362417","full":"gitlab-org/gitlab#362417"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7631,"epic":{"id":451408,"iid":7631,"title":"On-demand DAST configuration improvements","url":"/groups/gitlab-org/-/epics/7631","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":108534164,"iid":362410,"project_id":278964,"title":"Add crm_customer_id to issue list filtered search","description":"CRM was released in %\"15.0\". Contact list are supported through the issue list, but only as a URL param by reading the `crm_customer_id` url query param in `issues_list_app.vue` on mount and passing it to the GraphQL API query (https://gitlab.com/gitlab-org/plan/-/issues/566#note_911178740).\n\nThe token needs to be added to gl-filtered-search.","state":"closed","created_at":"2022-05-13T21:31:42.671Z","updated_at":"2022-06-21T12:00:57.770Z","closed_at":"2022-05-26T10:44:39.179Z","closed_by":{"id":4545397,"username":"cngo","name":"Coung Ngo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4545397/avatar.png","web_url":"https://gitlab.com/cngo"},"labels":["CRM","Deliverable","devops::plan","feature::addition","frontend","group::project management","section::dev","type::feature","workflow::production"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":4545397,"username":"cngo","name":"Coung Ngo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4545397/avatar.png","web_url":"https://gitlab.com/cngo"}],"author":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"type":"ISSUE","assignee":{"id":4545397,"username":"cngo","name":"Coung Ngo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4545397/avatar.png","web_url":"https://gitlab.com/cngo"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362410","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362410","notes":"https://gitlab.com/api/v4/projects/278964/issues/362410/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362410/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362410","relative":"#362410","full":"gitlab-org/gitlab#362410"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108530619,"iid":362400,"project_id":278964,"title":"Add work items schema to https://docs.gitlab.com/ee/development/work_items.html","description":"We updated the Redis counter schema in https://gitlab.com/gitlab-org/gitlab/-/issues/346046, but we still need to document it in https://docs.gitlab.com/ee/development/work_items.html.","state":"closed","created_at":"2022-05-13T19:16:34.108Z","updated_at":"2022-09-21T12:00:45.731Z","closed_at":"2022-09-05T17:46:42.559Z","closed_by":{"id":8110537,"username":"mcelicalderonG","name":"Mario Celi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110537/avatar.png","web_url":"https://gitlab.com/mcelicalderonG"},"labels":["Deliverable","auto updated","backend","devops::plan","docs-only","documentation","group::project management","missed-deliverable","missed:15.3","section::dev","type::maintenance","workflow::production"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":8110537,"username":"mcelicalderonG","name":"Mario Celi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110537/avatar.png","web_url":"https://gitlab.com/mcelicalderonG"}],"author":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"type":"ISSUE","assignee":{"id":8110537,"username":"mcelicalderonG","name":"Mario Celi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110537/avatar.png","web_url":"https://gitlab.com/mcelicalderonG"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362400","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362400","notes":"https://gitlab.com/api/v4/projects/278964/issues/362400/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362400/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362400","relative":"#362400","full":"gitlab-org/gitlab#362400"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108529772,"iid":362398,"project_id":278964,"title":"Improve documentation about Terraform template override and troubleshooting","description":"The following discussion from !86275 should be addressed:\n\n- [ ] @christianalexander started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/86275#note_946331430):  (+1 comment)\n\n    \u003e Heads up: this seems to have caused a breaking change for users who relied on `Terraform/Base.gitlab-ci.yml`, since it backfilled the `terraform:` prefix from `Terraform/Base.latest.gitlab-ci.yml`.\n    \u003e \n    \u003e (the change that is documented [here](https://gitlab.com/gitlab-org/gitlab/-/blob/133c2c15a860e78c07f482eb72576d8172ec3436/doc/user/infrastructure/iac/index.md#invalid-cicd-syntax-error-when-using-the-latest-base-template))\n    \u003e \n    \u003e Edit: looks like this was mentioned in the update to the troubleshooting guide, sorry to be a bother https://gitlab.com/gitlab-org/gitlab/-/blob/master/doc/user/infrastructure/iac/troubleshooting.md#invalid-cicd-syntax-error-when-using-the-base-template\n    \u003e \n    \u003e Edit 2: Beyond just renaming the job, this also caused a breaking change for users who added `except` and `when` values since the base yml file now uses `rules`.","state":"closed","created_at":"2022-05-13T18:46:23.632Z","updated_at":"2022-05-20T02:34:30.436Z","closed_at":"2022-05-20T02:34:27.399Z","closed_by":{"id":683729,"username":"Alexand","name":"Joo Alexandre Cunha","state":"active","avatar_url":"https://secure.gravatar.com/avatar/fbf9eb0e06338db271e1ce6722c32cc0?s=80\u0026d=identicon","web_url":"https://gitlab.com/Alexand"},"labels":["devops::configure","documentation","group::configure","section::ops","type::maintenance","workflow::production"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":683729,"username":"Alexand","name":"Joo Alexandre Cunha","state":"active","avatar_url":"https://secure.gravatar.com/avatar/fbf9eb0e06338db271e1ce6722c32cc0?s=80\u0026d=identicon","web_url":"https://gitlab.com/Alexand"}],"author":{"id":683729,"username":"Alexand","name":"Joo Alexandre Cunha","state":"active","avatar_url":"https://secure.gravatar.com/avatar/fbf9eb0e06338db271e1ce6722c32cc0?s=80\u0026d=identicon","web_url":"https://gitlab.com/Alexand"},"type":"ISSUE","assignee":{"id":683729,"username":"Alexand","name":"Joo Alexandre Cunha","state":"active","avatar_url":"https://secure.gravatar.com/avatar/fbf9eb0e06338db271e1ce6722c32cc0?s=80\u0026d=identicon","web_url":"https://gitlab.com/Alexand"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362398","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362398","notes":"https://gitlab.com/api/v4/projects/278964/issues/362398/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362398/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362398","relative":"#362398","full":"gitlab-org/gitlab#362398"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108528576,"iid":362393,"project_id":278964,"title":"Add `last_downloaded` date to the Package Registry UI","description":"### Context\n\nhttps://gitlab.com/gitlab-org/gitlab/-/issues/362259 proposes adding the last downloaded date to the Package model. This data will be helpful in step 1 of the epic https://gitlab.com/groups/gitlab-org/-/epics/8064.\n\n### Problem to solve\n\nAlthough the information will be added to the model, it still needs to be added to the user interface so that users of the Package Registry can see the last time a given package was downloaded. \n\n#### Reach and impact\n\nWe have about 300k page views of the Package Registry per month. I believe adding this data point can help increase the total number of page views by 10%.\n\n#### Design logic\n* Only shown on the package detail page\n* Follows the [date and time](https://design.gitlab.com/content/date-time) guidelines\n* Omits time, only shows the date\n* If `_last_downloaded` returns nothing, the UI shows nothing\n\n![Screen_Shot_2022-08-17_at_15.21.51](/uploads/babb448de299cff1757b14cb121b5360/Screen_Shot_2022-08-17_at_15.21.51.png)\n\n## Design links\n* [Figma](https://www.figma.com/file/AnBWA0HLLLRWUK6c8oePzv/Package-Registry-SSOT?node-id=1617%3A25904)\n* Attached :arrow_down:\n\n## Implementation guide\n\n- Query new field `lastDownloadedAt` here https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/assets/javascripts/packages_and_registries/package_registry/graphql/queries/get_package_details.query.graphql\n- Add `metadata-item` to https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/assets/javascripts/packages_and_registries/package_registry/components/details/package_title.vue \u0026 use value from field.","state":"closed","created_at":"2022-05-13T18:11:51.751Z","updated_at":"2022-10-21T12:03:56.271Z","closed_at":"2022-09-20T23:16:18.516Z","closed_by":{"id":11214192,"username":"rchanila","name":"Rahul Chanila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11214192/avatar.png","web_url":"https://gitlab.com/rchanila"},"labels":["Category:Package Registry","Deliverable","Package:P1","UX","devops::package","feature::enhancement","frontend","frontend-weight::1","group::package registry","section::ops","type::feature","workflow::verification"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":11214192,"username":"rchanila","name":"Rahul Chanila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11214192/avatar.png","web_url":"https://gitlab.com/rchanila"}],"author":{"id":3799560,"username":"trizzi","name":"Tim Rizzi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3799560/avatar.png","web_url":"https://gitlab.com/trizzi"},"type":"ISSUE","assignee":{"id":11214192,"username":"rchanila","name":"Rahul Chanila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11214192/avatar.png","web_url":"https://gitlab.com/rchanila"},"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362393","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362393","notes":"https://gitlab.com/api/v4/projects/278964/issues/362393/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362393/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362393","relative":"#362393","full":"gitlab-org/gitlab#362393"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8064,"epic":{"id":521985,"iid":8064,"title":"Display package usage data","url":"/groups/gitlab-org/-/epics/8064","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":108525206,"iid":362391,"project_id":278964,"title":"MR Widget Extension default telemetry","description":"\u003c!-- This template is a great use for issues that are feature::additions or technical tasks for larger issues.--\u003e\n\n### Proposal\n\nComplete the work initiatived in the spike: https://gitlab.com/gitlab-org/gitlab/-/issues/358172\n\nSee Spike conclusion here: https://gitlab.com/gitlab-org/gitlab/-/issues/358172#note_940851088\n\n### What to do?\n\nComplete the MR and ship.\n\nIf any remaining work is required by the Widgets DRIs, please reach out: https://gitlab.com/gitlab-org/gitlab/-/issues/360185\n\n\u003c!-- Use this section to explain the feature and how it will work. It can be helpful to add technical details, design proposals, and links to related epics or issues. --\u003e\n\n\u003c!-- Consider adding related issues and epics to this issue. You can also reference the Feature Proposal Template (https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal%20-%20detailed.md) for additional details to consider adding to this issue. Additionally, as a data oriented organization, when your feature exits planning breakdown, consider adding the `What does success look like, and how can we measure that?` section.\n--\u003e\n\n\u003c!-- Label reminders\nUse the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n--\u003e","state":"closed","created_at":"2022-05-13T17:24:50.879Z","updated_at":"2022-06-21T12:01:43.124Z","closed_at":"2022-05-13T17:40:08.111Z","closed_by":{"id":853414,"username":"andr3","name":"Andr Lus","state":"active","avatar_url":"https://secure.gravatar.com/avatar/241e39726efb512a29621070ccf26a90?s=80\u0026d=identicon","web_url":"https://gitlab.com/andr3"},"labels":["Deliverable","Merge Request Report Widgets","WorkingGroup::MergeRequestReportWidgets","devops::create","frontend","group::code review","section::dev","workflow::in dev"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[],"author":{"id":853414,"username":"andr3","name":"Andr Lus","state":"active","avatar_url":"https://secure.gravatar.com/avatar/241e39726efb512a29621070ccf26a90?s=80\u0026d=identicon","web_url":"https://gitlab.com/andr3"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362391","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362391","notes":"https://gitlab.com/api/v4/projects/278964/issues/362391/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362391/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":"https://gitlab.com/api/v4/projects/278964/issues/362017"},"references":{"short":"#362391","relative":"#362391","full":"gitlab-org/gitlab#362391"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108524782,"iid":362389,"project_id":278964,"title":"Implement in-product MR Survey","description":"# Context\n\nAfter investigating of this in-product MR Survey, we proceed now to implementation.\n\n* Design issue: https://gitlab.com/gitlab-org/gitlab/-/issues/353775/\n\n# Open questions\n\n- [ ] Possible to implement this callout in-line? https://gitlab.com/gitlab-org/gitlab/-/issues/353775/#note_940244574","state":"closed","created_at":"2022-05-13T17:10:22.601Z","updated_at":"2022-07-21T12:01:29.407Z","closed_at":"2022-07-18T18:58:41.785Z","closed_by":{"id":10539680,"username":"slashmanov","name":"Stanislav Lashmanov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10539680/avatar.png","web_url":"https://gitlab.com/slashmanov"},"labels":["Deliverable","auto updated","devops::create","frontend","group::code review","merge requests","missed-deliverable","missed:15.1","section::dev","spike","type::feature","workflow::verification"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":10539680,"username":"slashmanov","name":"Stanislav Lashmanov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10539680/avatar.png","web_url":"https://gitlab.com/slashmanov"}],"author":{"id":853414,"username":"andr3","name":"Andr Lus","state":"active","avatar_url":"https://secure.gravatar.com/avatar/241e39726efb512a29621070ccf26a90?s=80\u0026d=identicon","web_url":"https://gitlab.com/andr3"},"type":"ISSUE","assignee":{"id":10539680,"username":"slashmanov","name":"Stanislav Lashmanov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10539680/avatar.png","web_url":"https://gitlab.com/slashmanov"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362389","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362389","notes":"https://gitlab.com/api/v4/projects/278964/issues/362389/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362389/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362389","relative":"#362389","full":"gitlab-org/gitlab#362389"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7859,"epic":{"id":493565,"iid":7859,"title":"In-product survey on MRs performance","url":"/groups/gitlab-org/-/epics/7859","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":108524370,"iid":362384,"project_id":278964,"title":"Changing metrics category to Operational from Optional","description":"## Summary\n\nIn https://gitlab.com/gitlab-com/sales-team/field-operations/customer-success-operations/-/issues/1170#note_946338786, the Customer Success team has requested the following 31 existing metrics to be updated to `operational` category. \n\n-  **Business Justification:** To better support the current CS services provided to the field, and to be more consistent in collecting usage data from all types of customers, SM \u0026 SaaS.\n- **Why does CS need this:** This will allow for further analysis into feature usage for our SM customers and help us become consistent with the usage data we collect for SaaS customers.\n- **How will this be used:** Once these metrics are classified as `operational`, it will allow us to collect usage from our SM customers on cloud licensing, and therefore help us build additional reporting to analyze SM customer usage of Gitlab features.\n\n\n## Approval\nApproved by Operational Metrics DRI here: https://gitlab.com/gitlab-com/sales-team/field-operations/customer-success-operations/-/issues/1170#note_946527224\n\n## METRICS\n\n| Key Path                                                                                                |\n|---------------------------------------------------------------------------------------------------------|\n| usage_activity_by_stage_monthly.manage.events                                                           |\n| usage_activity_by_stage_monthly.create.protected_branches                                               |\n| usage_activity_by_stage.create.projects_with_repositories_enabled                                       |\n| counts.environments                                                                                     |\n| counts.feature_flags                                                                                    |\n| counts_monthly.successful_deployments                                                                   |\n| counts_monthly.failed_deployments                                                                       |\n| usage_activity_by_stage_monthly.manage.projects_with_compliance_framework                               |\n| redis_hll_counters.pipeline_authoring.o_pipeline_authoring_unique_users_committing_ciconfigfile_monthly |\n| analytics_unique_visits.i_analytics_dev_ops_adoption                                                    |\n| usage_activity_by_stage.manage.project_imports.total                                                    |\n| usage_activity_by_stage_monthly.manage.user_auth_by_provider                                            |\n| usage_activity_by_stage_monthly.create.action_monthly_active_users_ide_edit                             |\n| counts.ci_pipeline_config_auto_devops                                                                   |\n| counts.projects_prometheus_active                                                                       |\n| prometheus_enabled                                                                                      |\n| usage_activity_by_stage.manage.group_saml_enabled                                                       |\n| usage_activity_by_stage_monthly.release.failed_deployments                                              |\n| usage_activity_by_stage_monthly.release.successful_deployments                                          |\n| geo_enabled                                                                                             |\n| counts.geo_nodes                                                                                        |\n| usage_activity_by_stage_monthly.verify.ci_pipeline_config_auto_devops                                   |\n| counts.ci_runners_instance_type_active                                                                  |\n| counts.ci_runners_group_type_active                                                                     |\n| counts.ci_runners_project_type_active                                                                   |\n| usage_activity_by_stage.verify.ci_builds                                                                |\n| redis_hll_counters.analytics.p_analytics_ci_cd_lead_time_monthly                                        |\n| redis_hll_counters.analytics.p_analytics_ci_cd_deployment_frequency_monthly                             |","state":"closed","created_at":"2022-05-13T17:00:10.922Z","updated_at":"2022-05-18T14:41:24.597Z","closed_at":"2022-05-18T14:41:24.581Z","closed_by":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"labels":["Unplanned","devops::growth","group::product intelligence","product work","section::growth","type::maintenance","workflow::ready for review"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"}],"author":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"type":"ISSUE","assignee":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362384","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362384","notes":"https://gitlab.com/api/v4/projects/278964/issues/362384/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362384/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362384","relative":"#362384","full":"gitlab-org/gitlab#362384"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108512591,"iid":362360,"project_id":278964,"title":"Connect actions from summary card with editing form","description":"After [MR](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/87439)  and [MR](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/87270) are merged. It is required to connect editing actions on summary cards to trigger editing form in the sidebar.\n\nAccording to [design](https://www.figma.com/file/o6NoqgLnxv0KnK2y9Qum51/DAST-Configuration-UI?node-id=1162%3A80372) \n\n\n\n\u003c!-- template sourced from https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Default.md --\u003e","state":"closed","created_at":"2022-05-13T13:54:15.698Z","updated_at":"2022-05-19T09:59:22.395Z","closed_at":"2022-05-19T09:59:22.376Z","closed_by":{"id":10762712,"username":"arfedoro","name":"Artur Fedorov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10762712/avatar.png","web_url":"https://gitlab.com/arfedoro"},"labels":["Category:DAST","UX","auto updated","devops::secure","frontend","group::dynamic analysis","section::sec","workflow::in review"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":10762712,"username":"arfedoro","name":"Artur Fedorov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10762712/avatar.png","web_url":"https://gitlab.com/arfedoro"}],"author":{"id":10762712,"username":"arfedoro","name":"Artur Fedorov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10762712/avatar.png","web_url":"https://gitlab.com/arfedoro"},"type":"ISSUE","assignee":{"id":10762712,"username":"arfedoro","name":"Artur Fedorov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10762712/avatar.png","web_url":"https://gitlab.com/arfedoro"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362360","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362360","notes":"https://gitlab.com/api/v4/projects/278964/issues/362360/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362360/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362360","relative":"#362360","full":"gitlab-org/gitlab#362360"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7631,"epic":{"id":451408,"iid":7631,"title":"On-demand DAST configuration improvements","url":"/groups/gitlab-org/-/epics/7631","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":108509195,"iid":362355,"project_id":278964,"title":"Possible refactor of UpdatePagesService class","description":"The following discussion from !86072 should be addressed:\n\n- [ ] @mikolaj_wawrzyniak started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/86072#note_945513092): \n\n    \u003e **suggestion (non-blocking):** Errors in ruby are performance heavy and therefore are discouraged as a tool to control standard (aka expected) execution flow https://mensfeld.pl/2015/03/exceptions-should-not-be-expected-stop-using-them-for-control-flow-or-any-other-logic-handling-in-ruby/\n    \u003e \n    \u003e Normally I would kindly ask for change here, but I see that this error based approach was already established in this service prior to this MR, so I only want to kindly ask you to consider opening follow up issue to discuss possible refactor of this class","state":"closed","created_at":"2022-05-13T13:06:46.939Z","updated_at":"2022-07-19T17:44:56.474Z","closed_at":"2022-07-18T13:40:31.101Z","closed_by":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"labels":["Category:Pages","auto updated","backend","devops::create","group::editor","quad-planning::complete-no-action","section::ops","type::maintenance","workflow::in review"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"}],"author":{"id":1646689,"username":"oregand","name":"David O'Regan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1646689/avatar.png","web_url":"https://gitlab.com/oregand"},"type":"ISSUE","assignee":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362355","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362355","notes":"https://gitlab.com/api/v4/projects/278964/issues/362355/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362355/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362355","relative":"#362355","full":"gitlab-org/gitlab#362355"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8247,"epic":{"id":547552,"iid":8247,"title":"Pages Bugs \u0026 Performance improvements","url":"/groups/gitlab-org/-/epics/8247","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":108507694,"iid":362353,"project_id":278964,"title":"Dry run test issue","description":"Testing for dry run in https://gitlab.com/gitlab-org/quality/triage-ops/-/merge_requests/1328","state":"closed","created_at":"2022-05-13T12:38:38.140Z","updated_at":"2022-07-25T14:45:43.889Z","closed_at":"2022-07-25T14:45:43.673Z","closed_by":{"id":4303148,"username":"kwiebers","name":"Kyle Wiebers","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4303148/avatar.png","web_url":"https://gitlab.com/kwiebers"},"labels":["[deprecated] Accepting merge requests","type::maintenance","workflow::ready for development"],"milestone":{"id":1212252,"iid":48,"group_id":9970,"title":"Next 1-3 releases","description":"Issues which are not quite ready to schedule, but should be considered as part of the near-term roadmap.","state":"active","created_at":"2020-03-26T20:39:10.889Z","updated_at":"2020-03-26T20:39:10.889Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/48"},"assignees":[],"author":{"id":6193108,"username":"aregnery","name":"Austin Regnery","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6193108/avatar.png","web_url":"https://gitlab.com/aregnery"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362353","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362353","notes":"https://gitlab.com/api/v4/projects/278964/issues/362353/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362353/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362353","relative":"#362353","full":"gitlab-org/gitlab#362353"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108507178,"iid":362352,"project_id":278964,"title":"Add additional information to the IP allow list field on groups","description":"According to https://docs.gitlab.com/ee/user/group/#restrict-group-access-by-ip-address:\n\n\u003e Administrators and group owners can access group settings from any IP address: Users with these permission levels can always access the group settings, regardless of IP restriction, but they cannot access projects belonging to the group when accessing from a disallowed IP address.\n\nThis should ideally be mentioned in the hint on the field itself, which currently looks like this:\n\n![image](/uploads/0fda598a57f9f87156ac5e497ade545c/image.png)\n\nCurrently the hint seems to indicate that the group itself will be unmanageable once the IP restriction is enabled unless the user's IP is included, and this could be somewhat confusing, or appear to be a bug as the behaviour doesn't match the field hint.\n\nRelated https://gitlab.com/gitlab-org/gitlab/-/issues/361771\n\nRelated https://gitlab.com/groups/gitlab-org/-/epics/8062\n\n/cc @sean_carroll @tlinz","state":"closed","created_at":"2022-05-13T12:29:49.639Z","updated_at":"2022-08-21T12:01:57.149Z","closed_at":"2022-08-08T12:26:06.885Z","closed_by":{"id":11004366,"username":"eduardosanz","name":"Eduardo Sanz Garca","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11004366/avatar.png","web_url":"https://gitlab.com/eduardosanz"},"labels":["Deliverable","[deprecated] ","devops::manage","feature::enhancement","frontend","group::authentication and authorization","quad-planning::complete-no-action","section::dev","type::feature","workflow::in dev"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":11004366,"username":"eduardosanz","name":"Eduardo Sanz Garca","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11004366/avatar.png","web_url":"https://gitlab.com/eduardosanz"}],"author":{"id":2167502,"username":"robotmay_gitlab","name":"Robert May","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2167502/avatar.png","web_url":"https://gitlab.com/robotmay_gitlab"},"type":"ISSUE","assignee":{"id":11004366,"username":"eduardosanz","name":"Eduardo Sanz Garca","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11004366/avatar.png","web_url":"https://gitlab.com/eduardosanz"},"user_notes_count":7,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362352","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362352","notes":"https://gitlab.com/api/v4/projects/278964/issues/362352/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362352/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362352","relative":"#362352","full":"gitlab-org/gitlab#362352"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108501219,"iid":362339,"project_id":278964,"title":"Tag Edit button should lead to the release page","description":"### Release notes\n\nWe have updated the edit tag workflow to navigate to the edit release. Previously, it led to a legacy tag edit page. Now users can more easily create or update the related release info including release notes and take advantage of other supported functionality such as webhooks for the new release.\n\n\n### Problem to solve\n\n[Video explanation](https://youtu.be/OnZa0v-OKZ4)\n\nEdit tag button leads to the obsolete release notes page:\n\n\u003cdetails\u003e\u003csummary\u003eScreenshot\u003c/summary\u003e\n![Screenshot_2022-05-13_at_17.13.47](/uploads/e706e53bcdddae313f1746cea0160be3/Screenshot_2022-05-13_at_17.13.47.png)\n\u003c/details\u003e\n\nIt should lead to either:\n\n* create new release page\n* edit release page\n\ndepending on the existence of the release attached to this tag.","state":"closed","created_at":"2022-05-13T10:12:25.242Z","updated_at":"2022-08-21T12:03:52.136Z","closed_at":"2022-07-27T15:16:43.971Z","closed_by":{"id":9677998,"username":"cbalane","name":"Chris Balane","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9677998/avatar.png","web_url":"https://gitlab.com/cbalane"},"labels":["Category:Release Orchestration","Deliverable","GitLab Free","Release::P1","SUS::Impacting","UX","auto updated","backend","backend-weight::1","devops::release","group::release","release post item::in review","section::ops","severity::4","type::feature","usability","workflow::verification"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":262533,"username":"afontaine","name":"Andrew Fontaine","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/262533/avatar.png","web_url":"https://gitlab.com/afontaine"},{"id":3379682,"username":"vshushlin","name":"Vladimir Shushlin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3379682/avatar.png","web_url":"https://gitlab.com/vshushlin"},{"id":9677998,"username":"cbalane","name":"Chris Balane","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9677998/avatar.png","web_url":"https://gitlab.com/cbalane"}],"author":{"id":3379682,"username":"vshushlin","name":"Vladimir Shushlin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3379682/avatar.png","web_url":"https://gitlab.com/vshushlin"},"type":"ISSUE","assignee":{"id":262533,"username":"afontaine","name":"Andrew Fontaine","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/262533/avatar.png","web_url":"https://gitlab.com/afontaine"},"user_notes_count":27,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362339","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362339","notes":"https://gitlab.com/api/v4/projects/278964/issues/362339/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362339/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362339","relative":"#362339","full":"gitlab-org/gitlab#362339"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8061,"epic":{"id":521562,"iid":8061,"title":"Remove releases creation from tags","url":"/groups/gitlab-org/-/epics/8061","group_id":9970,"human_readable_end_date":"Aug 31, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":108498232,"iid":362336,"project_id":278964,"title":"Follow-up from \"Use running job's token to download artifacts from job dependencies\"","description":"The following discussion from !83713 should be addressed:\n\n- [ ] @fabiopitino started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/83713#note_940973042):  (+5 comments)\n\n    \u003e Why did we reimplement this? Could we reuse https://gitlab.com/gitlab-org/gitlab/-/blob/48f6b86ca8a6cb8c490379cb5f7e937cc8396553/lib/api/helpers.rb#L51 which uses [the same token locations](https://gitlab.com/gitlab-org/gitlab/-/blob/48f6b86ca8a6cb8c490379cb5f7e937cc8396553/lib/gitlab/auth/auth_finders.rb#L65-78)?","state":"closed","created_at":"2022-05-13T09:11:55.229Z","updated_at":"2022-11-11T05:21:14.186Z","closed_at":"2022-11-11T05:21:14.154Z","closed_by":{"id":6354882,"username":"alberts-gitlab","name":"Albert Salim","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6354882/avatar.png","web_url":"https://gitlab.com/alberts-gitlab"},"labels":["Category:Build Artifacts","Verify::P2","auto updated","devops::verify","group::pipeline insights","missed:15.1","missed:15.2","missed:15.3","priority::2","section::ops","type::maintenance","workflow::in review"],"milestone":{"id":1212252,"iid":48,"group_id":9970,"title":"Next 1-3 releases","description":"Issues which are not quite ready to schedule, but should be considered as part of the near-term roadmap.","state":"active","created_at":"2020-03-26T20:39:10.889Z","updated_at":"2020-03-26T20:39:10.889Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/48"},"assignees":[{"id":6354882,"username":"alberts-gitlab","name":"Albert Salim","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6354882/avatar.png","web_url":"https://gitlab.com/alberts-gitlab"}],"author":{"id":6354882,"username":"alberts-gitlab","name":"Albert Salim","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6354882/avatar.png","web_url":"https://gitlab.com/alberts-gitlab"},"type":"ISSUE","assignee":{"id":6354882,"username":"alberts-gitlab","name":"Albert Salim","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6354882/avatar.png","web_url":"https://gitlab.com/alberts-gitlab"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362336","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362336","notes":"https://gitlab.com/api/v4/projects/278964/issues/362336/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362336/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362336","relative":"#362336","full":"gitlab-org/gitlab#362336"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108496054,"iid":362331,"project_id":278964,"title":"[Feature flag] Rollout of `ci_show_all_projects_with_usage_sorted_descending`","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout the update (gitlab#195487) to show the projects list sorted by amount_used on production,\nthat is currently behind the `ci_show_all_projects_with_usage_sorted_descending` feature flag.\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\n## Owners\n\n- Team: ~\"group::pipeline execution\" \n- Most appropriate slack channel to reach out to: `#g_pipeline-execution`\n- Best individual to reach out to: @ffarukh @katrinleinweber @fabiopitino \n- PM: @jheimbuck_gl\n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## Expectations\n\n### What are we expecting to happen?\n\nUsage Quotas page to display the following improvements to the breakdown of the usage by project:\n\n|Before | After |\n| --- | --- |\n| Projects in sub-groups not displayed | Projects in sub-groups are displayed |\n| Projects were not sorted | Projects sorted by highest consumption first |\n| All projects shows (including irrelevant) | Projects with 0 usage are filtered out |\n\n### When is the feature viable?\n\nFeature implemented in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/83680 is immediately viable.\n\n### What might happen if this goes wrong?\n\n* We may see unexpected errors in Sentry \n* We may see unexpected increase in database time filtering and sorting the data on large groups.\n\n### What can we monitor to detect problems with this?\n\n* Unexpected errors in https://sentry.gitlab.net/gitlab/gitlabcom/?query=is%3Aunresolved+UsageQuotasController related to the Usage Quotas page\n* Performance of `Groups::UsageQuotasController` https://log.gprd.gitlab.net/goto/87c67ac0-d814-11ec-aade-19e9974a7229\n\n### What can we check for monitoring production after rollouts?\n\nSame as above\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Enable the feature globally on non-production environments.\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e true --dev`\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e true --staging`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n      The best environment to validate the feature in is [staging-canary](https://about.gitlab.com/handbook/engineering/infrastructure/environments/#staging-canary)\n      as this is the first environment deployed to. Note you will need to make sure you are configured to use canary as outlined [here](https://about.gitlab.com/handbook/engineering/infrastructure/environments/canary-stage/)\n      when accessing the staging environment in order to make sure you are testing appropriately.\n\n### Specific rollout on production\n\n- Ensure that the feature MRs have been deployed to both production and canary.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- If you're using [project-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --project=gitlab-org/gitlab \u003cfeature-flag-name\u003e true`\n    - [ ] `/chatops run feature set --project=gitlab-org/gitlab-foss \u003cfeature-flag-name\u003e true`\n    - [ ] `/chatops run feature set --project=gitlab-com/www-gitlab-com \u003cfeature-flag-name\u003e true`\n- If you're using [group-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [x] `/chatops run feature set --group=gitlab-org \u003cfeature-flag-name\u003e true`\n    - [x] `/chatops run feature set --group=gitlab-com \u003cfeature-flag-name\u003e true`\n- If you're using [user-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --user=\u003cyour-username\u003e \u003cfeature-flag-name\u003e true`\n- [x] Verify that the feature works on the specific entries. Posting the QA result in this issue is preferable.\n\n### Preparation before global rollout\n\n- [x] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [x] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [x] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [x] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com. \n- [x] Ensure that any breaking changes have been announced following the [release post process](https://about.gitlab.com/handbook/marketing/blog/release-posts/#deprecations-removals-and-breaking-changes) to ensure GitLab customers are aware.\n- [x] Notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nFor visibility, all `/chatops` commands that target production should be executed in the `#production` slack channel and cross-posted (with the command results) to the responsible team's slack channel (`#g_TEAM_NAME`).\n\n- [x] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e --random`\n  - Enable the feature globally on production environment.\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e true`\n- [x] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [x] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [ ] Create a merge request with the following changes. Ask for review and merge it.\n    - [ ] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the default-enabling MR has been included in the release package.\n      If the merge request was deployed before [the monthly release was tagged](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run release check \u003cmerge-request-url\u003e \u003cmilestone\u003e`\n- [ ] Consider cleaning up the feature flag from all environments by running these chatops command in `#production` channel. Otherwise these settings may override the default enabled.\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --dev`\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --staging`\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [ ] (Optional) You can [create a separate issue](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [ ] Set the title to \"[Feature flag] Cleanup `\u003cfeature-flag-name\u003e`\".\n    - [ ] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [ ] Link this rollout issue as a related issue.\n    - [ ] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\nYou can either [create a follow-up issue for Feature Flag Cleanup](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) or use the checklist below in this same issue.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [x] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag. Ask for review and merge it.\n    - [x] Remove all references to the feature flag from the codebase.\n    - [x] Remove the YAML definitions for the feature from the repository.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [x] Ensure that the cleanup MR has been included in the release package.\n      If the merge request was deployed before [the monthly release was tagged](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [x] `/chatops run release check \u003cmerge-request-url\u003e \u003cmilestone\u003e`\n- [x] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [x] If not already done, clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [x] `/chatops run feature delete \u003cfeature-flag-name\u003e --dev`\n    - [x] `/chatops run feature delete \u003cfeature-flag-name\u003e --staging`\n    - [x] `/chatops run feature delete \u003cfeature-flag-name\u003e`\n- [x] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set ci_show_all_projects_with_usage_sorted_descending false\n```","state":"closed","created_at":"2022-05-13T08:38:15.257Z","updated_at":"2022-05-31T13:25:53.853Z","closed_at":"2022-05-31T13:25:53.825Z","closed_by":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"labels":["CI minutes","Category:Continuous Integration","automation:ml","devops::verify","feature flag","feature::addition","group::pipeline execution","section::ops","type::feature","workflow::production"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"}],"author":{"id":9767370,"username":"ffarukh","name":"Firdaws Farukh","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f9ffec1ae6c28212690c41044f1d9c17?s=80\u0026d=identicon","web_url":"https://gitlab.com/ffarukh"},"type":"ISSUE","assignee":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"user_notes_count":21,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362331","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":54,"completed_count":30},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"30 of 54 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362331","notes":"https://gitlab.com/api/v4/projects/278964/issues/362331/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362331/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362331","relative":"#362331","full":"gitlab-org/gitlab#362331"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108484382,"iid":362318,"project_id":278964,"title":"expire_o_auth_tokens post migration ArgumentError: wrong number of arguments","description":"When running `gdk update`, this background migration fails on `ExpireOAuthTokens`:\n\n```log\nrake aborted!\nArgumentError: wrong number of arguments (given 0, expected 1)\nlib/gitlab/background_migration/expire_o_auth_tokens.rb:7:in `perform'\nlib/gitlab/database/background_migration/batched_migration_wrapper.rb:69:in `execute_batched_migration_job'\nlib/gitlab/database/background_migration/batched_migration_wrapper.rb:53:in `execute_job'\nlib/gitlab/database/background_migration/batched_migration_wrapper.rb:42:in `execute_batch'\nlib/gitlab/database/background_migration/batched_migration_wrapper.rb:22:in `perform'\nlib/gitlab/database/background_migration/batched_migration_runner.rb:30:in `run_migration_job'\nlib/gitlab/database/background_migration/batched_migration_runner.rb:130:in `run_migration_while'\nlib/gitlab/database/background_migration/batched_migration_runner.rb:48:in `run_entire_migration'\nlib/tasks/gitlab/db.rake:347:in `block (5 levels) in \u003cmain\u003e'\nlib/tasks/gitlab/db.rake:345:in `block (4 levels) in \u003cmain\u003e'\nlib/gitlab/database/each_database.rb:17:in `block (2 levels) in each_database_connection'\nlib/gitlab/database/each_database.rb:78:in `block in with_shared_connection'\nlib/gitlab/database/shared_model.rb:23:in `using_connection'\nlib/gitlab/database/each_database.rb:75:in `with_shared_connection'\nlib/gitlab/database/each_database.rb:16:in `block in each_database_connection'\nlib/gitlab/database/each_database.rb:11:in `each_pair'\nlib/gitlab/database/each_database.rb:11:in `each_database_connection'\nlib/tasks/gitlab/db.rake:344:in `block (3 levels) in \u003cmain\u003e'\nlib/tasks/gitlab/db.rake:369:in `block (3 levels) in \u003cmain\u003e'\nTasks: TOP =\u003e gitlab:db:execute_batched_migrations\n(See full trace by running task with --trace)\n```\n\nI also see the same sentry log here https://sentry.gitlab.net/gitlab/devgitlaborg/issues/3299789/?referrer=slack","state":"closed","created_at":"2022-05-13T03:57:35.989Z","updated_at":"2022-05-13T13:55:15.286Z","closed_at":"2022-05-13T13:55:00.586Z","closed_by":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"labels":["database","devops::manage","group::authentication and authorization","section::dev","type::bug"],"milestone":null,"assignees":[{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"}],"author":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"type":"ISSUE","assignee":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362318","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362318","notes":"https://gitlab.com/api/v4/projects/278964/issues/362318/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362318/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362318","relative":"#362318","full":"gitlab-org/gitlab#362318"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108475246,"iid":362303,"project_id":278964,"title":"Follow-up from \"Use Trivy database that contains GitLab Advisory Database\"","description":"The following discussion from gitlab-org/security-products/analyzers/container-scanning!2720 should be addressed:\n\n- [ ] @mparuszewski started a [discussion](https://gitlab.com/gitlab-org/security-products/analyzers/container-scanning/-/merge_requests/2720#note_944798037):  (+1 comment)\n\n    \u003e **suggestion (non-blocking):** `trivy` has `--cache-dir` flag (or `$TRIVY_CACHE_DIR` variable) that we could use to provide proper database as well.","state":"closed","created_at":"2022-05-12T20:48:31.207Z","updated_at":"2022-05-30T14:28:01.511Z","closed_at":"2022-05-25T09:20:50.747Z","closed_by":{"id":8401507,"username":"sashi_kumar","name":"Sashi Kumar Kumaresan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8401507/avatar.png","web_url":"https://gitlab.com/sashi_kumar"},"labels":["backend","devops::govern","feature::enhancement","follow-up","good for new contributors","group::security policies","section::sec","type::feature","workflow::in review"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"}],"author":{"id":480804,"username":"thiagocsf","name":"Thiago Figueir","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480804/avatar.png","web_url":"https://gitlab.com/thiagocsf"},"type":"ISSUE","assignee":{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"},"user_notes_count":5,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362303","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362303","notes":"https://gitlab.com/api/v4/projects/278964/issues/362303/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362303/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362303","relative":"#362303","full":"gitlab-org/gitlab#362303"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null}]