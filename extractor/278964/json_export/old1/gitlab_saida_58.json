[{"id":90719319,"iid":336751,"project_id":278964,"title":"ignore_column and ignore_columns should be used in the CE model only","description":"### Problem\n\nThere are usages of `ignore_column` and `ignore_columns` in the `EE` context when the model also exists in `CE`. Due to Rails and schema caching, this feature should be used in the `CE` context only if the model exists in `CE` and `EE`. If the model exists in `EE` only, then the usage there is correct.\n\nAlso see this [Slack thread](https://gitlab.slack.com/archives/C8HG8D9MY/p1627029395020000) (internal only). \n\n### Proposal\n\n- Move the usages of `ignore_column` and `ignore_columns` from models in the `EE` context that also exist in `CE` to their `CE` model.\n- Track down any issues that refer to the ignored columns for removal and update their timeline (see [dropping database column docs](https://docs.gitlab.com/ee/development/avoiding_downtime_in_migrations.html#dropping-columns))\n- Add Rubocop rule to prevent `ignore_column` and `ignore_columns` within `EE` models\n- Update [dropping database column docs](https://docs.gitlab.com/ee/development/avoiding_downtime_in_migrations.html#dropping-columns) to explicitly mention the `ignore_column`/`ignore_columns` has to be added to the `CE` model.\n\n### Result\n\nCorrect usage of `ignore_column` and `ignore_columns` and prevention of possible errors due to the column still being within a cache. Updated docs for correct usage and a Rubocop rule to prevent future `EE` usages.","state":"closed","created_at":"2021-07-23T09:12:40.298Z","updated_at":"2022-03-16T11:40:28.257Z","closed_at":"2021-08-05T11:54:21.800Z","closed_by":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"labels":["[deprecated] Category:Provision","backend","database","devops::fulfillment","group::provision","maintenance::refactor","maintenance::workflow","section::fulfillment","type::maintenance","workflow::production"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"}],"author":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"type":"ISSUE","assignee":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"user_notes_count":5,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336751","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336751","notes":"https://gitlab.com/api/v4/projects/278964/issues/336751/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336751/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336751","relative":"#336751","full":"gitlab-org/gitlab#336751"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":90716734,"iid":336750,"project_id":278964,"title":"[Feature flag] Rollout of `instance_level_integration_overrides`","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout https://gitlab.com/gitlab-org/gitlab/-/issues/218252 on production,\nthat is currently behind the `instance_level_integration_overrides` feature flag.\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\n## Owners\n\n- Team: ~\"group::ecosystem\"\n- Most appropriate slack channel to reach out to: `#g_create_ecosytem`\n- Best individual to reach out to: @justin_ho @.luke @tomquirk \n- PM: NA\n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## The Rollout Plan\n\n- Partial Rollout on GitLab.com with testing groups\n- Rollout on GitLab.com for a certain period (How long)\n- Percentage Rollout on GitLab.com\n- Rollout Feature for everyone as soon as it's ready\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? Sentry errors reports can also be useful to review --\u003e\n\n## Testing Groups/Projects/Users\n\n\u003c!-- If applicable, any groups/projects that are happy to have this feature turned on early. Some organizations may wish to test big changes they are interested in with a small subset of users ahead of time for example. --\u003e\n\n- `gitlab-org/gitlab` project\n- `gitlab-org`/`gitlab-com` groups\n- ...\n\n\n## Expectations\n\n### What are we expecting to happen?\n\n\u003c!-- Describe the expected outcome when rolling out this feature --\u003e\n\n### What might happen if this goes wrong?\n\n\u003c!-- Should the feature flag be turned off? Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- [ ] Ensure that the feature MRs have been deployed to non-production environments.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [ ] Enable the feature globally on non-production environments.\n    - [ ] `/chatops run feature set instance_level_integration_overrides true --dev`\n    - [x] `/chatops run feature set instance_level_integration_overrides true --staging`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Preparation before production rollout\n\n- [ ] Ensure that the feature MRs have been deployed to both production and canary.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [ ] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [ ] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [ ] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [ ] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com.\n- [ ] If the feature might impact the user experience, notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n- [ ] If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), enable it on GitLab.com for [testing groups/projects](#testing-groupsprojectsusers).\n    - [ ] `/chatops run feature set --\u003cactor-type\u003e=\u003cactor\u003e instance_level_integration_overrides true`\n- [ ] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Global rollout on production\n\n- [ ] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [ ] `/chatops run feature set instance_level_integration_overrides \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [ ] `/chatops run feature set instance_level_integration_overrides \u003crollout-percentage\u003e`\n  - Enable the feature globally on production environment.\n    - [ ] `/chatops run feature set instance_level_integration_overrides true`\n- [ ] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [ ] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [ ] Create a merge request with the following changes. Ask for review and merge it.\n    - [ ] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the default-enabling MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-default-enabling-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [ ] (Optional) You can create a separate issue for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [ ] Set the title to \"[Feature flag] Cleanup `instance_level_integration_overrides`\".\n    - [ ] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [ ] Link this rollout issue as a related issue.\n    - [ ] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [x] Create a merge request to remove `instance_level_integration_overrides` feature flag. Ask for review and merge it.\n    - [x] Remove all references to the feature flag from the codebase.\n    - [x] Remove the YAML definitions for the feature from the repository.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [x] Ensure that the cleanup MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-cleanup-mr\u003e`\n- [x] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [ ] `/chatops run feature delete instance_level_integration_overrides --dev`\n    - [ ] `/chatops run feature delete instance_level_integration_overrides --staging`\n    - [ ] `/chatops run feature delete instance_level_integration_overrides`\n- [x] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set instance_level_integration_overrides false\n```","state":"closed","created_at":"2021-07-23T08:41:08.919Z","updated_at":"2022-11-22T19:37:17.645Z","closed_at":"2021-08-17T21:39:38.251Z","closed_by":{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"},"labels":["auto updated","devops::manage","feature flag","frontend","group::integrations","section::dev","workflow::production"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"},{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"}],"author":{"id":4704683,"username":"justin_ho","name":"Justin Ho Tuan Duong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4704683/avatar.png","web_url":"https://gitlab.com/justin_ho"},"type":"ISSUE","assignee":{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336750","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":47,"completed_count":10},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"10 of 47 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336750","notes":"https://gitlab.com/api/v4/projects/278964/issues/336750/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336750/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336750","relative":"#336750","full":"gitlab-org/gitlab#336750"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":90712528,"iid":336746,"project_id":278964,"title":"Allow to delete deployments via API","description":"### Release notes\n\nIn 15.3, we are adding the ability to delete deployments via API. This allows you to manage and clean up old deployments refs.\n\n### Problem\n\nCurrently, we don't support [delete deployments via API](https://docs.gitlab.com/ee/api/deployments.html). This API could be useful to clean up old deployment refs that likely users will never use for re-deploy/rollback.\n\nSee https://gitlab.com/groups/gitlab-org/-/epics/5920#note_633731178 for more information.\n\n### Proposal\n\nSupport delete deployments via API","state":"closed","created_at":"2021-07-23T07:09:21.415Z","updated_at":"2022-08-21T12:03:52.478Z","closed_at":"2022-08-11T13:22:39.660Z","closed_by":{"id":9396342,"username":"acook.gitlab","name":"Allen Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9396342/avatar.png","web_url":"https://gitlab.com/acook.gitlab"},"labels":["Category:Environment Management","Category:Release Orchestration","Deliverable","GitLab Free","Release::P1","auto updated","backend","devops::release","environments","group::release","release post item::in review","section::ops","type::feature"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":9396342,"username":"acook.gitlab","name":"Allen Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9396342/avatar.png","web_url":"https://gitlab.com/acook.gitlab"}],"author":{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"},"type":"ISSUE","assignee":{"id":9396342,"username":"acook.gitlab","name":"Allen Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9396342/avatar.png","web_url":"https://gitlab.com/acook.gitlab"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336746","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336746","notes":"https://gitlab.com/api/v4/projects/278964/issues/336746/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336746/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336746","relative":"#336746","full":"gitlab-org/gitlab#336746"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8464,"epic":{"id":574525,"iid":8464,"title":"Handle large number of deployments","url":"/groups/gitlab-org/-/epics/8464","group_id":9970,"human_readable_end_date":"Oct 31, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90710336,"iid":336745,"project_id":278964,"title":"Remove RepositoryRemoveRemoteWorker","description":"The RepositoryRemoveRemoteWorker's logich has been removed in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/66513, but the worker itself needs to stay until %15.0 to drain the job queue based on https://docs.gitlab.com/ee/development/sidekiq_style_guide.html#removing-workers.","state":"closed","created_at":"2021-07-23T06:06:35.067Z","updated_at":"2022-07-20T13:45:25.302Z","closed_at":"2022-07-20T13:45:25.261Z","closed_by":{"id":2167502,"username":"robotmay_gitlab","name":"Robert May","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2167502/avatar.png","web_url":"https://gitlab.com/robotmay_gitlab"},"labels":["Category:Source Code Management","auto updated","automation:ml","backend","deprecation","devops::create","group::source code","section::dev"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":2167502,"username":"robotmay_gitlab","name":"Robert May","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2167502/avatar.png","web_url":"https://gitlab.com/robotmay_gitlab"}],"author":{"id":1902115,"username":"pks-t","name":"Patrick Steinhardt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/0fec8836f293852876f02d1afd7f2aaf?s=80\u0026d=identicon","web_url":"https://gitlab.com/pks-t"},"type":"ISSUE","assignee":{"id":2167502,"username":"robotmay_gitlab","name":"Robert May","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2167502/avatar.png","web_url":"https://gitlab.com/robotmay_gitlab"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336745","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336745","notes":"https://gitlab.com/api/v4/projects/278964/issues/336745/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336745/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336745","relative":"#336745","full":"gitlab-org/gitlab#336745"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":90708033,"iid":336741,"project_id":278964,"title":"Remove the on-hover expansion of the downstream pipelines","description":"## ðŸ§© Problem\n\nIn https://gitlab.com/gitlab-org/gitlab/-/merge_requests/66274 we added the downstream pipeline visualization to the mini pipeline graph. The downstream pipeline can be difficult to interact with when the width of the container isn't enough to expand the graph on hover without wrapping it to a new line. When the wrapping happens, the graph jumps and makes it difficult to click on the right stage in the pipeline.\n\n![Screen_Recording_2021-07-20_at_15.38.35](/uploads/f91990cc7e7d9180d86f28042fef76e4/Screen_Recording_2021-07-20_at_15.38.35.mov)\n\n## ðŸŽ¨ Proposal\n\nRemove the on-hover expansion of the downstream pipelines. \n\n![image](/uploads/dbba0667d2c002de94267183d6acb193/image.png)\n\nThe downstream pipeline buttons will appear next to each other with the same space in-between as in the main mini-pipeline graph.","state":"closed","created_at":"2021-07-23T04:18:12.286Z","updated_at":"2022-04-25T20:30:10.954Z","closed_at":"2022-04-25T20:30:10.920Z","closed_by":{"id":11222776,"username":"bsandlin","name":"Briley  Sandlin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11222776/avatar.png","web_url":"https://gitlab.com/bsandlin"},"labels":["Category:Pipeline Authoring","SUS::Impacting","UI polish","UX","auto updated","devops::verify","feature::enhancement","frontend","group::pipeline authoring","onboarding","pipeline graphs","section::ops","severity::4","type::feature","usability"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":11222776,"username":"bsandlin","name":"Briley  Sandlin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11222776/avatar.png","web_url":"https://gitlab.com/bsandlin"}],"author":{"id":4706959,"username":"nadia_sotnikova","name":"Nadia Sotnikova","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4706959/avatar.png","web_url":"https://gitlab.com/nadia_sotnikova"},"type":"ISSUE","assignee":{"id":11222776,"username":"bsandlin","name":"Briley  Sandlin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11222776/avatar.png","web_url":"https://gitlab.com/bsandlin"},"user_notes_count":8,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336741","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336741","notes":"https://gitlab.com/api/v4/projects/278964/issues/336741/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336741/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336741","relative":"#336741","full":"gitlab-org/gitlab#336741"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6135,"epic":{"id":285131,"iid":6135,"title":"Mini Pipeline Graph - Making CI Navigation Easier","url":"/groups/gitlab-org/-/epics/6135","group_id":9970,"human_readable_end_date":"Nov 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":{"id":47581,"iid":59,"sequence":14,"group_id":9970,"title":"Pipeline Authoring: April 18, 2022 - May 1, 2022","description":"Target milestone `15.0`","state":3,"created_at":"2022-02-06T00:05:01.693Z","updated_at":"2022-05-02T00:05:02.688Z","start_date":"2022-04-18","due_date":"2022-05-01","web_url":"https://gitlab.com/groups/gitlab-org/-/iterations/47581"},"health_status":null},{"id":90705221,"iid":336737,"project_id":278964,"title":"DAST On-Demand: Simplify tests by not testing model validations in sevice/request layer","description":"The following discussion from !66588 should be addressed:\n\n- [ ] @cam_swords started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/66588#note_633618530):  (+2 comments)\n\n    \u003e Nit: Ideally, I feel like a change to one production line of code would lead to a single test failing. Of course, that's not really possible.\n    \u003e \n    \u003e That said, there seem to be a lot of tests here changing just to update a small amount of code in the model. Can we just test the model and relax the testing in the other places? Do you consider this to be more/less brittle, or will make future change easier or harder?","state":"closed","created_at":"2021-07-23T02:03:44.834Z","updated_at":"2022-07-26T03:00:52.980Z","closed_at":"2022-07-26T03:00:52.965Z","closed_by":{"id":4310743,"username":"sethgitlab","name":"Seth Berger","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4310743/avatar.png","web_url":"https://gitlab.com/sethgitlab"},"labels":["Category:DAST","auto updated","backend","devops::secure","group::dynamic analysis","maintenance::refactor","section::sec","type::maintenance","unit testing"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":5749348,"username":"philipcunningham","name":"Philip Cunningham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5749348/avatar.png","web_url":"https://gitlab.com/philipcunningham"}],"author":{"id":5749348,"username":"philipcunningham","name":"Philip Cunningham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5749348/avatar.png","web_url":"https://gitlab.com/philipcunningham"},"type":"ISSUE","assignee":{"id":5749348,"username":"philipcunningham","name":"Philip Cunningham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5749348/avatar.png","web_url":"https://gitlab.com/philipcunningham"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336737","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336737","notes":"https://gitlab.com/api/v4/projects/278964/issues/336737/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336737/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336737","relative":"#336737","full":"gitlab-org/gitlab#336737"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":90701460,"iid":336726,"project_id":278964,"title":"UX: SaaS User Cap - Transfer Group Handling","description":"This is the ~UX  issue for requirements found here: https://gitlab.com/groups/gitlab-org/-/epics/6400","state":"closed","created_at":"2021-07-22T21:59:45.738Z","updated_at":"2021-11-04T19:14:17.130Z","closed_at":"2021-11-04T19:14:17.111Z","closed_by":{"id":5058729,"username":"mnearents","name":"Matthew Nearents","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5058729/avatar.png","web_url":"https://gitlab.com/mnearents"},"labels":["Technical Writing","UI text","UX","[deprecated] Accepting merge requests","[deprecated] Category:Utilization","devops::fulfillment","group::utilization","missed:14.4","section::fulfillment","type::feature"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[],"author":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336726","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336726","notes":"https://gitlab.com/api/v4/projects/278964/issues/336726/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336726/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336726","relative":"#336726","full":"gitlab-org/gitlab#336726"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6400,"epic":{"id":312219,"iid":6400,"title":"SaaS User Cap - Transfer Group Handling","url":"/groups/gitlab-org/-/epics/6400","group_id":9970,"human_readable_end_date":"Nov 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90700102,"iid":336723,"project_id":278964,"title":"Clean up threat_monitoring backend code","description":"## Summary\n\n* Rename and move `https://gitlab.com/gitlab-org/gitlab/blob/master/ee/app/helpers/policy_helper.rb` to `https://gitlab.com/gitlab-org/gitlab/blob/master/ee/app/helpers/projects/threat_monitoring_helper.rb`. \n* Ideally, rename and move `https://gitlab.com/gitlab-org/gitlab/blob/master/ee/app/helpers/policy_helper.rb` to `projects/security/threat_monitoring_helper.rb` along with the controller/views being moved from `/projects/threat_monitoring` to `/projects/security/threat_monitoring_controller` (and all appropriate files being moved as well), but I think that would change the url, which would be a breaking change, so we may need to wait until 15.0 to do that. I need someone to check that\n\n## Improvements\n\n* currently the [policy_helper](https://gitlab.com/gitlab-org/gitlab/blob/master/ee/app/helpers/policy_helper.rb) name/location does not match the convention because it is a helper for the `threat_monitoring` controller, but is not named as such.\n* the `threat_monitoring` controller/views do not match the convention because they are under the `security` project sidebar, but have a path of `projects/threat_monitoring` instead of `projects/security/threat_monitoring` \n\n## Risks\n\n* Ideally it would be moved to `projects/security/threat_monitoring_helper.rb` along with the controller being moved from `/projects/threat_monitoring_controller` to `/projects/security/threat_monitoring_controller` (and all appropriate files being moved as well), but I think that would change the url, which would be a breaking change, so we may need to wait until 15.0 to do that. I need someone to check that\n\n## Involved components\n\n* https://gitlab.com/gitlab-org/gitlab/blob/master/ee/app/helpers/policy_helper.rb\n* https://gitlab.com/gitlab-org/gitlab/blob/master/ee/app/controllers/projects/threat_monitoring_controller.rb\n* https://gitlab.com/gitlab-org/gitlab/blob/master/ee/app/views/projects/threat_monitoring","state":"closed","created_at":"2021-07-22T20:49:31.661Z","updated_at":"2022-02-03T20:48:22.768Z","closed_at":"2022-02-03T20:48:22.753Z","closed_by":{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"},"labels":["backend","backend-weight::3","devops::govern","group::security policies","maintenance::refactor","section::sec","type::maintenance","workflow::refinement"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"}],"author":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"type":"ISSUE","assignee":{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336723","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336723","notes":"https://gitlab.com/api/v4/projects/278964/issues/336723/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336723/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336723","relative":"#336723","full":"gitlab-org/gitlab#336723"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":90699924,"iid":336722,"project_id":278964,"title":"Investigate/Abstract out error logic from `network_policy_editor` into `policy_editor`","description":"## Why are we doing this work\n\n* Instead of adding an alert functionality to `scan_execution_policy_editor` in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/66416, I thought it would be better to move the alerts into `policy_editor` so that all `*_policy_editor` components could use it\n* `network_policy_editor` needs to be updated to take advantage of this new pattern\n\n## Non-functional requirements\n\n* [ ] Documentation\n* [ ] Testing\n\n## Implementation plan\n\n- [ ] ~frontend Pull alerts in [network_policy_editor](https://gitlab.com/gitlab-org/gitlab/blob/master/ee/app/assets/javascripts/threat_monitoring/components/policy_editor/network_policy/network_policy_editor.vue#L172) out into [policy_editor](https://gitlab.com/gitlab-org/gitlab/-/blob/79c983cebe2dc7e65eb212722346f5cfbe2c805a/ee/app/assets/javascripts/threat_monitoring/components/policy_editor/policy_editor.vue#L66)","state":"closed","created_at":"2021-07-22T20:40:58.770Z","updated_at":"2022-09-20T04:45:23.218Z","closed_at":"2022-09-20T04:45:23.200Z","closed_by":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"labels":["[deprecated] Accepting merge requests","auto updated","devops::govern","frontend","frontend-weight::2","group::security policies","maintenance::refactor","section::sec","type::maintenance"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336722","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336722","notes":"https://gitlab.com/api/v4/projects/278964/issues/336722/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336722/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336722","relative":"#336722","full":"gitlab-org/gitlab#336722"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":90695145,"iid":336706,"project_id":278964,"title":"[UX] Validate checkout form fields with inline validation, not a disabled submit button","description":"### Problem \n\nThe in-app checkout currently uses disabled submit buttons as a way of validating form fields. Per our [guidelines](https://design.gitlab.com/components/form/#submit-form-buttons), this is not a best practice.\n\n### Proposal\n\nUse inline validation for all form fields and do not disable submit buttons.\n\n- The submit button is active at all times, and the user can click it at any time\n- On submit, we validate the form fields and show errors for any fields that are not properly filled out","state":"closed","created_at":"2021-07-22T18:02:49.863Z","updated_at":"2022-01-19T19:34:28.630Z","closed_at":"2021-11-22T22:47:42.943Z","closed_by":{"id":4377833,"username":"esybrant","name":"Emily Sybrant","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4377833/avatar.png","web_url":"https://gitlab.com/esybrant"},"labels":["Category:Purchase","Technical Writing","UI text","UX","auto updated","devops::fulfillment","group::purchase","missed:14.5","section::fulfillment","type::feature"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":4377833,"username":"esybrant","name":"Emily Sybrant","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4377833/avatar.png","web_url":"https://gitlab.com/esybrant"}],"author":{"id":4377833,"username":"esybrant","name":"Emily Sybrant","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4377833/avatar.png","web_url":"https://gitlab.com/esybrant"},"type":"ISSUE","assignee":{"id":4377833,"username":"esybrant","name":"Emily Sybrant","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4377833/avatar.png","web_url":"https://gitlab.com/esybrant"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336706","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336706","notes":"https://gitlab.com/api/v4/projects/278964/issues/336706/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336706/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336706","relative":"#336706","full":"gitlab-org/gitlab#336706"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7408,"epic":{"id":424091,"iid":7408,"title":"Validate checkout form fields with inline validation, not a disabled submit button","url":"/groups/gitlab-org/-/epics/7408","group_id":9970,"human_readable_end_date":"Dec 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90691252,"iid":336681,"project_id":278964,"title":"Update retire.js to 3.0.1","description":"### Problem to solve\n\nretire.js `3.0.1` is available, we should consider upgrading [our analyzer](https://gitlab.com/gitlab-org/security-products/analyzers/retire.js).\n\n### Proposal\n\nPlease carefully check the [how to update the upstream Scanner](https://gitlab.com/gitlab-org/security-products/analyzers/retire.js#how-to-update-the-upstream-scanner).\n\nOr follow the default workflow:\n\n- [x] review the changelog\n- [x] update the pinned version (in the Dockerfile or script or template, the mileage may vary)\n- [x] make sure all test passes\n\n### Testing\n\n- [x] Check relevant test projects leveraging retire.js and make sure QA pipelines are passing with this new version:\n[QA projects for Dependency Scanning](https://gitlab.com/explore/projects?tag=GL-Secure-QA,Dependency+Scanning)\n\nAccording to https://gitlab-org.gitlab.io/quality/ci/secure-test-project-orchestrator/ , the following test projects use retire.js\n\n`js-npm` , `js-yarn` , `Custom CA`, `multiple-reports-per-category (failed job)`\n\n### What does success look like, and how can we measure that?\n\nOur feature is leveraging the latest version (`3.0.1`) of retire.js.\n\n### What is the type of buyer?\n\n~\"GitLab Ultimate\"\n\n### Links / references","state":"closed","created_at":"2021-07-22T16:16:04.834Z","updated_at":"2021-09-21T08:02:47.111Z","closed_at":"2021-09-16T08:22:22.466Z","closed_by":{"id":1958785,"username":"fcatteau","name":"Fabien Catteau","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1958785/avatar.png","web_url":"https://gitlab.com/fcatteau"},"labels":["Category:Dependency Scanning","Deliverable","Enterprise Edition","GitLab Ultimate","backend","devops::secure","group::composition analysis","quad-planning::complete-action","section::sec","type::feature","workflow::production"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":52092,"username":"gonzoyumo","name":"Olivier Gonzalez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/651e0ff81c3995a05269f7c80895fe89?s=80\u0026d=identicon","web_url":"https://gitlab.com/gonzoyumo"}],"author":{"id":52092,"username":"gonzoyumo","name":"Olivier Gonzalez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/651e0ff81c3995a05269f7c80895fe89?s=80\u0026d=identicon","web_url":"https://gitlab.com/gonzoyumo"},"type":"ISSUE","assignee":{"id":52092,"username":"gonzoyumo","name":"Olivier Gonzalez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/651e0ff81c3995a05269f7c80895fe89?s=80\u0026d=identicon","web_url":"https://gitlab.com/gonzoyumo"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336681","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":4},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"4 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336681","notes":"https://gitlab.com/api/v4/projects/278964/issues/336681/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336681/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336681","relative":"#336681","full":"gitlab-org/gitlab#336681"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":90691147,"iid":336679,"project_id":278964,"title":"Update license-finder to 6.14.1","description":"### Problem to solve\n\nlicense-finder `6.14.1` is available, we should consider upgrading [our analyzer](https://gitlab.com/gitlab-org/security-products/analyzers/license-finder).\n\n### Proposal\n\nPlease carefully check the [how to update the upstream Scanner](https://gitlab.com/gitlab-org/security-products/analyzers/license-finder#how-to-update-the-upstream-scanner).\n\n### Testing\n\n- [ ] Check relevant test projects leveraging license-finder and make sure QA pipelines are passing with this new version:\n\u003c!-- Choose link to the relevant QA test projects:\n[QA projects for SAST](https://gitlab.com/explore/projects?tag=GL-Secure-QA,SAST)\n[QA projects for Dependency Scanning](https://gitlab.com/explore/projects?tag=GL-Secure-QA,Dependency+Scanning)\n[QA projects for License Management](https://gitlab.com/explore/projects?tag=GL-Secure-QA,License+Management)\n[QA projects for Container Scanning](https://gitlab.com/explore/projects?tag=GL-Secure-QA,Container+Scanning)\n--\u003e\n\n### What does success look like, and how can we measure that?\n\nOur feature is leveraging the latest version (`6.14.1`) of license-finder.\n\n### What is the type of buyer?\n\n~\"GitLab Ultimate\"\n\n### Links / references","state":"closed","created_at":"2021-07-22T16:13:20.215Z","updated_at":"2021-10-28T13:54:57.378Z","closed_at":"2021-08-13T13:00:39.271Z","closed_by":{"id":52092,"username":"gonzoyumo","name":"Olivier Gonzalez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/651e0ff81c3995a05269f7c80895fe89?s=80\u0026d=identicon","web_url":"https://gitlab.com/gonzoyumo"},"labels":["Category:License Compliance","Deliverable","Enterprise Edition","GitLab Ultimate","backend","devops::secure","group::composition analysis","section::sec","type::maintenance","workflow::in review"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":52092,"username":"gonzoyumo","name":"Olivier Gonzalez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/651e0ff81c3995a05269f7c80895fe89?s=80\u0026d=identicon","web_url":"https://gitlab.com/gonzoyumo"}],"author":{"id":52092,"username":"gonzoyumo","name":"Olivier Gonzalez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/651e0ff81c3995a05269f7c80895fe89?s=80\u0026d=identicon","web_url":"https://gitlab.com/gonzoyumo"},"type":"ISSUE","assignee":{"id":52092,"username":"gonzoyumo","name":"Olivier Gonzalez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/651e0ff81c3995a05269f7c80895fe89?s=80\u0026d=identicon","web_url":"https://gitlab.com/gonzoyumo"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336679","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336679","notes":"https://gitlab.com/api/v4/projects/278964/issues/336679/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336679/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336679","relative":"#336679","full":"gitlab-org/gitlab#336679"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":90682106,"iid":336667,"project_id":278964,"title":"Redirect metrics_dictionary.md to new dictionary","description":"We have now the metrics dictionary under https://gitlab-org.gitlab.io/growth/product-intelligence/metric-dictionary/\n\nWe should redirect the old page to new dictionary.\n\nRemove the check for generating dictionary from danger bot\n\nUpdate relevant docs","state":"closed","created_at":"2021-07-22T13:28:43.419Z","updated_at":"2021-08-17T14:49:01.190Z","closed_at":"2021-08-17T10:51:42.293Z","closed_by":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"labels":["Unplanned","auto updated","backend","devops::growth","documentation","group::product intelligence","section::growth","workflow::verification"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"}],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"user_notes_count":3,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336667","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336667","notes":"https://gitlab.com/api/v4/projects/278964/issues/336667/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336667/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336667","relative":"#336667","full":"gitlab-org/gitlab#336667"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":90680957,"iid":336665,"project_id":278964,"title":"[Feature flag] Rollout of `add_actor_based_user_to_snowplow_tracking`","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n## Summary\n\nThis issue is to rollout [the feature](ISSUE LINK) on production,\nthat is currently behind the `\u003cfeature-flag-name\u003e` feature flag.\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\n## Owners\n\n- Team: product intelligence\n- Most appropriate slack channel to reach out to: `#g_product_intelligence`\n- Best individual to reach out to: @mikolaj_wawrzyniak \n- PM: @amandarueda \n- EM: @nicolasdular  \n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## The Rollout Plan\n\n- Partial Rollout on GitLab.com with testing groups\n- Rollout on GitLab.com for a certain period (How long)\n- Percentage Rollout on GitLab.com\n- Rollout Feature for everyone as soon as it's ready\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? Sentry errors reports can also be useful to review --\u003e\n\n## Testing Groups/Projects/Users\n\n\u003c!-- If applicable, any groups/projects that are happy to have this feature turned on early. Some organizations may wish to test big changes they are interested in with a small subset of users ahead of time for example. --\u003e\n\n- `gitlab-org/gitlab` project\n- `gitlab-org`/`gitlab-com` groups\n- ...\n\n\n## Expectations\n\n### What are we expecting to happen?\n\n\u003c!-- Describe the expected outcome when rolling out this feature --\u003e\n\n### What might happen if this goes wrong?\n\n\u003c!-- Should the feature flag be turned off? Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- [ ] Ensure that the feature MRs have been deployed to non-production environments.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [ ] Enable the feature globally on non-production environments.\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e true --dev`\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e true --staging`\n- [ ] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Preparation before production rollout\n\n- [ ] Ensure that the feature MRs have been deployed to both production and canary.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [ ] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [ ] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [ ] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [ ] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com.\n- [ ] If the feature might impact the user experience, notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n- [ ] If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), enable it on GitLab.com for [testing groups/projects](#testing-groupsprojectsusers).\n    - [ ] `/chatops run feature set --\u003cactor-type\u003e=\u003cactor\u003e \u003cfeature-flag-name\u003e true`\n- [ ] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Global rollout on production\n\n- [ ] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e`\n  - Enable the feature globally on production environment.\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e true`\n- [ ] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [ ] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [ ] Create a merge request with the following changes. Ask for review and merge it.\n    - [ ] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the default-enabling MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-default-enabling-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [ ] (Optional) You can create a separate issue for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [ ] Set the title to \"[Feature flag] Cleanup `\u003cfeature-flag-name\u003e`\".\n    - [ ] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [ ] Link this rollout issue as a related issue.\n    - [ ] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [ ] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag. Ask for review and merge it.\n    - [ ] Remove all references to the feature flag from the codebase.\n    - [ ] Remove the YAML definitions for the feature from the repository.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the cleanup MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-cleanup-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --dev`\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --staging`\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e`\n- [ ] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set \u003cfeature-flag-name\u003e false\n```","state":"closed","created_at":"2021-07-22T13:07:54.093Z","updated_at":"2021-11-08T13:10:31.896Z","closed_at":"2021-11-08T13:10:31.844Z","closed_by":{"id":4807002,"username":"mikolaj_wawrzyniak","name":"MikoÅ‚aj Wawrzyniak","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4807002/avatar.png","web_url":"https://gitlab.com/mikolaj_wawrzyniak"},"labels":["auto updated","devops::growth","feature flag","group::product intelligence","section::growth","workflow::verification"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":4807002,"username":"mikolaj_wawrzyniak","name":"MikoÅ‚aj Wawrzyniak","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4807002/avatar.png","web_url":"https://gitlab.com/mikolaj_wawrzyniak"}],"author":{"id":4807002,"username":"mikolaj_wawrzyniak","name":"MikoÅ‚aj Wawrzyniak","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4807002/avatar.png","web_url":"https://gitlab.com/mikolaj_wawrzyniak"},"type":"ISSUE","assignee":{"id":4807002,"username":"mikolaj_wawrzyniak","name":"MikoÅ‚aj Wawrzyniak","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4807002/avatar.png","web_url":"https://gitlab.com/mikolaj_wawrzyniak"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336665","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":47,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 47 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336665","notes":"https://gitlab.com/api/v4/projects/278964/issues/336665/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336665/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336665","relative":"#336665","full":"gitlab-org/gitlab#336665"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6309,"epic":{"id":303192,"iid":6309,"title":"Pseudonymization MVC","url":"/groups/gitlab-org/-/epics/6309","group_id":9970,"human_readable_end_date":"Dec 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90680662,"iid":336664,"project_id":278964,"title":"Pipeline editor - commiting without triggering a pipeline makes the pipeline indicator stuck in loading mode","description":"In the pipeline editor if i add a rule that will not trigger a pipeline and hit the commit button the pipeline indicator will get stuck in loading mode\n\n\n### How to reproduce\n\n1. Add the following snippet to your pipeline\n\n```yaml\nworkflow:\n  rules:\n    - if: \"$CI_COMMIT_BRANCH\"\n      changes:\n        - ${TF_ROOT}/*.tf\n```\n2. hit the commit button in the editor\n3. Pipeline status will spin forever\n![image](/uploads/40b409a53aa4121b2cbc193dddb82a3e/image.png)","state":"closed","created_at":"2021-07-22T13:01:32.222Z","updated_at":"2021-11-01T13:43:56.215Z","closed_at":"2021-10-28T20:44:24.532Z","closed_by":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"labels":["Category:Pipeline Authoring","Verify candidate","devops::verify","frontend","group::pipeline authoring","priority::3","section::ops","severity::3","type::bug","usability","workflow::verification"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"}],"author":{"id":4509877,"username":"dhershkovitch","name":"Dov Hershkovitch","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7daa3113f0359f08a217fa800d9cc1d2?s=80\u0026d=identicon","web_url":"https://gitlab.com/dhershkovitch"},"type":"ISSUE","assignee":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336664","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336664","notes":"https://gitlab.com/api/v4/projects/278964/issues/336664/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336664/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336664","relative":"#336664","full":"gitlab-org/gitlab#336664"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":90679988,"iid":336663,"project_id":278964,"title":"Remove placeholder in Container Registry cleanup policy text field","description":"## Problem: placeholder\n\n![Screen_Shot_2021-12-22_at_13.55.34](/uploads/34340de41c04ac0541ef5c577a7f3941/Screen_Shot_2021-12-22_at_13.55.34.png)\n\nThe `.*` placeholder in the container registry is confusing because users are not noticing it is a placeholder and/or not knowing what it will do. \"I was too scared to try the cleanup policy because I don't know what it will do.\"\n\nIn checking one of my projects, the `.*` is not a placeholder, but is pre-filled text. We should not pre-fill text on behalf of the user.\n\n## Problem: validation toast\n\n![Screen_Shot_2021-12-22_at_14.04.42](/uploads/957f85680e15fef92a553433d62120a8/Screen_Shot_2021-12-22_at_14.04.42.png)\n\nIf the user does not fill in a value, there should not be an error. The fields are not mandatory. If there is an error associated with the text input, display it under the text input rather than as a toast.\n\n## Proposal \n\n| Proposal | Notes |\n| ------ | ------ |\n|![Screen_Shot_2021-12-22_at_14.02.48](/uploads/43f9c0f85b2f18c8eaa580647ab7f6cc/Screen_Shot_2021-12-22_at_14.02.48.png) | Remove placeholder or pre-filling `.*` |\n|  `no image` | If the user does not fill in a value for keep or remove tags matching, there should not be an error. |\n| ![Screen_Shot_2021-12-22_at_14.02.42](/uploads/576b91b7d8156aa83d06116af9df16de/Screen_Shot_2021-12-22_at_14.02.42.png)  | If there is an error associated with the text input, display it under the text input rather than as a toast.|","state":"closed","created_at":"2021-07-22T12:50:05.776Z","updated_at":"2022-07-25T12:58:53.263Z","closed_at":"2022-03-15T15:10:57.310Z","closed_by":{"id":9516393,"username":"michelletorres","name":"Michelle Torres","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9516393/avatar.png","web_url":"https://gitlab.com/michelletorres"},"labels":["Category:Container Registry","Category:Package Registry","Deliverable","OpsSection::needs-justification","Package:P1","SUS::Impacting","UX","accessibility","devops::package","frontend","frontend-weight::2","group::package registry","priority::3","section::ops","severity::4","type::feature","workflow::production"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":4584738,"username":"nmezzopera","name":"NicolÃ² Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"}],"author":{"id":6761618,"username":"n-hebert","name":"Nicholas HÃ©bert","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6761618/avatar.png","web_url":"https://gitlab.com/n-hebert"},"type":"ISSUE","assignee":{"id":4584738,"username":"nmezzopera","name":"NicolÃ² Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"},"user_notes_count":24,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336663","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336663","notes":"https://gitlab.com/api/v4/projects/278964/issues/336663/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336663/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336663","relative":"#336663","full":"gitlab-org/gitlab#336663"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2270,"epic":{"id":15539,"iid":2270,"title":"Cleanup policy for tags","url":"/groups/gitlab-org/-/epics/2270","group_id":9970,"human_readable_end_date":"May 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90672583,"iid":336657,"project_id":278964,"title":"ActiveRecord::InvalidForeignKey: PG::ForeignKeyViolation: ERROR:  insert or update on table \"merge_request_metrics\" violates forei...","description":"https://sentry.gitlab.net/gitlab/gitlabcom/issues/2735911/?referrer=gitlab_plugin\n\n```\nPG::ForeignKeyViolation: ERROR:  insert or update on table \"merge_request_metrics\" violates foreign key constraint \"fk_rails_e6d7c24d1b\"\nDETAIL:  Key (merge_request_id)=(109395321) is not present in table \"merge_requests\".\n\n  activerecord (6.1.3.2) lib/active_record/connection_adapters/postgresql_adapter.rb:672:in `exec_params'\n  activerecord (6.1.3.2) lib/active_record/transactions.rb:354:in `block in with_transaction_returning_status'\n  activerecord (6.1.3.2) lib/active_record/connection_adapters/abstract/database_statements.rb:318:in `transaction'\n  gitlab/database/load_balancing/connection_proxy.rb:116:in `block in write_using_load_balancer'\n    connection.send(name, *args, \u0026block)\n  gitlab/database/load_balancing/load_balancer.rb:101:in `block in read_write'\n    yield connection\n...\n(245 additional frame(s) were not displayed)\n\nActiveRecord::InvalidForeignKey: PG::ForeignKeyViolation: ERROR:  insert or update on table \"merge_request_metrics\" violates foreign key constraint \"fk_rails_e6d7c24d1b\"\nDETAIL:  Key (merge_request_id)=(109395321) is not present in table \"merge_requests\".\n```\n\n## Reproduction Steps\n\n1. Fork `gitlab-org/gitlab` to personal group.\n1. Edit any file in the fork.\n1. Create merge request targeting `gitlab-org/gitlab:master`.\n1. Create MR.\n1. Error is triggered.","state":"closed","created_at":"2021-07-22T10:21:43.316Z","updated_at":"2022-12-26T11:03:44.899Z","closed_at":"2022-12-20T13:21:00.624Z","closed_by":{"id":4058309,"username":"mnohr","name":"Matt Nohr","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f2b70c7a75fd0a15ef789d4b1e620449?s=80\u0026d=identicon","web_url":"https://gitlab.com/mnohr"},"labels":["Deliverable","Track Health Status","backend","bug::functional","devops::create","group::code review","missed-SLO","missed-deliverable","missed:15.0","missed:15.1","missed:15.2","missed:15.4","missed:15.6","priority::2","section::dev","severity::2","spike","type::bug","workflow::verification"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":4901936,"username":"dskim_gitlab","name":"Sincheol (David) Kim","state":"active","avatar_url":"https://secure.gravatar.com/avatar/84a984a56c54d1d31338678421cecc32?s=80\u0026d=identicon","web_url":"https://gitlab.com/dskim_gitlab"}],"author":{"id":402401,"username":"jobbot","name":"Bot","state":"active","avatar_url":"https://secure.gravatar.com/avatar/aaa6738f1ebf25404010884af511b0e7?s=80\u0026d=identicon","web_url":"https://gitlab.com/jobbot"},"type":"ISSUE","assignee":{"id":4901936,"username":"dskim_gitlab","name":"Sincheol (David) Kim","state":"active","avatar_url":"https://secure.gravatar.com/avatar/84a984a56c54d1d31338678421cecc32?s=80\u0026d=identicon","web_url":"https://gitlab.com/dskim_gitlab"},"user_notes_count":220,"merge_requests_count":0,"upvotes":9,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336657","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336657","notes":"https://gitlab.com/api/v4/projects/278964/issues/336657/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336657/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336657","relative":"#336657","full":"gitlab-org/gitlab#336657"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7444,"epic":{"id":427556,"iid":7444,"title":"Improve Gitaly RPCs causing instability for large repos","url":"/groups/gitlab-org/-/epics/7444","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90670716,"iid":336655,"project_id":278964,"title":"(1) Deploy product intelligence pseudonymization secret (dependent on infra)","description":"## Summary\n\nProduct Intelligence needs to pseudonymize personal information according to https://gitlab.com/gitlab-org/product-intelligence/-/blob/master/doc/pseudonymistaion_service_proposal.md for that purpose there is need to deliver .pem file to various subsystems that would be responsible for pseudonymization\n\n## Goal\n\nAs mvc candidate pseudonymization of Snowplow events data sent from GitLab.com instances was selected. In order to be able to implement pseudonymization service described at https://gitlab.com/gitlab-org/gitlab/-/issues/336515 .pem files with public key needs to be available on all environments where GitLab.com is running (test, dev, staging and production). Both public and private key should be kept in secure location and not shared publicly.","state":"closed","created_at":"2021-07-22T09:44:31.631Z","updated_at":"2021-10-22T08:53:44.587Z","closed_at":"2021-10-22T08:53:44.563Z","closed_by":{"id":3509693,"username":"nicolasdular","name":"Nicolas Dular","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c4a21f15150c12ddf13fd848597cddd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/nicolasdular"},"labels":["[deprecated] Accepting merge requests","backend","devops::growth","group::product intelligence","missed:14.3","missed:14.4","section::growth","type::feature","workflow::ready for development"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[],"author":{"id":4807002,"username":"mikolaj_wawrzyniak","name":"MikoÅ‚aj Wawrzyniak","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4807002/avatar.png","web_url":"https://gitlab.com/mikolaj_wawrzyniak"},"type":"ISSUE","assignee":null,"user_notes_count":31,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336655","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":0,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336655","notes":"https://gitlab.com/api/v4/projects/278964/issues/336655/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336655/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336655","relative":"#336655","full":"gitlab-org/gitlab#336655"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6309,"epic":{"id":303192,"iid":6309,"title":"Pseudonymization MVC","url":"/groups/gitlab-org/-/epics/6309","group_id":9970,"human_readable_end_date":"Dec 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90664417,"iid":336650,"project_id":278964,"title":"Follow-up from \"Refactor Gitlab::Database to support multiple DBs\"","description":"The following discussion from !65262 should be addressed:\n\n- [ ] @abrandl started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/65262#note_630250018):  (+5 comments)\n\n    \u003e Thanks @yorickpeterse , LGTM, too. \n    \u003e \n    \u003e Non-blocking question: We've [added a cop to prevent usage of `ActiveRecord::Base.connection`](https://gitlab.com/gitlab-org/gitlab/blob/master/rubocop/cop/database/multiple_databases.rb#L13) and prefer `ApplicationRecord.connection` instead. That makes sense for actual AR models, however we also have cases where we don't have a model and still need a database connection. Are we thinking to use `Gitlab::Database.main.connection` (and `.ci`... later) instead for those cases?\n    \u003e \n    \u003e Would it make sense to add this to the linked documentation, i.e. https://docs.gitlab.com/ee/development/database/transaction_guidelines.html ?","state":"closed","created_at":"2021-07-22T07:51:51.188Z","updated_at":"2022-05-31T12:22:13.391Z","closed_at":"2021-11-15T14:33:19.450Z","closed_by":{"id":209240,"username":"yorickpeterse","name":"Yorick Peterse","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/209240/avatar.png","web_url":"https://gitlab.com/yorickpeterse"},"labels":["Category:Pods","automation:ml","automation:ml wrong","database","devops::data_stores","documentation","group::pods","missed:14.4","section::enablement"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":209240,"username":"yorickpeterse","name":"Yorick Peterse","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/209240/avatar.png","web_url":"https://gitlab.com/yorickpeterse"}],"author":{"id":128633,"username":"rymai","name":"RÃ©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"type":"ISSUE","assignee":{"id":209240,"username":"yorickpeterse","name":"Yorick Peterse","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/209240/avatar.png","web_url":"https://gitlab.com/yorickpeterse"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336650","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336650","notes":"https://gitlab.com/api/v4/projects/278964/issues/336650/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336650/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336650","relative":"#336650","full":"gitlab-org/gitlab#336650"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5974,"epic":{"id":268361,"iid":5974,"title":"Generalise our Load Balancing usage to allow many databases","url":"/groups/gitlab-org/-/epics/5974","group_id":9970,"human_readable_end_date":"Sep 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90662829,"iid":336647,"project_id":278964,"title":"Resolve validation errors in the terraform API","description":"## :fire: Problem\n\nThe terraform API has an upload endpoint for inserting a new package in the GitLab Package Registry.\n\nThis insertion will instantiate a new `::Packages::Package` model and persist it.\n\nThe problem is that we have a package name validation that is [done](https://gitlab.com/gitlab-org/gitlab/-/blob/e3dcf1c2b35208f33367c7d9ca431110debc7137/app/models/packages/package.rb#L71) and we can receive uploads with invalid package names.\n\nThose uploads are [rejected](https://log.gprd.gitlab.net/goto/f40599acada0208a62d07c97fa1623d8) with a `500` response. This is wrong, a validation error should be rejected with a `400 Bad Request` response.\n\n## :fire_engine: Solution\n\nProperly handle the validation error and reply a `400` response.\n\nHere is an [example](https://gitlab.com/gitlab-org/gitlab/-/blob/e3dcf1c2b35208f33367c7d9ca431110debc7137/lib/api/maven_packages.rb#L14-16) of such handling.\n\n### Further thinking\n\nIt might be valuable to have a base class for all the API classes. Handling a validation error to reply a `400` response is a very common and should actually be implemented by all the APIs.\n\nBy having a base class, we ease the development of further package API classes. The developers implementing a new API will not need to think: Oh I need to take care of the validation errors.","state":"closed","created_at":"2021-07-22T07:17:49.728Z","updated_at":"2022-01-31T15:46:00.979Z","closed_at":"2022-01-28T19:52:43.398Z","closed_by":{"id":4545061,"username":"nagyv-gitlab","name":"Viktor Nagy (GitLab)","state":"active","avatar_url":"https://secure.gravatar.com/avatar/fb255c1e9c228b9356af165939b3ac9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/nagyv-gitlab"},"labels":["Category:Infrastructure as Code","Terraform Registry","[deprecated] Accepting merge requests","backend complete","candidate::14.9","devops::configure","group::configure","ruby","section::ops","type::bug"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"type":"ISSUE","assignee":null,"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336647","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336647","notes":"https://gitlab.com/api/v4/projects/278964/issues/336647/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336647/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336647","relative":"#336647","full":"gitlab-org/gitlab#336647"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1925,"epic":{"id":12399,"iid":1925,"title":"Category Epic: Infrastructure as Code","url":"/groups/gitlab-org/-/epics/1925","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90659152,"iid":336645,"project_id":278964,"title":"Creating epics via epic board list cannot target subgroups or other groups in the hierarchy","description":"When creating an epic board, you specify a board and group. At the moment, the board must be associated with the group the epic will be created in.\n\nWe need to expand the `Boards::Epics::CreateService` to allow epics to be created in subgroups (and perhaps ancestor groups as well?)\n\nThe following discussion from !62455 should be addressed:\n\n- [ ] @kushalpandya started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/62455#note_632142748):  (+2 comments)\n\n    \u003e Hi @cablett :wave: \n    \u003e \n    \u003e I'm working on frontend (https://gitlab.com/gitlab-org/gitlab/-/merge_requests/66233) to leverage this mutation with `groupPath` variable to allow users to create epic for a sub-group from a parent group board;\n    \u003e \n    \u003e ![image](/uploads/022d1faf2db277169eb99b3e6fcca6eb/image.png)\n    \u003e \n    \u003e And I'm getting `Board not found` error.\n    \u003e \n    \u003e Here's the mutation I'm using;\n    \u003e \n    \u003e ```graphql\n    \u003e mutation CreateEpic($input: BoardEpicCreateInput!) {\n    \u003e   boardEpicCreate(input: $input) {\n    \u003e     epic {\n    \u003e       ...EpicNode\n    \u003e       labels {\n    \u003e         nodes {\n    \u003e           ...Label\n    \u003e         }\n    \u003e       }\n    \u003e     }\n    \u003e     errors\n    \u003e   }\n    \u003e }\n    \u003e \n    \u003e ```\n    \u003e \n    \u003e And following are is `input` variables I passed;\n    \u003e \n    \u003e ```json\n    \u003e {\n    \u003e   \"input\": {\n    \u003e     \"listId\": \"gid://gitlab/Boards::EpicList/5\",\n    \u003e     \"boardId\": \"gid://gitlab/Boards::EpicBoard/2\",\n    \u003e     \"groupPath\": \"gitlab-org/database\",\n    \u003e     \"title\": \"Test subgroup\"\n    \u003e   }\n    \u003e }\n    \u003e ```\n    \u003e \n    \u003e And the response I received was;\n    \u003e \n    \u003e ```json\n    \u003e {\n    \u003e   \"data\": {\n    \u003e     \"boardEpicCreate\": {\n    \u003e       \"epic\": null,\n    \u003e       \"errors\": [\n    \u003e         \"Board not found\"\n    \u003e       ]\n    \u003e     }\n    \u003e   }\n    \u003e }\n    \u003e ```\n    \u003e \n    \u003e Note that if I omit `groupPath` variable from mutation, Epic gets created within the current group within any problem. You can try it out locally in above linked MR.","state":"closed","created_at":"2021-07-22T05:39:33.468Z","updated_at":"2021-11-08T16:50:01.656Z","closed_at":"2021-08-24T07:16:18.641Z","closed_by":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"labels":["Category:Portfolio Management","Category:Team Planning","backend","boards","devops::plan","epics","feature::addition","group::product planning","missed:14.2","section::dev","type::feature","workflow::in review"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"}],"author":{"id":3717078,"username":"cablett","name":"charlie ablett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3717078/avatar.png","web_url":"https://gitlab.com/cablett"},"type":"ISSUE","assignee":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336645","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336645","notes":"https://gitlab.com/api/v4/projects/278964/issues/336645/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336645/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336645","relative":"#336645","full":"gitlab-org/gitlab#336645"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":90654162,"iid":336641,"project_id":278964,"title":"Revoke an Agent Token from the UI","description":"### Proposal \n\nWith https://gitlab.com/gitlab-org/gitlab/-/issues/327152 we will be able to create new agent tokens, however there may also be a need to revoke a token without completely removing the agent.\n\nWe have GraphQL mutations available for revoking a token, the next step will be to trigger this from the UI.\n\n## Proposal\n\n- We should add a `Revoke` button in the agent access token list.\n- When the button is pressed an blocking alert is raised where the users need to confirm the deletion, or can cancel it.\n\n## Definition of done\n\n- [x] The revoke button is present in the agent access token list.\n- [x] The revoke button is disabled for users with less than maintainer role.\n- [x] For users with at least maintainer rights clicking on the button opens a confirmation popup.\n- [x] The popup contains an input to confirm the revoke action and a cancel button.\n- [x] After the token was revoked, the token list gets updated.\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2021-07-22T01:35:29.292Z","updated_at":"2022-04-28T08:31:07.150Z","closed_at":"2022-04-28T08:31:07.130Z","closed_by":{"id":9094263,"username":"anna_vovchenko","name":"Anna Vovchenko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9094263/avatar.png","web_url":"https://gitlab.com/anna_vovchenko"},"labels":["GitLab Free","Stretch","auto updated","candidate::14.10","devops::configure","direction","frontend","group::configure","missed:14.10","section::ops","type::feature","workflow::production"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":9094263,"username":"anna_vovchenko","name":"Anna Vovchenko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9094263/avatar.png","web_url":"https://gitlab.com/anna_vovchenko"}],"author":{"id":3167938,"username":"tigerwnz","name":"Tiger Watson","state":"active","avatar_url":"https://secure.gravatar.com/avatar/eb2c062f746fe8a57d693ee307942aa5?s=80\u0026d=identicon","web_url":"https://gitlab.com/tigerwnz"},"type":"ISSUE","assignee":{"id":9094263,"username":"anna_vovchenko","name":"Anna Vovchenko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9094263/avatar.png","web_url":"https://gitlab.com/anna_vovchenko"},"user_notes_count":18,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336641","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":5,"completed_count":5},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"5 of 5 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336641","notes":"https://gitlab.com/api/v4/projects/278964/issues/336641/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336641/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336641","relative":"#336641","full":"gitlab-org/gitlab#336641"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4739,"epic":{"id":135769,"iid":4739,"title":"Management interfaces for the Agent","url":"/groups/gitlab-org/-/epics/4739","group_id":9970,"human_readable_end_date":"May 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90653743,"iid":336639,"project_id":278964,"title":"Reduce the impact of future DB sharding work on recent CI minute provisioning work.","description":"## Background\n\nNext steps with database composition will include tables related to continuous integration features. This issue describes steps to take to ensure that CI minutes and storage provisioning will be uninterrupted with database sharding.\n\nRelated: https://gitlab.com/groups/gitlab-org/-/epics/6289 and https://gitlab.com/gitlab-org/fulfillment-meta/-/issues/283\n\n## Details\n\nReduce the impact of future DB sharding work on recent CI minute provisioning work.\n\n**Do you see potential impacts from the decomposition PoC https://gitlab.com/gitlab-org/gitlab/-/merge_requests/62092?**\n\nYes - we'll need to update `Ci::Minutes::AdditionalPack` to point to the CI DB (via `Ci::ApplicationRecord`).\n\nSpeculation from @vij I'm not 100% sure but I think this means we'll also need to pre-emptively `disable_joins` on [the association](https://gitlab.com/gitlab-org/gitlab/blob/881f2bd4c513b3251c200a4901f97fc07a29b594/ee/app/models/ee/namespace.rb#L34) on the Namespace side? ðŸ¤”\n\nThe table `ci_minutes_additional_packs` also uses a `namespace_id` foreign key but I think that's been identified already in the MR, https://gitlab.com/gitlab-org/gitlab/-/merge_requests/62092/diffs#3968e563921d2b7aa345023aeeeb71f38a43a3cb_0_24.\n\nAs the class has only recently been added / integration is in development, it's currently only used in two API endpoints, [here](https://gitlab.com/gitlab-org/gitlab/blob/881f2bd4c513b3251c200a4901f97fc07a29b594/ee/lib/api/ci/minutes.rb#L1), so the impact is limited","state":"closed","created_at":"2021-07-22T01:08:58.367Z","updated_at":"2022-03-16T11:40:48.075Z","closed_at":"2021-08-12T14:05:21.853Z","closed_by":{"id":5211906,"username":"csouthard","name":"Chase Southard","state":"active","avatar_url":"https://secure.gravatar.com/avatar/5e2adecb9fa1d32cf007754824aa358f?s=80\u0026d=identicon","web_url":"https://gitlab.com/csouthard"},"labels":["Category:Pods","Unplanned","[deprecated] Category:Utilization","auto updated","backend","ci-decomposition","devops::fulfillment","group::utilization","section::fulfillment","type::maintenance","workflow::verification"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"}],"author":{"id":5211906,"username":"csouthard","name":"Chase Southard","state":"active","avatar_url":"https://secure.gravatar.com/avatar/5e2adecb9fa1d32cf007754824aa358f?s=80\u0026d=identicon","web_url":"https://gitlab.com/csouthard"},"type":"ISSUE","assignee":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"user_notes_count":25,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336639","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336639","notes":"https://gitlab.com/api/v4/projects/278964/issues/336639/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336639/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336639","relative":"#336639","full":"gitlab-org/gitlab#336639"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6407,"epic":{"id":312895,"iid":6407,"title":"Decomposition: Fix any broken Growth \u0026 Fulfillment features","url":"/groups/gitlab-org/-/epics/6407","group_id":9970,"human_readable_end_date":"Nov 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90651937,"iid":336634,"project_id":278964,"title":"DataDog integration settings can't be reverted from Custom to Default.","description":"### Summary\n\nTrying to save the Datadog integration settings when a parent project has been configured for integration will fail to save with an error:\n\n![image](/uploads/101a8530d36173104ebeb6dc925be65e/image.png)\n\n### Steps to reproduce\n\n1. Configure DataDog integration under Settings â†’ Integrations â†’ DataDog on a namespace with at least one existing project.\n1. Set the existing project to `Use Custom Settings` with any values (valid or not) in the API URL and API Key fields\n1. Save\n1. Select `Use Default Settings` and save.\n\n### Example Project\n\nhttps://gitlab.com/gitlab-silver/datadog-test/\n\n### What is the current *bug* behavior?\n\nUnable to revert integration to use Default settings\n\n### What is the expected *correct* behavior?\n\nAble to apply Default settings\n\n### Relevant logs and/or screenshots\n\n\n\n### Output of checks\n\nThis bug happens on Gitlab.com: ` GitLab Enterprise Edition 14.1.0-pre 4d9b43f1227 `\n\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e","state":"closed","created_at":"2021-07-21T23:08:03.165Z","updated_at":"2022-11-22T19:37:29.691Z","closed_at":"2021-08-02T11:33:59.682Z","closed_by":{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},"labels":["Category:Integrations","Integration::Datadog","Stretch","backend","customer","devops::manage","group::ecosystem [DEPRECATED]","section::dev","type::bug","workflow::verification"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"}],"author":{"id":6239198,"username":"duncan_harris","name":"Duncan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6239198/avatar.png","web_url":"https://gitlab.com/duncan_harris"},"type":"ISSUE","assignee":{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336634","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336634","notes":"https://gitlab.com/api/v4/projects/278964/issues/336634/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336634/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336634","relative":"#336634","full":"gitlab-org/gitlab#336634"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":90648394,"iid":336629,"project_id":278964,"title":"Support remediation for all recognised Operating Systems","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\u003c!--\nA brief explanation of the why, not the what or how. Assume the reader doesn't know the\nbackground and won't have time to dig-up information from comment threads.\n--\u003e\nThe [requirements](https://docs.gitlab.com/ee/user/application_security/container_scanning/#requirements) for container scanning state that we [support distributions](https://docs.gitlab.com/ee/user/application_security/container_scanning/#supported-distributions) according to each scanner.\n\nWe want to address the following:\n\n1. The link to Trivy is now broken. Correct link: https://aquasecurity.github.io/trivy/latest/vulnerability/detection/os/\n1. The [remediation](https://gitlab.com/gitlab-org/security-products/analyzers/container-scanning/-/blob/8d8a0231d7d1e250f076be007203b3c854f6653d/lib/gcs/remediation.rb#L86) implementation doesn't match the supported OS list for Trivy + Grype.\n\n\n\n## Relevant links\n\u003c!--\nInformation that the developer might need to refer to when implementing the issue.\n\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e)\n  - [Design 1](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n  - [Design 2](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n- [Similar implementation](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/\u003cid\u003e)\n--\u003e\n\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [x] Documentation: fix link to trivy in [supported distributions](https://docs.gitlab.com/ee/user/application_security/container_scanning/#supported-distributions) (see description for correct link)\n- [ ] Feature flag:\n- [ ] Performance:\n- [x] Testing: Add a fix for each OS and verify that remediation outputs the correct diff\n\n\n## Implementation plan\n\u003c!--\nSteps and the parts of the code that will need to get updated. The plan can also\ncall-out responsibilities for other team members or teams.\n\ne.g.:\n\n- [ ] ~frontend Step 1\n  - [ ] `@person` Step 1a\n- [ ] ~frontend Step 2\n\n--\u003e\n\n- [x] ~documentation Fix broken link for Trivy distributions on [doc/user/application_security/container_scanning/index.md](https://gitlab.com/gitlab-org/gitlab/-/blob/70f315c3cd1c35d622896e4a7c43bdb0de8984ff/doc/user/application_security/container_scanning/index.md)\n- [x] ~backend Add remediation mappings for new distributions in `lib/gcs/remediation.rb` (pending https://gitlab.com/gitlab-org/security-products/analyzers/container-scanning/-/merge_requests/2550)\n- [x] ~backend Add [remediation test cases](https://gitlab.com/gitlab-org/security-products/analyzers/container-scanning/-/blob/3a3e67e63c6f2f2196cd8cd734b08816f0dd1428/spec/gcs/remediation_spec.rb#L46) for each new distribution / OS\n\n\u003c!--\nWorkflow and other relevant labels\n\n# ~\"group::\" ~\"Category:\" ~\"GitLab Ultimate\"\nOther settings you might want to include when creating the issue.\n\n# /assign @\n# /epic \u0026\n--\u003e\n\n/cc @sam.white","state":"closed","created_at":"2021-07-21T20:59:09.913Z","updated_at":"2021-08-17T06:50:30.976Z","closed_at":"2021-08-17T06:50:30.718Z","closed_by":{"id":5535431,"username":"mparuszewski","name":"Alan (Maciej) Paruszewski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535431/avatar.png","web_url":"https://gitlab.com/mparuszewski"},"labels":["Category:Container Scanning","backend","devops::govern","documentation","feature::enhancement","group::security policies","section::sec","type::feature","workflow::verification"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[],"author":{"id":480804,"username":"thiagocsf","name":"Thiago FigueirÃ³","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480804/avatar.png","web_url":"https://gitlab.com/thiagocsf"},"type":"ISSUE","assignee":null,"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336629","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":10,"completed_count":5},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"5 of 10 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336629","notes":"https://gitlab.com/api/v4/projects/278964/issues/336629/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336629/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336629","relative":"#336629","full":"gitlab-org/gitlab#336629"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":90643580,"iid":336621,"project_id":278964,"title":"Speed: Integrate runner into scanner","description":"To improve testing speed and prepare for a threaded testing strategy, the runner component will be integrated into the core scanner. To facilitate this a new `WebRunnerMachine` component will be created. This component will co-exists with the existing `WebMachine` which will be renamed to `WebProxyMachine`.\n\nA new runtime variable will allow changing the operation mode between proxy and runner at container startup time.\n\nThis issue addresses part of the speed issues identified in API Security https://gitlab.com/gitlab-org/gitlab/-/issues/335931.\n\n### Implementation\n\n#### Runner Controller\n\nNew rest api endpoint for starting a testing job using the `WebRunnerMachine` instead of `WebProxyMachine`.\n\n#### RunnerService\n\nProvide the runner as a service called by the `RunnerController` component.\n\nAs a stand alone component the runner did:\n\n1. [Runner ] Specification format into `Proxy.Http.Request`\n1. [Runner ] `Proxy.Http.Request` -\u003e `Operation`\n1. [Runner ] `Operation` into `HttpClient`\n1. [Runner ] `HttpClient` -\u003e Proxy\n1. [Scanner] Proxy -\u003e `Proxy.Http.Request`\n1. [Scanner] `Proxy.Http.Request` -\u003e `Operation`\n1. [Scanner] `Operation` acted on by checks\n1. [Scanner] `Operation` -\u003e `Proxy.Http.Request`\n1. [Scanner] Send `Proxy.Http.Request` to target\n1. [Scanner] Receive `Proxy.Http.Response` from target\n1. [Scanner] Send `Proxy.Http.Response` to runner\n\nModify this into:\n\n1. [Scanner] Specification format into `Proxy.Http.Request`\n1. [Scanner] `Proxy.Http.Request` -\u003e `Operation`\n1. [Scanner] `Operation` acted on by checks\n1. [Scanner] `Operation` -\u003e `Proxy.Http.Request`\n1. [Scanner] Send `Proxy.Http.Request` to target\n1. [Scanner] Receive `Proxy.Http.Response` from target\n\n#### Networking\n\nThe current networking code works as a proxy. For this issue additional support will be added for sending and receiving HTTP messages directly. The new component will need to track server connections, creating new connections as needed.\n\n##### HttpMessageService\n\n1. Connection pooling \n   1. Support for multiple servers\n1. Sending HTTP requests\n1. Receiving HTTP responses\n\n### Tasks\n\n1. [ ] Implement new networking code\n   1. [x] Design to support HTTP 2 and HTTP 3\n   1. [x] Http11Connection\n   1. [x] HttpConnectionPool\n   1. [x] HttpConnectionPoolService\n   1. [x] HttpMessageService\n   1. [x] Add basic tests for HttpMessageService\n   1. [x] Implement cleaning timer\n   1. [x] Add LifetimeExpired check\n   1. [x] Add CheckUsabilityOnScavenge check\n   1. [x] How to handle KeepAlive?\n   1. [ ] Add logging/tracing\n   1. [x] Search for TODO's in comments\n   1. [x] Additional tests for each component\n1. [x] Implement `RunnerController`\n   1. [x] Implement a POST handler to start a session\n   1. [ ] Investigate why it takes so long to start a job\n   1. [x] (**Herb**) [Add operation: GET /api/runner/JOB_ID](https://gitlab.com/gitlab-org/gitlab/-/issues/338498)\n   1. [ ] Should check to see if an job is already running and error\n1. [ ] Refactor `runner` into core scanner code\n   1. [x] `RunnerService`\n   1. [ ] OperationRequest::ApplyOverrides should operate on Operation\n   1. [x] ApplyOverrides: Handle TODO's\n   1. [ ] Optimize the hot path\n   1. [x] (**Herb**) [Merge `OperationRunner` into `RunnerService`](https://gitlab.com/gitlab-org/gitlab/-/issues/338499)\n   1. [x] (**Herb**) [IRunnerOptions.TargetUrl not used when generating Operations from HAR files](https://gitlab.com/gitlab-org/gitlab/-/issues/338500)\n   1. [x] (**Herb**) [Implement `RunnerOptions::IsValid()`](https://gitlab.com/gitlab-org/gitlab/-/issues/338502)\n   1. [x] Bug: Can't run two testing sessions one-after-the-other\n1. [x] API Security Python library\n   1. [x] Add support for runner controller\n1. [x] `worker-entry`\n   1. [x] Start `runner` jobs directly, bypassing generic CI script. Wait for job to complete.\n   1. [x] def launch(): Exception handling\n   1. [x] Bug: Job finished footer not displaying\n   1. [x] (**Herb**) [Display useful output](https://gitlab.com/gitlab-org/gitlab/-/issues/338498)\n1. [ ] Optimize hot paths\n1. [ ] Testing\n   1. [ ] (**Herb**) Runner\n      1. [x] Update existing tests, and remove tests that no longer apply. Keep a look out for missing tests.\n      1. [x] Add tests for `RunnerService`\n      1. [x] All readers need to validate they can convert input files into Request objects correctly. Current tests only validate no exceptions are thrown. For example: HttpArchiveReaderTests::ShouldGenerateOperations should be broken into individual tests that validate each har file was correctly read into corresponding Request objects that are valid.\n   1. [ ] Networking\n      1. [x] Update existing tests to work with refactoring\n      1. [ ] Add tests for `HttpMessageService`\n      1. [ ] Add tests for `HttpConnectionPoolService`\n      1. [ ] Add tests for `HttpConnectionPool`\n      1. [ ] Add tests for `Http11Connection`","state":"closed","created_at":"2021-07-21T18:51:32.662Z","updated_at":"2021-11-18T07:02:55.051Z","closed_at":"2021-10-25T18:20:54.959Z","closed_by":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"labels":["Category:DAST","Deliverable","GitLab Ultimate","backend","devops::secure","feature::enhancement","group::dynamic analysis","section::sec","type::feature","workflow::verification"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},{"id":7488329,"username":"herbmadrigal","name":"Herber Madrigal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7488329/avatar.png","web_url":"https://gitlab.com/herbmadrigal"}],"author":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"type":"ISSUE","assignee":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336621","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":47,"completed_count":32},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"32 of 47 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336621","notes":"https://gitlab.com/api/v4/projects/278964/issues/336621/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336621/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336621","relative":"#336621","full":"gitlab-org/gitlab#336621"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6502,"epic":{"id":317541,"iid":6502,"title":"API Security scanner speed improvements","url":"/groups/gitlab-org/-/epics/6502","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90637901,"iid":336617,"project_id":278964,"title":"Technical Investigation: Determine viable option for Issue #336199","description":"In order to properly work on https://gitlab.com/gitlab-org/gitlab/-/issues/336199 we need to determine which one of the suggested [options](https://gitlab.com/gitlab-org/gitlab/-/issues/336199#options) is the right one to implement:\n\n\u003e ### Options\n\u003e \n\u003e 1. Change this query to 2 queries to avoid the join (not sure if this will be possible yet as it depends on how this scope is used if you can avoid loading too many project IDs into memory)\n\u003e 1. Refactor/change the feature so that this query is not necessary\n\u003e 1. De-normalize data in some way so that you don't need to join\n\n\nThe option we choose must:\n\n1. Not break the GraphQL functionality.\n1. Implement reasonable query limits that offend a very small number of customers, if any.\n1. Be considered in the context of [parallel work on other teams](https://gitlab.com/gitlab-org/gitlab/-/issues/336590#sharding-team-recommended-option), to ensure we're not reinventing solutions and adding maintenance cost.","state":"closed","created_at":"2021-07-21T17:50:56.377Z","updated_at":"2021-07-30T22:07:56.145Z","closed_at":"2021-07-30T18:52:25.060Z","closed_by":{"id":1758950,"username":"iamricecake","name":"Erick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1758950/avatar.png","web_url":"https://gitlab.com/iamricecake"},"labels":["Category:Code Testing and Coverage","backend","devops::verify","group::pipeline insights","section::ops","workflow::in dev"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":1758950,"username":"iamricecake","name":"Erick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1758950/avatar.png","web_url":"https://gitlab.com/iamricecake"}],"author":{"id":1758950,"username":"iamricecake","name":"Erick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1758950/avatar.png","web_url":"https://gitlab.com/iamricecake"},"type":"ISSUE","assignee":{"id":1758950,"username":"iamricecake","name":"Erick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1758950/avatar.png","web_url":"https://gitlab.com/iamricecake"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336617","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336617","notes":"https://gitlab.com/api/v4/projects/278964/issues/336617/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336617/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336617","relative":"#336617","full":"gitlab-org/gitlab#336617"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":90637818,"iid":336616,"project_id":278964,"title":"Clarify text for compliance frameworks options in projects","description":"## Problem to solve\n\nDepending on a user's permission, it can be unclear what compliance frameworks are, how they are added, and why they may not be available\n\n## Proposal\n\nUpdate various states to be more clear.\n\n**User role: Owner**\n\n| No frameworks with permission to edit | Editable |\n| ------------------------------------- | -------- |\n| ![No_frameworks_with_permission_to_edit__Owners_](/uploads/ff18f6dcf573f3c012ebfa76b4b8248b/No_frameworks_with_permission_to_edit__Owners_.png) | ![Editable__Owners_](/uploads/0ef620363f822874c7381aa017655de7/Editable__Owners_.png) |\n\n**User role: Maintainers**\n\n| No frameworks with no permission to edit | No permission to edit | \n| ---------------------------------------- | --------------------- | \n| ![No_frameworks_with_no_permission_to_edit__Maintainers_](/uploads/d76af16c1dec0fe7e12e71d40580e1ca/No_frameworks_with_no_permission_to_edit__Maintainers_.png)| ![No_permission_to_edit__Maintainers_](/uploads/d2f3c08f38ab768ba6e377a6e1688858/No_permission_to_edit__Maintainers_.png) |\n\n## Resources\n\nFollow-up to https://gitlab.com/gitlab-org/gitlab/-/merge_requests/66429#note_631352506","state":"closed","created_at":"2021-07-21T17:48:21.597Z","updated_at":"2022-03-09T11:33:15.010Z","closed_at":"2022-03-09T11:33:14.995Z","closed_by":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"labels":["Category:Compliance Management","GitLab Premium","Next Up","SUS::Impacting","UI text","UX","auto updated","devops::manage","frontend","group::compliance","section::dev","severity::4","type::feature","workflow::in review"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"}],"author":{"id":6193108,"username":"aregnery","name":"Austin Regnery","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6193108/avatar.png","web_url":"https://gitlab.com/aregnery"},"type":"ISSUE","assignee":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336616","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336616","notes":"https://gitlab.com/api/v4/projects/278964/issues/336616/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336616/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336616","relative":"#336616","full":"gitlab-org/gitlab#336616"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":90637625,"iid":336614,"project_id":278964,"title":"Stored XSS in DataDog Integration affects maintainers/owners","description":"**[HackerOne report #1257383](https://hackerone.com/reports/1257383)** by `shells3c` on 2021-07-11, assigned to GitLab Team:\n\n[Report](#report) | [How To Reproduce](#how-to-reproduce)\n\n## Report\n\n#####  Summary\n\nThe code: https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/models/integrations/datadog.rb\n\n```ruby  \n   def fields  \n    ...  \n    {  \n          type: 'password',  \n          name: 'api_key',  \n          title: _('API key'),  \n          non_empty_password_title: s_('ProjectService|Enter new API key'),  \n          non_empty_password_help: s_('ProjectService|Leave blank to use your current API key'),  \n          help: \"\u003ca href=\\\"#{api_keys_url}\\\" target=\\\"_blank\\\"\u003eAPI key\u003c/a\u003e used for authentication with Datadog\",  \n          required: true  \n    }\n\n    ...\n\n    def api_keys_url  \n      return URL_API_KEYS_DOCS unless datadog_site.presence\n\n      sprintf(URL_TEMPLATE_API_KEYS, datadog_site: datadog_site)  \n    end\n\n```\n\nThe `api_keys_url` is not sanitized before being rendered, leads to XSS, affects any maintainer/owner of the project when they visit the DataDog Integration\n\n#####  Steps to reproduce\n\n1. Go to DataDog Integration setting: https://gitlab.com/:user:/:project:/-/services/datadog/edit (requires permission)  \n2. In the **Datadog site** field, set the value to `\"\u003e\u003cscript\u003ealert()\u003c/script\u003e`, then **Save**  \n3. Now XSS will be activated in https://gitlab.com/:user:/:project:/-/services/datadog/edit, send this link to victims\n\n####  Impact\n\nStored XSS affects maintainers/owners\n\n## How To Reproduce\n\nPlease add [reproducibility information] to this section:\n\n1.\n1.\n1.\n\n[reproducibility information]: https://about.gitlab.com/handbook/engineering/security/#reproducibility-on-security-issues","state":"closed","created_at":"2021-07-21T17:42:52.342Z","updated_at":"2022-11-22T19:37:30.436Z","closed_at":"2021-08-31T18:25:34.073Z","closed_by":{"id":4226366,"username":"ankelly","name":"Andrew Kelly","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4226366/avatar.png","web_url":"https://gitlab.com/ankelly"},"labels":["HackerOne","Stretch","Weakness::CWE-79","auto updated","backend","devops::manage","group::integrations","priority::2","section::dev","security","severity::2","workflow::verification"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"}],"author":{"id":2741139,"username":"gitlab-securitybot","name":"GitLab SecurityBot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2741139/avatar.png","web_url":"https://gitlab.com/gitlab-securitybot"},"type":"ISSUE","assignee":{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},"user_notes_count":27,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2021-09-19","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336614","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336614","notes":"https://gitlab.com/api/v4/projects/278964/issues/336614/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336614/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336614","relative":"#336614","full":"gitlab-org/gitlab#336614"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":90636271,"iid":336611,"project_id":278964,"title":"Add ability to search iterations by cadence name","description":"In https://gitlab.com/groups/gitlab-org/-/epics/5077#note_613272176, `@gweaver` identified the need to \"figure out how to allow me to search and select an iteration within a cadence by cadence name\".\n\nCurrently, we can search for iterations by iteration title:\n\n```js\n// only searches by iteration title\nquery{\n  project(fullPath: \"gitlab-org/gitlab\") {\n    iterations(title: \"gitlab\") {\n      nodes {\n        id\n        title\n      }\n    }\n  }\n}\n```\n\nWe need to be able to search for iterations by cadence name too.\n\n## Proposal\n\nWe can currently search epics by epic title only:\n\n```js\n// searches epics by title only\n{\n  group(fullPath: \"gitlab-org\") {\n    epics(search: \"pajamas\", in: [TITLE]) {\n      nodes {\n        id\n        title\n      }\n    }\n  }\n}\n```\n\nWe could similarly add the ability to search iterations by cadence name with the following query:\n\n```js\n// proposal to search iterations by cadence name â€” return iterations whose cadence name includes the search term\nquery{\n  project(fullPath: \"gitlab-org/gitlab\") {\n    iterations(search: \"my cadence name\", in: [CADENCE_TITLE]) {\n      nodes {\n        id\n        title\n      }\n    }\n  }\n}\n\n// proposal to search iterations by cadence name â€” return iterations whose title or cadence name includes the search term\nquery{\n  project(fullPath: \"gitlab-org/gitlab\") {\n    iterations(search: \"my cadence name\", in: [TITLE, CADENCE_TITLE]) {\n      nodes {\n        id\n        title\n      }\n    }\n  }\n}\n```\n\nThis would involve:\n\n1. Creating a new parameter `search` for doing a broad search\n1. Creating a new parameter `in` to specify which fields to search across, with `TITLE` and `CADENCE_TITLE` being enum options\n1. Deprecating the parameter `title`. Its new equivalent parameters would be `search: \"my iteration title\", in: [TITLE]`\n\n## Acceptance criteria\n\n- The user can search iterations by cadence name via GraphQL","state":"closed","created_at":"2021-07-21T17:07:57.762Z","updated_at":"2022-02-18T07:00:55.998Z","closed_at":"2022-02-03T05:05:33.775Z","closed_by":{"id":5961404,"username":"euko","name":"Eulyeon Ko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5961404/avatar.png","web_url":"https://gitlab.com/euko"},"labels":["Deliverable","GraphQL","auto updated","backend","devops::plan","feature::enhancement","group::project management","missed-deliverable","missed:14.6","section::dev","type::feature","workflow::production"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":5961404,"username":"euko","name":"Eulyeon Ko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5961404/avatar.png","web_url":"https://gitlab.com/euko"}],"author":{"id":4545397,"username":"cngo","name":"Coung Ngo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4545397/avatar.png","web_url":"https://gitlab.com/cngo"},"type":"ISSUE","assignee":{"id":5961404,"username":"euko","name":"Eulyeon Ko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5961404/avatar.png","web_url":"https://gitlab.com/euko"},"user_notes_count":19,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336611","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336611","notes":"https://gitlab.com/api/v4/projects/278964/issues/336611/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336611/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336611","relative":"#336611","full":"gitlab-org/gitlab#336611"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5077,"epic":{"id":163847,"iid":5077,"title":"Support multiple, automated Iteration Cadences","url":"/groups/gitlab-org/-/epics/5077","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":{"id":38171,"iid":45,"sequence":6,"group_id":9970,"title":"Iteration 6: January 05, 2022 - January 18, 2022","description":null,"state":3,"created_at":"2021-10-22T17:12:40.556Z","updated_at":"2022-01-19T00:05:02.772Z","start_date":"2022-01-05","due_date":"2022-01-18","web_url":"https://gitlab.com/groups/gitlab-org/-/iterations/38171"},"health_status":null},{"id":90632126,"iid":336603,"project_id":278964,"title":"Follow-up from \"ci: Tag QA image with the commit SHA instead of branch name\"","description":"The following discussion from !66390 should be addressed:\n\n- [ ] @godfat-gitlab started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/66390#note_632265252):  (+1 comment)\n\n    \u003e @rymai Thank you! Looks good. I wonder if we can reuse the `QA_IMAGE` variable somehow? For example:\n    \u003e \n    \u003e ``` yaml\n    \u003e variables:\n    \u003e   QA_IMAGE_SHA: \"${CI_MERGE_REQUEST_SOURCE_BRANCH_SHA:-$CI_COMMIT_SHA}\"\n    \u003e   QA_IMAGE: \"${CI_REGISTRY}/${CI_PROJECT_PATH}/gitlab-ee-qa:${QA_IMAGE_SHA}\"\n    \u003e ```\n    \u003e \n    \u003e If we cannot use conditions in CI variables clause, maybe some of the jobs can set that in `before_script`. Would you like to try that? I think we can go with the current changes, too.","state":"closed","created_at":"2021-07-21T15:31:39.703Z","updated_at":"2022-03-16T11:40:48.728Z","closed_at":"2021-07-28T07:46:27.745Z","closed_by":{"id":128633,"username":"rymai","name":"RÃ©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"labels":["Dogfooding::Use Existing Feature","Engineering Productivity","maintenance::pipelines","type::maintenance","workflow::in review"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":128633,"username":"rymai","name":"RÃ©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"}],"author":{"id":128633,"username":"rymai","name":"RÃ©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"type":"ISSUE","assignee":{"id":128633,"username":"rymai","name":"RÃ©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336603","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336603","notes":"https://gitlab.com/api/v4/projects/278964/issues/336603/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336603/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336603","relative":"#336603","full":"gitlab-org/gitlab#336603"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":90620235,"iid":336596,"project_id":278964,"title":"Github Importer: thread diff notes","description":"## Problem statement\n\nWhen importing a project from Github it imports merge requests diff notes, comments associated with a file diff, in a non-threaded way. \n\n| Github | Gitlab |\n| --- | --- |\n| \u003cimg alt=\"Update_README_md_by_anotherkassio___Pull_Request__1___anotherkassio_smallrepo\" src=\"/uploads/18e3461a10f66733da5ddaeedd1f9015/Update_README_md_by_anotherkassio___Pull_Request__1___anotherkassio_smallrepo.png\" width=\"800\"/\u003e | \u003cimg alt=\"Update_README_md___1____Merge_requests___Administrator___smallrepo___GitLab\" src=\"/uploads/3d4d50997b3c184b50612686b2edacdb/Update_README_md___1____Merge_requests___Administrator___smallrepo___GitLab.png\" width=\"800\"/\u003e |\n\n## Proposed solution\n\nEach diff note is created by `Gitlab::GithubImport::Importer::DiffNoteImporter`, which fetches the data from Github's [List review comments in a repository](https://docs.github.com/en/rest/reference/pulls#list-review-comments-in-a-repository) API. This documentation mentions that each diff note provides a `in_reply_to_id`, which can be used to create Gitlab discussions.\n\n#### Implementation details\n\n- When the `in_reply_to_id` is empty\n  - Create a new `discussion_id`\n  - Map the `pull_request_comment.id` to the `discussion_id` created on redis (Github original id for the diff note). Example: `8 -\u003e f9f509e301c2ff6112a365ca066cda63c183530c`, where:\n    - `8` is the original github id for the diff note;\n    - `f9f509e301c2ff6112a365ca066cda63c183530c` is the `discussion_id`;\n- When the `in_reply_to_id` has a value\n  - Use the _github_id-\u003ediscussion_id_ map to find the discussion id related to the `in_reply_to_id`;\n  - Use the found `discussion_id` on the new diff note;\n  - Add another entry to the _github_id-\u003ediscussion_id_ map to map the new diff note to the discussion_id, like `9 -\u003e f9f509e301c2ff6112a365ca066cda63c183530c`;\n- Currently there's no documentation wether the GithubImporter imports or not threaded notes, therefore an update on the documentation must be done (https://docs.gitlab.com/ee/user/project/import/github.html#import-your-project-from-github-to-gitlab);\n- Example of implementation https://gitlab.com/gitlab-org/gitlab/-/compare/master...githb-importer-threaded-diff-notes-proposal\n\n#### Expected Result\n\u003cimg alt=\"Update_README_md___1____Merge_requests___Administrator___smallrepo___GitLab\" src=\"/uploads/b5f00537c7078805e8bc4a79bcb7ed0d/Update_README_md___1____Merge_requests___Administrator___smallrepo___GitLab.png\" width=\"800\"/\u003e\n\n##### Related Documentation\n- Update the **User** documentation https://docs.gitlab.com/ee/user/project/import/github.html\n- Update the **Developer** documentation https://docs.gitlab.com/ee/development/github_importer.html","state":"closed","created_at":"2021-07-21T13:41:22.996Z","updated_at":"2022-11-23T08:20:45.499Z","closed_at":"2021-11-10T13:14:02.561Z","closed_by":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"labels":["Category:Importers","Importer:GitHub","Next Up","Observability","backend","customer","customer success","devops::manage","feature::addition","group::import","milestone::p2","section::dev","type::feature","workflow::in review"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"}],"author":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"type":"ISSUE","assignee":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"user_notes_count":4,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336596","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336596","notes":"https://gitlab.com/api/v4/projects/278964/issues/336596/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336596/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336596","relative":"#336596","full":"gitlab-org/gitlab#336596"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6618,"epic":{"id":332691,"iid":6618,"title":"Manage:Import Customer Escalations","url":"/groups/gitlab-org/-/epics/6618","group_id":9970,"human_readable_end_date":"Dec 16, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90612239,"iid":336591,"project_id":278964,"title":"Maintainers should not be able to set the project compliance framework label","description":"## Problem to solve\n\nCurrently a group maintainer can set the project compliance framework.\n\nAs outlined in https://gitlab.com/gitlab-org/gitlab/-/issues/276221, only `Group Owners` should be able to change this setting and maintainer should only be able to view it.\n\n## Proposed solution\n\nUpdate our policies so that group maintainers can only view the project compliance framework label.","state":"closed","created_at":"2021-07-21T11:45:38.381Z","updated_at":"2021-08-18T12:39:03.108Z","closed_at":"2021-07-28T11:54:05.735Z","closed_by":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"labels":["backend","devops::manage","frontend","group::compliance","priority::2","section::dev","severity::2","type::bug","workflow::verification"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"}],"author":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"type":"ISSUE","assignee":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336591","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336591","notes":"https://gitlab.com/api/v4/projects/278964/issues/336591/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336591/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336591","relative":"#336591","full":"gitlab-org/gitlab#336591"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3156,"epic":{"id":45158,"iid":3156,"title":"Allow group owners to define compliance pipeline configurations at the group level","url":"/groups/gitlab-org/-/epics/3156","group_id":9970,"human_readable_end_date":"Aug 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90609588,"iid":336590,"project_id":278964,"title":"Fix Secure feature API fetching group projects with security reports","description":"Discovered in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/62092 we found [ee/app/finders/ee/group_projects_finder.rb](ee/app/finders/ee/group_projects_finder.rb) joins between CI and non-CI tables when the `with_security_reports` is called. It looks like this finder uses the `:with_security_reports` scope.\n\nIt seems we have a [group project API where we can filter a group's projects by whether it has `with_security_reports`](), or not.\n\nThe query that is failing in question:\n\n```sql\nSELECT \"projects\".* FROM ((SELECT \"projects\".* FROM \"projects\" WHERE \"projects\".\"namespace_id\" = 8 AND (EXISTS (SELECT 1 FROM \"project_authorizations\" WHERE \"project_authorizations\".\"user_id\" = 3 AND (project_authorizations.project_id = projects.id)) OR projects.visibility_level IN (10,20)))\nUNION\n(SELECT \"projects\".* FROM \"projects\" INNER JOIN \"project_group_links\" ON \"projects\".\"id\" = \"project_group_links\".\"project_id\" WHERE \"project_group_links\".\"group_id\" = 8 AND (EXISTS (SELECT 1 FROM \"project_authorizations\" WHERE \"project_authorizations\".\"user_id\" = 3 AND (project_authorizations.project_id = projects.id)) OR projects.visibility_level IN (10,20)))) projects WHERE \"projects\".\"pending_delete\" = FALSE AND (EXISTS (SELECT 1 FROM \"ci_job_artifacts\" WHERE \"ci_job_artifacts\".\"file_type\" IN (5, 6, 7, 8, 21, 23, 26, 27) AND (ci_job_artifacts.project_id = projects.id))) ORDER BY \"projects\".\"id\" DESC\n```\n\n## Failing spec\n\nhttps://gitlab.com/gitlab-org/gitlab/-/jobs/1440069680\n\n## Options\n\n1. Introduce a new table to store whether or not a project has security reports (de-normalization) and UPSERT into this table whenever we create security reports. Could be called `projects_with_security_reports` and only needs to contain the `project_id` for this use case.\n2. Change this sub-select to 3 separate queries. Firstly load all the relevant projects (this should be bounded by the fact that it's a group API filter) and then do another query to find the list of those that have `ci_job_artifacts` with `file_type IN` then use the filtered list of project ids to find the final list of projects. This is probably not a good option for very large groups with thousands of projects because our usage in https://gitlab.com/gitlab-org/gitlab/-/blob/d6f264fc4a623ce7892186e64cbc3c1a2507a993/ee/app/assets/javascripts/security_dashboard/store/modules/projects/actions.js is including subgroups and not filtering much. Since the ordering and pagination is on the projects it would not be possible to order and limit the first candidate set of project ids much so it would mean sending thousands of project ids in the intermediate query when ultimately we're only going to want 100. This would look something like:\n   ```rb\n   scope :with_security_reports, -\u003e do\n     project_id_currently_filtered = self.pluck(:id)\n     filtered_project_ids_with_security_reports = ::Ci::JobArtifact.security_reports.where(project_id: project_id_currently_filtered).distinct.pluck(:project_id)\n   \n     where(id: filtered_project_ids_with_security_reports)\n   end\n   ```\n3. Is there some other table that already stores some metadata about security reports that isn't in the `ci_*` tables that we could join to? (eg. `security_scans` or `security_findings` noting that `security_scans` is going to be de-normalized to have a `project_id` column soon to avoid joining `ci_builds`)\n\n## Sharding team recommended option\n\nIntroduce a new table to store whether or not a project has security reports (de-normalization) and UPSERT into this table whenever we create security reports. Could be called `projects_with_security_reports` and only needs to contain the `project_id` for this use case.\n\nFurthermore this looks a lot like https://gitlab.com/gitlab-org/gitlab/-/issues/336199 so we may want to fix both in 1 go with a combined table to solve both problems called `projects_with_ci_feature_usage` with 2 columns `project_id, ci_feature` and then we can just store `\"code_coverage\"` and `\"security_report\"` in the `ci_feature` column when this is first used for the project.\n\n## Implementation plan\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for previous implementation plan\u003c/summary\u003e\n\n1. [ ] Upsert a new record into the `project_ci_feature_usages` table when a `security_report` artifact is created\n   - [ ] [Persist ci_feature_usage when saving artifacts](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/69090)\n1. [ ] Backfill `project_ci_feature_usages` table with existing project data\n   - [ ] https://gitlab.com/gitlab-org/gitlab/-/merge_requests/69368\n1. [ ] Update [EE::Project.with_security_reports](https://gitlab.com/gitlab-org/gitlab/blob/8c608c8131e/ee/app/models/ee/project.rb#L139-139) to use `project_ci_feature_usages` table\n\n\u003c/details\u003e\n\nRemove `with_security_reports` scope which relies on the `ci_job_artifacts` table, and add `with_security_scans` scope which uses the `security_scans` table, removing the cross-table join: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/70031\n\n\n/cc @DylanGriffith","state":"closed","created_at":"2021-07-21T10:55:17.722Z","updated_at":"2021-10-28T13:55:00.402Z","closed_at":"2021-09-18T04:12:15.645Z","closed_by":{"id":480804,"username":"thiagocsf","name":"Thiago FigueirÃ³","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480804/avatar.png","web_url":"https://gitlab.com/thiagocsf"},"labels":["Category:Pods","Deliverable","backend","ci-decomposition","devops::secure","docs-site::ready-for-development","group::composition analysis","priority::1","section::sec","severity::2","type::maintenance","workflow::verification"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"}],"author":{"id":2535118,"username":"tkuah","name":"Thong Kuah","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f7b51bdd49a4914d29504d7ff4c3f7b9?s=80\u0026d=identicon","web_url":"https://gitlab.com/tkuah"},"type":"ISSUE","assignee":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"user_notes_count":15,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336590","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":5,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 5 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336590","notes":"https://gitlab.com/api/v4/projects/278964/issues/336590/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336590/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336590","relative":"#336590","full":"gitlab-org/gitlab#336590"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6373,"epic":{"id":309455,"iid":6373,"title":"Decomposition: Make Secure features compatible with Decomposed CI database","url":"/groups/gitlab-org/-/epics/6373","group_id":9970,"human_readable_end_date":"Aug 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"at_risk"},{"id":90598810,"iid":336583,"project_id":278964,"title":"100% for the percentage based rollout of the Cleanup policy for tags","description":"\u003c!-- This template is a great use for issues that are feature::additions or technical tasks for larger issues.--\u003e\n\n### Proposal \n\n[Cleanup policies](https://docs.gitlab.com/ee/user/packages/container_registry/#cleanup-policy) are being rollout progressively to all projects (including those before 12.8).\n\nRollout issue: https://gitlab.com/gitlab-org/gitlab/-/issues/262639\n\nThis issue is for reaching `100%` (starting from `70%`) with the following rollout:\n* `80%`\n* `90%`\n* `100%` :checkered_flag:","state":"closed","created_at":"2021-07-21T08:18:11.406Z","updated_at":"2022-01-17T22:32:28.415Z","closed_at":"2021-12-01T12:38:59.844Z","closed_by":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"labels":["Category:Container Registry","Deliverable","Package:P1","auto updated","devops::package","feature flag","group::package registry","package:active","reliability","ruby","section::ops","type::feature","workflow::production"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"}],"author":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"type":"ISSUE","assignee":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336583","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336583","notes":"https://gitlab.com/api/v4/projects/278964/issues/336583/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336583/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336583","relative":"#336583","full":"gitlab-org/gitlab#336583"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6405,"epic":{"id":312760,"iid":6405,"title":"Percentage based rollout of the Cleanup policy for tags","url":"/groups/gitlab-org/-/epics/6405","group_id":9970,"human_readable_end_date":"Mar 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90598741,"iid":336582,"project_id":278964,"title":"70% for the percentage based rollout of the Cleanup policy for tags","description":"\u003c!-- This template is a great use for issues that are feature::additions or technical tasks for larger issues.--\u003e\n\n### Proposal \n\n[Cleanup policies](https://docs.gitlab.com/ee/user/packages/container_registry/#cleanup-policy) are being rollout progressively to all projects (including those before 12.8).\n\nRollout issue: https://gitlab.com/gitlab-org/gitlab/-/issues/262639\n\nThis issue is for reaching `70%` (starting from `35%`) with the following rollout:\n* `50%`\n* `60%`\n* `70%`","state":"closed","created_at":"2021-07-21T08:16:28.632Z","updated_at":"2021-11-05T17:07:29.355Z","closed_at":"2021-11-05T17:07:29.324Z","closed_by":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"labels":["Category:Container Registry","Package:P1","auto updated","devops::package","feature flag","group::package registry","package:active","reliability","section::ops","type::feature","workflow::production"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"}],"author":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"type":"ISSUE","assignee":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336582","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336582","notes":"https://gitlab.com/api/v4/projects/278964/issues/336582/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336582/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336582","relative":"#336582","full":"gitlab-org/gitlab#336582"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6405,"epic":{"id":312760,"iid":6405,"title":"Percentage based rollout of the Cleanup policy for tags","url":"/groups/gitlab-org/-/epics/6405","group_id":9970,"human_readable_end_date":"Mar 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90598679,"iid":336581,"project_id":278964,"title":"35% for the percentage based rollout of the Cleanup policy for tags","description":"\u003c!-- This template is a great use for issues that are feature::additions or technical tasks for larger issues.--\u003e\n\n### Proposal \n\n[Cleanup policies](https://docs.gitlab.com/ee/user/packages/container_registry/#cleanup-policy) are being rollout progressively to all projects (including those before 12.8).\n\nRollout issue: https://gitlab.com/gitlab-org/gitlab/-/issues/262639\n\nThis issue is for reaching `35%` (starting from `20%`) with the following rollout:\n* `25%`\n* `30%`\n* `35%`","state":"closed","created_at":"2021-07-21T08:15:02.117Z","updated_at":"2021-11-18T07:02:13.994Z","closed_at":"2021-10-26T14:04:42.588Z","closed_by":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"labels":["Category:Container Registry","Deliverable","Package:P1","auto updated","backend","devops::package","feature flag","group::package registry","package:active","reliability","ruby","section::ops","type::feature","workflow::production"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"}],"author":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"type":"ISSUE","assignee":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336581","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336581","notes":"https://gitlab.com/api/v4/projects/278964/issues/336581/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336581/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336581","relative":"#336581","full":"gitlab-org/gitlab#336581"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6405,"epic":{"id":312760,"iid":6405,"title":"Percentage based rollout of the Cleanup policy for tags","url":"/groups/gitlab-org/-/epics/6405","group_id":9970,"human_readable_end_date":"Mar 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90598462,"iid":336580,"project_id":278964,"title":"20% for the percentage based rollout of the Cleanup policy for tags","description":"\u003c!-- This template is a great use for issues that are feature::additions or technical tasks for larger issues.--\u003e\n\n### Proposal \n\n[Cleanup policies](https://docs.gitlab.com/ee/user/packages/container_registry/#cleanup-policy) are being rollout progressively to all projects (including those before 12.8).\n\nRollout issue: https://gitlab.com/gitlab-org/gitlab/-/issues/262639\n\nThis issue is for reaching `20%` (starting from `5%`) with the following rollout:\n* `10%`\n* `15%`\n* `20%`","state":"closed","created_at":"2021-07-21T08:11:53.263Z","updated_at":"2021-08-13T07:28:44.111Z","closed_at":"2021-08-13T07:28:44.086Z","closed_by":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"labels":["Category:Container Registry","auto updated","devops::package","feature flag","group::package registry","package:active","reliability","section::ops","type::feature","workflow::production"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"}],"author":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"type":"ISSUE","assignee":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336580","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336580","notes":"https://gitlab.com/api/v4/projects/278964/issues/336580/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336580/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336580","relative":"#336580","full":"gitlab-org/gitlab#336580"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6405,"epic":{"id":312760,"iid":6405,"title":"Percentage based rollout of the Cleanup policy for tags","url":"/groups/gitlab-org/-/epics/6405","group_id":9970,"human_readable_end_date":"Mar 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90590387,"iid":336566,"project_id":278964,"title":"Immediately hard-fail if database names are unknown","description":"The application should hard fail if the `config/database.yml` contains any unknown database names. In other words, it needs to be a known name:\n\n- `main` - Already introduced by https://gitlab.com/gitlab-org/omnibus-gitlab/-/merge_requests/5510 and https://gitlab.com/gitlab-org/charts/gitlab/-/merge_requests/2105\n- `ci` -  Will be possible as part of https://gitlab.com/groups/gitlab-org/-/epics/6271\n- `geo` - Will be possible as part of https://gitlab.com/groups/gitlab-org/-/epics/6458\n- `primary` or nil. If the `config/database.yml` uses the 2 tier config, then it has a nil name, so that's OK, and should be allowed to proceed","state":"closed","created_at":"2021-07-21T04:28:00.842Z","updated_at":"2022-05-31T12:22:15.660Z","closed_at":"2021-09-08T08:46:03.992Z","closed_by":{"id":3944199,"username":"fzimmer","name":"Fabian Zimmer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3944199/avatar.png","web_url":"https://gitlab.com/fzimmer"},"labels":["Category:Pods","devops::data_stores","group::pods","section::enablement","type::feature"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":12452,"username":"ayufan","name":"Kamil TrzciÅ„ski","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a285e30f35d72526fb0954e8fe7cefa?s=80\u0026d=identicon","web_url":"https://gitlab.com/ayufan"}],"author":{"id":2535118,"username":"tkuah","name":"Thong Kuah","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f7b51bdd49a4914d29504d7ff4c3f7b9?s=80\u0026d=identicon","web_url":"https://gitlab.com/tkuah"},"type":"ISSUE","assignee":{"id":12452,"username":"ayufan","name":"Kamil TrzciÅ„ski","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a285e30f35d72526fb0954e8fe7cefa?s=80\u0026d=identicon","web_url":"https://gitlab.com/ayufan"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336566","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336566","notes":"https://gitlab.com/api/v4/projects/278964/issues/336566/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336566/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336566","relative":"#336566","full":"gitlab-org/gitlab#336566"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6103,"epic":{"id":281355,"iid":6103,"title":"Decomposition: Support for many databases","url":"/groups/gitlab-org/-/epics/6103","group_id":9970,"human_readable_end_date":"Sep 16, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90587697,"iid":336556,"project_id":278964,"title":"Migrate existing gemnasium-python integration tests to image integration tests","description":"### Problem to solve \n\nThe purpose of this issue is to migrate the [existing gemnasium-python integration tests](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-python/blob/84c954b/.gitlab-ci.yml#L127-225) to [image integration tests](https://gitlab.com/gitlab-org/security-products/analyzers/integration-test/) using rspec.\n\n### Proposal \n\n1. Add a new spec file to the [gemnasium-python spec directory](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-python/-/tree/master/spec)\n1. Add tests to this file for each of the different `gemnasium-python` integration tests:\n   1. [ ] [python-pipenv-qa](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-python/blob/84c954b/.gitlab-ci.yml#L127-133)\n   1. [ ] [python-pipenv-offline-qa](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-python/blob/84c954b/.gitlab-ci.yml#L135-142)\n   1. [ ] [python-pipenv-use-system-python-qa](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-python/blob/84c954b/.gitlab-ci.yml#L144-151)\n   1. [ ] [python-pipfile-lock-qa](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-python/blob/84c954b/.gitlab-ci.yml#L153-160)\n   1. [ ] [python-pip-qa](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-python/blob/84c954b/.gitlab-ci.yml#L162-168)\n   1. [ ] [python-pip-requirements-file-var-qa](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-python/blob/84c954b/.gitlab-ci.yml#L170-177)\n   1. [ ] [ds-excluded-paths-qa](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-python/blob/84c954b/.gitlab-ci.yml#L181-188)\n   1. [ ] [python-3.9-pipenv-qa](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-python/blob/84c954b/.gitlab-ci.yml#L198-200)\n   1. [ ] [python-3.9-pipenv-offline-qa](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-python/blob/84c954b/.gitlab-ci.yml#L202-204)\n   1. [ ] [python-3.9-pipenv-use-system-python-qa](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-python/blob/84c954b/.gitlab-ci.yml#L206-208)\n   1. [ ] [python-3.9-pipfile-lock-qa](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-python/blob/84c954b/.gitlab-ci.yml#L210-212)\n   1. [ ] [python-3.9-pip-qa](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-python/blob/84c954b/.gitlab-ci.yml#L214-216)\n   1. [ ] [python-3.9-pip-requirements-file-var-qa](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-python/blob/84c954b/.gitlab-ci.yml#L218-220)\n   1. [ ] [python-3.9-ds-excluded-paths-qa](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-python/blob/84c954b/.gitlab-ci.yml#L222-224)\n\n\n### Further details\n\nSee [here](https://gitlab.com/gitlab-org/gitlab/-/issues/333999#note_625651857) for more details\n\n### What does success look like, and how can we measure that?\n\nAll `gemnasium-python` integration tests are moved to image integration tests\n\n/cc @NicoleSchwartz @gonzoyumo @fcatteau","state":"closed","created_at":"2021-07-21T02:27:08.817Z","updated_at":"2021-11-16T18:49:07.378Z","closed_at":"2021-11-15T19:23:46.944Z","closed_by":{"id":52092,"username":"gonzoyumo","name":"Olivier Gonzalez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/651e0ff81c3995a05269f7c80895fe89?s=80\u0026d=identicon","web_url":"https://gitlab.com/gonzoyumo"},"labels":["Category:Dependency Scanning","Enterprise Edition","GitLab Ultimate","backend","devops::secure","group::composition analysis","section::sec","test","type::maintenance","won't do","wontfix","workflow::scheduling"],"milestone":null,"assignees":[{"id":1958785,"username":"fcatteau","name":"Fabien Catteau","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1958785/avatar.png","web_url":"https://gitlab.com/fcatteau"}],"author":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"type":"ISSUE","assignee":{"id":1958785,"username":"fcatteau","name":"Fabien Catteau","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1958785/avatar.png","web_url":"https://gitlab.com/fcatteau"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336556","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":14,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 14 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336556","notes":"https://gitlab.com/api/v4/projects/278964/issues/336556/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336556/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":"https://gitlab.com/api/v4/projects/278964/issues/344066"},"references":{"short":"#336556","relative":"#336556","full":"gitlab-org/gitlab#336556"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":90586681,"iid":336555,"project_id":278964,"title":"Fix spec/requests/api/ci/runner/jobs_request_post_spec.rb","description":"In the [PoC MR](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/62092), there is this persistent failure. It is unknown what is the cause of this failure. \n\n```\nFailures:\n  1) API::Ci::Runner /api/v4/jobs POST /api/v4/jobs/request when valid token is provided setting the application context when the runner is of group type behaves like storing arguments in the application context places the expected params in the application context\n     Failure/Error: expect(Gitlab::ApplicationContext.current).to include(log_hash(expected_params))\n       expected {\"correlation_id\" =\u003e \"6b5ffda3-7b89-4d09-af6f-e2575f027bd2\", \"meta.caller_id\" =\u003e \"POST /api/:version/jobs...\"meta.feature_category\" =\u003e \"runner\", \"meta.remote_ip\" =\u003e \"127.0.0.1\", \"meta.root_namespace\" =\u003e \"group421\"} to include {\"meta.client_id\" =\u003e \"runner/74\"}\n       Diff:\n       @@ -1,5 +1,9 @@\n       -\"meta.client_id\" =\u003e \"runner/74\",\n       +\"correlation_id\" =\u003e \"6b5ffda3-7b89-4d09-af6f-e2575f027bd2\",\n       +\"meta.caller_id\" =\u003e \"POST /api/:version/jobs/request\",\n       +\"meta.client_id\" =\u003e \"ip/\",\n       +\"meta.feature_category\" =\u003e \"runner\",\n       +\"meta.remote_ip\" =\u003e \"127.0.0.1\",\n        \"meta.root_namespace\" =\u003e \"group421\",\n     Shared Example Group: \"storing arguments in the application context\" called from ./spec/requests/api/ci/runner/jobs_request_post_spec.rb:868\n     # ./spec/support/shared_examples/requests/api/logging_application_context_shared_examples.rb:10:in `block (2 levels) in \u003ctop (required)\u003e'\n     # ./spec/spec_helper.rb:394:in `block (3 levels) in \u003ctop (required)\u003e'\n     # ./spec/support/sidekiq_middleware.rb:9:in `with_sidekiq_server_middleware'\n     # ./spec/spec_helper.rb:385:in `block (2 levels) in \u003ctop (required)\u003e'\n     # ./spec/spec_helper.rb:381:in `block (3 levels) in \u003ctop (required)\u003e'\n     # ./lib/gitlab/application_context.rb:31:in `with_raw_context'\n     # ./spec/spec_helper.rb:381:in `block (2 levels) in \u003ctop (required)\u003e'\n     # ./spec/support/redis.rb:21:in `block (2 levels) in \u003ctop (required)\u003e'\nFinished in 18 minutes 17 seconds (files took 1 minute 7.11 seconds to load)\n2681 examples, 1 failure, 6 pending\nFailed examples:\nrspec ./spec/requests/api/ci/runner/jobs_request_post_spec.rb:868 # API::Ci::Runner /api/v4/jobs POST /api/v4/jobs/request when valid token is provided setting the application context when the runner is of group type behaves like storing arguments in the application context places the expected params in the application context\n```\n\nhttps://gitlab.com/gitlab-org/gitlab/-/jobs/1437621152","state":"closed","created_at":"2021-07-21T01:36:36.244Z","updated_at":"2021-10-28T13:55:01.571Z","closed_at":"2021-08-25T21:27:15.800Z","closed_by":{"id":113370,"username":"akohlbecker","name":"Adrien Kohlbecker","state":"active","avatar_url":"https://secure.gravatar.com/avatar/2ddf351c22a32261a7b30e4d5ae3ab01?s=80\u0026d=identicon","web_url":"https://gitlab.com/akohlbecker"},"labels":["Category:Continuous Integration","Category:Pods","Engineering Allocation","FY22::Q3","Ops candidate","SaaS","Verify candidate","Verify::P2","[Deprecated] Category:Runner","backend","ci-decomposition","devops::verify","group::runner","needs weight","reliability","section::ops","type::maintenance","workflow::ready for development"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":113370,"username":"akohlbecker","name":"Adrien Kohlbecker","state":"active","avatar_url":"https://secure.gravatar.com/avatar/2ddf351c22a32261a7b30e4d5ae3ab01?s=80\u0026d=identicon","web_url":"https://gitlab.com/akohlbecker"}],"author":{"id":2535118,"username":"tkuah","name":"Thong Kuah","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f7b51bdd49a4914d29504d7ff4c3f7b9?s=80\u0026d=identicon","web_url":"https://gitlab.com/tkuah"},"type":"ISSUE","assignee":{"id":113370,"username":"akohlbecker","name":"Adrien Kohlbecker","state":"active","avatar_url":"https://secure.gravatar.com/avatar/2ddf351c22a32261a7b30e4d5ae3ab01?s=80\u0026d=identicon","web_url":"https://gitlab.com/akohlbecker"},"user_notes_count":20,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336555","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336555","notes":"https://gitlab.com/api/v4/projects/278964/issues/336555/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336555/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336555","relative":"#336555","full":"gitlab-org/gitlab#336555"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6588,"epic":{"id":328775,"iid":6588,"title":"Engineering Allocation: Improve SaaS Reliability in the Verify stage","url":"/groups/gitlab-org/-/epics/6588","group_id":9970,"human_readable_end_date":"Apr 8, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90576045,"iid":336531,"project_id":278964,"title":"Group members with developer role can escalate their privilege to maintainer on projects that they import","description":"**[HackerOne report #1256017](https://hackerone.com/reports/1256017)** by `justas_b` on 2021-07-09, assigned to @dcouture:\n\n[Report](#report) | [Attachments](#attachments) | [How To Reproduce](#how-to-reproduce)\n\n## Report\n\n\u003e NOTE! Thanks for submitting a report! Please replace *all* the (parenthesized) sections below with the pertinent details. Remember, the more detail you provide, the easier it is for us to triage and respond quickly, so be sure to take your time filling out the report!\n\n#####  Summary\n\nBy modifying the **access_level** field in **project_members.ndjson** file, developers can import new projects where they have a maintainer role.\n\n#####  Steps to reproduce\n\n(Step-by-step guide to reproduce the issue, including:)\n\n1. Create 2 accounts  \n2. Create a group with account A  \n3. Invite account B to the group as with a max role of developer\n\n![bandicam_2021-07-09_17-35-44-867.jpg](https://h1.sec.gitlab.net/a/1ab92fc5-797d-4241-898d-6da1f585eb50/bandicam_2021-07-09_17-35-44-867.jpg)\n\n4. With account B, export any project you own  \n5. Modify the **access_level** field in **project_members.ndjson** file in that project. Change it to 40 (maintainer)\n\n![bandicam_2021-07-09_16-22-55-049.jpg](https://h1.sec.gitlab.net/a/8ba92a73-d92d-47bd-a676-7a110cd20bbd/bandicam_2021-07-09_16-22-55-049.jpg)\n\n6. Import that project to the group where you have only developer access  \n7. You should have maintainer access in that imported project\n\n![bandicam_2021-07-09_17-35-11-737.jpg](https://h1.sec.gitlab.net/a/0473337d-4824-483c-8712-2a64cc1b7a82/bandicam_2021-07-09_17-35-11-737.jpg)\n\n![bandicam_2021-07-09_17-35-32-850.jpg](https://h1.sec.gitlab.net/a/991c1af9-0370-4c71-8755-dfc800454f89/bandicam_2021-07-09_17-35-32-850.jpg)\n\nOne of the attack scenarios would be to import a project as a maintainer, add a deploy token or key and then demote yourself to a developer role or leave the project entirely. Combined with #686359, a user doesn't even have to be a member of that group to be able to download the project.\n\n#####  Examples\n\n(If the bug is project related, please create an example project and export it using the project export feature)\n\n(If you are using an older version of GitLab, this will also help determine whether the bug has been fixed in a more recent version)\n\n(If the bug can be reproduced on GitLab.com without violating the `Rules of Engagement` as outlined in the program policy, please provide the full path to the project.)\n\n#####  What is the current *bug* behavior?\n\nDevelopers can have a maintainer role in the projects that they import.\n\n#####  What is the expected *correct* behavior?\n\nDevelopers should have a max role of a developer in the projects that they import.\n\n#####  Relevant logs and/or screenshots\n\n(Paste any relevant logs - please use code blocks (```) to format console output,  \nlogs, and code as it's very hard to read otherwise.)\n\n#####  Output of checks\n\nThis bug happens on GitLab.com\n\n######  Results of GitLab environment info\n\n(For installations with omnibus-gitlab package run and paste the output of:  \n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:  \n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n####  Impact\n\nDevelopers can have a maintainer role in the projects that they import.\n\n## Attachments\n\n**Warning:** Attachments received through HackerOne, please exercise caution!\n\n* [bandicam_2021-07-09_17-35-44-867.jpg](https://h1.sec.gitlab.net/a/1ab92fc5-797d-4241-898d-6da1f585eb50/bandicam_2021-07-09_17-35-44-867.jpg)\n* [bandicam_2021-07-09_17-35-11-737.jpg](https://h1.sec.gitlab.net/a/0473337d-4824-483c-8712-2a64cc1b7a82/bandicam_2021-07-09_17-35-11-737.jpg)\n* [bandicam_2021-07-09_16-22-55-049.jpg](https://h1.sec.gitlab.net/a/8ba92a73-d92d-47bd-a676-7a110cd20bbd/bandicam_2021-07-09_16-22-55-049.jpg)\n* [bandicam_2021-07-09_17-35-32-850.jpg](https://h1.sec.gitlab.net/a/991c1af9-0370-4c71-8755-dfc800454f89/bandicam_2021-07-09_17-35-32-850.jpg)\n\n## How To Reproduce\n\nPlease add [reproducibility information] to this section:\n\n1.\n1.\n1.\n\n[reproducibility information]: https://about.gitlab.com/handbook/engineering/security/#reproducibility-on-security-issues","state":"closed","created_at":"2021-07-20T18:41:03.806Z","updated_at":"2022-03-06T21:52:51.099Z","closed_at":"2021-12-07T05:31:40.934Z","closed_by":{"id":9043659,"username":"rshambhuni","name":"Rohit Shambhuni","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9043659/avatar.png","web_url":"https://gitlab.com/rshambhuni"},"labels":["Category:Importers","Engineering Allocation","FY22::Q3","HackerOne","Importer:Project Export/Import","Next Up","Weakness::CWE-287","backend","devops::manage","estimation::completed","group::import","milestone::p2","priority::2","section::dev","security","security-backlog::review-complete","severity::2","workflow::awaiting security release"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":4668304,"username":"ifrenkel","name":"Igor Frenkel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a73e8113c53ac25297ce751e59bbb1d3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifrenkel"}],"author":{"id":2741139,"username":"gitlab-securitybot","name":"GitLab SecurityBot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2741139/avatar.png","web_url":"https://gitlab.com/gitlab-securitybot"},"type":"ISSUE","assignee":{"id":4668304,"username":"ifrenkel","name":"Igor Frenkel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a73e8113c53ac25297ce751e59bbb1d3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifrenkel"},"user_notes_count":36,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2021-10-18","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336531","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336531","notes":"https://gitlab.com/api/v4/projects/278964/issues/336531/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336531/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336531","relative":"#336531","full":"gitlab-org/gitlab#336531"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6619,"epic":{"id":332692,"iid":6619,"title":"Manage:Import Security","url":"/groups/gitlab-org/-/epics/6619","group_id":9970,"human_readable_end_date":"Dec 16, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90565574,"iid":336520,"project_id":278964,"title":"[Feature flag] Rollout of `ff_group_membership_export`","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout [the feature](https://gitlab.com/gitlab-org/gitlab/-/issues/287940) on production,\nthat is currently behind the `ff_group_membership_export` feature flag.\n\nThis feature allows group owners to export membership lists as a CSV via an asynchronous job that sends an email to the reqesting user containing the CSV.\n\n## Owners\n\n- Team: ~\"group::compliance\" \n- Most appropriate slack channel to reach out to: `#g_manage_compliance`\n- Best individual to reach out to: @mwoolf\n- PM: @stkerr \n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## The Rollout Plan\n\n- Partial Rollout on GitLab.com with testing groups.\n- Rollout gradually on gitlab.com.\n- Set a default-on for 14.2, but leave flag in place.\n- Remove flag in 14.3.\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? Sentry errors reports can also be useful to review --\u003e\n\n## Testing Groups/Projects/Users\n\n\u003c!-- If applicable, any groups/projects that are happy to have this feature turned on early. Some organizations may wish to test big changes they are interested in with a small subset of users ahead of time for example. --\u003e\n\n- `gitlab-org`/`gitlab-com` groups\n\n## Expectations\n\n### What are we expecting to happen?\n\n- Group owners should see the new `Export as CSV` button on the membership page.\n- They should be able to use that new feature.\n\n### What might happen if this goes wrong?\n\n- Disable the feature flag globally.\n- Inform @mwoolf or @djensen in #g_manage_compliance.\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- [x] Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Enable the feature globally on non-production environments.\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e true --dev`\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e true --staging`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Preparation before production rollout\n\n- [x] Ensure that the feature MRs have been deployed to both production and canary.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [x] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [x] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [ ] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com.\n- [x] If the feature might impact the user experience, notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n- [ ] If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), enable it on GitLab.com for [testing groups/projects](#testing-groupsprojectsusers).\n    - [ ] `/chatops run feature set --\u003cactor-type\u003e=\u003cactor\u003e \u003cfeature-flag-name\u003e true`\n- [ ] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Global rollout on production\n\n- [ ] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e`\n  - Enable the feature globally on production environment.\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e true`\n- [ ] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [ ] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [ ] Create a merge request with the following changes. Ask for review and merge it.\n    - [ ] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the default-enabling MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-default-enabling-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [ ] (Optional) You can create a separate issue for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [ ] Set the title to \"[Feature flag] Cleanup `\u003cfeature-flag-name\u003e`\".\n    - [ ] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [ ] Link this rollout issue as a related issue.\n    - [ ] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [ ] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag. Ask for review and merge it.\n    - [ ] Remove all references to the feature flag from the codebase.\n    - [ ] Remove the YAML definitions for the feature from the repository.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the cleanup MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-cleanup-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --dev`\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --staging`\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e`\n- [ ] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set \u003cfeature-flag-name\u003e false\n```","state":"closed","created_at":"2021-07-20T14:36:23.384Z","updated_at":"2021-10-21T08:24:09.580Z","closed_at":"2021-10-21T08:24:09.553Z","closed_by":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"labels":["backend","devops::manage","feature flag","group::compliance","ideal for new hires","priority::3","section::dev","workflow::verification"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"}],"author":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"type":"ISSUE","assignee":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336520","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":47,"completed_count":12},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"12 of 47 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336520","notes":"https://gitlab.com/api/v4/projects/278964/issues/336520/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336520/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336520","relative":"#336520","full":"gitlab-org/gitlab#336520"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":90563077,"iid":336516,"project_id":278964,"title":"(4) Pseudonymize Snowplow events sent from frontend layer","description":"## Summary\n\nWith GitLab Standard Context being pseudonymized Snowplow events can start record user level behaviors without connecting them to natural person interacting with the system. \n\n## Goal\n\nMake sure that frontend triggered events uses GitLab Standard Context with pseudonymized data","state":"closed","created_at":"2021-07-20T13:56:54.418Z","updated_at":"2021-10-08T18:30:21.886Z","closed_at":"2021-09-13T12:53:26.572Z","closed_by":{"id":3509693,"username":"nicolasdular","name":"Nicolas Dular","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c4a21f15150c12ddf13fd848597cddd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/nicolasdular"},"labels":["auto updated","backend","devops::growth","group::product intelligence","missed:14.2","section::growth","workflow::blocked"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":4807002,"username":"mikolaj_wawrzyniak","name":"MikoÅ‚aj Wawrzyniak","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4807002/avatar.png","web_url":"https://gitlab.com/mikolaj_wawrzyniak"},"type":"ISSUE","assignee":null,"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336516","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336516","notes":"https://gitlab.com/api/v4/projects/278964/issues/336516/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336516/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336516","relative":"#336516","full":"gitlab-org/gitlab#336516"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6309,"epic":{"id":303192,"iid":6309,"title":"Pseudonymization MVC","url":"/groups/gitlab-org/-/epics/6309","group_id":9970,"human_readable_end_date":"Dec 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90563029,"iid":336515,"project_id":278964,"title":"(2) Pseudonymize GitLab Standard Context for Snowplow","description":"## Goal\n\nIn order to understand single user behavior patterns, but not connect it to any natural person using GitLab we need to pseudonymize user_id before it can be recorded anywhere.\n\n## What should be pseuydonymized \n\n_Reference issue: https://gitlab.com/gitlab-org/gitlab/-/issues/336779_\n\n| field        | need pseudonymization | reasoning | who made decision|\n|--------------|-----------------------|-----------|------------------| \n| user_id      |      Yes                 |    This is an indirect indentifier which can be used to reveal directly identifiable data. With `user_id` anyone can access `name` and `username` of both public and private profiles.       |    @amandarueda               |\n\n\n## Technical implementation\n\n**Let's use actors based feature flag to have control over feature rollout**\n\nFollowing pesudocode demonstrates simplified encryption process:\n\n```ruby\nkey_size_bits = 2048\npkey = OpenSSL::PKey::RSA.new(key_size_bits)\npayload = 123.to_s\n\npadding_size = key_size_bits / 8 - payload.bytesize\n\nif padding_size \u003e= 0\n  padding = \"#{'a' * padding_size}\"\n  pkey.public_encrypt(\"#{padding}#{payload}\", OpenSSL::PKey::RSA::NO_PADDING)\nelse\n  raise StandardError, \"payload was to long for encryption with give key\"\nend\n```\n\nThings to that should be decided:\n1. Size of used key, it dictates how long payload can be encrypted. Alternatively we can consider hashing data first, and then encrypting it. That way we should avoid problems with varying payload length\n1. Where and how keyfile should be stored and than made available for encryption service\n1. If using disc IO to get key would be sufficient performance wise, or if we should use some cache for key, or get back to collector layer concept\n\nWhy `NO_PADDING` was selected, by default padding of `OpenSSL::PKey::RSA::PKCS1_PADDING` is used if no one is provided by `#public_encrypt`, also `OpenSSL::PKey::RSA::PKCS1_OAEP_PADDING` is available, but because each of those paddings is based on random values, it does not maintain deterministic output for single input, which would not suffice in terms of analytics requirements. We need to come up with our own padding method, that would deliver deterministic results","state":"closed","created_at":"2021-07-20T13:56:32.980Z","updated_at":"2021-08-18T15:16:42.050Z","closed_at":"2021-08-18T07:37:58.067Z","closed_by":{"id":4807002,"username":"mikolaj_wawrzyniak","name":"MikoÅ‚aj Wawrzyniak","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4807002/avatar.png","web_url":"https://gitlab.com/mikolaj_wawrzyniak"},"labels":["backend","devops::growth","group::product intelligence","missed:14.2","section::growth","type::feature","workflow::blocked"],"milestone":null,"assignees":[],"author":{"id":4807002,"username":"mikolaj_wawrzyniak","name":"MikoÅ‚aj Wawrzyniak","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4807002/avatar.png","web_url":"https://gitlab.com/mikolaj_wawrzyniak"},"type":"ISSUE","assignee":null,"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336515","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336515","notes":"https://gitlab.com/api/v4/projects/278964/issues/336515/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336515/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336515","relative":"#336515","full":"gitlab-org/gitlab#336515"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6309,"epic":{"id":303192,"iid":6309,"title":"Pseudonymization MVC","url":"/groups/gitlab-org/-/epics/6309","group_id":9970,"human_readable_end_date":"Dec 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90558328,"iid":336507,"project_id":278964,"title":"Wikis at Subgroup level not accessible","description":"### Summary\n\nHi, everyone! \n\nRecently we have added some wikis at Subgroup level. And suddenly it was removed from menu and it's not more accessible by URL. We have critical informations there for our process. And now, where is all our wikis?\n\nPlease help.\n\n### Steps to reproduce\n\nAccess Subgroup and try to see Wikis at menu\n\n### What is the current *bug* behavior?\n\nWe can't access ou see our wikis at subgroup level.\n\n### What is the expected *correct* behavior?\n\nAccess our wikis\n\n### Relevant logs and/or screenshots\n\n![Screen_Shot_2021-07-20_at_09.30.57](/uploads/283d775752dd88ba144ad9ab88003870/Screen_Shot_2021-07-20_at_09.30.57.png)\n\n### Possible fixes\n\n- Send a backup of out wikis\n- Reenable wiki feature for Subgroup level.","state":"closed","created_at":"2021-07-20T12:32:51.246Z","updated_at":"2022-07-04T09:43:58.562Z","closed_at":"2022-07-04T09:43:58.544Z","closed_by":{"id":1646689,"username":"oregand","name":"David O'Regan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1646689/avatar.png","web_url":"https://gitlab.com/oregand"},"labels":["Category:Wiki","devops::create","group::editor","section::dev","type::bug"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":1646689,"username":"oregand","name":"David O'Regan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1646689/avatar.png","web_url":"https://gitlab.com/oregand"}],"author":{"id":8863904,"username":"henriquebelfort","name":"Henrique Belfort","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8863904/avatar.png","web_url":"https://gitlab.com/henriquebelfort"},"type":"ISSUE","assignee":{"id":1646689,"username":"oregand","name":"David O'Regan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1646689/avatar.png","web_url":"https://gitlab.com/oregand"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336507","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336507","notes":"https://gitlab.com/api/v4/projects/278964/issues/336507/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336507/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336507","relative":"#336507","full":"gitlab-org/gitlab#336507"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":90552962,"iid":336504,"project_id":278964,"title":"Security Configuration page never shows info alert about Auto DevOps, and Configuration history link is erroneously shown","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nThe Security Configuration page never prompts about Auto DevOps being available, even when it is. Also, the `Configution history` link is still displayed in these situations, even though it shouldn't be, since for Auto DevOps to be enabled, the project must _not_ have a `.gitlab-ci.yml` file.\n\nThat is, this alert is never displayed:\n\n![alert](https://gitlab.com/gitlab-org/gitlab/uploads/d2fe8841ec6579305c6b544313e78f95/Screenshot_from_2020-07-08_12-26-01.png)\n\nThis applies to both the old Security Configuration page design and the [new one](https://gitlab.com/gitlab-org/gitlab/-/issues/326926).\n\n\n### Steps to reproduce\n\n1. Find or create a project under the Ultimate tier.\n1. Make sure you are _allowed_ to enable Auto DevOps for this project (being its owner should be more than sufficient).\n1. Make sure Auto DevOps is _not_ enabled for the project.\n1. Make sure the project has a repository that does _not_ contain `.gitlab-ci.yml` file.\n1. Go to **Security \u0026 Compliance \u003e Configuration**.\n1. Observe the alert is _not_ shown.\n1. Observe `Configuration history` link is shown, and clicking it results in a 404, since there's no `.gitlab-ci.yml` file.\n\n### Example Project\n\nn/a - better to create your own.\n\n### What is the current *bug* behavior?\n\nNo alert is displayed.\n\n### What is the expected *correct* behavior?\n\nThe alert should be displayed.\n\n### Relevant logs and/or screenshots\n\n\u003c!-- Paste any relevant logs - please use code blocks (```) to format console output, logs, and code\n as it's tough to read otherwise. --\u003e\n\n### Output of checks\n\nThis bug happens on GitLab.com\n\n### Possible fixes\n\nThis [line](https://gitlab.com/gitlab-org/gitlab/-/blob/66e23443515cfc0ffbd7c63301d270953d4ec7de/ee/app/presenters/projects/security/configuration_presenter.rb#L23) is incorrect. It should check whether a `.gitlab-ci.yml` file exists in the repository, rather than just checking that the project is configured to use the _default path_ for the CI file.\n\nI think this behaviour was broken in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/54498. \n\nThe [specs](https://gitlab.com/gitlab-org/gitlab/-/blob/66e23443515cfc0ffbd7c63301d270953d4ec7de/ee/spec/presenters/projects/security/configuration_presenter_spec.rb#L218-228) for the `Security::ConfigurationPresenter` should be updated to correctly test this behaviour as well.\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e\n\n### Implementation plan\n\n1. [ ] See [this MR](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/70025) for a starting point\n\n1. [ ] Update [`ee/app/presenters/projects/security/configuration_presenter.rb`](https://gitlab.com/gitlab-org/gitlab/blob/9e0fc4490e7/ee/app/presenters/projects/security/configuration_presenter.rb#L23-23) to rely on the presence of an actual `.gitlab-ci.yml` file in the repository instead of the [current logic](https://gitlab.com/gitlab-org/gitlab/blob/f9e1d658e88/app/models/project.rb#L2529-2532) which only checks whether the custom `ci_config_path` option is blank or set to `.gitlab-ci.yml`:\n\n   ```diff\n             latest_pipeline_path: latest_pipeline_path,\n             auto_fix_enabled: autofix_enabled,\n             can_toggle_auto_fix_settings: auto_fix_permission,\n   -         gitlab_ci_present: project.uses_default_ci_config?,\n   +         gitlab_ci_present: project.repository.gitlab_ci_yml,\n             gitlab_ci_history_path: gitlab_ci_history_path,\n             auto_fix_user_path: '/' # TODO: real link will be updated with https://gitlab.com/gitlab-org/gitlab/-/issues/215669\n   ```\n\n   Rather than accessing `project.repository.gitlab_ci_yml` directly from within `configuration_presenter.rb`, we'll probably want to create a method in [app/models/project.rb](https://gitlab.com/gitlab-org/gitlab/blob/f9e1d658e88/app/models/project.rb#L2529-2529) such as `gitlab_ci_present?`, which returns `project.repository.gitlab_ci_yml`.\n\n1. [ ] Ensure the above change doesn't have any negative performance impacts, since we're switching from a simple database lookup to a file system lookup via git. There probably shouldnt't be any concerns since I don't think this page is a high traffic area, and the value from git should be cached, but this should be confirmed.\n\n1. [ ] Fix all tests broken by the above changes","state":"closed","created_at":"2021-07-20T11:15:34.621Z","updated_at":"2021-10-20T04:56:09.144Z","closed_at":"2021-10-19T00:35:28.772Z","closed_by":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"labels":["Category:Vulnerability Management","Deliverable","backend","devops::secure","group::composition analysis","priority::2","section::sec","severity::3","type::bug","workflow::production"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"}],"author":{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},"type":"ISSUE","assignee":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336504","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336504","notes":"https://gitlab.com/api/v4/projects/278964/issues/336504/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336504/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336504","relative":"#336504","full":"gitlab-org/gitlab#336504"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6150,"epic":{"id":286283,"iid":6150,"title":"Phase 4: Unification of Backends","url":"/groups/gitlab-org/-/epics/6150","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":90552807,"iid":336503,"project_id":278964,"title":"Corpus Management Proof of Concept UI tweaks - Add tooltips to target column","description":"Parent: https://gitlab.com/gitlab-org/gitlab/-/issues/328475\n\nPlan:\n\n- Add tooltips to Target column in `ee/app/assets/javascripts/security_configuration/corpus_management/components/columns/target.vue`","state":"closed","created_at":"2021-07-20T11:12:13.790Z","updated_at":"2021-08-18T07:06:21.610Z","closed_at":"2021-08-16T08:43:04.351Z","closed_by":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"labels":["Category:Fuzz Testing","Deliverable","GitLab Ultimate","devops::secure","frontend","fuzzing::coverage","group::dynamic analysis","section::sec","type::feature","workflow::production"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"}],"author":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"type":"ISSUE","assignee":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336503","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336503","notes":"https://gitlab.com/api/v4/projects/278964/issues/336503/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336503/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336503","relative":"#336503","full":"gitlab-org/gitlab#336503"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6406,"epic":{"id":312856,"iid":6406,"title":"Corpus Management Proof of Concept UI tweaks","url":"/groups/gitlab-org/-/epics/6406","group_id":9970,"human_readable_end_date":"Aug 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":90552337,"iid":336501,"project_id":278964,"title":"Corpus Management Proof of Concept UI tweaks - MISC CSS tweaks","description":"Parent: https://gitlab.com/gitlab-org/gitlab/-/issues/328475\n\n## X Close button alignment\nMove \"x\" icon into the text area, not outside. \n\n## Fonts in sub header\n\nFonts look slightly off compared to other pages, tweak utility class styles to match designs\n\n## Name Font tweaks\n\n- `()` around file size\n- Tweak file size shade of gray\n\n---\n\n## Delete Dialog Messaging\n\nChange the \"Delete\" button to \"Delete corpus\"\n\n---\n\n## Font Download Color\n\nChange from \"blue\" to \"grey\"\n\n\n---\n\n## Text Copy on Modal \n\nSee: https://gitlab.com/gitlab-org/gitlab/-/issues/336500#note_644312629\n\nChange `10Gib` to `10GB`","state":"closed","created_at":"2021-07-20T11:02:25.646Z","updated_at":"2021-08-18T07:06:21.676Z","closed_at":"2021-08-16T08:43:24.309Z","closed_by":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"labels":["Category:Fuzz Testing","Deliverable","GitLab Ultimate","devops::secure","frontend","fuzzing::coverage","group::dynamic analysis","section::sec","type::feature","workflow::production"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"}],"author":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"type":"ISSUE","assignee":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336501","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336501","notes":"https://gitlab.com/api/v4/projects/278964/issues/336501/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336501/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336501","relative":"#336501","full":"gitlab-org/gitlab#336501"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6406,"epic":{"id":312856,"iid":6406,"title":"Corpus Management Proof of Concept UI tweaks","url":"/groups/gitlab-org/-/epics/6406","group_id":9970,"human_readable_end_date":"Aug 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":90552107,"iid":336500,"project_id":278964,"title":"Corpus Management Proof of Concept UI tweaks - File Size tweaks","description":"https://gitlab.com/gitlab-org/gitlab/-/issues/328475\n\nSwap out file size format introduced in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/57424/diffs\n\nConversation with UX was that docs refer to the file size for Security stage as MB/GB not MiB/GiB.\n\nImplementation Plan:\n\n- Swap out `numberToHumanSize` in `ee/app/assets/javascripts/security_configuration/corpus_management/components/columns/name.vue` for another file size helper.\n\n- Update unit tests","state":"closed","created_at":"2021-07-20T10:57:51.897Z","updated_at":"2021-08-18T07:06:21.736Z","closed_at":"2021-08-05T16:05:09.023Z","closed_by":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"labels":["Category:Fuzz Testing","Deliverable","GitLab Ultimate","devops::secure","frontend","fuzzing::coverage","group::dynamic analysis","section::sec","type::feature","workflow::production"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"}],"author":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"type":"ISSUE","assignee":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336500","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336500","notes":"https://gitlab.com/api/v4/projects/278964/issues/336500/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336500/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336500","relative":"#336500","full":"gitlab-org/gitlab#336500"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6406,"epic":{"id":312856,"iid":6406,"title":"Corpus Management Proof of Concept UI tweaks","url":"/groups/gitlab-org/-/epics/6406","group_id":9970,"human_readable_end_date":"Aug 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":90551821,"iid":336499,"project_id":278964,"title":"Corpus Management Proof of Concept UI tweaks - Date Formats","description":"https://gitlab.com/gitlab-org/gitlab/-/issues/328475\n\nSwap out date format introduced in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/57424/diffs\n\n## Plan\n* Update Format in `app/assets/javascripts/admin/users/constants.js` to include `YYYY-DD-MM` format constant\n\n* In `app/assets/javascripts/vue_shared/components/user_date.vue` add date format prop with validator\n\n* Update unit tests","state":"closed","created_at":"2021-07-20T10:50:36.357Z","updated_at":"2021-08-18T07:06:21.794Z","closed_at":"2021-08-16T08:43:50.965Z","closed_by":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"labels":["Category:Fuzz Testing","Deliverable","GitLab Ultimate","devops::secure","frontend","fuzzing::coverage","group::dynamic analysis","section::sec","type::feature","workflow::production"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"}],"author":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"type":"ISSUE","assignee":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336499","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336499","notes":"https://gitlab.com/api/v4/projects/278964/issues/336499/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336499/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336499","relative":"#336499","full":"gitlab-org/gitlab#336499"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6406,"epic":{"id":312856,"iid":6406,"title":"Corpus Management Proof of Concept UI tweaks","url":"/groups/gitlab-org/-/epics/6406","group_id":9970,"human_readable_end_date":"Aug 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":90549521,"iid":336497,"project_id":278964,"title":"Container Registry GraphqQL: add search and sorting on tag name","description":"In a recent Slack discussion, we agreed on the value of being able to search and sort on tag names in the container registry details page.\n\nTo achieve this we need to add some more functionality to our models and expose it through the ~GraphQL API.\n\nWe can then build up the ~frontend search and sorting using the usual standard component (same as in the list page)\n\nThis is doable on the rails side, without having to wait for the registry metadata, because we are already fetching the complete list of tags from the registry.","state":"closed","created_at":"2021-07-20T10:03:25.308Z","updated_at":"2021-12-01T08:58:13.908Z","closed_at":"2021-11-30T18:37:38.453Z","closed_by":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"labels":["Category:Container Registry","Deliverable","GraphQL","Package:P1","backend","devops::package","group::package registry","priority::1","ruby","section::ops","workflow::production"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"}],"author":{"id":4584738,"username":"nmezzopera","name":"NicolÃ² Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"},"type":"ISSUE","assignee":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"user_notes_count":32,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336497","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336497","notes":"https://gitlab.com/api/v4/projects/278964/issues/336497/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336497/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336497","relative":"#336497","full":"gitlab-org/gitlab#336497"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":90543957,"iid":336490,"project_id":278964,"title":"Prevent migrations from being run while CI DB is a replica of main DB","description":"## Problem\n\nAccording to https://about.gitlab.com/handbook/engineering/development/enablement/sharding/migrate-ci-tables-to-new-database-plan.html#preparation-ahead-of-migration-can-be-safely-rolled-back-and-requires-no-downtime-or-migrating-data, we plan to configure the Rails application to:\n\n1. Use pgbouncer-ci.int.gprd.gitlab.net as primary connection for CI tables \n1. Use service discovery for db-ci-replica.service.consul for replica connections for CI tables use\n\nHowever, in the beginning `db:ci` will be setup as a replica of `db:main`. So for this period, we **should not** run any migrations, DDL or data, for the `db:ci` connection. But rather we rely on replication.\n\n## Proposal\n\n1. Add instructions on how to setup replicas locally\n1. Configure GDK to disable `database_tasks: false` for CI database\n\nHave configuration in the application, likely in config/database.yml to disable database migrations for the `ci:` database.\n\nhttps://github.com/rails/rails/pull/42794 was just merged in Rails which looks very promising\n\n/cc @gitlab-org/sharding-group","state":"closed","created_at":"2021-07-20T08:41:14.214Z","updated_at":"2022-07-29T21:23:29.506Z","closed_at":"2022-02-01T20:59:34.403Z","closed_by":{"id":2535118,"username":"tkuah","name":"Thong Kuah","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f7b51bdd49a4914d29504d7ff4c3f7b9?s=80\u0026d=identicon","web_url":"https://gitlab.com/tkuah"},"labels":["Category:Database","Category:Pods","[deprecated] Accepting merge requests","ci-decomposition","ci-decomposition::phase3","devops::data_stores","group::database","missed:14.3","missed:14.4","missed:14.5","pods::active","section::enablement"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":2535118,"username":"tkuah","name":"Thong Kuah","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f7b51bdd49a4914d29504d7ff4c3f7b9?s=80\u0026d=identicon","web_url":"https://gitlab.com/tkuah"},"type":"ISSUE","assignee":null,"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336490","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336490","notes":"https://gitlab.com/api/v4/projects/278964/issues/336490/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336490/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336490","relative":"#336490","full":"gitlab-org/gitlab#336490"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6103,"epic":{"id":281355,"iid":6103,"title":"Decomposition: Support for many databases","url":"/groups/gitlab-org/-/epics/6103","group_id":9970,"human_readable_end_date":"Sep 16, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90537530,"iid":336486,"project_id":278964,"title":"Allow group and instance-level Jira integrations to set their deployment_type","description":"The `Integrations::Jira` model only [sets the `deployment_type`](https://gitlab.com/gitlab-org/gitlab/-/blob/9710349cec0944de3360474f21d66b2038670d7e/app/models/integrations/jira.rb#L543) for project-level integrations (where `#testable?` is [true](https://gitlab.com/gitlab-org/gitlab/-/blob/9710349cec0944de3360474f21d66b2038670d7e/app/models/integration.rb#L448-452)). This leads to all instance and group level integration having a deployment_type of `unknown` because testing is generally disabled for this type of integration.\n\nInstead, we should change the model so group and instance-level Jira integrations will set a `deployment_type` by removing the `#testable?` check.","state":"closed","created_at":"2021-07-20T06:43:42.384Z","updated_at":"2022-11-22T19:37:34.203Z","closed_at":"2021-07-29T01:56:51.696Z","closed_by":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"labels":["Integration::Jira","backend","devops::manage","group::ecosystem [DEPRECATED]","section::dev","type::bug"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"}],"author":{"id":16943,"username":"Andysoiron","name":"Andy Soiron","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/16943/avatar.png","web_url":"https://gitlab.com/Andysoiron"},"type":"ISSUE","assignee":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336486","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336486","notes":"https://gitlab.com/api/v4/projects/278964/issues/336486/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336486/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336486","relative":"#336486","full":"gitlab-org/gitlab#336486"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6391,"epic":{"id":311663,"iid":6391,"title":"Fix Jira integration deployment_type","url":"/groups/gitlab-org/-/epics/6391","group_id":9970},"iteration":null,"health_status":null},{"id":90536923,"iid":336483,"project_id":278964,"title":"Update the section on uploading license in the doc","description":"The following section in our doc is outdated and needs to be updated:\n\nhttps://docs.gitlab.com/ee/user/admin_area/license.html#uploading-your-license\n\nA license can be uploaded after navigating to the upload page via the Subscription area.\n\n| in the doc | current |\n| ------ | ------ |\n| ![image](/uploads/40856ca5a3ff40e79ba446436b66ea26/image.png) | ![image](/uploads/f5543fd7b149d64cf045d1f193a9750e/image.png) |\n| - | ![image](/uploads/a463acdc7259d2c4b0c9c0ca94a9d49b/image.png) |","state":"closed","created_at":"2021-07-20T06:31:01.142Z","updated_at":"2021-08-05T18:21:04.790Z","closed_at":"2021-08-05T18:21:04.778Z","closed_by":{"id":4717243,"username":"a_luna","name":"Amparo Luna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4717243/avatar.png","web_url":"https://gitlab.com/a_luna"},"labels":["[deprecated] Category:Provision","automation:ml","devops::fulfillment","documentation","group::provision","section::fulfillment","workflow::production"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":4717243,"username":"a_luna","name":"Amparo Luna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4717243/avatar.png","web_url":"https://gitlab.com/a_luna"}],"author":{"id":5961404,"username":"euko","name":"Eulyeon Ko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5961404/avatar.png","web_url":"https://gitlab.com/euko"},"type":"ISSUE","assignee":{"id":4717243,"username":"a_luna","name":"Amparo Luna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4717243/avatar.png","web_url":"https://gitlab.com/a_luna"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336483","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336483","notes":"https://gitlab.com/api/v4/projects/278964/issues/336483/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336483/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336483","relative":"#336483","full":"gitlab-org/gitlab#336483"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":90531526,"iid":336475,"project_id":278964,"title":"Display x+ for searches that hit the top end of search result count","description":"I made a global search earlier that was quite broad:\n\n![image](/uploads/b359335728632bc292cabecb5a16123b/image.png)\n\nThe `10000` badges seemed very specific and I suspected a limit was being hit. It might be clearer to append `+` to these numbers to show that the number wasn't the real count.","state":"closed","created_at":"2021-07-20T03:21:09.423Z","updated_at":"2022-05-30T16:31:14.593Z","closed_at":"2021-09-09T18:38:31.266Z","closed_by":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"labels":["Category:Global Search","devops::data_stores","feature::enhancement","frontend","group::global search","section::enablement","temp::scorecard-success","type::feature","workflow::in review"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"}],"author":{"id":3717078,"username":"cablett","name":"charlie ablett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3717078/avatar.png","web_url":"https://gitlab.com/cablett"},"type":"ISSUE","assignee":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"user_notes_count":8,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336475","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336475","notes":"https://gitlab.com/api/v4/projects/278964/issues/336475/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336475/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336475","relative":"#336475","full":"gitlab-org/gitlab#336475"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":90526111,"iid":336465,"project_id":278964,"title":"Tooltip of upvotes appears unaligned on the search result page","description":"@nickbrandt spotted that the tooltip of upvotes appears unaligned on the search result page. Please see attached screenshot.\n\n![ToolTip_Upvote_Unaligned](/uploads/2f5389ea9cf82e35fd902ea28e92b47f/ToolTip_Upvote_Unaligned.png)\n\nTooltip placement should be directly above/below the popularity icon (as seen below).\n\n| | |\n| ------ | ------ |\n| ![Screen_Shot_2021-09-21_at_12.34.26_PM](/uploads/cc0c7e03bb20093a08694504805b4993/Screen_Shot_2021-09-21_at_12.34.26_PM.png) | ![Screen_Shot_2021-09-21_at_12.36.01_PM](/uploads/9b6134d7b7983ad0b61e55e9b212b6f9/Screen_Shot_2021-09-21_at_12.36.01_PM.png) |","state":"closed","created_at":"2021-07-19T22:29:21.130Z","updated_at":"2022-05-30T16:31:16.397Z","closed_at":"2021-09-29T19:59:01.195Z","closed_by":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"labels":["Category:Global Search","devops::data_stores","frontend","group::global search","priority::4","section::enablement","severity::4","type::bug","workflow::in review"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"}],"author":{"id":4888751,"username":"changzhengliu","name":"Changzheng Liu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4888751/avatar.png","web_url":"https://gitlab.com/changzhengliu"},"type":"ISSUE","assignee":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"user_notes_count":7,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336465","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":0,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336465","notes":"https://gitlab.com/api/v4/projects/278964/issues/336465/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336465/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336465","relative":"#336465","full":"gitlab-org/gitlab#336465"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":90516097,"iid":336452,"project_id":278964,"title":"[Engineering] Fix issue with blank terms acceptance in registration flow when registering for gitlab.com","description":"# Problems \n\nThere are 2 separate but related problems - \n\n1. The standard terms that are linked to at https://gitlab.com/-/users/terms appear to be blank. \n1. In the SSO flow that users go through when they create a Gitlab.com account, the page that is shown after authing into your 3rd party account is a blank terms acceptance page. \n\n\n### Screen shots\n\n#### SSO \n![image](/uploads/4ef8368676703bb4de35e567e3c91e2c/image.png)\n\n#### Standard \n![image](/uploads/91d2cc36596dbdda0d2ebe165eb28e38/image.png)\n\n### Video \n\n![Screen_Recording_2021-07-15_at_9.09.53_PM](/uploads/e6c2dc34ca6945fc1ccf34127f618e40/Screen_Recording_2021-07-15_at_9.09.53_PM.mov)\n\n\n# Proposal \n\n- [x] Determine what Terms language is supposed to be shown on those pages \n- [x] Fix them so the terms display","state":"closed","created_at":"2021-07-19T18:31:52.031Z","updated_at":"2021-07-30T13:12:04.642Z","closed_at":"2021-07-30T07:57:44.466Z","closed_by":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"labels":["Pick into 14.1","devops::manage","group::compliance","priority::1","reproduced on GitLab.com","section::dev","severity::1","type::bug","workflow::verification"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":4303974,"username":"jejacks0n1","name":"Jeremy Jackson","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4303974/avatar.png","web_url":"https://gitlab.com/jejacks0n1"},{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"}],"author":{"id":4068412,"username":"mkarampalas","name":"Michael Karampalas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b1427f54773954af4d75c5514504229b?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkarampalas"},"type":"ISSUE","assignee":{"id":4303974,"username":"jejacks0n1","name":"Jeremy Jackson","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4303974/avatar.png","web_url":"https://gitlab.com/jejacks0n1"},"user_notes_count":53,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336452","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":2},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336452","notes":"https://gitlab.com/api/v4/projects/278964/issues/336452/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336452/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336452","relative":"#336452","full":"gitlab-org/gitlab#336452"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3554,"epic":{"id":65620,"iid":3554,"title":"Adoption Team: Issues and Epics","url":"/groups/gitlab-org/-/epics/3554","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":90511884,"iid":336446,"project_id":278964,"title":"Project API discloses additional information about a project with the `Only Project Members` visibility","description":"**Note** The [main concern](https://gitlab.com/gitlab-org/gitlab/-/issues/336446#note_630349096) of this report is that the `issues_template` and `merge_requests_template` information is exposed. There is an [existing issue](https://gitlab.com/gitlab-org/gitlab/-/issues/28226) tracking the fix of the `shared groups` information.\n\n**[HackerOne report #1255128](https://hackerone.com/reports/1255128)** by `0xn3va` on 2021-07-08, assigned to @ankelly:\n\n[Report](#report) | [How To Reproduce](#how-to-reproduce)\n\n## Report\n\n#####  Summary\n\nFor a public project, that provided access to only project members, Gitlab discloses issues/merge request templates and a name of the private group shared with the project.\n\n#####  Steps to reproduce\n\n1. Log in as an `user1`  \n2. Create private group `private-group`  \n3. Create a public project `public-project`  \n4. Go to the Members page of the public project `Project information \u003e Members` and invite the private group  \n5. Go to the project settings `Settings \u003e General` and change values from `Everyone With Access` to `Only Project Members` within the `Visibility, project features, permissions` section  \n6. On the same page open the `Merge requests` section and set a default description template of MR within `Default description template for merge requests`  \n7. On the same page open the `Default description template for issues` section and set a default description template of issues  \n8. Log in as an `user2`  \n9. Get the project details via API:\n\n    ```bash  \n    $ curl -v -X GET -H \"PRIVATE-TOKEN: \u003cuser-2-token\u003e\" \"http://0xn3va.gitlab.local/api/v4/projects/\u003cproject-id\u003e\"  \n    ```\n\n10. The response contains information about the private group inside `shared_with_groups` (it is also available in UI) and issue/MR templates inside `issues_template`/`merge_requests_template`.\n\n#####  Impact\n\nThe `shared_with_groups` discloses id and full path of private projects. The`issues_template`/`merge_requests_template` discloses the content of templates that may contain sensitive information, internal links, or links to project uploads (such as `http://0xn3va.gitlab.local/deepheep/uploads/f2e66c888f453e7584042d22bde49088/filename.txt`; since the `user2` has the read permissions `user2` able to get these uploaded files).\n\n#####  What is the current *bug* behavior?\n\nUsers with reading permission in the project with the `Only Project Members` visibility have access to values of `shared_with_groups`, `issues_template`, `merge_requests_template`.\n\n#####  What is the expected *correct* behavior?\n\nUsers with reading permission in the project with the `Only Project Members` visibility should not have access to values of `shared_with_groups`, `issues_template`, `merge_requests_template`.\n\n#####  Relevant logs and/or screenshots\n\nResponse example:\n\n```json  \n{\"id\":17,\"description\":\"project description\",\"name\":\"project\",\"name_with_namespace\":\"deepheep/project\",\"path\":\"project\",\"path_with_namespace\":\"deepheep/project\",\"created_at\":\"2021-07-08T17:25:36.593Z\",\"tag_list\":[],\"topics\":[],\"ssh_url_to_repo\":\"git@0xn3va.gitlab.local:deepheep/project.git\",\"http_url_to_repo\":\"http://0xn3va.gitlab.local/deepheep/project.git\",\"web_url\":\"http://0xn3va.gitlab.local/deepheep/project\",\"readme_url\":\"http://0xn3va.gitlab.local/deepheep/project/-/blob/main/README.md\",\"avatar_url\":null,\"forks_count\":1,\"star_count\":0,\"last_activity_at\":\"2021-07-08T17:25:36.593Z\",\"namespace\":{\"id\":15,\"name\":\"deepheep\",\"path\":\"deepheep\",\"kind\":\"user\",\"full_path\":\"deepheep,\"parent_id\":null,\"avatar_url\":null,\"web_url\":\"http://0xn3va.gitlab.local/deepheep\"},\"_links\":{\"self\":\"http://0xn3va.gitlab.local/api/v4/projects/17\",\"repo_branches\":\"http://0xn3va.gitlab.local/api/v4/projects/17/repository/branches\",\"labels\":\"http://0xn3va.gitlab.local/api/v4/projects/17/labels\",\"events\":\"http://0xn3va.gitlab.local/api/v4/projects/17/events\",\"members\":\"http://0xn3va.gitlab.local/api/v4/projects/17/members\"},\"packages_enabled\":true,\"empty_repo\":false,\"archived\":false,\"visibility\":\"public\",\"resolve_outdated_diff_discussions\":false,\"container_expiration_policy\":{\"cadence\":\"1d\",\"enabled\":false,\"keep_n\":10,\"older_than\":\"90d\",\"name_regex\":\".*\",\"name_regex_keep\":null,\"next_run_at\":\"2021-07-09T17:25:37.343Z\"},\"issues_enabled\":false,\"merge_requests_enabled\":false,\"wiki_enabled\":false,\"jobs_enabled\":false,\"snippets_enabled\":false,\"container_registry_enabled\":true,\"service_desk_enabled\":true,\"service_desk_address\":\"incoming+public-group-project-17-issue-[@]0xn3va.gitlab.local\",\"can_create_merge_request_in\":false,\"issues_access_level\":\"private\",\"repository_access_level\":\"private\",\"merge_requests_access_level\":\"private\",\"forking_access_level\":\"private\",\"wiki_access_level\":\"private\",\"builds_access_level\":\"private\",\"snippets_access_level\":\"private\",\"pages_access_level\":\"enabled\",\"operations_access_level\":\"private\",\"analytics_access_level\":\"private\",\"emails_disabled\":false,\"shared_runners_enabled\":true,\"lfs_enabled\":true,\"creator_id\":3,\"import_status\":\"none\",\"ci_default_git_depth\":50,\"ci_forward_deployment_enabled\":true,\"ci_job_token_scope_enabled\":true,\"public_jobs\":true,\"build_timeout\":3600,\"auto_cancel_pending_pipelines\":\"enabled\",\"build_coverage_regex\":null,\"shared_with_groups\":[{\"group_id\":14,\"group_name\":\"private-group\",\"group_full_path\":\"private-group\",\"group_access_level\":30,\"expires_at\":null}],\"only_allow_merge_if_pipeline_succeeds\":false,\"allow_merge_on_skipped_pipeline\":false,\"restrict_user_defined_variables\":false,\"request_access_enabled\":true,\"only_allow_merge_if_all_discussions_are_resolved\":false,\"remove_source_branch_after_merge\":true,\"printing_merge_request_link_enabled\":true,\"merge_method\":\"merge\",\"squash_option\":\"default_off\",\"suggestion_commit_message\":\"\",\"auto_devops_enabled\":true,\"auto_devops_deploy_strategy\":\"continuous\",\"autoclose_referenced_issues\":true,\"keep_latest_artifact\":true,\"approvals_before_merge\":0,\"mirror\":false,\"external_authorization_classification_label\":null,\"marked_for_deletion_at\":null,\"marked_for_deletion_on\":null,\"requirements_enabled\":true,\"security_and_compliance_enabled\":false,\"compliance_frameworks\":[],\"issues_template\":\"wdfdsfdsgsdg\",\"merge_requests_template\":\"dsjfsdkjfnds\",\"permissions\":{\"project_access\":null,\"group_access\":null}}  \n```\n\n#####  Output of checks\n\n######  Results of GitLab environment info\n\n```bash  \n$ gitlab-rake gitlab:env:info\n\nSystem information  \nSystem:  \nProxy:\t\tno  \nCurrent User:\tgit  \nUsing RVM:\tno  \nRuby Version:\t2.7.2p137  \nGem Version:\t3.1.4  \nBundler Version:2.1.4  \nRake Version:\t13.0.3  \nRedis Version:\t6.0.14  \nGit Version:\t2.32.0  \nSidekiq Version:5.2.9  \nGo Version:\tunknown\n\nGitLab information  \nVersion:\t14.0.2-ee  \nRevision:\t2504e045362  \nDirectory:\t/opt/gitlab/embedded/service/gitlab-rails  \nDB Adapter:\tPostgreSQL  \nDB Version:\t12.6  \nURL:\t\thttp://0xn3va.gitlab.local  \nHTTP Clone URL:\thttp://0xn3va.gitlab.local/some-group/some-project.git  \nSSH Clone URL:\tgit@0xn3va.gitlab.local:some-group/some-project.git  \nElasticsearch:\tno  \nGeo:\t\tno  \nUsing LDAP:\tno  \nUsing Omniauth:\tyes  \nOmniauth Providers: gitlab\n\nGitLab Shell  \nVersion:\t13.19.0  \nRepository storage paths:  \n- default: \t/var/opt/gitlab/git-data/repositories  \nGitLab Shell path:\t\t/opt/gitlab/embedded/service/gitlab-shell  \nGit:\t\t/opt/gitlab/embedded/bin/git  \n```\n\n####  Impact\n\nThe `shared_with_groups` discloses id and full path of private projects. The`issues_template`/`merge_requests_template` discloses the content of templates that may contain sensitive information, internal links, or links to project uploads (such as `http://0xn3va.gitlab.local/deepheep/uploads/f2e66c888f453e7584042d22bde49088/filename.txt`; since the `user2` has the read permissions `user2` able to get these uploaded files).","state":"closed","created_at":"2021-07-19T17:00:52.405Z","updated_at":"2022-07-07T12:53:22.901Z","closed_at":"2021-09-30T03:32:20.723Z","closed_by":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"labels":["Category:Authentication and Authorization","Epic 6340","FY22::Q3","HackerOne","Weakness::CWE-284","devops::manage","group::authentication and authorization","priority::3","section::dev","security","severity::3"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"}],"author":{"id":2741139,"username":"gitlab-securitybot","name":"GitLab SecurityBot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2741139/avatar.png","web_url":"https://gitlab.com/gitlab-securitybot"},"type":"ISSUE","assignee":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"user_notes_count":18,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2021-10-17","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336446","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336446","notes":"https://gitlab.com/api/v4/projects/278964/issues/336446/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336446/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336446","relative":"#336446","full":"gitlab-org/gitlab#336446"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":90510863,"iid":336444,"project_id":278964,"title":"Revisit the batch loading process to properly load the associated rows","description":"According to https://gitlab.com/groups/gitlab-org/-/epics/6289#note_629698982, we see [a N+1 regression](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/62092#note_626104265) that batch loading was dissolved due to lacking cross-join in one query. We should revisit the batch loading process to properly load the associated rows beforehand i.e. Preloader might be needed.","state":"closed","created_at":"2021-07-19T16:37:05.507Z","updated_at":"2021-08-20T08:28:56.759Z","closed_at":"2021-08-19T06:26:07.307Z","closed_by":{"id":120073,"username":"DylanGriffith","name":"Dylan Griffith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/120073/avatar.png","web_url":"https://gitlab.com/DylanGriffith"},"labels":["Category:Pods","Release::P1","[deprecated] Accepting merge requests","ci-decomposition","devops::release","group::release","section::ops"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":9253328,"username":"bala.kumar","name":"Bala Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9253328/avatar.png","web_url":"https://gitlab.com/bala.kumar"}],"author":{"id":3753003,"username":"cdu1","name":"Chun Du","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3753003/avatar.png","web_url":"https://gitlab.com/cdu1"},"type":"ISSUE","assignee":{"id":9253328,"username":"bala.kumar","name":"Bala Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9253328/avatar.png","web_url":"https://gitlab.com/bala.kumar"},"user_notes_count":22,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336444","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336444","notes":"https://gitlab.com/api/v4/projects/278964/issues/336444/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336444/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":"https://gitlab.com/api/v4/projects/278964/issues/338006"},"references":{"short":"#336444","relative":"#336444","full":"gitlab-org/gitlab#336444"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6379,"epic":{"id":309971,"iid":6379,"title":"Decomposition: Make Ops features compatible with Decomposed CI database","url":"/groups/gitlab-org/-/epics/6379","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90510726,"iid":336442,"project_id":278964,"title":"Recreate foreign key ci_build_id in pages_deployments table","description":"We plan to move ci_builds table to another database, which will make foreign keys impossible. We need to use looks foreign keys, see more in https://gitlab.com/gitlab-org/gitlab/-/issues/338535\n\n\u003e According to https://gitlab.com/groups/gitlab-org/-/epics/6289#note_629698982, we could have an orphaned `ci_build_id` in `pages_deployments` table due to [the missing FKs](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/62092#note_626104276). (\"orphaned\" means the id exists in the column, but the actual row doesn't exit). We have to achieve the same cascading deletion/nullify data integration validity at *application-level*, meaning we have to add `dependent: :delete_all/:destroy_all/:nullify` in the AR model accordingly.","state":"closed","created_at":"2021-07-19T16:32:59.976Z","updated_at":"2021-12-08T13:16:48.594Z","closed_at":"2021-12-08T13:16:48.579Z","closed_by":{"id":209240,"username":"yorickpeterse","name":"Yorick Peterse","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/209240/avatar.png","web_url":"https://gitlab.com/yorickpeterse"},"labels":["Category:Environment Management","Category:Pods","Release::P1","ci-decomposition","ci-decomposition::phase5","devops::release","group::release","section::ops","workflow::blocked"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":209240,"username":"yorickpeterse","name":"Yorick Peterse","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/209240/avatar.png","web_url":"https://gitlab.com/yorickpeterse"}],"author":{"id":3753003,"username":"cdu1","name":"Chun Du","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3753003/avatar.png","web_url":"https://gitlab.com/cdu1"},"type":"ISSUE","assignee":{"id":209240,"username":"yorickpeterse","name":"Yorick Peterse","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/209240/avatar.png","web_url":"https://gitlab.com/yorickpeterse"},"user_notes_count":24,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336442","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336442","notes":"https://gitlab.com/api/v4/projects/278964/issues/336442/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336442/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336442","relative":"#336442","full":"gitlab-org/gitlab#336442"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6379,"epic":{"id":309971,"iid":6379,"title":"Decomposition: Make Ops features compatible with Decomposed CI database","url":"/groups/gitlab-org/-/epics/6379","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90509856,"iid":336441,"project_id":278964,"title":"Fix docs-lint markdown error when generating the event dictionary","description":"When linting the generated `doc/development/snowplow/dictionary.md` file, the following error is thrown:\n\n```\nMD044/proper-names Proper names should have the correct capitalization [Expected: Prometheus; Actual: prometheus]\n```","state":"closed","created_at":"2021-07-19T16:21:06.871Z","updated_at":"2021-08-23T22:55:00.450Z","closed_at":"2021-08-11T13:59:19.497Z","closed_by":{"id":3509693,"username":"nicolasdular","name":"Nicolas Dular","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c4a21f15150c12ddf13fd848597cddd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/nicolasdular"},"labels":["auto updated","devops::growth","group::product intelligence","section::growth","type::bug","workflow::ready for development"],"milestone":null,"assignees":[],"author":{"id":5412956,"username":"agarciatesares","name":"Axel GarcÃ­a","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"},"type":"ISSUE","assignee":null,"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336441","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336441","notes":"https://gitlab.com/api/v4/projects/278964/issues/336441/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336441/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336441","relative":"#336441","full":"gitlab-org/gitlab#336441"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5247,"epic":{"id":185219,"iid":5247,"title":"Snowplow Dictionary","url":"/groups/gitlab-org/-/epics/5247","group_id":9970,"human_readable_end_date":"May 30, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90507482,"iid":336437,"project_id":278964,"title":"Fix Geo support for Artifacts: `Ci::Artifactable#selective_sync_scope` cross-join DBs","description":"From https://gitlab.com/gitlab-org/gitlab/-/merge_requests/62092 we have seen that `Ci::Artifactable#selective_sync_scope` needs to join between `projects` table and `ci_*` tables.\n\n## Options\n\n1. Use `.ids` to fetch `ids` and use two separate queries\n2. Change how the feature is being used, and remove this method all together","state":"closed","created_at":"2021-07-19T15:51:04.345Z","updated_at":"2021-10-28T13:55:03.248Z","closed_at":"2021-07-28T19:44:00.020Z","closed_by":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"labels":["Category:Pods","Enterprise Edition","GitLab Premium","ci-decomposition","devops::systems","group::geo","section::enablement","type::maintenance","workflow::in review"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"}],"author":{"id":12452,"username":"ayufan","name":"Kamil TrzciÅ„ski","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a285e30f35d72526fb0954e8fe7cefa?s=80\u0026d=identicon","web_url":"https://gitlab.com/ayufan"},"type":"ISSUE","assignee":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336437","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336437","notes":"https://gitlab.com/api/v4/projects/278964/issues/336437/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336437/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336437","relative":"#336437","full":"gitlab-org/gitlab#336437"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6387,"epic":{"id":311274,"iid":6387,"title":"Decomposition: Make Enablement features compatible with Decomposed CI database","url":"/groups/gitlab-org/-/epics/6387","group_id":9970,"human_readable_end_date":"May 22, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90507140,"iid":336434,"project_id":278964,"title":"Fix `CommitStatus#for_project_paths` doing cross-join to `project`","description":"From https://gitlab.com/gitlab-org/gitlab/-/merge_requests/62092 we have seen that `Ci::Runner#belonging_to_group` needs to join between `projects` table and `ci_*` tables.\n\n## Options\n\n1. Use `.ids` to fetch `ids` and use two separate queries\n2. Change how the feature is being used, and remove this method all together","state":"closed","created_at":"2021-07-19T15:44:57.158Z","updated_at":"2021-08-25T06:15:21.395Z","closed_at":"2021-08-25T06:15:21.380Z","closed_by":{"id":3714742,"username":"ck3g","name":"Vitali Tatarintev","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3714742/avatar.png","web_url":"https://gitlab.com/ck3g"},"labels":["Category:Continuous Integration","Category:Pods","Engineering Allocation","FY22::Q3","Ops candidate","SaaS","Verify::P2","ci-decomposition","devops::verify","group::pipeline execution","reliability","section::ops","workflow::in review"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":3714742,"username":"ck3g","name":"Vitali Tatarintev","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3714742/avatar.png","web_url":"https://gitlab.com/ck3g"}],"author":{"id":12452,"username":"ayufan","name":"Kamil TrzciÅ„ski","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a285e30f35d72526fb0954e8fe7cefa?s=80\u0026d=identicon","web_url":"https://gitlab.com/ayufan"},"type":"ISSUE","assignee":{"id":3714742,"username":"ck3g","name":"Vitali Tatarintev","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3714742/avatar.png","web_url":"https://gitlab.com/ck3g"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336434","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336434","notes":"https://gitlab.com/api/v4/projects/278964/issues/336434/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336434/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336434","relative":"#336434","full":"gitlab-org/gitlab#336434"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6588,"epic":{"id":328775,"iid":6588,"title":"Engineering Allocation: Improve SaaS Reliability in the Verify stage","url":"/groups/gitlab-org/-/epics/6588","group_id":9970,"human_readable_end_date":"Apr 8, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90502104,"iid":336421,"project_id":278964,"title":"Stop recording MD5 fingerprint for keys","description":"### Proposal \n\nFollow-on from https://gitlab.com/gitlab-org/gitlab/-/issues/195668\n\nOnce we are looking up SSH keys by SHA256 fingerprint, we have no more use for the MD5 fingerprint. Further, generating the fingerprint is impossible in FIPS-enforcing environments; trying to do so means the operation will fail. \n\nI propose we stop generating the MD5 fingerprint on key addition, and remove the `keys.fingerprint` column entirely from the database.\n\nIt may still be valuable to *display* the MD5 fingerprint; we could do that on-demand, when viewing the page for a key, instead of when adding the key. They're cheap to calculate; we only store them in the DB for search purposes. We could skip attempting to do so when in a FIPS-enforcing environment.","state":"closed","created_at":"2021-07-19T14:36:45.137Z","updated_at":"2022-04-18T07:01:05.459Z","closed_at":"2022-04-11T12:47:07.330Z","closed_by":{"id":421631,"username":"vyaklushin","name":"Vasilii Iakliushin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/421631/avatar.png","web_url":"https://gitlab.com/vyaklushin"},"labels":["Category:Source Code Management","Deliverable","FIPS","GitLab Core","backend","customer","devops::create","group::source code","section::dev","type::feature","workflow::in review"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":421631,"username":"vyaklushin","name":"Vasilii Iakliushin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/421631/avatar.png","web_url":"https://gitlab.com/vyaklushin"},{"id":4391348,"username":"sean_carroll","name":"Sean Carroll","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4391348/avatar.png","web_url":"https://gitlab.com/sean_carroll"}],"author":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"type":"ISSUE","assignee":{"id":421631,"username":"vyaklushin","name":"Vasilii Iakliushin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/421631/avatar.png","web_url":"https://gitlab.com/vyaklushin"},"user_notes_count":21,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336421","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336421","notes":"https://gitlab.com/api/v4/projects/278964/issues/336421/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336421/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336421","relative":"#336421","full":"gitlab-org/gitlab#336421"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6476,"epic":{"id":316337,"iid":6476,"title":"Source Code BE FIPS Compliance","url":"/groups/gitlab-org/-/epics/6476","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90501786,"iid":336420,"project_id":278964,"title":"Backport `disable_joins` to enable usage of cross-DB relations","description":"As part of identified changes of [PoC](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/62092) is to backport support for `disable_joins`. `disable_joins` allows to mark passthrough relations as having to use `pluck` instead of `cross-joins`. This is essential if the relation defines a model living in another DB.\n\n```ruby\nclass Runner\n   has_many :projects, through: :runner_projects, disable_joins: true\nend\n```\n\nRelated:\n- Initial backport: https://gitlab.com/gitlab-org/gitlab/-/blob/6284efc3560b0d7d6aa216e0de0a2e2f154b89e0/config/initializers/00_rails_disable_joins.rb\n- Initial backport: https://gitlab.com/gitlab-org/gitlab/-/blob/6284efc3560b0d7d6aa216e0de0a2e2f154b89e0/config/initializers/00_rails_disable_joins_on_joins.rb\n- https://github.com/rails/rails/pull/41937\n- https://github.com/rails/rails/pull/42079\n- https://github.blog/2021-07-12-adding-support-cross-cluster-associations-rails-7/\n\n## Proposal\n\n1. Backport `disable_joins` in a vanila way: 1-to-1 change\n1. Since usage of `disable_joins` might have negative impact we need have a way to dynamically toggle the feature to validate this on production\n1. Add additional (temporary feature) on top of disable joins to allow this to by feature-flagged (this should be done on top of backport, the best as an additional mixin). We should remove it as soon as possible as no longer needed.\n\n```ruby\nclass Runner\n   # allow to feature flag disable join usage to rollout it to the production as it might\n   has_many :projects, through: :runner_projects, disable_joins: -\u003e { Feature.enabled?(:ci_runner_projects_disable_joins) }\nend\n```","state":"closed","created_at":"2021-07-19T14:30:59.266Z","updated_at":"2022-05-31T12:22:18.318Z","closed_at":"2021-08-06T14:49:58.230Z","closed_by":{"id":5297955,"username":"pbair","name":"Patrick Bair","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5297955/avatar.png","web_url":"https://gitlab.com/pbair"},"labels":["Category:Pods","database","devops::data_stores","group::pods","section::enablement","wg_database-scalability"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":5297955,"username":"pbair","name":"Patrick Bair","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5297955/avatar.png","web_url":"https://gitlab.com/pbair"}],"author":{"id":12452,"username":"ayufan","name":"Kamil TrzciÅ„ski","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a285e30f35d72526fb0954e8fe7cefa?s=80\u0026d=identicon","web_url":"https://gitlab.com/ayufan"},"type":"ISSUE","assignee":{"id":5297955,"username":"pbair","name":"Patrick Bair","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5297955/avatar.png","web_url":"https://gitlab.com/pbair"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336420","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336420","notes":"https://gitlab.com/api/v4/projects/278964/issues/336420/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336420/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336420","relative":"#336420","full":"gitlab-org/gitlab#336420"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6103,"epic":{"id":281355,"iid":6103,"title":"Decomposition: Support for many databases","url":"/groups/gitlab-org/-/epics/6103","group_id":9970,"human_readable_end_date":"Sep 16, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90500223,"iid":336416,"project_id":278964,"title":"Add test to assure that all Snowplow events definitions adhere to schema","description":"## Summary\n\nThis is a follow up issue to https://gitlab.com/gitlab-org/gitlab/-/merge_requests/62422#note_627805251 \n\n## Goal\n\nTo turn snippet used for review of https://gitlab.com/gitlab-org/gitlab/-/merge_requests/62422 into test suite that would be executed along the other specs on CI to make sure that all Snowplow events definitions adhere to schema","state":"closed","created_at":"2021-07-19T14:10:39.075Z","updated_at":"2021-08-19T10:33:29.415Z","closed_at":"2021-08-19T10:33:29.069Z","closed_by":{"id":8198564,"username":"rkadam3","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8198564/avatar.png","web_url":"https://gitlab.com/rkadam3"},"labels":["backend","devops::growth","group::product intelligence","section::growth","workflow::production"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":8198564,"username":"rkadam3","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8198564/avatar.png","web_url":"https://gitlab.com/rkadam3"}],"author":{"id":4807002,"username":"mikolaj_wawrzyniak","name":"MikoÅ‚aj Wawrzyniak","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4807002/avatar.png","web_url":"https://gitlab.com/mikolaj_wawrzyniak"},"type":"ISSUE","assignee":{"id":8198564,"username":"rkadam3","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8198564/avatar.png","web_url":"https://gitlab.com/rkadam3"},"user_notes_count":6,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336416","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336416","notes":"https://gitlab.com/api/v4/projects/278964/issues/336416/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336416/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336416","relative":"#336416","full":"gitlab-org/gitlab#336416"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":90500194,"iid":336415,"project_id":278964,"title":"The agent should act as a CI/CD tunnel without configuration for Agent projects","description":"\u003c!-- This issue template can be used a great starting point for feature requests. The last section \"Release notes\" can be used as a summary of the feature and is also required if you want to have your release post blog MR auto generated using the release post item generator:  https://about.gitlab.com/handbook/marketing/blog/release-posts/#release-post-item-generator. The remaining sections are the backbone for every feature in GitLab. --\u003e\n\n## Release notes \n\n\u003c!-- What is the problem and solution you're proposing? This content sets the overall vision for the feature and serves as the release notes that will populate in various places, including the [release post blog](https://about.gitlab.com/releases/categories/releases/) and [Gitlab project releases](https://gitlab.com/gitlab-org/gitlab/-/releases). \" --\u003e\n\n## Problem to solve \n\n\u003c!-- What is the user problem you are trying to solve with this issue? --\u003e\n\nAs an Application Operator/Software engineer, I want to start using the GitLab Kubernetes Agent with minimal effort for my projects, using the CI tunnel, so I can focus on writing business code, instead of ops.\n\n## Intended users\n\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops) \n\n## User experience goal\n\nMakes it easy to get started with the Kubernetes Agent\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2021-07-19T14:10:03.742Z","updated_at":"2021-12-06T15:35:34.432Z","closed_at":"2021-12-06T15:29:38.668Z","closed_by":{"id":4545061,"username":"nagyv-gitlab","name":"Viktor Nagy (GitLab)","state":"active","avatar_url":"https://secure.gravatar.com/avatar/fb255c1e9c228b9356af165939b3ac9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/nagyv-gitlab"},"labels":["Category:Kubernetes Management","[deprecated] Accepting merge requests","candidate::14.7","devops::configure","direction","documentation","good for new contributors","group::configure","section::ops","type::feature"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":2107592,"username":"nicholasklick","name":"Nicholas Klick","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2107592/avatar.png","web_url":"https://gitlab.com/nicholasklick"}],"author":{"id":4545061,"username":"nagyv-gitlab","name":"Viktor Nagy (GitLab)","state":"active","avatar_url":"https://secure.gravatar.com/avatar/fb255c1e9c228b9356af165939b3ac9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/nagyv-gitlab"},"type":"ISSUE","assignee":{"id":2107592,"username":"nicholasklick","name":"Nicholas Klick","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2107592/avatar.png","web_url":"https://gitlab.com/nicholasklick"},"user_notes_count":7,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336415","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336415","notes":"https://gitlab.com/api/v4/projects/278964/issues/336415/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336415/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336415","relative":"#336415","full":"gitlab-org/gitlab#336415"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5528,"epic":{"id":217347,"iid":5528,"title":"CI/CD tunnel","url":"/groups/gitlab-org/-/epics/5528","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90497676,"iid":336409,"project_id":278964,"title":"Consider tagging QA image with the commit SHA instead of the branch name","description":"A race condition was discovered in https://gitlab.com/gitlab-org/gitlab/-/issues/335717#note_630112309, where a `master` QA image could be more recent that the GitLab image against which it is run.\n\nThis is because we currently tag QA images with the branch name, so it's possible that a `master` QA image is updated before end-to-end tests are run against a given GitLab image.","state":"closed","created_at":"2021-07-19T13:29:39.673Z","updated_at":"2022-03-16T11:40:54.062Z","closed_at":"2021-07-22T08:13:02.921Z","closed_by":{"id":128633,"username":"rymai","name":"RÃ©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"labels":["Dogfooding::Use Existing Feature","Engineering Productivity","ep::review-apps","maintenance::pipelines","type::maintenance","workflow::in dev"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":128633,"username":"rymai","name":"RÃ©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"}],"author":{"id":128633,"username":"rymai","name":"RÃ©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"type":"ISSUE","assignee":{"id":128633,"username":"rymai","name":"RÃ©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"user_notes_count":0,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336409","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336409","notes":"https://gitlab.com/api/v4/projects/278964/issues/336409/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336409/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336409","relative":"#336409","full":"gitlab-org/gitlab#336409"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":90489392,"iid":336398,"project_id":278964,"title":"CI_JOB _TOKEN exclude public access as scope when using secure setting","description":"### Problem to solve \nWhen using the CI_JOB_TOKEN secure setting with public projects the CI_JOB_TOKEN must be explicitly added still otherwise the token is denied access to the API. Although, since it is a public project, this should be permissible. \n\n### Proposal \n\nWe would need to make a change where public access resources are excluded from job token scope enforcement.","state":"closed","created_at":"2021-07-19T11:22:11.398Z","updated_at":"2021-07-30T14:52:56.801Z","closed_at":"2021-07-30T12:18:18.567Z","closed_by":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"labels":["Category:Continuous Integration","backend","devops::verify","feature::enhancement","group::pipeline execution","section::ops","type::feature","workflow::production"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"}],"author":{"id":4905402,"username":"jreporter","name":"Jackie Porter","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4905402/avatar.png","web_url":"https://gitlab.com/jreporter"},"type":"ISSUE","assignee":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336398","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336398","notes":"https://gitlab.com/api/v4/projects/278964/issues/336398/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336398/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336398","relative":"#336398","full":"gitlab-org/gitlab#336398"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":90487455,"iid":336394,"project_id":278964,"title":"[DevopsAdoption] Remove security scans column","description":"## Summary\n\nWe [decided](https://gitlab.com/gitlab-org/gitlab/-/issues/335190#note_628048399) to remove old metric which was substituted by smaller new metrics. So we need to cleanup old column\n\n### Proposal\n\nRemove `security_scan_succeeded` metric completely and column according to [our guidelines](https://docs.gitlab.com/ee/development/avoiding_downtime_in_migrations.html#dropping-columns)","state":"closed","created_at":"2021-07-19T10:40:16.462Z","updated_at":"2022-05-31T12:39:04.139Z","closed_at":"2022-05-31T12:39:04.118Z","closed_by":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"labels":["Category:DevOps Reports","Community contribution","Hackathon","backend","database","devops::manage","good for new contributors","group::optimize","maintenance::refactor","missed:14.10","missed:15.0","priority::4","section::dev","type::maintenance","workflow::verification"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},{"id":8643317,"username":"svdj","name":"Steven Van der Jeugt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8643317/avatar.png","web_url":"https://gitlab.com/svdj"}],"author":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"type":"ISSUE","assignee":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"user_notes_count":15,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336394","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336394","notes":"https://gitlab.com/api/v4/projects/278964/issues/336394/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336394/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336394","relative":"#336394","full":"gitlab-org/gitlab#336394"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":90483631,"iid":336390,"project_id":278964,"title":"Clicking on board issue title link opens the issue contextual menu","description":"### Summary\n\nWhen on board you click on an issue title link, you are redirected to the issue page.\nIf you click while holding CTRL, the issue page is opened on another tab.\n\nHowever, in both situations, the issue contextual menu on the right sidebar is opened, while it should be not.\nBy usability, it is difficult that you want to edit informations in the contextual menu if you are going to the issue page. By opening the sidebar, furthermore, the board is partially hidden, and, if required, you have to close it. Closing the unwanted sidebar is honestly frustrating.\n\nI don't remember this behavior until GitLab 14.\nIt may be a regression.\n\n### Steps to reproduce\n\nClick on an issue title link on a board.\nThe right contextual menu sidebar opens.\n\n### What is the current *bug* behavior?\n\nThe issue sidebar opens.\n\n### What is the expected *correct* behavior?\n\nThe issue sidebar should not open while clicking on the issue title.","state":"closed","created_at":"2021-07-19T09:30:38.298Z","updated_at":"2021-09-13T14:56:55.278Z","closed_at":"2021-09-09T23:23:32.454Z","closed_by":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"labels":["devops::plan","group::project management","section::dev","severity::4","type::bug","workflow::production"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"}],"author":{"id":4045074,"username":"robertodamiani","name":"Roberto Damiani","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4045074/avatar.png","web_url":"https://gitlab.com/robertodamiani"},"type":"ISSUE","assignee":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"user_notes_count":3,"merge_requests_count":0,"upvotes":8,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336390","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336390","notes":"https://gitlab.com/api/v4/projects/278964/issues/336390/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336390/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336390","relative":"#336390","full":"gitlab-org/gitlab#336390"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5596,"epic":{"id":225594,"iid":5596,"title":"GraphQL boards bugs","url":"/groups/gitlab-org/-/epics/5596","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90481840,"iid":336385,"project_id":278964,"title":"[VSA][FE] Easily distinguish selected projects in the project selector","description":"### Summary\n\nIf I want to deselect a project there isn't an easy way to find the ones that are selected and there are too many projects to scroll through and find the selected ones very easily.\n\nRelated to https://gitlab.com/gitlab-org/gitlab/-/issues/330314#note_628211947\n\n### What is the current *bug* behavior?\n\nWith a relatively sizeable list of projects, users need to scroll through the list to discover which items have already been selected.\n\n### What is the expected *correct* behavior?\n\nIt should be straightforward for users to discover items in the list that have been previously selected.\n\n### Proposal\n- Bubble the selected groups to the top\n- Alphabetically sort selected groups\n- Separate selected and not selected projects with a horizontal line\n\n![image](/uploads/2a43adba647f68bdd82de1ddce554e2e/image.png)\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e","state":"closed","created_at":"2021-07-19T09:07:27.414Z","updated_at":"2021-10-12T23:18:32.524Z","closed_at":"2021-10-12T23:18:32.508Z","closed_by":{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"},"labels":["Category:Value Stream Management","Epic 6459","UI polish","UX","devops::manage","feature::enhancement","frontend","group::optimize","priority::2","section::dev","severity::4","type::bug","type::feature","workflow::verification"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"}],"author":{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"},"type":"ISSUE","assignee":{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336385","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336385","notes":"https://gitlab.com/api/v4/projects/278964/issues/336385/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336385/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336385","relative":"#336385","full":"gitlab-org/gitlab#336385"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5272,"epic":{"id":188272,"iid":5272,"title":"[VSA] Usability improvements","url":"/groups/gitlab-org/-/epics/5272","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":90474413,"iid":336383,"project_id":278964,"title":"Introduce alpha flag on GraphQL elements","description":"We have the `deprecated` and `feature_flag` attributes to annotate that a GraphQL element has some metadata associated with it.\n\nWe might want to consider adding `alpha` for fields that are explicitly exempt from our [deprecation process](https://docs.gitlab.com/ee/api/graphql/#deprecation-and-removal-process).\n\nThanks to @minac for the proposal! :raised_hands:","state":"closed","created_at":"2021-07-19T07:25:28.417Z","updated_at":"2022-06-16T04:42:15.936Z","closed_at":"2022-06-14T05:01:17.114Z","closed_by":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"labels":["GraphQL","api","devops::plan","group::project management","section::dev"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[],"author":{"id":3717078,"username":"cablett","name":"charlie ablett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3717078/avatar.png","web_url":"https://gitlab.com/cablett"},"type":"ISSUE","assignee":null,"user_notes_count":20,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336383","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336383","notes":"https://gitlab.com/api/v4/projects/278964/issues/336383/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336383/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336383","relative":"#336383","full":"gitlab-org/gitlab#336383"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":90444227,"iid":336367,"project_id":278964,"title":"Spike: De-identification of Product Intelligence data - Consider a Data Analytics Platform","description":"## Summary\n\nWe (GitLab) are looking to implement a Data Analytics Platform to make it easier for product team members and executives to understand and access data. In doing so, the data team would like to view your proposal with this future-state in mind.\n\nIn https://gitlab.com/gitlab-org/gitlab/-/issues/332043 we completed a Spike recommendation for a de-identification process and system architecture.\n\nIn this follow-up Spike, we need to update the [graph](https://gitlab.com/gitlab-org/product-intelligence/-/blob/b41617e6c156ef37d00676ed8cb2d33887d2b342/doc/pseudonymistaion_service_proposal.md#pseudonymisation-on-collector-layer) under recommended approach, to include:\n\n1. The anonymized data will be delivered to the data warehouse **and to a Product Analytics Platform** in parallel\n1. There will be a flow of enriched anonymized data from the data warehouse flowing back into the Product Analytics Platform.","state":"closed","created_at":"2021-07-18T03:38:02.254Z","updated_at":"2021-07-26T15:31:28.590Z","closed_at":"2021-07-26T15:31:28.570Z","closed_by":{"id":4807002,"username":"mikolaj_wawrzyniak","name":"MikoÅ‚aj Wawrzyniak","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4807002/avatar.png","web_url":"https://gitlab.com/mikolaj_wawrzyniak"},"labels":["Data de-identification","backend","devops::growth","group::product intelligence","section::growth","spike","workflow::in review"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":4807002,"username":"mikolaj_wawrzyniak","name":"MikoÅ‚aj Wawrzyniak","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4807002/avatar.png","web_url":"https://gitlab.com/mikolaj_wawrzyniak"}],"author":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"type":"ISSUE","assignee":{"id":4807002,"username":"mikolaj_wawrzyniak","name":"MikoÅ‚aj Wawrzyniak","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4807002/avatar.png","web_url":"https://gitlab.com/mikolaj_wawrzyniak"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336367","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336367","notes":"https://gitlab.com/api/v4/projects/278964/issues/336367/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336367/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336367","relative":"#336367","full":"gitlab-org/gitlab#336367"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6309,"epic":{"id":303192,"iid":6309,"title":"Pseudonymization MVC","url":"/groups/gitlab-org/-/epics/6309","group_id":9970,"human_readable_end_date":"Dec 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90408827,"iid":336351,"project_id":278964,"title":"Changes incorrectly counted on merge request for squashed/deleted branch.","description":"### Summary\n\nMerge Request changes tab incorrectly shows the total count of changes.\n\nThe actual changes included are correct, and the end result in the merged branch is correct.\n\nThe issue is specifically reproducible when removing/adding changes directly into master that replace/coincide with the changes in the branch.\n\n![second-mr-no-changes-showing-changes](/uploads/29e001aba891f0e415d977f0889a8b11/second-mr-no-changes-showing-changes.png)\n\n### Steps to reproduce\n\n```\n# Example Project\n# https://gitlab.com/davinwalker/336351-incorrect-changes\n\n# Main\necho \"main branch\"  \u003e main.txt\ngit add .\ngit commit -m \"Initial Commit (Main)\"\ngit push\n\n# Branch\ngit checkout -b 'branch'\necho -e \"bad\" \u003e problem.txt\ngit add .\ngit commit -m \"Problem File Commit (Branch)\"\n\ndate \u003e branch_changes.txt\ngit add .\ngit commit -m \"Random Changes (Branch)\"\n\ngit push origin branch -o merge_request.title='Initial MR' -o merge_request.create\n\n# Review MR / Don't Merge\n# https://gitlab.com/davinwalker/336351-incorrect-changes/-/merge_requests/1\n# - 2 Changes\n\n# Back to Main\ngit checkout main\necho -e \"bad\" \u003e problem.txt\ngit add .\ngit commit -m \"Problem main File Commit (Main)\"\ngit push\n\n# Back to MR #1, Squash, Delete Branch, Merge\n# - Showing 2 Changes, 'Changes' only shows the one change.\n# https://gitlab.com/davinwalker/336351-incorrect-changes/-/merge_requests/1\n\n# Back to Branch\ngit checkout 'branch'\ngit rm problem.txt\ngit commit -m 'Remove Problem File (Branch)'\ngit push origin branch -o merge_request.title='Second MR' -o merge_request.create\n\n# Review Merge #2\n# - 1 Change, with 'no changes between branch and main'\n# - Merge without squash will include commit history without removing files\n```\n\n### Example Project\n\nReproduced in this Project: https://gitlab.com/davinwalker/336351-incorrect-changes\n\n### What is the current *bug* behavior?\n\nWhen the first MR is created, the 'total' changes is correct (2):\n\n![initial-mr-correct-changes](/uploads/456b4a41415c267f91f8dab51f7aedbe/initial-mr-correct-changes.png)\n\nAfter the changes are made to the main branch, the changes still incorrectly show 2:\n\n![initial-mr-after-main-incorrectly-showing-2](/uploads/11d1c3d51a10ce5a6b2f1d95b73378c8/initial-mr-after-main-incorrectly-showing-2.png)\n\nAfter merging, squashing, then pushing the commits up again the second MR is also showing an incorrect change count:\n\n![second-mr-no-changes-showing-changes](/uploads/29e001aba891f0e415d977f0889a8b11/second-mr-no-changes-showing-changes.png)\n\n### What is the expected *correct* behavior?\n\nReflect the count of changes that will be made into the target branch.\n\nCustomer reported on [ZD Internal Ticket](https://gitlab.zendesk.com/agent/tickets/220159)","state":"closed","created_at":"2021-07-16T17:57:34.187Z","updated_at":"2022-09-21T12:01:42.920Z","closed_at":"2022-09-12T18:09:07.991Z","closed_by":{"id":4414431,"username":"thomasrandolph","name":"Thomas Randolph","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6462fcd577d8c957abd2dc23956cfbec?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomasrandolph"},"labels":["Category:Code Review Workflow","Category:Source Code Management","Deliverable","customer","devops::create","frontend","group::code review","merge requests","missed-deliverable","missed:15.2","missed:15.3","section::dev","severity::4","type::bug","workflow::production"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":4414431,"username":"thomasrandolph","name":"Thomas Randolph","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6462fcd577d8c957abd2dc23956cfbec?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomasrandolph"}],"author":{"id":1519365,"username":"davinwalker","name":"Davin Walker","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1519365/avatar.png","web_url":"https://gitlab.com/davinwalker"},"type":"ISSUE","assignee":{"id":4414431,"username":"thomasrandolph","name":"Thomas Randolph","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6462fcd577d8c957abd2dc23956cfbec?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomasrandolph"},"user_notes_count":21,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336351","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336351","notes":"https://gitlab.com/api/v4/projects/278964/issues/336351/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336351/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336351","relative":"#336351","full":"gitlab-org/gitlab#336351"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":854,"epic":{"id":4574,"iid":854,"title":"ðŸ§® Use merge refs for diffs","url":"/groups/gitlab-org/-/epics/854","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90400960,"iid":336340,"project_id":278964,"title":"Add instrumentation classes for license standard metrics","description":"- [x] ZuoraSubscriptionId - [`license_subscription_id`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/config/metrics/license/20210204124852_license_subscription_id.yml)\n- [x] License Key - [`license_md5`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/config/metrics/license/20210204124831_license_md5.yml)\n\nAdd instrumentation classes for these metrics. [Docs](https://docs.gitlab.com/ee/development/usage_ping/metrics_instrumentation.html)","state":"closed","created_at":"2021-07-16T14:48:26.139Z","updated_at":"2021-08-02T04:57:47.733Z","closed_at":"2021-08-02T04:57:47.721Z","closed_by":{"id":8198564,"username":"rkadam3","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8198564/avatar.png","web_url":"https://gitlab.com/rkadam3"},"labels":["backend","devops::growth","feature::addition","group::product intelligence","section::growth","type::feature","workflow::production"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":8198564,"username":"rkadam3","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8198564/avatar.png","web_url":"https://gitlab.com/rkadam3"}],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":{"id":8198564,"username":"rkadam3","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8198564/avatar.png","web_url":"https://gitlab.com/rkadam3"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336340","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":2},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336340","notes":"https://gitlab.com/api/v4/projects/278964/issues/336340/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336340/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336340","relative":"#336340","full":"gitlab-org/gitlab#336340"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6199,"epic":{"id":289889,"iid":6199,"title":"Migrate Standard data metrics to instrumentation classes","url":"/groups/gitlab-org/-/epics/6199","group_id":9970,"human_readable_end_date":"Aug 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90400923,"iid":336339,"project_id":278964,"title":"Add instrumentation classes for timestamp standard metrics","description":"\n- [ ] [`recorded_at`](https://gitlab.com//gitlab-org/gitlab/-/blob/master/config/metrics/license/20210201124932_recorded_at.yml)\n- [ ] [`recording_ce_finished_at`](https://gitlab.com//gitlab-org/gitlab/-/blob/master/config/metrics/license/20210204124938_recording_ce_finished_at.yml)\n- [ ] [`recording_ee_finished_at`](https://gitlab.com//gitlab-org/gitlab/-/blob/master/ee/config/metrics/license/20210204124940_recording_ee_finished_at.yml)\n\nThis could be one instrumentation class for all 3 metrics.\nAdd instrumentation classes for these metrics. [Docs](https://docs.gitlab.com/ee/development/usage_ping/metrics_instrumentation.html)","state":"closed","created_at":"2021-07-16T14:47:42.913Z","updated_at":"2021-07-27T09:32:03.583Z","closed_at":"2021-07-27T09:32:03.571Z","closed_by":{"id":8198564,"username":"rkadam3","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8198564/avatar.png","web_url":"https://gitlab.com/rkadam3"},"labels":["backend","devops::growth","feature::addition","group::product intelligence","section::growth","type::feature","workflow::refinement"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":8198564,"username":"rkadam3","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8198564/avatar.png","web_url":"https://gitlab.com/rkadam3"}],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":{"id":8198564,"username":"rkadam3","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8198564/avatar.png","web_url":"https://gitlab.com/rkadam3"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336339","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336339","notes":"https://gitlab.com/api/v4/projects/278964/issues/336339/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336339/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336339","relative":"#336339","full":"gitlab-org/gitlab#336339"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6199,"epic":{"id":289889,"iid":6199,"title":"Migrate Standard data metrics to instrumentation classes","url":"/groups/gitlab-org/-/epics/6199","group_id":9970,"human_readable_end_date":"Aug 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90409334,"iid":336353,"project_id":278964,"title":"Fix join between ci_job_token_project_scope_links and projects","description":"Described in https://gitlab.com/gitlab-org/manage/general-discussion/-/issues/17363#note_622734759. The join between ci_job_token and projects will be broken by the decomposed databases.\n\n## Proposal\n\nBreak the query in 2 separate ones:\n\n```diff\ndiff --git a/app/models/ci/job_token/scope.rb b/app/models/ci/job_token/scope.rb\nindex 42cfdc21d66..1ad70fccdce 100644\n--- a/app/models/ci/job_token/scope.rb\n+++ b/app/models/ci/job_token/scope.rb\n@@ -32,12 +32,17 @@ def includes?(target_project)\n       def all_projects\n         Project.from_union([\n           Project.id_in(source_project),\n-          Project.where_exists(\n-            Ci::JobToken::ProjectScopeLink\n-              .from_project(source_project)\n-              .where('projects.id = ci_job_token_project_scope_links.target_project_id'))\n+          Project.id_in(target_project_ids)\n         ], remove_duplicates: false)\n       end\n+\n+      private\n+\n+      def target_project_ids\n+        Ci::JobToken::ProjectScopeLink\n+          .from_project(source_project)\n+          .pluck(:target_project_id)\n+      end\n     end\n   end\n end\n```\n\n`Ci::JobToken::Scope#all_projects` is only used when managing the job token scope in the project settings. We don't expect a huge number of projects being returned at the moment since it will be used to list private projects requiring access from a given project.","state":"closed","created_at":"2021-07-16T13:38:59.713Z","updated_at":"2021-09-22T12:48:27.462Z","closed_at":"2021-09-22T12:48:21.298Z","closed_by":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"labels":["Category:Continuous Integration","Engineering Allocation","FY22::Q3","SaaS","Verify::P2","backend","ci-decomposition","database","devops::verify","group::pipeline execution","missed:14.3","pods::active","reliability","section::ops","workflow::production"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"}],"author":{"id":3753003,"username":"cdu1","name":"Chun Du","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3753003/avatar.png","web_url":"https://gitlab.com/cdu1"},"type":"ISSUE","assignee":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336353","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336353","notes":"https://gitlab.com/api/v4/projects/278964/issues/336353/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336353/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336353","relative":"#336353","full":"gitlab-org/gitlab#336353"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6588,"epic":{"id":328775,"iid":6588,"title":"Engineering Allocation: Improve SaaS Reliability in the Verify stage","url":"/groups/gitlab-org/-/epics/6588","group_id":9970,"human_readable_end_date":"Apr 8, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":90393119,"iid":336332,"project_id":278964,"title":"Update integration-test project to skip fields when comparing reports","description":"## Summary\n\nToday job integration tests do a strict comparison of generated reports with expected ones, and this strict comparison create maintenance issues:\n- Some test projects like [tests/python-pip](https://gitlab.com/gitlab-org/security-products/tests/python-pip) don't have a lock file, and they depend on package that might get new versions at any time. As a result, the generated Dependency Scanning report might change, and the expected report needs to be updated. (Same for the SBOMs but these are not compared at the moment.)\n\n## Proposal\n\nChange the [QA scripts](https://gitlab.com/gitlab-org/security-products/analyzers/integration-test/-/tree/main/scripts) so that they pass when the versions of the project dependencies don't match the expected report.\n\n(Ideally, the tests would only pass when package versions are higher that expected, but comparing versions might be difficult because of the different package managers we need to cover.)\n\n## Improvements\n\n- Pipelines of the test projects become very robust.\n- They don't break because of minor changes to the analyzer projects.\n- They don't repeat the image integration tests.\n\n## Involved components\n\nThe change impacts all the [test projects](https://gitlab.com/gitlab-org/security-products/tests) for the Dependency Scanning analyzers. However, these projects don't need to change.\n\n## Implementation Plan\n\n1. [x] Update the [comparable module](https://gitlab.com/gitlab-org/security-products/analyzers/integration-test/-/blob/main/lib/gitlab_secure/integration_test/comparable.rb#L102) to ignore a field if it equals `:SKIP:`.\n1. [x] Ensure that the [CycloneDX shared examples](https://gitlab.com/gitlab-org/security-products/analyzers/integration-test/blob/fcd4183/spec/cyclonedx_shared_examples_spec.rb#L6-6) will also ignore fields containing `:SKIP:`.\n1. [x] Update the [report_shared_examples.rb](https://gitlab.com/gitlab-org/security-products/analyzers/integration-test/-/blob/c10e5bbd3a64d74010fc929efdaebe847ffa0d01/lib/gitlab_secure/integration_test/shared_examples/report_shared_examples.rb) to use `include_json` instead of `eql`.\n1. [x] Add unit tests to the `integration-test` project to verify that fields marked `:SKIP:` are ignored.\n1. [x] Remove sorting from the [GitlabSecure::IntegrationTest::Comparable](https://gitlab.com/gitlab-org/security-products/analyzers/integration-test/blob/0fcd301/lib/gitlab_secure/integration_test/comparable.rb#L14-14) module.\n1. [x] Update the `Report.Sort()` function of the `report` package to sort `Vulnerabilities` by `Severity`, `CompareKey`, and `Location.Dependency.Version` (if available)\n   - https://gitlab.com/gitlab-org/security-products/analyzers/report/-/merge_requests/51+\n1. [x] Update the expectation files in the `gemnasium` project to mark some of the vulnerability/dependency fields as `:SKIP:`. The following MRs have updated expectations fields that have changed as a result of moving dependency targets and can be used as a starting point.\n   - https://gitlab.com/gitlab-org/security-products/analyzers/npm-audit/-/merge_requests/19+\n   - https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-python/-/merge_requests/172+\n1. [x] Update the expectations in `gemnasium` that have changed after implementing steps `5` and `6` above.\n   - https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/-/merge_requests/444+\n1. [x] Add a job that checks if a field marked as `:SKIP:` is removed. The job should include `allow_failure: true` so that it does not block MR progress, but does alert the reviewer(s).\n   \n   The following script that can be used to check for this as a first iteration:\n\n   ```shell\n   # Check if the proposed changes remove a field with value \":SKIP:\".\n   DIFF_CHECK=$(git diff $CI_MERGE_REQUEST_TARGET_BRANCH_SHA $CI_MERGE_REQUEST_SOURCE_BRANCH_SHA | egrep '^-[^\"]*\"[^\"]+\":\\s?\":SKIP:\"')\n   if [[ $DIFF_CHECK != \"\" ]]; then\n       echo \"A previously skipped dependency or component field has been modified.\"\n       echo \"Please review these changes since this has caused test targets to continuously move.\"\n       exit 1;\n   fi\n   ```\n\n   https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/-/merge_requests/444+","state":"closed","created_at":"2021-07-16T12:51:25.546Z","updated_at":"2022-11-24T21:32:47.565Z","closed_at":"2022-11-24T21:26:04.858Z","closed_by":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"labels":["Category:Dependency Scanning","GitLab Ultimate","Stretch","backend","devops::secure","group::composition analysis","maintenance::refactor","priority::1","quad-planning::complete-no-action","section::sec","test","type::maintenance","workflow::production"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"}],"author":{"id":1958785,"username":"fcatteau","name":"Fabien Catteau","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1958785/avatar.png","web_url":"https://gitlab.com/fcatteau"},"type":"ISSUE","assignee":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"user_notes_count":55,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336332","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":9,"completed_count":9},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"9 of 9 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336332","notes":"https://gitlab.com/api/v4/projects/278964/issues/336332/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336332/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336332","relative":"#336332","full":"gitlab-org/gitlab#336332"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5823,"epic":{"id":255201,"iid":5823,"title":"Composition Analysis Testing improvements","url":"/groups/gitlab-org/-/epics/5823","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":90381202,"iid":336322,"project_id":278964,"title":"Replace job tests with image tests in Dependency Scanning analyzer projects","description":"## Summary\n\nUpdate the Dependency Scanning analyzer projects to replace job integration tests (using external test projects and running in separate downstream pipelines) with [image integration tests](https://gitlab.com/gitlab-org/gitlab/-/issues/330093) (using rspec and all running in the same `image test` job).\n\n## Proposal\n\nFor each downstream pipeline using a branch of a [Secure test project](https://gitlab.com/gitlab-org/security-products/tests):\n- check whether a job integration tests is strictly needed\n- if not, copy the files from the test project to the `qa/fixtures` directory of the analyzer project; the sub-directory name is `test_project_name/test_case_name`, and the default test case is \"main\"\n- add an RSpec group that replicates what's tested in the downstream pipeline\n- make sure that the new RSpec examples are executed when running the `image test` job\n- remove the downstream pipeline from the CI config\n\nKeep at least one job integration test, to check the job definition.\n\nImage integration tests are implemented using the [integration-test](https://gitlab.com/gitlab-org/security-products/analyzers/integration-test) project. See gemnasium's [spec/image_spec.rb](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/-/blob/9ce00d783cac7a74957329b99514413cf30a35dd/spec/image_spec.rb).\n\n## Implementation plan\n\nRepeat the steps of the [proposal](#proposal) for all Dependency Scanning analyzer projects:\n\n- https://gitlab.com/gitlab-org/security-products/analyzers/bundler-audit\n- https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium\n- https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-maven\n- https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-python\n- https://gitlab.com/gitlab-org/security-products/analyzers/retire.js\n\n## Improvements\n\n- Image integration tests can run locally.\n- They are easier to maintained, compared to job integration tests using external test projects.\n- They run faster because there's no need to spin off a new job for each test case.\n\n## Risks\n\nWe might miss a case where the job definition can't be ignored. For instance, the image test might not set all the environment variables set in the scanning job. See https://gitlab.com/gitlab-org/gitlab/-/issues/330093#optional-missing-test-coverage.\n\nIt might take longer to execute the pipeline if too many long-running tests are combined in a single `image test` job. This might be a problem in the case of gemnasium-maven, gemnasium-python and retire.js because they build the project.\n\nThere might be leftover when building a project during the test, with possible side-effects. That's because the `DockerRunner` of the [integration-test](https://gitlab.com/gitlab-org/security-products/analyzers/integration-test) reuses the fixtures directory. TODO: create an issue about cleaning up the fixtures directory after running an RSpec group, or to make the runner copy the fixture to a temporary directory every time it runs.\n\n## Involved components\n\n- https://gitlab.com/gitlab-org/security-products/analyzers/bundler-audit\n- https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium\n- https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-maven\n- https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-python\n- https://gitlab.com/gitlab-org/security-products/analyzers/retire.js\n\n## Optional: Intended side effects\n\nSee [improvements](#improvements)\n\n## Optional: Missing test coverage\n\nSee [risks](#risks)\n\n## Testing\n\nThe integration tests provide coverage. SET may need to refactor, replace or remove the Test Orchestrator.","state":"closed","created_at":"2021-07-16T09:44:28.788Z","updated_at":"2022-07-05T04:46:00.336Z","closed_at":"2021-11-23T20:25:30.938Z","closed_by":{"id":52092,"username":"gonzoyumo","name":"Olivier Gonzalez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/651e0ff81c3995a05269f7c80895fe89?s=80\u0026d=identicon","web_url":"https://gitlab.com/gonzoyumo"},"labels":["Category:Dependency Scanning","Stretch","backend","devops::secure","group::composition analysis","maintenance::workflow","missed:14.3","quad-planning::complete-no-action","section::sec","test","type::maintenance","workflow::ready for development"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[],"author":{"id":1958785,"username":"fcatteau","name":"Fabien Catteau","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1958785/avatar.png","web_url":"https://gitlab.com/fcatteau"},"type":"ISSUE","assignee":null,"user_notes_count":15,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336322","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":0,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336322","notes":"https://gitlab.com/api/v4/projects/278964/issues/336322/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336322/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336322","relative":"#336322","full":"gitlab-org/gitlab#336322"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5823,"epic":{"id":255201,"iid":5823,"title":"Composition Analysis Testing improvements","url":"/groups/gitlab-org/-/epics/5823","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90376154,"iid":336319,"project_id":278964,"title":"Pipeline details view only shows up to 100 jobs per stage","description":"### Summary\n\nThe pipeline details view (Pipelines -\u003e select a pipeline -\u003e Pipeline tab) only shows up to 100 jobs per stage. The `Jobs` tab in the same view shows all jobs correctly.\n\n### Steps to reproduce\n\nCreate a pipeline with more than 100 jobs in a stage. Run the pipeline and open the Pipeline details view.\n\n### Example Project\n\nhttps://gitlab.com/mbruemmer/massive-job-number-in-stage-bug/-/pipelines/337658260\n\n### What is the current *bug* behavior?\n\nPipeline details view only shows up to 100 jobs per stage.\n\n### What is the expected *correct* behavior?\n\nPipeline details view only shows all jobs in their stage.\n\n### Relevant logs and/or screenshots\n\nhttps://gitlab.com/mbruemmer/massive-job-number-in-stage-bug/-/pipelines/337658260\n\n### Output of checks\n\nThis bug happens on GitLab.com","state":"closed","created_at":"2021-07-16T08:20:00.360Z","updated_at":"2022-04-27T12:09:33.937Z","closed_at":"2021-09-20T13:01:32.223Z","closed_by":{"id":722076,"username":"matteeyah","name":"Matija ÄŒupiÄ‡","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8bc04cc15e0adba406cf56fecd9d910a?s=80\u0026d=identicon","web_url":"https://gitlab.com/matteeyah"},"labels":["Category:Pipeline Authoring","Deliverable","approaching-SLO","backend","candidate::14.3","customer","devops::verify","group::pipeline authoring","missed-SLO","priority::2","section::ops","severity::2","type::bug","workflow::production"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":722076,"username":"matteeyah","name":"Matija ÄŒupiÄ‡","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8bc04cc15e0adba406cf56fecd9d910a?s=80\u0026d=identicon","web_url":"https://gitlab.com/matteeyah"}],"author":{"id":4544656,"username":"mbruemmer","name":"Martin BrÃ¼mmer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4544656/avatar.png","web_url":"https://gitlab.com/mbruemmer"},"type":"ISSUE","assignee":{"id":722076,"username":"matteeyah","name":"Matija ÄŒupiÄ‡","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8bc04cc15e0adba406cf56fecd9d910a?s=80\u0026d=identicon","web_url":"https://gitlab.com/matteeyah"},"user_notes_count":40,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336319","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336319","notes":"https://gitlab.com/api/v4/projects/278964/issues/336319/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336319/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336319","relative":"#336319","full":"gitlab-org/gitlab#336319"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":90374350,"iid":336316,"project_id":278964,"title":"Check Sentry issues","description":"There are some [exceptions in sentry for version app](https://sentry.gitlab.net/gitlab/versiongitlabcom/), would be great to have the chance to check if there is something we should take into consideration\n\n\n## Example issues\n\n1. ...\n1. ...\n1. ...\n1. ...","state":"closed","created_at":"2021-07-16T07:43:53.884Z","updated_at":"2022-03-16T11:40:59.253Z","closed_at":"2021-12-06T16:47:37.734Z","closed_by":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"labels":["[deprecated] Accepting merge requests","backend","devops::growth","group::product intelligence","section::growth","type::maintenance","won't do"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336316","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336316","notes":"https://gitlab.com/api/v4/projects/278964/issues/336316/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336316/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336316","relative":"#336316","full":"gitlab-org/gitlab#336316"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6371,"epic":{"id":309188,"iid":6371,"title":"Version-App maintenance","url":"/groups/gitlab-org/-/epics/6371","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":90370901,"iid":336315,"project_id":278964,"title":"Inconsistent group list while importing projects using GitLab export and BitBucket cloud","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nIf a user has developer or maintainer level permissions on a group and they try to import a project using `BitBucket cloud`, the import page won't list the groups where the user has maintainer or developer permissions even if those roles are allowed to create new projects there. I think this is due to this check: https://gitlab.com/gitlab-org/gitlab/-/blob/v14.0.1-ee/app/services/import/base_service.rb#L16\n\nBut, if the user enters the target group and try to import a group using `GitLab export` option, the current group is listed. `BitBucket cloud` importer will not list this group still.\n\nSo, I feel this behaviour should be consistent across all the importers.\n\n### Steps to reproduce\n\n- Create a user and link it with a Bitbucket cloud account.\n- Grant this user developer permissions on a group.\n- Make sure the setting `Allowed to create projects` for the group is set to `Developers + Maintainers`.\n- Enter this group as the above user.\n- Try to create a new project and import using `GitLab export`. This will list the group namespace correctly.\n- Now, re-enter the group and try to import a project using `BitBucket cloud` importer, it will only show the user namespace.\n  - Had the user been an owner of the group/namespace, it should have been listed properly.\n\n### What is the current *bug* behavior?\n\nGroup list should be consistent for various importers.\n\n### What is the expected *correct* behavior?\n\nGroup list is not consistent across various importers.\n\n\u003c!-- Describe what you should see instead. --\u003e\n\n### Relevant logs and/or screenshots\n\n\u003c!-- Paste any relevant logs - please use code blocks (```) to format console output, logs, and code\n as it's tough to read otherwise. --\u003e\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\nSystem information\nSystem:\t\tUbuntu 18.04\nProxy:\t\tno\nCurrent User:\tgit\nUsing RVM:\tno\nRuby Version:\t2.7.2p137\nGem Version:\t3.1.4\nBundler Version:2.1.4\nRake Version:\t13.0.3\nRedis Version:\t6.0.14\nGit Version:\t2.32.0\nSidekiq Version:5.2.9\nGo Version:\tunknown\n\nGitLab information\nVersion:\t14.0.3-ee\nRevision:\tb6033e36824\nDirectory:\t/opt/gitlab/embedded/service/gitlab-rails\nDB Adapter:\tPostgreSQL\nDB Version:\t12.6\nURL:\t\thttps://ps-gitlab.sr.gitlab.support\nHTTP Clone URL:\thttps://ps-gitlab.sr.gitlab.support/some-group/some-project.git\nSSH Clone URL:\tgit@ps-gitlab.sr.gitlab.support:some-group/some-project.git\nElasticsearch:\tno\nGeo:\t\tno\nUsing LDAP:\tno\nUsing Omniauth:\tyes\nOmniauth Providers: openid_connect, bitbucket\n\nGitLab Shell\nVersion:\t13.19.0\nRepository storage paths:\n- default: \t/var/opt/gitlab/git-data/repositories\nGitLab Shell path:\t\t/opt/gitlab/embedded/service/gitlab-shell\nGit:\t\t/opt/gitlab/embedded/bin/git\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n[WARNING] Object storage for pages must have a bucket specified\nChecking GitLab subtasks ...\n\nChecking GitLab Shell ...\n\nGitLab Shell: ... GitLab Shell version \u003e= 13.19.0 ? ... OK (13.19.0)\nRunning /opt/gitlab/embedded/service/gitlab-shell/bin/check\nInternal API available: OK\nRedis available via internal API: OK\ngitlab-shell self-check successful\n\nChecking GitLab Shell ... Finished\n\nChecking Gitaly ...\n\nGitaly: ... default ... OK\n\nChecking Gitaly ... Finished\n\nChecking Sidekiq ...\n\nSidekiq: ... Running? ... yes\nNumber of Sidekiq processes (cluster/worker) ... 1/1\n\nChecking Sidekiq ... Finished\n\nChecking Incoming Email ...\n\nIncoming Email: ... Reply by email is disabled in config/gitlab.yml\n\nChecking Incoming Email ... Finished\n\nChecking LDAP ...\n\nLDAP: ... LDAP is disabled in config/gitlab.yml\n\nChecking LDAP ... Finished\n\nChecking GitLab App ...\n\nGit configured correctly? ... yes\nDatabase config exists? ... yes\nAll migrations up? ... yes\nDatabase contains orphaned GroupMembers? ... no\nGitLab config exists? ... yes\nGitLab config up to date? ... yes\nLog directory writable? ... yes\nTmp directory writable? ... yes\nUploads directory exists? ... yes\nUploads directory has correct permissions? ... yes\nUploads directory tmp has correct permissions? ... yes\nInit script exists? ... skipped (omnibus-gitlab has no init script)\nInit script up-to-date? ... skipped (omnibus-gitlab has no init script)\nProjects have namespace: ...\n1/2 ... yes\n1/3 ... yes\n6/4 ... yes\n5/5 ... yes\n1/6 ... yes\n1/7 ... yes\n1/8 ... yes\n1/9 ... yes\n1/10 ... yes\n1/11 ... yes\n1/12 ... yes\n1/13 ... yes\n1/14 ... yes\n1/15 ... yes\n1/16 ... yes\n11/17 ... yes\n1/18 ... yes\n10/19 ... yes\n2/20 ... yes\n1/22 ... yes\n2/23 ... yes\n11/24 ... yes\n10/25 ... yes\n1/26 ... yes\n1/27 ... yes\n1/29 ... yes\n1/30 ... yes\n1/31 ... yes\n1/32 ... yes\n1/33 ... yes\n1/34 ... yes\nRedis version \u003e= 5.0.0? ... yes\nRuby version \u003e= 2.7.2 ? ... yes (2.7.2)\nGit version \u003e= 2.31.0 ? ... yes (2.32.0)\nGit user has default SSH configuration? ... yes\nActive users: ... 6\nIs authorized keys file accessible? ... yes\nGitLab configured to store new projects in hashed storage? ... yes\nAll projects are in hashed storage? ... yes\nElasticsearch version 7.x (6.4 - 6.x deprecated to be removed in 13.8)? ... skipped (elasticsearch is disabled)\n\nChecking GitLab App ... Finished\n\n\nChecking GitLab subtasks ... Finished\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e","state":"closed","created_at":"2021-07-16T06:21:13.628Z","updated_at":"2021-08-26T10:00:24.297Z","closed_at":"2021-08-26T10:00:24.270Z","closed_by":{"id":1230286,"username":"xanf","name":"Illya Klymov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ce4d16557b46210fa57641531b570dd4?s=80\u0026d=identicon","web_url":"https://gitlab.com/xanf"},"labels":["Category:Importers","Importer:Bitbucket Cloud","Next Up","customer","devops::manage","frontend","group::import","section::dev","severity::4","type::bug","workflow::verification"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":1230286,"username":"xanf","name":"Illya Klymov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ce4d16557b46210fa57641531b570dd4?s=80\u0026d=identicon","web_url":"https://gitlab.com/xanf"}],"author":{"id":5287461,"username":"psureshbabu","name":"Priyan Sureshbabu","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cf2976ba76d1e6194fb48522cb9ca061?s=80\u0026d=identicon","web_url":"https://gitlab.com/psureshbabu"},"type":"ISSUE","assignee":{"id":1230286,"username":"xanf","name":"Illya Klymov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ce4d16557b46210fa57641531b570dd4?s=80\u0026d=identicon","web_url":"https://gitlab.com/xanf"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336315","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336315","notes":"https://gitlab.com/api/v4/projects/278964/issues/336315/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336315/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336315","relative":"#336315","full":"gitlab-org/gitlab#336315"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5513,"epic":{"id":215390,"iid":5513,"title":"ðŸ’¡ Bitbucket Importer improvements","url":"/groups/gitlab-org/-/epics/5513","group_id":9970},"iteration":null,"health_status":null},{"id":90352036,"iid":336279,"project_id":278964,"title":"F/u/f !65890: Try slightly larger logo images in the trial registration reassurance sidebar","description":"The following comment from !65890 should be addressed as a follow-up to [the Trial Registration Reassurance experiment]():\n\n- [ ] @kcomoli made a [comment](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/65890#note_627735534):\n\n    \u003e @dreedy I agree to some extent. We have to keep a balance where the form is the main element of the page. So keeping the font-size as is on the reassurance is appropriate. That said, I agree we could size-up the logos. We could try out `40x40` instead of `32x32`. I leave it up to you whether we want to do this now or later as part of the clean-up, both works for me.\n\n  - In response to an early [comment](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/65890#note_627172224) from @justin_ho\n\n      \u003e Code LGTM and looks like a nice addition ðŸ‘\n      \u003e \n      \u003e I only have 1 minor ~UX concern (non-blocking). When I checked this out locally, the text (the 3 bullet points) and logos are really tiny and hard to read, especially the longer ones like ticketmaster. Maybe it's just me and my big ass screen but IMO there is so much empty space, can't we just increase the size of everything to make it more legible?","state":"closed","created_at":"2021-07-15T17:59:44.111Z","updated_at":"2022-02-18T07:04:30.331Z","closed_at":"2022-02-01T23:47:49.147Z","closed_by":{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"},"labels":["Deliverable","devops::growth","group::acquisition","section::growth","workflow::in review"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"}],"author":{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"},"type":"ISSUE","assignee":{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"},"user_notes_count":13,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336279","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336279","notes":"https://gitlab.com/api/v4/projects/278964/issues/336279/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336279/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336279","relative":"#336279","full":"gitlab-org/gitlab#336279"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6311,"epic":{"id":305008,"iid":6311,"title":"[Engineering] Experiment Cleanup: Add reassurance to the trial flow â€“Â Design 1","url":"/groups/gitlab-org/-/epics/6311","group_id":9970,"human_readable_end_date":"Feb 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90351534,"iid":336277,"project_id":278964,"title":"Document workaround for importing unrelated certs via keytool in Dependency Scanning","description":"\u003c!--\n\n* Use this issue template for suggesting new docs or updates to existing docs.\n  Note: Doc work as part of feature development is covered in the Feature Request template.\n\n* For issues related to features of the docs.gitlab.com site, see\n     https://gitlab.com/gitlab-org/gitlab-docs/issues/\n\n* For information about documentation content and process, see\n     https://docs.gitlab.com/ee/development/documentation/ --\u003e\n\n### Problem to solve\n\nUsers are able to import single certificates and certificate bundles into `gemnasium-maven` but this does not account for importing multiple unrelated (non-bundled) certificates. The documentation should show how to do this via ci configuration.\n\n### Further details\n\nFirst reported: https://gitlab.com/gitlab-org/gitlab/-/issues/321270\n\nThe solution discussed [in that issue](https://gitlab.com/gitlab-org/gitlab/-/issues/321270#note_515632754) should be documented in the main docs.\n\n### Implementation plan\n\n- [x] update [docs troubleshooting](https://docs.gitlab.com/ee/user/application_security/dependency_scanning/#troubleshooting) section to add  workaround code as in this note https://gitlab.com/gitlab-org/gitlab/-/issues/321270#note_515632754\n\n### Testing\n\n- [x] generate a two-cert test (e.g. in https://gitlab.com/gitlab-org/security-products/tests/java-maven/) to ensure this workaround works as expected: https://gitlab.com/gitlab-org/security-products/tests/java-maven/-/blob/keytool-import-example-FREEZE/.gitlab-ci.yml","state":"closed","created_at":"2021-07-15T17:44:19.170Z","updated_at":"2021-09-18T07:02:59.588Z","closed_at":"2021-09-10T20:48:31.338Z","closed_by":{"id":4668304,"username":"ifrenkel","name":"Igor Frenkel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a73e8113c53ac25297ce751e59bbb1d3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifrenkel"},"labels":["Category:Dependency Scanning","Deliverable","Technical Writing","backend","devops::secure","documentation","group::composition analysis","quad-planning::complete-action","section::sec","secure:refinement-backend","tw-weight::5","workflow::production"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":4668304,"username":"ifrenkel","name":"Igor Frenkel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a73e8113c53ac25297ce751e59bbb1d3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifrenkel"}],"author":{"id":4668304,"username":"ifrenkel","name":"Igor Frenkel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a73e8113c53ac25297ce751e59bbb1d3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifrenkel"},"type":"ISSUE","assignee":{"id":4668304,"username":"ifrenkel","name":"Igor Frenkel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a73e8113c53ac25297ce751e59bbb1d3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifrenkel"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336277","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":2},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336277","notes":"https://gitlab.com/api/v4/projects/278964/issues/336277/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336277/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336277","relative":"#336277","full":"gitlab-org/gitlab#336277"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":90344350,"iid":336267,"project_id":278964,"title":"Secure - Composition Analysis: Evaluate impact of database decomposition","description":"From https://gitlab.com/groups/gitlab-org/-/epics/6289\n\n### Background\nThe main goal of the gitlab~19419036 decomposition efforts is to split the database into two, for the first iteration, to address database scalability concerns. The first iteration focuses on a database for CI and a database for the rest of the functionality. There are likely customers that depend on all of the data coming from a single database. This issue is to gather information, determine the impact of decomposing the database and create issues to resolve those dependencies to work with the new architecture. \n\nSee https://gitlab.com/gitlab-org/gitlab/-/issues/327019 for the SQL queries executed by the Rails backend for the Dependency Scanning and License Scanning features.\n\n#### Implementation\n1. Architecture overview https://gitlab.com/groups/gitlab-org/-/epics/6168#solution.\n1. For the first iteration -\n   1. All `ci_*` tables will be moved into a second logical database.\n   1. All the other tables remain in one logical database.\n   1. [Migration plan of `ci_*` tables](https://about.gitlab.com/handbook/engineering/development/enablement/sharding/migrate-ci-tables-to-new-database-plan.html).\n1. The most part of implementation is based on [Rails 6 multi DB support](https://guides.rubyonrails.org/active_record_multiple_databases.html) so in simple terms we configure Rails to know which DB to use for each Rails model.\n1. [Remove all foreign keys that cross-join from/to CI](https://gitlab.com/gitlab-org/gitlab/-/issues/333412).\n1. [Make schema migrations aware of multiple databases](https://gitlab.com/gitlab-org/gitlab/-/issues/334232).\n\n### Request\n\n1. Determine whether the impact is on the critical path of the first iteration.\n1. Find a solution as the details become clear.\n\nExamine how data is extracted from the database then think about how decomposed databases could impact your features.\n\n1. Do you see potential impacts from the decomposition PoC https://gitlab.com/gitlab-org/gitlab/-/merge_requests/62092?\n1. Do you connect to the database directly?\n1. Does your feature require data joins from the two logical databases?\n1. Does your ActiveRecord query span tables in the two logical databases?\n\n### Result\n\nThere are several issues listed under https://gitlab.com/groups/gitlab-org/-/epics/6373 for things that need to be fixed.\n\n/cc @NicoleSchwartz","state":"closed","created_at":"2021-07-15T15:47:33.690Z","updated_at":"2021-08-18T07:06:10.312Z","closed_at":"2021-07-21T15:41:10.328Z","closed_by":{"id":1958785,"username":"fcatteau","name":"Fabien Catteau","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1958785/avatar.png","web_url":"https://gitlab.com/fcatteau"},"labels":["Category:Dependency Scanning","Category:License Compliance","Deliverable","backend","devops::secure","group::composition analysis","maintenance::refactor","section::sec","workflow::ready for development"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":1958785,"username":"fcatteau","name":"Fabien Catteau","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1958785/avatar.png","web_url":"https://gitlab.com/fcatteau"}],"author":{"id":52092,"username":"gonzoyumo","name":"Olivier Gonzalez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/651e0ff81c3995a05269f7c80895fe89?s=80\u0026d=identicon","web_url":"https://gitlab.com/gonzoyumo"},"type":"ISSUE","assignee":{"id":1958785,"username":"fcatteau","name":"Fabien Catteau","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1958785/avatar.png","web_url":"https://gitlab.com/fcatteau"},"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2021-07-30","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336267","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336267","notes":"https://gitlab.com/api/v4/projects/278964/issues/336267/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336267/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336267","relative":"#336267","full":"gitlab-org/gitlab#336267"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6289,"epic":{"id":302020,"iid":6289,"title":"Decomposition: Identify other teams and features impacted by decomposing the database","url":"/groups/gitlab-org/-/epics/6289","group_id":9970,"human_readable_end_date":"Aug 30, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":90344016,"iid":336265,"project_id":278964,"title":"FE: Max User count activity tweak graph to support UI","description":"Background - https://gitlab.com/gitlab-org/gitlab/-/issues/334689#note_619838538\n\nIn https://gitlab.com/gitlab-org/gitlab-ui, tweak the [line chart](https://gitlab.com/gitlab-org/gitlab-ui/-/blob/main/src/components/charts/line/line.vue#L155) and add the option of a dashed line style (`lineStyle.type: 'dashed'`, [see here](https://echarts.apache.org/examples/en/editor.html?c=line-style)).\n\n### Availability \u0026 Testing\n\nAs we are altering functionality and adding another piece of it, let's ensure we have frontend tests that ensure the rendering of the line chart.\n\nWe should also add a test to check the interactivity of toggling between the two styles.","state":"closed","created_at":"2021-07-15T15:38:55.088Z","updated_at":"2022-12-22T14:58:59.560Z","closed_at":"2022-12-22T14:58:59.280Z","closed_by":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"labels":["Category:Subscription Cost Management","UX","[deprecated] Accepting merge requests","[deprecated] Category:Utilization","devops::fulfillment","frontend","group::utilization","quad-planning::complete-action","section::fulfillment","type::feature","won't do","workflow::ready for design"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[],"author":{"id":4430316,"username":"rhardarson","name":"Ragnar Hardarson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4430316/avatar.png","web_url":"https://gitlab.com/rhardarson"},"type":"ISSUE","assignee":null,"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336265","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336265","notes":"https://gitlab.com/api/v4/projects/278964/issues/336265/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336265/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336265","relative":"#336265","full":"gitlab-org/gitlab#336265"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6397,"epic":{"id":312200,"iid":6397,"title":"Seat Usage Page - SaaS","url":"/groups/gitlab-org/-/epics/6397","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":90343787,"iid":336263,"project_id":278964,"title":"Create Usage Quota tab and feature flag for Max User count activity","description":"Background - https://gitlab.com/gitlab-org/gitlab/-/issues/334689#note_619838538\n\nAs part of https://gitlab.com/groups/gitlab-org/-/epics/5872 we need a tab on the Usage Quota page for the user to hit and we want it protected by a feature flag until we're ready to release\n\n![](https://gitlab.com/gitlab-org/gitlab/uploads/9cea7e01d1b9e869936d377fe1307e16/Screen_Shot_2021-04-21_at_2.13.01_p.m..png)\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\nFrontend specs should be written to accommodate for this new tab.  If the Tab is a new Vue component, the component should have sufficient testing to ensure that the data necessary in the tab is present.\n\nWe may also consider feature tests to ensure that the tab appears when the feature flag is enabled, versus the appearance when not enabled.","state":"closed","created_at":"2021-07-15T15:33:31.056Z","updated_at":"2021-08-03T14:52:03.067Z","closed_at":"2021-08-03T14:51:59.616Z","closed_by":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"labels":["[deprecated] Accepting merge requests","[deprecated] Category:Utilization","devops::fulfillment","frontend","group::utilization","quad-planning::complete-action","section::fulfillment","type::feature","workflow::ready for development"],"milestone":null,"assignees":[],"author":{"id":4430316,"username":"rhardarson","name":"Ragnar Hardarson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4430316/avatar.png","web_url":"https://gitlab.com/rhardarson"},"type":"ISSUE","assignee":null,"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336263","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336263","notes":"https://gitlab.com/api/v4/projects/278964/issues/336263/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336263/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":"https://gitlab.com/api/v4/projects/278964/issues/334861"},"references":{"short":"#336263","relative":"#336263","full":"gitlab-org/gitlab#336263"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6397,"epic":{"id":312200,"iid":6397,"title":"Seat Usage Page - SaaS","url":"/groups/gitlab-org/-/epics/6397","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":90343641,"iid":336262,"project_id":278964,"title":"Skipping tests externally (Remove `skip: Gitlab.jh?` in the code base)","description":"## Background\n\nIn https://gitlab.com/gitlab-org/gitlab/-/merge_requests/66227 and https://gitlab.com/gitlab-org/gitlab/-/merge_requests/66228 we're rushing to skip the tests for JH with `skip: Gitlab.jh?`, but we should implement a better way to skip tests for JH.\n\n## Potential solutions\n\n* Implement a way to skip tests in general, via environment variables or something\n* Implement a way to skip tests configured in a file, and this file can be stored in `jh/.skip-tests` so which tests to skip can sit in JH repository rather than EE repository\n\n## Other references\n\n* https://gitlab.com/gitlab-jh/gitlab/-/issues/143","state":"closed","created_at":"2021-07-15T15:31:22.764Z","updated_at":"2022-03-16T11:41:00.391Z","closed_at":"2021-07-26T18:17:19.209Z","closed_by":{"id":4303148,"username":"kwiebers","name":"Kyle Wiebers","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4303148/avatar.png","web_url":"https://gitlab.com/kwiebers"},"labels":["Engineering Productivity","ep::contributor tooling","maintenance::refactor","maintenance::workflow","test","type::maintenance"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":6290669,"username":"godfat-gitlab","name":"Lin Jen-Shin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6290669/avatar.png","web_url":"https://gitlab.com/godfat-gitlab"}],"author":{"id":6290669,"username":"godfat-gitlab","name":"Lin Jen-Shin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6290669/avatar.png","web_url":"https://gitlab.com/godfat-gitlab"},"type":"ISSUE","assignee":{"id":6290669,"username":"godfat-gitlab","name":"Lin Jen-Shin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6290669/avatar.png","web_url":"https://gitlab.com/godfat-gitlab"},"user_notes_count":10,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336262","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336262","notes":"https://gitlab.com/api/v4/projects/278964/issues/336262/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336262/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336262","relative":"#336262","full":"gitlab-org/gitlab#336262"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":90331551,"iid":336238,"project_id":278964,"title":"Error budget -  Investigate mirror/pull API","description":"Investigate mirror/pull API\nThis is a follow up issue based on the work work scalability team had done in gitlab-com/gl-infra/scalability#1142\n\nWe want to reduce Pipeline authoring error budget and we discover the following\n\nPOST /api/:version/projects/:id/mirror/pull is the second highest contributor. This endpoint is fairly distributed across all organizations. There is no dominant. It means that a wide range of users are getting slow responses. The chart below showing that the 95th percentile of this API endpoint is 5.596 seconds.\n\nwe would like to investigate why we are getting a slow response rate from this API, more information in the related issue","state":"closed","created_at":"2021-07-15T12:15:00.026Z","updated_at":"2021-10-07T19:26:21.562Z","closed_at":"2021-09-08T06:43:31.382Z","closed_by":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"labels":["Category:Pipeline Authoring","Deliverable","backend","bug::performance","devops::verify","group::pipeline authoring","priority::2","section::ops","severity::2","workflow::production"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"}],"author":{"id":4509877,"username":"dhershkovitch","name":"Dov Hershkovitch","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7daa3113f0359f08a217fa800d9cc1d2?s=80\u0026d=identicon","web_url":"https://gitlab.com/dhershkovitch"},"type":"ISSUE","assignee":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"user_notes_count":15,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336238","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336238","notes":"https://gitlab.com/api/v4/projects/278964/issues/336238/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336238/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336238","relative":"#336238","full":"gitlab-org/gitlab#336238"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":90325336,"iid":336226,"project_id":278964,"title":"[Feature flag] Rollout of `import_redis_increment_by`","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout [Github Importer Reliability Metrics](https://gitlab.com/gitlab-org/gitlab/-/issues/335199) on production,\nthat is currently behind the `import_redis_increment_by` feature flag.\n\nThis feature flag is a _damage control_ feature flag based on https://gitlab.com/gitlab-org/gitlab/-/merge_requests/65773#note_626617284.\n\nGiven the recent incidents regarding Redis, the introduction of high demanding requests to Redis are considered dangerous. To have a rapid action control, in case the `Gitlab::Cache::Import.increment_by` causes any infrastructure problems, the `import_redis_increment_by` feature flag was created to control this new feature.\n\n## Owners\n\n- Team: ~\"group::import\" \n- Most appropriate slack channel to reach out to: `#g_manage_import`\n- Best individual to reach out to: @kassio \n- PM: @hdelalic \n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## The Rollout Plan\n\n- Partial Rollout on GitLab.com with testing groups\n- Rollout on GitLab.com for a certain period (How long)\n- Percentage Rollout on GitLab.com\n- Rollout Feature for everyone as soon as it's ready\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? Sentry errors reports can also be useful to review --\u003e\n\n## Testing Groups/Projects/Users\n\n\u003c!-- If applicable, any groups/projects that are happy to have this feature turned on early. Some organizations may wish to test big changes they are interested in with a small subset of users ahead of time for example. --\u003e\n\n- `gitlab-org/gitlab` project\n- `gitlab-org`/`gitlab-com` groups\n- ...\n\n\n## Expectations\n\n### What are we expecting to happen?\n\n\u003c!-- Describe the expected outcome when rolling out this feature --\u003e\n\n### What might happen if this goes wrong?\n\n\u003c!-- Should the feature flag be turned off? Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- [x] Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Enable the feature globally on non-production environments.\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e true --dev`\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e true --staging`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Preparation before production rollout\n\n- [x] Ensure that the feature MRs have been deployed to both production and canary.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [x] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [x] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [x] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com.\n- [x] If the feature might impact the user experience, notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n- [x] If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), enable it on GitLab.com for [testing groups/projects](#testing-groupsprojectsusers).\n    - [x] `/chatops run feature set --\u003cactor-type\u003e=\u003cactor\u003e \u003cfeature-flag-name\u003e true`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Global rollout on production\n\n- [x] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e`\n  - Enable the feature globally on production environment.\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e true`\n- [x] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [x] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [ ] Create a merge request with the following changes. Ask for review and merge it.\n    - [ ] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the default-enabling MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-default-enabling-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [ ] (Optional) You can create a separate issue for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [ ] Set the title to \"[Feature flag] Cleanup `\u003cfeature-flag-name\u003e`\".\n    - [ ] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [ ] Link this rollout issue as a related issue.\n    - [ ] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [x] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag. Ask for review and merge it.\n    - [x] Remove all references to the feature flag from the codebase.\n    - [x] Remove the YAML definitions for the feature from the repository.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the cleanup MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-cleanup-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --dev`\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --staging`\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e`\n- [ ] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set \u003cfeature-flag-name\u003e false\n```","state":"closed","created_at":"2021-07-15T10:12:33.304Z","updated_at":"2022-01-27T22:06:13.191Z","closed_at":"2022-01-27T22:06:13.175Z","closed_by":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"labels":["Category:Importers","Importer:GitHub","Next Up","backend","devops::manage","feature flag","group::import","milestone::p3","missed:14.7","section::dev","type::feature","workflow::production"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"}],"author":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"type":"ISSUE","assignee":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336226","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":47,"completed_count":26},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"26 of 47 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336226","notes":"https://gitlab.com/api/v4/projects/278964/issues/336226/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336226/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336226","relative":"#336226","full":"gitlab-org/gitlab#336226"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3051,"epic":{"id":39431,"iid":3051,"title":"ðŸ’¡ GitHub Importer improvements","url":"/groups/gitlab-org/-/epics/3051","group_id":9970},"iteration":null,"health_status":null},{"id":90323455,"iid":336221,"project_id":278964,"title":"Cleanup: Feature Flag - DAST Configuration UI","description":"This issue is to cleanup `dast_configuration_ui` feature flag added in https://gitlab.com/gitlab-org/gitlab/-/issues/330728\n\n## Owners\n\n* Team: ~\"group::dynamic analysis\"\n* Most appropriate slack channel to reach out to: `#f_dast_on_demand_scans`\n* Best individual to reach out to: @djadmin @philipcunningham\n* PM: `@derekferguson`\n\n\n### Clean up the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [x] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag. Ask for review and merge it.\n    - [x] Remove all references to the feature flag from the codebase.\n    - [x] Remove the YAML definitions for the feature from the repository.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [x] Ensure that the cleanup MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-cleanup-mr\u003e`\n- [x] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [x] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --dev`\n    - [x] `/chatops run feature delete \u003cfeature-flag-name\u003e --staging`\n    - [x] `/chatops run feature delete \u003cfeature-flag-name\u003e`\n- [x] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set \u003cfeature-flag-name\u003e false\n```","state":"closed","created_at":"2021-07-15T09:41:58.694Z","updated_at":"2021-10-28T13:55:07.036Z","closed_at":"2021-07-28T13:00:47.988Z","closed_by":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"labels":["Category:DAST","Deliverable","backend","devops::secure","feature flag","frontend","group::dynamic analysis","section::sec","type::maintenance","workflow::verification"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"}],"author":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"type":"ISSUE","assignee":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"user_notes_count":1,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336221","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":13,"completed_count":11},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"11 of 13 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336221","notes":"https://gitlab.com/api/v4/projects/278964/issues/336221/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336221/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336221","relative":"#336221","full":"gitlab-org/gitlab#336221"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5981,"epic":{"id":269267,"iid":5981,"title":"DAST Configuration UI Implementation","url":"/groups/gitlab-org/-/epics/5981","group_id":9970,"human_readable_end_date":"Sep 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":90323250,"iid":336220,"project_id":278964,"title":"User details can be stale when discussion is cached","description":"### Summary\n\n@engwan reported in https://gitlab.com/gitlab-org/gitlab/-/issues/336204#note_627467878 that it is possible that user details (name, username, status) can be stale when discussion is already cached when viewing a MR.\n\n### Steps to reproduce\n\n1. User A commented on a MR.\n1. User B views the MR so the discussions are cached for user B.\n1. User A changes their name.\n1. User B views the MR again. Outdated User A name will be displayed on the comment.\n\n### Proposal\n\n1. Look into including cache key of authors in `Discussion#cache_key`.\n1. Or something else...","state":"closed","created_at":"2021-07-15T09:37:07.383Z","updated_at":"2021-08-18T07:01:42.252Z","closed_at":"2021-08-03T05:58:11.368Z","closed_by":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"labels":["Deliverable","backend","devops::create","group::code review","section::dev","severity::4","type::bug"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"}],"author":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"type":"ISSUE","assignee":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336220","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336220","notes":"https://gitlab.com/api/v4/projects/278964/issues/336220/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336220/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336220","relative":"#336220","full":"gitlab-org/gitlab#336220"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6142,"epic":{"id":285495,"iid":6142,"title":"Cache responses of endpoints used in merge request page","url":"/groups/gitlab-org/-/epics/6142","group_id":9970,"human_readable_end_date":"Oct 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90318234,"iid":336212,"project_id":278964,"title":"Stale cache when referenced issuable in merge request note changes its state","description":"### Summary\n\nWhen `merge_request_discussion_cache` feature flag is enabled and when a discussion on merge request references an issuable (Issue, Merge Request or Epic), and then the state of that issuable changes after the discussion has already been cached, subsequent requests will load a stale cache with outdated state.\n\nIt'll only invalidate when the cache expires.\n\n### Steps to reproduce\n\n1. Add a comment on MR with a reference to another issue, MR or epic.\n1. Reload the page so cache will created.\n1. Close the referenced issuable.\n1. Reload the MR page and you can see that the issuable is still referenced but as open instead of closed.\n\n### Example Project\n\nTested this locally but it can be recreated in https://gitlab.com/patrickbajao/verification since feature flag is enabled for this project.\n\n### What is the current *bug* behavior?\n\nIt shows outdated referenced issuable state.\n\n### What is the expected *correct* behavior?\n\nIt shows updated referenced issuable state.\n\n### Possible fixes\n\nInclude the sha of notes' `redacted_note_html` (like `Digest::SHA1.hexdigest(redacted_note_html)`) because we set this when we post process the content. We currently only add the sha of notes' `id` in `Discussion#cache_key` so we could probably combine them.","state":"closed","created_at":"2021-07-15T08:17:10.605Z","updated_at":"2021-08-13T15:04:46.333Z","closed_at":"2021-07-15T08:41:40.813Z","closed_by":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"labels":["backend","devops::create","group::code review","type::bug","type::feature"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"}],"author":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"type":"ISSUE","assignee":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336212","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336212","notes":"https://gitlab.com/api/v4/projects/278964/issues/336212/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336212/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336212","relative":"#336212","full":"gitlab-org/gitlab#336212"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":90312755,"iid":336200,"project_id":278964,"title":"Fix Security feature ::Ci::Pipeline.with_vulnerabilities cross-joining between CI and non-CI tables","description":"From https://gitlab.com/gitlab-org/gitlab/-/merge_requests/62092 we discovered [`::Ci::Pipeline.with_vulnerabilities`](https://gitlab.com/gitlab-org/gitlab/-/blob/0e185a22c5f5c48144de1bd4d82ecdacfdb53bcc/ee/app/models/ee/ci/pipeline.rb#L37) joins between non-CI and CI tables. This will not be possible when we move all `ci_*` tables to another database.\n\nThe query in question is:\n\n```sql\nSELECT \"ci_pipelines\".* FROM \"ci_pipelines\"\nWHERE (EXISTS (\n  SELECT 1 FROM \"vulnerability_occurrence_pipelines\"\n  WHERE (ci_pipelines.id=vulnerability_occurrence_pipelines.pipeline_id)))\n```\n\n### Options\n\n1. Is it possible to rename `vulnerability_occurrence_pipelines` to `ci_vulnerability_occurrence_pipelines` since it seems closely coupled to `ci` stuff? Is this table joined elsewhere outside of `ci_*`? If not it may be easier to just rename it and it will move with all other CI tables\n1. Is it possible to remove or somehow refactor this code so that this isn't necessary?\n1. When this scope is used is it possible to pluck all the previously scoped pipeline ids into memory so that we don't need to actually do a join?\n1. Is there a new table we could create to store the relevant data we need to construct these queries? It will be de-normalized and storing redundant info that is on the other tables, can be written to only after the data needs to be stored (eg. after a build finishes) and can be written in sidekiq and then it will allow much faster querying for the specific data we need for the feature.\n\n\n### Sharding team recommended option\n\nSee https://gitlab.com/gitlab-org/gitlab/-/issues/336590#sharding-team-recommended-option as it looks like we may very well just use the same solution for several similar problems.\n\n### Implementation plan: \n\n- [x] Remove [`::Ci::Pipeline.with_vulnerabilities`](https://gitlab.com/gitlab-org/gitlab/-/blob/0e185a22c5f5c48144de1bd4d82ecdacfdb53bcc/ee/app/models/ee/ci/pipeline.rb#L37) scope and related specs","state":"closed","created_at":"2021-07-15T06:29:25.598Z","updated_at":"2021-08-17T07:09:24.894Z","closed_at":"2021-08-04T08:21:41.717Z","closed_by":{"id":120073,"username":"DylanGriffith","name":"Dylan Griffith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/120073/avatar.png","web_url":"https://gitlab.com/DylanGriffith"},"labels":["Category:Pods","Category:Vulnerability Management","automation:ml","automation:ml wrong","ci-decomposition","devops::secure","group::threat insights","pods::active","section::sec","severity::2","workflow::verification"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":7825316,"username":"subashis","name":"Subashis  Chakraborty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7825316/avatar.png","web_url":"https://gitlab.com/subashis"}],"author":{"id":120073,"username":"DylanGriffith","name":"Dylan Griffith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/120073/avatar.png","web_url":"https://gitlab.com/DylanGriffith"},"type":"ISSUE","assignee":{"id":7825316,"username":"subashis","name":"Subashis  Chakraborty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7825316/avatar.png","web_url":"https://gitlab.com/subashis"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336200","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":1},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336200","notes":"https://gitlab.com/api/v4/projects/278964/issues/336200/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336200/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336200","relative":"#336200","full":"gitlab-org/gitlab#336200"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6373,"epic":{"id":309455,"iid":6373,"title":"Decomposition: Make Secure features compatible with Decomposed CI database","url":"/groups/gitlab-org/-/epics/6373","group_id":9970,"human_readable_end_date":"Aug 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90311335,"iid":336199,"project_id":278964,"title":"Fix Code Coverage feature Project.with_code_coverage joining `projects` and `ci_daily_build_group_report_results`","description":"From https://gitlab.com/gitlab-org/gitlab/-/merge_requests/62092 we've identified [`Project.with_code_coverage`](https://gitlab.com/gitlab-org/gitlab/-/blob/9e2e7a97f88e5f900715573564daeec61db66e52/ee/app/models/ee/project.rb#L128) joins between non `ci_*` tables and `ci_*` tables. This will not be possible when `ci_*` tables are moved to a separate database.\n\nThe query is:\n\n```sql\nSELECT \"projects\".* FROM \"projects\"\nINNER JOIN \"ci_daily_build_group_report_results\" ON \"ci_daily_build_group_report_results\".\"project_id\" = \"projects\".\"id\"\nWHERE ((data-\u003e'coverage') IS NOT NULL)\nAND \"ci_daily_build_group_report_results\".\"default_branch\" = TRUE\nGROUP BY \"projects\".\"id\"\n```\n\n### Options (Before https://gitlab.com/gitlab-org/gitlab/-/issues/336617 was done)\n\n1. Change this query to 2 queries to avoid the join (not sure if this will be possible yet as it depends on how this scope is used if you can avoid loading too many project IDs into memory)\n2. Refactor/change the feature so that this query is not necessary\n3. De-normalize data in some way so that you don't need to join\n\n### Sharding team recommended option\n\nThis seems like it's very similar to https://gitlab.com/gitlab-org/gitlab/-/issues/336590 . Probably the best option is to introduce a combined table to solve both problems called `projects_with_ci_feature_usage` with 2 columns `project_id, ci_feature` and then we can just store `\"code_coverage\"` and `\"security_report\"` in the `ci_feature` column when this is first used for the project.\n\nThe resulting query would then be:\n\n```sql\nSELECT \"projects\".* FROM \"projects\"\nINNER JOIN \"projects_with_ci_feature_usage\" ON \"projects_with_ci_feature_usage\".\"project_id\" = \"projects\".\"id\"\nWHERE \"projects_with_ci_feature_usage\".\"ci_feature\" = 'code_coverage'\n```\n\n### Steps to take based on https://gitlab.com/gitlab-org/gitlab/-/issues/336617\n\n1. Create MR to introduce the new `projects_with_ci_feature_usage` table. Don't implement any logic yet that inserts into the table so we can quickly iterate and have the model available to both https://gitlab.com/gitlab-org/gitlab/-/issues/336199 and https://gitlab.com/gitlab-org/gitlab/-/issues/336590.\n1. For https://gitlab.com/gitlab-org/gitlab/-/issues/336199, we can implement MR that upserts into `projects_with_ci_feature_usage` when we execute the `Ci::DailyBuildGroupReportResultService`. But don't query the new table yet.\n1. Implement MR for backfilling new table with projects that have coverage.\n1. Finally, fix the query to use the new table.\n\nSteps 1 to 2 or 1 to 3 can possibly be in the same MR.","state":"closed","created_at":"2021-07-15T06:04:04.965Z","updated_at":"2021-10-28T13:55:07.723Z","closed_at":"2021-10-14T16:26:58.062Z","closed_by":{"id":1758950,"username":"iamricecake","name":"Erick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1758950/avatar.png","web_url":"https://gitlab.com/iamricecake"},"labels":["Category:Code Testing and Coverage","Deliverable","Engineering Allocation","FY22::Q3","SaaS","Verify::P2","bug::performance","ci-decomposition","devops::verify","gitlab.com","group::pipeline insights","missed-deliverable","missed:14.2","missed:14.3","reliability","section::ops","severity::2","type::maintenance","workflow::in review"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":1758950,"username":"iamricecake","name":"Erick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1758950/avatar.png","web_url":"https://gitlab.com/iamricecake"}],"author":{"id":120073,"username":"DylanGriffith","name":"Dylan Griffith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/120073/avatar.png","web_url":"https://gitlab.com/DylanGriffith"},"type":"ISSUE","assignee":{"id":1758950,"username":"iamricecake","name":"Erick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1758950/avatar.png","web_url":"https://gitlab.com/iamricecake"},"user_notes_count":44,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336199","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336199","notes":"https://gitlab.com/api/v4/projects/278964/issues/336199/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336199/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336199","relative":"#336199","full":"gitlab-org/gitlab#336199"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6588,"epic":{"id":328775,"iid":6588,"title":"Engineering Allocation: Improve SaaS Reliability in the Verify stage","url":"/groups/gitlab-org/-/epics/6588","group_id":9970,"human_readable_end_date":"Apr 8, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90310699,"iid":336198,"project_id":278964,"title":"Fix Security features tables cross-joining `ci_builds` to map pipeline -\u003e security scans","description":"From https://gitlab.com/gitlab-org/gitlab/-/merge_requests/62092 we have seen that [`VulnerabilityCountingService`](https://gitlab.com/gitlab-org/gitlab/-/blob/3ad37425a49fcce394127ffaf425e4b408776ad4/ee/app/services/security/vulnerability_counting_service.rb) needs to join between non `ci_*` tables and `ci_*` tables.\n\nBut this will not be possible once we move ci_builds to a separate database.\n\nThe particular query comes from `Pipeline#security_findings`:\n\n```sql\nSELECT \"security_findings\".* FROM \"security_findings\"\nINNER JOIN \"security_scans\" ON \"security_findings\".\"scan_id\" = \"security_scans\".\"id\"\nINNER JOIN \"ci_builds\" ON \"security_scans\".\"build_id\" = \"ci_builds\".\"id\"\nWHERE \"ci_builds\".\"type\" = 'Ci::Build' AND \"ci_builds\".\"commit_id\" = 5\n```\n\nThis also affects `Pipeline#has_security_findings?` which is used in other places.\n\n### Options\n\n1. De-normalize `pipeline_id` onto `security_scans` table\n2. Change/refactor this feature such that we do not need these joins\n3. Introduce another de-normalized join table that contains the columns we need to join without going to the `ci_*` table\n\n### Sharding team recommendation\n\nAdd a new column `security_scans.pipeline_id`:\n\nAnd then you will update:\n\n```rb\nmodule EE\n  module Ci\n    module Pipeline\n\n      prepended do\n        has_many :security_scans, class_name: 'Security::Scan'\n```\n\nSuch that the new query will be:\n\n```sql\nSELECT \"security_findings\".* FROM \"security_findings\"\nINNER JOIN \"security_scans\" ON \"security_findings\".\"scan_id\" = \"security_scans\".\"id\"\nWHERE \"security_scans\".\"pipeline_id\" = 5\n```\n\nThis will be more performant and will remove the joins into `ci_builds`.\n\nThis will be similar to https://gitlab.com/gitlab-org/gitlab/-/issues/333414 and can follow the similarly linked backfill approach of https://gitlab.com/gitlab-org/gitlab/-/merge_requests/37713 . It's also possible we could backfill both columns in 1 go.\n\n ### Implementation plan: \n\n- [x] Migration for adding new column \n- [x] Migration for adding index and foreign key\n- [x] Background migration for backfilling data from `ci_builds` to `security_scans`\n- [x] Make sure we are inserting data for new column on save","state":"closed","created_at":"2021-07-15T05:41:48.298Z","updated_at":"2021-09-01T22:59:28.770Z","closed_at":"2021-09-01T22:59:28.742Z","closed_by":{"id":120073,"username":"DylanGriffith","name":"Dylan Griffith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/120073/avatar.png","web_url":"https://gitlab.com/DylanGriffith"},"labels":["Category:Vulnerability Management","backend","devops::secure","group::threat insights","pods::active","section::sec","workflow::verification"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":7825316,"username":"subashis","name":"Subashis  Chakraborty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7825316/avatar.png","web_url":"https://gitlab.com/subashis"}],"author":{"id":120073,"username":"DylanGriffith","name":"Dylan Griffith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/120073/avatar.png","web_url":"https://gitlab.com/DylanGriffith"},"type":"ISSUE","assignee":{"id":7825316,"username":"subashis","name":"Subashis  Chakraborty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7825316/avatar.png","web_url":"https://gitlab.com/subashis"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336198","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":4},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"4 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336198","notes":"https://gitlab.com/api/v4/projects/278964/issues/336198/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336198/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336198","relative":"#336198","full":"gitlab-org/gitlab#336198"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6373,"epic":{"id":309455,"iid":6373,"title":"Decomposition: Make Secure features compatible with Decomposed CI database","url":"/groups/gitlab-org/-/epics/6373","group_id":9970,"human_readable_end_date":"Aug 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90308016,"iid":336195,"project_id":278964,"title":"Assess impact of CI Decomposition on DAST On-Demand","description":"assess impact of https://gitlab.com/gitlab-org/gitlab/-/merge_requests/62092 and https://gitlab.com/gitlab-org/gitlab/-/issues/334670 on `dast` on-demand scans. this may be relevant because we expresses relations between `dast` entities and `ci` entities at the ~database level.\n\n## summary\n\n- uses `dast_profiles_pipelines` to capture which `dast_profile` was used to trigger a pipeline ([previously used for variable delivery to pipelines](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/64882))\n- uses `dast_scanner_profiles_builds` and `dast_site_profiles_pipelines` to deliver `dast` configuration to jobs\n- does not currently use `dast_site_profiles_pipelines` and [will be dropped](https://gitlab.com/gitlab-org/gitlab/-/issues/332942) \n\n## schema\n\n### builds\n\n\n```sql\ngitlabhq_development=# \\d dast_scanner_profiles_builds\n            Table \"public.dast_scanner_profiles_builds\"\n         Column          |  Type  | Collation | Nullable | Default\n-------------------------+--------+-----------+----------+---------\n dast_scanner_profile_id | bigint |           | not null |\n ci_build_id             | bigint |           | not null |\nIndexes:\n    \"dast_scanner_profiles_builds_pkey\" PRIMARY KEY, btree (dast_scanner_profile_id, ci_build_id)\n    \"dast_scanner_profiles_builds_on_ci_build_id\" UNIQUE, btree (ci_build_id)\nForeign-key constraints:\n    \"fk_5d46286ad3\" FOREIGN KEY (dast_scanner_profile_id) REFERENCES dast_scanner_profiles(id) ON DELETE CASCADE\n    \"fk_e4c49200f8\" FOREIGN KEY (ci_build_id) REFERENCES ci_builds(id) ON DELETE CASCADE\n```\n\n```sql\ngitlabhq_development=# \\d dast_site_profiles_builds\n            Table \"public.dast_site_profiles_builds\"\n        Column        |  Type  | Collation | Nullable | Default\n----------------------+--------+-----------+----------+---------\n dast_site_profile_id | bigint |           | not null |\n ci_build_id          | bigint |           | not null |\nIndexes:\n    \"dast_site_profiles_builds_pkey\" PRIMARY KEY, btree (dast_site_profile_id, ci_build_id)\n    \"dast_site_profiles_builds_on_ci_build_id\" UNIQUE, btree (ci_build_id)\nForeign-key constraints:\n    \"fk_94e80df60e\" FOREIGN KEY (dast_site_profile_id) REFERENCES dast_site_profiles(id) ON DELETE CASCADE\n    \"fk_a325505e99\" FOREIGN KEY (ci_build_id) REFERENCES ci_builds(id) ON DELETE CASCADE\n```\n\n## pipelines\n\n```sql\ngitlabhq_development=# \\d dast_profiles_pipelines\n          Table \"public.dast_profiles_pipelines\"\n     Column      |  Type  | Collation | Nullable | Default\n-----------------+--------+-----------+----------+---------\n dast_profile_id | bigint |           | not null |\n ci_pipeline_id  | bigint |           | not null |\nIndexes:\n    \"dast_profiles_pipelines_pkey\" PRIMARY KEY, btree (dast_profile_id, ci_pipeline_id)\n    \"index_dast_profiles_pipelines_on_ci_pipeline_id\" UNIQUE, btree (ci_pipeline_id)\nForeign-key constraints:\n    \"fk_a60cad829d\" FOREIGN KEY (ci_pipeline_id) REFERENCES ci_pipelines(id) ON DELETE CASCADE\n    \"fk_cc206a8c13\" FOREIGN KEY (dast_profile_id) REFERENCES dast_profiles(id) ON DELETE CASCADE\n```\n\n```sql\ngitlabhq_development=# \\d dast_site_profiles_pipelines\n          Table \"public.dast_site_profiles_pipelines\"\n        Column        |  Type  | Collation | Nullable | Default\n----------------------+--------+-----------+----------+---------\n dast_site_profile_id | bigint |           | not null |\n ci_pipeline_id       | bigint |           | not null |\nIndexes:\n    \"dast_site_profiles_pipelines_pkey\" PRIMARY KEY, btree (dast_site_profile_id, ci_pipeline_id)\n    \"index_dast_site_profiles_pipelines_on_ci_pipeline_id\" UNIQUE, btree (ci_pipeline_id)\nForeign-key constraints:\n    \"fk_53849b0ad5\" FOREIGN KEY (ci_pipeline_id) REFERENCES ci_pipelines(id) ON DELETE CASCADE\n    \"fk_cf05cf8fe1\" FOREIGN KEY (dast_site_profile_id) REFERENCES dast_site_profiles(id) ON DELETE CASCADE\n```\n\n## notes\n\nonce https://gitlab.com/gitlab-org/gitlab/-/merge_requests/64882 is merged, only `dast_site_profiles_builds` and `dast_scanner_profiles_builds` will be relevant.","state":"closed","created_at":"2021-07-15T04:08:31.270Z","updated_at":"2021-11-04T04:03:13.460Z","closed_at":"2021-08-09T23:51:34.410Z","closed_by":{"id":5749348,"username":"philipcunningham","name":"Philip Cunningham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5749348/avatar.png","web_url":"https://gitlab.com/philipcunningham"},"labels":["Category:DAST","Deliverable","backend","database","devops::secure","group::dynamic analysis","section::sec","workflow::in review"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":5749348,"username":"philipcunningham","name":"Philip Cunningham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5749348/avatar.png","web_url":"https://gitlab.com/philipcunningham"}],"author":{"id":5749348,"username":"philipcunningham","name":"Philip Cunningham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5749348/avatar.png","web_url":"https://gitlab.com/philipcunningham"},"type":"ISSUE","assignee":{"id":5749348,"username":"philipcunningham","name":"Philip Cunningham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5749348/avatar.png","web_url":"https://gitlab.com/philipcunningham"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336195","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336195","notes":"https://gitlab.com/api/v4/projects/278964/issues/336195/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336195/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336195","relative":"#336195","full":"gitlab-org/gitlab#336195"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6373,"epic":{"id":309455,"iid":6373,"title":"Decomposition: Make Secure features compatible with Decomposed CI database","url":"/groups/gitlab-org/-/epics/6373","group_id":9970,"human_readable_end_date":"Aug 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90302424,"iid":336184,"project_id":278964,"title":"Pre-filled variables do not work for external custom CI config file paths","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\n\u003c!-- Summarize the bug encountered concisely. --\u003e\n\nPre-filled variables do not show up on the run pipeline form when the project's CI configuration resides on a separate project.\n\n### Steps to reproduce\n\n\u003c!-- Describe how one can reproduce the issue - this is very important. Please use an ordered list. --\u003e\n\n1. Create project X\n1. In project X create a .gitlab-ci.yml\n1. In the above file, add pre-defined variables\n1. Try to run manual pipeline on project X\n1. Pre-filled variables are shown on UI\n1. Create project Y\n1. Use settings of project Y to point its CI config path to project X: `X@.gitlab-ci.yml`\n1. Try to run a manual pipeline on project Y\n1. Pre-filled variables are not shown on the UI\n\n### Example Project\n\n\u003c!-- If possible, please create an example project here on GitLab.com that exhibits the problematic \nbehavior, and link to it here in the bug report. If you are using an older version of GitLab, this \nwill also determine whether the bug is fixed in a more recent version. --\u003e\n\nhttps://gitlab.com/gitlab-gold/hchouraria/custom-ci-config-path-proj\n\n### What is the current *bug* behavior?\n\n\u003c!-- Describe what actually happens. --\u003e\n\nPre-filled variables defined in custom CI config path outside of repository does not render in run pipeline form\n\n### What is the expected *correct* behavior?\n\n\u003c!-- Describe what you should see instead. --\u003e\n\nPre-filled variables defined in custom CI config path outside of repository render in run pipeline form\n\n### Relevant logs and/or screenshots\n\n\u003c!-- Paste any relevant logs - please use code blocks (```) to format console output, logs, and code\n as it's tough to read otherwise. --\u003e\n\nIssue appears to be with the implementation of the `ci_config_for(sha)` method. It returns nil when the path is outside of repository.\n\n```\n# p is the project where pipelines need to run\nirb(main):007:0\u003e p.ci_config_path\n=\u003e \".gitlab-ci.yml@neo/gradle-proj\"\nirb(main):008:0\u003e p.ci_config_for(\"master\")\n=\u003e nil\nirb(main):009:0\u003e p.ci_config_for(\"main\")\n=\u003e nil\nirb(main):010:0\u003e p.ci_config_for(\"blah\")\n=\u003e nil\nirb(main):011:0\u003e p.ci_config_for(\"85a2533964185560237c98c80857c1bac7267542\")\n=\u003e nil\n```\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\n\nThis bug happens on GitLab.com\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e\n\nCall chain where this fails to resolve:\n\n- https://gitlab.com/gitlab-org/gitlab/blob/7a1b3d9f7491a97160e053b4a96c62cb59d09a10/app/services/ci/list_config_variables_service.rb#L25\n- https://gitlab.com/gitlab-org/gitlab/blob/aeff2cf9f841076ee6a1e2bb3d45a1689e38205a/app/models/project.rb#L2586-2588\n- https://gitlab.com/gitlab-org/gitlab/blob/f16420e7e65c95032690584a73b5540a2f1885bd/app/models/repository.rb#L1042-1044","state":"closed","created_at":"2021-07-15T00:08:41.848Z","updated_at":"2023-01-04T17:28:14.435Z","closed_at":"2021-09-20T13:08:01.968Z","closed_by":{"id":722076,"username":"matteeyah","name":"Matija ÄŒupiÄ‡","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8bc04cc15e0adba406cf56fecd9d910a?s=80\u0026d=identicon","web_url":"https://gitlab.com/matteeyah"},"labels":["CI variables","Category:Pipeline Authoring","Deliverable","UX","approaching-SLO","backend","candidate::14.4","customer","devops::verify","group::pipeline authoring","missed-SLO","priority::2","section::ops","severity::2","type::bug","workflow::production"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":722076,"username":"matteeyah","name":"Matija ÄŒupiÄ‡","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8bc04cc15e0adba406cf56fecd9d910a?s=80\u0026d=identicon","web_url":"https://gitlab.com/matteeyah"}],"author":{"id":7536567,"username":"hchouraria","name":"Harsh Chouraria","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7536567/avatar.png","web_url":"https://gitlab.com/hchouraria"},"type":"ISSUE","assignee":{"id":722076,"username":"matteeyah","name":"Matija ÄŒupiÄ‡","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8bc04cc15e0adba406cf56fecd9d910a?s=80\u0026d=identicon","web_url":"https://gitlab.com/matteeyah"},"user_notes_count":24,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336184","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336184","notes":"https://gitlab.com/api/v4/projects/278964/issues/336184/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336184/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336184","relative":"#336184","full":"gitlab-org/gitlab#336184"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null}]