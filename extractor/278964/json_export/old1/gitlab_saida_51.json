[{"id":93650224,"iid":340830,"project_id":278964,"title":"Promote Online Gargabe Collection test to :reliable","description":"After a series of successful runs, we can promote the test to the reliable bucket of tests. These are part of the usual deployment path.","state":"closed","created_at":"2021-09-14T14:56:10.328Z","updated_at":"2021-10-29T10:59:06.747Z","closed_at":"2021-10-29T10:59:06.730Z","closed_by":{"id":4763342,"username":"svistas","name":"Sofia Vistas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4763342/avatar.png","web_url":"https://gitlab.com/svistas"},"labels":["Category:Container Registry","Deliverable","Package:P1","Quality","devops::package","group::package registry","section::ops","type::maintenance","workflow::ready for development"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":4763342,"username":"svistas","name":"Sofia Vistas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4763342/avatar.png","web_url":"https://gitlab.com/svistas"}],"author":{"id":4763342,"username":"svistas","name":"Sofia Vistas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4763342/avatar.png","web_url":"https://gitlab.com/svistas"},"type":"ISSUE","assignee":{"id":4763342,"username":"svistas","name":"Sofia Vistas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4763342/avatar.png","web_url":"https://gitlab.com/svistas"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340830","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340830","notes":"https://gitlab.com/api/v4/projects/278964/issues/340830/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340830/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340830","relative":"#340830","full":"gitlab-org/gitlab#340830"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":93642544,"iid":340823,"project_id":278964,"title":"Move Cluster Image Scanning documentation to \"Protecting your deployed applications\"","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\u003c!--\nA brief explanation of the why, not the what or how. Assume the reader doesn't know the\nbackground and won't have time to dig-up information from comment threads.\n--\u003e\n\nI had a coffee chat with @sam.white yesterday and we discussed where the Cluster Image Scanning documentation should go.\nSince Cluster Image Scanning is for deployed infrastructure, we would like to have the documentation for it in the same place as the docs for Container Host Security and Container Network Security ([Protecting your deployed applications](https://docs.gitlab.com/ee/user/project/clusters/protect/)). Currently, the [Cluster Image Scanning documentation](https://docs.gitlab.com/ee/user/application_security/cluster_image_scanning/) is under [Secure your application](https://docs.gitlab.com/ee/user/application_security/), which we would like to associate with the development stage of the SDLC. \n\n## Relevant links\n\u003c!--\nInformation that the developer might need to refer to when implementing the issue.\n\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e)\n  - [Design 1](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n  - [Design 2](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n- [Similar implementation](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/\u003cid\u003e)\n--\u003e\n\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [ ] Documentation:\n- [ ] Feature flag:\n- [ ] Performance:\n- [ ] Testing:\n\n\n## Implementation plan\n\u003c!--\nSteps and the parts of the code that will need to get updated. The plan can also\ncall-out responsibilities for other team members or teams.\n\ne.g.:\n\n- [ ] ~frontend Step 1\n  - [ ] `@person` Step 1a\n- [ ] ~frontend Step 2\n\n--\u003e\n\n- [ ] ~documentation Move [`doc/user/application_security/cluster_image_scanning/index.md`](https://gitlab.com/gitlab-org/gitlab/-/blob/9eab3c905649b9e5d85a265cf065b0a1413df44c/doc/user/application_security/cluster_image_scanning/index.md#L6) to `doc/user/project/clusters/protect/cluster_image_scanning/index.md`\n- [ ] ~documentation [Add a redirect](https://docs.gitlab.com/ee/development/documentation/redirects.html) from the old page to the new one.\n\n\u003c!--\nWorkflow and other relevant labels\n\n# ~\"group::\" ~\"Category:\" ~\"GitLab Ultimate\"\nOther settings you might want to include when creating the issue.\n\n# /assign @\n# /epic \u0026\n--\u003e","state":"closed","created_at":"2021-09-14T13:20:56.229Z","updated_at":"2022-06-21T12:07:30.731Z","closed_at":"2022-06-10T15:45:18.136Z","closed_by":{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"},"labels":["Category:Container Scanning","Deliverable","backend","devops::govern","documentation","group::security policies","section::sec","type::maintenance","workflow::verification"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[],"author":{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"},"type":"ISSUE","assignee":null,"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340823","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":9,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 9 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340823","notes":"https://gitlab.com/api/v4/projects/278964/issues/340823/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340823/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340823","relative":"#340823","full":"gitlab-org/gitlab#340823"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":93636935,"iid":340819,"project_id":278964,"title":"Graceful degradation of the Git SSH command line when Gitaly is unavailable","description":"If Gitaly is not available, return a message, for example \"The Gitaly server is not available at this time\" ?\n\n* Don't issue a 500 if Gitaly is not available\n* Display a message on the relevant page\n\nRelated to #332339.","state":"closed","created_at":"2021-09-14T12:15:10.657Z","updated_at":"2021-09-21T11:14:31.049Z","closed_at":"2021-09-17T16:15:25.063Z","closed_by":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"labels":["Category:Source Code Management","Eng-Consumer::Infrastructure","Eng-Producer::Development","Engineering Allocation","[deprecated] Accepting merge requests","auto updated","corrective action","devops::create","group::source code","infradev","priority::2","section::dev","severity::2","type::feature","workflow::ready for development"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":4391348,"username":"sean_carroll","name":"Sean Carroll","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4391348/avatar.png","web_url":"https://gitlab.com/sean_carroll"}],"author":{"id":4391348,"username":"sean_carroll","name":"Sean Carroll","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4391348/avatar.png","web_url":"https://gitlab.com/sean_carroll"},"type":"ISSUE","assignee":{"id":4391348,"username":"sean_carroll","name":"Sean Carroll","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4391348/avatar.png","web_url":"https://gitlab.com/sean_carroll"},"user_notes_count":8,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340819","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340819","notes":"https://gitlab.com/api/v4/projects/278964/issues/340819/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340819/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340819","relative":"#340819","full":"gitlab-org/gitlab#340819"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6523,"epic":{"id":321041,"iid":6523,"title":"Engineering Allocation (Source Code BE): 02-AUG-2021","url":"/groups/gitlab-org/-/epics/6523","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":93636828,"iid":340818,"project_id":278964,"title":"Graceful degradation of the Tags Page when Gitaly is unavailable","description":"If Gitaly is not available, add an empty state page with a message, for example \"The Gitaly server is not available at this time\" \n\n* Don't issue a 500 if Gitaly is not available\n* Display a message on the relevant page\n\nRelated to #332339.\n\n### Proposal\n\n- Add a non-dismissable In-page alert.\n- Alert title should read: `Unable to load tags`\n- Alert message should read `The git server, Gitaly, is not available at this time.  Contact your administrator.`\n\n![image](/uploads/3c93b7cc091c2fbd831604dc8a2ebc3d/image.png)","state":"closed","created_at":"2021-09-14T12:13:59.466Z","updated_at":"2021-10-18T07:00:52.404Z","closed_at":"2021-10-06T11:09:30.186Z","closed_by":{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"},"labels":["Category:Source Code Management","Deliverable","Eng-Consumer::Infrastructure","Eng-Producer::Development","Engineering Allocation","auto updated","backend","corrective action","devops::create","group::source code","infradev","priority::2","section::dev","severity::2","workflow::in review"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"},{"id":3719688,"username":"mnichols1","name":"Mike Nichols","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3719688/avatar.png","web_url":"https://gitlab.com/mnichols1"}],"author":{"id":4391348,"username":"sean_carroll","name":"Sean Carroll","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4391348/avatar.png","web_url":"https://gitlab.com/sean_carroll"},"type":"ISSUE","assignee":{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"},"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340818","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340818","notes":"https://gitlab.com/api/v4/projects/278964/issues/340818/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340818/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340818","relative":"#340818","full":"gitlab-org/gitlab#340818"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6523,"epic":{"id":321041,"iid":6523,"title":"Engineering Allocation (Source Code BE): 02-AUG-2021","url":"/groups/gitlab-org/-/epics/6523","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":93636735,"iid":340817,"project_id":278964,"title":"Graceful degradation of the Branches Page when Gitaly is unavailable","description":"If Gitaly is not available, add an empty state page with a message, for example \"The Gitaly server is not available at this time\" ?\n\n* Don't issue a 500 if Gitaly is not available\n* Display a message on the relevant page\n\nRelated to #332339.\n\n### Proposal\n\n- Add a non-dismissable In-page alert.\n- Alert title should read: `Unable to load branches`\n- Alert message should read `The git server, Gitaly, is not available at this time.  Contact your administrator.`\n\n![image](/uploads/c1f41ee8ec93f6fd582a9fec8203495d/image.png)","state":"closed","created_at":"2021-09-14T12:13:03.826Z","updated_at":"2021-10-18T07:00:52.549Z","closed_at":"2021-10-07T08:28:24.373Z","closed_by":{"id":421631,"username":"vyaklushin","name":"Vasilii Iakliushin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/421631/avatar.png","web_url":"https://gitlab.com/vyaklushin"},"labels":["Category:Source Code Management","Deliverable","Eng-Consumer::Infrastructure","Eng-Producer::Development","Engineering Allocation","UI text","auto updated","backend","corrective action","devops::create","group::source code","infradev","priority::2","section::dev","severity::2","type::feature","workflow::in review"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":421631,"username":"vyaklushin","name":"Vasilii Iakliushin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/421631/avatar.png","web_url":"https://gitlab.com/vyaklushin"},{"id":3719688,"username":"mnichols1","name":"Mike Nichols","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3719688/avatar.png","web_url":"https://gitlab.com/mnichols1"}],"author":{"id":4391348,"username":"sean_carroll","name":"Sean Carroll","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4391348/avatar.png","web_url":"https://gitlab.com/sean_carroll"},"type":"ISSUE","assignee":{"id":421631,"username":"vyaklushin","name":"Vasilii Iakliushin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/421631/avatar.png","web_url":"https://gitlab.com/vyaklushin"},"user_notes_count":18,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340817","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340817","notes":"https://gitlab.com/api/v4/projects/278964/issues/340817/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340817/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340817","relative":"#340817","full":"gitlab-org/gitlab#340817"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6523,"epic":{"id":321041,"iid":6523,"title":"Engineering Allocation (Source Code BE): 02-AUG-2021","url":"/groups/gitlab-org/-/epics/6523","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":93636420,"iid":340816,"project_id":278964,"title":"Graceful degradation of the Project Page when Gitaly is unavailable","description":"If Gitaly is not available, add an empty state page with a message, for example \"The Gitaly server is not available at this time\" ?\n\n* Don't issue a 500 if Gitaly is not available\n* Display a message on the relevant page\n\n\nRelated to #332339.\n\n\n### Proposal\n\n- Add a non-dismissable In-page alert.\n- Alert title should read: `Unable to load project`\n- Alert message should read `The git server, Gitaly, is not available at this time.  Contact your administrator.`\n\n![image](/uploads/bec78d9fb7c97b7ec3a05128e12f4ede/image.png)","state":"closed","created_at":"2021-09-14T12:09:48.937Z","updated_at":"2022-12-05T02:41:24.382Z","closed_at":"2021-10-18T16:29:49.079Z","closed_by":{"id":4391348,"username":"sean_carroll","name":"Sean Carroll","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4391348/avatar.png","web_url":"https://gitlab.com/sean_carroll"},"labels":["Category:Source Code Management","Deliverable","Eng-Consumer::Infrastructure","Eng-Producer::Development","Engineering Allocation","UI text","auto updated","backend","backend-weight::1","corrective action","devops::create","group::source code","infradev","priority::2","section::dev","severity::2","spike","type::feature","workflow::in dev"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":853414,"username":"andr3","name":"André Luís","state":"active","avatar_url":"https://secure.gravatar.com/avatar/241e39726efb512a29621070ccf26a90?s=80\u0026d=identicon","web_url":"https://gitlab.com/andr3"},{"id":2167502,"username":"robotmay_gitlab","name":"Robert May","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2167502/avatar.png","web_url":"https://gitlab.com/robotmay_gitlab"},{"id":3719688,"username":"mnichols1","name":"Mike Nichols","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3719688/avatar.png","web_url":"https://gitlab.com/mnichols1"}],"author":{"id":4391348,"username":"sean_carroll","name":"Sean Carroll","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4391348/avatar.png","web_url":"https://gitlab.com/sean_carroll"},"type":"ISSUE","assignee":{"id":853414,"username":"andr3","name":"André Luís","state":"active","avatar_url":"https://secure.gravatar.com/avatar/241e39726efb512a29621070ccf26a90?s=80\u0026d=identicon","web_url":"https://gitlab.com/andr3"},"user_notes_count":52,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340816","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340816","notes":"https://gitlab.com/api/v4/projects/278964/issues/340816/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340816/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340816","relative":"#340816","full":"gitlab-org/gitlab#340816"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6523,"epic":{"id":321041,"iid":6523,"title":"Engineering Allocation (Source Code BE): 02-AUG-2021","url":"/groups/gitlab-org/-/epics/6523","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":93633277,"iid":340811,"project_id":278964,"title":"Unify expired and expiration messages","description":"## Summary\n\nWe have currently 3 different types of call to action combination for expired/expiring subscription alerts\n\n## Proposal\n\nUse `Renew subscription` label on all banners.\n\n**Why?** Per each label we have a separate translation key and we could benefit from unifying it\n\n| Alerts |\n| ------ |\n| Subscription is expiring ![Screenshot_2021-09-14_at_13.03.40](/uploads/701f6c65c00dc6677a51246977bb3f18/Screenshot_2021-09-14_at_13.03.40.png) |\n| Subscription expired (0 - 14 days) ![Screenshot_2021-09-14_at_13.00.52](/uploads/1a34822611f8a9073bf53d568f970040/Screenshot_2021-09-14_at_13.00.52.png)|\n| Subscription expired (15 - 30 days) ![Screenshot_2021-09-14_at_13.01.26](/uploads/03cc96f01276acd00621e7645b10f827/Screenshot_2021-09-14_at_13.01.26.png)|\n\n**Note:** all the examples above are for SaaS but the call to action buttons are the same for SelfManaged. Changing of the text of the message is not a subject of this proposal.\n\n\nThe following discussion from !69454 should be addressed:\n\n- [x] @jhyson started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/69454#note_676500909): \n\n    \u003e **question (non-blocking):** would it be worth making the text on this button the same as the `Renew your subscription` one?","state":"closed","created_at":"2021-09-14T11:28:48.363Z","updated_at":"2021-09-27T07:55:20.067Z","closed_at":"2021-09-27T07:55:20.043Z","closed_by":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"labels":["Category:Purchase","Technical Writing","UI text","devops::fulfillment","feature::enhancement","frontend","group::purchase","section::fulfillment","type::feature","workflow::production"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"}],"author":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"type":"ISSUE","assignee":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340811","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":1},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340811","notes":"https://gitlab.com/api/v4/projects/278964/issues/340811/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340811/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340811","relative":"#340811","full":"gitlab-org/gitlab#340811"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":93630358,"iid":340808,"project_id":278964,"title":"[VSA] Make lead time tile a link to lead time chart","description":"\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n\u003c!-- This issue template can be used a great starting point for feature requests. The last section \"Release notes\" can be used as a summary of the feature and is also required if you want to have your release post blog MR auto generated using the release post item generator:  https://about.gitlab.com/handbook/marketing/blog/release-posts/#release-post-item-generator. The remaining sections are the backbone for every feature in GitLab. --\u003e\n\n### Release notes \n\n\u003c!-- What is the problem and solution you're proposing? This content sets the overall vision for the feature and serves as the release notes that will populate in various places, including the [release post blog](https://about.gitlab.com/releases/categories/releases/) and [Gitlab project releases](https://gitlab.com/gitlab-org/gitlab/-/releases). \" --\u003e\n\n### Problem to solve \n\n\u003c!-- What is the user problem you are trying to solve with this issue? --\u003e\n\nAs a user, when I am view deployment frequency on VSA, I only see a numerical value. In order to get more details, I need to navigate away from VSA to CI/CD analytics-\u003edeployment frequency which is not intuitive. \n\n### Proposal \n\n\u003c!-- Use this section to explain the feature and how it will work. It can be helpful to add technical details, design proposals, and links to related epics or issues. --\u003e\n\nIf a user presses the lead time tile, it will take him/her to the lead time chart of that project/group\n\nIn this example:\n\nhttps://gitlab.com/gitlab-org/gitlab/-/value_stream_analytics\n\n![image](https://gitlab.com/gitlab-org/gitlab/uploads/31321fc401e08a35afefc71b6d7f6d63/image.png)\n\nIt will take me to https://gitlab.com/gitlab-org/gitlab/-/pipelines/charts?chart=lead-time\n\n![image](https://gitlab.com/gitlab-org/gitlab/uploads/e2802e02f38f485786cdbd83ef4d2aa5/image.png)\n\n\u003c!--- Use the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n\nConsider adding related issues and epics to this issue. You can also reference the Feature Proposal Template (https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal%20-%20detailed.md) for additional details to consider adding to this issue. Additionally, as a data oriented organization, when your feature exits planning breakdown, consider adding the `What does success look like, and how can we measure that?` section.\n\nOther sections to consider adding: \n\n### Intended users\n\nWho will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n\n* [Cameron (Compliance Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#cameron-compliance-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager) \n* [Alex (Security Operations Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#alex-security-operations-engineer)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops) \n* [Priyanka (Platform Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#priyanka-platform-engineer)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n\n\n### User experience goal\n\nWhat is the single user experience workflow this problem addresses? \nFor example, \"The user should be able to use the UI/API/.gitlab-ci.yml with GitLab to \u003cperform a specific task\u003e\"\nhttps://about.gitlab.com/handbook/engineering/ux/ux-research-training/user-story-mapping/ \n\n\n### Further details\n\nInclude use cases, benefits, goals, or any other details that will help us understand the problem better. \n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?\nConsider adding checkboxes and expectations of users with certain levels of membership https://docs.gitlab.com/ee/user/permissions.html\n* [ ] Add expected impact to members with no access (0)\n* [ ] Add expected impact to Guest (10) members\n* [ ] Add expected impact to Reporter (20) members\n* [ ] Add expected impact to Developer (30) members \n* [ ] Add expected impact to Maintainer (40) members\n* [ ] Add expected impact to Owner (50) members \n\n### Documentation\n\n See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/workflow.html#for-a-product-change\n\n* Add all known Documentation Requirements in this section. See https://docs.gitlab.com/ee/development/documentation/workflow.html\n* If this feature requires changing permissions, update the permissions document. See https://docs.gitlab.com/ee/user/permissions.html \n\n### Availability \u0026 Testing\n\nThis section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning \n\n### What does success look like, and how can we measure that?\n\nDefine both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. \n\n### What is the type of buyer?\n\nWhat is the buyer persona for this feature? See https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/buyer-persona/\nIn which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#three-tiers\n\n### Is this a cross-stage feature?\n\nCommunicate if this change will affect multiple Stage Groups or product areas. We recommend always start with the assumption that a feature request will have an impact into another Group. Loop in the most relevant PM and Product Designer from that Group to provide strategic support to help align the Group's broader plan and vision, as well as to avoid UX and technical debt. https://about.gitlab.com/handbook/product/#cross-stage-features --\u003e\n\n### Disclaimer\n\n\u003e This page may contain information related to upcoming products, features and functionality. It is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes. Just like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features or functionality remain at the sole discretion of GitLab Inc.","state":"closed","created_at":"2021-09-14T10:38:25.778Z","updated_at":"2022-06-22T05:18:54.429Z","closed_at":"2021-11-05T11:49:54.358Z","closed_by":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"labels":["Category:Value Stream Management","GitLab Ultimate","UX","devops::manage","direction","frontend","group::optimize","priority::2","section::dev","type::feature","workflow::production"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"}],"author":{"id":4156460,"username":"ogolowinski","name":"Orit Golowinski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4156460/avatar.png","web_url":"https://gitlab.com/ogolowinski"},"type":"ISSUE","assignee":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340808","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340808","notes":"https://gitlab.com/api/v4/projects/278964/issues/340808/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340808/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340808","relative":"#340808","full":"gitlab-org/gitlab#340808"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":93627832,"iid":340805,"project_id":278964,"title":"[VSA] Make deployment frequency a link to deployment frequency chart","description":"\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n\n\u003c!-- This issue template can be used a great starting point for feature requests. The last section \"Release notes\" can be used as a summary of the feature and is also required if you want to have your release post blog MR auto generated using the release post item generator:  https://about.gitlab.com/handbook/marketing/blog/release-posts/#release-post-item-generator. The remaining sections are the backbone for every feature in GitLab. --\u003e\n\n### Release notes \n\n\u003c!-- What is the problem and solution you're proposing? This content sets the overall vision for the feature and serves as the release notes that will populate in various places, including the [release post blog](https://about.gitlab.com/releases/categories/releases/) and [Gitlab project releases](https://gitlab.com/gitlab-org/gitlab/-/releases). \" --\u003e\n\n### Problem to solve \n\n\u003c!-- What is the user problem you are trying to solve with this issue? --\u003e\n\nAs a user, when I am view deployment frequency on VSA, I only see a numerical value. In order to get more details, I need to navigate away from VSA to CI/CD analytics-\u003edeployment frequency which is not intuitive. \n\n### Proposal \n\n\u003c!-- Use this section to explain the feature and how it will work. It can be helpful to add technical details, design proposals, and links to related epics or issues. --\u003e\n\nIf a user presses the deployment frequency tile, it will take him/her to the deployment frequency chart of that project/group\n\nIn this example:\n\nhttps://gitlab.com/gitlab-org/gitlab/-/value_stream_analytics\n\n![image](https://gitlab.com/gitlab-org/gitlab/uploads/46bdfe73863359a11ee03d4a5f14a1e6/image.png)\n\nIt will take me to https://gitlab.com/gitlab-org/gitlab/-/pipelines/charts?chart=deployment-frequency\n\n![image](https://gitlab.com/gitlab-org/gitlab/uploads/1fc7ecbaed9ec74c5aa3bafa865e5c90/image.png)\n\n\u003c!--- Use the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n\nConsider adding related issues and epics to this issue. You can also reference the Feature Proposal Template (https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal%20-%20detailed.md) for additional details to consider adding to this issue. Additionally, as a data oriented organization, when your feature exits planning breakdown, consider adding the `What does success look like, and how can we measure that?` section.\n\nOther sections to consider adding: \n\n### Intended users\n\nWho will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n\n* [Cameron (Compliance Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#cameron-compliance-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager) \n* [Alex (Security Operations Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#alex-security-operations-engineer)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops) \n* [Priyanka (Platform Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#priyanka-platform-engineer)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n\n\n### User experience goal\n\nWhat is the single user experience workflow this problem addresses? \nFor example, \"The user should be able to use the UI/API/.gitlab-ci.yml with GitLab to \u003cperform a specific task\u003e\"\nhttps://about.gitlab.com/handbook/engineering/ux/ux-research-training/user-story-mapping/ \n\n\n### Further details\n\nInclude use cases, benefits, goals, or any other details that will help us understand the problem better. \n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?\nConsider adding checkboxes and expectations of users with certain levels of membership https://docs.gitlab.com/ee/user/permissions.html\n* [ ] Add expected impact to members with no access (0)\n* [ ] Add expected impact to Guest (10) members\n* [ ] Add expected impact to Reporter (20) members\n* [ ] Add expected impact to Developer (30) members \n* [ ] Add expected impact to Maintainer (40) members\n* [ ] Add expected impact to Owner (50) members \n\n### Documentation\n\n See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/workflow.html#for-a-product-change\n\n* Add all known Documentation Requirements in this section. See https://docs.gitlab.com/ee/development/documentation/workflow.html\n* If this feature requires changing permissions, update the permissions document. See https://docs.gitlab.com/ee/user/permissions.html \n\n### Availability \u0026 Testing\n\nThis section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning \n\n### What does success look like, and how can we measure that?\n\nDefine both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. \n\n### What is the type of buyer?\n\nWhat is the buyer persona for this feature? See https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/buyer-persona/\nIn which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#three-tiers\n\n### Is this a cross-stage feature?\n\nCommunicate if this change will affect multiple Stage Groups or product areas. We recommend always start with the assumption that a feature request will have an impact into another Group. Loop in the most relevant PM and Product Designer from that Group to provide strategic support to help align the Group's broader plan and vision, as well as to avoid UX and technical debt. https://about.gitlab.com/handbook/product/#cross-stage-features --\u003e\n\n### Disclaimer\n\n\u003e This page may contain information related to upcoming products, features and functionality. It is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes. Just like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features or functionality remain at the sole discretion of GitLab Inc.","state":"closed","created_at":"2021-09-14T09:56:04.336Z","updated_at":"2022-04-12T14:28:05.042Z","closed_at":"2021-11-01T17:13:37.563Z","closed_by":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"labels":["Category:Value Stream Management","GitLab Ultimate","UX","devops::manage","direction","frontend","group::optimize","priority::2","section::dev","type::feature","workflow::production"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"}],"author":{"id":4156460,"username":"ogolowinski","name":"Orit Golowinski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4156460/avatar.png","web_url":"https://gitlab.com/ogolowinski"},"type":"ISSUE","assignee":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340805","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340805","notes":"https://gitlab.com/api/v4/projects/278964/issues/340805/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340805/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340805","relative":"#340805","full":"gitlab-org/gitlab#340805"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":93626947,"iid":340802,"project_id":278964,"title":"Handle pseudonymization for `new` action","description":"As part of https://gitlab.com/gitlab-org/gitlab/-/merge_requests/69448 we add a helper method to mask page URLs to remove personally identifiable data.\n\nWhile doing so, the `new` action resulted in generic URLs in some cases and had personally identifiable data in some cases (like creating issues/MRs)\n\nAs of now, we return if the action is `new`. We need to handle the cases of `new` where personally identifiable data is visible in the current page URL.\n\nThis will need some investigation to have a logic in place for skipping generic URLs and masking URLs with personally identifiable data.","state":"closed","created_at":"2021-09-14T09:44:41.673Z","updated_at":"2021-10-26T04:08:47.688Z","closed_at":"2021-10-26T04:08:47.674Z","closed_by":{"id":8198564,"username":"rkadam3","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8198564/avatar.png","web_url":"https://gitlab.com/rkadam3"},"labels":["auto updated","backend","devops::growth","group::product intelligence","missed:14.4","priority::3","section::growth","severity::3","type::bug","workflow::production"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":8198564,"username":"rkadam3","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8198564/avatar.png","web_url":"https://gitlab.com/rkadam3"}],"author":{"id":8198564,"username":"rkadam3","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8198564/avatar.png","web_url":"https://gitlab.com/rkadam3"},"type":"ISSUE","assignee":{"id":8198564,"username":"rkadam3","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8198564/avatar.png","web_url":"https://gitlab.com/rkadam3"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340802","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340802","notes":"https://gitlab.com/api/v4/projects/278964/issues/340802/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340802/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340802","relative":"#340802","full":"gitlab-org/gitlab#340802"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6551,"epic":{"id":324918,"iid":6551,"title":"Pseudonymization of URLs","url":"/groups/gitlab-org/-/epics/6551","group_id":9970,"human_readable_end_date":"Dec 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":93624740,"iid":340800,"project_id":278964,"title":"Move checks if import source is enabled to service layer","description":"GitLab has multiple ways of initiating same action. At least 3 are known to me:\n\n* UI (controllers)\n* REST API\n* GraphQL API\n\nATM, check that import source is enabled is performend on \"controllers\" levels (or their counterparts for REST/GraphQL) \nThis results in issues like #340782 and #29748 \n\nIn order to avoid future issues it is important to move relevant checks to service layer","state":"closed","created_at":"2021-09-14T09:13:32.228Z","updated_at":"2022-05-24T12:01:41.239Z","closed_at":"2022-05-06T19:00:29.147Z","closed_by":{"id":1230286,"username":"xanf","name":"Illya Klymov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ce4d16557b46210fa57641531b570dd4?s=80\u0026d=identicon","web_url":"https://gitlab.com/xanf"},"labels":["Category:Importers","Deliverable","Next Up","backend","devops::manage","estimation::completed","frontend","group::import","milestone::p3","section::dev","security","type::feature","workflow::verification"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":1230286,"username":"xanf","name":"Illya Klymov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ce4d16557b46210fa57641531b570dd4?s=80\u0026d=identicon","web_url":"https://gitlab.com/xanf"}],"author":{"id":1230286,"username":"xanf","name":"Illya Klymov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ce4d16557b46210fa57641531b570dd4?s=80\u0026d=identicon","web_url":"https://gitlab.com/xanf"},"type":"ISSUE","assignee":{"id":1230286,"username":"xanf","name":"Illya Klymov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ce4d16557b46210fa57641531b570dd4?s=80\u0026d=identicon","web_url":"https://gitlab.com/xanf"},"user_notes_count":30,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340800","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340800","notes":"https://gitlab.com/api/v4/projects/278964/issues/340800/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340800/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340800","relative":"#340800","full":"gitlab-org/gitlab#340800"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6619,"epic":{"id":332692,"iid":6619,"title":"Manage:Import Security","url":"/groups/gitlab-org/-/epics/6619","group_id":9970,"human_readable_end_date":"Dec 16, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":93624184,"iid":340799,"project_id":278964,"title":"Visual bug in on-hover behavior for parent/child pipelines","description":"### Summary\n\nSomething I noticed today when trying to take a screenshot for the docs:\n\nWhen you hover on the child pipelines, it highlights the job that triggered the pipeline, but for some reason the job shape is changing to a rectangle:\n\n- ![child-pipeline-bug](/uploads/5e3a9b5f141479e3ec7b5ddc716ab7a7/child-pipeline-bug.gif)\n\nI *thought* this worked when it was implemented, but I have not tested it in a long time. @mgandres pointed out the last time this code was touched might have been in (not thoroughly researched yet): https://gitlab.com/gitlab-org/gitlab/-/merge_requests/60039\n\n### Example pipeline\n\nSee: https://gitlab.com/marcel.amirault/test-project/-/pipelines/369552522\n\n### Relevant logs and/or screenshots\n\n\u003c!-- Paste any relevant logs - please use code blocks (```) to format console output, logs, and code\n as it's tough to read otherwise. --\u003e\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e","state":"closed","created_at":"2021-09-14T09:06:15.234Z","updated_at":"2021-09-27T10:29:51.809Z","closed_at":"2021-09-27T06:45:29.931Z","closed_by":{"id":4155490,"username":"marcel.amirault","name":"Marcel Amirault","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4155490/avatar.png","web_url":"https://gitlab.com/marcel.amirault"},"labels":["Category:Pipeline Authoring","[deprecated] Accepting merge requests","candidate::14.5","devops::verify","frontend","group::pipeline authoring","priority::3","section::ops","severity::3","type::bug","workflow::in review"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":1125848,"username":"samdbeckham","name":"Sam Beckham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1125848/avatar.png","web_url":"https://gitlab.com/samdbeckham"}],"author":{"id":4155490,"username":"marcel.amirault","name":"Marcel Amirault","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4155490/avatar.png","web_url":"https://gitlab.com/marcel.amirault"},"type":"ISSUE","assignee":{"id":1125848,"username":"samdbeckham","name":"Sam Beckham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1125848/avatar.png","web_url":"https://gitlab.com/samdbeckham"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340799","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340799","notes":"https://gitlab.com/api/v4/projects/278964/issues/340799/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340799/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340799","relative":"#340799","full":"gitlab-org/gitlab#340799"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":93618845,"iid":340795,"project_id":278964,"title":"Don't set default timezone to UTC for users","description":"# Summary\n\nWith https://gitlab.com/gitlab-org/gitlab/-/merge_requests/66493, we started showing time on user's profile based on user-selected timezone;\n\n![image](/uploads/ec565bbfdd47d49f8946ae915be179ee/image.png)\n\nHowever, until users set a correct timezone for themselves via Profile Edit page, we default the timezone to GitLab Instance timezone (see [`app/models/user_preference.rb#L26`](https://gitlab.com/gitlab-org/gitlab/blob/master/app/models/user_preference.rb#L26)), so this would lead to other users seeing an incorrect time for users who have not manually set any timezone yet.\n\n# Proposal\n\nWe have two alternatives to this problem;\n\n- **Short-term solution:** Set default timezone to an empty string, and hide the time on profile page as long as the user has not set any time.\n- **Long-term solution:** Follow the previous solution of setting default timezone to an empty string, and on the user profile page, show a link saying `Set default timezone` pointing to edit profile page for current user who has no timezone set.","state":"closed","created_at":"2021-09-14T07:57:30.951Z","updated_at":"2021-12-02T15:47:36.191Z","closed_at":"2021-10-04T21:16:10.656Z","closed_by":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"labels":["Category:Authentication and Authorization","UX","devops::manage","feature::enhancement","frontend","group::authentication and authorization","section::dev","type::feature","user profile","workflow::production","🍉"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"}],"author":{"id":411701,"username":"kushalpandya","name":"Kushal Pandya","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/411701/avatar.png","web_url":"https://gitlab.com/kushalpandya"},"type":"ISSUE","assignee":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"user_notes_count":18,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340795","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340795","notes":"https://gitlab.com/api/v4/projects/278964/issues/340795/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340795/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340795","relative":"#340795","full":"gitlab-org/gitlab#340795"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":280,"epic":{"id":581,"iid":280,"title":"Localize GitLab for local time and week schedule","url":"/groups/gitlab-org/-/epics/280","group_id":9970,"human_readable_end_date":"Nov 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":93615804,"iid":340790,"project_id":278964,"title":"Remove double \"in\" from \"Auto stop in\", \"in 1 day\"","description":"On https://gitlab.com/gitlab-org/gitlab/-/environments (Deployments \u003e Environments) it might say:\n\n    Auto stop in\n    in 1 day\n    in 1 week\n\nSo the \"in\" is double.\nSo remove \"in\" from \"Auto stop in\" or the other strings.\n\nhttps://gitlab.com/gitlab-org/gitlab/-/blob/master/app/assets/javascripts/environments/components/environments_table.vue#L70\n\nhttps://gitlab.com/scootergrisen/gitlab/-/blob/master/app/assets/javascripts/lib/utils/datetime/timeago_utility.js#L48-61","state":"closed","created_at":"2021-09-14T07:15:49.537Z","updated_at":"2021-10-28T13:52:32.219Z","closed_at":"2021-10-13T23:45:43.612Z","closed_by":{"id":5622641,"username":"nicolewilliams","name":"Nicole Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5622641/avatar.png","web_url":"https://gitlab.com/nicolewilliams"},"labels":["Category:Environment Management","Category:Internationalization","Community contribution","[deprecated] Accepting merge requests","[deprecated] low hanging fruit","automation:ml","automation:ml wrong","candidate::14.5","devops::release","frontend","group::release","section::ops","type::maintenance"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[],"author":{"id":3386196,"username":"scootergrisen","name":"scootergrisen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b65cbb2e31e40cc867d7435b2cec8c03?s=80\u0026d=identicon","web_url":"https://gitlab.com/scootergrisen"},"type":"ISSUE","assignee":null,"user_notes_count":7,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340790","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340790","notes":"https://gitlab.com/api/v4/projects/278964/issues/340790/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340790/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340790","relative":"#340790","full":"gitlab-org/gitlab#340790"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3199,"epic":{"id":49396,"iid":3199,"title":"Improve Current Translations","url":"/groups/gitlab-org/-/epics/3199","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":93615778,"iid":340789,"project_id":278964,"title":"[Feature flag] delete flag permitted_attributes_for_import_export","description":"## What\n\nRemove the `:permitted_attributes_for_import_export` feature flag which was released as default enabled.\n\n## Owners\n\n- Team: ~\"group::import\" \n- Most appropriate slack channel to reach out to: `#g_manage_import`\n- Best individual to reach out to: @mparuszewski \n\n## Roll Out Steps\n\n- [x] Remove feature flag and add changelog entry\n- [x] After the flag removal is deployed, [clean up the feature flag](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) by running chatops command in `#production` channel","state":"closed","created_at":"2021-09-14T07:15:18.743Z","updated_at":"2022-01-25T15:57:10.913Z","closed_at":"2022-01-25T15:57:10.889Z","closed_by":{"id":5535431,"username":"mparuszewski","name":"Alan (Maciej) Paruszewski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535431/avatar.png","web_url":"https://gitlab.com/mparuszewski"},"labels":["Category:Importers","Deliverable","Importer:Project Export/Import","Next Up","auto updated","backend","devops::manage","feature flag","feature::addition","group::import","section::dev","security","securitybot::ignore","type::feature","workflow::in review"],"milestone":{"id":2156369,"iid":68,"group_id":9970,"title":"14.7","description":"","state":"active","created_at":"2021-07-21T17:39:41.786Z","updated_at":"2021-07-21T17:39:41.786Z","due_date":"2022-01-17","start_date":"2021-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/68"},"assignees":[{"id":5535431,"username":"mparuszewski","name":"Alan (Maciej) Paruszewski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535431/avatar.png","web_url":"https://gitlab.com/mparuszewski"}],"author":{"id":5535431,"username":"mparuszewski","name":"Alan (Maciej) Paruszewski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535431/avatar.png","web_url":"https://gitlab.com/mparuszewski"},"type":"ISSUE","assignee":{"id":5535431,"username":"mparuszewski","name":"Alan (Maciej) Paruszewski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535431/avatar.png","web_url":"https://gitlab.com/mparuszewski"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340789","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":2},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340789","notes":"https://gitlab.com/api/v4/projects/278964/issues/340789/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340789/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340789","relative":"#340789","full":"gitlab-org/gitlab#340789"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6619,"epic":{"id":332692,"iid":6619,"title":"Manage:Import Security","url":"/groups/gitlab-org/-/epics/6619","group_id":9970,"human_readable_end_date":"Dec 16, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":93609746,"iid":340784,"project_id":278964,"title":"Users are still relying on Clair for container scanning","description":"According to the [scanner report data](https://app.periscopedata.com/app/gitlab/895813/Secure-Scan-metrics?widget=12249113\u0026udv=1385516) for container scanning, the number of scans using the deprecated Clair scanner is not going down.\n\n![image](/uploads/d967ef511cbf969a0dffb5808b6b8a21/image.png)\n\nA [significant percentage](https://app.periscopedata.com/app/gitlab/895813/Secure-Scan-metrics?widget=12249281\u0026udv=1385516) of the container scanning scans done in the last 30 days were still using Clair.\n\nWe are not sure what these projects are, but we can speculate:\n\n1. Projects that are no longer maintained. This would imply a scheduled scan is in place.\n1. Maintainers that missed the notification.\n\nIn any case, anyone relying on reports produced by Clair is missing the latest advisories and are likely to be receiving false negatives.\n\n### Proposal \n\nSome ideas to address the situation:\n\n1. Release an update to the `klar` image. This can be used to fail the scan with a message explaining how to upgrade the CI job to use the latest analyzer.\n1. Communicate to users in some other way. Email? UI warning?\n1. Block access to the `klar` image. This would cause the build to fail without further explanation.\n1. Overwrite the `klar` image with the latest container scanning image. This would work transparently for any builds that are using the default configurations but may cause failures to other builds.\n\n\u003c!-- Use this section to explain the feature and how it will work. It can be helpful to add technical details, design proposals, and links to related epics or issues. --\u003e\n\n\u003c!-- Consider adding related issues and epics to this issue. You can also reference the Feature Proposal Template (https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal%20-%20detailed.md) for additional details to consider adding to this issue. Additionally, as a data oriented organization, when your feature exits planning breakdown, consider adding the `What does success look like, and how can we measure that?` section.\n--\u003e\n\n### Implementation Plan\n\n- [x] ~backend Introduce a new function (eg: `throwDeprecatedError`) in [clicommand.go](https://gitlab.com/gitlab-org/security-products/analyzers/klar/-/blob/f1e863e5/clicommand/clicommand.go) to `log.Errorf` message explaining how to upgrade to latest analyzer\n- [x] ~backend Introduce `IGNORE_DEPRECATION_ERROR` variable and call `throwDepreciatedError` if `IGNORE_DEPRECATION_ERROR` is not set.","state":"closed","created_at":"2021-09-14T04:43:21.474Z","updated_at":"2022-05-06T04:10:40.897Z","closed_at":"2021-10-21T16:02:20.906Z","closed_by":{"id":8401507,"username":"sashi_kumar","name":"Sashi Kumar Kumaresan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8401507/avatar.png","web_url":"https://gitlab.com/sashi_kumar"},"labels":["Deliverable","GitLab Ultimate","automation:ml","backend","devops::govern","group::security policies","section::sec","type::maintenance","workflow::verification"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":8401507,"username":"sashi_kumar","name":"Sashi Kumar Kumaresan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8401507/avatar.png","web_url":"https://gitlab.com/sashi_kumar"}],"author":{"id":480804,"username":"thiagocsf","name":"Thiago Figueiró","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480804/avatar.png","web_url":"https://gitlab.com/thiagocsf"},"type":"ISSUE","assignee":{"id":8401507,"username":"sashi_kumar","name":"Sashi Kumar Kumaresan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8401507/avatar.png","web_url":"https://gitlab.com/sashi_kumar"},"user_notes_count":18,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340784","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":2},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340784","notes":"https://gitlab.com/api/v4/projects/278964/issues/340784/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340784/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340784","relative":"#340784","full":"gitlab-org/gitlab#340784"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":93608923,"iid":340782,"project_id":278964,"title":"Bypass Disabled Bitbucket Server import source Project Creation","description":"### Summary  \nAs an admin, you can disable `Bitbucket Server` import source in admin page `https://:gitlab_instance/admin/application_settings`\n\nHowever the user can still import project by using API\nThis issue is similar to #29748\n\n### Steps to reproduce  \n\n- As an admin, disable `Bitbucket Server` import source in `/admin/application_settings/general` under ` Visibility and access controls`\n\n![Screenshot-20210914065956-310x692](/uploads/d1aeac6919e69e33fc740193f894fe15/Screenshot-20210914065956-310x692.png)\n\n\n- As a regular user, run the following curl command:\n\n```bash\n➜ curl --request POST \\\n  --url \"http://localhost:3000/api/v4/import/bitbucket_server\" \\\n  --header \"content-type: application/json\" \\\n  --header \"PRIVATE-TOKEN: [REDACTED by nmalcolm]\" \\\n  --data '{\n    \"bitbucket_server_url\": \"http://localhost:7990\",\n    \"bitbucket_server_username\": \"admin\",\n    \"personal_access_token\": \"[REDACTED by nmalcolm]\",\n    \"bitbucket_server_project\": \"FOO\",\n    \"bitbucket_server_repo\": \"bish\"\n}'\n```\n\nwhere: \n\n* `http://localhost:3000` - is local gitlab instance\n* `http://localhost:7990` - is local bitbucket server instance (requests to localhost/local networks are allowed for this test)\n\nIn my case I got the response\n\n```js\n{\"id\":25,\"name\":\"BISH\",\"full_path\":\"/root/BISH\",\"full_name\":\"Administrator / BISH\",\"import_source\":\"http://localhost:7990/projects/FOO/repos/bish/browse\",\"import_status\":\"scheduled\",\"human_import_status_name\":\"scheduled\",\"provider_link\":\"http://localhost:7990/projects/FOO/repos/bish/browse\"}\n```\n\nand the project was imported anyway.\n\n### Impact  \nBypass project creation despite the admin setting explcitily disallow it\n\n### What is the current *bug* behavior?  \nBypass project creation despite the admin setting explcitily disallow it","state":"closed","created_at":"2021-09-14T04:07:07.861Z","updated_at":"2021-11-07T21:41:37.338Z","closed_at":"2021-09-30T18:53:09.480Z","closed_by":{"id":4554599,"username":"m_gill","name":"Michelle Gill","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4554599/avatar.png","web_url":"https://gitlab.com/m_gill"},"labels":["Category:Importers","Deliverable","Importer:Bitbucket Server","Next Up","Weakness::CWE-285","backend","devops::manage","frontend","group::import","priority::3","section::dev","security","severity::3","type::bug","workflow::production"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":1230286,"username":"xanf","name":"Illya Klymov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ce4d16557b46210fa57641531b570dd4?s=80\u0026d=identicon","web_url":"https://gitlab.com/xanf"}],"author":{"id":1230286,"username":"xanf","name":"Illya Klymov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ce4d16557b46210fa57641531b570dd4?s=80\u0026d=identicon","web_url":"https://gitlab.com/xanf"},"type":"ISSUE","assignee":{"id":1230286,"username":"xanf","name":"Illya Klymov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ce4d16557b46210fa57641531b570dd4?s=80\u0026d=identicon","web_url":"https://gitlab.com/xanf"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2021-12-13","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340782","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340782","notes":"https://gitlab.com/api/v4/projects/278964/issues/340782/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340782/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340782","relative":"#340782","full":"gitlab-org/gitlab#340782"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6619,"epic":{"id":332692,"iid":6619,"title":"Manage:Import Security","url":"/groups/gitlab-org/-/epics/6619","group_id":9970,"human_readable_end_date":"Dec 16, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":93603781,"iid":340781,"project_id":278964,"title":"Fix cross-DB query in EnvironmentStatus.build_environments_status","description":"EnvironmentStatus.build_environments_status generates a cross-DB query.\n\n\n### Example failure\n\n`/spec/models/environment_status_spec.rb`\n\n```\nFailures:\n\n  1) EnvironmentStatus.for_merge_request is based on merge_request.diff_head_sha\n     Failure/Error:\n       raise CrossJoinAcrossUnsupportedTablesError,\n         \"Unsupported cross-join across '#{tables.join(\", \")}' modifying '#{schemas.to_a.join(\", \")}' discovered \" \\\n         \"when executing query '#{sql}'. Please refer to https://docs.gitlab.com/ee/development/database/multiple_databases.html#removing-joins-between-ci_-and-non-ci_-tables for details on how to resolve this exception.\"\n     \n     Database::PreventCrossJoins::CrossJoinAcrossUnsupportedTablesError:\n       Unsupported cross-join across 'environments, ci_pipelines, ci_sources_pipelines, deployments, ci_builds' modifying 'gitlab_main, gitlab_ci' discovered when executing query 'SELECT \"environments\".* FROM \"environments\" WHERE \"environments\".\"id\" IN (WITH RECURSIVE \"base_and_descendants\" AS ((SELECT \"ci_pipelines\".* FROM \"ci_pipelines\" WHERE \"ci_pipelines\".\"id\" = 30)\n       UNION\n       (SELECT \"ci_pipelines\".* FROM \"ci_pipelines\", \"base_and_descendants\", \"ci_sources_pipelines\" WHERE \"ci_sources_pipelines\".\"pipeline_id\" = \"ci_pipelines\".\"id\" AND \"ci_sources_pipelines\".\"source_pipeline_id\" = \"base_and_descendants\".\"id\" AND \"ci_sources_pipelines\".\"source_project_id\" = \"ci_sources_pipelines\".\"project_id\")) SELECT \"deployments\".\"environment_id\" FROM \"base_and_descendants\" AS \"ci_pipelines\" INNER JOIN \"ci_builds\" ON \"ci_builds\".\"commit_id\" = \"ci_pipelines\".\"id\" AND \"ci_builds\".\"type\" = 'Ci::Build' INNER JOIN \"deployments\" ON \"deployments\".\"deployable_type\" = 'CommitStatus' AND \"deployments\".\"deployable_id\" = \"ci_builds\".\"id\") AND (\"environments\".\"state\" IN ('available')) /*application:test,correlation_id:4cc9f30961b9aa5be2062a906506ebb0*/'. Please refer to https://docs.gitlab.com/ee/development/database/multiple_databases.html#removing-joins-between-ci_-and-non-ci_-tables for details on how to resolve this exception.\n     # ./spec/support/database/prevent_cross_joins.rb:48:in `validate_cross_joins!'\n     # ./spec/support/database/prevent_cross_joins.rb:57:in `block in with_cross_joins_prevented'\n     # ./app/models/environment_status.rb:104:in `map'\n     # ./app/models/environment_status.rb:104:in `build_environments_status'\n     # ./app/models/environment_status.rb:14:in `for_merge_request'\n     # ./spec/models/environment_status_spec.rb:77:in `block (3 levels) in \u003cmain\u003e'\n     # ./spec/spec_helper.rb:399:in `block (3 levels) in \u003cmain\u003e'\n     # ./spec/support/sidekiq_middleware.rb:9:in `with_sidekiq_server_middleware'\n     # ./spec/spec_helper.rb:390:in `block (2 levels) in \u003cmain\u003e'\n     # ./spec/spec_helper.rb:386:in `block (3 levels) in \u003cmain\u003e'\n     # ./lib/gitlab/application_context.rb:31:in `with_raw_context'\n     # ./spec/spec_helper.rb:386:in `block (2 levels) in \u003cmain\u003e'\n     # ./spec/support/database/prevent_cross_joins.rb:95:in `block (3 levels) in \u003cmain\u003e'\n     # ./spec/support/database/prevent_cross_joins.rb:62:in `with_cross_joins_prevented'\n     # ./spec/support/database/prevent_cross_joins.rb:95:in `block (2 levels) in \u003cmain\u003e'\n     # -e:1:in `\u003cmain\u003e'\n```","state":"closed","created_at":"2021-09-14T01:10:21.491Z","updated_at":"2021-12-17T19:06:10.878Z","closed_at":"2021-12-17T19:06:10.812Z","closed_by":{"id":5622641,"username":"nicolewilliams","name":"Nicole Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5622641/avatar.png","web_url":"https://gitlab.com/nicolewilliams"},"labels":["Category:Environment Management","Release::P1","auto updated","ci-decomposition","ci-decomposition::phase6","devops::release","group::release","priority::3","section::ops","severity::3","workflow::verification"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":9253328,"username":"bala.kumar","name":"Bala Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9253328/avatar.png","web_url":"https://gitlab.com/bala.kumar"}],"author":{"id":2535118,"username":"tkuah","name":"Thong Kuah","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f7b51bdd49a4914d29504d7ff4c3f7b9?s=80\u0026d=identicon","web_url":"https://gitlab.com/tkuah"},"type":"ISSUE","assignee":{"id":9253328,"username":"bala.kumar","name":"Bala Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9253328/avatar.png","web_url":"https://gitlab.com/bala.kumar"},"user_notes_count":23,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340781","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340781","notes":"https://gitlab.com/api/v4/projects/278964/issues/340781/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340781/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340781","relative":"#340781","full":"gitlab-org/gitlab#340781"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6379,"epic":{"id":309971,"iid":6379,"title":"Decomposition: Make Ops features compatible with Decomposed CI database","url":"/groups/gitlab-org/-/epics/6379","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":93603182,"iid":340780,"project_id":278964,"title":"Ensure Go source files are formatted correctly for secure projects","description":"### Problem to solve \n\nIf a developer hasn't properly [configured their editor](https://docs.gitlab.com/ee/development/go_guide/#code-style-and-format-1), code can be committed to the repo which isn't formatted correctly using `goimports`. For example, [this code](https://gitlab.com/gitlab-org/security-products/analyzers/command/-/blob/299690cf24171c24eb7018b1644c0b45e4de8bb1/jsonout.go#L6-7) was recently committed which isn't properly formatted, despite being called out in the MR in [this comment](https://gitlab.com/gitlab-org/security-products/analyzers/command/-/merge_requests/16#note_673736376). We need to programmatically enforce this in order to prevent this from happening in the future.\n\n### Implementation plan \n\n1. [ ] Add a new job in the `test stage` of [ci-templates/includes-dev/go.yml](https://gitlab.com/gitlab-org/security-products/ci-templates/-/blob/2d7b2b1c8911a4eb98347405e3f94822632f8e9d/includes-dev/go.yml) to automatically run `goimports`, and fail if a non-zero exit code is returned:\n\n   ```yaml\n   goimports:\n     extends: .go\n     script:\n       - goimports -w -local gitlab.com/gitlab-org .\n       - git diff --exit-code .\n   ```\n1. [ ] Manually test to ensure the above job works as expected\n\n### Intended users\n\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n\n### User experience goal\n\nDevelopers will be alerted if they attempt to commit improperly formatted Go code.\n\n### Further details\n\nSee [this discussion](https://gitlab.com/gitlab-org/gitlab/-/issues/335715#note_673735820) for more details\n\n### What does success look like, and how can we measure that?\n\nIf a developer creates an MR with improperly formatted Go code, the pipeline will fail.\n\n### Is this a cross-stage feature?\n\nYes, it affects all secure projects\n\n/cc @NicoleSchwartz @gonzoyumo @theoretick","state":"closed","created_at":"2021-09-14T00:52:21.273Z","updated_at":"2022-03-16T11:37:10.875Z","closed_at":"2021-10-26T20:44:27.222Z","closed_by":{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"},"labels":["Category:Dependency Scanning","backend","devops::secure","group::composition analysis","maintenance::pipelines","section::dev","type::maintenance","workflow::in review"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"}],"author":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"type":"ISSUE","assignee":{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"},"user_notes_count":4,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340780","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340780","notes":"https://gitlab.com/api/v4/projects/278964/issues/340780/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340780/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340780","relative":"#340780","full":"gitlab-org/gitlab#340780"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":93601657,"iid":340777,"project_id":278964,"title":"New setting for TTL for the dependency proxy","description":"### Context\n\nIn #294187, we added a GraphQL API to CRUD a new time-to-life policy for container images that have been pulled from Docker Hub using the GitLab Dependency Proxy. This policy allows Group Admin to automatically remove items from the Dependency Proxy cache on a regular cadence. \n\nThis helps to reduce storage costs and keep the cache fresh. \n\n### Problem to solve\n\nThe problem is that there is no where in the user interface for you to define/update these TTL policies. \n\n### Proposal\n\nOnce the settings for the dependency proxy have been moved to the settings page (https://gitlab.com/gitlab-org/gitlab/-/issues/322841), we will add a new flow to the dependency proxy settings that allows Group Admin to CRUD TTL policies for the dependency proxy. \n\nThe default TTL for all groups should be 90 days.\n\n#### Further details\n\nWith the API, you can choose to have the policy enabled or disabled and the number of days to retain a cached image file. Add a UI that allows you to do the same. \n\n- :question: should we allow the user to enter any valid integer or should we give them options similar to the cleanup policies?\n\n\n| Name | Type | Description |\n| ---- | ---- | ----------- |\n| \u003ca id=\"dependencyproxyimagettlgrouppolicycreatedat\"\u003e\u003c/a\u003e`createdAt` | [`Time`](#time) | Timestamp of creation. |\n| \u003ca id=\"dependencyproxyimagettlgrouppolicyenabled\"\u003e\u003c/a\u003e`enabled` | [`Boolean!`](#boolean) | Indicates whether the policy is enabled or disabled. |\n| \u003ca id=\"dependencyproxyimagettlgrouppolicyttl\"\u003e\u003c/a\u003e`ttl` | [`Int`](#int) | Number of days to retain a cached image file. |\n| \u003ca id=\"dependencyproxyimagettlgrouppolicyupdatedat\"\u003e\u003c/a\u003e`updatedAt` | [`Time`](#time) | Timestamp of the most recent update. |\n\n### Documentation\n- Ensure the dependency proxy Admin documentation is updated","state":"closed","created_at":"2021-09-13T23:35:37.385Z","updated_at":"2022-01-17T19:39:40.784Z","closed_at":"2021-12-08T10:40:49.451Z","closed_by":{"id":4584738,"username":"nmezzopera","name":"Nicolò Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"},"labels":["Category:Dependency Proxy","Deliverable","Package:P1","UX","devops::package","frontend","frontend-weight::2","group::package registry","priority::2","section::ops","type::feature","workflow::in review"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":4584738,"username":"nmezzopera","name":"Nicolò Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"}],"author":{"id":3799560,"username":"trizzi","name":"Tim Rizzi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3799560/avatar.png","web_url":"https://gitlab.com/trizzi"},"type":"ISSUE","assignee":{"id":4584738,"username":"nmezzopera","name":"Nicolò Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"},"user_notes_count":30,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340777","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340777","notes":"https://gitlab.com/api/v4/projects/278964/issues/340777/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340777/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340777","relative":"#340777","full":"gitlab-org/gitlab#340777"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6760,"epic":{"id":350297,"iid":6760,"title":"Dependency Proxy UI update","url":"/groups/gitlab-org/-/epics/6760","group_id":9970,"human_readable_end_date":"Apr 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":93593841,"iid":340765,"project_id":278964,"title":"GraphQL boards: move weight and issue count into separate queries","description":"With GraphQL boards, it was determined that certain fields within the `BoardList` query were causing performance issues, specifically `totalWeight` and `issuesCount`.\n\nRecommended first iteration approach is to just make a query call for weight and issues count separately.\n\nOn the ~frontend, that involves adding Apollo to boards and query at the list level for those fields.\n\nOn the ~backend, we need to be able to query a single `BoardList` (currently can only get a collection).","state":"closed","created_at":"2021-09-13T19:01:35.519Z","updated_at":"2021-12-21T21:35:00.208Z","closed_at":"2021-12-21T21:34:59.783Z","closed_by":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"labels":["Deliverable","auto updated","backend","backend complete","bug::performance","devops::plan","documentation","frontend","group::product planning","missed-deliverable","missed:14.5","missed:14.6","section::dev","tw-weight::3","type::maintenance","workflow::in dev"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"}],"author":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"type":"ISSUE","assignee":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"user_notes_count":16,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340765","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340765","notes":"https://gitlab.com/api/v4/projects/278964/issues/340765/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340765/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340765","relative":"#340765","full":"gitlab-org/gitlab#340765"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5955,"epic":{"id":266638,"iid":5955,"title":"Improve GraphQL boards performance","url":"/groups/gitlab-org/-/epics/5955","group_id":9970,"human_readable_end_date":"Dec 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":93591614,"iid":340761,"project_id":278964,"title":"Default to fluid width in merge request changes tab","description":"## Problem to Solve\n\nWhen navigating to the changes tab on the merge request page the default preference for GitLab is to use a `fixed` width. This means on wide screens (beyond 1280px width) there is whitespace that surrounds the diffs.\n\n![Screen_Shot_2021-09-13_at_1.10.55_PM](/uploads/51f71839f8e961d9bea3bed2bd3b9562/Screen_Shot_2021-09-13_at_1.10.55_PM.png)\n\n## Proposal\n\n### Iteration 1\nUse full width of screen for the entire page when in `side-by-side` or `inline + open file tree` mode.\n\n| Before | After |\n| ------ | ------ |\n| ![Screen_Shot_2021-09-20_at_11.24.54_AM](/uploads/4fc8aa10e9989a361d7c9bfc64b68a2f/Screen_Shot_2021-09-20_at_11.24.54_AM.png) | ![Screen_Shot_2021-09-20_at_11.25.00_AM](/uploads/129d30286cc120781085151c92b8b14f/Screen_Shot_2021-09-20_at_11.25.00_AM.png) |\n\n### Iteration 2 (TBD)\nPossibly _always_ default to fluid width for `Changes` tab\n\n\u003cdetails\u003e\n\u003csummary\u003eOriginal proposal\u003c/summary\u003e\n## Proposal\n\nIn order to optimize the available space on the screen when performing a review, we should automatically switch to `fluid` width on the changes tab. We can also consider collapsing the left/right sidebars if they are not collapsed.\n\n![Screen_Shot_2021-09-13_at_1.12.50_PM](/uploads/e478c17c75786e226cae6d154bb1acb0/Screen_Shot_2021-09-13_at_1.12.50_PM.png)\n\u003c/details\u003e\n\n### Additional Details\n\nWe should consider enabling this via feature flag and only for the `gitlab-org/gitlab` and `gitlab-com/www-gitlab-com` projects to first gather feedback before pushing to enable this to a wider audience.","state":"closed","created_at":"2021-09-13T18:17:36.373Z","updated_at":"2022-04-01T15:41:47.878Z","closed_at":"2021-09-29T14:01:46.065Z","closed_by":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"labels":["Deliverable","design-weight::1","devops::create","feature::enhancement","frontend","group::code review","section::dev","type::feature","workflow::ready for development"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"}],"author":{"id":2935693,"username":"phikai","name":"Kai Armstrong","state":"active","avatar_url":"https://secure.gravatar.com/avatar/2c5d6a63b41cbeb3ea4cccda82e758e1?s=80\u0026d=identicon","web_url":"https://gitlab.com/phikai"},"type":"ISSUE","assignee":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"user_notes_count":15,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340761","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340761","notes":"https://gitlab.com/api/v4/projects/278964/issues/340761/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340761/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340761","relative":"#340761","full":"gitlab-org/gitlab#340761"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":93590700,"iid":340759,"project_id":278964,"title":"Implementation: Revisit the Kubernetes section UX","description":"# Release notes\n\nhttps://docs.gitlab.com/ee/user/clusters/agent/#management-interfaces\n\nHaving an overview of available clusters from a GitLab project is the first step in setting up new deployments or for troubleshooting. With the introduction of [the GitLab Kubernetes Agent](https://docs.gitlab.com/ee/user/clusters/agent/), the related pages were hard to navigate and features were sometimes hard to find or understand. To support our users, we redesigned the Kubernetes management pages, and we are rolling out this design at the project level pages in this release. The new design provides first-class support for Agent and certificate based cluster connections alike.\n\n# Problem to solve\n\nWhen a user lands on the Kubernetes section it is not clear what options they have for integrating their Kubernetes infrastructure with GitLab. The language we use on the UI is confusing and the documentation is not helpful either to help them understand what options they have, what use cases each solution can be used for, what benefits and drawbacks there are in each option. The Agent and cluster listings are confusing as the terminology is not consistent and we use our internal understanding to describe GitLab's Kubernetes offering. Finally, we make a distinction between Agents and clusters connected with certificate even though we don't know what the mental model of the users is. Do they consider these two ways to connect their clusters to GitLab or do they also consider them to be separate Kubernetes solutions?\n\n# Intended users\n\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Priyanka (Platform Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#priyanka-platform-engineer)\n\n# User experience goal\n\nMake all the Kubernetes integrations options clear for the user so that they can choose the option that helps them achieve their goals. \n\n# Proposal\n\n[The design issue and discussion can be found here](https://gitlab.com/gitlab-org/gitlab/-/issues/254998)\n\n- **Redesign the Kubernetes landing page** so that all the integrations and integration options are present. Clear and concise information should give an overview of what options the user has for integrating their Kubernetes infrastructure with GitLab. All possible integrations should be available from the landing page.\n- **Fix the breadcrumb** so that it reflects the hierarchy and navigation.\n- **Change the way we speak** about the GitLab Kubernetes management offerings. Use a language that is clear and understandable even to users who know nothing about the Agent or the certificate-based integrations. Modify all the copy in the UI with the updated language.\n- Make the **language consistent** on all the UI components.\n\n## Empty state\n\n[\u003cimg src=\"/uploads/d5375e2adf651f2483e4fac5e796bcc0/image.png\" width=50%\u003e](https://gitlab.com/gitlab-org/gitlab/-/issues/254998/designs/000__Kubernetes_integrations_-_All_tabs_Stacked_Cards.png)\n\n## State with content\n\nLong-term design vision\n\n[\u003cimg src=\"/uploads/ed6c5448b9efe9c0ede28d1b382b2022/image.png\" width=50%\u003e](https://gitlab.com/gitlab-org/gitlab/-/issues/254998/designs/003__Kubernetes_integrations_-_All_tabs_Stacked_Cards.png)\n\n## Iteration 1: new overall UI\n\n- Empty state design\n- Content design should implements\n   - 3 tabs at the top\n   - \"All\" tab should show the currently existing listings one under the other\n   - The other 2 tabs should show the currently existing listings\n- Actions button is constant across tabs:\n   * Create new cluster\n   * Connect with agent\n   * Connect with certificate\n\n## Iteration 2: fix the links\n\n- Each tab should have a \"permalink\" - reloading the page should show the current tab\n- The \"Add Kubernetes cluster\" think on the main project page ([example here](https://gitlab.com/gitlab-examples/ops/configure-product-walkthrough/)) should point to the \"Connect with agent\" page\n\n\n# Related issues\n\n- Redesign the flow and UI under `Connect with certificate`: https://gitlab.com/gitlab-org/gitlab/-/issues/325319\n- Solution validation for this issue: https://gitlab.com/gitlab-org/gitlab/-/issues/325716\n\n# Documentation\n\nCreated an issue to improve the documentation as well as the navigation for Kubernetes: https://gitlab.com/gitlab-org/gitlab/-/issues/324030\n\n# Links / references\n\nFigma (design) file: https://www.figma.com/file/J1BRYrcK8fZ6YK9lcMhcYp/Revisit-the-Kubernetes-cluster-UX-after-the-Agent-is-released-project-254998?node-id=2%3A50\n\n# Implementation plan\n\nWe are going to deliver this issue in the following steps with separate MRs:\n\n- [x] Move clusters empty state to Vue --\u003e gitlab-org/gitlab!73064\n- [x] Change the navigation for the clusters based page --\u003e gitlab-org/gitlab!73163\n- [x] Change the copy and empty state illustrations in the existing components --\u003e gitlab-org/gitlab!73586\n- [x] Change the navigation on the clusters page to Vue and actions button on the top of the page (introducing the `clusters_main_view` and `clusters_actions` components --\u003e gitlab-org/gitlab!73637\n- [x] Add the 'All' tab --\u003e gitlab-org/gitlab!74135\n- [x] Add an empty state variant for the **Install new Agent** modal --\u003e gitlab-org/gitlab!73636 - will be implemented in the follow-up gitlab-org/gitlab#345893","state":"closed","created_at":"2021-09-13T18:02:06.463Z","updated_at":"2022-02-07T14:33:06.573Z","closed_at":"2021-11-17T10:39:20.833Z","closed_by":{"id":9094263,"username":"anna_vovchenko","name":"Anna Vovchenko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9094263/avatar.png","web_url":"https://gitlab.com/anna_vovchenko"},"labels":["frontend"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":236961,"username":"marcia","name":"Marcia Ramos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/236961/avatar.png","web_url":"https://gitlab.com/marcia"},{"id":5291762,"username":"jmandell","name":"Justin Mandell","state":"active","avatar_url":"https://secure.gravatar.com/avatar/aa77747277d0bb7c31300ca6b0cdde56?s=80\u0026d=identicon","web_url":"https://gitlab.com/jmandell"},{"id":9094263,"username":"anna_vovchenko","name":"Anna Vovchenko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9094263/avatar.png","web_url":"https://gitlab.com/anna_vovchenko"}],"author":{"id":4545061,"username":"nagyv-gitlab","name":"Viktor Nagy (GitLab)","state":"active","avatar_url":"https://secure.gravatar.com/avatar/fb255c1e9c228b9356af165939b3ac9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/nagyv-gitlab"},"type":"ISSUE","assignee":{"id":236961,"username":"marcia","name":"Marcia Ramos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/236961/avatar.png","web_url":"https://gitlab.com/marcia"},"user_notes_count":3,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340759","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":6},"weight":8,"blocking_issues_count":0,"has_tasks":true,"task_status":"6 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340759","notes":"https://gitlab.com/api/v4/projects/278964/issues/340759/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340759/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340759","relative":"#340759","full":"gitlab-org/gitlab#340759"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6721,"epic":{"id":345785,"iid":6721,"title":"Design: Revisit the Kubernetes section UX","url":"/groups/gitlab-org/-/epics/6721","group_id":9970,"human_readable_end_date":"Dec 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":93581183,"iid":340741,"project_id":278964,"title":"Geo: Dashboard replication widget has misaligned items","description":"### Summary\n\nWhen looking at the Geo dashboard, in the replication widget, the status items are misaligned when comparing each row and also when comparing it against the column titles.\n\n### What is the current *bug* behavior?\n\nItems in status rows are misaligned\n\n### What is the expected *correct* behavior?\n\nThey should be aligned with lines below as well as with their \"column\" start position.\n\n### Relevant logs and/or screenshots\n\n![image](/uploads/3d54c2269e1df84373c8fb8f4e4168ec/image.png)\n\n### Possible fixes\n\n@zcuddy commented that the divs are likely missing `flex-basis: 100%`","state":"closed","created_at":"2021-09-13T15:21:15.556Z","updated_at":"2021-09-13T18:42:42.803Z","closed_at":"2021-09-13T18:42:42.796Z","closed_by":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"labels":["Geo Administration","frontend","group::geo","type::bug"],"milestone":null,"assignees":[],"author":{"id":2293,"username":"brodock","name":"Gabriel Mazetto","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2293/avatar.png","web_url":"https://gitlab.com/brodock"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340741","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340741","notes":"https://gitlab.com/api/v4/projects/278964/issues/340741/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340741/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340741","relative":"#340741","full":"gitlab-org/gitlab#340741"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":93579817,"iid":340738,"project_id":278964,"title":"License Spike Story - Orders Harmonization","description":"## Summary\n\nThis is a placeholder created to account for the discovery work required to understand the impact of the Zuora Order Harmonization changes to callouts and provisioning.\n\n## Goal\n\nTo analyze impact so we can scope the required changes and plot the timeline.","state":"closed","created_at":"2021-09-13T15:06:20.001Z","updated_at":"2021-10-04T20:30:36.708Z","closed_at":"2021-10-01T20:04:59.230Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["Zuora Orders Harmonization","[deprecated] Category:Provision","auto updated","backend","devops::fulfillment","group::provision","section::fulfillment","spike","type::feature","workflow::production"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"}],"author":{"id":7971452,"username":"teresatison","name":"Teresa Tison","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7971452/avatar.png","web_url":"https://gitlab.com/teresatison"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340738","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340738","notes":"https://gitlab.com/api/v4/projects/278964/issues/340738/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340738/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340738","relative":"#340738","full":"gitlab-org/gitlab#340738"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6641,"epic":{"id":336961,"iid":6641,"title":"[License Group] Order Harmonization","url":"/groups/gitlab-org/-/epics/6641","group_id":9970,"human_readable_end_date":"Nov 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":93575269,"iid":340732,"project_id":278964,"title":"Update `RuleScheduleService` to process rules for `sast` scan type","description":"\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\u003c!--\nA brief explanation of the why, not the what or how. Assume the reader doesn't know the\nbackground and won't have time to dig-up information from comment threads.\n--\u003e\n\nWe are implementing support for SAST policies in gitlab-org\u00266586.\n\nTo do this, we need to update `RuleScheduleService` so that it can process rules for SAST policies.\n\nThis issue will also cover documentation for the feature.\n\n## Relevant links\n\u003c!--\nInformation that the developer might need to refer to when implementing the issue.\n\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e)\n  - [Design 1](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n  - [Design 2](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n- [Similar implementation](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/\u003cid\u003e)\n--\u003e\n\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [x] Documentation: Document the `sast` scan type in the security orchestration policies documentation\n- [x] Feature flag:\n- [x] Performance:\n- [ ] Testing:\n\n\n## Implementation plan\n\u003c!--\nSteps and the parts of the code that will need to get updated. The plan can also\ncall-out responsibilities for other team members or teams.\n\ne.g.:\n\n- [ ] ~frontend Step 1\n  - [ ] `@person` Step 1a\n- [ ] ~frontend Step 2\n\n--\u003e\n\n\n- [x] ~documentation Document the `sast` scan type in `doc/user/application_security/policies/index.md`\n- [x] ~backend Update `ee/app/services/security/security_orchestration_policies/rule_schedule_service.rb` to process actions for SAST. This is likely a 1-line change.\n\n  ```diff\n  diff --git a/ee/app/services/security/security_orchestration_policies/rule_schedule_service.rb b/ee/app/services/security/security_orchestration_policies/rule_schedule_service.rb\n  index fd0b9248dd5..97cafcad89f 100644\n  --- a/ee/app/services/security/security_orchestration_policies/rule_schedule_service.rb\n  +++ b/ee/app/services/security/security_orchestration_policies/rule_schedule_service.rb\n  @@ -21,7 +21,7 @@ def actions_for(schedule)\n  \n        def process_action(action, schedule, branches)\n          case action[:scan].to_s\n  -       when 'secret_detection' then schedule_scan(action, branches)\n  +       when 'secret_detection', 'sast' then schedule_scan(action, branches)\n          when 'container_scanning' then schedule_container_scanning_scan(action, schedule, branches)\n          when 'cluster_image_scanning' then schedule_cluster_image_scanning_scan(action, schedule)\n          when 'dast' then schedule_dast_on_demand_scan(action, branches)\n  ```\n\n- [x] ~backend Add a new test case for the `sast` scan type to `ee/spec/services/security/security_orchestration_policies/rule_schedule_service_spec.rb`\n\n\u003c!--\nWorkflow and other relevant labels\n\n# ~\"group::\" ~\"Category:\" ~\"GitLab Ultimate\"\nOther settings you might want to include when creating the issue.\n\n# /assign @\n# /epic \u0026\n--\u003e","state":"closed","created_at":"2021-09-13T14:08:37.582Z","updated_at":"2021-12-13T03:22:33.987Z","closed_at":"2021-12-08T01:41:54.145Z","closed_by":{"id":480804,"username":"thiagocsf","name":"Thiago Figueiró","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480804/avatar.png","web_url":"https://gitlab.com/thiagocsf"},"labels":["Category:Security Policy Management","GitLab Ultimate","[deprecated] Accepting merge requests","backend","devops::govern","direction","documentation","feature::addition","group::security policies","missed:14.5","section::sec","type::feature","workflow::verification"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[],"author":{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"},"type":"ISSUE","assignee":null,"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340732","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":10,"completed_count":6},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"6 of 10 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340732","notes":"https://gitlab.com/api/v4/projects/278964/issues/340732/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340732/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340732","relative":"#340732","full":"gitlab-org/gitlab#340732"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6586,"epic":{"id":328650,"iid":6586,"title":"Add Support for SAST to Security Orchestration Policies","url":"/groups/gitlab-org/-/epics/6586","group_id":9970,"human_readable_end_date":"Dec 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":93575179,"iid":340731,"project_id":278964,"title":"Update trial status reminder design","description":"The purpose of this issue is to update the trial status reminder design based on UX improvements made during the original experiment cleanup process.\n \n* Epic: https://gitlab.com/groups/gitlab-org/-/epics/3540\n* Design issue: https://gitlab.com/gitlab-org/gitlab/-/issues/213376\n* Experiment Tracking issue: https://gitlab.com/gitlab-org/gitlab/-/issues/281019\n \n## Design clean-up\n\nA new sidebar was introduced and the plan name changed from Gold to Ultimate since we first designed this experiment. We need to take into account these changes. \n\n#### Proposed solution\n\n| Before | After |\n| ------ | ------ |\n| ![image](/uploads/a2c830dce605860bafa68b90c9fd2917/image.png) | ![image](/uploads/fd260737278e99828dd6177c0959905b/image.png) |\n| Copy is wrapping | Inline copy |\n\n#### [📐 Design specs](https://www.figma.com/file/AGzUBIW7SwnYY5QGyNoRiU/Experiment-Add-active-trial-status?node-id=1071%3A6969)\n\n#### [Figma file](https://www.figma.com/file/AGzUBIW7SwnYY5QGyNoRiU/Experiment-Add-active-trial-status?node-id=754%3A909)","state":"closed","created_at":"2021-09-13T14:07:09.542Z","updated_at":"2022-04-06T15:57:26.211Z","closed_at":"2022-02-23T11:55:39.621Z","closed_by":{"id":10216431,"username":"syarynovskyi","name":"Serhii Yarynovskyi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10216431/avatar.png","web_url":"https://gitlab.com/syarynovskyi"},"labels":["Engineering","SUS::Impacting","UI polish","devops::growth","feature::enhancement","group::acquisition","priority::4","section::growth","severity::4","type::feature","workflow::ready for review"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":10216431,"username":"syarynovskyi","name":"Serhii Yarynovskyi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10216431/avatar.png","web_url":"https://gitlab.com/syarynovskyi"}],"author":{"id":4413992,"username":"s_awezec","name":"Sam Awezec","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4413992/avatar.png","web_url":"https://gitlab.com/s_awezec"},"type":"ISSUE","assignee":{"id":10216431,"username":"syarynovskyi","name":"Serhii Yarynovskyi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10216431/avatar.png","web_url":"https://gitlab.com/syarynovskyi"},"user_notes_count":1,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340731","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340731","notes":"https://gitlab.com/api/v4/projects/278964/issues/340731/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340731/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340731","relative":"#340731","full":"gitlab-org/gitlab#340731"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":93572416,"iid":340726,"project_id":278964,"title":"Premium notices in Jira integration/settings pages can be misleading","description":"## Problem\n\nWhile reviewing a docs MR, [we noticed](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/69697#note_675219454) that the \n placement of 'Premium' notices in the GitLab UI can cause confusion, because it looks as if the entire Jira integration is for Premium users only, and not just the specific Jira feature it's referring to.\n\nFor example, on the Jira project integration page in GitLab, there is a notice under the **View Jira issues in GitLab** section that you need to upgrade your plan to enable this feature. However, because of its placement directly above the **Save changes** button, it looks as if the notice applies to the whole page.\n\n![Screenshot_2021-09-13_at_15.00.48](/uploads/60c2a7f44f89f5266dee598d1e832dab/Screenshot_2021-09-13_at_15.00.48.png)\n\n## Proposal\n\n| Free | Premium | Ultimate |\n| ------ | ------ | ------ | \n| ![Plan-free](/uploads/51324b04b9784126bd541aca2da1c702/Plan-free.png) | ![Plan-premium](/uploads/d496430ee46b6e6665c069cc6b406571/Plan-premium.png)| ![Plan-ultimate](/uploads/50a9afad717713e9a2fe7fc3bcca738c/Plan-ultimate.png)| \n\n1. Following the newly added guidelines: https://design.gitlab.com/usability/feature-management#highlighting-higher-tier-features (https://gitlab.com/gitlab-org/gitlab-services/design.gitlab.com/-/merge_requests/2728), add a `tier` badge\n1. Disable checkboxes for lower tier plans\n1. Badge should link to [tiers details](https://about.gitlab.com/pricing/)\n\n## Design source\n:pencil2: [Figma project](https://www.figma.com/file/GCoIuB5VCrnKVQu9UVsBLS/Premium-notices-in-Jira-integration%2Fsettings-pages-can-be-misleading-%23340726?node-id=1119%3A8900)\n\n### Availability \u0026 Testing\n\nSuggestion: run `package-and-qa` to make sure the `ee:jira` tests still pass.  @sgregory2 can participate in a code review from the QA side.\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e","state":"closed","created_at":"2021-09-13T13:29:56.990Z","updated_at":"2022-11-22T19:24:41.113Z","closed_at":"2022-05-13T09:15:18.440Z","closed_by":{"id":4704683,"username":"justin_ho","name":"Justin Ho Tuan Duong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4704683/avatar.png","web_url":"https://gitlab.com/justin_ho"},"labels":["Deliverable","Integration::Jira","SUS::Impacting","Technical Writing","UI text","auto updated","devops::manage","feature::enhancement","frontend","group::integrations","quad-planning::complete-action","section::dev","severity::4","type::feature","workflow::production"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":4704683,"username":"justin_ho","name":"Justin Ho Tuan Duong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4704683/avatar.png","web_url":"https://gitlab.com/justin_ho"}],"author":{"id":8555568,"username":"kpaizee","name":"Kati Paizee","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8555568/avatar.png","web_url":"https://gitlab.com/kpaizee"},"type":"ISSUE","assignee":{"id":4704683,"username":"justin_ho","name":"Justin Ho Tuan Duong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4704683/avatar.png","web_url":"https://gitlab.com/justin_ho"},"user_notes_count":23,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340726","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340726","notes":"https://gitlab.com/api/v4/projects/278964/issues/340726/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340726/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340726","relative":"#340726","full":"gitlab-org/gitlab#340726"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":93568421,"iid":340722,"project_id":278964,"title":"Update SecurityOrchestrationPolicies processor to support SAST","description":"\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\u003c!--\nA brief explanation of the why, not the what or how. Assume the reader doesn't know the\nbackground and won't have time to dig-up information from comment threads.\n--\u003e\n\nWe are adding support for SAST to security orchestration policies in gitlab-org\u00266586. \n\nTo do this, we need to update the policy processing services (`CiConfigurationService` and `ScanPipelineService`) to be able to load CI configuration for SAST pipelines.\n\n## Relevant links\n\u003c!--\nInformation that the developer might need to refer to when implementing the issue.\n\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e)\n  - [Design 1](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n  - [Design 2](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n- [Similar implementation](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/\u003cid\u003e)\n--\u003e\n\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [ ] Documentation:\n- [ ] Feature flag:\n- [ ] Performance:\n- [ ] Testing:\n\n\n## Implementation plan\n\u003c!--\nSteps and the parts of the code that will need to get updated. The plan can also\ncall-out responsibilities for other team members or teams.\n\ne.g.:\n\n- [ ] ~frontend Step 1\n  - [ ] `@person` Step 1a\n- [ ] ~frontend Step 2\n\n--\u003e\n\n- [x] ~backend Add SAST to scan types in `ee/app/models/security/orchestration_policy_configuration.rb`\n- [x] ~backend Update `ee/app/services/security/security_orchestration_policies/ci_configuration_service.rb` to load the SAST CI template when the scan type is `sast`.\n- [x] ~backend Add SAST environment variables to `ee/app/services/security/security_orchestration_policies/scan_pipeline_service.rb`\n- [x] ~backend Add new test cases for SAST to rspec tests\n\n\u003c!--\nWorkflow and other relevant labels\n\n# ~\"group::\" ~\"Category:\" ~\"GitLab Ultimate\"\nOther settings you might want to include when creating the issue.\n\n# /assign @\n# /epic \u0026\n--\u003e","state":"closed","created_at":"2021-09-13T13:00:42.321Z","updated_at":"2021-12-06T03:41:55.238Z","closed_at":"2021-12-02T05:40:16.890Z","closed_by":{"id":8401507,"username":"sashi_kumar","name":"Sashi Kumar Kumaresan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8401507/avatar.png","web_url":"https://gitlab.com/sashi_kumar"},"labels":["Category:Security Policy Management","GitLab Ultimate","backend","devops::govern","direction","feature::addition","group::security policies","missed:14.5","section::sec","type::feature","workflow::verification"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":8401507,"username":"sashi_kumar","name":"Sashi Kumar Kumaresan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8401507/avatar.png","web_url":"https://gitlab.com/sashi_kumar"}],"author":{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"},"type":"ISSUE","assignee":{"id":8401507,"username":"sashi_kumar","name":"Sashi Kumar Kumaresan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8401507/avatar.png","web_url":"https://gitlab.com/sashi_kumar"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340722","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":11,"completed_count":4},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"4 of 11 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340722","notes":"https://gitlab.com/api/v4/projects/278964/issues/340722/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340722/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340722","relative":"#340722","full":"gitlab-org/gitlab#340722"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6586,"epic":{"id":328650,"iid":6586,"title":"Add Support for SAST to Security Orchestration Policies","url":"/groups/gitlab-org/-/epics/6586","group_id":9970,"human_readable_end_date":"Dec 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":93545265,"iid":340701,"project_id":278964,"title":"Refactor Container Registry test to use supported auth tokens","description":"Documentation: https://docs.gitlab.com/ee/user/packages/container_registry/index.html#authenticate-with-the-container-registry\n\nThis is applicable to `.com` and self-managed registry tests.\n\n* [qa/specs/features/browser_ui/5_package/container_registry_spec.rb](https://gitlab.com/gitlab-org/gitlab/-/blob/master/qa/qa/specs/features/browser_ui/5_package/container_registry_spec.rb)\n* [qa/specs/features/browser_ui/5_package/container_registry_omnibus_spec.rb](https://gitlab.com/gitlab-org/gitlab/-/blob/master/qa/qa/specs/features/browser_ui/5_package/container_registry_omnibus_spec.rb)","state":"closed","created_at":"2021-09-13T08:04:01.078Z","updated_at":"2022-10-13T09:57:02.634Z","closed_at":"2021-11-15T07:21:08.054Z","closed_by":{"id":4763342,"username":"svistas","name":"Sofia Vistas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4763342/avatar.png","web_url":"https://gitlab.com/svistas"},"labels":["Category:Container Registry","Quality","Quality::test-gap","auto updated","devops::package","group::package registry","section::ops","workflow::in review"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":4763342,"username":"svistas","name":"Sofia Vistas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4763342/avatar.png","web_url":"https://gitlab.com/svistas"}],"author":{"id":4763342,"username":"svistas","name":"Sofia Vistas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4763342/avatar.png","web_url":"https://gitlab.com/svistas"},"type":"ISSUE","assignee":{"id":4763342,"username":"svistas","name":"Sofia Vistas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4763342/avatar.png","web_url":"https://gitlab.com/svistas"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340701","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340701","notes":"https://gitlab.com/api/v4/projects/278964/issues/340701/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340701/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340701","relative":"#340701","full":"gitlab-org/gitlab#340701"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7715,"epic":{"id":467187,"iid":7715,"title":"Container Registry  \u0026 Dependency Proxy End to End Testing","url":"/groups/gitlab-org/-/epics/7715","group_id":9970,"human_readable_end_date":"May 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":93536331,"iid":340689,"project_id":278964,"title":"Validate generated security report against the correct schema","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\nAs mentioned in https://gitlab.com/gitlab-org/security-products/analyzers/container-scanning/-/merge_requests/2583, the reports generated by the container-scanning analyzer need to comply with the corresponding version of the https://gitlab.com/gitlab-org/security-products/security-report-schemas/.\n\nIntegration tests currently use [a git submodule](https://gitlab.com/gitlab-org/security-products/analyzers/container-scanning/-/commit/06601df27009c637fc6ccbde9f92edc3edd977b4) to load schemas and for some reason it seems that this is not being updated.\n\n## Bug Behavior\n\n[This pipeline with missing required fields](https://gitlab.com/gitlab-org/security-products/analyzers/container-scanning/-/pipelines/371303491) should fail, but does not.\n\nAdditionally, we cannot make the tests use a specific schema version.\n\n## Possible fixes\n\n- Have the CI retrieve the schemas with `git clone`.\n- Fix the submodules to work correctly\n\n\u003c!--\nSteps and the parts of the code that will need to get updated. The plan can also\ncall-out responsibilities for other team members or teams.\n\ne.g.:\n\n- [ ] ~frontend Step 1\n  - [ ] `@person` Step 1a\n- [ ] ~frontend Step 2\n\n--\u003e\n\n\n\u003c!--\nWorkflow and other relevant labels\n\n# ~\"group::\" ~\"Category:\" ~\"GitLab Ultimate\"\nOther settings you might want to include when creating the issue.\n\n# /assign @\n# /epic \u0026\n--\u003e","state":"closed","created_at":"2021-09-13T05:41:53.103Z","updated_at":"2021-11-10T11:58:53.824Z","closed_at":"2021-11-10T11:58:53.808Z","closed_by":{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"},"labels":["Category:Container Scanning","backend","devops::govern","group::security policies","maintenance::refactor","section::sec","type::maintenance","workflow::verification"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"}],"author":{"id":480804,"username":"thiagocsf","name":"Thiago Figueiró","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480804/avatar.png","web_url":"https://gitlab.com/thiagocsf"},"type":"ISSUE","assignee":{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"},"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340689","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340689","notes":"https://gitlab.com/api/v4/projects/278964/issues/340689/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340689/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340689","relative":"#340689","full":"gitlab-org/gitlab#340689"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":93525390,"iid":340681,"project_id":278964,"title":"[UX] improve trial license generation user experience in Customers Admin Portal","description":"## Summary\n\n|  | Description |\n| ------ | ------ |\n| **Main\u0026nbsp;Issue** | https://gitlab.com/gitlab-org/license-gitlab-com/-/issues/101 |\n| **User** | **•** **User 1**: Internal (Support Engineer / Sales)  |\n| **JTBD** | As a CustomersDot Admin Tool user, I want to generate a trial license only for those tiers where a trial license is available, so I can generate accurate trial licenses for customers. |\n| **When** | During the creation of a trial license |\n| **Where** | **•** **User 1**: CustomersDot Admin Tool |\n| **Why** | To allows admin users to generate a trial license only for those tiers where a trial license is available |\n\n## [Proposal](https://gitlab.com/gitlab-org/gitlab/-/issues/340681#note_715332800)\n\n* leverage the rails validations to prevent the creation of `trials` for plans other than `premium or ultimate` and signal the user with feedback. \n* For this approach nothing will change in the creation process but if the user tries to create a `trial` for `Starter` it will get an error upon creation with the message:\u003cbr\u003e`Trials are only available for Premium and Ultimate plans.`","state":"closed","created_at":"2021-09-12T23:09:31.729Z","updated_at":"2021-11-15T22:13:25.038Z","closed_at":"2021-10-27T17:30:35.018Z","closed_by":{"id":3354144,"username":"timnoah","name":"Tim Noah","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3354144/avatar.png","web_url":"https://gitlab.com/timnoah"},"labels":["UX","[deprecated] Category:Provision","auto updated","devops::fulfillment","feature::enhancement","group::provision","section::fulfillment","type::feature","workflow::ready for development"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":3354144,"username":"timnoah","name":"Tim Noah","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3354144/avatar.png","web_url":"https://gitlab.com/timnoah"}],"author":{"id":7971452,"username":"teresatison","name":"Teresa Tison","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7971452/avatar.png","web_url":"https://gitlab.com/teresatison"},"type":"ISSUE","assignee":{"id":3354144,"username":"timnoah","name":"Tim Noah","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3354144/avatar.png","web_url":"https://gitlab.com/timnoah"},"user_notes_count":20,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340681","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340681","notes":"https://gitlab.com/api/v4/projects/278964/issues/340681/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340681/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340681","relative":"#340681","full":"gitlab-org/gitlab#340681"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":93517357,"iid":340676,"project_id":278964,"title":"jest 4/5 Job Failed #1582974334","description":"Job [#1582974334](https://gitlab.com/gitlab-org/gitlab/-/jobs/1582974334) failed for 2424e6507a6059f028529f91d302ffb470a04052:","state":"closed","created_at":"2021-09-12T16:00:20.140Z","updated_at":"2021-09-13T03:30:42.966Z","closed_at":"2021-09-13T03:30:42.955Z","closed_by":{"id":4303148,"username":"kwiebers","name":"Kyle Wiebers","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4303148/avatar.png","web_url":"https://gitlab.com/kwiebers"},"labels":["Engineering Productivity","Quality","frontend","master:broken","priority::1","severity::1","test"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"}],"author":{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"},"type":"ISSUE","assignee":{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"},"user_notes_count":4,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340676","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340676","notes":"https://gitlab.com/api/v4/projects/278964/issues/340676/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340676/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340676","relative":"#340676","full":"gitlab-org/gitlab#340676"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":93477967,"iid":340656,"project_id":278964,"title":"Remove duplicate support for QUERY_BATCH_SIZE","description":"\u003c!-- This template is a great use for issues that are feature::additions or technical tasks for larger issues.--\u003e\n\n### Proposal \n\n\u003c!-- Use this section to explain the feature and how it will work. It can be helpful to add technical details, design proposals, and links to related epics or issues. --\u003e\n\n\u003c!-- Consider adding related issues and epics to this issue. You can also reference the Feature Proposal Template (https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal%20-%20detailed.md) for additional details to consider adding to this issue. Additionally, as a data oriented organization, when your feature exits planning breakdown, consider adding the `What does success look like, and how can we measure that?` section.\n--\u003e\n\nWe currently support Advanced Search migrations that define `QUERY_BATCH_SIZE` as a constant in the file (see method `query_batch_size` in [`ee/app/workers/concerns/elastic/migration_backfill_helper.rb`](ee/app/workers/concerns/elastic/migration_backfill_helper.rb#L100). Once all of the migrations which use `QUERY_BATCH_SIZE` are deprecated, we can remove support for this in the code and only support the migration option `batch_size` introduced in: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/66671/","state":"closed","created_at":"2021-09-10T19:48:24.501Z","updated_at":"2022-05-30T16:30:01.975Z","closed_at":"2022-04-26T15:00:39.684Z","closed_by":{"id":5708766,"username":"terrichu","name":"Terri Chu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5708766/avatar.png","web_url":"https://gitlab.com/terrichu"},"labels":["Category:Global Search","backend","devops::data_stores","group::global search","section::enablement","type::maintenance","workflow::verification"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":5708766,"username":"terrichu","name":"Terri Chu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5708766/avatar.png","web_url":"https://gitlab.com/terrichu"}],"author":{"id":5708766,"username":"terrichu","name":"Terri Chu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5708766/avatar.png","web_url":"https://gitlab.com/terrichu"},"type":"ISSUE","assignee":{"id":5708766,"username":"terrichu","name":"Terri Chu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5708766/avatar.png","web_url":"https://gitlab.com/terrichu"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340656","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340656","notes":"https://gitlab.com/api/v4/projects/278964/issues/340656/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340656/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340656","relative":"#340656","full":"gitlab-org/gitlab#340656"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":93477276,"iid":340653,"project_id":278964,"title":"Organize callouts code under users","description":"The following discussion from !68785 should be addressed:\n\n- [ ] @mayra-cabrera started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/68785#note_669253494):  (+7 comments)\n\n    \u003e I agree the name is not perfect, and I can't think of a better option. \n    \u003e \n    \u003e But thinking about it a bit more, not sure if this one should be a concern, the point of a model concern is to make the code more re-usable by sharing it across different models, but this concern is very specific to `User`, we're using to reduce the logic of that model, at the moment I don't visualize any other model that could include this concern. I think the whole problem is that we're trying to centralize logic between `Group`s and `Project`s, which could be done by having a base class, something along the lines of:\n    \u003e \n    \u003e ```ruby\n    \u003e class BaseCallout\n    \u003e   has_many :callouts, class_name: 'UserCallout'\n    \u003e \n    \u003e   # .... \n    \u003e   def dismissed_callout_for_source?(feature_name:, ignore_dismissal_earlier_than: nil)\n    \u003e     callout = callouts_by_source_feature_name[source_feature_name]\n    \u003e \n    \u003e     callout_dismissed?(callout, ignore_dismissal_earlier_than)\n    \u003e   end\n    \u003e \n    \u003e   private\n    \u003e \n    \u003e   def source_feature_name\n    \u003e     raise NotImplemented\n    \u003e   end\n    \u003e \n    \u003e end\n    \u003e \n    \u003e class ProjectCallout \u003c BaseCallout\n    \u003e \n    \u003e   private\n    \u003e \n    \u003e   def source_feature_name\n    \u003e     \":project_#{project_id}_#{feature_name}\"\n    \u003e   end\n    \u003e end\n    \u003e \n    \u003e class GroupCallout \u003c BaseCallout\n    \u003e \n    \u003e   private \n    \u003e \n    \u003e   def source_feature_name\n    \u003e     \":group_#{group_id}_#{feature_name}\"\n    \u003e   end\n    \u003e end\n    \u003e ```\n    \u003e \n    \u003e Thoughts?","state":"closed","created_at":"2021-09-10T19:27:17.185Z","updated_at":"2021-12-10T17:10:28.165Z","closed_at":"2021-12-10T17:10:28.137Z","closed_by":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"labels":["auto updated","devops::growth","group::acquisition","section::growth","type::maintenance","workflow::in review"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"}],"author":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"type":"ISSUE","assignee":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340653","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340653","notes":"https://gitlab.com/api/v4/projects/278964/issues/340653/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340653/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340653","relative":"#340653","full":"gitlab-org/gitlab#340653"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":93474362,"iid":340649,"project_id":278964,"title":"New Audit Event: Compliance framework at group-level changed","description":"_This issue and linked pages contain information related to upcoming products, features, and functionality. \nIt is important to note that the information presented is for informational purposes only. Please do not rely on this information for purchasing or planning purposes. \nAs with all projects, the items mentioned in this video and linked pages are subject to change or delay. The development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc._\n\n\u003c!-- This issue template can be used a great starting point for feature requests. The last section \"Release notes\" can be used as a summary of the feature and is also required if you want to have your release post blog MR auto generated using the release post item generator:  https://about.gitlab.com/handbook/marketing/blog/release-posts/#release-post-item-generator. The remaining sections are the backbone for every feature in GitLab. --\u003e\n\n### Release notes \n\n\u003c!-- What is the problem and solution you're proposing? This content sets the overall vision for the feature and serves as the release notes that will populate in various places, including the [release post blog](https://about.gitlab.com/releases/categories/releases/) and [Gitlab project releases](https://gitlab.com/gitlab-org/gitlab/-/releases). \" --\u003e\n\n### Problem to solve \n\n\u003c!-- What is the user problem you are trying to solve with this issue? --\u003e\n\nUsers may change the compliance framework label on a group. This change could be potentially controversial or unintended, so organizations wish to be able to have a record of this happening. Today, there is no audit event created for any changes to compliance framework label, the description, compliance pipeline configuration location, or background color.\n\n### Proposal \n\n\u003c!-- Use this section to explain the feature and how it will work. It can be helpful to add technical details, design proposals, and links to related epics or issues. --\u003e\n\nCreate a new audit event in the audit log when groups compliance framework labels, description, and background color changes (for Premium), and capture changes to the compliance pipeline configuration location (Ultimate).\n\n\u003c!--- Use the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n\nConsider adding related issues and epics to this issue. You can also reference the Feature Proposal Template (https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal%20-%20detailed.md) for additional details to consider adding to this issue. Additionally, as a data oriented organization, when your feature exits planning breakdown, consider adding the `What does success look like, and how can we measure that?` section.\n\nOther sections to consider adding: \n\n### Intended users\n\nWho will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n\n* [Cameron (Compliance Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#cameron-compliance-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager) \n* [Alex (Security Operations Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#alex-security-operations-engineer)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops) \n* [Priyanka (Platform Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#priyanka-platform-engineer)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n\n\n### User experience goal\n\nWhat is the single user experience workflow this problem addresses? \nFor example, \"The user should be able to use the UI/API/.gitlab-ci.yml with GitLab to \u003cperform a specific task\u003e\"\nhttps://about.gitlab.com/handbook/engineering/ux/ux-research-training/user-story-mapping/ \n\n\n### Further details\n\nInclude use cases, benefits, goals, or any other details that will help us understand the problem better. \n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?\nConsider adding checkboxes and expectations of users with certain levels of membership https://docs.gitlab.com/ee/user/permissions.html\n* [ ] Add expected impact to members with no access (0)\n* [ ] Add expected impact to Guest (10) members\n* [ ] Add expected impact to Reporter (20) members\n* [ ] Add expected impact to Developer (30) members \n* [ ] Add expected impact to Maintainer (40) members\n* [ ] Add expected impact to Owner (50) members \n\n### Documentation\n\n See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/workflow.html#for-a-product-change\n\n* Add all known Documentation Requirements in this section. See https://docs.gitlab.com/ee/development/documentation/workflow.html\n* If this feature requires changing permissions, update the permissions document. See https://docs.gitlab.com/ee/user/permissions.html \n\n### Availability \u0026 Testing\n\nThis section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning \n\n### What does success look like, and how can we measure that?\n\nDefine both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. \n\n### What is the type of buyer?\n\nWhat is the buyer persona for this feature? See https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/buyer-persona/\nIn which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#three-tiers\n\n### Is this a cross-stage feature?\n\nCommunicate if this change will affect multiple Stage Groups or product areas. We recommend always start with the assumption that a feature request will have an impact into another Group. Loop in the most relevant PM and Product Designer from that Group to provide strategic support to help align the Group's broader plan and vision, as well as to avoid UX and technical debt. https://about.gitlab.com/handbook/product/#cross-stage-features --\u003e\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2021-09-10T17:49:11.419Z","updated_at":"2021-11-16T14:01:15.270Z","closed_at":"2021-11-16T08:42:57.253Z","closed_by":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"labels":["Category:Audit Events","GitLab Premium","GitLab Ultimate","Next Up","audit_events::settings_configuration","backend","devops::manage","direction","documentation","group::compliance","priority::4","section::dev","type::feature","workflow::verification"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"}],"author":{"id":4709667,"username":"laurie_howitt","name":"Laurie Howitt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4709667/avatar.png","web_url":"https://gitlab.com/laurie_howitt"},"type":"ISSUE","assignee":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340649","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340649","notes":"https://gitlab.com/api/v4/projects/278964/issues/340649/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340649/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340649","relative":"#340649","full":"gitlab-org/gitlab#340649"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":475,"epic":{"id":1503,"iid":475,"title":"Comprehensive audit log: group settings","url":"/groups/gitlab-org/-/epics/475","group_id":9970,"human_readable_end_date":"May 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":93471118,"iid":340642,"project_id":278964,"title":"Add support for replicating OCI image indexes and Buildkit cache manifests","description":"### Proposal \n\nGeo should handle replication of these two image types in the container registry. Grouping them together as they are [somewhat related](https://gitlab.com/gitlab-org/gitlab/-/issues/336013#note_665675098). \n\nFollow up from https://gitlab.com/gitlab-org/gitlab/-/issues/336013","state":"closed","created_at":"2021-09-10T16:12:22.733Z","updated_at":"2022-10-25T09:16:01.571Z","closed_at":"2022-07-12T13:43:09.347Z","closed_by":{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"},"labels":["Category:Container Registry","Category:Geo Replication","GitLab Ultimate","customer","devops::systems","group::geo","missed:15.1","section::enablement","type::feature","workflow::in review"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"}],"author":{"id":787914,"username":"ibaum","name":"Ian Baum","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7c508dc85ddd5049564a95662311543b?s=80\u0026d=identicon","web_url":"https://gitlab.com/ibaum"},"type":"ISSUE","assignee":{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"},"user_notes_count":31,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340642","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340642","notes":"https://gitlab.com/api/v4/projects/278964/issues/340642/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340642/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340642","relative":"#340642","full":"gitlab-org/gitlab#340642"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":93469243,"iid":340635,"project_id":278964,"title":"Simulate high write load","description":"## Context\n\nThis is part of the work to upgrade and migrate the GitLab.com container registry to a new version backed by a metadata database and online garbage collection (https://gitlab.com/groups/gitlab-org/-/epics/5523). This will be achieved following the gradual migration plan detailed in https://gitlab.com/gitlab-org/container-registry/-/issues/374.\n\nDuring testing in staging, we should perform load tests against the registry and look for potential issues, such as database connection pool saturations and connection leaks. The outcome from this should, among other things, aid in defining appropriate connection pool settings for production.\n\nWe already performed write load tests while trying to provoke a database connection pool saturation in https://gitlab.com/gitlab-org/gitlab/-/issues/336914. For this purpose, we have used [Skopeo](https://github.com/containers/skopeo) to [sync](https://github.com/containers/skopeo/blob/main/docs/skopeo-sync.1.md) images from DockerHub into our staging registry. This allowed us to perform realistic tests using authentic images but proved to be challenging to scale as images can be pretty large. Therefore the upload requests to the storage backend (GCS) take a large portion of the time, thus taking pressure off the server and the database.\n\n## Strategy\n\nThe intention is to go beyond what we did in https://gitlab.com/gitlab-org/gitlab/-/issues/336914. For this purpose, we will generate random images with tiny (only a few KiB in size) layers and have them pushed to the registry. \n\nBecause the registry database is partitioned by top-level namespace, we need to create many top-level groups in GitLab and spread the load across them for a more realistic scenario.\n\nIn terms of requests per second (RPS), we intend to reach at least 10% of that from the production registry. Looking at the previous week, the average server RPS in production was 1110 ([source](https://dashboards.gitlab.net/d/registry-main/registry-overview?orgId=1\u0026from=1632227849846\u0026to=1632832649846\u0026var-PROMETHEUS_DS=Global\u0026var-environment=gprd\u0026var-stage=main)).\n\n## Methodology\n\nWe have developed a series of scripts ([source](https://gitlab.com/-/snippets/2178011)) that allowed us to create groups and projects in GitLab and execute the tests.\n\nWe have created 50 top-level groups and 100 projects in GitLab. The first 50 projects were spread evenly across groups, and the remaining were spread randomly.\n\nWe placed the test scripts (`run.sh` and `run-docker-build-and-push.sh`) in each of the client hosts and used them to perform the tests in \"parallel\" across hosts. We have used a different number of threads during the tests, which means that we had `N'x'M' clients in total, where `N` is the number of hosts and `M` is the number of threads per host. Each thread is responsible for building and pushing images in a loop.\n\nWe have used a random number of layers per image, between 3 and 10, each with a random size between 1 and 10 KiB. Each image is built locally in each host and pushed to a random repository (among the 100) in the staging registry, all using Docker.\n\nThe following table shows the combination of configurations and the start and end timestamps for each test:\n\n| Run | Number of client hosts | Number of client threads per host | Start | End |\n| ------ | ------ |------ |------ |------ |\n| 1 | 6 | 1 | 2021-09-28 10:24 UTC | 2021-09-28 10:31 UTC |\n| 2 | 6 | 3 | 2021-09-28 10:33 UTC | 2021-09-28 10:42 UTC |\n| 3 | 6 | 8 | 2021-09-28 10:43 UTC | 2021-09-28 10:52 UTC |\n| 4 | 6 | 32 | 2021-09-28 10:53 UTC | 2021-09-28 11:00 UTC |\n| 5 | 12 | 16 | 2021-09-28 11:21 UTC | 2021-09-28 11:24 UTC |\n\n## Results\n\nDuring run `4` I saw some uploads hanging on the clients, and I thought the hosts were bottlenecked by CPU and network bandwidth, so I decided to duplicate the hosts and halve the number of threads in run `5`. However, after looking more carefully at metrics, I realized that the problem was not the clients but rather the server. It turns out that we have hit a K8s scaling limit and the load balancer \"collapsed\" during run `5`. This was discussed in https://gitlab.com/gitlab-org/gitlab/-/issues/340635#note_688900286, and a followup issue was raised (https://gitlab.com/gitlab-com/gl-infra/delivery/-/issues/2044). The problem is unrelated to the application/database.\n\nApart from that, there were no issues, and the results are encouraging. A total of **4,965 images with 37,978 blobs** were created and registered in the database during these tests.\n\nBelow we share screenshots of metrics. These were extracted from the various registry dashboards in Grafana, namely:\n\n- [Overview](https://dashboards.gitlab.net/d/registry-main/registry-overview?orgId=1) \n- [Application](https://dashboards.gitlab.net/d/registry-app/registry-application-info?orgId=1) \n- [Database](https://dashboards.gitlab.net/d/registry-database/registry-database-info?orgId=1) \n- [GC](https://dashboards.gitlab.net/d/registry-gc/registry-garbage-collection-detail?orgId=1) \n\n### Application\n\n![image](/uploads/627db70941be352395c1fa756bf6b5af/image.png)\n\n![image](/uploads/6fc892f6eaa33a8761cbac7a9e1d28d9/image.png)\n\nThere were only 3 application errors during all tests ([source](https://nonprod-log.gitlab.net/goto/8e1226896fdada9b120b1d7c911cb811)), all due to a `503 Service Unavailable` from GCS ([sample](https://nonprod-log.gitlab.net/goto/39747c2e8a8917edcdbd5b6655d83ca6)). So the error rate didn't move.\n\nRegarding RPS, we have reached an API RPS that represents **17% of that in production**.\n\nThe apdex dipped during the load peak as we couldn't efficiently provision more pods to accommodate the load (https://gitlab.com/gitlab-org/gitlab/-/issues/340635#note_688900286).\n\n![image](/uploads/e696461cc8824edb0fe6eb2eeddc1874/image.png)\n\nBoth CPI and memory hovered at reasonable values and then retraced cleanly at the end of each test, which shows no significant leaks.\n\n### Database\n\n![image](/uploads/8c72d85bded1f750d0a068199302caaa/image.png)\n\n![image](/uploads/cb229c23ddb2bea65447c8e4d40d7609/image.png)\n\nWe were close to 800 RPS on the database side with reasonable latencies.\n\nWe can also see that usage is quite pronounced for the `repository_find_by_path` and `repository_create_or_find` queries. We already identified a way to reduce this (https://gitlab.com/gitlab-org/container-registry/-/issues/452).\n\n#### Connection Pool\n\n![image](/uploads/c189fe28ae8132b687dcc278c89ea072/image.png)\n\n![image](/uploads/e71479985242664f80b2e9aa2337a03a/image.png)\n\n![image](/uploads/440a5ea043b399781cc19d4af5589845/image.png)\n\nDespite the increased load, the application-side connection pool saturation remained relatively low. The limit is currently set to 16 open connections per pod, but we never went above half of that. This means we can potentially use a similar or lower setting for the initial rollout in production.\n\n### Garbage Collector\n\n![image](/uploads/89171b27fae1b70399bc5d94a8449384/image.png)\n\nNo errors and low RPS. There are two workers per pod, and they run at a configurable interval (currently set to \u003e= 5s +- 33% jitter).\n\n![image](/uploads/a2f64a493a571b65e5c583a1cb0dd26b/image.png)\n\nWe can see that the tasks started to accumulate during tests, and then they were dealt with. We can also see that the time between runs (reviews) was high because there were no tasks available before the tests (workers will back off exponentially in case there are no tasks), but as soon as they were detected, the delay between runs stayed as low as possible (5s +- 33% jitter) to process tasks ASAP.\n\n![image](/uploads/1c808b7786ab6fbe16c456f8cf0700f4/image.png)\n\n![image](/uploads/0372a93495ffb86a3fd5552699c1a291/image.png)\n\nNothing odd about rate and latencies.\n\n![image](/uploads/3db91b414512ef2e2e60b0100ee71f6b/image.png)\n\nAs expected, nothing was deleted during tests because we were uploading images, not deleting tags or manifests.\n\n### Service Aggregate\n\n![image](/uploads/5e3e596ed020df56db60861d0733aef1/image.png)\n\n### Load Balancer\n\n![image](/uploads/806209328ac650e76f6b8ee7894587eb/image.png)\n\nHere we can see the load balancer \"crash\" during run `5`.","state":"closed","created_at":"2021-09-10T15:25:36.080Z","updated_at":"2021-10-18T07:02:08.977Z","closed_at":"2021-09-29T09:43:01.715Z","closed_by":{"id":5054840,"username":"jdrpereira","name":"João Pereira","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5054840/avatar.png","web_url":"https://gitlab.com/jdrpereira"},"labels":["Category:Container Registry","Container Registry Migration","Container Registry Migration::Phase 1","Deliverable","GitLab Free","Package:P1","auto updated","bug::performance","devops::package","group::package registry","section::ops"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":5054840,"username":"jdrpereira","name":"João Pereira","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5054840/avatar.png","web_url":"https://gitlab.com/jdrpereira"}],"author":{"id":5054840,"username":"jdrpereira","name":"João Pereira","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5054840/avatar.png","web_url":"https://gitlab.com/jdrpereira"},"type":"ISSUE","assignee":{"id":5054840,"username":"jdrpereira","name":"João Pereira","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5054840/avatar.png","web_url":"https://gitlab.com/jdrpereira"},"user_notes_count":16,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340635","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340635","notes":"https://gitlab.com/api/v4/projects/278964/issues/340635/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340635/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340635","relative":"#340635","full":"gitlab-org/gitlab#340635"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6706,"epic":{"id":344403,"iid":6706,"title":"Load testing in staging (Phase 1)","url":"/groups/gitlab-org/-/epics/6706","group_id":9970,"human_readable_end_date":"Oct 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":93469241,"iid":340634,"project_id":278964,"title":"Simulate high read load","description":"## Context\n\nWe're upgrading and migrating the GitLab.com container registry to a new version backed by a metadata database and online garbage collection (https://gitlab.com/groups/gitlab-org/-/epics/5523), following the gradual migration plan detailed in https://gitlab.com/gitlab-org/container-registry/-/issues/374.\n\nDuring testing in staging, we should perform load tests and look for potential issues. The outcome from this should, among other things, aid in defining appropriate connection pool settings for production.\n\nThis issue is to perform isolated read tests. The GitLab.com registry API rate is +90% reads ([source](https://thanos.gitlab.net/graph?g0.expr=(sum(%0A%20%20%20%20rate(%0A%20%20%20%20%20%20registry_http_requests_total%7B%0A%20%20%20%20%20%20%20%20env%3D%22gprd%22%2C%0A%20%20%20%20%20%20%20%20method%3D~%22put%7Cpatch%7Cpost%7Cdelete%22%2C%0A%20%20%20%20%20%20%20%20code%3D~%22%5E2.*%7C404%22%2C%0A%20%20%20%20%20%20%20%20route!%3D%22%2Fv2%2F%22%2C%0A%20%20%20%20%20%20%20%20route!%3D%22%2F%22%0A%20%20%20%20%20%20%7D%5B3d%5D%0A%20%20%20%20)%0A)%0A%2F%20%0Asum(%0A%20%20%20%20rate(%0A%20%20%20%20%20%20registry_http_requests_total%7B%0A%20%20%20%20%20%20%20%20env%3D%22gprd%22%2C%0A%20%20%20%20%20%20%20%20method!%3D%22options%22%2C%0A%20%20%20%20%20%20%20%20code%3D~%22%5E2.*%7C307%7C404%22%2C%0A%20%20%20%20%20%20%20%20route!%3D%22%2Fv2%2F%22%2C%0A%20%20%20%20%20%20%20%20route!%3D%22%2F%22%0A%20%20%20%20%20%20%7D%5B3d%5D%0A%20%20%20%20)%0A))%20*%20100\u0026g0.tab=1\u0026g0.stacked=0\u0026g0.range_input=1h\u0026g0.max_source_resolution=0s\u0026g0.deduplicate=1\u0026g0.partial_response=0\u0026g0.store_matches=%5B%5D\u0026g1.expr=(sum(%0A%20%20%20%20rate(%0A%20%20%20%20%20%20registry_http_requests_total%7B%0A%20%20%20%20%20%20%20%20env%3D%22gprd%22%2C%0A%20%20%20%20%20%20%20%20method%3D~%22head%7Cget%22%2C%0A%20%20%20%20%20%20%20%20code%3D~%22%5E2.*%7C307%7C404%22%2C%0A%20%20%20%20%20%20%20%20route!%3D%22%2Fv2%2F%22%2C%0A%20%20%20%20%20%20%20%20route!%3D%22%2F%22%0A%20%20%20%20%20%20%7D%5B3d%5D%0A%20%20%20%20)%0A)%0A%2F%20%0Asum(%0A%20%20%20%20rate(%0A%20%20%20%20%20%20registry_http_requests_total%7B%0A%20%20%20%20%20%20%20%20env%3D%22gprd%22%2C%0A%20%20%20%20%20%20%20%20method!%3D%22options%22%2C%0A%20%20%20%20%20%20%20%20code%3D~%22%5E2.*%7C307%7C404%22%2C%0A%20%20%20%20%20%20%20%20route!%3D%22%2Fv2%2F%22%2C%0A%20%20%20%20%20%20%20%20route!%3D%22%2F%22%0A%20%20%20%20%20%20%7D%5B3d%5D%0A%20%20%20%20)%0A))%20*%20100\u0026g1.tab=1\u0026g1.stacked=0\u0026g1.range_input=1h\u0026g1.max_source_resolution=0s\u0026g1.deduplicate=1\u0026g1.partial_response=0\u0026g1.store_matches=%5B%5D)), so it is crucial to extend the previous tests from https://gitlab.com/gitlab-org/gitlab/-/issues/340635 (writes and reads) focusing solely on reads.\n\n## Strategy\n\nGo over the list of images (~5k) previously pushed to the staging registry in https://gitlab.com/gitlab-org/gitlab/-/issues/340635 and validate each one. A test client picks a random repository from the list, lists its tags, and then loops over those tags and validates them. Validating a tag/image implies the following operations:\n\n1. Get the image manifest that the tag points to (1 `GET`);\n2. Validate that the manifest is well-formed and its digest matches;\n2. Get the image configuration blob listed in the manifest and check that the digest matches (1 `GET`);\n3. For each layer listed in the manifest, ensure the corresponding blob exists and the digest matches (N `HEAD`/`GET`).\n\nApart from putting read load on the registry, this will also serve to check the validity/integrity of the images previously created in https://gitlab.com/gitlab-org/gitlab/-/issues/340635.\n\nRegarding requests per second (RPS), the intention is to go as high as possible, reaching at least 10% of that from the production registry. Looking at the previous week, the average API RPS in production was 1110 ([source](https://dashboards.gitlab.net/d/registry-main/registry-overview?orgId=1\u0026from=1632227849846\u0026to=1632832649846\u0026var-PROMETHEUS_DS=Global\u0026var-environment=gprd\u0026var-stage=main)).\n\n## Methodology\n\nWe're going to use the [`crane`](https://github.com/google/go-containerregistry/blob/main/cmd/crane/doc/crane.md) CLI and most precisely, its [`validate`](https://github.com/google/go-containerregistry/blob/main/cmd/crane/doc/crane_validate.md) command. This command validates an image as described above.\n\nWe'll start by listing the tags of a random repository (with `crane ls`) and then loop over those tags and call `crane validate` for each. Reads will be spread randomly across the 50 top-level groups and 100 projects previously created.\n\nA series of scripts were created to conduct these tests ([source](https://gitlab.com/-/snippets/2178011)). We placed these (`run-validate.sh` and `run-repo-validate.sh`) in each client host and used them to perform the tests in \"parallel\". Multiple runs were executed, with a different number of threads per client, which means that we have `NxM` clients in total, where `N` is the number of hosts and `M` is the number of threads per host. Each thread is responsible for (in an infinite loop) picking a random repository, listing tags, and validate each of them.\n\nThe following table shows the combination of configurations and the start and end timestamps for each test:\n\n| Run | Number of client hosts | Number of client threads per host | Start | End | Notes |\n| ------ | ------ |------ |------ |------ |------ |\n|1 | 6 | 1 | 2021-09-29 09:50 UTC | 2021-09-29 10:58 UTC | |\n|2 | 6 | 3 | 2021-09-29 10:00 UTC | 2021-09-29 10:08 UTC | |\n|3 | 6 | 8 | 2021-09-29 10:10 UTC | 2021-09-29 10:18 UTC | |\n|4 | 6 | 16 | 2021-09-29 10:20 UTC | 2021-09-29 10:28 UTC | At this point, we noticed that we were peaking in the K8s scaling limit and therefore decided not to go above this number of clients. |\n|5 | 6 | 16 | 2021-09-29 10:35 UTC | 2021-09-29 11:05 UTC | We tweaked the `crane validate` command options to not only `HEAD` the image layers but actually `GET`/download them and calculate their digest (by removing the `--fast` option). This is a more realistic scenario and provides another integrity validation. This variation requires downloading data from the storage backend, so a slightly lower server RPS is expected. We let it run for longer to make sure we see stability on longer executions. |\n\n## Results\n\nIf comparing these results with the ones for writes (https://gitlab.com/gitlab-org/gitlab/-/issues/340635), it's important to note that we doubled the maximum replicas per cluster from 10 to 20 before these tests ([source](https://gitlab.com/gitlab-com/gl-infra/k8s-workloads/gitlab-com/-/merge_requests/1265)). So we have doubled the scaling capacity, despite still using only 2 clusters out of 3 (https://gitlab.com/gitlab-com/gl-infra/delivery/-/issues/2044).\n\nA total of **60,014 image validations** were performed during these tests, and all succeeded. We went as high as **~550 API RPS** and **~1K database RPS**. This API RPS represents **~50%** of the production RPS at the time of writing! Overall, there were no application or database errors, and the results were very encouraging.\n\nThe only problem observed was that 2% of the tag list requests have failed. Looking at the registry access logs ([source](https://nonprod-log.gitlab.net/goto/baf240afd0247c1192530ec8b80a5b14)) we can see that there are no errors. Digging deeper, we can observe that these failures occurred randomly while `crane` was trying to authenticate against Rails (before speaking with the registry). This can be confirmed by looking at Workhorse logs ([source](https://nonprod-log.gitlab.net/goto/328ac686aa3521fb0bfad373d6fd5f35)). We've put a lot of (unusual) pressure on the Rails API during these tests as well, and the error percentage (and randomness) is too low to be a concern IMO.\n\nHere are the full logs across all hosts for run `5`: [run-5-logs.zip](/uploads/dafa5ac7fc505885881c5d84b605026f/run-5-logs.zip)\n\nBelow we share screenshots of metrics. These were extracted from the various registry dashboards in Grafana, namely:\n\n- [Overview](https://dashboards.gitlab.net/d/registry-main/registry-overview?orgId=1) \n- [Application](https://dashboards.gitlab.net/d/registry-app/registry-application-info?orgId=1) \n- [Database](https://dashboards.gitlab.net/d/registry-database/registry-database-info?orgId=1) \n- [GC](https://dashboards.gitlab.net/d/registry-gc/registry-garbage-collection-detail?orgId=1) \n\n### Application\n\n![image](/uploads/6a38bfa5e1a22779f5ed18abb9b8fae1/image.png)\n\nThe server error rate didn't move during all tests. The apdex barely moved _during_ all tests, but we can see an intriguingly dramatic drop exactly _after_ stopping run 5. I'm unable to explain this. I don't see any indication that the registry became unresponsive or significantly degraded after stopping the tests, unlike what the drop suggests. I wonder whether this is a consequence of how I shut down the test clients and how that may or may not have affected the apdex calculation. Unlike on the write tests, all clients threads were programmed to stop at exactly the same time across all hosts, and no graceful shutdown was used.\n\nIn terms of RPS, we reached 550 RPS, ~50% of what we're seeing in production at the time of writing.\n\n![image](/uploads/32066e7a666022be7dbd4617cc9fd80e/image.png)\n\n![image](/uploads/43a9521316ffbf44406af3355ca07831/image.png)\n\nCPU and memory usage remained low, except for _two_ specific pods that saw a significant spike in usage during the _start_ of run 5. This might be a scaling artifact due to the sudden dramatic increase in demand after a retrace to nearly 0 RPS before starting run 5. The CPU and memory usage retrace was clean after each test run, which is great.\n\n### Database\n\n![image](/uploads/31e29a26e61deca246b1093bff91655c/image.png)\n\nSteadily cruising at 1k queries per second.\n\n![image](/uploads/eb02f5bccd0bb2937c1cd5178404c6b0/image.png)\n\nWe can see pronounced usage for the `repository_find_by_path` and `repository_create_or_find` queries. We already identified a way to reduce this (https://gitlab.com/gitlab-org/container-registry/-/issues/452).\n\n#### Connection Pool\n\n![image](/uploads/6688a0af77ad5feba692202e45cd907c/image.png)\n\nWe peaked at over 70 open connections to the database across the clusters. The number of in-use connections saw rapid swings, which is expected (otherwise, we would be leaking connections). Clean retrace to nearly zero after tests.\n\n![image](/uploads/cd2c12e147215531f113f0366ec47744/image.png)\n\nDistribution across pods was even, except for two pods, showing a similar pattern to that observed in CPU usage, which seems to corroborate the explanation for that.\n\n![image](/uploads/0d31cee124265ceac8bf9bf27c1fabfe/image.png)\n\nThe application-side connection pool saturation remained low across pods. Currently, the staging registry is configured to allow up to 16 connections per pod. This allowed us to reach ~50% of the production traffic with low pool saturation. This is an important takeaway for the production connection pool configuration.\n\n### Service Aggregate\n\n![image](/uploads/a96c8f98517cb5605295e366dfb10000/image.png)\n\nMinor drop in apdex (due to the previously highlighted server apdex drop) and no movement on the error rate across all components.\n\n![image](/uploads/0462917d8744b6dea80393416ded23fc/image.png)\n\nThe cluster saturation climbed to 100% during runs 4 and 5 (6 clients, 16 threads each). This means we provisioned as many replicas as we could (20 per cluster, 2 active clusters) to meet demand. CPU usage peaked at 80% during run 4 and remaining around 60% for round 5 (in this run, we downloaded blobs from the storage backend, which took some pressure off the server as we grabbed those directly from GCS).","state":"closed","created_at":"2021-09-10T15:25:27.641Z","updated_at":"2022-01-14T11:55:35.275Z","closed_at":"2021-09-30T09:47:53.588Z","closed_by":{"id":5054840,"username":"jdrpereira","name":"João Pereira","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5054840/avatar.png","web_url":"https://gitlab.com/jdrpereira"},"labels":["Category:Container Registry","Container Registry Migration","Container Registry Migration::Phase 1","Deliverable","GitLab Free","Package:P1","auto updated","bug::performance","devops::package","group::package registry","section::ops","workflow::in review"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":5054840,"username":"jdrpereira","name":"João Pereira","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5054840/avatar.png","web_url":"https://gitlab.com/jdrpereira"}],"author":{"id":5054840,"username":"jdrpereira","name":"João Pereira","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5054840/avatar.png","web_url":"https://gitlab.com/jdrpereira"},"type":"ISSUE","assignee":{"id":5054840,"username":"jdrpereira","name":"João Pereira","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5054840/avatar.png","web_url":"https://gitlab.com/jdrpereira"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340634","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340634","notes":"https://gitlab.com/api/v4/projects/278964/issues/340634/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340634/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340634","relative":"#340634","full":"gitlab-org/gitlab#340634"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6706,"epic":{"id":344403,"iid":6706,"title":"Load testing in staging (Phase 1)","url":"/groups/gitlab-org/-/epics/6706","group_id":9970,"human_readable_end_date":"Oct 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":93468723,"iid":340633,"project_id":278964,"title":"Check if metrics that are added dynamic have corresponding metric defintions","description":"Follow up issue from https://gitlab.com/gitlab-org/gitlab/-/issues/340503\n\n## Summary\n\nWe identified some metrics which were missing from service ping see details https://gitlab.com/gitlab-org/gitlab/-/issues/340503\n\nWe should check all metric that are added dynamic if have metrics definitions and they appear in filtered payload.\n\n## Identify all metrics that are added dynamic like and check if they have corresponding metric definitions \n\n* [x] [`email_campaign_counts`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/usage_data.rb#L826)\n* [x] [`services_usage`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/usage_data.rb#L409)\n* [x] [`container_expiration_policies_usage`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/usage_data.rb#L394)\n* [x] [`security_products_usage`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/lib/ee/gitlab/usage_data.rb#L144)\n* [x] [`usage_activity_by_stage_enablement`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/lib/ee/gitlab/usage_data.rb#L268)\n* [x] [`usage_activity_by_stage_secure`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/lib/ee/gitlab/usage_data.rb#L359)\n* [x] [`count_secure_scans`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/lib/ee/gitlab/usage_data.rb#L398)\n* [x] Add metrics definitions if they are missing\n* [x] Check if service ping payload is generated and filtered correct.\n* [x] Compare a service ping payload from gitlab.com before the filtering and after filtering. The payloads are available in `raw_usage_data` table or in slack, looking at the [monitoring issue](https://gitlab.com/gitlab-org/gitlab/-/issues/331842) \n  - the filtering issue https://gitlab.com/gitlab-org/gitlab/-/issues/333681\n\nNote: This is the list I came up with at the first look in usage_data.rb and ee usage_data.rb, please double check","state":"closed","created_at":"2021-09-10T15:16:38.333Z","updated_at":"2021-10-28T13:52:35.617Z","closed_at":"2021-09-15T13:52:18.818Z","closed_by":{"id":8013274,"username":"pskorupa","name":"Piotr Skorupa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8013274/avatar.png","web_url":"https://gitlab.com/pskorupa"},"labels":["Unplanned","[deprecated] Accepting merge requests","devops::growth","group::product intelligence","section::growth","type::maintenance","workflow::verification"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":8013274,"username":"pskorupa","name":"Piotr Skorupa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8013274/avatar.png","web_url":"https://gitlab.com/pskorupa"}],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":{"id":8013274,"username":"pskorupa","name":"Piotr Skorupa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8013274/avatar.png","web_url":"https://gitlab.com/pskorupa"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340633","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":10,"completed_count":10},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"10 of 10 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340633","notes":"https://gitlab.com/api/v4/projects/278964/issues/340633/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340633/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340633","relative":"#340633","full":"gitlab-org/gitlab#340633"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":93467097,"iid":340627,"project_id":278964,"title":"Rename job trace to job logs in frontend code","description":"As mentioned in https://docs.gitlab.com/ee/administration/job_logs.html, we renamed job trace to job log in GitLab 12.5, but we still often use the term `trace` internally because our code still uses the legacy name. We also use the term `live trace` for https://docs.gitlab.com/ee/administration/job_logs.html#enabling-incremental-logging.\n\n## Javascript\n`$ git grep -i \"job.*trace\" | grep \\.js`\n\n```\napp/assets/javascripts/ide/stores/modules/pipelines/actions.js:    .get(`${state.detailJob.path}/trace`, { params: { format: 'json' } })\napp/assets/javascripts/jobs/store/actions.js:  return Promise.all([dispatch('fetchJob'), dispatch('fetchTrace')]);\napp/assets/javascripts/jobs/store/actions.js: * Job's Trace\napp/assets/javascripts/jobs/store/getters.js: * Checks if it the job has trace.\napp/assets/javascripts/jobs/store/getters.js:  state.job.has_trace || (!isEmpty(state.job.status) \u0026\u0026 state.job.status.group === 'running');\napp/assets/javascripts/jobs/store/mutations.js:      // When the job still does not have a trace\n```\n\n### Specs\n\n```\nee/spec/frontend/environments_dashboard/components/mock_environment.json:          \"title\": \"This job does not have a trace.\"\nee/spec/frontend/security_dashboard/mock_data/jobs.js:          downloadPath: '/debug-cov-fuzz-project/-/jobs/1133/artifacts/download?file_type=trace',\nee/spec/frontend/security_dashboard/mock_data/jobs.js:          downloadPath: '/debug-cov-fuzz-project/-/jobs/1131/artifacts/download?file_type=trace',\nspec/features/projects/jobs_spec.rb:    context 'when job is failed but has no trace', :js do\nspec/features/projects/jobs_spec.rb:  describe \"GET /:project/jobs/:id/trace.json\" do\nspec/frontend/environments/mock_data.js:          title: 'This job does not have a trace.',\nspec/frontend/jobs/components/job_app_spec.js:  const setupAndMount = ({ jobData = {}, traceData = {} } = {}) =\u003e {\nspec/frontend/jobs/components/job_app_spec.js:  const findJobTraceScrollTop = () =\u003e wrapper.find('[data-testid=\"job-controller-scroll-top\"]');\nspec/frontend/jobs/components/job_app_spec.js:  const findJobTraceScrollBottom = () =\u003e\nspec/frontend/jobs/components/job_app_spec.js:  const findJobTraceController = () =\u003e wrapper.find('[data-testid=\"job-raw-link-controller\"]');\nspec/frontend/jobs/components/job_app_spec.js:  const findJobTraceEraseLink = () =\u003e wrapper.find('[data-testid=\"job-log-erase-link\"]');\nspec/frontend/jobs/components/job_app_spec.js:      it('renders empty state when job does not have trace and is not running', () =\u003e\nspec/frontend/jobs/components/job_app_spec.js:      it('does not render empty state when job does not have trace but it is running', () =\u003e\nspec/frontend/jobs/components/job_app_spec.js:      it('does not render empty state when job has trace but it is not running', () =\u003e\nspec/frontend/jobs/components/job_app_spec.js:        setupAndMount({ jobData: { has_trace: true } }).then(() =\u003e {\nspec/frontend/jobs/components/job_app_spec.js:      expect(findJobTraceScrollTop().exists()).toBe(true);\nspec/frontend/jobs/components/job_app_spec.js:      expect(findJobTraceScrollBottom().exists()).toBe(true);\nspec/frontend/jobs/components/job_app_spec.js:      expect(findJobTraceController().exists()).toBe(true);\nspec/frontend/jobs/components/job_app_spec.js:      expect(findJobTraceEraseLink().exists()).toBe(true);\nspec/frontend/jobs/mock_data.js:            title: 'This job does not have a trace.',\nspec/frontend/jobs/mock_data.js:                title: 'This job does not have a trace.',\nspec/frontend/jobs/mock_data.js:                title: 'This job does not have a trace.',\nspec/frontend/jobs/mock_data.js:                title: 'This job does not have a trace.',\nspec/frontend/jobs/mock_data.js:                title: 'This job does not have a trace.',\nspec/frontend/jobs/mock_data.js:            title: 'This job does not have a trace.',\nspec/frontend/jobs/mock_data.js:                title: 'This job does not have a trace.',\nspec/frontend/jobs/mock_data.js:                title: 'This job does not have a trace.',\nspec/frontend/jobs/mock_data.js:                title: 'This job does not have a trace.',\nspec/frontend/jobs/mock_data.js:                title: 'This job does not have a trace.',\nspec/frontend/jobs/mock_data.js:            title: 'This job does not have a trace.',\nspec/frontend/jobs/mock_data.js:                title: 'This job does not have a trace.',\nspec/frontend/jobs/mock_data.js:            title: 'This job does not have a trace.',\nspec/frontend/jobs/mock_data.js:                title: 'This job does not have a trace.',\nspec/frontend/jobs/mock_data.js:            title: 'This job does not have a trace.',\nspec/frontend/jobs/mock_data.js:                title: 'This job does not have a trace.',\nspec/frontend/jobs/mock_data.js:          title: 'This job does not have a trace.',\nspec/frontend/jobs/mock_data.js:          title: 'This job does not have a trace.',\nspec/frontend/jobs/mock_data.js:                  downloadPath: '/root/ci-project/-/jobs/2336/artifacts/download?file_type=trace',\nspec/frontend/jobs/mock_data.js:        downloadPath: '/root/test-job-artifacts/-/jobs/1982/artifacts/download?file_type=trace',\nspec/frontend/jobs/store/actions_spec.js:        { pagePath: 'job/872324/trace.json' },\nspec/frontend/jobs/store/actions_spec.js:        [{ type: types.SET_TRACE_OPTIONS, payload: { pagePath: 'job/872324/trace.json' } }],\nspec/frontend/jobs/store/getters_spec.js:        localState.job.has_trace = true;\nspec/frontend/jobs/store/getters_spec.js:        localState.job.has_trace = false;\nspec/frontend/jobs/store/getters_spec.js:        localState.job.has_trace = false;\nspec/frontend/pipelines/linked_pipelines_mock.json:                \"title\": \"This job does not have a trace.\"\nspec/frontend/pipelines/linked_pipelines_mock.json:                    \"title\": \"This job does not have a trace.\"\nspec/frontend/pipelines/linked_pipelines_mock.json:                  \"title\": \"This job does not have a trace.\"\nspec/frontend/pipelines/linked_pipelines_mock.json:                      \"title\": \"This job does not have a trace.\"\nspec/frontend/pipelines/linked_pipelines_mock.json:                    \"title\": \"This job does not have a trace.\"\nspec/frontend/pipelines/linked_pipelines_mock.json:                        \"title\": \"This job does not have a trace.\"\nspec/frontend/pipelines/linked_pipelines_mock.json:                    \"title\": \"This job does not have a trace.\"\nspec/frontend/pipelines/linked_pipelines_mock.json:                        \"title\": \"This job does not have a trace.\"\nspec/frontend/pipelines/linked_pipelines_mock.json:                    \"title\": \"This job does not have a trace.\"\nspec/frontend/pipelines/linked_pipelines_mock.json:                        \"title\": \"This job does not have a trace.\"\nspec/frontend/pipelines/linked_pipelines_mock.json:                        \"title\": \"This job does not have a trace.\"\nspec/frontend/pipelines/linked_pipelines_mock.json:                            \"title\": \"This job does not have a trace.\"\nspec/frontend/pipelines/linked_pipelines_mock.json:                        \"title\": \"This job does not have a trace.\"\nspec/frontend/pipelines/linked_pipelines_mock.json:                            \"title\": \"This job does not have a trace.\"\nspec/frontend/pipelines/linked_pipelines_mock.json:                            \"title\": \"This job does not have a trace.\"\nspec/frontend/pipelines/linked_pipelines_mock.json:                            \"title\": \"This job does not have a trace.\"\nspec/frontend/pipelines/linked_pipelines_mock.json:                            \"title\": \"This job does not have a trace.\"\nspec/frontend/pipelines/linked_pipelines_mock.json:                        \"title\": \"This job does not have a trace.\"\nspec/frontend/pipelines/linked_pipelines_mock.json:                            \"title\": \"This job does not have a trace.\"\nspec/frontend/pipelines/linked_pipelines_mock.json:                            \"title\": \"This job does not have a trace.\"\nspec/frontend/pipelines/linked_pipelines_mock.json:                            \"title\": \"This job does not have a trace.\"\nspec/frontend/pipelines/linked_pipelines_mock.json:                            \"title\": \"This job does not have a trace.\"\nspec/frontend/pipelines/linked_pipelines_mock.json:                        \"title\": \"This job does not have a trace.\"\nspec/frontend/pipelines/linked_pipelines_mock.json:                            \"title\": \"This job does not have a trace.\"\nspec/frontend/pipelines/linked_pipelines_mock.json:                        \"title\": \"This job does not have a trace.\"\nspec/frontend/pipelines/linked_pipelines_mock.json:                            \"title\": \"This job does not have a trace.\"\nspec/frontend/pipelines/linked_pipelines_mock.json:                        \"title\": \"This job does not have a trace.\"\nspec/frontend/pipelines/linked_pipelines_mock.json:                            \"title\": \"This job does not have a trace.\"\nspec/frontend/pipelines/linked_pipelines_mock.json:                        \"title\": \"This job does not have a trace.\"\nspec/frontend/pipelines/linked_pipelines_mock.json:                            \"title\": \"This job does not have a trace.\"\nspec/frontend/pipelines/linked_pipelines_mock.json:                        \"title\": \"This job does not have a trace.\"\nspec/frontend/pipelines/linked_pipelines_mock.json:                            \"title\": \"This job does not have a trace.\"\nspec/frontend/pipelines/linked_pipelines_mock.json:                        \"title\": \"This job does not have a trace.\"\nspec/frontend/pipelines/linked_pipelines_mock.json:                            \"title\": \"This job does not have a trace.\"\nspec/frontend/pipelines/linked_pipelines_mock.json:                        \"title\": \"This job does not have a trace.\"\nspec/frontend/pipelines/linked_pipelines_mock.json:                            \"title\": \"This job does not have a trace.\"\nspec/frontend/vue_shared/security_reports/mock_data.js:                      '/gitlab-org/secrets-detection-test/-/jobs/1399/artifacts/download?file_type=trace',\nspec/frontend/vue_shared/security_reports/mock_data.js:                      '/gitlab-org/secrets-detection-test/-/jobs/1400/artifacts/download?file_type=trace',\nspec/frontend/vue_shared/security_reports/mock_data.js:                      '/gitlab-org/secrets-detection-test/-/jobs/1401/artifacts/download?file_type=trace',\nspec/frontend/vue_shared/security_reports/mock_data.js:                      '/gitlab-org/secrets-detection-test/-/jobs/1402/artifacts/download?file_type=trace',\nspec/frontend/vue_shared/security_reports/mock_data.js:                    '/gitlab-org/secrets-detection-test/-/jobs/1399/artifacts/download?file_type=trace',\nspec/frontend/vue_shared/security_reports/mock_data.js:                    '/gitlab-org/secrets-detection-test/-/jobs/1400/artifacts/download?file_type=trace',\nspec/frontend/vue_shared/security_reports/mock_data.js:                    '/gitlab-org/secrets-detection-test/-/jobs/1401/artifacts/download?file_type=trace',\nspec/frontend/vue_shared/security_reports/mock_data.js:                    '/gitlab-org/secrets-detection-test/-/jobs/1402/artifacts/download?file_type=trace',\nspec/frontend/vue_shared/security_reports/mock_data.js: * These correspond to any jobs with trace data in the securityReportMergeRequestDownloadPathsQueryResponse above.\nspec/frontend/vue_shared/security_reports/mock_data.js:    path: '/gitlab-org/secrets-detection-test/-/jobs/1399/artifacts/download?file_type=trace',\nspec/frontend/vue_shared/security_reports/mock_data.js:    path: '/gitlab-org/secrets-detection-test/-/jobs/1400/artifacts/download?file_type=trace',\nspec/frontend/vue_shared/security_reports/mock_data.js:    path: '/gitlab-org/secrets-detection-test/-/jobs/1401/artifacts/download?file_type=trace',\nspec/frontend/vue_shared/security_reports/mock_data.js:    path: '/gitlab-org/secrets-detection-test/-/jobs/1402/artifacts/download?file_type=trace',\n```\n\n### CSS Class  \n\nRemove the legacy CSS class: build-trace as this is shared between the project jobs page and the web ide\n\nRelated to #235814.","state":"closed","created_at":"2021-09-10T14:44:54.330Z","updated_at":"2021-10-28T13:52:36.096Z","closed_at":"2021-10-12T17:42:09.682Z","closed_by":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"labels":["CEO Interest","Category:Continuous Integration","Deliverable","Verify candidate","Verify::P1","auto updated","devops::verify","frontend","group::pipeline execution","maintenance::refactor","onboarding","pipeline processing","section::ops","type::maintenance","workflow::production"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"}],"author":{"id":1125848,"username":"samdbeckham","name":"Sam Beckham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1125848/avatar.png","web_url":"https://gitlab.com/samdbeckham"},"type":"ISSUE","assignee":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"user_notes_count":18,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340627","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340627","notes":"https://gitlab.com/api/v4/projects/278964/issues/340627/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340627/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340627","relative":"#340627","full":"gitlab-org/gitlab#340627"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":93467055,"iid":340626,"project_id":278964,"title":"Rename job trace to job logs in backend code","description":"As mentioned in https://docs.gitlab.com/ee/administration/job_logs.html, we renamed job trace to job log in GitLab 12.5, but we still often use the term `trace` internally because our code still uses the legacy name. We also use the term `live trace` for https://docs.gitlab.com/ee/administration/job_logs.html#enabling-incremental-logging.\n\n`$ git grep -i job_trace`\n`$ git grep \"job trace\"`\n\n```\napp/services/ci/archive_trace_service.rb:              Gitlab::Metrics.counter(:job_trace_archive_failed_total,\nspec/services/ci/archive_trace_service_spec.rb:        .with(:job_trace_archive_failed_total, \"Counter of failed attempts of trace archiving\")\nspec/tasks/gitlab/artifacts/migrate_rake_spec.rb:      let!(:job_trace) { create(:ci_job_artifact, :trace, file_store: store) }\nspec/tasks/gitlab/artifacts/migrate_rake_spec.rb:      expect(job_trace.reload.file_store).to eq(ObjectStorage::Store::REMOTE)\nspec/tasks/gitlab/artifacts/migrate_rake_spec.rb:      expect(job_trace.reload.file_store).to eq(ObjectStorage::Store::LOCAL)\nspec/tasks/gitlab/artifacts/migrate_rake_spec.rb:      expect(job_trace.reload.file_store).to eq(ObjectStorage::Store::REMOTE)\nspec/tasks/gitlab/artifacts/migrate_rake_spec.rb:      let!(:job_trace) { create(:ci_job_artifact, :trace, file_store: store) }\nspec/tasks/gitlab/artifacts/migrate_rake_spec.rb:      expect(job_trace.reload.file_store).to eq(ObjectStorage::Store::LOCAL)\nspec/tasks/gitlab/artifacts/migrate_rake_spec.rb:      expect(job_trace.reload.file_store).to eq(ObjectStorage::Store::LOCAL)\ndoc/ci/environments/index.md:           job page, it's displayed above the job trace:\nlib/api/ci/runner.rb:                   desc 'Appends a patch to the job trace' do\nspec/features/projects/jobs_spec.rb:    it 'loads job trace' do\nspec/requests/api/ci/jobs_spec.rb:      it 'returns specific job trace' do\nspec/requests/api/ci/jobs_spec.rb:      it 'returns specific job trace' do\nspec/requests/api/ci/jobs_spec.rb:      it 'returns specific job trace' do\nspec/requests/api/ci/jobs_spec.rb:      it 'does not return specific job trace' do\nspec/requests/api/ci/runner/jobs_trace_spec.rb:                              context 'when the job trace is too big' do\nspec/support/shared_examples/lib/gitlab/ci/ci_trace_shared_examples.rb:      # We check the before setup actually sets up job trace_chunks\nspec/support/shared_examples/lib/gitlab/ci/ci_trace_shared_examples.rb:      it 'has job trace_chunks' do\n```\n\nRelated to #235814.","state":"closed","created_at":"2021-09-10T14:43:41.459Z","updated_at":"2022-05-16T11:14:04.571Z","closed_at":"2022-05-16T11:14:04.559Z","closed_by":{"id":1125848,"username":"samdbeckham","name":"Sam Beckham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1125848/avatar.png","web_url":"https://gitlab.com/samdbeckham"},"labels":["CEO Interest","Category:Continuous Integration","Seeking community contributions","Verify candidate","[deprecated] Accepting merge requests","auto updated","backend","devops::verify","group::pipeline execution","maintenance::refactor","onboarding","pipeline processing","section::ops","type::maintenance","workflow::ready for development"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":1125848,"username":"samdbeckham","name":"Sam Beckham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1125848/avatar.png","web_url":"https://gitlab.com/samdbeckham"},"type":"ISSUE","assignee":null,"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340626","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340626","notes":"https://gitlab.com/api/v4/projects/278964/issues/340626/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340626/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340626","relative":"#340626","full":"gitlab-org/gitlab#340626"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":93465440,"iid":340624,"project_id":278964,"title":"Incorrect formatting of suggestions imported from GitHub","description":"## Problem to solve\n\nIf a code change suggestion is made on GitHub and then imported into GitLab, the suggestion does not look like the ones made in GitLab and it is not actionable.\n\nThe suggestion is just a box that contains the previous suggestion, but it's not anything that can be applied or used in GitLab. Nor does it provide any indication if it was applied on the GitHub side.\n\nNote: This problem is visible only once [this fix](https://gitlab.com/gitlab-org/gitlab/-/issues/340446) is applied. Without this fix, the diff does not even load.\n\n## Screenshots\n\n\u003cimg alt=\"image\" src=\"/uploads/21d8ce4d9999f92728900e4661b93fdd/image.png\" width=\"1000\"/\u003e\n\n## Plan\n\nSee https://gitlab.com/gitlab-org/gitlab/-/issues/340624#note_676314993 for details\n\n1. [x] Change the format of suggestions in markdown when imported from GitHub to match GitLab. https://gitlab.com/gitlab-org/gitlab/-/merge_requests/71411\n1. [x] Create suggestions as `DiffNote`s instead of the current `LegacyDiffNote`s on import. https://gitlab.com/gitlab-org/gitlab/-/merge_requests/71765\n1. [x] Add a import duration panel to github importer dashboard https://dashboards.gitlab.net/d/importers-github-importer/importers-github-importer\n   - https://gitlab.com/gitlab-com/runbooks/-/merge_requests/4082\n1. [ ] Rollout the Feature flag https://gitlab.com/gitlab-org/gitlab/-/issues/344309\n   - [x] Enable in Staging\n     - [x] Test on Staging\n   - [x] Enable in Production (2021-11-08)\n     - [x] Test on Production\n   - [x] Mark the feature flag as `default_enabled: true` (https://gitlab.com/gitlab-org/gitlab/-/merge_requests/74096)\n   - [ ] Remove the feature flag\n1. [ ] Update the documentation https://docs.gitlab.com/ee/user/project/import/github.html#import-your-project-from-github-to-gitlab","state":"closed","created_at":"2021-09-10T14:16:27.797Z","updated_at":"2022-12-12T15:06:24.624Z","closed_at":"2022-01-25T14:08:03.090Z","closed_by":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"labels":["Category:Code Review Workflow","Category:Importers","Github","Importer:GitHub","Next Up","Quality","backend","customer","devops::manage","group::import","milestone::p1","quad-planning::ready","section::dev","type::bug","workflow::production"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"}],"author":{"id":5247073,"username":"hdelalic","name":"Haris Delalić","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5247073/avatar.png","web_url":"https://gitlab.com/hdelalic"},"type":"ISSUE","assignee":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"user_notes_count":44,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340624","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":11,"completed_count":8},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"8 of 11 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340624","notes":"https://gitlab.com/api/v4/projects/278964/issues/340624/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340624/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340624","relative":"#340624","full":"gitlab-org/gitlab#340624"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3050,"epic":{"id":39430,"iid":3050,"title":"🐞 GitHub Importer bugs","url":"/groups/gitlab-org/-/epics/3050","group_id":9970},"iteration":null,"health_status":null},{"id":93464956,"iid":340623,"project_id":278964,"title":"Test infrastructure registry authentication with different tokens","description":"# Context \n\nWith the GitLab Infrastructure Registry, you can use GitLab projects as a private registry for infrastructure packages. You can create and publish packages with GitLab CI/CD, which can then be consumed from other private projects. ([docs](https://docs.gitlab.com/ee/user/packages/infrastructure_registry/))\n\n## Terraform modules\nPublish Terraform modules in your project’s Infrastructure Registry, then reference them using GitLab as a Terraform module registry. ([docs](https://docs.gitlab.com/ee/user/packages/terraform_module_registry/index.html))\n\n## Handover\n[From Configure to Package](https://gitlab.com/gitlab-org/gitlab/-/issues/366079)\n\n# Coverage\n- Navigation to `Packages \u0026 Registries \u003e Infrastructure Registry`\n- Authenticate to the Terraform module registry with a personal access token with at least read_api rights\n- Authenticate to the Terraform module registry with a CI/CD job token.\n- Authenticate to the Terraform module registry with a deploy token\n- Publish a module using CI/CD\n\n# Constraints\n\n* A package with the same name and version must not already exist\n* A project and group names must not include a dot (.)\n* Authenticating with a deploy token, it must be configured with the `write_package_registry` scope.\n* Authenticate to the Terraform module registry with a personal access token with at least read_api rights\n\n| Attribute      | Type           | Required | Description                                                                                                                                                                                                                |\n|----------------|----------------|----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| id             | integer/string | yes      | The ID or URL-encoded path of the project.                                                                                                                                                                                 |\n| module-name    | string         | yes      | The package name. Supported syntax: One to 64 ASCII characters, including lowercase letters (a-z), digits (0-9), and hyphens (-).                                                                                          |\n| module-system  | string         | yes      | The package system. Supported syntax: One to 64 ASCII characters, including lowercase letters (a-z), digits (0-9), and hyphens (-). More information can be found in the Terraform Module Registry Protocol documentation. |\n| module-version | string         | yes      | The package version. It must be valid according to the Semantic Versioning Specification.                                                                                                                                  |","state":"closed","created_at":"2021-09-10T14:10:01.807Z","updated_at":"2022-09-08T18:34:05.379Z","closed_at":"2022-08-26T05:32:09.628Z","closed_by":{"id":4763342,"username":"svistas","name":"Sofia Vistas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4763342/avatar.png","web_url":"https://gitlab.com/svistas"},"labels":["Category:Infrastructure as Code","Quality","Quality::test-gap","Stretch","Terraform Registry","auto updated","devops::package","group::package registry","section::ops","type::maintenance","workflow::in review"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":4763342,"username":"svistas","name":"Sofia Vistas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4763342/avatar.png","web_url":"https://gitlab.com/svistas"}],"author":{"id":4763342,"username":"svistas","name":"Sofia Vistas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4763342/avatar.png","web_url":"https://gitlab.com/svistas"},"type":"ISSUE","assignee":{"id":4763342,"username":"svistas","name":"Sofia Vistas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4763342/avatar.png","web_url":"https://gitlab.com/svistas"},"user_notes_count":7,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340623","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340623","notes":"https://gitlab.com/api/v4/projects/278964/issues/340623/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340623/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340623","relative":"#340623","full":"gitlab-org/gitlab#340623"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5082,"epic":{"id":164020,"iid":5082,"title":"Package Registry End to End Testing","url":"/groups/gitlab-org/-/epics/5082","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":93463046,"iid":340619,"project_id":278964,"title":"Remove all calls to Gitlab::PagesTransfer","description":"Grep code for PagesTransfer, and remove all calls to it and associated tests","state":"closed","created_at":"2021-09-10T13:46:54.436Z","updated_at":"2022-06-02T20:29:01.481Z","closed_at":"2022-06-02T20:29:00.149Z","closed_by":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"labels":["Category:Pages","auto updated","backend","devops::create","group::editor","section::dev","workflow::production"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":10409869,"username":"anshulriyal","name":"Anshul Riyal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10409869/avatar.png","web_url":"https://gitlab.com/anshulriyal"}],"author":{"id":3379682,"username":"vshushlin","name":"Vladimir Shushlin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3379682/avatar.png","web_url":"https://gitlab.com/vshushlin"},"type":"ISSUE","assignee":{"id":10409869,"username":"anshulriyal","name":"Anshul Riyal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10409869/avatar.png","web_url":"https://gitlab.com/anshulriyal"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340619","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340619","notes":"https://gitlab.com/api/v4/projects/278964/issues/340619/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340619/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340619","relative":"#340619","full":"gitlab-org/gitlab#340619"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6703,"epic":{"id":344348,"iid":6703,"title":"Remove GitLab Pages legacy storage migration code","url":"/groups/gitlab-org/-/epics/6703","group_id":9970},"iteration":null,"health_status":null},{"id":93462760,"iid":340618,"project_id":278964,"title":"Remove PagesTransferWorker","description":"Remove https://gitlab.com/gitlab-org/gitlab/blob/50d70ae5a15581c911d164ef2a93b98c0b1bfbf8/app/workers/pages_transfer_worker.rb#L3\n\n**This should be done 1 release after https://gitlab.com/gitlab-org/gitlab/-/issues/340616**","state":"closed","created_at":"2021-09-10T13:44:11.246Z","updated_at":"2022-12-29T03:09:12.828Z","closed_at":"2022-07-25T08:59:54.837Z","closed_by":{"id":3379682,"username":"vshushlin","name":"Vladimir Shushlin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3379682/avatar.png","web_url":"https://gitlab.com/vshushlin"},"labels":["Category:Pages","auto updated","backend","devops::create","group::editor","maintenance::removal","missed:15.2","section::dev","type::maintenance"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":10409869,"username":"anshulriyal","name":"Anshul Riyal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10409869/avatar.png","web_url":"https://gitlab.com/anshulriyal"}],"author":{"id":3379682,"username":"vshushlin","name":"Vladimir Shushlin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3379682/avatar.png","web_url":"https://gitlab.com/vshushlin"},"type":"ISSUE","assignee":{"id":10409869,"username":"anshulriyal","name":"Anshul Riyal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10409869/avatar.png","web_url":"https://gitlab.com/anshulriyal"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340618","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340618","notes":"https://gitlab.com/api/v4/projects/278964/issues/340618/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340618/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340618","relative":"#340618","full":"gitlab-org/gitlab#340618"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6703,"epic":{"id":344348,"iid":6703,"title":"Remove GitLab Pages legacy storage migration code","url":"/groups/gitlab-org/-/epics/6703","group_id":9970},"iteration":null,"health_status":null},{"id":93462533,"iid":340616,"project_id":278964,"title":"Remove Gitlab::PagesTransfer","description":"Remove\n- [x] https://gitlab.com/gitlab-org/gitlab/blob/50d70ae5a15581c911d164ef2a93b98c0b1bfbf8/lib/gitlab/pages_transfer.rb#L9\n- [x] tests for it\n- [x] replace https://gitlab.com/gitlab-org/gitlab/blob/50d70ae5a15581c911d164ef2a93b98c0b1bfbf8/app/workers/pages_transfer_worker.rb#L16 method body with `# noop` - it will be removed in 15.1\n- [x] make sure it's not being used anywhere","state":"closed","created_at":"2021-09-10T13:41:18.240Z","updated_at":"2022-12-29T03:09:15.271Z","closed_at":"2022-06-07T07:51:00.371Z","closed_by":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"labels":["Category:Pages","auto updated","backend","devops::create","group::editor","maintenance::removal","section::dev","type::maintenance","workflow::production"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":10409869,"username":"anshulriyal","name":"Anshul Riyal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10409869/avatar.png","web_url":"https://gitlab.com/anshulriyal"}],"author":{"id":3379682,"username":"vshushlin","name":"Vladimir Shushlin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3379682/avatar.png","web_url":"https://gitlab.com/vshushlin"},"type":"ISSUE","assignee":{"id":10409869,"username":"anshulriyal","name":"Anshul Riyal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10409869/avatar.png","web_url":"https://gitlab.com/anshulriyal"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340616","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":4},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"4 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340616","notes":"https://gitlab.com/api/v4/projects/278964/issues/340616/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340616/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340616","relative":"#340616","full":"gitlab-org/gitlab#340616"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6703,"epic":{"id":344348,"iid":6703,"title":"Remove GitLab Pages legacy storage migration code","url":"/groups/gitlab-org/-/epics/6703","group_id":9970},"iteration":null,"health_status":null},{"id":93461964,"iid":340612,"project_id":278964,"title":"Release post highlighting pages upgrade path for 15.0","description":"In 14.0 we deprecated legacy storage, but you still could have upgrade to any 14.* version and successfully migration legacy storage to the new architecture.\n\nIn 15.0 we remove all this migration code, and only the new pages deployment would work.\n\nSo if anyone migratest from GitLab 13.12 or below, they should first upgrade to 14.*, finish pages migration guide https://gitlab.com/gitlab-org/gitlab/blob/50d70ae5a15581c911d164ef2a93b98c0b1bfbf8/doc/administration/pages/index.md#L1017, and only then proceed with upgrading to 15.0\n\nWe should make it clear in deprecation notices for 15.0.","state":"closed","created_at":"2021-09-10T13:30:18.737Z","updated_at":"2022-06-15T16:33:53.300Z","closed_at":"2022-06-15T16:33:53.278Z","closed_by":{"id":5212466,"username":"ericschurter","name":"Eric Schurter","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5212466/avatar.png","web_url":"https://gitlab.com/ericschurter"},"labels":["Category:Pages","[deprecated] Accepting merge requests","devops::create","documentation","group::editor","missed:15.0","section::dev","type::maintenance"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[],"author":{"id":3379682,"username":"vshushlin","name":"Vladimir Shushlin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3379682/avatar.png","web_url":"https://gitlab.com/vshushlin"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340612","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340612","notes":"https://gitlab.com/api/v4/projects/278964/issues/340612/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340612/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340612","relative":"#340612","full":"gitlab-org/gitlab#340612"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6703,"epic":{"id":344348,"iid":6703,"title":"Remove GitLab Pages legacy storage migration code","url":"/groups/gitlab-org/-/epics/6703","group_id":9970},"iteration":null,"health_status":null},{"id":93461643,"iid":340611,"project_id":278964,"title":"Remove all pages chroot references from pages administration docs","description":"In 14.3 we removed support for jailing including chroot. However we kept some information in docs regarding chroot, workarounds for it, running pages in docker etc.\n\nI think in 15.0 we can remove all there references and make pages admin docs clearer.\n\nRemove all references to chroot and associated problems from pages admin docs:\n- [ ] https://gitlab.com/gitlab-org/gitlab/blob/50d70ae5a15581c911d164ef2a93b98c0b1bfbf8/doc/administration/pages/index.md#L236\n- [ ] https://gitlab.com/gitlab-org/gitlab/blob/50d70ae5a15581c911d164ef2a93b98c0b1bfbf8/doc/administration/pages/index.md#L1072 - it won't happen after 14.3\n- [ ] https://gitlab.com/gitlab-org/gitlab/blob/50d70ae5a15581c911d164ef2a93b98c0b1bfbf8/doc/administration/pages/index.md#L1394 - we no longer need any workaround to run pages in docker after 14.3\n- [ ] any other chroot references in pages docs","state":"closed","created_at":"2021-09-10T13:25:42.751Z","updated_at":"2022-05-30T07:44:48.355Z","closed_at":"2022-05-30T06:18:39.401Z","closed_by":{"id":3379682,"username":"vshushlin","name":"Vladimir Shushlin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3379682/avatar.png","web_url":"https://gitlab.com/vshushlin"},"labels":["Category:Pages","[deprecated] Accepting merge requests","devops::create","docs-only","documentation","group::editor","missed:15.0","section::dev","type::maintenance"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[],"author":{"id":3379682,"username":"vshushlin","name":"Vladimir Shushlin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3379682/avatar.png","web_url":"https://gitlab.com/vshushlin"},"type":"ISSUE","assignee":null,"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340611","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340611","notes":"https://gitlab.com/api/v4/projects/278964/issues/340611/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340611/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340611","relative":"#340611","full":"gitlab-org/gitlab#340611"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6703,"epic":{"id":344348,"iid":6703,"title":"Remove GitLab Pages legacy storage migration code","url":"/groups/gitlab-org/-/epics/6703","group_id":9970},"iteration":null,"health_status":null},{"id":93461250,"iid":340609,"project_id":278964,"title":"Remove automatic pages legacy storage migration","description":"Remove these 2 files and specs for them:\n\n* https://gitlab.com/gitlab-org/gitlab/blob/50d70ae5a15581c911d164ef2a93b98c0b1bfbf8/db/post_migrate/20210302150310_schedule_migrate_pages_to_zip_storage.rb#L3\n* https://gitlab.com/gitlab-org/gitlab/blob/50d70ae5a15581c911d164ef2a93b98c0b1bfbf8/lib/gitlab/background_migration/migrate_pages_to_zip_storage.rb#L10","state":"closed","created_at":"2021-09-10T13:19:52.376Z","updated_at":"2022-07-21T12:01:44.050Z","closed_at":"2022-07-04T12:52:05.581Z","closed_by":{"id":1646689,"username":"oregand","name":"David O'Regan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1646689/avatar.png","web_url":"https://gitlab.com/oregand"},"labels":["Category:Pages","Deliverable","auto updated","backend","devops::create","group::editor","missed-deliverable","missed:15.0","missed:15.1","section::dev","workflow::in review"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":1646689,"username":"oregand","name":"David O'Regan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1646689/avatar.png","web_url":"https://gitlab.com/oregand"}],"author":{"id":3379682,"username":"vshushlin","name":"Vladimir Shushlin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3379682/avatar.png","web_url":"https://gitlab.com/vshushlin"},"type":"ISSUE","assignee":{"id":1646689,"username":"oregand","name":"David O'Regan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1646689/avatar.png","web_url":"https://gitlab.com/oregand"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340609","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340609","notes":"https://gitlab.com/api/v4/projects/278964/issues/340609/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340609/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340609","relative":"#340609","full":"gitlab-org/gitlab#340609"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6703,"epic":{"id":344348,"iid":6703,"title":"Remove GitLab Pages legacy storage migration code","url":"/groups/gitlab-org/-/epics/6703","group_id":9970},"iteration":null,"health_status":null},{"id":93460876,"iid":340608,"project_id":278964,"title":"Remove gitlab:pages:migrate_legacy_storage and gitlab:pages:clean_migrated_zip_storage rake tasks","description":"Remove \n* https://gitlab.com/gitlab-org/gitlab/blob/50d70ae5a15581c911d164ef2a93b98c0b1bfbf8/lib/tasks/gitlab/pages.rake#L8\n* https://gitlab.com/gitlab-org/gitlab/blob/50d70ae5a15581c911d164ef2a93b98c0b1bfbf8/lib/tasks/gitlab/pages.rake#L22\n* all methods in that file used by these tasks only, e.g. `ignore_invalid_entries/logger` etc","state":"closed","created_at":"2021-09-10T13:12:00.789Z","updated_at":"2022-05-30T07:44:54.421Z","closed_at":"2022-05-30T06:17:36.799Z","closed_by":{"id":3379682,"username":"vshushlin","name":"Vladimir Shushlin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3379682/avatar.png","web_url":"https://gitlab.com/vshushlin"},"labels":["Category:Pages","[deprecated] Accepting merge requests","auto updated","backend","devops::create","group::editor","missed:15.0","section::dev"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[],"author":{"id":3379682,"username":"vshushlin","name":"Vladimir Shushlin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3379682/avatar.png","web_url":"https://gitlab.com/vshushlin"},"type":"ISSUE","assignee":null,"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340608","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340608","notes":"https://gitlab.com/api/v4/projects/278964/issues/340608/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340608/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340608","relative":"#340608","full":"gitlab-org/gitlab#340608"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6703,"epic":{"id":344348,"iid":6703,"title":"Remove GitLab Pages legacy storage migration code","url":"/groups/gitlab-org/-/epics/6703","group_id":9970},"iteration":null,"health_status":null},{"id":93452955,"iid":340593,"project_id":278964,"title":"Make Group level Usage Quota page discoverable","description":"Related to https://gitlab.com/gitlab-org/gitlab-design/-/issues/1672\n\n## 🧩 Problem statement\nThe group level Usage Quota page is not discoverable and there isn't a good explanation for placing it under Settings since the data in it is non-configuarable. Consider moving the page out of the Settings, to a more discoverable location.\n\n\n## 📝 Design proposal\nIncrease the discoverability of the Usage quota page by adding a link pointing to it in a more obvious location \n\n## Implementation proposal\n\n* It was determined that [moving the page](https://gitlab.com/gitlab-org/gitlab/-/issues/349424) out would be a larger effort so the MVC would be to add a link to the Usage Quote page to the existing CI/CD Analytics to the usage page.\n\n## Persona\n\n## Metrics/Measures of success\n\n- We'd expect the number of users who view Group Shared Runner Usage on the Quota page on Gitlab.com to increase 50% within 60 days of release of this feature for general availability.","state":"closed","created_at":"2021-09-10T10:36:05.377Z","updated_at":"2022-12-19T16:59:11.333Z","closed_at":"2022-02-11T13:35:59.309Z","closed_by":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"labels":["Actionable Insight::Exploration needed","CI minutes","Category:Continuous Integration","FY23::Q1","GitLab Premium","GitLab Ultimate","OKR","SUS::Impacting","UX","UX scorecard-rec","Verify::P2","auto updated","closed::complete","devops::verify","feature::enhancement","frontend","group::pipeline execution","learnability","priority::2","section::ops","severity::2","type::feature","workflow::production"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"}],"author":{"id":6115425,"username":"v_mishra","name":"Veethika M","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f09a3a0badac17a57e28b4e18a45c1c0?s=80\u0026d=identicon","web_url":"https://gitlab.com/v_mishra"},"type":"ISSUE","assignee":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"user_notes_count":32,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340593","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340593","notes":"https://gitlab.com/api/v4/projects/278964/issues/340593/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340593/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340593","relative":"#340593","full":"gitlab-org/gitlab#340593"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":93452823,"iid":340592,"project_id":278964,"title":"Provide link to the the failed pipelines from Analytics\u003e\u003eCI/CD in projects","description":"Related to https://gitlab.com/gitlab-org/gitlab-design/-/issues/1672\n\n## 🧩 Problem statement\nThe information shown at project level on the analytics\u003e\u003eCI/CD page is not interactive or insightful. Make the information on the Analytics\u003e\u003eCI/CD page more interactive.\n\n## 📝 Design proposal\nAdd a link to the list of failed pipelines from the Project level Analytics\u003e\u003eCI/CD page","state":"closed","created_at":"2021-09-10T10:32:57.401Z","updated_at":"2021-12-13T13:07:21.523Z","closed_at":"2021-12-06T14:15:25.077Z","closed_by":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"labels":["Category:Continuous Integration","FY22::Q4","OKR","UX","UX scorecard-rec","auto updated","devops::verify","feature::enhancement","frontend","group::pipeline execution","learnability","needs weight","section::ops","severity::3","type::feature","workflow::production"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"}],"author":{"id":6115425,"username":"v_mishra","name":"Veethika M","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f09a3a0badac17a57e28b4e18a45c1c0?s=80\u0026d=identicon","web_url":"https://gitlab.com/v_mishra"},"type":"ISSUE","assignee":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340592","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340592","notes":"https://gitlab.com/api/v4/projects/278964/issues/340592/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340592/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340592","relative":"#340592","full":"gitlab-org/gitlab#340592"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":93448229,"iid":340590,"project_id":278964,"title":"Refactor additional metadata component in package details","description":"The following discussion from !69967 should be addressed:\n\n- [ ] @pgascouvaillancourt started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/69967#note_674473674):  (+1 comment)\n\n    \u003e **thought:** This is unrelated, but this component seems to be getting a bit hard to read with this big `v-if`/`v-else-if` :thinking: Have we considered refactoring it by abstracting the metadata out into dedicated components? We could then leverage a [dynamic component](https://vuejs.org/v2/guide/components-dynamic-async.html) here to make the template cleaner. Here's a very rough example of what I have in mind:\n    \u003e \n    \u003e \u003cdetails\u003e\n    \u003e \n    \u003e ```patch\n    \u003e diff --git a/app/assets/javascripts/packages_and_registries/package_registry/components/details/additional_metadata.vue b/app/assets/javascripts/packages_and_registries/package_registry/components/details/additional_metadata.vue\n    \u003e index aaf181f29df..592ca53202b 100644\n    \u003e --- a/app/assets/javascripts/packages_and_registries/package_registry/components/details/additional_metadata.vue\n    \u003e +++ b/app/assets/javascripts/packages_and_registries/package_registry/components/details/additional_metadata.vue\n    \u003e @@ -10,6 +10,8 @@ import {\n    \u003e  } from '~/packages_and_registries/package_registry/constants';\n    \u003e  import ClipboardButton from '~/vue_shared/components/clipboard_button.vue';\n    \u003e  import DetailsRow from '~/vue_shared/components/registry/details_row.vue';\n    \u003e +import NugetMetadata from 'somwhere';\n    \u003e +import ConanMetadata from 'somwhere';\n    \u003e  \n    \u003e  export default {\n    \u003e    i18n: {\n    \u003e @@ -39,30 +41,14 @@ export default {\n    \u003e    },\n    \u003e    computed: {\n    \u003e      showMetadata() {\n    \u003e -      return (\n    \u003e -        [\n    \u003e -          PACKAGE_TYPE_NUGET,\n    \u003e -          PACKAGE_TYPE_CONAN,\n    \u003e -          PACKAGE_TYPE_MAVEN,\n    \u003e -          PACKAGE_TYPE_COMPOSER,\n    \u003e -          PACKAGE_TYPE_PYPI,\n    \u003e -        ].includes(this.packageEntity.packageType) \u0026\u0026 this.packageEntity.metadata\n    \u003e -      );\n    \u003e +      return this.metadataComponent \u0026\u0026 this.packageEntity.metadata;\n    \u003e      },\n    \u003e -    showNugetMetadata() {\n    \u003e -      return this.packageEntity.packageType === PACKAGE_TYPE_NUGET;\n    \u003e -    },\n    \u003e -    showConanMetadata() {\n    \u003e -      return this.packageEntity.packageType === PACKAGE_TYPE_CONAN;\n    \u003e -    },\n    \u003e -    showMavenMetadata() {\n    \u003e -      return this.packageEntity.packageType === PACKAGE_TYPE_MAVEN;\n    \u003e -    },\n    \u003e -    showComposerMetadata() {\n    \u003e -      return this.packageEntity.packageType === PACKAGE_TYPE_COMPOSER;\n    \u003e -    },\n    \u003e -    showPypiMetadata() {\n    \u003e -      return this.packageEntity.packageType === PACKAGE_TYPE_PYPI;\n    \u003e +    metadataComponent() {\n    \u003e +      return {\n    \u003e +        [PACKAGE_TYPE_NUGET]: NugetMetadata,\n    \u003e +        [PACKAGE_TYPE_CONAN]: ConanMetadata,\n    \u003e +        // ...\n    \u003e +      }[this.packageEntity.packageType];\n    \u003e      },\n    \u003e    },\n    \u003e  };\n    \u003e @@ -73,93 +59,7 @@ export default {\n    \u003e      \u003ch3 class=\"gl-font-lg\" data-testid=\"title\"\u003e{{ __('Additional Metadata') }}\u003c/h3\u003e\n    \u003e  \n    \u003e      \u003cdiv class=\"gl-bg-gray-50 gl-inset-border-1-gray-100 gl-rounded-base\" data-testid=\"main\"\u003e\n    \u003e -      \u003ctemplate v-if=\"showNugetMetadata\"\u003e\n    \u003e -        \u003cdetails-row icon=\"project\" padding=\"gl-p-4\" dashed data-testid=\"nuget-source\"\u003e\n    \u003e -          \u003cgl-sprintf :message=\"$options.i18n.sourceText\"\u003e\n    \u003e -            \u003ctemplate #link\u003e\n    \u003e -              \u003cgl-link :href=\"packageEntity.metadata.projectUrl\" target=\"_blank\"\u003e{{\n    \u003e -                packageEntity.metadata.projectUrl\n    \u003e -              }}\u003c/gl-link\u003e\n    \u003e -            \u003c/template\u003e\n    \u003e -          \u003c/gl-sprintf\u003e\n    \u003e -        \u003c/details-row\u003e\n    \u003e -        \u003cdetails-row icon=\"license\" padding=\"gl-p-4\" data-testid=\"nuget-license\"\u003e\n    \u003e -          \u003cgl-sprintf :message=\"$options.i18n.licenseText\"\u003e\n    \u003e -            \u003ctemplate #link\u003e\n    \u003e -              \u003cgl-link :href=\"packageEntity.metadata.licenseUrl\" target=\"_blank\"\u003e{{\n    \u003e -                packageEntity.metadata.licenseUrl\n    \u003e -              }}\u003c/gl-link\u003e\n    \u003e -            \u003c/template\u003e\n    \u003e -          \u003c/gl-sprintf\u003e\n    \u003e -        \u003c/details-row\u003e\n    \u003e -      \u003c/template\u003e\n    \u003e -\n    \u003e -      \u003cdetails-row\n    \u003e -        v-else-if=\"showConanMetadata\"\n    \u003e -        icon=\"information-o\"\n    \u003e -        padding=\"gl-p-4\"\n    \u003e -        data-testid=\"conan-recipe\"\n    \u003e -      \u003e\n    \u003e -        \u003cgl-sprintf :message=\"$options.i18n.recipeText\"\u003e\n    \u003e -          \u003ctemplate #recipe\u003e{{ packageEntity.metadata.recipe }}\u003c/template\u003e\n    \u003e -        \u003c/gl-sprintf\u003e\n    \u003e -      \u003c/details-row\u003e\n    \u003e -\n    \u003e -      \u003ctemplate v-else-if=\"showMavenMetadata\"\u003e\n    \u003e -        \u003cdetails-row icon=\"information-o\" padding=\"gl-p-4\" dashed data-testid=\"maven-app\"\u003e\n    \u003e -          \u003cgl-sprintf :message=\"$options.i18n.appName\"\u003e\n    \u003e -            \u003ctemplate #name\u003e\n    \u003e -              \u003cstrong\u003e{{ packageEntity.metadata.appName }}\u003c/strong\u003e\n    \u003e -            \u003c/template\u003e\n    \u003e -          \u003c/gl-sprintf\u003e\n    \u003e -        \u003c/details-row\u003e\n    \u003e -        \u003cdetails-row icon=\"information-o\" padding=\"gl-p-4\" data-testid=\"maven-group\"\u003e\n    \u003e -          \u003cgl-sprintf :message=\"$options.i18n.appGroup\"\u003e\n    \u003e -            \u003ctemplate #group\u003e\n    \u003e -              \u003cstrong\u003e{{ packageEntity.metadata.appGroup }}\u003c/strong\u003e\n    \u003e -            \u003c/template\u003e\n    \u003e -          \u003c/gl-sprintf\u003e\n    \u003e -        \u003c/details-row\u003e\n    \u003e -      \u003c/template\u003e\n    \u003e -\n    \u003e -      \u003ctemplate v-else-if=\"showComposerMetadata\"\u003e\n    \u003e -        \u003cdetails-row icon=\"information-o\" padding=\"gl-p-4\" dashed data-testid=\"composer-target-sha\"\u003e\n    \u003e -          \u003cgl-sprintf :message=\"$options.i18n.targetSha\"\u003e\n    \u003e -            \u003ctemplate #sha\u003e\n    \u003e -              \u003cstrong\u003e{{ packageEntity.metadata.targetSha }}\u003c/strong\u003e\n    \u003e -              \u003cclipboard-button\n    \u003e -                :title=\"$options.i18n.targetShaCopyButton\"\n    \u003e -                :text=\"packageEntity.metadata.targetSha\"\n    \u003e -                category=\"tertiary\"\n    \u003e -                css-class=\"gl-p-0!\"\n    \u003e -              /\u003e\n    \u003e -            \u003c/template\u003e\n    \u003e -          \u003c/gl-sprintf\u003e\n    \u003e -        \u003c/details-row\u003e\n    \u003e -        \u003cdetails-row icon=\"information-o\" padding=\"gl-p-4\" data-testid=\"composer-json\"\u003e\n    \u003e -          \u003cgl-sprintf :message=\"$options.i18n.composerJson\"\u003e\n    \u003e -            \u003ctemplate #license\u003e\n    \u003e -              \u003cstrong\u003e{{ packageEntity.metadata.composerJson.license }}\u003c/strong\u003e\n    \u003e -            \u003c/template\u003e\n    \u003e -            \u003ctemplate #version\u003e\n    \u003e -              \u003cstrong\u003e{{ packageEntity.metadata.composerJson.version }}\u003c/strong\u003e\n    \u003e -            \u003c/template\u003e\n    \u003e -          \u003c/gl-sprintf\u003e\n    \u003e -        \u003c/details-row\u003e\n    \u003e -      \u003c/template\u003e\n    \u003e -\n    \u003e -      \u003cdetails-row\n    \u003e -        v-else-if=\"showPypiMetadata\"\n    \u003e -        icon=\"information-o\"\n    \u003e -        padding=\"gl-p-4\"\n    \u003e -        data-testid=\"pypi-required-python\"\n    \u003e -      \u003e\n    \u003e -        \u003cgl-sprintf :message=\"$options.i18n.requiredPython\"\u003e\n    \u003e -          \u003ctemplate #python\u003e\n    \u003e -            \u003cstrong\u003e{{ packageEntity.metadata.requiredPython }}\u003c/strong\u003e\n    \u003e -          \u003c/template\u003e\n    \u003e -        \u003c/gl-sprintf\u003e\n    \u003e -      \u003c/details-row\u003e\n    \u003e +      \u003ccomponent :is=\"metadataComponent\" /\u003e\n    \u003e      \u003c/div\u003e\n    \u003e    \u003c/div\u003e\n    \u003e  \u003c/template\u003e\n    \u003e ```\n    \u003e \u003c/details\u003e","state":"closed","created_at":"2021-09-10T09:27:58.689Z","updated_at":"2021-10-28T13:52:36.881Z","closed_at":"2021-09-20T09:55:42.688Z","closed_by":{"id":4584738,"username":"nmezzopera","name":"Nicolò Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"},"labels":["Category:Package Registry","devops::package","frontend","group::package registry","section::ops","type::maintenance","workflow::verification"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":4584738,"username":"nmezzopera","name":"Nicolò Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"}],"author":{"id":4584738,"username":"nmezzopera","name":"Nicolò Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"},"type":"ISSUE","assignee":{"id":4584738,"username":"nmezzopera","name":"Nicolò Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340590","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340590","notes":"https://gitlab.com/api/v4/projects/278964/issues/340590/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340590/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340590","relative":"#340590","full":"gitlab-org/gitlab#340590"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":93446184,"iid":340588,"project_id":278964,"title":"🎨 Design: help user select different policy type","description":"\u003e For details, if there are not in this design issue, more info can will be found at an epic linked to this issue\n\n### Background\n\nFrom the [research](https://gitlab.com/gitlab-org/ux-research/-/issues/1502), we know that the user has difficulties determining which type of policy rules is doing what. With our policy types grows, it will become more and more difficult, we should create a good design to help me choose the right type\n\n### Intended users\n\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Alex (Security Operations Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#alex-security-operations-engineer)\n\n### User scenarios and problems\n\n- During policy creation, some users are not familiar with all the different policy types GitLab provided, finding all information needed to make a decision on what policy types to use should be smooth and easy. \n- And for those who are familiar with it, it also should be easy to select and work on. \n\nThe problem now it is not easy for either scenario, we need to improve the selection part policy part in policy creation\n\n### Design inspiration\n\nhttps://www.johnsnowlabs.com/wp-content/uploads/2017/10/d7275466-e726-4fd2-96d9-2b8d41749fd3.png\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n\n### Design proposal\n\nFor each page's design detail, please see the design area.\n\n* Video walk over: https://youtu.be/c6iAr8Ujr5g\n* Figma: https://www.figma.com/file/actVYkcrS1tcHCc890DOdv/Policy-details?node-id=612%3A15174\n\n![flow-choose-policy-type](/uploads/dfcc8e4f6882d59c737fd8130dad79ae/flow-choose-policy-type.gif)","state":"closed","created_at":"2021-09-10T08:53:35.035Z","updated_at":"2022-09-23T21:28:31.542Z","closed_at":"2021-11-10T12:04:19.290Z","closed_by":{"id":4544240,"username":"cam.x","name":"Camellia X Yang","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7ea4de9b3092f62013d2cfd0c340811a?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam.x"},"labels":["Actionable Insight::Product change","Category:Security Policy Management","GitLab Ultimate","UX","closed::complete","devops::govern","direction","feature::enhancement","group::security policies","missed:14.4","section::sec","type::feature","uxr_insights","workflow::design"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":4544240,"username":"cam.x","name":"Camellia X Yang","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7ea4de9b3092f62013d2cfd0c340811a?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam.x"}],"author":{"id":4544240,"username":"cam.x","name":"Camellia X Yang","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7ea4de9b3092f62013d2cfd0c340811a?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam.x"},"type":"ISSUE","assignee":{"id":4544240,"username":"cam.x","name":"Camellia X Yang","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7ea4de9b3092f62013d2cfd0c340811a?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam.x"},"user_notes_count":36,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340588","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340588","notes":"https://gitlab.com/api/v4/projects/278964/issues/340588/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340588/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340588","relative":"#340588","full":"gitlab-org/gitlab#340588"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7147,"epic":{"id":388086,"iid":7147,"title":"Help users select an initial policy type","url":"/groups/gitlab-org/-/epics/7147","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":93444291,"iid":340586,"project_id":278964,"title":"Force the ordering in the package files API","description":"Follow up of https://gitlab.com/gitlab-org/gitlab/-/merge_requests/69223#note_674413174.\n\n## :fire: Problem\n\nThe package files API [uses](https://gitlab.com/gitlab-org/gitlab/-/blob/998dbda59faf4d7ca188ff21bb4a3fa64960fb9a/lib/api/package_files.rb#L31) `package.package_files`. That call is lacking of any order.\n\nAs such, the ordering is left to the ~database which will, basically choose the most efficient way to return the package files whatever the order.\n\nThe issue is that specs expect a really specific order: https://gitlab.com/gitlab-org/gitlab/-/blob/342186c727e5554e67cd57e38046a2a5b3dde23e/spec/requests/api/package_files_spec.rb#L67\n\n## :fire_engine: Solution\n\n* Consider including https://gitlab.com/gitlab-org/gitlab/-/blob/342186c727e5554e67cd57e38046a2a5b3dde23e/app/models/concerns/sortable.rb in the package file model\n* Use the `order_id_asc` scope","state":"closed","created_at":"2021-09-10T08:25:01.419Z","updated_at":"2022-03-11T10:24:17.189Z","closed_at":"2022-03-11T10:24:17.174Z","closed_by":{"id":9516393,"username":"michelletorres","name":"Michelle Torres","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9516393/avatar.png","web_url":"https://gitlab.com/michelletorres"},"labels":["Category:Package Registry","Community contribution","OpsSection::needs-justification","api","auto updated","backend","devops::package","good for new contributors","group::package registry","maintenance::refactor","ruby","section::ops","type::maintenance","workflow::staging"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":10409869,"username":"anshulriyal","name":"Anshul Riyal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10409869/avatar.png","web_url":"https://gitlab.com/anshulriyal"}],"author":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"type":"ISSUE","assignee":{"id":10409869,"username":"anshulriyal","name":"Anshul Riyal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10409869/avatar.png","web_url":"https://gitlab.com/anshulriyal"},"user_notes_count":6,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340586","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340586","notes":"https://gitlab.com/api/v4/projects/278964/issues/340586/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340586/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340586","relative":"#340586","full":"gitlab-org/gitlab#340586"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7041,"epic":{"id":379190,"iid":7041,"title":"Package Registry UI/UX improvements","url":"/groups/gitlab-org/-/epics/7041","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":93443172,"iid":340581,"project_id":278964,"title":"Hide schedule section when editing a DAST scan that does not have a schedule","description":"As a temporary workaround to https://gitlab.com/gitlab-org/gitlab/-/issues/340534, we are going to hide the schedule section from the on-demand scans form when editing a scan that was created without a schedule. This will prevent users from hitting a GraphQL error when trying to schedule a scan that was initially created without a schedule (which affects all of the scans that were created before the scheduling feature was introduced in the first place).\n\n/cc @atiwari71 @derekferguson","state":"closed","created_at":"2021-09-10T08:05:07.766Z","updated_at":"2021-10-13T16:43:37.357Z","closed_at":"2021-09-10T17:35:09.777Z","closed_by":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"labels":["Category:DAST","devops::secure","frontend","group::dynamic analysis","section::sec","type::bug","type::feature","won't do","workflow::ready for development"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"}],"author":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"type":"ISSUE","assignee":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340581","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340581","notes":"https://gitlab.com/api/v4/projects/278964/issues/340581/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340581/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340581","relative":"#340581","full":"gitlab-org/gitlab#340581"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4876,"epic":{"id":142315,"iid":4876,"title":"On-demand DAST scan scheduler","url":"/groups/gitlab-org/-/epics/4876","group_id":9970,"human_readable_end_date":"Feb 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":93436394,"iid":340578,"project_id":278964,"title":"Wrong order of epic ancestors in issue sidebar","description":"### Summary\n\nEpic ancestors are displayed in wrong order in the epic sidebar.\n\n### Steps to reproduce\n\nPick an epic that is related to an epic with a parent/child hierarchy, in the sidebar you will see that epic hierarchy is not respected.\n\n### Examples\n\n- https://gitlab.com/groups/gitlab-org/-/epics/6697\n\n![Screenshot_2021-09-09_at_18.55.36](/uploads/e208239e2b169e9694bccef906ce4a4c/Screenshot_2021-09-09_at_18.55.36.png)\n\n![epics-in-sidebar](/uploads/66613130043a27c7d67350babd1597a3/epics-in-sidebar.png)\n\n### What is the expected *correct* behavior?\n\nEpics in sidebar should be sorted from parent to child, with parent at the top","state":"closed","created_at":"2021-09-10T06:07:10.221Z","updated_at":"2021-11-18T07:00:39.650Z","closed_at":"2021-10-29T11:12:10.874Z","closed_by":{"id":508743,"username":"jarka","name":"Jarka Košanová","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"},"labels":["Deliverable","Next Up","backend","devops::plan","group::product planning","priority::3","section::dev","severity::3","type::bug","workflow::verification"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":508743,"username":"jarka","name":"Jarka Košanová","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"}],"author":{"id":3483274,"username":"acroitor","name":"Alexandru Croitor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/461378ef52c26eec55e6c15ec09bb9ed?s=80\u0026d=identicon","web_url":"https://gitlab.com/acroitor"},"type":"ISSUE","assignee":{"id":508743,"username":"jarka","name":"Jarka Košanová","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"},"user_notes_count":12,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340578","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340578","notes":"https://gitlab.com/api/v4/projects/278964/issues/340578/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340578/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340578","relative":"#340578","full":"gitlab-org/gitlab#340578"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":93435092,"iid":340576,"project_id":278964,"title":"Labels are invisible in dark mode","description":"Labels text is not visible in labels dropdown in dark mode unless the user hovers it.\n\n![dark_labels](/uploads/e115888d159604697cf308da871acdd9/dark_labels.gif)","state":"closed","created_at":"2021-09-10T05:12:47.073Z","updated_at":"2021-09-14T00:06:18.039Z","closed_at":"2021-09-14T00:06:18.025Z","closed_by":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"labels":["automation:ml","devops::plan","frontend","group::project management","section::dev","type::bug","workflow::production"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"}],"author":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"type":"ISSUE","assignee":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340576","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340576","notes":"https://gitlab.com/api/v4/projects/278964/issues/340576/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340576/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340576","relative":"#340576","full":"gitlab-org/gitlab#340576"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":93434171,"iid":340575,"project_id":278964,"title":"Follow-up from \"Feature ZenTao integration: Extracting Issue List component\"","description":"The following discussion from !69927 should be addressed:\n\n- [ ] @tomquirk started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/69927#note_674268521): \n\n    \u003e (comment copied from !68454):\n    \u003e \n    \u003e **question**: I think the `empty-state` slot for the IssuableList component (https://gitlab.com/gitlab-org/gitlab/-/merge_requests/68454/diffs?view=inline#c2c01643e175b8a06de7af6e6288902bbabbcec3_0_276) is only rendered when `issuables.length` is `0` ([source](https://gitlab.com/gitlab-org/gitlab/blob/master/app/assets/javascripts/issuable_list/components/issuable_list_root.vue#L331)). Do we need to check for `!hasIssues` throughout this component?\n    \u003e \n    \u003e Let's address this in a follow-up :muscle:","state":"closed","created_at":"2021-09-10T04:31:16.683Z","updated_at":"2022-11-22T19:24:46.967Z","closed_at":"2021-11-08T21:16:35.254Z","closed_by":{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"},"labels":["Integration::ZenTao","Jira::IssueList","[deprecated] Accepting merge requests","devops::manage","frontend","group::integrations","maintenance::refactor","section::dev","type::maintenance"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340575","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340575","notes":"https://gitlab.com/api/v4/projects/278964/issues/340575/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340575/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340575","relative":"#340575","full":"gitlab-org/gitlab#340575"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":93430918,"iid":340574,"project_id":278964,"title":"Apply LooksAhead to GraphQL group resolvers","description":"The following discussion from !68900 should be addressed:\n\n- [ ] @.luke started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/68900#note_674223253): \n\n    \u003e **Thought**\n    \u003e \n    \u003e This is currently open to a N+1 problem, and I think ideally we would use `LooksAhead` to preload the associations. There's a problem, though, which is that there are many group resolvers (and only `Users::GroupsResolvers` currently uses look ahead). \n    \u003e \n    \u003e I think we can merge this as-is for now, and I'll create a follow-up issue to look at adding something like a `ResolvesGroups` concern to apply look ahead to our many group resolvers :slight_smile:.\n    \u003e \n    \u003e You can see the N+1 through `current_user.groups` (you first have to ` Feature.enable(:paginatable_namespace_drop_down_for_project_creation)` for `UserType#groups` to return data), and then query:\n    \u003e \n    \u003e ```\n    \u003e {\n    \u003e   currentUser {\n    \u003e     groups {\n    \u003e       nodes {\n    \u003e         dependencyProxyImageTtlPolicy {\n    \u003e           ttl\n    \u003e         }\n    \u003e       }\n    \u003e     }\n    \u003e   }\n    \u003e }\n    \u003e ```","state":"closed","created_at":"2021-09-10T01:58:04.584Z","updated_at":"2022-11-22T19:24:47.781Z","closed_at":"2021-11-16T01:48:58.275Z","closed_by":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"labels":["GraphQL","auto updated","automation:ml","automation:ml wrong","bug::performance","devops::manage","group::integrations","section::dev","type::maintenance","workflow::verification"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"}],"author":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"type":"ISSUE","assignee":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340574","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340574","notes":"https://gitlab.com/api/v4/projects/278964/issues/340574/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340574/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340574","relative":"#340574","full":"gitlab-org/gitlab#340574"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":93425773,"iid":340566,"project_id":278964,"title":"Remove the delete branch verbiage from the dropdown options for default branch protections","description":"_This issue and linked pages contain information related to upcoming products, features, and functionality. \nIt is important to note that the information presented is for informational purposes only. Please do not rely on this information for purchasing or planning purposes. \nAs with all projects, the items mentioned in this video and linked pages are subject to change or delay. The development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc._\n\n## Problem to solve\n\nThe options for default branch protections make it appear as though the branch can be deleted. However, the default branch can never be deleted even in the UI.\n\n## Proposal\n\nUpdate the options to remove the delete branch language.\n\n```patch\n- Not protected: Both developers and maintainers can push new commits, force push, or delete the branch.\n+ Not protected: Both developers and maintainers can push new commits or force push.\nProtected against pushes: Developers cannot push new commits, but are allowed to accept merge requests to the branch. Maintainers can push to the branch.\n- Partially protected: Both developers and maintainers can push new commits, but cannot force push or delete the branch.\n+ Partially protected: Both developers and maintainers can push new commits, but cannot force push.\n- Fully protected: Developers cannot push new commits, but maintainers can. No-one can force push or delete the branch.\n+ Fully protected: Developers cannot push new commits, but maintainers can. No-one can force push.\n```","state":"closed","created_at":"2021-09-09T21:59:34.330Z","updated_at":"2021-09-28T13:07:04.388Z","closed_at":"2021-09-28T13:07:03.974Z","closed_by":{"id":6193108,"username":"aregnery","name":"Austin Regnery","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6193108/avatar.png","web_url":"https://gitlab.com/aregnery"},"labels":["GitLab Premium","Technical Writing","UI text","UX","devops::manage","direction","documentation","group::compliance","section::dev","type::feature","workflow::production"],"milestone":null,"assignees":[],"author":{"id":6193108,"username":"aregnery","name":"Austin Regnery","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6193108/avatar.png","web_url":"https://gitlab.com/aregnery"},"type":"ISSUE","assignee":null,"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340566","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340566","notes":"https://gitlab.com/api/v4/projects/278964/issues/340566/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340566/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340566","relative":"#340566","full":"gitlab-org/gitlab#340566"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6671,"epic":{"id":342054,"iid":6671,"title":"Finer-grained control over default branch protections","url":"/groups/gitlab-org/-/epics/6671","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":93425537,"iid":340565,"project_id":278964,"title":"Namespace Data not always populated on SaaS Subscriptions in Zuora/SFDC","description":"## Problem\n\nWe recently identified a set of subscriptions with missing namespace data, both in SFDC and Zuora.  This results in SFDC users unable to generate complete reports or view relevant customer subscription data. This seems to be an intermittent issue impacting only some SaaS subscriptions.\n\nThis issue originally implementing passing namespace data to Zuora: https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1989\n\n## Background \nThe likely causes for missing data values are as follows:\n1. Zuora data null prior to ([sync integration](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1989)) implementation - expected since the work was move forward only. Technical work would be to backfill the data from GitLab.com-CustomersDot data.\n1. Zuora data null post implementation - could be one of two causes:\n   - Sales-assisted subscription in which the customer hasn't connected their namespace to the subscription yet. There's no technical work here.\n   - Data sync issue, somewhere between Zuora-CustomersDot-GitLab.com, data is out of sync. Technical work would be to find the data issue, resolve it, and push the data to Zuora.\n1. ~~SFDC data null prior to the [latest work](https://gitlab.com/gitlab-com/business-technology/enterprise-apps/intake/-/issues/314) to bring the data in (I'm not sure of the date tbh) - I'd defer to the team who implemented the work, I'm not sure if they backfilled data which existed in Zuora.~~ _identified the subscriptions with missing data are blank in Zuora as well_\n1. ~~SFDC data null post the latest work to bring the data in. - would be the same root cause as 2.2 above~~ _identified the subscriptions with missing data are blank in Zuora as well_\n\n### Details\n* Export of all SaaS subscription records in SFDC \u0026 Zuora (as of June 23, 2022): https://docs.google.com/spreadsheets/d/1tHBoqBoD71oal9KrXvGynY9BjsdWO0XSLdF99yMAO7c/edit#gid=164804043\n\n\u003e CDot is updating the gitlab namespace id and name info to see how the update is executed. It happens [here](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/406ca56850113efc75b32cce463895e35012d218/app/workers/update_zuora_subscription_namespace_data_worker.rb#L54) using the `subscription.update` method. [Under the hood](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/71199b77cd4880304e270a85e9de850c1ab2ce8b/lib/zuora/resource.rb#L24), this method leverages [the Zuora Action/Update API endpoint](https://www.zuora.com/developer/api-reference/#operation/Action_POSTupdate) which as we've found out is considered sort of a legacy endpoint.\n\n## Proposal\n1. Identify the reason for certain SaaS subscriptions not being populated with Namespace information in SFDC\n2. Update the current process to ensure all SaaS subscriptions have these data points populated\n\n\n## Result\nNamespace data is accurately populated in Zuora and SFDC on a go-forward basis. Once the fix is in place, https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4460 will be used to update the historical data.","state":"closed","created_at":"2021-09-09T21:49:27.720Z","updated_at":"2022-10-28T20:13:39.511Z","closed_at":"2022-08-19T02:16:34.236Z","closed_by":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"labels":["Affects Salesforce","Support Efficiency","[deprecated] Category:Provision","auto updated","backend","customer success","data integrity","devops::fulfillment","group::provision","missed:14.7","missed:15.0","missed:15.2","section::fulfillment","severity::3","type::bug","workflow::in review"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"}],"author":{"id":7971452,"username":"teresatison","name":"Teresa Tison","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7971452/avatar.png","web_url":"https://gitlab.com/teresatison"},"type":"ISSUE","assignee":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"user_notes_count":94,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340565","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340565","notes":"https://gitlab.com/api/v4/projects/278964/issues/340565/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340565/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340565","relative":"#340565","full":"gitlab-org/gitlab#340565"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8298,"epic":{"id":552850,"iid":8298,"title":"SaaS Namespace Data in SFDC \u0026 Zuora","url":"/groups/gitlab-org/-/epics/8298","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":93420922,"iid":340558,"project_id":278964,"title":"Add `vulnerability` in `PipelineSecurityReportFinding`","description":"## Why are we doing this work\n\nAs part of the GraphQL conversation of the Pipeline Security Report, we are adding comment-history entries to the pipeline security tab vulnerabilities modal. In order to fetch discussions and notes for a `PipelineSecurityReportFinding` we need a `VulnerabilityID!` field.\n\nBased on [this discussion](https://gitlab.com/gitlab-org/gitlab/-/issues/223814#note_673475363), introducing the `vulnerability` field for the `PipelineSecurityReportFinding` is the decided approach. The value of the field can be **NULL** as the finding may not exist on the default branch but if it does, you can access the notes \u0026 discussions easily in one query.\n\nThis is also needed for the work done in https://gitlab.com/gitlab-org/gitlab/-/issues/384867+, so that we can pull the issues based on Vulnerabilities.\n\nWe want to add a `vulnerability` field to the `PipelineSecurityReportFinding` GraphQL type for use in the new security finding modals. This can also take an argument for the link type.\n\nExample of new query:\n\n```graphql\nquery {\n  project(fullPath:\"\u003cproject path\u003e\") {\n    pipeline(iid:\"\u003cpipeline iid\u003e\") {\n      securityReportFinding(uuid:\"\u003cuuid\u003e\") {\n        vulnerability {\n           \u003cvulnerability fields\u003e\n        }\n      }\n    }\n  }\n}\n```\n\nResponse data will be a [`Vulnerability`](https://docs.gitlab.com/ee/api/graphql/reference/#vulnerability)\n\n## Relevant links\n\n- [Spike](https://gitlab.com/gitlab-org/gitlab/-/issues/382913#3-issue-notes \"Spike: Investigate and capture options on how to integrate, deploy and iterate the GraphQL version of the modal\")\n\n## Non-functional requirements\n\n* [x] Documentation: Update the GraphQL docs\n* [x] Testing: Add appropriate specs including query specs and N+1 specs\n\n## Implementation plan\n\n- [x] ~backend Add `field :vulnerability, type: VulnerabilityType, null: true` to `ee/app/graphql/types/pipeline_security_report_finding_type.rb`\n- [x] ~backend Write a proper description of `:solution` field\n- [x] ~backend Adjust `ee/spec/graphql/types/pipeline_security_report_finding_type_spec.rb` to account for newly added field\n\n## Verification steps\n\n1. Run a pipeline on a main branch of a project with vulnerabilities\n   - [Sample project](https://gitlab.com/gitlab-examples/security/security-reports)\n2. Run the following GraphQL query. You should see the vulnerability data\n```graphql\n{\n  project(fullPath: \"\u003cproject_path\u003e\") {\n    pipeline(iid: \"1\") {\n      id\n      securityReportFindings {\n        nodes {\n          title\n          uuid\n          vulnerability {\n            description\n          }\n        }\n      }\n    }\n  }\n}\n```","state":"closed","created_at":"2021-09-09T20:23:25.913Z","updated_at":"2023-01-09T09:21:53.188Z","closed_at":"2022-12-20T16:01:48.274Z","closed_by":{"id":5721376,"username":"minac","name":"Mehmet Emin INAC","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d8bdee790902422e3554e411a173c7c0?s=80\u0026d=identicon","web_url":"https://gitlab.com/minac"},"labels":["Threat Insights::Navy","backend","devops::govern","feature::enhancement","group::threat insights","section::sec","type::feature","workflow::verification"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[{"id":5721376,"username":"minac","name":"Mehmet Emin INAC","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d8bdee790902422e3554e411a173c7c0?s=80\u0026d=identicon","web_url":"https://gitlab.com/minac"}],"author":{"id":4906978,"username":"lkerr","name":"Lindsay Kerr","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4906978/avatar.png","web_url":"https://gitlab.com/lkerr"},"type":"ISSUE","assignee":{"id":5721376,"username":"minac","name":"Mehmet Emin INAC","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d8bdee790902422e3554e411a173c7c0?s=80\u0026d=identicon","web_url":"https://gitlab.com/minac"},"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340558","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":5,"completed_count":5},"weight":2,"blocking_issues_count":1,"has_tasks":true,"task_status":"5 of 5 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340558","notes":"https://gitlab.com/api/v4/projects/278964/issues/340558/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340558/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340558","relative":"#340558","full":"gitlab-org/gitlab#340558"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":93413163,"iid":340538,"project_id":278964,"title":"🎨 Design: Display Container Scanning Packages in GitLab's Dependency List","description":"Please reference requirements on the [parent epic](https://gitlab.com/groups/gitlab-org/-/epics/6698)","state":"closed","created_at":"2021-09-09T17:21:49.715Z","updated_at":"2021-10-11T07:52:13.527Z","closed_at":"2021-10-07T07:05:23.702Z","closed_by":{"id":4544240,"username":"cam.x","name":"Camellia X Yang","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7ea4de9b3092f62013d2cfd0c340811a?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam.x"},"labels":["Category:Container Scanning","Enterprise Edition","GitLab Ultimate","UX","auto updated","devops::govern","group::security policies","section::sec","workflow::ready for design"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":4544240,"username":"cam.x","name":"Camellia X Yang","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7ea4de9b3092f62013d2cfd0c340811a?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam.x"}],"author":{"id":5292351,"username":"sam.white","name":"Sam White","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d467fb024d1858d279e6a36e028436ac?s=80\u0026d=identicon","web_url":"https://gitlab.com/sam.white"},"type":"ISSUE","assignee":{"id":4544240,"username":"cam.x","name":"Camellia X Yang","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7ea4de9b3092f62013d2cfd0c340811a?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam.x"},"user_notes_count":25,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340538","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340538","notes":"https://gitlab.com/api/v4/projects/278964/issues/340538/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340538/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340538","relative":"#340538","full":"gitlab-org/gitlab#340538"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6698,"epic":{"id":343749,"iid":6698,"title":"Display Container Scanning Packages in GitLab's Dependency List","url":"/groups/gitlab-org/-/epics/6698","group_id":9970,"human_readable_end_date":"Dec 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":93412682,"iid":340536,"project_id":278964,"title":"Rendering ldaps://ldap.aegee.org/dc=aegee,dc=org??sub  hyperlink is inconsistent","description":"I type bug a description containing ldaps://ldap.aegee.org/dc=aegee,dc=org??sub .  Then I click on “Preview”.  I see the link is rendered blue as hyperlink.  I submit the bug.  The link in the final, submitted bug description is not anymore a hyperlink, but plain text.","state":"closed","created_at":"2021-09-09T17:09:47.221Z","updated_at":"2022-09-19T03:03:11.220Z","closed_at":"2022-09-19T03:03:11.202Z","closed_by":{"id":1786152,"username":"gitlab-bot","name":"🤖 GitLab Bot 🤖","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1786152/avatar.png","web_url":"https://gitlab.com/gitlab-bot"},"labels":["[deprecated] Accepting merge requests","auto closed","devops::create","frontend","group::editor","priority::4","section::dev","severity::4","stale","type::bug","vintage"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":2651858,"username":"dilyan.palauzov","name":"Дилян Палаузов","state":"active","avatar_url":"https://secure.gravatar.com/avatar/148ae4e77ed62a231e37470d3783c9e0?s=80\u0026d=identicon","web_url":"https://gitlab.com/dilyan.palauzov"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340536","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340536","notes":"https://gitlab.com/api/v4/projects/278964/issues/340536/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340536/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340536","relative":"#340536","full":"gitlab-org/gitlab#340536"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":93409282,"iid":340528,"project_id":278964,"title":"[MR Widget Eng] Add support for telemetry in the code MR Widget extension component","description":"# Problem\n\nWe don't have good quality data when it comes to MR Widgets. It's not consistently gathered or spread around all the widgets. It would be interesting if the core component provided an easy/easier way to hook the widgets to usage data gathering.\n\nThis issue is to track discussions and implementation of that.","state":"closed","created_at":"2021-09-09T15:57:07.293Z","updated_at":"2021-12-02T14:21:35.300Z","closed_at":"2021-10-26T17:22:38.784Z","closed_by":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"labels":["Deliverable","WorkingGroup::MergeRequestReportWidgets","auto updated","devops::create","feature::addition","frontend","group::code review","section::dev","type::feature","workflow::in review"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"}],"author":{"id":853414,"username":"andr3","name":"André Luís","state":"active","avatar_url":"https://secure.gravatar.com/avatar/241e39726efb512a29621070ccf26a90?s=80\u0026d=identicon","web_url":"https://gitlab.com/andr3"},"type":"ISSUE","assignee":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340528","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340528","notes":"https://gitlab.com/api/v4/projects/278964/issues/340528/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340528/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340528","relative":"#340528","full":"gitlab-org/gitlab#340528"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6647,"epic":{"id":337766,"iid":6647,"title":"[MR Widget Eng] Update core MR Widget extension component to fully support the design guidelines","url":"/groups/gitlab-org/-/epics/6647","group_id":9970,"human_readable_end_date":"Jan 29, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":93405721,"iid":340523,"project_id":278964,"title":"Provide grace period on Advanced Search indexing when a subscription expires","description":"\u003c!-- This template is a great use for issues that are feature::additions or technical tasks for larger issues.--\u003e\n\n### Proposal \n\nOn GitLab.com, we often get customers who reach out noting that they are unable to do code searches in Advanced Search. In these cases, the customers often have expired subscriptions and are in grace periods. Often times, the subscription renewal is in the process and all other features work except for this feature.\n\nBased on previous discussions, it was determined that we **stop** indexing at the expiration date of the subscription for that namespace:\n\n- https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/spec/workers/elastic_remove_expired_namespace_subscriptions_from_index_cron_worker_spec.rb\n- https://gitlab.com/gitlab-org/gitlab/blob/master/ee/app/workers/elastic_remove_expired_namespace_subscriptions_from_index_cron_worker.rb#L3\n\n\n\nDue to the amount of tickets we get on this issue, I am asking if we can develop a grace period to stop indexing 7-14 days after the expiration date so that customers can continue to use this within the grace similar to other features.\n\n### ZD Tickets (Internal)\n\n- https://gitlab.zendesk.com/agent/tickets/206481\n- https://gitlab.zendesk.com/agent/tickets/216155\n- https://gitlab.zendesk.com/agent/tickets/219083\n- https://gitlab.zendesk.com/agent/tickets/235340","state":"closed","created_at":"2021-09-09T15:03:35.493Z","updated_at":"2022-05-30T16:30:03.307Z","closed_at":"2021-11-01T19:26:28.781Z","closed_by":{"id":4888751,"username":"changzhengliu","name":"Changzheng Liu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4888751/avatar.png","web_url":"https://gitlab.com/changzhengliu"},"labels":["Category:Global Search","GitLab.com Feature Request","customer","devops::data_stores","group::global search","priority::2","section::enablement","severity::4","type::feature","workflow::ready for development"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":4888751,"username":"changzhengliu","name":"Changzheng Liu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4888751/avatar.png","web_url":"https://gitlab.com/changzhengliu"}],"author":{"id":5537005,"username":"cleveland","name":"Cleveland Bledsoe Jr","state":"active","avatar_url":"https://secure.gravatar.com/avatar/9b3b602b16b5453efe7c1190e8ae558e?s=80\u0026d=identicon","web_url":"https://gitlab.com/cleveland"},"type":"ISSUE","assignee":{"id":4888751,"username":"changzhengliu","name":"Changzheng Liu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4888751/avatar.png","web_url":"https://gitlab.com/changzhengliu"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340523","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340523","notes":"https://gitlab.com/api/v4/projects/278964/issues/340523/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340523/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340523","relative":"#340523","full":"gitlab-org/gitlab#340523"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":93403945,"iid":340519,"project_id":278964,"title":"Not working links in documentation","description":"The example for downloading artifacts in this documentation page do not seem to work (e.g. https://gitlab.com/gitlab-org/gitlab/-/jobs/artifacts/main/file/htmlcov/index.html?job=coverage ). It would be helpful if it worked. If they are not supposed to work it would be helpful to indicated that.\n\nhttps://docs.gitlab.com/ee/ci/pipelines/job_artifacts.html\n\n\u003c!-- Don't edit below this line --\u003e","state":"closed","created_at":"2021-09-09T14:36:09.505Z","updated_at":"2022-11-10T15:47:49.467Z","closed_at":"2022-11-10T15:47:49.438Z","closed_by":{"id":3029776,"username":"shampton","name":"Scott Hampton","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3029776/avatar.png","web_url":"https://gitlab.com/shampton"},"labels":["Category:Build Artifacts","devops::verify","documentation","group::pipeline insights","missed:15.0","priority::4","section::ops","severity::3","type::bug","workflow::production"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":3029776,"username":"shampton","name":"Scott Hampton","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3029776/avatar.png","web_url":"https://gitlab.com/shampton"}],"author":{"id":447638,"username":"bartk","name":"bart","state":"active","avatar_url":"https://secure.gravatar.com/avatar/06f023d93842a2217d925b75dd8a4341?s=80\u0026d=identicon","web_url":"https://gitlab.com/bartk"},"type":"ISSUE","assignee":{"id":3029776,"username":"shampton","name":"Scott Hampton","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3029776/avatar.png","web_url":"https://gitlab.com/shampton"},"user_notes_count":24,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340519","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340519","notes":"https://gitlab.com/api/v4/projects/278964/issues/340519/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340519/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340519","relative":"#340519","full":"gitlab-org/gitlab#340519"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":93402206,"iid":340517,"project_id":278964,"title":"[Feature flag] Rollout of `idempotent_ci_minutes_consumption`","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout the feature flag that makes the accumulation of CI minutes idempotent: https://gitlab.com/gitlab-org/gitlab/-/issues/331785.\n\nWith the feature flag disabled we could risk accumulating the same CI minutes consumption of a completed job multiple times, if the worker is retried due to upstream failures. With the feature flag on, we will:\n\n1. log the event that the update has already occurred in the past and skipped this time around\n1. prevent the update from occurring again\n\n## Owners\n\n- Team: ~\"group::pipeline execution\" \n- Most appropriate slack channel to reach out to: `#g_pipeline-execution`\n- Best individual to reach out to: @fabiopitino \n- PM: @jreporter \n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## The Rollout Plan\n\n- Partial Rollout on GitLab.com with testing groups\n- Rollout on GitLab.com for a certain period (How long)\n- Percentage Rollout on GitLab.com\n- Rollout Feature for everyone as soon as it's ready\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? Sentry errors reports can also be useful to review --\u003e\n\n## Testing Groups/Projects/Users\n\n\u003c!-- If applicable, any groups/projects that are happy to have this feature turned on early. Some organizations may wish to test big changes they are interested in with a small subset of users ahead of time for example. --\u003e\n\nGiven that `gitlab-org` is exempt from CI minutes calculation we cannot use this as a test namespace.\n\nWe will be using `fabiopitino` as a test namespace before we start the incremental rollout.\n\n\n## Expectations\n\n### What are we expecting to happen?\n\nIf `Ci::Minutes::UpdateProjectAndNamespaceUsageWorker` fails for some reasons after updating CI minutes consumption, the automatic Sidekiq retry causes the worker to add the same consumption again. This feature flag prevents double updates, making the operation idempotent.\n\n### What might happen if this goes wrong?\n\n\u003c!-- Should the feature flag be turned off? Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\nIf something is incorrect with the logic we might see any of the followings:\n- double updates per job if the idempotency logic doesn't work\n- leak in Redis memory usage (should be prevented by the TTL)\n\n### What can we monitor to detect problems with this?\n\n- This [Kibana query](https://log.gprd.gitlab.net/app/discover#/?_g=(filters:!(),refreshInterval:(pause:!t,value:0),time:(from:now-7d,to:now))\u0026_a=(columns:!(json.job_status,json.class),filters:!(),index:AWNABDRwNDuQHTm2tH6l,interval:auto,query:(language:kuery,query:'json.job_status.keyword:%20%22fail%22%20AND%20json.class.keyword:%20%22Ci::Minutes::UpdateProjectAndNamespaceUsageWorker%22%20'),sort:!())) shows when the worker fails to update CI minutes. A retry of this worker could cause CI minutes to be double counted. This is what we are trying to prevent with this feature flag.\n- This [Kibana query](https://log.gprd.gitlab.net/goto/70ace5d2acae2fe0de0fc66404c3e23f) shows the instances where we attempt to accumulate CI minutes multiple times for the given job. For this feature to work we should see some logs even though they may not be frequent. The presence of these logs means we are blocking multiple attempts of updating CI minutes after the first successful update.\n- Ensure [worker performance](https://dashboards.gitlab.net/d/sidekiq-worker-detail/sidekiq-worker-detail?orgId=1\u0026var-PROMETHEUS_DS=Global\u0026var-environment=gprd\u0026var-stage=main\u0026var-worker=Ci::Minutes::UpdateProjectAndNamespaceUsageWorker) remains unchanged.\n- Since we will track updates at job level we would be storing a flag value on Redis per completed job with 12 hours TTL. We need to ensure that [Redis resources usage](https://dashboards.gitlab.net/d/redis-sidekiq-main/redis-sidekiq-overview?orgId=1) remain normal.\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- [x] Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Enable the feature globally on non-production environments.\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e true --dev`\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e true --staging`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Preparation before production rollout\n\n- [x] Ensure that the feature MRs have been deployed to both production and canary.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [x] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [x] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [ ] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com.\n- [ ] If the feature might impact the user experience, notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nAll `/chatops` commands that target production should be done in the `#production` slack channel for visibility.\n\n- [x] Confirm the feature flag is enabled on `staging` without incident\n- [ ] Roll out the feature to targeted testing projects/groups first\n    - [ ] `/chatops run feature set --project=gitlab-org/gitlab \u003cfeature-flag-name\u003e true`\n    - [ ] `/chatops run feature set --project=gitlab-org/gitlab-foss \u003cfeature-flag-name\u003e true`\n    - [ ] `/chatops run feature set --project=gitlab-com/www-gitlab-com \u003cfeature-flag-name\u003e true`\n\n- [x] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e`\n- [x] Verify the change has the desired outcome with the limited rollout before enabling the feature globally on production.\n- [x] Enable the feature globally on production environment. `/chatops run feature set \u003cfeature-flag-name\u003e true`\n- [ ] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [ ] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [ ] Create a merge request with the following changes. Ask for review and merge it.\n    - [ ] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the default-enabling MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-default-enabling-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [ ] (Optional) You can create a separate issue for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [ ] Set the title to \"[Feature flag] Cleanup `\u003cfeature-flag-name\u003e`\".\n    - [ ] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [ ] Link this rollout issue as a related issue.\n    - [ ] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [x] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag. Ask for review and merge it.\n    - [x] Remove all references to the feature flag from the codebase.\n    - [x] Remove the YAML definitions for the feature from the repository.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [x] Ensure that the cleanup MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-cleanup-mr\u003e`\n- [x] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [x] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [x] `/chatops run feature delete \u003cfeature-flag-name\u003e --dev`\n    - [x] `/chatops run feature delete \u003cfeature-flag-name\u003e --staging`\n    - [x] `/chatops run feature delete \u003cfeature-flag-name\u003e`\n- [x] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set \u003cfeature-flag-name\u003e false\n```","state":"closed","created_at":"2021-09-09T14:15:14.699Z","updated_at":"2021-10-12T06:26:10.030Z","closed_at":"2021-10-12T06:26:07.126Z","closed_by":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"labels":["Category:Continuous Integration","backend","devops::verify","feature flag","group::pipeline execution","missed:14.3","priority::2","section::ops","severity::2","type::bug","workflow::production"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"}],"author":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"type":"ISSUE","assignee":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340517","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":50,"completed_count":28},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"28 of 50 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340517","notes":"https://gitlab.com/api/v4/projects/278964/issues/340517/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340517/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340517","relative":"#340517","full":"gitlab-org/gitlab#340517"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":93397276,"iid":340508,"project_id":278964,"title":"Add security_orchestration_policy to pipeline source filter","description":"## Why are we doing this work\n\nThe scheduled scans that are triggered from the security policy runs with source `security_orchestration_policy`. Now that `security_orchestration_policies_configuration` feature flag is enabled for all customers, Security Orchestration Policy could be added as one of the pipeline sources in the filter.\n\n![Screenshot_2021-09-09_at_2.48.33_PM](/uploads/2936a7f051b564cf2825d0f8546c63b4/Screenshot_2021-09-09_at_2.48.33_PM.png)\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [-] Documentation:\n- [-] Feature flag:\n- [-] Performance:\n- [ ] Testing:\n\n\n## Implementation plan\n\n- [ ] ~frontend Add `Security Orchestration Policy` to [`ee/app/assets/javascripts/pipelines/components/pipelines_list/tokens/constants.js`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/assets/javascripts/pipelines/components/pipelines_list/tokens/constants.js)","state":"closed","created_at":"2021-09-09T13:08:31.764Z","updated_at":"2021-09-23T03:27:21.219Z","closed_at":"2021-09-23T03:27:21.196Z","closed_by":{"id":8401507,"username":"sashi_kumar","name":"Sashi Kumar Kumaresan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8401507/avatar.png","web_url":"https://gitlab.com/sashi_kumar"},"labels":["Category:Security Policy Management","auto updated","devops::govern","feature::enhancement","frontend","group::security policies","section::sec","type::feature","workflow::verification"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[],"author":{"id":8401507,"username":"sashi_kumar","name":"Sashi Kumar Kumaresan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8401507/avatar.png","web_url":"https://gitlab.com/sashi_kumar"},"type":"ISSUE","assignee":null,"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340508","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340508","notes":"https://gitlab.com/api/v4/projects/278964/issues/340508/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340508/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340508","relative":"#340508","full":"gitlab-org/gitlab#340508"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":93394472,"iid":340504,"project_id":278964,"title":"Display usage of shared runners duration for projects within a group","description":"### Proposal \n\nIn https://gitlab.com/gitlab-org/gitlab/-/issues/254231, we track and aggregate the shared runners duration separately from CI minutes consumption. We want to be able to display this number for viability to users in the frontend. \n\nWith this change, we could display the pipeline minute duration for projects and namespaces in the CI/CD Analytics view to accomplish a connection to: \n\n* CI minutes (credits) consumption: for the customer to see which projects contributes mostly to their bill\n* Shared runners usage in minutes: for the customer to see what takes most of their time on shared runners\n\n### Acceptance criteria\n\n1. We need to cross-link pipeline quotas and let people know duration is NOT being billed for \n\n### Other links \n\n- [Agenda](https://docs.google.com/document/d/1V2QPbLJXzafdy-yRo_Ci-T81ooy8WVWK80gp7oN2jsE/edit?usp=sharing) for internal meeting\n- [Recording for internal meeting](https://youtu.be/hBpasxOc6CE)","state":"closed","created_at":"2021-09-09T12:27:30.304Z","updated_at":"2022-12-19T16:59:11.462Z","closed_at":"2022-01-23T14:15:11.814Z","closed_by":{"id":4905402,"username":"jreporter","name":"Jackie Porter","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4905402/avatar.png","web_url":"https://gitlab.com/jreporter"},"labels":["Category:Continuous Integration","FY23::Q1","GitLab Premium","SUS::Impacting","Technical Writing","UI text","UX","Verify::P1","devops::verify","documentation","frontend","group::pipeline execution","missed:14.6","missed:14.7","section::ops","severity::1","type::feature","workflow::production"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"}],"author":{"id":4905402,"username":"jreporter","name":"Jackie Porter","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4905402/avatar.png","web_url":"https://gitlab.com/jreporter"},"type":"ISSUE","assignee":{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"},"user_notes_count":108,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340504","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340504","notes":"https://gitlab.com/api/v4/projects/278964/issues/340504/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340504/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340504","relative":"#340504","full":"gitlab-org/gitlab#340504"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5653,"epic":{"id":231355,"iid":5653,"title":"CI minutes limits for public projects on GitLab.com","url":"/groups/gitlab-org/-/epics/5653","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":93392574,"iid":340503,"project_id":278964,"title":"Metrics with no definitions are not added to service ping","description":"## Summary \n\nMetrics with no metric definition yaml file are not added to service ping payload for instances with a license\n\n## Metrics affected\n\nThe metrics we identified we are not sending in service ping payload are:\n\n- duration_s\n- geo_node_usage\n- failures\n- group_saml \u0026 other providers like twitter, salesforce etc that comes under the key `user_auth_by_provider`\n\nNote: We will update the list as we identify other metrics\n\n## Notes\n\n- We should check all metrics that are added dynamic like\n  - [ ] [`email_campaign_counts`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/usage_data.rb#L826)\n  - [ ] [`services_usage`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/usage_data.rb#L409)\n  - [ ] [`container_expiration_policies_usage`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/usage_data.rb#L394)\n  - [ ] [`security_products_usage`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/lib/ee/gitlab/usage_data.rb#L144)\n  - [ ] [`usage_activity_by_stage_enablement`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/lib/ee/gitlab/usage_data.rb#L268)\n  - [ ] [`usage_activity_by_stage_secure`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/lib/ee/gitlab/usage_data.rb#L359)\n  - [ ] [`count_secure_scans`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/lib/ee/gitlab/usage_data.rb#L398)\n\n## How can we make sure we are sending all metrics?\n\n## In this issue we should \n\n- [x] Add metrics definitions for known missing yaml files\n  - [x] duration_s https://gitlab.com/gitlab-org/gitlab/-/merge_requests/70061\n  - [x] geo_node_usage https://gitlab.com/gitlab-org/gitlab/-/merge_requests/70062\n  - [x] failures https://gitlab.com/gitlab-org/gitlab/-/merge_requests/70061\n  - [x] group_saml \u0026 other providers like twitter, salesforce etc that comes under the key `user_auth_by_provider` https://gitlab.com/gitlab-org/gitlab/-/merge_requests/70061\n- [x] Check the other metrics which are dynamically added, check if any of the metric definitions is missing\n  - [x] create follow up issue https://gitlab.com/gitlab-org/gitlab/-/issues/340633\n- [x] Check service ping payload before filtering with service ping after filtering. This was done [here](https://gitlab.com/gitlab-org/gitlab/-/issues/340633#note_677482846)\n\ncc @amandarueda @nicolasdular","state":"closed","created_at":"2021-09-09T12:00:53.908Z","updated_at":"2021-10-19T19:20:02.114Z","closed_at":"2021-09-21T06:07:35.394Z","closed_by":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"labels":["Unplanned","auto updated","backend","devops::growth","group::product intelligence","missed:14.3","section::growth","workflow::verification"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"}],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"user_notes_count":18,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340503","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":15,"completed_count":8},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"8 of 15 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340503","notes":"https://gitlab.com/api/v4/projects/278964/issues/340503/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340503/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340503","relative":"#340503","full":"gitlab-org/gitlab#340503"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":93387606,"iid":340494,"project_id":278964,"title":"Allow job token scope to be configured while disabled","description":"## Problem\n\nWhen a user wants to configure the job token scope by adding the projects that need to be accessed by CI_JOB_TOKEN, they first need to enabled the setting.\n\nBy enabling the setting it will immediately enforce the use of the job token scope for any running jobs. This could cause pipelines to fail since the maintainer is still in the process of adding the relevant projects to the token scope.\n\n## Solution\n\nAllow the job token scope to be configured (e.g. projects to be added/removed) while the setting is disabled.\n\n## Proposal\n\nFrom the ~backend perspective we would need to remove the following lines to allow the job token scope to always be read and written. We would need to fix any failing specs.\n\n```diff\ndiff --git a/app/graphql/resolvers/ci/job_token_scope_resolver.rb b/app/graphql/resolvers/ci/job_token_scope_resolver.rb\nindex ca76a7b94fc..50249d40552 100644\n--- a/app/graphql/resolvers/ci/job_token_scope_resolver.rb\n+++ b/app/graphql/resolvers/ci/job_token_scope_resolver.rb\n@@ -12,8 +12,6 @@ class JobTokenScopeResolver \u003c BaseResolver\n       def resolve\n         authorize!(object)\n \n-        return unless object.ci_job_token_scope_enabled?\n-\n         ::Ci::JobToken::Scope.new(object)\n       end\n     end\ndiff --git a/app/services/concerns/ci/job_token_scope/edit_scope_validations.rb b/app/services/concerns/ci/job_token_scope/edit_scope_validations.rb\nindex 23053975313..427aebf397e 100644\n--- a/app/services/concerns/ci/job_token_scope/edit_scope_validations.rb\n+++ b/app/services/concerns/ci/job_token_scope/edit_scope_validations.rb\n@@ -9,10 +9,6 @@ module EditScopeValidations\n           \"not exist or you don't have permission to perform this action\"\n \n       def validate_edit!(source_project, target_project, current_user)\n-        unless source_project.ci_job_token_scope_enabled?\n-          raise ValidationError, \"Job token scope is disabled for this project\"\n-        end\n-\n         unless can?(current_user, :admin_project, source_project)\n           raise ValidationError, \"Insufficient permissions to modify the job token scope\"\n         end\n```\n\nFrom the ~frontend perspective we would need to always display the list of projects in the scope even if the setting is disabled.\n\n## Proposal(UX)\n![image](/uploads/8d304d2c5dd9b59332fb351b6eccd69e/image.png)","state":"closed","created_at":"2021-09-09T10:35:51.942Z","updated_at":"2022-09-17T12:07:54.939Z","closed_at":"2022-09-16T20:48:38.659Z","closed_by":{"id":4626651,"username":"allison.browne","name":"Allison Browne","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4bc33904c3bd3f2dce3db4e5af4ad1ae?s=80\u0026d=identicon","web_url":"https://gitlab.com/allison.browne"},"labels":["Category:Continuous Integration","UX","backend","devops::verify","feature::enhancement","frontend","group::pipeline execution","section::ops","type::feature","workflow::verification"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"},{"id":4626651,"username":"allison.browne","name":"Allison Browne","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4bc33904c3bd3f2dce3db4e5af4ad1ae?s=80\u0026d=identicon","web_url":"https://gitlab.com/allison.browne"}],"author":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"type":"ISSUE","assignee":{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"},"user_notes_count":14,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340494","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340494","notes":"https://gitlab.com/api/v4/projects/278964/issues/340494/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340494/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340494","relative":"#340494","full":"gitlab-org/gitlab#340494"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":93387028,"iid":340491,"project_id":278964,"title":"Handle ProjectNamespace changes on project/group move","description":"This issue is a task out of the bigger discussion https://gitlab.com/gitlab-org/gitlab/-/issues/337100#note_663327963\nThis issue focuses on moving project and/or group and implications on respective ProjectNamespace entries.\n\n* **Move group** - needs to ensure it moves the project namespaces as well, then we can actually use previous point when moving a single project.\n* **Move project** - needs to ensure the project namespace is also moved as part of moving projects, maybe we can check if project has a ProjectNamespace then actually do a \"namespace(group) move\" by moving ProjectNamespace\n\n\nThings to consider:\n- [ ] path/name/parent_id changes\n- [ ] route changes\n- [ ] redirect route changes\n- [ ] ?","state":"closed","created_at":"2021-09-09T10:25:16.655Z","updated_at":"2021-10-06T09:09:52.586Z","closed_at":"2021-10-06T09:09:52.562Z","closed_by":{"id":3483274,"username":"acroitor","name":"Alexandru Croitor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/461378ef52c26eec55e6c15ec09bb9ed?s=80\u0026d=identicon","web_url":"https://gitlab.com/acroitor"},"labels":["auto updated","devops::manage","group::organization","namespace","section::dev","workflow::in review"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":3483274,"username":"acroitor","name":"Alexandru Croitor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/461378ef52c26eec55e6c15ec09bb9ed?s=80\u0026d=identicon","web_url":"https://gitlab.com/acroitor"}],"author":{"id":3483274,"username":"acroitor","name":"Alexandru Croitor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/461378ef52c26eec55e6c15ec09bb9ed?s=80\u0026d=identicon","web_url":"https://gitlab.com/acroitor"},"type":"ISSUE","assignee":{"id":3483274,"username":"acroitor","name":"Alexandru Croitor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/461378ef52c26eec55e6c15ec09bb9ed?s=80\u0026d=identicon","web_url":"https://gitlab.com/acroitor"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340491","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340491","notes":"https://gitlab.com/api/v4/projects/278964/issues/340491/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340491/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340491","relative":"#340491","full":"gitlab-org/gitlab#340491"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6814,"epic":{"id":355782,"iid":6814,"title":"Project create should ensure a corresponding ProjectNamespace record is created","url":"/groups/gitlab-org/-/epics/6814","group_id":9970,"human_readable_end_date":"Apr 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":93381917,"iid":340484,"project_id":278964,"title":"Design the group side views","description":"\u003c!-- This issue template can be used a great starting point for feature requests. The last section \"Release notes\" can be used as a summary of the feature and is also required if you want to have your release post blog MR auto generated using the release post item generator:  https://about.gitlab.com/handbook/marketing/blog/release-posts/#release-post-item-generator. The remaining sections are the backbone for every feature in GitLab. --\u003e\n\n## Release notes \n\n\u003c!-- What is the problem and solution you're proposing? This content sets the overall vision for the feature and serves as the release notes that will populate in various \nplaces, including the [release post blog](https://about.gitlab.com/releases/categories/releases/) and [Gitlab project releases](https://gitlab.com/gitlab-org/gitlab/-/releases). \" --\u003e\n\n## Problem to solve \n\nProvide insights into agent activities at the group level.\n\nThe users at the group level might not have access to the agent configuration project.\n\nAs a Release Manager, in order to see the various deployments we own, I want to know what project activities happened around Kubernetes.\n\nAs a Software Engineer, in order to move on with testing my changes, I want to know if my changes got deployed successfully to a cluster.\n\n## Proposal \n\n### List the agents available for the group\n\nList the agents available for the group with basic connection status information\n\n- are we ok to show a link to the agent config project?\n\n### Details view\n\n- Show instructions to use this agent in CI/CD\n- Show the list of pipelines and project accessing the given Agent via the CI/CD Tunnel\n\n#### Future\n\nOnce manifest projects are not restricted to the agent configuration project:\n\n- Show the list of projects within the group that act as a manifest project for the given agent, and their latest commit and sync status\n\n\n## Intended users\n\nWho will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager) \n\n## User experience goal\n\nThe user should get insights into what is being deployed from under the given project using a specific agent, and what agents are accessible within the group.","state":"closed","created_at":"2021-09-09T09:17:58.328Z","updated_at":"2022-07-12T23:11:00.063Z","closed_at":"2021-12-15T18:52:09.638Z","closed_by":{"id":4545061,"username":"nagyv-gitlab","name":"Viktor Nagy (GitLab)","state":"active","avatar_url":"https://secure.gravatar.com/avatar/fb255c1e9c228b9356af165939b3ac9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/nagyv-gitlab"},"labels":["Category:Kubernetes Management","Deliverable","GitLab Core","UX","candidate::14.7","devops::configure","group::configure","missed-deliverable","missed:14.4","section::ops","type::feature","workflow::design"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":5291762,"username":"jmandell","name":"Justin Mandell","state":"active","avatar_url":"https://secure.gravatar.com/avatar/aa77747277d0bb7c31300ca6b0cdde56?s=80\u0026d=identicon","web_url":"https://gitlab.com/jmandell"}],"author":{"id":4545061,"username":"nagyv-gitlab","name":"Viktor Nagy (GitLab)","state":"active","avatar_url":"https://secure.gravatar.com/avatar/fb255c1e9c228b9356af165939b3ac9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/nagyv-gitlab"},"type":"ISSUE","assignee":{"id":5291762,"username":"jmandell","name":"Justin Mandell","state":"active","avatar_url":"https://secure.gravatar.com/avatar/aa77747277d0bb7c31300ca6b0cdde56?s=80\u0026d=identicon","web_url":"https://gitlab.com/jmandell"},"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340484","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340484","notes":"https://gitlab.com/api/v4/projects/278964/issues/340484/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340484/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340484","relative":"#340484","full":"gitlab-org/gitlab#340484"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7292,"epic":{"id":405890,"iid":7292,"title":"Group level views for the CI/CD tunnel","url":"/groups/gitlab-org/-/epics/7292","group_id":9970,"human_readable_end_date":"Dec 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":93374448,"iid":340478,"project_id":278964,"title":"Advanced Search: MigrationWorker sometimes picks the wrong migration","description":"Currently in our sidekiq logs we have:\n\n```\nMigrationWorker: migration[ApplyMaxAnalyzedOffset] did not execute migrate method since it was already executed. Waiting for migration to complete\nMigrationWorker: migration[ApplyMaxAnalyzedOffset] updating with completed: false\n```\n\nwhich means that `Elastic::MigrationWorker` returns an obsolete `ApplyMaxAnalyzedOffset` migration as current migration. That breaks the migration logic. We should find the problem and fix it since it effectively halted all migrations.\n\n## Additional details\n\n```\n[ gprd ] production\u003e Elastic::MigrationRecord.load_versions(completed: false)\n=\u003e [20210825110300, 20201105181100]\n```","state":"closed","created_at":"2021-09-09T07:30:16.952Z","updated_at":"2022-05-30T16:30:05.128Z","closed_at":"2021-09-14T15:01:55.261Z","closed_by":{"id":5054237,"username":"dgruzd","name":"Dmitry Gruzd","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5054237/avatar.png","web_url":"https://gitlab.com/dgruzd"},"labels":["Category:Global Search","Pick into 14.0","Pick into 14.1","Pick into 14.2","advanced search","customer","devops::data_stores","group::global search","priority::1","section::enablement","severity::1","type::bug"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":5054237,"username":"dgruzd","name":"Dmitry Gruzd","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5054237/avatar.png","web_url":"https://gitlab.com/dgruzd"}],"author":{"id":5054237,"username":"dgruzd","name":"Dmitry Gruzd","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5054237/avatar.png","web_url":"https://gitlab.com/dgruzd"},"type":"ISSUE","assignee":{"id":5054237,"username":"dgruzd","name":"Dmitry Gruzd","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5054237/avatar.png","web_url":"https://gitlab.com/dgruzd"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340478","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340478","notes":"https://gitlab.com/api/v4/projects/278964/issues/340478/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340478/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340478","relative":"#340478","full":"gitlab-org/gitlab#340478"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":93361316,"iid":340466,"project_id":278964,"title":"GraphQL API: project and group fields argument fullPath should be case insensitive","description":"### Summary\n\n`fullPath` field in our GraphQL API should be case insensitive since our full paths are intended to be so\n\n### Steps to reproduce\n\nOpen https://gitlab.com/-/graphql-explorer\nUse query\n\n```graphql\n{\n  project(fullPath: \"gitlab-org/Gitlab\") {\n    id\n  }\n  group(fullPath: \"Gitlab-org\"){\n    id\n  }\n}\n```\n\nExpected result:\n```js\n{\n  \"data\": {\n    \"project\": {\n      \"id\": \"gid://gitlab/Project/278964\"\n    },\n    \"group\": {\n      \"id\": \"gid://gitlab/Group/9970\"\n    }\n  }\n}\n```\n\nActual result: \n\n```js\n{\n  \"data\": {\n    \"project\": null,\n    \"group\": null\n  }\n}\n```","state":"closed","created_at":"2021-09-09T01:13:38.785Z","updated_at":"2021-09-16T21:15:58.949Z","closed_at":"2021-09-14T03:03:40.755Z","closed_by":{"id":1230286,"username":"xanf","name":"Illya Klymov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ce4d16557b46210fa57641531b570dd4?s=80\u0026d=identicon","web_url":"https://gitlab.com/xanf"},"labels":["Category:Importers","GraphQL","Importer:GitLab Migration","Next Up","backend","devops::manage","frontend","group::import","section::dev","type::bug","workflow::verification"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":1230286,"username":"xanf","name":"Illya Klymov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ce4d16557b46210fa57641531b570dd4?s=80\u0026d=identicon","web_url":"https://gitlab.com/xanf"}],"author":{"id":1230286,"username":"xanf","name":"Illya Klymov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ce4d16557b46210fa57641531b570dd4?s=80\u0026d=identicon","web_url":"https://gitlab.com/xanf"},"type":"ISSUE","assignee":{"id":1230286,"username":"xanf","name":"Illya Klymov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ce4d16557b46210fa57641531b570dd4?s=80\u0026d=identicon","web_url":"https://gitlab.com/xanf"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340466","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340466","notes":"https://gitlab.com/api/v4/projects/278964/issues/340466/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340466/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340466","relative":"#340466","full":"gitlab-org/gitlab#340466"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":93358871,"iid":340462,"project_id":278964,"title":"Follow-up from \"Fix loading performance of policies list\"","description":"The following discussion from !69916 should be addressed:\n\n- [ ] @aturinske started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/69916#note_672790603): \n\n    \u003e there is no mention of `isLoadingNetworkPolicyStatistics` in the code for this component, so this seems to be not necessary, but I will not pull it out in this MR. I will create a follow-up to do that.","state":"closed","created_at":"2021-09-08T23:14:58.529Z","updated_at":"2021-11-18T07:03:12.942Z","closed_at":"2021-10-28T17:28:55.739Z","closed_by":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"labels":["Deliverable","auto updated","devops::govern","frontend","frontend-weight::2","group::security policies","section::sec","workflow::verification"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"}],"author":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"type":"ISSUE","assignee":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340462","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340462","notes":"https://gitlab.com/api/v4/projects/278964/issues/340462/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340462/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340462","relative":"#340462","full":"gitlab-org/gitlab#340462"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":93358397,"iid":340461,"project_id":278964,"title":"Refactor Dependency Proxy permissions","description":"The following discussion from !68900 should be addressed:\n\n- [ ] `@mayra-cabrera` started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/68900#note_672777620):  (+1 comment)\n\n    \u003e Interesting. I would've assumed `admin_*` already include `write_*` powers\n\nAs we've started to add more functionality to the Dependency Proxy, some of the previously existing permissions don't make the most sense or read as well as they could. We should clean them up and make them consistent with other read/write/destroy/admin permissions.\n\nWe should also remove the [instance configuration checks](https://gitlab.com/gitlab-org/gitlab/-/blob/579e40de9c9421f76aec2f222e84c5938ff40cf0/app/policies/group_policy.rb#L50) from the policies. These checks should occur outside of the permissions check. See [this note](https://gitlab.com/gitlab-org/gitlab/-/issues/342058#note_802399754) for more background about this change.","state":"closed","created_at":"2021-09-08T22:51:30.124Z","updated_at":"2022-05-21T14:23:14.613Z","closed_at":"2022-05-21T14:23:02.670Z","closed_by":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"labels":["Category:Dependency Proxy","backend","devops::package","group::package registry","maintenance::refactor","section::ops","type::maintenance","workflow::in dev"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"}],"author":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"type":"ISSUE","assignee":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340461","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340461","notes":"https://gitlab.com/api/v4/projects/278964/issues/340461/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340461/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340461","relative":"#340461","full":"gitlab-org/gitlab#340461"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":93355181,"iid":340458,"project_id":278964,"title":"Update security_orchestration_policy JSON schema to support SAST policies","description":"\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\u003c!--\nA brief explanation of the why, not the what or how. Assume the reader doesn't know the\nbackground and won't have time to dig-up information from comment threads.\n--\u003e\n\nTo support \u00266586 we will need to allow SAST scans to be a valid scan action in the security orchestration policy schema.\n\nSAST scans will use the exact same fields as secret detection, so we only need to add `sast` as a possible value for the `scan` property.\n\n```yaml\nscan_execution_policy:\n- name: SAST scan\n  description: description\n  enabled: true\n  rules:\n  - type: pipeline\n    branches:\n    - master\n  actions:\n  - scan: sast\n```\n\n## Relevant links\n\u003c!--\nInformation that the developer might need to refer to when implementing the issue.\n\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e)\n  - [Design 1](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n  - [Design 2](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n- [Similar implementation](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/\u003cid\u003e)\n--\u003e\n\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [ ] Documentation:\n- [ ] Feature flag:\n- [ ] Performance:\n- [ ] Testing:\n\n\n## Implementation plan\n\u003c!--\nSteps and the parts of the code that will need to get updated. The plan can also\ncall-out responsibilities for other team members or teams.\n\ne.g.:\n\n- [ ] ~frontend Step 1\n  - [ ] `@person` Step 1a\n- [ ] ~frontend Step 2\n\n--\u003e\n\n- [x] ~backend Add `sast` as an enum for the `scan` property to [ee/app/validators/json_schemas/security_orchestration_policy.json](https://gitlab.com/gitlab-org/gitlab/-/blob/a22c7bc5fd9fc5c21006cc49acd8ed58da778a04/ee/app/validators/json_schemas/security_orchestration_policy.json#L79)\n- [x] ~backend Add a new test case to [ee/spec/models/security/orchestration_policy_configuration_spec.rb](https://gitlab.com/gitlab-org/gitlab/-/blob/a22c7bc5fd9fc5c21006cc49acd8ed58da778a04/ee/spec/models/security/orchestration_policy_configuration_spec.rb) to test that the policy validates when the scan type is `sast`.\n\n\u003c!--\nWorkflow and other relevant labels\n\n# ~\"group::\" ~\"Category:\" ~\"GitLab Ultimate\"\nOther settings you might want to include when creating the issue.\n\n# /assign @\n# /epic \u0026\n--\u003e","state":"closed","created_at":"2021-09-08T20:41:57.967Z","updated_at":"2021-12-06T03:41:55.276Z","closed_at":"2021-12-02T05:42:45.006Z","closed_by":{"id":8401507,"username":"sashi_kumar","name":"Sashi Kumar Kumaresan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8401507/avatar.png","web_url":"https://gitlab.com/sashi_kumar"},"labels":["Category:Security Policy Management","GitLab Ultimate","backend","devops::govern","direction","feature::addition","group::security policies","missed:14.5","section::sec","type::feature","workflow::verification"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":8401507,"username":"sashi_kumar","name":"Sashi Kumar Kumaresan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8401507/avatar.png","web_url":"https://gitlab.com/sashi_kumar"}],"author":{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"},"type":"ISSUE","assignee":{"id":8401507,"username":"sashi_kumar","name":"Sashi Kumar Kumaresan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8401507/avatar.png","web_url":"https://gitlab.com/sashi_kumar"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340458","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":9,"completed_count":2},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 9 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340458","notes":"https://gitlab.com/api/v4/projects/278964/issues/340458/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340458/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340458","relative":"#340458","full":"gitlab-org/gitlab#340458"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6586,"epic":{"id":328650,"iid":6586,"title":"Add Support for SAST to Security Orchestration Policies","url":"/groups/gitlab-org/-/epics/6586","group_id":9970,"human_readable_end_date":"Dec 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":93351151,"iid":340446,"project_id":278964,"title":"GitHub Importer: Unable to show diffs after import","description":"## Problem\n\nRecently a customer identified an issue when importing diffs from GitHub. The issue is that comments on older diffs (commits) and of highlight (although not confirmed causation) when they contain suggestions - the diffs aren’t visible:\n\n![Screen_Shot_2021-09-07_at_2.39.00_PM](/uploads/007449e461becd838a710a931c45311b/Screen_Shot_2021-09-07_at_2.39.00_PM.png)\n\nIn other words, if there is a suggested change on an outdated diff in GH, then GL has problems and says “Unable to Load Diff”. Here is an example in GH: https://github.com/flowower/private-test/pull/2 and here is what it looks like after the import: https://gitlab.com/m_gill/private-test/-/merge_requests/2\n\nClicking `try again` in this context gives an error in [sentry](https://sentry.gitlab.net/gitlab/gitlabcom/issues/2770790/events/51773695/). The error is an `AbstractController::DoubleRenderError`, but that is not likely the actual problem.\n\nSome examples that show this problem:\n\n- GitHub MR 1 - https://github.com/flowower/private-test/pull/1\n- GitLab Import of MR 1 - https://gitlab.com/m_gill/private-test/-/merge_requests/1\n- GitHub MR 2 - https://github.com/flowower/private-test/pull/2\n- GitLab Import of MR 2 - https://gitlab.com/m_gill/private-test/-/merge_requests/2\n\nA few initial interesting findings:\n\n- In the imported MR - the viewer shows that the thread is on an `outdated diff` even though it’s the latest commit SHA\n- Comments coming from Github are associated with commits (Github doesn’t use push events to generate versions)\n- Comments coming from Github are all associated with the latest commit once imported to GitLab, even though in Github they’re left on previous commits\n\nPrevious work in this area:\n\n- Discussions around positioning: https://gitlab.com/gitlab-org/gitlab/-/issues/296551#note_593031969\n- https://gitlab.com/gitlab-org/gitlab/-/merge_requests/18510\n- https://gitlab.com/gitlab-org/gitlab/-/issues/27715\n- PoC - diff_refs for legacy: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/62557\n\nAdditional customer-specific information can be found in this [(internal) document](https://docs.google.com/document/d/1v1zjzQ98s_xvYC16n7N2VR1EZOgDLatKYiQvpqKYajk/edit#)\n\n## Investigation findings\n\n**From the [spike issue](https://gitlab.com/gitlab-org/gitlab/-/issues/340330#note_671955596):**\n\nI created my own GH project for testing (https://github.com/patrickbajao/gl-import) as I don't have access to Michelle's project. If someone needs access to this repo, feel free to ping me with you GH handle and I'll invite you.\n\nImported that project to my GDK so I can investigate the bug a little bit further (e.g. access the DB records).\n\n### First issue: Expanding outdated thread can't load the diff\n\nAfter importing, I was able to replicate the same issue as can be seen on https://gitlab.com/m_gill/private-test/-/merge_requests/2: the discussion on old thread cannot load diff when expanded.\n\nFurther investigation shows that this is because whenever we expand a discussion, we try to find the note record so we can display the diff by discussion ID. For some reason, the `LegacyDiffNote` generated after import has no `discussion_id` in the DB (it's `nil`). Since it's `nil`, it can't be found so we see that error state. We need to find the note so we can display the diff stored in that record.\n\nLooking at the `Note` model (parent of `LegacyDiffNote`), we require presence of `discussion_id` which makes me wonder how it was bypassed. Digging further, found out that the `DiffNoteImporter` code does not set it and we use [bulk_insert to create the records](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/github_import/importer/diff_note_importer.rb#L49). That explains why `nil` `discussion_id` was allowed as `bulk_insert` bypasses validation and callbacks.\n\n@georgekoltsov would you be able to answer if it's intentional that we aren't setting the `discussion_id`? Asking because I'm not familiar with the import logic. If it's not intentional, can we build a `discussion_id` for every `LegacyDiffNote` the importer creates?\n\nHere's a PoC MR I have that does it: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/69842. But I wonder if there are repercussions of doing this from import perspective.\n\n### Second issue: Commit shown on outdated thread isn't accurate\n\nAnother finding is that the commit shown on the \"started a thread on an outdated change in commit\" text is not the correct commit. The commit shown is the latest commit which made the diff outdated.\n\nLooking at the [same ](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/github_import/importer/diff_note_importer.rb#L33)`DiffNoteImporter` code, we just pass the `note.commit_id` when creating it. The `note` in this context is not a `LegacyDiffNote` yet but a `Gitlab::GithubImport::Representation::DiffNote`.\n\nBased on my understanding of the flow, this is the `commit_id` we get from GH's API. Looking at their API though (https://docs.github.com/en/rest/reference/pulls#list-review-comments-on-a-pull-request), there seems to be another property called `original_commit_id` which is different from `commit_id`.\n\nTried it out also in the same PoC MR (https://gitlab.com/gitlab-org/gitlab/-/merge_requests/69842) and it's now showing the appropriate commit on import.\n\nAnother question @georgekoltsov, would you know why we're using `commit_id` instead of `original_commit_id`?\n\nBased on my testing, the PoC MR fixes the issues described in this issue. It'll only fix the problem for succeeding imports. Old imports need to be fixed differently by backfilling data which may be more complex. But I do want to confirm with @georgekoltsov first because they may be already looked at before and may cause some issues with the importer.\n\n## Proposal\n\nImplement fixes based on the findings/solutions suggested in https://gitlab.com/gitlab-org/gitlab/-/issues/340330#note_671955596 and the PoC MR: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/69842.","state":"closed","created_at":"2021-09-08T18:50:03.655Z","updated_at":"2022-02-11T12:53:18.891Z","closed_at":"2021-09-29T12:52:18.820Z","closed_by":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"labels":["Category:Importers","Importer:GitHub","Next Up","Observability","backend","customer","devops::manage","estimation::completed","group::import","milestone::p1","missed:14.3","section::dev","type::bug","workflow::production"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"}],"author":{"id":5247073,"username":"hdelalic","name":"Haris Delalić","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5247073/avatar.png","web_url":"https://gitlab.com/hdelalic"},"type":"ISSUE","assignee":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340446","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340446","notes":"https://gitlab.com/api/v4/projects/278964/issues/340446/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340446/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340446","relative":"#340446","full":"gitlab-org/gitlab#340446"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6618,"epic":{"id":332691,"iid":6618,"title":"Manage:Import Customer Escalations","url":"/groups/gitlab-org/-/epics/6618","group_id":9970,"human_readable_end_date":"Dec 16, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":93350849,"iid":340444,"project_id":278964,"title":"Clarify merge request approval section description","description":"## Problem to solve\n\nThe generic message for merge request approvals does not adequately describe what the section entails. Link [separation of duties](https://docs.gitlab.com/ee/user/compliance/compliance_report/index.html#approval-status-and-separation-of-duties) to docs.\n\n## Proposal\n\nUpdate the text to clarify each section in its respective area and maintain consistency.\n\n**Admin Area**\n\nMerge request {-(MR)-} approvals   \n\n\u003e We do not use \"MR\" anymore\n\n{-Configure approvals by authors and committers on all projects.-}   \n{+Enforce separation of duties for all projects. Learn more.+}\n\n\u003e I'm trying to communicate the intent of the feature, and make more consistent message across the various layers\n\n**Group**\n\n{-Define approval settings. Learn more.-}   \n{+Enforce separation of duties for all projects. Learn more.+}\n\n\u003e Keep it consistent with the Admin Area.\n\n**Project**\n\nMerge request {-(MR)-} approvals\n\n{-Define approval settings. Learn more.-}   \n{+Define approval rules and settings to ensure separation of duties for new merge requests. Learn more.+}\n\n\u003e Mere request approvals only impact future merge requests. They do not retroactively update existing ones, which I think needs to be communicated.","state":"closed","created_at":"2021-09-08T18:42:35.448Z","updated_at":"2021-11-04T15:40:26.174Z","closed_at":"2021-11-04T15:40:26.147Z","closed_by":{"id":6193108,"username":"aregnery","name":"Austin Regnery","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6193108/avatar.png","web_url":"https://gitlab.com/aregnery"},"labels":["Category:Compliance Management","GitLab Premium","devops::manage","feature::enhancement","group::compliance","priority::4","section::dev","type::feature","workflow::production"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":6193108,"username":"aregnery","name":"Austin Regnery","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6193108/avatar.png","web_url":"https://gitlab.com/aregnery"}],"author":{"id":6193108,"username":"aregnery","name":"Austin Regnery","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6193108/avatar.png","web_url":"https://gitlab.com/aregnery"},"type":"ISSUE","assignee":{"id":6193108,"username":"aregnery","name":"Austin Regnery","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6193108/avatar.png","web_url":"https://gitlab.com/aregnery"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340444","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340444","notes":"https://gitlab.com/api/v4/projects/278964/issues/340444/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340444/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340444","relative":"#340444","full":"gitlab-org/gitlab#340444"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5957,"epic":{"id":266916,"iid":5957,"title":"Group-level settings for merge request approval SETTINGS in child projects","url":"/groups/gitlab-org/-/epics/5957","group_id":9970,"human_readable_end_date":"Jan 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":93350766,"iid":340443,"project_id":278964,"title":"Gitlab::ImportExport::Error: gzip: stdin has more than one entry--rest ignored","description":"### Details\n\n- https://sentry.gitlab.net/gitlab/gitlabcom/issues/677022/?referrer=gitlab_plugin\n\n```\nGitlab::ImportExport::Error: gzip: stdin has more than one entry--rest ignored\ntar: Child returned status 2\ntar: Error is not recoverable: exiting now\n```\n- This can happen when the file is not the right format as discussed [here](https://superuser.com/questions/1237854/gzip-stdin-has-more-than-one-entry-rest-ignored-and-gzip-tmp-gz-has-more-t)\n- https://sentry.gitlab.net/gitlab/gitlabcom/issues/678189/?environment=gprd is similar but for another incorrect format\n\n### Proposal/Plan\n\n- replicate the issue locally/in test somehow and perhaps validate this on the form instead of assuming input is ok \n   - somewhere in http://gitlab.com/gitlaborg/gitlab/blob/b228b1568657c2a5d5724e6c7eca899bd47193e2/app/controllers/concerns/workhorse_authorization.rb#L26-26 \n- don't assume just because it has the correct extension it is actually in the correct format? \n   - else we could also surface this error somehow to the user outside of the form validation.\n   - semi-related https://gitlab.com/gitlab-org/gitlab/-/issues/196579","state":"closed","created_at":"2021-09-08T18:40:58.167Z","updated_at":"2022-10-10T03:02:57.522Z","closed_at":"2022-10-10T03:02:57.475Z","closed_by":{"id":1786152,"username":"gitlab-bot","name":"🤖 GitLab Bot 🤖","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1786152/avatar.png","web_url":"https://gitlab.com/gitlab-bot"},"labels":["Category:Importers","Impact::Medium","[deprecated] Accepting merge requests","auto closed","devops::manage","group::import","section::dev","severity::4","stale","type::bug","vintage"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":402401,"username":"jobbot","name":"Bot","state":"active","avatar_url":"https://secure.gravatar.com/avatar/aaa6738f1ebf25404010884af511b0e7?s=80\u0026d=identicon","web_url":"https://gitlab.com/jobbot"},"type":"ISSUE","assignee":null,"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340443","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340443","notes":"https://gitlab.com/api/v4/projects/278964/issues/340443/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340443/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340443","relative":"#340443","full":"gitlab-org/gitlab#340443"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6680,"epic":{"id":342207,"iid":6680,"title":"Importer Availability","url":"/groups/gitlab-org/-/epics/6680","group_id":9970},"iteration":null,"health_status":null},{"id":93349054,"iid":340439,"project_id":278964,"title":"ActiveRecord::RecordInvalid: Validation failed: Name regex can't be blank","description":"### Details \n\n- https://sentry.gitlab.net/gitlab/gitlabcom/issues/2782704/?referrer=gitlab_plugin\n\n```\nActiveRecord::RecordInvalid: Validation failed: Name regex can't be blank\n  activerecord (6.1.3.2) lib/active_record/validations.rb:80:in `raise_validation_error'\n  activerecord (6.1.3.2) lib/active_record/validations.rb:53:in `save!'\n  activerecord (6.1.3.2) lib/active_record/transactions.rb:302:in `block in save!'\n  activerecord (6.1.3.2) lib/active_record/transactions.rb:354:in `block in with_transaction_returning_status'\n  activerecord (6.1.3.2) lib/active_record/connection_adapters/abstract/database_statements.rb:320:in `block in transaction'\n...\n(143 additional frame(s) were not displayed)\n```\n\n- Container expiration policy import doesn't have name_regex on import - impact(326 events 12 users)\n\n\n### Plan\n \n- valid error - looks like validation may have been added after some records already existed - https://gitlab.com/gitlab-org/gitlab/-/merge_requests/44757/diffs#note_434518691 shows why we may be hitting this(or could be an old instance of GitLab importing from) \n- I believe disabling these policies or enabling as `.*` that are invalid for name_regex on import is the correct path to take here based on that comment.","state":"closed","created_at":"2021-09-08T18:19:45.059Z","updated_at":"2022-09-19T03:03:12.338Z","closed_at":"2022-09-19T03:03:12.317Z","closed_by":{"id":1786152,"username":"gitlab-bot","name":"🤖 GitLab Bot 🤖","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1786152/avatar.png","web_url":"https://gitlab.com/gitlab-bot"},"labels":["Category:Importers","Impact::Medium","[deprecated] Accepting merge requests","auto closed","devops::manage","group::import","section::dev","severity::4","stale","type::bug","vintage"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":402401,"username":"jobbot","name":"Bot","state":"active","avatar_url":"https://secure.gravatar.com/avatar/aaa6738f1ebf25404010884af511b0e7?s=80\u0026d=identicon","web_url":"https://gitlab.com/jobbot"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340439","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340439","notes":"https://gitlab.com/api/v4/projects/278964/issues/340439/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340439/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340439","relative":"#340439","full":"gitlab-org/gitlab#340439"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6680,"epic":{"id":342207,"iid":6680,"title":"Importer Availability","url":"/groups/gitlab-org/-/epics/6680","group_id":9970},"iteration":null,"health_status":null},{"id":93348215,"iid":340438,"project_id":278964,"title":"Addressable::URI::InvalidURIError: Invalid scheme format: '-c http.sslVerify=false https'","description":"https://sentry.gitlab.net/gitlab/gitlabcom/issues/2769453/?referrer=gitlab_plugin\n\n```\nAddressable::URI::InvalidURIError: Invalid scheme format: '-c http.sslVerify=false https'\n  lib/gitlab/url_sanitizer.rb:77:in `parse_url'\n    url = Addressable::URI.parse(url)\n  lib/gitlab/url_sanitizer.rb:37:in `initialize'\n    @url = parse_url(url)\n  app/controllers/concerns/import_url_params.rb:17:in `new'\n    Gitlab::UrlSanitizer.new(\n  app/controllers/concerns/import_url_params.rb:17:in `import_params_to_full_url'\n    Gitlab::UrlSanitizer.new(\n  app/controllers/concerns/import_url_params.rb:8:in `import_url_params'\n    import_url: import_params_to_full_url(params[:project]),\n...\n(151 additional frame(s) were not displayed)\n```\n\n### Details\n\n- Invalid scheme format: 'git@gitlab.com' - coming from params[:import_url] in http://gitlab.com/gitlab-org/gitlab/blob/b228b1568657c2a5d5724e6c7eca899bd47193e2/app/controllers/concerns/import_url_params.rb#L18-18\n- On http://127.0.0.1:3000/projects/new#import_project page the user picked repo by url and then entered a git@gitlab.com instead of git://git@gitlab.com: for the Git repository URL perhaps\n\n### Plan\n\n- better form validation in the form/UI to stay out of that situation","state":"closed","created_at":"2021-09-08T18:04:03.048Z","updated_at":"2022-09-19T03:03:13.782Z","closed_at":"2022-09-19T03:03:13.763Z","closed_by":{"id":1786152,"username":"gitlab-bot","name":"🤖 GitLab Bot 🤖","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1786152/avatar.png","web_url":"https://gitlab.com/gitlab-bot"},"labels":["Category:Importers","Impact::Low","[deprecated] Accepting merge requests","auto closed","devops::manage","group::import","section::dev","severity::4","stale","type::bug","vintage"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":402401,"username":"jobbot","name":"Bot","state":"active","avatar_url":"https://secure.gravatar.com/avatar/aaa6738f1ebf25404010884af511b0e7?s=80\u0026d=identicon","web_url":"https://gitlab.com/jobbot"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340438","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340438","notes":"https://gitlab.com/api/v4/projects/278964/issues/340438/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340438/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340438","relative":"#340438","full":"gitlab-org/gitlab#340438"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6680,"epic":{"id":342207,"iid":6680,"title":"Importer Availability","url":"/groups/gitlab-org/-/epics/6680","group_id":9970},"iteration":null,"health_status":null},{"id":93347975,"iid":340437,"project_id":278964,"title":"Advanced Search: Create new rake task with integration details","description":"_This issue is inspired by [this slack thread](https://gitlab.slack.com/archives/C3TMLK465/p1631097555086300) (internal link)_\n\nWe should create a new rake task (suggested name `gitlab:advancedsearch:info` so the name isn't tied to Elasticsearch) in order to help support engineers and self-managed admins. It should output all the details related to the Advanced Search integration.\n\nWe might find some inspiration from the `gitlab:env:info` rake task regarding the output style.\n\nHere is a draft list of features:\n- Search server distribution and version\n- Output all gitlab indices, aliases, number of shards, replicas, and document count. Maybe even the size of the index.\n- Main Advanced Search settings: `Elasticsearch indexing`, `Search with Elasticsearch enabled`, and `Pause Elasticsearch indexing`, `Maximum file size indexed (KiB)`, and so on.\n- Current size of initial and incremental queue\n- Indexing status\n- Number of pending migrations and their names\n- Current active migration and its state\n- Warning if there's a halted migration\n- Warning if some indexes have write disabled (`index.blocks.write` to `true`)\n- Warning if some indexes are set to read-only (`index.blocks.read_only` or `index.blocks.read_only_allow_delete` to `true`).\n- Warning if some indexes have read disabled (`index.blocks.read` set to `true`)\n- Warning if some indexes have index metadata reads and writes disabled (`index.blocks.metadata`set to `true`)\n\nIt should gracefully handle exceptions. For example, it shouldn't fail if the search server is down.\n\n@vstoianovici @JohnMcGuire @changzhengliu @terrichu WDYT?","state":"closed","created_at":"2021-09-08T17:58:07.557Z","updated_at":"2022-07-21T12:07:31.672Z","closed_at":"2022-07-13T15:29:15.178Z","closed_by":{"id":4888751,"username":"changzhengliu","name":"Changzheng Liu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4888751/avatar.png","web_url":"https://gitlab.com/changzhengliu"},"labels":["Category:Global Search","Deliverable","auto updated","devops::data_stores","good for new contributors","group::global search","section::enablement","type::feature","workflow::in review"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":5054237,"username":"dgruzd","name":"Dmitry Gruzd","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5054237/avatar.png","web_url":"https://gitlab.com/dgruzd"}],"author":{"id":5054237,"username":"dgruzd","name":"Dmitry Gruzd","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5054237/avatar.png","web_url":"https://gitlab.com/dgruzd"},"type":"ISSUE","assignee":{"id":5054237,"username":"dgruzd","name":"Dmitry Gruzd","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5054237/avatar.png","web_url":"https://gitlab.com/dgruzd"},"user_notes_count":25,"merge_requests_count":0,"upvotes":9,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340437","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340437","notes":"https://gitlab.com/api/v4/projects/278964/issues/340437/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340437/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340437","relative":"#340437","full":"gitlab-org/gitlab#340437"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7941,"epic":{"id":508357,"iid":7941,"title":"Draft: Advanced Search: Improve diagnostic information available to admins","url":"/groups/gitlab-org/-/epics/7941","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":93347708,"iid":340435,"project_id":278964,"title":"Projects::ImportService Errors with exit status 128","description":"[Git error - impact(179 events and 105 users)](https://sentry.gitlab.net/gitlab/gitlabcom/issues/2782522/?environment=gprd)\n\n### Details\n\n* `Gitlab::Git::CommandError` - `$? = 128` from http://gitlab.com/gitlab-org/gitlab/blob/b228b1568657c2a5d5724e6c7eca899bd47193e2/lib/gitlab/git/wraps_gitaly_errors.rb#L14-14 indicating `GRPC::BadStatus` was received\n* GRPC Error\n```json\n{\"created\":\"@1630923124.508453192\",\"description\":\"Error received from peer ipv4:10.221.2.160:9999\",\"file\":\"src/core/lib/surface/call.cc\",\"file_line\":1055,\"grpc_message\":\"CreateRepositoryFromURL: clone cmd wait: fatal: unable to access 'https://gitlab.com/ltp-digital/templates/project_template/': The requested URL returned error: 301\\n: exit status 128\",\"grpc_status\":13}\n```\n\n### Iteration :footprints: \n\nIt seems that there are different errors that follow the pattern: \n\n`Error importing repository *** into *** - 13:CreateRepositoryFromURL: clone cmd wait: fatal: [SPECIFIC ERROR] : exit status 128.`\n\nExamples can be seen [here](https://log.gprd.gitlab.net/goto/127a063f2b335554275c71eb2ef93af6) (list not exhaustive):\n1. `could not read Username for [FILTERED] terminal prompts disabled` - https://gitlab.com/gitlab-org/gitlab/-/issues/270584\n1. `unable to access [FILTERED] The requested URL returned error: 301/302` - https://gitlab.com/gitlab-org/gitlab/-/issues/32216\n1. `unable to access [FILTERED] The requested URL returned error: 500`\n1. `unable to access [FILTERED] OpenSSL SSL_connect: Connection reset by peer in connection to www.***.com:443`\n1. `unable to connect to ***.amazonaws.com: ***.amazonaws.com[0: 34.246.52.214]: errno=Connection timed out`\n1. `repository [FILTERED] not found`\n\nThese could potentially be worked on one (or few) at a time, which can be decided during refinement. The issues are listed roughly in order or frequency.\n\n### Plan\n\n-  See latest update - https://gitlab.com/gitlab-org/gitlab/-/issues/340435#note_713249429","state":"closed","created_at":"2021-09-08T17:51:40.081Z","updated_at":"2022-02-24T17:56:31.074Z","closed_at":"2022-02-24T17:56:31.032Z","closed_by":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"labels":["Category:Importers","Impact::Medium","[deprecated] Accepting merge requests","auto updated","backend","bug::availability","devops::manage","group::import","section::dev","severity::3","type::bug"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"type":"ISSUE","assignee":null,"user_notes_count":32,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340435","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340435","notes":"https://gitlab.com/api/v4/projects/278964/issues/340435/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340435/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340435","relative":"#340435","full":"gitlab-org/gitlab#340435"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6680,"epic":{"id":342207,"iid":6680,"title":"Importer Availability","url":"/groups/gitlab-org/-/epics/6680","group_id":9970},"iteration":null,"health_status":null},{"id":93345474,"iid":340430,"project_id":278964,"title":"Make DAST scan schedule editable","description":"This is a small follow-up to https://gitlab.com/gitlab-org/gitlab/-/issues/328752. We previously added the ability to create a DAST scan with a schedule. However, the controller currently doesn't expose schedules data to the frontend. As a result, the form isn't properly populated when editing a scan. Let's make sure all the necessary data is exposed.","state":"closed","created_at":"2021-09-08T16:56:56.393Z","updated_at":"2021-10-18T07:02:50.554Z","closed_at":"2021-10-12T08:38:55.718Z","closed_by":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"labels":["Category:DAST","Deliverable","[deprecated] Accepting merge requests","backend","devops::secure","feature flag","feature::addition","group::dynamic analysis","missed-deliverable","missed:14.3","section::sec","type::feature","workflow::in review"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[],"author":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340430","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340430","notes":"https://gitlab.com/api/v4/projects/278964/issues/340430/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340430/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340430","relative":"#340430","full":"gitlab-org/gitlab#340430"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4876,"epic":{"id":142315,"iid":4876,"title":"On-demand DAST scan scheduler","url":"/groups/gitlab-org/-/epics/4876","group_id":9970,"human_readable_end_date":"Feb 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":93344072,"iid":340426,"project_id":278964,"title":"Delete Marketo hook records from GitLab.com","description":"## Description\n\nAs part of cleaning up marketo-tools.gitlap.com (https://gitlab.com/gitlab-com/gl-infra/infrastructure/-/issues/2331), we want to get rid of the system hook that's pointed at it. Deleting it normally is not tenable right now (see the rationale in https://gitlab.com/gitlab-com/gl-infra/infrastructure/-/issues/2331#note_671931952), so it was changed the webhook type from `SystemHook` to `ProjectHook` so it's no longer discoverable by the application see: https://gitlab.com/gitlab-com/gl-infra/production/-/issues/5501.\n\nWe have to write a migration to:\n\n* On Gitlab.com, delete `web_hook_logs` records related to `WebHook.find(67407)`\n* On Gitlab.com, delete `WebHook.find(67407)` record.\n\n\n`WebHook.find(67407)` should return `type = 'ProjectHook', project_id = nil`.\n\nThis is GitLab.com specific, shall we run this in the console as a [Production Change](https://gitlab.com/gitlab-com/gl-infra/production/-/blob/master/.gitlab/issue_templates/change_management.md)?","state":"closed","created_at":"2021-09-08T16:21:13.054Z","updated_at":"2022-11-24T18:22:22.017Z","closed_at":"2022-04-12T13:05:37.857Z","closed_by":{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"},"labels":["Category:Webhooks","Stretch","auto updated","backend","database","devops::manage","gitlab.com","group::integrations","maintenance::refactor","missed:14.9","section::dev","type::maintenance"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"}],"author":{"id":1315742,"username":"arturoherrero","name":"Arturo Herrero","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1315742/avatar.png","web_url":"https://gitlab.com/arturoherrero"},"type":"ISSUE","assignee":{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"},"user_notes_count":26,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340426","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340426","notes":"https://gitlab.com/api/v4/projects/278964/issues/340426/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340426/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340426","relative":"#340426","full":"gitlab-org/gitlab#340426"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":93335214,"iid":340406,"project_id":278964,"title":"[Bug] Compliance report shows empty author for some merge events","description":"## Problem to solve\n\nAs noted by @aregnery on [slack](https://gitlab.slack.com/archives/CN7C8029H/p1631049286077100) (internal link):\n\n\u003e The compliance dashboard says merged by is `unknown user` but if I look at the MR it says its John Doe21 , and that user does indeed exist.\n\n## Screenshots\n\n| Merge request (shows author) | Compliance report (unknown user) |\n| ------ | ------ |\n| ![image](/uploads/4cf102d666f603f1240b911266b2ed6b/image.png) | ![image](/uploads/f400b272dedbfd4b13d6ef248c4c5552/image.png) |\n\n## Implementation outline\n\nI managed to get this working by recreating the merge request metrics when the `merged_by_id` is nil, see the patch:\n\n\u003cdetails\u003e\u003csummary\u003ePatch\u003c/summary\u003e\n\n```patch\ndiff --git a/ee/app/serializers/merge_request_compliance_entity.rb b/ee/app/serializers/merge_request_compliance_entity.rb\nindex e5d5e0e631e..ce60229d65c 100644\n--- a/ee/app/serializers/merge_request_compliance_entity.rb\n+++ b/ee/app/serializers/merge_request_compliance_entity.rb\n@@ -75,7 +75,7 @@ def approval_status\n   end\n \n   def merged_by\n-    merge_request.metrics.merged_by\n+    merge_request_metrics.merged_by\n   end\n \n   def target_branch_uri\n@@ -89,4 +89,18 @@ def source_branch_uri\n   def compliance_management_framework\n     merge_request.project\u0026.compliance_management_framework\n   end\n+\n+  private\n+\n+  def merge_request_metrics\n+    return merge_request.metrics if merge_request.metrics\u0026.merged_by_id\n+\n+    closed_event = merge_request.closed_event\n+    merge_event = merge_request.merge_event\n+\n+    MergeRequest::Metrics.new(latest_closed_at: closed_event\u0026.updated_at,\n+      latest_closed_by: closed_event\u0026.author,\n+      merged_at: merge_event\u0026.updated_at,\n+      merged_by: merge_event\u0026.author)\n+  end\n end\n```\n\n\u003c/details\u003e\n\nThe `merge_request_metrics` method could be shared with [merge_request_poll_cached_widget_entity.rb#L172](https://gitlab.com/gitlab-org/gitlab/blob/master/app/serializers/merge_request_poll_cached_widget_entity.rb#L172).\n\nI'm unsure why this is even needed? And also it looks like `merge_request_poll_cached_widget_entity` has some stale code surrounding the TODO comment. :thinking:","state":"closed","created_at":"2021-09-08T14:14:48.847Z","updated_at":"2022-03-14T14:43:12.419Z","closed_at":"2021-10-07T07:18:30.142Z","closed_by":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"labels":["Category:Compliance Management","backend","devops::manage","group::compliance","priority::2","section::dev","severity::4","type::bug","workflow::in review"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"}],"author":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"type":"ISSUE","assignee":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"user_notes_count":5,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340406","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340406","notes":"https://gitlab.com/api/v4/projects/278964/issues/340406/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340406/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340406","relative":"#340406","full":"gitlab-org/gitlab#340406"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":93330471,"iid":340403,"project_id":278964,"title":"Merge default branch protection and default initial branch together under repository \u0026 update the section header and description","description":"_This issue and linked pages contain information related to upcoming products, features, and functionality. \nIt is important to note that the information presented is for informational purposes only. Please do not rely on this information for purchasing or planning purposes. \nAs with all projects, the items mentioned in this video and linked pages are subject to change or delay. The development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc._\n\n### Release notes \n\n\u003c!-- What is the problem and solution you're proposing? This content sets the overall vision for the feature and serves as the release notes that will populate in various places, including the [release post blog](https://about.gitlab.com/releases/categories/releases/) and [Gitlab project releases](https://gitlab.com/gitlab-org/gitlab/-/releases). \" --\u003e\n\n### Problem to solve \n\n\u003c!-- What is the user problem you are trying to solve with this issue? --\u003e\n\n\u003e See full context in the [parent epic](https://gitlab.com/groups/gitlab-org/-/epics/6671)\n\nThe settings that pertain to the default branch are split between two places. This creates a confusing experience when looking for similarly describe features protections \u0026 name.\n\n### Proposal \n\n\u003c!-- Use this section to explain the feature and how it will work. It can be helpful to add technical details, design proposals, and links to related epics or issues. --\u003e\n\n**:one: Merge default branch protection and default initial branch together under repository**\n\n| Admin Area | Group/Subgroup |\n| ---------- | -------------- |\n| ![Admin_Area__After____Dropdown__Allow_](/uploads/4ebbdc2e52938b8e5d60db688f152b1d/Admin_Area__After____Dropdown__Allow_.png) | ![Subgroup__After____Dropdown__Unlocked_Owner_](/uploads/4ce9d75a3328febd55f9d6ff3d5b674e/Subgroup__After____Dropdown__Unlocked_Owner_.png) |\n\n**:two: Update the section header and description**\n\nAdmin Area\n```patch\n- Default initial branch name \n+ Default branch\n- The default name for the initial branch of new repositories created in the group.  \n+ Set the initial name and protections for the default branch of new repositories created in the instance.\n```\n\nGroup/Subgroup\n```patch\n- Default initial branch name \n+ Default branch\n- The default name for the initial branch of new repositories created in the instance. \n+ Set the initial name and protections for the default branch of new repositories created in the group.\n```\n\n**:three: Update form labels**\n```patch\n- Default initial branch name\n+ Initial default branch name\n- Default branch protection\n+ Initial default branch protection\n```\n\n**:four: Add help text to Allow owners checkbox**\n```patch\n+ Affects all new and existing groups.\n```\n\n\n\u003cdetails\u003e\u003csummary\u003eExisting logic that is not changing\u003c/summary\u003e\n\n- Admin Area defaults to `Fully protected`\n- [ ] Allow owners to manage default branch protection per group \u003cbr\u003e\n↳ Hides the field from view in groups for owners, but it's still visible for administrators\n- [x] Allow owners to manage default branch protection per group \u003cbr\u003e\n↳ Shows the field in groups for owners \u0026 administrators\n\n\u003c/details\u003e\n\n## Resources\n[Open Figma →](https://www.figma.com/file/mfWie0YINLyiQBui4ddzhM/%F0%9F%94%92-and-6671-Finer-grained-control-over-default-branch-protections?node-id=1949%3A19126)\n\n## Implementation plan\n\n~frontend estimated weight of :three: because of all the files that need to be changed.\n\n1. [x] Move `Default branch protection` to **Repository** settings\u2028:\n   1. Remove `Default branch protection` from `app/views/admin/application_settings/_visibility_and_access.html.haml`.\n   2. Add `Default branch protection` to **Admin \u003e Repository \u003e Default Branch**.\n   3. Remove `Default branch protection` from `app/views/groups/settings/_default_branch_protection.html.haml`.\n   4. Add `Default branch protection` to **Groups \u003e Repository \u003e Default Branch**.\n   - Note: The design shows the `Default branch protection` as a dropdown, but it has recently been converted to radio inputs https://gitlab.com/gitlab-org/gitlab/-/merge_requests/72721 and we should keep it that way. See the comment https://gitlab.com/gitlab-org/gitlab/-/issues/340403#note_837721641 for more context.\n\n2. [x] Move `Allow owners to manage default branch protection per group` to **Repository** settings\u2028:\n   1. Remove the setting from `app/views/admin/application_settings/_visibility_and_access.html.haml`.\n   1. Add the setting to **Admin \u003e Repository \u003e Default Branch**.\n   1. Add the help text as described above in this issue's description.\n\n3. [x] Update setting text as described above in:\n   1. **Admin \u003e Repository \u003e Default Branch**\n   1. **Groups \u003e Repository \u003e Default Branch**\n   - Note: Project-level settings already conform.\n\n4. [x] Update any existing links to the settings to point to their new locations.\n\n5. [x] Update any potentially failing specs.\n\n6. [x] Update documentation to reflect the changes:\n   1. https://docs.gitlab.com/ee/user/admin_area/settings/visibility_and_access_controls.html#protect-default-branches\n   2. https://docs.gitlab.com/ee/user/group/#change-the-default-branch-protection-of-a-group\n\n\u003c!--- ## Who is the buyer?\n\nUse the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n\nConsider adding related issues and epics to this issue. You can also reference the Feature Proposal Template (https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal%20-%20detailed.md) for additional details to consider adding to this issue. Additionally, as a data oriented organization, when your feature exits planning breakdown, consider adding the `What does success look like, and how can we measure that?` section.\n\nOther sections to consider adding: \n\n### Intended users\n\nWho will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n\n* [Cameron (Compliance Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#cameron-compliance-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager) \n* [Alex (Security Operations Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#alex-security-operations-engineer)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops) \n* [Priyanka (Platform Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#priyanka-platform-engineer)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n\n\n### User experience goal\n\nWhat is the single user experience workflow this problem addresses? \nFor example, \"The user should be able to use the UI/API/.gitlab-ci.yml with GitLab to \u003cperform a specific task\u003e\"\nhttps://about.gitlab.com/handbook/engineering/ux/ux-research-training/user-story-mapping/ \n\n\n### Further details\n\nInclude use cases, benefits, goals, or any other details that will help us understand the problem better. \n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?\nConsider adding checkboxes and expectations of users with certain levels of membership https://docs.gitlab.com/ee/user/permissions.html\n* [ ] Add expected impact to members with no access (0)\n* [ ] Add expected impact to Guest (10) members\n* [ ] Add expected impact to Reporter (20) members\n* [ ] Add expected impact to Developer (30) members \n* [ ] Add expected impact to Maintainer (40) members\n* [ ] Add expected impact to Owner (50) members \n\n### Documentation\n\n See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/workflow.html#for-a-product-change\n\n* Add all known Documentation Requirements in this section. See https://docs.gitlab.com/ee/development/documentation/workflow.html\n* If this feature requires changing permissions, update the permissions document. See https://docs.gitlab.com/ee/user/permissions.html \n\n### Availability \u0026 Testing\n\nThis section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning \n\n### What does success look like, and how can we measure that?\n\nDefine both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. \n\n### What is the type of buyer?\n\nWhat is the buyer persona for this feature? See https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/buyer-persona/\nIn which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#three-tiers\n\n### Is this a cross-stage feature?\n\nCommunicate if this change will affect multiple Stage Groups or product areas. We recommend always start with the assumption that a feature request will have an impact into another Group. Loop in the most relevant PM and Product Designer from that Group to provide strategic support to help align the Group's broader plan and vision, as well as to avoid UX and technical debt. https://about.gitlab.com/handbook/product/#cross-stage-features --\u003e\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2021-09-08T13:27:57.580Z","updated_at":"2022-03-08T21:02:57.568Z","closed_at":"2022-03-08T10:47:22.866Z","closed_by":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"labels":["Category:Navigation \u0026 Settings","GitLab Premium","Next Up","SUS::Impacting","Technical Writing","UI text","UX","devops::manage","direction","documentation","frontend","group::compliance","priority::1","section::dev","severity::4","type::feature","workflow::verification"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"}],"author":{"id":4376883,"username":"stkerr","name":"Sam Kerr","state":"active","avatar_url":"https://secure.gravatar.com/avatar/591c8b969464f7b4fb97b6f2f654f11a?s=80\u0026d=identicon","web_url":"https://gitlab.com/stkerr"},"type":"ISSUE","assignee":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"user_notes_count":19,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340403","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":14,"completed_count":7},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"7 of 14 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340403","notes":"https://gitlab.com/api/v4/projects/278964/issues/340403/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340403/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340403","relative":"#340403","full":"gitlab-org/gitlab#340403"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6671,"epic":{"id":342054,"iid":6671,"title":"Finer-grained control over default branch protections","url":"/groups/gitlab-org/-/epics/6671","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":93325667,"iid":340387,"project_id":278964,"title":"Optimize document parsing for Banzai ReferenceCache","description":"### Problem\n\nBanzai processing relies on a chain of filters. Each filter receives the output of the previous filter, then processes and returns the modified content.\n\nWe have multiple `ReferenceFilter`s that [include a `ReferenceCache`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/banzai/filter/references/abstract_reference_filter.rb#L14). It generates a cached collection of parent references by parsing the markdown document. The parsing process can be time and memory-consuming for large documents.\n\nThe biggest problem is that we repeatedly parse the document for each `ReferenceFilter`. That multiplies the overhead.\n\n### Proposal\n\n* Avoid unnecessary document parsing calls \n* Parse the document once and allow reference filters to access it","state":"closed","created_at":"2021-09-08T12:23:18.129Z","updated_at":"2021-12-10T09:03:07.272Z","closed_at":"2021-10-06T12:29:03.223Z","closed_by":{"id":421631,"username":"vyaklushin","name":"Vasilii Iakliushin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/421631/avatar.png","web_url":"https://gitlab.com/vyaklushin"},"labels":["Category:Source Code Management","Deliverable","Engineering Allocation","auto updated","backend","banzai","bug::performance","devops::create","group::source code","section::dev","spike","type::feature","workflow::verification"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":421631,"username":"vyaklushin","name":"Vasilii Iakliushin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/421631/avatar.png","web_url":"https://gitlab.com/vyaklushin"}],"author":{"id":421631,"username":"vyaklushin","name":"Vasilii Iakliushin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/421631/avatar.png","web_url":"https://gitlab.com/vyaklushin"},"type":"ISSUE","assignee":{"id":421631,"username":"vyaklushin","name":"Vasilii Iakliushin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/421631/avatar.png","web_url":"https://gitlab.com/vyaklushin"},"user_notes_count":9,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340387","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340387","notes":"https://gitlab.com/api/v4/projects/278964/issues/340387/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340387/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340387","relative":"#340387","full":"gitlab-org/gitlab#340387"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6298,"epic":{"id":302538,"iid":6298,"title":"Create:Source Code BE Error Budgets tracking","url":"/groups/gitlab-org/-/epics/6298","group_id":9970,"human_readable_end_date":"Mar 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":93312362,"iid":340381,"project_id":278964,"title":"Optimize the query for selecting a build in Resource Group","description":"## Problem\n\n[Resource group](https://docs.gitlab.com/ee/ci/yaml/#resource_group) is a feature to limit the concurrency of the jobs. Currently, when the system [picks a job for assigning a resource from resource group](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/services/ci/resource_groups/assign_resource_from_resource_group_service.rb#L12), it runs the following query, but they are slow, so that it could affect the reliability on GitLab CI/CD.\n\n**Rails:**\n\n`resource_group.processables.waiting_for_resource.take(free_resources)`\n\n**SQL:**\n\n```\nSELECT\n    \"ci_builds\".*\nFROM\n    \"ci_builds\"\nWHERE\n    \"ci_builds\".\"type\" IN ('Ci::Processable', 'Ci::Bridge', 'Ci::Build')\n    AND \"ci_builds\".\"resource_group_id\" = 110209\n    AND \"ci_builds\".\"status\" = 'waiting_for_resource'\nLIMIT 1;\n```\n\n**Plan:**\n\n```\n Limit  (cost=175.05..176.56 rows=1 width=1288) (actual time=699.922..699.926 rows=0 loops=1)\n   Buffers: shared hit=116 read=586\n   I/O Timings: read=682.295 write=0.000\n   -\u003e  Bitmap Heap Scan on public.ci_builds  (cost=175.05..176.56 rows=1 width=1288) (actual time=699.919..699.922 rows=0 loops=1)\n         Filter: ((ci_builds.type)::text = ANY ('{Ci::Processable,Ci::Bridge,Ci::Build}'::text[]))\n         Rows Removed by Filter: 0\n         Buffers: shared hit=116 read=586\n         I/O Timings: read=682.295 write=0.000\n         -\u003e  BitmapAnd  (cost=175.05..175.05 rows=1 width=0) (actual time=699.837..699.839 rows=0 loops=1)\n               Buffers: shared hit=116 read=586\n               I/O Timings: read=682.295 write=0.000\n               -\u003e  Bitmap Index Scan using index_ci_builds_on_status_and_type_and_runner_id  (cost=0.00..78.27 rows=4942 width=0) (actual time=691.724..691.724 rows=11938 loops=1)\n                     Index Cond: ((ci_builds.status)::text = 'waiting_for_resource'::text)\n                     Buffers: shared read=586\n                     I/O Timings: read=682.295 write=0.000\n               -\u003e  Bitmap Index Scan using index_for_resource_group  (cost=0.00..96.53 rows=6995 width=0) (actual time=7.277..7.277 rows=26342 loops=1)\n                     Index Cond: (ci_builds.resource_group_id = 110209)\n                     Buffers: shared hit=116\n                     I/O Timings: read=0.000 write=0.000\n```\n\n**Timing with cold cache:**\n\n```\nTime: 700.942 ms\n  - planning: 0.816 ms\n  - execution: 700.126 ms\n    - I/O read: 682.295 ms\n    - I/O write: 0.000 ms\n\nShared buffers:\n  - hits: 116 (~928.00 KiB) from the buffer pool\n  - reads: 586 (~4.60 MiB) from the OS file cache, including disk I/O\n  - dirtied: 0\n  - writes: 0\n```\n\n---\n\nWe're also adding [process modes](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/67015/diffs#1f9ab1077696c050e0e9b5afa54efad44d9b7341_0_72) in Resource Group. A different process mode executes a slightly different query, like the following:\n\n```\nSELECT\n    \"ci_builds\".*\nFROM\n    \"ci_builds\"\nWHERE\n    \"ci_builds\".\"type\" IN ('Ci::Processable', 'Ci::Bridge', 'Ci::Build')\n    AND \"ci_builds\".\"resource_group_id\" = 110209\n    AND (\n        \"ci_builds\".\"status\" IN ('created', 'scheduled', 'waiting_for_resource')\n    )\nORDER BY\n    commit_id ASC,\n    CASE status WHEN 'waiting_for_resource' THEN 0 ELSE 1 END ASC\nLIMIT\n    1;\n```\n\n**Plan**\n\n```\n Limit  (cost=10480.13..10480.13 rows=1 width=1292) (actual time=71893.793..71893.818 rows=0 loops=1)\n   Buffers: shared hit=124 read=26321 dirtied=4\n   I/O Timings: read=71462.472 write=0.000\n   -\u003e  Sort  (cost=10480.13..10480.43 rows=122 width=1292) (actual time=71893.782..71893.797 rows=0 loops=1)\n         Sort Key: ci_builds.commit_id, (CASE ci_builds.status WHEN 'waiting_for_resource'::text THEN 0 ELSE 1 END)\n         Sort Method: quicksort  Memory: 25kB\n         Buffers: shared hit=124 read=26321 dirtied=4\n         I/O Timings: read=71462.472 write=0.000\n         -\u003e  Index Scan using index_for_resource_group on public.ci_builds  (cost=0.56..10479.52 rows=122 width=1292) (actual time=71893.725..71893.726 rows=0 loops=1)\n               Index Cond: (ci_builds.resource_group_id = 110209)\n               Filter: (((ci_builds.type)::text = ANY ('{Ci::Processable,Ci::Bridge,Ci::Build}'::text[])) AND ((ci_builds.status)::text = ANY ('{created,scheduled,waiting_for_resource}'::text[])))\n               Rows Removed by Filter: 26342\n               Buffers: shared hit=121 read=26321 dirtied=4\n               I/O Timings: read=71462.472 write=0.000\n```\n\n**Timing with cold cache:**\n\n```\nTime: 1.199 min\n  - planning: 35.168 ms\n  - execution: 1.198 min\n    - I/O read: 1.191 min\n    - I/O write: 0.000 ms\n\nShared buffers:\n  - hits: 124 (~992.00 KiB) from the buffer pool\n  - reads: 26321 (~205.60 MiB) from the OS file cache, including disk I/O\n  - dirtied: 4 (~32.00 KiB)\n  - writes: 0\n```\n\nWe should optimize these queries to make the feature functional.\n\n## Proposal\n\n- Add an index `exec index_for_resource_group_new ON ci_builds USING btree (resource_group_id, status, commit_id) WHERE (resource_group_id IS NOT NULL);`\n  - Given that we're adding an index to `ci_builds`, which takes a long time, we need to use an async operation with `prepare_async_index`.\n- Remove the previous inefficient index `index_for_resource_group ON ci_builds USING btree (resource_group_id, id) WHERE (resource_group_id IS NOT NULL);`\n\nWe have already confirmed that the new index improves the existing/new queries as the following:\n\n**The existing query**\n\n```\nSELECT\n\"ci_builds\".*\nFROM\n\"ci_builds\"\nWHERE\n\"ci_builds\".\"resource_group_id\" = 110209 AND \"ci_builds\".\"status\" = 'waiting_for_resource'\nLIMIT 1;\n```\n\n```\n Limit  (cost=0.56..3.58 rows=1 width=1288) (actual time=7.203..7.205 rows=0 loops=1)\n   Buffers: shared hit=3 read=4\n   I/O Timings: read=7.056 write=0.000\n   -\u003e  Index Scan using index_for_resource_group_new on public.ci_builds  (cost=0.56..3.58 rows=1 width=1288) (actual time=7.201..7.202 rows=0 loops=1)\n         Index Cond: ((ci_builds.resource_group_id = 110209) AND ((ci_builds.status)::text = 'waiting_for_resource'::text))\n         Buffers: shared hit=3 read=4\n         I/O Timings: read=7.056 write=0.000\n```\n\n**When `process_mode` is `oldest_first`**\n\n```\nSELECT\n\"ci_builds\".*\nFROM\n\"ci_builds\"\nWHERE\n\"ci_builds\".\"resource_group_id\" = 110209 AND (\"ci_builds\".\"status\" IN ('created', 'scheduled', 'waiting_for_resource'))\nORDER BY\ncommit_id ASC,\nCASE status WHEN 'waiting_for_resource' THEN 0 ELSE 1 END ASC\nLIMIT 1;\n```\n\n```\n Limit  (cost=194.42..194.42 rows=1 width=1292) (actual time=2.572..2.574 rows=0 loops=1)\n   Buffers: shared hit=18 read=3\n   I/O Timings: read=2.292 write=0.000\n   -\u003e  Sort  (cost=194.42..194.73 rows=126 width=1292) (actual time=2.569..2.571 rows=0 loops=1)\n         Sort Key: ci_builds.commit_id, (CASE ci_builds.status WHEN 'waiting_for_resource'::text THEN 0 ELSE 1 END)\n         Sort Method: quicksort  Memory: 25kB\n         Buffers: shared hit=18 read=3\n         I/O Timings: read=2.292 write=0.000\n         -\u003e  Index Scan using index_for_resource_group_new on public.ci_builds  (cost=0.56..193.79 rows=126 width=1292) (actual time=2.547..2.548 rows=0 loops=1)\n               Index Cond: ((ci_builds.resource_group_id = 110209) AND ((ci_builds.status)::text = ANY ('{created,scheduled,waiting_for_resource}'::text[])))\n               Buffers: shared hit=15 read=3\n               I/O Timings: read=2.292 write=0.000\n```","state":"closed","created_at":"2021-09-08T09:04:51.180Z","updated_at":"2021-11-08T21:47:26.293Z","closed_at":"2021-09-27T08:37:47.162Z","closed_by":{"id":9253328,"username":"bala.kumar","name":"Bala Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9253328/avatar.png","web_url":"https://gitlab.com/bala.kumar"},"labels":["Category:Continuous Delivery","Deliverable","GitLab Core","Release::P2","customer","database","devops::release","feature-change-lock","group::release","section::ops","type::maintenance","workflow::production"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":9253328,"username":"bala.kumar","name":"Bala Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9253328/avatar.png","web_url":"https://gitlab.com/bala.kumar"}],"author":{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"},"type":"ISSUE","assignee":{"id":9253328,"username":"bala.kumar","name":"Bala Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9253328/avatar.png","web_url":"https://gitlab.com/bala.kumar"},"user_notes_count":17,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340381","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340381","notes":"https://gitlab.com/api/v4/projects/278964/issues/340381/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340381/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340381","relative":"#340381","full":"gitlab-org/gitlab#340381"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":93298353,"iid":340362,"project_id":278964,"title":"Add support for multiple resource values for Cluster Image Scanning analyzer and policy","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\nIn Cluster Image Scanning analyzer we are currently supporting filtering vulnerability reports and fetching reports only for these resources that are matching provided namespace, container name, resource name and resource kinds. All these filters are supporting only single value. As mentioned in https://gitlab.com/gitlab-org/gitlab/-/issues/330714#note_625043026 we need to support multiple values to follow the UX designs and policy YAML schema.\n\n## Relevant links\n\n- [Epic](https://gitlab.com/groups/gitlab-org/-/epics/3410)\n- [Related MR](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/69253/diffs)\n- [Policy Mocks](https://gitlab.com/gitlab-org/protect/demos/policy-mock)\n\n\u003c!--\nInformation that the developer might need to refer to when implementing the issue.\n\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e)\n  - [Design 1](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n  - [Design 2](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n- [Similar implementation](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/\u003cid\u003e)\n--\u003e\n\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [x] Documentation: document changes in https://docs.gitlab.com/ee/user/application_security/cluster_image_scanning/index.html#cicd-variables-for-cluster-image-scanning\n- [-] Feature flag:\n- [-] Performance:\n- [ ] Testing: \n\n\n## Implementation plan\n\n- [x] ~backend Update [`ClusterImageScanningCiVariablesService`](https://gitlab.com/gitlab-org/gitlab/-/blob/06bcba667c178e6f8d8e34caf39b4f731e6e78bf/ee/app/services/security/security_orchestration_policies/cluster_image_scanning_ci_variables_service.rb#L48) to return a comma-separated string of filter values, instead of the first filter value.\n- [x] ~backend In [analyze.go](https://gitlab.com/gitlab-org/security-products/analyzers/cluster-image-scanning/-/blob/7479869fb9c13f195e8b304fc27bf2e5fba53474/analyze.go#L32), change `CIS_CONTAINER_NAME`, `CIS_RESOURCE_NAME`, `CIS_RESOURCE_NAMESPACE`, and `CIS_RESOURCE_KIND` so that their names are plural and their type is `cli.StringSliceFlag`.\n- [x] ~documentation Update [CI/CD variables for Cluster Image Scanning](https://docs.gitlab.com/ee/user/application_security/cluster_image_scanning/index.html#cicd-variables-for-cluster-image-scanning) with the new variable names and explain how they are comma-separated lists.\n- [x] ~backend Change [`starboard.Filter`](https://gitlab.com/gitlab-org/security-products/analyzers/cluster-image-scanning/-/blob/7479869fb9c13f195e8b304fc27bf2e5fba53474/starboard/client.go#L18) so that it implements [`labels.Selector`](https://pkg.go.dev/k8s.io/apimachinery/pkg/labels#Selector). `filter.Matches(labels)` should return true if the filters are empty _or_ if the given label equals one of the filter values.\n  - [x] *Bonus points*: Move `starboard.Filter` into its own file, `filter.go`\n- [x] ~backend Add tests for `filter.Matches()` to ensure that it behaves as expected (Empty filters should match everything)\n- [x] ~backend Pass `starboard.Filter` to the list operation as a [`MatchingLabelsSelector`](https://pkg.go.dev/sigs.k8s.io/controller-runtime/pkg/client#MatchingLabelsSelector)\n\n    e.g.\n\n    ```go\n\tmatchingLabelsSelector := \u0026client.MatchingLabelsSelector{\n\t  \tSelector: filter,\n\t}\n\n\tvar list v1alpha1.VulnerabilityReportList\n\terr := c.Kube.List(ctx, \u0026list, matchingLabelsSelector, v1.NamespaceAll)\n\tif err != nil {\n\t\treturn nil, err\n\t}\n    ```\n\n\u003c!--\nWorkflow and other relevant labels\n\n# ~\"group::\" ~\"Category:\" ~\"GitLab Ultimate\"\nOther settings you might want to include when creating the issue.\n\n# /assign @\n# /epic \u0026\n--\u003e\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2021-09-08T05:19:58.544Z","updated_at":"2022-01-18T07:03:25.510Z","closed_at":"2022-01-13T08:18:59.901Z","closed_by":{"id":9878214,"username":"bauerdominic","name":"Dominic Bauer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9878214/avatar.png","web_url":"https://gitlab.com/bauerdominic"},"labels":["Category:Container Scanning","Deliverable","GitLab Ultimate","backend","database","devops::govern","direction","feature::enhancement","group::security policies","missed-deliverable","missed:14.6","section::sec","type::feature","workflow::in dev"],"milestone":{"id":2156369,"iid":68,"group_id":9970,"title":"14.7","description":"","state":"active","created_at":"2021-07-21T17:39:41.786Z","updated_at":"2021-07-21T17:39:41.786Z","due_date":"2022-01-17","start_date":"2021-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/68"},"assignees":[{"id":9878214,"username":"bauerdominic","name":"Dominic Bauer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9878214/avatar.png","web_url":"https://gitlab.com/bauerdominic"}],"author":{"id":5535431,"username":"mparuszewski","name":"Alan (Maciej) Paruszewski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535431/avatar.png","web_url":"https://gitlab.com/mparuszewski"},"type":"ISSUE","assignee":{"id":9878214,"username":"bauerdominic","name":"Dominic Bauer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9878214/avatar.png","web_url":"https://gitlab.com/bauerdominic"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340362","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":9,"completed_count":8},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"8 of 9 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340362","notes":"https://gitlab.com/api/v4/projects/278964/issues/340362/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340362/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340362","relative":"#340362","full":"gitlab-org/gitlab#340362"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3410,"epic":{"id":59230,"iid":3410,"title":"Cluster Image Scanning (Vulnerability Scans against Running Containers)","url":"/groups/gitlab-org/-/epics/3410","group_id":9970,"human_readable_end_date":"Dec 13, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":93297316,"iid":340361,"project_id":278964,"title":"Remove v-html from app/assets/javascripts/create_cluster/eks_cluster/components/service_credentials_form.vue","description":"As part of the effort to remove `v-html` from the codebase, we need to replace it with a safer alternative.\n\nSee [parent epic](https://gitlab.com/groups/gitlab-org/-/epics/4273#how-to-fix) for more details and examples.\n\n## Implementation Plan\n\n* [ ] Replace `v-html` with `v-safe-html` by using [GlSafeHTMLDirective](https://gitlab-org.gitlab.io/gitlab-ui/?path=/story/directives-safe-html-directive--default)\n* [ ] Is the value being passed to `v-html` sanitized before in frontend?\n  * [ ] Remove that part, and\n  * [ ] Replace every other `v-html` that uses that value with `v-safe-html`\n* [ ] Remove the comment `/* eslint-disable vue/no-v-html */`\n* [ ] Follow standard [code review process](https://docs.gitlab.com/ee/development/code_review.html)","state":"closed","created_at":"2021-09-08T04:36:38.184Z","updated_at":"2021-09-09T08:45:26.593Z","closed_at":"2021-09-09T08:45:26.575Z","closed_by":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"labels":["[deprecated] 🍎","frontend","good for new contributors","group::analyzer frontend","maintenance::refactor","security","type::feature"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"}],"author":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"type":"ISSUE","assignee":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340361","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340361","notes":"https://gitlab.com/api/v4/projects/278964/issues/340361/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340361/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340361","relative":"#340361","full":"gitlab-org/gitlab#340361"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4273,"epic":{"id":100261,"iid":4273,"title":"Replace v-html with v-safe-html","url":"/groups/gitlab-org/-/epics/4273","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":93293911,"iid":340352,"project_id":278964,"title":"Persist SAST Configuration feedback alert on dismissal","description":"## Context\n\nThis is a follow-up issue from https://gitlab.com/gitlab-org/gitlab/-/merge_requests/69747#note_671316223\n\n\u003cdetails\u003e\u003csummary\u003eSee discussion\u003c/summary\u003e\n\n\u003e @pgascouvaillancourt: seeing this makes me realize that the UX for dismissing the feedback alert isn't great as it will always come back when you visit the page again. We should probably persist the dismissal in the local storage or in the DB :thinking: On the other hand, those feedback alerts aren't meant to stay in the codebase for years either, so it's probably okay to keep them as simple as possible. Perhaps we should make them non-dismissible then :shrug:\n\n\u003e @mfangman: If I understand it correctly, the dismissal of an alert should be permanent unless an action or system event reproduces it. I've called out the relevant points below for your reference. [Here's a link](https://design.gitlab.com/components/alert) to the full page for context as well. With that in mind, I'd propose that we could either 1) remove the dismissal action altogether (if we deemed that the alert is important enough to warrant it), or 2) update the component's behavior to follow Pajama's guidelines.\n\n\u003e @beckalippert:  Good point! I want to follow Pajamas' guidelines, and also lean towards your option 2 to make it dismissed at the level of local storage or in the DB. After all, we are GitLab where everyone can contribute, so users can always open up an issue if they have feedback. I'd encourage follow-up user research, anyway, if this page has any significant changes in the future (although I don't believe much is on the roadmap in that regard, aside from potentially adding [custom rules](https://gitlab.com/gitlab-org/gitlab/-/issues/330792) - but even this wouldn't happen until after the SaaS Reliability Initiative is complete).\n\n\u003c/details\u003e\n\n\n## Proposal\n\nPersist alert dismissal at the level of local storage or DB.\n\n## Screenshot \n\n![image](/uploads/604ccd4ab334c45bdc94d6256e10bb5f/image.png)\n\n## Implementation Plan\n\n- [ ] Add `LocalStorageSync` to `ee/app/assets/javascripts/security_configuration/components/configuration_page_layout.vue`\n- [ ] Update specs","state":"closed","created_at":"2021-09-08T02:19:56.709Z","updated_at":"2022-08-29T07:58:14.564Z","closed_at":"2021-09-21T02:07:58.227Z","closed_by":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"labels":["devops::secure","feature::enhancement","frontend","group::static analysis","section::sec","type::feature","workflow::production"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"}],"author":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"type":"ISSUE","assignee":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"user_notes_count":3,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340352","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340352","notes":"https://gitlab.com/api/v4/projects/278964/issues/340352/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340352/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340352","relative":"#340352","full":"gitlab-org/gitlab#340352"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":93288784,"iid":340346,"project_id":278964,"title":"GitLab generated Bots should be excluded from automatic deactivation","description":"## Summary\n\nIn https://gitlab.com/groups/gitlab-org/-/epics/5519 we implemented a feature to allow [automatic deactivation of dormant users](https://docs.gitlab.com/ee/user/admin_area/moderate_users.html#automatically-deactivate-dormant-users). \n\nGitLab generated bots should be excluded from this process since there are valid use cases where bots \"go dormant\" and should not be disabled.\n\n## Proposal\n\nExclude GitLab generated bots from the Deactivation job.\n\n\n---\n## Preserving Original Issue Content \n\n  - **Q**: Should the [Automatically deactivate dormant users](https://docs.gitlab.com/ee/user/admin_area/moderate_users.html#automatically-deactivate-dormant-users) setting be impacting [project bot users](https://docs.gitlab.com/ee/user/project/settings/project_access_tokens.html#project-bot-users)?\n\n\nIn the [referenced Slack thread](https://gitlab.slack.com/archives/CLM1D8QR0/p1631042105162700), we established that **Automatically deactivate dormant users** is currently impacting [project bot users](https://docs.gitlab.com/ee/user/project/settings/project_access_tokens.html#project-bot-users). This appears to be by design -- should this behavior be changed?\n\n\n## :clipboard: \n\n  - [ ] Determine whether behavior should be changed. \n  - [ ] Update docs to clarify the current state if there are no changes _or_ to describe the new state if there are changes\n\n\n\n## :notebook:  Details\n\nIn the [Automate deactivation of dormant users](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/57778) MR, we [ask and answer **\"What is a dormant user?\"**](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/57778#what-is-a-dormant-user) with `can_be_deactivated?`. See [these lines](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/models/user.rb#L1909-1911):\n\n\u003e ```\n\u003e   def can_be_deactivated?\n\u003e    active? \u0026\u0026 no_recent_activity? \u0026\u0026 !internal?\n\u003e  end\n\u003e ```\nAs I interpret this, internal users will not pass `can_be_deactivated?`. We [previously established](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/54714) that project bot users are _not_ excluded with `exclude_internal`. In other words, we have previously established that **Project bot users** are not considered to be internal. I can confirm that in my instance:\n\n```\nirb(main):011:0\u003e User.find_by_id(13).internal?\n=\u003e false\nirb(main):012:0\u003e User.find_by_id(4).internal?\n=\u003e true\n```\n\n  - ID 13 -- a project bot user\n  - ID 4  -- `alert-bot`\n\n\nIt looks like intervention from an **Admin** is required to restore the **Project bot users** even though they are deactivated as [project access tokens are for using with the GitLab API or authenticating with Git using HTTP basic authentication](https://docs.gitlab.com/ee/user/project/settings/project_access_tokens.html) but _not_ for logging into the GitLab UI, which would set the account to active:\n\nThe docs on [deactivating a user](https://docs.gitlab.com/ee/user/admin_area/moderate_users.html#deactivate-a-user) indicate:\n\n\u003e Once a deactivated user logs back into the GitLab UI, their account is set to active.\n\nI do not believe that this is an option for **Project bot users**. \n\n\nSee the related issue around the logical categorization of Bots: gitlab-org/gitlab#213945\n\n\n## :ticket: Related Ticket\n\nThis issue is opened on behalf of a customer who asserts that they experienced an impact on delivery within their environment due to the project bot users associated with project access tokens being deactivated due to the [Automatically deactivate dormant users](https://docs.gitlab.com/ee/user/admin_area/moderate_users.html#automatically-deactivate-dormant-users) setting. GitLab team members with access to ZenDesk can learn more [in the ticket](https://gitlab.zendesk.com/agent/tickets/234084). :ticket: \n\n---\nThis issue follows up on [a Slack thread in #g_manage_access](https://gitlab.slack.com/archives/CLM1D8QR0/p1631042105162700), accessible for the next ~90 days to GitLab team members with access to Slack.","state":"closed","created_at":"2021-09-07T22:15:32.352Z","updated_at":"2022-05-13T08:40:07.501Z","closed_at":"2021-11-01T20:22:17.890Z","closed_by":{"id":3716529,"username":"jagood","name":"Jason Goodman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6696c95a1788e2d4bee67df636805ecc?s=80\u0026d=identicon","web_url":"https://gitlab.com/jagood"},"labels":["Deliverable","[deprecated] Category:Utilization","auto updated","backend","customer","devops::fulfillment","group::utilization","section::fulfillment","type::feature","workflow::production"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":3716529,"username":"jagood","name":"Jason Goodman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6696c95a1788e2d4bee67df636805ecc?s=80\u0026d=identicon","web_url":"https://gitlab.com/jagood"}],"author":{"id":6049551,"username":"bcarranza","name":"Brie Carranza","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6049551/avatar.png","web_url":"https://gitlab.com/bcarranza"},"type":"ISSUE","assignee":{"id":3716529,"username":"jagood","name":"Jason Goodman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6696c95a1788e2d4bee67df636805ecc?s=80\u0026d=identicon","web_url":"https://gitlab.com/jagood"},"user_notes_count":24,"merge_requests_count":0,"upvotes":6,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340346","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340346","notes":"https://gitlab.com/api/v4/projects/278964/issues/340346/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340346/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340346","relative":"#340346","full":"gitlab-org/gitlab#340346"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":93288267,"iid":340345,"project_id":278964,"title":"DAST configuration - update unvalidated site profile alert banner","description":"\u003c!-- This template is a great use for issues that are feature::additions or technical tasks for larger issues.--\u003e\n### Problem\nWhen configuring a DAST scan, the alert banner that is displayed when trying to run an `active` scan against an `unvalidated` site profile does not link to the most relevant section of our documentation. Additionally, the alert could do a better job guiding users down the correct path instead of only linking out to documentation.\n\nThis issue has been deemed a blocker for [DAST CMS for verifying \"Viable\" status ](https://gitlab.com/gitlab-org/gitlab-design/-/issues/1560)\n\n### Proposal \n1. The `learn more about site validation` text on the alert banner should be updated to use the most relevant documentation URL: https://docs.gitlab.com/ee/user/application_security/dast/index.html#site-profile-validation\n1. Users should be given an entry point into the site validation workflow by add an [action button](https://design.gitlab.com/components/alert#structure) to the alert linking them to the DAST site profile management screen (`-/security/configuration/dast_scans#site-profiles`).\n1. Update the alert's description text to the following (changes are in _italic_): \n\u003e You can either choose a passive scan or validate the target site _from the site profile management page_. Learn more about site validation\n\n\u003c!-- Use this section to explain the feature and how it will work. It can be helpful to add technical details, design proposals, and links to related epics or issues. --\u003e\n\n\u003c!-- Consider adding related issues and epics to this issue. You can also reference the Feature Proposal Template (https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal%20-%20detailed.md) for additional details to consider adding to this issue. Additionally, as a data oriented organization, when your feature exits planning breakdown, consider adding the `What does success look like, and how can we measure that?` section.\n--\u003e","state":"closed","created_at":"2021-09-07T21:51:23.907Z","updated_at":"2021-09-09T23:12:59.308Z","closed_at":"2021-09-09T13:35:42.786Z","closed_by":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"labels":["Category:DAST","GitLab Core","GitLab Premium","GitLab Ultimate","Technical Writing","UI text","devops::secure","feature::enhancement","frontend","group::dynamic analysis","on-demand scan","section::sec","tw-weight::3","tw::finished","type::feature","workflow::verification"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"}],"author":{"id":8655314,"username":"mfangman","name":"Michael Fangman","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8655314/avatar.png","web_url":"https://gitlab.com/mfangman"},"type":"ISSUE","assignee":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340345","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340345","notes":"https://gitlab.com/api/v4/projects/278964/issues/340345/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340345/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340345","relative":"#340345","full":"gitlab-org/gitlab#340345"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":93287393,"iid":340342,"project_id":278964,"title":"Create empty state for operational vulnerabilities","description":"## Why are we doing this work\n- when a user navigates to the `Operational Vulnerabilities` tab and a user has not set up a cluster image policy, they are given a link to how to create a policy\n\n## Relevant links\n\n![empty state](https://gitlab.com/groups/gitlab-org/-/uploads/58be95692853d688cf82c5b2b897170b/environment-vulns-empty-state.png)\n\n## Non-functional requirements\n- [x] Documentation:\n- [x] Feature flag:\n- [x] Performance:\n- [x] Testing:\n\n\n## Implementation plan\n- [x] ~frontend create an empty state\n- [x] ~frontend when `Create policy` is clicked\n    - [ ] if cluster image scanning is not supported, a user is directed to... [TBD]\n    - [x] if cluster image scanning is supported, a user is directed to the `New policy` page (`-/security/policies/new`)\n- [x] ~frontend when `Learn more` is clicked, a user is directed to the [cluster image scanning docs](https://docs.gitlab.com/ee/user/application_security/cluster_image_scanning/#cluster-image-scanning)\n- [x] ~backend pass up the svg path for the svg, the policy page path for the `Create policy` button, and the docs path for the `Learn more` button, but I think this is probably doable by someone from the frontend modifying the following files (or their associated helpers) to have that data.\n  * https://gitlab.com/gitlab-org/gitlab/blob/master/ee/app/views/projects/security/vulnerability_report/index.html.haml\n  * https://gitlab.com/gitlab-org/gitlab/blob/master/ee/app/views/groups/security/vulnerabilities/index.html.haml\n  * https://gitlab.com/gitlab-org/gitlab/blob/master/ee/app/views/security/vulnerabilities/index.html.haml","state":"closed","created_at":"2021-09-07T21:14:33.165Z","updated_at":"2021-11-02T21:23:30.577Z","closed_at":"2021-10-21T22:01:00.256Z","closed_by":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"labels":["Technical Writing","UI text","auto updated","devops::govern","feature::addition","frontend","frontend-weight::3","group::security policies","section::sec","type::feature","workflow::verification"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"}],"author":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"type":"ISSUE","assignee":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"user_notes_count":23,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/340342","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":10,"completed_count":9},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"9 of 10 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/340342","notes":"https://gitlab.com/api/v4/projects/278964/issues/340342/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/340342/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#340342","relative":"#340342","full":"gitlab-org/gitlab#340342"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6345,"epic":{"id":307314,"iid":6345,"title":"Cluster Image Scanning: Vulnerability Report Tab","url":"/groups/gitlab-org/-/epics/6345","group_id":9970,"human_readable_end_date":"Jan 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null}]